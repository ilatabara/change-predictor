id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fkolla~stable%2Ftrain~Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920,openstack/kolla,stable/train,Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920,CI: publish AArch64 Debian/source images,MERGED,2020-03-19 11:22:54.000000000,2020-03-19 21:41:32.000000000,2020-03-19 21:38:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-19 11:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3262b02d1e2d9c89752ec0e5e1e26260fb896534', 'message': 'CI: publish AArch64 Debian/source images\n\nWe want to test upgrades on aarch64. For this we need to publish images.\n\nAArch64 images with get ""-aarch64"" added to tag to not collide with\nx86-64 ones.\n\n(manually adapted from master change)\n\nChange-Id: Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920\n'}, {'number': 2, 'created': '2020-03-19 16:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8cb4579f46a1ee4c3ff3b587787c70992879a922', 'message': 'CI: publish AArch64 Debian/source images\n\nWe want to test upgrades on aarch64. For this we need to publish images.\n\nAArch64 images with get ""-aarch64"" added to tag to not collide with\nx86-64 ones.\n\n(manually adapted from master change)\n\nChange-Id: Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920\n'}, {'number': 3, 'created': '2020-03-19 18:07:08.000000000', 'files': ['.zuul.d/debian.yaml', 'tests/templates/kolla-build.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d43c8b78ac9e1165445e4748c4f5b9e757e5dd8d', 'message': 'CI: publish AArch64 Debian/source images\n\nWe want to test upgrades on aarch64. For this we need to publish images.\n\nAArch64 images with get ""-aarch64"" added to tag to not collide with\nx86-64 ones.\n\n(manually adapted from master change)\n\nChange-Id: Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920\n'}]",3,713851,d43c8b78ac9e1165445e4748c4f5b9e757e5dd8d,17,3,3,24072,,,0,"CI: publish AArch64 Debian/source images

We want to test upgrades on aarch64. For this we need to publish images.

AArch64 images with get ""-aarch64"" added to tag to not collide with
x86-64 ones.

(manually adapted from master change)

Change-Id: Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920
",git fetch https://review.opendev.org/openstack/kolla refs/changes/51/713851/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', 'tests/templates/kolla-build.conf.j2']",2,3262b02d1e2d9c89752ec0e5e1e26260fb896534,,{# NOTE(hrw): we do not publish centos images for aarch64 so can just override #} {% set tag_suffix = '-aarch64' if ansible_architecture == 'aarch64' else '' %},,9,0
openstack%2Freleases~master~I597132f63465e888a22889e4d7663a33f29d21aa,openstack/releases,master,I597132f63465e888a22889e4d7663a33f29d21aa,[glance] Transition Rocky to EM,MERGED,2020-02-26 01:00:07.000000000,2020-03-19 21:39:26.000000000,2020-03-19 21:39:26.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 01:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/14024a50470e8f5d9b02cccb645b777afd32d5b4', 'message': '[glance] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I597132f63465e888a22889e4d7663a33f29d21aa\n'}, {'number': 2, 'created': '2020-02-26 17:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7e0bdc2702b1525890471f13a0b125c98487d39f', 'message': '[glance] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I597132f63465e888a22889e4d7663a33f29d21aa\n'}, {'number': 3, 'created': '2020-03-19 15:22:21.000000000', 'files': ['deliverables/rocky/python-glanceclient.yaml', 'deliverables/rocky/glance-store.yaml', 'deliverables/rocky/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d433a8df8525f3a871104ed676dda98cabd8e182', 'message': '[glance] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I597132f63465e888a22889e4d7663a33f29d21aa\n'}]",3,709888,d433a8df8525f3a871104ed676dda98cabd8e182,28,8,3,11904,,,0,"[glance] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I597132f63465e888a22889e4d7663a33f29d21aa
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/709888/3 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/glance-store.yaml', 'deliverables/rocky/glance.yaml']",2,14024a50470e8f5d9b02cccb645b777afd32d5b4,rocky-em, - version: rocky-em projects: - repo: openstack/glance hash: 488d2e4fccc399234fd62c127c8ece262111fe93,,8,0
openstack%2Freleases~master~Ib63f2b63a8e8f269fe18efe8e0d20771eec75c47,openstack/releases,master,Ib63f2b63a8e8f269fe18efe8e0d20771eec75c47,Create stable/rocky branch for tripleo-ipsec,MERGED,2020-03-19 17:24:56.000000000,2020-03-19 21:39:24.000000000,2020-03-19 21:39:24.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 17:24:56.000000000', 'files': ['deliverables/rocky/tripleo-ipsec.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/aeef556e069912d0dd939ac943fde697473d8342', 'message': 'Create stable/rocky branch for tripleo-ipsec\n\nChange-Id: Ib63f2b63a8e8f269fe18efe8e0d20771eec75c47\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713941,aeef556e069912d0dd939ac943fde697473d8342,6,2,1,11904,,,0,"Create stable/rocky branch for tripleo-ipsec

Change-Id: Ib63f2b63a8e8f269fe18efe8e0d20771eec75c47
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/713941/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/tripleo-ipsec.yaml'],1,aeef556e069912d0dd939ac943fde697473d8342,rocky-em,branches: - location: 9.0.0 name: stable/rocky,,3,0
openstack%2Freleases~master~I947922e88aab0b050fd5ef3368caf239fe9b7808,openstack/releases,master,I947922e88aab0b050fd5ef3368caf239fe9b7808,Release tripleo-common 12.2.0,MERGED,2020-03-19 14:27:56.000000000,2020-03-19 21:39:23.000000000,2020-03-19 21:39:23.000000000,"[{'_account_id': 3153}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 14:27:56.000000000', 'files': ['deliverables/ussuri/tripleo-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/48deebb07cfea5d2e02cdcc9a224bd79eca14f63', 'message': 'Release tripleo-common 12.2.0\n\nRequired for some new tripleo-ansible ansible modules.\n\nChange-Id: I947922e88aab0b050fd5ef3368caf239fe9b7808\n'}]",0,713891,48deebb07cfea5d2e02cdcc9a224bd79eca14f63,9,4,1,8833,,,0,"Release tripleo-common 12.2.0

Required for some new tripleo-ansible ansible modules.

Change-Id: I947922e88aab0b050fd5ef3368caf239fe9b7808
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/713891/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/tripleo-common.yaml'],1,48deebb07cfea5d2e02cdcc9a224bd79eca14f63,, - version: 12.2.0 projects: - repo: openstack/tripleo-common hash: 6f4cdeed3e43024f4fa9e53e5949c60080559658,,4,0
openstack%2Fproject-config~master~I65cda57cb3a6e2dea33cb1c937310e007514bf8e,openstack/project-config,master,I65cda57cb3a6e2dea33cb1c937310e007514bf8e,upload-logs: generate a script to download logs,ABANDONED,2018-07-11 04:36:13.000000000,2020-03-19 21:27:53.000000000,,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-11 04:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/282b396221ba384bd4ecb7bddf2aba15d0d62115', 'message': 'upload-logs: generate a script to download logs\n\nThis is a port of\n\n https://review.openstack.org/581204\n\nto the test-upload-logs role.  The intention is that this would be\ncommitted first to test the generation of this file in base-test.\nAny code comments would be better in the other review.\n\nChange-Id: I65cda57cb3a6e2dea33cb1c937310e007514bf8e\nNeeded-By: https://review.openstack.org/581204\n'}, {'number': 2, 'created': '2018-07-16 23:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f9b85e3cb19f6eebade5d5c71c07a4e89fdcc936', 'message': 'upload-logs: generate a script to download logs\n\nThis is a port of\n\n https://review.openstack.org/581204\n\nto the test-upload-logs role.  The intention is that this would be\ncommitted first to test the generation of this file in base-test.\nAny code comments would be better in the other review.\n\nChange-Id: I65cda57cb3a6e2dea33cb1c937310e007514bf8e\nNeeded-By: https://review.openstack.org/581204\n'}, {'number': 3, 'created': '2018-07-16 23:55:00.000000000', 'files': ['roles/test-upload-logs/README.rst', 'roles/test-upload-logs/templates/download-logs.sh.j2', 'roles/test-upload-logs/vars/main.yaml', 'roles/test-upload-logs/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9b0b9fc676dff10c8a4ab390594f64bd90d9af6c', 'message': 'upload-logs: generate a script to download logs\n\nThis is a port of\n\n https://review.openstack.org/581204\n\nto the test-upload-logs role.  The intention is that this would be\ncommitted first to test the generation of this file in base-test.\nAny code comments would be better in the other review.\n\nChange-Id: I65cda57cb3a6e2dea33cb1c937310e007514bf8e\nNeeded-By: https://review.openstack.org/581204\n'}]",0,581565,9b0b9fc676dff10c8a4ab390594f64bd90d9af6c,12,4,3,7118,,,0,"upload-logs: generate a script to download logs

This is a port of

 https://review.openstack.org/581204

to the test-upload-logs role.  The intention is that this would be
committed first to test the generation of this file in base-test.
Any code comments would be better in the other review.

Change-Id: I65cda57cb3a6e2dea33cb1c937310e007514bf8e
Needed-By: https://review.openstack.org/581204
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/581565/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/test-upload-logs/README.rst', 'roles/test-upload-logs/templates/download-logs.sh.j2', 'roles/test-upload-logs/vars/main.yaml', 'roles/test-upload-logs/tasks/main.yaml']",4,282b396221ba384bd4ecb7bddf2aba15d0d62115,bulk-log-download," - when: zuul_log_download_script block: - name: Get files for download list find: paths: '{{ zuul.executor.log_root }}' file_type: file recurse: yes register: found_files_for_download # Generate a plain list of files with the log_root prefix removed - name: Remove prefix for download files set_fact: files_for_download: ""{{ found_files_for_download.files|map(attribute='path')|list|replace(zuul.executor.log_root+'/','') }}"" - name: Generate download file template: src: templates/download-logs.sh.j2 dest: ""{{ zuul.executor.log_root }}/download-logs.sh"" mode: ""u=rwX,g=rX,o=rX"" #- name: Return log URL to Zuul # delegate_to: localhost # zuul_return: # data: # zuul: # log_url: ""{{ zuul_log_url }}/{{ zuul_log_path }}/"" # when: zuul_log_url is defined # tags: # # Avoid ""no action detected in task"" linter error # - skip_ansible_lint","- name: Return log URL to Zuul delegate_to: localhost zuul_return: data: zuul: log_url: ""{{ zuul_log_url }}/{{ zuul_log_path }}/"" when: zuul_log_url is defined",96,7
openstack%2Fnova~master~I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b,openstack/nova,master,I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b,Switching new default roles in os-volumes-attachments policies,MERGED,2020-02-27 06:52:22.000000000,2020-03-19 21:22:04.000000000,2020-03-19 21:17:07.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-27 06:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63ef69a09c9d0b4b961bde229efdce113e9c1b67', 'message': 'Add new default roles in os-volumes-attachments policies\n\nThis adds new defaults roles in os-volumes-attachments API policies.\nThis policy is default to admin_or_owner and system admin role.\nPolicy rules are made more granular to adopt the new defaults.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b\n'}, {'number': 2, 'created': '2020-03-03 00:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb677af5c10661a62ad5361c28644a99bdb89fde', 'message': 'Add new default roles in os-volumes-attachments policies\n\nThis adds new defaults roles in os-volumes-attachments API policies.\nThis policy is default to admin_or_owner and system admin role.\nPolicy rules are made more granular to adopt the new defaults.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b\n'}, {'number': 3, 'created': '2020-03-03 00:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8aa5ca53ef5aa4c933b9f9313fa13bcf0bbc7dd8', 'message': 'Add new default roles in os-volumes-attachments policies\n\nThis adds new defaults roles in os-volumes-attachments API policies.\nThis policy is default to admin_or_owner and system admin role.\nPolicy rules are made more granular to adopt the new defaults.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b\n'}, {'number': 4, 'created': '2020-03-06 09:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a35cdfed1b183664ec2da09db5c304b7ff20fbd7', 'message': 'Add new default roles in os-volumes-attachments policies\n\nThis adds new defaults roles in os-volumes-attachments API policies.\nThis policy is default to admin_or_owner and system admin role.\nPolicy rules are made more granular to adopt the new defaults.\n\nAnd this simulates the future where we drop the deprecation\nfall back in the policy by overriding the rules with a version where\nthere are no deprecated rule options. Operators can do the same by\nadding overrides in their policy files that match the default but\nstop the rule deprecation fallback from happening.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b\n'}, {'number': 5, 'created': '2020-03-10 00:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93eb6d6448c36eca7fab9171be4c5fb8baf4ebcc', 'message': 'Add new default roles in os-volumes-attachments policies\n\nThis adds new defaults roles in os-volumes-attachments API policies.\nThis policy is default to admin_or_owner and system admin role.\nPolicy rules are made more granular to adopt the new defaults.\n\nAnd this simulates the future where we drop the deprecation\nfall back in the policy by overriding the rules with a version where\nthere are no deprecated rule options. Operators can do the same by\nadding overrides in their policy files that match the default but\nstop the rule deprecation fallback from happening.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b\n'}, {'number': 6, 'created': '2020-03-10 01:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32a9ad4f6270dead0194fe517337420f9f581cd7', 'message': 'Add new default roles in os-volumes-attachments policies\n\nThis adds new defaults roles in os-volumes-attachments API policies.\nThis policy is default to admin_or_owner and system admin role.\nPolicy rules are made more granular to adopt the new defaults.\n\nAnd this simulates the future where we drop the deprecation\nfall back in the policy by overriding the rules with a version where\nthere are no deprecated rule options. Operators can do the same by\nadding overrides in their policy files that match the default but\nstop the rule deprecation fallback from happening.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b\n'}, {'number': 7, 'created': '2020-03-16 15:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b917ec88f6c74b1df1be0dfed935de658edd6702', 'message': 'Add new default roles in os-volumes-attachments policies\n\nThis adds new defaults roles in os-volumes-attachments API policies.\nThis policy is default to admin_or_owner and system admin role.\nPolicy rules are made more granular to adopt the new defaults.\n\nAnd this simulates the future where we drop the deprecation\nfall back in the policy by overriding the rules with a version where\nthere are no deprecated rule options. Operators can do the same by\nadding overrides in their policy files that match the default but\nstop the rule deprecation fallback from happening.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b\n'}, {'number': 8, 'created': '2020-03-17 13:09:42.000000000', 'files': ['nova/policies/volumes_attachments.py', 'nova/tests/unit/test_policy.py', 'nova/tests/unit/policies/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0476cc8e6a56df50adfe8114f6f3ec3176973cc3', 'message': 'Switching new default roles in os-volumes-attachments policies\n\nWe are introducing new default roles with scope capability\nin policies, details as bellow:\n\n  - For list and show volume attachment APIs change RULE_ADMIN_OR_OWNER\n    to PROJECT_READER_OR_SYSTEM_READER role.\n  - For create and delete attachment APIs change RULE_ADMIN_OR_OWNER to\n    PROJECT_MEMBER_OR_SYSTEM_ADMIN role.\n  - For update volume attachment API changes RULE_ADMIN_API to\n    SYSTEM_ADMIN role.\n\nAnd this simulates the future where we drop the deprecation\nfall back in the policy by overriding the rules with a version where\nthere are no deprecated rule options. Operators can do the same by\nadding overrides in their policy files that match the default but\nstop the rule deprecation fallback from happening.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b\n'}]",12,710190,0476cc8e6a56df50adfe8114f6f3ec3176973cc3,83,13,8,26458,,,0,"Switching new default roles in os-volumes-attachments policies

We are introducing new default roles with scope capability
in policies, details as bellow:

  - For list and show volume attachment APIs change RULE_ADMIN_OR_OWNER
    to PROJECT_READER_OR_SYSTEM_READER role.
  - For create and delete attachment APIs change RULE_ADMIN_OR_OWNER to
    PROJECT_MEMBER_OR_SYSTEM_ADMIN role.
  - For update volume attachment API changes RULE_ADMIN_API to
    SYSTEM_ADMIN role.

And this simulates the future where we drop the deprecation
fall back in the policy by overriding the rules with a version where
there are no deprecated rule options. Operators can do the same by
adding overrides in their policy files that match the default but
stop the rule deprecation fallback from happening.

Partial implement blueprint policy-defaults-refresh

Change-Id: I21aed9418fbf5d27717a3eed41ec4a0c0a523d6b
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/710190/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/volumes_attachments.py', 'nova/tests/unit/test_policy.py', 'nova/tests/unit/policies/test_volumes.py']",3,63ef69a09c9d0b4b961bde229efdce113e9c1b67,bp/policy-defaults-refresh," self.reader_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.system_reader_context, self.system_member_context, self.project_admin_context, self.project_reader_context, self.project_member_context ] self.reader_unauthorized_contexts = [ self.system_foo_context, self.project_foo_context, self.other_project_member_context ] self.common_policy_check(self.reader_authorized_contexts, self.reader_unauthorized_contexts, self.common_policy_check(self.reader_authorized_contexts, self.reader_unauthorized_contexts,"," self.common_policy_check(self.admin_or_owner_authorized_contexts, self.admin_or_owner_unauthorized_contexts, self.common_policy_check(self.admin_or_owner_authorized_contexts, self.admin_or_owner_unauthorized_contexts,",24,11
openstack%2Ftripleo-upgrade~master~Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24,openstack/tripleo-upgrade,master,Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24,move update to centos-8,MERGED,2020-03-09 21:17:20.000000000,2020-03-19 21:20:36.000000000,2020-03-19 21:20:36.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-03-09 21:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b77c3b006f2c177c7d381bcde59cd8755b338e16', 'message': 'move update to centos-8\n\nDepends-On: https://review.opendev.org/710876/\nChange-Id: Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24\n'}, {'number': 2, 'created': '2020-03-10 11:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5ab4005e6732784b611ae345483ac74511a40a7b', 'message': 'move update to centos-8\n\nDepends-On: https://review.opendev.org/710876/\nChange-Id: Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24\n'}, {'number': 3, 'created': '2020-03-12 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a8927195be2e04a3ebe94b4cb6e12c48647fd733', 'message': 'move update to centos-8\n\nDepends-On: https://review.opendev.org/710876/\nChange-Id: Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24\n'}, {'number': 4, 'created': '2020-03-16 11:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7eb352264a7f731be6f65f592bdb537aaf51057f', 'message': 'move update to centos-8\n\nDepends-On: https://review.opendev.org/710876/\nChange-Id: Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24\n'}, {'number': 5, 'created': '2020-03-16 12:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b85ee6d41ff96aea9fa6fab97a4f1996ecc04be2', 'message': 'move update to centos-8\n\nDepends-On: https://review.opendev.org/710876/\nChange-Id: Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24\n'}, {'number': 6, 'created': '2020-03-16 12:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/439139a89fe1df7cbafd0c51362fd6716567ed9c', 'message': 'move update to centos-8\n\nDepends-On: https://review.opendev.org/710876/\nChange-Id: Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24\n'}, {'number': 7, 'created': '2020-03-16 12:57:34.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9f85895370184ba42ed03b5eca1157c585da2e17', 'message': 'move update to centos-8\n\nDepends-On: https://review.opendev.org/710876/\nChange-Id: Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24\n'}]",3,711985,9f85895370184ba42ed03b5eca1157c585da2e17,25,4,7,9592,,,0,"move update to centos-8

Depends-On: https://review.opendev.org/710876/
Change-Id: Ia4e64ae01dbbaf6d453b734a90df3d6761e14c24
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/85/711985/6 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,b77c3b006f2c177c7d381bcde59cd8755b338e16,centos-8-jobs, - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates:, - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates:,1,1
openstack%2Fswift~feature%2Flosf~Icbcfc7148fdaeeb21df4b4173c2d99339639a550,openstack/swift,feature/losf,Icbcfc7148fdaeeb21df4b4173c2d99339639a550,"In _get_vfile(), handle the case when a referenced object has been punched",MERGED,2020-03-19 15:47:50.000000000,2020-03-19 21:20:28.000000000,2020-03-19 21:17:12.000000000,"[{'_account_id': 13852}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 15:47:50.000000000', 'files': ['swift/obj/vfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/08e7521b9304caa0f1c3b853562d1ea76251aaa3', 'message': 'In _get_vfile(), handle the case when a referenced object has been punched\n\nAfter a crash or power failure, we may still have an entry for an object\nin the index server, that had just been punched from the volume prior to\nthe crash.\n\nWhen that happens, do not raise an error, remove the entry from the\nindex server. This is already done in a couple of other places, but was\nmissing here.\n\nChange-Id: Icbcfc7148fdaeeb21df4b4173c2d99339639a550\n'}]",0,713909,08e7521b9304caa0f1c3b853562d1ea76251aaa3,7,2,1,25251,,,0,"In _get_vfile(), handle the case when a referenced object has been punched

After a crash or power failure, we may still have an entry for an object
in the index server, that had just been punched from the volume prior to
the crash.

When that happens, do not raise an error, remove the entry from the
index server. This is already done in a couple of other places, but was
missing here.

Change-Id: Icbcfc7148fdaeeb21df4b4173c2d99339639a550
",git fetch https://review.opendev.org/openstack/swift refs/changes/09/713909/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/vfile.py'],1,08e7521b9304caa0f1c3b853562d1ea76251aaa3,dev/alecuyer/feature-branch-catchup," fp.seek(obj.offset) data = fp.read(512) if all(c == '\x00' for c in data): # unregister the object here rpc.unregister_object(socket_path, name) msg = ""Zeroed header found for {} at offset {} in volume\ {}"".format(name, obj.offset, volume_filepath) increment(logger, 'vfile.already_punched') raise VFileException(msg)",,10,0
openstack%2Ftempest~master~Ie4d44b16595055201e12f10982fc78683a12d41a,openstack/tempest,master,Ie4d44b16595055201e12f10982fc78683a12d41a,Add subnet_id option,MERGED,2020-01-31 13:40:37.000000000,2020-03-19 21:19:58.000000000,2020-03-19 21:17:03.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27092}, {'_account_id': 30674}]","[{'number': 1, 'created': '2020-01-31 13:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f1b2113ff78c29b3b1df1f6402d1bb0b641331dc', 'message': 'WIP: Add subnet_id option\n\nWhen tested network contained more than one subnet then test failed\ndue to assert call.\n\nSubnet_id option specifies which subnet should be used for testing\nwhen more than one subnet in network is present. If subnet_id is\nspecified then each created VM is assigned a floating IP within\nthe range of the subnet.\n\nCloses-Bug: 1856671\nChange-Id: Ie4d44b16595055201e12f10982fc78683a12d41a\n'}, {'number': 2, 'created': '2020-01-31 13:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3a1d3b99754a218d1a3aed2e5555743989ba63dc', 'message': 'WIP: Add subnet_id option\n\nWhen tested network contained more than one subnet then test failed\ndue to assert call.\n\nSubnet_id option specifies which subnet should be used for testing\nwhen more than one subnet in network is present. If subnet_id is\nspecified then each created VM is assigned a floating IP within\nthe range of the subnet.\n\nCloses-Bug: 1856671\nChange-Id: Ie4d44b16595055201e12f10982fc78683a12d41a\n'}, {'number': 3, 'created': '2020-01-31 14:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b53bd42b8287e9f3d6f02f7d8273bd1ec319e02', 'message': 'Add subnet_id option\n\nWhen tested network contained more than one subnet then test failed\ndue to assert call.\n\nSubnet_id option specifies which subnet should be used for testing\nwhen more than one subnet in network is present. If subnet_id is\nspecified then each created VM is assigned a floating IP within\nthe range of the subnet.\n\nCloses-Bug: 1856671\nChange-Id: Ie4d44b16595055201e12f10982fc78683a12d41a\n'}, {'number': 4, 'created': '2020-02-05 11:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c43664f79ab4f4c2dbbb88c6f8a5dd09323ef87e', 'message': 'Add subnet_id option\n\nWhen tested network contained more than one subnet then test failed\ndue to assert call.\n\nSubnet_id option specifies which subnet should be used for testing\nwhen more than one subnet in network is present. If subnet_id is\nspecified then each created VM is assigned a floating IP within\nthe range of the subnet.\n\nCloses-Bug: 1856671\nChange-Id: Ie4d44b16595055201e12f10982fc78683a12d41a\n'}, {'number': 5, 'created': '2020-03-18 10:23:16.000000000', 'files': ['releasenotes/notes/add-subnet-id-config-option-fac3d6f12abfc171.yaml', 'tempest/scenario/manager.py', 'tempest/scenario/test_network_basic_ops.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2385e0417beaf6ca83adbd64b1cb174daf89add7', 'message': 'Add subnet_id option\n\nWhen tested network contained more than one subnet then test failed\ndue to assert call.\n\nSubnet_id option specifies which subnet should be used for testing\nwhen more than one subnet in network is present. If subnet_id is\nspecified then each created VM is assigned a floating IP within\nthe range of the subnet.\n\nCloses-Bug: 1856671\nChange-Id: Ie4d44b16595055201e12f10982fc78683a12d41a\n'}]",2,705215,2385e0417beaf6ca83adbd64b1cb174daf89add7,56,9,5,30674,,,0,"Add subnet_id option

When tested network contained more than one subnet then test failed
due to assert call.

Subnet_id option specifies which subnet should be used for testing
when more than one subnet in network is present. If subnet_id is
specified then each created VM is assigned a floating IP within
the range of the subnet.

Closes-Bug: 1856671
Change-Id: Ie4d44b16595055201e12f10982fc78683a12d41a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/705215/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/scenario/test_network_basic_ops.py', 'tempest/config.py']",3,f1b2113ff78c29b3b1df1f6402d1bb0b641331dc,feature/subnet_id_option," cfg.StrOpt('subnet_id', default="""", help=""Subnet id of subnet which is used for allocation of floating IPs."" ""Specify when two or more subnets are present in network.""),",,26,9
openstack%2Fnova~stable%2Ftrain~I617fd59de327de05a198f12b75a381f21945afb0,openstack/nova,stable/train,I617fd59de327de05a198f12b75a381f21945afb0,Lowercase ironic driver hash ring and ignore case in cache,MERGED,2020-03-18 21:00:22.000000000,2020-03-19 21:14:52.000000000,2020-03-19 21:09:17.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-18 21:00:22.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/588b0484bf6f5fe41514f1428aeaf5613635e35a', 'message': ""Lowercase ironic driver hash ring and ignore case in cache\n\nRecently we had a customer case where attempts to add new ironic nodes\nto an existing undercloud resulted in half of the nodes failing to be\ndetected and added to nova. Ironic API returned all of the newly added\nnodes when called by the driver, but half of the nodes were not\nreturned to the compute manager by the driver.\n\nThere was only one nova-compute service managing all of the ironic\nnodes of the all-in-one typical undercloud deployment.\n\nAfter days of investigation and examination of a database dump from the\ncustomer, we noticed that at some point the customer had changed the\nhostname of the machine from something containing uppercase letters to\nthe same name but all lowercase. The nova-compute service record had\nthe mixed case name and the CONF.host (socket.gethostname()) had the\nlowercase name.\n\nThe hash ring logic adds all of the nova-compute service hostnames plus\nCONF.host to hash ring, then the ironic driver reports only the nodes\nit owns by retrieving a service hostname from the ring based on a hash\nof each ironic node UUID.\n\nBecause of the machine hostname change, the hash ring contained, for\nexample: {'MachineHostName', 'machinehostname'} when it should have\ncontained only one hostname. And because the hash ring contained two\nhostnames, the driver was able to retrieve only half of the nodes as\nnodes that it owned. So half of the new nodes were excluded and not\nadded as new compute nodes.\n\nThis adds lowercasing of hosts that are added to the hash ring and\nignores case when comparing the CONF.host to the hash ring members\nto avoid unnecessary pain and confusion for users that make hostname\nchanges that are otherwise functionally harmless.\n\nThis also adds logging of the set of hash ring members at level DEBUG\nto help enable easier debugging of hash ring related situations.\n\nCloses-Bug: #1866380\n\nChange-Id: I617fd59de327de05a198f12b75a381f21945afb0\n(cherry picked from commit 7145100ee4e732caa532d614e2149ef2a545287a)\n""}]",0,713739,588b0484bf6f5fe41514f1428aeaf5613635e35a,12,6,1,4690,,,0,"Lowercase ironic driver hash ring and ignore case in cache

Recently we had a customer case where attempts to add new ironic nodes
to an existing undercloud resulted in half of the nodes failing to be
detected and added to nova. Ironic API returned all of the newly added
nodes when called by the driver, but half of the nodes were not
returned to the compute manager by the driver.

There was only one nova-compute service managing all of the ironic
nodes of the all-in-one typical undercloud deployment.

After days of investigation and examination of a database dump from the
customer, we noticed that at some point the customer had changed the
hostname of the machine from something containing uppercase letters to
the same name but all lowercase. The nova-compute service record had
the mixed case name and the CONF.host (socket.gethostname()) had the
lowercase name.

The hash ring logic adds all of the nova-compute service hostnames plus
CONF.host to hash ring, then the ironic driver reports only the nodes
it owns by retrieving a service hostname from the ring based on a hash
of each ironic node UUID.

Because of the machine hostname change, the hash ring contained, for
example: {'MachineHostName', 'machinehostname'} when it should have
contained only one hostname. And because the hash ring contained two
hostnames, the driver was able to retrieve only half of the nodes as
nodes that it owned. So half of the new nodes were excluded and not
added as new compute nodes.

This adds lowercasing of hosts that are added to the hash ring and
ignores case when comparing the CONF.host to the hash ring members
to avoid unnecessary pain and confusion for users that make hostname
changes that are otherwise functionally harmless.

This also adds logging of the set of hash ring members at level DEBUG
to help enable easier debugging of hash ring related situations.

Closes-Bug: #1866380

Change-Id: I617fd59de327de05a198f12b75a381f21945afb0
(cherry picked from commit 7145100ee4e732caa532d614e2149ef2a545287a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/713739/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,588b0484bf6f5fe41514f1428aeaf5613635e35a,bug/1866380-stable/train," def test__refresh_hash_ring_same_host_different_case(self): # Test that we treat Host1 and host1 as the same host # CONF.host is set to 'host1' in __test_refresh_hash_ring services = ['Host1'] expected_hosts = {'host1'} self.mock_is_up.return_value = True self._test__refresh_hash_ring(services, expected_hosts) @mock.patch('nova.virt.ironic.driver.LOG.debug') def test__refresh_hash_ring_many_computes(self, mock_log_debug): expected_msg = 'Hash ring members are %s' mock_log_debug.assert_called_once_with(expected_msg, set(services)) def test__refresh_cache_same_host_different_case(self): # Test that we treat Host1 and host1 as the same host self.host = 'Host1' self.flags(host=self.host) instances = [] nodes = [ _get_cached_node( uuid=uuidutils.generate_uuid(), instance_uuid=None), _get_cached_node( uuid=uuidutils.generate_uuid(), instance_uuid=None), _get_cached_node( uuid=uuidutils.generate_uuid(), instance_uuid=None), ] hosts = ['host1', 'host1', 'host1'] self._test__refresh_cache(instances, nodes, hosts) expected_cache = {n.uuid: n for n in nodes} self.assertEqual(expected_cache, self.driver.node_cache) ", def test__refresh_hash_ring_many_computes(self):,36,4
openstack%2Fdevstack~master~Id5fc11d1ae0a7daf439c7d72f831f298f5d0ce31,openstack/devstack,master,Id5fc11d1ae0a7daf439c7d72f831f298f5d0ce31,Amend python pkgs for debian-based distros,MERGED,2020-02-13 09:41:36.000000000,2020-03-19 21:11:17.000000000,2020-03-19 21:09:50.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-13 09:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/354caf2b00433958aad39b014fca92836d779a0d', 'message': 'Amend python pkgs for debian-based distros\n\nDrop python2 packages that are no longer needed. Replace other py2 pkgs\nwith their py3 variant.\n\nChange-Id: Id5fc11d1ae0a7daf439c7d72f831f298f5d0ce31\n'}, {'number': 2, 'created': '2020-02-17 13:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/698e32688c0c6fc98e993692fcbd5102d34884c0', 'message': 'Amend python pkgs for debian-based distros\n\nDrop python2 packages that are no longer needed. Replace other py2 pkgs\nwith their py3 variant.\n\nChange-Id: Id5fc11d1ae0a7daf439c7d72f831f298f5d0ce31\n'}, {'number': 3, 'created': '2020-02-17 17:14:50.000000000', 'files': ['files/debs/general', 'files/debs/keystone', 'files/debs/nova', 'files/debs/n-cpu', 'files/debs/ldap', 'files/debs/neutron-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/64ae08383a137d8b7fd18a8d8bc5c0fc191a186d', 'message': 'Amend python pkgs for debian-based distros\n\nDrop python2 packages that are no longer needed. Replace other py2 pkgs\nwith their py3 variant.\n\nChange-Id: Id5fc11d1ae0a7daf439c7d72f831f298f5d0ce31\n'}]",0,707594,64ae08383a137d8b7fd18a8d8bc5c0fc191a186d,15,4,3,13252,,,0,"Amend python pkgs for debian-based distros

Drop python2 packages that are no longer needed. Replace other py2 pkgs
with their py3 variant.

Change-Id: Id5fc11d1ae0a7daf439c7d72f831f298f5d0ce31
",git fetch https://review.opendev.org/openstack/devstack refs/changes/94/707594/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/debs/general', 'files/debs/keystone', 'files/debs/nova', 'files/debs/n-cpu', 'files/debs/ldap', 'files/debs/neutron-common']",6,354caf2b00433958aad39b014fca92836d779a0d,run-focal,python3-mysqldb,python-mysqldb,5,8
openstack%2Fnova~stable%2Focata~Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398,openstack/nova,stable/ocata,Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398,Hook resource_tracker to remove stale node information,MERGED,2019-08-14 17:05:02.000000000,2020-03-19 21:09:46.000000000,2020-03-19 21:09:46.000000000,"[{'_account_id': 4393}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-14 17:05:02.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9f8ff3960cd8915af4017da64dbeaf3a74383074', 'message': 'Hook resource_tracker to remove stale node information\n\nWhen we remove a node from a host due to rebalance or decommission,\nwe need to tell the resource tracker so it stops keeping track of\nthe details for that node. This adds a hook for doing that and\ncalls it from the place in compute manager where we purge the\nrecord from the database.\n\nChange-Id: Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398\nCloses-Bug: #1784874\n(cherry picked from commit 99db9faae5c1e84e5aa8586c32ffcca7a61ae276)\n(cherry picked from commit 7302a625ee9af2c9dd88f8630f1e95fc5977a70a)\n(cherry picked from commit 4f112195b0ad99f07784a9fe8dbe32a25329151d)\n'}]",0,676467,9f8ff3960cd8915af4017da64dbeaf3a74383074,11,8,1,6873,,,0,"Hook resource_tracker to remove stale node information

When we remove a node from a host due to rebalance or decommission,
we need to tell the resource tracker so it stops keeping track of
the details for that node. This adds a hook for doing that and
calls it from the place in compute manager where we purge the
record from the database.

Change-Id: Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398
Closes-Bug: #1784874
(cherry picked from commit 99db9faae5c1e84e5aa8586c32ffcca7a61ae276)
(cherry picked from commit 7302a625ee9af2c9dd88f8630f1e95fc5977a70a)
(cherry picked from commit 4f112195b0ad99f07784a9fe8dbe32a25329151d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/676467/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",4,9f8ff3960cd8915af4017da64dbeaf3a74383074,bug/1784705," def remove_node(self, nodename): """"""Handle node removal/rebalance. Clean up any stored data about a compute node no longer managed by this host. """""" self.stats.pop(nodename, None) self.compute_nodes.pop(nodename, None) self.old_resources.pop(nodename, None) ",,38,1
openstack%2Fnova~stable%2Focata~I1ef4a23aa2bf5cb46b481045f3d968f62f74606d,openstack/nova,stable/ocata,I1ef4a23aa2bf5cb46b481045f3d968f62f74606d,Fix incompatible version handling in BuildRequest,MERGED,2019-05-21 17:01:48.000000000,2020-03-19 21:09:41.000000000,2020-03-19 21:09:41.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-05-21 17:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c071615d1be0e33ce98947b1009411548a9844fd', 'message': 'Fix incompatible version handling in BuildRequest\n\nThe BuildRequest object code assumed that IncompatibleObjectVersion\nexception has a objver field that contains the object version. This\nassumption is not true. The unit test made another mistake serializing\nthe function object obj_to_primitive instead of serializing the result\nof the call of obj_to_primitive. This caused a false positive test\ncovering the error in the implementation as well.\n\nCloses-Bug: #1812177\n\nChange-Id: I1ef4a23aa2bf5cb46b481045f3d968f62f74606d\n(cherry picked from commit 975f0156137e37f7a9139c0268547d79dcc3c43c)\n(cherry picked from commit 6061186d2d86eb628dcdc61667c240576fa8f10e)\n(cherry picked from commit 7c85ebad0bf13d609b384e7637b0787bf8d484f7)\n(cherry picked from commit ebf011f11ebb4d329e90e7ec0e498a3a6832e154)\n'}, {'number': 2, 'created': '2019-12-17 20:52:53.000000000', 'files': ['nova/objects/build_request.py', 'nova/tests/unit/objects/test_build_request.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a20b086a14dd73bfa57cdef632a28e72e265eb2', 'message': 'Fix incompatible version handling in BuildRequest\n\nThe BuildRequest object code assumed that IncompatibleObjectVersion\nexception has a objver field that contains the object version. This\nassumption is not true. The unit test made another mistake serializing\nthe function object obj_to_primitive instead of serializing the result\nof the call of obj_to_primitive. This caused a false positive test\ncovering the error in the implementation as well.\n\nCloses-Bug: #1812177\n\nChange-Id: I1ef4a23aa2bf5cb46b481045f3d968f62f74606d\n(cherry picked from commit 975f0156137e37f7a9139c0268547d79dcc3c43c)\n(cherry picked from commit 6061186d2d86eb628dcdc61667c240576fa8f10e)\n(cherry picked from commit 7c85ebad0bf13d609b384e7637b0787bf8d484f7)\n(cherry picked from commit ebf011f11ebb4d329e90e7ec0e498a3a6832e154)\n'}]",0,660456,8a20b086a14dd73bfa57cdef632a28e72e265eb2,22,11,2,17685,,,0,"Fix incompatible version handling in BuildRequest

The BuildRequest object code assumed that IncompatibleObjectVersion
exception has a objver field that contains the object version. This
assumption is not true. The unit test made another mistake serializing
the function object obj_to_primitive instead of serializing the result
of the call of obj_to_primitive. This caused a false positive test
covering the error in the implementation as well.

Closes-Bug: #1812177

Change-Id: I1ef4a23aa2bf5cb46b481045f3d968f62f74606d
(cherry picked from commit 975f0156137e37f7a9139c0268547d79dcc3c43c)
(cherry picked from commit 6061186d2d86eb628dcdc61667c240576fa8f10e)
(cherry picked from commit 7c85ebad0bf13d609b384e7637b0787bf8d484f7)
(cherry picked from commit ebf011f11ebb4d329e90e7ec0e498a3a6832e154)
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/660456/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/build_request.py', 'nova/tests/unit/objects/test_build_request.py']",2,c071615d1be0e33ce98947b1009411548a9844fd,bug/1812177, fake_req['instance'] = jsonutils.dumps(instance.obj_to_primitive()), fake_req['instance'] = jsonutils.dumps(instance.obj_to_primitive),4,3
openstack%2Fnova~stable%2Focata~Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d,openstack/nova,stable/ocata,Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d,Fix listing deleted servers with a marker,MERGED,2019-10-23 20:52:04.000000000,2020-03-19 21:09:34.000000000,2020-03-19 21:09:34.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-23 20:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2ca75f92fd989765160f7d8b4881374477acd26', 'message': ""Fix listing deleted servers with a marker\n\nChange I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,\nwhich was backported through to Newton, introduced a regression\nwhen listing deleted servers with a marker because it assumes\nthat if BuildRequestList.get_by_filters does not raise\nMarkerNotFound that the marker was found among the build requests\nand does not account for that get_by_filters method short-circuiting\nif filtering servers with deleted/cleaned/limit=0. The API code\nthen nulls out the marker which means you'll continue to get the\nmarker instance back in the results even though you shouldn't,\nand that can cause an infinite loop in some client-side tooling like\nnova's CLI:\n\n  nova list --deleted --limit -1\n\nThis fixes the bug by raising MarkerNotFound from\nBuildRequestList.get_by_filters if we have a marker but are\nshort-circuiting and returning early from the method based on\nlimit or filters.\n\nChange-Id: Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d\nCloses-Bug: #1849409\n(cherry picked from commit df03499843aa7fd6089bd4d07b9d0eb5a8c14b47)\n(cherry picked from commit 03a2508362ecf50463d0659142312a30d0fb91f3)\n(cherry picked from commit 6038455e1dafeaf8ccfdd4be9e993beea3c9fb45)\n(cherry picked from commit e469d231b8fdd12747d63fffe797aaa7a64e0a77)\n(cherry picked from commit 14d17671ce497ffa7aa6db89be9e624ef144041b)\n(cherry picked from commit e3e5b6fa99022bc19e817e1557088285eb47048e)\n""}, {'number': 2, 'created': '2019-12-05 17:54:46.000000000', 'files': ['nova/objects/build_request.py', 'nova/tests/functional/regressions/test_bug_1849409.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b91592595141d7766c00255ffff04a25ca81c834', 'message': ""Fix listing deleted servers with a marker\n\nChange I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,\nwhich was backported through to Newton, introduced a regression\nwhen listing deleted servers with a marker because it assumes\nthat if BuildRequestList.get_by_filters does not raise\nMarkerNotFound that the marker was found among the build requests\nand does not account for that get_by_filters method short-circuiting\nif filtering servers with deleted/cleaned/limit=0. The API code\nthen nulls out the marker which means you'll continue to get the\nmarker instance back in the results even though you shouldn't,\nand that can cause an infinite loop in some client-side tooling like\nnova's CLI:\n\n  nova list --deleted --limit -1\n\nThis fixes the bug by raising MarkerNotFound from\nBuildRequestList.get_by_filters if we have a marker but are\nshort-circuiting and returning early from the method based on\nlimit or filters.\n\nChange-Id: Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d\nCloses-Bug: #1849409\n(cherry picked from commit df03499843aa7fd6089bd4d07b9d0eb5a8c14b47)\n(cherry picked from commit 03a2508362ecf50463d0659142312a30d0fb91f3)\n(cherry picked from commit 6038455e1dafeaf8ccfdd4be9e993beea3c9fb45)\n(cherry picked from commit c84846dbf93588e5420b3565d163c0393443e6d6)\n(cherry picked from commit 8c18293f93a0ef957010198ae3ef2f336364b97f)\n(cherry picked from commit b277ec154f2a175c4cab609b89fd8d3c7de4d0e9)\n""}]",0,690747,b91592595141d7766c00255ffff04a25ca81c834,30,9,2,6873,,,0,"Fix listing deleted servers with a marker

Change I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,
which was backported through to Newton, introduced a regression
when listing deleted servers with a marker because it assumes
that if BuildRequestList.get_by_filters does not raise
MarkerNotFound that the marker was found among the build requests
and does not account for that get_by_filters method short-circuiting
if filtering servers with deleted/cleaned/limit=0. The API code
then nulls out the marker which means you'll continue to get the
marker instance back in the results even though you shouldn't,
and that can cause an infinite loop in some client-side tooling like
nova's CLI:

  nova list --deleted --limit -1

This fixes the bug by raising MarkerNotFound from
BuildRequestList.get_by_filters if we have a marker but are
short-circuiting and returning early from the method based on
limit or filters.

Change-Id: Ic2b19c2aa06b3059ab0344b6ac56ffd62b3f755d
Closes-Bug: #1849409
(cherry picked from commit df03499843aa7fd6089bd4d07b9d0eb5a8c14b47)
(cherry picked from commit 03a2508362ecf50463d0659142312a30d0fb91f3)
(cherry picked from commit 6038455e1dafeaf8ccfdd4be9e993beea3c9fb45)
(cherry picked from commit c84846dbf93588e5420b3565d163c0393443e6d6)
(cherry picked from commit 8c18293f93a0ef957010198ae3ef2f336364b97f)
(cherry picked from commit b277ec154f2a175c4cab609b89fd8d3c7de4d0e9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/690747/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/build_request.py', 'nova/tests/functional/regressions/test_bug_1849409.py']",2,e2ca75f92fd989765160f7d8b4881374477acd26,bug/1849409," self.assertEqual(0, len(servers), servers)"," # FIXME(mriedem): This is bug 1849409 where the marker param is not # honored correctly when using deleted=True. self.assertEqual(1, len(servers), servers)",8,8
openstack%2Fnova~stable%2Focata~I324193129acb6ac739133c7e76920762a8987a84,openstack/nova,stable/ocata,I324193129acb6ac739133c7e76920762a8987a84,Add functional regression test for bug 1849409,MERGED,2019-10-23 20:52:04.000000000,2020-03-19 21:09:28.000000000,2020-03-19 21:09:27.000000000,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-23 20:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8aa3aa809c3040882772e9d1dec55a559633044e', 'message': ""Add functional regression test for bug 1849409\n\nChange I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,\nwhich was backported through to Newton, introduced a regression\nwhen listing deleted servers with a marker because it assumes\nthat if BuildRequestList.get_by_filters does not raise\nMarkerNotFound that the marker was found among the build requests\nand does not account for that get_by_filters method short-circuiting\nif filtering servers with deleted/cleaned/limit=0. The API code\nthen nulls out the marker which means you'll continue to get the\nmarker instance back in the results even though you shouldn't,\nand that can cause an infinite loop in some client-side tooling like\nnova's CLI:\n\n  nova list --deleted --limit -1\n\nThis adds a functional recreate test for the regression which will\nbe updated when the bug is fixed.\n\nNOTE(mriedem): In this backport the test is modified to disable the\nDiskFilter since we're using Placement for filtering on DISK_GB.\nAlso, _wait_until_deleted is moved to InstanceHelperMixin since\nIf7b02bcd8d77e94c7fb42b721792c1391bc0e3b7 is not in Ocata.\n\nChange-Id: I324193129acb6ac739133c7e76920762a8987a84\nRelated-Bug: #1849409\n(cherry picked from commit 45c2752f2ce08b314012eff044b01aa7d626b43d)\n(cherry picked from commit 727d942b2830fb6970d99507f2b5eb1a28df01b2)\n(cherry picked from commit 47caaccd4a03660d7df144f2eadd821d36baeaa8)\n(cherry picked from commit 56c5753747564c1a93958f3094785d2e8e4b6598)\n(cherry picked from commit 7f3ba78c27cc167c74b3ffd65e2ad2df9d736c36)\n(cherry picked from commit d24cef6acb5d949e97e4c000adc59a146563d82e)\n""}, {'number': 2, 'created': '2019-12-05 17:54:46.000000000', 'files': ['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/regressions/test_bug_1849409.py', 'nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6c7456face630086a0eb7fd1c8335d42ab0456a', 'message': ""Add functional regression test for bug 1849409\n\nChange I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,\nwhich was backported through to Newton, introduced a regression\nwhen listing deleted servers with a marker because it assumes\nthat if BuildRequestList.get_by_filters does not raise\nMarkerNotFound that the marker was found among the build requests\nand does not account for that get_by_filters method short-circuiting\nif filtering servers with deleted/cleaned/limit=0. The API code\nthen nulls out the marker which means you'll continue to get the\nmarker instance back in the results even though you shouldn't,\nand that can cause an infinite loop in some client-side tooling like\nnova's CLI:\n\n  nova list --deleted --limit -1\n\nThis adds a functional recreate test for the regression which will\nbe updated when the bug is fixed.\n\nNOTE(mriedem): In this backport the test is modified to disable the\nDiskFilter since we're using Placement for filtering on DISK_GB.\nAlso, _wait_until_deleted is moved to InstanceHelperMixin since\nIf7b02bcd8d77e94c7fb42b721792c1391bc0e3b7 is not in Ocata.\n\nChange-Id: I324193129acb6ac739133c7e76920762a8987a84\nRelated-Bug: #1849409\n(cherry picked from commit 45c2752f2ce08b314012eff044b01aa7d626b43d)\n(cherry picked from commit 727d942b2830fb6970d99507f2b5eb1a28df01b2)\n(cherry picked from commit 47caaccd4a03660d7df144f2eadd821d36baeaa8)\n(cherry picked from commit 08337cccb060d0b3cad388004c1f802d5d053813)\n(cherry picked from commit f03f5075e3751ccd03a60999eab1d7f4bf7c4f02)\n(cherry picked from commit e2ba87cb7b1cfd4226cfd8028436ecf87ad8a2be)\n""}]",0,690746,b6c7456face630086a0eb7fd1c8335d42ab0456a,16,6,2,6873,,,0,"Add functional regression test for bug 1849409

Change I1aa3ca6cc70cef65d24dec1e7db9491c9b73f7ab in Queens,
which was backported through to Newton, introduced a regression
when listing deleted servers with a marker because it assumes
that if BuildRequestList.get_by_filters does not raise
MarkerNotFound that the marker was found among the build requests
and does not account for that get_by_filters method short-circuiting
if filtering servers with deleted/cleaned/limit=0. The API code
then nulls out the marker which means you'll continue to get the
marker instance back in the results even though you shouldn't,
and that can cause an infinite loop in some client-side tooling like
nova's CLI:

  nova list --deleted --limit -1

This adds a functional recreate test for the regression which will
be updated when the bug is fixed.

NOTE(mriedem): In this backport the test is modified to disable the
DiskFilter since we're using Placement for filtering on DISK_GB.
Also, _wait_until_deleted is moved to InstanceHelperMixin since
If7b02bcd8d77e94c7fb42b721792c1391bc0e3b7 is not in Ocata.

Change-Id: I324193129acb6ac739133c7e76920762a8987a84
Related-Bug: #1849409
(cherry picked from commit 45c2752f2ce08b314012eff044b01aa7d626b43d)
(cherry picked from commit 727d942b2830fb6970d99507f2b5eb1a28df01b2)
(cherry picked from commit 47caaccd4a03660d7df144f2eadd821d36baeaa8)
(cherry picked from commit 08337cccb060d0b3cad388004c1f802d5d053813)
(cherry picked from commit f03f5075e3751ccd03a60999eab1d7f4bf7c4f02)
(cherry picked from commit e2ba87cb7b1cfd4226cfd8028436ecf87ad8a2be)
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/690746/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/regressions/test_bug_1849409.py', 'nova/tests/functional/integrated_helpers.py']",3,8aa3aa809c3040882772e9d1dec55a559633044e,bug/1849409,"from nova.tests.functional.api import client as api_client def _wait_until_deleted(self, server): try: for i in range(40): server = self.api.get_server(server['id']) if server['status'] == 'ERROR': self.fail('Server went to error state instead of' 'disappearing.') time.sleep(0.5) self.fail('Server failed to delete.') except api_client.OpenStackApiNotFoundException: return ",,90,14
openstack%2Fnova~stable%2Fqueens~I1942bfa9bd1baf8738d34c287216db7b59000a36,openstack/nova,stable/queens,I1942bfa9bd1baf8738d34c287216db7b59000a36,Avoid circular reference during serialization,MERGED,2020-03-15 11:45:04.000000000,2020-03-19 21:09:22.000000000,2020-03-19 21:09:22.000000000,"[{'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-15 11:45:04.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/conductor/tasks/migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/54ca5d9afb11867ea022464d7ecad9f1ce13e453', 'message': 'Avoid circular reference during serialization\n\nWhen an instance with numa topology is re-scheduled the conductor\nmigrate task blows with circular reference during request spec\nserialization. It happens because there are ovos in the request spec\nthat jsonutils.dumps only serialize if requested explicitly.\n\nThis patch makes the explicit request.\n\nThis is a stable only bug fix as the borken code was removed in Stein by\nthe feature patch I4244f7dd8fe74565180f73684678027067b4506e\n\nCloses-Bug: #1864665\n\nChange-Id: I1942bfa9bd1baf8738d34c287216db7b59000a36\n(cherry picked from commit 3871b38fe03aee7a1ffbbdfdf8a60b8c09e0ba76)\n'}]",0,713132,54ca5d9afb11867ea022464d7ecad9f1ce13e453,13,8,1,9373,,,0,"Avoid circular reference during serialization

When an instance with numa topology is re-scheduled the conductor
migrate task blows with circular reference during request spec
serialization. It happens because there are ovos in the request spec
that jsonutils.dumps only serialize if requested explicitly.

This patch makes the explicit request.

This is a stable only bug fix as the borken code was removed in Stein by
the feature patch I4244f7dd8fe74565180f73684678027067b4506e

Closes-Bug: #1864665

Change-Id: I1942bfa9bd1baf8738d34c287216db7b59000a36
(cherry picked from commit 3871b38fe03aee7a1ffbbdfdf8a60b8c09e0ba76)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/713132/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/conductor/tasks/migrate.py']",2,54ca5d9afb11867ea022464d7ecad9f1ce13e453,bug/1864665,"import functools # NOTE(gibi): convert_instances=True is needed as the legacy_spec might # contain ovo instances in the numa_topology field and those are # causing circular reference during serialization otherwise. legacy_spec = jsonutils.loads( jsonutils.dumps( legacy_spec, default=functools.partial( jsonutils.to_primitive, convert_instances=True ), ) )", legacy_spec = jsonutils.loads(jsonutils.dumps(legacy_spec)),35,2
openstack%2Frequirements~stable%2Frocky~Iefd560fdc24095dfa4630b891b23360132ed21ca,openstack/requirements,stable/rocky,Iefd560fdc24095dfa4630b891b23360132ed21ca,update constraint for python-glanceclient to new release 2.13.2,MERGED,2020-03-19 12:40:07.000000000,2020-03-19 20:28:36.000000000,2020-03-19 20:28:36.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 12:40:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/03c4c382a45aabde4aa6b205a5f044bf5bafdcad', 'message': 'update constraint for python-glanceclient to new release 2.13.2\n\nChange-Id: Iefd560fdc24095dfa4630b891b23360132ed21ca\nmeta:version: 2.13.2\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Abhishek Kekane <akekane@redhat.com>\nmeta:release:Commit: Abhishek Kekane <akekane@redhat.com>\nmeta:release:Change-Id: I738c6f108579a06fb63416738b09fe9410231a8f\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713866,03c4c382a45aabde4aa6b205a5f044bf5bafdcad,7,3,1,11131,,,0,"update constraint for python-glanceclient to new release 2.13.2

Change-Id: Iefd560fdc24095dfa4630b891b23360132ed21ca
meta:version: 2.13.2
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Abhishek Kekane <akekane@redhat.com>
meta:release:Commit: Abhishek Kekane <akekane@redhat.com>
meta:release:Change-Id: I738c6f108579a06fb63416738b09fe9410231a8f
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/713866/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,03c4c382a45aabde4aa6b205a5f044bf5bafdcad,new-release,python-glanceclient===2.13.2,python-glanceclient===2.13.1,1,1
openstack%2Fkayobe~stable%2Fstein~I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,openstack/kayobe,stable/stein,I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,Fix Kayobe overcloud introspection data save,MERGED,2020-03-19 11:07:42.000000000,2020-03-19 20:17:45.000000000,2020-03-19 20:16:14.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 11:07:42.000000000', 'files': ['releasenotes/notes/fix-introspection-data-save-cfc83714f66fd63c.yaml', 'ansible/overcloud-introspection-data-save.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a2b5b4b2b3b1ccb48d992c19aa731bbb950a7678', 'message': 'Fix Kayobe overcloud introspection data save\n\nKayobe overcloud introspection data save fails because the dynamic\ninventory script siliently breaks causing Ansible to parse it as a\nstatic inventory file. The failure occurs due to OS_TOKEN being set.\nThis change works around setting OS_TOKEN before running the dynamic\ninventory script by setting OS_CLOUD before querying inspector.\n\nConfirmed on Stein and Train, and verified in both environments.\n\nStory: 2007326\nTask: 38846\nChange-Id: I57fbf91ae3440d3e4e6a64cd7d05151e299c9322\n(cherry picked from commit 167e2ff3db19f32544e324bd02f4586e36486650)\n'}]",0,713841,a2b5b4b2b3b1ccb48d992c19aa731bbb950a7678,12,4,1,14826,,,0,"Fix Kayobe overcloud introspection data save

Kayobe overcloud introspection data save fails because the dynamic
inventory script siliently breaks causing Ansible to parse it as a
static inventory file. The failure occurs due to OS_TOKEN being set.
This change works around setting OS_TOKEN before running the dynamic
inventory script by setting OS_CLOUD before querying inspector.

Confirmed on Stein and Train, and verified in both environments.

Story: 2007326
Task: 38846
Change-Id: I57fbf91ae3440d3e4e6a64cd7d05151e299c9322
(cherry picked from commit 167e2ff3db19f32544e324bd02f4586e36486650)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/41/713841/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-introspection-data-save-cfc83714f66fd63c.yaml', 'ansible/overcloud-introspection-data-save.yml']",2,a2b5b4b2b3b1ccb48d992c19aa731bbb950a7678,," -a ""env OS_CLOUD=bifrost-inspector openstack baremetal introspection data save {% raw %}{{ inventory_hostname }}{% endraw %}""'"," export OS_TOKEN=fake-token && -a ""env OS_URL=http://localhost:5050 openstack baremetal introspection data save {% raw %}{{ inventory_hostname }}{% endraw %}""'",7,2
openstack%2Frequirements~master~I353a1061be82b26ec80aad356c058d7459d9e156,openstack/requirements,master,I353a1061be82b26ec80aad356c058d7459d9e156,update constraint for oslo.versionedobjects to new release 2.0.1,MERGED,2020-03-19 10:27:52.000000000,2020-03-19 20:16:40.000000000,2020-03-19 20:14:43.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 10:27:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/34721b8fa88e233f7c8d0106f4d201105a4662cc', 'message': 'update constraint for oslo.versionedobjects to new release 2.0.1\n\nChange-Id: I353a1061be82b26ec80aad356c058d7459d9e156\nmeta:version: 2.0.1\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,713825,34721b8fa88e233f7c8d0106f4d201105a4662cc,8,3,1,11131,,,0,"update constraint for oslo.versionedobjects to new release 2.0.1

Change-Id: I353a1061be82b26ec80aad356c058d7459d9e156
meta:version: 2.0.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/713825/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,34721b8fa88e233f7c8d0106f4d201105a4662cc,new-release,oslo.versionedobjects===2.0.1;python_version=='3.6' oslo.versionedobjects===2.0.1;python_version=='3.7',oslo.versionedobjects===2.0.0;python_version=='3.6' oslo.versionedobjects===2.0.0;python_version=='3.7',2,2
openstack%2Ftripleo-ansible~master~Ib64307defe4d5a0e06ad862ab9f51d1da3d23312,openstack/tripleo-ansible,master,Ib64307defe4d5a0e06ad862ab9f51d1da3d23312,Fix the docs job,MERGED,2020-03-19 14:55:39.000000000,2020-03-19 20:15:31.000000000,2020-03-19 20:11:29.000000000,"[{'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-19 14:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20ee9fee291c50dbbaf3529943d046f706034ddd', 'message': 'Fix the docs job\n\nThis change fixes the docs job to ensure we have access to development\nversions of tripleo-common. This is being done because we have more\nmodules coming in which are using tripleo-common which may require\nunreleased versions of the package when running tests. This change\nadds tripleo-common as an upstream constraint which is only used in\nthe docs and molecule test scenarios.\n\nChange-Id: Ib64307defe4d5a0e06ad862ab9f51d1da3d23312\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-03-19 16:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa79c4af20383ea89a8066bc763267df67115afb', 'message': 'Fix the docs job\n\nThis change fixes the docs job to ensure we have access to development\nversions of tripleo-common. This is being done because we have more\nmodules coming in which are using tripleo-common which may require\nunreleased versions of the package when running tests. This change\nadds tripleo-common as an upstream constraint which is only used in\nthe docs and molecule test scenarios.\n\nChange-Id: Ib64307defe4d5a0e06ad862ab9f51d1da3d23312\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-03-19 19:31:20.000000000', 'files': ['constraints.txt', 'tox.ini', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3100780e1ecff0a0bceff186cb51294aac015f32', 'message': 'Fix the docs job\n\nThis change fixes the docs job to ensure we have access to development\nversions of tripleo-common. This is being done because we have more\nmodules coming in which are using tripleo-common which may require\nunreleased versions of the package when running tests. This change\nadds tripleo-common as an upstream constraint which is only used in\nthe docs and molecule test scenarios.\n\nChange-Id: Ib64307defe4d5a0e06ad862ab9f51d1da3d23312\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,713896,3100780e1ecff0a0bceff186cb51294aac015f32,16,4,3,7353,,,0,"Fix the docs job

This change fixes the docs job to ensure we have access to development
versions of tripleo-common. This is being done because we have more
modules coming in which are using tripleo-common which may require
unreleased versions of the package when running tests. This change
adds tripleo-common as an upstream constraint which is only used in
the docs and molecule test scenarios.

Change-Id: Ib64307defe4d5a0e06ad862ab9f51d1da3d23312
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/713896/1 && git format-patch -1 --stdout FETCH_HEAD,"['constraints.txt', 'tox.ini', 'molecule-requirements.txt']",3,20ee9fee291c50dbbaf3529943d046f706034ddd,mistral_to_ansible, # Upstream requirements from constraints.txt tripleo-common,,9,1
openstack%2Ftripleo-ansible~master~I186602edc8cd4d5d7b3e9d16422460a48d1b2520,openstack/tripleo-ansible,master,I186602edc8cd4d5d7b3e9d16422460a48d1b2520,change linters job to running on a cent8 node,MERGED,2020-03-19 15:13:36.000000000,2020-03-19 20:11:30.000000000,2020-03-19 20:11:30.000000000,"[{'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-19 15:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa31126edab6f548e7f6c43e492968a7283f0488', 'message': 'change linters job to running on a cent8 node\n\nChange-Id: I186602edc8cd4d5d7b3e9d16422460a48d1b2520\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-03-19 16:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/78a5a9551ed9b0c56addcd514646980aceb7ef01', 'message': 'change linters job to running on a cent8 node\n\nChange-Id: I186602edc8cd4d5d7b3e9d16422460a48d1b2520\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-03-19 16:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c6a62a5f062d0b883570fd0d5db06e97eb802d3e', 'message': 'change linters job to running on a cent8 node\n\nChange-Id: I186602edc8cd4d5d7b3e9d16422460a48d1b2520\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-03-19 16:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c9b0936d263ffdb3f754f29eb353cb9888eb139', 'message': 'change linters job to running on a cent8 node\n\nChange-Id: I186602edc8cd4d5d7b3e9d16422460a48d1b2520\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-03-19 19:32:21.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2ee8f8cb85afaf3c5664812fc8e478e1e2797d94', 'message': 'change linters job to running on a cent8 node\n\nChange-Id: I186602edc8cd4d5d7b3e9d16422460a48d1b2520\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,713899,2ee8f8cb85afaf3c5664812fc8e478e1e2797d94,17,4,5,7353,,,0,"change linters job to running on a cent8 node

Change-Id: I186602edc8cd4d5d7b3e9d16422460a48d1b2520
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/99/713899/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,aa31126edab6f548e7f6c43e492968a7283f0488,, - openstack-tox-linters: &tripleo-linters nodeset: centos-8 - openstack-tox-linters: *tripleo-linters, - openstack-tox-linters - openstack-tox-linters,3,2
openstack%2Fnova~master~If13a817f73e2cccb6452412df8175a41fa3f6675,openstack/nova,master,If13a817f73e2cccb6452412df8175a41fa3f6675,Synchronize sqlalchemy models with migrations for alembic 1.4.1,ABANDONED,2020-03-19 04:39:47.000000000,2020-03-19 20:10:01.000000000,,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11816}, {'_account_id': 14288}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-19 04:39:47.000000000', 'files': ['nova/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d612b35ed124efc83d05e2b91573d5d19ecbc7c8', 'message': ""Synchronize sqlalchemy models with migrations for alembic 1.4.1\n\nThe TestNovaMigrationsMySQL.test_models_sync unit test fails when we try\nto bump the alembic version to 1.4.1 saying that the models are not in\nsync with the migration scripts.\n\nThis updates the models to match the migration scripts for the\n'instance_type_extra_specs' [1] and 'resource_providers' [2] tables.\n\nCloses-Bug: #1868037\n\n[1] https://github.com/openstack/nova/blob/a1aacd972ffa406b51639d51726a7dabb65bce1b/nova/db/sqlalchemy/migrate_repo/versions/298_mysql_extra_specs_binary_collation.py#L20\n[2] https://github.com/openstack/nova/blob/a1aacd972ffa406b51639d51726a7dabb65bce1b/nova/db/sqlalchemy/migrate_repo/versions/318_resource_provider_name_aggregates.py#L43\n\nChange-Id: If13a817f73e2cccb6452412df8175a41fa3f6675\n""}]",2,713778,d612b35ed124efc83d05e2b91573d5d19ecbc7c8,15,11,1,4690,,,0,"Synchronize sqlalchemy models with migrations for alembic 1.4.1

The TestNovaMigrationsMySQL.test_models_sync unit test fails when we try
to bump the alembic version to 1.4.1 saying that the models are not in
sync with the migration scripts.

This updates the models to match the migration scripts for the
'instance_type_extra_specs' [1] and 'resource_providers' [2] tables.

Closes-Bug: #1868037

[1] https://github.com/openstack/nova/blob/a1aacd972ffa406b51639d51726a7dabb65bce1b/nova/db/sqlalchemy/migrate_repo/versions/298_mysql_extra_specs_binary_collation.py#L20
[2] https://github.com/openstack/nova/blob/a1aacd972ffa406b51639d51726a7dabb65bce1b/nova/db/sqlalchemy/migrate_repo/versions/318_resource_provider_name_aggregates.py#L43

Change-Id: If13a817f73e2cccb6452412df8175a41fa3f6675
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/713778/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/models.py'],1,d612b35ed124efc83d05e2b91573d5d19ecbc7c8,,"from sqlalchemy.dialects.mysql import MEDIUMTEXT, VARCHAR key = Column(String(255, collation='utf8_bin')) value = Column(String(255, collation='utf8_bin')) name = Column(VARCHAR(200, charset='utf8'), nullable=True)","from sqlalchemy.dialects.mysql import MEDIUMTEXT key = Column(String(255)) value = Column(String(255)) name = Column(Unicode(200), nullable=True)",4,4
openstack%2Fmistral~stable%2Ftrain~I12b4d0c5f1f49990d8ae09b72f73c0da96254a86,openstack/mistral,stable/train,I12b4d0c5f1f49990d8ae09b72f73c0da96254a86,Fix ContextView JSON serialization,MERGED,2020-03-19 14:02:28.000000000,2020-03-19 19:55:12.000000000,2020-03-19 19:52:27.000000000,"[{'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 14:02:28.000000000', 'files': ['mistral/workflow/data_flow.py', 'mistral/expressions/yaql_expression.py', 'mistral/utils/javascript.py', 'mistral/db/sqlalchemy/types.py', 'mistral/tests/unit/engine/test_disabled_yaql_conversion.py', 'mistral/tests/unit/engine/test_dataflow.py', 'mistral/tests/unit/engine/test_javascript_action.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/241ea888c6993ac045cf12d6b61d4e1a1ff29ad3', 'message': 'Fix ContextView JSON serialization\n\n* With disabled YAQL data output conversion, YAQL may return\n  instances of ContextView which can\'t be properly saved into\n  DB. This happens because Mistral serialization code doesn\'t\n  turn on JSON conversion of custom objects, and they are just\n  ignored by the ""json"" lib when it encounters them.\n* Fixed how Mistral serializes context for Javascript evaluation\n  to address the same problem.\n* Implemented __repr__ method of ContextView.\n* Removed logging of ""data_context"" from YAQL evaluation because\n  previously it was always empty (because the string represetation\n  of ContextView was always ""{}"") and now it may be very big, like\n  megabytes, and the log gets populated too fast. It makes sense to\n  log YAQL data context only when an error happened. In this case\n  it helps to investigate an issue.\n* Added all required unit tests.\n* Fixed the tests for disabled YAQL conversion. In fact, they\n  didn\'t test it properly because data conversion wasn\'t disabled.\n\nCloses-Bug: #1867899\nChange-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86\n'}]",0,713886,241ea888c6993ac045cf12d6b61d4e1a1ff29ad3,8,3,1,8731,,,0,"Fix ContextView JSON serialization

* With disabled YAQL data output conversion, YAQL may return
  instances of ContextView which can't be properly saved into
  DB. This happens because Mistral serialization code doesn't
  turn on JSON conversion of custom objects, and they are just
  ignored by the ""json"" lib when it encounters them.
* Fixed how Mistral serializes context for Javascript evaluation
  to address the same problem.
* Implemented __repr__ method of ContextView.
* Removed logging of ""data_context"" from YAQL evaluation because
  previously it was always empty (because the string represetation
  of ContextView was always ""{}"") and now it may be very big, like
  megabytes, and the log gets populated too fast. It makes sense to
  log YAQL data context only when an error happened. In this case
  it helps to investigate an issue.
* Added all required unit tests.
* Fixed the tests for disabled YAQL conversion. In fact, they
  didn't test it properly because data conversion wasn't disabled.

Closes-Bug: #1867899
Change-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86
",git fetch https://review.opendev.org/openstack/mistral refs/changes/86/713886/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/workflow/data_flow.py', 'mistral/expressions/yaql_expression.py', 'mistral/utils/javascript.py', 'mistral/db/sqlalchemy/types.py', 'mistral/tests/unit/engine/test_disabled_yaql_conversion.py', 'mistral/tests/unit/engine/test_dataflow.py', 'mistral/tests/unit/engine/test_javascript_action.py']",7,241ea888c6993ac045cf12d6b61d4e1a1ff29ad3,bug/1867899,"from mistral.expressions import yaql_expression cfg.CONF.set_default('js_implementation', 'py_mini_racer') @testtools.skipIf(not importutils.try_import('py_mini_racer'), 'This test requires that py_mini_racer library was ' 'installed') def test_py_mini_racer_javascript_action_disabled_yaql_conversion(self): cfg.CONF.set_default('js_implementation', 'py_mini_racer') # Both input and output data conversion in YAQL need to be disabled # so that we're sure that there won't be any surprises from YAQL # like some YAQL internal types included in expression results. self.override_config('convert_input_data', False, 'yaql') self.override_config('convert_output_data', False, 'yaql') # Setting YAQL engine to None so it reinitialized again with the # right values upon the next use. yaql_expression.YAQL_ENGINE = None wf_text = """"""--- version: '2.0' wf: input: - param: default_val tasks: task1: action: std.js input: context: <% $ %> script: > return $.param publish: result: <% task().result %> """""" wf_service.create_workflows(wf_text) # Start workflow. wf_ex = self.engine.start_workflow('wf') self.await_workflow_success(wf_ex.id) with db_api.transaction(): # Note: We need to reread execution to access related tasks. wf_ex = db_api.get_workflow_execution(wf_ex.id) t_ex = self._assert_single_item( wf_ex.task_executions, name='task1' ) self.assertDictEqual({'result': 'default_val'}, t_ex.published) "," cfg.CONF.set_default( 'js_implementation', 'py_mini_racer' )",228,31
openstack%2Fneutron~master~I0dcc9e91d874a9bb20754d7bf3deef2db20e83b7,openstack/neutron,master,I0dcc9e91d874a9bb20754d7bf3deef2db20e83b7,Test neutron-centos-7-tripleo-standalone job viability,ABANDONED,2020-02-07 13:47:48.000000000,2020-03-19 19:50:40.000000000,,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-07 13:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0ab2532a6bfa8d16d7f0c69d17a5051d9887bac', 'message': 'Test neutron-centos-7-tripleo-standalone job viability\n\nNow that the drop-py27 goal is nearly complete, check and see if the\neeutron-centos-7-tripleo-standalone job can be reenabled.\n\nChange-Id: I0dcc9e91d874a9bb20754d7bf3deef2db20e83b7\n'}, {'number': 2, 'created': '2020-03-11 14:00:21.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5426facdfbb3f0850f56fa87b20cd052e4a1caa', 'message': 'Test neutron-centos-7-tripleo-standalone job viability\n\nNow that the drop-py27 goal is nearly complete, check and see if the\neeutron-centos-7-tripleo-standalone job can be reenabled.\n\nChange-Id: I0dcc9e91d874a9bb20754d7bf3deef2db20e83b7\n'}]",0,706509,a5426facdfbb3f0850f56fa87b20cd052e4a1caa,10,4,2,13995,,,0,"Test neutron-centos-7-tripleo-standalone job viability

Now that the drop-py27 goal is nearly complete, check and see if the
eeutron-centos-7-tripleo-standalone job can be reenabled.

Change-Id: I0dcc9e91d874a9bb20754d7bf3deef2db20e83b7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/706509/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a0ab2532a6bfa8d16d7f0c69d17a5051d9887bac,, - neutron-centos-7-tripleo-standalone, # TODO(slaweq): add this job again to the check queue when it will # be working fine with python 3 #- neutron-centos-7-tripleo-standalone,1,3
openstack%2Ftripleo-ansible~master~I1e709043bb4be93331d4511b947b181fe2ead8f4,openstack/tripleo-ansible,master,I1e709043bb4be93331d4511b947b181fe2ead8f4,Simplify linting,MERGED,2020-03-19 15:36:39.000000000,2020-03-19 19:46:48.000000000,2020-03-19 19:45:21.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 15:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f60526761771ffd902cd860de90c86c23843f8ef', 'message': 'WIP: test pre-commit changes\n\nChange-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4\n'}, {'number': 2, 'created': '2020-03-19 15:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c7594e778e0c6c30c0f80133e87b6962229f4932', 'message': 'WIP: test pre-commit changes\n\nChange-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4\n'}, {'number': 3, 'created': '2020-03-19 16:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a72b77d78bf9535d9a5dc76d209e28736793afd', 'message': 'Simplify linting\n\nKeeps pep8 environment until we will be able to remove it from\nzuul templates.\n\nChange-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4\n'}, {'number': 4, 'created': '2020-03-19 17:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1fd46e7d5925000ab76ab516a5472d70403fa3b8', 'message': 'Simplify linting\n\nKeeps pep8 environment until we will be able to remove it from\nzuul templates.\n\nChange-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4\n'}, {'number': 5, 'created': '2020-03-19 17:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ea1fd152939a6d8fc5c7768c3e5178a6b5e9d506', 'message': 'Simplify linting and docs\n\nKeeps pep8 environment until we will be able to remove it from\nzuul templates.\n\nThis change fixes the docs job to ensure we have access to development\nversions of tripleo-common. This is being done because we have more\nmodules coming in which are using tripleo-common which may require\nunreleased versions of the package when running tests. This change\nadds tripleo-common as an upstream constraint which is only used in\nthe docs and molecule test scenarios.\n\nFinally linters jobs will now run on a cent-8 nodes whenever possible.\n\nChange-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4\n'}, {'number': 6, 'created': '2020-03-19 17:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a76be7203ce962aab80f51dd065916054726f24', 'message': 'Simplify linting and docs\n\nKeeps pep8 environment until we will be able to remove it from\nzuul templates.\n\nThis change fixes the docs job to ensure we have access to development\nversions of tripleo-common. This is being done because we have more\nmodules coming in which are using tripleo-common which may require\nunreleased versions of the package when running tests. This change\nadds tripleo-common as an upstream constraint which is only used in\nthe docs and molecule test scenarios.\n\nFinally linters jobs will now run on a cent-8 nodes whenever possible.\n\nChange-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-03-19 17:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1df7a8a3ad833c8ffa99ddda341492af53c9d9fe', 'message': 'Simplify linting and docs\n\nKeeps pep8 environment until we will be able to remove it from\nzuul templates.\n\nThis change fixes the docs job to ensure we have access to development\nversions of tripleo-common. This is being done because we have more\nmodules coming in which are using tripleo-common which may require\nunreleased versions of the package when running tests. This change\nadds tripleo-common as an upstream constraint which is only used in\nthe docs and molecule test scenarios.\n\nFinally linters jobs will now run on a cent-8 nodes whenever possible.\n\nChange-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2020-03-19 18:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b626b4c1082c5279e37afb50fa420b12a0ba1eea', 'message': 'Simplify linting and docs\n\nKeeps pep8 environment until we will be able to remove it from\nzuul templates.\n\nThis change fixes the docs job to ensure we have access to development\nversions of tripleo-common. This is being done because we have more\nmodules coming in which are using tripleo-common which may require\nunreleased versions of the package when running tests. This change\nadds tripleo-common as an upstream constraint which is only used in\nthe docs and molecule test scenarios.\n\nFinally linters jobs will now run on a cent-8 nodes whenever possible.\n\nChange-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2020-03-19 18:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9bc7b72e031644d406fdaa13b6f2c3f108003201', 'message': 'Simplify linting\n\nKeeps pep8 environment until we will be able to remove it from\nzuul templates.\n\nChange-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4\n'}, {'number': 10, 'created': '2020-03-19 18:42:31.000000000', 'files': ['tox.ini', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9ac51dc172e455dc5a47b572e55e10baaf6fe296', 'message': 'Simplify linting\n\nKeeps pep8 environment until we will be able to remove it from\nzuul templates.\n\nChange-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4\n'}]",0,713904,9ac51dc172e455dc5a47b572e55e10baaf6fe296,23,3,10,24162,,,0,"Simplify linting

Keeps pep8 environment until we will be able to remove it from
zuul templates.

Change-Id: I1e709043bb4be93331d4511b947b181fe2ead8f4
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/713904/10 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f60526761771ffd902cd860de90c86c23843f8ef,,"skipsdist = True skip_install = True sitepackages = False pre-commit bash -c ""ANSIBLE_ROLES_PATH='{toxinidir}/tripleo_ansible/roles.galaxy' \ ansible-galaxy install -fr {toxinidir}/tripleo_ansible/ansible-role-requirements.yml"" python -m pre_commit run -adeps = pre-commit","[testenv:pep8] envdir = {toxworkdir}/linters commands = python -m pre_commit run flake8 -a [testenv:ansible-lint] envdir = {toxworkdir}/linters deps = {[testenv:linters]deps} commands = bash -c ""ANSIBLE_ROLES_PATH='{toxinidir}/tripleo_ansible/roles.galaxy' \ ansible-galaxy install -fr {toxinidir}/tripleo_ansible/ansible-role-requirements.yml"" python -m pre_commit run ansible-lint -a [testenv:yamllint] envdir = {toxworkdir}/linters deps = {[testenv:linters]deps} commands = python -m pre_commit run yamllint -a [testenv:bashate] envdir = {toxworkdir}/linters deps = {[testenv:linters]deps} commands = python -m pre_commit run bashate -a [testenv:whitespace] envdir = {toxworkdir}/linters deps = {[testenv:linters]deps} commands = python -m pre_commit run trailing-whitespace -a [testenv:shebangs] envdir = {toxworkdir}/linters deps = {[testenv:linters]deps} commands = python -m pre_commit run check-executables-have-shebangs -a -r {toxinidir}/requirements.txt -r {toxinidir}/test-requirements.txt -r {toxinidir}/molecule-requirements.txt {[testenv:pep8]commands} {[testenv:ansible-lint]commands} {[testenv:bashate]commands} {[testenv:yamllint]commands} {[testenv:whitespace]commands} {[testenv:shebangs]commands}deps= {[testenv:linters]deps}",9,49
openstack%2Frequirements~master~Id79ee6eaf4e7366b1a5479d14fc7d3de92a0459e,openstack/requirements,master,Id79ee6eaf4e7366b1a5479d14fc7d3de92a0459e,update constraint for oslo.log to new release 4.1.0,MERGED,2020-03-19 10:26:15.000000000,2020-03-19 19:42:45.000000000,2020-03-19 19:40:16.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 10:26:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/031b39be5a7ceea8d8d21fe71f292b8862cacd20', 'message': 'update constraint for oslo.log to new release 4.1.0\n\nChange-Id: Id79ee6eaf4e7366b1a5479d14fc7d3de92a0459e\nmeta:version: 4.1.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,713824,031b39be5a7ceea8d8d21fe71f292b8862cacd20,8,3,1,11131,,,0,"update constraint for oslo.log to new release 4.1.0

Change-Id: Id79ee6eaf4e7366b1a5479d14fc7d3de92a0459e
meta:version: 4.1.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/713824/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,031b39be5a7ceea8d8d21fe71f292b8862cacd20,new-release,oslo.log===4.1.0;python_version=='3.6' oslo.log===4.1.0;python_version=='3.7',oslo.log===4.0.1;python_version=='3.6' oslo.log===4.0.1;python_version=='3.7',2,2
openstack%2Frequirements~master~I7db5a08898bc5c7248f4e8409fd0bc917049e691,openstack/requirements,master,I7db5a08898bc5c7248f4e8409fd0bc917049e691,update constraint for tooz to new release 2.2.0,MERGED,2020-03-19 10:23:43.000000000,2020-03-19 19:38:16.000000000,2020-03-19 19:36:48.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 10:23:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f3b4f8e840f9a5a6ca1c55d8f1c1fa9a0069b88e', 'message': 'update constraint for tooz to new release 2.2.0\n\nChange-Id: I7db5a08898bc5c7248f4e8409fd0bc917049e691\nmeta:version: 2.2.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,713822,f3b4f8e840f9a5a6ca1c55d8f1c1fa9a0069b88e,8,3,1,11131,,,0,"update constraint for tooz to new release 2.2.0

Change-Id: I7db5a08898bc5c7248f4e8409fd0bc917049e691
meta:version: 2.2.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/713822/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f3b4f8e840f9a5a6ca1c55d8f1c1fa9a0069b88e,new-release,tooz===2.2.0;python_version=='3.6' tooz===2.2.0;python_version=='3.7',tooz===2.1.0;python_version=='3.6' tooz===2.1.0;python_version=='3.7',2,2
openstack%2Frequirements~stable%2Fstein~Icc66384e4b15a6495569c0586274ca6051b2552e,openstack/requirements,stable/stein,Icc66384e4b15a6495569c0586274ca6051b2552e,update constraint for keystoneauth1 to new release 3.13.2,MERGED,2020-03-19 10:20:59.000000000,2020-03-19 19:34:26.000000000,2020-03-19 19:34:26.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 10:20:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/317b2e3d120b6448fd27ab9a2839854bc3130537', 'message': 'update constraint for keystoneauth1 to new release 3.13.2\n\nChange-Id: Icc66384e4b15a6495569c0586274ca6051b2552e\nmeta:version: 3.13.2\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dirk Mueller <dirk@dmllr.de>\nmeta:release:Commit: Dirk Mueller <dirk@dmllr.de>\nmeta:release:Change-Id: I3dc22cbbc55c69da2b559fb266f251e0f0074038\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Colleen Murphy <colleen@gazlene.net>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,713818,317b2e3d120b6448fd27ab9a2839854bc3130537,7,3,1,11131,,,0,"update constraint for keystoneauth1 to new release 3.13.2

Change-Id: Icc66384e4b15a6495569c0586274ca6051b2552e
meta:version: 3.13.2
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dirk Mueller <dirk@dmllr.de>
meta:release:Commit: Dirk Mueller <dirk@dmllr.de>
meta:release:Change-Id: I3dc22cbbc55c69da2b559fb266f251e0f0074038
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Colleen Murphy <colleen@gazlene.net>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/713818/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,317b2e3d120b6448fd27ab9a2839854bc3130537,new-release,keystoneauth1===3.13.2,keystoneauth1===3.13.1,1,1
openstack%2Frequirements~stable%2Frocky~I8c61269fada31132a1cf5f4007f27cbf9d561fd9,openstack/requirements,stable/rocky,I8c61269fada31132a1cf5f4007f27cbf9d561fd9,Bump MarkupSafe to 1.1.1 due to setuptools change,MERGED,2020-03-10 22:02:49.000000000,2020-03-19 19:34:24.000000000,2020-03-19 19:34:24.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-10 22:02:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8e6a540de536a6537bef0ab799d5e9be530d1ad1', 'message': ""Bump MarkupSafe to 1.1.1 due to setuptools change\n\nSee this issue for details:\nhttps://github.com/pallets/markupsafe/issues/57\nPinning setuptools isn't really an option.\n\nChange-Id: I8c61269fada31132a1cf5f4007f27cbf9d561fd9\n""}]",0,712187,8e6a540de536a6537bef0ab799d5e9be530d1ad1,12,3,1,10273,,,0,"Bump MarkupSafe to 1.1.1 due to setuptools change

See this issue for details:
https://github.com/pallets/markupsafe/issues/57
Pinning setuptools isn't really an option.

Change-Id: I8c61269fada31132a1cf5f4007f27cbf9d561fd9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/712187/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8e6a540de536a6537bef0ab799d5e9be530d1ad1,,MarkupSafe===1.1.1,MarkupSafe===1.0,1,1
openstack%2Fnova~stable%2Frocky~Ic04568caecc138e6016418f6878d031c4a0d3fb4,openstack/nova,stable/rocky,Ic04568caecc138e6016418f6878d031c4a0d3fb4,Fix os-keypairs pagination links,MERGED,2020-03-09 10:49:57.000000000,2020-03-19 19:34:20.000000000,2020-03-19 19:34:20.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-09 10:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/384248e9d065ba6e33d27ad68fbe3a582d972be9', 'message': ""Fix os-keypairs pagination links\n\nThe API URL is '/os-keypairs', not '/keypairs'. Attempting to use these\npagination links as-is will result in a HTTP 404 (Not Found).\n\nChange-Id: Ic04568caecc138e6016418f6878d031c4a0d3fb4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-bug: #1866373\n(cherry picked from commit f31efe0a0e3f194ca415ac41c225f63dbb69267b)\n(cherry picked from commit 1136b09b6e1e607be00328d32d75206766b7ecc2)\n(cherry picked from commit 1fd7ad87d0d16a2fd8c7661c6b2491988049dc4e)\n""}, {'number': 2, 'created': '2020-03-10 15:58:13.000000000', 'files': ['nova/api/openstack/compute/views/keypairs.py', 'doc/api_samples/keypairs/v2.35/keypairs-list-user2-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/keypairs/v2.35/keypairs-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/keypairs/v2.35/keypairs-list-user2-resp.json.tpl', 'doc/api_samples/keypairs/v2.35/keypairs-list-resp.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/d8bd2392b225babf7a39ef16c82e79016db04a36', 'message': ""Fix os-keypairs pagination links\n\nThe API URL is '/os-keypairs', not '/keypairs'. Attempting to use these\npagination links as-is will result in a HTTP 404 (Not Found).\n\nChange-Id: Ic04568caecc138e6016418f6878d031c4a0d3fb4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-bug: #1866373\n(cherry picked from commit f31efe0a0e3f194ca415ac41c225f63dbb69267b)\n(cherry picked from commit 93f903d7949194a3e00647d8a17b2d3bee3904e5)\n(cherry picked from commit 85052c055fb062f4a2ca7bb833f1cb344073b6de)\n""}]",0,711898,d8bd2392b225babf7a39ef16c82e79016db04a36,33,8,2,15334,,,0,"Fix os-keypairs pagination links

The API URL is '/os-keypairs', not '/keypairs'. Attempting to use these
pagination links as-is will result in a HTTP 404 (Not Found).

Change-Id: Ic04568caecc138e6016418f6878d031c4a0d3fb4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-bug: #1866373
(cherry picked from commit f31efe0a0e3f194ca415ac41c225f63dbb69267b)
(cherry picked from commit 93f903d7949194a3e00647d8a17b2d3bee3904e5)
(cherry picked from commit 85052c055fb062f4a2ca7bb833f1cb344073b6de)
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/711898/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/views/keypairs.py', 'doc/api_samples/keypairs/v2.35/keypairs-list-user2-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/keypairs/v2.35/keypairs-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/keypairs/v2.35/keypairs-list-user2-resp.json.tpl', 'doc/api_samples/keypairs/v2.35/keypairs-list-resp.json']",5,384248e9d065ba6e33d27ad68fbe3a582d972be9,bug/1866373," ""href"": ""http://openstack.example.com/v2.1/6f70656e737461636b20342065766572/os-keypairs?limit=1&marker=keypair-5d935425-31d5-48a7-a0f1-e76e9813f2c3"",} "," ""href"": ""http://openstack.example.com/v2.1/6f70656e737461636b20342065766572/keypairs?limit=1&marker=keypair-5d935425-31d5-48a7-a0f1-e76e9813f2c3"",}",7,7
openstack%2Fkolla~master~Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920,openstack/kolla,master,Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920,CI: publish AArch64 Debian/source images,MERGED,2020-03-19 11:15:02.000000000,2020-03-19 19:33:10.000000000,2020-03-19 19:29:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-19 11:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3068b6f36be27a7e8795f0722c5906947f87032f', 'message': 'CI: publish AArch64 Debian/source images\n\nWe want to test upgrades on aarch64. For this we need to publish images.\n\nAArch64 images with get ""-aarch64"" added to tag to not collide with\nx86-64 ones.\n\nChange-Id: Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920\n'}, {'number': 2, 'created': '2020-03-19 15:28:03.000000000', 'files': ['.zuul.d/debian.yaml', 'tests/templates/kolla-build.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c2a3380707c67f5d1202bc83855357c9d2c6a240', 'message': 'CI: publish AArch64 Debian/source images\n\nWe want to test upgrades on aarch64. For this we need to publish images.\n\nAArch64 images will get ""-aarch64"" added to tag to not collide with\nx86-64 ones.\n\nChange-Id: Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920\n'}]",3,713847,c2a3380707c67f5d1202bc83855357c9d2c6a240,15,4,2,24072,,,0,"CI: publish AArch64 Debian/source images

We want to test upgrades on aarch64. For this we need to publish images.

AArch64 images will get ""-aarch64"" added to tag to not collide with
x86-64 ones.

Change-Id: Ibae2578b4bc18c0ab7fcc1840c39bb86659ab920
",git fetch https://review.opendev.org/openstack/kolla refs/changes/47/713847/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', 'tests/templates/kolla-build.conf.j2']",2,3068b6f36be27a7e8795f0722c5906947f87032f,,"{% set tag_suffix = '-aarch64' if ansible_architecture == 'aarch64' else '' %} tag = {{ (zuul.tag if zuul.pipeline == ""release"" else zuul.branch | basename) ~ tag_suffix }}","tag = {{ (zuul.tag if zuul.pipeline == ""release"" else zuul.branch | basename) }}",9,1
openstack%2Fnova~master~I8af2ad741ca08c3d88efb9aa817c4d1470491a23,openstack/nova,master,I8af2ad741ca08c3d88efb9aa817c4d1470491a23,nova-live-migration: Ensure subnode is fenced during evacuation testing,MERGED,2020-03-18 15:19:13.000000000,2020-03-19 19:06:49.000000000,2020-03-19 16:48:32.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-18 15:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc486bc509468f9faf4d2f17710c1062961c304a', 'message': 'gate: Ensure n-cpu is stopped on the subnode during evacuation testing\n\nChange-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23\n'}, {'number': 2, 'created': '2020-03-18 15:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6cc56d6468ef5dd470aa0056f63170db1e7d4a5', 'message': 'WIP gate: Ensure n-cpu is stopped on the subnode during evacuation\n\nCloses-Bug: #1813789\nChange-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23\n'}, {'number': 3, 'created': '2020-03-18 15:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/231cddd77dce70604896038cabb9975bf3cb9fc2', 'message': 'WIP gate: Ensure n-cpu is stopped on the subnode during evacuation\n\nCloses-Bug: #1813789\nChange-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23\n'}, {'number': 4, 'created': '2020-03-18 16:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e823142a3e8c19a98eecaa110d176cdeac6a2a5', 'message': 'WIP gate: Ensure n-cpu is stopped on the subnode during evacuation\n\nCloses-Bug: #1813789\nChange-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23\n'}, {'number': 5, 'created': '2020-03-18 19:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7791f9473d7aa93b2847f14924ff222efadc4fb', 'message': 'WIP gate: Ensure n-cpu is stopped on the subnode during evacuation\n\nCloses-Bug: #1813789\nChange-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23\n'}, {'number': 6, 'created': '2020-03-18 21:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8c50abe8dc6b41028b2f3c75be4550bd1587cc5', 'message': 'WIP gate: Ensure n-cpu is stopped on the subnode during evacuation\n\nCloses-Bug: #1813789\nChange-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23\n'}, {'number': 7, 'created': '2020-03-19 08:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af8b9694870a6df7a07ce7907e1446a0e479fddd', 'message': 'gate: Ensure subnode is fenced during evacuation testing\n\nAs stated in the forced-down API [1]:\n\n> Setting a service forced down without completely fencing it will\n> likely result in the corruption of VMs on that host.\n\nPreviously only the libvirtd service was stopped on the subnode prior to\ncalling this API, allowing n-cpu, q-agt and the underlying guest domains\nto continue running on the host.\n\nThis change now ensures all devstack services are stopped on the subnode\nand all active domains destroyed.\n\nIt is hoped that this will resolve bug #1813789 where evacuations have\ntimed out due to VIF plugging issues on the new destination host.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=update-forced-down-detail#update-forced-down\n\nRelated-Bug: #1813789\nChange-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23\n'}, {'number': 8, 'created': '2020-03-19 11:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/373bd130cbd2df2bb4982d8bed09fc43b7654e70', 'message': 'gate: Ensure subnode is fenced during evacuation testing\n\nAs stated in the forced-down API [1]:\n\n> Setting a service forced down without completely fencing it will\n> likely result in the corruption of VMs on that host.\n\nPreviously only the libvirtd service was stopped on the subnode prior to\ncalling this API, allowing n-cpu, q-agt and the underlying guest domains\nto continue running on the host.\n\nThis change now ensures all devstack services are stopped on the subnode\nand all active domains destroyed.\n\nIt is hoped that this will resolve bug #1813789 where evacuations have\ntimed out due to VIF plugging issues on the new destination host.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=update-forced-down-detail#update-forced-down\n\nRelated-Bug: #1813789\nChange-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23\n'}, {'number': 9, 'created': '2020-03-19 11:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65cbab00b371eef659754dacb52095d1a23c5a34', 'message': 'nova-live-migration: Ensure subnode is fenced during evacuation testing\n\nAs stated in the forced-down API [1]:\n\n> Setting a service forced down without completely fencing it will\n> likely result in the corruption of VMs on that host.\n\nPreviously only the libvirtd service was stopped on the subnode prior to\ncalling this API, allowing n-cpu, q-agt and the underlying guest domains\nto continue running on the host.\n\nThis change now ensures all devstack services are stopped on the subnode\nand all active domains destroyed.\n\nIt is hoped that this will resolve bug #1813789 where evacuations have\ntimed out due to VIF plugging issues on the new destination host.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=update-forced-down-detail#update-forced-down\n\nRelated-Bug: #1813789\nChange-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23\n'}, {'number': 10, 'created': '2020-03-19 11:34:22.000000000', 'files': ['gate/test_evacuate.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/b097959c1cbc9af1d90c7502286bc3e20972201f', 'message': 'nova-live-migration: Ensure subnode is fenced during evacuation testing\n\nAs stated in the forced-down API [1]:\n\n> Setting a service forced down without completely fencing it will\n> likely result in the corruption of VMs on that host.\n\nPreviously only the libvirtd service was stopped on the subnode prior to\ncalling this API, allowing n-cpu, q-agt and the underlying guest domains\nto continue running on the host.\n\nThis change now ensures all devstack services are stopped on the subnode\nand all active domains destroyed.\n\nIt is hoped that this will resolve bug #1813789 where evacuations have\ntimed out due to VIF plugging issues on the new destination host.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=update-forced-down-detail#update-forced-down\n\nRelated-Bug: #1813789\nChange-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23\n'}]",10,713674,b097959c1cbc9af1d90c7502286bc3e20972201f,64,13,10,10135,,,0,"nova-live-migration: Ensure subnode is fenced during evacuation testing

As stated in the forced-down API [1]:

> Setting a service forced down without completely fencing it will
> likely result in the corruption of VMs on that host.

Previously only the libvirtd service was stopped on the subnode prior to
calling this API, allowing n-cpu, q-agt and the underlying guest domains
to continue running on the host.

This change now ensures all devstack services are stopped on the subnode
and all active domains destroyed.

It is hoped that this will resolve bug #1813789 where evacuations have
timed out due to VIF plugging issues on the new destination host.

[1] https://docs.openstack.org/api-ref/compute/?expanded=update-forced-down-detail#update-forced-down

Related-Bug: #1813789
Change-Id: I8af2ad741ca08c3d88efb9aa817c4d1470491a23
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/713674/7 && git format-patch -1 --stdout FETCH_HEAD,['gate/test_evacuate.sh'],1,dc486bc509468f9faf4d2f17710c1062961c304a,,"# Stop n-cpu but don't wait for the service to report as down, imitating the # host being fenced by an operator prior to being forced down. echo ""Stopping n-cpu on subnode"" $ANSIBLE secondary --become -f 5 -i ""$WORKSPACE/inventory"" -m shell -a ""systemctl stop devstack@n-cpu"" ",,5,0
openstack%2Fkolla-ansible~master~I5344abe93f682418a0f61c894d64b360bc129592,openstack/kolla-ansible,master,I5344abe93f682418a0f61c894d64b360bc129592,CI: CentOS 8: Enable Masakari job and periodics,MERGED,2020-03-13 10:19:28.000000000,2020-03-19 18:59:55.000000000,2020-03-19 18:55:38.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-13 10:19:28.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/368ad387d0cdbeb464d1f72d6037998a2189077f', 'message': 'CI: CentOS 8: Enable Masakari job and periodics\n\nDepends-On: https://review.opendev.org/702706\n\nChange-Id: I5344abe93f682418a0f61c894d64b360bc129592\nPartially-Implements: blueprint centos-rhel-8\n'}]",0,712897,368ad387d0cdbeb464d1f72d6037998a2189077f,7,2,1,14826,,,0,"CI: CentOS 8: Enable Masakari job and periodics

Depends-On: https://review.opendev.org/702706

Change-Id: I5344abe93f682418a0f61c894d64b360bc129592
Partially-Implements: blueprint centos-rhel-8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/712897/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,368ad387d0cdbeb464d1f72d6037998a2189077f,bp/centos-rhel-8, - kolla-ansible-centos8-source-masakari - kolla-ansible-centos8-source-zun - kolla-ansible-centos8-source-masakari - kolla-ansible-centos8-source-ironic - kolla-ansible-centos8-source-upgrade - kolla-ansible-centos8-source-mariadb, # FIXME(mgoddard): Masakari CentOS 8 job. # - kolla-ansible-centos8-source-masakari,6,2
openstack%2Fkolla~master~I1c786eda399eca4464c9d68ac040c2965350f775,openstack/kolla,master,I1c786eda399eca4464c9d68ac040c2965350f775,CentOS 8: Enable hacluster and masakari images,MERGED,2020-01-15 17:24:01.000000000,2020-03-19 18:59:21.000000000,2020-03-19 18:55:36.000000000,"[{'_account_id': 14826}, {'_account_id': 16006}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-15 17:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5da778abca39603fa3d118af012c27402f31b7f0', 'message': ""CentOS 8: Enable hacluster images\n\nCentOS 8.1 came with HA repo. So we can use it.\n\nhacluster-pcs image is disabled as we lack 'crmsh' package for it.\n\nChange-Id: I1c786eda399eca4464c9d68ac040c2965350f775\n""}, {'number': 2, 'created': '2020-01-28 14:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/03e31c96f7f739ad54d0b43f65edd882da09aecc', 'message': ""CentOS 8: Enable hacluster images\n\nCentOS 8.1 came with HA repo. So we can use it.\n\nhacluster-pcs image is disabled as we lack 'crmsh' package for it.\n\nChange-Id: I1c786eda399eca4464c9d68ac040c2965350f775\nPartially-Implements: blueprint centos-rhel-8\n""}, {'number': 3, 'created': '2020-02-04 18:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c57cce27c7c4cacdb268612e1c17397fa3f8f90a', 'message': ""CentOS 8: Enable hacluster images\n\nCentOS 8.1 came with HA repo. So we can use it.\n\nhacluster-pcs image is disabled as we lack 'crmsh' package for it.\n\nPartially-Implements: blueprint centos-rhel-8\n\nChange-Id: I1c786eda399eca4464c9d68ac040c2965350f775\n""}, {'number': 4, 'created': '2020-02-06 10:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7015ac47f5dfdcac524ddae4c83239a75695d172', 'message': ""CentOS 8: Enable hacluster images\n\nCentOS 8.1 came with HA repo. So we can use it.\n\nhacluster-pcs image is disabled as we lack 'crmsh' package for it.\n\nPartially-Implements: blueprint centos-rhel-8\n\nChange-Id: I1c786eda399eca4464c9d68ac040c2965350f775\n""}, {'number': 5, 'created': '2020-03-12 17:44:32.000000000', 'files': ['kolla/image/build.py', 'docker/hacluster/hacluster-base/Dockerfile.j2', 'docker/hacluster/hacluster-pcs/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/masakari/masakari-monitors/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/92224ccb518c90d7c269158d074d811aee2f05f0', 'message': ""CentOS 8: Enable hacluster and masakari images\n\nCentOS 8.1 came with HA repo. So we can use it.\n\nhacluster-pcs image is disabled as we lack 'crmsh' package for it.\n\nPartially-Implements: blueprint centos-rhel-8\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nChange-Id: I1c786eda399eca4464c9d68ac040c2965350f775\n""}]",1,702706,92224ccb518c90d7c269158d074d811aee2f05f0,34,7,5,24072,,,0,"CentOS 8: Enable hacluster and masakari images

CentOS 8.1 came with HA repo. So we can use it.

hacluster-pcs image is disabled as we lack 'crmsh' package for it.

Partially-Implements: blueprint centos-rhel-8

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Change-Id: I1c786eda399eca4464c9d68ac040c2965350f775
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/702706/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/hacluster/hacluster-pacemaker-remote/Dockerfile.j2', 'kolla/image/build.py', 'docker/hacluster/hacluster-corosync/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/hacluster/hacluster-pacemaker/Dockerfile.j2']",5,5da778abca39603fa3d118af012c27402f31b7f0,bp/centos-rhel-8,{{ macros.enable_extra_repos(['hacluster']) }} ,,10,1
openstack%2Ftripleo-heat-templates~master~I7a1ce4ba4ac358733747e9301038d0245ae08016,openstack/tripleo-heat-templates,master,I7a1ce4ba4ac358733747e9301038d0245ae08016,Move ceph-ansible required variables in the main group,MERGED,2020-03-18 18:05:34.000000000,2020-03-19 18:33:56.000000000,2020-03-19 18:19:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-03-18 18:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ab59560aeb1724efe3e4a6eac7a7ac47b4b7a23', 'message': ""Move ceph-ansible required variables in the main group\n\nceph-ansible v4.0.16 introduced some changes to double check\nthe ceph dashboard and grafana passwords exist, are properly\ngenerated and are not defaults values.\nHowever, the constraint introduced forced tripleo to put\nthese variables in all.yaml instead of distributing them on\nthe related roles (mgr and grafana-server).\nThis change moves these variables in ceph-base, since here\nwe're able to generate the ceph_ansible_group_vars_all.\n\nChange-Id: I7a1ce4ba4ac358733747e9301038d0245ae08016\n""}, {'number': 2, 'created': '2020-03-18 18:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e7a532ee67c2d0d7adc118d136ded89e85f494e', 'message': ""Move ceph-ansible required variables in the main group\n\nceph-ansible v4.0.16 introduced some changes to double check\nthe ceph dashboard and grafana passwords exist, are properly\ngenerated and are not defaults values.\nHowever, the constraint introduced forced tripleo to put\nthese variables in all.yaml instead of distributing them on\nthe related roles (mgr and grafana-server).\nThis change moves these variables in ceph-base, since here\nwe're able to generate the ceph_ansible_group_vars_all.\n\nChange-Id: I7a1ce4ba4ac358733747e9301038d0245ae08016\n""}, {'number': 3, 'created': '2020-03-18 18:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d939729ce448c6b1b953d7674152c78f8220b31', 'message': ""Move ceph-ansible required variables in the main group\n\nceph-ansible v4.0.16 introduced some changes to double check\nthe ceph dashboard and grafana passwords exist, are properly\ngenerated and are not defaults values.\nHowever, the constraint introduced forced tripleo to put\nthese variables in all.yaml instead of distributing them on\nthe related roles (mgr and grafana-server).\nThis change moves these variables in ceph-base, since here\nwe're able to generate the ceph_ansible_group_vars_all.\n\nCloses-Bug: #1867973\nChange-Id: I7a1ce4ba4ac358733747e9301038d0245ae08016\n""}, {'number': 4, 'created': '2020-03-18 18:54:45.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebe1a40fb94f35f90972a675d4998bb50fb6f752', 'message': ""Move ceph-ansible required variables in the main group\n\nceph-ansible v4.0.16 introduced some changes to double check\nthe ceph dashboard and grafana passwords exist, are properly\ngenerated and are not defaults values.\nHowever, the constraint introduced forced tripleo to put\nthese variables in all.yaml instead of distributing them on\nthe related roles (mgr and grafana-server).\nThis change moves these variables in ceph-base, since here\nwe're able to generate the ceph_ansible_group_vars_all.\n\nCloses-Bug: #1867973\nChange-Id: I7a1ce4ba4ac358733747e9301038d0245ae08016\n""}]",4,713706,ebe1a40fb94f35f90972a675d4998bb50fb6f752,17,8,4,25402,,,0,"Move ceph-ansible required variables in the main group

ceph-ansible v4.0.16 introduced some changes to double check
the ceph dashboard and grafana passwords exist, are properly
generated and are not defaults values.
However, the constraint introduced forced tripleo to put
these variables in all.yaml instead of distributing them on
the related roles (mgr and grafana-server).
This change moves these variables in ceph-base, since here
we're able to generate the ceph_ansible_group_vars_all.

Closes-Bug: #1867973
Change-Id: I7a1ce4ba4ac358733747e9301038d0245ae08016
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/713706/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-base.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml']",3,7ab59560aeb1724efe3e4a6eac7a7ac47b4b7a23,lp1867973,, CephDashboardAdminPassword: description: Admin password for the dashboard component type: string hidden: true dashboard_admin_password: {get_param: CephDashboardAdminPassword},22,11
openstack%2Ftripleo-common~master~I777cd2c33992254e926ba7e937f73aa5c48b786b,openstack/tripleo-common,master,I777cd2c33992254e926ba7e937f73aa5c48b786b,Improve authentication retries for slow transfers,MERGED,2020-03-18 19:39:05.000000000,2020-03-19 18:23:07.000000000,2020-03-19 18:19:40.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-18 19:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ea22eafef8eecdc4b65b9be6e44da5cbf4707b1e', 'message': 'WIP: improve retry logic\n\nChange-Id: I777cd2c33992254e926ba7e937f73aa5c48b786b\nCloses-Bug: #1867981\n'}, {'number': 2, 'created': '2020-03-18 19:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a1ec408d252683a0c6fcf513d55e5c0242e0c399', 'message': 'WIP: improve retry logic\n\nChange-Id: I777cd2c33992254e926ba7e937f73aa5c48b786b\nCloses-Bug: #1867981\n'}, {'number': 3, 'created': '2020-03-18 20:54:05.000000000', 'files': ['tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e269e34738d43f7f924d08897831095397626848', 'message': 'Improve authentication retries for slow transfers\n\nIf during the image prepare process the layer transfers take longer\nthan 5 minutes (the default TTL for tokens for most authenticated\nregistries), the process may fail to fetch and push the container to the\nundercloud registry.\n\nThis change does two things:\n\n1) Raises the HTTPError exceptions when exporting layers correctly so\n   that it is retried\n2) Improves problemattic re-authentication logic for registries other\n   than docker.io which resulted in the process failing with 401 errors.\n\nChange-Id: I777cd2c33992254e926ba7e937f73aa5c48b786b\nCloses-Bug: #1867981\n'}]",0,713724,e269e34738d43f7f924d08897831095397626848,12,7,3,14985,,,0,"Improve authentication retries for slow transfers

If during the image prepare process the layer transfers take longer
than 5 minutes (the default TTL for tokens for most authenticated
registries), the process may fail to fetch and push the container to the
undercloud registry.

This change does two things:

1) Raises the HTTPError exceptions when exporting layers correctly so
   that it is retried
2) Improves problemattic re-authentication logic for registries other
   than docker.io which resulted in the process failing with 401 errors.

Change-Id: I777cd2c33992254e926ba7e937f73aa5c48b786b
Closes-Bug: #1867981
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/713724/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py']",2,ea22eafef8eecdc4b65b9be6e44da5cbf4707b1e,bug/1867981," # Because the image layer fetching can exceed the auth # token lifetime, we may have a bad token here and don't want # to retry all of the layer fetching to just fetch the config # data. Let's try a single retry here (as check_status with # reauth by default). try: r = source_session.get(source_config_url, timeout=30) cls.check_status( session=source_session, request=r ) except requests.exceptions.HTTPError as e: LOG.debug('[%s] Config fetch failed, retrying: %s' % (image, source_config_url)) if e.response.status_code == 401: # check_status should have reauthed so try on more # time and raise again if we still have problems. r = source_session.get(source_config_url, timeout=30) cls.check_status( session=source_session, request=r ) else: raise "," r = source_session.get(source_config_url, timeout=30) cls.check_status( session=source_session, request=r )",32,5
openstack%2Fopenstack-ansible-os_barbican~master~Iacea0be2be45a2c4b7d4f224de54fdece1516e4d,openstack/openstack-ansible-os_barbican,master,Iacea0be2be45a2c4b7d4f224de54fdece1516e4d,"Missing document start ""---""",MERGED,2020-03-13 09:17:36.000000000,2020-03-19 18:13:10.000000000,2020-03-19 18:07:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-13 09:17:36.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/d7b1fb9da029a5b170205ea351cb8b25ae5548ed', 'message': 'Missing document start ""---""\n\nChange-Id: Iacea0be2be45a2c4b7d4f224de54fdece1516e4d\n'}]",0,712876,d7b1fb9da029a5b170205ea351cb8b25ae5548ed,7,2,1,23317,,,0,"Missing document start ""---""

Change-Id: Iacea0be2be45a2c4b7d4f224de54fdece1516e4d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/76/712876/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d7b1fb9da029a5b170205ea351cb8b25ae5548ed,fix,---,,1,0
openstack%2Freleases~master~I7d71b912d31c424f167b89e8a7ceee57eb4c0a01,openstack/releases,master,I7d71b912d31c424f167b89e8a7ceee57eb4c0a01,Switch freezer to cycle-with-rc,MERGED,2020-02-25 21:48:21.000000000,2020-03-19 17:48:04.000000000,2020-03-19 17:48:04.000000000,"[{'_account_id': 11904}, {'_account_id': 13940}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-25 21:48:21.000000000', 'files': ['deliverables/ussuri/freezer-web-ui.yaml', 'deliverables/ussuri/freezer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/85f5bfb0cc1981bae78afc60323a2aafbfbdbb46', 'message': 'Switch freezer to cycle-with-rc\n\nDeliverables following the cycle-with-intermediary model are expected\nto release multiple times throughout the development cycle. Since\nfreezer only released once last cycle, and has not done a release\nyet this cycle, this proposes changing the release model to cycle-with-rc\nso the expectation is only that it will release an RC by the end of\nthe cycle prior to doing the final release.\n\nFor the team, please respond to this patch in one of the following ways:\n\n* -1 this patch and follow up with an intermediary release\n* +1 this patch and we will switch over the release model\n* -1 this patch, but acknowledge a release will be done prior to the\n  RC1 deadline.\n\nChange-Id: I7d71b912d31c424f167b89e8a7ceee57eb4c0a01\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,709844,85f5bfb0cc1981bae78afc60323a2aafbfbdbb46,14,6,1,11904,,,0,"Switch freezer to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
freezer only released once last cycle, and has not done a release
yet this cycle, this proposes changing the release model to cycle-with-rc
so the expectation is only that it will release an RC by the end of
the cycle prior to doing the final release.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I7d71b912d31c424f167b89e8a7ceee57eb4c0a01
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/709844/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/freezer-web-ui.yaml', 'deliverables/ussuri/freezer.yaml']",2,85f5bfb0cc1981bae78afc60323a2aafbfbdbb46,ussuri-cwi,release-model: cycle-with-rc,release-model: cycle-with-intermediary,2,2
openstack%2Fpython-openstackclient~master~If664bfe3c9fdcb69c7046eb16c5d32602d1b3262,openstack/python-openstackclient,master,If664bfe3c9fdcb69c7046eb16c5d32602d1b3262,Allow setting floating IP description,MERGED,2020-03-18 17:00:12.000000000,2020-03-19 17:38:28.000000000,2020-03-19 17:34:13.000000000,"[{'_account_id': 2}, {'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 31738}]","[{'number': 1, 'created': '2020-03-18 17:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5d29d25b35762f0ad22fb4405dcac9237f5fb134', 'message': 'Allow setting floating IP description\n\nChange-Id: If664bfe3c9fdcb69c7046eb16c5d32602d1b3262\nStory: 2007439\nTask: 39094\n'}, {'number': 2, 'created': '2020-03-18 18:10:36.000000000', 'files': ['openstackclient/network/v2/floating_ip.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_network.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d2826e89e99ba63335a468e50e49db2fad6ab337', 'message': 'Allow setting floating IP description\n\nChange-Id: If664bfe3c9fdcb69c7046eb16c5d32602d1b3262\nStory: 2007439\nTask: 39094\n'}]",1,713698,d2826e89e99ba63335a468e50e49db2fad6ab337,13,6,2,31738,,,0,"Allow setting floating IP description

Change-Id: If664bfe3c9fdcb69c7046eb16c5d32602d1b3262
Story: 2007439
Task: 39094
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/98/713698/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/floating_ip.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_network.py']",2,5d29d25b35762f0ad22fb4405dcac9237f5fb134,bug/2007439," def test_description_option(self): arglist = [ self.floating_ip.id, '--port', self.floating_ip.port_id, '--description', self.floating_ip.description, ] verifylist = [ ('floating_ip', self.floating_ip.id), ('port', self.floating_ip.port_id), ('description', self.floating_ip.description), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) attrs = { 'port_id': self.floating_ip.port_id, 'description': self.floating_ip.description, } self.network.find_ip.assert_called_once_with( self.floating_ip.id, ignore_missing=False, ) self.network.update_ip.assert_called_once_with( self.floating_ip, **attrs) ",,34,0
openstack%2Freleases~master~Ieedb57f1f424088ea590bf31d5323a33a7d4ffb9,openstack/releases,master,Ieedb57f1f424088ea590bf31d5323a33a7d4ffb9,Release freezer ussuri deliverables,ABANDONED,2020-03-19 17:31:19.000000000,2020-03-19 17:33:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-19 17:31:19.000000000', 'files': ['deliverables/ussuri/freezer-web-ui.yaml', 'deliverables/ussuri/freezer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/afc59d311860b13451a6c2a1866d3868fc0b1b6b', 'message': 'Release freezer ussuri deliverables\n\nChange-Id: Ieedb57f1f424088ea590bf31d5323a33a7d4ffb9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713942,afc59d311860b13451a6c2a1866d3868fc0b1b6b,2,1,1,11904,,,0,"Release freezer ussuri deliverables

Change-Id: Ieedb57f1f424088ea590bf31d5323a33a7d4ffb9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/713942/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/freezer-web-ui.yaml', 'deliverables/ussuri/freezer.yaml']",2,afc59d311860b13451a6c2a1866d3868fc0b1b6b,freezer,releases: - version: 7.3.0 projects: - repo: openstack/freezer hash: 9fe571734516d10dba2b9d90c5f61a228d34dafd - repo: openstack/freezer-api hash: 2a283bf34a5d9f5e7bb7d562a54de2e12a1b3857 - repo: openstack/freezer-dr hash: b9ef93c2f1aa86ee6aafe569661e62ff49f8024b flags: - forced,,18,0
openstack%2Fkolla-ansible~master~I56b3fc1be6940d97905cdb2c4452b846f106c071,openstack/kolla-ansible,master,I56b3fc1be6940d97905cdb2c4452b846f106c071,CI: Enable fluentd in MariaDB jobs,MERGED,2020-03-18 14:16:17.000000000,2020-03-19 17:24:32.000000000,2020-03-19 17:19:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-18 14:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/10e46117679ec072ffcc84da63528271922babd0', 'message': 'CI: Enable fluentd in MariaDB jobs\n\nSince fluentd is disabled in MariaDB jobs - haproxy logs are not getting\npopulated.\n\nChange-Id: I56b3fc1be6940d97905cdb2c4452b846f106c071\n'}, {'number': 2, 'created': '2020-03-18 14:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b77e119f18975e441522ce0e5f14669b18676466', 'message': 'CI: Enable fluentd in MariaDB jobs\n\nSince fluentd is disabled in MariaDB jobs - haproxy logs are not getting\npopulated.\n\nChange-Id: I56b3fc1be6940d97905cdb2c4452b846f106c071\n'}, {'number': 3, 'created': '2020-03-18 14:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bc1a74431bd4bb915cd6071cbadde47a46b5cdad', 'message': 'CI: Enable fluentd in MariaDB jobs\n\nSince fluentd is disabled in MariaDB jobs - haproxy logs are not getting\npopulated.\n\nChange-Id: I56b3fc1be6940d97905cdb2c4452b846f106c071\n'}, {'number': 4, 'created': '2020-03-18 17:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a776a5129c60fbdc271b826d8b0436cf50812e97', 'message': 'CI: Enable fluentd in MariaDB jobs\n\nSince fluentd is disabled in MariaDB jobs - haproxy logs are not getting\npopulated.\n\nChange-Id: I56b3fc1be6940d97905cdb2c4452b846f106c071\nDepends-on: https://review.opendev.org/713704\n'}, {'number': 5, 'created': '2020-03-19 09:01:26.000000000', 'files': ['tests/templates/globals-default.j2', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/866a6ba16a2edd01555d5388b11187a77d17d7f5', 'message': 'CI: Enable fluentd in MariaDB jobs\n\nSince fluentd is disabled in MariaDB jobs - haproxy logs are not getting\npopulated.\n\nChange-Id: I56b3fc1be6940d97905cdb2c4452b846f106c071\nDepends-on: https://review.opendev.org/713704\n'}]",0,713663,866a6ba16a2edd01555d5388b11187a77d17d7f5,30,3,5,22629,,,0,"CI: Enable fluentd in MariaDB jobs

Since fluentd is disabled in MariaDB jobs - haproxy logs are not getting
populated.

Change-Id: I56b3fc1be6940d97905cdb2c4452b846f106c071
Depends-on: https://review.opendev.org/713704
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/713663/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,10e46117679ec072ffcc84da63528271922babd0,,"enable_fluentd: ""yes""","enable_fluentd: ""no""",1,1
openstack%2Fsushy-oem-idrac~master~I607967a7bd2b618175c2dce4fafe264a3eb6a63c,openstack/sushy-oem-idrac,master,I607967a7bd2b618175c2dce4fafe264a3eb6a63c,Drop support for Python 2.7,MERGED,2020-02-28 09:37:39.000000000,2020-03-19 17:21:48.000000000,2020-03-19 17:21:48.000000000,"[{'_account_id': 8580}, {'_account_id': 10250}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 26340}]","[{'number': 1, 'created': '2020-02-28 09:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/bb50acaf6ae0f757ea1f4d52548175a775043d82', 'message': 'Cap sushy version for python 2\n\nSince we still support Python 2.7 we need to cap the sushy version\nsince starting from 3.0.0 it supports Python 3 only.\n\nChange-Id: I607967a7bd2b618175c2dce4fafe264a3eb6a63c\n'}, {'number': 2, 'created': '2020-02-28 09:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/f42fc5615b2e9e8c59541979c7dd213cf10c0f74', 'message': 'Cap sushy version for python 2\n\nSince we still support Python 2.7 we need to cap the sushy version\nsince starting from 3.0.0 it supports Python 3 only.\n\nChange-Id: I607967a7bd2b618175c2dce4fafe264a3eb6a63c\n'}, {'number': 3, 'created': '2020-02-28 10:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/41a5188abb0ac4eadaa3d38c26aa0e4b6abe9788', 'message': 'Cap sushy version for python 2\n\nSince we still support Python 2.7 we need to cap the sushy version\nsince starting from 3.0.0 it supports Python 3 only.\n\nChange-Id: I607967a7bd2b618175c2dce4fafe264a3eb6a63c\n'}, {'number': 4, 'created': '2020-03-02 14:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/2628606076235da7f527ceaba5af297aae0b29b0', 'message': ""Drop support for Python 2.7\n\nThe feature that requires this library, the\nidrac-redfish-virtual-media, only appeared in ussuri, which\nsupports Pytho n3 only, so we don't need to keep supporting\nPython 2.7 here.\n\nChange-Id: I607967a7bd2b618175c2dce4fafe264a3eb6a63c\n""}, {'number': 5, 'created': '2020-03-02 14:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/b36a1e390897a7c7a0cf33d7638e45783fe0df87', 'message': ""Drop support for Python 2.7\n\nThe feature that requires this library, the\nidrac-redfish-virtual-media, only appeared in ussuri, which\nsupports Pytho n3 only, so we don't need to keep supporting\nPython 2.7 here.\n\nChange-Id: I607967a7bd2b618175c2dce4fafe264a3eb6a63c\n""}, {'number': 6, 'created': '2020-03-13 13:36:47.000000000', 'files': ['test-requirements.txt', 'zuul.d/project.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/a9e380c06a40f63eaa19ad3ef3a151a388f0cf01', 'message': ""Drop support for Python 2.7\n\nThe feature that depends on this library, the\nidrac-redfish-virtual-media, only appeared in Ussuri, which\nsupports Python 3 only, so we don't need to keep supporting\nPython 2.7 here.\n\nChange-Id: I607967a7bd2b618175c2dce4fafe264a3eb6a63c\n""}]",4,710416,a9e380c06a40f63eaa19ad3ef3a151a388f0cf01,26,6,6,23851,,,0,"Drop support for Python 2.7

The feature that depends on this library, the
idrac-redfish-virtual-media, only appeared in Ussuri, which
supports Python 3 only, so we don't need to keep supporting
Python 2.7 here.

Change-Id: I607967a7bd2b618175c2dce4fafe264a3eb6a63c
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/16/710416/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,bb50acaf6ae0f757ea1f4d52548175a775043d82,drop-python2,sushy>=2.0.0;<3.0.0;python_version=='2.7' # Apache-2.0 sushy>=2.0.0;python_version>='3.6' # Apache-2.0,sushy>=2.0.0 # Apache-2.0,2,1
openstack%2Fmagnum~master~I3382da8d950279713861e14d97997d5a5205b1e7,openstack/magnum,master,I3382da8d950279713861e14d97997d5a5205b1e7,Fix join of status_reason,MERGED,2020-03-17 11:27:27.000000000,2020-03-19 17:12:09.000000000,2020-03-19 17:09:13.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-17 11:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/19b9d8beafa6027d18623c5a4c597c660c9a5d4d', 'message': 'Fix join of status_reason reason\n\nAt present, the status reason resolves to:\n\n    default-master <reason> ,default-worker <reason>\n\nIt should be:\n\n    default-master <reason>, default-worker <reason>\n\nThis minor patch fixes this.\n\nChange-Id: I3382da8d950279713861e14d97997d5a5205b1e7\n'}, {'number': 2, 'created': '2020-03-18 10:40:37.000000000', 'files': ['magnum/drivers/heat/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/dfea2741f2de6fb1e92b177aa230b59987bc575d', 'message': 'Fix join of status_reason\n\nAt present, the status reason resolves to:\n\n    default-master <reason> ,default-worker <reason>\n\nIt should be:\n\n    default-master <reason>, default-worker <reason>\n\nThis minor patch fixes this.\n\nTask: 39092\nStory: 2007438\n\nChange-Id: I3382da8d950279713861e14d97997d5a5205b1e7\n'}]",0,713407,dfea2741f2de6fb1e92b177aa230b59987bc575d,13,4,2,28022,,,0,"Fix join of status_reason

At present, the status reason resolves to:

    default-master <reason> ,default-worker <reason>

It should be:

    default-master <reason>, default-worker <reason>

This minor patch fixes this.

Task: 39092
Story: 2007438

Change-Id: I3382da8d950279713861e14d97997d5a5205b1e7
",git fetch https://review.opendev.org/openstack/magnum refs/changes/07/713407/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/heat/driver.py'],1,19b9d8beafa6027d18623c5a4c597c660c9a5d4d,status_reason," self.cluster.status_reason = ', '.join(reasons)"," self.cluster.status_reason = ' ,'.join(reasons)",1,1
openstack%2Fkolla-ansible~master~I83d820efcc7e86bac9f8bda26a8f8bece72159e6,openstack/kolla-ansible,master,I83d820efcc7e86bac9f8bda26a8f8bece72159e6,Fix deployment of fluentd without any enabled OpenStack services,MERGED,2020-03-18 17:37:41.000000000,2020-03-19 17:10:27.000000000,2020-03-19 17:07:14.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-18 17:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3fe31a8982593b33f3c3b40da32c46a5b3098987', 'message': ""Fix deployment of fluentd without any enabled OpenStack services\n\nFluentd cannot accept empty 'path' parameter.\n\nI refactored the service list following the general pattern\nwe have.\n\nChange-Id: I83d820efcc7e86bac9f8bda26a8f8bece72159e6\nCloses-bug: #1867953\n""}, {'number': 2, 'created': '2020-03-18 20:18:04.000000000', 'files': ['ansible/roles/common/defaults/main.yml', 'releasenotes/notes/bug-1867953-4897a2c05aba43c6.yaml', 'ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/561b33cbb25f46157d4c6d279c04e56e8314a3c1', 'message': ""Fix deployment of fluentd without any enabled OpenStack services\n\nFluentd cannot accept empty 'path' parameter.\n\nI refactored the service list following the general pattern\nwe have.\n\nChange-Id: I83d820efcc7e86bac9f8bda26a8f8bece72159e6\nCloses-bug: #1867953\n""}]",0,713704,561b33cbb25f46157d4c6d279c04e56e8314a3c1,22,5,2,30491,,,0,"Fix deployment of fluentd without any enabled OpenStack services

Fluentd cannot accept empty 'path' parameter.

I refactored the service list following the general pattern
we have.

Change-Id: I83d820efcc7e86bac9f8bda26a8f8bece72159e6
Closes-bug: #1867953
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/713704/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/defaults/main.yml', 'releasenotes/notes/bug-1867953-4897a2c05aba43c6.yaml', 'ansible/roles/common/templates/conf/input/00-global.conf.j2']",3,3fe31a8982593b33f3c3b40da32c46a5b3098987,bug/1867953,"{% if fluentd_enabled_input_openstack_services | length > 0 -%} path {% for service in fluentd_enabled_input_openstack_services %}/var/log/kolla/{{ service }}/*.log{% if not loop.last %},{% endif %}{% endfor %}{%- endif %}","{% set services = [ ( 'aodh', enable_aodh ), ( 'barbican', enable_barbican ), ( 'blazar', enable_blazar ), ( 'ceilometer', enable_ceilometer ), ( 'cinder', enable_cinder ), ( 'cloudkitty', enable_cloudkitty ), ( 'congress', enable_congress ), ( 'cyborg', enable_cyborg ), ( 'designate', enable_designate ), ( 'freezer', enable_freezer ), ( 'glance', enable_glance ), ( 'gnocchi', enable_gnocchi ), ( 'heat', enable_heat ), ( 'horizon', enable_horizon ), ( 'ironic', enable_ironic ), ( 'ironic-inspector', enable_ironic ), ( 'karbor', enable_karbor ), ( 'keystone', enable_keystone ), ( 'kuryr', enable_kuryr ), ( 'magnum', enable_magnum ), ( 'manila', enable_manila ), ( 'masakari', enable_masakari ), ( 'mistral', enable_mistral ), ( 'monasca', enable_monasca ), ( 'mongodb', enable_mongodb ), ( 'murano', enable_murano ), ( 'neutron', enable_neutron ), ( 'nova', enable_nova ), ( 'octavia', enable_octavia ), ( 'panko', enable_panko ), ( 'qinling', enable_qinling ), ( 'rally', enable_rally ), ( 'sahara', enable_sahara ), ( 'searchlight', enable_searchlight ), ( 'senlin', enable_senlin ), ( 'solum', enable_solum ), ( 'tacker', enable_tacker ), ( 'trove', enable_trove ), ( 'watcher', enable_watcher ), ( 'zun', enable_zun ) ] %} path {% for service, enabled in services if enabled | bool %}/var/log/kolla/{{ service }}/*.log{% if not loop.last %},{% endif %}{% endfor %}",94,43
openstack%2Fpython-openstackclient~stable%2Ftrain~I7b89c4f818865073947e0850e86c18d0d2415a51,openstack/python-openstackclient,stable/train,I7b89c4f818865073947e0850e86c18d0d2415a51,Fix router create/show if extraroute not supported,MERGED,2020-03-18 10:05:19.000000000,2020-03-19 17:08:14.000000000,2020-03-19 17:05:46.000000000,"[{'_account_id': 2}, {'_account_id': 55}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 10:05:19.000000000', 'files': ['openstackclient/network/v2/router.py', 'openstackclient/tests/unit/network/v2/test_router.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ce825bbd2730cbf1897ca70cd0b5dac8ac107689', 'message': 'Fix router create/show if extraroute not supported\n\nIf neutron does not support extraroute l3 extension, the route column\nformatter fails.\n\nChange-Id: I7b89c4f818865073947e0850e86c18d0d2415a51\n(cherry picked from commit 509ca3ed36b4ef512a47ff8d39c9df751084015a)\n'}]",0,713607,ce825bbd2730cbf1897ca70cd0b5dac8ac107689,8,4,1,9542,,,0,"Fix router create/show if extraroute not supported

If neutron does not support extraroute l3 extension, the route column
formatter fails.

Change-Id: I7b89c4f818865073947e0850e86c18d0d2415a51
(cherry picked from commit 509ca3ed36b4ef512a47ff8d39c9df751084015a)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/07/713607/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/router.py', 'openstackclient/tests/unit/network/v2/test_router.py']",2,ce825bbd2730cbf1897ca70cd0b5dac8ac107689,," def test_show_no_extra_route_extension(self): _router = network_fakes.FakeRouter.create_one_router({'routes': None}) arglist = [ _router.name, ] verifylist = [ ('router', _router.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) with mock.patch.object( self.network, ""find_router"", return_value=_router): columns, data = self.cmd.take_action(parsed_args) self.assertIn(""routes"", columns) self.assertIsNone(list(data)[columns.index('routes')].human_readable()) ",,19,1
openstack%2Fironic-tempest-plugin~master~Ie84504670c8ac017324f903bb5ac45e1e837f5ac,openstack/ironic-tempest-plugin,master,Ie84504670c8ac017324f903bb5ac45e1e837f5ac,Remove check for API version in validate_scheduling,MERGED,2020-03-10 09:40:51.000000000,2020-03-19 17:07:00.000000000,2020-03-19 17:04:25.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-10 09:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a282ce82695403c0bb69b80feb1fa97520ad0268', 'message': 'Remove check for API version in validate_scheduling\n\nAPI version 1.37 is from Queens, we can safelly remove\nthe verification for resource class and traits, since\nthe releases older than queens are not supported.\n\nChange-Id: Ie84504670c8ac017324f903bb5ac45e1e837f5ac\n'}, {'number': 2, 'created': '2020-03-10 13:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/7289959712aa3f62ff2ab7de998a52e47254362c', 'message': 'Remove check for API version in validate_scheduling\n\nAPI version 1.37 is from Queens, we can safelly remove\nthe verification for resource class and traits, since\nthe releases older than queens are not supported.\n\nChange-Id: Ie84504670c8ac017324f903bb5ac45e1e837f5ac\n'}, {'number': 3, 'created': '2020-03-10 16:47:55.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/8a1125e81e185989682f176365b4ee4c03cece6c', 'message': 'Remove check for API version in validate_scheduling\n\nAPI version 1.37 is from Queens, we can safelly remove\nthe verification for resource class and traits, since\nthe releases older than queens are not supported.\n\nChange-Id: Ie84504670c8ac017324f903bb5ac45e1e837f5ac\n'}]",2,712030,8a1125e81e185989682f176365b4ee4c03cece6c,24,6,3,15519,,,0,"Remove check for API version in validate_scheduling

API version 1.37 is from Queens, we can safelly remove
the verification for resource class and traits, since
the releases older than queens are not supported.

Change-Id: Ie84504670c8ac017324f903bb5ac45e1e837f5ac
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/30/712030/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py'],1,a282ce82695403c0bb69b80feb1fa97520ad0268,refactor_validate_scheduling,," # Try to get a node with resource class (1.21) and traits (1.37). # TODO(mgoddard): Remove this when all stable releases support these # API versions. for version in ('1.37', '1.21'): if self._is_version_supported(version): node = self.get_node(instance_id=self.instance['id'], api_version=version) break else: # Neither API is supported - cannot test. LOG.warning(""Cannot validate resource class and trait based "" ""scheduling as these require API version 1.21 and "" ""1.37 respectively"") return ",0,15
openstack%2Ftripleo-ansible~stable%2Ftrain~I7592707c2a17654e521f6f136eabcb76c8152fba,openstack/tripleo-ansible,stable/train,I7592707c2a17654e521f6f136eabcb76c8152fba,Improve idempotency for images in podman container,MERGED,2020-03-18 20:04:45.000000000,2020-03-19 16:36:44.000000000,2020-03-19 16:17:27.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-18 20:04:45.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3a62ce32844321c19cc2877855049375c2a6f47b', 'message': 'Improve idempotency for images in podman container\n\nAdd a new variable which would be used for strict images comparing\nUse by default a ""lite mode"" which compares only image and tag.\n\nChange-Id: I7592707c2a17654e521f6f136eabcb76c8152fba\n(cherry picked from commit 466539208531f8613cd260e34b53dfb4ed813be8)\n'}]",0,713731,3a62ce32844321c19cc2877855049375c2a6f47b,14,5,1,3153,,,0,"Improve idempotency for images in podman container

Add a new variable which would be used for strict images comparing
Use by default a ""lite mode"" which compares only image and tag.

Change-Id: I7592707c2a17654e521f6f136eabcb76c8152fba
(cherry picked from commit 466539208531f8613cd260e34b53dfb4ed813be8)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/713731/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,3a62ce32844321c19cc2877855049375c2a6f47b,idemp/train," image_strict: description: - Whether to compare images in idempotency by taking into account a full name with registry and namespaces. type: bool default: False # TODO(sshnaidm): for strict image compare mode use SHAs mode = self.params['image_strict'] if mode is None or not mode: # In a idempotency 'lite mode' assume all images from different registries are the same before = before.replace("":latest"", """") after = after.replace("":latest"", """") before = before.split(""/"")[-1] after = after.split(""/"")[-1]"," # TODO(sshnaidm): for strict image compare use SHAs strip_from_name = [ ""docker.io/library/"", ""docker.io/"", "":latest"", ] for repl in strip_from_name: before = before.replace(repl, """") after = after.replace(repl, """")",14,9
openstack%2Freleases~master~I0f9b5c4dd1e90570802813291ea0f70c6e0683a1,openstack/releases,master,I0f9b5c4dd1e90570802813291ea0f70c6e0683a1,[Telemetry] Transition Rocky to EM,MERGED,2020-02-26 00:59:34.000000000,2020-03-19 16:29:53.000000000,2020-03-19 16:29:53.000000000,"[{'_account_id': 308}, {'_account_id': 14107}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 00:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/17238f4f5a3010cf0f922baee6733cb069494dd9', 'message': '[Telemetry] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I0f9b5c4dd1e90570802813291ea0f70c6e0683a1\n'}, {'number': 2, 'created': '2020-02-28 18:12:24.000000000', 'files': ['deliverables/rocky/ceilometer.yaml', 'deliverables/rocky/aodh.yaml', 'deliverables/rocky/ceilometermiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/439108e1e322cd24088c99bb6c05b8727ae5f3de', 'message': '[Telemetry] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I0f9b5c4dd1e90570802813291ea0f70c6e0683a1\n'}]",1,709880,439108e1e322cd24088c99bb6c05b8727ae5f3de,12,4,2,11904,,,0,"[Telemetry] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I0f9b5c4dd1e90570802813291ea0f70c6e0683a1
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/709880/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/ceilometer.yaml', 'deliverables/rocky/aodh.yaml', 'deliverables/rocky/ceilometermiddleware.yaml']",3,17238f4f5a3010cf0f922baee6733cb069494dd9,rocky-em, - version: rocky-em projects: - repo: openstack/ceilometermiddleware hash: 8332b9eaff3a59026e7af1a7339525440a960d51,,12,0
openstack%2Frpm-packaging~stable%2Fstein~Id13245a48966b03bc5bc23880df42286986bd98b,openstack/rpm-packaging,stable/stein,Id13245a48966b03bc5bc23880df42286986bd98b,keystoneauth1: update to 3.13.2,MERGED,2020-03-19 09:53:53.000000000,2020-03-19 16:28:06.000000000,2020-03-19 16:28:06.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-19 09:53:53.000000000', 'files': ['openstack/keystoneauth1/keystoneauth1.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/80c7ebae2703bb41ea83fb6611ab3a11545631bc', 'message': 'keystoneauth1: update to 3.13.2\n\nThis new release allows us to run unit tests in 2020.\n\nDepends-On: I3dc22cbbc55c69da2b559fb266f251e0f0074038\nChange-Id: Id13245a48966b03bc5bc23880df42286986bd98b\n'}]",0,713811,80c7ebae2703bb41ea83fb6611ab3a11545631bc,13,8,1,13294,,,0,"keystoneauth1: update to 3.13.2

This new release allows us to run unit tests in 2020.

Depends-On: I3dc22cbbc55c69da2b559fb266f251e0f0074038
Change-Id: Id13245a48966b03bc5bc23880df42286986bd98b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/11/713811/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystoneauth1/keystoneauth1.spec.j2'],1,80c7ebae2703bb41ea83fb6611ab3a11545631bc,,Version: 3.13.2,Version: 3.13.1,1,1
openstack%2Fnova~stable%2Frocky~Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c,openstack/nova,stable/rocky,Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c,Replace glance command with openstack command,ABANDONED,2019-02-14 21:46:47.000000000,2020-03-19 16:24:59.000000000,,"[{'_account_id': 7634}, {'_account_id': 12898}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-14 21:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc4cac56c20698b91643ee12aaf20871e52c9dd5', 'message': 'Replace glance command with openstack command\n\nReplace glance command with openstack command\nin user/certificate-validation.rst.\n\nChange-Id: Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c\n(cherry picked from commit 7b55e4c05fbe3b2a12db431c63bd2f45cb0276d4)\n'}, {'number': 2, 'created': '2019-03-25 01:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98f86f5274eb55a696bf432ebf1e817edc5cfeff', 'message': 'Replace glance command with openstack command\n\nReplace glance command with openstack command\nin user/certificate-validation.rst.\n\nChange-Id: Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c\n(cherry picked from commit 7b55e4c05fbe3b2a12db431c63bd2f45cb0276d4)\n'}, {'number': 3, 'created': '2019-04-08 07:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58dfba1b229db9dac4ee5092af4a038498fd3233', 'message': 'Replace glance command with openstack command\n\nReplace glance command with openstack command\nin user/certificate-validation.rst.\n\nChange-Id: Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c\n(cherry picked from commit 7b55e4c05fbe3b2a12db431c63bd2f45cb0276d4)\n'}, {'number': 4, 'created': '2019-04-15 03:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad1927d74dccca0841f4fc98e04368fbb29686e8', 'message': 'Replace glance command with openstack command\n\nReplace glance command with openstack command\nin user/certificate-validation.rst.\n\nChange-Id: Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c\n(cherry picked from commit 7b55e4c05fbe3b2a12db431c63bd2f45cb0276d4)\n'}, {'number': 5, 'created': '2019-08-15 21:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15e2a8aa4e91fa67a1efef61072a460044c53263', 'message': 'Replace glance command with openstack command\n\nReplace glance command with openstack command\nin user/certificate-validation.rst.\n\nChange-Id: Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c\n(cherry picked from commit 7b55e4c05fbe3b2a12db431c63bd2f45cb0276d4)\n'}, {'number': 6, 'created': '2019-09-24 02:41:12.000000000', 'files': ['doc/source/user/certificate-validation.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/31f748097dc76a60c5740dcacf228575915e98ab', 'message': 'Replace glance command with openstack command\n\nReplace glance command with openstack command\nin user/certificate-validation.rst.\n\nChange-Id: Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c\n(cherry picked from commit 7b55e4c05fbe3b2a12db431c63bd2f45cb0276d4)\n'}]",0,637060,31f748097dc76a60c5740dcacf228575915e98ab,32,6,6,7634,,,0,"Replace glance command with openstack command

Replace glance command with openstack command
in user/certificate-validation.rst.

Change-Id: Ie6608bef906c21faeeeb6f9776bdbf8a0f898d0c
(cherry picked from commit 7b55e4c05fbe3b2a12db431c63bd2f45cb0276d4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/637060/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/certificate-validation.rst'],1,cc4cac56c20698b91643ee12aaf20871e52c9dd5,update_certificate-validation_doc-stable/rocky," $ cert_client_uuid=125e6199-2de4-46e3-b091-8e2401ef0d63 $ openstack image create \ --public \ --file cirros.tar.gz \ cirros_client_signedImage +------------------+------------------------------------------------------------------------+ | Field | Value | +------------------+------------------------------------------------------------------------+ | checksum | d41d8cd98f00b204e9800998ecf8427e | | container_format | bare | | created_at | 2019-02-06T06:29:56Z | | disk_format | qcow2 | | file | /v2/images/17f48a6c-e592-446e-9c91-00fbc436d47e/file | | id | 17f48a6c-e592-446e-9c91-00fbc436d47e | | min_disk | 0 | | min_ram | 0 | | name | cirros_client_signedImage | | owner | 45e13e63606f40d6b23275c3cd91aec2 | | properties | img_signature='swA/hZi3WaNh35VMGlnfGnBWuXMlUbdO8h306uG7W3nwOyZP6dGRJ3 | | | Xoi/07Bo2dMUB9saFowqVhdlW5EywQAK6vgDsi9O5aItHM4u7zUPw+2e8eeaIoHlGhTks | | | kmW9isLy0mYA9nAfs3coChOIPXW4V8VgVXEfb6VYGHWm0nShiAP1e0do9WwitsE/TVKoS | | | QnWjhggIYij5hmUZ628KAygPnXklxVhqPpY/dFzL+tTzNRD0nWAtsc5wrl6/8HcNzZsaP | | | oexAysXJtcFzDrf6UQu66D3UvFBVucRYL8S3W56It3Xqu0+InLGaXJJpNagVQBb476zB2 | | | ZzZ5RJ/4Zyxw==', | | | img_signature_certificate_uuid='125e6199-2de4-46e3-b091-8e2401ef0d63', | | | img_signature_hash_method='SHA-256', | | | img_signature_key_type='RSA-PSS', | | | os_hash_algo='sha512', | | | os_hash_value='cf83e1357eefb8bdf1542850d66d8007d620e4050b5715dc83f4a92 | | | 1d36ce9ce47d0d13c5d85f2b0ff8318d2877eec2f63b931bd47417a81a538327af927d | | | a3e', | | | os_hidden='False' | | protected | False | | schema | /v2/schemas/image | | size | 0 | | status | active | | tags | | | updated_at | 2019-02-06T06:29:56Z | | virtual_size | None | | visibility | public | +------------------+------------------------------------------------------------------------+"," $ cert_client_uuid=fab1d219-5df8-4c20-8401-7985008c3dbc.. TODO: Change this example to use ""openstack image create"". $ glance image-create \ --property name=cirros_client_signedImage \ --property is-public=true \ --file cirros.tar.gz +--------------------------------+----------------------------------------------------------------------------------+ | Property | Value | +--------------------------------+----------------------------------------------------------------------------------+ | checksum | bc7f8676e345b3ff6411235343f8bad1 | | container_format | bare | | created_at | 2018-02-19T16:39:06Z | | disk_format | qcow2 | | id | d5bdf259-8ef7-4d32-8baf-eb3d73848627 | | img_signature | TUqhAq1lXopY7U1kgXJVL5W37lIp49yeikpGyX2Ga6mni3uYBoPi428ILRizXT25u26PMVynjmuxgJyM | | | zMsb//1Bs0Th+58vlzo4O3Q+axYgRXnHT6d+Lq/AXUAA3U+7NDNmrJXRT1bRwkeiv6j952ExaDpamiAg | | | 0xvYTQDJB6j/O24hwUdx7ddx6/zrTHqq3aaff2dkKFJs8TMKit/uLutwngaL4dIz0ZJMrPjcQ1K4nZRj | | | Fm3UYfSomSypr4BWb2s2OZsaOhEh5OSZNDIMl5ca8fJXAx357qg6Ox7q/pYZCrVh4W/a6QbqHCg3R/6n | | | +0kvKTqsOYj0JOnKO7JVlA== | | img_signature_certificate_uuid | fab1d219-5df8-4c20-8401-7985008c3dbc | | img_signature_hash_method | SHA-256 | | img_signature_key_type | RSA-PSS | | is-public | true | | min_disk | 0 | | min_ram | 0 | | name | cirros_client_signedImage | | owner | 40ead7a81dc64f9fb6779984745ac1c2 | | protected | False | | size | 434333 | | status | active | | tags | [] | | updated_at | 2018-02-19T16:39:06Z | | virtual_size | None | | visibility | shared | +--------------------------------+----------------------------------------------------------------------------------+",41,36
openstack%2Fopenstack-helm~master~Ie22dbf85a3ed42bc0cd13579218e03d5912e67ea,openstack/openstack-helm,master,Ie22dbf85a3ed42bc0cd13579218e03d5912e67ea,Disable seperate placement deployment in stein,MERGED,2020-03-18 09:49:27.000000000,2020-03-19 16:21:47.000000000,2020-03-19 16:17:35.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 09:49:27.000000000', 'files': ['tools/deployment/component/compute-kit/compute-kit.sh', 'nova/templates/netpol-placement.yaml', 'nova/values_overrides/train-disable-nova-placement.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/280da524253b1847ca77abc06f35ffde851f6184', 'message': 'Disable seperate placement deployment in stein\n\nThis commit is to deploy placement service as a part\nof nova chart for stein release. This also enables\nseperate placement chart deployment for train release.\n\nChange-Id: Ie22dbf85a3ed42bc0cd13579218e03d5912e67ea\n'}]",0,713604,280da524253b1847ca77abc06f35ffde851f6184,8,3,1,29397,,,0,"Disable seperate placement deployment in stein

This commit is to deploy placement service as a part
of nova chart for stein release. This also enables
seperate placement chart deployment for train release.

Change-Id: Ie22dbf85a3ed42bc0cd13579218e03d5912e67ea
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/04/713604/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/component/compute-kit/compute-kit.sh', 'nova/templates/netpol-placement.yaml', 'nova/values_overrides/train-disable-nova-placement.yaml']",3,280da524253b1847ca77abc06f35ffde851f6184,,,,7,2
openstack%2Ftripleo-common~master~I3991df7063c1f8e70266a9c3a4db363abcea3348,openstack/tripleo-common,master,I3991df7063c1f8e70266a9c3a4db363abcea3348,Remove mistral from the snmp password function,MERGED,2020-03-13 22:05:40.000000000,2020-03-19 16:12:26.000000000,2020-03-19 16:09:18.000000000,"[{'_account_id': 3153}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-13 22:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b18da4c9b25543d9f4b5b7873adea5717b0ca5c7', 'message': 'Remove mistral from the snmp password function\n\nThis change removes mistral from the `get_snmpd_readonly_user_password` which\nreturns the read only snmp password for cielometer. The function will now read\nany file password yaml file provided, using a default of\n`~/tripleo-undercloud-passwords.yaml` which is the authoratative source of all\npasswords within an environment.\n\nTests have been updated to support the newly refactored function.\n\nStory: 2007414\nTask: 39061\n\nChange-Id: I3991df7063c1f8e70266a9c3a4db363abcea3348\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-03-16 12:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/330d9a5cee093ffb5c9c6ace1478e5d94d14722f', 'message': 'Remove mistral from the snmp password function\n\nThis change removes mistral from the `get_snmpd_readonly_user_password` which\nreturns the read only snmp password for cielometer. The function will now read\nany file password yaml file provided, using a default of\n`~/tripleo-undercloud-passwords.yaml` which is the authoratative source of all\npasswords within an environment.\n\nTests have been updated to support the newly refactored function.\n\nStory: 2007414\nTask: 39061\n\nChange-Id: I3991df7063c1f8e70266a9c3a4db363abcea3348\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-03-17 22:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/16726c845566342090c9f15db245fe0c3e1d0d58', 'message': 'Remove mistral from the snmp password function\n\nThis change removes mistral from the `get_snmpd_readonly_user_password` which\nreturns the read only snmp password for cielometer. The function will now read\nany file password yaml file provided, using a default of\n`~/tripleo-undercloud-passwords.yaml` which is the authoratative source of all\npasswords within an environment If no file is found a 24 character password\nwill be returned.\n\nTests have been updated to support the newly refactored function.\n\nStory: 2007414\nTask: 39061\n\nChange-Id: I3991df7063c1f8e70266a9c3a4db363abcea3348\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-03-18 13:02:18.000000000', 'files': ['tripleo_common/tests/utils/test_passwords.py', 'tripleo_common/utils/passwords.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/036c2d345dffcfd4fbf872b5fa98ff0ab6b2c787', 'message': 'Remove mistral from the snmp password function\n\nThis change removes mistral from the `get_snmpd_readonly_user_password` which\nreturns the read only snmp password for cielometer. The function will now read\nany file password yaml file provided, using a default of\n`~/tripleo-undercloud-passwords.yaml` which is the authoratative source of all\npasswords within an environment If no file is found a 24 character password\nwill be returned.\n\nTests have been updated to support the newly refactored function.\n\nStory: 2007414\nTask: 39061\n\nChange-Id: I3991df7063c1f8e70266a9c3a4db363abcea3348\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,713070,036c2d345dffcfd4fbf872b5fa98ff0ab6b2c787,23,6,4,7353,,,0,"Remove mistral from the snmp password function

This change removes mistral from the `get_snmpd_readonly_user_password` which
returns the read only snmp password for cielometer. The function will now read
any file password yaml file provided, using a default of
`~/tripleo-undercloud-passwords.yaml` which is the authoratative source of all
passwords within an environment If no file is found a 24 character password
will be returned.

Tests have been updated to support the newly refactored function.

Story: 2007414
Task: 39061

Change-Id: I3991df7063c1f8e70266a9c3a4db363abcea3348
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/713070/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_passwords.py', 'tripleo_common/utils/passwords.py']",2,b18da4c9b25543d9f4b5b7873adea5717b0ca5c7,mistral_to_ansible,"import yaml elif name == 'SnmpdReadonlyUserPassword': passwords[name] = get_snmpd_readonly_user_password()def get_snmpd_readonly_user_password(pw_file=None): """"""Return mistral password from a given yaml file. :param pw_file: Full path to a given password file. If no file is defined the file used will be ~/tripleo-undercloud-passwords.yaml. :type pw_file: String :returns: String """""" if not pw_file: pw_file = os.path.expanduser('~/tripleo-undercloud-passwords.yaml') with open(pw_file) as f: passwords = yaml.load(f.read()) return passwords['parameter_defaults']['SnmpdReadonlyUserPassword']"," elif mistralclient and name == 'SnmpdReadonlyUserPassword': passwords[name] = get_snmpd_readonly_user_password(mistralclient)def get_snmpd_readonly_user_password(mistralclient): mistral_env = mistralclient.environments.get(""tripleo.undercloud-config"") try: return mistral_env.variables['undercloud_ceilometer_snmpd_password'] except KeyError: LOG.error(""Undercloud ceilometer SNMPd password missing!"") raise",51,13
openstack%2Ftripleo-quickstart-extras~master~I728183f608eb7ab9571d66cc8c515fe52f4dafc0,openstack/tripleo-quickstart-extras,master,I728183f608eb7ab9571d66cc8c515fe52f4dafc0,Adjust molecule requirements,MERGED,2020-03-17 21:15:57.000000000,2020-03-19 16:12:26.000000000,2020-03-19 16:09:16.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 21:15:57.000000000', 'files': ['tox.ini', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1b5274793b92383255df18b41ee49045458b7522', 'message': 'Adjust molecule requirements\n\nThis change uses the same pytest/molecule requirements spec as\ntripleo-quickstart and breaks out the requirements into their own\nfile.\n\n[1] https://review.opendev.org/#/c/713532/\nCloses-Bug: #1867035\n\nChange-Id: I728183f608eb7ab9571d66cc8c515fe52f4dafc0\n'}]",0,713542,1b5274793b92383255df18b41ee49045458b7522,9,4,1,4571,,,0,"Adjust molecule requirements

This change uses the same pytest/molecule requirements spec as
tripleo-quickstart and breaks out the requirements into their own
file.

[1] https://review.opendev.org/#/c/713532/
Closes-Bug: #1867035

Change-Id: I728183f608eb7ab9571d66cc8c515fe52f4dafc0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/42/713542/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'molecule-requirements.txt']",2,1b5274793b92383255df18b41ee49045458b7522,bug/1867035,"ansible ansi2html # GPL (soft-dependency of pytest-html) docker paramiko>=2.5.0 # LGPL (soft-dependency of docker that enables ssh protocol) pytest pytest-cov pytest-html pytest-molecule mock molecule>=3.0,<3.1 selinux>=0.2.1 ",,12,11
openstack%2Fzaqar-tempest-plugin~master~I81cb467bb63d60bd7cdd8d04d878fdc6bd6e8b69,openstack/zaqar-tempest-plugin,master,I81cb467bb63d60bd7cdd8d04d878fdc6bd6e8b69,Fix bug/1863560,MERGED,2020-03-19 15:40:57.000000000,2020-03-19 16:00:06.000000000,2020-03-19 16:00:06.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 15:40:57.000000000', 'files': ['zaqar_tempest_plugin/tests/v2/test_queues.py', 'zaqar_tempest_plugin/api_schema/response/v2/queues.py'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/2fb8cc5ef217ddf871158109a3cc678e7f62ed78', 'message': 'Fix bug/1863560\n\nChange-Id: I81cb467bb63d60bd7cdd8d04d878fdc6bd6e8b69\n'}]",0,713907,2fb8cc5ef217ddf871158109a3cc678e7f62ed78,6,2,1,8846,,,0,"Fix bug/1863560

Change-Id: I81cb467bb63d60bd7cdd8d04d878fdc6bd6e8b69
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/07/713907/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar_tempest_plugin/tests/v2/test_queues.py', 'zaqar_tempest_plugin/api_schema/response/v2/queues.py']",2,2fb8cc5ef217ddf871158109a3cc678e7f62ed78,bug/1863560,," }, 'count': { 'type': 'number'",0,4
openstack%2Fnova~master~I605b29e37c9deec027b1ce7f2253a0b40ef360bc,openstack/nova,master,I605b29e37c9deec027b1ce7f2253a0b40ef360bc,DNM: Add reproducer for subunit parser error,ABANDONED,2019-12-24 17:17:40.000000000,2020-03-19 15:50:38.000000000,,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-24 17:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0bca6f013a43644b3c4d70a11e19855dde987b6', 'message': 'DNM: Add reproducer for subunit parser error\n\nThis should let me play around with the trio of testtool, subunit and\nstestr locally to see if we can root out a cause.\n\nChange-Id: I605b29e37c9deec027b1ce7f2253a0b40ef360bc\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-Bug: #1813147\n'}, {'number': 2, 'created': '2020-03-09 15:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3c69a06a3b48442567e5aa937756b1b607c735e', 'message': 'DNM: Add reproducer for subunit parser error\n\nThis should let me play around with the trio of testtool, subunit and\nstestr locally to see if we can root out a cause.\n\nChange-Id: I605b29e37c9deec027b1ce7f2253a0b40ef360bc\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-Bug: #1813147\n'}, {'number': 3, 'created': '2020-03-17 04:20:23.000000000', 'files': ['nova/tests/unit/test_utils.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/30ed5a1ef52ecec6b3ed7d02904e87101e00b85b', 'message': 'DNM: Add reproducer for subunit parser error\n\nThis should let me play around with the trio of testtool, subunit and\nstestr locally to see if we can root out a cause.\n\nChange-Id: I605b29e37c9deec027b1ce7f2253a0b40ef360bc\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-Bug: #1813147\n'}]",0,700522,30ed5a1ef52ecec6b3ed7d02904e87101e00b85b,25,10,3,15334,,,0,"DNM: Add reproducer for subunit parser error

This should let me play around with the trio of testtool, subunit and
stestr locally to see if we can root out a cause.

Change-Id: I605b29e37c9deec027b1ce7f2253a0b40ef360bc
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Related-Bug: #1813147
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/700522/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_utils.py', 'nova/utils.py']",2,c0bca6f013a43644b3c4d70a11e19855dde987b6,bug/1813147,"from __future__ import print_function import sys def log_rubbish(): for x in range(10000): LOG.debug('This is debug message %d', x) LOG.info('This is info message %d', x) LOG.warning('This is warning message %d', x) LOG.error('This is error message %d', x) print(u'This is a unicode error', file=sys.stderr) print(b'This is a bytestring error', file=sys.stderr) print(u'This is a unicode print', file=sys.stdout) print(b'This is a bytestring print', file=sys.stdout) print('This is a long error %s' + ('foobar ' * 10000), file=sys.stderr) print('This is a long print %s' + ('foobar ' * 10000), file=sys.stdout) raise Exception(b'foo')",,26,0
openstack%2Fkolla~master~Ie9b7305887b00d8784f69e1148988c891e074b3d,openstack/kolla,master,Ie9b7305887b00d8784f69e1148988c891e074b3d,CI: do not clean package cache if not publishing,ABANDONED,2020-03-18 14:55:19.000000000,2020-03-19 15:49:35.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-18 14:55:19.000000000', 'files': ['tests/templates/kolla-build.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/90b13b78c3f23e3c2f394b8b122d850c36efc81a', 'message': 'CI: do not clean package cache if not publishing\n\nCleaning package cache == fetching package info several times. We can\nreuse cache during build if we do not publish those images.\n\nOn CI it is better to finish sooner than later.\n\nChange-Id: Ie9b7305887b00d8784f69e1148988c891e074b3d\n'}]",0,713670,90b13b78c3f23e3c2f394b8b122d850c36efc81a,8,3,1,24072,,,0,"CI: do not clean package cache if not publishing

Cleaning package cache == fetching package info several times. We can
reuse cache during build if we do not publish those images.

On CI it is better to finish sooner than later.

Change-Id: Ie9b7305887b00d8784f69e1148988c891e074b3d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/713670/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/kolla-build.conf.j2'],1,90b13b78c3f23e3c2f394b8b122d850c36efc81a,ci/no-clean-package,{% else %} clean_package_cache = False,,2,0
openstack%2Foctavia~stable%2Fqueens~I78d75afd872fe27e9e4227ea8220f74d83595aac,openstack/octavia,stable/queens,I78d75afd872fe27e9e4227ea8220f74d83595aac,Flush the eth1 default route inside the netns,ABANDONED,2019-09-20 16:36:21.000000000,2020-03-19 15:49:11.000000000,,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-09-20 16:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/97792ccbc9c9bef66ba96005d528357df56c9482', 'message': 'Flush the eth1 default route inside the netns\n\nOn xenial instances we are seeing error ""RTNETLINK answers: File\nexists Failed to bring up eth1."" when bringing up the VIP interface\ninside the network namespace.\nThis patch attempts to remove any existing default routes that\nmay have previously existed before bringing up the VIP interface\nto avoid the potential for duplicate default gateways.\n\nChange-Id: I78d75afd872fe27e9e4227ea8220f74d83595aac\n'}, {'number': 2, 'created': '2019-10-29 16:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b4a1ee7f25d062d3a76b6fd2c690cea75ad07164', 'message': 'Flush the eth1 default route inside the netns\n\nOn xenial instances we are seeing error ""RTNETLINK answers: File\nexists Failed to bring up eth1."" when bringing up the VIP interface\ninside the network namespace.\nThis patch attempts to remove any existing default routes that\nmay have previously existed before bringing up the VIP interface\nto avoid the potential for duplicate default gateways.\n\nChange-Id: I78d75afd872fe27e9e4227ea8220f74d83595aac\n'}, {'number': 3, 'created': '2019-11-06 21:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0a4c78b0440c2551f62ddbcd2c985230743ca533', 'message': 'Flush the eth1 default route inside the netns\n\nOn xenial instances we are seeing error ""RTNETLINK answers: File\nexists Failed to bring up eth1."" when bringing up the VIP interface\ninside the network namespace.\nThis patch attempts to remove any existing default routes that\nmay have previously existed before bringing up the VIP interface\nto avoid the potential for duplicate default gateways.\n\nChange-Id: I78d75afd872fe27e9e4227ea8220f74d83595aac\n'}, {'number': 4, 'created': '2019-11-27 17:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3ecae097f1a17ab81fcafab3d531b9e207801ef7', 'message': 'Flush the eth1 default route inside the netns\n\nOn xenial instances we are seeing error ""RTNETLINK answers: File\nexists Failed to bring up eth1."" when bringing up the VIP interface\ninside the network namespace.\nThis patch attempts to remove any existing default routes that\nmay have previously existed before bringing up the VIP interface\nto avoid the potential for duplicate default gateways.\n\nChange-Id: I78d75afd872fe27e9e4227ea8220f74d83595aac\n'}, {'number': 5, 'created': '2019-12-02 00:53:59.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d0653bf8b3aa36d60b30c774ba483826d53a3e12', 'message': 'Flush the eth1 default route inside the netns\n\nOn xenial instances we are seeing error ""RTNETLINK answers: File\nexists Failed to bring up eth1."" when bringing up the VIP interface\ninside the network namespace.\nThis patch attempts to remove any existing default routes that\nmay have previously existed before bringing up the VIP interface\nto avoid the potential for duplicate default gateways.\n\nChange-Id: I78d75afd872fe27e9e4227ea8220f74d83595aac\n'}]",0,683537,d0653bf8b3aa36d60b30c774ba483826d53a3e12,29,5,5,11628,,,0,"Flush the eth1 default route inside the netns

On xenial instances we are seeing error ""RTNETLINK answers: File
exists Failed to bring up eth1."" when bringing up the VIP interface
inside the network namespace.
This patch attempts to remove any existing default routes that
may have previously existed before bringing up the VIP interface
to avoid the potential for duplicate default gateways.

Change-Id: I78d75afd872fe27e9e4227ea8220f74d83595aac
",git fetch https://review.opendev.org/openstack/octavia refs/changes/37/683537/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/agent/api_server/osutils.py'],1,97792ccbc9c9bef66ba96005d528357df56c9482,," default_route_flush = (""ip netns exec {ns} ip route delete "" ""default"".format(ns=consts.AMPHORA_NAMESPACE)) if flush: out = subprocess.check_output(default_route_flush.split(), stderr=subprocess.STDOUT) LOG.debug(out) except Exception as e: LOG.debug('Default route delete failed with: %s. Ignoring.', str(e)) try:",,10,0
openstack%2Fzun~master~Ib67746455a33306bb6d09a7fbfc8f543a0938c52,openstack/zun,master,Ib67746455a33306bb6d09a7fbfc8f543a0938c52,failed to delele capsule when sandbox is removed by docker,MERGED,2020-03-19 12:59:38.000000000,2020-03-19 15:41:28.000000000,2020-03-19 15:39:20.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 12:59:38.000000000', 'files': ['zun/container/docker/driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/b2f5fc4f5ba8ba7a5f5fa39c60b812ce8360771b', 'message': 'failed to delele capsule when sandbox is removed by docker\n\nChange-Id: Ib67746455a33306bb6d09a7fbfc8f543a0938c52\n'}]",0,713871,b2f5fc4f5ba8ba7a5f5fa39c60b812ce8360771b,7,2,1,23365,,,0,"failed to delele capsule when sandbox is removed by docker

Change-Id: Ib67746455a33306bb6d09a7fbfc8f543a0938c52
",git fetch https://review.opendev.org/openstack/zun refs/changes/71/713871/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/container/docker/driver.py'],1,b2f5fc4f5ba8ba7a5f5fa39c60b812ce8360771b,, with docker_utils.docker_client() as docker: try: docker.stop(capsule.container_id) except errors.APIError as api_error: if is_not_found(api_error): pass," self.stop(context, capsule, None)",6,1
openstack%2Fironic~stable%2Ftrain~Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3,openstack/ironic,stable/train,Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3,Documentation clarifications for software RAID,MERGED,2020-03-18 12:46:18.000000000,2020-03-19 15:22:28.000000000,2020-03-19 15:19:53.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-18 12:46:18.000000000', 'files': ['doc/source/admin/raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/32e6071f6702356e73aaf05a689af53a939169d4', 'message': 'Documentation clarifications for software RAID\n\nThis change clarifies which options are supported for software RAID\nand what the defaults are.\n\nChange-Id: Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3\n(cherry picked from commit 9fd0aa859cd5289822d291dfe405402273f480d3)\n'}]",0,713645,32e6071f6702356e73aaf05a689af53a939169d4,8,3,1,10239,,,0,"Documentation clarifications for software RAID

This change clarifies which options are supported for software RAID
and what the defaults are.

Change-Id: Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3
(cherry picked from commit 9fd0aa859cd5289822d291dfe405402273f480d3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/713645/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/raid.rst'],1,32e6071f6702356e73aaf05a689af53a939169d4,docs-sw-raid-stable/train,"specification of any logical disk. None of these options are supported for software RAID.details for each bare metal node. None of these options are supported for software RAID. ``false``, except for software RAID which always shares disks. particular RAID level, except for software RAID which always spans all disks. RAID interface. Not supported for software RAID.",specification of any logical disk.details for each bare metal node. ``false``. particular RAID level. RAID interface.,7,5
openstack%2Fopenstack-ansible-repo_build~stable%2Ftrain~I3bd6d3d987e32ee11c5f1fcb5c1b4b0fc797e7f9,openstack/openstack-ansible-repo_build,stable/train,I3bd6d3d987e32ee11c5f1fcb5c1b4b0fc797e7f9,repo_build: Do not sync links directory between repo_containers,MERGED,2020-03-19 12:28:15.000000000,2020-03-19 15:17:47.000000000,2020-03-19 15:15:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-19 12:28:15.000000000', 'files': ['tasks/repo_package_sync.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/42240ffba12b7640e6203614dad3f95a743e0db5', 'message': 'repo_build: Do not sync links directory between repo_containers\n\nThe links directory is only used by repo_build when creating requirement\nwheels. The repo_build process builds wheels for it\'s own distro/arch combo\nin serial. So in a mixed environment, where you might have ubuntu-16.04-x86_64\nand ubuntu-18.04-x86_64 repo_containers, heck even centos-7-x86_64 for that\nmatter, copying the links pointing to pools/distro-arch over to another\nrepo_container creating wheels for a different distro/arch leads to bad builds\ngetting deployed later.\n\nWe also need to prevent the later lsync config from spreading these out\nhttps://review.opendev.org/#/c/705390/\n\nWe can prevent this mix-up from happening even further by setting\nrepo_build_global_links_path: ""{{ repo_build_base_path }}/links/{{ repo_build_os_distro_version }}""\nas suggested in https://review.opendev.org/#/c/708115/\n\nThis is probably only relevant for stable/rocky.\nDepends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce\nChange-Id: I3bd6d3d987e32ee11c5f1fcb5c1b4b0fc797e7f9\n(cherry picked from commit 4bd52916e724046ca3b138e55b443d730547c0b6)\n'}]",0,713864,42240ffba12b7640e6203614dad3f95a743e0db5,7,2,1,25600,,,0,"repo_build: Do not sync links directory between repo_containers

The links directory is only used by repo_build when creating requirement
wheels. The repo_build process builds wheels for it's own distro/arch combo
in serial. So in a mixed environment, where you might have ubuntu-16.04-x86_64
and ubuntu-18.04-x86_64 repo_containers, heck even centos-7-x86_64 for that
matter, copying the links pointing to pools/distro-arch over to another
repo_container creating wheels for a different distro/arch leads to bad builds
getting deployed later.

We also need to prevent the later lsync config from spreading these out
https://review.opendev.org/#/c/705390/

We can prevent this mix-up from happening even further by setting
repo_build_global_links_path: ""{{ repo_build_base_path }}/links/{{ repo_build_os_distro_version }}""
as suggested in https://review.opendev.org/#/c/708115/

This is probably only relevant for stable/rocky.
Depends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
Change-Id: I3bd6d3d987e32ee11c5f1fcb5c1b4b0fc797e7f9
(cherry picked from commit 4bd52916e724046ca3b138e55b443d730547c0b6)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/64/713864/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/repo_package_sync.yml'],1,42240ffba12b7640e6203614dad3f95a743e0db5,,," - src: ""{{ repo_build_global_links_path }}"" dest: ""{{ repo_build_base_path }}""",0,2
openstack%2Fopenstack-ansible-ops~master~Ieec4c185206a0d1d44e04d1667a6ecdfd18bb46e,openstack/openstack-ansible-ops,master,Ieec4c185206a0d1d44e04d1667a6ecdfd18bb46e,Enable default nginx paths on hosts where nginx is running,MERGED,2020-03-13 13:54:58.000000000,2020-03-19 15:06:01.000000000,2020-03-19 15:01:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-03-13 13:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e503fc889feb24ef7acd0bd5a2d7966a877acc74', 'message': 'Enable default nginx paths on hosts where nginx is running\n\nThe nginx module setup in filebeat currently only looks for nginx\nlogs within containers. This commit also enables the default nginx\nlog paths (/var/log/nginx/*.log) when nginx is running directly on\nthe physical host. This allows e.g. filebeat to access nginx logs\nfrom Kibana when kibana is not running in an openstack container.\n\nChange-Id: Ieec4c185206a0d1d44e04d1667a6ecdfd18bb46e\n'}, {'number': 2, 'created': '2020-03-19 12:01:49.000000000', 'files': ['elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elastic_filebeat/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a4181c96ae55520360d117fbacb378d5762c6b86', 'message': 'Enable default nginx paths on hosts where nginx is running\n\nThe nginx module setup in filebeat currently only looks for nginx\nlogs within containers. This commit also enables the default nginx\nlog paths (/var/log/nginx/*.log) when nginx is running directly on\nthe physical host. This allows e.g. filebeat to access nginx logs\nfrom Kibana when kibana is not running in an openstack container.\n\nChange-Id: Ieec4c185206a0d1d44e04d1667a6ecdfd18bb46e\n'}]",0,712953,a4181c96ae55520360d117fbacb378d5762c6b86,11,3,2,31004,,,0,"Enable default nginx paths on hosts where nginx is running

The nginx module setup in filebeat currently only looks for nginx
logs within containers. This commit also enables the default nginx
log paths (/var/log/nginx/*.log) when nginx is running directly on
the physical host. This allows e.g. filebeat to access nginx logs
from Kibana when kibana is not running in an openstack container.

Change-Id: Ieec4c185206a0d1d44e04d1667a6ecdfd18bb46e
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/53/712953/2 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_filebeat/tasks/main.yml', 'elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2']",2,e503fc889feb24ef7acd0bd5a2d7966a877acc74,filebeat_elastic,{% if (nginx_enabled | default(false) | bool ) %} - var/log/nginx/*access.log {% endif %} {% if (nginx_enabled | default(false) | bool ) %} - var/log/nginx/*error.log {% endif %},,8,0
openstack%2Fopenstacksdk~master~I99cef69de1047dfbf31cf2ff5535bb734f5fa61e,openstack/openstacksdk,master,I99cef69de1047dfbf31cf2ff5535bb734f5fa61e,Add support for federation mappings,MERGED,2020-03-18 12:07:10.000000000,2020-03-19 15:04:57.000000000,2020-03-19 15:02:00.000000000,"[{'_account_id': 2}, {'_account_id': 6816}, {'_account_id': 14369}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 12:07:10.000000000', 'files': ['openstack/identity/v3/_proxy.py', 'openstack/tests/unit/identity/v3/test_mapping.py', 'openstack/identity/v3/mapping.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d10d31b3686125fefd92f293bb9fc607926e2227', 'message': 'Add support for federation mappings\n\nChange-Id: I99cef69de1047dfbf31cf2ff5535bb734f5fa61e\n'}]",1,713633,d10d31b3686125fefd92f293bb9fc607926e2227,11,4,1,14369,,,0,"Add support for federation mappings

Change-Id: I99cef69de1047dfbf31cf2ff5535bb734f5fa61e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/33/713633/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/identity/v3/_proxy.py', 'openstack/tests/unit/identity/v3/test_mapping.py', 'openstack/identity/v3/mapping.py']",3,d10d31b3686125fefd92f293bb9fc607926e2227,federation/keystone_mapping,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import resource class Mapping(resource.Resource): resource_key = 'mapping' resources_key = 'mappings' base_path = '/OS-FEDERATION/mappings' # capabilities allow_create = True allow_fetch = True allow_commit = True allow_delete = True allow_list = True create_method = 'PUT' commit_method = 'PATCH' _query_mapping = resource.QueryParameters( 'id', ) # Properties #: The rules of this mapping. *Type: list* rules = resource.Body('rules', type=list) #: The identifier of the mapping. *Type: string* name = resource.Body('id') ",,170,0
openstack%2Fopenstack-ansible-ops~master~Ic2f7bf9f6e95fe16bd76cf083ce60b92dc499ebc,openstack/openstack-ansible-ops,master,Ic2f7bf9f6e95fe16bd76cf083ce60b92dc499ebc,Enable Haproxy Filebeat Module,MERGED,2020-03-13 12:05:05.000000000,2020-03-19 15:03:58.000000000,2020-03-19 15:01:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-03-13 12:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2a02134d14e5580c68d32d68a2cf08c4de9c7a8c', 'message': 'Enable Haproxy Filebeat Module\n\nFilebeat has a module available to directly parse haproxy logs from\nsyslog. This commit enables this module when filebeat is deployed to\na host on which the haproxy process is running.\n\nChange-Id: Ic2f7bf9f6e95fe16bd76cf083ce60b92dc499ebc\n'}, {'number': 2, 'created': '2020-03-19 12:01:26.000000000', 'files': ['elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elastic_filebeat/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2a40936187307301eb991f163c334f83b3fb87b6', 'message': 'Enable Haproxy Filebeat Module\n\nFilebeat has a module available to directly parse haproxy logs from\nsyslog. This commit enables this module when filebeat is deployed to\na host on which the haproxy process is running.\n\nChange-Id: Ic2f7bf9f6e95fe16bd76cf083ce60b92dc499ebc\n'}]",0,712931,2a40936187307301eb991f163c334f83b3fb87b6,15,4,2,31004,,,0,"Enable Haproxy Filebeat Module

Filebeat has a module available to directly parse haproxy logs from
syslog. This commit enables this module when filebeat is deployed to
a host on which the haproxy process is running.

Change-Id: Ic2f7bf9f6e95fe16bd76cf083ce60b92dc499ebc
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/31/712931/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_filebeat/tasks/main.yml', 'elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2']",2,2a02134d14e5580c68d32d68a2cf08c4de9c7a8c,filebeat_elastic,{% if (haproxy_enabled | default(false) | bool ) %} - module: haproxy log: enabled: true{% endif %},#- module: haproxy #log: #enabled: true,6,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I82c4de4a63817707a2b0ed0ced827be37c0d0463,openstack/tripleo-heat-templates,stable/train,I82c4de4a63817707a2b0ed0ced827be37c0d0463,Use jinja raw tag instead of quoted concatenation,MERGED,2020-03-17 13:06:19.000000000,2020-03-19 15:03:38.000000000,2020-03-19 15:03:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-17 13:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4668878f0cbac3c2647bc76f02840a79bff48326', 'message': 'Use jinja raw tag instead of quoted concatenation\n\nMany of the lines are difficult to grasp due to the crazy\nquotation and concatenation implemented to get the desired\nresult from generating playbooks via a jinja template.\n\nWe can make it easier to read and easier to understand by\nusing the jinja raw tag instead. This eases the maintenace\nburden on us all and helps us sleep better at night.\n\nChange-Id: I82c4de4a63817707a2b0ed0ced827be37c0d0463\n(cherry picked from commit 42059a1031e77479ab3a8f4729da610d2fec3d5d)\n'}, {'number': 2, 'created': '2020-03-17 13:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6db0f93910437cc3af226ac7cfd8dbced994b1bd', 'message': 'Use jinja raw tag instead of quoted concatenation\n\nMany of the lines are difficult to grasp due to the crazy\nquotation and concatenation implemented to get the desired\nresult from generating playbooks via a jinja template.\n\nWe can make it easier to read and easier to understand by\nusing the jinja raw tag instead. This eases the maintenace\nburden on us all and helps us sleep better at night.\n\nChange-Id: I82c4de4a63817707a2b0ed0ced827be37c0d0463\n(cherry picked from commit 42059a1031e77479ab3a8f4729da610d2fec3d5d)\n'}, {'number': 3, 'created': '2020-03-18 09:41:55.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18e574ac4c10184474e6e606d5ac264bc29e94b5', 'message': 'Use jinja raw tag instead of quoted concatenation\n\nMany of the lines are difficult to grasp due to the crazy\nquotation and concatenation implemented to get the desired\nresult from generating playbooks via a jinja template.\n\nWe can make it easier to read and easier to understand by\nusing the jinja raw tag instead. This eases the maintenace\nburden on us all and helps us sleep better at night.\n\nChange-Id: I82c4de4a63817707a2b0ed0ced827be37c0d0463\n(cherry picked from commit 42059a1031e77479ab3a8f4729da610d2fec3d5d)\n'}]",0,713435,18e574ac4c10184474e6e606d5ac264bc29e94b5,13,8,3,6816,,,0,"Use jinja raw tag instead of quoted concatenation

Many of the lines are difficult to grasp due to the crazy
quotation and concatenation implemented to get the desired
result from generating playbooks via a jinja template.

We can make it easier to read and easier to understand by
using the jinja raw tag instead. This eases the maintenace
burden on us all and helps us sleep better at night.

Change-Id: I82c4de4a63817707a2b0ed0ced827be37c0d0463
(cherry picked from commit 42059a1031e77479ab3a8f4729da610d2fec3d5d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/713435/3 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,4668878f0cbac3c2647bc76f02840a79bff48326,scale-2020-stable/train," gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}""{% raw %} tripleo_hosts_entries_undercloud_hosts_entries: ""{{ undercloud_hosts_entries }}"" tripleo_hosts_entries_extra_hosts_entries: ""{{ extra_hosts_entries }}"" tripleo_hosts_entries_vip_hosts_entries: ""{{ vip_hosts_entries }}"" {% endraw %} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}""{% raw %} with_items: ""{{ hostvars[inventory_hostname]['pre_deployments_' ~ tripleo_role_name]|default([]) }}"" path: ""{{ lookup('first_found', NetworkConfig_paths, errors='ignore') }}"" - ""{{ tripleo_role_name ~ '/' ~ inventory_hostname ~ '/NetworkConfig' }}"" - ""{{ tripleo_role_name ~ '/NetworkConfig' }}"" src: ""{{ NetworkConfig_stat.stat.path }}"" async: ""{{ async_timeout | default(300) }}"" poll: ""{{ async_poll | default(3) }}"" environment: bridge_name: ""{{ neutron_physical_bridge_name }}"" interface_name: ""{{ neutron_public_interface_name }}"" content: ""{{ NetworkConfig_result.rc }}"" validate_controllers_icmp: ""{{ validate_controllers_icmp }}"" validate_gateways_icmp: ""{{ validate_gateways_icmp }}"" validate_fqdn: ""{{ validate_fqdn }}"" validate_ntp: ""{{ validate_ntp }}"" ping_test_ips: ""{{ ping_test_ips | to_json }}"" tripleo_role_name: ""{{ tripleo_role_name }}"" artifact_urls: ""{{ deploy_artifact_urls }}""{% endraw %} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" name: Deploy step tasks for {{step}} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}""{% raw %} copy: content: ""{{ dict(step=step | int) | to_json }}""{% endraw %} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}""{% raw %} with_items: ""{{ hostvars[inventory_hostname]['post_deployments_' ~ tripleo_role_name]|default([]) }}""{% endraw %} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" serial: ""{% raw %}{{ update_serial | default({% endraw %}{{ role.update_serial | default(1) }}{% raw %})}}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"""," gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tripleo_hosts_entries_undercloud_hosts_entries: {{ '""{{ ' }} undercloud_hosts_entries {{ ' }}""' }} tripleo_hosts_entries_extra_hosts_entries: {{ '""{{ ' }} extra_hosts_entries {{ ' }}""' }} tripleo_hosts_entries_vip_hosts_entries: {{ '""{{ ' }} vip_hosts_entries {{ ' }}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} with_items: ""{{ '{{' }} hostvars[inventory_hostname]['pre_deployments_' ~ tripleo_role_name]|default([]) {{ '}}' }}"" path: {{ '""{{' }} lookup('first_found', NetworkConfig_paths, errors='ignore') {{ '}}""' }} - {{ '""{{' }} tripleo_role_name ~ '/' ~ inventory_hostname ~ '/NetworkConfig' {{ '}}""' }} - {{ '""{{' }} tripleo_role_name ~ '/NetworkConfig' {{ '}}""' }} src: {{ '""{{' }} NetworkConfig_stat.stat.path {{ '}}""' }} async: {{ '""{{' }} async_timeout | default(300) {{ '}}""' }} poll: {{ '""{{' }} async_poll | default(3) {{ '}}""' }} environment: bridge_name: {{ '""{{' }} neutron_physical_bridge_name {{ '}}""' }} interface_name: {{ '""{{' }} neutron_public_interface_name {{ '}}""' }} content: {{ '""{{' }} NetworkConfig_result.rc {{ '}}""' }} validate_controllers_icmp: {{ '""{{' }} validate_controllers_icmp {{ '}}""' }} validate_gateways_icmp: {{ '""{{' }} validate_gateways_icmp {{ '}}""' }} validate_fqdn: {{ '""{{' }} validate_fqdn {{ '}}""' }} validate_ntp: {{ '""{{' }} validate_ntp {{ '}}""' }} ping_test_ips: {{ '""{{' }} ping_test_ips | to_json {{ '}}""' }} tripleo_role_name: {{ '""{{' }} tripleo_role_name {{ '}}""' }} artifact_urls: {{ '""{{' }} deploy_artifact_urls {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} copy: content: ""{{ '{{' }} dict(step=step|int) | to_json {{ '}}' }}"" gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} with_items: ""{{ '{{' }} hostvars[inventory_hostname]['post_deployments_' ~ tripleo_role_name]|default([]) {{ '}}' }}"" gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} serial: {{ '""{{' }} update_serial | default({{role.update_serial | default(1)}}) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }}",51,42
openstack%2Fkayobe~stable%2Ftrain~I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,openstack/kayobe,stable/train,I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,Fix Kayobe overcloud introspection data save,MERGED,2020-03-19 11:04:16.000000000,2020-03-19 14:57:13.000000000,2020-03-19 14:53:47.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 11:04:16.000000000', 'files': ['releasenotes/notes/fix-introspection-data-save-cfc83714f66fd63c.yaml', 'ansible/overcloud-introspection-data-save.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0a0d37c7208b0977ca6dcb12d8dacb348cdcc116', 'message': 'Fix Kayobe overcloud introspection data save\n\nKayobe overcloud introspection data save fails because the dynamic\ninventory script siliently breaks causing Ansible to parse it as a\nstatic inventory file. The failure occurs due to OS_TOKEN being set.\nThis change works around setting OS_TOKEN before running the dynamic\ninventory script by setting OS_CLOUD before querying inspector.\n\nConfirmed on Stein and Train, and verified in both environments.\n\nStory: 2007326\nTask: 38846\nChange-Id: I57fbf91ae3440d3e4e6a64cd7d05151e299c9322\n(cherry picked from commit 167e2ff3db19f32544e324bd02f4586e36486650)\n'}]",0,713838,0a0d37c7208b0977ca6dcb12d8dacb348cdcc116,8,3,1,14826,,,0,"Fix Kayobe overcloud introspection data save

Kayobe overcloud introspection data save fails because the dynamic
inventory script siliently breaks causing Ansible to parse it as a
static inventory file. The failure occurs due to OS_TOKEN being set.
This change works around setting OS_TOKEN before running the dynamic
inventory script by setting OS_CLOUD before querying inspector.

Confirmed on Stein and Train, and verified in both environments.

Story: 2007326
Task: 38846
Change-Id: I57fbf91ae3440d3e4e6a64cd7d05151e299c9322
(cherry picked from commit 167e2ff3db19f32544e324bd02f4586e36486650)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/38/713838/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-introspection-data-save-cfc83714f66fd63c.yaml', 'ansible/overcloud-introspection-data-save.yml']",2,0a0d37c7208b0977ca6dcb12d8dacb348cdcc116,," -a ""env OS_CLOUD=bifrost-inspector openstack baremetal introspection data save {% raw %}{{ inventory_hostname }}{% endraw %}""'"," export OS_TOKEN=fake-token && -a ""env OS_URL=http://localhost:5050 openstack baremetal introspection data save {% raw %}{{ inventory_hostname }}{% endraw %}""'",7,2
openstack%2Fkolla-ansible~master~I8437300d621448782e964d877b2614ca606f5849,openstack/kolla-ansible,master,I8437300d621448782e964d877b2614ca606f5849,CI: Add instance console log to test-core-openstack.sh,MERGED,2020-03-19 11:25:02.000000000,2020-03-19 14:53:34.000000000,2020-03-19 14:50:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-19 11:25:02.000000000', 'files': ['tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b2d45e5b87632205c848ab50b3629405ed90207a', 'message': 'CI: Add instance console log to test-core-openstack.sh\n\nSometimes ping & ssh to the instance are failing - outputting instance console\nlog can help in the case when there are metadata access issues (or other\nissues).\n\nChange-Id: I8437300d621448782e964d877b2614ca606f5849\n'}]",0,713853,b2d45e5b87632205c848ab50b3629405ed90207a,11,4,1,22629,,,0,"CI: Add instance console log to test-core-openstack.sh

Sometimes ping & ssh to the instance are failing - outputting instance console
log can help in the case when there are metadata access issues (or other
issues).

Change-Id: I8437300d621448782e964d877b2614ca606f5849
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/713853/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-core-openstack.sh'],1,b2d45e5b87632205c848ab50b3629405ed90207a,," echo ""Console log:"" openstack console log show kolla_boot_test",,2,0
openstack%2Fopenstack-ansible-ops~master~Ic58f0c18b97f134b1574f16042cffd8c4c8423ad,openstack/openstack-ansible-ops,master,Ic58f0c18b97f134b1574f16042cffd8c4c8423ad,Update deprecated xpack monitoring settings,ABANDONED,2020-03-11 18:22:18.000000000,2020-03-19 14:44:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-03-11 18:22:18.000000000', 'files': ['elk_metrics_7x/templates/_macros.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ca1320beceb76fb4d4d1d42072e60a9d72b15a42', 'message': 'Update deprecated xpack monitoring settings\n\nBeat config files currently use a deprecated setting, xpack.monitoring.*\nfor confiugration of elasticsearch monitoring. This has been migrated to\nsimply monitoring.* in the Elastic repositories and is scheduled for\nremoval in the next major version release. This commit updates this\nconfiguration for the beats in order to suppress the associated warning\nmessage on beat startup.\n\nChange-Id: Ic58f0c18b97f134b1574f16042cffd8c4c8423ad\n'}]",0,712528,ca1320beceb76fb4d4d1d42072e60a9d72b15a42,5,2,1,31004,,,0,"Update deprecated xpack monitoring settings

Beat config files currently use a deprecated setting, xpack.monitoring.*
for confiugration of elasticsearch monitoring. This has been migrated to
simply monitoring.* in the Elastic repositories and is scheduled for
removal in the next major version release. This commit updates this
configuration for the beats in order to suppress the associated warning
message on beat startup.

Change-Id: Ic58f0c18b97f134b1574f16042cffd8c4c8423ad
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/28/712528/1 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/templates/_macros.j2'],1,ca1320beceb76fb4d4d1d42072e60a9d72b15a42,xpack_deprecation,monitoring.enabled: truemonitoring.elasticsearch:,xpack.monitoring.enabled: truexpack.monitoring.elasticsearch:,2,2
openstack%2Ftripleo-heat-templates~master~Ib3501c0b680b623e8997392e5e2e46e361f4dec7,openstack/tripleo-heat-templates,master,Ib3501c0b680b623e8997392e5e2e46e361f4dec7,"Remove ""shared"" flag for bind-mount",ABANDONED,2020-03-17 10:30:27.000000000,2020-03-19 14:39:52.000000000,,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 12393}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-17 10:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05674520ca1b3c56927810dd4631eb3578b31c3d', 'message': 'Remove ""shared"" flag for bind-mount\n\nThe ""shared"" flag is useful only for sub-mounts, in order to expose them\nto replica and origin.\nWe don\'t use that feature in TripleO, meaning this flag can be dropped\nsafely.\n\nChange-Id: Ib3501c0b680b623e8997392e5e2e46e361f4dec7\n'}, {'number': 2, 'created': '2020-03-18 12:37:17.000000000', 'files': ['deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eff9cbb92955e54984c48546b1d494c3978fd26c', 'message': 'Remove ""shared"" flag for bind-mount\n\nThe ""shared"" flag is useful only for sub-mounts, in order to expose them\nto replica and origin.\nWe don\'t use that feature in TripleO, meaning this flag can be dropped\nsafely.\n\nChange-Id: Ib3501c0b680b623e8997392e5e2e46e361f4dec7\n'}]",0,713399,eff9cbb92955e54984c48546b1d494c3978fd26c,16,10,2,28223,,,0,"Remove ""shared"" flag for bind-mount

The ""shared"" flag is useful only for sub-mounts, in order to expose them
to replica and origin.
We don't use that feature in TripleO, meaning this flag can be dropped
safely.

Change-Id: Ib3501c0b680b623e8997392e5e2e46e361f4dec7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/713399/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml']",19,05674520ca1b3c56927810dd4631eb3578b31c3d,selinux/no-shared, - /var/lib/openvswitch/ovn:/var/lib/openvswitch:z - /var/lib/openvswitch/ovn:/run/openvswitch:z - /var/lib/openvswitch/ovn:/var/lib/ovn:z - /var/lib/openvswitch/ovn:/etc/openvswitch:z - /var/lib/openvswitch/ovn:/etc/ovn:z - /var/lib/openvswitch/ovn:/run/ovn:z - /var/lib/openvswitch/ovn:/var/lib/openvswitch:z - /var/lib/openvswitch/ovn:/run/openvswitch:z - /var/lib/openvswitch/ovn:/var/lib/ovn:z - /var/lib/openvswitch/ovn:/etc/openvswitch:z - /var/lib/openvswitch/ovn:/etc/ovn:z - /var/lib/openvswitch/ovn:/run/ovn:z - /var/lib/openvswitch/ovn:/run/openvswitch:z - /var/lib/openvswitch/ovn:/run/ovn:z," - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/lib/openvswitch/ovn:/var/lib/ovn:shared,z - /var/lib/openvswitch/ovn:/etc/openvswitch:shared,z - /var/lib/openvswitch/ovn:/etc/ovn:shared,z - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/lib/openvswitch/ovn:/var/lib/ovn:shared,z - /var/lib/openvswitch/ovn:/etc/openvswitch:shared,z - /var/lib/openvswitch/ovn:/etc/ovn:shared,z - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/ovn:shared,z",79,79
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8b278ca83b2afb07575dbae2496ec265c3a06473,openstack/tripleo-heat-templates,stable/train,I8b278ca83b2afb07575dbae2496ec265c3a06473,Use exists filter instead of stat where possible,MERGED,2020-03-16 15:33:32.000000000,2020-03-19 14:38:18.000000000,2020-03-19 14:38:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-16 15:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9f1270654ac6a3e2d3fd63ba4b299457242a03f', 'message': ""Use exists filter instead of stat where possible\n\nWhen checking for the existance of a file on the host where\nAnsible is being executed, using the stat module with localhost\ndelegation is rather heavy-handed. We can instead just make use\nof the 'exists' test.\n\nThis should improve execution time just a little bit and reduces\nthe number of tasks for us to maintain. We also remove the\nrepetition of the task file path by using a variable.\n\nChange-Id: I8b278ca83b2afb07575dbae2496ec265c3a06473\n(cherry picked from commit 9666a7e6456b882e206436af085db0f6e97d3dab)\n""}, {'number': 2, 'created': '2020-03-17 13:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71237c7b941f1363655da45e265f4790556df262', 'message': ""Use exists filter instead of stat where possible\n\nWhen checking for the existance of a file on the host where\nAnsible is being executed, using the stat module with localhost\ndelegation is rather heavy-handed. We can instead just make use\nof the 'exists' test.\n\nThis should improve execution time just a little bit and reduces\nthe number of tasks for us to maintain. We also remove the\nrepetition of the task file path by using a variable.\n\nChange-Id: I8b278ca83b2afb07575dbae2496ec265c3a06473\n(cherry picked from commit 9666a7e6456b882e206436af085db0f6e97d3dab)\n""}, {'number': 3, 'created': '2020-03-18 09:41:43.000000000', 'files': ['common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa42140957099976305ab33b03ceef6a4651b919', 'message': ""Use exists filter instead of stat where possible\n\nWhen checking for the existance of a file on the host where\nAnsible is being executed, using the stat module with localhost\ndelegation is rather heavy-handed. We can instead just make use\nof the 'exists' test.\n\nThis should improve execution time just a little bit and reduces\nthe number of tasks for us to maintain. We also remove the\nrepetition of the task file path by using a variable.\n\nChange-Id: I8b278ca83b2afb07575dbae2496ec265c3a06473\n(cherry picked from commit 9666a7e6456b882e206436af085db0f6e97d3dab)\n""}]",0,713271,fa42140957099976305ab33b03ceef6a4651b919,14,8,3,6816,,,0,"Use exists filter instead of stat where possible

When checking for the existance of a file on the host where
Ansible is being executed, using the stat module with localhost
delegation is rather heavy-handed. We can instead just make use
of the 'exists' test.

This should improve execution time just a little bit and reduces
the number of tasks for us to maintain. We also remove the
repetition of the task file path by using a variable.

Change-Id: I8b278ca83b2afb07575dbae2496ec265c3a06473
(cherry picked from commit 9666a7e6456b882e206436af085db0f6e97d3dab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/713271/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml']",2,a9f1270654ac6a3e2d3fd63ba4b299457242a03f,scale-2020-stable/train,"- include_tasks: ""{% raw %}{{ _task_file_path }}{% endraw %}"" vars: _task_file_path: ""{{role.name}}/deploy_steps_tasks_step0.yaml"" - ""{% raw %}'{{ playbook_dir }}/{{ _task_file_path }}' is exists{% endraw %}""","- name: Check for {{role.name}}/deploy_steps_tasks_step0.yaml delegate_to: localhost run_once: true become: false stat: path: ""{{ '{{' }} playbook_dir ~ '/' ~ '{{role.name}}' ~ '/' ~ 'deploy_steps_tasks_step0.yaml' {{ '}}' }}"" register: tasks_stat - include_tasks: {{role.name}}/deploy_steps_tasks_step0.yaml - tasks_stat.stat.exists",8,18
openstack%2Foctavia~master~I3c6459becc415d6dc0792c44ca75e717b239cd92,openstack/octavia,master,I3c6459becc415d6dc0792c44ca75e717b239cd92,"Remove the barbican ""Grant access"" from cookbook",MERGED,2020-03-17 20:48:43.000000000,2020-03-19 14:34:06.000000000,2020-03-19 14:27:34.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 20:48:43.000000000', 'files': ['doc/source/user/guides/basic-cookbook.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/82abe333adad78a34b7862bda001dc137a11e158', 'message': 'Remove the barbican ""Grant access"" from cookbook\n\nWe missed a line when removing the requirement to grant Octavia\naccess to the secret in barbican.\nThis patch corrects that oversight.\n\nChange-Id: I3c6459becc415d6dc0792c44ca75e717b239cd92\n'}]",0,713533,82abe333adad78a34b7862bda001dc137a11e158,10,4,1,11628,,,0,"Remove the barbican ""Grant access"" from cookbook

We missed a line when removing the requirement to grant Octavia
access to the secret in barbican.
This patch corrects that oversight.

Change-Id: I3c6459becc415d6dc0792c44ca75e717b239cd92
",git fetch https://review.opendev.org/openstack/octavia refs/changes/33/713533/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/guides/basic-cookbook.rst'],1,82abe333adad78a34b7862bda001dc137a11e158,,3. Create load balancer *lb1* on subnet *public-subnet*. 4. Create listener *listener1* as a TERMINATED_HTTPS listener referencing5. Create pool *pool1* as *listener1*'s default pool. 6. Add members 192.0.2.10 and 192.0.2.11 on *private-subnet* to *pool1*. 7. Create listener *listener2* as an HTTP listener with *pool1* as its,3. Grant the *admin* user access to the *tls_secret1* barbican resource. 4. Create load balancer *lb1* on subnet *public-subnet*. 5. Create listener *listener1* as a TERMINATED_HTTPS listener referencing6. Create pool *pool1* as *listener1*'s default pool. 7. Add members 192.0.2.10 and 192.0.2.11 on *private-subnet* to *pool1*. 8. Create listener *listener2* as an HTTP listener with *pool1* as its,5,6
openstack%2Foctavia~master~I2716ce93691d11100ee951a3a3f491329a4073f0,openstack/octavia,master,I2716ce93691d11100ee951a3a3f491329a4073f0,Remove all usage of six library,MERGED,2020-01-06 22:15:34.000000000,2020-03-19 14:31:27.000000000,2020-03-19 14:27:33.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-06 22:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f1932f10e2ef6dc16687407943d6e53b28f5ea73', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nCreated one helper method in common.utils for binary\nrepresentation to limit code changes.\n\nChange-Id: I2716ce93691d11100ee951a3a3f491329a4073f0\n'}, {'number': 2, 'created': '2020-01-07 21:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d46653be913e8e7d298817c6554b839686374656', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nCreated one helper method in common.utils for binary\nrepresentation to limit code changes.\n\nChange-Id: I2716ce93691d11100ee951a3a3f491329a4073f0\n'}, {'number': 3, 'created': '2020-01-07 21:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a6eb3db4053dc23c47f6eb548cb3255ec0aaac10', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nCreated one helper method in common.utils for binary\nrepresentation to limit code changes.\n\nChange-Id: I2716ce93691d11100ee951a3a3f491329a4073f0\n'}, {'number': 4, 'created': '2020-01-20 18:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/54a7296398de50710da620f00ce573b58cd0f248', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nCreated one helper method in common.utils for binary\nrepresentation to limit code changes.\n\nChange-Id: I2716ce93691d11100ee951a3a3f491329a4073f0\n'}, {'number': 5, 'created': '2020-01-21 14:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e26951ccf95137599d8faf093d0604a41cc8b3be', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nCreated one helper method in common.utils for binary\nrepresentation to limit code changes.\n\nChange-Id: I2716ce93691d11100ee951a3a3f491329a4073f0\n'}, {'number': 6, 'created': '2020-02-04 23:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e01e7256ae44b9eac9a97314da71f11a878a2ebc', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nCreated one helper method in common.utils for binary\nrepresentation to limit code changes.\n\nChange-Id: I2716ce93691d11100ee951a3a3f491329a4073f0\n'}, {'number': 7, 'created': '2020-02-18 23:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c7d514c3e0e05c643267e8cc254d4d3618da5b12', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nCreated one helper method in common.utils for binary\nrepresentation to limit code changes.\n\nChange-Id: I2716ce93691d11100ee951a3a3f491329a4073f0\n'}, {'number': 8, 'created': '2020-03-17 01:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1a51c52cd8596fdb68d91258f386b9fddf1b8e54', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nCreated one helper method in common.utils for binary\nrepresentation to limit code changes.\n\nChange-Id: I2716ce93691d11100ee951a3a3f491329a4073f0\n'}, {'number': 9, 'created': '2020-03-17 01:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/844c526367aed3e1a5a177a52b0f93bd3f880d75', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nCreated one helper method in common.utils for binary\nrepresentation to limit code changes.\n\nChange-Id: I2716ce93691d11100ee951a3a3f491329a4073f0\n'}, {'number': 10, 'created': '2020-03-18 16:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f48fc12e64a726d32db154a984277054866931cc', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nCreated one helper method in common.utils for binary\nrepresentation to limit code changes.\n\nChange-Id: I2716ce93691d11100ee951a3a3f491329a4073f0\n'}, {'number': 11, 'created': '2020-03-18 21:17:28.000000000', 'files': ['octavia/common/utils.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/amphorae/backends/health_daemon/health_daemon.py', 'octavia/certificates/generator/cert_gen.py', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/api/drivers/driver_agent/driver_listener.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/network/base.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_cert_task.py', 'octavia/__init__.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/distributor/drivers/driver_base.py', 'tools/pkcs7_to_pem.py', 'octavia/certificates/common/cert.py', 'octavia/common/exceptions.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py', 'octavia/amphorae/drivers/driver_base.py', 'octavia/certificates/generator/local.py', 'octavia/tests/common/sample_certs.py', 'octavia/amphorae/driver_exceptions/exceptions.py', 'octavia/compute/compute_base.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'octavia/certificates/manager/local.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py', 'octavia/api/drivers/utils.py', 'octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/api/common/types.py', 'octavia/common/data_models.py', 'octavia/amphorae/drivers/keepalived/jinja/jinja_cfg.py', 'octavia/tests/unit/certificates/common/test_barbican.py', 'octavia/hacking/checks.py', 'octavia/tests/common/utils.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_compute_tasks.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_cert_task.py', 'octavia/controller/worker/v2/tasks/cert_task.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/common/validate.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'requirements.txt', 'octavia/amphorae/backends/agent/api_server/amphora_info.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/certificates/manager/cert_mgr.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py', 'octavia/tests/unit/certificates/manager/test_barbican_legacy.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/certificates/common/barbican.py', 'octavia/api/v2/controllers/provider.py', 'octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/volume/volume_base.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/test_hacking.py', 'octavia/amphorae/backends/agent/api_server/udp_listener_base.py', 'octavia/controller/worker/v1/tasks/cert_task.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f6b957e8ee017f0bd5ef6c9412430576c0875e30', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nCreated one helper method in common.utils for binary\nrepresentation to limit code changes.\n\nChange-Id: I2716ce93691d11100ee951a3a3f491329a4073f0\n'}]",32,701290,f6b957e8ee017f0bd5ef6c9412430576c0875e30,43,7,11,1131,,,0,"Remove all usage of six library

Convert all code to not require six library and instead
use python 3.x logic.

Created one helper method in common.utils for binary
representation to limit code changes.

Change-Id: I2716ce93691d11100ee951a3a3f491329a4073f0
",git fetch https://review.opendev.org/openstack/octavia refs/changes/90/701290/10 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/amphorae/backends/health_daemon/health_daemon.py', 'octavia/certificates/generator/cert_gen.py', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/api/drivers/driver_agent/driver_listener.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/network/base.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_cert_task.py', 'octavia/__init__.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/distributor/drivers/driver_base.py', 'tools/pkcs7_to_pem.py', 'octavia/certificates/common/cert.py', 'octavia/common/exceptions.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py', 'octavia/amphorae/drivers/driver_base.py', 'octavia/certificates/generator/local.py', 'octavia/tests/common/sample_certs.py', 'octavia/amphorae/driver_exceptions/exceptions.py', 'octavia/compute/compute_base.py', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'octavia/certificates/manager/local.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py', 'lower-constraints.txt', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py', 'octavia/api/drivers/utils.py', 'octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/api/common/types.py', 'octavia/common/data_models.py', 'octavia/amphorae/drivers/keepalived/jinja/jinja_cfg.py', 'octavia/tests/unit/certificates/common/test_barbican.py', 'octavia/tests/common/utils.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_compute_tasks.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_cert_task.py', 'octavia/controller/worker/v2/tasks/cert_task.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/common/validate.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'requirements.txt', 'octavia/amphorae/backends/agent/api_server/amphora_info.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/certificates/manager/cert_mgr.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py', 'octavia/tests/unit/certificates/manager/test_barbican_legacy.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/certificates/common/barbican.py', 'octavia/api/v2/controllers/provider.py', 'octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/common/tls_utils/cert_parser.py', 'octavia/volume/volume_base.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/amphorae/backends/agent/api_server/udp_listener_base.py', 'octavia/controller/worker/v1/tasks/cert_task.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",69,f1932f10e2ef6dc16687407943d6e53b28f5ea73,remove-six,"from octavia.common import utils self.driver.upload_cert_amp(self.amp, utils.b('test')) self.amp, utils.b('test')) self.driver.update_amphora_agent_config(self.amp, utils.b('test')) self.amp, utils.b('test'), timeout_dict=None)","import six self.driver.upload_cert_amp(self.amp, six.b('test')) self.amp, six.b('test')) self.driver.update_amphora_agent_config(self.amp, six.b('test')) self.amp, six.b('test'), timeout_dict=None)",229,363
openstack%2Fcinder~master~I7a75b7e0f99252669493addb1345c475928ec147,openstack/cinder,master,I7a75b7e0f99252669493addb1345c475928ec147,Imported Translations from Zanata,MERGED,2020-03-18 07:22:29.000000000,2020-03-19 14:28:29.000000000,2020-03-18 14:05:32.000000000,"[{'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-03-18 07:22:29.000000000', 'files': ['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/471ef4d3903135e79c66ef478c15159183b30ca3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7a75b7e0f99252669493addb1345c475928ec147\n'}]",0,713582,471ef4d3903135e79c66ef478c15159183b30ca3,27,21,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7a75b7e0f99252669493addb1345c475928ec147
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/713582/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po']",11,471ef4d3903135e79c66ef478c15159183b30ca3,zanata/translations,"""POT-Creation-Date: 2020-03-16 13:44+0000\n""","""POT-Creation-Date: 2020-02-19 01:28+0000\n""#, python-format msgid ""KeyError: %s"" msgstr ""KeyError: %s"" msgid ""TypeError: %s"" msgstr ""TypeError: %s"" #, python-formatmsgid ""ValueError: %s"" msgstr ""ValueError: %s"" #, python-format",119,132
openstack%2Fsahara~master~If0f8383e37a8b1185a8a08b24c79b313fdcb498c,openstack/sahara,master,If0f8383e37a8b1185a8a08b24c79b313fdcb498c,Fix syntax error in image widths,MERGED,2020-03-01 19:55:44.000000000,2020-03-19 14:28:19.000000000,2020-03-19 14:25:50.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-03-01 19:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3922df1f56c9607f984ca2a7a919f432df7a3d14', 'message': 'Fix syntax error in image widths\n\nI get when building sahara this error:\n\n  File ""/usr/lib/python3.6/site-packages/sphinx/writers/html5.py"", line 548, in visit_image\n     atts[\'width\'] = int(atts[\'width\']) * scale\n  ValueError: invalid literal for int() with base 10: \'800px\'\n\nAs it turns out, the default is pixels anyway, so we don\'t need to add a\ntype suffix.\n\nChange-Id: If0f8383e37a8b1185a8a08b24c79b313fdcb498c\n'}, {'number': 2, 'created': '2020-03-17 10:08:24.000000000', 'files': ['doc/source/intro/architecture.rst', 'doc/source/intro/overview.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/0825bddef65c11928ae6d37a2a7702e2d9435143', 'message': 'Fix syntax error in image widths\n\nI get when building sahara this error:\n\n  File ""/usr/lib/python3.6/site-packages/sphinx/writers/html5.py"", line 548, in visit_image\n     atts[\'width\'] = int(atts[\'width\']) * scale\n  ValueError: invalid literal for int() with base 10: \'800px\'\n\nAs it turns out, the default is pixels anyway, so we don\'t need to add a\ntype suffix. For scale to work, we need to specify both width and height\nfor images, otherwise sphinx reports an error.\n\nChange-Id: If0f8383e37a8b1185a8a08b24c79b313fdcb498c\n'}]",0,710658,0825bddef65c11928ae6d37a2a7702e2d9435143,10,4,2,6593,,,0,"Fix syntax error in image widths

I get when building sahara this error:

  File ""/usr/lib/python3.6/site-packages/sphinx/writers/html5.py"", line 548, in visit_image
     atts['width'] = int(atts['width']) * scale
  ValueError: invalid literal for int() with base 10: '800px'

As it turns out, the default is pixels anyway, so we don't need to add a
type suffix. For scale to work, we need to specify both width and height
for images, otherwise sphinx reports an error.

Change-Id: If0f8383e37a8b1185a8a08b24c79b313fdcb498c
",git fetch https://review.opendev.org/openstack/sahara refs/changes/58/710658/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/intro/architecture.rst', 'doc/source/intro/overview.rst']",2,3922df1f56c9607f984ca2a7a919f432df7a3d14,, :width: 800, :width: 800 px,2,2
openstack%2Fzun~master~I45d98826b28dc3c2993b9be0092d7c9324c79fc9,openstack/zun,master,I45d98826b28dc3c2993b9be0092d7c9324c79fc9,delete inincontainer in capsule,MERGED,2020-03-19 09:31:29.000000000,2020-03-19 14:22:13.000000000,2020-03-19 14:20:14.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 09:31:29.000000000', 'files': ['zun/container/docker/driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/c2d56024d88725df5d5a94d8f011f2ef8bb88fba', 'message': 'delete inincontainer in capsule\n\nChange-Id: I45d98826b28dc3c2993b9be0092d7c9324c79fc9\n'}]",0,713808,c2d56024d88725df5d5a94d8f011f2ef8bb88fba,7,2,1,23365,,,0,"delete inincontainer in capsule

Change-Id: I45d98826b28dc3c2993b9be0092d7c9324c79fc9
",git fetch https://review.opendev.org/openstack/zun refs/changes/08/713808/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/container/docker/driver.py'],1,c2d56024d88725df5d5a94d8f011f2ef8bb88fba,, merged_containers = capsule.containers + capsule.init_containers for container in merged_containers:, for container in capsule.containers:,2,1
openstack%2Fansible-collections-openstack~master~I5e096c056291b7abf5355ab366b3ba25a0f68385,openstack/ansible-collections-openstack,master,I5e096c056291b7abf5355ab366b3ba25a0f68385,Add ansible 2.9 and openstacksdk train jobs,MERGED,2020-03-19 00:44:20.000000000,2020-03-19 14:13:26.000000000,2020-03-19 14:13:26.000000000,"[{'_account_id': 2}, {'_account_id': 6816}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 00:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e891209a801b78f6d8ef965e8a7055c67fd58747', 'message': 'Add 2.8, 2.9 and train jobs\n\nChange-Id: I5e096c056291b7abf5355ab366b3ba25a0f68385\n'}, {'number': 2, 'created': '2020-03-19 10:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/24a9ecc281f60a59bf6d5497c19f17e443d899fe', 'message': 'Add ansible 2.9 and openstacksdk train jobs\n\nChange-Id: I5e096c056291b7abf5355ab366b3ba25a0f68385\n'}, {'number': 3, 'created': '2020-03-19 12:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d499d6f6d13000b7e2230f9a5d49dea027b9a870', 'message': 'Add ansible 2.9 and openstacksdk train jobs\n\nChange-Id: I5e096c056291b7abf5355ab366b3ba25a0f68385\n'}, {'number': 4, 'created': '2020-03-19 12:24:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/290c5329ccf6c08daa644d16698e2a90e53c2f4e', 'message': 'Add ansible 2.9 and openstacksdk train jobs\n\nChange-Id: I5e096c056291b7abf5355ab366b3ba25a0f68385\n'}]",0,713766,290c5329ccf6c08daa644d16698e2a90e53c2f4e,13,4,4,10969,,,0,"Add ansible 2.9 and openstacksdk train jobs

Change-Id: I5e096c056291b7abf5355ab366b3ba25a0f68385
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/66/713766/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e891209a801b78f6d8ef965e8a7055c67fd58747,newjobs2,- job: name: ansible-collections-openstack-functional-devstack-ansible-2.9 parent: ansible-collections-openstack-functional-devstack-ansible-devel description: | Run openstack collections functional tests against a master devstack using releases of openstacksdk # non-voting because we can't prevent ansible devel from breaking us voting: true required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.9 - job: name: ansible-collections-openstack-functional-devstack-ansible-2.8 parent: ansible-collections-openstack-functional-devstack-ansible-devel description: | Run openstack collections functional tests against a master devstack using releases of openstacksdk # non-voting because we can't prevent ansible devel from breaking us voting: true required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.8 - job: name: ansible-collections-openstack-functional-devstack-train-ansible-devel parent: ansible-collections-openstack-functional-devstack description: | Run openstack collections functional tests against a master devstack using releases of openstacksdk # non-voting because we can't prevent ansible devel from breaking us voting: false required-projects: - name: github.com/ansible/ansible override-checkout: devel - name: openstack/openstacksdk override-branch: train - name: openstack/devstack override-checkout: train - job: name: ansible-collections-openstack-functional-devstack-train-ansible-2.9 parent: ansible-collections-openstack-functional-devstack-ansible-devel description: | Run openstack collections functional tests against a master devstack using releases of openstacksdk # non-voting because we can't prevent ansible devel from breaking us voting: true required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.9 - name: openstack/openstacksdk override-branch: train - name: openstack/devstack override-checkout: train - job: name: ansible-collections-openstack-functional-devstack-train-ansible-2.8 parent: ansible-collections-openstack-functional-devstack-ansible-devel description: | Run openstack collections functional tests against a master devstack using releases of openstacksdk # non-voting because we can't prevent ansible devel from breaking us voting: true required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.8 - name: openstack/openstacksdk override-branch: train - name: openstack/devstack override-checkout: train - ansible-collections-openstack-functional-devstack-ansible-2.9 - ansible-collections-openstack-functional-devstack-ansible-2.8 - ansible-collections-openstack-functional-devstack-train-ansible-devel - ansible-collections-openstack-functional-devstack-train-ansible-2.9 - ansible-collections-openstack-functional-devstack-train-ansible-2.8,,77,0
openstack%2Fkolla-ansible~stable%2Fstein~Ie8a2d1a163528f509e126a807d4c73dd8106c47a,openstack/kolla-ansible,stable/stein,Ie8a2d1a163528f509e126a807d4c73dd8106c47a,ceph: Add become to gathering OSD IDs on reconfigure,MERGED,2020-03-19 09:30:16.000000000,2020-03-19 14:10:34.000000000,2020-03-19 14:08:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-19 09:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a494b71f455721da3a5c623260ec4bb38371a44', 'message': 'ceph: Add become to gathering OSD IDs on reconfigure\n\nWe did use become: true on starting the osds, but not on reconfigure.\n\nCloses-Bug: #1867946\n\nChange-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a\n'}, {'number': 2, 'created': '2020-03-19 09:46:44.000000000', 'files': ['releasenotes/notes/bug-1867946-53c214be2b2482f1.yaml', 'ansible/roles/ceph/tasks/reconfigure.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d4eedf4f9338bf347b857dd3c0f5e8d705a71534', 'message': 'ceph: Add become to gathering OSD IDs on reconfigure\n\nWe did use become: true on starting the osds, but not on reconfigure.\n\nCloses-Bug: #1867946\n\nChange-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a\n'}]",0,713805,d4eedf4f9338bf347b857dd3c0f5e8d705a71534,15,4,2,22629,,,0,"ceph: Add become to gathering OSD IDs on reconfigure

We did use become: true on starting the osds, but not on reconfigure.

Closes-Bug: #1867946

Change-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/713805/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/tasks/reconfigure.yml'],1,9a494b71f455721da3a5c623260ec4bb38371a44,, become: true,,1,0
openstack%2Fkayobe~master~I9634ee7f5730e93b8ddd96de04982d638dd4dae2,openstack/kayobe,master,I9634ee7f5730e93b8ddd96de04982d638dd4dae2,Make docker registry volume configurable,MERGED,2020-02-19 10:19:44.000000000,2020-03-19 13:53:56.000000000,2020-03-19 13:50:18.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 10:19:44.000000000', 'files': ['ansible/roles/docker-registry/defaults/main.yml', 'ansible/roles/docker-registry/README.md', 'releasenotes/notes/add-variable-docker-registry-datadir-volume-a5ec931a5eb2c59d.yaml', 'ansible/group_vars/all/docker-registry'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/06ad1c3a96f433b7e890d7141a3bcafe6743d383', 'message': 'Make docker registry volume configurable\n\nOne use case is to use seperate disk for the registry storage. This\ncan prevent the rootfs from filling up.\n\nChange-Id: I9634ee7f5730e93b8ddd96de04982d638dd4dae2\n'}]",5,708607,06ad1c3a96f433b7e890d7141a3bcafe6743d383,15,4,1,28048,,,0,"Make docker registry volume configurable

One use case is to use seperate disk for the registry storage. This
can prevent the rootfs from filling up.

Change-Id: I9634ee7f5730e93b8ddd96de04982d638dd4dae2
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/07/708607/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/docker-registry/defaults/main.yml', 'ansible/roles/docker-registry/README.md', 'releasenotes/notes/add-variable-docker-registry-datadir-volume-a5ec931a5eb2c59d.yaml', 'ansible/group_vars/all/docker-registry']",4,06ad1c3a96f433b7e890d7141a3bcafe6743d383,custom-registry-dir, # Name or path to use as the volume for the docker registry. docker_registry_datadir_volume: docker_registry,,15,1
openstack%2Ftripleo-quickstart~master~Ia1e7204f71ff81eccd0de2eedacef151061487f5,openstack/tripleo-quickstart,master,Ia1e7204f71ff81eccd0de2eedacef151061487f5,Do not clean nodes for featureset001.,ABANDONED,2020-03-06 20:14:32.000000000,2020-03-19 13:47:33.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-03-06 20:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ba8e32b02b14da17625addfbd93108cea86e083b', 'message': 'Do not clean nodes for featureset001.\n\nOVB can lead to random issues when cleaning Overcloud nodes.\n\nChange-Id: Ia1e7204f71ff81eccd0de2eedacef151061487f5\nCloses-Bug: #1866204\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2020-03-09 13:48:37.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/083e9e991e405827c5e994c581e9f873c0445f98', 'message': 'Do not clean nodes for featureset001.\n\nOVB can lead to random issues when cleaning Overcloud nodes.\n\nChange-Id: Ia1e7204f71ff81eccd0de2eedacef151061487f5\nRelated-Bug: #1866204\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,711759,083e9e991e405827c5e994c581e9f873c0445f98,14,7,2,25877,,,0,"Do not clean nodes for featureset001.

OVB can lead to random issues when cleaning Overcloud nodes.

Change-Id: Ia1e7204f71ff81eccd0de2eedacef151061487f5
Related-Bug: #1866204
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/59/711759/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,ba8e32b02b14da17625addfbd93108cea86e083b,,undercloud_clean_nodes: false,"undercloud_clean_nodes: >- {% if release not in ['newton','ocata','pike'] -%} true {%- else -%} false {%- endif -%} ",1,7
openstack%2Fansible-collections-openstack~master~I658bd1728629cd358bc17a7f00d282d04530d8fe,openstack/ansible-collections-openstack,master,I658bd1728629cd358bc17a7f00d282d04530d8fe,Cleanup functional tests,MERGED,2020-03-17 14:45:22.000000000,2020-03-19 13:42:51.000000000,2020-03-19 13:42:51.000000000,"[{'_account_id': 2}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 14:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/64d69828d4146d144de2daed5e3b3361bdd497ff', 'message': ""Cleanup functional tests\n\nUse the openstacksdk base functional test instead of going all\nthe way back to devstack for our base. Also - defining a job\nstarting with openstacksdk in this repo is not ok - but that\nprobably just came from the original copy-pasta coming from the\nsdk repo.\n\nUse tox-siblings more and stop doing tox requirements of ../\nthings. The system is there and we can use it.\n\nAdd jobs to test against released openstacksdk and ansible, as well\nas a non-voting to test against ansible devel branch.\n\nAdd openstacksdk to the test-requirements because it's super\nrequired.\n\nMove zuul.yaml to .zuul.yaml. This isn't a zuul jobs repo so\nwe should just make it a hidden file rather than a non-hidden.\n\nChange-Id: I658bd1728629cd358bc17a7f00d282d04530d8fe\n""}, {'number': 2, 'created': '2020-03-17 14:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/72039ec8272fa0b2b41fa0207fb7db384c25a775', 'message': ""Cleanup functional tests\n\nUse the openstacksdk base functional test instead of going all\nthe way back to devstack for our base. Also - defining a job\nstarting with openstacksdk in this repo is not ok - but that\nprobably just came from the original copy-pasta coming from the\nsdk repo.\n\nUse tox-siblings more and stop doing tox requirements of ../\nthings. The system is there and we can use it.\n\nAdd jobs to test against released openstacksdk and ansible, as well\nas a non-voting to test against ansible devel branch.\n\nAdd openstacksdk to the test-requirements because it's super\nrequired.\n\nMove zuul.yaml to .zuul.yaml. This isn't a zuul jobs repo so\nwe should just make it a hidden file rather than a non-hidden.\n\nChange-Id: I658bd1728629cd358bc17a7f00d282d04530d8fe\n""}, {'number': 3, 'created': '2020-03-17 16:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8fb6382f049f7d7c7fc35f8903d66608228ed452', 'message': ""Cleanup functional tests\n\nUse the openstacksdk base functional test instead of going all\nthe way back to devstack for our base. Also - defining a job\nstarting with openstacksdk in this repo is not ok - but that\nprobably just came from the original copy-pasta coming from the\nsdk repo.\n\nUse tox-siblings more and stop doing tox requirements of ../\nthings. The system is there and we can use it.\n\nAdd jobs to test against released openstacksdk and ansible, as well\nas a non-voting to test against ansible devel branch.\n\nAdd openstacksdk to the test-requirements because it's super\nrequired.\n\nMove zuul.yaml to .zuul.yaml. This isn't a zuul jobs repo so\nwe should just make it a hidden file rather than a non-hidden.\n\nChange-Id: I658bd1728629cd358bc17a7f00d282d04530d8fe\n""}, {'number': 4, 'created': '2020-03-17 17:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0cd2010424333701eccd76b3d3531b9944edc6d0', 'message': ""Cleanup functional tests\n\nUse the openstacksdk base functional test instead of going all\nthe way back to devstack for our base. Also - defining a job\nstarting with openstacksdk in this repo is not ok - but that\nprobably just came from the original copy-pasta coming from the\nsdk repo.\n\nUse tox-siblings more and stop doing tox requirements of ../\nthings. The system is there and we can use it.\n\nAdd jobs to test against released openstacksdk and ansible, as well\nas a non-voting to test against ansible devel branch.\n\nAdd openstacksdk to the test-requirements because it's super\nrequired.\n\nMove zuul.yaml to .zuul.yaml. This isn't a zuul jobs repo so\nwe should just make it a hidden file rather than a non-hidden.\n\nChange-Id: I658bd1728629cd358bc17a7f00d282d04530d8fe\n""}, {'number': 5, 'created': '2020-03-17 18:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/89f45034e3e704275244132eb08ed06ff7a854b7', 'message': ""Cleanup functional tests\n\nUse the openstacksdk base functional test instead of going all\nthe way back to devstack for our base. Also - defining a job\nstarting with openstacksdk in this repo is not ok - but that\nprobably just came from the original copy-pasta coming from the\nsdk repo.\n\nUse tox-siblings more and stop doing tox requirements of ../\nthings. The system is there and we can use it.\n\nAdd jobs to test against released openstacksdk and ansible, as well\nas a non-voting to test against ansible devel branch.\n\nAdd openstacksdk to the test-requirements because it's super\nrequired.\n\nMove zuul.yaml to .zuul.yaml. This isn't a zuul jobs repo so\nwe should just make it a hidden file rather than a non-hidden.\n\nChange-Id: I658bd1728629cd358bc17a7f00d282d04530d8fe\n""}, {'number': 6, 'created': '2020-03-18 15:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/92e476f4da94304e68beb5221dd03067242056af', 'message': ""Cleanup functional tests\n\nUse the openstacksdk base functional test instead of going all\nthe way back to devstack for our base. Also - defining a job\nstarting with openstacksdk in this repo is not ok - but that\nprobably just came from the original copy-pasta coming from the\nsdk repo.\n\nUse tox-siblings more and stop doing tox requirements of ../\nthings. The system is there and we can use it.\n\nAdd jobs to test against released openstacksdk and ansible, as well\nas a non-voting to test against ansible devel branch.\n\nAdd openstacksdk to the test-requirements because it's super\nrequired.\n\nMove zuul.yaml to .zuul.yaml. This isn't a zuul jobs repo so\nwe should just make it a hidden file rather than a non-hidden.\n\nChange-Id: I658bd1728629cd358bc17a7f00d282d04530d8fe\n""}, {'number': 7, 'created': '2020-03-18 20:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4ddd1d8c662ea134bc6dbbdb68095503a183aa8f', 'message': ""Cleanup functional tests\n\nUse the openstacksdk base functional test instead of going all\nthe way back to devstack for our base. Also - defining a job\nstarting with openstacksdk in this repo is not ok - but that\nprobably just came from the original copy-pasta coming from the\nsdk repo.\n\nUse tox-siblings more and stop doing tox requirements of ../\nthings. The system is there and we can use it.\n\nAdd jobs to test against released openstacksdk and ansible, as well\nas a non-voting to test against ansible devel branch.\n\nAdd openstacksdk to the test-requirements because it's super\nrequired.\n\nMove zuul.yaml to .zuul.yaml. This isn't a zuul jobs repo so\nwe should just make it a hidden file rather than a non-hidden.\n\nChange-Id: I658bd1728629cd358bc17a7f00d282d04530d8fe\n""}, {'number': 8, 'created': '2020-03-18 22:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/49a0179c79cb751e305106a40a3ad7c8fef6c947', 'message': ""Cleanup functional tests\n\nUse the openstacksdk base functional test instead of going all\nthe way back to devstack for our base. Also - defining a job\nstarting with openstacksdk in this repo is not ok - but that\nprobably just came from the original copy-pasta coming from the\nsdk repo.\n\nUse tox-siblings more and stop doing tox requirements of ../\nthings. The system is there and we can use it.\n\nAdd jobs to test against released openstacksdk and ansible, as well\nas a non-voting to test against ansible devel branch.\n\nAdd openstacksdk to the test-requirements because it's super\nrequired.\n\nMove zuul.yaml to .zuul.yaml. This isn't a zuul jobs repo so\nwe should just make it a hidden file rather than a non-hidden.\n\nChange-Id: I658bd1728629cd358bc17a7f00d282d04530d8fe\n""}, {'number': 9, 'created': '2020-03-19 12:06:03.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cf7011a742592109a8e78fa0c76a553179a05707', 'message': ""Cleanup functional tests\n\nUse the openstacksdk base functional test instead of going all\nthe way back to devstack for our base. Also - defining a job\nstarting with openstacksdk in this repo is not ok - but that\nprobably just came from the original copy-pasta coming from the\nsdk repo.\n\nUse tox-siblings more and stop doing tox requirements of ../\nthings. The system is there and we can use it.\n\nAdd jobs to test against released openstacksdk and ansible, as well\nas a non-voting to test against ansible devel branch.\n\nAdd openstacksdk to the test-requirements because it's super\nrequired.\n\nMove zuul.yaml to .zuul.yaml. This isn't a zuul jobs repo so\nwe should just make it a hidden file rather than a non-hidden.\n\nChange-Id: I658bd1728629cd358bc17a7f00d282d04530d8fe\n""}]",8,713461,cf7011a742592109a8e78fa0c76a553179a05707,33,6,9,2,,,0,"Cleanup functional tests

Use the openstacksdk base functional test instead of going all
the way back to devstack for our base. Also - defining a job
starting with openstacksdk in this repo is not ok - but that
probably just came from the original copy-pasta coming from the
sdk repo.

Use tox-siblings more and stop doing tox requirements of ../
things. The system is there and we can use it.

Add jobs to test against released openstacksdk and ansible, as well
as a non-voting to test against ansible devel branch.

Add openstacksdk to the test-requirements because it's super
required.

Move zuul.yaml to .zuul.yaml. This isn't a zuul jobs repo so
we should just make it a hidden file rather than a non-hidden.

Change-Id: I658bd1728629cd358bc17a7f00d282d04530d8fe
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/61/713461/8 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'zuul.yaml', 'tox.ini']",4,64d69828d4146d144de2daed5e3b3361bdd497ff,,[testenv:ansible],[testenv:ansible-new] {toxinidir}/../os-client-config {toxinidir}/../openstacksdk ansible,50,77
openstack%2Fnova~stable%2Fpike~I40f40766a7b84423c1dcf9d5ed58476b86d61cc4,openstack/nova,stable/pike,I40f40766a7b84423c1dcf9d5ed58476b86d61cc4,Replace ansible --sudo with --become in live_migration/hooks scripts,ABANDONED,2020-03-19 11:15:14.000000000,2020-03-19 13:39:05.000000000,,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-19 11:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a42c7a94619cb6e5c7c0078dda70f6b15041760', 'message': ""Replace ansible --sudo with --become in live_migration/hooks scripts\n\nAnsible deprecated --sudo in 1.9 so this change replaces\nit with --become.\n\nNOTE(lyarwood): Conflict as Ifbadce909393268b340b7a08c78a6faa2d7888b2\ncan't be backported to stable/pike and as a result glance_api_version\nneeds to be set.\n\nConflicts:\n    nova/tests/live_migration/hooks/ceph.sh\n\nChange-Id: I40f40766a7b84423c1dcf9d5ed58476b86d61cc4\n(cherry picked from commit 7f16800f71f6124736382be51d9da234800f7618)\n(cherry picked from commit f077fbfae21d8ec33c7944362fee33a5b359da71)\n(cherry picked from commit 2fe9291fdb7a49c5ca88c91e197bcdaddfbaeec7)\n""}, {'number': 2, 'created': '2020-03-19 12:28:18.000000000', 'files': ['nova/tests/live_migration/hooks/ceph.sh', 'nova/tests/live_migration/hooks/nfs.sh', 'nova/tests/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/136e09cf2fc584a538ba1570678defb9adbed88d', 'message': ""Replace ansible --sudo with --become in live_migration/hooks scripts\n\nAnsible deprecated --sudo in 1.9 so this change replaces\nit with --become.\n\nNOTE(lyarwood): Conflict as Ifbadce909393268b340b7a08c78a6faa2d7888b2\ncan't be backported to stable/pike and as a result glance_api_version\nneeds to be set.\n\nConflicts:\n    nova/tests/live_migration/hooks/ceph.sh\n\nChange-Id: I40f40766a7b84423c1dcf9d5ed58476b86d61cc4\n(cherry picked from commit 7f16800f71f6124736382be51d9da234800f7618)\n(cherry picked from commit f077fbfae21d8ec33c7944362fee33a5b359da71)\n(cherry picked from commit 2fe9291fdb7a49c5ca88c91e197bcdaddfbaeec7)\n""}]",1,713848,136e09cf2fc584a538ba1570678defb9adbed88d,12,5,2,10135,,,0,"Replace ansible --sudo with --become in live_migration/hooks scripts

Ansible deprecated --sudo in 1.9 so this change replaces
it with --become.

NOTE(lyarwood): Conflict as Ifbadce909393268b340b7a08c78a6faa2d7888b2
can't be backported to stable/pike and as a result glance_api_version
needs to be set.

Conflicts:
    nova/tests/live_migration/hooks/ceph.sh

Change-Id: I40f40766a7b84423c1dcf9d5ed58476b86d61cc4
(cherry picked from commit 7f16800f71f6124736382be51d9da234800f7618)
(cherry picked from commit f077fbfae21d8ec33c7944362fee33a5b359da71)
(cherry picked from commit 2fe9291fdb7a49c5ca88c91e197bcdaddfbaeec7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/713848/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/live_migration/hooks/ceph.sh', 'nova/tests/live_migration/hooks/nfs.sh', 'nova/tests/live_migration/hooks/run_tests.sh']",3,6a42c7a94619cb6e5c7c0078dda70f6b15041760,bug/1867380,"$ANSIBLE primary --become -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$BASE/new/tempest/etc/tempest.conf section=compute-feature-enabled option=block_migration_for_live_migration value=False""","$ANSIBLE primary --sudo -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$BASE/new/tempest/etc/tempest.conf section=compute-feature-enabled option=block_migration_for_live_migration value=False""",58,58
openstack%2Ftripleo-upgrade~stable%2Fstein~I43148a0bc494cf3fc6ff109e7f3a4b94cf751d99,openstack/tripleo-upgrade,stable/stein,I43148a0bc494cf3fc6ff109e7f3a4b94cf751d99,Add config-heat and config-resource options.,MERGED,2020-03-02 08:10:09.000000000,2020-03-19 13:32:16.000000000,2020-03-03 00:01:37.000000000,"[{'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-02 08:10:09.000000000', 'files': ['tasks/update/create-overcloud-update-scripts.yaml', 'infrared_plugin/plugin.spec', 'templates/overcloud_update_converge.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'tasks/common/build_extra_template.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f9cf26d8bff5fc1ca83275d0d337b1ee25bc689d', 'message': 'Add config-heat and config-resource options.\n\nThis add those two options. They work like their ir overcloud\nconterpart.\n\nThis add the possibility to add new parameters *during*\nupdate/upgrade/ffwd if required.\n\nCurrently adjustement has been done only to update templates.\n\nThe other limitation is that this is currently comptatible only in\ninfrared context and thus is skipped for upstream CI.\n\nChange-Id: I43148a0bc494cf3fc6ff109e7f3a4b94cf751d99\n(cherry picked from commit 212c02fb4e6102dbec370f05d7e5b6a7d0c5d2e8)\n(cherry picked from commit 29e8fc84703c9c695035ae1a60ab118256322683)\n'}]",0,710709,f9cf26d8bff5fc1ca83275d0d337b1ee25bc689d,10,3,1,8297,,,0,"Add config-heat and config-resource options.

This add those two options. They work like their ir overcloud
conterpart.

This add the possibility to add new parameters *during*
update/upgrade/ffwd if required.

Currently adjustement has been done only to update templates.

The other limitation is that this is currently comptatible only in
infrared context and thus is skipped for upstream CI.

Change-Id: I43148a0bc494cf3fc6ff109e7f3a4b94cf751d99
(cherry picked from commit 212c02fb4e6102dbec370f05d7e5b6a7d0c5d2e8)
(cherry picked from commit 29e8fc84703c9c695035ae1a60ab118256322683)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/09/710709/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/create-overcloud-update-scripts.yaml', 'infrared_plugin/plugin.spec', 'templates/overcloud_update_converge.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'tasks/common/build_extra_template.yaml']",5,f9cf26d8bff5fc1ca83275d0d337b1ee25bc689d,,"--- - name: set parameter_defaults for config_heat_extra.yaml set_fact: config_heat_extra_yaml: parameter_defaults: ""{{ install.get('config', {}).get('heat', {}) }}"" when: install.get('config', {}).get('heat', {}) - name: set resource_registry for config_heat_extra.yaml vars: config_resource: ""{{ install.get('config', {}).get('resource', {}) }}"" set_fact: config_heat_extra_yaml: ""{{ config_heat_extra_yaml | default({}) | combine({'resource_registry': config_resource}) }}"" when: install.get('config', {}).get('resource', {}) - name: inject config_heat_extra.yaml copy: dest: ""{{ install.deployment.files | basename }}/config_heat_extra.yaml"" content: ""{{ config_heat_extra_yaml | to_nice_yaml }}"" when: config_heat_extra_yaml is defined ",,73,0
openstack%2Fmistral~master~I12b4d0c5f1f49990d8ae09b72f73c0da96254a86,openstack/mistral,master,I12b4d0c5f1f49990d8ae09b72f73c0da96254a86,Fix ContextView JSON serialization,MERGED,2020-03-16 08:45:54.000000000,2020-03-19 13:30:45.000000000,2020-03-19 13:28:27.000000000,"[{'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-03-16 08:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7a3de093055808ccec109a027021ab48bd4fa7fa', 'message': 'WIP\n\nChange-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86\n'}, {'number': 2, 'created': '2020-03-18 09:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bb63556317d3b085c015e946e6d2ac6278856509', 'message': 'WIP: Fix ContextView JSON serialization\n\nChange-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86\n'}, {'number': 3, 'created': '2020-03-18 09:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4b9e481bd916be3ad4660f78d64f383677000483', 'message': 'Fix ContextView JSON serialization\n\n* With disabled YAQL data output conversion, YAQL may return\n  instances of ContextView which can\'t be properly saved into\n  DB. This happens because Mistral serialization code doesn\'t\n  turn on JSON conversion of custom objects, and they are just\n  ignored by the ""json"" lib when it encounters them.\n* Implemented __repr__ method of ContextView.\n* Added all required unit tests.\n* Fixed the tests for disabled YAQL conversion. In fact, they\n  didn\'t test it properly because data conversion wasn\'t disabled.\n\nCloses-Bug: #1867899\nChange-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86\n'}, {'number': 4, 'created': '2020-03-18 11:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7dc681851fc86e38b52a43becdd468097a709c7c', 'message': 'Fix ContextView JSON serialization\n\n* With disabled YAQL data output conversion, YAQL may return\n  instances of ContextView which can\'t be properly saved into\n  DB. This happens because Mistral serialization code doesn\'t\n  turn on JSON conversion of custom objects, and they are just\n  ignored by the ""json"" lib when it encounters them.\n* Fixed how Mistral serializes context for Javascript evaluation\n  to address the same problem.\n* Implemented __repr__ method of ContextView.\n* Added all required unit tests.\n* Fixed the tests for disabled YAQL conversion. In fact, they\n  didn\'t test it properly because data conversion wasn\'t disabled.\n\nCloses-Bug: #1867899\nChange-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86\n'}, {'number': 5, 'created': '2020-03-19 07:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b21ebf0243c8e8d94a38ccebf16aa3e5d5697bbb', 'message': 'Fix ContextView JSON serialization\n\n* With disabled YAQL data output conversion, YAQL may return\n  instances of ContextView which can\'t be properly saved into\n  DB. This happens because Mistral serialization code doesn\'t\n  turn on JSON conversion of custom objects, and they are just\n  ignored by the ""json"" lib when it encounters them.\n* Fixed how Mistral serializes context for Javascript evaluation\n  to address the same problem.\n* Implemented __repr__ method of ContextView.\n* Added all required unit tests.\n* Fixed the tests for disabled YAQL conversion. In fact, they\n  didn\'t test it properly because data conversion wasn\'t disabled.\n\nCloses-Bug: #1867899\nChange-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86\n'}, {'number': 6, 'created': '2020-03-19 09:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f461f69e2fb584fa2821ef5e8c9eac65857fd502', 'message': 'Fix ContextView JSON serialization\n\n* With disabled YAQL data output conversion, YAQL may return\n  instances of ContextView which can\'t be properly saved into\n  DB. This happens because Mistral serialization code doesn\'t\n  turn on JSON conversion of custom objects, and they are just\n  ignored by the ""json"" lib when it encounters them.\n* Fixed how Mistral serializes context for Javascript evaluation\n  to address the same problem.\n* Implemented __repr__ method of ContextView.\n* Removed logging of ""data_context"" from YAQL evaluation because\n  previously it was always empty (because the string represetation\n  of ContextView was always ""{}"") and now it may be very big, like\n  megabytes, and the log gets populated too fast. It makes sense to\n  log YAQL data context only when an error happened. In this case\n  it helps to investigate an issue.\n* Added all required unit tests.\n* Fixed the tests for disabled YAQL conversion. In fact, they\n  didn\'t test it properly because data conversion wasn\'t disabled.\n\nCloses-Bug: #1867899\nChange-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86\n'}, {'number': 7, 'created': '2020-03-19 10:08:00.000000000', 'files': ['mistral/workflow/data_flow.py', 'mistral/expressions/yaql_expression.py', 'mistral/utils/javascript.py', 'mistral/db/sqlalchemy/types.py', 'mistral/tests/unit/engine/test_disabled_yaql_conversion.py', 'mistral/tests/unit/engine/test_dataflow.py', 'mistral/tests/unit/engine/test_javascript_action.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/019cffb3abd467d75e4f038e889f2a9b4bd58b34', 'message': 'Fix ContextView JSON serialization\n\n* With disabled YAQL data output conversion, YAQL may return\n  instances of ContextView which can\'t be properly saved into\n  DB. This happens because Mistral serialization code doesn\'t\n  turn on JSON conversion of custom objects, and they are just\n  ignored by the ""json"" lib when it encounters them.\n* Fixed how Mistral serializes context for Javascript evaluation\n  to address the same problem.\n* Implemented __repr__ method of ContextView.\n* Removed logging of ""data_context"" from YAQL evaluation because\n  previously it was always empty (because the string represetation\n  of ContextView was always ""{}"") and now it may be very big, like\n  megabytes, and the log gets populated too fast. It makes sense to\n  log YAQL data context only when an error happened. In this case\n  it helps to investigate an issue.\n* Added all required unit tests.\n* Fixed the tests for disabled YAQL conversion. In fact, they\n  didn\'t test it properly because data conversion wasn\'t disabled.\n\nCloses-Bug: #1867899\nChange-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86\n'}]",4,713174,019cffb3abd467d75e4f038e889f2a9b4bd58b34,30,8,7,8731,,,0,"Fix ContextView JSON serialization

* With disabled YAQL data output conversion, YAQL may return
  instances of ContextView which can't be properly saved into
  DB. This happens because Mistral serialization code doesn't
  turn on JSON conversion of custom objects, and they are just
  ignored by the ""json"" lib when it encounters them.
* Fixed how Mistral serializes context for Javascript evaluation
  to address the same problem.
* Implemented __repr__ method of ContextView.
* Removed logging of ""data_context"" from YAQL evaluation because
  previously it was always empty (because the string represetation
  of ContextView was always ""{}"") and now it may be very big, like
  megabytes, and the log gets populated too fast. It makes sense to
  log YAQL data context only when an error happened. In this case
  it helps to investigate an issue.
* Added all required unit tests.
* Fixed the tests for disabled YAQL conversion. In fact, they
  didn't test it properly because data conversion wasn't disabled.

Closes-Bug: #1867899
Change-Id: I12b4d0c5f1f49990d8ae09b72f73c0da96254a86
",git fetch https://review.opendev.org/openstack/mistral refs/changes/74/713174/6 && git format-patch -1 --stdout FETCH_HEAD,['mistral/tests/unit/engine/test_disabled_yaql_conversion.py'],1,7a3de093055808ccec109a027021ab48bd4fa7fa,bug/1867899,"from oslo_config import cfg # NOTE(rakhmerov): Just using self.override_config() in every # test doesn't work because YAQL engine gets initialized # before a test method is called (i.e. through sync_db, then # parsing specs etc.). So we have to set False as a default # value of the needed config options. cfg.CONF.set_default('convert_input_data', False, group='yaql') cfg.CONF.set_default('convert_output_data', False, group='yaql') def test_root_context(self): self.override_config('convert_input_data', False, 'yaql') self.override_config('convert_output_data', False, 'yaql') wf_text = """"""--- version: '2.0' wf: input: - param: default_val tasks: task1: action: std.echo output=<% $ %> publish: result: <% task().result %> """""" wf_service.create_workflows(wf_text) # Start workflow. wf_ex = self.engine.start_workflow('wf') self.await_workflow_success(wf_ex.id) with db_api.transaction(): # Note: We need to reread execution to access related tasks. wf_ex = db_api.get_workflow_execution(wf_ex.id) t_ex = self._assert_single_item( wf_ex.task_executions, name='task1' ) action_ex = t_ex.action_executions[0] self.assertTrue(len(action_ex.input) > 0) self.assertIn('param', action_ex.input)",,50,0
openstack%2Fmanila~master~I21863f7fdad2bdd5dee226a3f6872d25b1c4f8ad,openstack/manila,master,I21863f7fdad2bdd5dee226a3f6872d25b1c4f8ad,Fix URLs in code and documentation,MERGED,2020-03-19 01:59:58.000000000,2020-03-19 13:27:54.000000000,2020-03-19 13:25:28.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-03-19 01:59:58.000000000', 'files': ['doc/source/contributor/manila-review-policy.rst', 'doc/source/contributor/samples/container_local.conf', 'doc/source/contributor/samples/generic_local.conf', 'doc/source/contributor/documenting_your_work.rst', 'doc/source/contributor/gerrit.rst', 'README.rst', 'devstack/plugin.sh', 'doc/source/contributor/samples/cephfs_local.conf', 'doc/source/contributor/tempest_tests.rst', 'devstack/README.rst', 'doc/source/contributor/samples/zfsonlinux_local.conf', 'devstack/settings', 'doc/source/contributor/development-environment-devstack.rst', 'devstack/upgrade/settings', 'doc/source/admin/container_driver.rst', 'tools/check_logging.sh', 'tox.ini', 'doc/source/configuration/shared-file-systems/drivers.rst', 'doc/source/contributor/architecture.rst', 'doc/source/contributor/development.environment.rst', 'doc/source/contributor/samples/lvm_local.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/6f79bb6c8933b46d7a429218f1195fb678ea820d', 'message': 'Fix URLs in code and documentation\n\nTrivialFix\n\nChange-Id: I21863f7fdad2bdd5dee226a3f6872d25b1c4f8ad\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,713770,6f79bb6c8933b46d7a429218f1195fb678ea820d,15,9,1,16643,,,0,"Fix URLs in code and documentation

TrivialFix

Change-Id: I21863f7fdad2bdd5dee226a3f6872d25b1c4f8ad
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/70/713770/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/manila-review-policy.rst', 'doc/source/contributor/samples/container_local.conf', 'doc/source/contributor/samples/generic_local.conf', 'doc/source/contributor/documenting_your_work.rst', 'doc/source/contributor/gerrit.rst', 'README.rst', 'devstack/plugin.sh', 'doc/source/contributor/samples/cephfs_local.conf', 'doc/source/contributor/tempest_tests.rst', 'devstack/README.rst', 'doc/source/contributor/samples/zfsonlinux_local.conf', 'devstack/settings', 'doc/source/contributor/development-environment-devstack.rst', 'devstack/upgrade/settings', 'doc/source/admin/container_driver.rst', 'tools/check_logging.sh', 'tox.ini', 'doc/source/configuration/shared-file-systems/drivers.rst', 'doc/source/contributor/architecture.rst', 'doc/source/contributor/development.environment.rst', 'doc/source/contributor/samples/lvm_local.conf']",21,6f79bb6c8933b46d7a429218f1195fb678ea820d,TrivialFix,enable_plugin manila https://opendev.org/openstack/manila enable_plugin manila-ui https://opendev.org/openstack/manila-ui enable_plugin manila-tempest-plugin https://opendev.org/openstack/manila-tempest-plugin,enable_plugin manila https://git.openstack.org/openstack/manila enable_plugin manila-ui https://github.com/openstack/manila-ui enable_plugin manila-tempest-plugin https://git.openstack.org/openstack/manila-tempest-plugin,52,56
openstack%2Fopenstack-ansible-repo_build~stable%2Ftrain~I2cf628d322e09ab7a0dc12557b07b1ab8d174b99,openstack/openstack-ansible-repo_build,stable/train,I2cf628d322e09ab7a0dc12557b07b1ab8d174b99,repo_build: determine if there was a change when syncing files,MERGED,2020-03-19 08:06:09.000000000,2020-03-19 13:27:50.000000000,2020-03-19 13:25:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-19 08:06:09.000000000', 'files': ['tasks/repo_package_sync.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/bcc2aeda2fc08d5bd8bee014d91f6d857c11c304', 'message': 'repo_build: determine if there was a change when syncing files\n\nIf we sync a couple of item.paths over to the repo_all[0]. There is\ndefinitely a change happening, so setting changed_when to false is\nnot correct.\n\nDuring the with_items loop you can check each individual task under\nthe ""register: _variable"". After the task has completed with all\nitems, they\'re bundled up into _variable.results for future\nprocessing.\n\nrsync reports changes to stdout, and will remain empty if there are\nnone. So we can just check for stdout.\n\nDepends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce\nChange-Id: I2cf628d322e09ab7a0dc12557b07b1ab8d174b99\n'}]",0,713793,bcc2aeda2fc08d5bd8bee014d91f6d857c11c304,8,2,1,25600,,,0,"repo_build: determine if there was a change when syncing files

If we sync a couple of item.paths over to the repo_all[0]. There is
definitely a change happening, so setting changed_when to false is
not correct.

During the with_items loop you can check each individual task under
the ""register: _variable"". After the task has completed with all
items, they're bundled up into _variable.results for future
processing.

rsync reports changes to stdout, and will remain empty if there are
none. So we can just check for stdout.

Depends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
Change-Id: I2cf628d322e09ab7a0dc12557b07b1ab8d174b99
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/93/713793/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/repo_package_sync.yml'],1,bcc2aeda2fc08d5bd8bee014d91f6d857c11c304,, register: _sync_files changed_when: _sync_files.stdout, changed_when: false,2,1
openstack%2Fproject-config~master~I4de49da1b48f7b87879102a0e18e97168e39406b,openstack/project-config,master,I4de49da1b48f7b87879102a0e18e97168e39406b,Use /detail in check-release-approval queries,MERGED,2020-03-18 10:13:24.000000000,2020-03-19 13:26:41.000000000,2020-03-19 13:26:41.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 10:13:24.000000000', 'files': ['roles/check-release-approval/files/check_approval.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/59188b984398cbf735346b6eed1e180ad259e843', 'message': 'Use /detail in check-release-approval queries\n\nGerrit sometimes returns a partial JSON answer, missing\nthe details that o=DETAILED_LABELS should trigger. This\nresults in false negatives in check-release-approval tests.\n\nThis cannot be reproduced easily. We put in place a retry\nbut the issue seems to stick on immediate retries.\n\nAs an experiment, this change switches the API call from\n/changes/ID with o=DETAILED_LABELS&o=DETAILED_ACCOUNTS to\n/changes/ID/detail (which includes these two options, amongst\nothers), to see if that would workaround the Gerrit issue.\n\nWe also remove the retry since it does not improve significantly\nthe situation.\n\nChange-Id: I4de49da1b48f7b87879102a0e18e97168e39406b\n'}]",0,713609,59188b984398cbf735346b6eed1e180ad259e843,11,6,1,308,,,0,"Use /detail in check-release-approval queries

Gerrit sometimes returns a partial JSON answer, missing
the details that o=DETAILED_LABELS should trigger. This
results in false negatives in check-release-approval tests.

This cannot be reproduced easily. We put in place a retry
but the issue seems to stick on immediate retries.

As an experiment, this change switches the API call from
/changes/ID with o=DETAILED_LABELS&o=DETAILED_ACCOUNTS to
/changes/ID/detail (which includes these two options, amongst
others), to see if that would workaround the Gerrit issue.

We also remove the retry since it does not improve significantly
the situation.

Change-Id: I4de49da1b48f7b87879102a0e18e97168e39406b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/09/713609/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/check-release-approval/files/check_approval.py'],1,59188b984398cbf735346b6eed1e180ad259e843,check-release-approval, raise call = 'changes/%s/detail' % changeid + \ '?o=CURRENT_REVISION&o=CURRENT_FILES'," LOG.warning(""Retrying once..."") self.load_from_gerrit(args.changeid) LOG.warning(""Second try was successful."") call = 'changes/%s' % changeid + \ '?o=CURRENT_REVISION&o=CURRENT_FILES&o=DETAILED_LABELS' + \ '&o=DETAILED_ACCOUNTS'",3,6
openstack%2Fopenstack-specs~master~Ib915d26d09a59122be15a4fa726370bde56dda90,openstack/openstack-specs,master,Ib915d26d09a59122be15a4fa726370bde56dda90,Several cleanups,MERGED,2020-03-19 12:52:31.000000000,2020-03-19 13:24:29.000000000,2020-03-19 13:21:19.000000000,"[{'_account_id': 308}, {'_account_id': 8099}, {'_account_id': 10343}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 12:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/ee28a2bb8c2a04baf241f757c072755a7a4d114f', 'message': 'Several cleanups\n\nSwitch to openstackdocstheme, use python3 everywhere, remove\nold cruft in setup.cfg.\n\nChange-Id: Ib915d26d09a59122be15a4fa726370bde56dda90\n'}, {'number': 2, 'created': '2020-03-19 12:58:50.000000000', 'files': ['requirements.txt', 'doc/source/conf.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/70a7c6d7ddf1e00e5d22ed09f239e73566632f9d', 'message': 'Several cleanups\n\nSwitch to openstackdocstheme, use python3 everywhere, remove\nold cruft in setup.cfg.\n\nChange-Id: Ib915d26d09a59122be15a4fa726370bde56dda90\n'}]",1,713869,70a7c6d7ddf1e00e5d22ed09f239e73566632f9d,16,6,2,6547,,,0,"Several cleanups

Switch to openstackdocstheme, use python3 everywhere, remove
old cruft in setup.cfg.

Change-Id: Ib915d26d09a59122be15a4fa726370bde56dda90
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/69/713869/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/conf.py', 'setup.cfg', 'tox.ini']",4,ee28a2bb8c2a04baf241f757c072755a7a4d114f,cleanup,basepython = python3commands = sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html ,install_command = pip install -U {opts} {packages}basepython = python3basepython = python3 commands = python setup.py build_sphinx [pbr] warnerrors = true,14,24
openstack%2Fopenstack-ansible-repo_build~stable%2Ftrain~I4ae6737f1ded4cbb680a380c8c309a0f5bf64723,openstack/openstack-ansible-repo_build,stable/train,I4ae6737f1ded4cbb680a380c8c309a0f5bf64723,repo_build: take distro version into account,MERGED,2020-03-19 05:39:58.000000000,2020-03-19 13:22:23.000000000,2020-03-19 13:20:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-19 05:39:58.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/e3d5da2e513b7a73e0dc766f9de39a887a15a9e7', 'message': 'repo_build: take distro version into account\n\nWhen introducing a new repo_container with a different distro, using\nthe same directory for symlinks can result in weird builds. We should\nprevent the links directory to be copied all willy-nilly, as suggested\nhere;\n\nhttps://review.opendev.org/#/c/712784/\nhttps://review.opendev.org/#/c/712787/\n\nBut we can further prevent bad builds by separating under distro-arch\nunder links with this patch.\n\nDepends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce\nChange-Id: I4ae6737f1ded4cbb680a380c8c309a0f5bf64723\n'}]",0,713785,e3d5da2e513b7a73e0dc766f9de39a887a15a9e7,7,2,1,25600,,,0,"repo_build: take distro version into account

When introducing a new repo_container with a different distro, using
the same directory for symlinks can result in weird builds. We should
prevent the links directory to be copied all willy-nilly, as suggested
here;

https://review.opendev.org/#/c/712784/
https://review.opendev.org/#/c/712787/

But we can further prevent bad builds by separating under distro-arch
under links with this patch.

Depends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
Change-Id: I4ae6737f1ded4cbb680a380c8c309a0f5bf64723
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/85/713785/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e3d5da2e513b7a73e0dc766f9de39a887a15a9e7,,"repo_build_global_links_path: ""{{ repo_build_base_path }}/links/{{ repo_build_os_distro_version }}""","repo_build_global_links_path: ""{{ repo_build_base_path }}/links""",1,1
openstack%2Fironic-python-agent-builder~master~Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87,openstack/ironic-python-agent-builder,master,Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87,Use variables for ssh paths,MERGED,2019-12-06 12:11:46.000000000,2020-03-19 13:19:14.000000000,2020-03-19 13:14:43.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-12-06 12:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/936047e6ef352f8265e7c59aa289582776e86276', 'message': 'Use variables for ssh paths\n\nConverting ssh related paths to variables.\n\nChange-Id: Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87\n'}, {'number': 2, 'created': '2019-12-06 14:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/79cd48c8137772faaea1223ec7d7328d7752b9d2', 'message': 'Use variables for ssh paths\n\nConverting ssh related paths to variables.\n\nChange-Id: Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87\n'}, {'number': 3, 'created': '2020-01-17 13:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/31df84b26475c93e2e6b18b1ef6e565690820f93', 'message': 'Use variables for ssh paths\n\nConverting ssh related paths to variables.\n\nChange-Id: Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87\n'}, {'number': 4, 'created': '2020-01-30 11:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/4b4a28567e41bb9342a89df1ed5aed89d39af9ae', 'message': 'Use variables for ssh paths\n\nConverting ssh related paths to variables.\n\nChange-Id: Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87\n'}, {'number': 5, 'created': '2020-01-30 16:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/873443d72e33217987ec4c1a2b29b28f60818eff', 'message': 'Use variables for ssh paths\n\nConverting ssh related paths to variables.\n\nChange-Id: Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87\n'}, {'number': 6, 'created': '2020-03-10 16:44:57.000000000', 'files': ['tinyipa/add-ssh-tinyipa.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/c7ec10668d9f557b9fb7d52d3e6481b71d02b7bb', 'message': 'Use variables for ssh paths\n\nConverting ssh related paths to variables.\n\nChange-Id: Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87\n'}]",0,697654,c7ec10668d9f557b9fb7d52d3e6481b71d02b7bb,32,5,6,23851,,,0,"Use variables for ssh paths

Converting ssh related paths to variables.

Change-Id: Ia6f272ca6439ab7731194ad37e6ccc62f1a90f87
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/54/697654/1 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/add-ssh-tinyipa.sh'],1,936047e6ef352f8265e7c59aa289582776e86276,ssh-key-variables,"SSHD_CONFIG_PATH=""$SSHD_CONFIG_PATH"" SSH_RSA_KEY_PATH=""$SSH_RSA_KEY_PATH"" SSH_DSA_KEY_PATH=""$SSH_DSA_KEY_PATH"" SSH_ED25519_KEY_PATH=""$SSH_ED25519_KEY_PATH"" if [ ! -f ""${REBUILDDIR}${SSHD_CONFIG_PATH}"" ]; then $CHROOT_CMD cp ${SSHD_CONFIG_PATH}.orig $SSHD_CONFIG_PATH echo ""PasswordAuthentication no"" | $CHROOT_CMD tee -a $SSHD_CONFIG_PATH $CHROOT_CMD ssh-keygen -q -t rsa -N """" -f $SSH_RSA_KEY_PATH $CHROOT_CMD ssh-keygen -q -t dsa -N """" -f $SSH_DSA_KEY_PATH $CHROOT_CMD ssh-keygen -q -t ed25519 -N """" -f $SSH_ED25519_KEY_PATH echo ""HostKey ${SSH_RSA_KEY_PATH}"" | $CHROOT_CMD tee -a $SSHD_CONFIG_PATH echo ""HostKey ${SSH_DSA_KEY_PATH}"" | $CHROOT_CMD tee -a $SSHD_CONFIG_PATH echo ""HostKey ${SSH_ED25519_KEY_PATH}"" | $CHROOT_CMD tee -a $SSHD_CONFIG_PATH echo ""PermitUserEnvironment yes"" | $CHROOT_CMD tee -a $SSHD_CONFIG_PATH"," if [ ! -f ""$REBUILDDIR/usr/local/etc/ssh/sshd_config"" ]; then $CHROOT_CMD cp /usr/local/etc/ssh/sshd_config.orig /usr/local/etc/ssh/sshd_config echo ""PasswordAuthentication no"" | $CHROOT_CMD tee -a /usr/local/etc/ssh/sshd_config $CHROOT_CMD ssh-keygen -q -t rsa -N """" -f /usr/local/etc/ssh/ssh_host_rsa_key $CHROOT_CMD ssh-keygen -q -t dsa -N """" -f /usr/local/etc/ssh/ssh_host_dsa_key $CHROOT_CMD ssh-keygen -q -t ed25519 -N """" -f /usr/local/etc/ssh/ssh_host_ed25519_key echo ""HostKey /usr/local/etc/ssh/ssh_host_rsa_key"" | $CHROOT_CMD tee -a /usr/local/etc/ssh/sshd_config echo ""HostKey /usr/local/etc/ssh/ssh_host_dsa_key"" | $CHROOT_CMD tee -a /usr/local/etc/ssh/sshd_config echo ""HostKey /usr/local/etc/ssh/ssh_host_ed25519_key"" | $CHROOT_CMD tee -a /usr/local/etc/ssh/sshd_config echo ""PermitUserEnvironment yes"" | $CHROOT_CMD tee -a /usr/local/etc/ssh/sshd_config",15,10
openstack%2Frally-openstack~master~Idf8b36f4931065e973c8753e4128a209156d2d9b,openstack/rally-openstack,master,Idf8b36f4931065e973c8753e4128a209156d2d9b,Temporary hide warnings,MERGED,2020-03-19 10:20:32.000000000,2020-03-19 13:16:43.000000000,2020-03-19 13:16:43.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 10:20:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e273a24e2c597f7d8262d1e546de6e3a79f717e3', 'message': 'Temporary hide warnings\n\nThis PR rtemporary hides all warnings during pytest launch. We have too\nmuch of them and it becomes really hard to read logs.\nShould be reverted as soon as Rally 3.0.0 will be released.\n\nChange-Id: Idf8b36f4931065e973c8753e4128a209156d2d9b\n'}]",0,713816,e273a24e2c597f7d8262d1e546de6e3a79f717e3,6,2,1,9545,,,0,"Temporary hide warnings

This PR rtemporary hides all warnings during pytest launch. We have too
much of them and it becomes really hard to read logs.
Should be reverted as soon as Rally 3.0.0 will be released.

Change-Id: Idf8b36f4931065e973c8753e4128a209156d2d9b
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/16/713816/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e273a24e2c597f7d8262d1e546de6e3a79f717e3,turnof-warnings, [pytest] addopts = -p no:warnings,,3,0
openstack%2Fironic-python-agent-builder~master~I86d7adac22be1890b271fd65a4bc49a7ab0a77bf,openstack/ironic-python-agent-builder,master,I86d7adac22be1890b271fd65a4bc49a7ab0a77bf,Workaround for missing adjtime file,MERGED,2020-03-18 13:33:19.000000000,2020-03-19 13:16:24.000000000,2020-03-19 13:14:42.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 13:33:19.000000000', 'files': ['tinyipa/finalise-tinyipa.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/919b8f6e4243a530e9739accf47de9af4998e7d0', 'message': 'Workaround for missing adjtime file\n\nThe adjtime file used by hwclock in tinycore is /var/lib/hwclock/adjtime\nbut for some reason (bug?) the file is not created when hwclock is\ninvoked, causing hwclock to fail when using certain options, for example\n--systohc.\nWe create the dir and the file to prevent that.\n\nChange-Id: I86d7adac22be1890b271fd65a4bc49a7ab0a77bf\n'}]",0,713651,919b8f6e4243a530e9739accf47de9af4998e7d0,8,3,1,23851,,,0,"Workaround for missing adjtime file

The adjtime file used by hwclock in tinycore is /var/lib/hwclock/adjtime
but for some reason (bug?) the file is not created when hwclock is
invoked, causing hwclock to fail when using certain options, for example
--systohc.
We create the dir and the file to prevent that.

Change-Id: I86d7adac22be1890b271fd65a4bc49a7ab0a77bf
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/51/713651/1 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/finalise-tinyipa.sh'],1,919b8f6e4243a530e9739accf47de9af4998e7d0,workaround-hwclock,"# NOTE(rpittau): workaorund for hwclock # The adjtime file used by hwclock in tinycore is /var/lib/hwclock/adjtime # but for some reason (bug?) the file is not created when hwclock is # invoked, causing hwclock to fail when using certain options, for example # --systohc. # We create the dir and the file to prevent that. $CHROOT_CMD mkdir -p /var/lib/hwclock $CHROOT_CMD touch /var/lib/hwclock/adjtime $CHROOT_CMD chmod 640 /var/lib/hwclock/adjtime ",,10,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I597c1acb549ebce86fdc1f48487612db6c607f24,openstack/tripleo-upgrade,stable/train,I597c1acb549ebce86fdc1f48487612db6c607f24,Linters fix-refresh,MERGED,2020-03-18 13:44:19.000000000,2020-03-19 13:14:44.000000000,2020-03-19 13:14:44.000000000,"[{'_account_id': 6816}, {'_account_id': 10022}, {'_account_id': 12393}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-18 13:44:19.000000000', 'files': ['tests/inventory', '.gitignore', 'templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'templates/check_service_galera.sh.j2', 'setup.cfg', 'tox.ini', '.pre-commit-config.yaml', 'templates/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4f95be3ececdb18900fff385ff2e03f24fec633c', 'message': 'Linters fix-refresh\n\n- bumped linters\n- enabled two more checks and fixed them\n- cleaned tox.ini file\n\nChange-Id: I597c1acb549ebce86fdc1f48487612db6c607f24\n(cherry picked from commit 4ad92f255f3120d6851c3cff3fcef73daed079f3)\n'}]",0,713655,4f95be3ececdb18900fff385ff2e03f24fec633c,10,7,1,11166,,,0,"Linters fix-refresh

- bumped linters
- enabled two more checks and fixed them
- cleaned tox.ini file

Change-Id: I597c1acb549ebce86fdc1f48487612db6c607f24
(cherry picked from commit 4ad92f255f3120d6851c3cff3fcef73daed079f3)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/55/713655/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/inventory', '.gitignore', 'templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'templates/check_service_galera.sh.j2', 'setup.cfg', 'tox.ini', '.pre-commit-config.yaml', 'templates/overcloud_system_upgrade.sh.j2']",8,4f95be3ececdb18900fff385ff2e03f24fec633c,ffwd-upgrade2-stable/train,, ,17,25
openstack%2Fopenstack-ansible-ops~master~I234138ae7d1fab410532c2fe9093c18553279385,openstack/openstack-ansible-ops,master,I234138ae7d1fab410532c2fe9093c18553279385,Enable Filebeat kibana monitoring,MERGED,2020-03-12 17:31:37.000000000,2020-03-19 13:13:13.000000000,2020-03-19 13:10:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-03-12 17:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7a5fda96f64d579b294c93227dd3f9878e8e4360', 'message': 'Enable Filebeat kibana monitoring\n\nFilebeat has an inbuilt module to parse Kibana logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all Kibana hosts.\n\nChange-Id: I234138ae7d1fab410532c2fe9093c18553279385\n'}, {'number': 2, 'created': '2020-03-19 12:00:58.000000000', 'files': ['elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elastic_filebeat/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/afc83698efe0597feb2d1a50f495fd3486339628', 'message': 'Enable Filebeat kibana monitoring\n\nFilebeat has an inbuilt module to parse Kibana logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all Kibana hosts.\n\nChange-Id: I234138ae7d1fab410532c2fe9093c18553279385\n'}]",0,712745,afc83698efe0597feb2d1a50f495fd3486339628,28,4,2,31004,,,0,"Enable Filebeat kibana monitoring

Filebeat has an inbuilt module to parse Kibana logs directly,
allowing them to be displayed in the Kibana monitoring dashboard. This
commit enables this module on all Kibana hosts.

Change-Id: I234138ae7d1fab410532c2fe9093c18553279385
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/45/712745/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_filebeat/tasks/main.yml', 'elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2']",2,7a5fda96f64d579b294c93227dd3f9878e8e4360,filebeat_elastic,{% if (kibana_enabled | default(false) | bool ) %} - module: kibana log: enabled: true{% endif %},#- module: kibana #log: #enabled: true,6,3
openstack%2Fopenstack-ansible-ops~master~Ia8a0198641d41734fc8c50e12c11297a67211b02,openstack/openstack-ansible-ops,master,Ia8a0198641d41734fc8c50e12c11297a67211b02,Enable Filebeat elasticsearch monitoring on Elastic hosts,MERGED,2020-03-11 10:20:06.000000000,2020-03-19 13:11:14.000000000,2020-03-19 13:09:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-03-11 10:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/22c51837fda410625ee232739005f7cd325f7b8d', 'message': 'Enable Filebeat elasticsearch monitoring on Elastic hosts\n\nFilebeat has an inbuilt module to parse Elasticsearch logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all elasticsearch hosts.\n\nChange-Id: Ia8a0198641d41734fc8c50e12c11297a67211b02\n'}, {'number': 2, 'created': '2020-03-11 10:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/d6d0f3ef2d2a4ef99f90f87546decc82c03f46c8', 'message': 'Enable Filebeat elasticsearch monitoring on Elastic hosts\n\nFilebeat has an inbuilt module to parse Elasticsearch logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all elasticsearch hosts.\n\nChange-Id: Ia8a0198641d41734fc8c50e12c11297a67211b02\n'}, {'number': 3, 'created': '2020-03-11 12:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/c3b1c05eecfecea0f177e4a60af5a45074c37220', 'message': 'Enable Filebeat elasticsearch monitoring on Elastic hosts\n\nFilebeat has an inbuilt module to parse Elasticsearch logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all elasticsearch hosts.\n\nChange-Id: Ia8a0198641d41734fc8c50e12c11297a67211b02\n'}, {'number': 4, 'created': '2020-03-11 15:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/dc581ba628714d4bc6b664439b4527e4ffce720d', 'message': 'Enable Filebeat elasticsearch monitoring on Elastic hosts\n\nFilebeat has an inbuilt module to parse Elasticsearch logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all elasticsearch hosts.\n\nChange-Id: Ia8a0198641d41734fc8c50e12c11297a67211b02\n'}, {'number': 5, 'created': '2020-03-19 11:59:32.000000000', 'files': ['elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elastic_filebeat/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3c0502a0eef3aeecde8169da1c6651a90f1e2e4e', 'message': 'Enable Filebeat elasticsearch monitoring on Elastic hosts\n\nFilebeat has an inbuilt module to parse Elasticsearch logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all elasticsearch hosts.\n\nChange-Id: Ia8a0198641d41734fc8c50e12c11297a67211b02\n'}]",0,712314,3c0502a0eef3aeecde8169da1c6651a90f1e2e4e,24,4,5,31004,,,0,"Enable Filebeat elasticsearch monitoring on Elastic hosts

Filebeat has an inbuilt module to parse Elasticsearch logs directly,
allowing them to be displayed in the Kibana monitoring dashboard. This
commit enables this module on all elasticsearch hosts.

Change-Id: Ia8a0198641d41734fc8c50e12c11297a67211b02
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/14/712314/5 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2'],1,22c51837fda410625ee232739005f7cd325f7b8d,filebeat_elastic,{% if inventory_hostname in (groups['elastic'] | union(groups['kibana'])) %} - module: elasticsearch server: enabled: true gc: enabled: true{% endif %},#- module: elasticsearch #server: #enabled: true #gc: #enabled: true,7,5
openstack%2Ftripleo-common~master~I6de47600f430d3af5e3052ff456cd718a0df0d76,openstack/tripleo-common,master,I6de47600f430d3af5e3052ff456cd718a0df0d76,Re-raise same exception type in export_stream,MERGED,2019-11-05 18:10:07.000000000,2020-03-19 13:11:02.000000000,2019-11-07 23:07:57.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-05 18:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/247ef2f624141f121b4e4220fad5b317fee42d91', 'message': 'Re-raise same exception type in export_stream\n\ntripleo-container-image-prepare can consume a lot of memory during\nthe export. Previously, when a MemoryError was raised by python, the\nexception was hidden because there was no message in the exception and\nthe code re-raised an IOError.\n\nThis patch updates the code so that the same exception type is re-raised\nas was caught. This helps the user see what the actual issue is, instead\nof masking the error behind a different exception type.\n\nChange-Id: I6de47600f430d3af5e3052ff456cd718a0df0d76\n'}, {'number': 2, 'created': '2019-11-05 18:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06aa1474feff5193a54574ba16ad4ffe920bb721', 'message': 'Re-raise same exception type in export_stream\n\ntripleo-container-image-prepare can consume a lot of memory during\nthe export. Previously, when a MemoryError was raised by python, the\nexception was hidden because there was no message in the exception and\nthe code re-raised an IOError.\n\nThis patch updates the code so that the same exception type is re-raised\nas was caught. This helps the user see what the actual issue is, instead\nof masking the error behind a different exception type.\n\nChange-Id: I6de47600f430d3af5e3052ff456cd718a0df0d76\n'}, {'number': 3, 'created': '2019-11-05 21:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7ed6815eac65bbe017c43a810613ae89b5afba75', 'message': 'Re-raise same exception type in export_stream\n\ntripleo-container-image-prepare can consume a lot of memory during\nthe export. Previously, when a MemoryError was raised by python, the\nexception was hidden because there was no message in the exception and\nthe code re-raised an IOError.\n\nThis patch updates the code so that the same exception type is re-raised\nas was caught. This helps the user see what the actual issue is, instead\nof masking the error behind a different exception type.\n\nChange-Id: I6de47600f430d3af5e3052ff456cd718a0df0d76\n'}, {'number': 4, 'created': '2019-11-07 14:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f23458b4645ba61b702abd6ed1fec5ce45adb56a', 'message': 'Re-raise same exception type in export_stream\n\ntripleo-container-image-prepare can consume a lot of memory during\nthe export. Previously, when a MemoryError was raised by python, the\nexception was hidden because there was no message in the exception and\nthe code re-raised an IOError.\n\nThis patch updates the code so that a MemoryError is specifically caught\nif one was thrown, and an accurate message is logged.\n\nChange-Id: I6de47600f430d3af5e3052ff456cd718a0df0d76\n'}, {'number': 5, 'created': '2019-11-07 14:46:19.000000000', 'files': ['tripleo_common/image/image_export.py', 'tripleo_common/tests/image/test_image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d7a9b83ed8d20c8baa9a6b49812f4f30faf7782', 'message': 'Re-raise same exception type in export_stream\n\ntripleo-container-image-prepare can consume a lot of memory during\nthe export. Previously, when a MemoryError was raised by python, the\nexception was hidden because there was no message in the exception and\nthe code re-raised an IOError.\n\nThis patch updates the code so that a MemoryError is specifically caught\nif one was thrown, and an accurate message is logged.\n\nChange-Id: I6de47600f430d3af5e3052ff456cd718a0df0d76\n'}]",4,693062,9d7a9b83ed8d20c8baa9a6b49812f4f30faf7782,25,5,5,7144,,,0,"Re-raise same exception type in export_stream

tripleo-container-image-prepare can consume a lot of memory during
the export. Previously, when a MemoryError was raised by python, the
exception was hidden because there was no message in the exception and
the code re-raised an IOError.

This patch updates the code so that a MemoryError is specifically caught
if one was thrown, and an accurate message is logged.

Change-Id: I6de47600f430d3af5e3052ff456cd718a0df0d76
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/62/693062/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/image_export.py', 'tripleo_common/tests/image/test_image_export.py']",2,247ef2f624141f121b4e4220fad5b317fee42d91,,"import mock @mock.patch('sys.stdout', new_callable=io.StringIO) @mock.patch('tripleo_common.image.image_export.open', side_effect=MemoryError()) def test_export_stream_memory_error(self, mock_open, mock_stdout): blob_data = six.b('The Blob') blob_compressed = zlib.compress(blob_data) calc_digest = hashlib.sha256() calc_digest.update(blob_compressed) compressed_digest = 'sha256:' + calc_digest.hexdigest() target_url = urlparse('docker://localhost:8787/t/nova-api:latest') layer = { 'digest': 'sha256:somethingelse' } calc_digest = hashlib.sha256() layer_stream = io.BytesIO(blob_compressed) self.assertRaises(MemoryError, image_export.export_stream, target_url, layer, layer_stream, verify_digest=False) ",,21,1
openstack%2Fopenstack-ansible-ops~master~I61135cd808737ca5bcb21307c4bcad7c4c3f96a5,openstack/openstack-ansible-ops,master,I61135cd808737ca5bcb21307c4bcad7c4c3f96a5,Enable Filebeat logstash monitoring on Logstash hosts,MERGED,2020-03-11 10:26:47.000000000,2020-03-19 13:10:19.000000000,2020-03-19 13:10:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-03-11 10:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/75e1b1096bb7866d04a777f13fd61974141a160f', 'message': 'Enable Filebeat elasticsearch monitoring on Logstash hosts\n\nFilebeat has an inbuilt module to parse Logstash logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all Logstash hosts.\n\nChange-Id: I61135cd808737ca5bcb21307c4bcad7c4c3f96a5\n'}, {'number': 2, 'created': '2020-03-11 10:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f8570daff05ca65da184cfcf7d88e33c2e3209c4', 'message': 'Enable Filebeat logstash monitoring on Logstash hosts\n\nFilebeat has an inbuilt module to parse Logstash logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all Logstash hosts.\n\nChange-Id: I61135cd808737ca5bcb21307c4bcad7c4c3f96a5\n'}, {'number': 3, 'created': '2020-03-11 10:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e5ed477323e9055798c3e57a196d8c531ce753b2', 'message': 'Enable Filebeat logstash monitoring on Logstash hosts\n\nFilebeat has an inbuilt module to parse Logstash logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all Logstash hosts.\n\nChange-Id: I61135cd808737ca5bcb21307c4bcad7c4c3f96a5\n'}, {'number': 4, 'created': '2020-03-11 12:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/bbc86a48daa2bf8f656f656d0e028e317fa5b4d7', 'message': 'Enable Filebeat logstash monitoring on Logstash hosts\n\nFilebeat has an inbuilt module to parse Logstash logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all Logstash hosts.\n\nChange-Id: I61135cd808737ca5bcb21307c4bcad7c4c3f96a5\n'}, {'number': 5, 'created': '2020-03-11 15:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/61a47f6bc552b3d6eb7e5256cfd401fa0d5177bf', 'message': 'Enable Filebeat logstash monitoring on Logstash hosts\n\nFilebeat has an inbuilt module to parse Logstash logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all Logstash hosts.\n\nChange-Id: I61135cd808737ca5bcb21307c4bcad7c4c3f96a5\n'}, {'number': 6, 'created': '2020-03-19 12:00:28.000000000', 'files': ['elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'elk_metrics_7x/roles/elastic_filebeat/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/494a88950b6108873deaf06e36a376c8296114cd', 'message': 'Enable Filebeat logstash monitoring on Logstash hosts\n\nFilebeat has an inbuilt module to parse Logstash logs directly,\nallowing them to be displayed in the Kibana monitoring dashboard. This\ncommit enables this module on all Logstash hosts.\n\nChange-Id: I61135cd808737ca5bcb21307c4bcad7c4c3f96a5\n'}]",2,712318,494a88950b6108873deaf06e36a376c8296114cd,19,4,6,31004,,,0,"Enable Filebeat logstash monitoring on Logstash hosts

Filebeat has an inbuilt module to parse Logstash logs directly,
allowing them to be displayed in the Kibana monitoring dashboard. This
commit enables this module on all Logstash hosts.

Change-Id: I61135cd808737ca5bcb21307c4bcad7c4c3f96a5
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/18/712318/4 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2'],1,75e1b1096bb7866d04a777f13fd61974141a160f,filebeat_elastic,{% if inventory_hostname in groups['logstash'] %} - module: logstash log: enabled: true{% endif %},#- module: logstash #log: #enabled: true,5,3
openstack%2Ftripleo-upgrade~stable%2Ftrain~I5b569ef8dca549581c918ee6bbde1234c68aa5a6,openstack/tripleo-upgrade,stable/train,I5b569ef8dca549581c918ee6bbde1234c68aa5a6,Introduce molecule tests in the tripleo-upgrade role,MERGED,2020-03-18 13:44:19.000000000,2020-03-19 13:06:52.000000000,2020-03-19 13:06:51.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 13:44:19.000000000', 'files': ['molecule/default/prepare.yml', 'molecule/molecule-requirements.txt', 'molecule/tests/test_molecule.py', 'molecule/ansible-role-requirements.yml', 'molecule/ansible_plugins/.gitignore', 'zuul.d/playbooks/run.yml', 'molecule/tests/conftest.py', 'molecule/default/Dockerfile.j2', 'zuul.d/playbooks/run-local.yml', 'molecule/scripts/bindep-install', 'molecule/ansible-test-env.rc', 'zuul.d/playbooks/pre.yml', 'molecule/default/molecule.yml', 'zuul.d/playbooks/prepare-test-host.yml', 'molecule/roles.galaxy/.gitignore', 'zuul.d/layout.yaml', 'tox.ini', 'molecule/bindep.txt', 'molecule/scripts/run-local-test', 'molecule/tests/hosts.ini', 'molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4ee66fdb0e6276ac8807a0db243ad54d8a03659c', 'message': 'Introduce molecule tests in the tripleo-upgrade role\n\nThis patch adds the first structure to\nrun molecule and test this role\n\nIt includes a basic escenario to run the tripleo-upgrade\nrole without parameters.\n\nChange-Id: I5b569ef8dca549581c918ee6bbde1234c68aa5a6\n(cherry picked from commit 505fc0d21e2d222c29d2f7c981e3e04e875e7589)\n'}]",0,713654,4ee66fdb0e6276ac8807a0db243ad54d8a03659c,11,4,1,11166,,,0,"Introduce molecule tests in the tripleo-upgrade role

This patch adds the first structure to
run molecule and test this role

It includes a basic escenario to run the tripleo-upgrade
role without parameters.

Change-Id: I5b569ef8dca549581c918ee6bbde1234c68aa5a6
(cherry picked from commit 505fc0d21e2d222c29d2f7c981e3e04e875e7589)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/54/713654/1 && git format-patch -1 --stdout FETCH_HEAD,"['molecule/default/prepare.yml', 'molecule/molecule-requirements.txt', 'molecule/tests/test_molecule.py', 'molecule/ansible-role-requirements.yml', 'molecule/ansible_plugins/.gitignore', 'zuul.d/playbooks/run.yml', 'molecule/tests/conftest.py', 'molecule/default/Dockerfile.j2', 'zuul.d/playbooks/run-local.yml', 'molecule/scripts/bindep-install', 'molecule/ansible-test-env.rc', 'zuul.d/playbooks/pre.yml', 'molecule/default/molecule.yml', 'zuul.d/playbooks/prepare-test-host.yml', 'molecule/roles.galaxy/.gitignore', 'zuul.d/layout.yaml', 'tox.ini', 'molecule/bindep.txt', 'molecule/scripts/run-local-test', 'molecule/tests/hosts.ini', 'molecule/default/playbook.yml']",21,4ee66fdb0e6276ac8807a0db243ad54d8a03659c,ffwd-upgrade2-stable/train,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all roles: - tripleo-upgrade ",,755,11
openstack%2Fopenstack-ansible-ops~master~Iecd41881b3adec4e4196c48334b6234c15e80f6c,openstack/openstack-ansible-ops,master,Iecd41881b3adec4e4196c48334b6234c15e80f6c,Correctly enable mysql filebeat module,MERGED,2020-03-10 14:12:45.000000000,2020-03-19 13:05:01.000000000,2020-03-19 13:02:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-03-10 14:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/da32a674f328acd5c44617cf3a060fb96631103f', 'message': 'Correctly enable mysql filebeat module\n\nThere is currently an issue where the mysql module setup in the\nfilebeat config file will apply to the last enabled module due to\na misplaced comment. This will cause Filebeat to crash when both\nIPTables and galera are present, as the error config section does\nnot exist. This commit uncomments the mysql module definition\nin order for the configuration to apply correctly to both IPTables\nand mysql.\n\nChange-Id: Iecd41881b3adec4e4196c48334b6234c15e80f6c\n'}, {'number': 2, 'created': '2020-03-11 12:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/5003d8746fe32881dde3243fbb68810c70998dc9', 'message': 'Correctly enable mysql filebeat module\n\nThere is currently an issue where the mysql module setup in the\nfilebeat config file will apply to the last enabled module due to\na misplaced comment. This will cause Filebeat to crash when both\nIPTables and galera are present, as the error config section does\nnot exist. This commit uncomments the mysql module definition\nin order for the configuration to apply correctly to both IPTables\nand mysql.\n\nChange-Id: Iecd41881b3adec4e4196c48334b6234c15e80f6c\n'}, {'number': 3, 'created': '2020-03-11 15:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a3099925126bf0b4180b3d52d9c8b9ffffd81bb0', 'message': 'Correctly enable mysql filebeat module\n\nThere is currently an issue where the mysql module setup in the\nfilebeat config file will apply to the last enabled module due to\na misplaced comment. This will cause Filebeat to crash when both\nIPTables and galera are present, as the error config section does\nnot exist. This commit uncomments the mysql module definition\nin order for the configuration to apply correctly to both IPTables\nand mysql.\n\nChange-Id: Iecd41881b3adec4e4196c48334b6234c15e80f6c\n'}, {'number': 4, 'created': '2020-03-19 11:57:21.000000000', 'files': ['elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/fd31fb0ffc59a073d7e80ba66371680dc88c21c1', 'message': 'Correctly enable mysql filebeat module\n\nThere is currently an issue where the mysql module setup in the\nfilebeat config file will apply to the last enabled module due to\na misplaced comment. This will cause Filebeat to crash when both\nIPTables and galera are present, as the error config section does\nnot exist. This commit uncomments the mysql module definition\nin order for the configuration to apply correctly to both IPTables\nand mysql.\n\nChange-Id: Iecd41881b3adec4e4196c48334b6234c15e80f6c\n'}]",0,712094,fd31fb0ffc59a073d7e80ba66371680dc88c21c1,26,4,4,31004,,,0,"Correctly enable mysql filebeat module

There is currently an issue where the mysql module setup in the
filebeat config file will apply to the last enabled module due to
a misplaced comment. This will cause Filebeat to crash when both
IPTables and galera are present, as the error config section does
not exist. This commit uncomments the mysql module definition
in order for the configuration to apply correctly to both IPTables
and mysql.

Change-Id: Iecd41881b3adec4e4196c48334b6234c15e80f6c
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/94/712094/4 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2'],1,da32a674f328acd5c44617cf3a060fb96631103f,filebeat_elastic,- module: mysql,#- module: mysql,1,1
openstack%2Fkolla-ansible~master~I07d2c285e3214a6dc827a8e8eacf263048ee099b,openstack/kolla-ansible,master,I07d2c285e3214a6dc827a8e8eacf263048ee099b,CentOS 8: Use master image tag by default,MERGED,2020-03-16 15:34:00.000000000,2020-03-19 12:59:11.000000000,2020-03-19 12:55:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-03-16 15:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6efd55c0485adcc30a3d05fe29ed274402920603', 'message': ""CentOS 8: Use master image tag by default\n\nWhile supporting both CentOS 7 and 8, we used the tag 'master-centos8'\nfor CentOS 8 images. We are now ready to drop CentOS 7 support, and\nKolla is switching to publish CentOS 8 images using the master tag on\nthe master branch, so we should use this.\n\nDepends-On: https://review.opendev.org/713265\n\nPartially-Implements: blueprint centos-rhel-8\n\nChange-Id: I07d2c285e3214a6dc827a8e8eacf263048ee099b\n""}, {'number': 2, 'created': '2020-03-16 16:20:23.000000000', 'files': ['ansible/group_vars/all.yml', 'etc/kolla/globals.yml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bab770a88bee147e655a876a92a8d3b8711c9861', 'message': ""CentOS 8: Use master image tag by default\n\nWhile supporting both CentOS 7 and 8, we used the tag 'master-centos8'\nfor CentOS 8 images. We are now ready to drop CentOS 7 support, and\nKolla is switching to publish CentOS 8 images using the master tag on\nthe master branch, so we should use this.\n\nDepends-On: https://review.opendev.org/713265\n\nPartially-Implements: blueprint centos-rhel-8\n\nChange-Id: I07d2c285e3214a6dc827a8e8eacf263048ee099b\n""}]",0,713272,bab770a88bee147e655a876a92a8d3b8711c9861,24,4,2,14826,,,0,"CentOS 8: Use master image tag by default

While supporting both CentOS 7 and 8, we used the tag 'master-centos8'
for CentOS 8 images. We are now ready to drop CentOS 7 support, and
Kolla is switching to publish CentOS 8 images using the master tag on
the master branch, so we should use this.

Depends-On: https://review.opendev.org/713265

Partially-Implements: blueprint centos-rhel-8

Change-Id: I07d2c285e3214a6dc827a8e8eacf263048ee099b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/713272/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,6efd55c0485adcc30a3d05fe29ed274402920603,bp/drop-py2-support,"openstack_tag_suffix: """"","# TODO(mgoddard): Set to an empty string when CentOS 7 is no longer supported. openstack_tag_suffix: ""{{ '' if kolla_base_distro != 'centos' or ansible_distribution_major_version == '7' else '-centos8' }}""",1,2
openstack%2Fkolla-ansible~stable%2Ftrain~Ie8a2d1a163528f509e126a807d4c73dd8106c47a,openstack/kolla-ansible,stable/train,Ie8a2d1a163528f509e126a807d4c73dd8106c47a,ceph: Add become to gathering OSD IDs on reconfigure,MERGED,2020-03-18 16:24:25.000000000,2020-03-19 12:57:49.000000000,2020-03-19 12:55:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-18 16:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32618e01224c3e0c8f6c63b859ee7bb62b56a8f4', 'message': 'DNM: Debug Ceph permission weirdness on reconfigure\n\nChange-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a\n'}, {'number': 2, 'created': '2020-03-19 07:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d8f013dc64583be5291ee58c22cb52d9faa4950', 'message': 'DNM: Debug Ceph permission weirdness on reconfigure\n\nChange-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a\n'}, {'number': 3, 'created': '2020-03-19 07:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cef11c1c7ec09c7ce74767e100ef28bfb7a78170', 'message': 'DNM: Debug Ceph permission weirdness on reconfigure\n\nChange-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a\n'}, {'number': 4, 'created': '2020-03-19 09:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7fc2f39749f80c99ab40d24d94d0c4cc0cbe82e7', 'message': 'ceph: Add become to gathering OSD IDs on reconfigure\n\nWe did use become: true on starting the osds, but not on reconfigure.\n\nCloses-Bug: #1867946\n\nChange-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a\n'}, {'number': 5, 'created': '2020-03-19 09:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/137f6bb5d744d3b2c6def445bc75af83d79efc18', 'message': 'ceph: Add become to gathering OSD IDs on reconfigure\n\nWe did use become: true on starting the osds, but not on reconfigure.\n\nCloses-Bug: #1867946\n\nChange-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a\n'}, {'number': 6, 'created': '2020-03-19 09:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2c4fd11995f48aff89d070b16d6a8f251b176c5', 'message': 'ceph: Add become to gathering OSD IDs on reconfigure\n\nWe did use become: true on starting the osds, but not on reconfigure.\n\nCloses-Bug: #1867946\n\nChange-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a\n'}, {'number': 7, 'created': '2020-03-19 09:46:34.000000000', 'files': ['releasenotes/notes/bug-1867946-53c214be2b2482f1.yaml', 'ansible/roles/ceph/tasks/reconfigure.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bb3261822d11dd74bfd7c678515d93241e4e2117', 'message': 'ceph: Add become to gathering OSD IDs on reconfigure\n\nWe did use become: true on starting the osds, but not on reconfigure.\n\nCloses-Bug: #1867946\n\nChange-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a\n'}]",0,713691,bb3261822d11dd74bfd7c678515d93241e4e2117,17,4,7,22629,,,0,"ceph: Add become to gathering OSD IDs on reconfigure

We did use become: true on starting the osds, but not on reconfigure.

Closes-Bug: #1867946

Change-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/713691/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/tasks/reconfigure.yml'],1,32618e01224c3e0c8f6c63b859ee7bb62b56a8f4,,"- name: Debug - list permissions on /var/lib/ceph/osd command: ""ls -la /var/lib/ceph/osd/"" - name: Debug - list permissions on /var/lib/ceph/osd/fs_uuid command: ""ls -la /var/lib/ceph/osd/{{ item['fs_uuid'] }}/"" ",,6,0
openstack%2Fkolla-ansible~stable%2Frocky~Ie8a2d1a163528f509e126a807d4c73dd8106c47a,openstack/kolla-ansible,stable/rocky,Ie8a2d1a163528f509e126a807d4c73dd8106c47a,ceph: Add become to gathering OSD IDs on reconfigure,MERGED,2020-03-19 09:30:28.000000000,2020-03-19 12:53:21.000000000,2020-03-19 12:49:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-19 09:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcb2122f106064a32a2358e045495b29a05c9b43', 'message': 'ceph: Add become to gathering OSD IDs on reconfigure\n\nWe did use become: true on starting the osds, but not on reconfigure.\n\nCloses-Bug: #1867946\n\nChange-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a\n'}, {'number': 2, 'created': '2020-03-19 09:46:56.000000000', 'files': ['releasenotes/notes/bug-1867946-53c214be2b2482f1.yaml', 'ansible/roles/ceph/tasks/reconfigure.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/326932924c9f5805b74763683cd72389f8458857', 'message': 'ceph: Add become to gathering OSD IDs on reconfigure\n\nWe did use become: true on starting the osds, but not on reconfigure.\n\nCloses-Bug: #1867946\n\nChange-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a\n'}]",0,713806,326932924c9f5805b74763683cd72389f8458857,10,3,2,22629,,,0,"ceph: Add become to gathering OSD IDs on reconfigure

We did use become: true on starting the osds, but not on reconfigure.

Closes-Bug: #1867946

Change-Id: Ie8a2d1a163528f509e126a807d4c73dd8106c47a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/713806/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/tasks/reconfigure.yml'],1,bcb2122f106064a32a2358e045495b29a05c9b43,, become: true,,1,0
openstack%2Fpython-brick-cinderclient-ext~master~I366b1e0f2e02dbc90015d7a04b8294507c1d1b6b,openstack/python-brick-cinderclient-ext,master,I366b1e0f2e02dbc90015d7a04b8294507c1d1b6b,Correct typo in title,MERGED,2020-03-03 18:31:22.000000000,2020-03-19 12:37:33.000000000,2020-03-19 12:35:03.000000000,"[{'_account_id': 5997}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 18:31:22.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/637775d5b5e011b518437b623a7aeee9cd7e0cff', 'message': 'Correct typo in title\n\nIt is less confusing if the title on the docs landing page matches\nthe project name.\n\nChange-Id: I366b1e0f2e02dbc90015d7a04b8294507c1d1b6b\n'}]",0,711083,637775d5b5e011b518437b623a7aeee9cd7e0cff,8,3,1,5314,,,0,"Correct typo in title

It is less confusing if the title on the docs landing page matches
the project name.

Change-Id: I366b1e0f2e02dbc90015d7a04b8294507c1d1b6b
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/83/711083/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,637775d5b5e011b518437b623a7aeee9cd7e0cff,title-typo,".. python-brick-cinderclient-ext documentation master file, created byWelcome to python-brick-cinderclient-ext's documentation!",".. brick-python-cinderclient-ext documentation master file, created byWelcome to brick-python-cinderclient-ext's documentation!",2,2
openstack%2Fovn-octavia-provider~master~I42878326c3654db7a1be83f5889457c8c85117b6,openstack/ovn-octavia-provider,master,I42878326c3654db7a1be83f5889457c8c85117b6,"Add tempest gate, devstack plugin and sample devstack config",MERGED,2020-02-20 13:21:38.000000000,2020-03-19 12:28:58.000000000,2020-03-19 12:23:02.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-02-20 13:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4f5c92865eb3148cf0852a62b4260f1cd1633886', 'message': '[WIP] Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 2, 'created': '2020-02-20 15:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/77bb2b4cf02d4ffc41aafb0003996ace82ee0c09', 'message': '[WIP] Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 3, 'created': '2020-02-20 15:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/55aeca913e82a88ace13c89338d5bcf0a906aa05', 'message': '[WIP] Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nDepends-On: https://review.opendev.org/#/c/708440/1\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 4, 'created': '2020-02-20 15:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/792e8be4055c718c5310c7c58ae0447a144bbd43', 'message': '[WIP] Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nDepends-On: https://review.opendev.org/#/c/708440/1\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 5, 'created': '2020-02-21 08:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8865bff5143d916f7ed79246d1cec16df7ec8741', 'message': '[WIP] Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nDepends-On: https://review.opendev.org/#/c/708440/1\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 6, 'created': '2020-02-21 09:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b39652d049a9fd73707ce6ea70874471befa7512', 'message': '[WIP] Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nDepends-On: https://review.opendev.org/#/c/708440/1\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 7, 'created': '2020-02-21 11:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4c63f41e9fc4effc5435b8e35d86018f82999b65', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nDepends-On: https://review.opendev.org/#/c/708440/1\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 8, 'created': '2020-02-21 11:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/34d43f543cf675bbdbfc3384199d8d5885cb9558', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nDepends-On: https://review.opendev.org/#/c/708440/1\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 9, 'created': '2020-02-24 14:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2f234d7ccf1f513674b6d2db8207fdd23d9b2d25', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nDepends-On: https://review.opendev.org/#/c/708440/1\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 10, 'created': '2020-02-24 21:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/bc0d8997057004f1f37a8f2f44646200d009b27a', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nDepends-On: https://review.opendev.org/#/c/708440\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 11, 'created': '2020-02-28 17:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8bfcc0ecaea1952685018e0fd2a2e944ad70ac3a', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nDepends-On: https://review.opendev.org/#/c/708440\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 12, 'created': '2020-02-28 20:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/349c84ea0d640db6f6ef16128cb3e9f27e459f4b', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nDepends-On: https://review.opendev.org/#/c/708440\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 13, 'created': '2020-03-03 13:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9a213aa29f83beb5b6031c451a0cf5b86840c207', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n * sample devstack config\n\nDepends-On: https://review.opendev.org/#/c/708440\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 14, 'created': '2020-03-03 13:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/79218ad1b02558506283af851ed72e6983dc1a81', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n\nDepends-On: https://review.opendev.org/#/c/708440\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 15, 'created': '2020-03-03 14:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ae0d4cc9a1befca385b32a0ea1f4f147bcba6560', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n\nDepends-On: https://review.opendev.org/#/c/708440\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 16, 'created': '2020-03-05 12:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0b5335bbbb9b1b2367b7ffde6eefd403672e0700', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n\nDepends-On: https://review.opendev.org/#/c/708440\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 17, 'created': '2020-03-05 12:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f56f5145109f3176a91cd92b6f6ef1d1ed4d20d2', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n\nDepends-On: https://review.opendev.org/#/c/711255/\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 18, 'created': '2020-03-05 13:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a29d71c8fa61a8ace704cc6973db365f941b63be', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n\nDepends-On: https://review.opendev.org/#/c/711255/\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 19, 'created': '2020-03-06 02:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/15828fc95b40ce10d217a39dded31c8465332276', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n\nDepends-On: https://review.opendev.org/#/c/711255/\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 20, 'created': '2020-03-16 11:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5150b18dc3ffa25ba8ddda5a011e1d6a8bd6b196', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n\nDepends-On: https://review.opendev.org/#/c/711255/\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 21, 'created': '2020-03-16 11:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8ec186ad3df667d9bef6597a3d64e9e44a4148db', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n\nDepends-On: https://review.opendev.org/#/c/711255/\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 22, 'created': '2020-03-16 12:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2e4ed638b6112b3723fce428119ff77ca0e01f1d', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 23, 'created': '2020-03-16 15:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f24a6a850590a964d27874e5e1ab2c9bb703726c', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest gate\n * devstack plugin\n\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 24, 'created': '2020-03-17 13:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e844c5dd672f8ddc3bda683c81a98e7058a1f093', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest job\n * devstack plugin\n\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}, {'number': 25, 'created': '2020-03-19 11:04:14.000000000', 'files': ['devstack/plugin.sh', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/654cf42e8f848906db5187de8c0ed302a7ba93f8', 'message': 'Add tempest gate, devstack plugin and sample devstack config\n\nThis patch adds:\n * ovn-octavia-provider-driver tempest job\n * devstack plugin\n\n\nChange-Id: I42878326c3654db7a1be83f5889457c8c85117b6\n'}]",14,708870,654cf42e8f848906db5187de8c0ed302a7ba93f8,69,6,25,24791,,,0,"Add tempest gate, devstack plugin and sample devstack config

This patch adds:
 * ovn-octavia-provider-driver tempest job
 * devstack plugin


Change-Id: I42878326c3654db7a1be83f5889457c8c85117b6
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/70/708870/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.sample', 'devstack/plugin.sh', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'devstack/settings']",5,4f5c92865eb3148cf0852a62b4260f1cd1633886,,"OCTAVIA_DIR=${OCTAVIA_DIR:-""${DEST}/octavia""} OCTAVIA_CONF_DIR=${OCTAVIA_CONF_DIR:-""/etc/octavia""} OCTAVIA_PROVIDER_DRIVERS=${OCTAVIA_PROVIDER_DRIVERS:-""amphora:'The Octavia Amphora driver.',ovn:'Octavia OVN driver.'""} ",,204,0
openstack%2Fcharms.openstack~master~Ieae81619e06dc287c2c42ec944425be4de13d0d6,openstack/charms.openstack,master,Ieae81619e06dc287c2c42ec944425be4de13d0d6,Allow release selection to work for subordinate charms,MERGED,2020-03-19 07:06:26.000000000,2020-03-19 12:27:59.000000000,2020-03-19 12:27:59.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 07:06:26.000000000', 'files': ['unit_tests/charms_openstack/charm/test_defaults.py', 'charms_openstack/charm/classes.py', 'charms_openstack/charm/defaults.py', 'charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/d8b376cde28ef37d4a3144dada37529618333663', 'message': 'Allow release selection to work for subordinate charms\n\nThe release selection function bases its decision on installed\npackages and falls back to looking up OpenStack release codename\nfrom source configuration option when no packages are installed.\n\nSubordinate charms do not have a source configuration option,\nthus we want to make it possible for a charm author to request\nthe release selection decision be made based on what is currently\navailable in the system APT cache alone.\n\nOur principle charm should already have configured the system\nwith the desired UCA pocket enabled.\n\nThe charm author requests this behaviour by setting the\n``source_config_key`` to an empty string.\n\nNote that functions for upgrading between releases etc also\ndepend on the charm having a source configuration option but\nthat is OK as the subordinate has no business dealing with\nthat and should defer such operations to its principle charm.\n\nChange-Id: Ieae81619e06dc287c2c42ec944425be4de13d0d6\nCloses-Bug: #1865510\n'}]",0,713788,d8b376cde28ef37d4a3144dada37529618333663,9,3,1,13686,,,0,"Allow release selection to work for subordinate charms

The release selection function bases its decision on installed
packages and falls back to looking up OpenStack release codename
from source configuration option when no packages are installed.

Subordinate charms do not have a source configuration option,
thus we want to make it possible for a charm author to request
the release selection decision be made based on what is currently
available in the system APT cache alone.

Our principle charm should already have configured the system
with the desired UCA pocket enabled.

The charm author requests this behaviour by setting the
``source_config_key`` to an empty string.

Note that functions for upgrading between releases etc also
depend on the charm having a source configuration option but
that is OK as the subordinate has no business dealing with
that and should defer such operations to its principle charm.

Change-Id: Ieae81619e06dc287c2c42ec944425be4de13d0d6
Closes-Bug: #1865510
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/88/713788/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/charms_openstack/charm/test_defaults.py', 'charms_openstack/charm/classes.py', 'charms_openstack/charm/defaults.py', 'charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py']",5,d8b376cde28ef37d4a3144dada37529618333663,ovn-charm," self.upstream_version.assert_called_once_with( pkg_mock.current_ver.ver_str) self.upstream_version.reset_mock() self.assertEqual( chm_core.BaseOpenStackCharm.get_os_codename_package( 'testpkg', codenames, apt_cache_sufficient=True), 'newton') self.upstream_version.assert_called_once_with( pkg_mock.version)",,44,7
openstack%2Fsushy~master~I735a51a651d05b85c47a3c9a33e587f9c5b4c28f,openstack/sushy,master,I735a51a651d05b85c47a3c9a33e587f9c5b4c28f,"Add `Connector(..., response_callback=None)`` parameter",MERGED,2020-03-16 19:01:51.000000000,2020-03-19 12:21:34.000000000,2020-03-19 12:18:12.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2020-03-16 19:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/0ca35bd476deab1416f52a95f24852d0709f80c6', 'message': 'Add `Connector(..., response_cb=None)`` parameter\n\nAdds optional `response_cb` parameter to `Connector` class that\ncan be used by the application to receive vanilla HTTP messages\nin the course of running Redfish call.\n\nThe intention is to facilitate Redfish exchange debugging.\n\nChange-Id: I735a51a651d05b85c47a3c9a33e587f9c5b4c28f\n'}, {'number': 2, 'created': '2020-03-18 15:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/9b6cba84253fbe3379b2673dc46131fc4665cbdc', 'message': 'Add `Connector(..., response_callback=None)`` parameter\n\nAdds optional `response_callback` parameter to `Connector` class\nthat can be used by the application to receive vanilla HTTP messages\nin the course of running Redfish call.\n\nThe intention is to facilitate Redfish exchange debugging.\n\nChange-Id: I735a51a651d05b85c47a3c9a33e587f9c5b4c28f\n'}, {'number': 3, 'created': '2020-03-18 16:32:28.000000000', 'files': ['releasenotes/notes/add-response-cb-65d448ee2690d0b2.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/5b07f04538e16a31f6e7a5dd69b558850ddcc126', 'message': 'Add `Connector(..., response_callback=None)`` parameter\n\nAdds optional `response_callback` parameter to `Connector` class\nthat can be used by the application to receive vanilla HTTP messages\nin the course of running Redfish call.\n\nThe intention is to facilitate Redfish exchange debugging.\n\nChange-Id: I735a51a651d05b85c47a3c9a33e587f9c5b4c28f\n'}]",2,713315,5b07f04538e16a31f6e7a5dd69b558850ddcc126,16,6,3,26340,,,0,"Add `Connector(..., response_callback=None)`` parameter

Adds optional `response_callback` parameter to `Connector` class
that can be used by the application to receive vanilla HTTP messages
in the course of running Redfish call.

The intention is to facilitate Redfish exchange debugging.

Change-Id: I735a51a651d05b85c47a3c9a33e587f9c5b4c28f
",git fetch https://review.opendev.org/openstack/sushy refs/changes/15/713315/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-response-cb-65d448ee2690d0b2.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",3,0ca35bd476deab1416f52a95f24852d0709f80c6,01-add-response-cb," def test_init_with_callback(self): def response_cb(response): return conn = connector.Connector('http://foo.bar:1234', username='admin', password='password', response_cb=response_cb) self.assertIs(conn._response_cb, response_cb) def test_response_cb(self): mock_response_cb = mock.MagicMock() self.conn._response_cb = mock_response_cb self.conn._op('GET', path='fake/path', headers=self.headers) self.assertEqual(1, mock_response_cb.call_count) ",,32,1
openstack%2Fopenstack-ansible-repo_build~master~I2cf628d322e09ab7a0dc12557b07b1ab8d174b99,openstack/openstack-ansible-repo_build,master,I2cf628d322e09ab7a0dc12557b07b1ab8d174b99,repo_build: determine if there was a change when syncing files,MERGED,2020-03-13 20:32:40.000000000,2020-03-19 12:21:34.000000000,2020-03-19 12:16:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-13 20:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/3fdd2d64a6d065e039eb69f11795c0de5946a35f', 'message': 'repo_build: determine if there was a change when syncing files\n\nIf we sync a couple of item.paths over to the repo_all[0]. There is\ndefinitely a change happening, so setting changed_when to false is\nnot correct. Using json_query we can check if there was an actual\nchange, and perhaps use it to trigger something else.\n\nrsync reports changes to stdout, and will remain empty if there are\nno files synced.\n\nDepends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce\nChange-Id: I2cf628d322e09ab7a0dc12557b07b1ab8d174b99\n'}, {'number': 2, 'created': '2020-03-14 14:34:09.000000000', 'files': ['tasks/repo_package_sync.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/9e6f1169b62661ccdbb7de00db99c99ed392cfaf', 'message': 'repo_build: determine if there was a change when syncing files\n\nIf we sync a couple of item.paths over to the repo_all[0]. There is\ndefinitely a change happening, so setting changed_when to false is\nnot correct.\n\nDuring the with_items loop you can check each individual task under\nthe ""register: _variable"". After the task has completed with all\nitems, they\'re bundled up into _variable.results for future\nprocessing.\n\nrsync reports changes to stdout, and will remain empty if there are\nnone. So we can just check for stdout.\n\nDepends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce\nChange-Id: I2cf628d322e09ab7a0dc12557b07b1ab8d174b99\n'}]",0,713063,9e6f1169b62661ccdbb7de00db99c99ed392cfaf,15,4,2,25600,,,0,"repo_build: determine if there was a change when syncing files

If we sync a couple of item.paths over to the repo_all[0]. There is
definitely a change happening, so setting changed_when to false is
not correct.

During the with_items loop you can check each individual task under
the ""register: _variable"". After the task has completed with all
items, they're bundled up into _variable.results for future
processing.

rsync reports changes to stdout, and will remain empty if there are
none. So we can just check for stdout.

Depends-On: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
Change-Id: I2cf628d322e09ab7a0dc12557b07b1ab8d174b99
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/63/713063/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/repo_package_sync.yml'],1,3fdd2d64a6d065e039eb69f11795c0de5946a35f,," register: _sync_files changed_when: _sync_files | json_query(rsync_has_stdoutput) vars: rsync_has_stdoutput: ""results[?item.src=='{{ item.src }}'].stdout | [0]""", changed_when: false,4,1
openstack%2Frally~master~I733bdc2b5cef751af9dfcc33866c122ceed63492,openstack/rally,master,I733bdc2b5cef751af9dfcc33866c122ceed63492,Improme install jobs to run the simlar workload as tox -eself,MERGED,2020-03-17 18:19:43.000000000,2020-03-19 12:18:24.000000000,2020-03-19 12:18:24.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 18:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d138509b9f032e60fbc10e6a0b241a18e5d73fbf', 'message': 'WIP: improve install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 2, 'created': '2020-03-17 18:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8d211ca8bca39b6fa8d9b9155f986a6cf39681f1', 'message': 'WIP: improve install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 3, 'created': '2020-03-17 19:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b20dc144890120b5e3110b73f5815a5087a4b0c9', 'message': 'WIP: improve install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 4, 'created': '2020-03-18 13:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c8b098ec08ee61461d03400c31b87f43449119e5', 'message': 'WIP: improve install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 5, 'created': '2020-03-18 14:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/23eb74b0ba7d664570b13120326a489bf8a404d5', 'message': 'WIP: improve install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 6, 'created': '2020-03-18 14:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5c9a6ee61f26f13255fc6cc518e28c7d01efdeb7', 'message': 'WIP: improve install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 7, 'created': '2020-03-18 17:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/bdbbefda0bff078535c44bfa7cd234e4cdc5b0d7', 'message': 'WIP: improve install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 8, 'created': '2020-03-18 17:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d455f2ee0a14f096e8d2ca0d7777345f8745ba5d', 'message': 'WIP: improve install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 9, 'created': '2020-03-18 18:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b85aa78f680e7cec7901c87330a8512988f4f5c3', 'message': 'WIP: improve install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 10, 'created': '2020-03-18 18:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ad579d71b3c96dc006e0354bae249789068d4bc0', 'message': 'WIP: improve install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 11, 'created': '2020-03-18 18:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c0872e96fadabea4131680cc4e96968e00c31334', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 12, 'created': '2020-03-18 19:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/443daf90a53915e25bed85e713a1065c2407efd6', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 13, 'created': '2020-03-18 19:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4cd1f4597bd9f8f7aae07a4b92f6eb303178a581', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 14, 'created': '2020-03-18 20:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0a2d5b9f9c0120b364c5135cf906d444b02aaefa', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 15, 'created': '2020-03-18 20:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8fe5e1754e2f894ead92bf7d56e478f90fa66135', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 16, 'created': '2020-03-18 21:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fe0ec06426321c5dcbbc69e8849e07a8c71e2798', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 17, 'created': '2020-03-18 21:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3026a482eecbcc6daa0da24704937b92e46e4304', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 18, 'created': '2020-03-18 22:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/79ccde5c206f7b8462875d1968f0eda6fab02f50', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 19, 'created': '2020-03-18 22:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4d3c1311a81bc73b60666501eb7bb177185ccff2', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 20, 'created': '2020-03-18 22:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/dc8277ce449b0c639cc62b6ed7d0f77cd6317a9a', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 21, 'created': '2020-03-19 10:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a4a2828694d2b1e77738d935ee123b1ba27cd0c9', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 22, 'created': '2020-03-19 10:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d60281754c96b6b6892a5be940952443f1bb8775', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 23, 'created': '2020-03-19 10:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/39346391d16ca05af1890e203484260547c0183a', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 24, 'created': '2020-03-19 10:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/53b449d8685cd34d38023b60bc3c82c6a6a8d8fd', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 25, 'created': '2020-03-19 11:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/cb05566e8f52a1f2d999b0a163a35d6d5a7bfa24', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n* use community driven way to install docker\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 26, 'created': '2020-03-19 11:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/22c7eac44ff736b3f9fa59d4e95193763e113707', 'message': 'WIP: improve install and docker jobs\n\n* rewrite script for `tox -e self` using python\n* run script of `tox -e self` at install and docker jobs\n* use community driven way to install docker\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}, {'number': 27, 'created': '2020-03-19 11:45:36.000000000', 'files': ['tests/ci/playbooks/rally-install-run.yaml', '.zuul.d/zuul.yaml', '.zuul.d/python-jobs.yaml', 'tests/ci/playbooks/fetch-html-and-json-reports.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/445be80d3f380da14ada42781704ddc894c358eb', 'message': 'Improme install jobs to run the simlar workload as tox -eself\n\nChange-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492\n'}]",0,713507,445be80d3f380da14ada42781704ddc894c358eb,55,2,27,9545,,,0,"Improme install jobs to run the simlar workload as tox -eself

Change-Id: I733bdc2b5cef751af9dfcc33866c122ceed63492
",git fetch https://review.opendev.org/openstack/rally refs/changes/07/713507/24 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ci/rally_self_job.sh', 'tests/ci/playbooks/rally-install/run.yaml', 'tests/ci/playbooks/rally-docker-build/run.yaml']",3,d138509b9f032e60fbc10e6a0b241a18e5d73fbf,install_job," name: a run script for rally-docker-* jobs - name: Create a docker volume for further testing of rally container shell: ""sudo docker volume create --name rally_volume"" - name: Execute the similar wokrloads as `tox -e self` shell: cmd: ""sudo ./tests/ci/rally_self_job.sh"" executable: /bin/bash chdir: '{{ zuul.project.src_dir }}' environment: RALLY_CMD: ""docker run -v rally_volume:/home/rally/.rally rally:dev""", name: a run script for rally-install-* jobs,33,23
openstack%2Freleases~master~I738c6f108579a06fb63416738b09fe9410231a8f,openstack/releases,master,I738c6f108579a06fb63416738b09fe9410231a8f,Release python-glanceclient 2.13.2,MERGED,2020-03-19 05:34:50.000000000,2020-03-19 12:18:21.000000000,2020-03-19 12:18:21.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 05:34:50.000000000', 'files': ['deliverables/rocky/python-glanceclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d0c58247e8e0cafb2ed82bcb9d389b9f469f11d5', 'message': 'Release python-glanceclient 2.13.2\n\nPoint and last official release of Rocky glanceclient; bugfixes\n\nChange-Id: I738c6f108579a06fb63416738b09fe9410231a8f\n'}]",0,713783,d0c58247e8e0cafb2ed82bcb9d389b9f469f11d5,8,3,1,9303,,,0,"Release python-glanceclient 2.13.2

Point and last official release of Rocky glanceclient; bugfixes

Change-Id: I738c6f108579a06fb63416738b09fe9410231a8f
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/713783/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/python-glanceclient.yaml'],1,d0c58247e8e0cafb2ed82bcb9d389b9f469f11d5,glanceclient-rocky, - projects: - hash: 535bc526ce0196232b7f1f2df8ba6343b77b55b5 repo: openstack/python-glanceclient version: 2.13.2,,4,0
openstack%2Freleases~master~Ie518c1d82ab3c7fdd5447666e89dacfbd3bda993,openstack/releases,master,Ie518c1d82ab3c7fdd5447666e89dacfbd3bda993,Release glance_store 0.26.2,MERGED,2020-03-19 05:18:35.000000000,2020-03-19 12:18:20.000000000,2020-03-19 12:18:20.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 05:18:35.000000000', 'files': ['deliverables/rocky/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/74cf4507407c076a41378bf1a5f0c8b5b2716d3a', 'message': 'Release glance_store 0.26.2\n\nPoint and last official release of Rocky glance_store; bugfixes\n\nChange-Id: Ie518c1d82ab3c7fdd5447666e89dacfbd3bda993\n'}]",0,713782,74cf4507407c076a41378bf1a5f0c8b5b2716d3a,8,3,1,9303,,,0,"Release glance_store 0.26.2

Point and last official release of Rocky glance_store; bugfixes

Change-Id: Ie518c1d82ab3c7fdd5447666e89dacfbd3bda993
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/713782/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/glance-store.yaml'],1,74cf4507407c076a41378bf1a5f0c8b5b2716d3a,glance_store-rocky, - version: 0.26.2 projects: - repo: openstack/glance_store hash: 7cad6da6f1d4f7e8e47e6d1087d3905d3d806db6,,4,0
openstack%2Freleases~master~I2604f483318e5dbd565deb2faef4d74c6064b5f5,openstack/releases,master,I2604f483318e5dbd565deb2faef4d74c6064b5f5,Release Glance 17.0.1,MERGED,2020-03-19 05:04:55.000000000,2020-03-19 12:18:19.000000000,2020-03-19 12:18:19.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 05:04:55.000000000', 'files': ['deliverables/rocky/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5114457a1ed2c3aaf5746b951354e280e8ee8a97', 'message': 'Release Glance 17.0.1\n\nPoint and last official release of Rocky Glance; bugfixes\n\nChange-Id: I2604f483318e5dbd565deb2faef4d74c6064b5f5\n'}]",0,713779,5114457a1ed2c3aaf5746b951354e280e8ee8a97,8,3,1,9303,,,0,"Release Glance 17.0.1

Point and last official release of Rocky Glance; bugfixes

Change-Id: I2604f483318e5dbd565deb2faef4d74c6064b5f5
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/713779/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/glance.yaml'],1,5114457a1ed2c3aaf5746b951354e280e8ee8a97,glance-rocky, - version: 17.0.1 projects: - repo: openstack/glance hash: ad39c12c64c8ff017918a8790d69d5278ac379da,,4,0
openstack%2Fneutron~master~I7e62784d6808119b0882b9d7265ca2ce6fa0df10,openstack/neutron,master,I7e62784d6808119b0882b9d7265ca2ce6fa0df10,[WIP][OVN] Recheck on failed assert in VirtualPort functional tests,ABANDONED,2020-03-13 09:46:14.000000000,2020-03-19 12:16:24.000000000,,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-13 09:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5489b609534fe5d72955e80c5c345077c36c3e2f', 'message': '[WIP][OVN] Recheck on failed assert in VirtualPort functional tests\n\nSometimes in the logs we can find that the assert fails on checking\nthe virtual port type or required option in Logical_Switch_Port.\n\nLets try to retry in case needed value is not present.\n\nCloses-Bug: #1865453\n\nChange-Id: I7e62784d6808119b0882b9d7265ca2ce6fa0df10\n'}, {'number': 2, 'created': '2020-03-16 09:54:21.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c098b60fe2eda9425de350e07f44e6f957a3845', 'message': '[WIP][OVN] Recheck on failed assert in VirtualPort functional tests\n\nSometimes in the logs we can find that the assert fails on checking\nthe virtual port type or required option in Logical_Switch_Port.\n\nLets try to retry in case needed value is not present.\n\nCloses-Bug: #1865453\n\nChange-Id: I7e62784d6808119b0882b9d7265ca2ce6fa0df10\n'}]",2,712888,7c098b60fe2eda9425de350e07f44e6f957a3845,18,7,2,24791,,,0,"[WIP][OVN] Recheck on failed assert in VirtualPort functional tests

Sometimes in the logs we can find that the assert fails on checking
the virtual port type or required option in Logical_Switch_Port.

Lets try to retry in case needed value is not present.

Closes-Bug: #1865453

Change-Id: I7e62784d6808119b0882b9d7265ca2ce6fa0df10
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/712888/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'zuul.d/base.yaml', 'zuul.d/project.yaml']",3,5489b609534fe5d72955e80c5c345077c36c3e2f,bug/1865453, - neutron-functional-1 - neutron-functional-2 - neutron-functional-3 - neutron-functional-4 - neutron-functional-5 - neutron-functional-6 - neutron-functional-7 - neutron-functional-8 - neutron-functional-9 - neutron-functional-10 - neutron-functional-11 - neutron-functional-12 - neutron-functional-13 - neutron-functional-14 - neutron-functional-15 - neutron-functional-16 - neutron-functional-17 - neutron-functional-18 - neutron-functional-19 - neutron-functional-20 #- neutron-fullstack #- neutron-rally-task #- neutron-tempest-dvr #- neutron-tempest-linuxbridge #- neutron-grenade-multinode #- neutron-grenade-dvr-multinode #- tempest-integrated-networking: #- # We don't run the job on things like neutron docs-only changes #- irrelevant-files: &irrelevant-files #- - ^(test-|)requirements.txt$ #- - ^.*\.rst$ #- - ^doc/.*$ #- - ^neutron/locale/.*$ #- - ^neutron/tests/unit/.*$ #- - ^releasenotes/.*$ #- - ^setup.cfg$ #- - ^tools/.*$ #- - ^tox.ini$ #- - ^vagrant/.*$ #- - ^migration/.*$ #- tempest-multinode-full-py3: #- voting: false #- irrelevant-files: *irrelevant-files #- neutron-tempest-dvr-ha-multinode-full # neutron-tempest-iptables_hybrid #- ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: #voting: false #irrelevant-files: *irrelevant-files #- tempest-slow-py3: #irrelevant-files: *irrelevant-files #- neutron-ovn-tempest-ovs-release #- neutron-ovn-tempest-ovs-release-ipv6-only: #voting: false," - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-ussuri-jobs - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - neutron-functional - neutron-fullstack - neutron-rally-task - neutron-tempest-linuxbridge - neutron-grenade-multinode - neutron-grenade-dvr-multinode - tempest-integrated-networking: # We don't run the job on things like neutron docs-only changes irrelevant-files: &irrelevant-files - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - ^vagrant/.*$ - ^migration/.*$ - ^devstack/.*\.sample$ - tempest-multinode-full-py3: voting: false irrelevant-files: *irrelevant-files - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *irrelevant-files - tempest-slow-py3: irrelevant-files: *irrelevant-files - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only: voting: false # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false # irrelevant-files: *irrelevant-files - tempest-ipv6-only: irrelevant-files: *irrelevant-files - openstacksdk-functional-devstack-networking: voting: false - neutron-functional-with-uwsgi: voting: false - neutron-fullstack-with-uwsgi: voting: false - neutron-tempest-with-uwsgi: voting: false # TODO(slaweq): add this job again to the check queue when it will # be working fine with python 3 #- neutron-centos-7-tripleo-standalone #- neutron-ovn-rally-task # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. #- neutron-ovn-tripleo-ci-centos-7-containers-multinode - neutron-ovn-tempest-slow: voting: false - neutron-ovn-tempest-full-multinode-ovs-master: voting: false - openstack-tox-py36: # from openstack-python3-ussuri-jobs template timeout: 3600 - openstack-tox-py37: # from openstack-python3-ussuri-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-ussuri-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 - neutron-fullstack - tempest-integrated-networking - neutron-tempest-linuxbridge - neutron-tempest-iptables_hybrid - neutron-grenade-multinode - neutron-grenade-dvr-multinode - tempest-slow-py3: irrelevant-files: *irrelevant-files - tempest-ipv6-only: irrelevant-files: *irrelevant-files - neutron-ovn-tempest-ovs-release - openstack-tox-py36: # from openstack-python3-ussuri-jobs template timeout: 3600 - openstack-tox-py37: # from openstack-python3-ussuri-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 #- neutron-ovn-rally-task #- neutron-ovn-tripleo-ci-centos-7-containers-multinode ",377,208
openstack%2Fopenstack-ansible-repo_build~stable%2Frocky~Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,openstack/openstack-ansible-repo_build,stable/rocky,Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,repo_build: update tests to opendev.org,MERGED,2020-03-13 15:23:39.000000000,2020-03-19 12:16:12.000000000,2020-03-19 12:16:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2020-03-13 15:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/0ecd38c0da6f6ccbe2ff7130b44b44fd4da48ce0', 'message': 'repo_build: update tests to opendev.org\n\nChange-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce\n'}, {'number': 2, 'created': '2020-03-19 10:23:41.000000000', 'files': ['tests/test-install-server.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/94965d6b5bbcf416da328fa5d45c0f976cffba72', 'message': 'repo_build: update tests to opendev.org\n\n(cherry picked from commit fd4b607820d75e439fcf0fc68e370d13b0493752)\nChange-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce\n'}]",0,712973,94965d6b5bbcf416da328fa5d45c0f976cffba72,12,3,2,25600,,,0,"repo_build: update tests to opendev.org

(cherry picked from commit fd4b607820d75e439fcf0fc68e370d13b0493752)
Change-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/73/712973/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-install-server.yml'],1,0ecd38c0da6f6ccbe2ff7130b44b44fd4da48ce0,," path: ""/opt/git/opendev.org/openstack"" src: ""/opt/git/opendev.org/openstack/keystone/"" repo: ""https://opendev.org/openstack/keystone"" repo: ""https://opendev.org/openstack/tempest"""," path: ""/opt/git/openstack"" src: ""/opt/git/openstack/keystone/"" repo: ""https://git.openstack.org/openstack/keystone"" repo: ""https://git.openstack.org/openstack/tempest""",4,5
openstack%2Fkayobe~stable%2Ftrain~I6316e8959cff987e4e97280889e1038a9537ed32,openstack/kayobe,stable/train,I6316e8959cff987e4e97280889e1038a9537ed32,CI: Make provision-net external,MERGED,2020-02-20 16:56:19.000000000,2020-03-19 12:09:44.000000000,2020-03-19 12:06:22.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-20 16:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5e41dfe539800e2eda4c74f3b204b18eab8a0dd1', 'message': 'CI: Make provision-net external\n\nChange-Id: I6316e8959cff987e4e97280889e1038a9537ed32\n'}, {'number': 2, 'created': '2020-02-20 16:58:28.000000000', 'files': ['dev/functions'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6f34cf12cbcd96a820efce21af414c9d8418865b', 'message': 'CI: Make provision-net external\n\nTrain only. This is used to ensure that we can test SSH connectivity in\nCI on the master branch following an upgrade.\n\nChange-Id: I6316e8959cff987e4e97280889e1038a9537ed32\n'}]",0,708915,6f34cf12cbcd96a820efce21af414c9d8418865b,9,3,2,14826,,,0,"CI: Make provision-net external

Train only. This is used to ensure that we can test SSH connectivity in
CI on the master branch following an upgrade.

Change-Id: I6316e8959cff987e4e97280889e1038a9537ed32
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/15/708915/1 && git format-patch -1 --stdout FETCH_HEAD,['dev/functions'],1,5e41dfe539800e2eda4c74f3b204b18eab8a0dd1,," # Allow provision-net to be used as an external network for floating IPs. # Note: a provisioning network would not normally be external. openstack network set provision-net --external openstack router set demo-router --external-gateway provision-net # Test SSH connectivity. For servers attached directly to the external # network, use the fixed IP. Otherwise add a floating IP. if [[ $network = provision-net ]]; then ip=$(openstack server show ""$name"" -f value -c addresses | sed -e ""s/${network}=//"") else ip=$(openstack floating ip create provision-net -f value -c floating_ip_address) openstack server add floating ip ${name} ${ip} fi for i in $(seq 1 6); do if ssh -o StrictHostKeyChecking=no cirros@$ip hostname; then break elif [[ $i -eq 6 ]]; then echo ""Failed to access server $name via SSH after 6 attempts"" return 1 else echo ""Cannot access server $name - retrying"" fi sleep 10 done if [[ $network != provision-net ]]; then openstack server remove floating ip ${name} ${ip} openstack floating ip delete ${ip} fi", # TODO(mgoddard): Test SSH connectivity to the VM.,29,1
openstack%2Fkayobe~stable%2Fstein~Ieb1577f859d388a0f326cb6933c953f486dfca15,openstack/kayobe,stable/stein,Ieb1577f859d388a0f326cb6933c953f486dfca15,Stop gzipping logs in get-logs.sh,MERGED,2020-03-11 13:50:22.000000000,2020-03-19 12:08:36.000000000,2020-03-19 12:06:22.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 13:50:22.000000000', 'files': ['roles/kayobe-diagnostics/files/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8c74a9d0800ebb982820567eb06f125099e0ae89', 'message': 'Stop gzipping logs in get-logs.sh\n\nAs per [1] we should stop compressing the logs sent to swift in order\nto get them back readable via a browser.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html\n\nChange-Id: Ieb1577f859d388a0f326cb6933c953f486dfca15\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n(cherry picked from commit c657ead4f25148d7f6dd5825ae11c29827ed3201)\n'}]",0,712443,8c74a9d0800ebb982820567eb06f125099e0ae89,10,4,1,14826,,,0,"Stop gzipping logs in get-logs.sh

As per [1] we should stop compressing the logs sent to swift in order
to get them back readable via a browser.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html

Change-Id: Ieb1577f859d388a0f326cb6933c953f486dfca15
Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>
(cherry picked from commit c657ead4f25148d7f6dd5825ae11c29827ed3201)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/43/712443/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/kayobe-diagnostics/files/get_logs.sh'],1,8c74a9d0800ebb982820567eb06f125099e0ae89,,," find ${LOG_DIR}/{system_logs,kolla,docker_logs} -iname '*.txt' -execdir gzip -f -9 {} \+ find ${LOG_DIR}/{system_logs,kolla,docker_logs} -iname '*.json' -execdir gzip -f -9 {} \+",0,2
openstack%2Fkayobe~stable%2Ftrain~Ieb1577f859d388a0f326cb6933c953f486dfca15,openstack/kayobe,stable/train,Ieb1577f859d388a0f326cb6933c953f486dfca15,Stop gzipping logs in get-logs.sh,MERGED,2020-03-11 13:50:14.000000000,2020-03-19 12:06:31.000000000,2020-03-19 12:03:00.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-11 13:50:14.000000000', 'files': ['roles/kayobe-diagnostics/files/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1be05c17361c3cd237025ad7e25af4a25f11bd58', 'message': 'Stop gzipping logs in get-logs.sh\n\nAs per [1] we should stop compressing the logs sent to swift in order\nto get them back readable via a browser.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html\n\nChange-Id: Ieb1577f859d388a0f326cb6933c953f486dfca15\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n(cherry picked from commit c657ead4f25148d7f6dd5825ae11c29827ed3201)\n'}]",0,712442,1be05c17361c3cd237025ad7e25af4a25f11bd58,11,5,1,14826,,,0,"Stop gzipping logs in get-logs.sh

As per [1] we should stop compressing the logs sent to swift in order
to get them back readable via a browser.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html

Change-Id: Ieb1577f859d388a0f326cb6933c953f486dfca15
Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>
(cherry picked from commit c657ead4f25148d7f6dd5825ae11c29827ed3201)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/42/712442/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/kayobe-diagnostics/files/get_logs.sh'],1,1be05c17361c3cd237025ad7e25af4a25f11bd58,,," find ${LOG_DIR}/{system_logs,kolla,docker_logs} -iname '*.txt' -execdir gzip -f -9 {} \+ find ${LOG_DIR}/{system_logs,kolla,docker_logs} -iname '*.json' -execdir gzip -f -9 {} \+",0,2
openstack%2Fkayobe~stable%2Ftrain~I640873c11ceae5008030dc03984c089a410a0cee,openstack/kayobe,stable/train,I640873c11ceae5008030dc03984c089a410a0cee,Skip resmo.ntp role if ntp_service_enabled is false,MERGED,2020-03-06 17:06:45.000000000,2020-03-19 12:04:59.000000000,2020-03-19 12:02:56.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 17:06:45.000000000', 'files': ['ansible/ntp.yml', 'releasenotes/notes/skip-ntp-if-disabled-585c756f01b34bfa.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/369fc3a86aa282f3b925bb0bd6b38b07947661d6', 'message': 'Skip resmo.ntp role if ntp_service_enabled is false\n\nWe enable ntpd by default, and provide a variable to disable it -\nntp_service_enabled. It is also automatically disabled if the user\nenables the chrony container (kolla_enable_chrony).\n\nHowever, setting ntp_service_enabled to false will cause the host\nconfigure commands to fail due to a bug in the resmo.ntp role. This is\nbecause it tries to configure the ntpd service in systemd, but it will\nnot exist so the task fails.\n\nThis change fixes the issue by skipping the resmo.ntp role if the NTP\nservice is disabled.\n\nChange-Id: I640873c11ceae5008030dc03984c089a410a0cee\nStory: 2007384\nTask: 38968\n(cherry picked from commit 35e50bb6b8f149d9edac6718121407b08ff402d8)\n'}]",0,711666,369fc3a86aa282f3b925bb0bd6b38b07947661d6,8,3,1,14826,,,0,"Skip resmo.ntp role if ntp_service_enabled is false

We enable ntpd by default, and provide a variable to disable it -
ntp_service_enabled. It is also automatically disabled if the user
enables the chrony container (kolla_enable_chrony).

However, setting ntp_service_enabled to false will cause the host
configure commands to fail due to a bug in the resmo.ntp role. This is
because it tries to configure the ntpd service in systemd, but it will
not exist so the task fails.

This change fixes the issue by skipping the resmo.ntp role if the NTP
service is disabled.

Change-Id: I640873c11ceae5008030dc03984c089a410a0cee
Story: 2007384
Task: 38968
(cherry picked from commit 35e50bb6b8f149d9edac6718121407b08ff402d8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/66/711666/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/ntp.yml', 'releasenotes/notes/skip-ntp-if-disabled-585c756f01b34bfa.yaml']",2,369fc3a86aa282f3b925bb0bd6b38b07947661d6,,--- fixes: - | Fixes an issue where host configuration would fail if ``ntp_service_enabled`` is set to ``false`` or ``kolla_enable_chrony`` is set to ``true``. See `story 2007384 <https://storyboard.openstack.org/#!/story/2007384>`__ for details. ,,12,0
openstack%2Fkayobe~stable%2Frocky~Ieb1577f859d388a0f326cb6933c953f486dfca15,openstack/kayobe,stable/rocky,Ieb1577f859d388a0f326cb6933c953f486dfca15,Stop gzipping logs in get-logs.sh,MERGED,2020-03-11 13:50:31.000000000,2020-03-19 12:03:00.000000000,2020-03-19 12:03:00.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-11 13:50:31.000000000', 'files': ['roles/kayobe-diagnostics/files/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ef232aa14e5a128bb73b5a01fe58fe07234e854c', 'message': 'Stop gzipping logs in get-logs.sh\n\nAs per [1] we should stop compressing the logs sent to swift in order\nto get them back readable via a browser.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html\n\nChange-Id: Ieb1577f859d388a0f326cb6933c953f486dfca15\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n(cherry picked from commit c657ead4f25148d7f6dd5825ae11c29827ed3201)\n'}]",0,712444,ef232aa14e5a128bb73b5a01fe58fe07234e854c,10,5,1,14826,,,0,"Stop gzipping logs in get-logs.sh

As per [1] we should stop compressing the logs sent to swift in order
to get them back readable via a browser.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html

Change-Id: Ieb1577f859d388a0f326cb6933c953f486dfca15
Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>
(cherry picked from commit c657ead4f25148d7f6dd5825ae11c29827ed3201)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/712444/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/kayobe-diagnostics/files/get_logs.sh'],1,ef232aa14e5a128bb73b5a01fe58fe07234e854c,,," find ${LOG_DIR}/{system_logs,kolla,docker_logs} -iname '*.txt' -execdir gzip -f -9 {} \+ find ${LOG_DIR}/{system_logs,kolla,docker_logs} -iname '*.json' -execdir gzip -f -9 {} \+",0,2
openstack%2Fkayobe~stable%2Fstein~I640873c11ceae5008030dc03984c089a410a0cee,openstack/kayobe,stable/stein,I640873c11ceae5008030dc03984c089a410a0cee,Skip resmo.ntp role if ntp_service_enabled is false,MERGED,2020-03-06 17:06:57.000000000,2020-03-19 12:01:55.000000000,2020-03-19 11:59:28.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 17:06:57.000000000', 'files': ['ansible/ntp.yml', 'releasenotes/notes/skip-ntp-if-disabled-585c756f01b34bfa.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8d9383a6d95e51803d27dd61dc7df3969f054e16', 'message': 'Skip resmo.ntp role if ntp_service_enabled is false\n\nWe enable ntpd by default, and provide a variable to disable it -\nntp_service_enabled. It is also automatically disabled if the user\nenables the chrony container (kolla_enable_chrony).\n\nHowever, setting ntp_service_enabled to false will cause the host\nconfigure commands to fail due to a bug in the resmo.ntp role. This is\nbecause it tries to configure the ntpd service in systemd, but it will\nnot exist so the task fails.\n\nThis change fixes the issue by skipping the resmo.ntp role if the NTP\nservice is disabled.\n\nChange-Id: I640873c11ceae5008030dc03984c089a410a0cee\nStory: 2007384\nTask: 38968\n(cherry picked from commit 35e50bb6b8f149d9edac6718121407b08ff402d8)\n'}]",0,711667,8d9383a6d95e51803d27dd61dc7df3969f054e16,8,3,1,14826,,,0,"Skip resmo.ntp role if ntp_service_enabled is false

We enable ntpd by default, and provide a variable to disable it -
ntp_service_enabled. It is also automatically disabled if the user
enables the chrony container (kolla_enable_chrony).

However, setting ntp_service_enabled to false will cause the host
configure commands to fail due to a bug in the resmo.ntp role. This is
because it tries to configure the ntpd service in systemd, but it will
not exist so the task fails.

This change fixes the issue by skipping the resmo.ntp role if the NTP
service is disabled.

Change-Id: I640873c11ceae5008030dc03984c089a410a0cee
Story: 2007384
Task: 38968
(cherry picked from commit 35e50bb6b8f149d9edac6718121407b08ff402d8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/67/711667/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/ntp.yml', 'releasenotes/notes/skip-ntp-if-disabled-585c756f01b34bfa.yaml']",2,8d9383a6d95e51803d27dd61dc7df3969f054e16,,--- fixes: - | Fixes an issue where host configuration would fail if ``ntp_service_enabled`` is set to ``false`` or ``kolla_enable_chrony`` is set to ``true``. See `story 2007384 <https://storyboard.openstack.org/#!/story/2007384>`__ for details. ,,12,0
openstack%2Fkayobe~stable%2Frocky~I640873c11ceae5008030dc03984c089a410a0cee,openstack/kayobe,stable/rocky,I640873c11ceae5008030dc03984c089a410a0cee,Skip resmo.ntp role if ntp_service_enabled is false,MERGED,2020-03-06 17:07:08.000000000,2020-03-19 11:59:31.000000000,2020-03-19 11:59:31.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 17:07:08.000000000', 'files': ['ansible/ntp.yml', 'releasenotes/notes/skip-ntp-if-disabled-585c756f01b34bfa.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8577c321bda25f1a70d2ef0e77bb694140e5d14a', 'message': 'Skip resmo.ntp role if ntp_service_enabled is false\n\nWe enable ntpd by default, and provide a variable to disable it -\nntp_service_enabled. It is also automatically disabled if the user\nenables the chrony container (kolla_enable_chrony).\n\nHowever, setting ntp_service_enabled to false will cause the host\nconfigure commands to fail due to a bug in the resmo.ntp role. This is\nbecause it tries to configure the ntpd service in systemd, but it will\nnot exist so the task fails.\n\nThis change fixes the issue by skipping the resmo.ntp role if the NTP\nservice is disabled.\n\nChange-Id: I640873c11ceae5008030dc03984c089a410a0cee\nStory: 2007384\nTask: 38968\n(cherry picked from commit 35e50bb6b8f149d9edac6718121407b08ff402d8)\n'}]",0,711668,8577c321bda25f1a70d2ef0e77bb694140e5d14a,7,3,1,14826,,,0,"Skip resmo.ntp role if ntp_service_enabled is false

We enable ntpd by default, and provide a variable to disable it -
ntp_service_enabled. It is also automatically disabled if the user
enables the chrony container (kolla_enable_chrony).

However, setting ntp_service_enabled to false will cause the host
configure commands to fail due to a bug in the resmo.ntp role. This is
because it tries to configure the ntpd service in systemd, but it will
not exist so the task fails.

This change fixes the issue by skipping the resmo.ntp role if the NTP
service is disabled.

Change-Id: I640873c11ceae5008030dc03984c089a410a0cee
Story: 2007384
Task: 38968
(cherry picked from commit 35e50bb6b8f149d9edac6718121407b08ff402d8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/68/711668/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/ntp.yml', 'releasenotes/notes/skip-ntp-if-disabled-585c756f01b34bfa.yaml']",2,8577c321bda25f1a70d2ef0e77bb694140e5d14a,,--- fixes: - | Fixes an issue where host configuration would fail if ``ntp_service_enabled`` is set to ``false`` or ``kolla_enable_chrony`` is set to ``true``. See `story 2007384 <https://storyboard.openstack.org/#!/story/2007384>`__ for details. ,,12,0
openstack%2Fbifrost~stable%2Ftrain~Ifd67adaa98e920f42c80d239349ae61d7d610f66,openstack/bifrost,stable/train,Ifd67adaa98e920f42c80d239349ae61d7d610f66,Ensure DIB is installed from source,MERGED,2020-03-17 13:31:23.000000000,2020-03-19 11:53:31.000000000,2020-03-19 11:50:31.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-17 13:31:23.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1ed7d236dcf89364a257cab1a7b46ab776ed5f98', 'message': 'Ensure DIB is installed from source\n\nBifrost clones the DIB repo and installs it. However, after running\ninstall.yaml pip freeze shows diskimage-builder 2.33 is installed.\n\nThis is caused by the recent addition of IPA builder, which has its own\ndependency on diskimage-builder.\n\nThis change fixes the issue by swapping the order of installation of IPA\nbuilder and DIB, to ensure DIB is installed last.\n\nChange-Id: Ifd67adaa98e920f42c80d239349ae61d7d610f66\nStory: 2007401\nTask: 38999\n(cherry picked from commit d878f65eea7493acb45e475a00ccd1d7ef1de50a)\n'}]",0,713443,1ed7d236dcf89364a257cab1a7b46ab776ed5f98,8,3,1,14826,,,0,"Ensure DIB is installed from source

Bifrost clones the DIB repo and installs it. However, after running
install.yaml pip freeze shows diskimage-builder 2.33 is installed.

This is caused by the recent addition of IPA builder, which has its own
dependency on diskimage-builder.

This change fixes the issue by swapping the order of installation of IPA
builder and DIB, to ensure DIB is installed last.

Change-Id: Ifd67adaa98e920f42c80d239349ae61d7d610f66
Story: 2007401
Task: 38999
(cherry picked from commit d878f65eea7493acb45e475a00ccd1d7ef1de50a)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/43/713443/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/install.yml'],1,1ed7d236dcf89364a257cab1a7b46ab776ed5f98,,"# NOTE(mgoddard): IPA-builder has a dependency on diskimage-builder. Install # DIB last to ensure it is installed from source rather than PyPI. - name: ""Diskimage-builder - Install"" include: pip_install.yml package=diskimage-builder sourcedir={{ dib_git_folder }} source_install=true when: skip_install is not defined and install_dib | bool == true ","- name: ""Diskimage-builder - Install"" include: pip_install.yml package=diskimage-builder sourcedir={{ dib_git_folder }} source_install=true when: skip_install is not defined and install_dib | bool == true ",9,7
openstack%2Fneutron~master~I1bcb0ca68747e4c32523e41307dc132291c55f6d,openstack/neutron,master,I1bcb0ca68747e4c32523e41307dc132291c55f6d,[OVN] Call OVNClient methods with context when possible,MERGED,2020-02-05 23:10:39.000000000,2020-03-19 11:46:04.000000000,2020-03-19 11:42:30.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-05 23:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/922156285697791cbe5796db7215adb829e89b9c', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 2, 'created': '2020-02-06 20:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ddc3d6e0b999c65b1786f2805cf4cf7a13e0ad3c', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 3, 'created': '2020-02-07 22:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/790f44e864b2d1120fa30aac19cd06bd5dddfa8e', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 4, 'created': '2020-02-10 23:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e794305f97309339da0fade1d393ed865897694f', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 5, 'created': '2020-02-10 23:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/281a346b2a742c7a104dfa934750b521cb9f157e', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 6, 'created': '2020-02-11 14:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/739553ba7be5a0563bb607d9acd438243a43f082', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 7, 'created': '2020-02-26 21:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00a41cd1f703e744b40711449aa27574606cdbcb', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 8, 'created': '2020-02-26 22:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fff4c2fd34c33ba30cc5a5c18cb22e55539c3c20', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 9, 'created': '2020-02-26 23:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abe886c6dca56effc78750e3548f29163a15c396', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 10, 'created': '2020-02-27 15:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2b0cd3e885110883ec334fdbbdff182d77d205b', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 11, 'created': '2020-03-03 20:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/658d56cac15db0c39d5e16c039625698bc543217', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 12, 'created': '2020-03-06 03:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a66ecd10b90d9344305347c01a269832080df17f', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 13, 'created': '2020-03-06 04:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb3165293781efc2400e8db497dc8ff2e86942d0', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 14, 'created': '2020-03-13 20:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01a57ed51a479521425d5e35bbe383d3a652617a', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}, {'number': 15, 'created': '2020-03-18 15:56:38.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee73b5061813b49bf0cd6aa782848796acbf484b', 'message': ""[OVN] Call OVNClient methods with context when possible\n\nThe OVN maintenance code was not always calling into\nthe OVNClient class methods with the correct number of\narguments, leading to exceptions.\n\nAfter a deeper review, there were a number of places\nwhere this was happening, so changed most methods to\ntake a 'context' argument since it's usually available\nin the caller.\n\nChange-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d\nCloses-bug: #1861502\n""}]",29,706152,ee73b5061813b49bf0cd6aa782848796acbf484b,176,12,15,1131,,,0,"[OVN] Call OVNClient methods with context when possible

The OVN maintenance code was not always calling into
the OVNClient class methods with the correct number of
arguments, leading to exceptions.

After a deeper review, there were a number of places
where this was happening, so changed most methods to
take a 'context' argument since it's usually available
in the caller.

Change-Id: I1bcb0ca68747e4c32523e41307dc132291c55f6d
Closes-bug: #1861502
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/706152/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",8,922156285697791cbe5796db7215adb829e89b9c,bug/1861502," self._ovn_client.create_security_group(kwargs['context'], security_group) kwargs['context'], kwargs.get('security_group_rule')) self._ovn_client.create_network(context._plugin_context, network) self._ovn_client.update_network(None, context.current) self._ovn_client.create_subnet(context._plugin_context, context.current, context._plugin_context, context.current, context.network.current) self._ovn_client.create_port(context._plugin_context, port) admin_context = n_context.get_admin_context() self._ovn_client.update_port(admin_context, port, port_object=original_port)"," self._ovn_client.create_security_group(security_group) kwargs.get('security_group_rule')) self._ovn_client.create_network(network) self._ovn_client.update_network(context.current) self._ovn_client.create_subnet(context.current, context.current, context.network.current) self._ovn_client.create_port(port) admin_context = n_context.get_admin_context() self._ovn_client.update_port(port, port_object=original_port)",122,102
openstack%2Fkuryr-kubernetes~master~I71a7bd16ca8e6b7d9acb7398360b58694ede073f,openstack/kuryr-kubernetes,master,I71a7bd16ca8e6b7d9acb7398360b58694ede073f,Preserve unknown in remote_ip_prefixes in NP CRD,MERGED,2020-03-18 10:55:13.000000000,2020-03-19 11:45:40.000000000,2020-03-19 11:43:38.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-03-18 10:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/adbe8803df1b5568fb1c24b7305e3efcf32c4d2f', 'message': ""Preserve unknown in remote_ip_prefixes in NP CRD\n\nThe remote_ip_prefixes field in KuryrNetPolicy CRD is an object. As it's\nnot defined with correct schema, it needs\nx-kubernetes-preserve-unknown-fields property. This commit fixes that.\n\nI'm not defining the field correctly as we're moving to new CRD anyway.\n\nChange-Id: I71a7bd16ca8e6b7d9acb7398360b58694ede073f\n""}, {'number': 2, 'created': '2020-03-18 10:58:26.000000000', 'files': ['kubernetes_crds/kuryr_crds/kuryrnetpolicy.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fe1627e2716ef273df99b0de7c26b65157205436', 'message': ""Preserve unknown in remote_ip_prefixes in NP CRD\n\nThe remote_ip_prefixes field in KuryrNetPolicy CRD is an object. As it's\nnot defined with correct schema, it needs\nx-kubernetes-preserve-unknown-fields property. This commit fixes that.\n\nI'm not defining the field correctly as we're moving to new CRD anyway.\n\nChange-Id: I71a7bd16ca8e6b7d9acb7398360b58694ede073f\n""}]",1,713625,fe1627e2716ef273df99b0de7c26b65157205436,15,5,2,11600,,,0,"Preserve unknown in remote_ip_prefixes in NP CRD

The remote_ip_prefixes field in KuryrNetPolicy CRD is an object. As it's
not defined with correct schema, it needs
x-kubernetes-preserve-unknown-fields property. This commit fixes that.

I'm not defining the field correctly as we're moving to new CRD anyway.

Change-Id: I71a7bd16ca8e6b7d9acb7398360b58694ede073f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/25/713625/1 && git format-patch -1 --stdout FETCH_HEAD,['kubernetes_crds/kuryr_crds/kuryrnetpolicy.yaml'],1,adbe8803df1b5568fb1c24b7305e3efcf32c4d2f,remote_ip_prefixes-preserve, x-kubernetes-preserve-unknown-fields: true,,1,0
openstack%2Fkolla-ansible~master~If3f95e0bfc779879ca7d2cf45188fb76b4b772da,openstack/kolla-ansible,master,If3f95e0bfc779879ca7d2cf45188fb76b4b772da,CI: add Debian/source upgrade job,MERGED,2020-03-19 08:46:39.000000000,2020-03-19 11:32:54.000000000,2020-03-19 11:27:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-19 08:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8825a5b79e9ab4db23fcdd14a742643446ab0465', 'message': 'CI: add Debian/source upgrade job\n\nChange-Id: If3f95e0bfc779879ca7d2cf45188fb76b4b772da\n'}, {'number': 2, 'created': '2020-03-19 09:03:10.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed4607ec5675648c3a5cc8b0b3e04e50cfb41ee1', 'message': 'CI: add Debian/source upgrade job\n\nChange-Id: If3f95e0bfc779879ca7d2cf45188fb76b4b772da\n'}]",1,713795,ed4607ec5675648c3a5cc8b0b3e04e50cfb41ee1,12,3,2,24072,,,0,"CI: add Debian/source upgrade job

Change-Id: If3f95e0bfc779879ca7d2cf45188fb76b4b772da
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/713795/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,8825a5b79e9ab4db23fcdd14a742643446ab0465,, name: kolla-ansible-debian-source-upgrade parent: kolla-ansible-base nodeset: kolla-ansible-debian timeout: 9000 vars: base_distro: debian install_type: source is_upgrade: yes - job:,,10,0
openstack%2Fkolla~master~I423b48b4d1c045dca66d8d982646930485a9731d,openstack/kolla,master,I423b48b4d1c045dca66d8d982646930485a9731d,"Revert ""mark bifrost as unbuildable""",MERGED,2020-03-17 18:19:14.000000000,2020-03-19 11:32:23.000000000,2020-03-19 11:27:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 18:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/56bbace8aa4cd28bfb30e00477751747d5f5613e', 'message': 'Revert ""mark bifrost as unbuildable""\n\nThis reverts commit e4bb18819fc0480ecf36f98367cae48ec226bb50.\n\nChange-Id: I423b48b4d1c045dca66d8d982646930485a9731d\nDepends-On: https://review.opendev.org/713504\n'}, {'number': 2, 'created': '2020-03-18 09:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e5aa37bb149d256e5359e5a1e093321d6bd672fe', 'message': 'Revert ""mark bifrost as unbuildable""\n\nThis reverts commit e4bb18819fc0480ecf36f98367cae48ec226bb50.\n\nChange-Id: I423b48b4d1c045dca66d8d982646930485a9731d\nDepends-On: https://review.opendev.org/713504\n'}, {'number': 3, 'created': '2020-03-18 10:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/697631e2d40a887b7ef6d5472802b4f3f697995a', 'message': 'Revert ""mark bifrost as unbuildable""\n\nThis reverts commit e4bb18819fc0480ecf36f98367cae48ec226bb50.\n\nChange-Id: I423b48b4d1c045dca66d8d982646930485a9731d\nDepends-On: https://review.opendev.org/713504\n'}, {'number': 4, 'created': '2020-03-18 10:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a14eeadcfc6b9b32d9b87bb699fdc6f4d624d694', 'message': 'Revert ""mark bifrost as unbuildable""\n\nThis reverts commit e4bb18819fc0480ecf36f98367cae48ec226bb50.\n\nChange-Id: I423b48b4d1c045dca66d8d982646930485a9731d\nDepends-On: https://review.opendev.org/713504\n'}, {'number': 5, 'created': '2020-03-18 11:34:44.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4c0a47c570651ca536eca02fa7f37890c04f0792', 'message': 'Revert ""mark bifrost as unbuildable""\n\nThis reverts commit e4bb18819fc0480ecf36f98367cae48ec226bb50.\n\nChange-Id: I423b48b4d1c045dca66d8d982646930485a9731d\nDepends-On: https://review.opendev.org/713504\n'}]",0,713506,4c0a47c570651ca536eca02fa7f37890c04f0792,35,4,5,14826,,,0,"Revert ""mark bifrost as unbuildable""

This reverts commit e4bb18819fc0480ecf36f98367cae48ec226bb50.

Change-Id: I423b48b4d1c045dca66d8d982646930485a9731d
Depends-On: https://review.opendev.org/713504
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/713506/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/common/config.py']",2,56bbace8aa4cd28bfb30e00477751747d5f5613e,," 'type': 'git', 'location': 'https://review.opendev.org/openstack/bifrost', 'reference': 'refs/changes/04/713504/1'},"," 'type': 'url', 'location': ('$tarballs_base/bifrost/' 'bifrost-${openstack_branch}.tar.gz')},",3,4
openstack%2Ftempest~master~I47e3fcd0886e7cf33568ac71484b650de218b255,openstack/tempest,master,I47e3fcd0886e7cf33568ac71484b650de218b255,Modify the application credentials fake data,MERGED,2019-10-09 03:22:04.000000000,2020-03-19 11:29:36.000000000,2020-03-19 11:23:50.000000000,"[{'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2019-10-09 03:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5521bd1ac8f4befd7752a654aaf58c2556e46992', 'message': 'Modify the application credentials fake data\n\nModify the application credentials fake data according to the API\ndocument described\nChange-Id: I47e3fcd0886e7cf33568ac71484b650de218b255\n'}, {'number': 2, 'created': '2019-10-09 03:30:18.000000000', 'files': ['tempest/tests/lib/services/identity/v3/test_application_credentials_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9a49aba5a4cc0b68ce2f984f0daf4e6897c26563', 'message': 'Modify the application credentials fake data\n\nModify the application credentials fake data according to the API\ndocument described\nChange-Id: I47e3fcd0886e7cf33568ac71484b650de218b255\n'}]",0,687449,9a49aba5a4cc0b68ce2f984f0daf4e6897c26563,16,6,2,30409,,,0,"Modify the application credentials fake data

Modify the application credentials fake data according to the API
document described
Change-Id: I47e3fcd0886e7cf33568ac71484b650de218b255
",git fetch https://review.opendev.org/openstack/tempest refs/changes/49/687449/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/identity/v3/test_application_credentials_client.py'],1,5521bd1ac8f4befd7752a654aaf58c2556e46992,app-creds-fake-data," ""name"": ""monitoring"", ""secret"": ""rEaqvJka48mpv"", ""description"": ""Application credential for monitoring."", ""expires_at"": ""2018-02-27T18:30:59Z"", {""name"": ""Reader""} ], ""access_rules"": [ { ""path"": ""/v2.0/metrics"", ""method"": ""GET"", ""service"": ""monitoring"" ""unrestricted"": False ""links"": { ""self"": ""http://example.com/identity/v3/users/"" + ""fd786d56402c4d1691372e7dee0d00b5/application_credentials"", ""previous"": None, ""next"": None }, ""description"": ""Application credential for backups."", ""domain_id"": null, ""name"": ""Writer"", ""id"": ""6aff702516544aeca22817fd3bc39683"" ""access_rules"": [ ], ""links"": { ""self"": ""http://example.com/identity/v3/users/"" + ""fd786d56402c4d1691372e7dee0d00b5/"" + ""application_credentials/"" + ""308a7e905eee4071aac5971744c061f6"" }, ""expires_at"": ""2018-02-27T18:30:59.000000"", ""unrestricted"": false, ""project_id"": ""231c62fb0fbd485b995e8b060c3f0d98"", ""id"": ""308a7e905eee4071aac5971744c061f6"", ""name"": ""backups"" ""description"": ""Application credential for monitoring."", ""id"": ""6aff702516544aeca22817fd3bc39683"", ""domain_id"": null, ""name"": ""Reader"" ""access_rules"": [ { ""path"": ""/v2.0/metrics"", ""id"": ""07d719df00f349ef8de77d542edf010c"", ""service"": ""monitoring"", ""method"": ""GET"" } ], ""links"": { ""self"": ""http://example.com/identity/v3/users/"" + ""fd786d56402c4d1691372e7dee0d00b5/"" + ""application_credentials/"" + ""58d61ff8e6e34accb35874016d1dba8b"" }, ""expires_at"": ""2018-02-27T18:30:59.000000"", ""unrestricted"": false, ""project_id"": ""231c62fb0fbd485b995e8b060c3f0d98"", ""id"": ""58d61ff8e6e34accb35874016d1dba8b"", ""name"": ""monitoring"" ""description"": ""Application credential for monitoring."", ""id"": ""6aff702516544aeca22817fd3bc39683"", ""domain_id"": null, ""name"": ""Reader"" ""access_rules"": [ { ""path"": ""/v2.0/metrics"", ""id"": ""07d719df00f349ef8de77d542edf010c"", ""service"": ""monitoring"", ""method"": ""GET"" } ], ""links"": { ""self"": ""http://example.com/identity/v3/users/"" + ""fd786d56402c4d1691372e7dee0d00b5/"" + ""application_credentials/"" + ""58d61ff8e6e34accb35874016d1dba8b"" }, ""expires_at"": ""2018-02-27T18:30:59.000000"", ""unrestricted"": false, ""project_id"": ""231c62fb0fbd485b995e8b060c3f0d98"", ""id"": ""58d61ff8e6e34accb35874016d1dba8b"", ""name"": ""monitoring"" application_credential_id=""58d61ff8e6e34accb35874016d1dba8b"") application_credential_id=""58d61ff8e6e34accb35874016d1dba8b"","," ""description"": ""fake application credential"", { ""id"": ""c60fdd45"", ""domain_id"": None, ""name"": ""Member"" ""expires_at"": ""2019-02-27T18:30:59.999999Z"", ""secret"": ""_BVq0xU5L"", ""unrestricted"": None, ""project_id"": ""ddef321"", ""id"": ""5499a186"", ""name"": ""one"" ""description"": ""fake application credential"", ""domain_id"": None, ""name"": ""Member"", ""id"": ""c60fdd45"", ""expires_at"": ""2018-02-27T18:30:59.999999Z"", ""unrestricted"": None, ""project_id"": ""ddef321"", ""id"": ""5499a186"", ""name"": ""one"" ""description"": None, ""id"": ""0f1837c8"", ""domain_id"": None, ""name"": ""anotherrole"" }, { ""id"": ""c60fdd45"", ""domain_id"": None, ""name"": ""Member"" ""expires_at"": None, ""unrestricted"": None, ""project_id"": ""c5403d938"", ""id"": ""d441c904f"", ""name"": ""two"" ""description"": None, ""domain_id"": None, ""name"": ""Member"", ""id"": ""c60fdd45"", ""expires_at"": None, ""unrestricted"": None, ""project_id"": ""ddef321"", ""id"": ""5499a186"", ""name"": ""one"" application_credential_id=""5499a186"") application_credential_id=""5499a186"",",82,44
openstack%2Ftempest~master~I9ebeccb545576e43ef0fc96c29169ae16f261f34,openstack/tempest,master,I9ebeccb545576e43ef0fc96c29169ae16f261f34,Cleanup images properly,MERGED,2020-03-11 12:34:04.000000000,2020-03-19 11:26:49.000000000,2020-03-19 11:23:48.000000000,"[{'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27092}, {'_account_id': 30674}]","[{'number': 1, 'created': '2020-03-11 12:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b08d8dc34bf433c6f06977d7929d3d38aafa1688', 'message': ""WIP: Cleanup images properly\n\nImages weren't deleted properly due to bad request to glance\nAPI. Also ImageService ignored 'next' parameter returned from\nglance API when listing images which is required when more images\nis present.\n\nChange-Id: I9ebeccb545576e43ef0fc96c29169ae16f261f34\n""}, {'number': 2, 'created': '2020-03-12 10:35:26.000000000', 'files': ['tempest/cmd/cleanup_service.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2c831243929da6cbac1f2c7712a18fe08804772c', 'message': ""Cleanup images properly\n\nImages weren't deleted properly due to bad request sent to\nglance API. Also ImageService ignored 'next' parameter returned from\nglance API when listing images which is required when more images\nare present.\n\nThe fix lists all images properly. If 'next' parameter is present\nin the glance API response then the API is asked to send next part\nof image list.\n\nCloses-Bug: 1866988\nChange-Id: I9ebeccb545576e43ef0fc96c29169ae16f261f34\n""}]",2,712356,2c831243929da6cbac1f2c7712a18fe08804772c,14,7,2,30674,,,0,"Cleanup images properly

Images weren't deleted properly due to bad request sent to
glance API. Also ImageService ignored 'next' parameter returned from
glance API when listing images which is required when more images
are present.

The fix lists all images properly. If 'next' parameter is present
in the glance API response then the API is asked to send next part
of image list.

Closes-Bug: 1866988
Change-Id: I9ebeccb545576e43ef0fc96c29169ae16f261f34
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/712356/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/cleanup_service.py'],1,b08d8dc34bf433c6f06977d7929d3d38aafa1688,feature/snapshots_cleanup,"from urlparse import urlparse, parse_qs response = client.list_images() images = [] images.extend(response['images']) while 'next' in response: parsed = urlparse(response['next']) marker = parse_qs(parsed.query)['marker'][0] response = client.list_images(params={""marker"":marker}) images.extend(response['images']) "," images = client.list_images(params={""all_tenants"": True})['images']",11,1
openstack%2Frally~master~I5b9fd6463f32b5c9310ae143496870bc031ee47b,openstack/rally,master,I5b9fd6463f32b5c9310ae143496870bc031ee47b,[ci] Restruct zuul_ci playbooks,MERGED,2020-03-19 10:40:48.000000000,2020-03-19 11:21:18.000000000,2020-03-19 11:21:18.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 10:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0f137d25f7bdb37f8ac1358272a73dbc78ab14ad', 'message': '[ci] Move all zuul playbooks under zuul dir\n\nChange-Id: I5b9fd6463f32b5c9310ae143496870bc031ee47b\n'}, {'number': 2, 'created': '2020-03-19 10:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/278529ee0ac2e2992896759bd6e6867a854eda6e', 'message': '[ci] Restruct zuul_ci playbooks\n\nChange-Id: I5b9fd6463f32b5c9310ae143496870bc031ee47b\n'}, {'number': 3, 'created': '2020-03-19 10:51:40.000000000', 'files': ['tests/ci/playbooks/tox-run.yaml', 'tests/ci/playbooks/rally-database-migration-run.yaml', 'tests/ci/rally_verify.py', 'tests/ci/playbooks/rally-docker-build-pre.yaml', 'tests/ci/playbooks/rally-install-run.yaml', '.zuul.d/zuul.yaml', '.zuul.d/python-jobs.yaml', 'tests/ci/playbooks/rally-install-pre.yaml', 'tests/ci/playbooks/tox-install.yaml', 'tests/ci/playbooks/rally-tox-base-post-run.yaml', 'tests/ci/playbooks/rally-docker-build-run.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/efe927174148798e0e5dc4e6b2996886acb41262', 'message': '[ci] Restruct zuul_ci playbooks\n\nChange-Id: I5b9fd6463f32b5c9310ae143496870bc031ee47b\n'}]",0,713830,efe927174148798e0e5dc4e6b2996886acb41262,9,2,3,9545,,,0,"[ci] Restruct zuul_ci playbooks

Change-Id: I5b9fd6463f32b5c9310ae143496870bc031ee47b
",git fetch https://review.opendev.org/openstack/rally refs/changes/30/713830/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/playbooks/rally-database-migration-run.yaml', '.zuul.d/playbooks/rally-docker-build-run.yaml', 'tests/ci/rally_verify.py', '.zuul.d/playbooks/rally-tox-base-post-run.yaml', '.zuul.d/playbooks/rally-tox-base-pre-run.yaml', '.zuul.d/playbooks/rally-install-pre.yaml', '.zuul.d/zuul.yaml', '.zuul.d/playbooks/rally-docker-build-pre.yaml', '.zuul.d/python-jobs.yaml', '.zuul.d/playbooks/rally-tox-base-run.yaml', '.zuul.d/playbooks/rally-install-run.yaml']",11,0f137d25f7bdb37f8ac1358272a73dbc78ab14ad,rework_ci,,,8,545
openstack%2Fkayobe~master~Ia665cffb11253f58bbdce7ea9892766c36f7af40,openstack/kayobe,master,Ia665cffb11253f58bbdce7ea9892766c36f7af40,Junos switch: update ncclient to 0.6.7+,MERGED,2020-02-14 09:47:24.000000000,2020-03-19 11:14:39.000000000,2020-03-19 11:12:09.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-14 09:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/da344868f9e363c419948b8169cdcf2c265720a2', 'message': 'Junos switch: update ncclient to 0.6.7+\n\nncclient 0.6.7 has been released and includes a fix [1] for the host key\nchecking issue that required us to pin to 0.6.2.\n\n[1] https://github.com/ncclient/ncclient/commit/ead7b640921ef9e1af4aab698ba287c3b8a48553\n\nChange-Id: Ia665cffb11253f58bbdce7ea9892766c36f7af40\nStory: 2006378\nTask: 38765\n'}, {'number': 2, 'created': '2020-02-28 09:49:46.000000000', 'files': ['ansible/roles/junos-switch/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1560bbc8fb2dea21bd8ae1a7b3881be7e35d03e0', 'message': 'Junos switch: update ncclient to 0.6.7+\n\nncclient 0.6.7 has been released and includes a fix [1] for the host key\nchecking issue that required us to pin to 0.6.2.\n\nRestrict the package to <0.7.0 to avoid potential breakage from new\nreleases of ncclient.\n\n[1] https://github.com/ncclient/ncclient/commit/ead7b640921ef9e1af4aab698ba287c3b8a48553\n\nChange-Id: Ia665cffb11253f58bbdce7ea9892766c36f7af40\nStory: 2006378\nTask: 38765\n'}]",2,707796,1560bbc8fb2dea21bd8ae1a7b3881be7e35d03e0,13,4,2,14826,,,0,"Junos switch: update ncclient to 0.6.7+

ncclient 0.6.7 has been released and includes a fix [1] for the host key
checking issue that required us to pin to 0.6.2.

Restrict the package to <0.7.0 to avoid potential breakage from new
releases of ncclient.

[1] https://github.com/ncclient/ncclient/commit/ead7b640921ef9e1af4aab698ba287c3b8a48553

Change-Id: Ia665cffb11253f58bbdce7ea9892766c36f7af40
Story: 2006378
Task: 38765
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/96/707796/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/junos-switch/tasks/main.yml'],1,da344868f9e363c419948b8169cdcf2c265720a2,, # NOTE(mgoddard): 0.6.7 includes a fix for host key checking: # https://github.com/ncclient/ncclient/issues/302. name: ncclient>=0.6.7," # NOTE(mgoddard): Restrict ncclient to 0.6.2 or less, due to a bug in host # key checking: https://github.com/ncclient/ncclient/issues/302. # TODO(mgoddard): Remove this restriction when ncclient has been fixed. name: ncclient<=0.6.2",3,4
openstack%2Fproject-config~master~Ia800f77e5998a3f0fbe62ff6d027471d2a11bf0a,openstack/project-config,master,Ia800f77e5998a3f0fbe62ff6d027471d2a11bf0a,Fix cloudkitty-specs on specs.o.o,MERGED,2020-03-19 10:10:59.000000000,2020-03-19 11:14:10.000000000,2020-03-19 11:11:55.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 10:10:59.000000000', 'files': ['specs/specs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/df25a0d5a147ebd3c1b3cbb1013501e86bc3b4ec', 'message': 'Fix cloudkitty-specs on specs.o.o\n\nThe repo is named cloudkitty-specs, not cloudkitty-specifications. Fix\nname so that central index page works.\n\nChange-Id: Ia800f77e5998a3f0fbe62ff6d027471d2a11bf0a\n'}]",0,713815,df25a0d5a147ebd3c1b3cbb1013501e86bc3b4ec,7,2,1,6547,,,0,"Fix cloudkitty-specs on specs.o.o

The repo is named cloudkitty-specs, not cloudkitty-specifications. Fix
name so that central index page works.

Change-Id: Ia800f77e5998a3f0fbe62ff6d027471d2a11bf0a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/15/713815/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/specs.yaml'],1,df25a0d5a147ebd3c1b3cbb1013501e86bc3b4ec,cloudkitty-specs, repo: openstack/cloudkitty-specs, repo: openstack/cloudkitty-specifications,1,1
openstack%2Fapi-sig~master~I806e804a5852e081f0cb8c1b43ffe13a119aba2c,openstack/api-sig,master,I806e804a5852e081f0cb8c1b43ffe13a119aba2c,Small cleanups,MERGED,2020-03-19 10:00:18.000000000,2020-03-19 11:13:57.000000000,2020-03-19 11:11:34.000000000,"[{'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 10:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-sig/commit/8b9a175b1487c516750ad8cc3ebb16a37a8135f3', 'message': 'Small cleanups\n\nThe default for install_command is good, no need to add our own version\nin tox.ini. Remove it.\n\nRemove git commands from conf.py, current openstackdocstheme handles\nthis itself.\n\nFix some missed api-wg -> api-sig renames in conf.py.\n\nChange-Id: I806e804a5852e081f0cb8c1b43ffe13a119aba2c\n'}, {'number': 2, 'created': '2020-03-19 10:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-sig/commit/97e6a6a76ff8b58cf767cc7b0f79a43b764fa317', 'message': 'Small cleanups\n\nThe default for install_command is good, no need to add our own version\nin tox.ini. Remove it.\n\nRemove git commands from conf.py, current openstackdocstheme handles\nthis itself.\n\nFix some missed api-wg -> api-sig renames in conf.py.\n\nFix overlong line in guidelines/dns-sd.rst that breaks py37 tests.\n\nChange-Id: I806e804a5852e081f0cb8c1b43ffe13a119aba2c\n'}, {'number': 3, 'created': '2020-03-19 10:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-sig/commit/cbe96c312c584867bfab6d038eceb90fd80a21c3', 'message': 'Small cleanups\n\nThe default for install_command is good, no need to add our own version\nin tox.ini. Remove it.\n\nRemove git commands from conf.py, current openstackdocstheme handles\nthis itself.\n\nFix some missed api-wg -> api-sig renames in conf.py.\n\nFix overlong line in guidelines/dns-sd.rst that breaks py37 tests.\n\nChange-Id: I806e804a5852e081f0cb8c1b43ffe13a119aba2c\n'}, {'number': 4, 'created': '2020-03-19 10:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-sig/commit/f066f999453cfe0ec01ebb68220ffdd9dd2516be', 'message': 'Small cleanups\n\nThe default for install_command is good, no need to add our own version\nin tox.ini. Remove it.\n\nRemove git commands from conf.py, current openstackdocstheme handles\nthis itself.\n\nFix some missed api-wg -> api-sig renames in conf.py.\n\nChange-Id: I806e804a5852e081f0cb8c1b43ffe13a119aba2c\n'}, {'number': 5, 'created': '2020-03-19 10:52:23.000000000', 'files': ['doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/33b57f352a3afabef2a890ff1be79b10a5fdbcd8', 'message': 'Small cleanups\n\nThe default for install_command is good, no need to add our own version\nin tox.ini. Remove it.\n\nRemove git commands from conf.py, current openstackdocstheme handles\nthis itself.\n\nFix some missed api-wg -> api-sig renames in conf.py.\n\nChange-Id: I806e804a5852e081f0cb8c1b43ffe13a119aba2c\n'}]",0,713813,33b57f352a3afabef2a890ff1be79b10a5fdbcd8,19,3,5,6547,,,0,"Small cleanups

The default for install_command is good, no need to add our own version
in tox.ini. Remove it.

Remove git commands from conf.py, current openstackdocstheme handles
this itself.

Fix some missed api-wg -> api-sig renames in conf.py.

Change-Id: I806e804a5852e081f0cb8c1b43ffe13a119aba2c
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/13/713813/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,8b9a175b1487c516750ad8cc3ebb16a37a8135f3,publish,,install_command = pip install -U {opts} {packages},2,14
openstack%2Fkayobe~master~Ia2f25a2e41859159275d418b57ab59bb97f58d6a,openstack/kayobe,master,Ia2f25a2e41859159275d418b57ab59bb97f58d6a,CI: Redirect stderr to ansible logs,MERGED,2020-02-13 14:36:40.000000000,2020-03-19 11:08:42.000000000,2020-03-19 11:07:07.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-13 14:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6f32f7a41a0a4e6c27b0bf1d4868f82a6d9d8e00', 'message': 'CI: Redirect stderr to ansible logs\n\nCurrently Kayobe stderr is logged to the Zuul playbook output. This\nchange redirects stderr to the ansible log files.\n\nChange-Id: Ia2f25a2e41859159275d418b57ab59bb97f58d6a\n'}, {'number': 2, 'created': '2020-02-13 16:57:31.000000000', 'files': ['playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ac88bc2dfb9bc2fb802cc6b1e3e2c0589d8d8e9f', 'message': 'CI: Redirect stderr to ansible logs\n\nCurrently Kayobe stderr is logged to the Zuul playbook output. This\nchange redirects stderr to the ansible log files.\n\nChange-Id: Ia2f25a2e41859159275d418b57ab59bb97f58d6a\n'}]",0,707657,ac88bc2dfb9bc2fb802cc6b1e3e2c0589d8d8e9f,10,3,2,14826,,,0,"CI: Redirect stderr to ansible logs

Currently Kayobe stderr is logged to the Zuul playbook output. This
change redirects stderr to the ansible log files.

Change-Id: Ia2f25a2e41859159275d418b57ab59bb97f58d6a
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/57/707657/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml']",6,6f32f7a41a0a4e6c27b0bf1d4868f82a6d9d8e00,," cmd: dev/install.sh &> {{ logs_dir }}/ansible/install-pre-upgrade cmd: dev/overcloud-deploy.sh &> {{ logs_dir }}/ansible/overcloud-deploy-pre-upgrade cmd: dev/tenks-deploy-compute.sh '{{ tenks_src_dir }}' &> {{ logs_dir }}/ansible/tenks-deploy cmd: dev/overcloud-test-vm.sh &> {{ logs_dir }}/ansible/overcloud-test-vm-pre-upgrade cmd: dev/overcloud-test-baremetal.sh &> {{ logs_dir }}/ansible/overcloud-test-bm-pre-upgrade cmd: ""{{ kayobe_src_dir }}/dev/overcloud-upgrade.sh &> {{ logs_dir }}/ansible/overcloud-upgrade"" cmd: dev/overcloud-test-vm.sh &> {{ logs_dir }}/ansible/overcloud-test-vm-post-upgrade cmd: dev/overcloud-test-baremetal.sh &> {{ logs_dir }}/ansible/overcloud-test-bm-post-upgrade"," cmd: dev/install.sh > {{ logs_dir }}/ansible/install-pre-upgrade cmd: dev/overcloud-deploy.sh > {{ logs_dir }}/ansible/overcloud-deploy-pre-upgrade cmd: dev/tenks-deploy-compute.sh '{{ tenks_src_dir }}' > {{ logs_dir }}/ansible/tenks-deploy cmd: dev/overcloud-test-vm.sh > {{ logs_dir }}/ansible/overcloud-test-vm-pre-upgrade cmd: dev/overcloud-test-baremetal.sh > {{ logs_dir }}/ansible/overcloud-test-bm-pre-upgrade cmd: ""{{ kayobe_src_dir }}/dev/overcloud-upgrade.sh > {{ logs_dir }}/ansible/overcloud-upgrade"" cmd: dev/overcloud-test-vm.sh > {{ logs_dir }}/ansible/overcloud-test-vm-post-upgrade cmd: dev/overcloud-test-baremetal.sh > {{ logs_dir }}/ansible/overcloud-test-bm-post-upgrade",18,18
openstack%2Fkayobe~master~I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,openstack/kayobe,master,I57fbf91ae3440d3e4e6a64cd7d05151e299c9322,Fix Kayobe overcloud introspection data save,MERGED,2020-02-21 15:54:03.000000000,2020-03-19 11:07:42.000000000,2020-03-19 11:03:20.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-21 15:54:03.000000000', 'files': ['releasenotes/notes/fix-introspection-data-save-cfc83714f66fd63c.yaml', 'ansible/overcloud-introspection-data-save.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/167e2ff3db19f32544e324bd02f4586e36486650', 'message': 'Fix Kayobe overcloud introspection data save\n\nKayobe overcloud introspection data save fails because the dynamic\ninventory script siliently breaks causing Ansible to parse it as a\nstatic inventory file. The failure occurs due to OS_TOKEN being set.\nThis change works around setting OS_TOKEN before running the dynamic\ninventory script by setting OS_CLOUD before querying inspector.\n\nConfirmed on Stein and Train, and verified in both environments.\n\nStory: 2007326\nTask: 38846\nChange-Id: I57fbf91ae3440d3e4e6a64cd7d05151e299c9322\n'}]",4,709163,167e2ff3db19f32544e324bd02f4586e36486650,15,4,1,17669,,,0,"Fix Kayobe overcloud introspection data save

Kayobe overcloud introspection data save fails because the dynamic
inventory script siliently breaks causing Ansible to parse it as a
static inventory file. The failure occurs due to OS_TOKEN being set.
This change works around setting OS_TOKEN before running the dynamic
inventory script by setting OS_CLOUD before querying inspector.

Confirmed on Stein and Train, and verified in both environments.

Story: 2007326
Task: 38846
Change-Id: I57fbf91ae3440d3e4e6a64cd7d05151e299c9322
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/63/709163/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-introspection-data-save-cfc83714f66fd63c.yaml', 'ansible/overcloud-introspection-data-save.yml']",2,167e2ff3db19f32544e324bd02f4586e36486650,," -a ""env OS_CLOUD=bifrost-inspector openstack baremetal introspection data save {% raw %}{{ inventory_hostname }}{% endraw %}""'"," export OS_TOKEN=fake-token && -a ""env OS_URL=http://localhost:5050 openstack baremetal introspection data save {% raw %}{{ inventory_hostname }}{% endraw %}""'",7,2
openstack%2Fapi-sig~master~I9137ce1780e971824bffdd4e6557ddeb44c4db0b,openstack/api-sig,master,I9137ce1780e971824bffdd4e6557ddeb44c4db0b,Use doc8 to verify rst instead of custom tests,MERGED,2020-03-19 10:40:20.000000000,2020-03-19 11:04:56.000000000,2020-03-19 11:00:28.000000000,"[{'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 10:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-sig/commit/debd323df1ac539bf36ae841592e3f173a602e71', 'message': 'Use doc8 to verify line lengths instead of a custom test\n\nFix a disproportionally long line in dns-sd.\n\nChange-Id: I9137ce1780e971824bffdd4e6557ddeb44c4db0b\n'}, {'number': 2, 'created': '2020-03-19 10:43:47.000000000', 'files': ['requirements.txt', 'tests/test_titles.py', 'guidelines/dns-sd.rst', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/3abffb4fd7467125366b99fe6c6450a93a8b72ff', 'message': 'Use doc8 to verify rst instead of custom tests\n\nFix a disproportionally long line in dns-sd.\n\nChange-Id: I9137ce1780e971824bffdd4e6557ddeb44c4db0b\n'}]",0,713829,3abffb4fd7467125366b99fe6c6450a93a8b72ff,9,3,2,10239,,,0,"Use doc8 to verify rst instead of custom tests

Fix a disproportionally long line in dns-sd.

Change-Id: I9137ce1780e971824bffdd4e6557ddeb44c4db0b
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/29/713829/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tests/test_titles.py', 'guidelines/dns-sd.rst', '.zuul.yaml', 'tox.ini']",5,debd323df1ac539bf36ae841592e3f173a602e71,gate,"envlist = docs,py37,linters[testenv:linters] commands = # Check the *.rst files doc8 README.rst guidelines ","envlist = docs,py37",10,14
openstack%2Fansible-collections-openstack~master~I16ff3fba9de8b9ee980237a90f83df3ddabb9052,openstack/ansible-collections-openstack,master,I16ff3fba9de8b9ee980237a90f83df3ddabb9052,WIP: Introduce ansible/openstacksdk matrix jobs,ABANDONED,2020-03-16 18:46:25.000000000,2020-03-19 11:03:48.000000000,,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 18:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f5808ad3aceb2f183339c56a6f8ed380b400e71e', 'message': 'WIP new jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 2, 'created': '2020-03-16 21:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3380effb8e3dd81100a7556afe986b5a6ecfd8b9', 'message': 'WIP new jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 3, 'created': '2020-03-16 21:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/93b4667321dee507b46739e650e954ebd8baed4f', 'message': 'WIP new jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 4, 'created': '2020-03-16 22:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/de11d2ba31ab79409caffb8ab5d79df665ef140a', 'message': 'WIP new jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 5, 'created': '2020-03-17 01:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8d59d74bc6bef8d526f01a6f20e9836ccaf3235a', 'message': 'WIP new jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 6, 'created': '2020-03-17 08:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/48d8068e903929595fc54fa8bf93f9e3de62a512', 'message': 'WIP new jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 7, 'created': '2020-03-17 09:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e3797b24c398188335b58a77e38ff6386bcb0460', 'message': 'WIP new jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 8, 'created': '2020-03-17 09:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c22b935a16c64ee404a130563a13ed4bcc083a15', 'message': 'WIP new jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 9, 'created': '2020-03-17 11:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c09ed2331d8e76d144fd2b21c08c960a6f9d5916', 'message': 'WIP new jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 10, 'created': '2020-03-17 11:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/77e679156fea24cd9a4f9c5baec832ad1de3dc99', 'message': 'WIP new jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 11, 'created': '2020-03-17 12:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/485c59fd159ea6e9cbef089768d63d1b06b9ee9d', 'message': 'WIP new jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 12, 'created': '2020-03-17 13:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e6f9fbbed75a6f817f81c293864f4dd4b39d2e94', 'message': 'Introduce ansible/openstacksdk matrix jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}, {'number': 13, 'created': '2020-03-17 14:04:13.000000000', 'files': ['test-requirements.txt', 'ci/run-ansible-tests-collection.sh', 'zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b8c7f6fd2546808bce9f75493253cb2628b7b3fd', 'message': 'WIP: Introduce ansible/openstacksdk matrix jobs\n\nChange-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052\n'}]",18,713312,b8c7f6fd2546808bce9f75493253cb2628b7b3fd,24,2,13,10969,,,0,"WIP: Introduce ansible/openstacksdk matrix jobs

Change-Id: I16ff3fba9de8b9ee980237a90f83df3ddabb9052
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/12/713312/5 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'zuul.yaml']",2,f5808ad3aceb2f183339c56a6f8ed380b400e71e,newjobs," name: ansible-devel-collections-openstack-functional-devstack required-projects: - name: github.com/ansible/ansible override-checkout: devel- job: name: ansible-2.9-collections-openstack-functional-devstack parent: openstacksdk-functional-devstack-collections description: | Run openstacksdk ansible functional tests against a master devstack using Openstack collections required-projects: - name: github.com/ansible/ansible override-checkout: ""stable-2.9"" vars: tox_envlist: ansible-new - job: name: ansible-2.8-collections-openstack-functional-devstack parent: openstacksdk-functional-devstack-collections description: | Run openstacksdk ansible functional tests against a master devstack using Openstack collections required-projects: - name: github.com/ansible/ansible override-checkout: ""stable-2.8"" vars: tox_envlist: ansible-new - job: name: ansible-devel-collections-openstack-functional-devstack-train parent: openstacksdk-functional-devstack-collections description: | Run openstacksdk ansible functional tests against a master devstack using Openstack collections required-projects: - name: github.com/ansible/ansible override-checkout: devel - name: openstack/openstacksdk override-checkout: stable/train vars: tox_envlist: ansible-new - job: name: ansible-2.9-collections-openstack-functional-devstack-train parent: openstacksdk-functional-devstack-collections description: | Run openstacksdk ansible functional tests against a master devstack using Openstack collections required-projects: - name: github.com/ansible/ansible override-checkout: ""stable-2.9"" - name: openstack/openstacksdk override-checkout: stable/train vars: tox_envlist: ansible-new - job: name: ansible-2.8-collections-openstack-functional-devstack-train parent: openstacksdk-functional-devstack-collections description: | Run openstacksdk ansible functional tests against a master devstack using Openstack collections required-projects: - name: github.com/ansible/ansible override-checkout: ""stable-2.8"" - name: openstack/openstacksdk override-checkout: stable/train vars: tox_envlist: ansible-new - ansible-devel-collections-openstack-functional-devstack - ansible-2.9-collections-openstack-functional-devstack - ansible-2.8-collections-openstack-functional-devstack - ansible-devel-collections-openstack-functional-devstack-train - ansible-2.9-collections-openstack-functional-devstack-train - ansible-2.8-collections-openstack-functional-devstack-train", name: ansible-collections-openstack-functional-devstack,78,2
openstack%2Fopenstack-ansible-tests~master~I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad,openstack/openstack-ansible-tests,master,I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad,Remove python2 or python3 problem pip packages,MERGED,2020-03-10 13:28:31.000000000,2020-03-19 11:02:41.000000000,2020-03-19 10:58:27.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-03-10 13:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/a7a238898db92f49afdd6436ab2858f23e79a9f8', 'message': 'DNM: test pip package removal\n\nChange-Id: I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad\n'}, {'number': 2, 'created': '2020-03-10 14:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/1083e4e1e42be1f48b1679cc11aa6cfa9812511b', 'message': 'DNM: test pip package removal\n\nChange-Id: I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad\n'}, {'number': 3, 'created': '2020-03-10 16:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/3cacd7f26498d3e5f4cc72b1959b27a92ada4004', 'message': 'DNM: test pip package removal\n\nChange-Id: I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad\n'}, {'number': 4, 'created': '2020-03-10 22:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/aa202f8d030ce011aed08c46da91c095058af52f', 'message': 'DNM: test pip package removal\n\nChange-Id: I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad\n'}, {'number': 5, 'created': '2020-03-10 22:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/fe9eb3659b38340241dd55b1bd4b9c02aafa00e5', 'message': 'Remove python2 or python3 problem pip packages\n\nChange-Id: I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad\n'}, {'number': 6, 'created': '2020-03-11 11:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/7ddc531c7393bbd951e89c9527feda3cb7465cce', 'message': 'Remove python2 or python3 problem pip packages\n\nChange-Id: I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad\n'}, {'number': 7, 'created': '2020-03-13 19:11:52.000000000', 'files': ['zuul.d/playbooks/pre-gate-cleanup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/8fcdb7f97157b104f665502f23be6de5c2c72548', 'message': 'Remove python2 or python3 problem pip packages\n\nChange-Id: I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad\n'}]",6,712069,8fcdb7f97157b104f665502f23be6de5c2c72548,22,3,7,25023,,,0,"Remove python2 or python3 problem pip packages

Change-Id: I0bb8af622b6c42e8c339b3aaa1daecf5743b5bad
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/69/712069/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre-gate-cleanup.yml'],1,a7a238898db92f49afdd6436ab2858f23e79a9f8,, register: pip_remove - debug: var=pip_remove,,3,0
openstack%2Foctavia-tempest-plugin~master~I1b39cf06614d75ba037ea25fffc827fe1f29d755,openstack/octavia-tempest-plugin,master,I1b39cf06614d75ba037ea25fffc827fe1f29d755,Fix scenario tests for OVN LB,ABANDONED,2020-03-04 15:53:29.000000000,2020-03-19 10:44:17.000000000,,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-03-04 15:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e2543f2a6d7702366a5dc7c9deb680e5225d44c8', 'message': 'Run reuse connection test only if protocol is HTTP or TCP\n\nWe can reuse the same connection while testing\nwebservers (HTTP keep-alive).\nThis patch skips the additional check for SOURCE_IP_PORT\nalgorithm, where UDP protocol is specified and\nCONF.load_balancer.test_reuse_connection is set to True.\n\nChange-Id: I1b39cf06614d75ba037ea25fffc827fe1f29d755\n'}, {'number': 2, 'created': '2020-03-05 12:37:35.000000000', 'files': ['octavia_tempest_plugin/tests/test_base.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a2e0cb9f049086c38383845e6eead2fade0199c2', 'message': ""Fix scenario tests for OVN LB\n\nRecent changes modified a bit the way of sending requests\nto LoadBalancer. We need to fix a few nits:\n\n* Run reuse connection test only if protocol is HTTP(s) or TCP\n  While testing it with UDP the testing mechanism doesn't\n  reuse the connection either so limit it only to HTTP, HTTPS\n  and TCP. This patch skips the additional check for SOURCE_IP_PORT\n  algorithm, where UDP protocol is specified and\n  CONF.load_balancer.test_reuse_connection is set to True.\n\n* Normalize testing of TCP protocol\n  When TCP is specified as protocol for LoadBalancer, we need\n  to normalize it to HTTP while sending HTTP requests. Otherwise\n  test fails with: InvalidSchema: No connection adapters were\n  found for 'tcp://IP:port'\n\n* Do not validate if the requests are spread across members\n  in _wait_for_lb_functional().\n  For SOURCE_IP_PORT protocol the connection will always go\n  to one member, if session is used (http keep-alive is enabled).\n  We should test the way how LB algorithm works in dedicated\n  functions, like _check_members_balanced_round_robin() or\n  _check_members_balanced_source_ip_port() instead. The function\n  _wait_for_lb_functional() should only check if LB VIP is\n  recheable and responds for specific type of request (UDP or HTTP\n  for now).\n\nChange-Id: I1b39cf06614d75ba037ea25fffc827fe1f29d755\n""}]",9,711255,a2e0cb9f049086c38383845e6eead2fade0199c2,12,5,2,24791,,,0,"Fix scenario tests for OVN LB

Recent changes modified a bit the way of sending requests
to LoadBalancer. We need to fix a few nits:

* Run reuse connection test only if protocol is HTTP(s) or TCP
  While testing it with UDP the testing mechanism doesn't
  reuse the connection either so limit it only to HTTP, HTTPS
  and TCP. This patch skips the additional check for SOURCE_IP_PORT
  algorithm, where UDP protocol is specified and
  CONF.load_balancer.test_reuse_connection is set to True.

* Normalize testing of TCP protocol
  When TCP is specified as protocol for LoadBalancer, we need
  to normalize it to HTTP while sending HTTP requests. Otherwise
  test fails with: InvalidSchema: No connection adapters were
  found for 'tcp://IP:port'

* Do not validate if the requests are spread across members
  in _wait_for_lb_functional().
  For SOURCE_IP_PORT protocol the connection will always go
  to one member, if session is used (http keep-alive is enabled).
  We should test the way how LB algorithm works in dedicated
  functions, like _check_members_balanced_round_robin() or
  _check_members_balanced_source_ip_port() instead. The function
  _wait_for_lb_functional() should only check if LB VIP is
  recheable and responds for specific type of request (UDP or HTTP
  for now).

Change-Id: I1b39cf06614d75ba037ea25fffc827fe1f29d755
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/55/711255/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/test_base.py'],1,e2543f2a6d7702366a5dc7c9deb680e5225d44c8,," if (CONF.load_balancer.test_reuse_connection and protocol in (const.HTTP, const.TCP)):", if CONF.load_balancer.test_reuse_connection:,2,1
openstack%2Fopenstack-ansible-ops~master~I76532c185e991eddcb1111fc58e7120a52c0120c,openstack/openstack-ansible-ops,master,I76532c185e991eddcb1111fc58e7120a52c0120c,Expose Elasticsearch discovery nodes,MERGED,2020-02-20 09:48:16.000000000,2020-03-19 10:37:00.000000000,2020-03-19 10:35:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-02-20 09:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/701738bed1ec41b526ffe58170b92eb658110ff2', 'message': ""Expose Elasticsearch discovery nodes\n\nIt is currently the case that the discovery information for\nelasticsearch nodes is generated using the elasticsearch node and\nkibana node groups internally. This means that one cannot connect to\na remote cluster that is not managed by the same ansible inventory. This\ncommit exposes the configuration to allow this to occur, permitting\nthe elasticsearch discovery nodes to be optionally defined with further\ninformation. The associated internal variables have been renamed from\nzen_nodes as zen is used within Elasticsearch for discovery only\ninternally, and the associated elasticsearch config file setting has\nbeen renamed to 'discovery.seed_hosts'.\n\nChange-Id: I76532c185e991eddcb1111fc58e7120a52c0120c\n""}, {'number': 2, 'created': '2020-02-20 10:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1c33b91ffa4d80240d9f77f009f27660b7aef4dd', 'message': ""Expose Elasticsearch discovery nodes\n\nIt is currently the case that the discovery information for\nelasticsearch nodes is generated using the elasticsearch node and\nkibana node groups internally. This means that one cannot connect to\na remote cluster that is not managed by the same ansible inventory. This\ncommit exposes the configuration to allow this to occur, permitting\nthe elasticsearch discovery nodes to be optionally defined with further\ninformation. The associated internal variables have been renamed from\nzen_nodes as zen is used within Elasticsearch for discovery only\ninternally, and the associated elasticsearch config file setting has\nbeen renamed to 'discovery.seed_hosts'.\n\nChange-Id: I76532c185e991eddcb1111fc58e7120a52c0120c\n""}, {'number': 3, 'created': '2020-03-12 10:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f11912f5a44687e523e74ffba3e48f3535954008', 'message': ""Expose Elasticsearch discovery nodes\n\nIt is currently the case that the discovery information for\nelasticsearch nodes is generated using the elasticsearch node and\nkibana node groups internally. This means that one cannot connect to\na remote cluster that is not managed by the same ansible inventory. This\ncommit exposes the configuration to allow this to occur, permitting\nthe elasticsearch discovery nodes to be optionally defined with further\ninformation. The associated internal variables have been renamed from\nzen_nodes as zen is used within Elasticsearch for discovery only\ninternally, and the associated elasticsearch config file setting has\nbeen renamed to 'discovery.seed_hosts'.\n\nChange-Id: I76532c185e991eddcb1111fc58e7120a52c0120c\n""}, {'number': 4, 'created': '2020-03-18 11:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0a2c5296635699f952aa57526dc473dff4816c0f', 'message': ""Expose Elasticsearch discovery nodes\n\nIt is currently the case that the discovery information for\nelasticsearch nodes is generated using the elasticsearch node and\nkibana node groups internally. This means that one cannot connect to\na remote cluster that is not managed by the same ansible inventory. This\ncommit exposes the configuration to allow this to occur, permitting\nthe elasticsearch discovery nodes to be optionally defined with further\ninformation. The associated internal variables have been renamed from\nzen_nodes as zen is used within Elasticsearch for discovery only\ninternally, and the associated elasticsearch config file setting has\nbeen renamed to 'discovery.seed_hosts'.\n\nChange-Id: I76532c185e991eddcb1111fc58e7120a52c0120c\n""}, {'number': 5, 'created': '2020-03-18 16:46:41.000000000', 'files': ['elk_metrics_7x/roles/elastic_data_hosts/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_7x/showElasticCluster.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/b14224c0301d6f089f8815a28145776c22196522', 'message': ""Expose Elasticsearch discovery nodes\n\nIt is currently the case that the discovery information for\nelasticsearch nodes is generated using the elasticsearch node and\nkibana node groups internally. This means that one cannot connect to\na remote cluster that is not managed by the same ansible inventory. This\ncommit exposes the configuration to allow this to occur, permitting\nthe elasticsearch discovery nodes to be optionally defined with further\ninformation. The associated internal variables have been renamed from\nzen_nodes as zen is used within Elasticsearch for discovery only\ninternally, and the associated elasticsearch config file setting has\nbeen renamed to 'discovery.seed_hosts'.\n\nChange-Id: I76532c185e991eddcb1111fc58e7120a52c0120c\n""}]",0,708826,b14224c0301d6f089f8815a28145776c22196522,32,4,5,31004,,,0,"Expose Elasticsearch discovery nodes

It is currently the case that the discovery information for
elasticsearch nodes is generated using the elasticsearch node and
kibana node groups internally. This means that one cannot connect to
a remote cluster that is not managed by the same ansible inventory. This
commit exposes the configuration to allow this to occur, permitting
the elasticsearch discovery nodes to be optionally defined with further
information. The associated internal variables have been renamed from
zen_nodes as zen is used within Elasticsearch for discovery only
internally, and the associated elasticsearch config file setting has
been renamed to 'discovery.seed_hosts'.

Change-Id: I76532c185e991eddcb1111fc58e7120a52c0120c
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/26/708826/4 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_data_hosts/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml']",3,701738bed1ec41b526ffe58170b92eb658110ff2,elastic-logstash,"_elasticsearch_discovery_seed_hosts: >- {{ elasticsearch_discovery_seed_hosts | default((elastic_hosts | union(groups['kibana'])) | map('extract', hostvars, 'ansible_host') | list)","zen_nodes: >- {{ (elastic_hosts | union(groups['kibana'])) | map('extract', hostvars, 'ansible_host') | list | shuffle(seed=inventory_hostname)",7,3
openstack%2Fnova~master~Icd7ab2ca4ddbed92c7e883a63a23245920d961e7,openstack/nova,master,Icd7ab2ca4ddbed92c7e883a63a23245920d961e7,nova-live-migration: Wait for n-cpu services to come up after configuring Ceph,MERGED,2020-03-13 17:19:16.000000000,2020-03-19 10:33:30.000000000,2020-03-19 10:30:39.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-13 17:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bb87cf68b34a75b80631c2cda50423e6394f17f', 'message': 'WIP nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 2, 'created': '2020-03-13 21:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ac7510a6cb6e1e05b6354814744d5334838140b', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 3, 'created': '2020-03-14 09:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39bb14e925036562a9d1315bf6cfc841bc4a8bfd', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 4, 'created': '2020-03-14 14:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa125a960277e8d76bfa64f5d69d991a2b8e58ec', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 5, 'created': '2020-03-14 15:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9318dafb1d305f208e836b9023dde6c770ddb478', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 6, 'created': '2020-03-14 17:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9eea024c300502aa605b1b7a515989ebf63bc76a', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 7, 'created': '2020-03-15 13:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3788ff926048e8515effebfa3866ac53a47675fa', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 8, 'created': '2020-03-15 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41afa913e2d0424ad988a4d5dc69d06772254aee', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 9, 'created': '2020-03-15 15:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f947803946d24bab502c022d457639ccc00f1998', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 10, 'created': '2020-03-15 16:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ffecf2794ffb04432fc468c9c1ec3d30b6b18cb', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 11, 'created': '2020-03-16 09:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4532a57fb74a57515dc1baaeb76c5e6c4c6b8bc', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 12, 'created': '2020-03-16 10:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c24a2cea1feacae7f152d58ee29f442b1255bcb8', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 13, 'created': '2020-03-16 11:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4932d74f93db99312dbc7428ce1d812183f58415', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}, {'number': 14, 'created': '2020-03-16 12:38:52.000000000', 'files': ['gate/live_migration/hooks/ceph.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/e23c3c2c8df3843c5853c87ef684bd21c4af95d8', 'message': 'nova-live-migration: Wait for n-cpu services to come up after configuring Ceph\n\nPreviously the ceph.sh script used during the nova-live-migration job\nwould only grep for a `compute` process when checking if the services\nhad been restarted. This check was bogus and would always return 0 as it\nwould always match itself. For example:\n\n2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root\n29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps\n       aux | grep compute\n2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root\n29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute\n\nFailures of this job were seen on the stable/pike branch where slower CI\nnodes appeared to struggle to allow Libvirt to report to n-cpu in time\nbefore Tempest was started. This in-turn caused instance build failures\nand the overall failure of the job.\n\nThis change resolves this issue by switching to pgrep and ensuring\nn-cpu services are reported as fully up after a cold restart before\nstarting the Tempest test run.\n\nCloses-Bug: 1867380\nChange-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7\n'}]",11,713035,e23c3c2c8df3843c5853c87ef684bd21c4af95d8,163,15,14,10135,,,0,"nova-live-migration: Wait for n-cpu services to come up after configuring Ceph

Previously the ceph.sh script used during the nova-live-migration job
would only grep for a `compute` process when checking if the services
had been restarted. This check was bogus and would always return 0 as it
would always match itself. For example:

2020-03-13 21:06:47.682073 | primary | 2020-03-13 21:06:47.681 | root
29529  0.0  0.0   4500   736 pts/0    S+   21:06   0:00 /bin/sh -c ps
       aux | grep compute
2020-03-13 21:06:47.683964 | primary | 2020-03-13 21:06:47.683 | root
29531  0.0  0.0  14616   944 pts/0    S+   21:06   0:00 grep compute

Failures of this job were seen on the stable/pike branch where slower CI
nodes appeared to struggle to allow Libvirt to report to n-cpu in time
before Tempest was started. This in-turn caused instance build failures
and the overall failure of the job.

This change resolves this issue by switching to pgrep and ensuring
n-cpu services are reported as fully up after a cold restart before
starting the Tempest test run.

Closes-Bug: 1867380
Change-Id: Icd7ab2ca4ddbed92c7e883a63a23245920d961e7
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/713035/2 && git format-patch -1 --stdout FETCH_HEAD,['gate/live_migration/hooks/ceph.sh'],1,5bb87cf68b34a75b80631c2cda50423e6394f17f,bug/1867380," # Actually wait for the services to report as UP source $BASE/new/devstack/openrc export OS_USERNAME=admin export OS_PROJECT_NAME=admin local attempt=1 local max_attempts=10 local attempt_sleep=5 # We can't use --binary here as we are only counting actual compute rows in the output local computes_count=$(nova service-list | grep nova-compute | wc -l) local computes_up=0 while [ ""$attempt"" -le ""$max_attempts"" ]; do computes_up=$(nova service-list | grep nova-compute | grep up | wc -l) if [ ""$computes_up"" -eq ""$computes_count"" ]; then echo ""All computes are now reporting as UP, proceeding..."" break elif [ ""$attempt"" -eq ""$max_attempts"" ]; then echo ""Failed waiting for computes to report as UP, ${computes_up}/${computes_count} UP after ${max_attempts} attempts"" exit 1 else echo ""Waiting for ${computes_count} computes to report as UP, ${computes_up}/${computes_count} UP after ${attempt}/${max_attempts} attempts"" attempt=$((attempt+1)) sleep $attempt_sleep fi done",,25,0
openstack%2Freleases~master~Id2792199eb5e1843b2f2fb02b5574992e3ba17fa,openstack/releases,master,Id2792199eb5e1843b2f2fb02b5574992e3ba17fa,Oslo releases for 2020-03-18,MERGED,2020-03-18 22:15:47.000000000,2020-03-19 10:06:08.000000000,2020-03-19 10:06:08.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 22:15:47.000000000', 'files': ['deliverables/ussuri/oslo.policy.yaml', 'deliverables/ussuri/oslo.vmware.yaml', 'deliverables/ussuri/tooz.yaml', 'deliverables/ussuri/oslo.log.yaml', 'deliverables/ussuri/oslo.versionedobjects.yaml', 'deliverables/ussuri/taskflow.yaml', 'deliverables/ussuri/oslo.service.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fb45ae4ef4fb4650968fb771345abf43ff088cbc', 'message': 'Oslo releases for 2020-03-18\n\nChange-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa\n'}]",0,713749,fb45ae4ef4fb4650968fb771345abf43ff088cbc,8,2,1,6928,,,0,"Oslo releases for 2020-03-18

Change-Id: Id2792199eb5e1843b2f2fb02b5574992e3ba17fa
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/713749/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/oslo.policy.yaml', 'deliverables/ussuri/oslo.vmware.yaml', 'deliverables/ussuri/tooz.yaml', 'deliverables/ussuri/oslo.log.yaml', 'deliverables/ussuri/oslo.versionedobjects.yaml', 'deliverables/ussuri/taskflow.yaml', 'deliverables/ussuri/oslo.service.yaml']",7,fb45ae4ef4fb4650968fb771345abf43ff088cbc,oslo-master, - version: 2.1.0 projects: - repo: openstack/oslo.service hash: 19517d0bd6b34a54ae2779aff98af5172c09e4b6,,28,0
openstack%2Freleases~master~I3dc22cbbc55c69da2b559fb266f251e0f0074038,openstack/releases,master,I3dc22cbbc55c69da2b559fb266f251e0f0074038,Release keystoneauth1 3.13.2 for stable/stein,MERGED,2020-03-18 12:17:02.000000000,2020-03-19 10:05:31.000000000,2020-03-19 10:05:31.000000000,"[{'_account_id': 308}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 13294}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 12:17:02.000000000', 'files': ['deliverables/stein/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/82cf905acc170f843443fd189e6164b3aa1133f2', 'message': 'Release keystoneauth1 3.13.2 for stable/stein\n\nThis release would include [1], which makes life easier for packagers\nwho want to run unit tests.\n\n[1] - https://review.opendev.org/701419\n\nChange-Id: I3dc22cbbc55c69da2b559fb266f251e0f0074038\n'}]",0,713636,82cf905acc170f843443fd189e6164b3aa1133f2,9,6,1,6593,,,0,"Release keystoneauth1 3.13.2 for stable/stein

This release would include [1], which makes life easier for packagers
who want to run unit tests.

[1] - https://review.opendev.org/701419

Change-Id: I3dc22cbbc55c69da2b559fb266f251e0f0074038
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/713636/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/keystoneauth.yaml'],1,82cf905acc170f843443fd189e6164b3aa1133f2,, - version: 3.13.2 projects: - repo: openstack/keystoneauth hash: 51874630142d7de4cb8226f04f102402a0ed89ed,,4,0
openstack%2Frpm-packaging~stable%2Fstein~Ic98ff3a604d170fb6e69d5594e433d585335da64,openstack/rpm-packaging,stable/stein,Ic98ff3a604d170fb6e69d5594e433d585335da64,keystoneauth1: fix unit tests,ABANDONED,2020-03-18 18:09:48.000000000,2020-03-19 09:54:09.000000000,,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-18 18:09:48.000000000', 'files': ['openstack/keystoneauth1/0001-Make-tests-pass-in-2020.patch', 'openstack/keystoneauth1/keystoneauth1.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5156c0d941ad339dad5e0a2b4dce5bab1ff42d6d', 'message': 'keystoneauth1: fix unit tests\n\nIf we try to build keystoneauth1 today, it will fail due to a missing\npatch. This is not yet in any released version.\n\nChange-Id: Ic98ff3a604d170fb6e69d5594e433d585335da64\n'}]",0,713709,5156c0d941ad339dad5e0a2b4dce5bab1ff42d6d,7,7,1,13294,,,0,"keystoneauth1: fix unit tests

If we try to build keystoneauth1 today, it will fail due to a missing
patch. This is not yet in any released version.

Change-Id: Ic98ff3a604d170fb6e69d5594e433d585335da64
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/09/713709/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/keystoneauth1/0001-Make-tests-pass-in-2020.patch', 'openstack/keystoneauth1/keystoneauth1.spec.j2']",2,5156c0d941ad339dad5e0a2b4dce5bab1ff42d6d,,"# https://review.opendev.org/701422, not yet in any released version Patch0001: 0001-Make-tests-pass-in-2020.patch",,119,0
openstack%2Fkarbor~master~I1ecade75227b3dc37c8fcdf775b7823583faea43,openstack/karbor,master,I1ecade75227b3dc37c8fcdf775b7823583faea43,Remove unsupported calls,MERGED,2020-03-16 08:26:17.000000000,2020-03-19 09:53:57.000000000,2020-03-19 09:52:07.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 24328}, {'_account_id': 29147}, {'_account_id': 29272}]","[{'number': 1, 'created': '2020-03-16 08:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/6ff2986a9bac84ae572646d6d21329f2d45b518b', 'message': ""Remove unsupported calls\n\nBecause kubernetes === 11.0.0 deleted the function for\n'kubernetes.client.api_client.ApiClient.__del__',\nwhich caused an ut error and deleted the relevant mock call.\n\nChange-Id: I1ecade75227b3dc37c8fcdf775b7823583faea43\n""}, {'number': 2, 'created': '2020-03-16 08:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b7d31fa253107423fbcc13909b784166d1b79150', 'message': ""Remove unsupported calls\n\nBecause kubernetes 11.0.0 deleted the function of\n'kubernetes.client.api_client.ApiClient.__del__',\nwhich caused an ut error and deleted the relevant mock call.\n\nChange-Id: I1ecade75227b3dc37c8fcdf775b7823583faea43\n""}, {'number': 3, 'created': '2020-03-16 09:37:45.000000000', 'files': ['karbor/tests/unit/plugins/test_pod_protectable_plugin.py', 'karbor/tests/unit/clients/test_k8s_client.py', 'karbor/tests/unit/plugins/test_volume_protectable_plugin.py', 'karbor/tests/unit/protection/test_pod_protection_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/7fc2b1055753b283d8bda21cb85adf560e58c476', 'message': ""Remove unsupported calls\n\nBecause kubernetes 11.0.0 deleted the function of\n'kubernetes.client.api_client.ApiClient.__del__',\nwhich caused an ut error and deleted the relevant mock call.\n\nChange-Id: I1ecade75227b3dc37c8fcdf775b7823583faea43\n""}]",0,713171,7fc2b1055753b283d8bda21cb85adf560e58c476,11,5,3,29139,,,0,"Remove unsupported calls

Because kubernetes 11.0.0 deleted the function of
'kubernetes.client.api_client.ApiClient.__del__',
which caused an ut error and deleted the relevant mock call.

Change-Id: I1ecade75227b3dc37c8fcdf775b7823583faea43
",git fetch https://review.opendev.org/openstack/karbor refs/changes/71/713171/3 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/tests/unit/plugins/test_pod_protectable_plugin.py', 'karbor/tests/unit/clients/test_k8s_client.py', 'karbor/tests/unit/plugins/test_volume_protectable_plugin.py', 'karbor/tests/unit/protection/test_pod_protection_plugin.py']",4,6ff2986a9bac84ae572646d6d21329f2d45b518b,del_the_unused," def test_create_backup(self, mock_k8s_create):"," @mock.patch('kubernetes.client.api_client.ApiClient.__del__') def test_create_backup(self, mock_k8s_create, mock_k8s_delete):",5,11
openstack%2Fopenstack-helm~master~I7ad4efed2850e64942f7237a4d0516a05e0fc0f6,openstack/openstack-helm,master,I7ad4efed2850e64942f7237a4d0516a05e0fc0f6,Imported Translations from Zanata,MERGED,2020-03-18 07:33:42.000000000,2020-03-19 09:17:48.000000000,2020-03-19 09:16:09.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 07:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/99f7a9da9cbb9fbf7b70329893b484af21a23bc5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7ad4efed2850e64942f7237a4d0516a05e0fc0f6\n'}, {'number': 2, 'created': '2020-03-19 07:21:50.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-devref.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5517a878009e238f11d20b7d840572c4ba1f33ca', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7ad4efed2850e64942f7237a4d0516a05e0fc0f6\n'}]",0,713583,5517a878009e238f11d20b7d840572c4ba1f33ca,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7ad4efed2850e64942f7237a4d0516a05e0fc0f6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/83/713583/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/en_GB/LC_MESSAGES/doc-devref.po'],1,99f7a9da9cbb9fbf7b70329893b484af21a23bc5,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata # Andi Chandler <andi@gowling.com>, 2020. #zanata msgid """" msgstr """" ""Project-Id-Version: openstack-helm\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2020-03-18 01:12+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2020-03-18 12:02+0000\n"" ""Last-Translator: Andi Chandler <andi@gowling.com>\n"" ""Language-Team: English (United Kingdom)\n"" ""Language: en_GB\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid """" ""**Note:** The values defined in a PodDisruptionBudget may conflict with "" ""other values that have been provided if an operator chooses to leverage "" ""Rolling Updates for deployments. In the case where an operator defines a "" ""``maxUnavailable`` and ``maxSurge`` within an update strategy that is higher "" ""than a ``minAvailable`` within a pod disruption budget, a scenario may occur "" ""where pods fail to be evicted from a deployment."" msgstr """" ""**Note:** The values defined in a PodDisruptionBudget may conflict with "" ""other values that have been provided if an operator chooses to leverage "" ""Rolling Updates for deployments. In the case where an operator defines a "" ""``maxUnavailable`` and ``maxSurge`` within an update strategy that is higher "" ""than a ``minAvailable`` within a pod disruption budget, a scenario may occur "" ""where pods fail to be evicted from a deployment."" msgid """" "":code:`neutron/templates/bin/_neutron-linuxbridge-agent-init.sh.tpl` is "" ""configuring the tunnel IP, external bridge and all bridge mappings defined "" ""in config. It is done in init container, and the IP for tunneling is shared "" ""using file :code:`/tmp/pod-shared/ml2-local-ip.ini` with main linuxbridge "" ""container."" msgstr """" "":code:`neutron/templates/bin/_neutron-linuxbridge-agent-init.sh.tpl` is "" ""configuring the tunnel IP, external bridge and all bridge mappings defined "" ""in config. It is done in init container, and the IP for tunnelling is shared "" ""using file :code:`/tmp/pod-shared/ml2-local-ip.ini` with main linuxbridge "" ""container."" msgid """" ""A detail worth mentioning is that ovs is configured to use sockets, rather "" ""than the default loopback mechanism."" msgstr """" ""A detail worth mentioning is that OVS is configured to use sockets, rather "" ""than the default loopback mechanism."" msgid """" ""A long-term goal, besides being image agnostic, is to also be able to "" ""support any of the container runtimes that Kubernetes supports, even those "" ""that might not use Docker's own packaging format. This will allow the "" ""project to continue to offer maximum flexibility with regard to operator "" ""choice."" msgstr """" ""A long-term goal, besides being image agnostic, is to also be able to "" ""support any of the container runtimes that Kubernetes supports, even those "" ""that might not use Docker's own packaging format. This will allow the "" ""project to continue to offer maximum flexibility with regard to operator "" ""choice."" msgid """" ""A typical Helm daemonset may leverage a secret to store configuration data. "" ""However, there are cases where the same secret document can't be used for "" ""the entire daemonset, because there are node-specific differences."" msgstr """" ""A typical Helm daemonset may leverage a secret to store configuration data. "" ""However, there are cases where the same secret document can't be used for "" ""the entire daemonset, because there are node-specific differences."" msgid ""Adapting your daemonset to support node/nodelabel overrides"" msgstr ""Adapting your daemonset to support node/nodelabel overrides"" msgid """" ""All ``Deployment`` chart components are outfitted by default with rolling "" ""update strategies:"" msgstr """" ""All ``Deployment`` chart components are outfitted by default with rolling "" ""update strategies:"" msgid ""All dependencies described in neutron-dhcp-agent are valid here."" msgstr ""All dependencies described in neutron-dhcp-agent are valid here."" msgid """" ""All of the above configs are endpoints or path to the specific class "" ""implementing the interface. You can see the endpoints to class mapping in "" ""`setup.cfg <https://github.com/openstack/neutron/"" ""blob/412c49b3930ce8aecb0a07aec50a9607058e5bc7/setup.cfg#L69>`_."" msgstr """" ""All of the above configs are endpoints or path to the specific class "" ""implementing the interface. You can see the endpoints to class mapping in "" ""`setup.cfg <https://github.com/openstack/neutron/"" ""blob/412c49b3930ce8aecb0a07aec50a9607058e5bc7/setup.cfg#L69>`_."" msgid """" ""Also note that other non-overridden values are inherited by hosts and labels "" ""with overrides. The following shows a set of example hosts and the values "" ""fed into each:"" msgstr """" ""Also note that other non-overridden values are inherited by hosts and labels "" ""with overrides. The following shows a set of example hosts and the values "" ""fed into each:"" msgid """" ""An illustrative example of an ``images:`` section taken from the heat chart:"" msgstr """" ""An illustrative example of an ``images:`` section taken from the heat chart:"" msgid """" ""Another place where the DHCP agent is dependent on L2 agent is the "" ""dependency for the L2 agent daemonset:"" msgstr """" ""Another place where the DHCP agent is dependent on L2 agent is the "" ""dependency for the L2 agent daemonset:"" msgid """" ""As Helm stands today, several issues exist when you update images within "" ""charts that might have been used by jobs that already ran to completion or "" ""are still in flight. OpenStack-Helm developers will continue to work with "" ""the Helm community or develop charts that will support job removal prior to "" ""an upgrade, which will recreate services with updated images. An example of "" ""where this behavior would be desirable is when an updated db\\_sync image "" ""has updated to point from a Mitaka image to a Newton image. In this case, "" ""the operator will likely want a db\\_sync job, which was already run and "" ""completed during site installation, to run again with the updated image to "" ""bring the schema inline with the Newton release."" msgstr """" ""As Helm stands today, several issues exist when you update images within "" ""charts that might have been used by jobs that already ran to completion or "" ""are still in flight. OpenStack-Helm developers will continue to work with "" ""the Helm community or develop charts that will support job removal prior to "" ""an upgrade, which will recreate services with updated images. An example of "" ""where this behaviour would be desirable is when an updated db\\_sync image "" ""has updated to point from a Mitaka image to a Newton image. In this case, "" ""the operator will likely want a db\\_sync job, which was already run and "" ""completed during site installation, to run again with the updated image to "" ""bring the schema inline with the Newton release."" msgid """" ""As an example, this line uses the ``endpoints.keystone_endpoint_uri_lookup`` "" ""macro in the ``helm-toolkit`` chart (since it is used by all charts). Note "" ""that there is a second convention here. All ``{{ define }}`` macros in "" ""charts should be pre-fixed with the chart that is defining them. This allows "" ""developers to easily identify the source of a Helm macro and also avoid "" ""namespace collisions. In the example above, the macro ``endpoints."" ""keystone_endpoint_uri_lookup`` is defined in the ``helm-toolkit`` chart. "" ""This macro is passing three parameters (aided by the ``tuple`` method built "" ""into the go/sprig templating library used by Helm):"" msgstr """" ""As an example, this line uses the ``endpoints.keystone_endpoint_uri_lookup`` "" ""macro in the ``helm-toolkit`` chart (since it is used by all charts). Note "" ""that there is a second convention here. All ``{{ define }}`` macros in "" ""charts should be pre-fixed with the chart that is defining them. This allows "" ""developers to easily identify the source of a Helm macro and also avoid "" ""namespace collisions. In the example above, the macro ``endpoints."" ""keystone_endpoint_uri_lookup`` is defined in the ``helm-toolkit`` chart. "" ""This macro is passing three parameters (aided by the ``tuple`` method built "" ""into the go/sprig templating library used by Helm):"" msgid """" ""As part of Neutron chart, this daemonset is running Neutron OVS agent. It is "" ""dependent on having :code:`openvswitch-db` and :code:`openvswitch-vswitchd` "" ""deployed and ready. Since its the default choice of the networking backend, "" ""all configuration is in place in `neutron/values.yaml`. :code:`neutron-ovs-"" ""agent` should not be deployed when another SDN is used in `network.backend`."" msgstr """" ""As part of Neutron chart, this daemonset is running Neutron OVS agent. It is "" ""dependent on having :code:`openvswitch-db` and :code:`openvswitch-vswitchd` "" ""deployed and ready. Since its the default choice of the networking backend, "" ""all configuration is in place in `neutron/values.yaml`. :code:`neutron-ovs-"" ""agent` should not be deployed when another SDN is used in `network.backend`."" msgid ""Assume the chart name is ``mychart``."" msgstr ""Assume the chart name is ``mychart``."" msgid """" ""By default, each endpoint is located in the same namespace as the current "" ""service's helm chart. To connect to a service which is running in a "" ""different Kubernetes namespace, a ``namespace`` can be provided for each "" ""individual endpoint."" msgstr """" ""By default, each endpoint is located in the same namespace as the current "" ""service's helm chart. To connect to a service which is running in a "" ""different Kubernetes namespace, a ``namespace`` can be provided for each "" ""individual endpoint."" msgid """" ""Charts should not use hard coded values such as ``http://keystone-api:5000`` "" ""because these are not compatible with operator overrides and do not support "" ""spreading components out over various namespaces."" msgstr """" ""Charts should not use hard coded values such as ``http://keystone-api:5000`` "" ""because these are not compatible with operator overrides and do not support "" ""spreading components out over various namespaces."" msgid """" ""Configuration of OVS bridges can be done via `neutron/templates/bin/_neutron-"" ""openvswitch-agent-init.sh.tpl`. The script is configuring the external "" ""network bridge and sets up any bridge mappings defined in :code:`conf."" ""auto_bridge_add`. These values should align with :code:`conf.plugins."" ""openvswitch_agent.ovs.bridge_mappings`."" msgstr """" ""Configuration of OVS bridges can be done via `neutron/templates/bin/_neutron-"" ""openvswitch-agent-init.sh.tpl`. The script is configuring the external "" ""network bridge and sets up any bridge mappings defined in :code:`conf."" ""auto_bridge_add`. These values should align with :code:`conf.plugins."" ""openvswitch_agent.ovs.bridge_mappings`."" msgid """" ""Configure neutron-server with SDN specific core_plugin/mechanism_drivers."" msgstr """" ""Configure neutron-server with SDN specific core_plugin/mechanism_drivers."" msgid ""Configuring network plugin"" msgstr ""Configuring network plugin"" msgid """" ""Consider the following (simplified) secret and daemonset pairing example:"" msgstr """" ""Consider the following (simplified) secret and daemonset pairing example:"" msgid ""Contents:"" msgstr ""Contents:"" msgid ""Create separate chart with new SDN deployment method."" msgstr ""Create separate chart with new SDN deployment method."" msgid """" ""Currently OpenStack-Helm supports OpenVSwitch and LinuxBridge as a network "" ""virtualization engines. In order to support many possible backends (SDNs), "" ""modular architecture of Neutron chart was developed. OpenStack-Helm can "" ""support every SDN solution that has Neutron plugin, either core_plugin or "" ""mechanism_driver."" msgstr """" ""Currently OpenStack-Helm supports OpenVSwitch and LinuxBridge as a network "" ""virtualisation engines. In order to support many possible backends (SDNs), "" ""modular architecture of Neutron chart was developed. OpenStack-Helm can "" ""support every SDN solution that has Neutron plugin, either core_plugin or "" ""mechanism_driver."" msgid ""DHCP - auto-assign IP address and DNS info"" msgstr ""DHCP - auto-assign IP address and DNS info"" msgid """" ""DHCP agent is running dnsmasq process which is serving the IP assignment and "" ""DNS info. DHCP agent is dependent on the L2 agent wiring the interface. So "" ""one should be aware that when changing the L2 agent, it also needs to be "" ""changed in the DHCP agent. The configuration of the DHCP agent includes "" ""option `interface_driver`, which will instruct how the tap interface created "" ""for serving the request should be wired."" msgstr """" ""DHCP agent is running dnsmasq process which is serving the IP assignment and "" ""DNS info. DHCP agent is dependent on the L2 agent wiring the interface. So "" ""one should be aware that when changing the L2 agent, it also needs to be "" ""changed in the DHCP agent. The configuration of the DHCP agent includes "" ""option `interface_driver`, which will instruct how the tap interface created "" ""for serving the request should be wired."" msgid ""Developer References"" msgstr ""Developer References"" msgid """" ""EFK (Elasticsearch, Fluent-bit & Fluentd, Kibana) based Logging Mechanism"" msgstr """" ""EFK (Elasticsearch, Fluent-bit & Fluentd, Kibana) based Logging Mechanism"" msgid ""Endpoints"" msgstr ""Endpoints"" msgid ""Exercising node/nodelabel overrides"" msgstr ""Exercising node/nodelabel overrides"" msgid """" ""Fluent-bit, Fluentd meet OpenStack-Helm's logging requirements for "" ""gathering, aggregating, and delivering of logged events. Fluent-bit runs as "" ""a daemonset on each node and mounts the `/var/lib/docker/containers` "" ""directory. The Docker container runtime engine directs events posted to "" ""stdout and stderr to this directory on the host. Fluent-bit then forward the "" ""contents of that directory to Fluentd. Fluentd runs as deployment at the "" ""designated nodes and expose service for Fluent-bit to forward logs. Fluentd "" ""should then apply the Logstash format to the logs. Fluentd can also write "" ""kubernetes and OpenStack metadata to the logs. Fluentd will then forward the "" ""results to Elasticsearch and to optionally Kafka. Elasticsearch indexes the "" ""logs in a logstash-* index by default. Kafka stores the logs in a ``logs`` "" ""topic by default. Any external tool can then consume the ``logs`` topic."" msgstr """" ""Fluent-bit, Fluentd meet OpenStack-Helm's logging requirements for "" ""gathering, aggregating, and delivering of logged events. Fluent-bit runs as "" ""a daemonset on each node and mounts the `/var/lib/docker/containers` "" ""directory. The Docker container runtime engine directs events posted to "" ""stdout and stderr to this directory on the host. Fluent-bit then forward the "" ""contents of that directory to Fluentd. Fluentd runs as deployment at the "" ""designated nodes and expose service for Fluent-bit to forward logs. Fluentd "" ""should then apply the Logstash format to the logs. Fluentd can also write "" ""kubernetes and OpenStack metadata to the logs. Fluentd will then forward the "" ""results to Elasticsearch and to optionally Kafka. Elasticsearch indexes the "" ""logs in a logstash-* index by default. Kafka stores the logs in a ``logs`` "" ""topic by default. Any external tool can then consume the ``logs`` topic."" msgid """" ""For example, if you have some special conf setting that should be applied to "" ""``host1.fqdn``, and another special conf setting that should be applied to "" ""nodes labeled with ``someNodeLabel``, then three secret/daemonset pairs will "" ""be generated and registered with kubernetes: one for ``host1.fqdn``, one for "" ""``someNodeLabel``, and one for ``default``."" msgstr """" ""For example, if you have some special conf setting that should be applied to "" ""``host1.fqdn``, and another special conf setting that should be applied to "" ""nodes labeled with ``someNodeLabel``, then three secret/daemonset pairs will "" ""be generated and registered with Kubernetes: one for ``host1.fqdn``, one for "" ""``someNodeLabel``, and one for ``default``."" msgid """" ""For instance, in the Neutron chart ``values.yaml`` the following endpoints "" ""are defined:"" msgstr """" ""For instance, in the Neutron chart ``values.yaml`` the following endpoints "" ""are defined:"" msgid ""Host overrides supercede label overrides"" msgstr ""Host overrides supersede label overrides"" msgid """" ""If :code:`.Values.manifests.daemonset_ovs_agent` will be set to false, "" ""neutron ovs agent would not be launched. In that matter, other type of L2 or "" ""L3 agent on compute node can be run."" msgstr """" ""If :code:`.Values.manifests.daemonset_ovs_agent` will be set to false, "" ""Neutron OVS agent would not be launched. In that matter, other type of L2 or "" ""L3 agent on compute node can be run."" msgid """" ""If a node matches more than one nodelabel, only the last matching nodelabel "" ""will apply (last in terms of the order the overrides are defined in the "" ""YAML)."" msgstr """" ""If a node matches more than one nodelabel, only the last matching nodelabel "" ""will apply (last in terms of the order the overrides are defined in the "" ""YAML)."" msgid ""If required, add new networking agent label type."" msgstr ""If required, add new networking agent label type."" msgid """" ""If the SDN implements its own version of L3 networking, neutron-l3-agent "" ""should not be started."" msgstr """" ""If the SDN implements its own version of L3 networking, neutron-l3-agent "" ""should not be started."" msgid """" ""If the SDN of your choice is using the ML2 core plugin, then the extra "" ""options in `neutron/ml2/plugins/ml2_conf.ini` should be configured:"" msgstr """" ""If the SDN of your choice is using the ML2 core plugin, then the extra "" ""options in `neutron/ml2/plugins/ml2_conf.ini` should be configured:"" msgid """" ""If there is no matching FQDN and no matching nodelabel, then the default "" ""daemonset/secret (with no overrides applied) is used."" msgstr """" ""If there is no matching FQDN and no matching nodelabel, then the default "" ""daemonset/secret (with no overrides applied) is used."" msgid ""Images"" msgstr ""Images"" msgid ""Implementation details of node/nodelabel overrides"" msgstr ""Implementation details of node/nodelabel overrides"" msgid """" ""In ``values.yaml`` in each chart, the same defaults are supplied in every "" ""chart, which allows the operator to override at upgrade or deployment time."" msgstr """" ""In ``values.yaml`` in each chart, the same defaults are supplied in every "" ""chart, which allows the operator to override at upgrade or deployment time."" msgid """" ""In order to add support for more SDNs, these steps need to be performed:"" msgstr """" ""In order to add support for more SDNs, these steps need to be performed:"" msgid """" ""In order to meet modularity criteria of Neutron chart, section `manifests` "" ""in :code:`neutron/values.yaml` contains boolean values describing which "" ""Neutron's Kubernetes resources should be deployed:"" msgstr """" ""In order to meet modularity criteria of Neutron chart, section `manifests` "" ""in :code:`neutron/values.yaml` contains boolean values describing which "" ""Neutron's Kubernetes resources should be deployed:"" msgid """" ""In order to use linuxbridge in your OpenStack-Helm deployment, you need to "" ""label the compute and controller/network nodes with `linuxbridge=enabled` "" ""and use this `neutron/values.yaml` override:"" msgstr """" ""In order to use linuxbridge in your OpenStack-Helm deployment, you need to "" ""label the compute and controller/network nodes with `linuxbridge=enabled` "" ""and use this `neutron/values.yaml` override:"" msgid """" ""Instead of having one daemonset with one monolithic secret, this helm-"" ""toolkit feature permits a common daemonset and secret template, from which "" ""daemonset and secret pairings are auto-generated. It supports establishing "" ""value overrides for nodes with specific label value pairs and for targeting "" ""nodes with specific hostnames and hostlabels. The overridden configuration "" ""is merged with the normal config data, with the override data taking "" ""precedence."" msgstr """" ""Instead of having one daemonset with one monolithic secret, this helm-"" ""toolkit feature permits a common daemonset and secret template, from which "" ""daemonset and secret pairings are auto-generated. It supports establishing "" ""value overrides for nodes with specific label value pairs and for targeting "" ""nodes with specific hostnames and hostlabels. The overridden configuration "" ""is merged with the normal config data, with the override data taking "" ""precedence."" msgid """" ""Introducing a new SDN solution should consider how the above services are "" ""provided. It maybe required to disable built-in Neutron functionality."" msgstr """" ""Introducing a new SDN solution should consider how the above services are "" ""provided. It maybe required to disable built-in Neutron functionality."" msgid """" ""L3 agent is serving the routing capabilities for Neutron networks. It is "" ""also dependent on the L2 agent wiring the tap interface for the routers."" msgstr """" ""L3 agent is serving the routing capabilities for Neutron networks. It is "" ""also dependent on the L2 agent wiring the tap interface for the routers."" msgid ""L3 routing - creation of routers"" msgstr ""L3 routing - creation of routers"" msgid ""Linuxbridge"" msgstr ""Linuxbridge"" msgid """" ""Linuxbridge is the second type of Neutron reference architecture L2 agent. "" ""It is running on nodes labeled `linuxbridge=enabled`. As mentioned before, "" ""all nodes that are requiring the L2 services need to be labeled with "" ""linuxbridge. This includes both the compute and controller/network nodes. It "" ""is not possible to label the same node with both openvswitch and linuxbridge "" ""(or any other network virtualization technology) at the same time."" msgstr """" ""Linuxbridge is the second type of Neutron reference architecture L2 agent. "" ""It is running on nodes labeled `linuxbridge=enabled`. As mentioned before, "" ""all nodes that are requiring the L2 services need to be labelled with "" ""linuxbridge. This includes both the compute and controller/network nodes. It "" ""is not possible to label the same node with both openvswitch and linuxbridge "" ""(or any other network virtualisation technology) at the same time."" msgid ""Logging Mechanism"" msgstr ""Logging Mechanism"" msgid ""Logging Requirements"" msgstr ""Logging Requirements"" msgid ""Metadata - Provide proxy for Nova metadata service"" msgstr ""Metadata - Provide proxy for Nova metadata service"" msgid """" ""Metadata-agent is a proxy to nova-metadata service. This one provides "" ""information about public IP, hostname, ssh keys, and any tenant specific "" ""information. The same dependencies apply for metadata as it is for DHCP and "" ""L3 agents. Other SDNs may require to force the config driver in nova, since "" ""the metadata service is not exposed by it."" msgstr """" ""Metadata-agent is a proxy to nova-metadata service. This one provides "" ""information about public IP, hostname, ssh keys, and any tenant specific "" ""information. The same dependencies apply for metadata as it is for DHCP and "" ""L3 agents. Other SDNs may require to force the config driver in Nova, since "" ""the metadata service is not exposed by it."" msgid ""Networking"" msgstr ""Networking"" msgid ""Neutron architecture"" msgstr ""Neutron architecture"" msgid ""Neutron chart includes the following services:"" msgstr ""Neutron chart includes the following services:"" msgid """" ""Neutron-server service is scheduled on nodes with `openstack-control-"" ""plane=enabled` label."" msgstr """" ""Neutron-server service is scheduled on nodes with `openstack-control-"" ""plane=enabled` label."" msgid ""Node and node label specific daemonset configurations"" msgstr ""Node and node label specific daemonset configurations"" msgid ""Note that only one set of overrides is applied per node, such that:"" msgstr ""Note that only one set of overrides is applied per node, such that:"" msgid """" ""Note that some additional values have been injected into the config file, "" ""this is performed via statements in the configmap template, which also calls "" ""the ``helm-toolkit.utils.to_oslo_conf`` to convert the yaml to the required "" ""layout:"" msgstr """" ""Note that some additional values have been injected into the config file, "" ""this is performed via statements in the configmap template, which also calls "" ""the ``helm-toolkit.utils.to_oslo_conf`` to convert the yaml to the required "" ""layout:"" msgid """" ""Note: Rolling update values can conflict with values defined in each "" ""service's PodDisruptionBudget. See `here <https://docs.openstack.org/"" ""openstack-helm/latest/devref/pod-disruption-budgets.html>`_ for more "" ""information."" msgstr """" ""Note: Rolling update values can conflict with values defined in each "" ""service's PodDisruptionBudget. See `here <https://docs.openstack.org/"" ""openstack-helm/latest/devref/pod-disruption-budgets.html>`_ for more "" ""information."" msgid ""Nova config dependency"" msgstr ""Nova config dependency"" msgid ""Nova vcpu example"" msgstr ""Nova vCPU example"" msgid """" ""Now we can wrap the existing YAML to make it support node and nodelabel "" ""overrides, with minimal changes to the existing YAML (note where $secretName "" ""has been substituted):"" msgstr """" ""Now we can wrap the existing YAML to make it support node and nodelabel "" ""overrides, with minimal changes to the existing YAML (note where $secretName "" ""has been substituted):"" msgid ""OSLO-Config Values"" msgstr ""OSLO-Config Values"" msgid """" ""OpenStack-Helm defines a centralized logging mechanism to provide insight "" ""into the state of the OpenStack services and infrastructure components as "" ""well as underlying Kubernetes platform. Among the requirements for a logging "" ""platform, where log data can come from and where log data need to be "" ""delivered are very variable. To support various logging scenarios, OpenStack-"" ""Helm should provide a flexible mechanism to meet with certain operation "" ""needs."" msgstr """" ""OpenStack-Helm defines a centralized logging mechanism to provide insight "" ""into the state of the OpenStack services and infrastructure components as "" ""well as underlying Kubernetes platform. Among the requirements for a logging "" ""platform, where log data can come from and where log data need to be "" ""delivered are very variable. To support various logging scenarios, OpenStack-"" ""Helm should provide a flexible mechanism to meet with certain operation "" ""needs."" msgid """" ""OpenStack-Helm generates oslo-config compatible formatted configuration "" ""files for services dynamically from values specified in a yaml tree. This "" ""allows operators to control any and all aspects of an OpenStack services "" ""configuration. An example snippet for an imaginary Keystone configuration is "" ""described here:"" msgstr """" ""OpenStack-Helm generates oslo-config compatible formatted configuration "" ""files for services dynamically from values specified in a yaml tree. This "" ""allows operators to control any and all aspects of an OpenStack services "" ""configuration. An example snippet for an imaginary Keystone configuration is "" ""described here:"" msgid """" ""OpenStack-Helm leverages PodDisruptionBudgets to enforce quotas that ensure "" ""that a certain number of replicas of a pod are available at any given time. "" ""This is particularly important in the case when a Kubernetes node needs to "" ""be drained."" msgstr """" ""OpenStack-Helm leverages PodDisruptionBudgets to enforce quotas that ensure "" ""that a certain number of replicas of a pod are available at any given time. "" ""This is particularly important in the case when a Kubernetes node needs to "" ""be drained."" msgid """" ""OpenStack-Helm provides fast and lightweight log forwarder and full featured "" ""log aggregator complementing each other providing a flexible and reliable "" ""solution. Especially, Fluent-bit is used as a log forwarder and Fluentd is "" ""used as a main log aggregator and processor."" msgstr """" ""OpenStack-Helm provides fast and lightweight log forwarder and full featured "" ""log aggregator complementing each other providing a flexible and reliable "" ""solution. Especially, Fluent-bit is used as a log forwarder and Fluentd is "" ""used as a main log aggregator and processor."" msgid ""OpenVSwitch"" msgstr ""OpenVSwitch"" msgid ""Other SDNs"" msgstr ""Other SDNs"" msgid ""Other networking services provided by Neutron are:"" msgstr ""Other networking services provided by Neutron are:"" msgid ""Pod Disruption Budgets"" msgstr ""Pod Disruption Budgets"" msgid """" ""SDNs implementing ML2 driver can add extra/plugin-specific configuration "" ""options in `neutron/ml2/plugins/ml2_conf.ini`. Or define its own "" ""`ml2_conf_<name>.ini` file where configs specific to the SDN would be placed."" msgstr """" ""SDNs implementing ML2 driver can add extra/plugin-specific configuration "" ""options in `neutron/ml2/plugins/ml2_conf.ini`. Or define its own "" ""`ml2_conf_<name>.ini` file where configs specific to the SDN would be placed."" msgid """" ""Script in :code:`neutron/templates/bin/_neutron-openvswitch-agent-init.sh."" ""tpl` is responsible for determining the tunnel interface and its IP for "" ""later usage by :code:`neutron-ovs-agent`. The IP is set in init container "" ""and shared between init container and main container with :code:`neutron-ovs-"" ""agent` via file :code:`/tmp/pod-shared/ml2-local-ip.ini`."" msgstr """" ""Script in :code:`neutron/templates/bin/_neutron-openvswitch-agent-init.sh."" ""tpl` is responsible for determining the tunnel interface and its IP for "" ""later usage by :code:`neutron-ovs-agent`. The IP is set in init container "" ""and shared between init container and main container with :code:`neutron-ovs-"" ""agent` via file :code:`/tmp/pod-shared/ml2-local-ip.ini`."" msgid """" ""Some nodes may have a different vcpu_pin_set in nova.conf due to differences "" ""in CPU hardware."" msgstr """" ""Some nodes may have a different vcpu_pin_set in nova.conf due to differences "" ""in CPU hardware."" msgid """" ""Specify if new SDN would like to use existing services from Neutron: L3, "" ""DHCP, metadata."" msgstr """" ""Specify if new SDN would like to use existing services from Neutron: L3, "" ""DHCP, metadata."" msgid """" ""The Neutron reference architecture provides mechanism_drivers :code:"" ""`OpenVSwitch` (OVS) and :code:`linuxbridge` (LB) with ML2 :code:"" ""`core_plugin` framework."" msgstr """" ""The Neutron reference architecture provides mechanism_drivers :code:"" ""`OpenVSwitch` (OVS) and :code:`linuxbridge` (LB) with ML2 :code:"" ""`core_plugin` framework."" msgid """" ""The OpenStack-Helm project also implements annotations across all chart "" ""configmaps so that changing resources inside containers, such as "" ""configuration files, triggers a Kubernetes rolling update. This means that "" ""those resources can be updated without deleting and redeploying the service "" ""and can be treated like any other upgrade, such as a container image change."" msgstr """" ""The OpenStack-Helm project also implements annotations across all chart "" ""configmaps so that changing resources inside containers, such as "" ""configuration files, triggers a Kubernetes rolling update. This means that "" ""those resources can be updated without deleting and redeploying the service "" ""and can be treated like any other upgrade, such as a container image change."" msgid """" ""The OpenStack-Helm project assumes all upgrades will be done through Helm. "" ""This includes handling several different resource types. First, changes to "" ""the Helm chart templates themselves are handled. Second, all of the "" ""resources layered on top of the container image, such as ``ConfigMaps`` "" ""which includes both scripts and configuration files, are updated during an "" ""upgrade. Finally, any image references will result in rolling updates of "" ""containers, replacing them with the updating image."" msgstr """" ""The OpenStack-Helm project assumes all upgrades will be done through Helm. "" ""This includes handling several different resource types. First, changes to "" ""the Helm chart templates themselves are handled. Second, all of the "" ""resources layered on top of the container image, such as ``ConfigMaps`` "" ""which includes both scripts and configuration files, are updated during an "" ""upgrade. Finally, any image references will result in rolling updates of "" ""containers, replacing them with the updating image."" msgid """" ""The OpenStack-Helm project today uses a mix of Docker images from "" ""Stackanetes and Kolla, but will likely standardize on a default set of "" ""images for all charts without any reliance on image-specific utilities."" msgstr """" ""The OpenStack-Helm project today uses a mix of Docker images from "" ""Stackanetes and Kolla, but will likely standardise on a default set of "" ""images for all charts without any reliance on image-specific utilities."" msgid """" ""The ``hash`` function defined in the ``helm-toolkit`` chart ensures that any "" ""change to any file referenced by configmap-bin.yaml or configmap-etc.yaml "" ""results in a new hash, which will then trigger a rolling update."" msgstr """" ""The ``hash`` function defined in the ``helm-toolkit`` chart ensures that any "" ""change to any file referenced by configmap-bin.yaml or configmap-etc.yaml "" ""results in a new hash, which will then trigger a rolling update."" msgid ""The above configuration options are handled by `neutron/values.yaml`:"" msgstr ""The above configuration options are handled by `neutron/values.yaml`:"" msgid """" ""The chart will then generate one daemonset for each host and label override, "" ""in addition to a default daemonset for which no overrides are applied. Each "" ""daemonset generated will also exclude from its scheduling criteria all other "" ""hosts and labels defined in other overrides for the same daemonset, to "" ""ensure that there is no overlap of daemonsets (i.e., one and only one "" ""daemonset of a given type for each node)."" msgstr """" ""The chart will then generate one daemonset for each host and label override, "" ""in addition to a default daemonset for which no overrides are applied. Each "" ""daemonset generated will also exclude from its scheduling criteria all other "" ""hosts and labels defined in other overrides for the same daemonset, to "" ""ensure that there is no overlap of daemonsets (i.e., one and only one "" ""daemonset of a given type for each node)."" msgid """" ""The farther down the list the label appears, the greater precedence it has. "" ""e.g., \""another-label\"" overrides will apply to a node containing both "" ""labels."" msgstr """" ""The farther down the list the label appears, the greater precedence it has. "" ""e.g., \""another-label\"" overrides will apply to a node containing both "" ""labels."" msgid """" ""The following example demonstrates how to exercise the node/nodelabel "" ""overrides:"" msgstr """" ""The following example demonstrates how to exercise the node/nodelabel "" ""overrides:"" msgid """" ""The following standards are in use today, in addition to any components "" ""defined by the service itself:"" msgstr """" ""The following standards are in use today, in addition to any components "" ""defined by the service itself:"" msgid """" ""The macros that help translate these into the actual URLs necessary are "" ""defined in the ``helm-toolkit`` chart. For instance, the cinder chart "" ""defines a ``glance_api_servers`` definition in the ``cinder.conf`` template:"" msgstr """" ""The macros that help translate these into the actual URLs necessary are "" ""defined in the ``helm-toolkit`` chart. For instance, the Cinder chart "" ""defines a ``glance_api_servers`` definition in the ``cinder.conf`` template:"" msgid """" ""The order of precedence for matches is FQDN, node label, and then default. "" ""If a node matches both a FQDN and a nodelabel, then only the FQDN override "" ""is applied. Pay special attention to adding FQDN overrides for nodes that "" ""match a nodelabel override, as you would need to duplicate the nodelabel "" ""overrides for that node in the FQDN overrides for them to still apply."" msgstr """" ""The order of precedence for matches is FQDN, node label, and then default. "" ""If a node matches both a FQDN and a nodelabel, then only the FQDN override "" ""is applied. Pay special attention to adding FQDN overrides for nodes that "" ""match a nodelabel override, as you would need to duplicate the nodelabel "" ""overrides for that node in the FQDN overrides for them to still apply."" msgid """" ""The ovs set of daemonsets are running on the node labeled "" ""`openvswitch=enabled`. This includes the compute and controller/network "" ""nodes. For more flexibility, OpenVSwitch as a tool was split out of Neutron "" ""chart, and put in separate chart dedicated OpenVSwitch. Neutron OVS agent "" ""remains in Neutron chart. Splitting out the OpenVSwitch creates "" ""possibilities to use it with different SDNs, adjusting the configuration "" ""accordingly."" msgstr """" ""The OVS set of daemonsets are running on the node labeled "" ""`openvswitch=enabled`. This includes the compute and controller/network "" ""nodes. For more flexibility, OpenVSwitch as a tool was split out of Neutron "" ""chart, and put in separate chart dedicated OpenVSwitch. Neutron OVS agent "" ""remains in Neutron chart. Splitting out the OpenVSwitch creates "" ""possibilities to use it with different SDNs, adjusting the configuration "" ""accordingly."" msgid """" ""The project's core philosophy regarding images is that the toolsets required "" ""to enable the OpenStack services should be applied by Kubernetes itself. "" ""This requires OpenStack-Helm to develop common and simple scripts with "" ""minimal dependencies that can be overlaid on any image that meets the "" ""OpenStack core library requirements. The advantage of this is that the "" ""project can be image agnostic, allowing operators to use Stackanetes, Kolla, "" ""LOCI, or any image flavor and format they choose and they will all function "" ""the same."" msgstr """" ""The project's core philosophy regarding images is that the toolsets required "" ""to enable the OpenStack services should be applied by Kubernetes itself. "" ""This requires OpenStack-Helm to develop common and simple scripts with "" ""minimal dependencies that can be overlaid on any image that meets the "" ""OpenStack core library requirements. The advantage of this is that the "" ""project can be image agnostic, allowing operators to use Stackanetes, Kolla, "" ""LOCI, or any image flavour and format they choose and they will all function "" ""the same."" msgid """" ""The project's goal is to provide a consistent mechanism for endpoints. "" ""OpenStack is a highly interconnected application, with various components "" ""requiring connectivity details to numerous services, including other "" ""OpenStack components and infrastructure elements such as databases, queues, "" ""and memcached infrastructure. The project's goal is to ensure that it can "" ""provide a consistent mechanism for defining these \""endpoints\"" across all "" ""charts and provide the macros necessary to convert those definitions into "" ""usable endpoints. The charts should consistently default to building "" ""endpoints that assume the operator is leveraging all charts to build their "" ""OpenStack cloud. Endpoints should be configurable if an operator would like "" ""a chart to work with their existing infrastructure or run elements in "" ""different namespaces."" msgstr """" ""The project's goal is to provide a consistent mechanism for endpoints. "" ""OpenStack is a highly interconnected application, with various components "" ""requiring connectivity details to numerous services, including other "" ""OpenStack components and infrastructure elements such as databases, queues, "" ""and memcached infrastructure. The project's goal is to ensure that it can "" ""provide a consistent mechanism for defining these \""endpoints\"" across all "" ""charts and provide the macros necessary to convert those definitions into "" ""usable endpoints. The charts should consistently default to building "" ""endpoints that assume the operator is leveraging all charts to build their "" ""OpenStack cloud. Endpoints should be configurable if an operator would like "" ""a chart to work with their existing infrastructure or run elements in "" ""different namespaces."" msgid """" ""The resulting logs can then be queried directly through Elasticsearch, or "" ""they can be viewed via Kibana. Kibana offers a dashboard that can create "" ""custom views on logged events, and Kibana integrates well with Elasticsearch "" ""by default."" msgstr """" ""The resulting logs can then be queried directly through Elasticsearch, or "" ""they can be viewed via Kibana. Kibana offers a dashboard that can create "" ""custom views on logged events, and Kibana integrates well with Elasticsearch "" ""by default."" msgid """" ""There is also a need for DHCP agent to pass ovs agent config file (in :code:"" ""`neutron/templates/bin/_neutron-dhcp-agent.sh.tpl`):"" msgstr """" ""There is also a need for DHCP agent to pass OVS agent config file (in :code:"" ""`neutron/templates/bin/_neutron-dhcp-agent.sh.tpl`):"" msgid """" ""These quotas are configurable by modifying the ``minAvailable`` field within "" ""each PodDisruptionBudget manifest, which is conveniently mapped to a "" ""templated variable inside the ``values.yaml`` file. The ``min_available`` "" ""within each service's ``values.yaml`` file can be represented by either a "" ""whole number, such as ``1``, or a percentage, such as ``80%``. For example, "" ""when deploying 5 replicas of a pod (such as keystone-api), using "" ""``min_available: 3`` would enforce policy to ensure at least 3 replicas were "" ""running, whereas using ``min_available: 80%`` would ensure that 4 replicas "" ""of that pod are running."" msgstr """" ""These quotas are configurable by modifying the ``minAvailable`` field within "" ""each PodDisruptionBudget manifest, which is conveniently mapped to a "" ""templated variable inside the ``values.yaml`` file. The ``min_available`` "" ""within each service's ``values.yaml`` file can be represented by either a "" ""whole number, such as ``1``, or a percentage, such as ``80%``. For example, "" ""when deploying 5 replicas of a pod (such as keystone-api), using "" ""``min_available: 3`` would enforce policy to ensure at least 3 replicas were "" ""running, whereas using ``min_available: 80%`` would ensure that 4 replicas "" ""of that pod are running."" msgid """" ""These values define all the endpoints that the Neutron chart may need in "" ""order to build full URL compatible endpoints to various services. Long-term, "" ""these will also include database, memcached, and rabbitmq elements in one "" ""place. Essentially, all external connectivity can be defined centrally."" msgstr """" ""These values define all the endpoints that the Neutron chart may need in "" ""order to build full URL compatible endpoints to various services. Long-term, "" ""these will also include database, memcached, and rabbitmq elements in one "" ""place. Essentially, all external connectivity can be defined centrally."" msgid """" ""This daemonset includes the linuxbridge Neutron agent with bridge-utils and "" ""ebtables utilities installed. This is all that is needed, since linuxbridge "" ""uses native kernel libraries."" msgstr """" ""This daemonset includes the linuxbridge Neutron agent with bridge-utils and "" ""ebtables utilities installed. This is all that is needed, since linuxbridge "" ""uses native kernel libraries."" msgid ""This is accomplished with the following annotation:"" msgstr ""This is accomplished with the following annotation:"" msgid """" ""This option will allow to configure the Neutron services in proper way, by "" ""checking what is the actual backed set in :code:`neutron/values.yaml`."" msgstr """" ""This option will allow to configure the Neutron services in proper way, by "" ""checking what is the actual backed set in :code:`neutron/values.yaml`."" msgid """" ""This requirement is OVS specific, the `ovsdb_connection` string is defined "" ""in `openvswitch_agent.ini` file, specifying how DHCP agent can connect to "" ""ovs. When using other SDNs, running the DHCP agent may not be required. When "" ""the SDN solution is addressing the IP assignments in another way, neutron's "" ""DHCP agent should be disabled."" msgstr """" ""This requirement is OVS specific, the `ovsdb_connection` string is defined "" ""in `openvswitch_agent.ini` file, specifying how DHCP agent can connect to "" ""ovs. When using other SDNs, running the DHCP agent may not be required. When "" ""the SDN solution is addressing the IP assignments in another way, neutron's "" ""DHCP agent should be disabled."" msgid """" ""This runs the OVS tool and database. OpenVSwitch chart is not Neutron "" ""specific, it may be used with other technologies that are leveraging the OVS "" ""technology, such as OVN or ODL."" msgstr """" ""This runs the OVS tool and database. OpenVSwitch chart is not Neutron "" ""specific, it may be used with other technologies that are leveraging the OVS "" ""technology, such as OVN or ODL."" msgid """" ""This will be consumed by the templated ``configmap-etc.yaml`` manifest to "" ""produce the following config file:"" msgstr """" ""This will be consumed by the templated ``configmap-etc.yaml`` manifest to "" ""produce the following config file:"" msgid """" ""To address this use-case, the ``helm-toolkit.utils.daemonset_overrides`` "" ""template was added in helm-toolkit. This was created with the intention that "" ""it should be straightforward to convert (wrap) a pre-existing daemonset with "" ""the functionality to override secret parameters on a per-node or per-"" ""nodelabel basis."" msgstr """" ""To address this use-case, the ``helm-toolkit.utils.daemonset_overrides`` "" ""template was added in helm-toolkit. This was created with the intention that "" ""it should be straightforward to convert (wrap) a pre-existing daemonset with "" ""the functionality to override secret parameters on a per-node or per-"" ""nodelabel basis."" msgid """" ""To address this, we can specify overrides in the values fed to the chart. Ex:"" msgstr """" ""To address this, we can specify overrides in the values fed to the chart. Ex:"" msgid """" ""To be able to configure multiple networking plugins inside of OpenStack-"" ""Helm, a new configuration option is added:"" msgstr """" ""To be able to configure multiple networking plugins inside of OpenStack-"" ""Helm, a new configuration option is added:"" msgid """" ""To enable new SDN solution, there should be separate chart created, which "" ""would handle the deployment of service, setting up the database and any "" ""related networking functionality that SDN is providing."" msgstr """" ""To enable new SDN solution, there should be separate chart created, which "" ""would handle the deployment of service, setting up the database and any "" ""related networking functionality that SDN is providing."" msgid """" ""To that end, all charts provide an ``images:`` section that allows operators "" ""to override images. Also, all default image references should be fully "" ""spelled out, even those hosted by Docker or Quay. Further, no default image "" ""reference should use ``:latest`` but rather should be pinned to a specific "" ""version to ensure consistent behavior for deployments over time."" msgstr """" ""To that end, all charts provide an ``images:`` section that allows operators "" ""to override images. Also, all default image references should be fully "" ""spelled out, even those hosted by Docker or Quay. Further, no default image "" ""reference should use ``:latest`` but rather should be pinned to a specific "" ""version to ensure consistent behaviour for deployments over time."" msgid """" ""To use other Neutron reference architecture types of SDN, these options "" ""should be configured in :code:`neutron.conf`:"" msgstr """" ""To use other Neutron reference architecture types of SDN, these options "" ""should be configured in :code:`neutron.conf`:"" msgid """" ""Today, the ``images:`` section has several common conventions. Most "" ""OpenStack services require a database initialization function, a database "" ""synchronization function, and a series of steps for Keystone registration "" ""and integration. Each component may also have a specific image that composes "" ""an OpenStack service. The images may or may not differ, but regardless, "" ""should all be defined in ``images``."" msgstr """" ""Today, the ``images:`` section has several common conventions. Most "" ""OpenStack services require a database initialization function, a database "" ""synchronization function, and a series of steps for Keystone registration "" ""and integration. Each component may also have a specific image that composes "" ""an OpenStack service. The images may or may not differ, but regardless, "" ""should all be defined in ``images``."" msgid ""Typical networking API request is an operation of create/update/delete:"" msgstr """" ""Typical networking API request is an operation of create/update/delete:"" msgid ""Upgrades and Reconfiguration"" msgstr ""Upgrades and Reconfiguration"" msgid """" ""Whenever we change the L2 agent, it should be reflected in `nova/values."" ""yaml` in dependency resolution for nova-compute."" msgstr """" ""Whenever we change the L2 agent, it should be reflected in `nova/values."" ""yaml` in dependency resolution for nova-compute."" msgid """" ""Your daemonset should now support node and nodelabl level overrides. (Note "" ""that you will also need your chart to have helm-toolkit listed as a "" ""dependency.)"" msgstr """" ""Your daemonset should now support node and nodelabel level overrides. (Note "" ""that you will also need your chart to have helm-toolkit listed as a "" ""dependency.)"" msgid """" ""``host1.fqdn`` with labels ``compute-type: dpdk, sriov`` and ``another-"" ""label: another-value``:"" msgstr """" ""``host1.fqdn`` with labels ``compute-type: dpdk, sriov`` and ``another-"" ""label: another-value``:"" msgid """" ""``host2.fqdn`` with labels ``compute-type: dpdk, sriov`` and ``another-"" ""label: another-value``:"" msgstr """" ""``host2.fqdn`` with labels ``compute-type: dpdk, sriov`` and ``another-"" ""label: another-value``:"" msgid """" ""``host3.fqdn`` with labels ``compute-type: dpdk, sriov`` and ``another-"" ""label: another-value``:"" msgstr """" ""``host3.fqdn`` with labels ``compute-type: dpdk, sriov`` and ``another-"" ""label: another-value``:"" msgid ""``host4.fqdn`` with labels ``compute-type: dpdk, sriov``:"" msgstr ""``host4.fqdn`` with labels ``compute-type: dpdk, sriov``:"" msgid ""``host5.fqdn`` with no labels:"" msgstr ""``host5.fqdn`` with no labels:"" msgid """" ""api: This is the port to map to for the service. Some components, such as "" ""glance, provide an ``api`` port and a ``registry`` port, for example."" msgstr """" ""api: This is the port to map to for the service. Some components, such as "" ""glance, provide an ``api`` port and a ``registry`` port, for example."" msgid """" ""db\\_drop: The image that will perform database deletion operations for the "" ""OpenStack service."" msgstr """" ""db\\_drop: The image that will perform database deletion operations for the "" ""OpenStack service."" msgid """" ""db\\_init: The image that will perform database creation operations for the "" ""OpenStack service."" msgstr """" ""db\\_init: The image that will perform database creation operations for the "" ""OpenStack service."" msgid """" ""db\\_sync: The image that will perform database sync (schema initialization "" ""and migration) for the OpenStack service."" msgstr """" ""db\\_sync: The image that will perform database sync (schema initialisation "" ""and migration) for the OpenStack service."" msgid """" ""dep\\_check: The image that will perform dependency checking in an init-"" ""container."" msgstr """" ""dep\\_check: The image that will perform dependency checking in an init-"" ""container."" msgid """" ""image: This is the OpenStack service that the endpoint is being built for. "" ""This will be mapped to ``glance`` which is the image service for OpenStack."" msgstr """" ""image: This is the OpenStack service that the endpoint is being built for. "" ""This will be mapped to ``glance`` which is the image service for OpenStack."" msgid """" ""internal: This is the OpenStack endpoint type we are looking for - valid "" ""values would be ``internal``, ``admin``, and ``public``"" msgstr """" ""internal: This is the OpenStack endpoint type we are looking for - valid "" ""values would be ``internal``, ``admin``, and ``public``"" msgid """" ""ks\\_endpoints: The image that will perform keystone endpoint registration "" ""for the service."" msgstr """" ""ks\\_endpoints: The image that will perform Keystone endpoint registration "" ""for the service."" msgid """" ""ks\\_service: The image that will perform keystone service registration for "" ""the service."" msgstr """" ""ks\\_service: The image that will perform Keystone service registration for "" ""the service."" msgid """" ""ks\\_user: The image that will perform keystone user creation for the "" ""service."" msgstr """" ""ks\\_user: The image that will perform Keystone user creation for the "" ""service."" msgid ""network"" msgstr ""network"" msgid ""neutron-dhcp-agent"" msgstr ""neutron-dhcp-agent"" msgid """" ""neutron-dhcp-agent service is scheduled to run on nodes with the label "" ""`openstack-control-plane=enabled`."" msgstr """" ""neutron-dhcp-agent service is scheduled to run on nodes with the label "" ""`openstack-control-plane=enabled`."" msgid ""neutron-l3-agent"" msgstr ""neutron-l3-agent"" msgid """" ""neutron-l3-agent service is scheduled to run on nodes with the label "" ""`openstack-control-plane=enabled`."" msgstr """" ""neutron-l3-agent service is scheduled to run on nodes with the label "" ""`openstack-control-plane=enabled`."" msgid ""neutron-lb-agent"" msgstr ""neutron-lb-agent"" msgid ""neutron-metadata-agent"" msgstr ""neutron-metadata-agent"" msgid """" ""neutron-metadata-agent service is scheduled to run on nodes with the label "" ""`openstack-control-plane=enabled`."" msgstr """" ""neutron-metadata-agent service is scheduled to run on nodes with the label "" ""`openstack-control-plane=enabled`."" msgid ""neutron-ovs-agent"" msgstr ""neutron-ovs-agent"" msgid ""neutron-server"" msgstr ""neutron-server"" msgid """" ""neutron-server is serving the networking REST API for operator and other "" ""OpenStack services usage. The internals of Neutron are highly flexible, "" ""providing plugin mechanisms for all networking services exposed. The "" ""consistent API is exposed to the user, but the internal implementation is up "" ""to the chosen SDN."" msgstr """" ""neutron-server is serving the networking REST API for operator and other "" ""OpenStack services usage. The internals of Neutron are highly flexible, "" ""providing plugin mechanisms for all networking services exposed. The "" ""consistent API is exposed to the user, but the internal implementation is up "" ""to the chosen SDN."" msgid ""openvswitch-db and openvswitch-vswitchd"" msgstr ""openvswitch-db and openvswitch-vswitchd"" msgid ""port"" msgstr ""port"" msgid """" ""pull\\_policy: The image pull policy, one of \""Always\"", \""IfNotPresent\"", "" ""and \""Never\"" which will be used by all containers in the chart."" msgstr """" ""pull\\_policy: The image pull policy, one of \""Always\"", \""IfNotPresent\"", "" ""and \""Never\"" which will be used by all containers in the chart."" msgid ""subnet"" msgstr ""subnet"" ",,1180,0
openstack%2Fnova~master~I617fd59de327de05a198f12b75a381f21945afb0,openstack/nova,master,I617fd59de327de05a198f12b75a381f21945afb0,Lowercase ironic driver hash ring and ignore case in cache,MERGED,2020-03-06 17:44:49.000000000,2020-03-19 09:17:39.000000000,2020-03-18 20:50:55.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-06 17:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4281bcfeded92eda9941349bc81d036490270ab5', 'message': ""Add logging of ironic driver hash ring to aid in debugging\n\nRecently we had a customer case where attempts to add new ironic nodes\nto an existing undercloud resulted in half of the nodes failing to be\ndetected and added to nova. Ironic API returned all of the newly added\nnodes when called by the driver, but half of the nodes were not\nreturned to the compute manager by the driver.\n\nThere was only one nova-compute service managing all of the ironic\nnodes of the all-in-one typical undercloud deployment.\n\nAfter days of investigation and examination of a database dump from the\ncustomer, we noticed that at some point the customer had changed the\nhostname of the machine from something containing uppercase letters to\nthe same name but all lowercase. The nova-compute service record had\nthe mixed case name and the CONF.host (socket.gethostname()) had the\nlowercase name.\n\nThe hash ring logic adds all of the nova-compute service hostnames plus\nCONF.host to hash ring, then the ironic driver reports only the nodes\nit owns by retrieving a service hostname from the ring based on a hash\nof each ironic node UUID.\n\nBecause of the machine hostname change, the hash ring contained, for\nexample: {'MachineHostName', 'machinehostname'} when it should have\ncontained only one hostname. And because the hash ring contained two\nhostnames, the driver was able to retrieve only half of the nodes as\nnodes that it owned. So half of the new nodes were excluded and not\nadded as new compute nodes.\n\nThis adds logging of the size of the hash ring at level INFO and the\nset of hash ring members at level DEBUG to help enable easier debugging\nof situations like this in the future.\n\nCloses-Bug: #1866380\n\nChange-Id: I617fd59de327de05a198f12b75a381f21945afb0\n""}, {'number': 2, 'created': '2020-03-06 18:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fec91669e3eab222b78d09c70b88236e0632720', 'message': ""Lowercase ironic driver hash ring hosts and add logging\n\nRecently we had a customer case where attempts to add new ironic nodes\nto an existing undercloud resulted in half of the nodes failing to be\ndetected and added to nova. Ironic API returned all of the newly added\nnodes when called by the driver, but half of the nodes were not\nreturned to the compute manager by the driver.\n\nThere was only one nova-compute service managing all of the ironic\nnodes of the all-in-one typical undercloud deployment.\n\nAfter days of investigation and examination of a database dump from the\ncustomer, we noticed that at some point the customer had changed the\nhostname of the machine from something containing uppercase letters to\nthe same name but all lowercase. The nova-compute service record had\nthe mixed case name and the CONF.host (socket.gethostname()) had the\nlowercase name.\n\nThe hash ring logic adds all of the nova-compute service hostnames plus\nCONF.host to hash ring, then the ironic driver reports only the nodes\nit owns by retrieving a service hostname from the ring based on a hash\nof each ironic node UUID.\n\nBecause of the machine hostname change, the hash ring contained, for\nexample: {'MachineHostName', 'machinehostname'} when it should have\ncontained only one hostname. And because the hash ring contained two\nhostnames, the driver was able to retrieve only half of the nodes as\nnodes that it owned. So half of the new nodes were excluded and not\nadded as new compute nodes.\n\nThis adds lowercasing of hosts that are added to the hash ring to avoid\nunnecessary pain and confusion for users that make hostname changes\nthat are otherwise functionally harmless.\n\nThis also adds logging of the size of the hash ring at level INFO and\nthe set of hash ring members at level DEBUG to help enable easier\ndebugging of hash ring related situations.\n\nCloses-Bug: #1866380\n\nChange-Id: I617fd59de327de05a198f12b75a381f21945afb0\n""}, {'number': 3, 'created': '2020-03-06 23:32:42.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7145100ee4e732caa532d614e2149ef2a545287a', 'message': ""Lowercase ironic driver hash ring and ignore case in cache\n\nRecently we had a customer case where attempts to add new ironic nodes\nto an existing undercloud resulted in half of the nodes failing to be\ndetected and added to nova. Ironic API returned all of the newly added\nnodes when called by the driver, but half of the nodes were not\nreturned to the compute manager by the driver.\n\nThere was only one nova-compute service managing all of the ironic\nnodes of the all-in-one typical undercloud deployment.\n\nAfter days of investigation and examination of a database dump from the\ncustomer, we noticed that at some point the customer had changed the\nhostname of the machine from something containing uppercase letters to\nthe same name but all lowercase. The nova-compute service record had\nthe mixed case name and the CONF.host (socket.gethostname()) had the\nlowercase name.\n\nThe hash ring logic adds all of the nova-compute service hostnames plus\nCONF.host to hash ring, then the ironic driver reports only the nodes\nit owns by retrieving a service hostname from the ring based on a hash\nof each ironic node UUID.\n\nBecause of the machine hostname change, the hash ring contained, for\nexample: {'MachineHostName', 'machinehostname'} when it should have\ncontained only one hostname. And because the hash ring contained two\nhostnames, the driver was able to retrieve only half of the nodes as\nnodes that it owned. So half of the new nodes were excluded and not\nadded as new compute nodes.\n\nThis adds lowercasing of hosts that are added to the hash ring and\nignores case when comparing the CONF.host to the hash ring members\nto avoid unnecessary pain and confusion for users that make hostname\nchanges that are otherwise functionally harmless.\n\nThis also adds logging of the set of hash ring members at level DEBUG\nto help enable easier debugging of hash ring related situations.\n\nCloses-Bug: #1866380\n\nChange-Id: I617fd59de327de05a198f12b75a381f21945afb0\n""}]",4,711680,7145100ee4e732caa532d614e2149ef2a545287a,54,16,3,4690,,,0,"Lowercase ironic driver hash ring and ignore case in cache

Recently we had a customer case where attempts to add new ironic nodes
to an existing undercloud resulted in half of the nodes failing to be
detected and added to nova. Ironic API returned all of the newly added
nodes when called by the driver, but half of the nodes were not
returned to the compute manager by the driver.

There was only one nova-compute service managing all of the ironic
nodes of the all-in-one typical undercloud deployment.

After days of investigation and examination of a database dump from the
customer, we noticed that at some point the customer had changed the
hostname of the machine from something containing uppercase letters to
the same name but all lowercase. The nova-compute service record had
the mixed case name and the CONF.host (socket.gethostname()) had the
lowercase name.

The hash ring logic adds all of the nova-compute service hostnames plus
CONF.host to hash ring, then the ironic driver reports only the nodes
it owns by retrieving a service hostname from the ring based on a hash
of each ironic node UUID.

Because of the machine hostname change, the hash ring contained, for
example: {'MachineHostName', 'machinehostname'} when it should have
contained only one hostname. And because the hash ring contained two
hostnames, the driver was able to retrieve only half of the nodes as
nodes that it owned. So half of the new nodes were excluded and not
added as new compute nodes.

This adds lowercasing of hosts that are added to the hash ring and
ignores case when comparing the CONF.host to the hash ring members
to avoid unnecessary pain and confusion for users that make hostname
changes that are otherwise functionally harmless.

This also adds logging of the set of hash ring members at level DEBUG
to help enable easier debugging of hash ring related situations.

Closes-Bug: #1866380

Change-Id: I617fd59de327de05a198f12b75a381f21945afb0
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/711680/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,4281bcfeded92eda9941349bc81d036490270ab5,bug/1866380," @mock.patch('nova.virt.ironic.driver.LOG.info') @mock.patch('nova.virt.ironic.driver.LOG.debug') def test__refresh_hash_ring_many_computes(self, mock_log_debug, mock_log_info): expected_msg = ('Refreshed hash ring contains %s nova-compute ' 'services') mock_log_info.assert_called_once_with(expected_msg, 3) expected_msg = 'Hash ring members are %s' mock_log_debug.assert_called_once_with(expected_msg, set(services))", def test__refresh_hash_ring_many_computes(self):,12,1
openstack%2Fkolla-ansible~stable%2Ftrain~Id65ada7cd6766d3a907a5a1da54978b56319979c,openstack/kolla-ansible,stable/train,Id65ada7cd6766d3a907a5a1da54978b56319979c,Ironic: fix documentation,MERGED,2020-02-11 10:04:30.000000000,2020-03-19 08:39:24.000000000,2020-02-13 16:43:19.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-11 10:04:30.000000000', 'files': ['doc/source/reference/bare-metal/ironic-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e00053fee54251c6c74fce55583d59314e92db2e', 'message': 'Ironic: fix documentation\n\nBackport: train\n\n* Ironic dropped CoreOS IPA images in Train - use CentOS DIB images\n* Nova flavor requires dropping standard resources\n* Link to sections in ironic docs\n\nPartial-Bug: #1862628\nChange-Id: Id65ada7cd6766d3a907a5a1da54978b56319979c\n(cherry picked from commit a8529db5fc131ffdb961a2bf113f6c7f1c3be978)\n'}]",0,707090,e00053fee54251c6c74fce55583d59314e92db2e,9,3,1,14826,,,0,"Ironic: fix documentation

Backport: train

* Ironic dropped CoreOS IPA images in Train - use CentOS DIB images
* Nova flavor requires dropping standard resources
* Link to sections in ironic docs

Partial-Bug: #1862628
Change-Id: Id65ada7cd6766d3a907a5a1da54978b56319979c
(cherry picked from commit a8529db5fc131ffdb961a2bf113f6c7f1c3be978)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/707090/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/bare-metal/ironic-guide.rst'],1,e00053fee54251c6c74fce55583d59314e92db2e,,"Ironic works well in Kolla, though it is not thoroughly tested as part of Kolla $ curl https://tarballs.openstack.org/ironic-python-agent/dib/files/ipa-centos7-master.kernel \ $ curl https://tarballs.openstack.org/ironic-python-agent/dib/files/ipa-centos7-master.initramfs \The :ironic-doc:`Ironic documentation <install/configure-glance-images>` describes how to create the deploy kernel and ramdisk and register them with Glance. In this example we're reusing the same images that were fetched for the Inspector:The :ironic-doc:`Ironic documentation <install/configure-nova-flavors>` describes how to create Nova flavors for bare metal. For example: resources:CUSTOM_BAREMETAL_RESOURCE_CLASS=1 \ resources:resources:VCPU=0 \ resources:resources:MEMORY_MB=0 \ resources:resources:DISK_GB=0 The :ironic-doc:`Ironic documentation <install/enrollment>` describes how to enroll baremetal nodes and ports. In the following example ensure to substitute correct values for the kernel, ramdisk, and MAC address for your baremetal node.","Ironic works well in Kolla, though it is not currently tested as part of Kolla $ curl https://tarballs.openstack.org/ironic-python-agent/coreos/files/coreos_production_pxe.vmlinuz \ $ curl https://tarballs.openstack.org/ironic-python-agent/coreos/files/coreos_production_pxe_image-oem.cpio.gz \Add the deploy kernel and ramdisk to Glance. Here we're reusing the same images that were fetched for the Inspector:Create a baremetal flavor: resources:CUSTOM_BAREMETAL_RESOURCE_CLASS=1 Create the baremetal node and associate a port. (Ensure to substitute correct values for the kernel, ramdisk, and MAC address for your baremetal node)",17,9
openstack%2Fxstatic-bootstrap-scss~master~I38c8d1114fd6e6629b4f3a16a85e3e35d8d8d3d6,openstack/xstatic-bootstrap-scss,master,I38c8d1114fd6e6629b4f3a16a85e3e35d8d8d3d6,Upgrade to 3.4.1,MERGED,2020-03-02 20:27:00.000000000,2020-03-19 07:35:08.000000000,2020-03-19 07:35:08.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-03-02 20:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-bootstrap-scss/commit/9d18e11c345bed51aec25da87c8d856befa7a58e', 'message': 'Upgrade to 3.4.1\n\nChange-Id: I38c8d1114fd6e6629b4f3a16a85e3e35d8d8d3d6\n'}, {'number': 2, 'created': '2020-03-03 08:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-bootstrap-scss/commit/bc89a85497b58949a3442ec61331c092fed93ab8', 'message': 'Upgrade to 3.4.1\n\nChange-Id: I38c8d1114fd6e6629b4f3a16a85e3e35d8d8d3d6\n'}, {'number': 3, 'created': '2020-03-16 14:01:36.000000000', 'files': ['xstatic/pkg/bootstrap_scss/data/js/bootstrap/popover.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_carousel.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_popovers.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_border-radius.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_alerts.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap.min.js', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/tooltip.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_grid.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_wells.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_forms.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_breadcrumbs.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_responsive-utilities.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_button-groups.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_responsive-embed.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_image.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_variables.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_navbar.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_progress-bars.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_type.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_theme.scss', 'README.txt', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/alert.js', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap.js', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/affix.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_clearfix.scss', 'UPGRADING', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/collapse.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_pager.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_modals.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_input-groups.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/carousel.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_grid.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_list-group.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_center-block.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_panels.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_tables.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_vendor-prefixes.scss', 'setup.cfg', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_opacity.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_glyphicons.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_alerts.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_resize.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/tab.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_thumbnails.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_media.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_tooltip.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_grid-framework.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_close.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/button.js', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/scrollspy.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_badges.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_labels.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_code.scss', 'xstatic/pkg/bootstrap_scss/__init__.py', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/dropdown.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_component-animations.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_buttons.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_gradients.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_buttons.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_normalize.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_scaffolding.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap-sprockets.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_navs.scss', 'xstatic/pkg/bootstrap_scss/data/scss/_bootstrap.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_dropdowns.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_forms.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_print.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_responsive-visibility.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_jumbotron.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_reset-text.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/transition.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_pagination.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/modal.js'], 'web_link': 'https://opendev.org/openstack/xstatic-bootstrap-scss/commit/1ba0b953862e953a8af9fc8a0f1c9ff372b169cf', 'message': 'Upgrade to 3.4.1\n\nChange-Id: I38c8d1114fd6e6629b4f3a16a85e3e35d8d8d3d6\n'}]",0,710865,1ba0b953862e953a8af9fc8a0f1c9ff372b169cf,11,3,3,8648,,,0,"Upgrade to 3.4.1

Change-Id: I38c8d1114fd6e6629b4f3a16a85e3e35d8d8d3d6
",git fetch https://review.opendev.org/openstack/xstatic-bootstrap-scss refs/changes/65/710865/1 && git format-patch -1 --stdout FETCH_HEAD,"['xstatic/pkg/bootstrap_scss/data/js/bootstrap/popover.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_carousel.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_popovers.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_border-radius.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_alerts.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap.min.js', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/tooltip.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_grid.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_wells.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_forms.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_breadcrumbs.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_responsive-utilities.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_button-groups.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_responsive-embed.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_image.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_variables.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_navbar.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_progress-bars.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_type.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_theme.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/alert.js', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap.js', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/affix.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_clearfix.scss', 'UPGRADING', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/collapse.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_pager.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_modals.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_input-groups.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/carousel.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_grid.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_list-group.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_center-block.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_panels.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_tables.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_vendor-prefixes.scss', 'setup.cfg', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_opacity.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_glyphicons.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_alerts.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_resize.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/tab.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_thumbnails.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_media.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_tooltip.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_grid-framework.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_close.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/button.js', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/scrollspy.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_badges.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_labels.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_code.scss', 'xstatic/pkg/bootstrap_scss/__init__.py', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/dropdown.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_component-animations.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_buttons.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_gradients.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_buttons.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_normalize.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_scaffolding.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap-sprockets.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_navs.scss', 'xstatic/pkg/bootstrap_scss/data/scss/_bootstrap.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_dropdowns.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_forms.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_print.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_responsive-visibility.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_jumbotron.scss', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/mixins/_reset-text.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/transition.js', 'xstatic/pkg/bootstrap_scss/data/scss/bootstrap/_pagination.scss', 'xstatic/pkg/bootstrap_scss/data/js/bootstrap/modal.js']",72,9d18e11c345bed51aec25da87c8d856befa7a58e,," * Bootstrap: modal.js v3.4.1 * https://getbootstrap.com/docs/3.4/javascript/#modals * Copyright 2011-2019 Twitter, Inc. this.options = options this.$body = $(document.body) this.$element = $(element) this.$dialog = this.$element.find('.modal-dialog') this.$backdrop = null this.isShown = null this.originalBodyPad = null this.scrollbarWidth = 0 this.fixedContent = '.navbar-fixed-top, .navbar-fixed-bottom' Modal.VERSION = '3.4.1' var e = $.Event('show.bs.modal', { relatedTarget: _relatedTarget }) this.$element[0] !== e.target && !this.$element.has(e.target).length) { paddingLeft: !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '', var scrollbarWidth = this.scrollbarWidth if (this.bodyIsOverflowing) { this.$body.css('padding-right', bodyPad + scrollbarWidth) $(this.fixedContent).each(function (index, element) { var actualPadding = element.style.paddingRight var calculatedPadding = $(element).css('padding-right') $(element) .data('padding-right', actualPadding) .css('padding-right', parseFloat(calculatedPadding) + scrollbarWidth + 'px') }) } $(this.fixedContent).each(function (index, element) { var padding = $(element).data('padding-right') $(element).removeData('padding-right') element.style.paddingRight = padding ? padding : '' }) var $this = $(this) var data = $this.data('bs.modal') $.fn.modal = Plugin var $this = $(this) var href = $this.attr('href') var target = $this.attr('data-target') || (href && href.replace(/.*(?=#[^\s]+$)/, '')) // strip for ie7 var $target = $(document).find(target) var option = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())"," * Bootstrap: modal.js v3.3.7 * http://getbootstrap.com/javascript/#modals * Copyright 2011-2016 Twitter, Inc. this.options = options this.$body = $(document.body) this.$element = $(element) this.$dialog = this.$element.find('.modal-dialog') this.$backdrop = null this.isShown = null this.originalBodyPad = null this.scrollbarWidth = 0 Modal.VERSION = '3.3.7' var e = $.Event('show.bs.modal', { relatedTarget: _relatedTarget }) this.$element[0] !== e.target && !this.$element.has(e.target).length) { paddingLeft: !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '', if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth) var $this = $(this) var data = $this.data('bs.modal') $.fn.modal = Plugin var $this = $(this) var href = $this.attr('href') var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\s]+$)/, ''))) // strip for ie7 var option = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())",1186,785
openstack%2Fkolla~master~Ia97d09f335d495b791c71c66843d085d00a4fab2,openstack/kolla,master,Ia97d09f335d495b791c71c66843d085d00a4fab2,[Do Not Merge] test arm64 CI,ABANDONED,2020-02-18 04:17:41.000000000,2020-03-19 07:13:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-18 04:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e40ba27e92fb88cc1eea3aec28d10ae59c3b597c', 'message': 'test arm64 CI\n\nChange-Id: Ia97d09f335d495b791c71c66843d085d00a4fab2\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 2, 'created': '2020-02-18 04:18:41.000000000', 'files': ['kolla/opts.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3f1f468cecd3e69ec149a0272a71679850e60ede', 'message': '[Do Not Merge] test arm64 CI\n\nChange-Id: Ia97d09f335d495b791c71c66843d085d00a4fab2\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",0,708298,3f1f468cecd3e69ec149a0272a71679850e60ede,6,2,2,22076,,,0,"[Do Not Merge] test arm64 CI

Change-Id: Ia97d09f335d495b791c71c66843d085d00a4fab2
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/708298/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/opts.py'],1,e40ba27e92fb88cc1eea3aec28d10ae59c3b597c,,"# Licensed under the Apache License, Version 2.0 (the ""License"");","# Licensed under the Apache License, Version 2.0 (the ""License"");",1,1
openstack%2Fkolla~master~I83bc7f977a9d74be5734c534361155e853180207,openstack/kolla,master,I83bc7f977a9d74be5734c534361155e853180207,[Do not Merge] test Arm64 Ci,ABANDONED,2020-02-18 03:18:05.000000000,2020-03-19 07:12:58.000000000,,"[{'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-18 03:18:05.000000000', 'files': ['kolla/opts.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8f879e67e3f559c2883ca38301ce329d21d374b9', 'message': '[Do not Merge] test Arm64 Ci\n\nChange-Id: I83bc7f977a9d74be5734c534361155e853180207\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",0,708295,8f879e67e3f559c2883ca38301ce329d21d374b9,9,3,1,22076,,,0,"[Do not Merge] test Arm64 Ci

Change-Id: I83bc7f977a9d74be5734c534361155e853180207
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/95/708295/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/opts.py'],1,8f879e67e3f559c2883ca38301ce329d21d374b9,,"# Licensed under the Apache License, Version 2.0 (the ""License"");","# Licensed under the Apache License, Version 2.0 (the ""License"");",1,1
openstack%2Fcyborg~master~Iafb23b47bf022f81776af77d205fc788d1b0d6b6,openstack/cyborg,master,Iafb23b47bf022f81776af77d205fc788d1b0d6b6,Fix GPU's improper cpid_type allowed value and attach_handle_type value,MERGED,2020-02-24 09:43:25.000000000,2020-03-19 06:43:49.000000000,2020-03-19 06:42:05.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2020-02-24 09:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4f06e67502abb04f036dfc9f3f9d201ffc9dc03c', 'message': 'Fix cpid_type of gpu device with improper value\n\nControlPathID table tracks identifiers for a control path\ninterface to devices. cpid_type shows the device is either ""MDEV"" or ""PCI"".\nMost gpu devices are mediated devices(mdev) instead of pci.\nThis patch fixes the improper value and its test.\n\nChange-Id: Iafb23b47bf022f81776af77d205fc788d1b0d6b6\n'}, {'number': 2, 'created': '2020-03-02 07:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/42edbaea318041ae6c85ab200be893d218aa1b3e', 'message': 'Fix attach_handle_type of gpu device with improper value\n\nControlPathID table tracks identifiers for a control path interface to devices.\nWhen we were discussing the valid values of cpid_type at 2020-02-27 Cyborg\nweekly meeting[0], an agreement was made that allowed cpid_type values are\n(""PCI"", ""MDEV""). But for nvidia GPUs (either pGPU or vGPU), they all report\n""PCI"" as their cpid_type, while attach_handle_type of them are different.\n\nThis patch fixes the improper attach_handle_type value and its test.\nvGPU report will be implemented in future patches.\n\nChange-Id: Iafb23b47bf022f81776af77d205fc788d1b0d6b6\n'}, {'number': 3, 'created': '2020-03-05 07:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5ecd20ac587d0832bccf6a904a050216af7f2e1d', 'message': 'Fix attach_handle_type of gpu device with improper value\n\nControlPathID table tracks identifiers for a control path interface to devices.\nWhen we were discussing the valid values of cpid_type at 2020-02-27 Cyborg\nweekly meeting[0], an agreement was made that allowed cpid_type values are\n(""PCI"", ""MDEV""). But for nvidia GPUs (either pGPU or vGPU), they all report\n""PCI"" as their cpid_type, while attach_handle_type of them are different.\n\nThis patch fixes the improper attach_handle_type value and its test.\nvGPU report will be implemented in future patches.\n\nChange-Id: Iafb23b47bf022f81776af77d205fc788d1b0d6b6\n'}, {'number': 4, 'created': '2020-03-05 09:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a100ed20e6bc8e18041b7e27591dfe7611a26d3b', 'message': 'Fix GPU\'s improper cpid_type allowed value and attach_handle_type value\n\nControlPathID table tracks identifiers for a control path interface to devices.\nWhen we were discussing the valid values of cpid_type at 2020-02-27 Cyborg\nweekly meeting[0], an agreement was made that allowed cpid_type values are\n""PCI"". And for GPUs (either pGPU or vGPU), they all report\n""PCI"" as their cpid_type, while attach_handle_type of them are different.\n\nThis patch fixes the improper cpid_type allowed value and attach_handle_type\nvalue. No unit test is affected.\nvGPU report will be implemented in future release.\n\nChange-Id: Iafb23b47bf022f81776af77d205fc788d1b0d6b6\n'}, {'number': 5, 'created': '2020-03-05 10:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/bfe094d5254143ae63d0e91dd6574f5d461cf9b6', 'message': 'Fix GPU\'s improper cpid_type allowed value and attach_handle_type value\n\nControlPathID table tracks identifiers for a control path interface to devices.\nWhen we were discussing the valid values of cpid_type at 2020-02-27 Cyborg\nweekly meeting[0], an agreement was made that allowed cpid_type values are\n""PCI"". And for GPUs (either pGPU or vGPU), they all report\n""PCI"" as their cpid_type, while attach_handle_type of them are different.\n\nThis patch fixes the improper cpid_type allowed value and attach_handle_type\nvalue. No unit test is affected.\nvGPU report will be implemented in future release.\n\nCloses task: 38954\n\nChange-Id: Iafb23b47bf022f81776af77d205fc788d1b0d6b6\n'}, {'number': 6, 'created': '2020-03-06 02:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c2ebb19fb23857994654b5751aa0261df7ccf85c', 'message': 'Fix GPU\'s improper cpid_type allowed value and attach_handle_type value\n\n``ControlPathID`` table tracks identifiers for a control path interface to devices.\nWhen we were discussing the valid values of cpid_type at 2020-02-27 Cyborg\nweekly meeting[0], an agreement was made that allowed cpid_type values are\n""PCI"". And for GPUs (either pGPU or vGPU), they all report\n""PCI"" as their cpid_type, while ``attach_handle_type`` of them are different.\n\nThis patch fixes the improper cpid_type allowed value and attach_handle_type\nvalue. No unit test is affected.\nvGPU report will be implemented in future release.\n\n[0]http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-02-27-03.00.log.html\n\nCloses task: 38954\n\nChange-Id: Iafb23b47bf022f81776af77d205fc788d1b0d6b6\n'}, {'number': 7, 'created': '2020-03-12 02:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0b07ac02c3b9e8cf7b12b7a8afbb8f9308db8424', 'message': 'Fix GPU\'s improper cpid_type allowed value and attach_handle_type value\n\n``ControlPathID`` table tracks identifiers for a control path interface to devices.\nWhen we were discussing the valid values of cpid_type at 2020-02-27 Cyborg\nweekly meeting[0], an agreement was made that allowed cpid_type values are\n""PCI"". And for GPUs (either pGPU or vGPU), they all report\n""PCI"" as their cpid_type, while ``attach_handle_type`` of them are different.\n\nThis patch fixes the improper cpid_type allowed value and attach_handle_type\nvalue. No unit test is affected.\nvGPU report will be implemented in future release.\n\n[0]http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-02-27-03.00.log.html\n\nCloses task: 38954\n\nChange-Id: Iafb23b47bf022f81776af77d205fc788d1b0d6b6\n'}, {'number': 8, 'created': '2020-03-12 02:38:49.000000000', 'files': ['cyborg/common/constants.py', 'cyborg/objects/control_path.py', 'cyborg/accelerator/drivers/gpu/utils.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0303fde937fd09f8e9b7d8114b538a585fc3ba1c', 'message': 'Fix GPU\'s improper cpid_type allowed value and attach_handle_type value\n\n``ControlPathID`` table tracks identifiers for a control path interface to devices.\nWhen we were discussing the valid values of cpid_type at 2020-02-27 Cyborg\nweekly meeting[0], an agreement was made that allowed cpid_type values are\n""PCI"". And for GPUs (either pGPU or vGPU), they all report\n""PCI"" as their cpid_type, while ``attach_handle_type`` of them are different.\n\nThis patch fixes the improper cpid_type allowed value and attach_handle_type\nvalue. No unit test is affected.\nvGPU report will be implemented in future release.\n\n[0]http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-02-27-03.00.log.html\n\nCloses task: 38954\n\nChange-Id: Iafb23b47bf022f81776af77d205fc788d1b0d6b6\n'}]",13,709433,0303fde937fd09f8e9b7d8114b538a585fc3ba1c,34,9,8,24872,,,0,"Fix GPU's improper cpid_type allowed value and attach_handle_type value

``ControlPathID`` table tracks identifiers for a control path interface to devices.
When we were discussing the valid values of cpid_type at 2020-02-27 Cyborg
weekly meeting[0], an agreement was made that allowed cpid_type values are
""PCI"". And for GPUs (either pGPU or vGPU), they all report
""PCI"" as their cpid_type, while ``attach_handle_type`` of them are different.

This patch fixes the improper cpid_type allowed value and attach_handle_type
value. No unit test is affected.
vGPU report will be implemented in future release.

[0]http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-02-27-03.00.log.html

Closes task: 38954

Change-Id: Iafb23b47bf022f81776af77d205fc788d1b0d6b6
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/33/709433/8 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/accelerator/drivers/gpu/utils.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_utils.py']",2,4f06e67502abb04f036dfc9f3f9d201ffc9dc03c,gpu-driver-improve, 'cpid_type': 'MDEV'}, 'cpid_type': 'PCI'},2,2
openstack%2Ftempest~master~I96a457fd562d23438aaca86d263f9e7908abc551,openstack/tempest,master,I96a457fd562d23438aaca86d263f9e7908abc551,Add image task api,ABANDONED,2020-03-19 06:31:37.000000000,2020-03-19 06:36:27.000000000,,[],"[{'number': 1, 'created': '2020-03-19 06:31:37.000000000', 'files': ['releasenotes/notes/add-image-tasks-api-to-v2-image-part-1068060b16676e41.yaml', 'tempest/tests/lib/services/image/v2/test_images_client.py', 'tempest/tests/lib/services/image/v2/test_image_tasks_client.py', 'tempest/lib/services/image/v2/images_tasks_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4960c8fc72ad5fc17f3298ca18942ffcfe3b86bc', 'message': 'Add image task api\n\nAdd image task api and unittest to image part.\n\nChange-Id: I96a457fd562d23438aaca86d263f9e7908abc551\n'}]",0,713787,4960c8fc72ad5fc17f3298ca18942ffcfe3b86bc,2,0,1,30643,,,0,"Add image task api

Add image task api and unittest to image part.

Change-Id: I96a457fd562d23438aaca86d263f9e7908abc551
",git fetch https://review.opendev.org/openstack/tempest refs/changes/87/713787/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-image-tasks-api-to-v2-image-part-1068060b16676e41.yaml', 'tempest/tests/lib/services/image/v2/test_images_client.py', 'tempest/tests/lib/services/image/v2/test_image_tasks_client.py', 'tempest/lib/services/image/v2/images_tasks_client.py']",4,4960c8fc72ad5fc17f3298ca18942ffcfe3b86bc,fix13,"# Copyright 2013 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_serialization import jsonutils as json from six.moves.urllib import parse as urllib from tempest.lib.common import rest_client CHUNKSIZE = 1024 * 64 # 64kB class ImagesTasksClient(rest_client.RestClient): api_version = ""v2"" def create_task(self, **kwargs): """"""Create task For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/image/v2/index.html?expanded=#create-task """""" data = json.dumps(kwargs) resp, body = self.post('task', data) self.expected_success(201, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) def list_tasks(self, params=None): """"""List tasks For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/image/v2/index.html?expanded=list-tasks-detail#list-tasks """""" url = 'tasks' if params: url += '?%s' % urllib.urlencode(params) resp, body = self.get(url) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) def show_tasks_details(self, task_id, params=None): """"""Show tasks details For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/image/v2/index.html?expanded=show-task-details-detail#show-task-details """""" url = 'tasks/%s' % task_id if params: url += '?%s' % urllib.urlencode(params) resp, body = self.get(url) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) ",,245,9
openstack%2Fproject-config~master~I463bf4a31ca7a74a6e7ce804d66d4b38fcd0ae76,openstack/project-config,master,I463bf4a31ca7a74a6e7ce804d66d4b38fcd0ae76,Add publish-to-pypi template for ovn-octavia-provider,MERGED,2020-03-17 13:47:40.000000000,2020-03-19 06:06:37.000000000,2020-03-19 06:06:37.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-17 13:47:40.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/aa6398b03af1f24a58e1f2038438061ab00daa40', 'message': 'Add publish-to-pypi template for ovn-octavia-provider\n\nThis deliverable was added under neutron project governance, released\nindependently.\n\nChange-Id: I463bf4a31ca7a74a6e7ce804d66d4b38fcd0ae76\n'}]",0,713446,aa6398b03af1f24a58e1f2038438061ab00daa40,9,5,1,24791,,,0,"Add publish-to-pypi template for ovn-octavia-provider

This deliverable was added under neutron project governance, released
independently.

Change-Id: I463bf4a31ca7a74a6e7ce804d66d4b38fcd0ae76
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/713446/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,aa6398b03af1f24a58e1f2038438061ab00daa40,, name: openstack/ovn-octavia-provider templates: - publish-to-pypi - project:,,5,0
openstack%2Fopenstack-ansible-os_manila~master~Id472ad8ad99a134f6ff3ee350488d98cb72c1f2a,openstack/openstack-ansible-os_manila,master,Id472ad8ad99a134f6ff3ee350488d98cb72c1f2a,"Missing document start ""---""",MERGED,2020-03-13 08:54:02.000000000,2020-03-19 05:50:06.000000000,2020-03-19 05:48:06.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 23317}]","[{'number': 1, 'created': '2020-03-13 08:54:02.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/ed0d2ab7bd5ead14813217d57aa52932dbfeb229', 'message': 'Missing document start ""---""\n\nChange-Id: Id472ad8ad99a134f6ff3ee350488d98cb72c1f2a\n'}]",0,712868,ed0d2ab7bd5ead14813217d57aa52932dbfeb229,18,3,1,23317,,,0,"Missing document start ""---""

Change-Id: Id472ad8ad99a134f6ff3ee350488d98cb72c1f2a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/68/712868/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ed0d2ab7bd5ead14813217d57aa52932dbfeb229,fix,---,,1,0
openstack%2Fdevstack~master~I4947928fe406a9844d5bdaa3c826d273952fa097,openstack/devstack,master,I4947928fe406a9844d5bdaa3c826d273952fa097,Use MEMCACHE_SERVERS in configure_keystone_authtoken_middleware,MERGED,2020-03-18 19:35:59.000000000,2020-03-19 04:29:15.000000000,2020-03-19 04:27:54.000000000,"[{'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-18 19:35:59.000000000', 'files': ['lib/keystone'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7db34f6caeec6293a87661202484fcff6dc04325', 'message': 'Use MEMCACHE_SERVERS in configure_keystone_authtoken_middleware\n\nThe function was using a hard coded value of localhost:11211 when\nwe have an option MEMCACHE_SERVERS that can be defined and used\ninside DevStack.\n\nChange-Id: I4947928fe406a9844d5bdaa3c826d273952fa097\n'}]",2,713723,7db34f6caeec6293a87661202484fcff6dc04325,11,4,1,1004,,,0,"Use MEMCACHE_SERVERS in configure_keystone_authtoken_middleware

The function was using a hard coded value of localhost:11211 when
we have an option MEMCACHE_SERVERS that can be defined and used
inside DevStack.

Change-Id: I4947928fe406a9844d5bdaa3c826d273952fa097
",git fetch https://review.opendev.org/openstack/devstack refs/changes/23/713723/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/keystone'],1,7db34f6caeec6293a87661202484fcff6dc04325,use-memcached-servers, iniset $conf_file $section memcached_servers $MEMCACHE_SERVERS, iniset $conf_file $section memcached_servers localhost:11211,1,1
openstack%2Ftempest~master~Ie55ef879b1d6c971b202553b3906d02c29b981d6,openstack/tempest,master,Ie55ef879b1d6c971b202553b3906d02c29b981d6,Update README for run-tempest role,MERGED,2020-02-05 14:59:46.000000000,2020-03-19 03:12:49.000000000,2020-03-19 03:11:22.000000000,"[{'_account_id': 5690}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-02-05 14:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ae4bd32b0bd2bf89e2742fb9a71e7d6dffa08dd8', 'message': 'Edit README for run-tempest role\n\nEdits README in order to clear confusion about defining\nmulti line regexes.\n\nCloses-Bug: 1827234\nChange-Id: Ie55ef879b1d6c971b202553b3906d02c29b981d6\n'}, {'number': 2, 'created': '2020-02-10 07:25:23.000000000', 'files': ['roles/run-tempest/README.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4af65407b17bb29c7e2cc376697ee1ef5d1cb6ce', 'message': 'Update README for run-tempest role\n\nUpdates README in order to clear confusion about defining\nmulti-line regexes.\n\nCloses-Bug: 1827234\nChange-Id: Ie55ef879b1d6c971b202553b3906d02c29b981d6\n'}]",7,705976,4af65407b17bb29c7e2cc376697ee1ef5d1cb6ce,14,7,2,22873,,,0,"Update README for run-tempest role

Updates README in order to clear confusion about defining
multi-line regexes.

Closes-Bug: 1827234
Change-Id: Ie55ef879b1d6c971b202553b3906d02c29b981d6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/76/705976/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-tempest/README.rst'],1,ae4bd32b0bd2bf89e2742fb9a71e7d6dffa08dd8,, In the following example only api scenario and third party tests will be executed. tempest_test_regex: (tempest\.(api|scenario|thirdparty)).*$ tempest_black_regex: (tempest.api.identity).*$, Multi-line and commented regexs can be achieved by doing this: tempest_test_regex: | (?x) # Ignore comments and whitespaces # Line with only a comment. (tempest\.(api|scenario|thirdparty)).*$ # Run only api scenario and third party Multi-line and commented regexs can be achieved by doing this: tempest_black_regex: | (?x) # Ignore comments and whitespaces # Line with only a comment. (tempest.api.identity).*$,4,11
openstack%2Ftripleo-quickstart~master~I610f6687655cc4ce317a1087be7b05b040c47ce5,openstack/tripleo-quickstart,master,I610f6687655cc4ce317a1087be7b05b040c47ce5,Use vexxhost cirros image for standalone tempest,MERGED,2020-03-18 12:38:18.000000000,2020-03-19 02:51:40.000000000,2020-03-19 02:50:02.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-18 12:38:18.000000000', 'files': ['config/general_config/featureset052.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/79a980215ee4d718f48e7286adfef1dc57de77a9', 'message': ""Use vexxhost cirros image for standalone tempest\n\nUpstream Cirros website has issues so let's use the vexxhost\nimage.\n\nChange-Id: I610f6687655cc4ce317a1087be7b05b040c47ce5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",0,713642,79a980215ee4d718f48e7286adfef1dc57de77a9,17,6,1,12393,,,0,"Use vexxhost cirros image for standalone tempest

Upstream Cirros website has issues so let's use the vexxhost
image.

Change-Id: I610f6687655cc4ce317a1087be7b05b040c47ce5
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/42/713642/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset052.yml'],1,79a980215ee4d718f48e7286adfef1dc57de77a9,fix_cirros, image.image_path: http://images.rdoproject.org/cirros/cirros-0.4.0-x86_64-disk.img,,1,0
openstack%2Fironic-python-agent-builder~master~I92e30ee4018e5412e23caaa786d508674fd99b4f,openstack/ironic-python-agent-builder,master,I92e30ee4018e5412e23caaa786d508674fd99b4f,Use python3 binary for all operations,MERGED,2020-03-17 16:11:37.000000000,2020-03-19 02:44:18.000000000,2020-03-19 02:42:53.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-17 16:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/d995c2517b693a0e299562d379ac97906428a722', 'message': '[WIP] Use python3 binary for all operations\n\nWhen USE_PYTHON3 is True we should use the python3 binary for all\nthe image building process.\n\nChange-Id: I92e30ee4018e5412e23caaa786d508674fd99b4f\n'}, {'number': 2, 'created': '2020-03-18 08:57:57.000000000', 'files': ['tinyipa/build-tinyipa.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/394aec4f794f0258170a1631df600d22221c2bf5', 'message': 'Use python3 binary for all operations\n\nWhen USE_PYTHON3 is True we should use the python3 binary for all\nthe image building process.\n\nChange-Id: I92e30ee4018e5412e23caaa786d508674fd99b4f\n'}]",0,713477,394aec4f794f0258170a1631df600d22221c2bf5,15,5,2,23851,,,0,"Use python3 binary for all operations

When USE_PYTHON3 is True we should use the python3 binary for all
the image building process.

Change-Id: I92e30ee4018e5412e23caaa786d508674fd99b4f
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/77/713477/1 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/build-tinyipa.sh'],1,d995c2517b693a0e299562d379ac97906428a722,always-use-py3," PYTHON_COMMAND=""python"" if [[ $USE_PYTHON3 == ""True"" ]]; then PYTHON_COMMAND=""python3"" fi $PYTHON_COMMAND setup.py sdist --dist-dir ""$BUILDDIR/tmp/localpip"" --quiet $PYTHON_COMMAND setup.py sdist --dist-dir ""$BUILDDIR/tmp/localpip"" --quiet PKG=$(cd ""$PKGDIR"" ; $PYTHON_COMMAND setup.py --name) $PYTHON_COMMAND setup.py sdist --dist-dir ""$BUILDDIR/tmp/localpip"" --quiet PKG=$(cd ""$PKGDIR"" ; $PYTHON_COMMAND setup.py --name)","python setup.py sdist --dist-dir ""$BUILDDIR/tmp/localpip"" --quiet python setup.py sdist --dist-dir ""$BUILDDIR/tmp/localpip"" --quiet PKG=$(cd ""$PKGDIR"" ; python setup.py --name) python setup.py sdist --dist-dir ""$BUILDDIR/tmp/localpip"" --quiet PKG=$(cd ""$PKGDIR"" ; python setup.py --name)",11,5
openstack%2Ftripleo-common~stable%2Ftrain~I6de47600f430d3af5e3052ff456cd718a0df0d76,openstack/tripleo-common,stable/train,I6de47600f430d3af5e3052ff456cd718a0df0d76,Re-raise same exception type in export_stream,MERGED,2020-03-18 19:34:34.000000000,2020-03-19 01:57:16.000000000,2020-03-19 01:55:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-18 19:34:34.000000000', 'files': ['tripleo_common/image/image_export.py', 'tripleo_common/tests/image/test_image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/235ab53d4c7aa8c68802217c781985e343e9fe23', 'message': 'Re-raise same exception type in export_stream\n\ntripleo-container-image-prepare can consume a lot of memory during\nthe export. Previously, when a MemoryError was raised by python, the\nexception was hidden because there was no message in the exception and\nthe code re-raised an IOError.\n\nThis patch updates the code so that a MemoryError is specifically caught\nif one was thrown, and an accurate message is logged.\n\nChange-Id: I6de47600f430d3af5e3052ff456cd718a0df0d76\n(cherry picked from commit 9d7a9b83ed8d20c8baa9a6b49812f4f30faf7782)\n'}]",0,713722,235ab53d4c7aa8c68802217c781985e343e9fe23,9,5,1,14985,,,0,"Re-raise same exception type in export_stream

tripleo-container-image-prepare can consume a lot of memory during
the export. Previously, when a MemoryError was raised by python, the
exception was hidden because there was no message in the exception and
the code re-raised an IOError.

This patch updates the code so that a MemoryError is specifically caught
if one was thrown, and an accurate message is logged.

Change-Id: I6de47600f430d3af5e3052ff456cd718a0df0d76
(cherry picked from commit 9d7a9b83ed8d20c8baa9a6b49812f4f30faf7782)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/22/713722/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/image_export.py', 'tripleo_common/tests/image/test_image_export.py']",2,235ab53d4c7aa8c68802217c781985e343e9fe23,,"import mock @mock.patch('tripleo_common.image.image_export.open', side_effect=MemoryError()) def test_export_stream_memory_error(self, mock_open): blob_data = six.b('The Blob') blob_compressed = zlib.compress(blob_data) calc_digest = hashlib.sha256() calc_digest.update(blob_compressed) target_url = urlparse('docker://localhost:8787/t/nova-api:latest') layer = { 'digest': 'sha256:somethingelse' } calc_digest = hashlib.sha256() layer_stream = io.BytesIO(blob_compressed) self.assertRaises(MemoryError, image_export.export_stream, target_url, layer, layer_stream, verify_digest=False) ",,30,4
openstack%2Fmanila~master~I0844cdb48b9d415bd341c4687620412178be871b,openstack/manila,master,I0844cdb48b9d415bd341c4687620412178be871b,Fetch and install manila-tempest-plugin system-wide,MERGED,2018-01-30 11:17:52.000000000,2020-03-19 01:17:11.000000000,2018-03-22 15:21:23.000000000,"[{'_account_id': 6413}, {'_account_id': 8056}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15100}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 16657}, {'_account_id': 17780}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26297}, {'_account_id': 27558}, {'_account_id': 27697}]","[{'number': 1, 'created': '2018-01-30 11:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/584b78b58d464eb9dccabc3f85bea6c7fa2b0b32', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 2, 'created': '2018-01-31 06:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/790f314c876c791112b989f42ebd8170aacb86a3', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 3, 'created': '2018-02-01 15:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/58595d4d0cec3d7364a20a5581669f3de33c6a01', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 4, 'created': '2018-02-02 20:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4347ec2c0ed6bfb81ca14a634d163068313d0000', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nDepends-On: I23aff041fde91b445ccde73e3fd8fc90359c892e\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 5, 'created': '2018-02-05 13:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/daf02cc205f8a5ff43bc36eabcbb466c6be5d87e', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 6, 'created': '2018-02-05 22:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a60c830d346350858ee82b510831a3eb90abe1e9', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 7, 'created': '2018-02-05 22:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e22acccdd6095f931b4292f24145a9d001ab915d', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 8, 'created': '2018-02-06 01:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/da97e167f21860715dd402da8f982bf36cf43be6', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nDepends-On: I23aff041fde91b445ccde73e3fd8fc90359c892e\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 9, 'created': '2018-02-08 16:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b33de9f1b35b685974c3b5759b6015ed0b37f371', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 10, 'created': '2018-02-21 19:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0bd016c3a2c5d436125e48985e6ea6ee087e8ecc', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 11, 'created': '2018-02-28 04:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a4fbef9c5951802027efa4ae70f64894a1063028', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 12, 'created': '2018-03-08 12:05:49.000000000', 'files': ['contrib/ci/post_test_hook.sh', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/72f79e5c57b2d12c1a1322ac85544b5baa3c21e7', 'message': ""Fetch and install manila-tempest-plugin system-wide\n\nAnd don't enlist manila-tempest-plugin for installation in venv-tempest.\n\nChange-Id: I0844cdb48b9d415bd341c4687620412178be871b\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}]",2,539186,72f79e5c57b2d12c1a1322ac85544b5baa3c21e7,153,23,12,27697,,,0,"Fetch and install manila-tempest-plugin system-wide

And don't enlist manila-tempest-plugin for installation in venv-tempest.

Change-Id: I0844cdb48b9d415bd341c4687620412178be871b
Signed-off-by: Rishabh Dave <ridave@redhat.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/539186/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,584b78b58d464eb9dccabc3f85bea6c7fa2b0b32,install-manila-tempest-plugin-system-wide,,"MANILA_TEMPEST_PLUGIN_PATH=$DEST/manila-tempest-plugin if [[ $TEMPEST_PLUGINS != 0 ]] ; then TEMPEST_PLUGINS=""$MANILA_TEMPEST_PLUGIN_PATH $TEMPEST_PLUGINS"" else TEMPEST_PLUGINS=$MANILA_TEMPEST_PLUGIN_PATH fi ",11,7
openstack%2Fdevstack-plugin-ceph~master~I8abe6ba29766ecaa7faade06a1b23520733139a2,openstack/devstack-plugin-ceph,master,I8abe6ba29766ecaa7faade06a1b23520733139a2,To run manila tempest tests invoke tempest installed system-wide,MERGED,2018-02-02 14:10:58.000000000,2020-03-19 01:15:13.000000000,2018-03-22 16:20:26.000000000,"[{'_account_id': 6413}, {'_account_id': 8056}, {'_account_id': 9003}, {'_account_id': 17780}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-02 14:10:58.000000000', 'files': ['manila/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/430fff8313a364f951423768d9ee8fdba4e79a27', 'message': 'To run manila tempest tests invoke tempest installed system-wide\n\nSince manila-tempest-tests is now installed system-wide and not in a\nvirtual environment, use tempest installed system-wide to run them.\n\nDepends-On: I0844cdb48b9d415bd341c4687620412178be871b\nChange-Id: I8abe6ba29766ecaa7faade06a1b23520733139a2\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}]",1,540394,430fff8313a364f951423768d9ee8fdba4e79a27,12,5,1,27697,,,0,"To run manila tempest tests invoke tempest installed system-wide

Since manila-tempest-tests is now installed system-wide and not in a
virtual environment, use tempest installed system-wide to run them.

Depends-On: I0844cdb48b9d415bd341c4687620412178be871b
Change-Id: I8abe6ba29766ecaa7faade06a1b23520733139a2
Signed-off-by: Rishabh Dave <ridave@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/94/540394/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/post_test_hook.sh'],1,430fff8313a364f951423768d9ee8fdba4e79a27,install-manila-tempest-plugin-system-wide,sudo -H -u $USER tempest run -r $MANILA_TESTS --concurrency=$MANILA_TEMPEST_CONCURRENCY,sudo -H -u $USER tox -eall -- $MANILA_TESTS --concurrency=$MANILA_TEMPEST_CONCURRENCY,1,1
openstack%2Fnova~master~Ic1c9cf16c482939d0761d0cdab66c8eac07cad7b,openstack/nova,master,Ic1c9cf16c482939d0761d0cdab66c8eac07cad7b,Refine and introduce correct parameters for test_get_guest_config_numa_host_instance_topo_cpu_pinning,MERGED,2020-03-17 00:55:27.000000000,2020-03-19 01:07:49.000000000,2020-03-19 01:05:17.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-17 00:55:27.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c0479db0963dc64f60a4c81f69fa02e160686fe', 'message': ""Refine and introduce correct parameters for test_get_guest_config_numa_host_instance_topo_cpu_pinning\n\n'sockets_per_cell', 'cores_per_socket' and 'threads_per_core'\nare not the initializeing arguments of 'NUMATopology' object.\n\nIn test test_get_guest_config_numa_host_instance_topo_cpu_pinning\nthe code path does not care about the correctness of a host\nnuma toplogy due to being an instance with 'DEDICATED' cpu\npolicy, but We'd better refine it and create a correct numa\ntopology to avoid misunderstanding of code.\n\nChange-Id: Ic1c9cf16c482939d0761d0cdab66c8eac07cad7b\n""}]",0,713351,1c0479db0963dc64f60a4c81f69fa02e160686fe,14,10,1,30209,,,0,"Refine and introduce correct parameters for test_get_guest_config_numa_host_instance_topo_cpu_pinning

'sockets_per_cell', 'cores_per_socket' and 'threads_per_core'
are not the initializeing arguments of 'NUMATopology' object.

In test test_get_guest_config_numa_host_instance_topo_cpu_pinning
the code path does not care about the correctness of a host
numa toplogy due to being an instance with 'DEDICATED' cpu
policy, but We'd better refine it and create a correct numa
topology to avoid misunderstanding of code.

Change-Id: Ic1c9cf16c482939d0761d0cdab66c8eac07cad7b
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/713351/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,1c0479db0963dc64f60a4c81f69fa02e160686fe,bp/use-pcpu-and-vcpu-in-one-instance," cpu_nodes=4, cpu_sockets=1, cpu_cores=4, cpu_threads=2) return_value=set(range(32))),"," sockets_per_cell=4, cores_per_socket=3, threads_per_core=2) return_value=set(range(8))),",2,2
openstack%2Ftripleo-quickstart-extras~master~I63ee7b78ce3ffee354aaceab9517c7248d74509d,openstack/tripleo-quickstart-extras,master,I63ee7b78ce3ffee354aaceab9517c7248d74509d,Do a local image copy if there is no glance,MERGED,2020-03-04 22:45:53.000000000,2020-03-19 01:07:17.000000000,2020-03-19 01:07:17.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 22:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/67c7000e858b49f5110f365ba178b3e78eb7c517', 'message': 'Do a local image copy if there is no glance\n\nundercloud_enable_nova=False also switches off glance, and there is\nnow an upload --local option which copies to /var/lib/ironic/images\ninstead of transferring to glance.\n\nThis change will do the appropriate image upload operation based on\nwhether glance is installed on the undercloud.\n\nChange-Id: I63ee7b78ce3ffee354aaceab9517c7248d74509d\n'}, {'number': 2, 'created': '2020-03-04 22:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b4735967c334e979975f2cde0db69dc3f9e83b8f', 'message': 'Do a local image copy if there is no glance\n\nundercloud_enable_nova=False also switches off glance, and there is\nnow an upload --local option which copies to /var/lib/ironic/images\ninstead of transferring to glance.\n\nThis change will do the appropriate image upload operation based on\nwhether glance is installed on the undercloud.\n\nChange-Id: I63ee7b78ce3ffee354aaceab9517c7248d74509d\n'}, {'number': 3, 'created': '2020-03-05 21:37:22.000000000', 'files': ['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/eaaca332f1b92a16ef1dff7577f1a8bea0ac4c72', 'message': 'Do a local image copy if there is no glance\n\nundercloud_enable_nova=False also switches off glance, and there is\nnow an upload --local option which copies to /var/lib/ironic/images\ninstead of transferring to glance.\n\nThis change will do the appropriate image upload operation based on\nwhether glance is installed on the undercloud.\n\nChange-Id: I63ee7b78ce3ffee354aaceab9517c7248d74509d\n'}]",1,711354,eaaca332f1b92a16ef1dff7577f1a8bea0ac4c72,27,8,3,4571,,,0,"Do a local image copy if there is no glance

undercloud_enable_nova=False also switches off glance, and there is
now an upload --local option which copies to /var/lib/ironic/images
instead of transferring to glance.

This change will do the appropriate image upload operation based on
whether glance is installed on the undercloud.

Change-Id: I63ee7b78ce3ffee354aaceab9517c7248d74509d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/54/711354/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'],1,67c7000e858b49f5110f365ba178b3e78eb7c517,glance-less,{% if undercloud_enable_nova|bool %}{% else %} ## * Copy images to /var/lib/ironic/images. ## :: {% endif %}{%- if undercloud_enable_nova|bool %} --local {%- endif %},,8,0
openstack%2Frpm-packaging~master~Ie9205724a44f94a44de10477af120440e5efbffa,openstack/rpm-packaging,master,Ie9205724a44f94a44de10477af120440e5efbffa,update constraint for oslo.cache to new release 2.1.0,ABANDONED,2020-03-11 01:50:37.000000000,2020-03-19 00:56:51.000000000,,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26571}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-11 01:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ef0124f24efc1296f794676eb84ce6669a8e405f', 'message': 'update constraint for oslo.cache to new release 2.1.0\n\nDepends-on:I0b0191e57d9dd4fe144128e1c683d307098fe144\nChange-Id: Ie9205724a44f94a44de10477af120440e5efbffa\n'}, {'number': 2, 'created': '2020-03-12 02:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d213955929d7b6e0bdaf44b6a723be4f6923d5ea', 'message': 'update constraint for oslo.cache to new release 2.1.0\n\nDepends-on:I0b0191e57d9dd4fe144128e1c683d307098fe144\nChange-Id: Ie9205724a44f94a44de10477af120440e5efbffa\n'}, {'number': 3, 'created': '2020-03-12 10:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/aed9f6837e0292b43e6dd17bdda7301a8645c633', 'message': 'update constraint for oslo.cache to new release 2.1.0\n\nDepends-on:I0b0191e57d9dd4fe144128e1c683d307098fe144\nChange-Id: Ie9205724a44f94a44de10477af120440e5efbffa\n'}, {'number': 4, 'created': '2020-03-13 03:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/102113e15f6e81cb70c3fcee112177e36bc2507c', 'message': 'update constraint for oslo.cache to new release 2.1.0\n\nDepends-on:I0b0191e57d9dd4fe144128e1c683d307098fe144\nChange-Id: Ie9205724a44f94a44de10477af120440e5efbffa\n'}, {'number': 5, 'created': '2020-03-17 18:15:02.000000000', 'files': ['openstack/oslo.cache/oslo.cache.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/932a4c159706aa1f8ef173cc81a2816c6094c7f1', 'message': 'update constraint for oslo.cache to new release 2.1.0\n\nDepends-on:I0b0191e57d9dd4fe144128e1c683d307098fe144\nChange-Id: Ie9205724a44f94a44de10477af120440e5efbffa\n'}]",6,712215,932a4c159706aa1f8ef173cc81a2816c6094c7f1,37,8,5,26571,,,0,"update constraint for oslo.cache to new release 2.1.0

Depends-on:I0b0191e57d9dd4fe144128e1c683d307098fe144
Change-Id: Ie9205724a44f94a44de10477af120440e5efbffa
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/15/712215/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.cache/oslo.cache.spec.j2'],1,ef0124f24efc1296f794676eb84ce6669a8e405f,oslo.cache,{% set upstream_version = upstream_version('2.1.0') %},{% set upstream_version = upstream_version('2.0.0') %},1,1
openstack%2Ftripleo-quickstart~master~Ic53be3203a1d4d75df3e26e70629ab6344b45280,openstack/tripleo-quickstart,master,Ic53be3203a1d4d75df3e26e70629ab6344b45280,Handle pip being installed as /usr/bin/pip3,MERGED,2020-02-10 21:25:09.000000000,2020-03-19 00:41:37.000000000,2020-03-19 00:40:12.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-10 21:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c0c068c0ae0b24433f2d6b93537136d12f79dff2', 'message': 'Handle pip being installed as /usr/bin/pip3\n\nThis is a thing that centos-8 does\n\nChange-Id: Ic53be3203a1d4d75df3e26e70629ab6344b45280\n'}, {'number': 2, 'created': '2020-02-20 05:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e4da3c2fdc2dc0abad0816134164effb1b24b0ba', 'message': 'Handle pip being installed as /usr/bin/pip3\n\nThis is a thing that centos-8 does\n\nChange-Id: Ic53be3203a1d4d75df3e26e70629ab6344b45280\n'}, {'number': 3, 'created': '2020-03-12 22:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/472a1520b565f3a85761beb2b72771e358645279', 'message': ""Handle pip being installed as /usr/bin/pip3\n\nThis change also stops setting USER_PYTHON_OVERRIDE=python2 when\ninstall-deps.sh is used as an interactive script, because centos-8\nshould be the default, and also because the python version detection\nworks fine and shouldn't need a manual override.\n\nChange-Id: Ic53be3203a1d4d75df3e26e70629ab6344b45280\n""}, {'number': 4, 'created': '2020-03-16 22:13:15.000000000', 'files': ['install-deps.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5d3a8c334c8f919d835bab420c10d0216e48c64f', 'message': ""Handle pip being installed as /usr/bin/pip3\n\nThis change also stops setting USER_PYTHON_OVERRIDE=python2 when\ninstall-deps.sh is used as an interactive script, because centos-8\nshould be the default, and also because the python version detection\nworks fine and shouldn't need a manual override.\n\nChange-Id: Ic53be3203a1d4d75df3e26e70629ab6344b45280\n""}]",10,706979,5d3a8c334c8f919d835bab420c10d0216e48c64f,47,10,4,4571,,,0,"Handle pip being installed as /usr/bin/pip3

This change also stops setting USER_PYTHON_OVERRIDE=python2 when
install-deps.sh is used as an interactive script, because centos-8
should be the default, and also because the python version detection
works fine and shouldn't need a manual override.

Change-Id: Ic53be3203a1d4d75df3e26e70629ab6344b45280
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/79/706979/2 && git format-patch -1 --stdout FETCH_HEAD,['install-deps.sh'],1,c0c068c0ae0b24433f2d6b93537136d12f79dff2,reproducer-centos-8," if [ -e ""/usr/bin/pip3"" ] && [ ! -e ""/usr/bin/pip"" ]; then # centos-8 installs pip as pip3 sudo alternatives --install /usr/bin/pip pip /usr/bin/pip3 1 fi",,4,0
openstack%2Fopenstack-helm~master~I9723e52fc87291f5e90df29a154c04180cbfe955,openstack/openstack-helm,master,I9723e52fc87291f5e90df29a154c04180cbfe955,Update neutron ovs-agent init,MERGED,2020-02-21 16:37:10.000000000,2020-03-19 00:39:31.000000000,2020-03-19 00:37:39.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 14029}, {'_account_id': 16881}, {'_account_id': 17591}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23140}, {'_account_id': 23928}, {'_account_id': 29408}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-21 16:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/90ac4119b0134ba6602d368304ba75fcf5088442', 'message': '[WIP] Update neutron ovs-agent init\n\nChange-Id: I9723e52fc87291f5e90df29a154c04180cbfe955\n'}, {'number': 2, 'created': '2020-02-24 06:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f433a4873548493764dadea89c1b5294fde86297', 'message': '[WIP] Update neutron ovs-agent init\n\nThere is a bug with the Intel i40e driver version 2.11.21 or earlier\nwhere the interface VF spoof check must be toggle on and off after bond\nis created (TODO: insert release note or bug here)\n\nChange-Id: I9723e52fc87291f5e90df29a154c04180cbfe955\n'}, {'number': 3, 'created': '2020-03-09 19:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b4d09c4f3b852c4ed7cc6aa0d1737de4fd0d42f7', 'message': '[WIP] Update neutron ovs-agent init\n\nThere is a bug with the Intel i40e driver version 2.11.21 or earlier\nwhere the interface VF spoof check must be toggle on and off after bond\nis created (TODO: insert release note or bug here)\n\nChange-Id: I9723e52fc87291f5e90df29a154c04180cbfe955\n'}, {'number': 4, 'created': '2020-03-12 15:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/422f0178d30d2fc518e7f4a799453b2515368769', 'message': '[WIP] Update neutron ovs-agent init\n\nThere is a bug with the Intel i40e driver version 2.11.21 or earlier\nwhere the interface VF spoof check must be toggle on and off after bond\nis created (TODO: insert release note or bug here)\n\nChange-Id: I9723e52fc87291f5e90df29a154c04180cbfe955\n'}, {'number': 5, 'created': '2020-03-12 15:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/26303627246c9769ef3303d64f43c8220607d2e9', 'message': '[WIP] Update neutron ovs-agent init\n\nThere is a bug with the Intel i40e driver version 2.11.21 or earlier\nwhere the interface VF spoof check must be toggle on and off after bond\nis created (TODO: insert release note or bug here)\n\nChange-Id: I9723e52fc87291f5e90df29a154c04180cbfe955\n'}, {'number': 6, 'created': '2020-03-12 18:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d590892bf9e18477ee7d6d5469d2b6a25408f101', 'message': '[WIP] Update neutron ovs-agent init\n\nThere is a bug with the Intel i40e driver version 2.11.21 or earlier\nwhere the interface VF spoof check must be toggle on and off after bond\nis created (TODO: insert release note or bug here)\n\nChange-Id: I9723e52fc87291f5e90df29a154c04180cbfe955\n'}, {'number': 7, 'created': '2020-03-12 18:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e238f30a02f234f54808772419ee850334e31c0a', 'message': '[WIP] Update neutron ovs-agent init\n\nThere is a bug with the Intel i40e driver version 2.11.21 or earlier\nwhere the interface VF spoof check must be toggle on and off after bond\nis created (TODO: insert release note or bug here)\n\nChange-Id: I9723e52fc87291f5e90df29a154c04180cbfe955\n'}, {'number': 8, 'created': '2020-03-16 22:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0365ba348afc8df4d23cce236bb2368ec0e1f514', 'message': '[WIP] Update neutron ovs-agent init\n\nThere is a bug with the Intel i40e driver version 2.11.21 or earlier\nwhere the interface VF spoof check must be toggle on and off after bond\nis created (TODO: insert release note or bug here)\n\nChange-Id: I9723e52fc87291f5e90df29a154c04180cbfe955\n'}, {'number': 9, 'created': '2020-03-18 18:38:41.000000000', 'files': ['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6142f32c0293a47b96128e30b48cece6cd603753', 'message': 'Update neutron ovs-agent init\n\nThere is a bug with the Intel i40e driver version 2.11.21 or earlier\nwhere the interface VF spoof check must be toggle on and off after bond\nis created (TODO: insert release note or bug here)\n\nChange-Id: I9723e52fc87291f5e90df29a154c04180cbfe955\n'}]",4,709185,6142f32c0293a47b96128e30b48cece6cd603753,31,17,9,18250,,,0,"Update neutron ovs-agent init

There is a bug with the Intel i40e driver version 2.11.21 or earlier
where the interface VF spoof check must be toggle on and off after bond
is created (TODO: insert release note or bug here)

Change-Id: I9723e52fc87291f5e90df29a154c04180cbfe955
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/709185/9 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'],1,90ac4119b0134ba6602d368304ba75fcf5088442,, ## TODO: Insert release note from Intel ip link set ${iface} ${vf_string} spoofchk on ## TODO: Insert release note from Intel ip link set ${iface} ${vf_string} spoofchk on,,4,0
openstack%2Fpuppet-swift~master~Ib6105f3a06fe2e42864039356bf58dbe83749897,openstack/puppet-swift,master,Ib6105f3a06fe2e42864039356bf58dbe83749897,Add max_upload_part_num param,MERGED,2020-03-12 10:10:12.000000000,2020-03-19 00:16:58.000000000,2020-03-19 00:16:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6476}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-12 10:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/98feae35cc80308b3100dfb428d0031d1d56c360', 'message': 'Add max_upload_part_num param\n\nThe default in swift is 1000, though in S3, it is 10 000. Therefore,\nit is necessary to be able to configure it, so that a deployment\ncan be set with the same limits as S3.\n\nChange-Id: Ib6105f3a06fe2e42864039356bf58dbe83749897\n'}, {'number': 2, 'created': '2020-03-18 16:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/9d7c232a50e648edb6a03bbe265642e889e8aa3a', 'message': 'Add max_upload_part_num param\n\nThe default in swift is 1000, though in S3, it is 10 000. Therefore,\nit is necessary to be able to configure it, so that a deployment\ncan be set with the same limits as S3.\n\nChange-Id: Ib6105f3a06fe2e42864039356bf58dbe83749897\n'}, {'number': 3, 'created': '2020-03-18 16:50:19.000000000', 'files': ['manifests/proxy/s3api.pp', 'spec/classes/swift_proxy_s3api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/294972d8fca90fe851cf68992fcd4c1457fd8886', 'message': 'Add max_upload_part_num param\n\nThe default in swift is 1000, though in S3, it is 10 000. Therefore,\nit is necessary to be able to configure it, so that a deployment\ncan be set with the same limits as S3.\n\nChange-Id: Ib6105f3a06fe2e42864039356bf58dbe83749897\n'}]",2,712635,294972d8fca90fe851cf68992fcd4c1457fd8886,14,6,3,6476,,,0,"Add max_upload_part_num param

The default in swift is 1000, though in S3, it is 10 000. Therefore,
it is necessary to be able to configure it, so that a deployment
can be set with the same limits as S3.

Change-Id: Ib6105f3a06fe2e42864039356bf58dbe83749897
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/35/712635/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/proxy/s3api.pp'],1,98feae35cc80308b3100dfb428d0031d1d56c360,max_upload_part_num,"# [*max_upload_part_num*] # Max upload per num # Default to 1000. # $auth_pipeline_check = false, $max_upload_part_num = '1000', 'filter:s3api/max_upload_part_num': value => $max_upload_part_num;", $auth_pipeline_check = false,7,1
openstack%2Fmanila~master~I7ca3d1057cc8d678fedb7e13b512615f4c9e898d,openstack/manila,master,I7ca3d1057cc8d678fedb7e13b512615f4c9e898d,[DNM] Handle force delete when share service is unresponsive,NEW,2020-03-18 22:00:27.000000000,2020-03-19 00:13:13.000000000,,"[{'_account_id': 12016}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 22:00:27.000000000', 'files': ['manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/api/v2/test_share_instances.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/55ae3e24d487adb6f934ae6bd1a315e9a603c8b9', 'message': ""[DNM] Handle force delete when share service is unresponsive\n\nThis patch is meant to incite a discussion on how to handle\nservice downtimes and administrator initiated cleanup.\n\nIf we go down this route, we'll need to do the same with\nother resources such as force deleting snapshots, replicas\nand unmanaging shares, snapshots and share servers.\n\nRelated-Bug: #1867030\n\nChange-Id: I7ca3d1057cc8d678fedb7e13b512615f4c9e898d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,713745,55ae3e24d487adb6f934ae6bd1a315e9a603c8b9,7,6,1,16643,,,0,"[DNM] Handle force delete when share service is unresponsive

This patch is meant to incite a discussion on how to handle
service downtimes and administrator initiated cleanup.

If we go down this route, we'll need to do the same with
other resources such as force deleting snapshots, replicas
and unmanaging shares, snapshots and share servers.

Related-Bug: #1867030

Change-Id: I7ca3d1057cc8d678fedb7e13b512615f4c9e898d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/45/713745/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/api/v2/test_share_instances.py']",3,55ae3e24d487adb6f934ae6bd1a315e9a603c8b9,bug/1867030,"from manila.share import rpcapifrom manila import utils self.mock_object(rpcapi.ShareAPI, 'delete_share_instance') self.mock_object(db, 'share_instance_update', mock.Mock( return_value=instance)) self.mock_object(utils, 'validate_service_host') if role == 'member': utils.validate_service_host.assert_not_called() else: utils.validate_service_host.assert_called_once_with( ctxt, 'fake_host') rpcapi.ShareAPI.delete_share_instance.assert_called_once_with( ctxt, instance, force=True) def test_instance_force_delete_share_service_down(self): instance, req = self._setup_share_instance_data() self.mock_object(rpcapi.ShareAPI, 'delete_share_instance') self.mock_object( utils, 'validate_service_host', mock.Mock(side_effect=exception.ServiceIsDown( service='fake_host@backend'))) self._force_delete(self.admin_context, instance, req, db.share_instance_get, 202) rpcapi.ShareAPI.delete_share_instance.assert_not_called()",,102,18
openstack%2Felection~master~I0161bafae28708d5a7c5dcaf08f9d4ac45a8c26c,openstack/election,master,I0161bafae28708d5a7c5dcaf08f9d4ac45a8c26c,Setup Victoria Elections Directories,MERGED,2020-03-18 23:33:54.000000000,2020-03-18 23:56:25.000000000,2020-03-18 23:54:59.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 23:33:54.000000000', 'files': ['candidates/victoria/TC/.placeholder', 'candidates/victoria/Cloudkitty/.placeholder', 'candidates/victoria/OpenStackSDK/.placeholder', 'candidates/victoria/Puppet_OpenStack/.placeholder', 'candidates/victoria/Keystone/.placeholder', 'candidates/victoria/Freezer/.placeholder', 'candidates/victoria/Oslo/.placeholder', 'candidates/victoria/Rally/.placeholder', 'candidates/victoria/Murano/.placeholder', 'candidates/victoria/OpenStack_Helm/.placeholder', 'candidates/victoria/Zun/.placeholder', 'candidates/victoria/Congress/.placeholder', 'candidates/victoria/Requirements/.placeholder', 'candidates/victoria/Heat/.placeholder', 'candidates/victoria/Manila/.placeholder', 'candidates/victoria/Blazar/.placeholder', 'candidates/victoria/Zaqar/.placeholder', 'candidates/victoria/Neutron/.placeholder', 'candidates/victoria/Telemetry/.placeholder', 'candidates/victoria/Tricircle/.placeholder', 'candidates/victoria/Solum/.placeholder', 'candidates/victoria/Quality_Assurance/.placeholder', 'candidates/victoria/Winstackers/.placeholder', 'candidates/victoria/Infrastructure/.placeholder', 'candidates/victoria/Openstack_Chef/.placeholder', 'candidates/victoria/Octavia/.placeholder', 'candidates/victoria/Nova/.placeholder', 'candidates/victoria/Magnum/.placeholder', 'candidates/victoria/I18n/.placeholder', 'candidates/victoria/Qinling/.placeholder', 'candidates/victoria/Karbor/.placeholder', 'candidates/victoria/Placement/.placeholder', 'candidates/victoria/Trove/.placeholder', 'candidates/victoria/Loci/.placeholder', 'candidates/victoria/Release_Management/.placeholder', 'candidates/victoria/Tripleo/.placeholder', 'candidates/victoria/Kuryr/.placeholder', 'candidates/victoria/Packaging_Rpm/.placeholder', 'candidates/victoria/Glance/.placeholder', 'candidates/victoria/OpenStackAnsible/.placeholder', 'candidates/victoria/Tacker/.placeholder', 'candidates/victoria/Storlets/.placeholder', 'candidates/victoria/Barbican/.placeholder', 'candidates/victoria/Masakari/.placeholder', 'candidates/victoria/Monasca/.placeholder', 'candidates/victoria/Adjutant/.placeholder', 'candidates/victoria/Cyborg/.placeholder', 'candidates/victoria/Horizon/.placeholder', 'candidates/victoria/Senlin/.placeholder', 'candidates/victoria/Vitrage/.placeholder', 'candidates/victoria/Mistral/.placeholder', 'candidates/victoria/Ec2_Api/.placeholder', 'candidates/victoria/Watcher/.placeholder', 'candidates/victoria/Designate/.placeholder', 'candidates/victoria/Kolla/.placeholder', 'candidates/victoria/Swift/.placeholder', 'candidates/victoria/Ironic/.placeholder', 'candidates/victoria/OpenStack_Charms/.placeholder', 'candidates/victoria/Sahara/.placeholder', 'candidates/victoria/Searchlight/.placeholder', 'candidates/victoria/Cinder/.placeholder'], 'web_link': 'https://opendev.org/openstack/election/commit/c55a0d44995469844b6ea41bfe84fe05fdfabad4', 'message': 'Setup Victoria Elections Directories\n\nChange-Id: I0161bafae28708d5a7c5dcaf08f9d4ac45a8c26c\n'}]",0,713758,c55a0d44995469844b6ea41bfe84fe05fdfabad4,7,2,1,16708,,,0,"Setup Victoria Elections Directories

Change-Id: I0161bafae28708d5a7c5dcaf08f9d4ac45a8c26c
",git fetch https://review.opendev.org/openstack/election refs/changes/58/713758/1 && git format-patch -1 --stdout FETCH_HEAD,"['candidates/victoria/TC/.placeholder', 'candidates/victoria/Cloudkitty/.placeholder', 'candidates/victoria/OpenStackSDK/.placeholder', 'candidates/victoria/Puppet_OpenStack/.placeholder', 'candidates/victoria/Keystone/.placeholder', 'candidates/victoria/Freezer/.placeholder', 'candidates/victoria/Oslo/.placeholder', 'candidates/victoria/Rally/.placeholder', 'candidates/victoria/Murano/.placeholder', 'candidates/victoria/OpenStack_Helm/.placeholder', 'candidates/victoria/Zun/.placeholder', 'candidates/victoria/Congress/.placeholder', 'candidates/victoria/Requirements/.placeholder', 'candidates/victoria/Heat/.placeholder', 'candidates/victoria/Manila/.placeholder', 'candidates/victoria/Blazar/.placeholder', 'candidates/victoria/Zaqar/.placeholder', 'candidates/victoria/Neutron/.placeholder', 'candidates/victoria/Telemetry/.placeholder', 'candidates/victoria/Tricircle/.placeholder', 'candidates/victoria/Solum/.placeholder', 'candidates/victoria/Quality_Assurance/.placeholder', 'candidates/victoria/Winstackers/.placeholder', 'candidates/victoria/Infrastructure/.placeholder', 'candidates/victoria/Openstack_Chef/.placeholder', 'candidates/victoria/Octavia/.placeholder', 'candidates/victoria/Nova/.placeholder', 'candidates/victoria/Magnum/.placeholder', 'candidates/victoria/I18n/.placeholder', 'candidates/victoria/Qinling/.placeholder', 'candidates/victoria/Karbor/.placeholder', 'candidates/victoria/Placement/.placeholder', 'candidates/victoria/Trove/.placeholder', 'candidates/victoria/Loci/.placeholder', 'candidates/victoria/Release_Management/.placeholder', 'candidates/victoria/Tripleo/.placeholder', 'candidates/victoria/Kuryr/.placeholder', 'candidates/victoria/Packaging_Rpm/.placeholder', 'candidates/victoria/Glance/.placeholder', 'candidates/victoria/OpenStackAnsible/.placeholder', 'candidates/victoria/Tacker/.placeholder', 'candidates/victoria/Storlets/.placeholder', 'candidates/victoria/Barbican/.placeholder', 'candidates/victoria/Masakari/.placeholder', 'candidates/victoria/Monasca/.placeholder', 'candidates/victoria/Adjutant/.placeholder', 'candidates/victoria/Cyborg/.placeholder', 'candidates/victoria/Horizon/.placeholder', 'candidates/victoria/Senlin/.placeholder', 'candidates/victoria/Vitrage/.placeholder', 'candidates/victoria/Mistral/.placeholder', 'candidates/victoria/Ec2_Api/.placeholder', 'candidates/victoria/Watcher/.placeholder', 'candidates/victoria/Designate/.placeholder', 'candidates/victoria/Kolla/.placeholder', 'candidates/victoria/Swift/.placeholder', 'candidates/victoria/Ironic/.placeholder', 'candidates/victoria/OpenStack_Charms/.placeholder', 'candidates/victoria/Sahara/.placeholder', 'candidates/victoria/Searchlight/.placeholder', 'candidates/victoria/Cinder/.placeholder']",61,c55a0d44995469844b6ea41bfe84fe05fdfabad4,setup_v_election,,,0,0
openstack%2Fneutron-tempest-plugin~master~I0742214a5ee5a901650a0142fa3718699bb13b73,openstack/neutron-tempest-plugin,master,I0742214a5ee5a901650a0142fa3718699bb13b73,Fixed test_sg_quota_increased test,MERGED,2020-03-15 10:42:52.000000000,2020-03-18 23:55:30.000000000,2020-03-18 23:55:30.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 21302}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 31450}]","[{'number': 1, 'created': '2020-03-15 10:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f1999fe9934a4103be665ffc52287d1ebcd40ee3', 'message': 'Fixed test_sg_quota_increased test\n\nThe old assertion will be always true.\nAs a result I proposing a fix for that.\n\nChange-Id: I0742214a5ee5a901650a0142fa3718699bb13b73\n'}, {'number': 2, 'created': '2020-03-15 11:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/97f75628171bd021aa8316ccbc5c2bba821a4fe7', 'message': 'Fixed test_sg_quota_increased test\n\nThe old assertion will be always true.\nAs a result I proposing a fix for that.\n\nChange-Id: I0742214a5ee5a901650a0142fa3718699bb13b73\n'}, {'number': 3, 'created': '2020-03-15 11:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2335a9ecd80c73b816ce84aaeb6494e158e54754', 'message': 'Fixed test_sg_quota_increased test\n\nThe old assertion will be always true.\nAs a result I proposing a fix for that.\n\nChange-Id: I0742214a5ee5a901650a0142fa3718699bb13b73\n'}, {'number': 4, 'created': '2020-03-16 11:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b39c56800817d73c7c7c851852106400af4aee8d', 'message': 'Fixed test_sg_quota_increased test\n\nThe old assertion will be always true.\nAs a result I proposing a fix for that.\n\nChange-Id: I0742214a5ee5a901650a0142fa3718699bb13b73\n'}, {'number': 5, 'created': '2020-03-16 11:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d1e3b464e0e142fb4eb7a5b2afb287ffa531caeb', 'message': 'Fixed test_sg_quota_increased test\n\nThe old assertion will be always true.\nAs a result I proposing a fix for that.\n\nChange-Id: I0742214a5ee5a901650a0142fa3718699bb13b73\n'}, {'number': 6, 'created': '2020-03-16 12:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c95df443ac357588b3917626a3b8767f06f27c31', 'message': 'Fixed test_sg_quota_increased test\n\nThe old assertion will be always true.\nAs a result I proposing a fix for that.\n\nChange-Id: I0742214a5ee5a901650a0142fa3718699bb13b73\n'}, {'number': 7, 'created': '2020-03-16 12:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b7499876845fcc35f26bb30744334eeea1f74c77', 'message': 'Fixed test_sg_quota_increased test\n\nThe old assertion will be always true.\nAs a result I proposing a fix for that.\n\nChange-Id: I0742214a5ee5a901650a0142fa3718699bb13b73\n'}, {'number': 8, 'created': '2020-03-17 19:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/70fa4e5f56bfd17338df42b0bce92e2d63572e28', 'message': 'Fixed test_sg_quota_increased test\n\nThe old assertion will be always true.\nAs a result I proposing a fix for that.\n\nChange-Id: I0742214a5ee5a901650a0142fa3718699bb13b73\n'}, {'number': 9, 'created': '2020-03-18 06:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5f2567dbcbdb6ad1dd02569caa907a2a08155fe5', 'message': 'Fixed test_sg_quota_increased test\n\nThe old assertion will be always true.\nAs a result I proposing a fix for that.\n\nChange-Id: I0742214a5ee5a901650a0142fa3718699bb13b73\n'}, {'number': 10, 'created': '2020-03-18 07:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/330f24098f9082f765d750b0b88c3759db562220', 'message': 'Fixed test_sg_quota_increased test\n\nThe old assertion will be always true.\nAs a result I proposing a fix for that.\n\nChange-Id: I0742214a5ee5a901650a0142fa3718699bb13b73\n'}, {'number': 11, 'created': '2020-03-18 08:25:17.000000000', 'files': ['neutron_tempest_plugin/api/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4e932abbb42dc7abc0e1994104630fc16c3d00e3', 'message': 'Fixed test_sg_quota_increased test\n\nThe old assertion will be always true.\nAs a result I proposing a fix for that.\n\nChange-Id: I0742214a5ee5a901650a0142fa3718699bb13b73\n'}]",29,713130,4e932abbb42dc7abc0e1994104630fc16c3d00e3,45,7,11,19118,,,0,"Fixed test_sg_quota_increased test

The old assertion will be always true.
As a result I proposing a fix for that.

Change-Id: I0742214a5ee5a901650a0142fa3718699bb13b73
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/30/713130/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_security_groups.py'],1,f1999fe9934a4103be665ffc52287d1ebcd40ee3,fix_security_groups_quota_test," self.assertGreater(self._get_sg_quota(), sg_quota, ""Security group quota wasn't changed correctly"")"," self.assertEqual(quota_set, new_quota, ""Security group quota was not changed correctly"")",2,2
openstack%2Fdevstack~master~Idac09e8259d58ed130b79b40528f733708000da7,openstack/devstack,master,Idac09e8259d58ed130b79b40528f733708000da7,Bring back load balance v2 guide,MERGED,2020-03-18 12:27:02.000000000,2020-03-18 23:48:43.000000000,2020-03-18 19:03:32.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-18 12:27:02.000000000', 'files': ['doc/source/guides.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/90f0baf3cb84118e51bc5990ba6885f07b679090', 'message': 'Bring back load balance v2 guide\n\nPrevious commit forgets to add an entry for load\nbalancer version 2. This ps brings them back.\n\nChange-Id: Idac09e8259d58ed130b79b40528f733708000da7\n'}]",0,713638,90f0baf3cb84118e51bc5990ba6885f07b679090,9,3,1,29071,,,0,"Bring back load balance v2 guide

Previous commit forgets to add an entry for load
balancer version 2. This ps brings them back.

Change-Id: Idac09e8259d58ed130b79b40528f733708000da7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/713638/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/guides.rst'],1,90f0baf3cb84118e51bc5990ba6885f07b679090,bring-back-ld-guide,Configure Load-Balancer Version 2 ----------------------------------- Guide on :doc:`Configure Load-Balancer Version 2 <guides/devstack-with-lbaas-v2>`. ,,5,0
openstack%2Frequirements~master~I1d079e13171024ca4850104ca35a053cfdda3c15,openstack/requirements,master,I1d079e13171024ca4850104ca35a053cfdda3c15,Add xstatic projects,MERGED,2020-03-12 17:25:32.000000000,2020-03-18 23:42:35.000000000,2020-03-18 23:41:18.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2020-03-12 17:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ed8f156660efe7b4eb67fb1e0cb6e5ddebc50ffc', 'message': 'Add xstatic projects\n\nNew xstatic projects are added and released on pypi site.\nAdd them to global requirements for referencing by other projects.\n\n* Is the library actively maintained?\n\nYes. Maintained as xstatic projects.\n\n* Is the library good code?\n\nYes. Published javascript code are adopted.\n\n* Is the library python 3 compatible?\n\nYes.\n\n* Is the library license compatible?\n\nYes. All provided with MIT License.\n\n* Is the library already packaged in the distros we target\n(Ubuntu latest / Fedora latest)?\n\nYes. Released on pypi site and can be simply installed with pip.\n\n* Is the function of this library already covered\nby other libraries in global-requirements.txt?\n\nNo. New functions are provided.\n\n* Is the library required for OpenStack project\nor related dev or infrastructure setup?\n\nYes. openstack/vitrage-dashboard\nReview: https://review.opendev.org/#/c/709208/\n\n* If the library release is managed by the Openstack release process\n does it use the cycle-with-intermediary release type?\n\nNo. Managed by openstack/release as xstatic type.\n\n* Do I need to update anything else?\n\nI am not sure but think the answer is NO.\n\nChange-Id: I1d079e13171024ca4850104ca35a053cfdda3c15\n'}, {'number': 2, 'created': '2020-03-17 19:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ac1379eba902f273e40bc2b330ff4b26361c6dd2', 'message': 'Add xstatic projects\n\nNew xstatic projects are added and released on pypi site.\nAdd them to global requirements for referencing by other projects.\n\n* Is the library actively maintained?\n\nYes. Maintained as xstatic projects.\n\n* Is the library good code?\n\nYes. Published javascript code are adopted.\n\n* Is the library python 3 compatible?\n\nYes.\n\n* Is the library license compatible?\n\nYes. All provided with MIT License.\n\n* Is the library already packaged in the distros we target\n(Ubuntu latest / Fedora latest)?\n\nYes. Released on pypi site and can be simply installed with pip.\n\n* Is the function of this library already covered\nby other libraries in global-requirements.txt?\n\nNo. New functions are provided.\n\n* Is the library required for OpenStack project\nor related dev or infrastructure setup?\n\nYes. openstack/vitrage-dashboard\nReview: https://review.opendev.org/#/c/709208/\n\n* If the library release is managed by the Openstack release process\n does it use the cycle-with-intermediary release type?\n\nNo. Managed by openstack/release as xstatic type.\n\n* Do I need to update anything else?\n\nI am not sure but think the answer is NO.\n\nChange-Id: I1d079e13171024ca4850104ca35a053cfdda3c15\n'}, {'number': 3, 'created': '2020-03-18 10:45:16.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/733a644d7266af28b669d71542e3ce96dd5541e6', 'message': 'Add xstatic projects\n\nNew xstatic projects are added and released on pypi site.\nAdd them to global requirements for referencing by other projects.\n\n* Is the library actively maintained?\n\nYes. Maintained as xstatic projects.\n\n* Is the library good code?\n\nYes. Published javascript code are adopted.\n\n* Is the library python 3 compatible?\n\nYes.\n\n* Is the library license compatible?\n\nYes. All provided with MIT License.\n\n* Is the library already packaged in the distros we target\n(Ubuntu latest / Fedora latest)?\n\nYes. Released on pypi site and can be simply installed with pip.\n\n* Is the function of this library already covered\nby other libraries in global-requirements.txt?\n\nNo. New functions are provided.\n\n* Is the library required for OpenStack project\nor related dev or infrastructure setup?\n\nYes. openstack/vitrage-dashboard\nReview: https://review.opendev.org/#/c/709208/\n\n* If the library release is managed by the Openstack release process\n does it use the cycle-with-intermediary release type?\n\nNo. Managed by openstack/release as xstatic type.\n\n* Do I need to update anything else?\n\nI am not sure but think the answer is NO.\n\nChange-Id: I1d079e13171024ca4850104ca35a053cfdda3c15\n'}]",0,712744,733a644d7266af28b669d71542e3ce96dd5541e6,15,5,3,27339,,,0,"Add xstatic projects

New xstatic projects are added and released on pypi site.
Add them to global requirements for referencing by other projects.

* Is the library actively maintained?

Yes. Maintained as xstatic projects.

* Is the library good code?

Yes. Published javascript code are adopted.

* Is the library python 3 compatible?

Yes.

* Is the library license compatible?

Yes. All provided with MIT License.

* Is the library already packaged in the distros we target
(Ubuntu latest / Fedora latest)?

Yes. Released on pypi site and can be simply installed with pip.

* Is the function of this library already covered
by other libraries in global-requirements.txt?

No. New functions are provided.

* Is the library required for OpenStack project
or related dev or infrastructure setup?

Yes. openstack/vitrage-dashboard
Review: https://review.opendev.org/#/c/709208/

* If the library release is managed by the Openstack release process
 does it use the cycle-with-intermediary release type?

No. Managed by openstack/release as xstatic type.

* Do I need to update anything else?

I am not sure but think the answer is NO.

Change-Id: I1d079e13171024ca4850104ca35a053cfdda3c15
",git fetch https://review.opendev.org/openstack/requirements refs/changes/44/712744/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,ed8f156660efe7b4eb67fb1e0cb6e5ddebc50ffc,,XStatic-Dagre===0.6.4.0 XStatic-Dagre-D3===0.4.17.0 XStatic-Graphlib===1.0.7.0 XStatic-lodash===4.16.4.1 XStatic-moment===2.8.4.1 XStatic-Moment-Timezone===0.5.22.0,,12,0
openstack%2Frequirements~master~If65e7aff4a90e2c8ebd46cc43a21b2860a35b909,openstack/requirements,master,If65e7aff4a90e2c8ebd46cc43a21b2860a35b909,Added sqlalchemy-filters requirement,MERGED,2020-02-29 11:38:46.000000000,2020-03-18 23:35:42.000000000,2020-03-18 23:34:23.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31648}]","[{'number': 1, 'created': '2020-02-29 11:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c9ab549c294a5be61ed2747fb7f030ed03497bcd', 'message': 'Added sqlalchemy-filters to global requirements\n\nThis module used in the implementation of Attribute Filtering of\nVNF Packages defined in NFV_SOL005 section 9.4.2.3.2. This module\nis used to add filter criterion to SQL alchemy queries. These\ncriterion were based on attribute values of VNFPackages\npassed in the GET request to list VNFPackages.\n\nChange-Id: If65e7aff4a90e2c8ebd46cc43a21b2860a35b909\n'}, {'number': 2, 'created': '2020-03-10 04:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ccd2a89359e2d1b9d2b882f302476457fbe95a83', 'message': 'Added sqlalchemy-filters requirements\n\nhttps://pypi.org/project/sqlalchemy-filters/\nUseful for Filter, sort and paginate SQLAlchemy query objects.\n\n1. Is the library actively maintained?\n   Yes. The library had 2 releases in 2019.\n\n2. Is the library good code?\n   Yes. It also has tox targets for testing.\n\n3. Is the library python 3 compatible?\n   Yes.\n\n4. Is the library license compatible?\n   Yes. Apache-2.0\n\n5. Is the library already packaged in the distros we\n   target (Ubuntu latest / Fedora latest)?\n   No.\n\n6. Is the function of this library already covered by other\n   libraries in global-requirements.txt?\n   No.\n\n7. Is the library required for OpenStack project or related dev\n   or infrastructure setup?\n\n   This library is used in Tacker project for the implementation of\n   Attribute Filtering of VNF Packages defined in NFV_SOL005 section\n   9.4.2.3.2. This module is used to add filter criterion to SQL\n   alchemy queries. These criterion were based on attribute values of\n   VNFPackages passed in the GET request to list VNFPackages.\n\n8. If the library release is managed by the Openstack release\n   process does it use the cycle-with-intermediary release type?\n   Not aware of it.\n\n9. Do I need to update anything else?\n   No.\n\nChange-Id: If65e7aff4a90e2c8ebd46cc43a21b2860a35b909\n'}, {'number': 3, 'created': '2020-03-10 07:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e95673d051dfcde4354344b617b6f76b55cc502', 'message': 'Added sqlalchemy-filters requirements\n\nhttps://pypi.org/project/sqlalchemy-filters/\nUseful for Filter, sort and paginate SQLAlchemy query objects.\n\n1. Is the library actively maintained?\n   Yes. The library had 2 releases in 2019.\n\n2. Is the library good code?\n   Yes. It also has tox targets for testing.\n\n3. Is the library python 3 compatible?\n   Yes.\n\n4. Is the library license compatible?\n   Yes. Apache-2.0\n\n5. Is the library already packaged in the distros we\n   target (Ubuntu latest / Fedora latest)?\n   No.\n\n6. Is the function of this library already covered by other\n   libraries in global-requirements.txt?\n   No.\n\n7. Is the library required for OpenStack project or related dev\n   or infrastructure setup?\n\n   This library is used in Tacker project for the implementation of\n   Attribute Filtering of VNF Packages defined in NFV_SOL005 section\n   9.4.2.3.2. This module is used to add filter criterion to SQL\n   alchemy queries. These criterion were based on attribute values of\n   VNFPackages passed in the GET request to list VNFPackages.\n\n8. If the library release is managed by the Openstack release\n   process does it use the cycle-with-intermediary release type?\n   Not aware of it.\n\n9. Do I need to update anything else?\n   No.\n\nChange-Id: If65e7aff4a90e2c8ebd46cc43a21b2860a35b909\n'}, {'number': 4, 'created': '2020-03-13 01:01:52.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/72d075a74ce3c6230c7d4774a49ae94e18a07a90', 'message': 'Added sqlalchemy-filters requirement\n\nhttps://pypi.org/project/sqlalchemy-filters/\nUseful for Filter, sort and paginate SQLAlchemy query objects.\n\n1. Is the library actively maintained?\n   Yes. The library had 2 releases in 2019.\n   Since there was a concern whether it is being actively maintained,\n   we contacted with the maintainer to ask the status. Below link to\n   the issue confirms that project is actively maintained, pending\n   PRs will be handled soon.\n   https://github.com/juliotrigo/sqlalchemy-filters/issues/42\n\n2. Is the library good code?\n   Yes. It also has tox targets for testing.\n\n3. Is the library python 3 compatible?\n   Yes.\n\n4. Is the library license compatible?\n   Yes. Apache-2.0\n\n5. Is the library already packaged in the distros we\n   target (Ubuntu latest / Fedora latest)?\n   No.\n\n6. Is the function of this library already covered by other\n   libraries in global-requirements.txt?\n   No.\n\n7. Is the library required for OpenStack project or related dev\n   or infrastructure setup?\n\n   This library is used in Tacker project for the implementation of\n   Attribute Filtering of VNF Packages defined in NFV_SOL005 section\n   9.4.2.3.2. This module is used to add filter criterion to SQL\n   alchemy queries. These criterion were based on attribute values of\n   VNFPackages passed in the GET request to list VNFPackages.\n\n8. If the library release is managed by the Openstack release\n   process does it use the cycle-with-intermediary release type?\n   Not aware of it.\n\n9. Do I need to update anything else?\n   No.\n\nChange-Id: If65e7aff4a90e2c8ebd46cc43a21b2860a35b909\n'}]",0,710555,72d075a74ce3c6230c7d4774a49ae94e18a07a90,20,6,4,31580,,,0,"Added sqlalchemy-filters requirement

https://pypi.org/project/sqlalchemy-filters/
Useful for Filter, sort and paginate SQLAlchemy query objects.

1. Is the library actively maintained?
   Yes. The library had 2 releases in 2019.
   Since there was a concern whether it is being actively maintained,
   we contacted with the maintainer to ask the status. Below link to
   the issue confirms that project is actively maintained, pending
   PRs will be handled soon.
   https://github.com/juliotrigo/sqlalchemy-filters/issues/42

2. Is the library good code?
   Yes. It also has tox targets for testing.

3. Is the library python 3 compatible?
   Yes.

4. Is the library license compatible?
   Yes. Apache-2.0

5. Is the library already packaged in the distros we
   target (Ubuntu latest / Fedora latest)?
   No.

6. Is the function of this library already covered by other
   libraries in global-requirements.txt?
   No.

7. Is the library required for OpenStack project or related dev
   or infrastructure setup?

   This library is used in Tacker project for the implementation of
   Attribute Filtering of VNF Packages defined in NFV_SOL005 section
   9.4.2.3.2. This module is used to add filter criterion to SQL
   alchemy queries. These criterion were based on attribute values of
   VNFPackages passed in the GET request to list VNFPackages.

8. If the library release is managed by the Openstack release
   process does it use the cycle-with-intermediary release type?
   Not aware of it.

9. Do I need to update anything else?
   No.

Change-Id: If65e7aff4a90e2c8ebd46cc43a21b2860a35b909
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/710555/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,c9ab549c294a5be61ed2747fb7f030ed03497bcd,bp/tosca-csar-mgmt-driver,sqlalchemy-filters>=0.10.0,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744,openstack/tripleo-heat-templates,stable/train,I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744,Fix the mounting issues for the TLS everywhere deployment,MERGED,2020-02-02 11:55:26.000000000,2020-03-18 23:33:26.000000000,2020-03-18 23:33:26.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 12171}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25241}, {'_account_id': 28223}, {'_account_id': 28714}, {'_account_id': 30921}]","[{'number': 1, 'created': '2020-02-02 11:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b63770af692da47c7e3e1b7c22476ac92eb1cb9', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nCloses-Bug: #1860638\nCloses-Bug: #1860641\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n'}, {'number': 2, 'created': '2020-02-02 11:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1384a928280afbb0c66973cb252967a1167942d', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nCloses-Bug: #1860638\nCloses-Bug: #1860641\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n'}, {'number': 3, 'created': '2020-02-02 12:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/843b3120301ea04bd97b70f03f9e74c5f025805a', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n'}, {'number': 5, 'created': '2020-03-18 08:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/806d8e47541dd05495eb7f6ded3af5484bf461e9', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nDepends-On: I836ab1a23c8aea35c0cea54d0765c7313a4b9038\nCloses-Bug: #1860638\nCloses-Bug: #1860641\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n(cherry picked from commit c155ea701efced6fbd3384989bc2bceb3349fc26)\n'}, {'number': 6, 'created': '2020-03-18 08:59:03.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8df8c9e3828f887eab626720dd61fb90496317c8', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nDepends-On: I836ab1a23c8aea35c0cea54d0765c7313a4b9038\nCloses-Bug: #1860638\nCloses-Bug: #1860641\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n(cherry picked from commit c155ea701efced6fbd3384989bc2bceb3349fc26)\n'}]",5,705355,8df8c9e3828f887eab626720dd61fb90496317c8,24,11,5,30921,,,0,"Fix the mounting issues for the TLS everywhere deployment

This patch adds the CRL directory to the haproxy in case of TLS
everywhere deployment, it also removes the duplicated CA file
from the haproxy and rabbitmq containers.

Depends-On: I836ab1a23c8aea35c0cea54d0765c7313a4b9038
Closes-Bug: #1860638
Closes-Bug: #1860641

Change-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744
(cherry picked from commit c155ea701efced6fbd3384989bc2bceb3349fc26)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/705355/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml']",4,7b63770af692da47c7e3e1b7c22476ac92eb1cb9,bug/1860638," InternalTLSCRLPEMDir: default: '/etc/pki/CA/crl/' type: string description: The directory of the CRL PEM file to be mounted. - list_join: - ':' - - {get_param: InternalTLSCRLPEMDir} - {get_param: InternalTLSCRLPEMDir} - 'ro,shared' - - {get_param: InternalTLSCRLPEMDir} - {get_param: InternalTLSCRLPEMDir}", - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile},11,22
openstack%2Fkolla~stable%2Fstein~I00b8c945470a0f63f23f2d0da74eed3189f5d9e5,openstack/kolla,stable/stein,I00b8c945470a0f63f23f2d0da74eed3189f5d9e5,mariadb: install mariabackup on Debian,MERGED,2020-03-18 12:54:02.000000000,2020-03-18 23:21:10.000000000,2020-03-18 23:19:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-18 12:54:02.000000000', 'files': ['docker/mariadb/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1a0886f84fa1fbee91dfeff628f4e2e77c9ef7a7', 'message': 'mariadb: install mariabackup on Debian\n\nOn AArch64 systems we are unable to deploy Stein due to lack of\nmariabackup command.\n\nChange-Id: I00b8c945470a0f63f23f2d0da74eed3189f5d9e5\nCloses-bug: #1867750\n'}]",2,713647,1a0886f84fa1fbee91dfeff628f4e2e77c9ef7a7,16,5,1,24072,,,0,"mariadb: install mariabackup on Debian

On AArch64 systems we are unable to deploy Stein due to lack of
mariabackup command.

Change-Id: I00b8c945470a0f63f23f2d0da74eed3189f5d9e5
Closes-bug: #1867750
",git fetch https://review.opendev.org/openstack/kolla refs/changes/47/713647/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/mariadb/Dockerfile.j2'],1,1a0886f84fa1fbee91dfeff628f4e2e77c9ef7a7,," 'mariadb-backup',",,1,0
openstack%2Fopenstack-zuul-jobs~master~Ib9e7627ed7cdc24cd2db423aba8db82099788ce4,openstack/openstack-zuul-jobs,master,Ib9e7627ed7cdc24cd2db423aba8db82099788ce4,Fix translation jobs following horizon change,MERGED,2020-03-18 21:43:32.000000000,2020-03-18 23:19:40.000000000,2020-03-18 23:18:09.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 21:43:32.000000000', 'files': ['roles/prepare-zanata-client/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/96680e8177d2da6f2c54dd7c76102c36f8e0ca64', 'message': 'Fix translation jobs following horizon change\n\nChange I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc in horizon broke the\ntranslation jobs for dashboard projects, example failure:\nhttp://zuul.opendev.org/t/openstack/build/a636f60d416948849d5402de9ae83b1a/\n\nFollow horizon bindep change and install libpcre3-dev to fix it.\n\nChange-Id: Ib9e7627ed7cdc24cd2db423aba8db82099788ce4\n'}]",0,713744,96680e8177d2da6f2c54dd7c76102c36f8e0ca64,8,3,1,6547,,,0,"Fix translation jobs following horizon change

Change I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc in horizon broke the
translation jobs for dashboard projects, example failure:
http://zuul.opendev.org/t/openstack/build/a636f60d416948849d5402de9ae83b1a/

Follow horizon bindep change and install libpcre3-dev to fix it.

Change-Id: Ib9e7627ed7cdc24cd2db423aba8db82099788ce4
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/44/713744/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/prepare-zanata-client/tasks/main.yaml'],1,96680e8177d2da6f2c54dd7c76102c36f8e0ca64,pyScss2, - libpcre3-dev,,1,0
openstack%2Fdiskimage-builder~master~Ie01b795991710c93f6b669c8f14b57eb4412c1d5,openstack/diskimage-builder,master,Ie01b795991710c93f6b669c8f14b57eb4412c1d5,Add support for build-only packages,MERGED,2020-03-18 19:40:48.000000000,2020-03-18 22:55:09.000000000,2020-03-18 22:53:49.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-18 19:40:48.000000000', 'files': ['diskimage_builder/elements/package-installs/bin/package-installs-squash', 'diskimage_builder/elements/package-installs/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c11370305021ffcb9eaf907d8374aa6e46df6b0f', 'message': 'Add support for build-only packages\n\nSometimes an element needs packages installed so that it can\nperform tasks but those package are not appropriate for the\nfinal image content. Add a ""build-only"" flag to package-install-squash\nwhich will cause package to be installed at the beginning of the\nphase and then uninstalled at the end of the phase.\n\nChange-Id: Ie01b795991710c93f6b669c8f14b57eb4412c1d5\n'}]",0,713726,c11370305021ffcb9eaf907d8374aa6e46df6b0f,12,6,1,2,,,0,"Add support for build-only packages

Sometimes an element needs packages installed so that it can
perform tasks but those package are not appropriate for the
final image content. Add a ""build-only"" flag to package-install-squash
which will cause package to be installed at the beginning of the
phase and then uninstalled at the end of the phase.

Change-Id: Ie01b795991710c93f6b669c8f14b57eb4412c1d5
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/26/713726/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/package-installs/bin/package-installs-squash', 'diskimage_builder/elements/package-installs/README.rst']",2,c11370305021ffcb9eaf907d8374aa6e46df6b0f,, libssl-dev: build-only: TrueSetting ``build-only`` will cause the package to be added both to the list of packages to be installed and to the list of packages to be uninstalled. This allows expressing build-time dependencies that should not end up in the final image. ,,13,3
openstack%2Fopenstack-ansible-ops~master~Id06eb78b52705aefea9cfe1247f53bac58badd52,openstack/openstack-ansible-ops,master,Id06eb78b52705aefea9cfe1247f53bac58badd52,Subdivision of elastic-logstash group,MERGED,2020-02-14 14:39:59.000000000,2020-03-18 22:08:27.000000000,2020-03-18 22:06:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-02-14 14:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ba438e963dd400c1b98fa15bf6df410049253217', 'message': '[WIP] Optional subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by allowing the optional specification of separate\nelastic and logstash groups which override the current\nelastic-logstash group. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons. If elastic and/or logstash groups are not\nspecified, the default behaviour is as before, with the elastic\nand logstash nodes co-located.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 2, 'created': '2020-02-17 11:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/af26eece6044591ccae47cae0b953463f3fc4ee2', 'message': '[WIP] Optional subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by allowing the optional specification of separate\nelastic and logstash groups which override the current\nelastic-logstash group. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons. If elastic and/or logstash groups are not\nspecified, the default behaviour is as before, with the elastic\nand logstash nodes co-located.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 3, 'created': '2020-02-17 17:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ffc67c2568d02ff42081e21b5d517d0fad43a760', 'message': 'Optional subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by allowing the optional specification of separate\nelastic and logstash groups which override the current\nelastic-logstash group. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons. If elastic and/or logstash groups are not\nspecified, the default behaviour is as before, with the elastic\nand logstash nodes co-located.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 4, 'created': '2020-02-18 10:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/6ad05b74e606275de93ac298705242f5de15f150', 'message': 'Optional subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by allowing the optional specification of separate\nelastic and logstash groups which override the current\nelastic-logstash group. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons. If elastic and/or logstash groups are not\nspecified, the default behaviour is as before, with the elastic\nand logstash nodes co-located.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 5, 'created': '2020-02-20 09:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1f092576acc52037a0b6bec070d74b96ead4d111', 'message': 'Optional subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by allowing the optional specification of separate\nelastic and logstash groups which override the current\nelastic-logstash group. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons. If elastic and/or logstash groups are not\nspecified, the default behaviour is as before, with the elastic\nand logstash nodes co-located.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 6, 'created': '2020-02-20 10:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7114e097efba1ebbb8f9bba2cb060793e26a660d', 'message': 'Optional subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by allowing the optional specification of separate\nelastic and logstash groups which override the current\nelastic-logstash group. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons. If elastic and/or logstash groups are not\nspecified, the default behaviour is as before, with the elastic\nand logstash nodes co-located.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 7, 'created': '2020-03-06 11:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/08983d15f9c3cb9d4532e8d9b06c3f9a1331046d', 'message': 'Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by  requiring specification of separate\nelastic and logstash groups. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 8, 'created': '2020-03-06 15:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/bf0cfeeaf5b2f683830a6cc68158f281c4c06855', 'message': 'Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by  requiring specification of separate\nelastic and logstash groups. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 9, 'created': '2020-03-06 15:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/860153540d590ff4d859814c681cac7b643db2d9', 'message': 'Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by  requiring specification of separate\nelastic and logstash groups. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 10, 'created': '2020-03-09 16:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/b9ebcd28863fa902ef47a454d17651453c0c847c', 'message': '[WIP] Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by  requiring specification of separate\nelastic and logstash groups. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 11, 'created': '2020-03-09 16:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/598c63c3c74953aaf73e9332f3035e524bbe3519', 'message': '[WIP] Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by  requiring specification of separate\nelastic and logstash groups. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 12, 'created': '2020-03-09 16:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/b1552f9f2aeb6e5e12686a891f48df3754b26201', 'message': '[WIP] Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by  requiring specification of separate\nelastic and logstash groups. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 13, 'created': '2020-03-09 17:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7fa2967c50590f200a31a250d0dec581762dcfdc', 'message': '[WIP] Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by  requiring specification of separate\nelastic and logstash groups. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 14, 'created': '2020-03-10 09:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ec7a98d4846db03c42aac67f1b7ffbc6057675dc', 'message': '[WIP] Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by  requiring specification of separate\nelastic and logstash groups. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 15, 'created': '2020-03-10 10:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/db9f05f817e2893af087a8abcfc1681b0cc5c0ec', 'message': '[WIP] Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by  requiring specification of separate\nelastic and logstash groups. This is particularly important where\ninstances of elasticsearch and logstash are separated for resource\nreasons.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 16, 'created': '2020-03-10 10:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f4da198a40834ffb77e78e73d9d3c12f0db8e965', 'message': 'Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by requiring specification of separate elastic and\nlogstash groups. This is particularly important where instances of\nelasticsearch and logstash are separated for resource reasons, a\ncommon setup for an elastic cluster.\n\nThe default setup for the elastic nodes has been simplified, with\nall non-coordinating nodes being both data and ingest nodes unless\notherwise specified. This was previously defined algorithmically,\nwith the elastic node setup tightly coupled to the placement of the\nlogstash instances.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 17, 'created': '2020-03-11 10:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4b0b672dd6b190dac03a652b5b8e01f48faa14ab', 'message': 'Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by requiring specification of separate elastic and\nlogstash groups. This is particularly important where instances of\nelasticsearch and logstash are separated for resource reasons, a\ncommon setup for an elastic cluster.\n\nThe default setup for the elastic nodes has been simplified, with\nall non-coordinating nodes being both data and ingest nodes unless\notherwise specified. This was previously defined algorithmically,\nwith the elastic node setup tightly coupled to the placement of the\nlogstash instances.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 18, 'created': '2020-03-11 15:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ad2a4ca0edc52070b26e5ac43584e1f2f48bab36', 'message': 'Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by requiring specification of separate elastic and\nlogstash groups. This is particularly important where instances of\nelasticsearch and logstash are separated for resource reasons, a\ncommon setup for an elastic cluster.\n\nThe default setup for the elastic nodes has been simplified, with\nall non-coordinating nodes being both data and ingest nodes unless\notherwise specified. This was previously defined algorithmically,\nwith the elastic node setup tightly coupled to the placement of the\nlogstash instances.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 19, 'created': '2020-03-12 10:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/687180f895b3c1130ed038ad48d5754a7392a426', 'message': 'Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by requiring specification of separate elastic and\nlogstash groups. This is particularly important where instances of\nelasticsearch and logstash are separated for resource reasons, a\ncommon setup for an elastic cluster.\n\nThe default setup for the elastic nodes has been simplified, with\nall non-coordinating nodes being both data and ingest nodes unless\notherwise specified. This was previously defined algorithmically,\nwith the elastic node setup tightly coupled to the placement of the\nlogstash instances.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 20, 'created': '2020-03-18 11:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/fc5741a06cc18f448df6e73a638fa6a54f79e716', 'message': 'Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by requiring specification of separate elastic and\nlogstash groups. This is particularly important where instances of\nelasticsearch and logstash are separated for resource reasons, a\ncommon setup for an elastic cluster.\n\nThe default setup for the elastic nodes has been simplified, with\nall non-coordinating nodes being both data and ingest nodes unless\notherwise specified. This was previously defined algorithmically,\nwith the elastic node setup tightly coupled to the placement of the\nlogstash instances.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}, {'number': 21, 'created': '2020-03-18 16:46:41.000000000', 'files': ['elk_metrics_7x/installAuditbeat.yml', 'elk_metrics_7x/roles/elastic_logstash/handlers/main.yml', 'elk_metrics_7x/env.d/elk.yml', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_7x/createElasticIndexes.yml', 'elk_metrics_7x/README.rst', 'elk_metrics_7x/showElasticCluster.yml', 'elk_metrics_7x/tests/inventory/test-metal-inventory.yml', 'elk_metrics_7x/installElastic.yml', 'elk_metrics_7x/roles/elasticsearch/tasks/main.yml', 'elk_metrics_7x/installJournalbeat.yml', 'elk_metrics_7x/vars/variables.yml', 'elk_metrics_7x/templates/_macros.j2', 'elk_metrics_7x/installLogstash.yml', 'elk_metrics_7x/installAPMserver.yml', 'elk_metrics_7x/roles/elastic_ilm/defaults/main.yml', 'elk_metrics_7x/tests/testAPI.yml', 'elk_metrics_7x/roles/elastic_metricbeat/templates/metricbeat.yml.j2', 'elk_metrics_7x/installHeartbeat.yml', 'elk_metrics_7x/roles/elastic_kibana/defaults/main.yml', 'elk_metrics_7x/installPacketbeat.yml', 'elk_metrics_7x/tests/inventory/test-container-inventory.yml', 'elk_metrics_7x/installFilebeat.yml', 'elk_metrics_7x/installMetricbeat.yml', 'elk_metrics_7x/setupKibanaDashboard.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4851e29e9c1e047dac5d87205dfcabf8099e95ab', 'message': 'Subdivision of elastic-logstash group\n\nIt is currently assumed that the elasticsearch data nodes and the\nlogstash nodes are co-located within the same container during\ndeployment of the ELK stack. This commit is intended to remove that\nassumption by requiring specification of separate elastic and\nlogstash groups. This is particularly important where instances of\nelasticsearch and logstash are separated for resource reasons, a\ncommon setup for an elastic cluster.\n\nThe default setup for the elastic nodes has been simplified, with\nall non-coordinating nodes being both data and ingest nodes unless\notherwise specified. This was previously defined algorithmically,\nwith the elastic node setup tightly coupled to the placement of the\nlogstash instances.\n\nChange-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52\n'}]",4,707849,4851e29e9c1e047dac5d87205dfcabf8099e95ab,79,4,21,31004,,,0,"Subdivision of elastic-logstash group

It is currently assumed that the elasticsearch data nodes and the
logstash nodes are co-located within the same container during
deployment of the ELK stack. This commit is intended to remove that
assumption by requiring specification of separate elastic and
logstash groups. This is particularly important where instances of
elasticsearch and logstash are separated for resource reasons, a
common setup for an elastic cluster.

The default setup for the elastic nodes has been simplified, with
all non-coordinating nodes being both data and ingest nodes unless
otherwise specified. This was previously defined algorithmically,
with the elastic node setup tightly coupled to the placement of the
logstash instances.

Change-Id: Id06eb78b52705aefea9cfe1247f53bac58badd52
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/49/707849/13 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/installJournalbeat.yml', 'elk_metrics_7x/vars/variables.yml', 'elk_metrics_7x/installAuditbeat.yml', 'elk_metrics_7x/templates/_macros.j2', 'elk_metrics_7x/installLogstash.yml', 'elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_7x/roles/elastic_ilm/defaults/main.yml', 'elk_metrics_7x/README.rst', 'elk_metrics_7x/installElastic.yml', 'elk_metrics_7x/installHeartbeat.yml', 'elk_metrics_7x/roles/elastic_kibana/defaults/main.yml', 'elk_metrics_7x/installPacketbeat.yml', 'elk_metrics_7x/installFilebeat.yml', 'elk_metrics_7x/installMetricbeat.yml']",14,ba438e963dd400c1b98fa15bf6df410049253217,elastic-logstash, hosts: elastic_hosts[0], hosts: elastic-logstash[0],38,28
openstack%2Fproject-config~master~Ie8935f47db855647e19ae091044e5ac1871f1551,openstack/project-config,master,Ie8935f47db855647e19ae091044e5ac1871f1551,Update ansible-lint and add fake zuul_return,MERGED,2020-01-15 02:45:38.000000000,2020-03-18 22:06:02.000000000,2020-03-18 22:03:50.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-01-15 02:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3b16bb5809b7b1bdae3ec6741230c706410e93c4', 'message': 'Update ansible-lint to version 4\n\nSimilar to I35315c82200686841a9b1d4c87c7f27a71bd8931, update to the\nlatest linter.  Error values have changed, and the code changes were\nall minor whitespace.\n\nChange-Id: Ie8935f47db855647e19ae091044e5ac1871f1551\n'}, {'number': 2, 'created': '2020-01-15 10:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/911b60997f96f857f5cb2c28b6608eb8d9ee1967', 'message': 'Update ansible-lint to version 4.2\n\n- ansible-lint 4.2.0 is now able to detect playbooks/roles, so we no\n  longer need to feed it files\n- move its config out of tox.ini so it can be used by any tools, or\n  without tox\n\nChange-Id: Ie8935f47db855647e19ae091044e5ac1871f1551\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 3, 'created': '2020-01-15 10:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fa8bd6d97abfa8ef4afc79e975c311271ef509e9', 'message': 'Update ansible-lint to version 4.2\n\n- ansible-lint 4.2.0 is now able to detect playbooks/roles, so we no\n  longer need to feed it files\n- move its config out of tox.ini so it can be used by any tools, or\n  without tox\n\nChange-Id: Ie8935f47db855647e19ae091044e5ac1871f1551\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 4, 'created': '2020-03-18 20:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e54ab61b9826ed596aa59b7002b87c0aa160a4e7', 'message': ""Update ansible-lint to version 4.2\n\n- Use zuul_return fake module to make ansible lint happy, this allows\n  to remove Zuul import.\n- While ansible-lint 4.2.0 is now able to detect playbooks/roles, this\n  is broken, so don't use it\n- move its config out of tox.ini so it can be used by any tools, or\n  without tox\n\nChange-Id: Ie8935f47db855647e19ae091044e5ac1871f1551\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\nCo-Authored-By: Andreas Jaeger <aj@suse.com>\n""}, {'number': 5, 'created': '2020-03-18 21:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7f960eb9e3aaf583c891eb37d2c54c9f26896889', 'message': ""Update ansible-lint and add fake zuul_return\n\n- Use zuul_return fake module to make ansible lint happy, this allows\n  to remove Zuul import.\n- While ansible-lint 4.2.0 is now able to detect playbooks/roles, this\n  is broken, so don't use it\n- move its config out of tox.ini so it can be used by any tools, or\n  without tox\n\nChange-Id: Ie8935f47db855647e19ae091044e5ac1871f1551\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\nCo-Authored-By: Andreas Jaeger <aj@suse.com>\n""}, {'number': 6, 'created': '2020-03-18 21:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2a03e3e83c6dd95923aafe6db24142e2f4824572', 'message': ""Update ansible-lint and add fake zuul_return\n\n- Use zuul_return fake module to make ansible lint happy, this allows\n  to remove Zuul import.\n- While ansible-lint 4.2.0 is now able to detect playbooks/roles, this\n  is broken, so don't use it\n- move its config out of tox.ini so it can be used by any tools, or\n  without tox\n\nChange-Id: Ie8935f47db855647e19ae091044e5ac1871f1551\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\nCo-Authored-By: Andreas Jaeger <aj@suse.com>\n""}, {'number': 7, 'created': '2020-03-18 21:28:16.000000000', 'files': ['playbooks/translation/upstream-translation-update.yaml', 'roles/use-cached-repos/tasks/main.yaml', 'tests/fake-ansible/library/zuul_return.py', 'playbooks/proposal/propose-updates.yaml', 'playbooks/translation/openstack-translation-artifacts.yaml', 'tox.ini', 'playbooks/publish/openstack-artifacts.yaml', '.ansible-lint', 'roles/test-upload-logs/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0326363e48df255de7ce3c9b911f41f435d50182', 'message': ""Update ansible-lint and add fake zuul_return\n\n- Use zuul_return fake module to make ansible lint happy, this allows\n  to remove Zuul import.\n- While ansible-lint 4.2.0 is now able to detect playbooks/roles, this\n  is broken, so don't use it\n- move its config out of tox.ini so it can be used by any tools, or\n  without tox\n\nChange-Id: Ie8935f47db855647e19ae091044e5ac1871f1551\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\nCo-Authored-By: Andreas Jaeger <aj@suse.com>\n""}]",2,702575,0326363e48df255de7ce3c9b911f41f435d50182,25,7,7,7118,,,0,"Update ansible-lint and add fake zuul_return

- Use zuul_return fake module to make ansible lint happy, this allows
  to remove Zuul import.
- While ansible-lint 4.2.0 is now able to detect playbooks/roles, this
  is broken, so don't use it
- move its config out of tox.ini so it can be used by any tools, or
  without tox

Change-Id: Ie8935f47db855647e19ae091044e5ac1871f1551
Co-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>
Co-Authored-By: Andreas Jaeger <aj@suse.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/75/702575/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/translation/upstream-translation-update.yaml', 'roles/use-cached-repos/tasks/main.yaml', 'playbooks/proposal/propose-updates.yaml', 'tox.ini', 'roles/test-upload-logs/tasks/main.yaml']",5,3b16bb5809b7b1bdae3ec6741230c706410e93c4,ansible-lint," path: ""{{ zuul_logserver_root }}/{{ zuul_log_path }}"" dest: ""{{ zuul_logserver_root }}/{{ zuul_log_path }}/"" dest: ""{{ zuul_logserver_root }}/{{ zuul_log_path }}/{{ item }}.gz"""," path: ""{{zuul_logserver_root}}/{{ zuul_log_path }}"" dest: ""{{zuul_logserver_root}}/{{ zuul_log_path }}/"" dest: ""{{zuul_logserver_root}}/{{ zuul_log_path }}/{{ item }}.gz""",17,15
openstack%2Fswift~master~I45298d690fa0ac6dad5dd792bffd73c09f86ad2f,openstack/swift,master,I45298d690fa0ac6dad5dd792bffd73c09f86ad2f,WIP: Make the hashing algorithm configurable,NEW,2020-03-13 20:06:34.000000000,2020-03-18 22:03:16.000000000,,"[{'_account_id': 13852}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 20:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6459750ef0f249aa74e4e1759637888736ae503e', 'message': 'md5 first version\n\nChange-Id: I45298d690fa0ac6dad5dd792bffd73c09f86ad2f\n'}, {'number': 2, 'created': '2020-03-13 20:08:12.000000000', 'files': ['swift/cli/info.py', 'swift/obj/server.py', 'test/unit/common/test_storage_policy.py', 'test/unit/proxy/test_server.py', 'swift/obj/mem_diskfile.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/obj/common.py', 'test/unit/obj/test_replicator.py', 'test/unit/obj/test_diskfile.py', 'swift/common/middleware/etag_hasher.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/server.py', 'test/unit/common/test_wsgi.py', 'test/unit/obj/test_reconstructor.py', 'test/unit/obj/test_auditor.py', 'requirements.txt', 'swift/common/storage_policy.py', 'swift/common/hasher.py', 'setup.cfg', 'swift/obj/diskfile.py', 'swift/obj/ssync_receiver.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0bd43b64e06a90c5ffd1baaa239056963d9cd2ea', 'message': 'WIP: Make the hashing algorithm configurable\n\nAllow to select something else than MD5 to ensure data integrity on disk\nand on wire\n\nTODO:\n- fixe tests\n- write tests for new middleware\n- update crypto middleware\n\nChange-Id: I45298d690fa0ac6dad5dd792bffd73c09f86ad2f\n'}]",0,713059,0bd43b64e06a90c5ffd1baaa239056963d9cd2ea,5,2,2,13852,,,0,"WIP: Make the hashing algorithm configurable

Allow to select something else than MD5 to ensure data integrity on disk
and on wire

TODO:
- fixe tests
- write tests for new middleware
- update crypto middleware

Change-Id: I45298d690fa0ac6dad5dd792bffd73c09f86ad2f
",git fetch https://review.opendev.org/openstack/swift refs/changes/59/713059/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/info.py', 'swift/obj/server.py', 'test/unit/common/test_storage_policy.py', 'test/unit/proxy/test_server.py', 'swift/obj/mem_diskfile.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/obj/common.py', 'test/unit/obj/test_replicator.py', 'test/unit/obj/test_diskfile.py', 'swift/common/middleware/etag_hasher.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/server.py', 'test/unit/common/test_wsgi.py', 'test/unit/obj/test_reconstructor.py', 'test/unit/obj/test_auditor.py', 'requirements.txt', 'swift/common/storage_policy.py', 'swift/common/hasher.py', 'setup.cfg', 'swift/obj/diskfile.py', 'swift/obj/ssync_receiver.py', 'swift/proxy/controllers/base.py']",22,6459750ef0f249aa74e4e1759637888736ae503e,performance/md5_alternative," headers=None, overrides=None, quorum_size=None): req, statuses, reasons, bodies, headers, req, statuses, reasons, bodies, headers, def _compute_quorum_response(self, req, statuses, reasons, bodies,"," etag=None, headers=None, overrides=None, quorum_size=None): :param etag: etag req, statuses, reasons, bodies, etag, headers, req, statuses, reasons, bodies, etag, headers, def _compute_quorum_response(self, req, statuses, reasons, bodies, etag, if etag: resp.headers['etag'] = normalize_etag(etag)",478,242
openstack%2Ftripleo-ansible~master~I79e33ca2bf5d8ae8f6e1ac39dda7710e4e65fa3a,openstack/tripleo-ansible,master,I79e33ca2bf5d8ae8f6e1ac39dda7710e4e65fa3a,Make tripleo_ceph_run_ansible voting again,MERGED,2020-03-18 19:40:26.000000000,2020-03-18 21:21:22.000000000,2020-03-18 21:21:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-03-18 19:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df5891f3869237c83a2fec67165497cbccb3c4bf', 'message': 'Make tripleo_ceph_run_ansible voting again\n\nThis might have been fixed by https://review.opendev.org/#/c/713464/\n\nChange-Id: I79e33ca2bf5d8ae8f6e1ac39dda7710e4e65fa3a\n'}, {'number': 2, 'created': '2020-03-18 20:08:47.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c3c19f70ebc5f8ffa891f56fa928497f24051524', 'message': 'Make tripleo_ceph_run_ansible voting again\n\nAlso extends tripleo_ceph_run_ansible molecule job to run for\nchanges to any tripleo_ceph_.* role\n\nThe issue initially tracked by bug 1867012 should have been fixed\nby I9952a4df122c00c0163b7e79dab8a821e3feff06\n\nChange-Id: I79e33ca2bf5d8ae8f6e1ac39dda7710e4e65fa3a\n'}]",1,713725,c3c19f70ebc5f8ffa891f56fa928497f24051524,9,6,2,6796,,,0,"Make tripleo_ceph_run_ansible voting again

Also extends tripleo_ceph_run_ansible molecule job to run for
changes to any tripleo_ceph_.* role

The issue initially tracked by bug 1867012 should have been fixed
by I9952a4df122c00c0163b7e79dab8a821e3feff06

Change-Id: I79e33ca2bf5d8ae8f6e1ac39dda7710e4e65fa3a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/713725/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,df5891f3869237c83a2fec67165497cbccb3c4bf,,, description: Non-voting due to https://bugs.launchpad.net/tripleo/+bug/1867012 voting: false,0,2
openstack%2Ftripleo-ansible~master~I27285accfa6a4dd8259ed7053ad91f59dd19a5bb,openstack/tripleo-ansible,master,I27285accfa6a4dd8259ed7053ad91f59dd19a5bb,Cleanup old mistral key process,MERGED,2020-03-16 23:31:43.000000000,2020-03-18 21:21:18.000000000,2020-03-18 21:21:18.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-16 23:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1ef655816bccf5ce06812bc5aec0e97bbd3c91bb', 'message': 'Cleanup old mistral key process\n\nThis change removes the old function that retrieved keys from mistral.\nThe use of mistral for key storage has been removed and this functionality\nis no longer required.\n\nStory: 2007435\nTask: 39082\n\nChange-Id: I27285accfa6a4dd8259ed7053ad91f59dd19a5bb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-03-17 00:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/902a2507554ba933c9f7cdb8a14e4b2654667130', 'message': 'Cleanup old mistral key process\n\nThis change removes the old function that retrieved keys from mistral.\nThe use of mistral for key storage has been removed and this functionality\nis no longer required.\n\nStory: 2007435\nTask: 39082\n\nChange-Id: I27285accfa6a4dd8259ed7053ad91f59dd19a5bb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-03-17 12:52:59.000000000', 'files': ['tripleo_ansible/playbooks/cli-enable-ssh-admin.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2fa1f3aa21327f1be2e62ffa2f6d5fe117c5699a', 'message': 'Cleanup old mistral key process\n\nThis change removes the old function that retrieved keys from mistral.\nThe use of mistral for key storage has been removed and this functionality\nis no longer required.\n\nStory: 2007435\nTask: 39082\n\nChange-Id: I27285accfa6a4dd8259ed7053ad91f59dd19a5bb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,713345,2fa1f3aa21327f1be2e62ffa2f6d5fe117c5699a,23,6,3,7353,,,0,"Cleanup old mistral key process

This change removes the old function that retrieved keys from mistral.
The use of mistral for key storage has been removed and this functionality
is no longer required.

Story: 2007435
Task: 39082

Change-Id: I27285accfa6a4dd8259ed7053ad91f59dd19a5bb
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/713345/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-enable-ssh-admin.yaml'],1,1ef655816bccf5ce06812bc5aec0e97bbd3c91bb,mistral_to_ansible," - name: Key block - name: Get local private key slurp: src: ""{{ ansible_home }}/.ssh/id_rsa_tripleo"" register: private_key_get become: true - name: Get local public key slurp: src: ""{{ ansible_home }}/.ssh/id_rsa_tripleo.pub"" register: public_key_get become: true user_public_key: ""{{ public_key_get['content'] | b64decode }}"" user_private_key: ""{{ private_key_get['content'] | b64decode }}"" register: create_env changed_when: - (create_env.rc | int) == 0 failed_when: false - name: Write tripleo private key copy: content: ""{{ user_private_key }}"" dest: ""{{ ansible_home }}/.ssh/id_rsa_tripleo"" mode: ""0600"" - name: Write tripleo public key copy: content: ""{{ user_public_key }}"" dest: ""{{ ansible_home }}/.ssh/id_rsa_tripleo.pub"" mode: ""0640"" - name: Set key file fact set_fact:"," # TODO(cloudnull): When mistral is removed, remove this mistral block - name: Mistral block - name: Get the mistral ssh_keys environment command: >- openstack --os-cloud undercloud workflow env show ssh_keys -f yaml register: mistral_check failed_when: false changed_when: false - name: Load mistral yaml set_fact: mistral_data: ""{{ mistral_check.stdout | from_yaml }}"" - name: Get mistral variables set_fact: mistral_variables: ""{{ mistral_data['Variables'] | from_json }}"" user_public_key: ""{{ mistral_variables['public_key'] }}"" user_private_key: ""{{ mistral_variables['private_key'] }}"" - name: Fallback notice debug: msg: ""Capturing the tripleo-admin key from mistral failed, falling back."" - name: Local user block when: - user_private_key_file is undefined run_once: true block: ignore_errors: true - name: Write tripleo private key copy: content: ""{{ user_private_key }}"" dest: ""{{ user_private_key_file }}"" mode: ""0600"" - name: Write tripleo public key copy: content: ""{{ user_public_key }}"" dest: ""{{ user_private_key_file }}.pub"" mode: ""0640"" ",32,39
openstack%2Foslo.context~master~If5ebaa3c1859d32cd05f51defe173fc625b21af5,openstack/oslo.context,master,If5ebaa3c1859d32cd05f51defe173fc625b21af5,Filter out auth_token_info from logging values,MERGED,2020-03-10 18:04:37.000000000,2020-03-18 21:00:05.000000000,2020-03-17 18:37:01.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-10 18:04:37.000000000', 'files': ['oslo_context/tests/test_context.py', 'oslo_context/context.py'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/1dd72d1d209e699efc360ff99a20166aac831939', 'message': 'Filter out auth_token_info from logging values\n\nauth_token_info is a common field that subclasses of RequestContext\nadd. It contains things like the token itself and the entire catalog,\nboth of which are undesirable to log. The token is a security concern\nand the catalog is huge, which bloats the logs an unacceptable amount.\n\nThis change removes the auth_token_info key from the logging dict\nthat we return to the log formatter, which eliminates both problems.\n\nChange-Id: If5ebaa3c1859d32cd05f51defe173fc625b21af5\nCloses-Bug: 1866705\n'}]",0,712146,1dd72d1d209e699efc360ff99a20166aac831939,13,5,1,6928,,,0,"Filter out auth_token_info from logging values

auth_token_info is a common field that subclasses of RequestContext
add. It contains things like the token itself and the entire catalog,
both of which are undesirable to log. The token is a security concern
and the catalog is huge, which bloats the logs an unacceptable amount.

This change removes the auth_token_info key from the logging dict
that we return to the log formatter, which eliminates both problems.

Change-Id: If5ebaa3c1859d32cd05f51defe173fc625b21af5
Closes-Bug: 1866705
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/46/712146/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_context/tests/test_context.py', 'oslo_context/context.py']",2,1dd72d1d209e699efc360ff99a20166aac831939,bug/1866705," # NOTE(bnemec: auth_token_info isn't defined in oslo.context, but it's # a common pattern in project context subclasses so we handle it here. # It largely contains things that we don't want logged, like the token # itself (which needs to be removed for security) and the catalog # (which needs to be removed because it bloats the logs terribly). values.pop('auth_token_info', None)",,17,6
openstack%2Fproject-config~master~I7fce3a616ce52dce3bd3639bad37124a8bb1909b,openstack/project-config,master,I7fce3a616ce52dce3bd3639bad37124a8bb1909b,Add config for nb04.opendev.org,MERGED,2020-03-18 06:26:28.000000000,2020-03-18 20:56:52.000000000,2020-03-18 20:56:52.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 06:26:28.000000000', 'files': ['nodepool/nb04.opendev.org.yaml', 'nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/616d91caa8bb12fd23d7a3cf1497190575c97f10', 'message': 'Add config for nb04.opendev.org\n\nAdd a config for nb04.opendev.org that has *only* the Fedora image\nunpaused.  This is to be the new container-based builder, where we\nonly want it to build/manage this image, for now.\n\nChange-Id: I7fce3a616ce52dce3bd3639bad37124a8bb1909b\nStory: #2007407\nTask: #39064\n'}]",0,713575,616d91caa8bb12fd23d7a3cf1497190575c97f10,7,3,1,7118,,,0,"Add config for nb04.opendev.org

Add a config for nb04.opendev.org that has *only* the Fedora image
unpaused.  This is to be the new container-based builder, where we
only want it to build/manage this image, for now.

Change-Id: I7fce3a616ce52dce3bd3639bad37124a8bb1909b
Story: #2007407
Task: #39064
",git fetch https://review.opendev.org/openstack/project-config refs/changes/75/713575/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nb04.opendev.org.yaml', 'nodepool/nodepool.yaml']",2,616d91caa8bb12fd23d7a3cf1497190575c97f10,nb04,# NOTE(ianw) : currently only building on nb04.opendev.org; see that,# NOTE(ianw) : currently only building on nb01.opendev.org; see that,489,1
openstack%2Fcharm-masakari~master~I586e529ee056ccb41d5994cf61b77bb60a241e23,openstack/charm-masakari,master,I586e529ee056ccb41d5994cf61b77bb60a241e23,Update charm build requirements,MERGED,2020-03-03 08:56:21.000000000,2020-03-18 20:49:42.000000000,2020-03-18 20:49:42.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/29720dc0cb6295f0d4be775ab4a596341113c603', 'message': 'Update charm build requirements\n\nChange-Id: I586e529ee056ccb41d5994cf61b77bb60a241e23\n'}, {'number': 2, 'created': '2020-03-12 09:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/e75bb5daa25692e317332f9cf68750f2abfdd219', 'message': 'Update charm build requirements\n\nChange-Id: I586e529ee056ccb41d5994cf61b77bb60a241e23\n'}, {'number': 3, 'created': '2020-03-12 22:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/2e7fba143b8176faeab244a517416cd737f9c215', 'message': 'Update charm build requirements\n\nChange-Id: I586e529ee056ccb41d5994cf61b77bb60a241e23\n'}, {'number': 4, 'created': '2020-03-18 07:33:02.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/d4057aa05a7734f85b766e151ade330a255964d8', 'message': 'Update charm build requirements\n\nChange-Id: I586e529ee056ccb41d5994cf61b77bb60a241e23\n'}]",0,710942,d4057aa05a7734f85b766e151ade330a255964d8,26,6,4,13686,,,0,"Update charm build requirements

Change-Id: I586e529ee056ccb41d5994cf61b77bb60a241e23
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/42/710942/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,29720dc0cb6295f0d4be775ab4a596341113c603,update-build-requirements,# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,,2,0
openstack%2Ftripleo-quickstart-extras~master~I1879f30e020eebf8877f15ce21f68280e56c5107,openstack/tripleo-quickstart-extras,master,I1879f30e020eebf8877f15ce21f68280e56c5107,"Drop overcloud entries in /etc/hosts, >= train",MERGED,2020-03-18 07:46:33.000000000,2020-03-18 20:47:55.000000000,2020-03-18 20:47:55.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-18 07:46:33.000000000', 'files': ['roles/overcloud-deploy/templates/overcloud-deploy-post.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1c77a24b3b9906ef9cce90a12722f70595409bf3', 'message': 'Drop overcloud entries in /etc/hosts, >= train\n\n/etc/hosts on the undercloud is now updated with\nentries from the overcloud. No need to duplicate\nthe entries by adding them again here.\n\nChange-Id: I1879f30e020eebf8877f15ce21f68280e56c5107\n'}]",0,713584,1c77a24b3b9906ef9cce90a12722f70595409bf3,9,5,1,24245,,,0,"Drop overcloud entries in /etc/hosts, >= train

/etc/hosts on the undercloud is now updated with
entries from the overcloud. No need to duplicate
the entries by adding them again here.

Change-Id: I1879f30e020eebf8877f15ce21f68280e56c5107
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/84/713584/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/overcloud-deploy-post.sh.j2'],1,1c77a24b3b9906ef9cce90a12722f70595409bf3,drop-etc-hosts,"{% if release in ['mitaka', 'newton', 'ocata', 'pike', 'queens', 'rocky', 'stein'] -%}{% endif -%}{% if release in ['mitaka', 'newton', 'ocata', 'pike', 'queens', 'rocky', 'stein'] -%}{% endif -%}",,4,0
openstack%2Fcinder~stable%2Frocky~I8ce3c403904ea1c6990f88d52c1c1a068aaed75a,openstack/cinder,stable/rocky,I8ce3c403904ea1c6990f88d52c1c1a068aaed75a,Don't quote {posargs} in tox.ini,MERGED,2020-03-17 02:18:19.000000000,2020-03-18 20:47:47.000000000,2020-03-17 20:30:31.000000000,"[{'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23561}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28522}, {'_account_id': 29716}]","[{'number': 1, 'created': '2020-03-17 02:18:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/263affd07ff7fe5f3580e93f9867ba63bfb51726', 'message': ""Don't quote {posargs} in tox.ini\n\nQuotes around {posargs} cause the entire string to be combined into one\narg that gets passed to stestr. This prevents passing multiple args\n(e.g. '--concurrency=16 some-regex')\n\nChange-Id: I8ce3c403904ea1c6990f88d52c1c1a068aaed75a\n(cherry picked from commit 8ca71f5b5b7f6c78a1f522623df47634842d255e)\n""}]",0,713367,263affd07ff7fe5f3580e93f9867ba63bfb51726,20,13,1,29071,,,0,"Don't quote {posargs} in tox.ini

Quotes around {posargs} cause the entire string to be combined into one
arg that gets passed to stestr. This prevents passing multiple args
(e.g. '--concurrency=16 some-regex')

Change-Id: I8ce3c403904ea1c6990f88d52c1c1a068aaed75a
(cherry picked from commit 8ca71f5b5b7f6c78a1f522623df47634842d255e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/713367/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,263affd07ff7fe5f3580e93f9867ba63bfb51726,tox-dont-quote-posargs-stable/rocky, stestr run {posargs}, stestr run '{posargs}',1,1
openstack%2Fdevstack~master~Ifd26152899d68ac8f8f7fc0621b1f2b49416a847,openstack/devstack,master,Ifd26152899d68ac8f8f7fc0621b1f2b49416a847,Restart only the DB service if the installer runs in localhost,ABANDONED,2020-03-18 17:04:14.000000000,2020-03-18 20:46:06.000000000,,"[{'_account_id': 10135}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-18 17:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7eb06c80ff9f01840f99ac0e24f377c9935798b0', 'message': 'Restart only the DB service if the installer runs in localhost\n\nIf the DB location is a remote site restarting the service\nfrom the installer will fail as there is no actual\ndatabase server available.\n\nChange-Id: Ifd26152899d68ac8f8f7fc0621b1f2b49416a847\n'}, {'number': 2, 'created': '2020-03-18 17:37:17.000000000', 'files': ['lib/databases/mysql', 'lib/databases/postgresql'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ea6a7ee4f8548959126d4b826221eeef4246cb39', 'message': 'Restart only the DB service if the installer runs in localhost\n\nIf the DB location is a remote site restarting the service\nfrom the installer will fail as there is no actual\ndatabase server available.\n\nChange-Id: Ifd26152899d68ac8f8f7fc0621b1f2b49416a847\n'}]",0,713700,ea6a7ee4f8548959126d4b826221eeef4246cb39,13,4,2,20775,,,0,"Restart only the DB service if the installer runs in localhost

If the DB location is a remote site restarting the service
from the installer will fail as there is no actual
database server available.

Change-Id: Ifd26152899d68ac8f8f7fc0621b1f2b49416a847
",git fetch https://review.opendev.org/openstack/devstack refs/changes/00/713700/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/databases/mysql', 'lib/databases/postgresql']",2,7eb06c80ff9f01840f99ac0e24f377c9935798b0,," # We only restart the databse service if it is located in the # same node where the installer is running, otherwise it will fail if [[ ""$DATABASE_HOST"" == ""127.0.0.1"" || ""$DATABASE_HOST"" == ""::1""]]; then restart_service postgresql fi", restart_service postgresql,11,2
openstack%2Fansible-role-atos-hsm~stable%2Ftrain~Ib9989ee72a67f71275e31b966bff7673072fb3f8,openstack/ansible-role-atos-hsm,stable/train,Ib9989ee72a67f71275e31b966bff7673072fb3f8,Add HA (load balancing) support,MERGED,2020-03-18 20:06:43.000000000,2020-03-18 20:33:43.000000000,2020-03-18 20:33:43.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 20:06:43.000000000', 'files': ['vars.yaml.sample', 'releasenotes/notes/add-high-availability-support-44343eaf5563f5c7.yaml', 'test-requirements.txt', 'handlers/main.yaml', 'README.rst', 'tasks/main.yaml', 'templates/proteccio.rc.j2', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/1269408d688354091eaf3f5e1a05ae72ea79450f', 'message': 'Add HA (load balancing) support\n\nThis patch add support for configuring proteccio to use\nmore than one HSM.  When more than one HSM is provided\nthe proteccio client is configured for High Availability (HA).\n\nThis patch changes the format of the variables and should\nbe released as a new major version. (e.g. 1.0.0).\n\nChange-Id: Ib9989ee72a67f71275e31b966bff7673072fb3f8\n(cherry picked from commit 5069751256fb218d56ce1f30552de678bd56b48a)\n'}]",0,713732,1269408d688354091eaf3f5e1a05ae72ea79450f,6,2,1,7973,,,0,"Add HA (load balancing) support

This patch add support for configuring proteccio to use
more than one HSM.  When more than one HSM is provided
the proteccio client is configured for High Availability (HA).

This patch changes the format of the variables and should
be released as a new major version. (e.g. 1.0.0).

Change-Id: Ib9989ee72a67f71275e31b966bff7673072fb3f8
(cherry picked from commit 5069751256fb218d56ce1f30552de678bd56b48a)
",git fetch https://review.opendev.org/openstack/ansible-role-atos-hsm refs/changes/32/713732/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars.yaml.sample', 'releasenotes/notes/add-high-availability-support-44343eaf5563f5c7.yaml', 'test-requirements.txt', 'handlers/main.yaml', 'README.rst', 'tasks/main.yaml', 'templates/proteccio.rc.j2', 'setup.cfg']",8,1269408d688354091eaf3f5e1a05ae72ea79450f,,author = OpenStack Barbican Teamhome-page = https://opendev.org/openstack/ansible-role-atos-hsm Development Status :: 5 - Production/Stable,author = TripleO Teamhome-page = https://github.com/dmend/ansible-role-atos-hsm Development Status :: 4 - Beta,86,24
openstack%2Fansible-role-atos-hsm~master~Ib9989ee72a67f71275e31b966bff7673072fb3f8,openstack/ansible-role-atos-hsm,master,Ib9989ee72a67f71275e31b966bff7673072fb3f8,Add HA (load balancing) support,MERGED,2019-12-19 16:20:12.000000000,2020-03-18 20:06:43.000000000,2020-02-04 17:44:19.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-19 16:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/c05ad99d35e279281c192010b3b833a19ea51638', 'message': 'WIP: Add HA (load balancing) support\n\nChange-Id: Ib9989ee72a67f71275e31b966bff7673072fb3f8\n'}, {'number': 2, 'created': '2020-01-28 20:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/3ea80eb658e55dcf01d3cbd3552f367f970858db', 'message': 'Add HA (load balancing) support\n\nThis patch add support for configuring proteccio to use\nmore than one HSM.  When more than one HSM is provided\nthe proteccio client is configured for High Availability (HA).\n\nThis patch changes the format of the variables and should\nbe released as a new major version. (e.g. 1.0.0).\n\nChange-Id: Ib9989ee72a67f71275e31b966bff7673072fb3f8\n'}, {'number': 3, 'created': '2020-01-31 22:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/dd5d1a5aaed9a21573cc927fb0adc0ef768f040f', 'message': 'Add HA (load balancing) support\n\nThis patch add support for configuring proteccio to use\nmore than one HSM.  When more than one HSM is provided\nthe proteccio client is configured for High Availability (HA).\n\nThis patch changes the format of the variables and should\nbe released as a new major version. (e.g. 1.0.0).\n\nChange-Id: Ib9989ee72a67f71275e31b966bff7673072fb3f8\n'}, {'number': 4, 'created': '2020-02-03 16:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/7f7297ea79654d9d7124174c7c147608464380a2', 'message': 'Add HA (load balancing) support\n\nThis patch add support for configuring proteccio to use\nmore than one HSM.  When more than one HSM is provided\nthe proteccio client is configured for High Availability (HA).\n\nThis patch changes the format of the variables and should\nbe released as a new major version. (e.g. 1.0.0).\n\nChange-Id: Ib9989ee72a67f71275e31b966bff7673072fb3f8\n'}, {'number': 5, 'created': '2020-02-04 15:48:48.000000000', 'files': ['vars.yaml.sample', 'releasenotes/notes/add-high-availability-support-44343eaf5563f5c7.yaml', 'test-requirements.txt', 'handlers/main.yaml', 'README.rst', 'tasks/main.yaml', 'templates/proteccio.rc.j2', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/5069751256fb218d56ce1f30552de678bd56b48a', 'message': 'Add HA (load balancing) support\n\nThis patch add support for configuring proteccio to use\nmore than one HSM.  When more than one HSM is provided\nthe proteccio client is configured for High Availability (HA).\n\nThis patch changes the format of the variables and should\nbe released as a new major version. (e.g. 1.0.0).\n\nChange-Id: Ib9989ee72a67f71275e31b966bff7673072fb3f8\n'}]",1,700018,5069751256fb218d56ce1f30552de678bd56b48a,23,7,5,7973,,,0,"Add HA (load balancing) support

This patch add support for configuring proteccio to use
more than one HSM.  When more than one HSM is provided
the proteccio client is configured for High Availability (HA).

This patch changes the format of the variables and should
be released as a new major version. (e.g. 1.0.0).

Change-Id: Ib9989ee72a67f71275e31b966bff7673072fb3f8
",git fetch https://review.opendev.org/openstack/ansible-role-atos-hsm refs/changes/18/700018/5 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tasks/main.yaml', 'templates/proteccio.rc.j2']",3,c05ad99d35e279281c192010b3b833a19ea51638,,"{% for item in atos_hsms %} [PROTECCIO] IPaddr={{ item.ip }} SSL=1 SrvCert={{ item.ip | replace('.', '_') }}.CRT {% endfor %} [CLIENT] {% if atos_hsms|length > 1 %} Mode=2 {% else %} Mode=0 {% endif %} LoggingLevel=7 LogFile=/var/log/barbican/atos.log ClntKey=proteccio_client.key ClntCert=proteccio_client.crt ",,24,20
openstack%2Fopenstack-helm~master~I8bc8ed16cb7963b4fb27973e7f3d18ab2df061ee,openstack/openstack-helm,master,I8bc8ed16cb7963b4fb27973e7f3d18ab2df061ee,[WIP] Enable nova placement api pods,ABANDONED,2020-03-18 17:23:17.000000000,2020-03-18 20:03:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-18 17:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d520475bd3049c11821db98c61dbf2f84c714bc2', 'message': '[WIP] Enable nova placement api pods\n\nChange-Id: I8bc8ed16cb7963b4fb27973e7f3d18ab2df061ee\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-03-18 17:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5e219580ea0f2daa7bcbecbe6418ce0be1bdf0d3', 'message': '[WIP] Enable nova placement api pods\n\nChange-Id: I8bc8ed16cb7963b4fb27973e7f3d18ab2df061ee\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 3, 'created': '2020-03-18 17:29:45.000000000', 'files': ['nova/values_overrides/apparmor.yaml', 'zuul.d/project.yaml', 'nova/templates/deployment-placement.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/009fa067c6e86905895df403034565c6d4162d1d', 'message': '[WIP] Enable nova placement api pods\n\nChange-Id: I8bc8ed16cb7963b4fb27973e7f3d18ab2df061ee\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}]",0,713701,009fa067c6e86905895df403034565c6d4162d1d,5,1,3,29131,,,0,"[WIP] Enable nova placement api pods

Change-Id: I8bc8ed16cb7963b4fb27973e7f3d18ab2df061ee
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/01/713701/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,d520475bd3049c11821db98c61dbf2f84c714bc2,placement-api-test,,,0,0
openstack%2Fcharm-nova-cloud-controller~master~I2ee633ba0b445025a789a77e62950cd572636c6c,openstack/charm-nova-cloud-controller,master,I2ee633ba0b445025a789a77e62950cd572636c6c,Fix action replay for clear-knownhost-cache,MERGED,2020-02-07 14:57:59.000000000,2020-03-18 20:00:16.000000000,2020-02-24 14:37:57.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-07 14:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/70951f6147b326891ad0734ee6ba76ad90bab687', 'message': 'Fix action replay for clear-knownhost-cache\n\nThe return key was illegal in Juju, so this patchset makes\nit legal.\n\nChange-Id: I2ee633ba0b445025a789a77e62950cd572636c6c\nPartial-Bug: #1860743\n'}, {'number': 2, 'created': '2020-02-20 12:01:46.000000000', 'files': ['actions/actions.py', 'unit_tests/test_actions.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/67dfc8d882995b11707b42f4758f4d9c303eb7b6', 'message': 'Fix action replay for clear-knownhost-cache\n\nThe return key was illegal in Juju, so this patchset makes\nit legal.\n\nChange-Id: I2ee633ba0b445025a789a77e62950cd572636c6c\nPartial-Bug: #1860743\n'}]",0,706536,67dfc8d882995b11707b42f4758f4d9c303eb7b6,15,4,2,20870,,,0,"Fix action replay for clear-knownhost-cache

The return key was illegal in Juju, so this patchset makes
it legal.

Change-Id: I2ee633ba0b445025a789a77e62950cd572636c6c
Partial-Bug: #1860743
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/36/706536/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'unit_tests/test_actions.py']",2,70951f6147b326891ad0734ee6ba76ad90bab687,bug/1860743," ""units-updated"": [{'aservice/2': '10.0.0.2'}] ""units-updated"": [ ""units-updated"": ["," ""Units updated"": [{'aservice/2': '10.0.0.2'}] ""Units updated"": [ ""Units updated"": [",4,4
openstack%2Fcharm-hacluster~stable%2F20.02~Id28d4c5c8c711ef53e9ec0422d80d23a6a844291,openstack/charm-hacluster,stable/20.02,Id28d4c5c8c711ef53e9ec0422d80d23a6a844291,Add support for maas_source_key for offline deployments.,MERGED,2020-03-12 15:21:08.000000000,2020-03-18 19:09:55.000000000,2020-03-18 19:09:55.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 25817}]","[{'number': 1, 'created': '2020-03-12 15:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/086929ff95fa7e365de3335719b5b962043b9cf7', 'message': 'Add support for maas_source_key for offline deployments.\n\nCloses-Bug: #1856148\nChange-Id: Id28d4c5c8c711ef53e9ec0422d80d23a6a844291\nSigned-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>\n'}, {'number': 2, 'created': '2020-03-13 09:13:10.000000000', 'files': ['hooks/utils.py', 'config.yaml', 'unit_tests/test_hacluster_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/b3f65b9f4eb64aff18a409ea4efba7d60ca7e09f', 'message': 'Add support for maas_source_key for offline deployments.\n\nCloses-Bug: #1856148\nChange-Id: Id28d4c5c8c711ef53e9ec0422d80d23a6a844291\nSigned-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>\n(cherry picked from commit c99eed495c25846243e379d92fd1b987495b9f60)\n'}]",0,712709,b3f65b9f4eb64aff18a409ea4efba7d60ca7e09f,15,5,2,25817,,,0,"Add support for maas_source_key for offline deployments.

Closes-Bug: #1856148
Change-Id: Id28d4c5c8c711ef53e9ec0422d80d23a6a844291
Signed-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>
(cherry picked from commit c99eed495c25846243e379d92fd1b987495b9f60)
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/09/712709/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/utils.py', 'config.yaml', 'unit_tests/test_hacluster_utils.py']",3,086929ff95fa7e365de3335719b5b962043b9cf7,bug/1856148," cfg = {'maas_source': 'ppa:maas/stable', 'maas_source_key': None} add_source.assert_called_with(cfg['maas_source'], cfg['maas_source_key'])", cfg = {'maas_source': 'ppa:maas/stable'} add_source.assert_called_with(cfg['maas_source']),12,3
openstack%2Frpm-packaging~stable%2Ftrain~Iebda3ac509828dfe6d8eed7b0b40e62da9fa8f12,openstack/rpm-packaging,stable/train,Iebda3ac509828dfe6d8eed7b0b40e62da9fa8f12,monasca-ceilometer: fix shebang,MERGED,2020-03-18 12:31:30.000000000,2020-03-18 19:09:12.000000000,2020-03-18 19:09:12.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-18 12:31:30.000000000', 'files': ['openstack/monasca-ceilometer/monasca-ceilometer.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/88fb3991d7e9fe92dd424ed2a8fa97fc053ed972', 'message': 'monasca-ceilometer: fix shebang\n\nOne of the shebangs (for tools/send_test_data.py) was using an\nunversioned python version, and this breaks the build in CentOS 8.\n\nChange-Id: Iebda3ac509828dfe6d8eed7b0b40e62da9fa8f12\n'}]",0,713639,88fb3991d7e9fe92dd424ed2a8fa97fc053ed972,11,6,1,13294,,,0,"monasca-ceilometer: fix shebang

One of the shebangs (for tools/send_test_data.py) was using an
unversioned python version, and this breaks the build in CentOS 8.

Change-Id: Iebda3ac509828dfe6d8eed7b0b40e62da9fa8f12
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/39/713639/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-ceilometer/monasca-ceilometer.spec.j2'],1,88fb3991d7e9fe92dd424ed2a8fa97fc053ed972,remove-python2-stable/train,# Fix send_test_data.py shebang sed -i 's#%{_bindir}/env python#%{_bindir}/python3#' tools/send_test_data.py ,,3,0
openstack%2Frpm-packaging~master~I1108461d7f2806b5c4c4d759e4e6b6afe43d2587,openstack/rpm-packaging,master,I1108461d7f2806b5c4c4d759e4e6b6afe43d2587,Update python-troveclient to 3.3.0,MERGED,2020-03-18 08:02:04.000000000,2020-03-18 19:09:11.000000000,2020-03-18 19:09:11.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-18 08:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/04e8cd2ed725e7c6eb6146845ed26c6765dcc4de', 'message': 'Update python-troveclient to 3.3.0\n\nrefer to Change-Id: Ic5cd98f76a641b44d0ea720dd6459603744f581e\n\nChange-Id: I1108461d7f2806b5c4c4d759e4e6b6afe43d2587\n'}, {'number': 2, 'created': '2020-03-18 18:41:14.000000000', 'files': ['openstack/python-troveclient/python-troveclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/21a15894b3576823e7ccc54ebccbc4d214cc7b32', 'message': 'Update python-troveclient to 3.3.0\n\nrefer to Change-Id: Ic5cd98f76a641b44d0ea720dd6459603744f581e\n\nChange-Id: I1108461d7f2806b5c4c4d759e4e6b6afe43d2587\n'}]",0,713587,21a15894b3576823e7ccc54ebccbc4d214cc7b32,13,6,2,26584,,,0,"Update python-troveclient to 3.3.0

refer to Change-Id: Ic5cd98f76a641b44d0ea720dd6459603744f581e

Change-Id: I1108461d7f2806b5c4c4d759e4e6b6afe43d2587
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/87/713587/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-troveclient/python-troveclient.spec.j2'],1,04e8cd2ed725e7c6eb6146845ed26c6765dcc4de,python-troveclient,{% set upstream_version = upstream_version('3.3.0') %},{% set upstream_version = upstream_version('3.2.0') %},1,1
openstack%2Fdevstack~master~I494f77555cfe9115356ce0ee75c7d7f192141447,openstack/devstack,master,I494f77555cfe9115356ce0ee75c7d7f192141447,Glance: Add support to configure multiple file stores,MERGED,2019-10-17 09:03:50.000000000,2020-03-18 19:06:20.000000000,2020-03-18 19:03:33.000000000,"[{'_account_id': 5803}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30742}]","[{'number': 1, 'created': '2019-10-17 09:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d8dc5ebc3b0907aa8e651a6452b57a41aa435e4b', 'message': 'Glance: Add support to configure multiple file stores\n\nFrom Train release Glance has added support to configure multiple stores\nof same or different types. This patch enables developers to configure\nmultiple file stores for glance. In order to configure multiple file stores\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES=True/False\nTo enable multiple stores of glance.\n\nGLANCE_MULTIPLE_FILE_STORES=veryfast,fast,cheap,verycheap,slow,veryslow\nComma separated list of store identifiers.\n\nGLANCE_DEFAULT_BACKEND=fast\nDefault glance store in which image should be stored if store identifier not\nspecified explicilty. Should be one of the store identifier from\nGLANCE_MULTIPLE_FILE_STORES config option.\n\nNOTE: This support is added so that we can start adding tempest/CI tests for\nglance multiple stores.\n\nChange-Id: I494f77555cfe9115356ce0ee75c7d7f192141447\n'}, {'number': 2, 'created': '2019-10-22 06:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2f524cba9740a0ebeafbc4f40196e7d58ab4570b', 'message': 'Glance: Add support to configure multiple file stores\n\nFrom Train release Glance has added support [0][1] to configure multiple stores\nof same or different types. This patch enables developers to configure\nmultiple file stores for glance. In order to configure multiple file stores\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES=True/False\nTo enable multiple stores of glance.\n\nGLANCE_MULTIPLE_FILE_STORES=veryfast,fast,cheap,verycheap,slow,veryslow\nComma separated list of store identifiers.\n\nGLANCE_DEFAULT_BACKEND=fast\nDefault glance store in which image should be stored if store identifier not\nspecified explicilty. Should be one of the store identifier from\nGLANCE_MULTIPLE_FILE_STORES config option.\n\nNOTE: This support is added so that we can start adding tempest/CI tests for\nglance multiple stores.\n\n[0] 515412b59f5b3af07a1787b9f8e85a4d656d3e1c\n[1] https://docs.openstack.org/glance/train/admin/multistores.html\n\nChange-Id: I494f77555cfe9115356ce0ee75c7d7f192141447\n'}, {'number': 3, 'created': '2019-11-14 07:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/80c1df23df2342332cad7585efe54829827c575d', 'message': 'Glance: Add support to configure multiple file stores\n\nFrom Train release Glance has added support [0][1] to configure multiple stores\nof same or different types. This patch enables developers to configure\nmultiple file stores for glance. In order to configure multiple file stores\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES=True/False\nTo enable multiple stores of glance.\n\nGLANCE_MULTIPLE_FILE_STORES=veryfast,fast,cheap,verycheap,slow,veryslow\nComma separated list of store identifiers.\n\nGLANCE_DEFAULT_BACKEND=fast\nDefault glance store in which image should be stored if store identifier not\nspecified explicilty. Should be one of the store identifier from\nGLANCE_MULTIPLE_FILE_STORES config option.\n\nNOTE: This support is added so that we can start adding tempest/CI tests for\nglance multiple stores.\n\n[0] 515412b59f5b3af07a1787b9f8e85a4d656d3e1c\n[1] https://docs.openstack.org/glance/train/admin/multistores.html\n\nChange-Id: I494f77555cfe9115356ce0ee75c7d7f192141447\n'}, {'number': 4, 'created': '2019-12-05 06:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ddb8740249a1f4be7833985f3a192e2fb8aa491a', 'message': 'Glance: Add support to configure multiple file stores\n\nFrom Train release Glance has added support [0][1] to configure multiple stores\nof same or different types. This patch enables developers to configure\nmultiple file stores for glance. In order to configure multiple file stores\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES=True/False\nTo enable multiple stores of glance.\n\nGLANCE_MULTIPLE_FILE_STORES=veryfast,fast,cheap,verycheap,slow,veryslow\nComma separated list of store identifiers.\n\nGLANCE_DEFAULT_BACKEND=fast\nDefault glance store in which image should be stored if store identifier not\nspecified explicilty. Should be one of the store identifier from\nGLANCE_MULTIPLE_FILE_STORES config option.\n\nNOTE: This support is added so that we can start adding tempest/CI tests for\nglance multiple stores.\n\n[0] 515412b59f5b3af07a1787b9f8e85a4d656d3e1c\n[1] https://docs.openstack.org/glance/train/admin/multistores.html\n\nChange-Id: I494f77555cfe9115356ce0ee75c7d7f192141447\n'}, {'number': 5, 'created': '2020-02-17 06:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/611d1784a1dcf2bc9c4759a6015dd46ad9f978db', 'message': 'Glance: Add support to configure multiple file stores\n\nFrom Train release Glance has added support [0][1] to configure multiple stores\nof same or different types. This patch enables developers to configure\nmultiple file stores for glance. In order to configure multiple file stores\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES=True/False\nTo enable multiple stores of glance.\n\nGLANCE_MULTIPLE_FILE_STORES=veryfast,fast,cheap,verycheap,slow,veryslow\nComma separated list of store identifiers.\n\nGLANCE_DEFAULT_BACKEND=fast\nDefault glance store in which image should be stored if store identifier not\nspecified explicilty. Should be one of the store identifier from\nGLANCE_MULTIPLE_FILE_STORES config option.\n\nNOTE: This support is added so that we can start adding tempest/CI tests for\nglance multiple stores.\n\n[0] 515412b59f5b3af07a1787b9f8e85a4d656d3e1c\n[1] https://docs.openstack.org/glance/train/admin/multistores.html\n\nChange-Id: I494f77555cfe9115356ce0ee75c7d7f192141447\n'}, {'number': 6, 'created': '2020-02-25 05:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e7bf6d35eda1c1cce893612869504c6649ddc3af', 'message': 'Glance: Add support to configure multiple file stores\n\nFrom Train release Glance has added support [0][1] to configure multiple stores\nof same or different types. This patch enables developers to configure\nmultiple file stores for glance. In order to configure multiple file stores\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES=True/False\nTo enable multiple stores of glance.\n\nGLANCE_MULTIPLE_FILE_STORES=veryfast,fast,cheap,verycheap,slow,veryslow\nComma separated list of store identifiers.\n\nGLANCE_DEFAULT_BACKEND=fast\nDefault glance store in which image should be stored if store identifier not\nspecified explicilty. Should be one of the store identifier from\nGLANCE_MULTIPLE_FILE_STORES config option.\n\nNOTE: This support is added so that we can start adding tempest/CI tests for\nglance multiple stores.\n\n[0] 515412b59f5b3af07a1787b9f8e85a4d656d3e1c\n[1] https://docs.openstack.org/glance/train/admin/multistores.html\n\nChange-Id: I494f77555cfe9115356ce0ee75c7d7f192141447\n'}, {'number': 7, 'created': '2020-02-26 10:35:38.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f91da9a2d0639daad3a6e1bce328c4c730511f9', 'message': 'Glance: Add support to configure multiple file stores\n\nFrom Train release Glance has added support [0][1] to configure multiple stores\nof same or different types. This patch enables developers to configure\nmultiple file stores for glance. In order to configure multiple file stores\nuser need to set below options in local.conf\n\nGLANCE_ENABLE_MULTIPLE_STORES=True/False\nTo enable multiple stores of glance.\n\nGLANCE_MULTIPLE_FILE_STORES=veryfast,fast,cheap,verycheap,slow,veryslow\nComma separated list of store identifiers.\n\nGLANCE_DEFAULT_BACKEND=fast\nDefault glance store in which image should be stored if store identifier not\nspecified explicilty. Should be one of the store identifier from\nGLANCE_MULTIPLE_FILE_STORES config option.\n\nNOTE: This support is added so that we can start adding tempest/CI tests for\nglance multiple stores.\n\n[0] 515412b59f5b3af07a1787b9f8e85a4d656d3e1c\n[1] https://docs.openstack.org/glance/train/admin/multistores.html\n\nChange-Id: I494f77555cfe9115356ce0ee75c7d7f192141447\n'}]",25,689104,6f91da9a2d0639daad3a6e1bce328c4c730511f9,51,8,7,9303,,,0,"Glance: Add support to configure multiple file stores

From Train release Glance has added support [0][1] to configure multiple stores
of same or different types. This patch enables developers to configure
multiple file stores for glance. In order to configure multiple file stores
user need to set below options in local.conf

GLANCE_ENABLE_MULTIPLE_STORES=True/False
To enable multiple stores of glance.

GLANCE_MULTIPLE_FILE_STORES=veryfast,fast,cheap,verycheap,slow,veryslow
Comma separated list of store identifiers.

GLANCE_DEFAULT_BACKEND=fast
Default glance store in which image should be stored if store identifier not
specified explicilty. Should be one of the store identifier from
GLANCE_MULTIPLE_FILE_STORES config option.

NOTE: This support is added so that we can start adding tempest/CI tests for
glance multiple stores.

[0] 515412b59f5b3af07a1787b9f8e85a4d656d3e1c
[1] https://docs.openstack.org/glance/train/admin/multistores.html

Change-Id: I494f77555cfe9115356ce0ee75c7d7f192141447
",git fetch https://review.opendev.org/openstack/devstack refs/changes/04/689104/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,d8dc5ebc3b0907aa8e651a6452b57a41aa435e4b,devstack/glance-multiple-store-support,"# Glance multi-store configuration GLANCE_ENABLE_MULTIPLE_STORES=${GLANCE_ENABLE_MULTIPLE_STORES:-False} GLANCE_MULTIPLE_FILE_STORES=${GLANCE_MULTIPLE_FILE_STORES:-Fast} GLANCE_DEFAULT_BACKEND=${GLANCE_DEFAULT_BACKEND:-Fast} GLANCE_MULTISTORE_FILE_IMAGE_DIR=${GLANCE_MULTISTORE_FILE_IMAGE_DIR:=$DATA_DIR/glance} # Cleanup multiple stores directories if [ ""$GLANCE_ENABLE_MULTIPLE_STORES"" == ""True"" ]; then for store in $(echo $GLANCE_MULTIPLE_FILE_STORES | tr "","" ""\n""); do file_dir = ""${GLANCE_MULTISTORE_FILE_IMAGE_DIR}/${store}/"" sudo rm -rf $file_dir done # Cleanup reserved stores directories staging_file_dir = ""${GLANCE_MULTISTORE_FILE_IMAGE_DIR}/os_glance_staging_store/"" tasks_file_dir = ""${GLANCE_MULTISTORE_FILE_IMAGE_DIR}/os_glance_tasks_store/"" sudo rm -rf $staging_file_dir $tasks_file_dir fi # Configure multiple stores if [ ""$GLANCE_ENABLE_MULTIPLE_STORES"" == ""True"" ]; then enabled_backends="""" for store in $(echo $GLANCE_MULTIPLE_FILE_STORES | tr "","" ""\n""); do enabled_backends+=""${store}:file,"" done iniset $GLANCE_API_CONF DEFAULT enabled_backends ${enabled_backends::-1} fi # Glance multiple store Store specific configs if [ ""$GLANCE_ENABLE_MULTIPLE_STORES"" == ""True"" ]; then iniset $GLANCE_API_CONF glance_store default_backend $GLANCE_DEFAULT_BACKEND for store in $(echo $GLANCE_MULTIPLE_FILE_STORES | tr "","" ""\n""); do iniset $GLANCE_API_CONF $store filesystem_store_datadir ""${GLANCE_MULTISTORE_FILE_IMAGE_DIR}/${store}/"" done # Glance configure reserved stores iniset $GLANCE_API_CONF os_glance_staging_store filesystem_store_datadir ""${GLANCE_MULTISTORE_FILE_IMAGE_DIR}/os_glance_staging_store/"" iniset $GLANCE_API_CONF os_glance_tasks_store filesystem_store_datadir ""${GLANCE_MULTISTORE_FILE_IMAGE_DIR}/os_glance_tasks_store/"" fi if [ ""$GLANCE_ENABLE_MULTIPLE_STORES"" == ""False"" ]; then iniset $GLANCE_API_CONF glance_store filesystem_store_datadir $GLANCE_IMAGE_DIR/ fi # No multiple stores for swift yet", iniset $GLANCE_API_CONF glance_store filesystem_store_datadir $GLANCE_IMAGE_DIR/,44,1
openstack%2Fneutron~master~I56efd1b9f09c0449ce531a185fcf4db353f99fe1,openstack/neutron,master,I56efd1b9f09c0449ce531a185fcf4db353f99fe1,Clean dvr fip gateway entry when fip agent gw port is deleted,MERGED,2020-03-06 14:00:53.000000000,2020-03-18 19:06:17.000000000,2020-03-18 19:03:29.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-06 14:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70cf2c503ce7d1ccbd1fa8f0be7c651d8aadb493', 'message': 'Clean dvr fip gateway entry when fip agent gw port is deleted\n\nIn [1] there was introduced new db table which stored information about\nwhich DVR L3 agent has got already floating ip gateway port. It was to\navoid race conditions and ensure that there is always only one such port\nper network and per agent (host).\nUnfortunately in [1] there was no added removal of correct record from\nthis db table so it was causing problems when such port had to be\nrecreated after it was already on the host and was deleted.\n\nThis patch adds removal of such entry from db when needed.\n\nCloses-Bug: #1866336\n\n[1] https://review.opendev.org/#/c/702547/\n\nChange-Id: I56efd1b9f09c0449ce531a185fcf4db353f99fe1\n'}, {'number': 2, 'created': '2020-03-07 18:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/388cf04eb70fbae576863c21b815db5934040082', 'message': 'Clean dvr fip gateway entry when fip agent gw port is deleted\n\nIn [1] there was introduced new db table which stored information about\nwhich DVR L3 agent has got already floating ip gateway port. It was to\navoid race conditions and ensure that there is always only one such port\nper network and per agent (host).\nUnfortunately in [1] there was no added removal of correct record from\nthis db table so it was causing problems when such port had to be\nrecreated after it was already on the host and was deleted.\n\nThis patch adds removal of such entry from db when needed.\n\nCloses-Bug: #1866336\n\n[1] https://review.opendev.org/#/c/702547/\n\nChange-Id: I56efd1b9f09c0449ce531a185fcf4db353f99fe1\n'}, {'number': 3, 'created': '2020-03-08 17:15:27.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2baeae75199405d46927c073daf772b2a4144294', 'message': 'Clean dvr fip gateway entry when fip agent gw port is deleted\n\nIn [1] there was introduced new db table which stored information about\nwhich DVR L3 agent has got already floating ip gateway port. It was to\navoid race conditions and ensure that there is always only one such port\nper network and per agent (host).\nUnfortunately in [1] there was no added removal of correct record from\nthis db table so it was causing problems when such port had to be\nrecreated after it was already on the host and was deleted.\n\nThis patch adds removal of such entry from db when needed.\n\nCloses-Bug: #1866336\n\n[1] https://review.opendev.org/#/c/702547/\n\nChange-Id: I56efd1b9f09c0449ce531a185fcf4db353f99fe1\n'}]",7,711623,2baeae75199405d46927c073daf772b2a4144294,29,7,3,11975,,,0,"Clean dvr fip gateway entry when fip agent gw port is deleted

In [1] there was introduced new db table which stored information about
which DVR L3 agent has got already floating ip gateway port. It was to
avoid race conditions and ensure that there is always only one such port
per network and per agent (host).
Unfortunately in [1] there was no added removal of correct record from
this db table so it was causing problems when such port had to be
recreated after it was already on the host and was deleted.

This patch adds removal of such entry from db when needed.

Closes-Bug: #1866336

[1] https://review.opendev.org/#/c/702547/

Change-Id: I56efd1b9f09c0449ce531a185fcf4db353f99fe1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/711623/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py']",2,70cf2c503ce7d1ccbd1fa8f0be7c651d8aadb493,bug/1866336," def _delete_fip_agent_port(self, context, network_id, host_id): l3_agent_db = self._get_agent_by_type_and_host( context, const.AGENT_TYPE_L3, host_id) try: l3_obj.DvrFipGatewayPortAgentBinding( context, network_id=network_id, agent_id=l3_agent_db['id']).delete() except n_exc.ObjectNotFound: pass self._delete_fip_agent_port( context, ext_net_id, p[portbindings.HOST_ID])",,40,3
openstack%2Fcharm-vault~stable%2F20.02~Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a,openstack/charm-vault,stable/20.02,Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a,Rebuild of dependencies,MERGED,2020-03-12 15:26:09.000000000,2020-03-18 19:06:15.000000000,2020-03-18 19:06:15.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 25817}]","[{'number': 1, 'created': '2020-03-12 15:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f7297a2d87a491a89dce0b8d64601612b2c46d5e', 'message': 'Rebuild of dependencies\n\nChange-Id: Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a\nCloses-bug: #1864804\nSigned-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>\n'}, {'number': 4, 'created': '2020-03-13 09:12:46.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/324d5f638110876993d6b584e9b2220558049a10', 'message': 'Rebuild of dependencies\n\nChange-Id: Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a\nCloses-bug: #1864804\nSigned-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>\n(cherry picked from commit 0d4103ea6ca29dd9ed655cb002a60878b4b919a2)\n'}]",0,712711,324d5f638110876993d6b584e9b2220558049a10,15,4,2,25817,,,0,"Rebuild of dependencies

Change-Id: Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a
Closes-bug: #1864804
Signed-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>
(cherry picked from commit 0d4103ea6ca29dd9ed655cb002a60878b4b919a2)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/11/712711/4 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,f7297a2d87a491a89dce0b8d64601612b2c46d5e,bug/1864804,cf3500ef-8982-4da2-a417-2f04f8dcaff8,52737480-4839-11ea-8ea6-4bb6c0f4660c,1,1
openstack%2Fpython-magnumclient~master~If52089e4021b3730ef236fcfab799ec4922e02af,openstack/python-magnumclient,master,If52089e4021b3730ef236fcfab799ec4922e02af,Switch to Ussuri jobs,ABANDONED,2019-10-22 06:08:21.000000000,2020-03-18 19:02:15.000000000,,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-10-22 06:08:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/87ac428f3ddb31826e8bc3b49b36bede6af71e54', 'message': 'Switch to Ussuri jobs\n\nChange-Id: If52089e4021b3730ef236fcfab799ec4922e02af\n'}]",0,689960,87ac428f3ddb31826e8bc3b49b36bede6af71e54,8,4,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: If52089e4021b3730ef236fcfab799ec4922e02af
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/60/689960/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,87ac428f3ddb31826e8bc3b49b36bede6af71e54,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Frpm-packaging~stable%2Fstein~I5f26a58eae5062d7d2df68119305794278cdb4d0,openstack/rpm-packaging,stable/stein,I5f26a58eae5062d7d2df68119305794278cdb4d0,monasca-agent now requires freezegun,MERGED,2020-03-18 12:11:11.000000000,2020-03-18 18:48:22.000000000,2020-03-18 18:48:21.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-18 12:11:11.000000000', 'files': ['openstack/monasca-agent/monasca-agent.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fe31a2d850bcb70ebb0119b38950aa334dc06e5d', 'message': 'monasca-agent now requires freezegun\n\nIt was added by Guang in Id95cc7115823f972e234417223ab5906b57447cc\n\nChange-Id: I5f26a58eae5062d7d2df68119305794278cdb4d0\n(cherry picked from commit 1caa489aa71adca111b8ce2330f961b8f4039c16)\n'}]",0,713635,fe31a2d850bcb70ebb0119b38950aa334dc06e5d,9,5,1,6593,,,0,"monasca-agent now requires freezegun

It was added by Guang in Id95cc7115823f972e234417223ab5906b57447cc

Change-Id: I5f26a58eae5062d7d2df68119305794278cdb4d0
(cherry picked from commit 1caa489aa71adca111b8ce2330f961b8f4039c16)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/35/713635/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-agent/monasca-agent.spec.j2'],1,fe31a2d850bcb70ebb0119b38950aa334dc06e5d,,BuildRequires: {{ py2pkg('freezegun') }},,1,0
openstack%2Frpm-packaging~master~If0688ad07bebad4a8f3a73a2c97cc6299857589a,openstack/rpm-packaging,master,If0688ad07bebad4a8f3a73a2c97cc6299857589a,Remove six from requirements,MERGED,2020-03-18 09:38:22.000000000,2020-03-18 18:48:22.000000000,2020-03-18 18:48:22.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-18 09:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/45511ddc2fd264deb37e8bccb0fa2ab5e1ebe3b6', 'message': 'Remove six from requirements\n\nThe six package is not needed anymore to build/run ironic and\nsushy.\n\nChange-Id: If0688ad07bebad4a8f3a73a2c97cc6299857589a\n'}, {'number': 2, 'created': '2020-03-18 14:46:18.000000000', 'files': ['openstack/ironic/ironic.spec.j2', 'openstack/sushy/sushy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5a20302ab68e2bd92094d00dc98efe4a6c6822ba', 'message': 'Remove six from requirements\n\nThe six package is not needed anymore to build/run ironic and\nsushy.\n\nChange-Id: If0688ad07bebad4a8f3a73a2c97cc6299857589a\n'}]",0,713597,5a20302ab68e2bd92094d00dc98efe4a6c6822ba,15,6,2,23851,,,0,"Remove six from requirements

The six package is not needed anymore to build/run ironic and
sushy.

Change-Id: If0688ad07bebad4a8f3a73a2c97cc6299857589a
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/97/713597/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/ironic/ironic.spec.j2', 'openstack/sushy/sushy.spec.j2']",2,45511ddc2fd264deb37e8bccb0fa2ab5e1ebe3b6,update-reqs,,BuildRequires: {{ py3('six') }}Requires: {{ py3('six') }},0,4
openstack%2Frpm-packaging~stable%2Fstein~Ia0cbef97b47d7e7031d7f1b70e0525daaf331373,openstack/rpm-packaging,stable/stein,Ia0cbef97b47d7e7031d7f1b70e0525daaf331373,cinder: add SQLAlchemy-Utils,MERGED,2020-03-18 12:08:29.000000000,2020-03-18 18:48:21.000000000,2020-03-18 18:48:21.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-18 12:08:29.000000000', 'files': ['openstack/cinder/cinder.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a57ac2cc8f5ca46f75b1905f6776fd25865dd213', 'message': 'cinder: add SQLAlchemy-Utils\n\nThis was added as dependency in Ibfa6c4ba2f162681756ec3203991351345b65346\n\nChange-Id: Ia0cbef97b47d7e7031d7f1b70e0525daaf331373\n(cherry picked from commit f29fce294ff9ce10b0a59727afdf1485b8a686db)\n(cherry picked from commit 6777880db33e09ebcdd8bd9868e589477b9c2a3c)\n'}]",0,713634,a57ac2cc8f5ca46f75b1905f6776fd25865dd213,9,5,1,6593,,,0,"cinder: add SQLAlchemy-Utils

This was added as dependency in Ibfa6c4ba2f162681756ec3203991351345b65346

Change-Id: Ia0cbef97b47d7e7031d7f1b70e0525daaf331373
(cherry picked from commit f29fce294ff9ce10b0a59727afdf1485b8a686db)
(cherry picked from commit 6777880db33e09ebcdd8bd9868e589477b9c2a3c)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/34/713634/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cinder/cinder.spec.j2'],1,a57ac2cc8f5ca46f75b1905f6776fd25865dd213,,BuildRequires: {{ py2pkg('SQLAlchemy-Utils') }},,1,0
openstack%2Fkayobe~master~I05e9c6223583e9bb5dc0020edc0b56990275093c,openstack/kayobe,master,I05e9c6223583e9bb5dc0020edc0b56990275093c,Remove ceph block device support,MERGED,2020-02-23 20:35:14.000000000,2020-03-18 18:37:44.000000000,2020-03-18 18:35:59.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-23 20:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7918dedf8f5626bb6396b67a9b04e8fcd35c01d1', 'message': 'Remove ceph block device support\n\nIt leaves certain ceph mentions in globals.yml.j2 as it needs\nsyncing with kolla-ansible contents anyways\n(these are all comments).\n\nChange-Id: I05e9c6223583e9bb5dc0020edc0b56990275093c\nStory: 2007295\nTask: 38766\n'}, {'number': 2, 'created': '2020-02-25 09:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/edcb42391f416240aea4b4a6ac669cb93ab6b96e', 'message': 'Remove ceph block device support\n\nIt leaves certain ceph mentions in globals.yml.j2 as it needs\nsyncing with kolla-ansible contents anyways\n(these are all comments).\n\nChange-Id: I05e9c6223583e9bb5dc0020edc0b56990275093c\nStory: 2007295\nTask: 38766\n'}, {'number': 3, 'created': '2020-03-18 10:28:42.000000000', 'files': ['ansible/roles/kolla-ceph/tests/test-no-journal.yml', 'kayobe/tests/unit/cli/test_commands.py', 'ansible/roles/kolla-openstack/templates/ceph.conf.j2', 'ansible/group_vars/all/network', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/group_vars/all/storage', 'ansible/group_vars/storage/ceph', 'ansible/roles/kolla-ansible/defaults/main.yml', 'ansible/roles/kolla-ceph/tests/test-data-journal.yml', 'etc/kayobe/kolla.yml', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-ceph/tasks/main.yml', 'etc/kayobe/inventory/group_vars/compute/network-interfaces', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/group_vars/all/kolla', 'releasenotes/notes/drop-kolla-ceph-deployment-47095b032085e8f3.yaml', 'ansible/group_vars/controllers/ceph', 'ansible/kolla-ansible.yml', 'doc/source/control-plane-service-placement.rst', 'doc/source/configuration/network.rst', 'ansible/kolla-openstack.yml', 'etc/kayobe/inventory/group_vars/storage/network-interfaces', 'ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-ansible/templates/overcloud-components.j2', 'etc/kayobe/networks.yml', 'ansible/roles/kolla-ceph/tasks/config.yml', 'ansible/roles/kolla-ansible/vars/main.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/roles/kolla-ceph/defaults/main.yml', 'ansible/roles/kolla-ceph/tests/main.yml', 'etc/kayobe/ceph.yml', 'ansible/group_vars/all/controllers', 'etc/kayobe/storage.yml', 'etc/kayobe/compute.yml', 'ansible/roles/kolla-ceph/tests/test-bootstrapped-journal.yml', 'ansible/group_vars/all/ceph', 'etc/kayobe/inventory/group_vars/controllers/network-interfaces', 'etc/kayobe/controllers.yml', 'doc/source/configuration/hosts.rst', 'ansible/roles/kolla-openstack/molecule/default/tests/test_default.py', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/ceph-block-devices.yml', 'ansible/roles/kolla-ceph/tests/test-journal.yml', 'ansible/group_vars/compute/ceph', 'ansible/roles/kolla-ansible/templates/overcloud-services.j2', 'kayobe/cli/commands.py', 'ansible/group_vars/all/compute'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e7d7daa5310657d7ba5fc26db972dcd0040d10cd', 'message': 'Remove ceph block device support\n\nIt leaves certain ceph mentions in globals.yml.j2 as it needs\nsyncing with kolla-ansible contents anyways\n(these are all comments).\n\nChange-Id: I05e9c6223583e9bb5dc0020edc0b56990275093c\nStory: 2007295\nTask: 38766\n'}]",0,709376,e7d7daa5310657d7ba5fc26db972dcd0040d10cd,25,4,3,30491,,,0,"Remove ceph block device support

It leaves certain ceph mentions in globals.yml.j2 as it needs
syncing with kolla-ansible contents anyways
(these are all comments).

Change-Id: I05e9c6223583e9bb5dc0020edc0b56990275093c
Story: 2007295
Task: 38766
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/76/709376/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ceph/tests/test-no-journal.yml', 'kayobe/tests/unit/cli/test_commands.py', 'ansible/roles/kolla-openstack/templates/ceph.conf.j2', 'etc/kayobe/ceph.yml', 'ansible/group_vars/all/controllers', 'ansible/group_vars/all/network', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/group_vars/all/storage', 'etc/kayobe/storage.yml', 'etc/kayobe/compute.yml', 'ansible/group_vars/storage/ceph', 'ansible/roles/kolla-ansible/defaults/main.yml', 'ansible/roles/kolla-ceph/tests/test-bootstrapped-journal.yml', 'ansible/group_vars/all/ceph', 'ansible/roles/kolla-ceph/tests/test-data-journal.yml', 'etc/kayobe/kolla.yml', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-ceph/tasks/main.yml', 'etc/kayobe/inventory/group_vars/compute/network-interfaces', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'etc/kayobe/inventory/group_vars/controllers/network-interfaces', 'ansible/group_vars/all/kolla', 'etc/kayobe/controllers.yml', 'doc/source/configuration/hosts.rst', 'ansible/group_vars/controllers/ceph', 'ansible/kolla-ansible.yml', 'doc/source/control-plane-service-placement.rst', 'ansible/roles/kolla-openstack/molecule/default/tests/test_default.py', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'doc/source/configuration/network.rst', 'ansible/ceph-block-devices.yml', 'ansible/roles/kolla-ceph/tests/test-journal.yml', 'ansible/group_vars/compute/ceph', 'ansible/kolla-openstack.yml', 'etc/kayobe/inventory/group_vars/storage/network-interfaces', 'ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-ansible/templates/overcloud-services.j2', 'ansible/roles/kolla-ansible/templates/overcloud-components.j2', 'etc/kayobe/networks.yml', 'kayobe/cli/commands.py', 'ansible/roles/kolla-ceph/tasks/config.yml', 'ansible/roles/kolla-ansible/vars/main.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/roles/kolla-ceph/defaults/main.yml', 'ansible/group_vars/all/compute', 'ansible/roles/kolla-ceph/tests/main.yml']",47,7918dedf8f5626bb6396b67a9b04e8fcd35c01d1,task/38766,,--- - import_playbook: test-no-journal.yml - import_playbook: test-journal.yml - import_playbook: test-bootstrapped-journal.yml - import_playbook: test-data-journal.yml - hosts: localhost connection: local tasks: - name: Fail if any tests failed fail: msg: > Test failures: {{ test_failures }} when: test_failures is defined ,6,775
openstack%2Fopenstack-helm~master~Ia2bc596baf623ef3f747fbd0534c8e058e1571f8,openstack/openstack-helm,master,Ia2bc596baf623ef3f747fbd0534c8e058e1571f8,Tools: Update test-networkpolicy.sh,MERGED,2019-10-07 22:07:44.000000000,2020-03-18 18:35:54.000000000,2020-03-18 18:33:37.000000000,"[{'_account_id': 8749}, {'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28849}, {'_account_id': 30777}, {'_account_id': 31479}]","[{'number': 1, 'created': '2019-10-07 22:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73c82ecbdcb1a0c0abc85dd953801b58327bf3e3', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis patch set adds ingress network policy testcases for mariadb\nin openstack namespace.\n\nChange-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8\n'}, {'number': 2, 'created': '2019-10-08 13:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/61dcad3339f38099eaa3fbd6afe53e62d14b0500', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis patch set adds ingress network policy testcases for mariadb\nin openstack namespace.\n\nDepends-On: https://review.opendev.org/#/c/687162/\nChange-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8\n'}, {'number': 3, 'created': '2019-10-08 15:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/35015d894c56e44788a2d0fa21a1dcde2db7bd32', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis patch set adds ingress network policy testcases for mariadb\nin openstack namespace.\n\nDepends-On: https://review.opendev.org/#/c/687162/\nChange-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8\n'}, {'number': 4, 'created': '2019-10-09 21:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3b1f74480235440c67e334d4d26258b7077b1f02', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis patch set adds ingress network policy testcases for mariadb\nin openstack namespace.\n\nDepends-On: https://review.opendev.org/#/c/687162/\nChange-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8\n'}, {'number': 5, 'created': '2019-10-18 16:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4c38ba9900e10126a01b8cdcf7bb255c9289835d', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis patch set adds ingress network policy testcases for mariadb\nin openstack namespace.\n\nDepends-On: https://review.opendev.org/#/c/687162/\nChange-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8\n'}, {'number': 6, 'created': '2019-10-21 15:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3827c1d03da84e1d4e6c39c5fe570fc4fe7fcc69', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis patch set adds ingress network policy testcases for mariadb\nin openstack namespace.\n\nDepends-On: https://review.opendev.org/#/c/687162/\nChange-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8\n'}, {'number': 7, 'created': '2020-01-13 21:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6883d6eb29d0e21fd9f9e65eb1ac2e26851e2a7d', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis patch set adds ingress network policy testcases for mariadb\nin openstack namespace.\n\nDepends-On: https://review.opendev.org/#/c/687162/\nChange-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8\n'}, {'number': 8, 'created': '2020-01-15 20:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/44505d60b9b1b0b90abd3179239d324b0b795c4a', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis patch set adds ingress network policy testcases for mariadb\nin openstack namespace.\n\nDepends-On: https://review.opendev.org/#/c/687162/\nChange-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8\n'}, {'number': 9, 'created': '2020-03-16 22:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/96af96320d9c188740d768d47c349a16d6ebfef2', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis patch set adds ingress network policy testcases for mariadb\nin openstack namespace.\n\nDepends-On: https://review.opendev.org/#/c/687162/\nChange-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8\n'}, {'number': 10, 'created': '2020-03-17 20:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7b33536eda3e56a7c03bae710ddc8ab21c33c01e', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis patch set adds ingress network policy testcases for mariadb\nin openstack namespace.\n\nDepends-On: https://review.opendev.org/#/c/687162/\nChange-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8\n'}, {'number': 11, 'created': '2020-03-18 15:40:40.000000000', 'files': ['tools/deployment/common/test-networkpolicy.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9f506eee1a3e38b589e586b3200942886afdbea', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis patch set adds ingress network policy testcases for mariadb\nin openstack namespace.\n\nDepends-On: https://review.opendev.org/#/c/687162/\nChange-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8\n'}]",1,687172,c9f506eee1a3e38b589e586b3200942886afdbea,43,11,11,18236,,,0,"Tools: Update test-networkpolicy.sh

This patch set adds ingress network policy testcases for mariadb
in openstack namespace.

Depends-On: https://review.opendev.org/#/c/687162/
Change-Id: Ia2bc596baf623ef3f747fbd0534c8e058e1571f8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/72/687172/8 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/test-networkpolicy.sh'],1,73c82ecbdcb1a0c0abc85dd953801b58327bf3e3,netpol, test_netpol openstack cinder api mariadb.openstack.svc.cluster.local:3306 success test_netpol openstack keystone api mariadb-server.openstack.svc.cluster.local:3306 success test_netpol openstack mariadb ingress mariadb-discovery.openstack.svc.cluster.local:4567 success test_netpol openstack ingress server mariadb.openstack.svc.cluster.local:3306 fail test_netpol openstack prometheus_memcached_exporter exporter mariadb-discovery.openstack.svc.cluster.local:4567 fail test_netpol openstack heat api mariadb-discovery.openstack.svc.cluster.local:3306 success test_netpol openstack nova api mariadb-server.openstack.svc.cluster.local:3306 success test_netpol openstack neutron l3-agent mariadb-discovery.openstack.svc.cluster.local:4567 success,,8,0
openstack%2Ftripleo-ansible~master~I3a4883bc0c8dfa480ce5fd10ec40f3a9f0cff217,openstack/tripleo-ansible,master,I3a4883bc0c8dfa480ce5fd10ec40f3a9f0cff217,Insert hosts entries to the beginning of the file.,MERGED,2020-02-07 15:52:23.000000000,2020-03-18 18:26:55.000000000,2020-03-18 18:26:55.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-02-07 15:52:23.000000000', 'files': ['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76fd2eaacc202ab5681d23596ed0f3d25216bb9f', 'message': 'Insert hosts entries to the beginning of the file.\n\nThis ensures that the first host entry found for a host\nwill use what is generated by TripleO (if applicable).\n\nChange-Id: I3a4883bc0c8dfa480ce5fd10ec40f3a9f0cff217\nCloses-Bug: #1861035\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,706552,76fd2eaacc202ab5681d23596ed0f3d25216bb9f,23,11,1,25877,,,0,"Insert hosts entries to the beginning of the file.

This ensures that the first host entry found for a host
will use what is generated by TripleO (if applicable).

Change-Id: I3a4883bc0c8dfa480ce5fd10ec40f3a9f0cff217
Closes-Bug: #1861035
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/52/706552/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'],1,76fd2eaacc202ab5681d23596ed0f3d25216bb9f,, # BOF denotes the beginning of the file. insertbefore: BOF,,2,0
openstack%2Fnova~master~I3448b89f58f3c3a85d15ee5a870c24b4b7f201df,openstack/nova,master,I3448b89f58f3c3a85d15ee5a870c24b4b7f201df,libvirt: Check the guest support UEFI,MERGED,2019-09-30 10:39:24.000000000,2020-03-18 18:07:51.000000000,2020-03-18 18:05:00.000000000,"[{'_account_id': 782}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9725}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-30 10:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbd1887cc80e4d2125ff94765731c54d5c725ec3', 'message': 'libvirt: Check the guest support UEFI\n\nTODO: add unit test\n\nChange-Id: I3448b89f58f3c3a85d15ee5a870c24b4b7f201df\nCloses-Bug: #1845628\n'}, {'number': 2, 'created': '2019-10-09 03:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3adbf6af2e47a1f43f5da11d5496e7dc9a1ba934', 'message': 'libvirt: Check the guest support UEFI\n\ncommit 539d381434ccadcdc3f5d58c2705c35558a3a065 add a\nNVRAM flag in guest delete_configuration, but check\nUEFI support only in host side. If an instance does\nnot boot from UEFI, but the host enable UEFI software\nlike OVMF, the NVRAM flag always delete.\n\nThis patch also check the guest support UEFI.\n\nChange-Id: I3448b89f58f3c3a85d15ee5a870c24b4b7f201df\nCloses-Bug: #1845628\n'}, {'number': 3, 'created': '2020-02-19 14:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa029dcceaac1cf9d4ce4368243fe9e01b701fe0', 'message': 'libvirt: Check the guest support UEFI\n\ncommit 539d381434ccadcdc3f5d58c2705c35558a3a065 add a\nNVRAM flag in guest delete_configuration, but check\nUEFI support only in host side. If an instance does\nnot boot from UEFI, but the host enable UEFI software\nlike OVMF, the NVRAM flag always delete.\n\nThis patch also check the guest support UEFI.\n\nChange-Id: I3448b89f58f3c3a85d15ee5a870c24b4b7f201df\nCloses-Bug: #1845628\n'}, {'number': 4, 'created': '2020-02-19 15:39:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1845628-3152e73a1e4856b2.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ae4d9274e3e310fdd04c81e92e9c4803c434fff', 'message': 'libvirt: Check the guest support UEFI\n\ncommit 539d381434ccadcdc3f5d58c2705c35558a3a065 add a\nNVRAM flag in guest delete_configuration, but check\nUEFI support only in host side. If an instance does\nnot boot from UEFI, but the host enable UEFI software\nlike OVMF, the NVRAM flag always delete.\n\nThis patch also check the guest support UEFI.\n\nChange-Id: I3448b89f58f3c3a85d15ee5a870c24b4b7f201df\nCloses-Bug: #1845628\n'}]",2,685678,9ae4d9274e3e310fdd04c81e92e9c4803c434fff,56,17,4,12860,,,0,"libvirt: Check the guest support UEFI

commit 539d381434ccadcdc3f5d58c2705c35558a3a065 add a
NVRAM flag in guest delete_configuration, but check
UEFI support only in host side. If an instance does
not boot from UEFI, but the host enable UEFI software
like OVMF, the NVRAM flag always delete.

This patch also check the guest support UEFI.

Change-Id: I3448b89f58f3c3a85d15ee5a870c24b4b7f201df
Closes-Bug: #1845628
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/685678/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,cbd1887cc80e4d2125ff94765731c54d5c725ec3,bug/1845628," hw_firmware_type = instance.image_meta.properties.get( 'hw_firmware_type') support_uefi = (self._has_uefi_support() and hw_firmware_type == fields.FirmwareType.UEFI) def _swap_volume(self, guest, disk_path, conf, resize_to, hw_firmware_type): support_uefi = (self._has_uefi_support() and hw_firmware_type == fields.FirmwareType.UEFI) hw_firmware_type = instance.image_meta.properties.get( 'hw_firmware_type') try: self._swap_volume(guest, disk_dev, conf, resize_to, hw_firmware_type) hw_firmware_type = image_meta.properties.get( 'hw_firmware_type') support_uefi = (self._has_uefi_support() and hw_firmware_type == fields.FirmwareType.UEFI)"," support_uefi = self._has_uefi_support() def _swap_volume(self, guest, disk_path, conf, resize_to): support_uefi = self._has_uefi_support() try: self._swap_volume(guest, disk_dev, conf, resize_to) support_uefi = self._has_uefi_support()",17,5
openstack%2Freleases~master~Icdc80757b56d8090620b0b800afb201b6ef977fb,openstack/releases,master,Icdc80757b56d8090620b0b800afb201b6ef977fb,Bump vitrage version to 6.0.1,MERGED,2020-03-18 16:11:18.000000000,2020-03-18 18:07:27.000000000,2020-03-18 18:07:27.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 16:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/542b85492868d91e5242805faaee8ba12db3b74e', 'message': 'Bump vitrage version to 6.0.1\n\n2 bugs were fixed\n\nChange-Id: Icdc80757b56d8090620b0b800afb201b6ef977fb\n'}, {'number': 2, 'created': '2020-03-18 16:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1f6bb087fc29d49cebe12435154b0b663a786284', 'message': 'Bump vitrage version to 6.0.1\n\n2 bugs were fixed\n\nChange-Id: Icdc80757b56d8090620b0b800afb201b6ef977fb\n'}, {'number': 3, 'created': '2020-03-18 16:34:18.000000000', 'files': ['deliverables/ussuri/vitrage.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6a21c0b07747f1fd054598b731c8bac3fdecec91', 'message': 'Bump vitrage version to 6.0.1\n\n2 bugs were fixed\n\nChange-Id: Icdc80757b56d8090620b0b800afb201b6ef977fb\n'}]",0,713688,6a21c0b07747f1fd054598b731c8bac3fdecec91,11,3,3,19134,,,0,"Bump vitrage version to 6.0.1

2 bugs were fixed

Change-Id: Icdc80757b56d8090620b0b800afb201b6ef977fb
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/713688/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/vitrage.yaml'],1,542b85492868d91e5242805faaee8ba12db3b74e,vitrage_release, - version: 6.0.1 projects: - repo: openstack/vitrage hash: 35fc976e5ff946d131096fd9e56a6ec799e857f9,,4,0
openstack%2Fnova~master~Ie7dcd66598485cb99965d8aeaa77542b3b435b6d,openstack/nova,master,Ie7dcd66598485cb99965d8aeaa77542b3b435b6d,db: Remove unused ec2 DB APIs,MERGED,2019-12-13 11:25:30.000000000,2020-03-18 17:56:12.000000000,2020-03-18 17:53:30.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9312}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10234}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-13 11:25:30.000000000', 'files': ['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/696583878ee714125b7c52914ed69428b32d93db', 'message': 'db: Remove unused ec2 DB APIs\n\nThese were missed in change If85003d8b02aefd81a7fc3f1b376be9d30ace4d2.\n\nChange-Id: Ie7dcd66598485cb99965d8aeaa77542b3b435b6d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,698880,696583878ee714125b7c52914ed69428b32d93db,27,15,1,15334,,,0,"db: Remove unused ec2 DB APIs

These were missed in change If85003d8b02aefd81a7fc3f1b376be9d30ace4d2.

Change-Id: Ie7dcd66598485cb99965d8aeaa77542b3b435b6d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/698880/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,696583878ee714125b7c52914ed69428b32d93db,db-cleanup,,"def _ec2_volume_get_query(context): return model_query(context, models.VolumeIdMapping, read_deleted='yes') def _ec2_snapshot_get_query(context): return model_query(context, models.SnapshotIdMapping, read_deleted='yes') @require_context @pick_context_manager_writer def ec2_volume_create(context, volume_uuid, id=None): """"""Create ec2 compatible volume by provided uuid."""""" ec2_volume_ref = models.VolumeIdMapping() ec2_volume_ref.update({'uuid': volume_uuid}) if id is not None: ec2_volume_ref.update({'id': id}) ec2_volume_ref.save(context.session) return ec2_volume_ref @require_context @pick_context_manager_reader def ec2_volume_get_by_uuid(context, volume_uuid): result = _ec2_volume_get_query(context).\ filter_by(uuid=volume_uuid).\ first() if not result: raise exception.VolumeNotFound(volume_id=volume_uuid) return result @require_context @pick_context_manager_reader def ec2_volume_get_by_id(context, volume_id): result = _ec2_volume_get_query(context).\ filter_by(id=volume_id).\ first() if not result: raise exception.VolumeNotFound(volume_id=volume_id) return result @require_context @pick_context_manager_writer def ec2_snapshot_create(context, snapshot_uuid, id=None): """"""Create ec2 compatible snapshot by provided uuid."""""" ec2_snapshot_ref = models.SnapshotIdMapping() ec2_snapshot_ref.update({'uuid': snapshot_uuid}) if id is not None: ec2_snapshot_ref.update({'id': id}) ec2_snapshot_ref.save(context.session) return ec2_snapshot_ref @require_context @pick_context_manager_reader def ec2_snapshot_get_by_ec2_id(context, ec2_id): result = _ec2_snapshot_get_query(context).\ filter_by(id=ec2_id).\ first() if not result: raise exception.SnapshotNotFound(snapshot_id=ec2_id) return result @require_context @pick_context_manager_reader def ec2_snapshot_get_by_uuid(context, snapshot_uuid): result = _ec2_snapshot_get_query(context).\ filter_by(uuid=snapshot_uuid).\ first() if not result: raise exception.SnapshotNotFound(snapshot_id=snapshot_uuid) return result ################### ",0,169
openstack%2Fneutron~master~I520a3de105b4c6924908e099a3b8d60c3280f499,openstack/neutron,master,I520a3de105b4c6924908e099a3b8d60c3280f499,[OVN] OVN DB schema update aware maintenance tasks,MERGED,2020-02-25 16:20:12.000000000,2020-03-18 17:56:08.000000000,2020-03-18 17:53:26.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-25 16:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23a3ce9fe6715b4c4e0f527c375d814403653007', 'message': '[OVN] DO NOT REVIEW: PoC Schema aware periodics\n\nCloses-Bug: #1864641\nChange-Id: I520a3de105b4c6924908e099a3b8d60c3280f499\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-02-26 14:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/728b13af79c4573c0bdd10222920e516de817cd7', 'message': '[OVN] DO NOT REVIEW: PoC Schema aware periodics\n\nCloses-Bug: #1864641\nChange-Id: I520a3de105b4c6924908e099a3b8d60c3280f499\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-02-26 14:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acee3bd9298c8573fe5ac6bcf0a93dc6aeeb0401', 'message': '[OVN] DO NOT REVIEW: PoC Schema aware periodics\n\nCloses-Bug: #1864641\nChange-Id: I520a3de105b4c6924908e099a3b8d60c3280f499\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-02-27 15:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75f45f4afcbca6c810dde918781d3d2c1e3bbc88', 'message': '[OVN] OVN DB schema update aware maintenance tasks\n\nThis patch introduces a new mechanism to allow rerunning maintenance\ntasks upon an OVN database schema change to avoid a service restart.\n\nAs an example, the ""migrate_to_port_groups"" maintenance task will run\nagain when the database schema is updated. In case of a migration from\nan OVN version without port groups support to a version that supports\nit, the OVN driver will migrate the code automatically without the need\nof a service restart.\n\nCloses-Bug: #1864641\nChange-Id: I520a3de105b4c6924908e099a3b8d60c3280f499\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-02-27 15:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/316aff7482bb5e1f3c7781c493322194557d9220', 'message': '[OVN] OVN DB schema update aware maintenance tasks\n\nThis patch introduces a new mechanism to allow rerunning maintenance\ntasks upon an OVN database schema change to avoid a service restart.\n\nAs an example, the ""migrate_to_port_groups"" maintenance task will run\nagain when the database schema is updated. In case of a migration from\nan OVN version without port groups support to a version that supports\nit, the OVN driver will migrate the code automatically without the need\nof a service restart.\n\nCloses-Bug: #1864641\nChange-Id: I520a3de105b4c6924908e099a3b8d60c3280f499\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2020-02-27 15:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/733ca48304a894f2ad29f2b3d7493d653a2156f0', 'message': '[OVN] OVN DB schema update aware maintenance tasks\n\nThis patch introduces a new mechanism to allow rerunning maintenance\ntasks upon an OVN database schema change to avoid a service restart.\n\nAs an example, the ""migrate_to_port_groups"" maintenance task will run\nagain when the database schema is updated. In case of a migration from\nan OVN version without port groups support to a version that supports\nit, the OVN driver will migrate the code automatically without the need\nof a service restart.\n\nCloses-Bug: #1864641\nChange-Id: I520a3de105b4c6924908e099a3b8d60c3280f499\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2020-02-28 14:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/986384502ce171d5b80c753f84acef16ce8b5527', 'message': '[OVN] OVN DB schema update aware maintenance tasks\n\nThis patch introduces a new mechanism to allow rerunning maintenance\ntasks upon an OVN database schema change to avoid a service restart.\n\nAs an example, the ""migrate_to_port_groups"" maintenance task will run\nagain when the database schema is updated. In case of a migration from\nan OVN version without port groups support to a version that supports\nit, the OVN driver will migrate the code automatically without the need\nof a service restart.\n\nCloses-Bug: #1864641\nChange-Id: I520a3de105b4c6924908e099a3b8d60c3280f499\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2020-02-29 09:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7af8086ab8810f004ecb60417c819910e4e73d63', 'message': '[OVN] OVN DB schema update aware maintenance tasks\n\nThis patch introduces a new mechanism to allow rerunning maintenance\ntasks upon an OVN database schema change to avoid a service restart.\n\nAs an example, the ""migrate_to_port_groups"" maintenance task will run\nagain when the database schema is updated. In case of a migration from\nan OVN version without port groups support to a version that supports\nit, the OVN driver will migrate the code automatically without the need\nof a service restart.\n\nCloses-Bug: #1864641\nChange-Id: I520a3de105b4c6924908e099a3b8d60c3280f499\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2020-03-09 16:10:34.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e416224b04d7d4094e5719afa4ef5bccbe48ce7', 'message': '[OVN] OVN DB schema update aware maintenance tasks\n\nThis patch introduces a new mechanism to allow rerunning maintenance\ntasks upon an OVN database schema change to avoid a service restart.\n\nAs an example, the ""migrate_to_port_groups"" maintenance task will run\nagain when the database schema is updated. In case of a migration from\nan OVN version without port groups support to a version that supports\nit, the OVN driver will migrate the code automatically without the need\nof a service restart.\n\nCloses-Bug: #1864641\nChange-Id: I520a3de105b4c6924908e099a3b8d60c3280f499\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",19,709770,9e416224b04d7d4094e5719afa4ef5bccbe48ce7,62,7,9,6773,,,0,"[OVN] OVN DB schema update aware maintenance tasks

This patch introduces a new mechanism to allow rerunning maintenance
tasks upon an OVN database schema change to avoid a service restart.

As an example, the ""migrate_to_port_groups"" maintenance task will run
again when the database schema is updated. In case of a migration from
an OVN version without port groups support to a version that supports
it, the OVN driver will migrate the code automatically without the need
of a service restart.

Closes-Bug: #1864641
Change-Id: I520a3de105b4c6924908e099a3b8d60c3280f499
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/709770/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,23a3ce9fe6715b4c4e0f527c375d814403653007,bug/1864641-schema-maint-task,"import abcfrom ovsdbapp.backend.ovs_idl import event as row_event from ovsdbapp import event as ovsdbapp_eventdef rerun_on_schema_updates(func): """"""TODO blah blah blah"""""" func._rerun_on_schema_updates = True return func class OVSDBReconnectionEvent(row_event.RowEvent): """"""TODO blah blah blah"""""" def __init__(self, driver, version): self.driver = driver self.version = version table = 'Connection' events = (self.ROW_CREATE, self.ROW_UPDATE) super(OVSDBReconnectionEvent, self).__init__( events, table, None) self.event_name = self.__class__.__name__ def run(self, event, row, old): curr_version = self.driver.get_ovsdb_version() if self.version != self.driver.get_ovsdb_version(): self.driver.ovsdb_schema_changed_hook() self.version = curr_version class SchemaAwarePeriodicsBase(object): def __init__(self, ovn_client): self._ovn_client = ovn_client self._nb_idl = self._ovn_client._nb_idl self._set_schema_aware_periodics() self._nb_idl.idl.notify_handler.watch_event(OVSDBReconnectionEvent( self, self.get_ovsdb_version())) def get_ovsdb_version(self): return self._nb_idl.idl._db.version def _set_schema_aware_periodics(self): self._schema_aware_periodics = [] for name, member in inspect.getmembers(self): schema_upt = getattr(member, '_rerun_on_schema_updates', None) if schema_upt and periodics.is_periodic(member): LOG.debug('Schema aware periodic task found: ' '%(owner)s.%(member)s', {'owner': self.__class__.__name__, 'member': name}) self._schema_aware_periodics.append(member) @abc.abstractmethod def ovsdb_schema_changed_hook(self): """"""TODO blah blah blah """""" class DBInconsistenciesPeriodics(SchemaAwarePeriodicsBase): super(DBInconsistenciesPeriodics, self).__init__(ovn_client) def ovsdb_schema_changed_hook(self): if not self.has_lock: return for func in self._schema_aware_periodics: LOG.info('OVSDB schema version was updated, ' 'executing ""%s""', func.__name__) try: func() except periodics.NeverAgain: pass @rerun_on_schema_updates",class DBInconsistenciesPeriodics(object):,78,1
openstack%2Fironic~stable%2Fstein~Id9763481961f20f11f129398ed9813e9ccc0f33e,openstack/ironic,stable/stein,Id9763481961f20f11f129398ed9813e9ccc0f33e,Revamp grenade jobs,MERGED,2020-03-16 08:52:50.000000000,2020-03-18 17:51:51.000000000,2020-03-18 17:48:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-16 08:52:50.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cf83c844b2066b3a0f61d903720f66a9bc5d8f3f', 'message': 'Revamp grenade jobs\n\nGrenade job has been fixed for stein in [1] so adding the related\njobs back again.\n\n[1] https://review.opendev.org/#/c/713014/\n\nChange-Id: Id9763481961f20f11f129398ed9813e9ccc0f33e\n'}]",0,713176,cf83c844b2066b3a0f61d903720f66a9bc5d8f3f,24,7,1,23851,,,0,"Revamp grenade jobs

Grenade job has been fixed for stein in [1] so adding the related
jobs back again.

[1] https://review.opendev.org/#/c/713014/

Change-Id: Id9763481961f20f11f129398ed9813e9ccc0f33e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/713176/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,cf83c844b2066b3a0f61d903720f66a9bc5d8f3f,revamp-grenade, - ironic-grenade-dsvm - ironic-grenade-dsvm-multinode-multitenant - ironic-grenade-dsvm - ironic-grenade-dsvm-multinode-multitenant,,4,0
openstack%2Ftripleo-ansible~master~Ia41105d58f0e85117e548cbdc48a69b84b149841,openstack/tripleo-ansible,master,Ia41105d58f0e85117e548cbdc48a69b84b149841,Allow overriding keystone username by parameter,MERGED,2020-03-10 22:21:55.000000000,2020-03-18 17:51:42.000000000,2020-03-18 17:51:42.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-10 22:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ad268fc7362b30eaf4b2e8f50697bf2bc86d949', 'message': 'Allow overriding keystone username by parameter\n\nChange-Id: Ia41105d58f0e85117e548cbdc48a69b84b149841\n'}, {'number': 2, 'created': '2020-03-10 22:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9db366eb6bf3edbf92c0a44fc738e7f0002433b3', 'message': 'Allow overriding keystone username by parameter\n\nThis patch introduced ""name"" parameter into tripleo_keystone_resources,\nso that we can override user name by a given parameter.\n\nChange-Id: Ia41105d58f0e85117e548cbdc48a69b84b149841\n'}, {'number': 3, 'created': '2020-03-10 23:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a9c97b40b43bc802eae49521ae761d18b6cadfb', 'message': 'Allow overriding keystone username by parameter\n\nThis patch introduced ""name"" parameter into tripleo_keystone_resources,\nso that we can override user name by a given parameter.\n\nChange-Id: Ia41105d58f0e85117e548cbdc48a69b84b149841\n'}, {'number': 4, 'created': '2020-03-11 01:27:54.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6d6fbb3b6aed1e1835a8c13fccfc94d24568b3ef', 'message': 'Allow overriding keystone username by parameter\n\nThis patch introduced ""name"" parameter into tripleo_keystone_resources,\nso that we can override user name by a given parameter.\n\nChange-Id: Ia41105d58f0e85117e548cbdc48a69b84b149841\n'}]",0,712191,6d6fbb3b6aed1e1835a8c13fccfc94d24568b3ef,15,5,4,9816,,,0,"Allow overriding keystone username by parameter

This patch introduced ""name"" parameter into tripleo_keystone_resources,
so that we can override user name by a given parameter.

Change-Id: Ia41105d58f0e85117e548cbdc48a69b84b149841
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/91/712191/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'],1,3ad268fc7362b30eaf4b2e8f50697bf2bc86d949,keystone-username," name: ""{{ lookup('dict', tripleo_keystone_resources_data).name | lookup('dict', tripleo_keystone_resources_data).key }}"""," name: ""{{ lookup('dict', tripleo_keystone_resources_data).key }}""",1,1
openstack%2Fopenstacksdk~master~I2de2047ef9025ac0bd191a973f2744b01b904ca7,openstack/openstacksdk,master,I2de2047ef9025ac0bd191a973f2744b01b904ca7,Import generate_temp_url from swiftclient,MERGED,2020-03-06 15:16:57.000000000,2020-03-18 17:44:24.000000000,2020-03-18 17:42:33.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-06 15:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e196a387f2d9637c890461a0e7743d22df18f991', 'message': '[WIP] Import generate_temp_url from swiftclient\n\nThe generate_temp_url function is used by other projects, for\nexample ironic, to get temporary urls that grant\nunauthenticated access to the Swift object.\nThis patch simply takes the code from swiftclient, adapts\nit for openstacksdk, and add it to the _proxy module in the\nobject_store section, to grant the use of the function directly\nin openstacksdk.\n\nChange-Id: I2de2047ef9025ac0bd191a973f2744b01b904ca7\n'}, {'number': 2, 'created': '2020-03-09 13:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5ecd7ae18eff44cc4ba1f39a6cddffb5a26430a0', 'message': '[WIP] Import generate_temp_url from swiftclient\n\nThe generate_temp_url function is used by other projects, for\nexample ironic, to get temporary urls that grant\nunauthenticated access to the Swift object.\nThis patch simply takes the code from swiftclient, adapts\nit for openstacksdk, and add it to the _proxy module in the\nobject_store section, to grant the use of the function directly\nin openstacksdk.\n\nChange-Id: I2de2047ef9025ac0bd191a973f2744b01b904ca7\n'}, {'number': 3, 'created': '2020-03-09 17:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f465e1b794871970af0af5eb78f89e649aba8400', 'message': 'Import generate_temp_url from swiftclient\n\nThe generate_temp_url function is used by other projects, for\nexample ironic, to get temporary urls that grant\nunauthenticated access to the Swift object.\nThis patch simply takes the code from swiftclient, adapts\nit for openstacksdk, and add it to the _proxy module in the\nobject_store section, to grant the use of the function directly\nin openstacksdk.\n\nChange-Id: I2de2047ef9025ac0bd191a973f2744b01b904ca7\n'}, {'number': 4, 'created': '2020-03-10 16:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2c163ec458f34b518c4e247ea616ce5bf81b094e', 'message': 'Import generate_temp_url from swiftclient\n\nThe generate_temp_url function is used by other projects, for\nexample ironic, to get temporary urls that grant\nunauthenticated access to the Swift object.\nThis patch simply takes the code from swiftclient, adapts\nit for openstacksdk, and add it to the _proxy module in the\nobject_store section, to grant the use of the function directly\nin openstacksdk.\n\nChange-Id: I2de2047ef9025ac0bd191a973f2744b01b904ca7\n'}, {'number': 5, 'created': '2020-03-16 10:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/242d3c99fb3d0ee930606fd14e293f6f6e1b72fc', 'message': 'Import generate_temp_url from swiftclient\n\nThe generate_temp_url function is used by other projects, for\nexample ironic, to get temporary urls that grant\nunauthenticated access to the Swift object.\nThis patch simply takes the code from swiftclient, adapts\nit for openstacksdk, and add it to the _proxy module in the\nobject_store section, to grant the use of the function directly\nin openstacksdk.\n\nChange-Id: I2de2047ef9025ac0bd191a973f2744b01b904ca7\n'}, {'number': 6, 'created': '2020-03-17 16:58:25.000000000', 'files': ['openstack/tests/unit/object_store/v1/test_proxy.py', 'openstack/object_store/v1/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/40802262981075b8a36b23c377eee01fee0c5f95', 'message': 'Import generate_temp_url from swiftclient\n\nThe generate_temp_url function is used by other projects, for\nexample ironic, to get temporary urls that grant\nunauthenticated access to the Swift object.\nThis patch simply takes the code from swiftclient, adapts\nit for openstacksdk, and add it to the _proxy module in the\nobject_store section, to grant the use of the function directly\nin openstacksdk.\n\nChange-Id: I2de2047ef9025ac0bd191a973f2744b01b904ca7\n'}]",0,711640,40802262981075b8a36b23c377eee01fee0c5f95,32,4,6,23851,,,0,"Import generate_temp_url from swiftclient

The generate_temp_url function is used by other projects, for
example ironic, to get temporary urls that grant
unauthenticated access to the Swift object.
This patch simply takes the code from swiftclient, adapts
it for openstacksdk, and add it to the _proxy module in the
object_store section, to grant the use of the function directly
in openstacksdk.

Change-Id: I2de2047ef9025ac0bd191a973f2744b01b904ca7
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/40/711640/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/object_store/v1/_proxy.py'],1,e196a387f2d9637c890461a0e7743d22df18f991,swift_gen_temp_url," from calendar import timegmEXPIRES_ISO8601_FORMAT = '%Y-%m-%dT%H:%M:%SZ' SHORT_EXPIRES_ISO8601_FORMAT = '%Y-%m-%d' def generate_temp_url( self, path, seconds, method, absolute=False, prefix=False, iso8601=False, ip_range=None, temp_url_key=None): """"""Generates a temporary URL that gives unauthenticated access to the Swift object. :param path: The full path to the Swift object or prefix if a prefix-based temporary URL should be generated. Example: /v1/AUTH_account/c/o or /v1/AUTH_account/c/prefix. :param seconds: time in seconds or ISO 8601 timestamp. If absolute is False and this is the string representation of an integer, then this specifies the amount of time in seconds for which the temporary URL will be valid. If absolute is True then this specifies an absolute time at which the temporary URL will expire. :param method: A HTTP method, typically either GET or PUT, to allow for this temporary URL. :param absolute: if True then the seconds parameter is interpreted as a Unix timestamp, if seconds represents an integer. :param prefix: if True then a prefix-based temporary URL will be generated. :param iso8601: if True, a URL containing an ISO 8601 UTC timestamp instead of a UNIX timestamp will be created. :param ip_range: if a valid ip range, restricts the temporary URL to the range of ips. :param temp_url_key: The X-Account-Meta-Temp-URL-Key for the account. Optional, if omitted, the key will be fetched from the container or the account. :raises ValueError: if timestamp or path is not in valid format. :return: the path portion of a temporary URL """""" try: try: timestamp = float(seconds) except ValueError: formats = ( EXPIRES_ISO8601_FORMAT, EXPIRES_ISO8601_FORMAT[:-1], SHORT_EXPIRES_ISO8601_FORMAT) for f in formats: try: t = time.strptime(seconds, f) except ValueError: t = None else: if f == EXPIRES_ISO8601_FORMAT: timestamp = timegm(t) else: # Use local time if UTC designator is missing. timestamp = int(time.mktime(t)) absolute = True break if t is None: raise ValueError() else: if not timestamp.is_integer(): raise ValueError() timestamp = int(timestamp) if timestamp < 0: raise ValueError() except ValueError: raise ValueError('time must either be a whole number ' 'or in specific ISO 8601 format.') if isinstance(path, six.binary_type): try: path_for_body = path.decode('utf-8') except UnicodeDecodeError: raise ValueError('path must be representable as UTF-8') else: path_for_body = path parts = path_for_body.split('/', 4) if len(parts) != 5 or parts[0] or not all( parts[1:(4 if prefix else 5)]): if prefix: raise ValueError('path must at least contain /v1/a/c/') else: raise ValueError('path must be full path to an object' ' e.g. /v1/a/c/o') standard_methods = ['GET', 'PUT', 'HEAD', 'POST', 'DELETE'] if method.upper() not in standard_methods: self.log.warning('Non default HTTP method %s for tempurl ' 'specified, possibly an error', method.upper()) if not absolute: expiration = int(time.time() + timestamp) else: expiration = timestamp hmac_parts = [method.upper(), str(expiration), ('prefix:' if prefix else '') + path_for_body] if ip_range: if isinstance(ip_range, six.binary_type): try: ip_range = ip_range.decode('utf-8') except UnicodeDecodeError: raise ValueError( 'ip_range must be representable as UTF-8' ) hmac_parts.insert(0, ""ip=%s"" % ip_range) hmac_body = u'\n'.join(hmac_parts) temp_url_key = self.check_temp_url_key(temp_url_key=temp_url_key) sig = hmac.new(temp_url_key, hmac_body.encode('utf-8'), sha1).hexdigest() if iso8601: expiration = time.strftime( EXPIRES_ISO8601_FORMAT, time.gmtime(expiration)) temp_url = u'{path}?temp_url_sig={sig}&temp_url_expires={exp}'.format( path=path_for_body, sig=sig, exp=expiration) if ip_range: temp_url += u'&temp_url_ip_range={}'.format(ip_range) if prefix: temp_url += u'&temp_url_prefix={}'.format(parts[4]) # Have return type match path from caller if isinstance(path, six.binary_type): return temp_url.encode('utf-8') else: return temp_url",,135,0
openstack%2Fopenstack-ansible~master~I3e95b7fad6eda9f689287efe16c35418a9e7e561,openstack/openstack-ansible,master,I3e95b7fad6eda9f689287efe16c35418a9e7e561,ceph: run handlers after common,MERGED,2020-03-08 11:05:58.000000000,2020-03-18 17:39:22.000000000,2020-03-18 17:37:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-08 11:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cb2ce3274fce300727d58edc5666637345d47fa8', 'message': 'ceph: run handlers after common\n\nWhen you\'re running ceph-install with upgrade_ceph_packages, the\npackages get upgraded in the ceph-common, but some services aren\'t\ngetting restarted to account for the new version.\n\nAccording to ceph-ansible/site.yml.sample, the order is ceph-common\napplied to all hosts, then later in the ""hosts: mons"" or ""hosts: osd""\nthe handlers get applied, after ceph-facts and before ceph-config.\n\nChange-Id: I3e95b7fad6eda9f689287efe16c35418a9e7e561\n'}, {'number': 2, 'created': '2020-03-08 11:09:28.000000000', 'files': ['playbooks/ceph-nfs-install.yml', 'playbooks/ceph-rgw-install.yml', 'playbooks/ceph-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e42b2898c6a7d8bf503a96853a737b8fa4f112d7', 'message': 'ceph: run handlers after common\n\nWhen you\'re running ceph-install with upgrade_ceph_packages, the\npackages get upgraded in the ceph-common, but some services aren\'t\ngetting restarted to account for the new version.\n\nAccording to ceph-ansible/site.yml.sample, the order is ceph-common\napplied to all hosts, then later in the ""hosts: mons"" or ""hosts: osd""\nthe handlers get applied, after ceph-facts and before ceph-config.\n\nChange-Id: I3e95b7fad6eda9f689287efe16c35418a9e7e561\n'}]",0,711845,e42b2898c6a7d8bf503a96853a737b8fa4f112d7,14,4,2,25600,,,0,"ceph: run handlers after common

When you're running ceph-install with upgrade_ceph_packages, the
packages get upgraded in the ceph-common, but some services aren't
getting restarted to account for the new version.

According to ceph-ansible/site.yml.sample, the order is ceph-common
applied to all hosts, then later in the ""hosts: mons"" or ""hosts: osd""
the handlers get applied, after ceph-facts and before ceph-config.

Change-Id: I3e95b7fad6eda9f689287efe16c35418a9e7e561
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/711845/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ceph-rgw-install.yml', 'playbooks/ceph-install.yml']",2,cb2ce3274fce300727d58edc5666637345d47fa8,, - role: ceph-common - role: ceph-handler - role: ceph-common - role: ceph-handler - role: ceph-common - role: ceph-handler, - role: ceph-handler - role: ceph-common - role: ceph-handler - role: ceph-common - role: ceph-handler - role: ceph-common,8,8
openstack%2Fdevstack-gate~master~I7a08bb7c79feea6158a9928e0c70b7145b42b6e3,openstack/devstack-gate,master,I7a08bb7c79feea6158a9928e0c70b7145b42b6e3,WIP Add mysqladmin -v extended-status processlist,ABANDONED,2017-09-26 16:43:51.000000000,2020-03-18 17:15:35.000000000,,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-26 16:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/efa929fd47c60b03a5afb68327b6cd13ae3bc778', 'message': 'WIP Add mysqladmin -v extended-status processlist\n\nChange-Id: I7a08bb7c79feea6158a9928e0c70b7145b42b6e3\n'}, {'number': 2, 'created': '2017-09-26 19:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/9cfd48db20be9ecb328028cd90be48eafc3532d5', 'message': 'WIP Add mysqladmin -v extended-status processlist\n\nChange-Id: I7a08bb7c79feea6158a9928e0c70b7145b42b6e3\n'}, {'number': 3, 'created': '2017-09-29 00:59:14.000000000', 'files': ['functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/dd075903d3b1ea9d4ae4b72048e31998a77100a9', 'message': 'WIP Add mysqladmin -v extended-status processlist\n\nChange-Id: I7a08bb7c79feea6158a9928e0c70b7145b42b6e3\n'}]",0,507626,dd075903d3b1ea9d4ae4b72048e31998a77100a9,8,3,3,4690,,,0,"WIP Add mysqladmin -v extended-status processlist

Change-Id: I7a08bb7c79feea6158a9928e0c70b7145b42b6e3
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/26/507626/3 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,efa929fd47c60b03a5afb68327b6cd13ae3bc778,mysql-stats, mysqladmin -v extended-status processlist > $WORKSPACE/mysql-stats.txt save_file $WORKSPACE/mysql-stats.txt,,2,0
openstack%2Fironic~master~I10933b8dbadbba87ef6bfa0af767cf1184c072d9,openstack/ironic,master,I10933b8dbadbba87ef6bfa0af767cf1184c072d9,Refactoring: split out wrap_ipv6,MERGED,2020-03-17 14:32:33.000000000,2020-03-18 17:09:20.000000000,2020-03-18 17:07:08.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 14:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/abf190a640c1232505e29fa247b0c1baed627a69', 'message': ""Refactoring: split out wrap_ipv6\n\nWhile trivial, it's used in several places and will likely be used\nmore as we work on IPv6 support.\n\nChange-Id: I10933b8dbadbba87ef6bfa0af767cf1184c072d9\n""}, {'number': 2, 'created': '2020-03-17 16:48:09.000000000', 'files': ['ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/console_utils.py', 'ironic/common/pxe_utils.py', 'ironic/common/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8dc2eebef6eead35a3e0613312769365402fc468', 'message': ""Refactoring: split out wrap_ipv6\n\nWhile trivial, it's used in several places and will likely be used\nmore as we work on IPv6 support.\n\nChange-Id: I10933b8dbadbba87ef6bfa0af767cf1184c072d9\n""}]",0,713457,8dc2eebef6eead35a3e0613312769365402fc468,18,6,2,10239,,,0,"Refactoring: split out wrap_ipv6

While trivial, it's used in several places and will likely be used
more as we work on IPv6 support.

Change-Id: I10933b8dbadbba87ef6bfa0af767cf1184c072d9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/713457/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/console_utils.py', 'ironic/common/pxe_utils.py', 'ironic/common/utils.py']",4,abf190a640c1232505e29fa247b0c1baed627a69,wrap-ipv6," def wrap_ipv6(ip): """"""Wrap the address in square brackets if it's an IPv6 address."""""" if netutils.is_valid_ipv6(ip): return ""[%s]"" % ip return ip",,19,23
openstack%2Fkolla~stable%2Ftrain~I4e003c9aa32579d467c489a53741e20ced2f4b52,openstack/kolla,stable/train,I4e003c9aa32579d467c489a53741e20ced2f4b52,Fix Horizon build after switch to pyscss2 which lacks binary wheel,MERGED,2020-03-18 12:39:46.000000000,2020-03-18 17:08:10.000000000,2020-03-18 17:05:15.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-03-18 12:39:46.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f7857f26af25543ee8d2e154d45dc159ee8d382e', 'message': 'Fix Horizon build after switch to pyscss2 which lacks binary wheel\n\nIt now requires pcre-dev package to finish building.\n\nChange-Id: I4e003c9aa32579d467c489a53741e20ced2f4b52\nCloses-bug: #1867888\n'}]",0,713644,f7857f26af25543ee8d2e154d45dc159ee8d382e,9,4,1,24072,,,0,"Fix Horizon build after switch to pyscss2 which lacks binary wheel

It now requires pcre-dev package to finish building.

Change-Id: I4e003c9aa32579d467c489a53741e20ced2f4b52
Closes-bug: #1867888
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/713644/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,f7857f26af25543ee8d2e154d45dc159ee8d382e,bug/1867888-stable/train," 'pcre-devel', 'libpcre3-dev',",,2,0
openstack%2Ftripleo-common~stable%2Fqueens~I1555a9b79c954e646fe9ae35272231c581cea03e,openstack/tripleo-common,stable/queens,I1555a9b79c954e646fe9ae35272231c581cea03e,Silent file descriptor checks,MERGED,2020-03-18 06:56:22.000000000,2020-03-18 16:47:37.000000000,2020-03-18 16:47:37.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-18 06:56:22.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/16776e3979b8206009844e0d63ab3bb38a632d74', 'message': 'Silent file descriptor checks\n\nIn order to avoid spam in journald, we just get the exit code and let\nthe checker output the error message.\n\nAlso, correct how we retrieve process in the healthcheck_port and _listen\nfunctions.\n""ss"" doesn\'t allow to match some processes, like ""neutron-l3-agent"". We\ntherefore use the PID instead, provided by ""pgrep"".\nThe ""-d"" option of pgrep allow to prepare its output for the ""grep -E"",\npreventing any need of a loop.\n\nChange-Id: I1555a9b79c954e646fe9ae35272231c581cea03e\nCloses-Bug: #1821782\nCloses-Bug: #1821856\n(cherry picked from commit 5312bf19c8f820ac65514885aebdc2dc4776d72d)\n(cherry picked from commit 89d2393ea9fa977946ba34b6b9b3b279f830b64c)\n'}]",0,713579,16776e3979b8206009844e0d63ab3bb38a632d74,7,5,1,28223,,,0,"Silent file descriptor checks

In order to avoid spam in journald, we just get the exit code and let
the checker output the error message.

Also, correct how we retrieve process in the healthcheck_port and _listen
functions.
""ss"" doesn't allow to match some processes, like ""neutron-l3-agent"". We
therefore use the PID instead, provided by ""pgrep"".
The ""-d"" option of pgrep allow to prepare its output for the ""grep -E"",
preventing any need of a loop.

Change-Id: I1555a9b79c954e646fe9ae35272231c581cea03e
Closes-Bug: #1821782
Closes-Bug: #1821856
(cherry picked from commit 5312bf19c8f820ac65514885aebdc2dc4776d72d)
(cherry picked from commit 89d2393ea9fa977946ba34b6b9b3b279f830b64c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/79/713579/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,16776e3979b8206009844e0d63ab3bb38a632d74,rhbz/1813758," pids=$(pgrep -d '|' -f $process) ss -ntp | grep -qE "":($ports).*,pid=($pids),"" pids=$(pgrep -d '|' -f $process) ss -lnp | grep -qE "":($ports).*,pid=($pids),"""," # ss truncate command name to 15 characters and this behaviour # cannot be diabled if [ ${#process} -gt 15 ] ; then process=${process:0:15} fi ss -ntp | awk '{print $5,""-"",$6}' | egrep "":($ports)"" | grep ""$process"" # ss truncate command name to 15 characters and this behaviour # cannot be diabled if [ ${#process} -gt 15 ] ; then process=${process:0:15} fi ss -lnp | awk '{print $5,""-"",$7}' | egrep "":($ports)"" | grep ""$process""",4,14
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I530bab1ec1842b856c5228e071f7bcaaee9080da,openstack/tripleo-heat-templates,stable/train,I530bab1ec1842b856c5228e071f7bcaaee9080da,Remove unneccessary indentation from common tasks,MERGED,2020-03-11 11:48:27.000000000,2020-03-18 16:47:35.000000000,2020-03-18 16:47:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-11 11:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f803738fd87aa49729e8c56b974d69136d1e7dc5', 'message': 'Remove unneccessary indentation from common tasks\n\nIn this patch we remove the indentation header note and the\nindentation itself from common/deploy-steps-tasks which was\nadded in Idd5bb47589e5c37123caafcded1afbff8881aa33 and no\nlonger applies.\n\nBackport note:\nThis has been squashed with https://review.opendev.org/712345\n\nChange-Id: I530bab1ec1842b856c5228e071f7bcaaee9080da\n(cherry picked from commit c80fc5cf3995465b6b69ba1f0e23b36a4e0b75b6)\n'}, {'number': 2, 'created': '2020-03-12 12:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1dc2a4df955354ebc2b59ba9d0bb335bfcc6e150', 'message': 'Remove unneccessary indentation from common tasks\n\nIn this patch we remove the indentation header note and the\nindentation itself from common/deploy-steps-tasks which was\nadded in Idd5bb47589e5c37123caafcded1afbff8881aa33 and no\nlonger applies.\n\nBackport note:\nThis has been squashed with https://review.opendev.org/712345\n\nChange-Id: I530bab1ec1842b856c5228e071f7bcaaee9080da\n(cherry picked from commit c80fc5cf3995465b6b69ba1f0e23b36a4e0b75b6)\n'}, {'number': 3, 'created': '2020-03-17 09:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57e1cad1d4f96c8d9c00796af6ab5abd237d4a6c', 'message': 'Remove unneccessary indentation from common tasks\n\nIn this patch we remove the indentation header note and the\nindentation itself from common/deploy-steps-tasks which was\nadded in Idd5bb47589e5c37123caafcded1afbff8881aa33 and no\nlonger applies.\n\nBackport note:\nThis has been squashed with https://review.opendev.org/712345\n\nChange-Id: I530bab1ec1842b856c5228e071f7bcaaee9080da\n(cherry picked from commit c80fc5cf3995465b6b69ba1f0e23b36a4e0b75b6)\n'}, {'number': 4, 'created': '2020-03-18 02:28:31.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99f24b64b76747a5efb19723e297908f06047903', 'message': 'Remove unneccessary indentation from common tasks\n\nIn this patch we remove the indentation header note and the\nindentation itself from common/deploy-steps-tasks which was\nadded in Idd5bb47589e5c37123caafcded1afbff8881aa33 and no\nlonger applies.\n\nBackport note:\nThis has been squashed with https://review.opendev.org/712345\n\nChange-Id: I530bab1ec1842b856c5228e071f7bcaaee9080da\n(cherry picked from commit c80fc5cf3995465b6b69ba1f0e23b36a4e0b75b6)\n'}]",0,712346,99f24b64b76747a5efb19723e297908f06047903,31,10,4,6816,,,0,"Remove unneccessary indentation from common tasks

In this patch we remove the indentation header note and the
indentation itself from common/deploy-steps-tasks which was
added in Idd5bb47589e5c37123caafcded1afbff8881aa33 and no
longer applies.

Backport note:
This has been squashed with https://review.opendev.org/712345

Change-Id: I530bab1ec1842b856c5228e071f7bcaaee9080da
(cherry picked from commit c80fc5cf3995465b6b69ba1f0e23b36a4e0b75b6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/712346/4 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,f803738fd87aa49729e8c56b974d69136d1e7dc5,scale-2020-stable/train,"##################################################### # Per step puppet configuration of the baremetal host ##################################################### - name: Write the config_step hieradata no_log: True copy: content: ""{{ dict(step=step|int) | to_json }}"" dest: /etc/puppet/{{ ansible_check_mode | bool | ternary('check-mode/', '') }}hieradata/config_step.json force: true mode: '0600' check_mode: no tags: - host_config - name: Run puppet host configuration for step {{ step }} async: 3600 poll: 0 when: enable_puppet|bool shell: >- set -o pipefail; puppet apply {{ host_puppet_config_debug | default('') }} --modulepath=/etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules --detailed-exitcodes --summarize --color=false {{ ansible_check_mode | bool | ternary('--noop', '') }} {{ ansible_check_mode | bool | ternary('--hiera_config /etc/puppet/check-mode/hiera.yaml', '') }} /var/lib/tripleo-config/{{ ansible_check_mode | bool | ternary('check-mode/', '') }}puppet_step_config.pp 2>&1 | logger -s -t puppet-user register: puppet_host_async_result no_log: true tags: - host_config check_mode: no - name: Wait for puppet host configuration to finish async_status: jid: ""{{ puppet_host_async_result.ansible_job_id }}"" register: puppet_host_outputs until: puppet_host_outputs.finished retries: 1200 delay: 3 failed_when: - (not puppet_host_outputs.finished) or (puppet_host_outputs.rc is defined and puppet_host_outputs.rc not in [0, 2]) tags: - host_config - name: ""Debug output for task: Run puppet host configuration for step {{ step }}"" debug: var: puppet_host_outputs.stdout_lines | default([]) | union(puppet_host_outputs.stderr_lines | default([])) when: - not ansible_check_mode|bool - enable_puppet | bool - puppet_host_outputs.rc is defined changed_when: puppet_host_outputs.rc == 2 failed_when: puppet_host_outputs.rc not in [0, 2] tags: - host_config ####################################### # Pre-cache facts for puppet containers ####################################### # We don't want the pre-cache tasks to be skipped in dry-run so we force # check_mode to ""no"". # https://bugzilla.redhat.com/show_bug.cgi?id=1738529 - name: Pre-cache facts for container-puppet.py check_mode: no tags: - container_config - container_config_tasks block: - name: Create puppet caching structures file: path: /var/lib/container-puppet/puppetlabs state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: True - name: Check for facter.conf check_mode: false stat: path: ""/var/lib/container-puppet/puppetlabs/facter.conf"" register: _facter_conf_file # See LP#1852606 for context - name: Remove facter.conf if directory check_mode: false become: true file: path: ""/var/lib/container-puppet/puppetlabs/facter.conf"" state: absent when: - _facter_conf_file.stat.isdir is defined - _facter_conf_file.stat.isdir - name: Write facter cache config copy: dest: /var/lib/container-puppet/puppetlabs/facter.conf content: | facts : { ttls: [ { ""kernel"" : 8 hour }, { ""memory"" : 8 hour }, { ""networking"" : 8 hour }, { ""operating system"" : 8 hour }, { ""processor"" : 8 hour }, ] } setype: svirt_sandbox_file_t selevel: s0 - name: Cleanup facter cache if exists file: path: /opt/puppetlabs/facter state: absent ignore_errors: True - name: Pre-cache facts check_mode: false command: facter --config /var/lib/container-puppet/puppetlabs/facter.conf no_log: True ignore_errors: True register: _facter_cache_run - name: Facter error output when failed check_mode: false debug: msg: ""{{ _facter_cache_run.stderr }}"" when: _facter_cache_run is failed - name: Sync cached facts check_mode: false synchronize: src: /opt/puppetlabs/ dest: /var/lib/container-puppet/puppetlabs/ delegate_to: ""{{ inventory_hostname }}"" when: _facter_cache_run is succeeded ####################################### # Generate config via puppet containers ####################################### - name: Include container-puppet tasks (generate config) during step 1 include_tasks: generate-config-tasks.yaml when: step|int == 1 tags: - container_config ##################################### # Per step starting of the containers ##################################### # Note container-puppet.py generates the hashed-*.json file, which is a copy of # the *step_n.json with a hash of the generated external config added # This acts as a salt to enable restarting the container if config changes - name: Per step starting of the containers using Paunch when: enable_paunch|default(true) block: - name: Start containers for step {{ step }} using paunch paunch: config: ""/var/lib/tripleo-config/container-startup-config/step_{{ step }}"" config_id: ""tripleo_step{{ step }}"" action: apply container_cli: ""{{ container_cli }}"" container_log_stdout_path: ""{{ container_log_stdout_path }}"" healthcheck_disabled: ""{{ container_healthcheck_disabled | bool }}"" managed_by: ""tripleo-{{ tripleo_role_name }}"" debug: ""{{ enable_debug | bool }}"" register: outputs register: start_containers_async_result tags: - container_startup_configs - name: Wait for containers to start for step {{ step }} using paunch async_status: jid: ""{{ start_containers_async_result.ansible_job_id }}"" register: start_containers_outputs until: start_containers_outputs.finished retries: 1200 delay: 3 tags: - container_startup_configs - name: ""Debug output for task: Start containers for step {{ step }}"" debug: var: start_containers_outputs.stdout_lines | default([]) | union(start_containers_outputs.stderr_lines | default([])) when: start_containers_outputs.rc is defined failed_when: start_containers_outputs.rc != 0 tags: - container_startup_configs - name: Per step starting of the containers using tripleo-ansible when: not enable_paunch|default(true) environment: TRIPLEO_MINOR_UPDATE: '{{ tripleo_minor_update | default(false) }}' block: - name: ""Manage containers for step {{ step }} with tripleo-ansible"" include_role: name: tripleo-container-manage vars: tripleo_container_manage_concurrency: 5 tripleo_container_manage_systemd_order: true tripleo_container_manage_cli: ""{{ container_cli }}"" tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_{{ step }}"" tripleo_container_manage_config_id: ""tripleo_step{{ step }}"" tripleo_container_manage_debug: ""{{ enable_debug | bool }}"" tripleo_container_manage_healthcheck_disabled: ""{{ container_healthcheck_disabled | bool }}"" tripleo_container_manage_log_path: ""{{ container_log_stdout_path }}"" tripleo_container_manage_config_patterns: '*.json' tripleo_container_manage_check_puppet_config: true tags: - container_startup_configs ######################################################## # Bootstrap tasks - run any tasks that have been defined ######################################################## - name: ""Clean container_puppet_tasks for {{ansible_hostname}} step {{step}}"" file: path: /var/lib/container-puppet/container-puppet-tasks{{step}}.json state: absent tags: - container_config_tasks - name: Calculate container_puppet_tasks for {{ansible_hostname}} step {{step}} set_fact: host_container_puppet_tasks: ""{{host_container_puppet_tasks|default([]) + [item]}}"" loop: ""{{container_puppet_tasks.get('step_' + step, [])}}"" when: (groups[item.service_name] | default ([]) | map('extract', hostvars, 'inventory_hostname') | sort | first) == ansible_hostname vars: container_puppet_tasks: ""{{ lookup('file', tripleo_role_name + '/container_puppet_tasks.yaml', errors='ignore') | default({}, True) | from_yaml }}"" tags: - container_config_tasks - name: Include container-puppet tasks for step {{step}} include_tasks: host-container-puppet-tasks.yaml when: host_container_puppet_tasks is defined tags: - container_config_tasks"," # Note the indentation here is required as it's joined # to create a playbook in deploy-steps.j2 ##################################################### # Per step puppet configuration of the baremetal host ##################################################### - name: Write the config_step hieradata no_log: True copy: content: ""{{ dict(step=step|int) | to_json }}"" dest: /etc/puppet/{{ ansible_check_mode | bool | ternary('check-mode/', '') }}hieradata/config_step.json mode: '0600' check_mode: no tags: - host_config - name: Run puppet host configuration for step {{ step }} when: enable_puppet|bool shell: >- set -o pipefail; puppet apply {{ host_puppet_config_debug | default('') }} --modulepath=/etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/modules --detailed-exitcodes --summarize --color=false {{ ansible_check_mode | bool | ternary('--noop', '') }} {{ ansible_check_mode | bool | ternary('--hiera_config /etc/puppet/check-mode/hiera.yaml', '') }} /var/lib/tripleo-config/{{ ansible_check_mode | bool | ternary('check-mode/', '') }}puppet_step_config.pp 2>&1 | logger -s -t puppet-user register: puppet_host_async_result no_log: true tags: - host_config check_mode: no - name: Wait for puppet host configuration to finish async_status: jid: ""{{ puppet_host_async_result.ansible_job_id }}"" register: puppet_host_outputs until: puppet_host_outputs.finished retries: 1200 delay: 3 failed_when: - (not puppet_host_outputs.finished) or (puppet_host_outputs.rc is defined and puppet_host_outputs.rc not in [0, 2]) tags: - host_config - name: ""Debug output for task: Run puppet host configuration for step {{ step }}"" debug: var: puppet_host_outputs.stdout_lines | default([]) | union(puppet_host_outputs.stderr_lines | default([])) when: - not ansible_check_mode|bool - enable_puppet | bool - puppet_host_outputs.rc is defined changed_when: puppet_host_outputs.rc == 2 failed_when: puppet_host_outputs.rc not in [0, 2] tags: - host_config ####################################### # Pre-cache facts for puppet containers ####################################### # We don't want the pre-cache tasks to be skipped in dry-run so we force # check_mode to ""no"". # https://bugzilla.redhat.com/show_bug.cgi?id=1738529 - name: Pre-cache facts for container-puppet.py check_mode: no tags: - container_config - container_config_tasks block: - name: Create puppet caching structures file: path: /var/lib/container-puppet/puppetlabs state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: True - name: Check for facter.conf check_mode: false stat: path: ""/var/lib/container-puppet/puppetlabs/facter.conf"" register: _facter_conf_file # See LP#1852606 for context - name: Remove facter.conf if directory check_mode: false become: true file: path: ""/var/lib/container-puppet/puppetlabs/facter.conf"" state: absent force: true when: - _facter_conf_file.stat.isdir is defined - _facter_conf_file.stat.isdir - name: Write facter cache config copy: dest: /var/lib/container-puppet/puppetlabs/facter.conf content: | facts : { ttls: [ { ""kernel"" : 8 hour }, { ""memory"" : 8 hour }, { ""networking"" : 8 hour }, { ""operating system"" : 8 hour }, { ""processor"" : 8 hour }, ] } setype: svirt_sandbox_file_t selevel: s0 - name: Cleanup facter cache if exists file: path: /opt/puppetlabs/facter state: absent ignore_errors: True - name: Pre-cache facts check_mode: false command: facter --config /var/lib/container-puppet/puppetlabs/facter.conf no_log: True ignore_errors: True register: _facter_cache_run - name: Facter error output when failed check_mode: false debug: msg: ""{{ _facter_cache_run.stderr }}"" when: _facter_cache_run is failed - name: Sync cached facts check_mode: false synchronize: src: /opt/puppetlabs/ dest: /var/lib/container-puppet/puppetlabs/ delegate_to: ""{{ inventory_hostname }}"" when: _facter_cache_run is succeeded ####################################### # Generate config via puppet containers ####################################### - name: Include container-puppet tasks (generate config) during step 1 include_tasks: generate-config-tasks.yaml when: step|int == 1 tags: - container_config ##################################### # Per step starting of the containers ##################################### # Note container-puppet.py generates the hashed-*.json file, which is a copy of # the *step_n.json with a hash of the generated external config added # This acts as a salt to enable restarting the container if config changes - name: Per step starting of the containers using Paunch when: enable_paunch|default(true) block: - name: Start containers for step {{ step }} using paunch async: 3600 poll: 0 environment: TRIPLEO_MINOR_UPDATE: '{{ tripleo_minor_update | default(false) }}' paunch: config: ""/var/lib/tripleo-config/container-startup-config/step_{{ step }}"" config_id: ""tripleo_step{{ step }}"" action: apply container_cli: ""{{ container_cli }}"" container_log_stdout_path: ""{{ container_log_stdout_path }}"" healthcheck_disabled: ""{{ container_healthcheck_disabled | bool }}"" managed_by: ""tripleo-{{ tripleo_role_name }}"" debug: ""{{ enable_debug | bool }}"" register: outputs register: start_containers_async_result tags: - container_startup_configs - name: Wait for containers to start for step {{ step }} using paunch async_status: jid: ""{{ start_containers_async_result.ansible_job_id }}"" register: start_containers_outputs until: start_containers_outputs.finished retries: 1200 delay: 3 tags: - container_startup_configs - name: ""Debug output for task: Start containers for step {{ step }}"" debug: var: start_containers_outputs.stdout_lines | default([]) | union(start_containers_outputs.stderr_lines | default([])) when: start_containers_outputs.rc is defined failed_when: start_containers_outputs.rc != 0 tags: - container_startup_configs - name: Per step starting of the containers using tripleo-ansible when: not enable_paunch|default(true) block: - name: ""Manage containers for step {{ step }} with tripleo-ansible"" include_role: name: tripleo-container-manage vars: tripleo_container_manage_concurrency: 5 tripleo_container_manage_systemd_order: true tripleo_container_manage_cli: ""{{ container_cli }}"" tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_{{ step }}"" tripleo_container_manage_config_id: ""tripleo_step{{ step }}"" tripleo_container_manage_debug: ""{{ enable_debug | bool }}"" tripleo_container_manage_healthcheck_disabled: ""{{ container_healthcheck_disabled | bool }}"" tripleo_container_manage_log_path: ""{{ container_log_stdout_path }}"" tripleo_container_manage_config_patterns: '*.json' tripleo_container_manage_check_puppet_config: true tags: - container_startup_configs ######################################################## # Bootstrap tasks - run any tasks that have been defined ######################################################## - name: ""Clean container_puppet_tasks for {{ansible_hostname}} step {{step}}"" file: path: /var/lib/container-puppet/container-puppet-tasks{{step}}.json state: absent tags: - container_config_tasks - name: Calculate container_puppet_tasks for {{ansible_hostname}} step {{step}} set_fact: host_container_puppet_tasks: ""{{host_container_puppet_tasks|default([]) + [item]}}"" loop: ""{{container_puppet_tasks.get('step_' + step, [])}}"" when: (groups[item.service_name] | default ([]) | map('extract', hostvars, 'inventory_hostname') | sort | first) == ansible_hostname vars: container_puppet_tasks: ""{{ lookup('file', tripleo_role_name + '/container_puppet_tasks.yaml', errors='ignore') | default({}, True) | from_yaml }}"" tags: - container_config_tasks - name: Include container-puppet tasks for step {{step}} include_tasks: host-container-puppet-tasks.yaml when: host_container_puppet_tasks is defined tags: - container_config_tasks",226,229
openstack%2Fcharm-keystone~master~I23940720c24527ee34149f035c3bdf9ff54812c9,openstack/charm-keystone,master,I23940720c24527ee34149f035c3bdf9ff54812c9,Replace use of admin_token with Keystone bootstrap,MERGED,2020-03-10 10:50:51.000000000,2020-03-18 16:43:44.000000000,2020-03-18 16:43:44.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-10 10:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/bb5c169a52a3cb0a64c67a21c487d2c779fbc0cc', 'message': '[WIP] Replace use of admin_token with Keystone bootstrap\n\nStop the use of the admin_token and use the bootstrap process\nto initialize Keystone instead.  Fortunately the implementation\nof the bootstrap process is both idempotent when it needs to be\nand it can be safely called on an existing deployment.\n\nSubsequently we can migrate by just removing the admin_token\nfrom the configuration and create new credentials for use by\nthe charm with a call to ``keystone-manage bootstrap``.\n\nRemove configuration templates for versions prior to Mitaka, by\ndoing this we need to move any configuration initially defined\nprior to Miataka forward to the ``templates/mitaka`` folder.\n\nA side effect of this migration is that newly bootstrapped\ndeployments will get their ``default`` domain created with a\nliteral ID of ``default``.  Prior to this change third party\nsoftware making assumptions about that being the case may have\nhad issues.\n\nChange-Id: I23940720c24527ee34149f035c3bdf9ff54812c9\n'}, {'number': 2, 'created': '2020-03-10 15:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/44f649ebeb82217adb8033a8b1b4a7030416cbdb', 'message': '[WIP] Replace use of admin_token with Keystone bootstrap\n\nStop the use of the admin_token and use the bootstrap process\nto initialize Keystone instead.  Fortunately the implementation\nof the bootstrap process is both idempotent when it needs to be\nand it can be safely called on an existing deployment.\n\nSubsequently we can migrate by just removing the admin_token\nfrom the configuration and create new credentials for use by\nthe charm with a call to ``keystone-manage bootstrap``.\n\nRemove configuration templates for versions prior to Mitaka, by\ndoing this we need to move any configuration initially defined\nprior to Miataka forward to the ``templates/mitaka`` folder.\n\nA side effect of this migration is that newly bootstrapped\ndeployments will get their ``default`` domain created with a\nliteral ID of ``default``.  Prior to this change third party\nsoftware making assumptions about that being the case may have\nhad issues.\n\nChange-Id: I23940720c24527ee34149f035c3bdf9ff54812c9\n'}, {'number': 3, 'created': '2020-03-11 13:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/a480287338d6a490750c4a9423a2a622df902bd2', 'message': 'Replace use of admin_token with Keystone bootstrap\n\nStop the use of the admin_token and use the bootstrap process\nto initialize Keystone instead.  Fortunately the implementation\nof the bootstrap process is both idempotent when it needs to be\nand it can be safely called on an existing deployment.\n\nSubsequently we can migrate by just removing the admin_token\nfrom the configuration and create new credentials for use by\nthe charm with a call to ``keystone-manage bootstrap``.\n\nRemove configuration templates for versions prior to Mitaka, by\ndoing this we need to move any configuration initially defined\nprior to Miataka forward to the ``templates/mitaka`` folder.\n\nA side effect of this migration is that newly bootstrapped\ndeployments will get their ``default`` domain created with a\nliteral ID of ``default``.  Prior to this change third party\nsoftware making assumptions about that being the case may have\nhad issues.\n\nCloses-Bug: #1859844\nCloses-Bug: #1837113\nRelated-Bug: #1774733\nCloses-Bug: #1648719\nCloses-Bug: #1578678\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/191\nChange-Id: I23940720c24527ee34149f035c3bdf9ff54812c9\n'}, {'number': 4, 'created': '2020-03-13 09:22:39.000000000', 'files': ['templates/newton/policy.json', 'templates/ocata/policy.json', 'hooks/keystone_utils.py', 'config.yaml', 'hooks/keystone_hooks.py', 'templates/icehouse/keystone.conf', 'templates/mitaka/policy.json.v2', 'hooks/keystone_types.py', 'templates/kilo/keystone.conf', 'templates/mitaka/logging.conf', 'templates/icehouse/logging.conf', 'templates/queens/keystone.conf', 'templates/ocata/keystone.conf', 'unit_tests/test_keystone_hooks.py', 'unit_tests/test_keystone_utils.py', 'templates/rocky/keystone.conf', 'templates/liberty/policy.json', 'hooks/manager.py', 'templates/mitaka/policy.json', 'templates/mitaka/keystone.conf', 'hooks/keystone_context.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/0a02c30fe5f4650235519897b71588ae22fa0971', 'message': 'Replace use of admin_token with Keystone bootstrap\n\nStop the use of the admin_token and use the bootstrap process\nto initialize Keystone instead.  Fortunately the implementation\nof the bootstrap process is both idempotent when it needs to be\nand it can be safely called on an existing deployment.\n\nSubsequently we can migrate by just removing the admin_token\nfrom the configuration and create new credentials for use by\nthe charm with a call to ``keystone-manage bootstrap``.\n\nRemove configuration templates for versions prior to Mitaka, by\ndoing this we need to move any configuration initially defined\nprior to Miataka forward to the ``templates/mitaka`` folder.\n\nA side effect of this migration is that newly bootstrapped\ndeployments will get their ``default`` domain created with a\nliteral ID of ``default``.  Prior to this change third party\nsoftware making assumptions about that being the case may have\nhad issues.\n\nCloses-Bug: #1859844\nCloses-Bug: #1837113\nRelated-Bug: #1774733\nCloses-Bug: #1648719\nCloses-Bug: #1578678\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/191\nChange-Id: I23940720c24527ee34149f035c3bdf9ff54812c9\n'}]",4,712040,0a02c30fe5f4650235519897b71588ae22fa0971,25,5,4,13686,,,0,"Replace use of admin_token with Keystone bootstrap

Stop the use of the admin_token and use the bootstrap process
to initialize Keystone instead.  Fortunately the implementation
of the bootstrap process is both idempotent when it needs to be
and it can be safely called on an existing deployment.

Subsequently we can migrate by just removing the admin_token
from the configuration and create new credentials for use by
the charm with a call to ``keystone-manage bootstrap``.

Remove configuration templates for versions prior to Mitaka, by
doing this we need to move any configuration initially defined
prior to Miataka forward to the ``templates/mitaka`` folder.

A side effect of this migration is that newly bootstrapped
deployments will get their ``default`` domain created with a
literal ID of ``default``.  Prior to this change third party
software making assumptions about that being the case may have
had issues.

Closes-Bug: #1859844
Closes-Bug: #1837113
Related-Bug: #1774733
Closes-Bug: #1648719
Closes-Bug: #1578678
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/191
Change-Id: I23940720c24527ee34149f035c3bdf9ff54812c9
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/40/712040/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/keystone_utils.py', 'config.yaml', 'hooks/keystone_hooks.py', 'templates/icehouse/keystone.conf', 'templates/mitaka/policy.json.v2', 'templates/kilo/keystone.conf', 'templates/mitaka/logging.conf', 'templates/icehouse/logging.conf', 'templates/queens/keystone.conf', 'templates/ocata/keystone.conf', 'unit_tests/test_keystone_hooks.py', 'unit_tests/test_keystone_utils.py', 'templates/rocky/keystone.conf', 'templates/liberty/policy.json', 'hooks/manager.py', 'templates/mitaka/keystone.conf', 'hooks/keystone_context.py']",17,bb5c169a52a3cb0a64c67a21c487d2c779fbc0cc,use-bootstrap," api_port, endpoint_url, resolve_address,"," api_port, set_admin_token, endpoint_url, resolve_address, ctxt['token'] = set_admin_token(config('admin-token'))",180,753
openstack%2Foctavia~stable%2Fstein~Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,openstack/octavia,stable/stein,Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,"Revert ""Improve the error message for bad pkcs12 bundles""",ABANDONED,2020-03-06 18:49:08.000000000,2020-03-18 16:27:20.000000000,,"[{'_account_id': 2276}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 18:49:08.000000000', 'files': ['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/base.py', 'octavia/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fc6ca29a68082327178c9393e57d0d7bbafcdb3c', 'message': 'Revert ""Improve the error message for bad pkcs12 bundles""\n\nThis reverts commit a501714a76e04b33dfb24c4ead9956ed4696d1df.\n\nOn stein , with the addition of this change\nhttps://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df\n(and posterior backport to stable releases) isn\'t longer possible to create listeners that\nuse barbican secret containers except for single secrets exported as pkcs12 directly.\n\nBefore that change, any exception raised when trying to to decode the\nPKCS12 bundle would have resulted on falling back to the legacy\nbarbican certificate manager code, which supports secret containers [2],\nwhile with the addition of this line, makes this exception to raise and not falling back\nto the legacy code anymore.\n\nPlease check the related story.\n\nChange-Id: Ia8ec209e2773483360e2490545b55d7ad5c3cbd1\nStory: 2007371\n'}]",0,711737,fc6ca29a68082327178c9393e57d0d7bbafcdb3c,6,5,1,2276,,,0,"Revert ""Improve the error message for bad pkcs12 bundles""

This reverts commit a501714a76e04b33dfb24c4ead9956ed4696d1df.

On stein , with the addition of this change
https://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df
(and posterior backport to stable releases) isn't longer possible to create listeners that
use barbican secret containers except for single secrets exported as pkcs12 directly.

Before that change, any exception raised when trying to to decode the
PKCS12 bundle would have resulted on falling back to the legacy
barbican certificate manager code, which supports secret containers [2],
while with the addition of this line, makes this exception to raise and not falling back
to the legacy code anymore.

Please check the related story.

Change-Id: Ia8ec209e2773483360e2490545b55d7ad5c3cbd1
Story: 2007371
",git fetch https://review.opendev.org/openstack/octavia refs/changes/37/711737/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/base.py', 'octavia/common/exceptions.py']",5,fc6ca29a68082327178c9393e57d0d7bbafcdb3c,story-2007371-stein,,"class UnreadablePKCS12(APIException): msg = _(""The PKCS12 bundle is unreadable. Please check the PKCS12 bundle "" ""validity. In addition, make sure it does not require a pass "" ""phrase. Error: %(error)s"") code = 400 ",1,33
openstack%2Foctavia~stable%2Frocky~Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,openstack/octavia,stable/rocky,Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,"Revert ""Improve the error message for bad pkcs12 bundles""",ABANDONED,2020-03-06 18:53:06.000000000,2020-03-18 16:27:13.000000000,,"[{'_account_id': 2276}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 18:53:06.000000000', 'files': ['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/listener.py', 'octavia/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9cceb1da9f2a7ebb901ab77ed0a3d32c8eb2c1b0', 'message': 'Revert ""Improve the error message for bad pkcs12 bundles""\n\nThis reverts commit 08916abd2b6c24dc207dfe3560138901661c2922.\n\nOn stable releases with the addition of this change\nhttps://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df\n(and posterior backport to stable releases) isn\'t longer possible to create listeners that\nuse barbican secret containers except for single secrets exported as pkcs12 directly.\n\nBefore that change, any exception raised when trying to to decode the\nPKCS12 bundle would have resulted on falling back to the legacy\nbarbican certificate manager code, which supports secret containers [2],\nwhile with the addition of this line, makes this exception to raise and not falling back\nto the legacy code anymore.\n\nPlease check the related story.\n\nChange-Id: Ia8ec209e2773483360e2490545b55d7ad5c3cbd1\nStory: 2007371\n'}]",0,711739,9cceb1da9f2a7ebb901ab77ed0a3d32c8eb2c1b0,6,4,1,2276,,,0,"Revert ""Improve the error message for bad pkcs12 bundles""

This reverts commit 08916abd2b6c24dc207dfe3560138901661c2922.

On stable releases with the addition of this change
https://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df
(and posterior backport to stable releases) isn't longer possible to create listeners that
use barbican secret containers except for single secrets exported as pkcs12 directly.

Before that change, any exception raised when trying to to decode the
PKCS12 bundle would have resulted on falling back to the legacy
barbican certificate manager code, which supports secret containers [2],
while with the addition of this line, makes this exception to raise and not falling back
to the legacy code anymore.

Please check the related story.

Change-Id: Ia8ec209e2773483360e2490545b55d7ad5c3cbd1
Story: 2007371
",git fetch https://review.opendev.org/openstack/octavia refs/changes/39/711739/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/listener.py', 'octavia/common/exceptions.py']",5,9cceb1da9f2a7ebb901ab77ed0a3d32c8eb2c1b0,story-2007371-rocky,,"class UnreadablePKCS12(APIException): msg = _(""The PKCS12 bundle is unreadable. Please check the PKCS12 bundle "" ""validity. In addition, make sure it does not require a pass "" ""phrase. Error: %(error)s"") code = 400 ",1,34
openstack%2Ftripleo-ansible~master~I7592707c2a17654e521f6f136eabcb76c8152fba,openstack/tripleo-ansible,master,I7592707c2a17654e521f6f136eabcb76c8152fba,Improve idempotency for images in podman container,MERGED,2020-03-17 16:19:11.000000000,2020-03-18 16:21:39.000000000,2020-03-18 16:21:39.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 16:19:11.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/466539208531f8613cd260e34b53dfb4ed813be8', 'message': 'Improve idempotency for images in podman container\n\nAdd a new variable which would be used for strict images comparing\nUse by default a ""lite mode"" which compares only image and tag.\nChange-Id: I7592707c2a17654e521f6f136eabcb76c8152fba\n'}]",1,713479,466539208531f8613cd260e34b53dfb4ed813be8,10,4,1,10969,,,0,"Improve idempotency for images in podman container

Add a new variable which would be used for strict images comparing
Use by default a ""lite mode"" which compares only image and tag.
Change-Id: I7592707c2a17654e521f6f136eabcb76c8152fba
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/713479/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,466539208531f8613cd260e34b53dfb4ed813be8,idemp," image_strict: description: - Whether to compare images in idempotency by taking into account a full name with registry and namespaces. type: bool default: False # TODO(sshnaidm): for strict image compare mode use SHAs mode = self.params['image_strict'] if mode is None or not mode: # In a idempotency 'lite mode' assume all images from different registries are the same before = before.replace("":latest"", """") after = after.replace("":latest"", """") before = before.split(""/"")[-1] after = after.split(""/"")[-1]"," # TODO(sshnaidm): for strict image compare use SHAs strip_from_name = [ ""docker.io/library/"", ""docker.io/"", ""registry.fedoraproject.org/"", "":latest"", ] for repl in strip_from_name: before = before.replace(repl, """") after = after.replace(repl, """")",14,10
openstack%2Fswift~feature%2Flosf~Id7595623c1b7bbb798784312af5a924d8ebaf6ff,openstack/swift,feature/losf,Id7595623c1b7bbb798784312af5a924d8ebaf6ff,Merge remote-tracking branch 'remotes/origin/master' into merge-master,MERGED,2020-03-18 11:56:55.000000000,2020-03-18 16:19:45.000000000,2020-03-18 16:17:43.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 11:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/79bd2e59e5c15ee84814ec1c4f0893176ba79412', 'message': ""Merge remote-tracking branch 'remotes/origin/master' into merge-master\n\nChange-Id: Id7595623c1b7bbb798784312af5a924d8ebaf6ff\n""}]",0,713632,79bd2e59e5c15ee84814ec1c4f0893176ba79412,7,2,1,13852,,,0,"Merge remote-tracking branch 'remotes/origin/master' into merge-master

Change-Id: Id7595623c1b7bbb798784312af5a924d8ebaf6ff
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/713632/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,79bd2e59e5c15ee84814ec1c4f0893176ba79412,merge-master,,,0,0
openstack%2Fos-resource-classes~master~Idba284defad550f7f90cccb4b288c00b77bc25de,openstack/os-resource-classes,master,Idba284defad550f7f90cccb4b288c00b77bc25de,Switch to hacking 2.x,MERGED,2020-02-27 14:25:52.000000000,2020-03-18 16:06:06.000000000,2020-03-18 16:03:26.000000000,"[{'_account_id': 9708}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 14:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/150b8ec1b20f59c85795380edc292144af10e4e7', 'message': ""Switch to hacking 2.x\n\nThis supports Python 3 goodness. Some additional tox tweaks are included\nwhile we're here.\n\nChange-Id: Idba284defad550f7f90cccb4b288c00b77bc25de\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-02-27 15:58:48.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/3dd3506d092d0360b16e131592974f7214b2e650', 'message': ""Switch to hacking 2.x\n\nThis supports Python 3 goodness. Some additional tox tweaks are included\nwhile we're here.\n\nChange-Id: Idba284defad550f7f90cccb4b288c00b77bc25de\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",11,710276,3dd3506d092d0360b16e131592974f7214b2e650,17,5,2,15334,,,0,"Switch to hacking 2.x

This supports Python 3 goodness. Some additional tox tweaks are included
while we're here.

Change-Id: Idba284defad550f7f90cccb4b288c00b77bc25de
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/76/710276/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,150b8ec1b20f59c85795380edc292144af10e4e7,drop-py27-support,"minversion = 3.2 OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 PYTHON=coverage run --source os_resource_classes --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml# # W504 skipped since you must choose either W503 or W504 (they conflict)ignore = E123,E125,W504","minversion = 2.0skipsdist = True # Automatic envs (pyXX) will use the python version appropriate to that # env and ignore basepython inherited from [testenv]. That's what we # want, and we don't need to be warned about it.install_command = pip install {opts} {packages} VIRTUAL_ENV={envdir} PYTHONWARNINGS=default::DeprecationWarning OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 VIRTUAL_ENV={envdir} PYTHON=coverage run --source os_resource_classes --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xmlignore = E123,E125",13,22
openstack%2Fpython-tripleoclient~master~I7b747fd124880f55a30f75e5efb27c22c57ac10c,openstack/python-tripleoclient,master,I7b747fd124880f55a30f75e5efb27c22c57ac10c,Correct YAML load warning,MERGED,2020-03-16 20:08:02.000000000,2020-03-18 15:59:00.000000000,2020-03-18 15:57:14.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-03-16 20:08:02.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/export.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7cfe4d4f12917ef442da81e148aca96f627050f2', 'message': 'Correct YAML load warning\n\nThe use of `yaml.load` is deprecated and considered unsafe.\n\nThe warning notice:\n\n> /usr/lib/python3.6/site-packages/tripleoclient/utils.py:2349:\n  YAMLLoadWarning: calling yaml.load() without Loader=...\n  is deprecated, as the default Loader is unsafe. Please read\n  https://msg.pyyaml.org/load for full details.\n\nThis change removes the use of the deprecated function, which\ncorrects the issue.\n\nChange-Id: I7b747fd124880f55a30f75e5efb27c22c57ac10c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,713324,7cfe4d4f12917ef442da81e148aca96f627050f2,15,7,1,7353,,,0,"Correct YAML load warning

The use of `yaml.load` is deprecated and considered unsafe.

The warning notice:

> /usr/lib/python3.6/site-packages/tripleoclient/utils.py:2349:
  YAMLLoadWarning: calling yaml.load() without Loader=...
  is deprecated, as the default Loader is unsafe. Please read
  https://msg.pyyaml.org/load for full details.

This change removes the use of the deprecated function, which
corrects the issue.

Change-Id: I7b747fd124880f55a30f75e5efb27c22c57ac10c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/713324/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/export.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py']",5,7cfe4d4f12917ef442da81e148aca96f627050f2,, @mock.patch('yaml.safe_load') @mock.patch('yaml.safe_load'), @mock.patch('yaml.load') @mock.patch('yaml.load'),8,8
openstack%2Fkuryr-kubernetes~master~If3bd633b36694dedaf65cb14287e9b9519958de8,openstack/kuryr-kubernetes,master,If3bd633b36694dedaf65cb14287e9b9519958de8,Add IPv6 support to namespace subnet driver,MERGED,2020-02-19 14:17:30.000000000,2020-03-18 15:54:54.000000000,2020-03-18 15:53:20.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-02-19 14:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4e5e612dcd3ce02eee8ed3758580df22bfef705d', 'message': '[WIP] Add IPv6 support to namespace subnet driver\n\nChange-Id: If3bd633b36694dedaf65cb14287e9b9519958de8\n'}, {'number': 2, 'created': '2020-02-26 15:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a7361df96002a269cacb1a1585a64d2bc72e71dd', 'message': 'Add IPv6 support to namespace subnet driver\n\nChange-Id: If3bd633b36694dedaf65cb14287e9b9519958de8\n'}, {'number': 3, 'created': '2020-03-02 11:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2a4795d4deaae33b16923141435c7017778f57f0', 'message': 'Add IPv6 support to namespace subnet driver\n\nChange-Id: If3bd633b36694dedaf65cb14287e9b9519958de8\n'}, {'number': 4, 'created': '2020-03-03 15:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/02e72637f1c584fd0266f79f3b429bcd788fbe58', 'message': 'Add IPv6 support to namespace subnet driver\n\nChange-Id: If3bd633b36694dedaf65cb14287e9b9519958de8\n'}, {'number': 5, 'created': '2020-03-05 09:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6211af37a95df4e6f076354e4b3c4e5f1de73c8c', 'message': 'Add IPv6 support to namespace subnet driver\n\nChange-Id: If3bd633b36694dedaf65cb14287e9b9519958de8\n'}, {'number': 6, 'created': '2020-03-06 08:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a2ec3110fe35e9caaab279b070412c877b6f8ed3', 'message': 'Add IPv6 support to namespace subnet driver\n\nChange-Id: If3bd633b36694dedaf65cb14287e9b9519958de8\n'}, {'number': 7, 'created': '2020-03-10 13:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8ca12d0b51b5a127f6f58770a9ec209e9c9ca25b', 'message': 'Add IPv6 support to namespace subnet driver\n\nChange-Id: If3bd633b36694dedaf65cb14287e9b9519958de8\n'}, {'number': 8, 'created': '2020-03-17 13:30:16.000000000', 'files': ['kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'kuryr_kubernetes/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/eeee83d0f3614ae23dc2e9442b0929b98a6ac1c0', 'message': 'Add IPv6 support to namespace subnet driver\n\nChange-Id: If3bd633b36694dedaf65cb14287e9b9519958de8\n'}]",0,708657,eeee83d0f3614ae23dc2e9442b0929b98a6ac1c0,53,6,8,23567,,,0,"Add IPv6 support to namespace subnet driver

Change-Id: If3bd633b36694dedaf65cb14287e9b9519958de8
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/57/708657/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'kuryr_kubernetes/utils.py']",2,4e5e612dcd3ce02eee8ed3758580df22bfef705d,namespace-crds,"@MEMOIZE def get_subnetpool_version(subnetpool_id): os_net = clients.get_network_client() try: subnetpool_obj = os_net.get_subnet_pool(subnetpool_id) except os_exc.ResourceNotFound: LOG.exception(""Subnetpool %s not found!"", subnetpool_id) raise return subnetpool_obj.ip_version ",,13,1
openstack%2Fnova~stable%2Ftrain~Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8,openstack/nova,stable/train,Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8,Fix intermittently failing regression case,MERGED,2020-03-17 09:11:03.000000000,2020-03-18 15:37:01.000000000,2020-03-17 20:17:21.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-17 09:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dde48fe9186b2acdda0762c241ba3d059c0ca59e', 'message': 'Fix intermittently failing regression case\n\nThe test_unshelve_offloaded_fails_due_to_neutron could fail due to race\ncondition. The test case only waits for the first instance.save() call\nat [1] but the allocation delete happens after it. This causes that the\ntest case can still see the allocation of the offloaded server in\nplacement.\n\nThe fix makes sure that the test waits for the second instance.save() by\nchecking for the host of the instance.\n\nChanges in test_bug_1862633.py is due to\nI8c96b337f32148f8f5899c9b87af331b1fa41424 is missing from train.\n\n[1] https://github.com/openstack/nova/blob/stable/rocky/nova/compute/manager.py#L5274-L5288\n\nRelated-Bug #1862633\n\nChange-Id: Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8\n(cherry picked from commit 1dfb72e0487c12553a50899d6aed292dea4dcd7f)\n'}, {'number': 2, 'created': '2020-03-17 09:48:50.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1862633.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c48d62184348a5bd77df9e54cdac3cf641049eb8', 'message': 'Fix intermittently failing regression case\n\nThe test_unshelve_offloaded_fails_due_to_neutron could fail due to race\ncondition. The test case only waits for the first instance.save() call\nat [1] but the allocation delete happens after it. This causes that the\ntest case can still see the allocation of the offloaded server in\nplacement.\n\nThe fix makes sure that the test waits for the second instance.save() by\nchecking for the host of the instance.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1862633.py\n\nNote: Changes in test_bug_1862633.py is due to\nI8c96b337f32148f8f5899c9b87af331b1fa41424 is missing from train.\n\n[1] https://github.com/openstack/nova/blob/stable/rocky/nova/compute/manager.py#L5274-L5288\n\nRelated-Bug #1862633\n\nChange-Id: Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8\n(cherry picked from commit 1dfb72e0487c12553a50899d6aed292dea4dcd7f)\n'}]",0,713384,c48d62184348a5bd77df9e54cdac3cf641049eb8,15,5,2,9708,,,0,"Fix intermittently failing regression case

The test_unshelve_offloaded_fails_due_to_neutron could fail due to race
condition. The test case only waits for the first instance.save() call
at [1] but the allocation delete happens after it. This causes that the
test case can still see the allocation of the offloaded server in
placement.

The fix makes sure that the test waits for the second instance.save() by
checking for the host of the instance.

Conflicts:
    nova/tests/functional/regressions/test_bug_1862633.py

Note: Changes in test_bug_1862633.py is due to
I8c96b337f32148f8f5899c9b87af331b1fa41424 is missing from train.

[1] https://github.com/openstack/nova/blob/stable/rocky/nova/compute/manager.py#L5274-L5288

Related-Bug #1862633

Change-Id: Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8
(cherry picked from commit 1dfb72e0487c12553a50899d6aed292dea4dcd7f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/713384/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1862633.py'],1,dde48fe9186b2acdda0762c241ba3d059c0ca59e,bug/1862633," self.api, server, {'status': 'SHELVED_OFFLOADED', 'OS-EXT-SRV-ATTR:host': None}) 'OS-EXT-STS:task_state': None, 'OS-EXT-SRV-ATTR:host': None})"," self.api, server, {'status': 'SHELVED_OFFLOADED'}) 'OS-EXT-STS:task_state': None})",4,2
openstack%2Fkolla-ansible~stable%2Frocky~I7601bb710097a78f6b29bc4018c71f2c6283eef2,openstack/kolla-ansible,stable/rocky,I7601bb710097a78f6b29bc4018c71f2c6283eef2,Wait for MariaDB to be accessible via HAProxy,MERGED,2020-03-17 17:58:38.000000000,2020-03-18 15:17:45.000000000,2020-03-18 15:16:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 29543}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-03-17 17:58:38.000000000', 'files': ['ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/mariadb/tasks/wait_for_loadbalancer.yml', 'ansible/roles/mariadb/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b37cb79f6ce2e9017fa21c315bd0fdcec72ee5c9', 'message': 'Wait for MariaDB to be accessible via HAProxy\n\nExplicitly wait for the database to be accessible via the load balancer.\nSometimes it can reject connections even when all database services are up,\npossibly due to the health check polling in HAProxy.\n\nCloses-Bug: #1840145\nChange-Id: I7601bb710097a78f6b29bc4018c71f2c6283eef2\n(cherry picked from commit 03cd7eb3563788ca1ffd7b19130f18614887a546)\n'}]",0,713500,b37cb79f6ce2e9017fa21c315bd0fdcec72ee5c9,8,4,1,30491,,,0,"Wait for MariaDB to be accessible via HAProxy

Explicitly wait for the database to be accessible via the load balancer.
Sometimes it can reject connections even when all database services are up,
possibly due to the health check polling in HAProxy.

Closes-Bug: #1840145
Change-Id: I7601bb710097a78f6b29bc4018c71f2c6283eef2
(cherry picked from commit 03cd7eb3563788ca1ffd7b19130f18614887a546)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/713500/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/mariadb/tasks/wait_for_loadbalancer.yml', 'ansible/roles/mariadb/tasks/register.yml']",3,b37cb79f6ce2e9017fa21c315bd0fdcec72ee5c9,bug/1840145,- import_tasks: wait_for_loadbalancer.yml ,,20,0
openstack%2Fkolla-ansible~stable%2Fstein~Ia840f4b67043df4eaa654f47673dcdc973f13d9c,openstack/kolla-ansible,stable/stein,Ia840f4b67043df4eaa654f47673dcdc973f13d9c,Combined fluentd fixes,MERGED,2020-03-17 19:33:46.000000000,2020-03-18 15:17:40.000000000,2020-03-18 15:16:00.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-03-17 19:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc05b9d539c1db6efa6acd7283a865b8c8a05413', 'message': 'Make Fluentd config folders readable\n\nCurrently, config folders lack the execute bit so Fluentd\ncannot read the config and just does nothing when it starts up. This\nchange explicitly sets the execute bit on folders which need it,\nrather than doing it in a more generic way which is more risky from\na security perspective.\n\nChange-Id: Ia840f4b67043df4eaa654f47673dcdc973f13d9c\nCloses-Bug: #1867754\n(cherry picked from commit c92378d7881927d46ff5d485edcf25989c0c4170)\n'}, {'number': 2, 'created': '2020-03-18 09:49:42.000000000', 'files': ['ansible/roles/common/templates/fluentd.json.j2', 'releasenotes/notes/bug-1862211-1c44c4a16963baad.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06fbffe44025919761252cba50dbaef74f95df98', 'message': 'Combined fluentd fixes\n\n1. Delete stale fluent config on restart\n\nWe already only include .conf files in fluent.conf:\n\n(fluentd)[fluentd@cpu-e-1041 /etc/fluentd]$ cat fluent.conf\n@include input/*.conf\n@include filter/*.conf\n@include format/*.conf\n@include output/*.conf\n\nso this change should not cause ill effect. This works because of the\nmerge option in config files:\n\nmerge: merges the source directory into the target directory instead of\nreplacing it. Boolean, defaults to false.\n\nsee https://docs.openstack.org/kolla/latest/admin/kolla_api.html#kolla-api-external-config\n\nOriginal Change-Id: I28f63ec81f1ea5bc4a213d053bfb2c04388d5925\nCloses-Bug: #1862211\n(cherry picked from commit e7870e9df9e416b1b342ad6264bb66378fe62b3f)\n\n2. Make Fluentd config folders readable\n\nCurrently, config folders lack the execute bit so Fluentd\ncannot read the config and just does nothing when it starts up. This\nchange explicitly sets the execute bit on folders which need it,\nrather than doing it in a more generic way which is more risky from\na security perspective.\n\nChange-Id: Ia840f4b67043df4eaa654f47673dcdc973f13d9c\nCloses-Bug: #1867754\n(cherry picked from commit c92378d7881927d46ff5d485edcf25989c0c4170)\n'}]",0,713519,06fbffe44025919761252cba50dbaef74f95df98,13,6,2,14826,,,0,"Combined fluentd fixes

1. Delete stale fluent config on restart

We already only include .conf files in fluent.conf:

(fluentd)[fluentd@cpu-e-1041 /etc/fluentd]$ cat fluent.conf
@include input/*.conf
@include filter/*.conf
@include format/*.conf
@include output/*.conf

so this change should not cause ill effect. This works because of the
merge option in config files:

merge: merges the source directory into the target directory instead of
replacing it. Boolean, defaults to false.

see https://docs.openstack.org/kolla/latest/admin/kolla_api.html#kolla-api-external-config

Original Change-Id: I28f63ec81f1ea5bc4a213d053bfb2c04388d5925
Closes-Bug: #1862211
(cherry picked from commit e7870e9df9e416b1b342ad6264bb66378fe62b3f)

2. Make Fluentd config folders readable

Currently, config folders lack the execute bit so Fluentd
cannot read the config and just does nothing when it starts up. This
change explicitly sets the execute bit on folders which need it,
rather than doing it in a more generic way which is more risky from
a security perspective.

Change-Id: Ia840f4b67043df4eaa654f47673dcdc973f13d9c
Closes-Bug: #1867754
(cherry picked from commit c92378d7881927d46ff5d485edcf25989c0c4170)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/713519/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/fluentd.json.j2'],1,dc05b9d539c1db6efa6acd7283a865b8c8a05413,bug/1862211," {%- macro config_directory_permissions(dir) -%} { ""path"": ""{{ fluentd_dir }}/{{ dir }}"", ""owner"": ""{{ fluentd_user }}:{{ fluentd_user }}"", ""perm"": ""0700"" } {%- endmacro -%} }, {# Allow Fluentd to read configuration from folders #} {{ config_directory_permissions(""input"") }}, {{ config_directory_permissions(""filter"") }}, {{ config_directory_permissions(""format"") }}, {{ config_directory_permissions(""output"") }}", },15,1
openstack%2Fovn-octavia-provider~master~I8d8ed95ec603ea143a24d28dc92fa55600e0274e,openstack/ovn-octavia-provider,master,I8d8ed95ec603ea143a24d28dc92fa55600e0274e,Add configuration page to docs,MERGED,2020-03-16 12:24:14.000000000,2020-03-18 15:14:41.000000000,2020-03-18 15:10:11.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-03-16 12:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0046758544bcf9a3339b7008bb84a622bc4846e8', 'message': 'Add configuration page to docs\n\nThis page was missing. Added also tox env to generate config.\n\nChange-Id: I8d8ed95ec603ea143a24d28dc92fa55600e0274e\n'}, {'number': 2, 'created': '2020-03-17 13:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/17e2c358518cb7dc2bfa60df012f216a4543657c', 'message': 'Add configuration page to docs\n\nThis page was missing. Added also tox env to generate config.\n\nChange-Id: I8d8ed95ec603ea143a24d28dc92fa55600e0274e\n'}, {'number': 3, 'created': '2020-03-17 13:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a21cf8e41b7f9a384ffeb7527b5aec0edb6999ba', 'message': 'Add configuration page to docs\n\nThis page was missing. Added also tox env to generate config.\n\nChange-Id: I8d8ed95ec603ea143a24d28dc92fa55600e0274e\n'}, {'number': 4, 'created': '2020-03-17 13:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1117cda2ad4cab76658d783bc91ddf8391f74ab7', 'message': 'Add configuration page to docs\n\nThis page was missing. Added also tox env to generate config.\n\nChange-Id: I8d8ed95ec603ea143a24d28dc92fa55600e0274e\n'}, {'number': 5, 'created': '2020-03-17 13:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fe473ecd6b64ab07b93065ce17744eeb2d43e12a', 'message': 'Add configuration page to docs\n\nThis page was missing. Added also tox env to generate config.\n\nChange-Id: I8d8ed95ec603ea143a24d28dc92fa55600e0274e\n'}, {'number': 6, 'created': '2020-03-17 16:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5ee0515f6f7543ea953c28daca06c4de666ae16d', 'message': 'Add configuration page to docs\n\nThis page was missing. Added also tox env to generate config.\n\nChange-Id: I8d8ed95ec603ea143a24d28dc92fa55600e0274e\n'}, {'number': 7, 'created': '2020-03-18 13:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/46546967d2ddfec8c74dcc25509b7dc17cadddc2', 'message': 'Add configuration page to docs\n\nThis page was missing. Added also tox env to generate config.\n\nChange-Id: I8d8ed95ec603ea143a24d28dc92fa55600e0274e\n'}, {'number': 8, 'created': '2020-03-18 13:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/68b9cfe981e90805a520d742c34ec032302c7dd0', 'message': 'Add configuration page to docs\n\nThis page was missing. Added also tox env to generate config.\n\nChange-Id: I8d8ed95ec603ea143a24d28dc92fa55600e0274e\n'}, {'number': 9, 'created': '2020-03-18 14:26:49.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/index.rst', 'etc/octavia/.placeholder', 'tools/generate_config_file_samples.sh', 'etc/oslo-config-generator/ovn.conf', 'etc/octavia/conf.d/.placeholder', 'doc/source/configuration/config.rst', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e81342ae10c51756c94f7a99c5ecbe4fa81f48dd', 'message': 'Add configuration page to docs\n\nThis page was missing. Added also tox env to generate config.\n\nChange-Id: I8d8ed95ec603ea143a24d28dc92fa55600e0274e\n'}]",5,713212,e81342ae10c51756c94f7a99c5ecbe4fa81f48dd,31,6,9,24791,,,0,"Add configuration page to docs

This page was missing. Added also tox env to generate config.

Change-Id: I8d8ed95ec603ea143a24d28dc92fa55600e0274e
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/12/713212/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'doc/source/index.rst', 'etc/octavia/ovn.ini.sample', 'tools/generate_config_file_samples.sh', 'doc/source/configuration/config.rst', 'setup.cfg', 'etc/oslo-config-generator/ovn-octavia-provider.ini', 'tox.ini']",8,0046758544bcf9a3339b7008bb84a622bc4846e8,, {[testenv:genconfig]commands}[testenv:genconfig] envdir = {toxworkdir}/shared commands = {toxinidir}/tools/generate_config_file_samples.sh ,,103,0
openstack%2Fsecurity-analysis~master~I5ac14ef182f086068875f317b318796e6d1f8ac9,openstack/security-analysis,master,I5ac14ef182f086068875f317b318796e6d1f8ac9,Initial draft for pyCADF security review,ABANDONED,2017-12-23 19:35:04.000000000,2020-03-18 15:14:15.000000000,,"[{'_account_id': 5046}, {'_account_id': 8898}, {'_account_id': 17893}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28011}]","[{'number': 1, 'created': '2017-12-23 19:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/2a7d64ea446c63b03d9470e385278e901b614064', 'message': 'Initial draft for pyCADF security review\n\nThis patch set provides a first draft of the security-analysis for\nthe pyCADF library.\n\nChange-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9\n'}, {'number': 2, 'created': '2018-05-17 16:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/b2d6b7fede7d836abc0f31ae3f5c9866d79ea1b7', 'message': 'Initial draft for pyCADF security review\n\nThis patch set provides a first draft of the security-analysis for\nthe pyCADF library.\n\nChange-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9\n'}, {'number': 3, 'created': '2018-05-17 18:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/624b37c8a0c60b2e189c9e6f4175783d2c1dc686', 'message': 'Initial draft for pyCADF security review\n\nThis patch set provides a first draft of the security-analysis for\nthe pyCADF library.\n\nChange-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9\n'}, {'number': 4, 'created': '2018-05-17 18:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/347b7335c35c5dbfc0f7e93b558f0779bda8386a', 'message': 'Initial draft for pyCADF security review\n\nThis patch set provides a first draft of the security-analysis for\nthe pyCADF library.\n\nChange-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9\n'}, {'number': 5, 'created': '2018-05-19 14:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/410afc67be1d67abe0342a817fef019db7db461f', 'message': 'Initial draft for pyCADF security review\n\nThis patch set provides a first draft of the security-analysis for\nthe pyCADF library.\n\nChange-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9\n'}, {'number': 6, 'created': '2018-06-29 21:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/5e4dd531a471881cd839ef927761a32310ddbeea', 'message': 'Initial draft for pyCADF security review\n\nThis patch set provides a first draft of the security-analysis for\nthe pyCADF library.\n\nChange-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9\n'}, {'number': 7, 'created': '2018-08-06 20:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/dff243fa842ea9543fd856115301d7db1446421c', 'message': 'Initial draft for pyCADF security review\n\nThis patch set provides a first draft of the security-analysis for\nthe pyCADF library.\n\nChange-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9\n'}, {'number': 8, 'created': '2019-03-06 18:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/65427ee412f063db315381c33ec0905d0a35f25b', 'message': 'Initial draft for pyCADF security review\n\nThis patch set provides a first draft of the security-analysis for\nthe pyCADF library.\n\nChange-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9\n'}, {'number': 9, 'created': '2019-11-11 07:40:04.000000000', 'files': ['doc/source/index.rst', 'doc/source/artifacts/pycadf/rocky/review-findings.rst', 'doc/source/artifacts/pycadf/rocky/architecture-page.rst', 'doc/source/artifacts/pycadf/rocky/figures/pycadf_architecture-diagram.png'], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/0f35728d2f88a270d84f52393a8f06ae24822753', 'message': 'Initial draft for pyCADF security review\n\nThis patch set provides a first draft of the security-analysis for\nthe pyCADF library.\n\nChange-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9\n'}]",15,529945,0f35728d2f88a270d84f52393a8f06ae24822753,31,7,9,20466,,,0,"Initial draft for pyCADF security review

This patch set provides a first draft of the security-analysis for
the pyCADF library.

Change-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9
",git fetch https://review.opendev.org/openstack/security-analysis refs/changes/45/529945/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/artifacts/pycadf/queen/review-findings.rst', 'doc/source/artifacts/pycadf/queen/architecture-page.rst', 'doc/source/artifacts/pycadf/queen/figures/pycadf_architecture-diagram.png']",3,2a7d64ea446c63b03d9470e385278e901b614064,keystone-vmt,,,103,0
openstack%2Fovn-octavia-provider~master~I4b12a0281bd56bc83a81ba334ef82521f1e99881,openstack/ovn-octavia-provider,master,I4b12a0281bd56bc83a81ba334ef82521f1e99881,Use queue library directly,MERGED,2020-03-18 13:58:22.000000000,2020-03-18 15:11:56.000000000,2020-03-18 15:10:09.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-03-18 13:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/691c94b6da6f0a327aa89305d0732cbf724c4da6', 'message': ""Use queue library directly\n\nAs the driver is python3-only there's no need to use six\nto load the queue library.\n\nChange-Id: I4b12a0281bd56bc83a81ba334ef82521f1e99881\n""}, {'number': 2, 'created': '2020-03-18 14:01:06.000000000', 'files': ['lower-constraints.txt', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5d86a8c15b8ea3b0e130d1653d7668d0218408ed', 'message': ""Use queue library directly\n\nAs the driver is python3-only there's no need to use six\nto load the queue library.\n\nChange-Id: I4b12a0281bd56bc83a81ba334ef82521f1e99881\n""}]",0,713658,5d86a8c15b8ea3b0e130d1653d7668d0218408ed,9,3,2,1131,,,0,"Use queue library directly

As the driver is python3-only there's no need to use six
to load the queue library.

Change-Id: I4b12a0281bd56bc83a81ba334ef82521f1e99881
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/58/713658/2 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/driver.py'],1,691c94b6da6f0a327aa89305d0732cbf724c4da6,six.queue,import queue self.requests = queue.Queue(),from six.moves import queue as Queue self.requests = Queue.Queue(),2,2
openstack%2Fsecurity-analysis~master~Iff57bbdce12691919d1472f6c7c0699a643e7d23,openstack/security-analysis,master,Iff57bbdce12691919d1472f6c7c0699a643e7d23,Initial draft for oslo.cache,ABANDONED,2019-03-06 18:46:15.000000000,2020-03-18 15:07:15.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-06 18:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/6f721713f5213ed5f246dfbdc672b2d84accd5b0', 'message': 'Initial draft for oslo.cache\n\nThis provides the initial draft for architecture and review\nfindings in order to pursue coverage of oslo.cache by the\nvulnerability management team.\n\nCo-Authored By: nh202b <nh202b@att.com>\n\nChange-Id: Iff57bbdce12691919d1472f6c7c0699a643e7d23\n'}, {'number': 2, 'created': '2019-03-06 18:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/5bf644ca5a3b8acc77c080807326fae9af840855', 'message': 'Initial draft for oslo.cache\n\nThis provides the initial draft for architecture and review\nfindings in order to pursue coverage of oslo.cache by the\nvulnerability management team.\n\nCo-Authored By: nh202b <nh202b@att.com>\n\nChange-Id: Iff57bbdce12691919d1472f6c7c0699a643e7d23\n'}, {'number': 3, 'created': '2019-07-12 03:03:35.000000000', 'files': ['doc/source/artifacts/oslocache/stein/review-findings.rst', 'doc/source/artifacts/oslocache/stein/architecture-page.rst', 'doc/source/artifacts/oslocache/figures/oslo_diagram.png'], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/3812aad5b54729e7b4f4d790a653276831235051', 'message': 'Initial draft for oslo.cache\n\nThis provides the initial draft for architecture and review\nfindings in order to pursue coverage of oslo.cache by the\nvulnerability management team.\n\nCo-Authored By: nh202b <nh202b@att.com>\n\nChange-Id: Iff57bbdce12691919d1472f6c7c0699a643e7d23\n'}]",0,641467,3812aad5b54729e7b4f4d790a653276831235051,8,2,3,21420,,,0,"Initial draft for oslo.cache

This provides the initial draft for architecture and review
findings in order to pursue coverage of oslo.cache by the
vulnerability management team.

Co-Authored By: nh202b <nh202b@att.com>

Change-Id: Iff57bbdce12691919d1472f6c7c0699a643e7d23
",git fetch https://review.opendev.org/openstack/security-analysis refs/changes/67/641467/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/artifacts/oslocache/stein/review-findings.rst', 'doc/source/artifacts/oslocache/stein/architecture-page.rst', 'doc/source/artifacts/oslocache/figures/oslo_diagram.png']",3,6f721713f5213ed5f246dfbdc672b2d84accd5b0,keystone-vmt,,,119,0
openstack%2Fsecurity-analysis~master~I00b82462dea7d68069da7034e6337f97dbe31746,openstack/security-analysis,master,I00b82462dea7d68069da7034e6337f97dbe31746,Add keystonemiddleware to index and fix issues,ABANDONED,2018-05-17 18:23:02.000000000,2020-03-18 15:07:08.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 18:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/94ed85356ac6d05407159d882f1d6f1ff0324447', 'message': 'Add keystonemiddleware to index and fix issues\n\nThis change adds keystonemiddleware review findings and architecture links to the\nindex page for the security-analysis document. This also fixes some rendering warnings\nfrom sphinx.\n\nChange-Id: I00b82462dea7d68069da7034e6337f97dbe31746\n'}, {'number': 2, 'created': '2018-11-06 19:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/8b2947840ec9689ef8ea4fc83cf2478d87d09a8d', 'message': 'Add keystonemiddleware to index and fix issues\n\nThis change adds keystonemiddleware review findings and architecture links to the\nindex page for the security-analysis document. This also fixes some rendering warnings\nfrom sphinx.\n\nChange-Id: I00b82462dea7d68069da7034e6337f97dbe31746\n'}, {'number': 3, 'created': '2019-01-22 20:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/8b85a800d2d7833f1b33b7f2e486c751a3a4df4b', 'message': 'Add keystonemiddleware to index and fix issues\n\nThis change adds keystonemiddleware review findings and\narchitecture links to the index page for the\nsecurity-analysis document.\n\nThis also fixes some rendering warnings from sphinx.\n\nChange-Id: I00b82462dea7d68069da7034e6337f97dbe31746\n'}, {'number': 4, 'created': '2019-06-20 21:55:55.000000000', 'files': ['doc/source/index.rst', 'doc/source/artifacts/keystonemiddleware/pike/review-findings.rst'], 'web_link': 'https://opendev.org/openstack/security-analysis/commit/acd2bc831d65550176ada5d3c692469aaeebd61e', 'message': 'Add keystonemiddleware to index and fix issues\n\nThis change adds keystonemiddleware review findings and\narchitecture links to the index page for the\nsecurity-analysis document.\n\nThis also fixes some rendering warnings from sphinx.\n\nChange-Id: I00b82462dea7d68069da7034e6337f97dbe31746\n'}]",0,569203,acd2bc831d65550176ada5d3c692469aaeebd61e,13,2,4,21420,,,0,"Add keystonemiddleware to index and fix issues

This change adds keystonemiddleware review findings and
architecture links to the index page for the
security-analysis document.

This also fixes some rendering warnings from sphinx.

Change-Id: I00b82462dea7d68069da7034e6337f97dbe31746
",git fetch https://review.opendev.org/openstack/security-analysis refs/changes/03/569203/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/artifacts/keystonemiddleware/pike/review-findings.rst']",2,94ed85356ac6d05407159d882f1d6f1ff0324447,add-link,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,~~~~~~~~~~~~~~~~,12,2
openstack%2Foctavia~stable%2Fqueens~Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,openstack/octavia,stable/queens,Ia8ec209e2773483360e2490545b55d7ad5c3cbd1,"Revert ""Improve the error message for bad pkcs12 bundles""",ABANDONED,2020-03-06 18:54:10.000000000,2020-03-18 15:04:58.000000000,,"[{'_account_id': 2276}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 18:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a88f31bac902d17c15e82f095e5b427680300c5e', 'message': 'Revert ""Improve the error message for bad pkcs12 bundles""\n\nThis reverts commit ec76e763076b845f3808bd6eaa94c789ee0f74cf.\n\nOn stable releases with the addition of this change\nhttps://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df\n(and posterior backport to stable releases) isn\'t longer possible to create listeners that\nuse barbican secret containers except for single secrets exported as pkcs12 directly.\n\nBefore that change, any exception raised when trying to to decode the\nPKCS12 bundle would have resulted on falling back to the legacy\nbarbican certificate manager code, which supports secret containers [2],\nwhile with the addition of this line, makes this exception to raise and not falling back\nto the legacy code anymore.\n\nPlease check the related story.\n\nChange-Id: Ia8ec209e2773483360e2490545b55d7ad5c3cbd1\nStory: 2007371\n'}, {'number': 2, 'created': '2020-03-10 21:34:58.000000000', 'files': ['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/listener.py', 'octavia/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ca21affd0f73a83e1a310ecaf4e3a07f0b62502a', 'message': 'Revert ""Improve the error message for bad pkcs12 bundles""\n\nThis reverts commit ec76e763076b845f3808bd6eaa94c789ee0f74cf.\n\nOn stable releases with the addition of this change\nhttps://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df\n(and posterior backport to stable releases) isn\'t longer possible to create listeners that\nuse barbican secret containers except for single secrets exported as pkcs12 directly.\n\nBefore that change, any exception raised when trying to to decode the\nPKCS12 bundle would have resulted on falling back to the legacy\nbarbican certificate manager code, which supports secret containers [2],\nwhile with the addition of this line, makes this exception to raise and not falling back\nto the legacy code anymore.\n\nPlease check the related story.\n\nChange-Id: Ia8ec209e2773483360e2490545b55d7ad5c3cbd1\nStory: 2007371\n'}]",0,711740,ca21affd0f73a83e1a310ecaf4e3a07f0b62502a,9,4,2,2276,,,0,"Revert ""Improve the error message for bad pkcs12 bundles""

This reverts commit ec76e763076b845f3808bd6eaa94c789ee0f74cf.

On stable releases with the addition of this change
https://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df
(and posterior backport to stable releases) isn't longer possible to create listeners that
use barbican secret containers except for single secrets exported as pkcs12 directly.

Before that change, any exception raised when trying to to decode the
PKCS12 bundle would have resulted on falling back to the legacy
barbican certificate manager code, which supports secret containers [2],
while with the addition of this line, makes this exception to raise and not falling back
to the legacy code anymore.

Please check the related story.

Change-Id: Ia8ec209e2773483360e2490545b55d7ad5c3cbd1
Story: 2007371
",git fetch https://review.opendev.org/openstack/octavia refs/changes/40/711740/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/listener.py', 'octavia/common/exceptions.py']",5,a88f31bac902d17c15e82f095e5b427680300c5e,story-2007371-queens,,"class UnreadablePKCS12(APIException): msg = _(""The PKCS12 bundle is unreadable. Please check the PKCS12 bundle "" ""validity. In addition, make sure it does not require a pass "" ""phrase. Error: %(error)s"") code = 400 ",1,34
openstack%2Foslo.vmware~master~Iba7cbdd3f50877d360201391e87f1748433348a7,openstack/oslo.vmware,master,Iba7cbdd3f50877d360201391e87f1748433348a7,"Pass ""base_image_ref"" to backend when transfer volume to image",MERGED,2020-03-06 07:59:49.000000000,2020-03-18 14:57:32.000000000,2020-03-18 14:56:03.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-06 07:59:49.000000000', 'files': ['oslo_vmware/image_transfer.py', 'oslo_vmware/tests/test_image_transfer.py'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/74aeac3c5c24396563a7f6c74d9733c05d30ed99', 'message': 'Pass ""base_image_ref"" to backend when transfer volume to image\n\nCinder has a current implementation to support glance colocation\nof volume images[1].\nTo support this feature for vmdk driver, we need to pass the\nbase image reference (from which the volume was originally created)\nto the image service update method which this patch addresses.\n\n[1] https://review.opendev.org/#/c/697636/\n\nChange-Id: Iba7cbdd3f50877d360201391e87f1748433348a7\n'}]",2,711585,74aeac3c5c24396563a7f6c74d9733c05d30ed99,12,5,1,27615,,,0,"Pass ""base_image_ref"" to backend when transfer volume to image

Cinder has a current implementation to support glance colocation
of volume images[1].
To support this feature for vmdk driver, we need to pass the
base image reference (from which the volume was originally created)
to the image service update method which this patch addresses.

[1] https://review.opendev.org/#/c/697636/

Change-Id: Iba7cbdd3f50877d360201391e87f1748433348a7
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/85/711585/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_vmware/image_transfer.py', 'oslo_vmware/tests/test_image_transfer.py']",2,74aeac3c5c24396563a7f6c74d9733c05d30ed99,," base_image_ref = 'e79161cd-5f9d-4007-8823-81a807a64332' store_id=store_id, base_image_ref=base_image_ref) image_service.update.assert_called_once_with( context, image_id, image_metadata, data=fake_VmdkReadHandle, store_id=store_id, base_image_ref=base_image_ref)"," store_id=store_id) image_service.update.assert_called_once_with(context, image_id, image_metadata, data=fake_VmdkReadHandle, store_id=store_id)",13,7
openstack%2Fkeystone~master~Idb58907888029687cfa8fa22d859f51413929a5e,openstack/keystone,master,Idb58907888029687cfa8fa22d859f51413929a5e,WIP - Add flask hook for authentication timings,ABANDONED,2019-02-04 22:43:46.000000000,2020-03-18 14:42:57.000000000,,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-04 22:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/14752f0a56b4094ee9e9f6685c094de23d378505', 'message': 'WIP - Add flask hook for authentication timings\n\nThis change adds a post authentication hook to properly release\na user_not_found exception after other operations have been\ncompleted. This is to help mask cases where it may be possible\nto determine if a user or domain exists based on the response\ntime from keystone\n\nChange-Id: Idb58907888029687cfa8fa22d859f51413929a5e\nCloses-Bug: #1795800\n'}, {'number': 2, 'created': '2019-02-14 21:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9de88789d3d0e7ea1715ae03d63335d044608a46', 'message': 'WIP - Add flask hook for authentication timings\n\nThis change adds a post authentication hook to properly release\na user_not_found exception after other operations have been\ncompleted. This is to help mask cases where it may be possible\nto determine if a user or domain exists based on the response\ntime from keystone\n\nChange-Id: Idb58907888029687cfa8fa22d859f51413929a5e\nCloses-Bug: #1795800\n'}, {'number': 3, 'created': '2019-02-18 16:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d62cb448bc49017aadfd5370a367f91e468effd7', 'message': 'WIP - Add flask hook for authentication timings\n\nThis change adds a post authentication hook to properly release\na user_not_found exception after other operations have been\ncompleted. This is to help mask cases where it may be possible\nto determine if a user or domain exists based on the response\ntime from keystone\n\nChange-Id: Idb58907888029687cfa8fa22d859f51413929a5e\nCloses-Bug: #1795800\n'}, {'number': 4, 'created': '2019-03-06 21:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/25db9da05af017143e2e1e24f7fb516cccfcf529', 'message': 'WIP - Add flask hook for authentication timings\n\nThis change adds a post authentication hook to properly release\na user_not_found exception after other operations have been\ncompleted. This is to help mask cases where it may be possible\nto determine if a user or domain exists based on the response\ntime from keystone\n\nChange-Id: Idb58907888029687cfa8fa22d859f51413929a5e\nCloses-Bug: #1795800\n'}, {'number': 5, 'created': '2019-03-25 19:24:52.000000000', 'files': ['keystone/common/authentication.py', 'keystone/auth/plugins/core.py', 'keystone/server/flask/common.py', 'keystone/tests/unit/test_v3_auth.py', 'keystone/tests/unit/common/test_notifications.py', 'keystone/api/_shared/authentication.py', 'keystone/api/auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4d4c1fe95ba4bb64c877ff4037f9e7ee3f544d84', 'message': 'WIP - Add flask hook for authentication timings\n\nThis change adds a post authentication hook to properly release\nan unauthorized exception after other operations have been\ncompleted. This is to help mask cases where it may be possible\nto determine if a user or domain exists based on the response\ntime from keystone\n\nChange-Id: Idb58907888029687cfa8fa22d859f51413929a5e\nCloses-Bug: #1795800\n'}]",2,634826,4d4c1fe95ba4bb64c877ff4037f9e7ee3f544d84,14,3,5,21420,,,0,"WIP - Add flask hook for authentication timings

This change adds a post authentication hook to properly release
an unauthorized exception after other operations have been
completed. This is to help mask cases where it may be possible
to determine if a user or domain exists based on the response
time from keystone

Change-Id: Idb58907888029687cfa8fa22d859f51413929a5e
Closes-Bug: #1795800
",git fetch https://review.opendev.org/openstack/keystone refs/changes/26/634826/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/authentication.py', 'keystone/server/flask/common.py']",2,14752f0a56b4094ee9e9f6685c094de23d378505,bug/1795800,"from keystone.common import authenticationdef set_authenticate_ok(): setattr(flask.g, authentication._AUTH_CHECK_ATTR, True) set_authenticate_ok()",,41,0
openstack%2Fopenstack-ansible-repo_server~stable%2Fstein~Ife4c1ab05e135930da8706d96af5b23648cee800,openstack/openstack-ansible-repo_server,stable/stein,Ife4c1ab05e135930da8706d96af5b23648cee800,lsyncd: use relative paths in exclude statement,MERGED,2020-03-11 14:25:03.000000000,2020-03-18 14:41:33.000000000,2020-03-18 14:39:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-11 14:25:03.000000000', 'files': ['templates/lsyncd.lua.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/bfbd02dcef460637d589e2c498f4d6be82653a73', 'message': 'lsyncd: use relative paths in exclude statement\n\nIt seems only relative paths should be used in the exclude\nstatement. This has probably gone unnoticed since there is a second\nsync for these files.\n\nChange-Id: Ife4c1ab05e135930da8706d96af5b23648cee800\n(cherry picked from commit 9cb92db21b60273b4fc68ddca514ecfefb4d459c)\n'}]",0,712456,bfbd02dcef460637d589e2c498f4d6be82653a73,13,4,1,25600,,,0,"lsyncd: use relative paths in exclude statement

It seems only relative paths should be used in the exclude
statement. This has probably gone unnoticed since there is a second
sync for these files.

Change-Id: Ife4c1ab05e135930da8706d96af5b23648cee800
(cherry picked from commit 9cb92db21b60273b4fc68ddca514ecfefb4d459c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/56/712456/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/lsyncd.lua.j2'],1,bfbd02dcef460637d589e2c498f4d6be82653a73,," exclude = {""{{ repo_git_cache_dirname }}""},"," exclude = {""{{ repo_git_cache_dir }}""},",1,1
openstack%2Fcharm-octavia~master~Idf888fc6853f575737050cfe391ce4d7ac5d80b4,openstack/charm-octavia,master,Idf888fc6853f575737050cfe391ce4d7ac5d80b4,Move amp_ssh_key setup to configure action,MERGED,2020-03-04 12:19:58.000000000,2020-03-18 14:38:20.000000000,2020-03-18 14:38:20.000000000,"[{'_account_id': 6737}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 12:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/6b919c5e915baa4292aceffad0163c6373a9afca', 'message': 'Move amp_ssh_key setup to configure action\n\nThis is to avoid problems when the nova api\nis not ready yet.\n\nChange-Id: Idf888fc6853f575737050cfe391ce4d7ac5d80b4\nCloses-Bug: #1863085\n'}, {'number': 2, 'created': '2020-03-16 15:28:47.000000000', 'files': ['src/reactive/octavia_handlers.py', 'src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8bd2cb1cc5443725dd93af6fa40eb3371f1c5848', 'message': 'Move amp_ssh_key setup to configure action\n\nThis is to avoid problems when the nova api\nis not ready yet.\n\nChange-Id: Idf888fc6853f575737050cfe391ce4d7ac5d80b4\nCloses-Bug: #1863085\n'}]",0,711215,8bd2cb1cc5443725dd93af6fa40eb3371f1c5848,16,4,2,6737,,,0,"Move amp_ssh_key setup to configure action

This is to avoid problems when the nova api
is not ready yet.

Change-Id: Idf888fc6853f575737050cfe391ce4d7ac5d80b4
Closes-Bug: #1863085
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/15/711215/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/octavia_handlers.py', 'src/actions/actions.py']",2,6b919c5e915baa4292aceffad0163c6373a9afca,bug/1863085," amp_key_name = ch_core.hookenv.config('amp-ssh-key-name') if amp_key_name: identity_service = reactive.endpoint_from_flag( 'identity-service.available') api_crud.create_nova_keypair(identity_service, amp_key_name) ",,7,6
openstack%2Fbifrost~stable%2Ftrain~I66e8e5f5a9c16ac90e132074c826d508458ae4d1,openstack/bifrost,stable/train,I66e8e5f5a9c16ac90e132074c826d508458ae4d1,Run vbmcd as a Systemd service,MERGED,2020-03-18 13:10:03.000000000,2020-03-18 14:30:27.000000000,2020-03-18 14:28:45.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-18 13:10:03.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'scripts/collect-test-info.sh', 'playbooks/roles/bifrost-create-vm-nodes/templates/vbmcd.service.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9c5790f0bf4632974e449fc9117366d0142a1652', 'message': 'Run vbmcd as a Systemd service\n\nVirtualbmc 2.0 dropped the daemon autostart feature. This means we need\nto explicitly start it. Running it as a Systemd unit, code adapted from\nTenks.\n\nIn order to allow Systemd to execute the daemon on systems with SELinux\nenabled, it must be installed to the system rather than a virtualenv.\n\nChange-Id: I66e8e5f5a9c16ac90e132074c826d508458ae4d1\n(cherry picked from commit 6513e5a6dc92dff06e7d5caeadf14db434b3648f)\n'}]",0,713648,9c5790f0bf4632974e449fc9117366d0142a1652,8,3,1,14826,,,0,"Run vbmcd as a Systemd service

Virtualbmc 2.0 dropped the daemon autostart feature. This means we need
to explicitly start it. Running it as a Systemd unit, code adapted from
Tenks.

In order to allow Systemd to execute the daemon on systems with SELinux
enabled, it must be installed to the system rather than a virtualenv.

Change-Id: I66e8e5f5a9c16ac90e132074c826d508458ae4d1
(cherry picked from commit 6513e5a6dc92dff06e7d5caeadf14db434b3648f)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/48/713648/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'scripts/collect-test-info.sh', 'playbooks/roles/bifrost-create-vm-nodes/templates/vbmcd.service.j2']",3,9c5790f0bf4632974e449fc9117366d0142a1652,,{% if enable_venv | bool %} {% set vbmcd = bifrost_venv_dir ~ '/bin/vbmcd' %} {% else %} {% set vbmcd = '/usr/local/bin/vbmcd' %} {% endif %} [Unit] Description=Virtual BMC daemon [Service] Type=simple Restart=on-failure ExecStart={{ vbmcd }} --foreground ,,32,0
openstack%2Fvitrage~master~I5050e2d9fe91fd710b47e63524d2fcb90584d131,openstack/vitrage,master,I5050e2d9fe91fd710b47e63524d2fcb90584d131,Use the right python plugin for uwsgi,MERGED,2020-03-18 11:42:13.000000000,2020-03-18 14:29:37.000000000,2020-03-18 14:25:09.000000000,"[{'_account_id': 1736}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 11:42:13.000000000', 'files': ['vitrage/api/app.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/35fc976e5ff946d131096fd9e56a6ec799e857f9', 'message': 'Use the right python plugin for uwsgi\n\nIf uwsgi python plugin is installed separately then use\nthe correct python version plugin\n\nChange-Id: I5050e2d9fe91fd710b47e63524d2fcb90584d131\n'}]",0,713630,35fc976e5ff946d131096fd9e56a6ec799e857f9,9,3,1,19134,,,0,"Use the right python plugin for uwsgi

If uwsgi python plugin is installed separately then use
the correct python version plugin

Change-Id: I5050e2d9fe91fd710b47e63524d2fcb90584d131
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/30/713630/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/api/app.py'],1,35fc976e5ff946d131096fd9e56a6ec799e857f9,uwsgi," major = str(sys.version_info.major) minor = str(sys.version_info.minor) plugin = ''.join(('python', major, minor)) ""--if-not-plugin"", ""python"", ""--plugin"", plugin, ""--endif"","," ""--if-not-plugin"", ""python"", ""--plugin"", ""python"", ""--endif"",",4,1
openstack%2Fkolla~master~I4aba1c527f0be61ae54d47efaf0ab3c2d69beda3,openstack/kolla,master,I4aba1c527f0be61ae54d47efaf0ab3c2d69beda3,elasticsearch: use proper repo for debian/aarch64,MERGED,2020-03-18 09:43:05.000000000,2020-03-18 14:29:08.000000000,2020-03-18 14:27:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-18 09:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9f279ffa0b1e61c37df6f22feb25900d4b307ab1', 'message': 'elasticsearch: use proper repo for debian/aarch64\n\nChange-Id: I4aba1c527f0be61ae54d47efaf0ab3c2d69beda3\n'}, {'number': 2, 'created': '2020-03-18 11:09:23.000000000', 'files': ['kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8ea35aa936a4cb3e8c406bad2823456e8612bb6b', 'message': 'elasticsearch: use proper repo for debian/aarch64\n\nChange-Id: I4aba1c527f0be61ae54d47efaf0ab3c2d69beda3\n'}]",2,713598,8ea35aa936a4cb3e8c406bad2823456e8612bb6b,16,6,2,24072,,,0,"elasticsearch: use proper repo for debian/aarch64

Change-Id: I4aba1c527f0be61ae54d47efaf0ab3c2d69beda3
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/713598/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/template/repos.yaml'],1,9f279ffa0b1e61c37df6f22feb25900d4b307ab1,," elasticsearch: ""deb [arch=amd64] https://artifacts.elastic.co/packages/5.x/apt stable main"""," elasticsearch: ""deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz/debian-buster ./""",1,1
openstack%2Fdevstack-plugin-open-cas~master~I037b9cf585048b63de6a5f554620a89a8de67e1b,openstack/devstack-plugin-open-cas,master,I037b9cf585048b63de6a5f554620a89a8de67e1b,Initial repo,MERGED,2020-03-16 08:38:15.000000000,2020-03-18 14:25:13.000000000,2020-03-18 14:25:13.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28948}]","[{'number': 1, 'created': '2020-03-16 08:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-open-cas/commit/16634e67469b451e5341e0202f1f9a624e7d015b', 'message': 'initial repo\n\nChange-Id: I037b9cf585048b63de6a5f554620a89a8de67e1b\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 2, 'created': '2020-03-17 13:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-open-cas/commit/a9d8cce153f702ec3bfc5c8e58b626ce3ee6c096', 'message': 'Initial repo\n\nDuring stack.sh\n- git clone open-cas repo\n- compile open-cas\n- install open-cas\n- configure open-cas\n\nDuring unstack.sh\n- remove cached devices\n- remove cache instance\n- uninstall open-cas\n\nChange-Id: I037b9cf585048b63de6a5f554620a89a8de67e1b\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 3, 'created': '2020-03-18 09:10:43.000000000', 'files': ['README.rst', '.zuul.yaml', 'devstack/plugin.sh', 'LICENSE', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-open-cas/commit/955d21b3c3f18e8e8c7d1835e7290cb7e5c1b397', 'message': 'Initial repo\n\nDuring stack.sh\n- git clone open-cas repo\n- compile open-cas\n- install open-cas\n- configure open-cas\n\nDuring unstack.sh\n- remove cached devices\n- remove cache instance\n- uninstall open-cas\n\nChange-Id: I037b9cf585048b63de6a5f554620a89a8de67e1b\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}]",8,713173,955d21b3c3f18e8e8c7d1835e7290cb7e5c1b397,14,5,3,28948,,,0,"Initial repo

During stack.sh
- git clone open-cas repo
- compile open-cas
- install open-cas
- configure open-cas

During unstack.sh
- remove cached devices
- remove cache instance
- uninstall open-cas

Change-Id: I037b9cf585048b63de6a5f554620a89a8de67e1b
Signed-off-by: Liang Fang <liang.a.fang@intel.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-open-cas refs/changes/73/713173/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', '.zuul.yaml', 'devstack/plugin.sh', 'LICENSE', 'tox.ini']",5,16634e67469b451e5341e0202f1f9a624e7d015b,,"[tox] minversion = 1.6 skipsdist = True envlist = bashate [testenv] usedevelop = False install_command = pip install {opts} {packages} [testenv:bashate] deps = bashate whitelist_externals = bash commands = bash -c ""find {toxinidir} \ -not \( -type d -name .?\* -prune \) \ -not \( -type d -name doc -prune \) \ -type f \ -not -name \*~ \ -not -name \*.md \ \( \ -name \*.sh -or \ -name \*rc -or \ -name functions\* -or \ -wholename \*/lib/\* \ \) \ -print0 | xargs -0 bashate -v -iE006"" ",,302,0
openstack%2Fglance~master~I361c9d0b53a67b1cc60f0f3012e22accdcc46055,openstack/glance,master,I361c9d0b53a67b1cc60f0f3012e22accdcc46055,Remove usages of SSL related config options in utils,MERGED,2020-03-13 22:44:23.000000000,2020-03-18 14:08:22.000000000,2020-03-18 14:05:31.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 31209}]","[{'number': 1, 'created': '2020-03-13 22:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/790897cd24f23f28b3b256de6e8834d18aa0d371', 'message': ""Remove usages of SSL related config options in utils\n\nSSL support was removed by [1] which resulted in removal of some\nSSL related config options, but two config options 'key_file' and\n'cert_file' are still used in utils.stash_conf_values() which is called\nin reload functionality. When SIGHUP is sent to the parent process,\nthis usage causes it to crash and its children processes become orphaned,\nwhich then causes the reload test to be stale (fail).\n\nThis change also includes:\n- Re-enable the reload test (self.disable)\n- Empty the disabled message (self.disabled_message)\n\n[1] https://review.opendev.org/#/c/697969/5/glance/common/wsgi.py\n\nChange-Id: I361c9d0b53a67b1cc60f0f3012e22accdcc46055\nCloses-Bug: #1855708\n""}, {'number': 2, 'created': '2020-03-18 05:42:26.000000000', 'files': ['glance/tests/functional/test_reload.py', 'glance/common/utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/30ece7aa28ce8bef1bfe6d4ac68485e6b980f955', 'message': ""Remove usages of SSL related config options in utils\n\nSSL support was removed by [1] which resulted in removal of some\nSSL related config options, but two config options 'key_file' and\n'cert_file' are still used in utils.stash_conf_values() which is called\nin reload functionality. When SIGHUP is sent to the parent process,\nthis usage causes it to crash and its children processes become orphaned,\nwhich then causes the reload test to be stale (fail).\n\nThis change also includes:\n- Remove 2 attributes and the decorator that help to skip this test\n  (self.diable, self.disabled_message, and @skip_if_disabled)\n\n[1] https://review.opendev.org/#/c/697969/5/glance/common/wsgi.py\n\nChange-Id: I361c9d0b53a67b1cc60f0f3012e22accdcc46055\nCloses-Bug: #1855708\n""}]",1,713076,30ece7aa28ce8bef1bfe6d4ac68485e6b980f955,18,5,2,31209,,,0,"Remove usages of SSL related config options in utils

SSL support was removed by [1] which resulted in removal of some
SSL related config options, but two config options 'key_file' and
'cert_file' are still used in utils.stash_conf_values() which is called
in reload functionality. When SIGHUP is sent to the parent process,
this usage causes it to crash and its children processes become orphaned,
which then causes the reload test to be stale (fail).

This change also includes:
- Remove 2 attributes and the decorator that help to skip this test
  (self.diable, self.disabled_message, and @skip_if_disabled)

[1] https://review.opendev.org/#/c/697969/5/glance/common/wsgi.py

Change-Id: I361c9d0b53a67b1cc60f0f3012e22accdcc46055
Closes-Bug: #1855708
",git fetch https://review.opendev.org/openstack/glance refs/changes/76/713076/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/test_reload.py', 'glance/common/utils.py']",2,790897cd24f23f28b3b256de6e8834d18aa0d371,bug/1855708,," 'tcp_keepidle': CONF.cert_file, 'key_file': CONF.key_file, 'cert_file': CONF.cert_file",2,5
openstack%2Frpm-packaging~master~Ib669e872a9fff9b397f77cc74f5d62b246dee674,openstack/rpm-packaging,master,Ib669e872a9fff9b397f77cc74f5d62b246dee674,mistral: drop openstack action dependencies,MERGED,2020-03-17 22:28:24.000000000,2020-03-18 13:58:28.000000000,2020-03-18 13:58:28.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 22:28:24.000000000', 'files': ['openstack/mistral/mistral.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5417ed5b512fa7fc09dcb27efcbc0d863b22150c', 'message': 'mistral: drop openstack action dependencies\n\nThe openstack client dependencies were removed in\nhttps://review.opendev.org/#/c/703972/\n\nChange-Id: Ib669e872a9fff9b397f77cc74f5d62b246dee674\n'}]",0,713546,5417ed5b512fa7fc09dcb27efcbc0d863b22150c,10,5,1,6593,,,0,"mistral: drop openstack action dependencies

The openstack client dependencies were removed in
https://review.opendev.org/#/c/703972/

Change-Id: Ib669e872a9fff9b397f77cc74f5d62b246dee674
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/46/713546/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/mistral/mistral.spec.j2'],1,5417ed5b512fa7fc09dcb27efcbc0d863b22150c,,,BuildRequires: {{ py3('aodhclient') }} BuildRequires: {{ py3('python-barbicanclient') }} BuildRequires: {{ py3('python-cinderclient') }}BuildRequires: {{ py3('python-designateclient') }}BuildRequires: {{ py3('python-glanceclient') }} BuildRequires: {{ py3('python-glareclient') }} BuildRequires: {{ py3('gnocchiclient') }} BuildRequires: {{ py3('python-heatclient') }}BuildRequires: {{ py3('python-ironicclient') }}BuildRequires: {{ py3('python-keystoneclient') }}BuildRequires: {{ py3('python-magnumclient') }} BuildRequires: {{ py3('python-manilaclient') }}BuildRequires: {{ py3('python-muranoclient') }}BuildRequires: {{ py3('python-neutronclient') }} BuildRequires: {{ py3('python-novaclient') }}BuildRequires: {{ py3('python-qinlingclient') }}BuildRequires: {{ py3('python-senlinclient') }}BuildRequires: {{ py3('python-swiftclient') }} BuildRequires: {{ py3('python-tackerclient') }}BuildRequires: {{ py3('python-troveclient') }} BuildRequires: {{ py3('python-vitrageclient') }}BuildRequires: {{ py3('python-zaqarclient') }} BuildRequires: {{ py3('python-zunclient') }}Requires: {{ py3('python-barbicanclient') }}Requires: {{ py3('python-cinderclient') }}Requires: {{ py3('python-designateclient') }}Requires: {{ py3('python-glanceclient') }} Requires: {{ py3('python-glareclient') }} Requires: {{ py3('python-heatclient') }}Requires: {{ py3('python-ironicclient') }}Requires: {{ py3('python-keystoneclient') }}Requires: {{ py3('python-magnumclient') }} Requires: {{ py3('python-manilaclient') }}Requires: {{ py3('python-mistralclient') }} Requires: {{ py3('python-muranoclient') }}Requires: {{ py3('python-neutronclient') }} Requires: {{ py3('python-novaclient') }}Requires: {{ py3('python-qinlingclient') }}Requires: {{ py3('python-senlinclient') }}Requires: {{ py3('python-swiftclient') }} Requires: {{ py3('python-tackerclient') }}Requires: {{ py3('python-troveclient') }} Requires: {{ py3('python-vitrageclient') }}Requires: {{ py3('python-zaqarclient') }} Requires: {{ py3('python-zunclient') }},0,45
openstack%2Fironic-python-agent~stable%2Ftrain~Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,openstack/ironic-python-agent,stable/train,Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,Rescan devices before performing uefi checks,MERGED,2020-03-18 09:46:53.000000000,2020-03-18 13:55:18.000000000,2020-03-18 13:52:57.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-18 09:46:53.000000000', 'files': ['releasenotes/notes/rescan-before-checking-uefi-64597c937880134d.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8b2ace33a238d2f53fb5771d4d7e501ff0b91a2f', 'message': 'Rescan devices before performing uefi checks\n\nWith the fix to the uefi code path so secure boot works properly\nand is not accidently stomped on, we forgot to rescan the device\nand force the partition table to update, which is vital for iscsi\nbased deploys.\n\nConflicts:\n\tironic_python_agent/extensions/image.py\n\nDepends-On: https://review.opendev.org/706960\nChange-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea\nStory: 2007276\nTask: 38713\n(cherry picked from commit 6f1f9c7f6ed55689f5e738e7b6f01a5c789099e5)\n'}]",0,713601,8b2ace33a238d2f53fb5771d4d7e501ff0b91a2f,8,4,1,10239,,,0,"Rescan devices before performing uefi checks

With the fix to the uefi code path so secure boot works properly
and is not accidently stomped on, we forgot to rescan the device
and force the partition table to update, which is vital for iscsi
based deploys.

Conflicts:
	ironic_python_agent/extensions/image.py

Depends-On: https://review.opendev.org/706960
Change-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea
Story: 2007276
Task: 38713
(cherry picked from commit 6f1f9c7f6ed55689f5e738e7b6f01a5c789099e5)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/01/713601/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rescan-before-checking-uefi-64597c937880134d.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",3,8b2ace33a238d2f53fb5771d4d7e501ff0b91a2f,,"def _rescan_device(device): """"""Force the device to be rescanned :param device: device upon which to rescan and update kernel partition records. """""" try: utils.execute('partx', '-u', device, attempts=3, delay_on_retry=True) utils.execute('udevadm', 'settle') except processutils.ProcessExecutionError: LOG.warning(""Couldn't re-read the partition table "" ""on device %s"", device) _rescan_device(device) # Force UEFI to rescan the device. Required if the deployment # was over iscsi. _rescan_device(device) "," # Try to tell the kernel to re-read the partition table try: utils.execute('partx', '-u', device, attempts=3, delay_on_retry=True) utils.execute('udevadm', 'settle') except processutils.ProcessExecutionError: LOG.warning(""Couldn't re-read the partition table "" ""on device %s"", device)",59,16
openstack%2Fironic-python-agent~stable%2Fstein~Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,openstack/ironic-python-agent,stable/stein,Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,Rescan devices before performing uefi checks,MERGED,2020-03-18 09:47:30.000000000,2020-03-18 13:54:37.000000000,2020-03-18 13:53:01.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-18 09:47:30.000000000', 'files': ['releasenotes/notes/rescan-before-checking-uefi-64597c937880134d.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0819e416b029939f403a0b736ef302a02a01dfac', 'message': 'Rescan devices before performing uefi checks\n\nWith the fix to the uefi code path so secure boot works properly\nand is not accidently stomped on, we forgot to rescan the device\nand force the partition table to update, which is vital for iscsi\nbased deploys.\n\nConflicts:\n\tironic_python_agent/extensions/image.py\n\nDepends-On: https://review.opendev.org/706960\nChange-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea\nStory: 2007276\nTask: 38713\n(cherry picked from commit 6f1f9c7f6ed55689f5e738e7b6f01a5c789099e5)\n'}]",0,713602,0819e416b029939f403a0b736ef302a02a01dfac,8,4,1,10239,,,0,"Rescan devices before performing uefi checks

With the fix to the uefi code path so secure boot works properly
and is not accidently stomped on, we forgot to rescan the device
and force the partition table to update, which is vital for iscsi
based deploys.

Conflicts:
	ironic_python_agent/extensions/image.py

Depends-On: https://review.opendev.org/706960
Change-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea
Story: 2007276
Task: 38713
(cherry picked from commit 6f1f9c7f6ed55689f5e738e7b6f01a5c789099e5)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/02/713602/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rescan-before-checking-uefi-64597c937880134d.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",3,0819e416b029939f403a0b736ef302a02a01dfac,,"def _rescan_device(device): """"""Force the device to be rescanned :param device: device upon which to rescan and update kernel partition records. """""" try: utils.execute('partx', '-u', device, attempts=3, delay_on_retry=True) utils.execute('udevadm', 'settle') except processutils.ProcessExecutionError: LOG.warning(""Couldn't re-read the partition table "" ""on device %s"", device) _rescan_device(device) # Force UEFI to rescan the device. Required if the deployment # was over iscsi. _rescan_device(device) "," # Try to tell the kernel to re-read the partition table try: utils.execute('partx', '-u', device, attempts=3, delay_on_retry=True) utils.execute('udevadm', 'settle') except processutils.ProcessExecutionError: LOG.warning(""Couldn't re-read the partition table "" ""on device %s"", device)",59,16
openstack%2Fpython-glanceclient~stable%2Ftrain~Idccff338fa84c46ca0e429bb533a2a5217205eef,openstack/python-glanceclient,stable/train,Idccff338fa84c46ca0e429bb533a2a5217205eef,Cleanup session object,MERGED,2020-03-11 14:45:31.000000000,2020-03-18 13:53:45.000000000,2020-03-18 13:50:49.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 10459}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 14:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/5ba17b652ff62d27d1f90ae400862b224d60880b', 'message': ""Cleanup session object\n\nIf a session object is not provided to the get_http_client function (as\nis done via osc), the glance client uses it's own HTTPClient class. This\nclass creates a session but does not properly close it when it is done.\nThis can lead to resource warnings about unclosed sockets. This change\nadds a __del__() to the HTTPClient class to close out the session\ncorrectly.\n\nChange-Id: Idccff338fa84c46ca0e429bb533a2a5217205eef\nCloses-Bug: #1838694\n(cherry picked from commit 436f797e8db2fc11b7dace7cb7020e4d44a3d2d7)\n""}, {'number': 2, 'created': '2020-03-17 21:49:47.000000000', 'files': ['glanceclient/common/http.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/1aba8f2d248040364e690dd8dc7f3a508baed631', 'message': ""Cleanup session object\n\nIf a session object is not provided to the get_http_client function (as\nis done via osc), the glance client uses it's own HTTPClient class. This\nclass creates a session but does not properly close it when it is done.\nThis can lead to resource warnings about unclosed sockets. This change\nadds a __del__() to the HTTPClient class to close out the session\ncorrectly.\n\nChange-Id: Idccff338fa84c46ca0e429bb533a2a5217205eef\nCloses-Bug: #1838694\n(cherry picked from commit 436f797e8db2fc11b7dace7cb7020e4d44a3d2d7)\n""}]",1,712461,1aba8f2d248040364e690dd8dc7f3a508baed631,12,6,2,8122,,,0,"Cleanup session object

If a session object is not provided to the get_http_client function (as
is done via osc), the glance client uses it's own HTTPClient class. This
class creates a session but does not properly close it when it is done.
This can lead to resource warnings about unclosed sockets. This change
adds a __del__() to the HTTPClient class to close out the session
correctly.

Change-Id: Idccff338fa84c46ca0e429bb533a2a5217205eef
Closes-Bug: #1838694
(cherry picked from commit 436f797e8db2fc11b7dace7cb7020e4d44a3d2d7)
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/61/712461/2 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/common/http.py'],1,5ba17b652ff62d27d1f90ae400862b224d60880b,bug/1838694, def __del__(self): if self.session: try: self.session.close() except Exception as e: LOG.exception(e) finally: self.session = None ,,9,0
openstack%2Fpuppet-tripleo~master~I351eb64ff1df652b0a284d8cd3d835cec58a310f,openstack/puppet-tripleo,master,I351eb64ff1df652b0a284d8cd3d835cec58a310f,Add support to configure token caching in keystone,MERGED,2019-09-19 00:04:38.000000000,2020-03-18 13:51:53.000000000,2019-10-07 23:31:01.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-19 00:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6383fac9532e16d3475c31100cfaf99816682510', 'message': 'WIP: Allow to configure token caching in keystone\n\nChange-Id: I351eb64ff1df652b0a284d8cd3d835cec58a310f\n'}, {'number': 2, 'created': '2019-09-19 00:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ed09e9e047cc20ce18e37cd745c52e2e2a76dc3c', 'message': 'Add support to configure token caching in keystone\n\nAdd support to configure token caching in keystone[1] using\nmemcached, so that we can improve performance about token\nvalidation.\n\n[1] https://docs.openstack.org/keystone/latest/admin/configuration.html#caching-layer\n\nChange-Id: I351eb64ff1df652b0a284d8cd3d835cec58a310f\n'}, {'number': 3, 'created': '2019-09-19 01:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c6c7984c44084b01aa3efdd8d1c8b9c52b5dba6d', 'message': 'Add support to configure token caching in keystone\n\nAdd support to configure token caching in keystone[1] using\nmemcached, so that we can improve performance about token\nvalidation.\n\n[1] https://docs.openstack.org/keystone/latest/admin/configuration.html#caching-layer\n\nChange-Id: I351eb64ff1df652b0a284d8cd3d835cec58a310f\n'}, {'number': 4, 'created': '2019-09-19 02:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/482505f3b4caa0a2d85d778b337c34c0d206b1e0', 'message': 'Add support to configure token caching in keystone\n\nAdd support to configure token caching in keystone[1] using\nmemcached, so that we can improve performance about token\nvalidation.\n\n[1] https://docs.openstack.org/keystone/latest/admin/configuration.html#caching-layer\n\nChange-Id: I351eb64ff1df652b0a284d8cd3d835cec58a310f\n'}, {'number': 5, 'created': '2019-09-19 08:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/083cee36b56b9bd761ce79de175a4beeff024ddf', 'message': 'Add support to configure token caching in keystone\n\nAdd support to configure token caching in keystone[1] using\nmemcached, so that we can improve performance about token\nvalidation.\n\n[1] https://docs.openstack.org/keystone/latest/admin/configuration.html#caching-layer\n\nChange-Id: I351eb64ff1df652b0a284d8cd3d835cec58a310f\n'}, {'number': 6, 'created': '2019-09-19 14:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5b113486df803d1d44d5a31bf8479f668faf96d1', 'message': 'Add support to configure token caching in keystone\n\nAdd support to configure token caching in keystone[1] using\nmemcached, so that we can improve performance about token\nvalidation.\n\n[1] https://docs.openstack.org/keystone/latest/admin/configuration.html#caching-layer\n\nChange-Id: I351eb64ff1df652b0a284d8cd3d835cec58a310f\n'}, {'number': 7, 'created': '2019-09-21 00:25:32.000000000', 'files': ['releasenotes/notes/keystone-token-caching-9b65cb169fe65f01.yaml', 'manifests/profile/base/keystone.pp', 'spec/classes/tripleo_profile_base_keystone_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/469d432195d1f5b5e15ce72ce1624d4ed4447e4e', 'message': 'Add support to configure token caching in keystone\n\nAdd support to configure token caching in keystone[1] using\nmemcached, so that we can improve performance about token\nvalidation.\n\n[1] https://docs.openstack.org/keystone/latest/admin/configuration.html#caching-layer\n\nChange-Id: I351eb64ff1df652b0a284d8cd3d835cec58a310f\n'}]",5,683010,469d432195d1f5b5e15ce72ce1624d4ed4447e4e,65,7,7,9816,,,0,"Add support to configure token caching in keystone

Add support to configure token caching in keystone[1] using
memcached, so that we can improve performance about token
validation.

[1] https://docs.openstack.org/keystone/latest/admin/configuration.html#caching-layer

Change-Id: I351eb64ff1df652b0a284d8cd3d835cec58a310f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/10/683010/6 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/keystone.pp', 'spec/classes/tripleo_profile_base_keystone_spec.rb']",2,6383fac9532e16d3475c31100cfaf99816682510,token-cache," :memcached_ips => [ '192.168.0.3', '192.168.0.4', '192.168.0.5' ] :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0', :cache_enabled => false, :cache_memcached_servers => '192.168.0.3:11211,192.168.0.4:11211,192.168.0.5:11211', :cache_backend => 'keystone.cache.memcache_pool', :token_caching => false :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0', :cache_enabled => false, :cache_memcached_servers => '192.168.0.3:11211,192.168.0.4:11211,192.168.0.5:11211', :cache_backend => 'keystone.cache.memcache_pool', :token_caching => false :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0', :cache_enabled => false, :cache_memcached_servers => '192.168.0.3:11211,192.168.0.4:11211,192.168.0.5:11211', :cache_backend => 'keystone.cache.memcache_pool', :token_caching => false context 'with step 4 and token_caching eabled' do before do params.merge!( { :step => 4, :bootstrap_node => 'other.example.com', :enable_token_caching => false } ) end it 'should trigger token_caching configuration' do is_expected.to contain_class('keystone').with( :cache_enabled => true, :token_caching => true ) end end ", :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0' :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0' :notification_transport_url => 'rabbit://keystone2:baa@192.168.0.2:5678/?ssl=0',43,7
openstack%2Ftripleo-heat-templates~master~Ia944be7be58575b59d2ff3a46da059e34bc8d0c2,openstack/tripleo-heat-templates,master,Ia944be7be58575b59d2ff3a46da059e34bc8d0c2,Add NeutronSecurityGroupQuota to allow setting quota_security_group,MERGED,2020-02-26 16:53:28.000000000,2020-03-18 13:50:40.000000000,2020-03-18 13:50:39.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-26 16:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14d0f1baa58e470a4b3009d1cc6458a080a05ee4', 'message': 'Add NeutronSecurityGroupQuota to allow setting quota_security_group\n\nAs in related bug, we need to bump this to more than the default\n10.\n\nChange-Id: Ia944be7be58575b59d2ff3a46da059e34bc8d0c2\nRelated-Bug: 1864646\n'}, {'number': 2, 'created': '2020-02-26 16:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/785ce0b672d2c33405c7b20fa07418a46bc3dc81', 'message': 'Add NeutronSecurityGroupQuota to allow setting quota_security_group\n\nAs in related bug, we need to bump this to more than the default\n10.\n\nChange-Id: Ia944be7be58575b59d2ff3a46da059e34bc8d0c2\nRelated-Bug: 1864646\n'}, {'number': 3, 'created': '2020-02-27 09:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38c52ce5795180ddba20aa7e58c9755a70f9da10', 'message': 'Add NeutronSecurityGroupQuota to allow setting quota_security_group\n\nAs in related bug, we need to bump this to more than the default\n10. Also adds an environment file into ci/environments for use\nby the relevant jobs.\n\nChange-Id: Ia944be7be58575b59d2ff3a46da059e34bc8d0c2\nRelated-Bug: 1864646\n'}, {'number': 4, 'created': '2020-03-18 02:26:51.000000000', 'files': ['ci/environments/neutron_sec_group_quota.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7566ecc77d03fc268deb63eff277bbf2f436607', 'message': 'Add NeutronSecurityGroupQuota to allow setting quota_security_group\n\nAs in related bug, we need to bump this to more than the default\n10. Also adds an environment file into ci/environments for use\nby the relevant jobs.\n\nChange-Id: Ia944be7be58575b59d2ff3a46da059e34bc8d0c2\nRelated-Bug: 1864646\n'}]",6,710083,a7566ecc77d03fc268deb63eff277bbf2f436607,32,9,4,8449,,,0,"Add NeutronSecurityGroupQuota to allow setting quota_security_group

As in related bug, we need to bump this to more than the default
10. Also adds an environment file into ci/environments for use
by the relevant jobs.

Change-Id: Ia944be7be58575b59d2ff3a46da059e34bc8d0c2
Related-Bug: 1864646
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/710083/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,14d0f1baa58e470a4b3009d1cc6458a080a05ee4,Ia944be7be58575b59d2ff3a46da059e34bc8d0c2," NeutronSecurityGroupsQuota: default: '10' type: string description: Number of security groups allowed per tenant, and minus means unlimited neutron::quota::quota_security_group: {get_param: NeutronSecurityGroupQuota}",,5,0
openstack%2Ftripleo-ci~master~Ibe5ff806539479fb94d4a61aff9ac06a883a6895,openstack/tripleo-ci,master,Ibe5ff806539479fb94d4a61aff9ac06a883a6895,add backup tempest cirros url,MERGED,2020-03-17 18:19:03.000000000,2020-03-18 13:48:14.000000000,2020-03-18 13:48:14.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 18:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/14eb473f2ec91da1e71a9f4fbd0265bcbff7fb34', 'message': 'add backup tempest cirros url\n\nThe url download.cirros-cloud.net is blocked\nfrom rdo nodes.  Create a backup of the image\non images.rdoproject.org\n\nChange-Id: Ibe5ff806539479fb94d4a61aff9ac06a883a6895\n'}, {'number': 2, 'created': '2020-03-18 05:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2475cfde1e7991d076b2d33ecde8d823c13b1d6b', 'message': 'add backup tempest cirros url\n\nThe url download.cirros-cloud.net is blocked\nfrom rdo nodes.  Create a backup of the image\non images.rdoproject.org\n\nChange-Id: Ibe5ff806539479fb94d4a61aff9ac06a883a6895\n'}, {'number': 3, 'created': '2020-03-18 07:50:19.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/ovb.yml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/57392c51a7091c63a3b1e9f722a52b3ef00be2b8', 'message': 'add backup tempest cirros url\n\nThe url download.cirros-cloud.net is blocked\nfrom rdo nodes.  Create a backup of the image\non images.rdoproject.org\n\nRelated-Bug: 1867807\nChange-Id: Ibe5ff806539479fb94d4a61aff9ac06a883a6895\n'}]",1,713505,57392c51a7091c63a3b1e9f722a52b3ef00be2b8,18,6,3,9592,,,0,"add backup tempest cirros url

The url download.cirros-cloud.net is blocked
from rdo nodes.  Create a backup of the image
on images.rdoproject.org

Related-Bug: 1867807
Change-Id: Ibe5ff806539479fb94d4a61aff9ac06a883a6895
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/05/713505/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/ovb-rdocloud.yml'],1,14eb473f2ec91da1e71a9f4fbd0265bcbff7fb34,,tempest_tempest_conf_overrides: image.image_path: http://images.rdoproject.org/cirros/cirros-0.4.0-x86_64-disk.img,,2,0
openstack%2Fkolla~stable%2Fstein~I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,openstack/kolla,stable/stein,I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,CI: Install tox,MERGED,2020-03-18 10:32:46.000000000,2020-03-18 13:44:40.000000000,2020-03-18 13:42:42.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-03-18 10:32:46.000000000', 'files': ['tests/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c61b5082f02d7027233197855b343b8cc3ba9bd', 'message': 'CI: Install tox\n\ntox will be removed from the base image. Install it before that happens.\n\nThis change is made in a simple way that can be easily backported.\n\nChange-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211\n(cherry picked from commit a81413fc52b0eaf1eefc3302ba425ac9b93d5a4d)\n'}]",0,713618,6c61b5082f02d7027233197855b343b8cc3ba9bd,8,3,1,14826,,,0,"CI: Install tox

tox will be removed from the base image. Install it before that happens.

This change is made in a simple way that can be easily backported.

Change-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211
(cherry picked from commit a81413fc52b0eaf1eefc3302ba425ac9b93d5a4d)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/18/713618/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/pre.yml'],1,6c61b5082f02d7027233197855b343b8cc3ba9bd,, - name: Ensure tox is installed pip: name: tox become: true,,5,0
openstack%2Fkolla~master~I976d60e5f2bf3e8a55b90485a77584d9e7579d62,openstack/kolla,master,I976d60e5f2bf3e8a55b90485a77584d9e7579d62,neutron: Remove networking-ovn - part 2,MERGED,2020-03-17 12:18:08.000000000,2020-03-18 13:44:40.000000000,2020-03-18 13:42:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 12:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/13ef5b6b9b389e89f3d937c511ad29b259c86759', 'message': 'Remove networking-ovn - part 2\n\nA followup to change [1].\nRemove networking-ovn sources from kolla/common/config.py and\nneutron-db-manage call in neutron-server/extend_start.sh\n\nChange-Id: I976d60e5f2bf3e8a55b90485a77584d9e7579d62\n'}, {'number': 2, 'created': '2020-03-18 07:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8a6afbb41fa7e6b3d1bdfc07f437010e5f3f3364', 'message': 'neutron: Remove networking-ovn - part 2\n\nA followup to change [1].\nRemove networking-ovn sources from kolla/common/config.py and\nneutron-db-manage call in neutron-server/extend_start.sh\n\n[1]: https://review.opendev.org/712762/\n\nChange-Id: I976d60e5f2bf3e8a55b90485a77584d9e7579d62\n'}, {'number': 3, 'created': '2020-03-18 08:31:31.000000000', 'files': ['kolla/common/config.py', 'docker/neutron/neutron-server/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/aec0b95fa72689404cc15bd7a3e890d42b394dcd', 'message': 'neutron: Remove networking-ovn - part 2\n\nA followup to change [1].\nRemove networking-ovn sources from kolla/common/config.py and\nneutron-db-manage call in neutron-server/extend_start.sh\n\n[1]: https://review.opendev.org/712762/\n\nChange-Id: I976d60e5f2bf3e8a55b90485a77584d9e7579d62\n'}]",0,713422,aec0b95fa72689404cc15bd7a3e890d42b394dcd,21,5,3,22629,,,0,"neutron: Remove networking-ovn - part 2

A followup to change [1].
Remove networking-ovn sources from kolla/common/config.py and
neutron-db-manage call in neutron-server/extend_start.sh

[1]: https://review.opendev.org/712762/

Change-Id: I976d60e5f2bf3e8a55b90485a77584d9e7579d62
",git fetch https://review.opendev.org/openstack/kolla refs/changes/22/713422/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/common/config.py', 'docker/neutron/neutron-server/extend_start.sh']",2,13ef5b6b9b389e89f3d937c511ad29b259c86759,,, neutron-db-manage ${OPTS} --subproject networking-ovn upgrade head,0,13
openstack%2Fkolla~stable%2Frocky~I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,openstack/kolla,stable/rocky,I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,CI: Install tox,MERGED,2020-03-18 10:35:04.000000000,2020-03-18 13:42:43.000000000,2020-03-18 13:42:43.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-03-18 10:35:04.000000000', 'files': ['tests/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/21d2abd5641e40a9c688127780d2c629ea15db88', 'message': 'CI: Install tox\n\ntox will be removed from the base image. Install it before that happens.\n\nThis change is made in a simple way that can be easily backported.\n\nChange-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211\n(cherry picked from commit a81413fc52b0eaf1eefc3302ba425ac9b93d5a4d)\n'}]",0,713620,21d2abd5641e40a9c688127780d2c629ea15db88,7,3,1,14826,,,0,"CI: Install tox

tox will be removed from the base image. Install it before that happens.

This change is made in a simple way that can be easily backported.

Change-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211
(cherry picked from commit a81413fc52b0eaf1eefc3302ba425ac9b93d5a4d)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/20/713620/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/pre.yml'],1,21d2abd5641e40a9c688127780d2c629ea15db88,, - name: Ensure tox is installed pip: name: tox,,4,0
openstack%2Fopenstack-ansible-repo_build~stable%2Fstein~Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,openstack/openstack-ansible-repo_build,stable/stein,Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,repo_build: update tests to opendev.org,MERGED,2020-03-18 10:00:01.000000000,2020-03-18 13:31:45.000000000,2020-03-18 13:30:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-18 10:00:01.000000000', 'files': ['tests/test-install-server.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/bd92a6b78fc4f42c27c9393ff476654eaa31e689', 'message': 'repo_build: update tests to opendev.org\n\nChange-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce\n(cherry picked from commit fd4b607820d75e439fcf0fc68e370d13b0493752)\n'}]",0,713606,bd92a6b78fc4f42c27c9393ff476654eaa31e689,7,2,1,25600,,,0,"repo_build: update tests to opendev.org

Change-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
(cherry picked from commit fd4b607820d75e439fcf0fc68e370d13b0493752)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/06/713606/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-install-server.yml'],1,bd92a6b78fc4f42c27c9393ff476654eaa31e689,," path: ""/opt/git/opendev.org/openstack"" src: ""/opt/git/opendev.org/openstack/keystone/"" repo: ""https://opendev.org/openstack/keystone"" repo: ""https://opendev.org/openstack/tempest"""," path: ""/opt/git/openstack"" src: ""/opt/git/openstack/keystone/"" repo: ""https://git.openstack.org/openstack/keystone"" repo: ""https://git.openstack.org/openstack/tempest""",4,5
openstack%2Fkuryr-kubernetes~master~I9112365585466a126e2653f25aea71ff473c86b8,openstack/kuryr-kubernetes,master,I9112365585466a126e2653f25aea71ff473c86b8,Autogenerate path for vhostuserclient socket,MERGED,2020-03-05 14:06:07.000000000,2020-03-18 13:23:07.000000000,2020-03-18 13:20:20.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 25900}, {'_account_id': 27032}, {'_account_id': 31502}]","[{'number': 1, 'created': '2020-03-05 14:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/77799e8d30d50d98f2a7799287623f317bbc0638', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 2, 'created': '2020-03-06 10:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/79d8d30dbba293c6e813262c4338351dfcc87672', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 3, 'created': '2020-03-06 10:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d28da1fb6fe3e65d5e22fd7a27d36e242edd394d', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 4, 'created': '2020-03-06 14:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/95ac133155b2e16ec09b61f2f274ba91b8e1cd7d', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 5, 'created': '2020-03-06 16:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7e88394cd8288eddbec6a0dbe837e1a9e64dae78', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 6, 'created': '2020-03-06 17:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b365a35ad5792a8612df85a4a78d2b0f86722577', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 7, 'created': '2020-03-10 09:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/766f5a62909b666d183166d387032cea960d493a', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 8, 'created': '2020-03-10 11:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/603de2421140451b4362d021927de5109ff7a64a', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 9, 'created': '2020-03-10 15:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2b893ad980a69aebe2a8f5ec34e3bda552a85bae', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 10, 'created': '2020-03-11 07:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e8c4e9c007c85be5cec4d942cac5cca178a058fa', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 11, 'created': '2020-03-11 13:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1d4a1e0cec5fc58048f2a2f93d3584153562bbe6', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 12, 'created': '2020-03-13 15:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3029393058b2151f156202ec6d6a2a57a9f80518', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 13, 'created': '2020-03-16 10:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/245fc0fbcfbafb5cb36abc11a031e2a9e09355b3', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 14, 'created': '2020-03-16 11:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/67ae7fd322877b405ae02889d49ae4baf568e07f', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 15, 'created': '2020-03-16 11:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/270440b094df78a6ef473d0275ec1b5b0f95ab30', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 16, 'created': '2020-03-16 11:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6e5ff44db12f35d61839d0f64768b81c31efe2b5', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 17, 'created': '2020-03-16 13:38:49.000000000', 'files': ['kuryr_kubernetes/tests/unit/test_os_vif_util.py', 'kuryr_kubernetes/os_vif_util.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/172b2562bb8d02dd23430e668780fa62df5438fc', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}]",2,711464,172b2562bb8d02dd23430e668780fa62df5438fc,49,7,17,31502,,,0,"Autogenerate path for vhostuserclient socket

Before this patch path to a vhostuserclient socket was hardcodeed in a
kuryr-kubernetes config file. So every new created port was using the
same path. That leaded to a socket-file conflict when more than one
container was intended to use a DPDK-enabled port.

This patch automatically concatenates portname to a socket directory
path, so every port gets a unique vhost-server-path like
""/var/run/vhostuser/vhua5a8d6c0-41""

Change-Id: I9112365585466a126e2653f25aea71ff473c86b8
Signed-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/64/711464/17 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/test_os_vif_util.py', 'kuryr_kubernetes/os_vif_util.py']",2,77799e8d30d50d98f2a7799287623f317bbc0638,dpdk-bm," vif_name = _get_vhu_vif_name(neutron_port['id']) path=vhostuser_mount_point + '/' + vif_name, vif_name=vif_name,"," path=vhostuser_mount_point, vif_name=_get_vhu_vif_name(neutron_port['id']),",4,3
openstack%2Fneutron~master~Ic6c4bb6c584682169f3ebd73105a847b05dddc76,openstack/neutron,master,Ic6c4bb6c584682169f3ebd73105a847b05dddc76,[OVN] Add support for external ports,MERGED,2020-01-20 11:50:32.000000000,2020-03-18 13:13:35.000000000,2020-03-18 13:10:09.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-20 11:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe24e82fb1456a103e4264ab283ea090278be6e1', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-01-24 14:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39a47d346231f70d08b14c0dbc67ea25760ddce0', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-01-26 20:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e779061a7a27e51384bc56357999ae2dbac7ad8b', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-01-29 23:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0507864f60853add4f82a3dc1722bd1fe50a109', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-01-31 09:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ace57134b6bbc8c20ee7b1e7a769933f7065d3f', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2020-02-21 09:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47f1389d6916462edf8fae36a5cd8bb372fbde3a', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2020-02-24 10:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe69cb79a2e2c9d9032fce662a21c6a58b1f0cde', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2020-02-24 10:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad7167da339d90e737147c0d0204757a3147642e', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2020-02-26 14:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7bec7a415d45ddb18d93317647d69461ae37c412', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2020-02-27 13:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46116462c60b9d9abadfb01c158e9a2132da3f32', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 11, 'created': '2020-02-27 16:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b897ddc4f34c089ebfac58525149892109b207e', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 12, 'created': '2020-03-02 14:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2ca7c459f8bbabdebcc5a5a41064d658dbd0b2c', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 13, 'created': '2020-03-03 11:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ddc0675b564dcdb7d4a34097dbe91b3ee681d58e', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 14, 'created': '2020-03-03 14:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2120a409faf116d1266bdbda11b1c3ca97900c37', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 15, 'created': '2020-03-09 16:08:00.000000000', 'files': ['releasenotes/notes/external-ports-03050eda7ffe13d5.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4824a714bfe36fb95e0881d61d8ae56e3422ddc1', 'message': '[OVN] Add support for external ports\n\nThis patch is adding support for a new port type called ""external"" in\ncore OVN.\n\nPrior to this work, when a VM had a SR-IOV port attached to it, OVN itself\nwasn\'t able to reply to things such as DHCP requests packets since the\nOVS port was skipped. Core OVN then introduced the concept of ""external""\nports which are ports deployed on a different node than the one that the\nVM is running and is able to reply to such requests on behalf of the VM.\n\nWith this patch, when a port with the VNIC type ""direct"" and no\n""switchdev"" capability is created, ovn driver will then create a\nlogical port with the type ""external"" for it and add it to a default\nHA Chassis Group. The port will then get bound to the ""master"" (higher\npriority) chassis of that group.\n\nPlease note that, as a first step, this patch is creating only one HA\nChassis Group which *all* external ports will belong to. That means that\nall external ports will be *scheduled onto the same node* (but it\'s\nHA nevertheless). In the future we should enhance this behavior.\n\nChange-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76\nCloses-Bug: #1841154\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",30,703376,4824a714bfe36fb95e0881d61d8ae56e3422ddc1,92,12,15,6773,,,0,"[OVN] Add support for external ports

This patch is adding support for a new port type called ""external"" in
core OVN.

Prior to this work, when a VM had a SR-IOV port attached to it, OVN itself
wasn't able to reply to things such as DHCP requests packets since the
OVS port was skipped. Core OVN then introduced the concept of ""external""
ports which are ports deployed on a different node than the one that the
VM is running and is able to reply to such requests on behalf of the VM.

With this patch, when a port with the VNIC type ""direct"" and no
""switchdev"" capability is created, ovn driver will then create a
logical port with the type ""external"" for it and add it to a default
HA Chassis Group. The port will then get bound to the ""master"" (higher
priority) chassis of that group.

Please note that, as a first step, this patch is creating only one HA
Chassis Group which *all* external ports will belong to. That means that
all external ports will be *scheduled onto the same node* (but it's
HA nevertheless). In the future we should enhance this behavior.

Change-Id: Ic6c4bb6c584682169f3ebd73105a847b05dddc76
Closes-Bug: #1841154
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/703376/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",10,fe24e82fb1456a103e4264ab283ea090278be6e1,bug/1841154-external-ports," self._sb_idl = self._ovn_client._sb_idl # A static spacing value is used here, but this method will only run # once per lock due to the use of periodics.NeverAgain(). @periodics.periodic(spacing=600, run_immediately=True) def check_for_ha_chassis_group_address(self): # If external ports is not supported stop running # this periodic task if not self._ovn_client.is_external_ports_supported(): raise periodics.NeverAgain() if not self.has_lock: return default_ch_grp = self._nb_idl.ha_chassis_group_add( ovn_const.HA_CHASSIS_GROUP_DEFAULT_NAME, may_exist=True).execute( check_error=True) # NOTE(lucasagomes): Find the existing chassis with the highest # priority and keep it as being the highest to avoid moving # things around high_prio_ch = max(default_ch_grp.ha_chassis, default=None, key=lambda x: x.priority) all_ch = self._sb_idl.get_all_chassis() gw_ch = self._sb_idl.get_gateway_chassis_from_cms_options() ch_to_del = set(all_ch) - set(gw_ch) with self._nb_idl.transaction(check_error=True) as txn: for ch in ch_to_del: txn.add(self._nb_idl.ha_chassis_group_del_chassis( ovn_const.HA_CHASSIS_GROUP_DEFAULT_NAME, ch, if_exists=True)) # NOTE(lucasagomes): If the high priority chassis is in # the list of chassis to be added/updated. Add it first with # the highest priority number possible and then add the rest # (the priority of the rest of the chassis does not matter # since only the highest one is active) priority = ovn_const.HA_CHASSIS_GROUP_HIGHEST_PRIORITY if high_prio_ch and high_prio_ch.chassis_name in gw_ch: txn.add(self._nb_idl.ha_chassis_group_add_chassis( ovn_const.HA_CHASSIS_GROUP_DEFAULT_NAME, high_prio_ch.chassis_name, priority=priority)) gw_ch.remove(high_prio_ch.chassis_name) priority -= 1 for ch in gw_ch: txn.add(self._nb_idl.ha_chassis_group_add_chassis( ovn_const.HA_CHASSIS_GROUP_DEFAULT_NAME, ch, priority=priority)) priority -= 1 raise periodics.NeverAgain() ",,366,13
openstack%2Fdevstack~master~Iab9b4862c01043d2c158398bac4b3b289a0adba0,openstack/devstack,master,Iab9b4862c01043d2c158398bac4b3b289a0adba0,Drop DEVSTACK_GATE_FEATURE_MATRIX,MERGED,2020-03-18 00:54:46.000000000,2020-03-18 13:12:31.000000000,2020-03-18 13:10:11.000000000,"[{'_account_id': 1004}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 00:54:46.000000000', 'files': ['playbooks/pre.yaml', 'doc/source/zuul_ci_jobs_migration.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5ae8a3504ce0619eda5fceaa638b01ba123e5e14', 'message': 'Drop DEVSTACK_GATE_FEATURE_MATRIX\n\nDEVSTACK_GATE_FEATURE_MATRIX seems to be an old legacy thing that\nis no longer being used.  It currently prevents using the jobs in\nopenstack/devstack without adding openstack/devstack-gate for the\nrole.\n\nChange-Id: Iab9b4862c01043d2c158398bac4b3b289a0adba0\n'}]",0,713560,5ae8a3504ce0619eda5fceaa638b01ba123e5e14,9,4,1,1004,,,0,"Drop DEVSTACK_GATE_FEATURE_MATRIX

DEVSTACK_GATE_FEATURE_MATRIX seems to be an old legacy thing that
is no longer being used.  It currently prevents using the jobs in
openstack/devstack without adding openstack/devstack-gate for the
role.

Change-Id: Iab9b4862c01043d2c158398bac4b3b289a0adba0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/60/713560/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/pre.yaml', 'doc/source/zuul_ci_jobs_migration.rst']",2,5ae8a3504ce0619eda5fceaa638b01ba123e5e14,remove-feature-matrix,," * - DEVSTACK_GATE_FEATURE_MATRIX - devstack-gate - ``test_matrix_features`` variable of the test-matrix role in devstack-gate. This is a temporary solution, feature matrix will go away. In the future services will be defined in jobs only.",0,7
openstack%2Fkolla~stable%2Ftrain~I955619d6992f8714ae753dc155e248d255340ecf,openstack/kolla,stable/train,I955619d6992f8714ae753dc155e248d255340ecf,"kibana, nova-libvirt: handle it properly for non-x86",MERGED,2020-03-17 17:12:06.000000000,2020-03-18 13:04:10.000000000,2020-03-18 13:02:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 17:12:06.000000000', 'files': ['docker/kibana/Dockerfile.j2', 'docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1817a09150111da4486dbe27af052c3ba8aa801c', 'message': ""kibana, nova-libvirt: handle it properly for non-x86\n\nmanual backport from master changes:\n\n- https://review.opendev.org/#/c/712987/\n- https://review.opendev.org/#/c/713403\n\nUpstream kibana package contains NodeJS x86-64 binaries so can not be\nused directly on non-x86 architectures. I took upstream packages,\nremoved NodeJS binary from it and added 'nodejs' dependency.\n\nPackage is present in my Linaro OBS repository where I keep other\npackages needed for aarch64 kolla run. Via APT pinning I mark them as\nnot wanted so they are not used on any architecture with two exceptions:\n\n1. libvirt - we need fixed version to be able to use ThunderX servers\n2. kibana - to be able to run it at all\n\nFor x86-64 upstream kibana package is used.\n\nCloses-bug: #1867365\n\nChange-Id: I955619d6992f8714ae753dc155e248d255340ecf\n""}]",0,713491,1817a09150111da4486dbe27af052c3ba8aa801c,11,4,1,24072,,,0,"kibana, nova-libvirt: handle it properly for non-x86

manual backport from master changes:

- https://review.opendev.org/#/c/712987/
- https://review.opendev.org/#/c/713403

Upstream kibana package contains NodeJS x86-64 binaries so can not be
used directly on non-x86 architectures. I took upstream packages,
removed NodeJS binary from it and added 'nodejs' dependency.

Package is present in my Linaro OBS repository where I keep other
packages needed for aarch64 kolla run. Via APT pinning I mark them as
not wanted so they are not used on any architecture with two exceptions:

1. libvirt - we need fixed version to be able to use ThunderX servers
2. kibana - to be able to run it at all

For x86-64 upstream kibana package is used.

Closes-bug: #1867365

Change-Id: I955619d6992f8714ae753dc155e248d255340ecf
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/713491/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/kibana/Dockerfile.j2', 'docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'docker/base/sources.list.debian']",4,1817a09150111da4486dbe27af052c3ba8aa801c,bug/1867365, # kibana for non-x86 and fixed libvirt for aarch64 deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz/debian-buster ./,,35,8
openstack%2Fpython-tripleoclient~master~I15ed3a4510dec3b1bb374a528b6a68c5b8969e80,openstack/python-tripleoclient,master,I15ed3a4510dec3b1bb374a528b6a68c5b8969e80,Remove mistral when running the update_plan workflow,ABANDONED,2020-03-05 23:21:13.000000000,2020-03-18 12:58:27.000000000,,"[{'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 23:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/03379e8eb05709aaa3c9cb4635a9b46163eedf49', 'message': 'Remove mistral when running the update_plan workflow\n\nThis change removes all of mistral from the update_plan workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38967\n\nChange-Id: I15ed3a4510dec3b1bb374a528b6a68c5b8969e80\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-03-06 23:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7212d9f6e8ba2c9e4d64a8661dcefa60b50e3058', 'message': 'Remove mistral when running the update_plan workflow\n\nThis change removes all of mistral from the update_plan workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38967\n\nChange-Id: I15ed3a4510dec3b1bb374a528b6a68c5b8969e80\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-03-11 15:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/13f11a19a4d2c47c79d9b6b8992525b0c6a8ac7c', 'message': 'Remove mistral when running the update_plan workflow\n\nThis change removes all of mistral from the update_plan workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38967\n\nChange-Id: I15ed3a4510dec3b1bb374a528b6a68c5b8969e80\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-03-13 11:08:19.000000000', 'files': ['tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/65d3ad864a557dcbf6c9611fb19ea738aefe5f47', 'message': 'Remove mistral when running the update_plan workflow\n\nThis change removes all of mistral from the update_plan workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38967\n\nChange-Id: I15ed3a4510dec3b1bb374a528b6a68c5b8969e80\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,711565,65d3ad864a557dcbf6c9611fb19ea738aefe5f47,14,3,4,7353,,,0,"Remove mistral when running the update_plan workflow

This change removes all of mistral from the update_plan workflow
by calling the required functions directly.

Story: 2007212
Task: 38967

Change-Id: I15ed3a4510dec3b1bb374a528b6a68c5b8969e80
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/65/711565/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/fakes.py']",3,03379e8eb05709aaa3c9cb4635a9b46163eedf49,mistral_to_ansible," self.update_env = mock.patch( 'tripleo_common.actions.templates.UploadPlanEnvironmentAction' '.run', autospec=True, return_value=None ) self.update_env.start() self.addCleanup(self.update_env.stop) ",,101,34
openstack%2Fpython-tripleoclient~master~Ic9642c3f75e911f89481e2af49c923c7807588cf,openstack/python-tripleoclient,master,Ic9642c3f75e911f89481e2af49c923c7807588cf,Remove the mistral from the create_plan workflow,ABANDONED,2020-03-05 23:21:13.000000000,2020-03-18 12:58:06.000000000,,"[{'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 23:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0b166528155bce025478662715f777a755380cc0', 'message': 'Remove the mistral from the create_plan workflow\n\nThis change removes all of mistral from the create_plan\nworkflow by calling the required functions directly.\n\nStory: 2007212\nTask: 38965\n\nChange-Id: Ic9642c3f75e911f89481e2af49c923c7807588cf\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-03-06 23:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1fef4cdd139de36b68d617d6246f7f7337fd997d', 'message': 'Remove the mistral from the create_plan workflow\n\nThis change removes all of mistral from the create_plan\nworkflow by calling the required functions directly.\n\nStory: 2007212\nTask: 38965\n\nChange-Id: Ic9642c3f75e911f89481e2af49c923c7807588cf\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-03-11 15:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d3e39e31833f5659e3ded0ccf294d87ba2a001d0', 'message': 'Remove the mistral from the create_plan workflow\n\nThis change removes all of mistral from the create_plan\nworkflow by calling the required functions directly.\n\nStory: 2007212\nTask: 38965\n\nChange-Id: Ic9642c3f75e911f89481e2af49c923c7807588cf\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-03-13 11:08:19.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/83584571d8cfb2cff8ab8c709b2ac45bd31dbded', 'message': 'Remove the mistral from the create_plan workflow\n\nThis change removes all of mistral from the create_plan\nworkflow by calling the required functions directly.\n\nStory: 2007212\nTask: 38965\n\nChange-Id: Ic9642c3f75e911f89481e2af49c923c7807588cf\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,711564,83584571d8cfb2cff8ab8c709b2ac45bd31dbded,14,3,4,7353,,,0,"Remove the mistral from the create_plan workflow

This change removes all of mistral from the create_plan
workflow by calling the required functions directly.

Story: 2007212
Task: 38965

Change-Id: Ic9642c3f75e911f89481e2af49c923c7807588cf
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/64/711564/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/fakes.py']",5,0b166528155bce025478662715f777a755380cc0,mistral_to_ansible," self.create_action = mock.patch( 'tripleo_common.actions.plan.CreateContainerAction.run', autospec=True, return_value=None ) self.create_action.start() self.addCleanup(self.create_action.stop) self.template_action = mock.patch( 'tripleo_common.actions.templates.UploadTemplatesAction.run', autospec=True, return_value=None ) self.template_action.start() self.addCleanup(self.template_action.stop) self.vcs_clone = mock.patch( 'tripleo_common.actions.vcs.GitCloneAction.run', autospec=True, return_value=None ) self.vcs_clone.start() self.addCleanup(self.vcs_clone.stop) self.vcs_clean = mock.patch( 'tripleo_common.actions.vcs.GitCleanupAction.run', autospec=True, return_value=None ) self.vcs_clean.start() self.addCleanup(self.vcs_clean.stop) self.gen_pws_run = mock.patch( 'tripleo_common.actions.parameters.GeneratePasswordsAction.run', autospec=True, return_value=dict() ) self.gen_pws_run.start() self.addCleanup(self.gen_pws_run.stop) self.container_image_env = mock.patch( 'tripleo_common.actions.container_images.PrepareContainerImageEnv' '.run', autospec=True, return_value=dict() ) self.container_image_env.start() self.addCleanup(self.container_image_env.stop) ",,171,266
openstack%2Ftripleo-heat-templates~master~Ica6e3b873466852a37e4f4fa135969881f37dba8,openstack/tripleo-heat-templates,master,Ica6e3b873466852a37e4f4fa135969881f37dba8,Add OS::TripleO::Services::Podman to sc 1 and sc 7,MERGED,2020-03-17 10:20:51.000000000,2020-03-18 12:56:35.000000000,2020-03-18 12:56:35.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-03-17 10:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cbd3918fe773af4ec8220c59d24ce83443168b1', 'message': '[DNM] add podman service\n\nChange-Id: Ica6e3b873466852a37e4f4fa135969881f37dba8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-03-17 13:13:45.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario007-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4178d7afcbe11adb2d6f83ed88b039007f256fb8', 'message': 'Add OS::TripleO::Services::Podman to sc 1 and sc 7\n\nOS::TripleO::Services::Podman is needed for scenario 1 and 7\nmultinode deployment to set podman related vars during overcloud\ndeployment.\n\nCloses-Bug: #1867599\n\nChange-Id: Ica6e3b873466852a37e4f4fa135969881f37dba8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",2,713397,4178d7afcbe11adb2d6f83ed88b039007f256fb8,14,8,2,12393,,,0,"Add OS::TripleO::Services::Podman to sc 1 and sc 7

OS::TripleO::Services::Podman is needed for scenario 1 and 7
multinode deployment to set podman related vars during overcloud
deployment.

Closes-Bug: #1867599

Change-Id: Ica6e3b873466852a37e4f4fa135969881f37dba8
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/713397/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario007-multinode-containers.yaml']",2,8cbd3918fe773af4ec8220c59d24ce83443168b1,c8-podman, - OS::TripleO::Services::Podman,,2,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I4c7d378936257c91428682ad25599203d8fd3503,openstack/tripleo-upgrade,stable/train,I4c7d378936257c91428682ad25599203d8fd3503,Run ceph-ansible installation as super user.,MERGED,2020-03-17 16:05:58.000000000,2020-03-18 12:56:34.000000000,2020-03-18 12:56:34.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8532}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-03-17 16:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ff5786ef61940ff4a7f016cf46e1dc5f66012256', 'message': 'Run ceph-ansible installation as super user.\n\nThe newly added task included in [0] requires root rights\nto be able to install the ceph-ansible in the Undercloud.\n\n[0]- I205425f31412c856e754539f67b039215a3b2189\nChange-Id: I4c7d378936257c91428682ad25599203d8fd3503\n'}, {'number': 2, 'created': '2020-03-17 17:04:30.000000000', 'files': ['tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/20ed38942f4cc458c79aae7791ff8b6b3db33895', 'message': 'Run ceph-ansible installation as super user.\n\nThe newly added task included in [0] requires root rights\nto be able to install the ceph-ansible in the Undercloud.\n\n[0]- I205425f31412c856e754539f67b039215a3b2189\nChange-Id: I4c7d378936257c91428682ad25599203d8fd3503\n(cherry picked from commit b6c158e47d3db9e5d069c4570fda0e00f8a13c77)\n'}]",0,713476,20ed38942f4cc458c79aae7791ff8b6b3db33895,9,12,2,11090,,,0,"Run ceph-ansible installation as super user.

The newly added task included in [0] requires root rights
to be able to install the ceph-ansible in the Undercloud.

[0]- I205425f31412c856e754539f67b039215a3b2189
Change-Id: I4c7d378936257c91428682ad25599203d8fd3503
(cherry picked from commit b6c158e47d3db9e5d069c4570fda0e00f8a13c77)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/76/713476/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/overcloud_upgrade_prepare.yml'],1,ff5786ef61940ff4a7f016cf46e1dc5f66012256,ffwd-upgrade2-stable/train, become: true become_user: root,,2,0
openstack%2Fkolla~master~I4e003c9aa32579d467c489a53741e20ced2f4b52,openstack/kolla,master,I4e003c9aa32579d467c489a53741e20ced2f4b52,Fix Horizon build after switch to pyscss2 which lacks binary wheel,MERGED,2020-03-18 08:16:48.000000000,2020-03-18 12:52:09.000000000,2020-03-18 12:50:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-18 08:16:48.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3e4f3b18dd34543c9bc00a3e07a02a565c8ea536', 'message': 'Fix Horizon build after switch to pyscss2 which lacks binary wheel\n\nIt now requires pcre-dev package to finish building.\n\nChange-Id: I4e003c9aa32579d467c489a53741e20ced2f4b52\nCloses-bug: #1867888\n'}]",0,713589,3e4f3b18dd34543c9bc00a3e07a02a565c8ea536,14,6,1,30491,,,0,"Fix Horizon build after switch to pyscss2 which lacks binary wheel

It now requires pcre-dev package to finish building.

Change-Id: I4e003c9aa32579d467c489a53741e20ced2f4b52
Closes-bug: #1867888
",git fetch https://review.opendev.org/openstack/kolla refs/changes/89/713589/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,3e4f3b18dd34543c9bc00a3e07a02a565c8ea536,bug/1867888," 'pcre-devel', 'libpcre3-dev',",,2,0
openstack%2Fironic~master~Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3,openstack/ironic,master,Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3,Documentation clarifications for software RAID,MERGED,2020-03-17 11:16:48.000000000,2020-03-18 12:46:18.000000000,2020-03-18 12:40:37.000000000,"[{'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 11:16:48.000000000', 'files': ['doc/source/admin/raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9fd0aa859cd5289822d291dfe405402273f480d3', 'message': 'Documentation clarifications for software RAID\n\nThis change clarifies which options are supported for software RAID\nand what the defaults are.\n\nChange-Id: Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3\n'}]",0,713404,9fd0aa859cd5289822d291dfe405402273f480d3,10,4,1,10239,,,0,"Documentation clarifications for software RAID

This change clarifies which options are supported for software RAID
and what the defaults are.

Change-Id: Ib93d0f564b7ee51ee9beb7f6143635c240f4baf3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/713404/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/raid.rst'],1,9fd0aa859cd5289822d291dfe405402273f480d3,docs-sw-raid,"specification of any logical disk. None of these options are supported for software RAID.details for each bare metal node. None of these options are supported for software RAID. ``false``, except for software RAID which always shares disks. particular RAID level, except for software RAID which always spans all disks. RAID interface. Not supported for software RAID.",specification of any logical disk.details for each bare metal node. ``false``. particular RAID level. RAID interface.,7,5
openstack%2Fbifrost~master~I5babac268ab194df0634c396d9c07f90231d5bcb,openstack/bifrost,master,I5babac268ab194df0634c396d9c07f90231d5bcb,DNM: Testing pip > 19 on CentOS 8,ABANDONED,2020-03-18 10:58:37.000000000,2020-03-18 12:45:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-18 10:58:37.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f56289c35c73f2f06d8b6758a3e18c4164f82148', 'message': 'DNM: Testing pip > 19 on CentOS 8\n\nChange-Id: I5babac268ab194df0634c396d9c07f90231d5bcb\n'}]",0,713626,f56289c35c73f2f06d8b6758a3e18c4164f82148,3,1,1,14826,,,0,"DNM: Testing pip > 19 on CentOS 8

Change-Id: I5babac268ab194df0634c396d9c07f90231d5bcb
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/26/713626/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,f56289c35c73f2f06d8b6758a3e18c4164f82148,,"sudo -H -E $PYTHON -m pip install -U pip export PIP_OPTS=""--upgrade-strategy only-if-needed""","# workaround for PEP517 issue PYTHON_VER=$($PYTHON -V) if [[ $PYTHON_VER == ""Python 3.6.8"" ]]; then sudo -H -E $PYTHON -m pip install pip==19.0 --ignore-installed export PIP_OPTS="""" else sudo -H -E $PYTHON -m pip install -U pip --ignore-installed export PIP_OPTS=""--upgrade-strategy only-if-needed"" fi",2,9
openstack%2Frpm-packaging~master~Ia1ba773695d5530df4931b67bdb58393fce6e87f,openstack/rpm-packaging,master,Ia1ba773695d5530df4931b67bdb58393fce6e87f,Remvoe the removal of ironic-lib.filters,MERGED,2020-03-18 09:59:55.000000000,2020-03-18 12:37:02.000000000,2020-03-18 12:37:02.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-18 09:59:55.000000000', 'files': ['openstack/ironic/ironic.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/09b877e5f3ce44abe83aeb038d37a0403032739a', 'message': ""Remvoe the removal of ironic-lib.filters\n\nThe ironic-lib.filters file has been removed from ironic, so we\ndon't need to remove it here.\n\nChange-Id: Ia1ba773695d5530df4931b67bdb58393fce6e87f\n""}]",1,713605,09b877e5f3ce44abe83aeb038d37a0403032739a,9,5,1,23851,,,0,"Remvoe the removal of ironic-lib.filters

The ironic-lib.filters file has been removed from ironic, so we
don't need to remove it here.

Change-Id: Ia1ba773695d5530df4931b67bdb58393fce6e87f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/05/713605/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ironic/ironic.spec.j2'],1,09b877e5f3ce44abe83aeb038d37a0403032739a,no-filters,,# drop ironic-lib.filters which is in the ironic-lib package (see https://review.opendev.org/684270) rm %{buildroot}%{_sysconfdir}/ironic/rootwrap.d/ironic-lib.filters ,0,3
openstack%2Frpm-packaging~stable%2Ftrain~Ic4999bf3d8b255bb37811e441fe282da1c96b8ba,openstack/rpm-packaging,stable/train,Ic4999bf3d8b255bb37811e441fe282da1c96b8ba,oslo.utils: remove reflection tests that are failing with python 3.8,MERGED,2020-03-18 09:49:24.000000000,2020-03-18 12:30:02.000000000,2020-03-18 12:30:02.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-18 09:49:24.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7e7ae3f7ef0c82a933b024dee697a581d449ccf4', 'message': 'oslo.utils: remove reflection tests that are failing with python 3.8\n\noslo.utils is currently still not reporting green against python 3.8\nupstream.\n\nChange-Id: Ic4999bf3d8b255bb37811e441fe282da1c96b8ba\n(cherry picked from commit b3ad5682bb01498dc5ff3d4e4e4fd0069cbfd5c3)\n'}]",0,713603,7e7ae3f7ef0c82a933b024dee697a581d449ccf4,9,5,1,6593,,,0,"oslo.utils: remove reflection tests that are failing with python 3.8

oslo.utils is currently still not reporting green against python 3.8
upstream.

Change-Id: Ic4999bf3d8b255bb37811e441fe282da1c96b8ba
(cherry picked from commit b3ad5682bb01498dc5ff3d4e4e4fd0069cbfd5c3)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/03/713603/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,7e7ae3f7ef0c82a933b024dee697a581d449ccf4,,# tests fail with python 3.8 rm -v oslo_utils/tests/test_reflection.py,,2,0
openstack%2Fpython-tripleoclient~master~I1fbe7deaa0eb0106d2e81fa9734088fccf2a3b81,openstack/python-tripleoclient,master,I1fbe7deaa0eb0106d2e81fa9734088fccf2a3b81,Pass container_config to get_config(),MERGED,2020-03-17 16:47:05.000000000,2020-03-18 12:26:29.000000000,2020-03-18 12:24:24.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-17 16:47:05.000000000', 'files': ['tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/520ae1d28e2c76920ab59faaa0ca3a0b9accf5fe', 'message': 'Pass container_config to get_config()\n\nChange-Id: I1fbe7deaa0eb0106d2e81fa9734088fccf2a3b81\nCloses-Bug: #1867798\n'}]",0,713483,520ae1d28e2c76920ab59faaa0ca3a0b9accf5fe,13,5,1,8833,,,0,"Pass container_config to get_config()

Change-Id: I1fbe7deaa0eb0106d2e81fa9734088fccf2a3b81
Closes-Bug: #1867798
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/713483/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py']",5,520ae1d28e2c76920ab59faaa0ca3a0b9accf5fe,mistral_to_ansible," oooutils.get_config( clients, container=stack_name, container_config='{}-config'.format(stack.stack_name))"," oooutils.get_config(clients, container=stack_name)",18,8
openstack%2Fironic~master~I4996961b86be5ccc27b6c1066c1560564fe5cd41,openstack/ironic,master,I4996961b86be5ccc27b6c1066c1560564fe5cd41,Remove compatibility with pre-deploy steps drivers,MERGED,2020-03-09 13:29:27.000000000,2020-03-18 12:24:30.000000000,2020-03-17 18:33:27.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-09 13:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5210934ddf9e4f09734c2c84e97b260edb8e9592', 'message': 'Remove compatibility with pre-deploy steps drivers\n\nIt was supposed to be removed in Stein, so should be fine to do now.\n\nChange-Id: I4996961b86be5ccc27b6c1066c1560564fe5cd41\nStory: #2006963\n'}, {'number': 2, 'created': '2020-03-09 14:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/073a14f091f655dfdd123d89634608602b4445db', 'message': 'Remove compatibility with pre-deploy steps drivers\n\nIt was supposed to be removed in Stein, so should be fine to do now.\n\nChange-Id: I4996961b86be5ccc27b6c1066c1560564fe5cd41\nStory: #2006963\n'}, {'number': 3, 'created': '2020-03-12 11:25:38.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_agent_base.py', 'ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/drivers/modules/ansible/deploy.py', 'releasenotes/notes/deploy-steps-required-aa72cdf1c0ec0e84.yaml', 'ironic/tests/unit/conductor/test_deployments.py', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/529c3ff06693d0a1aa13081acff92010fe855c50', 'message': 'Remove compatibility with pre-deploy steps drivers\n\nIt was supposed to be removed in Stein, so should be fine to do now.\n\nChange-Id: I4996961b86be5ccc27b6c1066c1560564fe5cd41\nStory: #2006963\n'}]",2,711918,529c3ff06693d0a1aa13081acff92010fe855c50,27,7,3,10239,,,0,"Remove compatibility with pre-deploy steps drivers

It was supposed to be removed in Stein, so should be fine to do now.

Change-Id: I4996961b86be5ccc27b6c1066c1560564fe5cd41
Story: #2006963
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/711918/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/deploy-steps-required-aa72cdf1c0ec0e84.yaml', 'ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py']",4,5210934ddf9e4f09734c2c84e97b260edb8e9592,story/2006963," do_next_deploy_step(task, 0, conductor_id)","from oslo_utils import versionutilsfrom ironic.common import release_mappings as versions# NOTE(rloo) This is used to keep track of deprecation warnings that have # already been issued for deploy drivers that do not use deploy steps. _SEEN_NO_DEPLOY_STEP_DEPRECATIONS = set() steps = node.driver_internal_info.get('deploy_steps', []) new_rpc_version = True release_ver = versions.RELEASE_MAPPING.get(CONF.pin_release_version) if release_ver: new_rpc_version = versionutils.is_compatible('1.45', release_ver['rpc']) if not steps or not new_rpc_version: # TODO(rloo): This if.. (and the above code wrt rpc version) # can be deleted after the deprecation period when we no # longer support drivers with no deploy steps. # Note that after the deprecation period, there needs to be at least # one deploy step. If none, the deployment fails. if steps: info = node.driver_internal_info info.pop('deploy_steps') node.driver_internal_info = info node.save() # We go back to using the old way, if: # - out-of-tree driver hasn't yet converted to using deploy steps, or # - we're in the middle of a rolling upgrade. This is to prevent the # corner case of having new conductors with old conductors, and # a node is deployed with a new conductor (via deploy steps), but # after the deploy_wait, the node gets handled by an old conductor. # To avoid this, we need to wait until all the conductors are new, # signalled by the RPC API version being '1.45'. _old_rest_of_do_node_deploy(task, conductor_id, not steps) else: do_next_deploy_step(task, 0, conductor_id) def _old_rest_of_do_node_deploy(task, conductor_id, no_deploy_steps): """"""The rest of the do_node_deploy() if not using deploy steps. To support out-of-tree drivers that have not yet migrated to using deploy steps. :param no_deploy_steps: Boolean; True if there are no deploy steps. """""" # TODO(rloo): This method can be deleted after the deprecation period # for supporting drivers with no deploy steps. if no_deploy_steps: deploy_driver_name = task.driver.deploy.__class__.__name__ if deploy_driver_name not in _SEEN_NO_DEPLOY_STEP_DEPRECATIONS: LOG.warning('Deploy driver %s does not support deploy steps; this ' 'will be required starting with the Stein release.', deploy_driver_name) _SEEN_NO_DEPLOY_STEP_DEPRECATIONS.add(deploy_driver_name) node = task.node try: new_state = task.driver.deploy.deploy(task) except exception.IronicException as e: with excutils.save_and_reraise_exception(): utils.deploying_error_handler( task, ('Error in deploy of node %(node)s: %(err)s' % {'node': node.uuid, 'err': e}), _(""Failed to deploy: %s"") % e) except Exception as e: with excutils.save_and_reraise_exception(): utils.deploying_error_handler( task, ('Unexpected error while deploying node %(node)s' % {'node': node.uuid}), _(""Failed to deploy. Exception: %s"") % e, traceback=True) # Update conductor_affinity to reference this conductor's ID # since there may be local persistent state node.conductor_affinity = conductor_id # NOTE(deva): Some drivers may return states.DEPLOYWAIT # eg. if they are waiting for a callback if new_state == states.DEPLOYDONE: _start_console_in_deploy(task) task.process_event('done') LOG.info('Successfully deployed node %(node)s with ' 'instance %(instance)s.', {'node': node.uuid, 'instance': node.instance_uuid}) elif new_state == states.DEPLOYWAIT: task.process_event('wait') else: LOG.error('Unexpected state %(state)s returned while ' 'deploying node %(node)s.', {'state': new_state, 'node': node.uuid}) node.save()",16,555
openstack%2Fnova~master~I8668d57f6b302ad8cdc1e4af28cf6bb8145a738d,openstack/nova,master,I8668d57f6b302ad8cdc1e4af28cf6bb8145a738d,VMware VMDK detach: get adapter type from instance VM,MERGED,2019-04-18 13:34:31.000000000,2020-03-18 12:11:44.000000000,2020-03-18 12:08:59.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29125}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-04-18 13:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80bad66cbfbd736f3fcc12b40ac7affc9787fa0d', 'message': 'VMware VMDK detach: get adapter type from instance VM\n\nDetach VMDK using adapter type from instance instead of shadow VM.\n\nChange-Id: I8668d57f6b302ad8cdc1e4af28cf6bb8145a738d\n'}, {'number': 2, 'created': '2019-07-08 11:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/443fef9d4fe192274d243d93f32fe67d7678ba93', 'message': 'VMware VMDK detach: get adapter type from instance VM\n\nDetach VMDK using adapter type from instance instead of shadow VM.\n\nCloses-Bug: #1835733\nChange-Id: I8668d57f6b302ad8cdc1e4af28cf6bb8145a738d\n'}, {'number': 3, 'created': '2019-09-17 11:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a358adac10c821dec43389939050c7439a84f79', 'message': 'VMware VMDK detach: get adapter type from instance VM\n\nDetach VMDK using adapter type from instance instead of shadow VM.\n\nCloses-Bug: #1835733\nChange-Id: I8668d57f6b302ad8cdc1e4af28cf6bb8145a738d\n'}, {'number': 4, 'created': '2019-09-25 13:25:46.000000000', 'files': ['nova/virt/vmwareapi/volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/virt/vmwareapi/vim_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ec93474a84aff1c184a58fe436ea4a0842bd9825', 'message': 'VMware VMDK detach: get adapter type from instance VM\n\nDetach VMDK using adapter type from instance instead of shadow VM.\n\nCloses-Bug: #1835733\nChange-Id: I8668d57f6b302ad8cdc1e4af28cf6bb8145a738d\n'}]",5,653738,ec93474a84aff1c184a58fe436ea4a0842bd9825,64,16,4,29125,,,0,"VMware VMDK detach: get adapter type from instance VM

Detach VMDK using adapter type from instance instead of shadow VM.

Closes-Bug: #1835733
Change-Id: I8668d57f6b302ad8cdc1e4af28cf6bb8145a738d
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/653738/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/virt/vmwareapi/vm_util.py']",3,80bad66cbfbd736f3fcc12b40ac7affc9787fa0d,bug/1835733,"CONTROLLER_TO_ADAPTER_TYPE = { ""VirtualLsiLogicController"": constants.DEFAULT_ADAPTER_TYPE, ""VirtualBusLogicController"": constants.ADAPTER_TYPE_BUSLOGIC, ""VirtualIDEController"": constants.ADAPTER_TYPE_IDE, ""VirtualLsiLogicSASController"": constants.ADAPTER_TYPE_LSILOGICSAS, ""ParaVirtualSCSIController"": constants.ADAPTER_TYPE_PARAVIRTUAL } elif device.__class__.__name__ in CONTROLLER_TO_ADAPTER_TYPE: adapter_type_dict[device.key] = CONTROLLER_TO_ADAPTER_TYPE[ device.__class__.__name__]"," elif device.__class__.__name__ == ""VirtualLsiLogicController"": adapter_type_dict[device.key] = constants.DEFAULT_ADAPTER_TYPE elif device.__class__.__name__ == ""VirtualBusLogicController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_BUSLOGIC elif device.__class__.__name__ == ""VirtualIDEController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_IDE elif device.__class__.__name__ == ""VirtualLsiLogicSASController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_LSILOGICSAS elif device.__class__.__name__ == ""ParaVirtualSCSIController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_PARAVIRTUAL",65,39
openstack%2Fnova~master~I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a,openstack/nova,master,I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a,bug-fix: Reject live migration with vpmem,MERGED,2020-02-17 12:11:12.000000000,2020-03-18 11:58:09.000000000,2020-03-18 11:55:14.000000000,"[{'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28522}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-17 12:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eaa204f16aef71e7a1cb7e9856b0ddc5aafa3645', 'message': 'bug-fix: Reject live migration with vpmem\n\nReject live migration if there are virtual persistent memory resources.\nOtherwise, if dest host has same vpmem backend file name as that used\nby instance, live migration will succeed and these files will be used\nbut not tracked in Nova; if dest host has no those vpmems, it will\ntrigger an error.\n\nChange-Id: I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a\nCloses-bug: #1863605\n'}, {'number': 2, 'created': '2020-02-18 12:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c89b49d7a1fbc0396f0aa6684b6d28f22ed9fd05', 'message': 'bug-fix: Reject live migration with vpmem\n\nReject live migration if there are virtual persistent memory resources.\nOtherwise, if dest host has same vpmem backend file name as that used\nby instance, live migration will succeed and these files will be used\nbut not tracked in Nova; if dest host has no those vpmems, it will\ntrigger an error.\n\nChange-Id: I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a\nCloses-bug: #1863605\n'}, {'number': 3, 'created': '2020-03-02 10:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82720afb4c25ca8aa9e3e050cc87b417207a2efd', 'message': 'bug-fix: Reject live migration with vpmem\n\nReject live migration if there are virtual persistent memory resources.\nOtherwise, if dest host has same vpmem backend file name as that used\nby instance, live migration will succeed and these files will be used\nbut not tracked in Nova; if dest host has no those vpmems, it will\ntrigger an error.\n\nChange-Id: I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a\nCloses-bug: #1863605\n'}, {'number': 4, 'created': '2020-03-09 10:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14bf75647dc188d7a8f34112ae1b1695de4ac177', 'message': 'bug-fix: Reject live migration with vpmem\n\nReject live migration if there are virtual persistent memory resources.\nOtherwise, if dest host has same vpmem backend file name as that used\nby instance, live migration will succeed and these files will be used\nbut not tracked in Nova; if dest host has no those vpmems, it will\ntrigger an error.\n\nChange-Id: I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a\nCloses-bug: #1863605\n'}, {'number': 5, 'created': '2020-03-16 11:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4605adc429a33953d14c8dc6f8c9f0e9d357324', 'message': 'bug-fix: Reject live migration with vpmem\n\nReject live migration if there are virtual persistent memory resources.\nOtherwise, if dest host has same vpmem backend file name as that used\nby instance, live migration will succeed and these files will be used\nbut not tracked in Nova; if dest host has no those vpmems, it will\ntrigger an error.\n\nChange-Id: I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a\nCloses-bug: #1863605\n'}, {'number': 6, 'created': '2020-03-17 09:47:00.000000000', 'files': ['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/db93b704cecdb72e9c23c7a4c07786f67bcfe7b2', 'message': 'bug-fix: Reject live migration with vpmem\n\nReject live migration if there are virtual persistent memory resources.\nOtherwise, if dest host has same vpmem backend file name as that used\nby instance, live migration will succeed and these files will be used\nbut not tracked in Nova; if dest host has no those vpmems, it will\ntrigger an error.\n\nChange-Id: I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a\nCloses-bug: #1863605\nImplements: blueprint support-live-migration-with-virtual-persistent-memory\n'}]",8,708110,db93b704cecdb72e9c23c7a4c07786f67bcfe7b2,75,15,6,23598,,,0,"bug-fix: Reject live migration with vpmem

Reject live migration if there are virtual persistent memory resources.
Otherwise, if dest host has same vpmem backend file name as that used
by instance, live migration will succeed and these files will be used
but not tracked in Nova; if dest host has no those vpmems, it will
trigger an error.

Change-Id: I900f74d482fc87da5b1b5ec9db2ad5aefcfcfe7a
Closes-bug: #1863605
Implements: blueprint support-live-migration-with-virtual-persistent-memory
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/708110/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/tasks/live_migrate.py'],1,eaa204f16aef71e7a1cb7e9856b0ddc5aafa3645,support-live-migration-with-virtual-persistent-memory,"def supports_vpmem_live_migration(): """"""Checks if the commpute host service is new enought to support instance live migration with virtual persistent memory. :returns: False until live migration with vpmem is supported """""" return False def _check_can_migrate_specific_resources(self, src_host, dest_host): """"""Checks that an instance can migrate with specific resources. For virtual persistent memory resource: 1. check if Instance contains vpmem resources 2. check if live migration with vpmem is supported """""" if not self.instance.resources: return has_vpmem = False for resource in self.instance.resources: if isinstance(resource.metadata, objects.LibvirtVPMEMDevice): has_vpmem = True break if has_vpmem and not supports_vpmem_live_migration(): raise exception.MigrationPreCheckError( reason=""Cannot live migration with virtual persistent "" ""memory, the operation is not supported."") ",,30,0
openstack%2Fkolla~stable%2Fstein~I955619d6992f8714ae753dc155e248d255340ecf,openstack/kolla,stable/stein,I955619d6992f8714ae753dc155e248d255340ecf,"kibana, nova-libvirt: handle it properly for non-x86",MERGED,2020-03-17 17:15:48.000000000,2020-03-18 11:38:59.000000000,2020-03-18 11:37:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 17:15:48.000000000', 'files': ['docker/base/apt_preferences.debian', 'docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/84003367bcd20c24f2e5884f5d86d2420506e816', 'message': ""kibana, nova-libvirt: handle it properly for non-x86\n\nmanual backport from master changes:\n\n- https://review.opendev.org/#/c/712987/\n- https://review.opendev.org/#/c/713403\n\nUpstream kibana package contains NodeJS x86-64 binaries so can not be\nused directly on non-x86 architectures. I took upstream packages,\nremoved NodeJS binary from it and added 'nodejs' dependency.\n\nPackage is present in my Linaro OBS repository where I keep other\npackages needed for aarch64 kolla run. Via APT pinning I mark them as\nnot wanted so they are not used on any architecture with two exceptions:\n\n1. libvirt - we need fixed version to be able to use ThunderX servers\n2. kibana - to be able to run it at all\n\nFor x86-64 upstream kibana package is used.\n\nCloses-bug: #1867365\n\nChange-Id: I955619d6992f8714ae753dc155e248d255340ecf\n""}]",0,713492,84003367bcd20c24f2e5884f5d86d2420506e816,10,4,1,24072,,,0,"kibana, nova-libvirt: handle it properly for non-x86

manual backport from master changes:

- https://review.opendev.org/#/c/712987/
- https://review.opendev.org/#/c/713403

Upstream kibana package contains NodeJS x86-64 binaries so can not be
used directly on non-x86 architectures. I took upstream packages,
removed NodeJS binary from it and added 'nodejs' dependency.

Package is present in my Linaro OBS repository where I keep other
packages needed for aarch64 kolla run. Via APT pinning I mark them as
not wanted so they are not used on any architecture with two exceptions:

1. libvirt - we need fixed version to be able to use ThunderX servers
2. kibana - to be able to run it at all

For x86-64 upstream kibana package is used.

Closes-bug: #1867365

Change-Id: I955619d6992f8714ae753dc155e248d255340ecf
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/713492/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.debian', 'docker/base/sources.list.debian']",2,84003367bcd20c24f2e5884f5d86d2420506e816,bug/1867365, # kibana for non-x86 and fixed libvirt for aarch64 deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz/debian-buster ./,,32,0
openstack%2Fbifrost~master~Idf2b03a4772111f63f79203f63ea95f805e7a43d,openstack/bifrost,master,Idf2b03a4772111f63f79203f63ea95f805e7a43d,Remove --ignore-installed from CentOS 8 pip 19 install,MERGED,2020-03-17 18:14:54.000000000,2020-03-18 11:31:06.000000000,2020-03-18 11:29:30.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 18:14:54.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/21cb4ea6fc753265cecee868d99efe42e4f2966b', 'message': ""Remove --ignore-installed from CentOS 8 pip 19 install\n\nIn the kolla bifrost container image this results in a broken pip\ninstallation. The pip 19 package is downloaded, but this message is\nprinted at the end:\n\nSuccessfully installed pip-20.0.2\n\nThe subsequent 'pip freeze' gets the following error:\n\nImportError: cannot import name 'PackageFinder'\n\nThis change removes the --ignore-installed argument, which results in\nthe virtualenv getting pip 19 as expected.\n\nChange-Id: Idf2b03a4772111f63f79203f63ea95f805e7a43d\n""}]",0,713504,21cb4ea6fc753265cecee868d99efe42e4f2966b,9,4,1,14826,,,0,"Remove --ignore-installed from CentOS 8 pip 19 install

In the kolla bifrost container image this results in a broken pip
installation. The pip 19 package is downloaded, but this message is
printed at the end:

Successfully installed pip-20.0.2

The subsequent 'pip freeze' gets the following error:

ImportError: cannot import name 'PackageFinder'

This change removes the --ignore-installed argument, which results in
the virtualenv getting pip 19 as expected.

Change-Id: Idf2b03a4772111f63f79203f63ea95f805e7a43d
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/04/713504/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,21cb4ea6fc753265cecee868d99efe42e4f2966b,, sudo -H -E $PYTHON -m pip install pip==19.0, sudo -H -E $PYTHON -m pip install pip==19.0 --ignore-installed,1,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~I7d8300bcdf0caf24485ce2edc5f2be2672369d2f,openstack/openstack-ansible-rabbitmq_server,master,I7d8300bcdf0caf24485ce2edc5f2be2672369d2f,rabbitmq_server: there's no system change on a package query,MERGED,2020-03-15 01:24:20.000000000,2020-03-18 11:16:46.000000000,2020-03-18 11:14:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-15 01:24:20.000000000', 'files': ['tasks/rabbitmq_upgrade_check.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/7aa3d4a9ca8606967abe1fc1ce6071647ee6c930', 'message': 'rabbitmq_server: there\'s no system change on a package query\n\nThere doesn\'t seem to be a need to check for changed either, and\nit\'s easier to read ""when: item is not skipped""\n\nChange-Id: I7d8300bcdf0caf24485ce2edc5f2be2672369d2f\n'}]",0,713124,7aa3d4a9ca8606967abe1fc1ce6071647ee6c930,11,4,1,25600,,,0,"rabbitmq_server: there's no system change on a package query

There doesn't seem to be a need to check for changed either, and
it's easier to read ""when: item is not skipped""

Change-Id: I7d8300bcdf0caf24485ce2edc5f2be2672369d2f
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/24/713124/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/rabbitmq_upgrade_check.yml'],1,7aa3d4a9ca8606967abe1fc1ce6071647ee6c930,, changed_when: false changed_when: false - item is not skipped, - not item is skipped - item is changed,3,2
openstack%2Fkuryr-kubernetes~master~I5a85c39e09a87cc4f0ec2b76819b264f26d433f8,openstack/kuryr-kubernetes,master,I5a85c39e09a87cc4f0ec2b76819b264f26d433f8,do not die if cannot remove socket file,MERGED,2020-03-05 14:06:07.000000000,2020-03-18 11:16:19.000000000,2020-03-18 11:13:39.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 25900}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-03-05 14:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4895b819b217cc29a2d2e39929199a50a1bdb232', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 2, 'created': '2020-03-06 10:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/124132af6ce9764fbad0dc7246abd3cb352fc89f', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 3, 'created': '2020-03-06 14:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/959ebe91c0f399d0d273083d78e940d8d74c7df8', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 4, 'created': '2020-03-06 16:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/efeda5d540dacd3d027f78dca734556a91748bd7', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 5, 'created': '2020-03-06 17:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e0103b2947b2f96c07f6e6d24bb1f99c9ac14546', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 6, 'created': '2020-03-10 09:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c7abbc20422e1e10ece2d49c0eae7e1f93deb65f', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 7, 'created': '2020-03-10 11:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6445c8bd77e7f2f55f306c916b13ae06a8720bc9', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 8, 'created': '2020-03-10 15:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4495b291baf69e0482ed43992c35d393b28afc5c', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 9, 'created': '2020-03-11 07:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9f3f008364f188c611556d1e7ef1407229699d4b', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 10, 'created': '2020-03-11 13:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/78f42bd97576870dd5f112bc7b584ea9380afb09', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 11, 'created': '2020-03-13 15:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6cac227187267a363f49fc80f1835219a8b3e6c8', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 12, 'created': '2020-03-16 10:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bca5860f5a26417365f06af4516c63704483e7cc', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 13, 'created': '2020-03-16 11:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/41996002e4cde816cb603a00301afb3d3723437d', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 14, 'created': '2020-03-16 11:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1f7895864231835b70781a01e554bc48e5e8c019', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 15, 'created': '2020-03-16 11:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7973e0ae4cc425c309fc47cffb97433d3848f5a6', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 16, 'created': '2020-03-16 13:38:49.000000000', 'files': ['kuryr_kubernetes/cni/binding/vhostuser.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/25fb7612510595bb7c7e40441eec44bd9a13bad5', 'message': 'do not die if cannot remove socket file\n\n(may be it was removed by hand or by other app)\n\nChange-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}]",3,711463,25fb7612510595bb7c7e40441eec44bd9a13bad5,48,6,16,31502,,,0,"do not die if cannot remove socket file

(may be it was removed by hand or by other app)

Change-Id: I5a85c39e09a87cc4f0ec2b76819b264f26d433f8
Signed-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/63/711463/16 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/binding/vhostuser.py'],1,4895b819b217cc29a2d2e39929199a50a1bdb232,dpdk-bm," try: os.remove(vhu_sock_path) except Exception as err: LOG.error(""failed to delete socket: {0}"".format(err))", os.remove(vhu_sock_path),4,1
openstack%2Ftripleo-validations~stable%2Ftrain~Ib4d0a505021568975b79400d67fd709dd74e9acf,openstack/tripleo-validations,stable/train,Ib4d0a505021568975b79400d67fd709dd74e9acf,Don't validate token_flush for non-persistent token formats,MERGED,2020-03-16 19:23:07.000000000,2020-03-18 11:10:49.000000000,2020-03-18 11:10:49.000000000,"[{'_account_id': 5046}, {'_account_id': 9592}, {'_account_id': 9954}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 19:23:07.000000000', 'files': ['roles/undercloud_tokenflush/molecule/non-persistent-token-format/prepare.yml', 'roles/undercloud_tokenflush/molecule/default/prepare.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile.j2', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/playbook.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/undercloud_tokenflush/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3fd14c996068da955ee3842a9771869d51a4ecea', 'message': ""Don't validate token_flush for non-persistent token formats\n\nTHT incorporated a change so that the keystone_cron container deploys\nonly if a persistent token format is used (e.g, `uuid`, `pki`):\n\n  https://review.opendev.org/#/c/682265/\n\nThis is because `fernet` and `jws` tokens are completely non-persistent\nby way of authenticated encryption and the keystone_cron container only\nruns a cron job to execute `keystone-manage token_flush`, which prunes\nexpired tokens from keystone's token table. This cron job is useful for\ndeployments relying on `uuid`, `pki`, or some other out-of-tree provider\nthat requires tokens to be recorded for keystone's token validation\nprocess.\n\nThis commit updates the validation to check for the token format and\nonly performs the validation if the token format isn't `fernet` or\n`jws`.\n\nChange-Id: Ib4d0a505021568975b79400d67fd709dd74e9acf\n(cherry picked from commit 7547548a6b289dac84d3980f82c8b91f04affe4f)\n""}]",0,713318,3fd14c996068da955ee3842a9771869d51a4ecea,9,5,1,5046,,,0,"Don't validate token_flush for non-persistent token formats

THT incorporated a change so that the keystone_cron container deploys
only if a persistent token format is used (e.g, `uuid`, `pki`):

  https://review.opendev.org/#/c/682265/

This is because `fernet` and `jws` tokens are completely non-persistent
by way of authenticated encryption and the keystone_cron container only
runs a cron job to execute `keystone-manage token_flush`, which prunes
expired tokens from keystone's token table. This cron job is useful for
deployments relying on `uuid`, `pki`, or some other out-of-tree provider
that requires tokens to be recorded for keystone's token validation
process.

This commit updates the validation to check for the token format and
only performs the validation if the token format isn't `fernet` or
`jws`.

Change-Id: Ib4d0a505021568975b79400d67fd709dd74e9acf
(cherry picked from commit 7547548a6b289dac84d3980f82c8b91f04affe4f)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/18/713318/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_tokenflush/molecule/non-persistent-token-format/prepare.yml', 'roles/undercloud_tokenflush/molecule/default/prepare.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile.j2', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/playbook.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/undercloud_tokenflush/tasks/main.yml']",6,3fd14c996068da955ee3842a9771869d51a4ecea,,"- name: Fetch token provider hiera: name: keystone::token_provider - name: Check if keystone_cron container is available when: - ansible_facts['keystone::token_provider'] != 'fernet' - ansible_facts['keystone::token_provider'] != 'jws' block: - name: Get the path of tripleo undercloud config file become: true hiera: name=""tripleo_undercloud_conf_file"" - name: Get the Container CLI from the undercloud.conf file become: true validations_read_ini: path: ""{{ tripleo_undercloud_conf_file }}"" section: DEFAULT key: container_cli ignore_missing_file: true register: container_cli - name: Get keystone crontab become: true shell: | set -o pipefail {{ container_cli.value|default('podman', true) }} exec keystone_cron crontab -l -u keystone |grep -v '^#' register: cron_result changed_when: false - name: Check keystone crontab fail: msg: >- keystone token_flush does not appear to be enabled via cron. You should add '<desired interval> keystone-manage token_flush' to the keystone users crontab."" when: ""cron_result.stdout.find('keystone-manage token_flush') == -1"" - name: Describe why token flush validation was skipped debug: Skipping token flush validation since you are using a non-persistent token format ({{ ansible_facts['keystone::token_provider'] }}). You do not need a separate keystone_cron container to periodically prune tokens from keystone's database. when: - ansible_facts['keystone::token_provider'] == 'fernet' or ansible_facts['keystone::token_provider'] == 'jws'","- name: Get the path of tripleo undercloud config file hiera: name=""tripleo_undercloud_conf_file"" - name: Get the Container CLI from the undercloud.conf file become: true validations_read_ini: path: ""{{ tripleo_undercloud_conf_file }}"" section: DEFAULT key: container_cli ignore_missing_file: true register: container_cli - name: Get keystone crontab become: true shell: | set -o pipefail {{ container_cli.value|default('podman', true) }} exec keystone_cron crontab -l -u keystone |grep -v '^#' register: cron_result changed_when: false - name: Check keystone crontab fail: keystone token_flush does not appear to be enabled via cron. You should add '<desired interval> keystone-manage token_flush' to the keystone users crontab."" when: ""cron_result.stdout.find('keystone-manage token_flush') == -1""",224,23
openstack%2Fopenstack-ansible-os_masakari~master~I5ce2be9e7a8a648cbb734a2e418d434e7991e298,openstack/openstack-ansible-os_masakari,master,I5ce2be9e7a8a648cbb734a2e418d434e7991e298,Refactor memcached_servers,MERGED,2020-03-16 14:14:38.000000000,2020-03-18 11:08:07.000000000,2020-03-18 11:05:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-16 14:14:38.000000000', 'files': ['templates/masakari.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/235e1f05a0091bf5b93b0d28c7ecf95583c29fef', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: I5ce2be9e7a8a648cbb734a2e418d434e7991e298\n'}]",0,713244,235e1f05a0091bf5b93b0d28c7ecf95583c29fef,10,4,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: I5ce2be9e7a8a648cbb734a2e418d434e7991e298
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/44/713244/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/masakari.conf.j2', 'defaults/main.yml']",2,235e1f05a0091bf5b93b0d28c7ecf95583c29fef,memcached-refactor," - pymemcache# Memcached override masakari_memcached_servers: ""{{ memcached_servers }}"" ",,5,1
openstack%2Fopenstack-ansible-os_trove~master~I571a0ac9417767af413937e871ea6cdf156f2d75,openstack/openstack-ansible-os_trove,master,I571a0ac9417767af413937e871ea6cdf156f2d75,Refactor memcached_servers,MERGED,2020-03-16 15:11:49.000000000,2020-03-18 11:02:26.000000000,2020-03-18 11:01:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-16 15:11:49.000000000', 'files': ['templates/trove.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/71c23779ee676b3d97b7d0eb03d0802f0c283468', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: I571a0ac9417767af413937e871ea6cdf156f2d75\n'}]",0,713263,71c23779ee676b3d97b7d0eb03d0802f0c283468,10,4,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: I571a0ac9417767af413937e871ea6cdf156f2d75
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/63/713263/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/trove.conf.j2', 'defaults/main.yml']",2,71c23779ee676b3d97b7d0eb03d0802f0c283468,memcached-refactor," - pymemcache# Memcached override trove_memcached_servers: ""{{ memcached_servers }}"" ",,5,1
openstack%2Fopenstack-ansible-os_swift~master~If17dd627708f03824939ba062b498675253b11d7,openstack/openstack-ansible-os_swift,master,If17dd627708f03824939ba062b498675253b11d7,Refactor memcached_servers,MERGED,2020-03-16 15:05:48.000000000,2020-03-18 11:01:46.000000000,2020-03-18 10:59:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-16 15:05:48.000000000', 'files': ['templates/proxy-server.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/677ab44170bbf60fc422fe843073389906d3fe45', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: If17dd627708f03824939ba062b498675253b11d7\n'}]",0,713262,677ab44170bbf60fc422fe843073389906d3fe45,10,4,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: If17dd627708f03824939ba062b498675253b11d7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/62/713262/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/proxy-server.conf.j2', 'defaults/main.yml']",2,677ab44170bbf60fc422fe843073389906d3fe45,memcached-refactor," - pymemcache# Memcached override swift_memcached_servers: ""{{ memcached_servers }}"" ",,5,1
openstack%2Fopenstack-ansible-os_panko~master~Ifc89958375ec860e9c75e84aadd420401336e2f6,openstack/openstack-ansible-os_panko,master,Ifc89958375ec860e9c75e84aadd420401336e2f6,Refactor memcached_servers,MERGED,2020-03-16 14:53:01.000000000,2020-03-18 11:01:19.000000000,2020-03-18 10:59:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-16 14:53:01.000000000', 'files': ['templates/panko.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/67fcd7723fbe325ba6d5b3bd8f80b295948524cb', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: Ifc89958375ec860e9c75e84aadd420401336e2f6\n'}]",0,713249,67fcd7723fbe325ba6d5b3bd8f80b295948524cb,10,4,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: Ifc89958375ec860e9c75e84aadd420401336e2f6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/49/713249/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/panko.conf.j2', 'defaults/main.yml']",2,67fcd7723fbe325ba6d5b3bd8f80b295948524cb,memcached-refactor," - pymemcache# Memcached override panko_memcached_servers: ""{{ memcached_servers }}"" ",,5,1
openstack%2Fcinder~master~Ifa3d11b2f42672c8c05199192f34488ffed0c37a,openstack/cinder,master,Ifa3d11b2f42672c8c05199192f34488ffed0c37a,Group quota is not getting reverted when an exception occurs.,NEW,2020-03-13 09:47:07.000000000,2020-03-18 10:50:18.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-03-13 09:47:07.000000000', 'files': ['cinder/group/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd162a4c79fa5becc93aaa3a4c732b1b7868348d', 'message': 'Group quota is not getting reverted when an exception occurs.\n\nGroup quota is not getting reverted when an exception occurs\nduring create group from group snapshot or from source group in\ncreate_from_src.\n\nAs part of this change, the group quota is reserved with -1 to\nrevert the quota reservations for group when it is destroyed in\ndb.\n\nChange-Id: Ifa3d11b2f42672c8c05199192f34488ffed0c37a\nCloses-Bug: #1867318\n'}]",0,712889,bd162a4c79fa5becc93aaa3a4c732b1b7868348d,23,17,1,26575,,,0,"Group quota is not getting reverted when an exception occurs.

Group quota is not getting reverted when an exception occurs
during create group from group snapshot or from source group in
create_from_src.

As part of this change, the group quota is reserved with -1 to
revert the quota reservations for group when it is destroyed in
db.

Change-Id: Ifa3d11b2f42672c8c05199192f34488ffed0c37a
Closes-Bug: #1867318
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/712889/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/group/api.py'],1,bd162a4c79fa5becc93aaa3a4c732b1b7868348d,bug/1867318," # After the group is removed from db - revert consumed # quota reservations = GROUP_QUOTAS.reserve( context, project_id=context.project_id, groups=-1) GROUP_QUOTAS.commit(context, reservations) # After the group is removed from db - revert consumed # quota reservations = GROUP_QUOTAS.reserve( context, project_id=context.project_id, groups=-1) GROUP_QUOTAS.commit(context, reservations)",,14,0
openstack%2Ftripleo-quickstart-extras~master~I69073b007138d8941da878def7033ffaf79e8f5d,openstack/tripleo-quickstart-extras,master,I69073b007138d8941da878def7033ffaf79e8f5d,overcloud-prep-images: install ara on mistral executor only when needed,MERGED,2020-03-11 17:50:59.000000000,2020-03-18 10:49:54.000000000,2020-03-18 10:49:54.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 17:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/25c0bad6cc606f0e8b6a6951dff79d81d259f153', 'message': ""overcloud-prep-images: install ara on mistral executor only when needed\n\nOnly install ara on mistral executor container if\nundercloud_enable_mistral is set to True, otherwise we obviously don't\nwant it.\n\nChange-Id: I69073b007138d8941da878def7033ffaf79e8f5d\n""}, {'number': 2, 'created': '2020-03-11 19:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/246ec993df5faccd03b957abd22ae2bbe1d629a1', 'message': ""overcloud-prep-images: install ara on mistral executor only when needed\n\nOnly install ara on mistral executor container if\nundercloud_enable_mistral is set to True, otherwise we obviously don't\nwant it.\n\nChange-Id: I69073b007138d8941da878def7033ffaf79e8f5d\n""}, {'number': 3, 'created': '2020-03-11 23:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c291c381089dda876fa50dde9569d7fed7a1aea1', 'message': ""overcloud-prep-images: install ara on mistral executor only when needed\n\nOnly install ara on mistral executor container if\nundercloud_enable_mistral is set to True, otherwise we obviously don't\nwant it.\n\nChange-Id: I69073b007138d8941da878def7033ffaf79e8f5d\n""}, {'number': 4, 'created': '2020-03-13 12:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d021c9ad5347835f423a94f0c2360bd08e0bd43b', 'message': ""overcloud-prep-images: install ara on mistral executor only when needed\n\nOnly install ara on mistral executor container if\nundercloud_enable_mistral is set to True, otherwise we obviously don't\nwant it.\n\nMove undercloud_enable_mistral to extras-common so it can be used by\nboth overcloud-prep-images and undercloud-deploy roles.\n\nChange-Id: I69073b007138d8941da878def7033ffaf79e8f5d\n""}, {'number': 5, 'created': '2020-03-16 21:53:30.000000000', 'files': ['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2', 'roles/extras-common/README.md', 'roles/undercloud-deploy/README.md', 'roles/extras-common/defaults/main.yml', 'roles/undercloud-deploy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/23dbcac9eaa054589103568797a2d27508d48c80', 'message': ""overcloud-prep-images: install ara on mistral executor only when needed\n\nOnly install ara on mistral executor container if\nundercloud_enable_mistral is set to True, otherwise we obviously don't\nwant it.\n\nMove undercloud_enable_mistral to extras-common so it can be used by\nboth overcloud-prep-images and undercloud-deploy roles.\n\nChange-Id: I69073b007138d8941da878def7033ffaf79e8f5d\n""}]",2,712523,23dbcac9eaa054589103568797a2d27508d48c80,33,8,5,3153,,,0,"overcloud-prep-images: install ara on mistral executor only when needed

Only install ara on mistral executor container if
undercloud_enable_mistral is set to True, otherwise we obviously don't
want it.

Move undercloud_enable_mistral to extras-common so it can be used by
both overcloud-prep-images and undercloud-deploy roles.

Change-Id: I69073b007138d8941da878def7033ffaf79e8f5d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/23/712523/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'],1,25c0bad6cc606f0e8b6a6951dff79d81d259f153,mistral/optional,"{% if release not in ['newton', 'ocata', 'pike', 'queens', 'rocky'] and if undercloud_enable_mistral|bool %}","{% if release not in ['newton', 'ocata', 'pike', 'queens', 'rocky'] %}",1,1
openstack%2Ftripleo-quickstart-extras~master~I871362fb02ed77acd305b9f0a9dec02e4d4c2753,openstack/tripleo-quickstart-extras,master,I871362fb02ed77acd305b9f0a9dec02e4d4c2753,Fix URL for tinyipa-stable-pike image ironic tempest,MERGED,2020-03-16 11:50:10.000000000,2020-03-18 10:49:53.000000000,2020-03-18 10:49:53.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 11:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c271e20d22157f326003b77b067f878b96e8a191', 'message': 'Fix URL for tinyipa-stable-pike image ironic tempest\n\nDepends-On: https://review.opendev.org/#/c/712940\nChange-Id: I871362fb02ed77acd305b9f0a9dec02e4d4c2753\n'}, {'number': 2, 'created': '2020-03-18 04:45:03.000000000', 'files': ['roles/validate-tempest/templates/cleanup-network.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ce4af2ece2f97ea1e9af72ad3e20298a164f8502', 'message': 'Fix URL for tinyipa-stable-pike image ironic tempest\n\nDepends-On: https://review.opendev.org/#/c/712940\nChange-Id: I871362fb02ed77acd305b9f0a9dec02e4d4c2753\n'}]",0,713202,ce4af2ece2f97ea1e9af72ad3e20298a164f8502,15,4,2,10969,,,0,"Fix URL for tinyipa-stable-pike image ironic tempest

Depends-On: https://review.opendev.org/#/c/712940
Change-Id: I871362fb02ed77acd305b9f0a9dec02e4d4c2753
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/02/713202/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/templates/cleanup-network.sh.j2'],1,c271e20d22157f326003b77b067f878b96e8a191,,curl https://tarballs.opendev.org/openstack/ironic-python-agent/tinyipa/tinyipa-stable-pike.tar.gz | tar -C ~ -xzf -,curl http://tarballs.openstack.org/ironic-python-agent/tinyipa/tinyipa-stable-pike.tar.gz | tar -C ~ -xzf -,1,1
openstack%2Fkolla-ansible~master~I7acc097381dd9a4af4e014525c1c88213abbde93,openstack/kolla-ansible,master,I7acc097381dd9a4af4e014525c1c88213abbde93,Fix invalid JSON body in Elasticsearch API requests,MERGED,2020-02-21 10:23:33.000000000,2020-03-18 10:49:49.000000000,2020-03-18 10:47:57.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-02-21 10:23:33.000000000', 'files': ['releasenotes/notes/uri-json-body-46891dd478d2ad37.yaml', 'ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/kibana/tasks/post_config.yml', 'ansible/roles/monasca/tasks/post_config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5db9eab04223dd3e974e39490a84c506805b8644', 'message': ""Fix invalid JSON body in Elasticsearch API requests\n\nThe kibana, elasticsearch and monasca roles all use the uri module to\nperform Elasticsearch configuration tasks via its API. The body of the\nrequest should be JSON formatted, but these tasks now fail because it is\nnot.\n\nThe following error is seen:\n\nTASK [monasca : Create default control plane organisation if it doesn't\nexist]\n\ninvalid character '\\\\'' looking for beginning of object key string\n\nThe 'JSON' body in this case was:\n\n{'name': 'monasca_control_plane@default'}\n\nThis was probably caused by the recent change to execute these tasks in\nthe kolla_toolbox container, but may also be caused by an Ansible\nversion bump (or something else).\n\nThis change fixes the issue by ensuring that the body is JSON-encoded in\nall cases.\n\nChange-Id: I7acc097381dd9a4af4e014525c1c88213abbde93\nCloses-Bug: #1864177\n""}]",1,709090,5db9eab04223dd3e974e39490a84c506805b8644,11,5,1,14826,,,0,"Fix invalid JSON body in Elasticsearch API requests

The kibana, elasticsearch and monasca roles all use the uri module to
perform Elasticsearch configuration tasks via its API. The body of the
request should be JSON formatted, but these tasks now fail because it is
not.

The following error is seen:

TASK [monasca : Create default control plane organisation if it doesn't
exist]

invalid character '\\'' looking for beginning of object key string

The 'JSON' body in this case was:

{'name': 'monasca_control_plane@default'}

This was probably caused by the recent change to execute these tasks in
the kolla_toolbox container, but may also be caused by an Ansible
version bump (or something else).

This change fixes the issue by ensuring that the body is JSON-encoded in
all cases.

Change-Id: I7acc097381dd9a4af4e014525c1c88213abbde93
Closes-Bug: #1864177
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/709090/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/uri-json-body-46891dd478d2ad37.yaml', 'ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/kibana/tasks/post_config.yml', 'ansible/roles/monasca/tasks/post_config.yml']",4,5db9eab04223dd3e974e39490a84c506805b8644,," vars: monasca_orgs_body: name: '{{ monasca_grafana_control_plane_org }}' body: ""{{ monasca_orgs_body | to_json }}"" vars: monasca_user_body: loginOrEmail: '{{ monasca_grafana_admin_username }}' role: Admin body: ""{{ monasca_user_body | to_json }}""", body: name: '{{ monasca_grafana_control_plane_org }}' body: loginOrEmail: '{{ monasca_grafana_admin_username }}' role: Admin,23,8
openstack%2Fos-resource-classes~master~I9401637f4f3fe59abaaa05ecc72c6247826323ad,openstack/os-resource-classes,master,I9401637f4f3fe59abaaa05ecc72c6247826323ad,setup.cfg: Configure 'python-requires',MERGED,2020-01-28 11:12:24.000000000,2020-03-18 10:48:42.000000000,2020-03-18 10:46:54.000000000,"[{'_account_id': 9708}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-28 11:12:24.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/b99ab3336ced15dc29c0175f91a34d76557737c6', 'message': ""setup.cfg: Configure 'python-requires'\n\nThis will prevent setuptools accidentally installing os-traits in a\nPython 2 environment.\n\nChange-Id: I9401637f4f3fe59abaaa05ecc72c6247826323ad\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,704533,b99ab3336ced15dc29c0175f91a34d76557737c6,11,5,1,15334,,,0,"setup.cfg: Configure 'python-requires'

This will prevent setuptools accidentally installing os-traits in a
Python 2 environment.

Change-Id: I9401637f4f3fe59abaaa05ecc72c6247826323ad
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/33/704533/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b99ab3336ced15dc29c0175f91a34d76557737c6,trivial,python-requires = >=3.6 Programming Language :: Python :: 3 :: Only Programming Language :: Python :: Implementation :: CPython,,3,0
openstack%2Fmagnum~stable%2Ftrain~I088904308718d25d61cb9ca9f59cea2027bd4141,openstack/magnum,stable/train,I088904308718d25d61cb9ca9f59cea2027bd4141,[stable] Remove magnum-container-publish from .zuul.yaml,MERGED,2020-03-16 16:04:09.000000000,2020-03-18 10:38:20.000000000,2020-03-18 10:33:44.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 16:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ac8c6fece95569597063fcb9cb07147d0b03c3ec', 'message': 'Remove magnum-container-publish job from stable branch\n\nChange-Id: I088904308718d25d61cb9ca9f59cea2027bd4141\n'}, {'number': 2, 'created': '2020-03-16 16:09:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/db4cb151049b8cdf62a606e5797ec7fb1e5e5f78', 'message': '[stable] Remove magnum-container-publish from .zuul.yaml\n\nThe stable branches should not be pushing containers to Dockerhub which\nis why secrets are not present in stable branches. It turns out that\nsecrets are shared between all branches accoring to the Zuul docs:\nhttps://zuul-ci.org/docs/zuul/reference/secret_def.html\n\nTherefore, it makes sense to remove the publish job altogether from the\nstable branches.\n\nChange-Id: I088904308718d25d61cb9ca9f59cea2027bd4141\n'}]",1,713279,db4cb151049b8cdf62a606e5797ec7fb1e5e5f78,10,3,2,28022,,,0,"[stable] Remove magnum-container-publish from .zuul.yaml

The stable branches should not be pushing containers to Dockerhub which
is why secrets are not present in stable branches. It turns out that
secrets are shared between all branches accoring to the Zuul docs:
https://zuul-ci.org/docs/zuul/reference/secret_def.html

Therefore, it makes sense to remove the publish job altogether from the
stable branches.

Change-Id: I088904308718d25d61cb9ca9f59cea2027bd4141
",git fetch https://review.opendev.org/openstack/magnum refs/changes/79/713279/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ac8c6fece95569597063fcb9cb07147d0b03c3ec,,, - magnum-container-publish,0,1
openstack%2Fmagnum~stable%2Ftrain~I405e331eb1f9f987d3fbc301a09ab25bcb96926d,openstack/magnum,stable/train,I405e331eb1f9f987d3fbc301a09ab25bcb96926d,atomic-podman: Set log imit to 50m,MERGED,2020-03-16 12:23:34.000000000,2020-03-18 10:35:28.000000000,2020-03-18 10:33:26.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-16 12:23:34.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/bf3227838d9b34eeb8467fc9992e3f238bd85620', 'message': 'atomic-podman: Set log imit to 50m\n\nBy default podman containers can write unlimited bytes\nof log and evenrually fill up the disk nodes.\n\nSet the max size per containers to 50MB.\n\nstory: 2007402\ntask: 39003\nChange-Id: I405e331eb1f9f987d3fbc301a09ab25bcb96926d\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 2d2bd5d71035d8b62012f4e9e74f2668a4bf0692)\n'}]",0,713211,bf3227838d9b34eeb8467fc9992e3f238bd85620,9,4,1,20498,,,0,"atomic-podman: Set log imit to 50m

By default podman containers can write unlimited bytes
of log and evenrually fill up the disk nodes.

Set the max size per containers to 50MB.

story: 2007402
task: 39003
Change-Id: I405e331eb1f9f987d3fbc301a09ab25bcb96926d
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 2d2bd5d71035d8b62012f4e9e74f2668a4bf0692)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/11/713211/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh'],1,bf3227838d9b34eeb8467fc9992e3f238bd85620,logging-stable/train, cat > /etc/containers/libpod.conf <<EOF # Maximum size of log files (in bytes) # -1 is unlimited # 50m max_log_size = 52428800 EOF,,6,0
openstack%2Fmagnum~stable%2Ftrain~Ie3106b40b4d1c6866761c507122047e88e513651,openstack/magnum,stable/train,Ie3106b40b4d1c6866761c507122047e88e513651,k8s-fedora: Set max-size to 10m for containers,MERGED,2020-03-16 12:33:30.000000000,2020-03-18 10:33:40.000000000,2020-03-18 10:33:40.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-16 12:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/edbd816eb1c8abeadbbba132c17216548c16a879', 'message': 'k8s-fedora: Set max-size to 10m for containers\n\nSet the max-size for container/pod logs to 10m\nand max of 5 rotated files. The values relay\nthe default of kubernetes when it is using\na remote container runtime [0] (container-log-max-files\nand container-log-max-size) This defaults cover the\ncase of containerd.\n\n[0] https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/\n\nstory: 2007402\ntask: 39031\n\n(cherry picked from commit af74b326d01f6e64eec1bebb28f227a6917ef35b)\nConflicts:\n  magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh\n\nChange-Id: Ie3106b40b4d1c6866761c507122047e88e513651\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}, {'number': 2, 'created': '2020-03-16 12:46:23.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/578361757fe339ed212d5d3526916cc5c435a341', 'message': 'k8s-fedora: Set max-size to 10m for containers\n\nSet the max-size for container/pod logs to 10m\nand max of 5 rotated files. The values relay\nthe default of kubernetes when it is using\na remote container runtime [0] (container-log-max-files\nand container-log-max-size) This defaults cover the\ncase of containerd.\n\n[0] https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/\n\nstory: 2007402\ntask: 39031\n\nChange-Id: Ie3106b40b4d1c6866761c507122047e88e513651\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n(cherry picked from commit af74b326d01f6e64eec1bebb28f227a6917ef35b)\n'}]",1,713214,578361757fe339ed212d5d3526916cc5c435a341,15,4,2,20498,,,0,"k8s-fedora: Set max-size to 10m for containers

Set the max-size for container/pod logs to 10m
and max of 5 rotated files. The values relay
the default of kubernetes when it is using
a remote container runtime [0] (container-log-max-files
and container-log-max-size) This defaults cover the
case of containerd.

[0] https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/

story: 2007402
task: 39031

Change-Id: Ie3106b40b4d1c6866761c507122047e88e513651
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
(cherry picked from commit af74b326d01f6e64eec1bebb28f227a6917ef35b)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/14/713214/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,edbd816eb1c8abeadbbba132c17216548c16a879,logging-stable/train,"if [ -f /etc/sysconfig/docker ] ; then # For using default log-driver, other options should be ignored sed -i 's/\-\-log\-driver\=journald//g' /etc/sysconfig/docker # json-file is required for conformance. # https://docs.docker.com/config/containers/logging/json-file/ sed -i -E 's/^OPTIONS=(""|'""'""')/OPTIONS=\1--log-driver=json-file --log-opt max-size=10m --log-opt max-file=5 /' /etc/sysconfig/docker if [ -n ""${INSECURE_REGISTRY_URL}"" ]; then echo ""INSECURE_REGISTRY='--insecure-registry ${INSECURE_REGISTRY_URL}'"" >> /etc/sysconfig/docker fi","# For using default log-driver, other options should be ignored sed -i 's/\-\-log\-driver\=journald//g' /etc/sysconfig/docker if [ -n ""${INSECURE_REGISTRY_URL}"" ]; then echo ""INSECURE_REGISTRY='--insecure-registry ${INSECURE_REGISTRY_URL}'"" >> /etc/sysconfig/docker",20,9
openstack%2Fmagnum~stable%2Ftrain~Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f,openstack/magnum,stable/train,Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f,Upgrade pause image to version 3.1,MERGED,2020-03-16 12:42:47.000000000,2020-03-18 10:33:35.000000000,2020-03-18 10:33:35.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22997}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-16 12:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/25b3566c71d8f167e8339ccee22260f730823e66', 'message': 'Upgrade pause image to version 3.1\n\nk8s.gcr.io/pause image repository support mutilarch on version 3.1.\nPulling other non-amd64 arch image, no need to go to other arch specific\nrepository ,like pause-arm64. It is easy to support mutilarch, like\namd64, arm64, ppc64le, if use version 3.1.\nSee 3.1 manifest:\nhttps://console.cloud.google.com/gcr/images/google-containers/GLOBAL/pause@sha256:f78411e19d84a252e53bff71a4407a5686c46983a2c2eeed83929b888179acea/details?tab=info\n\nChange-Id: Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f\nTask: 37841\nStory: 2007026\n(cherry picked from commit 0b5d029179a26f7f166a889e86d5d587eca43c5e)\n'}, {'number': 2, 'created': '2020-03-16 12:46:23.000000000', 'files': ['doc/source/user/index.rst', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/cd5f14a6f788426f43058822262aaad752aa68e3', 'message': 'Upgrade pause image to version 3.1\n\nk8s.gcr.io/pause image repository support mutilarch on version 3.1.\nPulling other non-amd64 arch image, no need to go to other arch specific\nrepository ,like pause-arm64. It is easy to support mutilarch, like\namd64, arm64, ppc64le, if use version 3.1.\nSee 3.1 manifest:\nhttps://console.cloud.google.com/gcr/images/google-containers/GLOBAL/pause@sha256:f78411e19d84a252e53bff71a4407a5686c46983a2c2eeed83929b888179acea/details?tab=info\n\nChange-Id: Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f\nTask: 37841\nStory: 2007026\n(cherry picked from commit 0b5d029179a26f7f166a889e86d5d587eca43c5e)\n'}]",0,713218,cd5f14a6f788426f43058822262aaad752aa68e3,9,5,2,20498,,,0,"Upgrade pause image to version 3.1

k8s.gcr.io/pause image repository support mutilarch on version 3.1.
Pulling other non-amd64 arch image, no need to go to other arch specific
repository ,like pause-arm64. It is easy to support mutilarch, like
amd64, arm64, ppc64le, if use version 3.1.
See 3.1 manifest:
https://console.cloud.google.com/gcr/images/google-containers/GLOBAL/pause@sha256:f78411e19d84a252e53bff71a4407a5686c46983a2c2eeed83929b888179acea/details?tab=info

Change-Id: Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f
Task: 37841
Story: 2007026
(cherry picked from commit 0b5d029179a26f7f166a889e86d5d587eca43c5e)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/18/713218/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",3,25b3566c71d8f167e8339ccee22260f730823e66,logging-stable/train,"KUBELET_ARGS=""${KUBELET_ARGS} --pod-infra-container-image=${CONTAINER_INFRA_PREFIX:-gcr.io/google_containers/}pause:3.1""","KUBELET_ARGS=""${KUBELET_ARGS} --pod-infra-container-image=${CONTAINER_INFRA_PREFIX:-gcr.io/google_containers/}pause:3.0""",3,3
openstack%2Fmagnum~stable%2Ftrain~I155b7146b7175d95b219897b84f4580091e5975e,openstack/magnum,stable/train,I155b7146b7175d95b219897b84f4580091e5975e,fcos-podman: Set max size for logging to 50m,MERGED,2020-03-16 12:23:03.000000000,2020-03-18 10:33:31.000000000,2020-03-18 10:33:31.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-16 12:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6c4307dc165027f0ab95bc817b6e95563ab6795f', 'message': 'fcos-podman: Set max size for logging to 50m\n\nBy default podman containers can write unlimited bytes\nof log and evenrually fill up the disk nodes.\n\nSet the max size per containers to 50MB.\n\nstory: 2007402\ntask: 39001\n\nChange-Id: I155b7146b7175d95b219897b84f4580091e5975e\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n(cherry picked from commit 9d543960d2827ede5be4f851b1cb62c986981f32)\n'}, {'number': 2, 'created': '2020-03-16 12:33:30.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/167660e7c554eab794cba0e5b84041ee17c730ef', 'message': 'fcos-podman: Set max size for logging to 50m\n\nBy default podman containers can write unlimited bytes\nof log and evenrually fill up the disk nodes.\n\nSet the max size per containers to 50MB.\n\nstory: 2007402\ntask: 39001\n\nChange-Id: I155b7146b7175d95b219897b84f4580091e5975e\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n(cherry picked from commit 9d543960d2827ede5be4f851b1cb62c986981f32)\n'}]",0,713210,167660e7c554eab794cba0e5b84041ee17c730ef,9,4,2,20498,,,0,"fcos-podman: Set max size for logging to 50m

By default podman containers can write unlimited bytes
of log and evenrually fill up the disk nodes.

Set the max size per containers to 50MB.

story: 2007402
task: 39001

Change-Id: I155b7146b7175d95b219897b84f4580091e5975e
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
(cherry picked from commit 9d543960d2827ede5be4f851b1cb62c986981f32)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/10/713210/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml']",2,6c4307dc165027f0ab95bc817b6e95563ab6795f,logging-stable/train, - path: /etc/containers/libpod.conf # 420 (decimal) == 644 (octal) mode: 420 user: name: root group: name: root contents: inline: | # Maximum size of log files (in bytes) # -1 is unlimited # 50m max_log_size = 52428800,,27,0
openstack%2Fkolla-ansible~master~I4181654c88554c81940f0d079cf1d64326cdec79,openstack/kolla-ansible,master,I4181654c88554c81940f0d079cf1d64326cdec79,CI: install tox,MERGED,2020-03-17 09:51:42.000000000,2020-03-18 10:33:02.000000000,2020-03-17 21:14:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 09:51:42.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd1ebf20caf97fa53675ef299513fa1c2a2da757', 'message': 'CI: install tox\n\ntox will be removed from the base image. Install it before that happens.\n\nThis change is made in a simple way that can be easily backported.\n\nDepends-On: https://review.opendev.org/713386\n\nChange-Id: I4181654c88554c81940f0d079cf1d64326cdec79\n'}]",0,713392,dd1ebf20caf97fa53675ef299513fa1c2a2da757,14,3,1,14826,,,0,"CI: install tox

tox will be removed from the base image. Install it before that happens.

This change is made in a simple way that can be easily backported.

Depends-On: https://review.opendev.org/713386

Change-Id: I4181654c88554c81940f0d079cf1d64326cdec79
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/713392/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,dd1ebf20caf97fa53675ef299513fa1c2a2da757,, - name: Ensure tox is installed pip: name: tox when: need_build_image become: true ,,6,0
openstack%2Fkolla~master~I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,openstack/kolla,master,I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211,CI: Install tox,MERGED,2020-03-17 09:26:27.000000000,2020-03-18 10:32:46.000000000,2020-03-17 21:14:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 09:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/91d535a0a6989c8acefd968ac8e23199edf267c9', 'message': 'CI: Install tox\n\ntox will be removed from the base image. Install it before that happens.\n\nChange-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211\n'}, {'number': 2, 'created': '2020-03-17 09:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/433a96646a16bda8dbab77ef2e5708377d0ebc37', 'message': 'CI: Install tox\n\ntox will be removed from the base image. Install it before that happens.\n\nChange-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211\n'}, {'number': 3, 'created': '2020-03-17 09:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/365925b48c4bf91255b252e64daf01c39e2b0692', 'message': 'CI: Install tox\n\ntox will be removed from the base image. Install it before that happens.\n\nThis change is made in a simple way that can be easily backported.\n\nChange-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211\n'}, {'number': 4, 'created': '2020-03-17 17:45:04.000000000', 'files': ['tests/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a81413fc52b0eaf1eefc3302ba425ac9b93d5a4d', 'message': 'CI: Install tox\n\ntox will be removed from the base image. Install it before that happens.\n\nThis change is made in a simple way that can be easily backported.\n\nChange-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211\n'}]",2,713386,a81413fc52b0eaf1eefc3302ba425ac9b93d5a4d,18,4,4,14826,,,0,"CI: Install tox

tox will be removed from the base image. Install it before that happens.

This change is made in a simple way that can be easily backported.

Change-Id: I2a24c87aa44c1e03ba76a2fb0bd71caf54eb4211
",git fetch https://review.opendev.org/openstack/kolla refs/changes/86/713386/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/pre.yml'],1,91d535a0a6989c8acefd968ac8e23199edf267c9,," - name: Ensure tox is installed vars: tox_package: ""{{ 'tox' if ansible_os_family == 'Debian' else 'python3-tox' }}"" package: name: tox become: true",,7,0
openstack%2Fkuryr-tempest-plugin~master~Ibaf2b70dfb8222dfafb9e0a451674473377074c0,openstack/kuryr-tempest-plugin,master,Ibaf2b70dfb8222dfafb9e0a451674473377074c0,Retry exec_command_in_pod,MERGED,2020-03-13 15:42:31.000000000,2020-03-18 10:29:51.000000000,2020-03-18 10:28:10.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-03-13 15:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/1988c7feacb15b4bdc1950ddf9b7e99f87a22640', 'message': ""Retry exec_command_in_pod\n\nFrom time to time we get some etcd issues on the gate and when that\nhappens Kubernetes API likes to greet us with a 500 error. This commit\nmakes sure that exec_command_in_pod retries requests like that so that in\nsuch case we don't fail a test.\n\nChange-Id: Ibaf2b70dfb8222dfafb9e0a451674473377074c0\n""}, {'number': 2, 'created': '2020-03-17 08:20:39.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/bf2afa0c54128479cfb5c7bc44cedd906f083bbf', 'message': ""Retry exec_command_in_pod\n\nFrom time to time we get some etcd issues on the gate and when that\nhappens Kubernetes API likes to greet us with a 500 error. This commit\nmakes sure that exec_command_in_pod retries requests like that so that in\nsuch case we don't fail a test.\n\nChange-Id: Ibaf2b70dfb8222dfafb9e0a451674473377074c0\n""}]",4,712982,bf2afa0c54128479cfb5c7bc44cedd906f083bbf,15,6,2,11600,,,0,"Retry exec_command_in_pod

From time to time we get some etcd issues on the gate and when that
happens Kubernetes API likes to greet us with a 500 error. This commit
makes sure that exec_command_in_pod retries requests like that so that in
such case we don't fail a test.

Change-Id: Ibaf2b70dfb8222dfafb9e0a451674473377074c0
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/82/712982/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,1988c7feacb15b4bdc1950ddf9b7e99f87a22640,retry-exec," for i in range(0, 5): try: # NOTE(yboaron): sometimes the # 'connect_get_namespaced_pod_exec'and rest of functions # from [1] that takes timeout as parameter are hanging for some # reason (on OS select) although the command completed. To # resolve that we set the '_request_timeout' for # 'connect_get_namespaced_pod_exec' and f_timeout for the rest # of functions. # [1] https://github.com/kubernetes-client/python-base/blob/ # master/stream/ws_client.py if req_timeout is not None: kwargs['_request_timeout'] = req_timeout if stderr: kwargs['_preload_content'] = False resp = stream(api.connect_get_namespaced_pod_exec, pod_name, namespace, **kwargs) # Run until completion resp.run_forever(timeout=f_timeout) return (resp.read_stdout(timeout=f_timeout), resp.read_stderr(timeout=f_timeout)) else: return stream(api.connect_get_namespaced_pod_exec, pod_name, namespace, **kwargs) except kubernetes.client.rest.ApiException: LOG.exception(""Error received when contacting K8s API, "" ""retry %d/5"", i + 1)"," # NOTE(yboaron): sometimes the 'connect_get_namespaced_pod_exec' # and rest of functions from [1] that takes timeout as parameter are # hanging from some reason (on OS select) although the command # completed. To resolve that we set the '_request_timeout' for # 'connect_get_namespaced_pod_exec' and f_timeout for the rest # of functions. # [1] https://github.com/kubernetes-client/python-base/blob/master/ # stream/ws_client.py if req_timeout is not None: kwargs['_request_timeout'] = req_timeout if stderr: kwargs['_preload_content'] = False resp = stream(api.connect_get_namespaced_pod_exec, pod_name, namespace, **kwargs) # Run until completion resp.run_forever(timeout=f_timeout) return (resp.read_stdout(timeout=f_timeout), resp.read_stderr(timeout=f_timeout)) else: return stream(api.connect_get_namespaced_pod_exec, pod_name, namespace, **kwargs)",28,21
openstack%2Fnova~master~I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3,openstack/nova,master,I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3,doc: Cleanup of existing index pages,ABANDONED,2017-08-29 14:07:14.000000000,2020-03-18 10:16:16.000000000,,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2017-08-29 14:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/451d34cd5131ff54a77cd0c318c43e79e95a4954', 'message': 'doc: Cleanup of existing index pages\n\nCross-reference documents where appropriate and fix some formatting.\n\nChange-Id: I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3\n'}, {'number': 2, 'created': '2017-08-29 16:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca2ef2e893f7d2813ff33060a87cdb4cf25088fa', 'message': 'doc: Cleanup of existing index pages\n\nCross-reference documents where appropriate and fix some formatting.\n\nChange-Id: I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3\n'}, {'number': 3, 'created': '2017-08-30 10:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4129a1f27176aac99f71142b6f947e1be36b1f33', 'message': 'doc: Cleanup of existing index pages\n\nCross-reference documents where appropriate and fix some formatting.\n\nChange-Id: I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3\n'}, {'number': 4, 'created': '2017-09-04 10:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8796434235c516af0a8e2f6ac31351dca673dfea', 'message': 'doc: Cleanup of existing index pages\n\nCross-reference documents where appropriate and fix some formatting.\n\nChange-Id: I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3\n'}, {'number': 5, 'created': '2017-09-06 13:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba3fa68982a5555f6e7b8b66e213855ffd6e45b8', 'message': 'doc: Cleanup of existing index pages\n\nCross-reference documents where appropriate and fix some formatting.\n\nChange-Id: I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3\n'}, {'number': 6, 'created': '2017-09-08 15:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b39054bd83040d1f2926a2344201ee6d6a6bc74e', 'message': 'doc: Cleanup of existing index pages\n\nCross-reference documents where appropriate and fix some formatting.\n\nChange-Id: I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3\n'}, {'number': 7, 'created': '2017-09-22 14:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20d387c8c9a3937c7eb0cbadd017787998a7be19', 'message': 'doc: Cleanup of existing index pages\n\nCross-reference documents where appropriate and fix some formatting.\n\nChange-Id: I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3\n'}, {'number': 8, 'created': '2017-10-09 09:55:47.000000000', 'files': ['doc/source/index.rst', 'doc/source/reference/index.rst', 'doc/source/install/index.rst', 'doc/source/cli/index.rst', 'doc/source/install/prerequisites.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f3f819681c80eab53850cdc9b7e7ea1491ed0a0', 'message': 'doc: Cleanup of existing index pages\n\nCross-reference documents where appropriate and fix some formatting.\n\nChange-Id: I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3\n'}]",2,498819,8f3f819681c80eab53850cdc9b7e7ea1491ed0a0,89,15,8,15334,,,0,"doc: Cleanup of existing index pages

Cross-reference documents where appropriate and fix some formatting.

Change-Id: I6b6448cec3f9d0bd467e4405a6d72d069efa0fb3
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/498819/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/reference/index.rst', 'doc/source/install/index.rst', 'doc/source/cli/index.rst']",4,451d34cd5131ff54a77cd0c318c43e79e95a4954,bp/doc-migration,"======================In this section you will find information on nova's command line utilities.expected to be started by an init system, expect to read a :doc:`nova.conf </configuration/config>` file, and daemonize correctly after starting up.Starting in the Pike release, the preferred way to deploy the nova API is in a WSGI container (`uwsgi` or `Apache` + `mod_wsgi`). These are the WSGI entry points to do that.There are a few additional CLI Tools which nova services call when appropriate. This should not need to be called directly by operators, but they are documented for completeness and debugging if something goes wrong.","In this section you will find information on Nova's command line utilities.expected to be started by an init system, expect to read a nova.conf file, and daemonize correctly after starting up.Starting in the Pike release, the prefered way to deploy the nova api is in a wsgi container (uwsgi or apache/mod_wsgi). These are the wsgi entry points to do that.There are a few additional cli tools which nova services call when appropriate. This should not need to be called directly by operators, but they are documented for completeness and debugging if something goes wrong.",55,56
openstack%2Fnova~master~I7d1a02fdcc914ab642de2794fa92a92fe6a76380,openstack/nova,master,I7d1a02fdcc914ab642de2794fa92a92fe6a76380,WIP! doc: Add contents page,ABANDONED,2017-08-29 14:07:14.000000000,2020-03-18 10:15:34.000000000,,"[{'_account_id': 6062}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-29 14:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24bec78a7c6963ef18594f8e6871d2724667d285', 'message': 'doc: Add contents pages\n\nThese provide a dense but complete overview of all the documents *and*\nsolves the ""Sphinx wants every document in at least one ToC"" problem in\none fell swoop. We should avoid using ToCs outside of these files as\nthey don\'t provide enough context.\n\nChange-Id: I7d1a02fdcc914ab642de2794fa92a92fe6a76380\n'}, {'number': 2, 'created': '2017-08-29 16:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afbdf95c6a6613ffcda1556f6b1edea215304020', 'message': 'doc: Add contents pages\n\nThese provide a dense but complete overview of all the documents *and*\nsolves the ""Sphinx wants every document in at least one ToC"" problem in\none fell swoop. We should avoid using ToCs outside of these files as\nthey don\'t provide enough context.\n\nChange-Id: I7d1a02fdcc914ab642de2794fa92a92fe6a76380\n'}, {'number': 3, 'created': '2017-08-30 10:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3552a7e4e198274eec15d06c5a3d0f89adfa9f0d', 'message': 'doc: Add contents page\n\nThis provide a dense but complete overview of all the documents *and*\nsolves the ""Sphinx wants every document in at least one ToC"" problem in\none fell swoop. We should avoid using ToCs outside of these files as\nthey don\'t provide enough context.\n\nChange-Id: I7d1a02fdcc914ab642de2794fa92a92fe6a76380\n'}, {'number': 4, 'created': '2017-09-04 10:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/349364ceb90470458750d77df38eadb76ee350e0', 'message': 'doc: Add contents page\n\nThis provide a dense but complete overview of all the documents *and*\nsolves the ""Sphinx wants every document in at least one ToC"" problem in\none fell swoop. We should avoid using ToCs outside of these files as\nthey don\'t provide enough context.\n\nChange-Id: I7d1a02fdcc914ab642de2794fa92a92fe6a76380\n'}, {'number': 5, 'created': '2017-09-06 13:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/555cf233878186057007230eb8dd93b900a3bdf7', 'message': 'WIP! doc: Add contents page\n\nThis provide a dense but complete overview of all the documents *and*\nsolves the ""Sphinx wants every document in at least one ToC"" problem in\none fell swoop. We should avoid using ToCs outside of these files as\nthey don\'t provide enough context.\n\nChange-Id: I7d1a02fdcc914ab642de2794fa92a92fe6a76380\n'}, {'number': 6, 'created': '2017-09-08 15:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fb78353bc1176c34227cfac81db2a589f6ed45c', 'message': 'WIP! doc: Add contents page\n\nThis provide a dense but complete overview of all the documents *and*\nsolves the ""Sphinx wants every document in at least one ToC"" problem in\none fell swoop. We should avoid using ToCs outside of these files as\nthey don\'t provide enough context.\n\nChange-Id: I7d1a02fdcc914ab642de2794fa92a92fe6a76380\n'}, {'number': 7, 'created': '2017-09-22 14:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f56e10891fa85dfbc8af08d8df54ea1e82eff56', 'message': 'WIP! doc: Add contents page\n\nThis provide a dense but complete overview of all the documents *and*\nsolves the ""Sphinx wants every document in at least one ToC"" problem in\none fell swoop. We should avoid using ToCs outside of these files as\nthey don\'t provide enough context.\n\nChange-Id: I7d1a02fdcc914ab642de2794fa92a92fe6a76380\n'}, {'number': 8, 'created': '2017-10-09 09:55:47.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/conf.py', 'doc/source/contents.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/1fa9b06c0367d7c16fd8988bf1c363dc36b4b18f', 'message': 'WIP! doc: Add contents page\n\nThis provide a dense but complete overview of all the documents *and*\nsolves the ""Sphinx wants every document in at least one ToC"" problem in\none fell swoop. We should avoid using ToCs outside of these files as\nthey don\'t provide enough context.\n\nChange-Id: I7d1a02fdcc914ab642de2794fa92a92fe6a76380\n'}]",0,498820,1fa9b06c0367d7c16fd8988bf1c363dc36b4b18f,61,8,8,15334,,,0,"WIP! doc: Add contents page

This provide a dense but complete overview of all the documents *and*
solves the ""Sphinx wants every document in at least one ToC"" problem in
one fell swoop. We should avoid using ToCs outside of these files as
they don't provide enough context.

Change-Id: I7d1a02fdcc914ab642de2794fa92a92fe6a76380
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/498820/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/contents.rst', 'doc/source/cli/contents.rst', 'doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/configuration/contents.rst', 'doc/source/reference/contents.rst', 'doc/source/contributor/contents.rst', 'doc/source/conf.py', 'doc/source/install/contents.rst', 'doc/source/user/contents.rst', 'doc/source/contents.rst']",11,24bec78a7c6963ef18594f8e6871d2724667d285,bp/doc-migration,".. Copyright 2017 Red Hat, Inc. All Rights Reserved. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. ========== Contents ========== .. toctree:: :hidden: index .. toctree:: :maxdepth: 3 admin/contents cli/contents configuration/contents contributor/contents install/contents reference/contents user/contents ",,236,1
openstack%2Foctavia-tempest-plugin~master~I26896f1126f7bb5c09e2668b3958019c782f346a,openstack/octavia-tempest-plugin,master,I26896f1126f7bb5c09e2668b3958019c782f346a,Use VM as client in traffic operation scenario tests,ABANDONED,2019-10-09 13:46:14.000000000,2020-03-18 10:15:18.000000000,,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-10-09 13:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/65d1fbdb7851ef4fb2f4e7e3d41d0df09f7d66e0', 'message': 'WIP Use VM as client in traffic operation scenario tests\n\nChange-Id: I26896f1126f7bb5c09e2668b3958019c782f346a\n'}, {'number': 2, 'created': '2019-10-10 15:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0688467f54faea5ee929e45b94c75a3332ec69aa', 'message': 'WIP Use VM as client in traffic operation scenario tests\n\nChange-Id: I26896f1126f7bb5c09e2668b3958019c782f346a\n'}, {'number': 3, 'created': '2019-10-14 11:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1fe5befc942b32f6e8dd7a6425e4164628cf523d', 'message': 'WIP Use VM as client in traffic operation scenario tests\n\nChange-Id: I26896f1126f7bb5c09e2668b3958019c782f346a\n'}, {'number': 4, 'created': '2019-10-18 07:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d8ee3821b5d95b84d41a8093bb4bcdc02c585227', 'message': 'WIP Use VM as client in traffic operation scenario tests\n\nChange-Id: I26896f1126f7bb5c09e2668b3958019c782f346a\n'}, {'number': 5, 'created': '2019-11-22 20:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/edde24a1a2d0a4fe4a31a7ba536774963b71b8e1', 'message': 'Use VM as client in traffic operation scenario tests\n\nload_balancer.test_client_from_vm option will make tempest perform\nrequests to load balancers from a VM instead of creating connections\nfrom the node that runs tempest.\n\nDepends-On: https://review.opendev.org/#/c/695167/\n\nChange-Id: I26896f1126f7bb5c09e2668b3958019c782f346a\n'}, {'number': 6, 'created': '2019-11-23 08:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/fc82911ddabd67362134d42666b9254b1ea3505e', 'message': 'Use VM as client in traffic operation scenario tests\n\nload_balancer.test_client_from_vm option will make tempest perform\nrequests to load balancers from a VM instead of creating connections\nfrom the node that runs tempest.\n\nDepends-On: https://review.opendev.org/#/c/695167/\n\nChange-Id: I26896f1126f7bb5c09e2668b3958019c782f346a\n'}, {'number': 7, 'created': '2019-11-25 10:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/52967081c95d6784fc611f74f72f9b789061cc46', 'message': 'Use VM as client in traffic operation scenario tests\n\nload_balancer.test_client_from_vm option will make tempest perform\nrequests to load balancers from a VM instead of creating connections\nfrom the node that runs tempest.\n\nDepends-On: https://review.opendev.org/#/c/695167/\n\nChange-Id: I26896f1126f7bb5c09e2668b3958019c782f346a\n'}, {'number': 8, 'created': '2019-11-28 10:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9078107f1fd11e1406996ac4370ae399ae45b8c7', 'message': 'Use VM as client in traffic operation scenario tests\n\nload_balancer.test_client_from_vm option will make tempest perform\nrequests to load balancers from a VM instead of creating connections\nfrom the node that runs tempest.\n\nDepends-On: https://review.opendev.org/#/c/695167/\n\nChange-Id: I26896f1126f7bb5c09e2668b3958019c782f346a\n'}, {'number': 9, 'created': '2019-11-28 11:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1f782551a7c3e304095d9435201d045bcc2de413', 'message': 'Use VM as client in traffic operation scenario tests\n\nload_balancer.test_client_from_vm option will make tempest perform\nrequests to load balancers from a VM instead of creating connections\nfrom the node that runs tempest.\n\nDepends-On: https://review.opendev.org/#/c/695167/\n\nChange-Id: I26896f1126f7bb5c09e2668b3958019c782f346a\n'}, {'number': 10, 'created': '2019-11-28 16:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/61abf8e04e6bcd18f0665076639091b4742ef039', 'message': 'Use VM as client in traffic operation scenario tests\n\nload_balancer.test_client_from_vm option will make tempest perform\nrequests to load balancers from a VM instead of creating connections\nfrom the node that runs tempest.\n\nDepends-On: https://review.opendev.org/#/c/695167/\n\nChange-Id: I26896f1126f7bb5c09e2668b3958019c782f346a\n'}, {'number': 11, 'created': '2019-12-03 09:05:48.000000000', 'files': ['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/test_base.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2632675a72af43aa7b242b3adbe3402cefeef2bb', 'message': 'Use VM as client in traffic operation scenario tests\n\nload_balancer.test_client_from_vm option will make tempest perform\nrequests to load balancers from a VM instead of creating connections\nfrom the node that runs tempest.\n\nDepends-On: https://review.opendev.org/#/c/695167/\n\nChange-Id: I26896f1126f7bb5c09e2668b3958019c782f346a\n'}]",6,687562,2632675a72af43aa7b242b3adbe3402cefeef2bb,29,4,11,29244,,,0,"Use VM as client in traffic operation scenario tests

load_balancer.test_client_from_vm option will make tempest perform
requests to load balancers from a VM instead of creating connections
from the node that runs tempest.

Depends-On: https://review.opendev.org/#/c/695167/

Change-Id: I26896f1126f7bb5c09e2668b3958019c782f346a
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/62/687562/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/test_base.py']",2,65d1fbdb7851ef4fb2f4e7e3d41d0df09f7d66e0,client_vm," # TODO(gthiemon) set cls.lb_vip_subnet_prefix cls.lb_vip_subnet_prefix = ( CONF.load_balancer.vip_ipv6_subnet_cidr.rpartition('/')[2] ) assert(cls.lb_vip_subnet_prefix.isdigit()) # TODO(gthiemon) add security groups for client on the VIP network # Create client 1 instance client_details = cls._create_webserver('lb_member_client1', cls.lb_member_vip_net) cls.lb_client1 = client_details['server'] cls.client1_ip = client_details.get('ipv4_address') cls.client1_ipv6 = client_details.get('ipv6_address') cls.client1_public_ip = client_details['public_ipv4_address'] LOG.debug('Octavia Setup: lb_client1 = {}'.format( cls.lb_client1[const.ID])) LOG.debug('Octavia Setup: client1_ip = {}'.format( cls.client1_ip)) LOG.debug('Octavia Setup: client1_ipv6 = {}'.format( cls.client1_ipv6)) LOG.debug('Octavia Setup: client1_public_ip = {}'.format( cls.client1_public_ip)) # Enable the IPv6 nic in client 1 cls._enable_ipv6_nic_webserver( cls.client1_public_ip, cls.lb_member_keypair['private_key'], cls.client1_ipv6, cls.lb_vip_subnet_prefix) def _client_context(self, protocol): if CONF.load_balancer.test_client_from_vm: linux_client = remote_client.RemoteClient( self.client1_public_ip, CONF.validation.image_ssh_user, pkey=self.lb_member_keypair['private_key']) linux_client.validate_authentication() return linux_client return session return None def _client_request(self, context, vip_address, protocol, verify): if CONF.load_balancer.test_client_from_vm: if protocol != const.UDP: # TODO(gthiemon) handle verify here cmd = 'curl -g {0}://{1}'.format(protocol.lower(), vip_address) else: cmd = 'echo data | nc -w2 -u {0} {1}'.format(vip_address, 80) data = context.exec_command(cmd) elif protocol != const.UDP: url = ""{0}://{1}"".format(protocol.lower(), vip_address) r = context.get(url, timeout=2, verify=verify) data = r.content else: data = self._udp_request(vip_address, timeout=2) return data def _wait_for_lb_functional(self, context, vip_address, protocol=const.HTTP, verify=True): self._client_request(context, vip_address, protocol, verify) try: context = self._client_context(protocol) self._wait_for_lb_functional(context, vip_address, protocol, verify) data = self._client_request(context, vip_address, protocol, verify)"," def _wait_for_lb_functional(self, vip_address, protocol=const.HTTP, verify=True): try: if protocol != const.UDP: url = ""{0}://{1}"".format(protocol.lower(), vip_address) session.get(url, timeout=2, verify=verify) else: self._udp_request(vip_address, timeout=2) if protocol != const.UDP: session = requests.Session() self._wait_for_lb_functional(vip_address, protocol, verify) if protocol != const.UDP: url = ""{0}://{1}"".format(protocol.lower(), vip_address) r = session.get(url, timeout=2, verify=verify) data = r.content else: data = self._udp_request(vip_address, timeout=2) ",69,17
openstack%2Fpython-openstackclient~master~I7b89c4f818865073947e0850e86c18d0d2415a51,openstack/python-openstackclient,master,I7b89c4f818865073947e0850e86c18d0d2415a51,Fix router create/show if extraroute not supported,MERGED,2019-12-04 07:24:24.000000000,2020-03-18 10:05:19.000000000,2020-01-07 13:43:15.000000000,"[{'_account_id': 2}, {'_account_id': 55}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13734}, {'_account_id': 22348}, {'_account_id': 31245}, {'_account_id': 31414}]","[{'number': 1, 'created': '2019-12-04 07:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/79a8e19e044b31bb7d6222e4ff2d195aea69cd5d', 'message': 'Fix router create/show if extraroute not supported\n\nIf neutron does not support extraroute l3 extension, the route column\nformatter fails.\n\nChange-Id: I7b89c4f818865073947e0850e86c18d0d2415a51\n'}, {'number': 2, 'created': '2019-12-04 13:57:51.000000000', 'files': ['openstackclient/network/v2/router.py', 'openstackclient/tests/unit/network/v2/test_router.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/509ca3ed36b4ef512a47ff8d39c9df751084015a', 'message': 'Fix router create/show if extraroute not supported\n\nIf neutron does not support extraroute l3 extension, the route column\nformatter fails.\n\nChange-Id: I7b89c4f818865073947e0850e86c18d0d2415a51\n'}]",1,697240,509ca3ed36b4ef512a47ff8d39c9df751084015a,24,10,2,55,,,0,"Fix router create/show if extraroute not supported

If neutron does not support extraroute l3 extension, the route column
formatter fails.

Change-Id: I7b89c4f818865073947e0850e86c18d0d2415a51
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/40/697240/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/router.py', 'openstackclient/tests/unit/network/v2/test_router.py']",2,79a8e19e044b31bb7d6222e4ff2d195aea69cd5d,," def test_show_no_extra_route_extension(self): _router = network_fakes.FakeRouter.create_one_router({'routes': None}) arglist = [ _router.name, ] verifylist = [ ('router', _router.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) with mock.patch.object( self.network, ""find_router"", return_value=_router): columns, data = self.cmd.take_action(parsed_args) self.assertIn(""routes"", columns) self.assertIsNone(list(data)[columns.index('routes')].human_readable())",,18,1
openstack%2Fopenstack-ansible-repo_build~master~Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,openstack/openstack-ansible-repo_build,master,Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,repo_build: update tests to opendev.org,MERGED,2020-03-13 11:48:29.000000000,2020-03-18 10:00:01.000000000,2020-03-16 18:38:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-13 11:48:29.000000000', 'files': ['tests/test-install-server.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/fd4b607820d75e439fcf0fc68e370d13b0493752', 'message': 'repo_build: update tests to opendev.org\n\nChange-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce\n'}]",0,712914,fd4b607820d75e439fcf0fc68e370d13b0493752,11,4,1,25600,,,0,"repo_build: update tests to opendev.org

Change-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/14/712914/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-install-server.yml'],1,fd4b607820d75e439fcf0fc68e370d13b0493752,," path: ""/opt/git/opendev.org/openstack"" src: ""/opt/git/opendev.org/openstack/keystone/"" repo: ""https://opendev.org/openstack/keystone"" repo: ""https://opendev.org/openstack/tempest"""," path: ""/opt/git/openstack"" src: ""/opt/git/openstack/keystone/"" repo: ""https://git.openstack.org/openstack/keystone"" repo: ""https://git.openstack.org/openstack/tempest""",4,5
openstack%2Fopenstack-ansible-os_cloudkitty~master~I64614a02bd3a0d99a69a9c7ac59552ba7cb1fc88,openstack/openstack-ansible-os_cloudkitty,master,I64614a02bd3a0d99a69a9c7ac59552ba7cb1fc88,Refactor memcached_servers,MERGED,2020-03-16 13:34:16.000000000,2020-03-18 09:57:51.000000000,2020-03-18 09:56:32.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-16 13:34:16.000000000', 'files': ['templates/cloudkitty.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/9988a7573468eab5a6fd5e1e05d240dcc3c0989b', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: I64614a02bd3a0d99a69a9c7ac59552ba7cb1fc88\n'}]",0,713232,9988a7573468eab5a6fd5e1e05d240dcc3c0989b,9,4,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: I64614a02bd3a0d99a69a9c7ac59552ba7cb1fc88
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/32/713232/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/cloudkitty.conf.j2', 'defaults/main.yml']",2,9988a7573468eab5a6fd5e1e05d240dcc3c0989b,memcached-refactor," - pymemcache# Memcached override cloudkitty_memcached_servers: ""{{ memcached_servers }}"" ",,5,1
openstack%2Fhorizon~master~I5e9bd183b72f6e539c2a3d3743ff81f968e3216a,openstack/horizon,master,I5e9bd183b72f6e539c2a3d3743ff81f968e3216a,Add the unit test for groups,NEW,2019-09-20 06:31:40.000000000,2020-03-18 09:55:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-20 06:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/516b4020d28b352950439f8ba13f1c254f632b8b', 'message': 'Add the unit test for groups\n\nChange-Id: I5e9bd183b72f6e539c2a3d3743ff81f968e3216a\n'}, {'number': 2, 'created': '2019-09-23 01:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ee8917a4ca0286464b74fb4be152378f44388d45', 'message': 'Add the unit test for groups\n\nChange-Id: I5e9bd183b72f6e539c2a3d3743ff81f968e3216a\n'}, {'number': 3, 'created': '2019-10-09 02:55:12.000000000', 'files': ['openstack_dashboard/dashboards/identity/static/dashboard/identity/groups/actions/actions.module.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fa7e1f563b5cbd422b228bd7c87ec102550ab072', 'message': 'Add the unit test for groups\n\nChange-Id: I5e9bd183b72f6e539c2a3d3743ff81f968e3216a\n'}]",0,683292,fa7e1f563b5cbd422b228bd7c87ec102550ab072,7,2,3,27822,,,0,"Add the unit test for groups

Change-Id: I5e9bd183b72f6e539c2a3d3743ff81f968e3216a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/92/683292/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/identity/static/dashboard/identity/groups/actions/actions.module.spec.js'],1,516b4020d28b352950439f8ba13f1c254f632b8b,test-groups,"/** * Licensed under the Apache License, Version 2.0 (the ""License""); you may * not use this file except in compliance with the License. You may obtain * a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * License for the specific language governing permissions and limitations * under the License. */ (function () { 'use strict'; describe('groups actions module', function() { var registry; beforeEach(module('horizon.dashboard.identity.groups.actions')); beforeEach(inject(function($injector) { registry = $injector.get('horizon.framework.conf.resource-type-registry.service'); })); it('registers Create Groups as a global action', function() { var actions = registry.getResourceType('OS::Keystone::Group').globalActions; expect(actionHasId(actions, 'createGroupAction')).toBe(true); }); it('registers Delete Groups as a batch action', function() { var actions = registry.getResourceType('OS::Keystone::Group').batchActions; expect(actionHasId(actions, 'batchDeleteAction')).toBe(true); }); it('registers Delete Group as a item action', function() { var actions = registry.getResourceType('OS::Keystone::Group').itemActions; expect(actionHasId(actions, 'deleteAction')).toBe(true); }); it('registers Edit Group as a item action', function() { var actions = registry.getResourceType('OS::Keystone::Group').itemActions; expect(actionHasId(actions, 'editAction')).toBe(true); }); function actionHasId(list, value) { return list.filter(matchesId).length === 1; function matchesId(action) { if (action.id === value) { return true; } } } }); })(); ",,58,0
openstack%2Fopenstack-ansible-repo_server~stable%2Frocky~Ife4c1ab05e135930da8706d96af5b23648cee800,openstack/openstack-ansible-repo_server,stable/rocky,Ife4c1ab05e135930da8706d96af5b23648cee800,lsyncd: use relative paths in exclude statement,MERGED,2020-03-11 15:33:39.000000000,2020-03-18 09:52:55.000000000,2020-03-18 09:52:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-11 15:33:39.000000000', 'files': ['templates/lsyncd.lua.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/a515cfe13138033ed0f7a442956235e755455f19', 'message': 'lsyncd: use relative paths in exclude statement\n\nIt seems only relative paths should be used in the exclude\nstatement. This has probably gone unnoticed since there is a second\nsync for these files.\n\nChange-Id: Ife4c1ab05e135930da8706d96af5b23648cee800\n'}]",0,712482,a515cfe13138033ed0f7a442956235e755455f19,8,4,1,25600,,,0,"lsyncd: use relative paths in exclude statement

It seems only relative paths should be used in the exclude
statement. This has probably gone unnoticed since there is a second
sync for these files.

Change-Id: Ife4c1ab05e135930da8706d96af5b23648cee800
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/82/712482/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/lsyncd.lua.j2'],1,a515cfe13138033ed0f7a442956235e755455f19,," exclude = {""{{ repo_git_cache_dirname }}""},"," exclude = {""{{ repo_git_cache_dir }}""},",1,1
openstack%2Fopenstack-ansible-repo_build~stable%2Ftrain~Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,openstack/openstack-ansible-repo_build,stable/train,Ieca6ec9bf898432c76c019a1d2d97c280cd85dce,repo_build: update tests to opendev.org,MERGED,2020-03-16 18:47:35.000000000,2020-03-18 09:50:29.000000000,2020-03-18 09:48:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-16 18:47:35.000000000', 'files': ['tests/test-install-server.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/94aa643e7cede5e98813ab68400e8076c356ed1a', 'message': 'repo_build: update tests to opendev.org\n\nChange-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce\n(cherry picked from commit fd4b607820d75e439fcf0fc68e370d13b0493752)\n'}]",0,713313,94aa643e7cede5e98813ab68400e8076c356ed1a,8,2,1,25600,,,0,"repo_build: update tests to opendev.org

Change-Id: Ieca6ec9bf898432c76c019a1d2d97c280cd85dce
(cherry picked from commit fd4b607820d75e439fcf0fc68e370d13b0493752)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/13/713313/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-install-server.yml'],1,94aa643e7cede5e98813ab68400e8076c356ed1a,," path: ""/opt/git/opendev.org/openstack"" src: ""/opt/git/opendev.org/openstack/keystone/"" repo: ""https://opendev.org/openstack/keystone"" repo: ""https://opendev.org/openstack/tempest"""," path: ""/opt/git/openstack"" src: ""/opt/git/openstack/keystone/"" repo: ""https://git.openstack.org/openstack/keystone"" repo: ""https://git.openstack.org/openstack/tempest""",4,5
openstack%2Fkolla-ansible~stable%2Fstein~I28f63ec81f1ea5bc4a213d053bfb2c04388d5925,openstack/kolla-ansible,stable/stein,I28f63ec81f1ea5bc4a213d053bfb2c04388d5925,Delete stale fluent config on restart,ABANDONED,2020-03-10 13:01:13.000000000,2020-03-18 09:50:20.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-10 13:01:13.000000000', 'files': ['ansible/roles/common/templates/fluentd.json.j2', 'releasenotes/notes/bug-1862211-1c44c4a16963baad.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cddc61fe0367629819992d37f630f05cf8817b23', 'message': 'Delete stale fluent config on restart\n\nWe already only include .conf files in fluent.conf:\n\n(fluentd)[fluentd@cpu-e-1041 /etc/fluentd]$ cat fluent.conf\n@include input/*.conf\n@include filter/*.conf\n@include format/*.conf\n@include output/*.conf\n\nso this change should not cause ill effect. This works because of the\nmerge option in config files:\n\nmerge: merges the source directory into the target directory instead of\nreplacing it. Boolean, defaults to false.\n\nsee https://docs.openstack.org/kolla/latest/admin/kolla_api.html#kolla-api-external-config\n\nChange-Id: I28f63ec81f1ea5bc4a213d053bfb2c04388d5925\nCloses-Bug: #1862211\n(cherry picked from commit e7870e9df9e416b1b342ad6264bb66378fe62b3f)\n'}]",0,712067,cddc61fe0367629819992d37f630f05cf8817b23,8,4,1,14826,,,0,"Delete stale fluent config on restart

We already only include .conf files in fluent.conf:

(fluentd)[fluentd@cpu-e-1041 /etc/fluentd]$ cat fluent.conf
@include input/*.conf
@include filter/*.conf
@include format/*.conf
@include output/*.conf

so this change should not cause ill effect. This works because of the
merge option in config files:

merge: merges the source directory into the target directory instead of
replacing it. Boolean, defaults to false.

see https://docs.openstack.org/kolla/latest/admin/kolla_api.html#kolla-api-external-config

Change-Id: I28f63ec81f1ea5bc4a213d053bfb2c04388d5925
Closes-Bug: #1862211
(cherry picked from commit e7870e9df9e416b1b342ad6264bb66378fe62b3f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/712067/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/fluentd.json.j2', 'releasenotes/notes/bug-1862211-1c44c4a16963baad.yaml']",2,cddc61fe0367629819992d37f630f05cf8817b23,bug/1862211-stable/stein,--- fixes: - | Fixes an issue where old fluentd configuration files would persist in the container across restarts despite being removed from the ``node_custom_config`` directory. `LP#1862211 <https://launchpad.net/bugs/1862211>`__ ,,15,8
openstack%2Frpm-packaging~master~Ic4999bf3d8b255bb37811e441fe282da1c96b8ba,openstack/rpm-packaging,master,Ic4999bf3d8b255bb37811e441fe282da1c96b8ba,oslo.utils: remove reflection tests that are failing with python 3.8,MERGED,2020-03-14 12:42:55.000000000,2020-03-18 09:49:24.000000000,2020-03-16 12:39:27.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-14 12:42:55.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b3ad5682bb01498dc5ff3d4e4e4fd0069cbfd5c3', 'message': 'oslo.utils: remove reflection tests that are failing with python 3.8\n\noslo.utils is currently still not reporting green against python 3.8\nupstream.\n\nChange-Id: Ic4999bf3d8b255bb37811e441fe282da1c96b8ba\n'}]",0,713090,b3ad5682bb01498dc5ff3d4e4e4fd0069cbfd5c3,11,6,1,6593,,,0,"oslo.utils: remove reflection tests that are failing with python 3.8

oslo.utils is currently still not reporting green against python 3.8
upstream.

Change-Id: Ic4999bf3d8b255bb37811e441fe282da1c96b8ba
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/90/713090/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,b3ad5682bb01498dc5ff3d4e4e4fd0069cbfd5c3,,# tests fail with python 3.8 rm -v oslo_utils/tests/test_reflection.py,,2,0
openstack%2Faodh~master~Id663a1b0ba796905105f47e192dbfb5cf1f886d6,openstack/aodh,master,Id663a1b0ba796905105f47e192dbfb5cf1f886d6,Imported Translations from Zanata,MERGED,2020-03-18 06:41:24.000000000,2020-03-18 09:41:38.000000000,2020-03-18 09:39:20.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 06:41:24.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/aodh/commit/ed80204406f58d686132f038c3e9ff3484c2c31d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id663a1b0ba796905105f47e192dbfb5cf1f886d6\n'}]",0,713578,ed80204406f58d686132f038c3e9ff3484c2c31d,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id663a1b0ba796905105f47e192dbfb5cf1f886d6
",git fetch https://review.opendev.org/openstack/aodh refs/changes/78/713578/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,ed80204406f58d686132f038c3e9ff3484c2c31d,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2020. #zanata""POT-Creation-Date: 2020-03-15 04:31+0000\n""""PO-Revision-Date: 2020-03-18 12:06+0000\n""msgid ""9.0.0-20"" msgstr ""9.0.0-20"" msgid """" ""Aodh Quota API is aiming for multi-tenancy support. By default, only the "" ""admin user is able to change or delete the resource quota for projects as "" ""defined by the default policy rule 'telemetry:update_quotas' and 'telemetry:"" ""delete_quotas'. User alarm quota and alarm action quota are not supported in "" ""Quota API."" msgstr """" ""Aodh Quota API is aiming for multi-tenancy support. By default, only the "" ""admin user is able to change or delete the resource quota for projects as "" ""defined by the default policy rule 'telemetry:update_quotas' and 'telemetry:"" ""delete_quotas'. User alarm quota and alarm action quota are not supported in "" ""Quota API."" ","""POT-Creation-Date: 2020-01-31 02:18+0000\n""""PO-Revision-Date: 2019-12-11 03:16+0000\n""",19,2
openstack%2Fpython-magnumclient~master~I3d311f457307a75a3e9167768ae5e0c1d47d9566,openstack/python-magnumclient,master,I3d311f457307a75a3e9167768ae5e0c1d47d9566,Drop py27 tests,MERGED,2020-03-18 00:09:43.000000000,2020-03-18 09:41:20.000000000,2020-03-18 09:37:26.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-18 00:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/0872e1670157543b44722979e3d277d4c5904b5f', 'message': 'Drop py27 tests\n\nTask: 39089\nStory: 2007437\n\nChange-Id: I3d311f457307a75a3e9167768ae5e0c1d47d9566\n'}, {'number': 2, 'created': '2020-03-18 00:19:30.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/de2b8e88b0bfb2cfc2d3f7d591d0bfc46a71d76e', 'message': 'Drop py27 tests\n\nTask: 39089\nStory: 2007437\n\nChange-Id: I3d311f457307a75a3e9167768ae5e0c1d47d9566\n'}]",0,713555,de2b8e88b0bfb2cfc2d3f7d591d0bfc46a71d76e,11,4,2,6484,,,0,"Drop py27 tests

Task: 39089
Story: 2007437

Change-Id: I3d311f457307a75a3e9167768ae5e0c1d47d9566
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/55/713555/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,0872e1670157543b44722979e3d277d4c5904b5f,story/2007437-39089,"envlist = py37,pypy,pep8","envlist = py27,py37,pypy,pep8[testenv:debug-py27] basepython = python2.7 commands = oslo_debug_helper -t magnumclient/tests {posargs} ",1,6
openstack%2Fopenstack-ansible~master~Ib06393cb581b2281b17796a76277652fe24fa874,openstack/openstack-ansible,master,Ib06393cb581b2281b17796a76277652fe24fa874,Imported Translations from Zanata,MERGED,2020-03-18 08:24:05.000000000,2020-03-18 09:39:21.000000000,2020-03-18 09:36:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-18 08:24:05.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/ru/LC_MESSAGES/doc-user.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/30dd0337e527a1ab655049e1bcbf6bc91d479ad3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib06393cb581b2281b17796a76277652fe24fa874\n'}]",0,713590,30dd0337e527a1ab655049e1bcbf6bc91d479ad3,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib06393cb581b2281b17796a76277652fe24fa874
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/713590/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/ru/LC_MESSAGES/doc-user.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po']",4,30dd0337e527a1ab655049e1bcbf6bc91d479ad3,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2020. #zanata""POT-Creation-Date: 2020-03-14 18:21+0000\n""""PO-Revision-Date: 2020-03-18 12:04+0000\n""""Alternatively you can try using new compute nodes deployment script ``/opt/"" ""openstack-ansible/scripts/add-compute.sh``."" msgstr """" ""Alternatively you can try using new compute nodes deployment script ``/opt/"" ""openstack-ansible/scripts/add-compute.sh``."" msgid """"msgid """" ""You can provide this script with extra tasks that will be executed before or "" ""right after OSA roles. To do so you should set environment variables "" ""``PRE_OSA_TASKS`` or ``POST_OSA_TASKS`` with plays to run devided with "" ""semicolon:"" msgstr """" ""You can provide this script with extra tasks that will be executed before or "" ""right after OSA roles. To do so you should set environment variables "" ""``PRE_OSA_TASKS`` or ``POST_OSA_TASKS`` with plays to run divided with "" ""semicolon:"" ","""POT-Creation-Date: 2019-12-18 08:46+0000\n""""PO-Revision-Date: 2019-12-14 04:50+0000\n""",24,26
openstack%2Frpm-packaging~master~I8e426b41a16030849e59b20abf2a3c08ff9d6a98,openstack/rpm-packaging,master,I8e426b41a16030849e59b20abf2a3c08ff9d6a98,Remove six from requirements,ABANDONED,2020-03-18 09:35:40.000000000,2020-03-18 09:37:03.000000000,,"[{'_account_id': 6593}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-18 09:35:40.000000000', 'files': ['openstack/sahara/sahara.spec.j2', 'openstack/ironic/ironic.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/sahara/0001-Fix-syntax-error-in-image-widths.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e0f2b6b48043981200004e69d7cedafca8ca76ab', 'message': 'Remove six from requirements\n\nThe six package is not needed anymore to build/run ironic and\nsushy.\n\nChange-Id: I8e426b41a16030849e59b20abf2a3c08ff9d6a98\n'}]",0,713596,e0f2b6b48043981200004e69d7cedafca8ca76ab,3,2,1,23851,,,0,"Remove six from requirements

The six package is not needed anymore to build/run ironic and
sushy.

Change-Id: I8e426b41a16030849e59b20abf2a3c08ff9d6a98
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/96/713596/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/sahara/sahara.spec.j2', 'openstack/ironic/ironic.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/sahara/0001-Fix-syntax-error-in-image-widths.patch']",4,e0f2b6b48043981200004e69d7cedafca8ca76ab,update-reqs,"From 0825bddef65c11928ae6d37a2a7702e2d9435143 Mon Sep 17 00:00:00 2001 From: Dirk Mueller <dirk@dmllr.de> Date: Sun, 1 Mar 2020 20:54:43 +0100 Subject: [PATCH] Fix syntax error in image widths I get when building sahara this error: File ""/usr/lib/python3.6/site-packages/sphinx/writers/html5.py"", line 548, in visit_image atts['width'] = int(atts['width']) * scale ValueError: invalid literal for int() with base 10: '800px' As it turns out, the default is pixels anyway, so we don't need to add a type suffix. For scale to work, we need to specify both width and height for images, otherwise sphinx reports an error. Change-Id: If0f8383e37a8b1185a8a08b24c79b313fdcb498c --- doc/source/intro/architecture.rst | 5 +++-- doc/source/intro/overview.rst | 5 +++-- 2 files changed, 6 insertions(+), 4 deletions(-) diff --git a/doc/source/intro/architecture.rst b/doc/source/intro/architecture.rst index 608bede3..6ebd2c44 100644 --- a/doc/source/intro/architecture.rst +++ b/doc/source/intro/architecture.rst @@ -2,8 +2,9 @@ Architecture ============ .. image:: ../images/sahara-architecture.svg - :width: 800 px - :scale: 100 % + :width: 960 + :height: 635 + :scale: 83 % :align: left diff --git a/doc/source/intro/overview.rst b/doc/source/intro/overview.rst index 1560b417..6f121541 100644 --- a/doc/source/intro/overview.rst +++ b/doc/source/intro/overview.rst @@ -75,8 +75,9 @@ The sahara product communicates with the following OpenStack services: like passwords and private keys in a secure storage. .. image:: ../images/openstack-interop.png - :width: 800 px - :scale: 99 % + :width: 960 + :height: 720 + :scale: 83 % :align: left General Workflow -- 2.25.1 ",,58,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b,openstack/tripleo-heat-templates,stable/train,If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b,Always set hieradata for certmonger_ca,MERGED,2020-03-15 18:17:44.000000000,2020-03-18 09:34:05.000000000,2020-03-18 09:34:04.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-15 18:17:44.000000000', 'files': ['deployment/certs/certmonger-user-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f8b87a90ad202f7f295196743d4efb7a5fb8f7e', 'message': 'Always set hieradata for certmonger_ca\n\nIn commit 37a339d2b0f0282bf1bac96587b10ca61868cec5 , the hieradata\nparameter certmonger_ca was set to only be set when internal_tls was\nenabled.\n\nThis breaks cert issuance by an non-local certmonger CA when the\nissuing the haproxy cert on the undercloud eg. issuing this cert by\nIPA, which relies on this hieradata being set.\n\nThere is no reason to restrict this data from being set, and doing so\nfixes the problem. (rhbz#1793975)\n\nThe remaining data should be set only when internal_tls is enabled.\nChange-Id: If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b\nFixes-Bug: 1860718\n(cherry picked from commit ed7d687398e3befe99d12e7ac432e412104080a6)\n'}]",0,713143,7f8b87a90ad202f7f295196743d4efb7a5fb8f7e,14,5,1,9914,,,0,"Always set hieradata for certmonger_ca

In commit 37a339d2b0f0282bf1bac96587b10ca61868cec5 , the hieradata
parameter certmonger_ca was set to only be set when internal_tls was
enabled.

This breaks cert issuance by an non-local certmonger CA when the
issuing the haproxy cert on the undercloud eg. issuing this cert by
IPA, which relies on this hieradata being set.

There is no reason to restrict this data from being set, and doing so
fixes the problem. (rhbz#1793975)

The remaining data should be set only when internal_tls is enabled.
Change-Id: If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b
Fixes-Bug: 1860718
(cherry picked from commit ed7d687398e3befe99d12e7ac432e412104080a6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/713143/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/certs/certmonger-user-baremetal-puppet.yaml'],1,7f8b87a90ad202f7f295196743d4efb7a5fb8f7e,fix-undercloud-haproxy-cert-stable/train, map_merge: - certmonger_ca: {get_param: CertmongerCA} - if: - internal_tls_enabled - tripleo::certmonger::ca::crl::crl_source: {get_param: DefaultCRLURL} certmonger_ca_vnc: {get_param: CertmongerVncCA} certmonger_ca_qemu: {get_param: CertmongerQemuCA} - {}, if: - internal_tls_enabled - tripleo::certmonger::ca::crl::crl_source: {get_param: DefaultCRLURL} certmonger_ca: {get_param: CertmongerCA} certmonger_ca_vnc: {get_param: CertmongerVncCA} certmonger_ca_qemu: {get_param: CertmongerQemuCA} - {},8,7
openstack%2Ftripleo-quickstart~master~I85043263b549f5166daba11d7b1cc24e2e9eced1,openstack/tripleo-quickstart,master,I85043263b549f5166daba11d7b1cc24e2e9eced1,Add neutron_sec_group_quota.yaml to fs 20 network_isolation_args,ABANDONED,2020-02-27 10:55:34.000000000,2020-03-18 09:31:02.000000000,,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-27 10:55:34.000000000', 'files': ['config/general_config/featureset020.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e4e80c5f54f45e43810ebae5efeb6264faaa0978', 'message': 'Add neutron_sec_group_quota.yaml to fs 20 network_isolation_args\n\nThis adds the neutron_sec_group_quota.yaml (from depends-on) to the\nnetwork_isolation_args. Adding a new param into the overcloud-deploy\nrole in t-q-e is an alternative but seems overkill. See related bug\nfor more information.\n\nDepends-On: https://review.opendev.org/710083\nChange-Id: I85043263b549f5166daba11d7b1cc24e2e9eced1\nRelated-Bug: 1864646\n'}]",0,710227,e4e80c5f54f45e43810ebae5efeb6264faaa0978,7,9,1,8449,,,0,"Add neutron_sec_group_quota.yaml to fs 20 network_isolation_args

This adds the neutron_sec_group_quota.yaml (from depends-on) to the
network_isolation_args. Adding a new param into the overcloud-deploy
role in t-q-e is an alternative but seems overkill. See related bug
for more information.

Depends-On: https://review.opendev.org/710083
Change-Id: I85043263b549f5166daba11d7b1cc24e2e9eced1
Related-Bug: 1864646
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/27/710227/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset020.yml'],1,e4e80c5f54f45e43810ebae5efeb6264faaa0978,,# Also passing the neutron security groups quota with network args # See https://bugs.launchpad.net/tripleo/+bug/1864646 -e {{ overcloud_templates_path }}/ci/environments/neutron_sec_group_quota.yaml,,3,0
openstack%2Fpython-glanceclient~master~Ibf038748df6e037df876c0e65d49aa79031275af,openstack/python-glanceclient,master,Ibf038748df6e037df876c0e65d49aa79031275af,Remove .zuul.yaml from the list of irrelevant files,MERGED,2020-03-17 20:05:06.000000000,2020-03-18 09:28:55.000000000,2020-03-18 09:25:47.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 20:05:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/b03b29d8b298efc809f24ac8b5d4b6f2b90fba81', 'message': 'Remove .zuul.yaml from the list of irrelevant files\n\nChange-Id: Ibf038748df6e037df876c0e65d49aa79031275af\n'}]",0,713522,b03b29d8b298efc809f24ac8b5d4b6f2b90fba81,8,4,1,8122,,,0,"Remove .zuul.yaml from the list of irrelevant files

Change-Id: Ibf038748df6e037df876c0e65d49aa79031275af
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/22/713522/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b03b29d8b298efc809f24ac8b5d4b6f2b90fba81,fix-irrelevant-files,, - ^\.zuul\.yaml$,0,1
openstack%2Fironic-python-agent~master~Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,openstack/ironic-python-agent,master,Ic2f338be075e93a2ce8c76c706d37db9bf8792ea,Rescan devices before performing uefi checks,MERGED,2020-02-08 15:22:29.000000000,2020-03-18 09:27:37.000000000,2020-03-18 09:24:49.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 31089}]","[{'number': 1, 'created': '2020-02-08 15:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/50fcecc12625a671fa7821d8b22fefe38804ec3b', 'message': 'Rescan devices before performing uefi checks\n\nWith the fix to the uefi code path so secure boot works properly\nand is not accidently stomped on, we forgot to rescan the device\nand force the partition table to update, which is vital for iscsi\nbased deploys.\n\nChange-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea\nStory: 2007276\nTask: 38713\n'}, {'number': 2, 'created': '2020-02-10 19:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/84ed25a05eab5f9941df8a5b8d8e87d9ddeef4ea', 'message': 'Rescan devices before performing uefi checks\n\nWith the fix to the uefi code path so secure boot works properly\nand is not accidently stomped on, we forgot to rescan the device\nand force the partition table to update, which is vital for iscsi\nbased deploys.\n\nDepends-On: https://review.opendev.org/706960\nChange-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea\nStory: 2007276\nTask: 38713\n'}, {'number': 3, 'created': '2020-02-18 21:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d917c43e68a8f7884c1011b415cc78af97658fc8', 'message': 'Rescan devices before performing uefi checks\n\nWith the fix to the uefi code path so secure boot works properly\nand is not accidently stomped on, we forgot to rescan the device\nand force the partition table to update, which is vital for iscsi\nbased deploys.\n\nDepends-On: https://review.opendev.org/706960\nChange-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea\nStory: 2007276\nTask: 38713\n'}, {'number': 4, 'created': '2020-02-20 20:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5196f4a18ea726a5696439a5671b309c6f070582', 'message': 'Rescan devices before performing uefi checks\n\nWith the fix to the uefi code path so secure boot works properly\nand is not accidently stomped on, we forgot to rescan the device\nand force the partition table to update, which is vital for iscsi\nbased deploys.\n\nDepends-On: https://review.opendev.org/706960\nChange-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea\nStory: 2007276\nTask: 38713\n'}, {'number': 5, 'created': '2020-03-16 12:57:59.000000000', 'files': ['releasenotes/notes/rescan-before-checking-uefi-64597c937880134d.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6f1f9c7f6ed55689f5e738e7b6f01a5c789099e5', 'message': 'Rescan devices before performing uefi checks\n\nWith the fix to the uefi code path so secure boot works properly\nand is not accidently stomped on, we forgot to rescan the device\nand force the partition table to update, which is vital for iscsi\nbased deploys.\n\nDepends-On: https://review.opendev.org/706960\nChange-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea\nStory: 2007276\nTask: 38713\n'}]",6,706667,6f1f9c7f6ed55689f5e738e7b6f01a5c789099e5,34,9,5,11655,,,0,"Rescan devices before performing uefi checks

With the fix to the uefi code path so secure boot works properly
and is not accidently stomped on, we forgot to rescan the device
and force the partition table to update, which is vital for iscsi
based deploys.

Depends-On: https://review.opendev.org/706960
Change-Id: Ic2f338be075e93a2ce8c76c706d37db9bf8792ea
Story: 2007276
Task: 38713
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/67/706667/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rescan-before-checking-uefi-64597c937880134d.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",3,50fcecc12625a671fa7821d8b22fefe38804ec3b,706667,"def _rescan_device(device): """"""Force the device to be rescanned :param device: device upon which to rescan and update kernel partition records using. """""" # Try to tell the kernel to re-read the partition table try: utils.execute('partx', '-u', device, attempts=3, delay_on_retry=True) utils.execute('udevadm', 'settle') except processutils.ProcessExecutionError: LOG.warning(""Couldn't re-read the partition table "" ""on device %s"", device) _rescan_device(device) # Force UEFI to rescan the device. Required if the deployment # was over iscsi. _rescan_device(device) "," # Try to tell the kernel to re-read the partition table try: utils.execute('partx', '-u', device, attempts=3, delay_on_retry=True) utils.execute('udevadm', 'settle') except processutils.ProcessExecutionError: LOG.warning(""Couldn't re-read the partition table "" ""on device %s"", device) ",60,17
openstack%2Fnova~master~I654526e87afd211746bc110e8005104c6776edc8,openstack/nova,master,I654526e87afd211746bc110e8005104c6776edc8,mv generate_glance_url to get_image_endpoint_url,ABANDONED,2017-10-12 07:12:07.000000000,2020-03-18 09:18:33.000000000,,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19944}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27802}]","[{'number': 1, 'created': '2017-10-12 07:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fb37c0fc0126b7c62c0ab1a6e8bf85b55c3c14b', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 2, 'created': '2017-10-13 03:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14c07f6c874f245831aaa8a2e0c434df61658e0c', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 3, 'created': '2017-10-13 06:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/726e7a11676ab4a07ab79c37a9e0ad14f170b5d1', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 4, 'created': '2017-10-13 08:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c31e0ffb106379ad1094b355c66e4d71a20f4d14', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 5, 'created': '2017-10-18 02:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47154f6f569b9de2de4449ea6864dbd4d37b73be', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 6, 'created': '2017-11-21 05:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d6eca75a297d3ad9e78d8dca9c9140f87c30900', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 7, 'created': '2017-11-23 01:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b481f95cf5e73e9a31a842f6b4c49b4022051fd', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 8, 'created': '2017-11-23 07:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/302539bcfe264d0e35f2d6b66ff2a2836637b28c', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 9, 'created': '2018-02-05 05:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5367123c82c0dee519d686ccf9e00a56fd8a38da', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 10, 'created': '2018-03-21 06:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/908a1424db58273cb276fafca754921229a1e315', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 11, 'created': '2018-04-18 09:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd0958b75ab20ee757d8226f8d598241a32f53c5', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 12, 'created': '2018-05-21 06:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc24d2fae1ffc91bfd861c8b8e2c0646fd89762e', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}, {'number': 13, 'created': '2018-07-16 07:03:37.000000000', 'files': ['nova/image/glance.py', 'nova/image/api.py', 'nova/api/openstack/common.py', 'nova/tests/unit/api/openstack/compute/test_images.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/api/openstack/compute/views/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6643224110c66ca1b70a67bf6efeb474cb28c71d', 'message': ""mv generate_glance_url to get_image_endpoint_url\n\ngenerate_glance_url is confusing, actually it's returning endpoint\nurl of image service (glance), this patch rename the function\nand create a image.api.get_image_endpoint_url function to be used.\n\nChange-Id: I654526e87afd211746bc110e8005104c6776edc8\n""}]",2,511400,6643224110c66ca1b70a67bf6efeb474cb28c71d,165,22,13,6062,,,0,"mv generate_glance_url to get_image_endpoint_url

generate_glance_url is confusing, actually it's returning endpoint
url of image service (glance), this patch rename the function
and create a image.api.get_image_endpoint_url function to be used.

Change-Id: I654526e87afd211746bc110e8005104c6776edc8
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/511400/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/image/glance.py', 'nova/image/api.py', 'nova/api/openstack/common.py', 'nova/tests/unit/api/openstack/compute/test_images.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/api/openstack/compute/views/images.py']",6,7fb37c0fc0126b7c62c0ab1a6e8bf85b55c3c14b,generate_glance_url,"from nova import image def __init__(self): super(ViewBuilder, self).__init__() self.image_api = image.API() url = self.image_api.get_image_endpoint_url() url = self._update_image_link_prefix(url) return '/'.join([url,","from nova.image import glance glance_url = glance.generate_glance_url() glance_url = self._update_glance_link_prefix(glance_url) return '/'.join([glance_url,",39,25
openstack%2Fnova~master~Iccb1535a0be4dbbc6c883336b4254444aa54280e,openstack/nova,master,Iccb1535a0be4dbbc6c883336b4254444aa54280e,ironic: Proxy a few attributes of block device mapping,ABANDONED,2018-03-19 03:08:11.000000000,2020-03-18 09:16:42.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-19 03:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77ba23f2d6e9bffa55e8a4026d8b751addd17f20', 'message': 'ironic: Proxy a few attributes of block device mapping\n\nIronic virt driver refers to a few attributes of a block device\nmapping object directly when passing information for connecting a\nvolume to ironic.\n\nThis patch avoids accessing this internal object in a virt layer\ndevice class by proxying the required attributes.\n\nChange-Id: Iccb1535a0be4dbbc6c883336b4254444aa54280e\n'}, {'number': 2, 'created': '2018-03-19 06:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee8f06f737645cfae0d43855854388b3237073e5', 'message': 'ironic: Proxy a few attributes of block device mapping\n\nIronic virt driver refers to a few attributes of a block device\nmapping object directly when passing information for connecting a\nvolume to ironic.\n\nThis patch avoids accessing this internal object in a virt layer\ndevice class by proxying the required attributes.\n\nChange-Id: Iccb1535a0be4dbbc6c883336b4254444aa54280e\n'}, {'number': 3, 'created': '2018-06-25 07:38:43.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3b32da856ef8fe5329fb7ff0632dcdff12b9fa3c', 'message': 'ironic: Proxy a few attributes of block device mapping\n\nIronic virt driver refers to a few attributes of a block device\nmapping object directly when passing information for connecting a\nvolume to ironic.\n\nThis patch avoids accessing this internal object in a virt layer\ndevice class by proxying the required attributes.\n\nChange-Id: Iccb1535a0be4dbbc6c883336b4254444aa54280e\n'}]",0,554093,3b32da856ef8fe5329fb7ff0632dcdff12b9fa3c,36,14,3,13689,,,0,"ironic: Proxy a few attributes of block device mapping

Ironic virt driver refers to a few attributes of a block device
mapping object directly when passing information for connecting a
volume to ironic.

This patch avoids accessing this internal object in a virt layer
device class by proxying the required attributes.

Change-Id: Iccb1535a0be4dbbc6c883336b4254444aa54280e
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/554093/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/virt/block_device.py']",2,77ba23f2d6e9bffa55e8a4026d8b751addd17f20,proxy-bdm," _proxy_as_attr_inherited = set(['uuid', 'is_volume']) _proxy_as_attr_inherited = set(['volume_size', 'volume_id', 'boot_index', 'connection_info'])"," _proxy_as_attr_inherited = set(['uuid']) _proxy_as_attr_inherited = set(['volume_size', 'volume_id'])",8,11
openstack%2Foctavia-tempest-plugin~master~Ie45fe828cf8098b5d9e453d1fea831578ed635e7,openstack/octavia-tempest-plugin,master,Ie45fe828cf8098b5d9e453d1fea831578ed635e7,Use TLSv1.2 SSL context for barbican tests,MERGED,2020-01-29 11:56:15.000000000,2020-03-18 09:07:28.000000000,2020-03-18 09:05:47.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-29 11:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/34d0aa7bfacfcfa556591c73e0775eece90280a4', 'message': 'TEST\n\nDepends-On: https://review.opendev.org/#/c/685337/\nChange-Id: Ie45fe828cf8098b5d9e453d1fea831578ed635e7\n'}, {'number': 2, 'created': '2020-02-06 09:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4fdc37613858dbaf8f0d5677774b163fb581e061', 'message': 'TEST\n\nDepends-On: https://review.opendev.org/#/c/697213/\nChange-Id: Ie45fe828cf8098b5d9e453d1fea831578ed635e7\n'}, {'number': 3, 'created': '2020-02-11 07:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a871a1b1979a1f0c6d9bf74a88b8a1dfe22547b9', 'message': 'TEST\n\nDepends-On: https://review.opendev.org/#/c/697213/\nChange-Id: Ie45fe828cf8098b5d9e453d1fea831578ed635e7\n'}, {'number': 4, 'created': '2020-03-11 10:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5d3b1e98bf9d0459bc6d1fc773747fed6b360b06', 'message': 'TEST\n\nDepends-On: https://review.opendev.org/#/c/685337\nChange-Id: Ie45fe828cf8098b5d9e453d1fea831578ed635e7\n'}, {'number': 5, 'created': '2020-03-11 12:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3480ba6c0cb499d9b2a193fbfb50126f529bccc3', 'message': 'TEST\n\nDepends-On: https://review.opendev.org/#/c/685337\nChange-Id: Ie45fe828cf8098b5d9e453d1fea831578ed635e7\n'}, {'number': 6, 'created': '2020-03-12 07:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/19f91aefe154c5d8f6374e638b6846a082cba355', 'message': 'TEST\n\n\nChange-Id: Ie45fe828cf8098b5d9e453d1fea831578ed635e7\n'}, {'number': 7, 'created': '2020-03-12 10:14:06.000000000', 'files': ['octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/eec4229363f489ba9f61783a7d9a7e9ed64aaf8f', 'message': 'Use TLSv1.2 SSL context for barbican tests\n\nRequired for usage  OSWAP ""B"" default ciphers.\n\nStory: 2006627\n\n\nChange-Id: Ie45fe828cf8098b5d9e453d1fea831578ed635e7\n'}]",0,704783,eec4229363f489ba9f61783a7d9a7e9ed64aaf8f,23,4,7,7249,,,0,"Use TLSv1.2 SSL context for barbican tests

Required for usage  OSWAP ""B"" default ciphers.

Story: 2006627


Change-Id: Ie45fe828cf8098b5d9e453d1fea831578ed635e7
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/83/704783/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py']",2,34d0aa7bfacfcfa556591c73e0775eece90280a4,, sock.get_context().set_cipher_list( CONF.loadbalancer_feature_enabled.default_ssl_ciphers),,10,0
openstack%2Fnova~master~I5d638b3cf077809c997b36b4d0b05610b5b5b89e,openstack/nova,master,I5d638b3cf077809c997b36b4d0b05610b5b5b89e,Provide a better log when api_servers is unset,ABANDONED,2017-06-09 13:43:30.000000000,2020-03-18 09:04:40.000000000,,"[{'_account_id': 3}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 10385}, {'_account_id': 11869}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26458}]","[{'number': 1, 'created': '2017-06-09 13:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f10d271d8f2374a4eab141601684d2909798a37', 'message': ""Provide a better log when api_servers is unset\n\nThe config option [glance]/api_servers is by default unset.\nThat said, when nova is calling glanceclient, it's using that option for\ncalling the endpoint instead of looking at the service catalog.\nWhile it's fine for operators wanting to use a separate HA round-robin endpoint,\nthat's providing a NoneError in the stacktrace if the opt is unset.\n\nThat change is first verifying the opt, and in case it's still unset, providing\nan error log.\n\nChange-Id: I5d638b3cf077809c997b36b4d0b05610b5b5b89e\nRelated-Bug: #1696972\n""}, {'number': 2, 'created': '2017-06-09 14:07:35.000000000', 'files': ['nova/exception.py', 'nova/image/glance.py', 'nova/tests/unit/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/698c07a94f1e413d0e68e5bf7d763de461563f29', 'message': ""Provide a better log when api_servers is unset\n\nThe config option [glance]/api_servers is by default unset.\nThat said, when nova is calling glanceclient, it's using that option for\ncalling the endpoint instead of looking at the service catalog.\nWhile it's fine for operators wanting to use a separate HA round-robin endpoint,\nthat's providing a NoneError in the stacktrace if the opt is unset.\n\nThat change is first verifying the opt, and in case it's still unset, providing\nan error log.\n\nChange-Id: I5d638b3cf077809c997b36b4d0b05610b5b5b89e\nRelated-Bug: #1696972\n""}]",6,472685,698c07a94f1e413d0e68e5bf7d763de461563f29,17,13,2,7166,,,0,"Provide a better log when api_servers is unset

The config option [glance]/api_servers is by default unset.
That said, when nova is calling glanceclient, it's using that option for
calling the endpoint instead of looking at the service catalog.
While it's fine for operators wanting to use a separate HA round-robin endpoint,
that's providing a NoneError in the stacktrace if the opt is unset.

That change is first verifying the opt, and in case it's still unset, providing
an error log.

Change-Id: I5d638b3cf077809c997b36b4d0b05610b5b5b89e
Related-Bug: #1696972
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/472685/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/image/glance.py', 'nova/tests/unit/image/test_glance.py']",2,2f10d271d8f2374a4eab141601684d2909798a37,bug/1696972," def test_get_api_servers_with_unset_opt(self): # By default, the opt is unset. CONF.clear_override('api_servers', group='glance') self.assertFalse(glance.get_api_servers()) ",,13,0
openstack%2Fnova~master~Iebf54d06cb1a2043bf13685c95c2589d35e04b24,openstack/nova,master,Iebf54d06cb1a2043bf13685c95c2589d35e04b24,Add support for multiple fixed-ips in metadata,ABANDONED,2018-07-06 19:20:17.000000000,2020-03-18 09:02:54.000000000,,"[{'_account_id': 136}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 6908}, {'_account_id': 7156}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-06 19:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28198ed41b617e71676fc122a5431f9532901b52', 'message': 'Add support for multiple fixed-ips in metadata\n\nPreviously, only the first fixed-ip from the first subnet was supported.\nThis change introduces support for multiple fixed-ips per port.\n\nMetadata and configuration drive will now return a list of all fixed-ips\nfound on a port instead of the first fixed-ip from the first subnet.\n\nThe fixed-ips are now available as a list of objects in\nthe ""networks[]/ip_addresses"" field.\n\nFor backward compatibility, the ""networks[]/ip_address"" and\n""networks[]/netmask"" fields will contain information from\nthe first fixed-ip of the first subnet.\n\nIf a previous metadata version is requested:\n* The ""networks[]/ip_addresses"" field will not be available.\n* The ""services"" field will contain a union of the services\n  found in the first subnet of all ports, matching the previous behavior.\n\nBlueprint: multiple-fixed-ips-network-information\nChange-Id: Iebf54d06cb1a2043bf13685c95c2589d35e04b24\n'}, {'number': 2, 'created': '2018-07-09 15:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f7a9317edf18181ad16988f1f61f5503109e4b1', 'message': 'Add support for multiple fixed-ips in metadata\n\nPreviously, only the first fixed-ip from the first subnet was supported.\nThis change introduces support for multiple fixed-ips per port.\n\nMetadata and configuration drive will now return a list of all fixed-ips\nfound on a port instead of the first fixed-ip from the first subnet.\n\nThe fixed-ips are now available as a list of objects in\nthe ""networks[]/ip_addresses"" field.\n\nFor backward compatibility, the ""networks[]/ip_address"" and\n""networks[]/netmask"" fields will contain information from\nthe first fixed-ip of the first subnet.\n\nIf a previous metadata version is requested:\n\n* The ""networks[]/ip_addresses"" field will not be available.\n* The ""services"" field will contain a union of the services\n  found in the first subnet of all ports, matching the previous behavior.\n\nBlueprint: multiple-fixed-ips-network-information\nChange-Id: Iebf54d06cb1a2043bf13685c95c2589d35e04b24\n'}, {'number': 3, 'created': '2018-07-25 20:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0512a3e82c7d08a986ee58f144bc986fb5c488c7', 'message': 'Add support for multiple fixed-ips in metadata\n\nPreviously, only the first fixed-ip from the first subnet was supported.\nThis change introduces support for multiple fixed-ips per port.\n\nMetadata and configuration drive will now return a list of all fixed-ips\nfound on a port instead of the first fixed-ip from the first subnet.\n\nThe fixed-ips are now available as a list of objects in\nthe ""networks[]/ip_addresses"" field.\n\nFor backward compatibility, the ""networks[]/ip_address"" and\n""networks[]/netmask"" fields will contain information from\nthe first fixed-ip of the first subnet.\n\nIf a previous metadata version is requested:\n\n* The ""networks[]/ip_addresses"" field will not be available.\n* The ""services"" field will contain a union of the services\n  found in the first subnet of all ports, matching the previous behavior.\n\nBlueprint: multiple-fixed-ips-network-information\nChange-Id: Iebf54d06cb1a2043bf13685c95c2589d35e04b24\n'}, {'number': 4, 'created': '2018-07-25 21:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f23766df5363eb3bcaa2b06df859c9f98210b8ca', 'message': 'Add support for multiple fixed-ips in metadata\n\nPreviously, only the first fixed-ip from the first subnet was supported.\nThis change introduces support for multiple fixed-ips per port.\n\nMetadata and configuration drive will now return a list of all fixed-ips\nfound on a port instead of the first fixed-ip from the first subnet.\n\nThe fixed-ips are now available as a list of objects in\nthe ""networks[]/ip_addresses"" field.\n\nFor backward compatibility, the ""networks[]/ip_address"" and\n""networks[]/netmask"" fields will contain information from\nthe first fixed-ip of the first subnet.\n\nIf a previous metadata version is requested:\n\n* The ""networks[]/ip_addresses"" field will not be available.\n* The ""services"" field will contain a union of the services\n  found in the first subnet of all ports, matching the previous behavior.\n\nBlueprint: multiple-fixed-ips-network-information\nChange-Id: Iebf54d06cb1a2043bf13685c95c2589d35e04b24\n'}, {'number': 5, 'created': '2018-07-25 22:12:28.000000000', 'files': ['nova/tests/unit/test_metadata.py', 'releasenotes/notes/multiple-fixed-ips-network-information-e2eabb992b7c1e33.yaml', 'nova/tests/unit/network/test_network_info.py', 'nova/api/metadata/base.py', 'nova/virt/netutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d5affc8f30e9db37df5776d964008cc10755c6af', 'message': 'Add support for multiple fixed-ips in metadata\n\nPreviously, only the first fixed-ip from the first subnet was supported.\nThis change introduces support for multiple fixed-ips per port.\n\nMetadata and configuration drive will now return a list of all fixed-ips\nfound on a port instead of the first fixed-ip from the first subnet.\n\nThe fixed-ips are now available as a list of objects in\nthe ""networks[]/ip_addresses"" field.\n\nThe ""services"" field will now contain a union of the services\nfound in all the subnets of all ports.\n\nFor backward compatibility, the ""networks[]/ip_address"" and\n""networks[]/netmask"" fields will contain information from\nthe first fixed-ip of the first subnet.\n\nIf a previous metadata version is requested:\n\n* The ""networks[]/ip_addresses"" field will not be available.\n* The ""services"" field will contain a union of the services\n  found in the first subnet of all ports, matching the previous behavior.\n\nBlueprint: multiple-fixed-ips-network-information\nChange-Id: Iebf54d06cb1a2043bf13685c95c2589d35e04b24\n'}]",27,580742,d5affc8f30e9db37df5776d964008cc10755c6af,58,23,5,7156,,,0,"Add support for multiple fixed-ips in metadata

Previously, only the first fixed-ip from the first subnet was supported.
This change introduces support for multiple fixed-ips per port.

Metadata and configuration drive will now return a list of all fixed-ips
found on a port instead of the first fixed-ip from the first subnet.

The fixed-ips are now available as a list of objects in
the ""networks[]/ip_addresses"" field.

The ""services"" field will now contain a union of the services
found in all the subnets of all ports.

For backward compatibility, the ""networks[]/ip_address"" and
""networks[]/netmask"" fields will contain information from
the first fixed-ip of the first subnet.

If a previous metadata version is requested:

* The ""networks[]/ip_addresses"" field will not be available.
* The ""services"" field will contain a union of the services
  found in the first subnet of all ports, matching the previous behavior.

Blueprint: multiple-fixed-ips-network-information
Change-Id: Iebf54d06cb1a2043bf13685c95c2589d35e04b24
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/580742/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_metadata.py', 'releasenotes/notes/multiple-fixed-ips-network-information-e2eabb992b7c1e33.yaml', 'nova/tests/unit/network/test_network_info.py', 'nova/api/metadata/base.py', 'nova/virt/netutils.py']",5,28198ed41b617e71676fc122a5431f9532901b52,bp/multiple-fixed-ips-network-information,"def _get_first_subnet(network, version): subnet_v4 = _get_first_subnet(network, 4) subnet_v6 = _get_first_subnet(network, 6) if not network['subnets']: continue link = _get_eth_link(vif, ifc_num) links.append(link) for subnet in network['subnets']: services.extend([dns for dns in _get_dns_services(subnet) if dns not in services]) if not subnet.get('ips'): continue nets.append(_get_nets(vif, subnet, net_num, link['id']))def _get_nets(vif, subnet, net_num, link_id): 'type': 'ipv%d_dhcp' % subnet['version'], 'type': 'ipv%d%s' % (subnet['version'], net_type), 'routes': _get_default_route(subnet['version'], subnet), 'network_id': vif['network']['id'], 'ip_addresses': [], } is_first = True for ip in subnet['ips']: address = ip['address'] if subnet['version'] == 4: netmask = model.get_netmask(ip, subnet) elif subnet['version'] == 6: netmask = str(subnet.as_netaddr().netmask) if is_first: net_info['ip_address'] = address net_info['netmask'] = netmask is_first = False net_info['ip_addresses'].append({ 'address': address, 'netmask': netmask, }) ","def _get_first_network(network, version): subnet_v4 = _get_first_network(network, 4) subnet_v6 = _get_first_network(network, 6) # NOTE(JoshNang) currently, only supports the first IPv4 and first # IPv6 subnet on network, a limitation that also exists in the # network template. subnet_v4 = _get_first_network(network, 4) subnet_v6 = _get_first_network(network, 6) link = None if subnet_v4 or subnet_v6: link = _get_eth_link(vif, ifc_num) links.append(link) # Add IPv4 and IPv6 networks if they exist if subnet_v4 and subnet_v4.get('ips'): nets.append(_get_nets(vif, subnet_v4, 4, net_num, link['id'])) services += [dns for dns in _get_dns_services(subnet_v4) if dns not in services] if subnet_v6 and subnet_v6.get('ips'): net_num += 1 nets.append(_get_nets(vif, subnet_v6, 6, net_num, link['id'])) services += [dns for dns in _get_dns_services(subnet_v6) if dns not in services]def _get_nets(vif, subnet, version, net_num, link_id): :param version: IP version as an int, either '4' or '6' 'type': 'ipv%d_dhcp' % version, ip = subnet['ips'][0] address = ip['address'] if version == 4: netmask = model.get_netmask(ip, subnet) elif version == 6: netmask = str(subnet.as_netaddr().netmask) 'type': 'ipv%d%s' % (version, net_type), 'ip_address': address, 'netmask': netmask, 'routes': _get_default_route(version, subnet), 'network_id': vif['network']['id'] } ",215,72
openstack%2Fansible-collections-openstack~master~I2d77c9f7d147900b79a410c17cce197108c0a69b,openstack/ansible-collections-openstack,master,I2d77c9f7d147900b79a410c17cce197108c0a69b,Update os_client_config to use openstacksdk,MERGED,2020-03-17 16:21:45.000000000,2020-03-18 09:00:22.000000000,2020-03-18 09:00:22.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-17 16:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/398a47ce9ab1171dfbca4a5ee789433b87eef500', 'message': 'Update os_client_config to use openstacksdk\n\nThis never got migrated but should. os-client-config is only\non life support.\n\nChange-Id: I2d77c9f7d147900b79a410c17cce197108c0a69b\n'}, {'number': 2, 'created': '2020-03-17 17:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/42c929bd2668e558ccdac3c76be24cb3f931a63c', 'message': 'Update os_client_config to use openstacksdk\n\nThis never got migrated but should. os-client-config is only\non life support.\n\nChange-Id: I2d77c9f7d147900b79a410c17cce197108c0a69b\n'}, {'number': 3, 'created': '2020-03-17 18:36:13.000000000', 'files': ['plugins/modules/os_client_config.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/75cc5012e3c9ddff6e1222c36725a5ea1ca5e505', 'message': 'Update os_client_config to use openstacksdk\n\nThis never got migrated but should. os-client-config is only\non life support.\n\nChange-Id: I2d77c9f7d147900b79a410c17cce197108c0a69b\n'}]",0,713480,75cc5012e3c9ddff6e1222c36725a5ea1ca5e505,13,4,3,2,,,0,"Update os_client_config to use openstacksdk

This never got migrated but should. os-client-config is only
on life support.

Change-Id: I2d77c9f7d147900b79a410c17cce197108c0a69b
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/80/713480/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_client_config.py', 'tox.ini']",2,398a47ce9ab1171dfbca4a5ee789433b87eef500,,, {toxinidir}/../os-client-config,11,10
openstack%2Fnova~master~I6518cbffa2252f0b8e0563806d58f9ff02130f9f,openstack/nova,master,I6518cbffa2252f0b8e0563806d58f9ff02130f9f,Add data section parameters for mkfs.xfs command,ABANDONED,2018-06-22 07:37:30.000000000,2020-03-18 08:59:25.000000000,,"[{'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26970}]","[{'number': 1, 'created': '2018-06-22 07:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00b808dcc6cc16dbdff158a7f619cf812867f52b', 'message': 'Add data section parameters for mkfs.xfs command\n\nWhen formatting regular file using xfs file system, user have to\nspecify the related options to mark target is regular file.\n\nInterally mkfs.xfs use direct I/O by default and it usually works well\nwithout those parameters. However if host system has different logical\nblock size from 512 byte (e.g. some nvme disk which has 4096 byte\nlogical block size), mkfs util failed emitting ioctl error.\n\nAdd necessary parameters for the special case. It does not break\nany other existed code since size does not matter for other file system\nrather than xfs.\n\nChange-Id: I6518cbffa2252f0b8e0563806d58f9ff02130f9f\nCloses-Bug: #1772928\n'}, {'number': 2, 'created': '2018-06-22 09:54:00.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/disk/api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/privsep/fs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/56337eff0442c8e5a5658d76c2b3e3e19dc51d7d', 'message': 'Add data section parameters for mkfs.xfs command\n\nWhen formatting regular file using xfs file system, user have to\nspecify the related options to mark target is regular file.\n\nInterally mkfs.xfs use direct I/O by default and it usually works well\nwithout those parameters. However if host system has different logical\nblock size from 512 byte (e.g. some nvme disk which has 4096 byte\nlogical block size), mkfs util failed emitting ioctl error.\n\nAdd necessary parameters for the special case. It does not break\nany other existed code since size does not matter for other file system\nrather than xfs.\n\nChange-Id: I6518cbffa2252f0b8e0563806d58f9ff02130f9f\nCloses-Bug: #1772928\n'}]",2,577363,56337eff0442c8e5a5658d76c2b3e3e19dc51d7d,24,13,2,26970,,,0,"Add data section parameters for mkfs.xfs command

When formatting regular file using xfs file system, user have to
specify the related options to mark target is regular file.

Interally mkfs.xfs use direct I/O by default and it usually works well
without those parameters. However if host system has different logical
block size from 512 byte (e.g. some nvme disk which has 4096 byte
logical block size), mkfs util failed emitting ioctl error.

Add necessary parameters for the special case. It does not break
any other existed code since size does not matter for other file system
rather than xfs.

Change-Id: I6518cbffa2252f0b8e0563806d58f9ff02130f9f
Closes-Bug: #1772928
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/577363/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/disk/api.py', 'nova/privsep/fs.py']",3,00b808dcc6cc16dbdff158a7f619cf812867f52b,bug/1772928,"def mkfs(fs, path, label=None, size=None): unprivileged_mkfs(fs, path, label=None, size=size)def unprivileged_mkfs(fs, path, label=None, size=None): :param size: Size of data section (only for xfs) # add data section parameters of xfs for regular file if fs == 'xfs' and not path.startswith('/dev'): args.extend(['-d', 'file']) args.extend(['-d', 'size=%s' % size]) args.extend(['-d', 'name=%s' % path]) else: args.append(path) default_ephemeral_format, specified_fs=None, size=None): mkfs(specified_fs, target, fs_label, size) else: unprivileged_mkfs(specified_fs, target, fs_label, size)","def mkfs(fs, path, label=None): unprivileged_mkfs(fs, path, label=None)def unprivileged_mkfs(fs, path, label=None): args.append(path) default_ephemeral_format, specified_fs=None): mkfs(specified_fs, target, fs_label) else: unprivileged_mkfs(specified_fs, target, fs_label)",20,10
openstack%2Fosc-lib~master~I9d2b60e1408a71d432350f6486e03c5d4ae20cc3,openstack/osc-lib,master,I9d2b60e1408a71d432350f6486e03c5d4ae20cc3,Add error message when occurrence Forbidden error,MERGED,2019-07-30 03:09:12.000000000,2020-03-18 08:58:37.000000000,2019-08-22 20:53:02.000000000,"[{'_account_id': 970}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2019-07-30 03:09:12.000000000', 'files': ['osc_lib/utils/__init__.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/3c0559def39ff5f04afc4f934bfde44c1e6ea700', 'message': 'Add error message when occurrence Forbidden error\n\nWhen we get Forbidden error of finding resource, the osc just\nreturn none, it causes the openstackclient to report an error\nambiguously.\nThe patch add an error message when we are not authorized to\nfind resource.\nTask: 34754\nStory: 2006052\n\nChange-Id: I9d2b60e1408a71d432350f6486e03c5d4ae20cc3\n'}]",0,673389,3c0559def39ff5f04afc4f934bfde44c1e6ea700,13,3,1,25564,,,0,"Add error message when occurrence Forbidden error

When we get Forbidden error of finding resource, the osc just
return none, it causes the openstackclient to report an error
ambiguously.
The patch add an error message when we are not authorized to
find resource.
Task: 34754
Story: 2006052

Change-Id: I9d2b60e1408a71d432350f6486e03c5d4ae20cc3
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/89/673389/1 && git format-patch -1 --stdout FETCH_HEAD,['osc_lib/utils/__init__.py'],1,3c0559def39ff5f04afc4f934bfde44c1e6ea700,story/2006052," if type(ex).__name__ == 'Forbidden': msg = _( ""You are not authorized to find %(resource)s with the "" ""name '%(id)s'."" ) raise exceptions.CommandError(msg % { 'resource': manager.resource_class.__name__.lower(), 'id': name_or_id, })",,10,0
openstack%2Fnova~master~I984f2786b88efba1ac18941570bd1f028b9a62b8,openstack/nova,master,I984f2786b88efba1ac18941570bd1f028b9a62b8,Ironic: Check a last error of power action,ABANDONED,2017-06-04 14:45:14.000000000,2020-03-18 08:58:16.000000000,,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 13689}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21813}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-06-04 14:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08eadeee96106f5fd60c3dcfb03a9153b4b43e39', 'message': ""Ironic: Check a last error of power action\n\nAfter requesting a power action, Ironic virt driver waits for a target\nstate of the node to get None, which means the action finishes. The\ndriver doesn't see a result of the action though the result can be\nknown by seeing a last error of the node. The last error is set if the\naction is failed.\n\nThis patch adds a check for a result of power action by reading a last\nerror field of a node after the action is completed.\n\nChange-Id: I984f2786b88efba1ac18941570bd1f028b9a62b8\nCloses-Bug: #1695744\n""}, {'number': 2, 'created': '2017-06-08 14:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9071fe35c4b50fcff590037d7c5e0682527883ad', 'message': ""Ironic: Check a last error of power action\n\nAfter requesting a power action, Ironic virt driver waits for a target\nstate of the node to get None, which means the action finishes. The\ndriver doesn't see a result of the action though the result can be\nknown by seeing a last error of the node. The last error is set if the\naction is failed.\n\nThis patch adds a check for a result of power action by reading a last\nerror field of a node after the action is completed.\n\nChange-Id: I984f2786b88efba1ac18941570bd1f028b9a62b8\nCloses-Bug: #1695744\n""}, {'number': 3, 'created': '2017-06-21 05:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39055cc5992b476030de264210eb8c98bc22dbb7', 'message': ""Ironic: Check a last error of power action\n\nAfter requesting a power action, Ironic virt driver waits for a target\nstate of the node to get None, which means the action finishes. The\ndriver doesn't see a result of the action though the result can be\nknown by seeing a last error of the node. The last error is set if the\naction is failed.\n\nThis patch adds a check for a result of power action by reading a last\nerror field of a node after the action is completed.\n\nChange-Id: I984f2786b88efba1ac18941570bd1f028b9a62b8\nCloses-Bug: #1695744\n""}, {'number': 4, 'created': '2017-11-27 10:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/952fa287bb4e81fba61f0e0d4280099c595f728a', 'message': ""Ironic: Check a last error of power action\n\nAfter requesting a power action, Ironic virt driver waits for a target\nstate of the node to get None, which means the action finishes. The\ndriver doesn't see a result of the action though the result can be\nknown by seeing a last error of the node. The last error is set if the\naction is failed.\n\nThis patch adds a check for a result of power action by reading a last\nerror field of a node after the action is completed.\n\nChange-Id: I984f2786b88efba1ac18941570bd1f028b9a62b8\nCloses-Bug: #1695744\n""}, {'number': 5, 'created': '2018-06-25 05:11:35.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf17dbbfc09803b8eb4d68f0b48dd675e3a51163', 'message': ""Ironic: Check a last error of power action\n\nAfter requesting a power action, Ironic virt driver waits for a target\nstate of the node to get None, which means the action finishes. The\ndriver doesn't see a result of the action though the result can be\nknown by seeing a last error of the node. The last error is set if the\naction is failed.\n\nThis patch adds a check for a result of power action by reading a last\nerror field of a node after the action is completed.\n\nChange-Id: I984f2786b88efba1ac18941570bd1f028b9a62b8\nCloses-Bug: #1695744\n""}]",4,470754,bf17dbbfc09803b8eb4d68f0b48dd675e3a51163,51,18,5,13689,,,0,"Ironic: Check a last error of power action

After requesting a power action, Ironic virt driver waits for a target
state of the node to get None, which means the action finishes. The
driver doesn't see a result of the action though the result can be
known by seeing a last error of the node. The last error is set if the
action is failed.

This patch adds a check for a result of power action by reading a last
error field of a node after the action is completed.

Change-Id: I984f2786b88efba1ac18941570bd1f028b9a62b8
Closes-Bug: #1695744
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/470754/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,08eadeee96106f5fd60c3dcfb03a9153b4b43e39,bug/1695744," self.driver._wait_for_power_state(instance, 'fake message', exception.InstancePowerOffFailure) self.driver._wait_for_power_state, instance, 'fake message', exception.InstancePowerOnFailure) self.assertTrue(fake_validate.called) @mock.patch.object(ironic_driver.IronicDriver, '_validate_instance_and_node') def test__wait_for_power_state_ng(self, fake_validate): instance = fake_instance.fake_instance_obj(self.ctx, uuid=uuidutils.generate_uuid()) node = ironic_utils.get_test_node( target_power_state=ironic_states.NOSTATE, last_error='fake error') fake_validate.return_value = node self.assertRaises(exception.InstanceRebootFailure, self.driver._wait_for_power_state, instance, 'fake message', exception.InstanceRebootFailure) @mock.patch.object(loopingcall, 'FixedIntervalLoopingCall') @mock.patch.object(ironic_driver.IronicDriver, '_validate_instance_and_node') @mock.patch.object(FAKE_CLIENT.node, 'set_power_state') def test_reboot_failed(self, mock_sp, fake_validate, mock_looping): node = ironic_utils.get_test_node() fake_validate.return_value = node fake_looping_call = FakeLoopingCall() mock_looping.return_value = fake_looping_call fake_looping_call.wait.side_effect = ( exception.InstanceRebootFailure('fake error')) instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.assertRaises(exception.InstanceRebootFailure, self.driver.reboot, self.ctx, instance, None, 'HARD') mock_sp.assert_called_once_with(node.uuid, 'reboot') mock_looping.assert_called_once_with( self.driver._wait_for_power_state, instance, 'reboot', exception.InstanceRebootFailure) @mock.patch.object(ironic_driver.IronicDriver, '_validate_instance_and_node') @mock.patch.object(FAKE_CLIENT.node, 'set_power_state') def test_power_on_failed(self, mock_sp, fake_validate, mock_looping): node = ironic_utils.get_test_node() fake_validate.side_effect = [node, node] fake_looping_call = FakeLoopingCall() fake_looping_call.wait.side_effect = ( exception.InstancePowerOnFailure(reason='fake error')) mock_looping.return_value = fake_looping_call instance = fake_instance.fake_instance_obj(self.ctx, node=self.instance_uuid) self.assertRaises(exception.InstancePowerOnFailure, self.driver.power_on, self.ctx, instance, utils.get_test_network_info()) mock_sp.assert_called_once_with(node.uuid, 'on') mock_looping.assert_called_once_with( self.driver._wait_for_power_state, instance, 'power on', exception.InstancePowerOnFailure) @mock.patch.object(loopingcall, 'FixedIntervalLoopingCall') def _test_power_off(self, mock_looping, timeout=0, wait_result=None): if wait_result: fake_looping_call.wait.side_effect = wait_result fake_validate.return_value = node fake_validate.return_value = node fake_validate.return_value = node fake_validate.return_value = node wait_result = [exception.InstancePowerOffFailure('fake error'), None] self._test_power_off(timeout=30, wait_result=wait_result) mock_sp.assert_has_calls([mock.call(node.uuid, 'off', soft=True, timeout=30). mock.call(node.uuid, 'off')]) @mock.patch.object(ironic_driver.IronicDriver, '_validate_instance_and_node') @mock.patch.object(FAKE_CLIENT.node, 'set_power_state') def test_power_off_soft_hard_failed(self, mock_sp, fake_validate): node = ironic_utils.get_test_node() fake_validate.return_value = node wait_result = exception.InstancePowerOffFailure('fake error') self.assertRaises(exception.InstancePowerOffFailure, self._test_power_off, timeout=30, wait_result=wait_result)"," self.driver._wait_for_power_state(instance, 'fake message') self.driver._wait_for_power_state, instance, 'fake message') def _test_power_off(self, mock_looping, timeout=0): fake_validate.side_effect = [node, node] power_off_node = ironic_utils.get_test_node( power_state=ironic_states.POWER_OFF) fake_validate.side_effect = [node, power_off_node] fake_validate.side_effect = [node, node] fake_validate.side_effect = [node, node] self._test_power_off(timeout=30)",111,32
openstack%2Fnova~master~I9903cae72efe5cc8f22a47dce9e95c2a04206d2b,openstack/nova,master,I9903cae72efe5cc8f22a47dce9e95c2a04206d2b,raise exception early,ABANDONED,2018-05-17 06:18:23.000000000,2020-03-18 08:57:36.000000000,,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-05-17 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd5a21f669a225c43d1ca948829af85cdfd49523', 'message': 'WIP: raise exception early\n\nChange-Id: I9903cae72efe5cc8f22a47dce9e95c2a04206d2b\nCloses-Bug: 1771517\n'}, {'number': 2, 'created': '2018-05-21 06:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17058f4eb4667b89e53663b950a51d11aa4b1fdd', 'message': ""raise exception early\n\nnova now needs access to keystone to perform quota When keystone\nis not available the nova-api (running in eventlet) tries to\nuse the endpoints ordered in [keystone]/valid_interfaces,\nwe did not have access to the internal endpoint which caused this issue.\n\nSo instead return a 200 to indicate a success and wait for long\ntime, we can properly return 500 as it's anyway a connection issue.\n\nChange-Id: I9903cae72efe5cc8f22a47dce9e95c2a04206d2b\nCloses-Bug: 1771517\n""}, {'number': 3, 'created': '2018-05-23 09:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/722eac729cc7ac4914e2658733852a7cf353b824', 'message': ""raise exception early\n\nnova now needs access to keystone to perform quota When keystone\nis not available the nova-api (running in eventlet) tries to\nuse the endpoints ordered in [keystone]/valid_interfaces,\nwe did not have access to the internal endpoint which caused this issue.\n\nSo instead return a 200 to indicate a success and wait for long\ntime, we can properly return 500 as it's anyway a connection issue.\n\nThere are some concern about whether we should return 500 error,\nwe should not lie about the result, if it's an internal error,\nwe should report it instead fake a success and delay the error\noccurance as it will eventually be there.\n\nChange-Id: I9903cae72efe5cc8f22a47dce9e95c2a04206d2b\nCloses-Bug: 1771517\n""}, {'number': 4, 'created': '2018-05-24 06:12:37.000000000', 'files': ['nova/tests/unit/test_identity.py', 'nova/api/openstack/identity.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2465f0f5601363004bf67909579fea78425b1edb', 'message': ""raise exception early\n\nnova now needs access to keystone to perform quota When keystone\nis not available the nova-api (running in eventlet) tries to\nuse the endpoints ordered in [keystone]/valid_interfaces,\nwe did not have access to the internal endpoint which caused this issue.\n\nSo instead return a 200 to indicate a success and wait for long\ntime, we can properly return 500 as it's anyway a connection issue.\n\nThere are some concern about whether we should return 500 error,\nwe should not lie about the result, if it's an internal error,\nwe should report it instead fake a success and delay the error\noccurance as it will eventually be there.\n\nChange-Id: I9903cae72efe5cc8f22a47dce9e95c2a04206d2b\nCloses-Bug: 1771517\n""}]",5,569024,2465f0f5601363004bf67909579fea78425b1edb,49,16,4,6062,,,0,"raise exception early

nova now needs access to keystone to perform quota When keystone
is not available the nova-api (running in eventlet) tries to
use the endpoints ordered in [keystone]/valid_interfaces,
we did not have access to the internal endpoint which caused this issue.

So instead return a 200 to indicate a success and wait for long
time, we can properly return 500 as it's anyway a connection issue.

There are some concern about whether we should return 500 error,
we should not lie about the result, if it's an internal error,
we should report it instead fake a success and delay the error
occurance as it will eventually be there.

Change-Id: I9903cae72efe5cc8f22a47dce9e95c2a04206d2b
Closes-Bug: 1771517
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/569024/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/identity.py'],1,dd5a21f669a225c43d1ca948829af85cdfd49523,bug/1771517," msg = ""Unable to contact keystone to verify project_id"" LOG.error(msg) raise webob.exc.HTTPInternalServerError()"," LOG.info(""Unable to contact keystone to verify project_id"") return True",3,2
openstack%2Fnova~master~I3807653840c3af5995437b33ed8029f6c7eb0ded,openstack/nova,master,I3807653840c3af5995437b33ed8029f6c7eb0ded,Deprecate rule:context_is_admin,ABANDONED,2018-04-25 21:47:18.000000000,2020-03-18 08:56:51.000000000,,"[{'_account_id': 5046}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26580}]","[{'number': 1, 'created': '2018-04-25 21:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16ad4072b5b81ea075fb63f080e0f249e6bd0f61', 'message': 'Attempt to simplify elevated authorization\n\nNova has a policy rule called `context_is_admin`, which was slightly\nconfusing and had a specific use case. When processing a request,\nnova\'s keystonecontext middleware builds a nova context object\nfrom the environment specified in the request. The summarized flow\nis as follows:\n\n  1.) keystoncontext attempts to build a context object from the\n      requests environment while in the paste pipeline\n  2.) oslo.context pulls headers from the request and passes them\n      to the RequestContext constructor, which nova subclasses\n  3.) the __init__() of nova\'s RequestContext passes the context\n      to the policy engine and uses the outcome of the enforcers\'s\n      ``authorize`` method to flag if the context ``is_admin`` or\n      not using an aliased policy rule called context_is_admin.\n\nThis patch attempts to simplify this by doing two things. First, it\nbumps the process of ""is_admin"" up in the request chain (to step #1)\nfrom above, where the middleware can reason about roles specified in\nthe request environment. Then it just uses the is_admin kwarg of the\noslo.context object to avoid step #3. Second, it removes the\nopaque context_is_admin rule in favor or a one-to-one mapping\nbetween a role named ""admin"" and functionality that requires elevated\npermissions of some kind.\n\nChange-Id: I3807653840c3af5995437b33ed8029f6c7eb0ded\n'}, {'number': 2, 'created': '2018-04-26 21:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2841a41436e181d4a745821bb2ec94b1dabbeaf', 'message': ""Deprecate rule:context_is_admin\n\nNova has a policy rule called `context_is_admin`, which is slightly\nconfusing and has a specific use case. The summarized flow is as\nfollows:\n\n  1.) keystoncontext middleware attempts to build a context object\n      from the requests environment while in the paste pipeline\n  2.) oslo.context pulls headers from the request and passes them\n      to the RequestContext constructor, which nova subclasses\n  3.) the __init__() of nova's RequestContext passes the context\n      to the policy engine and uses the outcome of the enforcers's\n      ``authorize`` method to flag if the context ``is_admin`` or\n      not using an aliased policy rule called context_is_admin.\n\nThis patch deprecates the rule:context_is_admin in favor of checking\nthe roles passed in from keystonemiddleware and setting ``is_admin``\non the context object to ``True``. This makes it clearer to see that\nnova treats roles named `admin` as special and it isolates that logic\nto a specific area, instead of relying on the output of a call to\noslo.policy to set is_admin based on an aliased rule.\n\nChange-Id: I3807653840c3af5995437b33ed8029f6c7eb0ded\n""}, {'number': 3, 'created': '2018-04-26 21:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c2fd8cbee7e8ec7f69b557c5fc2d54e9cd6a2df', 'message': ""Deprecate rule:context_is_admin\n\nNova has a policy rule called `context_is_admin`, which is slightly\nconfusing and has a specific use case. The summarized flow is as\nfollows:\n\n  1.) keystoncontext middleware attempts to build a context object\n      from the requests environment while in the paste pipeline\n  2.) oslo.context pulls headers from the request and passes them\n      to the RequestContext constructor, which nova subclasses\n  3.) the __init__() of nova's RequestContext passes the context\n      to the policy engine and uses the outcome of the enforcers's\n      ``authorize`` method to flag if the context ``is_admin`` or\n      not using an aliased policy rule called context_is_admin.\n\nThis patch deprecates the rule:context_is_admin in favor of checking\nthe roles passed in from keystonemiddleware and setting ``is_admin``\non the context object to ``True``. This makes it clearer to see that\nnova treats roles named `admin` as special and it isolates that logic\nto a specific area, instead of relying on the output of a call to\noslo.policy to set is_admin based on an aliased rule.\n\nChange-Id: I3807653840c3af5995437b33ed8029f6c7eb0ded\n""}, {'number': 4, 'created': '2018-04-27 15:54:41.000000000', 'files': ['nova/policies/base.py', 'doc/source/reference/policy-enforcement.rst', 'releasenotes/notes/deprecate-context-is-admin-8bebbe39f5ead502.yaml', 'nova/policy.py', 'nova/context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c582f103a8c42ca2fe4e55984a0a3fc34858717a', 'message': ""Deprecate rule:context_is_admin\n\nNova has a policy rule called `context_is_admin`, which is slightly\nconfusing and has a specific use case. The summarized flow is as\nfollows:\n\n  1.) keystoncontext middleware attempts to build a context object\n      from the requests environment while in the paste pipeline\n  2.) oslo.context pulls headers from the request and passes them\n      to the RequestContext constructor, which nova subclasses\n  3.) the __init__() of nova's RequestContext passes the context\n      to the policy engine and uses the outcome of the enforcers's\n      ``authorize`` method to flag if the context ``is_admin`` or\n      not using an aliased policy rule called context_is_admin.\n\nThis patch deprecates the rule:context_is_admin in favor of checking\nthe roles passed in from keystonemiddleware and setting ``is_admin``\non the context object to ``True``. This makes it clearer to see that\nnova treats roles named `admin` as special and it isolates that logic\nto a specific area, instead of relying on the output of a call to\noslo.policy to set is_admin based on an aliased rule.\n\nChange-Id: I3807653840c3af5995437b33ed8029f6c7eb0ded\n""}]",19,564349,c582f103a8c42ca2fe4e55984a0a3fc34858717a,46,17,4,5046,,,0,"Deprecate rule:context_is_admin

Nova has a policy rule called `context_is_admin`, which is slightly
confusing and has a specific use case. The summarized flow is as
follows:

  1.) keystoncontext middleware attempts to build a context object
      from the requests environment while in the paste pipeline
  2.) oslo.context pulls headers from the request and passes them
      to the RequestContext constructor, which nova subclasses
  3.) the __init__() of nova's RequestContext passes the context
      to the policy engine and uses the outcome of the enforcers's
      ``authorize`` method to flag if the context ``is_admin`` or
      not using an aliased policy rule called context_is_admin.

This patch deprecates the rule:context_is_admin in favor of checking
the roles passed in from keystonemiddleware and setting ``is_admin``
on the context object to ``True``. This makes it clearer to see that
nova treats roles named `admin` as special and it isolates that logic
to a specific area, instead of relying on the output of a call to
oslo.policy to set is_admin based on an aliased rule.

Change-Id: I3807653840c3af5995437b33ed8029f6c7eb0ded
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/564349/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/base.py', 'nova/context.py', 'nova/policy.py']",3,16ad4072b5b81ea075fb63f080e0f249e6bd0f61,placement-policy,,"def check_is_admin(context): """"""Whether or not roles contains 'admin' role according to policy setting. """""" init() # the target is user-self credentials = context.to_policy_values() target = credentials return _ENFORCER.authorize('context_is_admin', target, credentials) ",25,18
openstack%2Fnova~master~I7ac929e2ff29b0e9213f167d82decf8bb243ca6a,openstack/nova,master,I7ac929e2ff29b0e9213f167d82decf8bb243ca6a,Add scope_types to server policies,ABANDONED,2017-12-05 21:57:40.000000000,2020-03-18 08:56:19.000000000,,"[{'_account_id': 782}, {'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11869}, {'_account_id': 13478}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-12-05 21:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d49af982c567a3fbc0e50aac689d3ba9b7b75daf', 'message': 'Add scope_types to server policies\n\nThis commit uses some functionality introduced in oslo.policy 1.32.0\nand adds a new attribute to policies registered in nova.\n\nThe ``scope_types`` attribute is an immutable parameter of the\nRuleDefault object in oslo.policy. A policy can have two types of\nscopes, ``project`` and ``system``. A policy with a scope type of\n``project`` means that the operation can be executed with a\nproject-scoped token, or at the project level. A policy with a scope\ntype of ``system`` means the operation is executed at the system\nlevel. The server policies, or API, is a good example of project\nlevel scopes, since servers live within a project.\n\nThe oslo.policy library has logic to start comparing the scope of the\ntoken used in the request to the scope_types defined by the project.\nThis should help us get to a better place with RBAC usage in nova and\nacross OpenStack.\n\nChange-Id: I7ac929e2ff29b0e9213f167d82decf8bb243ca6a\nPartial-Bug: 968696\n'}, {'number': 2, 'created': '2017-12-19 22:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6ba7a60b53c6e1593bf685f4c1b57c7d401ed64', 'message': 'Add scope_types to server policies\n\nThis commit uses some functionality introduced in oslo.policy 1.32.0\nand adds a new attribute to policies registered in nova.\n\nThe ``scope_types`` attribute is an immutable parameter of the\nRuleDefault object in oslo.policy. A policy can have two types of\nscopes, ``project`` and ``system``. A policy with a scope type of\n``project`` means that the operation can be executed with a\nproject-scoped token, or at the project level. A policy with a scope\ntype of ``system`` means the operation is executed at the system\nlevel. The server policies, or API, is a good example of project\nlevel scopes, since servers live within a project.\n\nThe oslo.policy library has logic to start comparing the scope of the\ntoken used in the request to the scope_types defined by the project.\nThis should help us get to a better place with RBAC usage in nova and\nacross OpenStack.\n\nChange-Id: I7ac929e2ff29b0e9213f167d82decf8bb243ca6a\nPartial-Bug: 968696\n'}, {'number': 3, 'created': '2018-03-15 20:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97e027c6e1b243fcb400d6c6d0eb61fa675b9733', 'message': 'Add scope_types to server policies\n\nThis commit uses some functionality introduced in oslo.policy 1.32.0\nand adds a new attribute to policies registered in nova.\n\nThe ``scope_types`` attribute is an immutable parameter of the\nRuleDefault object in oslo.policy. A policy can have two types of\nscopes, ``project`` and ``system``. A policy with a scope type of\n``project`` means that the operation can be executed with a\nproject-scoped token, or at the project level. A policy with a scope\ntype of ``system`` means the operation is executed at the system\nlevel. The server policies, or API, is a good example of project\nlevel scopes, since servers live within a project.\n\nThe oslo.policy library has logic to start comparing the scope of the\ntoken used in the request to the scope_types defined by the project.\nThis should help us get to a better place with RBAC usage in nova and\nacross OpenStack.\n\nChange-Id: I7ac929e2ff29b0e9213f167d82decf8bb243ca6a\nPartial-Bug: 968696\n'}, {'number': 4, 'created': '2018-03-15 20:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/908ec6714d76a3647c04d7a46e21b53f9ffbab5a', 'message': 'Add scope_types to server policies\n\nThis commit uses some functionality introduced in oslo.policy 1.32.0\nand adds a new attribute to policies registered in nova.\n\nThe ``scope_types`` attribute that is designed to be specified in code\nwith the default policy definitions, and it\'s overridable via policy\nfiles supplied by operators. This let\'s nova developers specify which\nAPIs are ""system-level"" and which are ""project-level"".\n\nA policy can have two types of scopes, ``project`` and ``system``. A\npolicy with a scope type of ``project`` means that the operation can\nbe executed with a project-scoped token, or at the project level. A\npolicy with a scope type of ``system`` means the operation is executed\nat the system level. The server policies, or API, is a good example of\nproject level scopes, since servers live within a project.\n\nThe oslo.policy library has logic to start comparing the scope of the\ntoken used in the request to the scope_types defined by the project.\nThis should help us get to a better place with RBAC usage in nova and\nacross OpenStack.\n\nChange-Id: I7ac929e2ff29b0e9213f167d82decf8bb243ca6a\nPartial-Bug: 968696\n'}, {'number': 5, 'created': '2018-04-16 20:18:03.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/policies/base.py', 'nova/policies/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fdff19c0fe28ccd80ddcb6ebf3e1d1c6bacbb786', 'message': 'Add scope_types to server policies\n\nThis commit uses some functionality introduced in oslo.policy 1.32.0\nand adds a new attribute to policies registered in nova.\n\nThe ``scope_types`` attribute that is designed to be specified in code\nwith the default policy definitions, and it\'s overridable via policy\nfiles supplied by operators. This let\'s nova developers specify which\nAPIs are ""system-level"" and which are ""project-level"".\n\nA policy can have two types of scopes, ``project`` and ``system``. A\npolicy with a scope type of ``project`` means that the operation can\nbe executed with a project-scoped token, or at the project level. A\npolicy with a scope type of ``system`` means the operation is executed\nat the system level. The server policies, or API, is a good example of\nproject level scopes, since servers live within a project.\n\nThe oslo.policy library has logic to start comparing the scope of the\ntoken used in the request to the scope_types defined by the project.\nThis should help us get to a better place with RBAC usage in nova and\nacross OpenStack.\n\nChange-Id: I7ac929e2ff29b0e9213f167d82decf8bb243ca6a\nPartial-Bug: 968696\n'}]",26,525772,fdff19c0fe28ccd80ddcb6ebf3e1d1c6bacbb786,77,22,5,5046,,,0,"Add scope_types to server policies

This commit uses some functionality introduced in oslo.policy 1.32.0
and adds a new attribute to policies registered in nova.

The ``scope_types`` attribute that is designed to be specified in code
with the default policy definitions, and it's overridable via policy
files supplied by operators. This let's nova developers specify which
APIs are ""system-level"" and which are ""project-level"".

A policy can have two types of scopes, ``project`` and ``system``. A
policy with a scope type of ``project`` means that the operation can
be executed with a project-scoped token, or at the project level. A
policy with a scope type of ``system`` means the operation is executed
at the system level. The server policies, or API, is a good example of
project level scopes, since servers live within a project.

The oslo.policy library has logic to start comparing the scope of the
token used in the request to the scope_types defined by the project.
This should help us get to a better place with RBAC usage in nova and
across OpenStack.

Change-Id: I7ac929e2ff29b0e9213f167d82decf8bb243ca6a
Partial-Bug: 968696
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/525772/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/servers.py'],1,d49af982c567a3fbc0e50aac689d3ba9b7b75daf,bug/968696," ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], # NOTE(lbragstad): I'm not sure how to best classify this operation. Is # it something that should be done with a project-scoped token or a # system-scoped token? scope_types=['project', 'system']), ], scope_types=['project']), ], # NOTE(lbragstad): The is_admin:True bit here makes me think this is a # system-level API... double check with someone who is more familiar # with this. scope_types=['project', 'system']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']), ], scope_types=['project']),"," ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]), ]),",50,22
openstack%2Fnova~master~Ie286953381801c3516734d7d7cd9e19c603d6834,openstack/nova,master,Ie286953381801c3516734d7d7cd9e19c603d6834,validate provider summary structure,ABANDONED,2018-01-22 17:52:52.000000000,2020-03-18 08:55:07.000000000,,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-22 17:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4435ff9caaa8f35f7407af81e1d06713adaafe8b', 'message': ""validate provider summary structure\n\nAdds a little test helper to validate the tree structure of the resource\nproviders returned in the allocation candidates' provider_summaries\nsection.\n\nAdds commented-out assertions for the test methods that are looking at\nthe returned value from AllocationCandidates.get_by_requests(). Once\ntrees are accounted for in that method, we should be able to remove the\ncommented-out assertions.\n\nChange-Id: Ie286953381801c3516734d7d7cd9e19c603d6834\nblueprint: nested-resource-providers\n""}, {'number': 2, 'created': '2018-01-29 22:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58c78b7cb736f9126bd1edb8bf653f5140dbdbd2', 'message': ""validate provider summary structure\n\nAdds a little test helper to validate the tree structure of the resource\nproviders returned in the allocation candidates' provider_summaries\nsection.\n\nAdds commented-out assertions for the test methods that are looking at\nthe returned value from AllocationCandidates.get_by_requests(). Once\ntrees are accounted for in that method, we should be able to remove the\ncommented-out assertions.\n\nChange-Id: Ie286953381801c3516734d7d7cd9e19c603d6834\nblueprint: nested-resource-providers\n""}, {'number': 3, 'created': '2018-03-19 14:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90c71770a67269610849985554f07d61f2abd24d', 'message': ""validate provider summary structure\n\nAdds a little test helper to validate the tree structure of the resource\nproviders returned in the allocation candidates' provider_summaries\nsection.\n\nAdds commented-out assertions for the test methods that are looking at\nthe returned value from AllocationCandidates.get_by_requests(). Once\ntrees are accounted for in that method, we should be able to remove the\ncommented-out assertions.\n\nChange-Id: Ie286953381801c3516734d7d7cd9e19c603d6834\nblueprint: nested-resource-providers\n""}, {'number': 4, 'created': '2018-03-19 14:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed853bfba98456ba3c888d3d0092ef24ecd25b9b', 'message': ""validate provider summary structure\n\nAdds a little test helper to validate the tree structure of the resource\nproviders returned in the allocation candidates' provider_summaries\nsection.\n\nAdds commented-out assertions for the test methods that are looking at\nthe returned value from AllocationCandidates.get_by_requests(). Once\ntrees are accounted for in that method, we should be able to remove the\ncommented-out assertions.\n\nChange-Id: Ie286953381801c3516734d7d7cd9e19c603d6834\nblueprint: nested-resource-providers\n""}, {'number': 5, 'created': '2018-03-19 15:47:05.000000000', 'files': ['nova/tests/functional/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/42bcf703687b87abfefb21c05a68a1158bdbc7b7', 'message': ""validate provider summary structure\n\nAdds a little test helper to validate the tree structure of the resource\nproviders returned in the allocation candidates' provider_summaries\nsection.\n\nAdds commented-out assertions for the test methods that are looking at\nthe returned value from AllocationCandidates.get_by_requests(). Once\ntrees are accounted for in that method, we should be able to remove the\ncommented-out assertions.\n\nChange-Id: Ie286953381801c3516734d7d7cd9e19c603d6834\nblueprint: nested-resource-providers\n""}]",9,536516,42bcf703687b87abfefb21c05a68a1158bdbc7b7,35,11,5,7,,,0,"validate provider summary structure

Adds a little test helper to validate the tree structure of the resource
providers returned in the allocation candidates' provider_summaries
section.

Adds commented-out assertions for the test methods that are looking at
the returned value from AllocationCandidates.get_by_requests(). Once
trees are accounted for in that method, we should be able to remove the
commented-out assertions.

Change-Id: Ie286953381801c3516734d7d7cd9e19c603d6834
blueprint: nested-resource-providers
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/536516/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/db/test_allocation_candidates.py'],1,4435ff9caaa8f35f7407af81e1d06713adaafe8b,bp/nested-resource-providers," def _validate_provider_summary_structure(self, expected, candidates): """"""Assert correctness of the tree structure present in the provider summaries section of allocation candidates. :param expected: A dict, keyed by resource provider name, of parent resource provider names (or None if the provider should NOT have a parent provider UUID attribute set): { grandparent_provider_name: None, parent_provider_name: grandparent_provider_name, grandchild_provider_name: parent_provider_name ..., } :param candidates: The result from AllocationCandidates.get_by_requests """""" observed = {} for psum in candidates.provider_summaries: rpname = self.rp_uuid_to_name[psum.resource_provider.uuid] parent = psum.resource_provider.parent_provider_uuid if rpname in observed: self.fail(""Found resource provider %s more than once in "" ""provider_summaries!"" % rpname) observed[rpname] = parent self.assertEqual(expected, observed) # TODO(jaypipes): This should be the following once nested providers # are handled by allocation candidates: # expected = { # 'cn': None, # 'cn_numa0': 'cn', # 'cn_numa1': 'cn', # 'pf0': 'cn_numa0', # 'pf1': 'cn_numa1', # } # uuids.numa_cell0, uuids.numa_cell1]) # self._validate_provider_summary_structure(expected, alloc_cands) self._validate_provider_summary_structure({}, alloc_cands) # 'cn_numa0': set([]), # 'cn_numa1': set([]), # 'cn': None, # 'cn_numa0': 'cn', # 'cn_numa1': 'cn', # 'pf0': 'cn_numa0', # 'pf1': 'cn_numa1', # } # uuids.numa_cell0, uuids.numa_cell1]) # self._validate_provider_summary_structure(expected, alloc_cands) self._validate_provider_summary_structure({}, alloc_cands) # TODO(jaypipes): This should be the following once nested providers # are handled by allocation candidates: # expected = { # 'cn': None, # 'cn_numa0': 'cn', # 'cn_numa1': 'cn', # 'pf0': 'cn_numa0', # 'pf1': 'cn_numa1', # } # uuids.numa_cell0, uuids.numa_cell1]) # self._validate_provider_summary_structure(expected, alloc_cands) self._validate_provider_summary_structure({}, alloc_cands) # TODO(jaypipes): This should be the following once nested providers # are handled by allocation candidates: # expected = { # 'cn': None, # 'cn_numa0': 'cn', # 'cn_numa1': 'cn', # 'pf0': 'cn_numa0', # 'pf1': 'cn_numa1', # } # uuids.numa_cell0, uuids.numa_cell1]) # self._validate_provider_summary_structure(expected, alloc_cands) self._validate_provider_summary_structure({}, alloc_cands) # TODO(jaypipes): This should be the following once nested providers # are handled by allocation candidates: # expected = {"," # We should get the ""intermediate nodes"" of the tree in the # provider_summaries section that represent the NUMA cells that are # parents of the PFs. Even though the NUMA cell providers aren't # involved in any allocation, they are part of the tree of resource # providers involved in the allocation requests and therefore should be # returned in the provider_summaries section.",80,6
openstack%2Fnova~master~I59597140ef835b2c297a172bf12cbd2b6be20108,openstack/nova,master,I59597140ef835b2c297a172bf12cbd2b6be20108,[cellv2] performance issue when querying compute nodes in a cell,ABANDONED,2017-12-21 08:23:28.000000000,2020-03-18 08:47:11.000000000,,"[{'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-12-21 08:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02991bb91dabe08e660f61496471a5d311cd9070', 'message': '[cellv2] performance issue when querying compute nodes in a cell\n\nWhen executing create instances with rally, Nova scheduler will\nquery compute nodes in cell including cell0. The patch fix it.\nCloses-Bug: #1739545\n\nChange-Id: I59597140ef835b2c297a172bf12cbd2b6be20108\n'}, {'number': 2, 'created': '2017-12-21 11:41:10.000000000', 'files': ['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f64cf869885a7b5275344cade6829576d4bcc668', 'message': '[cellv2] performance issue when querying compute nodes in a cell\n\nWhen executing create instances, Nova scheduler will query compute\nnodes in cell including cell0. The patch fix it.\nCloses-Bug: #1739545\n\nChange-Id: I59597140ef835b2c297a172bf12cbd2b6be20108\n'}]",0,529504,f64cf869885a7b5275344cade6829576d4bcc668,27,16,2,11672,,,0,"[cellv2] performance issue when querying compute nodes in a cell

When executing create instances, Nova scheduler will query compute
nodes in cell including cell0. The patch fix it.
Closes-Bug: #1739545

Change-Id: I59597140ef835b2c297a172bf12cbd2b6be20108
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/529504/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/host_manager.py'],1,02991bb91dabe08e660f61496471a5d311cd9070,bug/1739545, if cell.is_cell0(): continue cell.is_cell0(): continue,,4,0
openstack%2Ftripleo-ci~master~Ia279fb2cf47ac75a968465c99a30c54ffaff8c83,openstack/tripleo-ci,master,Ia279fb2cf47ac75a968465c99a30c54ffaff8c83,WIP Use centos8 built images,ABANDONED,2020-03-04 14:25:04.000000000,2020-03-18 08:33:08.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 14:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/91cb82a9369a5e0d5e4c4b67cd6ad0c874650a49', 'message': 'WIP Use centos8 built images\n\nChange-Id: Ia279fb2cf47ac75a968465c99a30c54ffaff8c83\n'}, {'number': 2, 'created': '2020-03-06 12:10:46.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b7ecce3c9e13a0332532984ccdd2902addd372ab', 'message': 'WIP Use centos8 built images\n\nChange-Id: Ia279fb2cf47ac75a968465c99a30c54ffaff8c83\n'}]",0,711238,b7ecce3c9e13a0332532984ccdd2902addd372ab,13,3,2,10969,,,0,"WIP Use centos8 built images

Change-Id: Ia279fb2cf47ac75a968465c99a30c54ffaff8c83
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/38/711238/1 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/ovb.yml']",3,91cb82a9369a5e0d5e4c4b67cd6ad0c874650a49,ovb_centos8, {% if ansible_distribution == 'RedHat' and ansible_distribution_major_version|int >= 8 -%} {%- elif ansible_distribution_major_version|int >= 8-%} https://images.rdoproject.org/centos8/master/rdo_trunk/423cb54e84da6ddf5c163d1a5c1d512b/overcloud-full.tar {% if ansible_distribution == 'RedHat' and ansible_distribution_major_version|int >= 8 -%} {%- elif ansible_distribution_major_version|int >= 8 -%} https://images.rdoproject.org/centos8/master/rdo_trunk/423cb54e84da6ddf5c163d1a5c1d512b/ironic-python-agent.tar, {% if ansible_distribution == 'RedHat' and ansible_distribution_major_version >= '8' -%} {% if ansible_distribution == 'RedHat' and ansible_distribution_major_version >= '8' -%},18,6
openstack%2Fnova~master~I59b0f775139ea2d8a8096b99ab770b517607bc18,openstack/nova,master,I59b0f775139ea2d8a8096b99ab770b517607bc18,compute: Catch binding failed exception while init host,ABANDONED,2017-12-20 07:32:14.000000000,2020-03-18 08:30:16.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15888}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23628}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-12-20 07:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10462d2fa2be1bd1b384ba870efd12ae5f47a724', 'message': 'compute: Catch binding failed exception while init host\n\nWhile compute starts it will init all instances, if a\nNovaException is raised from one instance during plug_vifs,\nthen the compute process exits unexpectedly because of this\nunhandled exception.\nThis commit catches the NovaException during init host,\nand adds exception info to the instance as fault message.\nWith this change the compute process can be started normally\neven if this NovaException is raised.\n\nChange-Id: I59b0f775139ea2d8a8096b99ab770b517607bc18\nCloses-Bug: #1738373\n'}, {'number': 2, 'created': '2017-12-20 08:22:16.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a054320c06dff2eee223304e40547fb14bae6ad', 'message': 'compute: Catch binding failed exception while init host\n\nWhile compute starts it will init all instances, if a\nNovaException is raised from one instance during plug_vifs,\nthen the compute process exits unexpectedly because of this\nunhandled exception.\nThis commit catches the NovaException during init host,\nand adds exception info to the instance as fault message.\nWith this change the compute process can be started normally\neven if this NovaException is raised.\n\nChange-Id: I59b0f775139ea2d8a8096b99ab770b517607bc18\nCloses-Bug: #1738373\n'}]",2,529249,6a054320c06dff2eee223304e40547fb14bae6ad,20,14,2,23628,,,0,"compute: Catch binding failed exception while init host

While compute starts it will init all instances, if a
NovaException is raised from one instance during plug_vifs,
then the compute process exits unexpectedly because of this
unhandled exception.
This commit catches the NovaException during init host,
and adds exception info to the instance as fault message.
With this change the compute process can be started normally
even if this NovaException is raised.

Change-Id: I59b0f775139ea2d8a8096b99ab770b517607bc18
Closes-Bug: #1738373
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/529249/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,10462d2fa2be1bd1b384ba870efd12ae5f47a724,bug/1738373," except (exception.VirtualInterfacePlugException, exception.NovaException) as e: compute_utils.add_instance_fault_from_exc(context, instance, e, sys.exc_info())", except exception.VirtualInterfacePlugException:,10,3
openstack%2Fopenstack-helm~master~Iefa0caffc36eaa8531e8b2b21954adfa316cba40,openstack/openstack-helm,master,Iefa0caffc36eaa8531e8b2b21954adfa316cba40,[DNM] Testing OSH-infra netpol,ABANDONED,2020-03-11 19:21:11.000000000,2020-03-18 08:25:06.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 19:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4e99121773858448788f5a3ff74d2f00d92fb6dd', 'message': '[DNM] Testing memcache netpol\n\nDepends-On: https://review.opendev.org/#/c/685755/\n\nChange-Id: Iefa0caffc36eaa8531e8b2b21954adfa316cba40\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-03-13 18:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7c3ad817b937cefc1b36923c8a6076df24d96a7d', 'message': '[DNM] Testing memcache netpol\n\nDepends-On: https://review.opendev.org/#/c/685755/\n\nChange-Id: Iefa0caffc36eaa8531e8b2b21954adfa316cba40\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-03-17 15:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2dd525e97222f1aa0417cfe4fd46859070e3b8d0', 'message': '[DNM] Testing OSH-infra netpol\n\nDepends-On: https://review.opendev.org/#/c/685723/\n\nChange-Id: Iefa0caffc36eaa8531e8b2b21954adfa316cba40\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2020-03-17 16:30:19.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/71e28bc060b63501aa75877c64fa072ebd98cffd', 'message': '[DNM] Testing OSH-infra netpol\n\nDepends-On: https://review.opendev.org/#/c/685723/\n\nChange-Id: Iefa0caffc36eaa8531e8b2b21954adfa316cba40\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,712542,71e28bc060b63501aa75877c64fa072ebd98cffd,11,2,4,20466,,,0,"[DNM] Testing OSH-infra netpol

Depends-On: https://review.opendev.org/#/c/685723/

Change-Id: Iefa0caffc36eaa8531e8b2b21954adfa316cba40
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/42/712542/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4e99121773858448788f5a3ff74d2f00d92fb6dd,dnm/test-685723, # - openstack-helm-bandit # - openstack-helm-cinder # - openstack-helm-cinder-ocata-ubuntu_xenial # - openstack-helm-cinder-pike-ubuntu_xenial # - openstack-helm-cinder-queens-ubuntu_xenial # - openstack-helm-cinder-rocky-ubuntu_xenial # - openstack-helm-cinder-rocky-ubuntu_bionic # - openstack-helm-cinder-rocky-opensuse_15: # voting: false # - openstack-helm-cinder-train-ubuntu_bionic # - openstack-helm-compute-kit # - openstack-helm-compute-kit-ocata-ubuntu_xenial # - openstack-helm-compute-kit-pike-ubuntu_xenial # - openstack-helm-compute-kit-queens-ubuntu_xenial # - openstack-helm-compute-kit-rocky-ubuntu_xenial # - openstack-helm-compute-kit-rocky-ubuntu_bionic # - openstack-helm-compute-kit-rocky-opensuse_15: # voting: false # - openstack-helm-compute-kit-train-ubuntu_bionic # - openstack-helm-horizon # - openstack-helm-apparmor: # voting: false, - openstack-helm-bandit - openstack-helm-cinder - openstack-helm-cinder-ocata-ubuntu_xenial - openstack-helm-cinder-pike-ubuntu_xenial - openstack-helm-cinder-queens-ubuntu_xenial - openstack-helm-cinder-rocky-ubuntu_xenial - openstack-helm-cinder-rocky-ubuntu_bionic - openstack-helm-cinder-rocky-opensuse_15: voting: false - openstack-helm-cinder-train-ubuntu_bionic - openstack-helm-compute-kit - openstack-helm-compute-kit-ocata-ubuntu_xenial - openstack-helm-compute-kit-pike-ubuntu_xenial - openstack-helm-compute-kit-queens-ubuntu_xenial - openstack-helm-compute-kit-rocky-ubuntu_xenial - openstack-helm-compute-kit-rocky-ubuntu_bionic - openstack-helm-compute-kit-rocky-opensuse_15: voting: false - openstack-helm-compute-kit-train-ubuntu_bionic - openstack-helm-horizon - openstack-helm-apparmor: voting: false,22,22
openstack%2Fkeystone~master~I5a303a427002827667a9420077f7965e4e1ecb4c,openstack/keystone,master,I5a303a427002827667a9420077f7965e4e1ecb4c,Filtering invalid resources should return 400 Bad Request,ABANDONED,2017-01-06 08:41:17.000000000,2020-03-18 08:24:22.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 13063}, {'_account_id': 20466}]","[{'number': 1, 'created': '2017-01-06 08:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/33b1a71b6f661973337e856333cc9b850f6c5d0a', 'message': '[WIP] Filtering invalid resources should return 400 Bad Request\n\nCurrently, applying a filter on invalid resources on get/list\nAPI call is ignored.  The API should return a 400 Bad Request\nresponse to the client letting it know something is not correct\nwith the query.\n\nChange-Id: I5a303a427002827667a9420077f7965e4e1ecb4c\nCloses-Bug: #1654084\n'}, {'number': 2, 'created': '2017-01-06 17:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6ddc96c10ddd29d31495520e3a3fae17d8c329f1', 'message': '[WIP] Filtering invalid resources should return 400 Bad Request\n\nCurrently, applying a filter on invalid resources on get/list\nAPI call is ignored.  The API should return a 400 Bad Request\nresponse to the client letting it know something is not correct\nwith the query.\n\nChange-Id: I5a303a427002827667a9420077f7965e4e1ecb4c\nCloses-Bug: #1654084\n'}, {'number': 3, 'created': '2017-01-07 07:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4e48b7b1e8b30d365bb3b126184eca57574cbf4e', 'message': 'Filtering invalid resources should return 400 Bad Request\n\nCurrently, applying a filter on invalid resources on get/list\nAPI call is ignored.  The API should return a 400 Bad Request\nresponse to the client letting it know something is not correct\nwith the query.\n\nChange-Id: I5a303a427002827667a9420077f7965e4e1ecb4c\nCloses-Bug: #1654084\n'}, {'number': 4, 'created': '2017-01-07 18:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6cde2e361d63c684dbf24c3c006bb49c4ef52469', 'message': 'Filtering invalid resources should return 400 Bad Request\n\nCurrently, applying a filter on invalid resources on get/list\nAPI call is ignored.  The API should return a 400 Bad Request\nresponse to the client letting it know something is not correct\nwith the query.\n\nChange-Id: I5a303a427002827667a9420077f7965e4e1ecb4c\nCloses-Bug: #1654084\n'}, {'number': 5, 'created': '2017-01-10 18:20:50.000000000', 'files': ['keystone/common/controller.py', 'releasenotes/notes/bug-1654084-00350372f4a1c30c.yaml', 'keystone/tests/unit/test_v3_identity.py', 'keystone/exception.py', 'keystone/tests/unit/test_v3_filters.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a57b005435eb25aed13ed9ddec276b0ebfc4f413', 'message': 'Filtering invalid resources should return 400 Bad Request\n\nCurrently, applying a filter on invalid resources on get/list\nAPI call is ignored.  The API should return a 400 Bad Request\nresponse to the client letting it know something is not correct\nwith the query.\n\nChange-Id: I5a303a427002827667a9420077f7965e4e1ecb4c\nCloses-Bug: #1654084\n'}]",25,417315,a57b005435eb25aed13ed9ddec276b0ebfc4f413,31,4,5,20466,,,0,"Filtering invalid resources should return 400 Bad Request

Currently, applying a filter on invalid resources on get/list
API call is ignored.  The API should return a 400 Bad Request
response to the client letting it know something is not correct
with the query.

Change-Id: I5a303a427002827667a9420077f7965e4e1ecb4c
Closes-Bug: #1654084
",git fetch https://review.opendev.org/openstack/keystone refs/changes/15/417315/5 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_v3_filters.py'],1,33b1a71b6f661973337e856333cc9b850f6c5d0a,bug/1654084,"from six.moves import http_client def test_invalid_filter(self): - Assert a 400 Bad Request is created r = self.get(my_url, auth=self.auth, expected_status=http_client.BAD_REQUEST) domains = r.result.get('domains') self.assertIsNone(domains)"," def test_invalid_filter_is_ignored(self): - Assert 'enableds' is ignored r = self.get(my_url, auth=self.auth) id_list = self._get_id_list_from_ref_list(r.result.get('domains')) # domainA is returned and it is enabled, since enableds=0 is not the # same as enabled=0 self.assertEqual(1, len(id_list)) self.assertIn(self.domainA['id'], id_list) self.assertIs(True, r.result.get('domains')[0]['enabled'])",9,9
openstack%2Fglance~master~I2ef8c62d3007420b0adcb7c42373919d0f14dd0b,openstack/glance,master,I2ef8c62d3007420b0adcb7c42373919d0f14dd0b,Deprecate admin_role setting in config,ABANDONED,2017-05-17 17:21:47.000000000,2020-03-18 08:24:14.000000000,,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 10608}, {'_account_id': 20466}, {'_account_id': 21420}]","[{'number': 1, 'created': '2017-05-17 17:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dae34a549e1ef8db4e6e8f5633fe799390fbdbed', 'message': '[WIP] Deprecate admin_role setting in config\n\nCurrently, glance allows operator to define ``admin`` role in the configuration\nfile [0].  The admin-ness of the role should be performed by policy, rather\nthan having each service redefining these roles.  This allows for easier\npolicy management across all services.  This should address the comments\nin [1].\n\n[0] https://github.com/openstack/glance/blob/master/etc/glance-api.conf#L28-L42\n[1] https://review.openstack.org/#/c/384655/\n\nChange-Id: I2ef8c62d3007420b0adcb7c42373919d0f14dd0b\n'}, {'number': 2, 'created': '2017-05-18 05:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/47c4079d28aec518248410a47e97ff348624da3e', 'message': '[WIP, DNM] Deprecate admin_role setting in config\n\nCurrently, glance allows operator to define ``admin`` role in the configuration\nfile [0].  The admin-ness of the role should be performed by policy, rather\nthan having each service redefining these roles.  This allows for easier\npolicy management across all services.  This should address the comments\nin [1].\n\n[0] https://github.com/openstack/glance/blob/master/etc/glance-api.conf#L28-L42\n[1] https://review.openstack.org/#/c/384655/\n\nChange-Id: I2ef8c62d3007420b0adcb7c42373919d0f14dd0b\n'}, {'number': 3, 'created': '2017-05-21 01:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/33f41832f1516d66e079bcc2ca4aadc8f9edd5ed', 'message': '[WIP, DNM] Deprecate admin_role setting in config\n\nCurrently, glance allows operator to define ``admin`` role in the configuration\nfile [0].  The admin-ness of the role should be performed by policy, rather\nthan having each service redefining these roles.  This allows for easier\npolicy management across all services.  This should address the comments\nin [1].\n\n[0] https://github.com/openstack/glance/blob/master/etc/glance-api.conf#L28-L42\n[1] https://review.openstack.org/#/c/384655/\n\nChange-Id: I2ef8c62d3007420b0adcb7c42373919d0f14dd0b\n'}, {'number': 4, 'created': '2017-05-21 06:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de1ac46954a9d238f359c3d22ad8ffb62a409fdb', 'message': 'Deprecate admin_role setting in config\n\nCurrently, glance allows operator to define ``admin`` role in the configuration\nfile [0].  The admin-ness of the role should be performed by policy, rather\nthan having each service redefining these roles.  This allows for easier\npolicy management across all services.  This should address the comments\nin [1].\n\n[0] https://github.com/openstack/glance/blob/master/etc/glance-api.conf#L28-L42\n[1] https://review.openstack.org/#/c/384655/\n\nChange-Id: I2ef8c62d3007420b0adcb7c42373919d0f14dd0b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2017-05-24 06:26:18.000000000', 'files': ['glance/api/middleware/context.py', 'glance/tests/unit/test_context_middleware.py', 'glance/scrubber.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/670b94131c4a3da9d99a90f5fecf91705d6da378', 'message': 'Deprecate admin_role setting in config\n\nCurrently, glance allows operator to define ``admin`` role in the configuration\nfile [0].  The admin-ness of the role should be performed by policy, rather\nthan having each service redefining these roles.  This allows for easier\npolicy management across all services.  This should address the comments\nin [1].\n\n[0] https://github.com/openstack/glance/blob/master/etc/glance-api.conf#L28-L42\n[1] https://review.openstack.org/#/c/384655/\n\nChange-Id: I2ef8c62d3007420b0adcb7c42373919d0f14dd0b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",8,465679,670b94131c4a3da9d99a90f5fecf91705d6da378,22,5,5,20466,,,0,"Deprecate admin_role setting in config

Currently, glance allows operator to define ``admin`` role in the configuration
file [0].  The admin-ness of the role should be performed by policy, rather
than having each service redefining these roles.  This allows for easier
policy management across all services.  This should address the comments
in [1].

[0] https://github.com/openstack/glance/blob/master/etc/glance-api.conf#L28-L42
[1] https://review.openstack.org/#/c/384655/

Change-Id: I2ef8c62d3007420b0adcb7c42373919d0f14dd0b
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/glance refs/changes/79/465679/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/middleware/context.py', 'glance/tests/unit/test_context_middleware.py', 'glance/scrubber.py']",3,dae34a549e1ef8db4e6e8f5633fe799390fbdbed,bug/968696," cfg.StrOpt( 'admin_role', default='admin', deprecated_for_removal=True, deprecated_reason=_('Use policy instead to define admin access ' 'rather than redefining this via config.'), deprecated_since='Pike', help=_("""""" is_admin=True) is_admin=True)"," cfg.StrOpt('admin_role', default='admin', help=_("""""" roles = [CONF.admin_role] roles=roles) roles = [CONF.admin_role] roles=roles)",16,36
openstack%2Fnova~master~I329de24e9e25b12b766b99b60b88ca6ec38e08db,openstack/nova,master,I329de24e9e25b12b766b99b60b88ca6ec38e08db,[network] nova with neutron can not inject ip address to vm,ABANDONED,2016-08-12 09:42:18.000000000,2020-03-18 08:21:28.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6125}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11672}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19590}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24316}, {'_account_id': 26515}]","[{'number': 1, 'created': '2016-08-12 09:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa3c880409970b0b302f59f4e847ee817f50c7e8', 'message': '[network] nova with neutron can not inject ip address to vm\n\nWith neutron, Although the subnet is not dhcp,\nwe can not inject netconfig to guestos.\nCloses-Bug: #1612529\n\nChange-Id: I329de24e9e25b12b766b99b60b88ca6ec38e08db\n'}, {'number': 2, 'created': '2016-12-02 02:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/207a2474077313d88c6e5cb0bcd0ee0e6ec8d946', 'message': '[network] nova with neutron can not inject ip address to vm\n\nWith neutron, Although the subnet is not dhcp,\nwe can not inject netconfig to guestos.\nCloses-Bug: #1612529\n\nChange-Id: I329de24e9e25b12b766b99b60b88ca6ec38e08db\n'}, {'number': 3, 'created': '2016-12-02 06:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/797f7a22ce3715056358b8921733b79fc1cdf144', 'message': '[network] nova with neutron can not inject ip address to vm\n\nWith neutron, Although the subnet is not dhcp,\nwe can not inject netconfig to guestos.\nCloses-Bug: #1612529\n\nChange-Id: I329de24e9e25b12b766b99b60b88ca6ec38e08db\n'}, {'number': 4, 'created': '2017-12-25 09:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9d53fc1bf35cbae6d5a68955291822741162322', 'message': '[network] nova with neutron can not inject ip address to vm\n\nWith neutron, Although the subnet is not dhcp,\nwe can not inject netconfig to guestos.\nCloses-Bug: #1612529\n\nChange-Id: I329de24e9e25b12b766b99b60b88ca6ec38e08db\n'}, {'number': 5, 'created': '2017-12-25 09:55:49.000000000', 'files': ['nova/tests/unit/network/test_network_info.py', 'nova/virt/netutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad784de749188df4c3b0774fbbb72c90a9d55a91', 'message': '[network] nova with neutron can not inject ip address to vm\n\nWith neutron, Although the subnet is not dhcp,\nwe can not inject netconfig to guestos.\nCloses-Bug: #1612529\n\nChange-Id: I329de24e9e25b12b766b99b60b88ca6ec38e08db\n'}]",2,354616,ad784de749188df4c3b0774fbbb72c90a9d55a91,54,21,5,11672,,,0,"[network] nova with neutron can not inject ip address to vm

With neutron, Although the subnet is not dhcp,
we can not inject netconfig to guestos.
Closes-Bug: #1612529

Change-Id: I329de24e9e25b12b766b99b60b88ca6ec38e08db
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/354616/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/netutils.py'],1,aa3c880409970b0b302f59f4e847ee817f50c7e8,bug/1612529,from nova import utils if not utils.is_neutron() and not network.get_meta('injected'):, if not network.get_meta('injected'):,2,1
openstack%2Fneutron~master~I277ae029b589678eddca239287f3e0aee3d18d7d,openstack/neutron,master,I277ae029b589678eddca239287f3e0aee3d18d7d,[OVN] Make QoS policy which has multi-rules work,ABANDONED,2020-02-19 09:18:18.000000000,2020-03-18 08:14:26.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 29157}, {'_account_id': 29874}]","[{'number': 1, 'created': '2020-02-19 09:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69a10ad63139ca4b6868f7bf25f6f44c85bc051e', 'message': ""[OVN] Make QoS policy which has multi-rules works\n\nCurrently,the networking-ovn doesn't consider such QoS policy,\nwhich has both ingress and egress rules. So when we apply such policy\nto port or network, only one of them will works.\nWe need a list for qos_options which contains dics, not only a dic.\n\nChange-Id: I277ae029b589678eddca239287f3e0aee3d18d7d\nCloses-Bug: #1863852\n""}, {'number': 2, 'created': '2020-02-19 09:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0f9ef6a5df5dc8116e3f1e4edabe579ca743e9c', 'message': ""[OVN] Make QoS policy which has multi-rules work\n\nCurrently,the networking-ovn doesn't consider such QoS policy,\nwhich has both ingress and egress rules. So when we apply such policy\nto port or network, only one of them will works.\nWe need a list for qos_options which contains dics, not only a dic.\n\nChange-Id: I277ae029b589678eddca239287f3e0aee3d18d7d\nCloses-Bug: #1863852\n""}, {'number': 3, 'created': '2020-02-26 09:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65d4251f5e66928bf1c53d5686434ac6c186919a', 'message': ""[OVN] Make QoS policy which has multi-rules work\n\nCurrently,the networking-ovn doesn't consider such QoS policy,\nwhich has both ingress and egress rules. So when we apply such policy\nto port or network, only one of them will works.\nWe need a list for qos_options which contains dics, not only a dic.\n\nChange-Id: I277ae029b589678eddca239287f3e0aee3d18d7d\nCloses-Bug: #1863852\n""}, {'number': 4, 'created': '2020-02-27 06:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e22982781d01484b3d6d2cee28d9c77f96bfa106', 'message': ""[OVN] Make QoS policy which has multi-rules work\n\nCurrently,the networking-ovn doesn't consider such QoS policy,\nwhich has both ingress and egress rules. So when we apply such policy\nto port or network, only one of them will works.\nWe need a list for qos_options which contains dics, not only a dic.\n\nChange-Id: I277ae029b589678eddca239287f3e0aee3d18d7d\nCloses-Bug: #1863852\n""}, {'number': 5, 'created': '2020-03-11 07:28:24.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/qos/drivers/ovn/test_driver.py', 'neutron/services/qos/drivers/ovn/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7aa422d7c1ca08257ab247b5a509ce5b0c47dd8a', 'message': ""[OVN] Make QoS policy which has multi-rules work\n\nCurrently,the networking-ovn doesn't consider such QoS policy,\nwhich has both ingress and egress rules. So when we apply such policy\nto port or network, only one of them will works.\nWe need a list for qos_options which contains dics, not only a dic.\n\nChange-Id: I277ae029b589678eddca239287f3e0aee3d18d7d\nCloses-Bug: #1863852\n""}]",22,708586,7aa422d7c1ca08257ab247b5a509ce5b0c47dd8a,44,7,5,29874,,,0,"[OVN] Make QoS policy which has multi-rules work

Currently,the networking-ovn doesn't consider such QoS policy,
which has both ingress and egress rules. So when we apply such policy
to port or network, only one of them will works.
We need a list for qos_options which contains dics, not only a dic.

Change-Id: I277ae029b589678eddca239287f3e0aee3d18d7d
Closes-Bug: #1863852
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/708586/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/qos/drivers/ovn/test_driver.py', 'neutron/services/qos/drivers/ovn/driver.py']",3,69a10ad63139ca4b6868f7bf25f6f44c85bc051e,bug/1863852," options = [] options_bw = {} options_bw['qos_max_rate'] = rule.max_kbps if rule.max_burst_kbps: options_bw['qos_burst'] = rule.max_burst_kbps options_bw['direction'] = rule.direction options.append(options_bw) if isinstance(rule, qos_rule.QosDscpMarkingRule): options_dscp = {} options_dscp['dscp_mark'] = rule.dscp_mark options_dscp['direction'] = constants.EGRESS_DIRECTION options.append(options_dscp)"," options = {} options['qos_max_rate'] = rule.max_kbps if rule.max_burst_kbps: options['qos_burst'] = rule.max_burst_kbps options['direction'] = rule.direction if isinstance(rule, qos_rule.QosDscpMarkingRule): options['dscp_mark'] = rule.dscp_mark options['direction'] = constants.EGRESS_DIRECTION",41,36
openstack%2Fnova~master~I821d9aecba3311819568b54c74427ab1bd4235e0,openstack/nova,master,I821d9aecba3311819568b54c74427ab1bd4235e0,Add description for resize down support,ABANDONED,2017-10-31 09:46:02.000000000,2020-03-18 08:13:26.000000000,,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-31 09:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb1fbf40c0fb9aea0bef42b15d9120e45c6d82c3', 'message': 'Add description for resize down support\n\nChange-Id: I821d9aecba3311819568b54c74427ab1bd4235e0\n'}, {'number': 2, 'created': '2017-11-21 05:53:02.000000000', 'files': ['api-guide/source/server_concepts.rst', 'doc/source/user/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca1241e2260f5df4b8a7d8ac0993a3f4ec2dd15c', 'message': 'Add description for resize down support\n\nThe resize down is not supported by all virt drivers, this doc\nadded some description in the support matrix about that info.\n\nChange-Id: I821d9aecba3311819568b54c74427ab1bd4235e0\n'}]",2,516572,ca1241e2260f5df4b8a7d8ac0993a3f4ec2dd15c,17,10,2,6062,,,0,"Add description for resize down support

The resize down is not supported by all virt drivers, this doc
added some description in the support matrix about that info.

Change-Id: I821d9aecba3311819568b54c74427ab1bd4235e0
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/516572/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-guide/source/server_concepts.rst', 'doc/source/user/support-matrix.ini']",2,eb1fbf40c0fb9aea0bef42b15d9120e45c6d82c3,enhance_doc_resize," running instance, for example, only xen server virt driver support resize disk down. Therefore this operation is considered", running instance. Therefore this operation is considered,9,5
openstack%2Fnova~master~Ia5bb0f8314318c89bcc71a3c84c2bd6d2ef3fe06,openstack/nova,master,Ia5bb0f8314318c89bcc71a3c84c2bd6d2ef3fe06,Remove driver.block_device.get_swap,ABANDONED,2017-10-11 12:32:13.000000000,2020-03-18 08:12:50.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-11 12:32:13.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/driver.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d20041590351840425390b69f681471b943b3ed5', 'message': ""Remove driver.block_device.get_swap\n\nIt only had a single caller, and was more complicated that it needed\nto be. It's much more readable inline.\n\nChange-Id: Ia5bb0f8314318c89bcc71a3c84c2bd6d2ef3fe06\n""}]",1,511218,d20041590351840425390b69f681471b943b3ed5,24,13,1,9555,,,0,"Remove driver.block_device.get_swap

It only had a single caller, and was more complicated that it needed
to be. It's much more readable inline.

Change-Id: Ia5bb0f8314318c89bcc71a3c84c2bd6d2ef3fe06
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/511218/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_block_device.py', 'nova/virt/driver.py', 'nova/virt/block_device.py']",3,d20041590351840425390b69f681471b943b3ed5,block_device_funcs,," def get_swap(transformed_list): """"""Get the swap device out of the list context. The block_device_info needs swap to be a single device, not a list - otherwise this is a no-op. """""" if not all(isinstance(device, DriverSwapBlockDevice) or 'swap_size' in device for device in transformed_list): return None try: return transformed_list.pop() except IndexError: return None",5,28
openstack%2Ftripleo-common~master~Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b,openstack/tripleo-common,master,Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b,Support baremetal 'extra' property for node and port,ABANDONED,2020-01-28 00:29:39.000000000,2020-03-18 08:11:13.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-01-28 00:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/399d506300f7dcd743dee46889822b02e5f77f01', 'message': ""Support setting baremetal port's 'extra' property\n\nAdd support for the extra field in nodes_json port object.\nThe extra field can hold a set of one or more arbitrary\nmetadata key and value pairs.\n\nCloses-Bug: #1861052\nChange-Id: Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b\n""}, {'number': 2, 'created': '2020-01-30 09:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aeda76d04f6ee870a866324262d42fb5117dbcc5', 'message': ""Support baremetal 'extra' property for node and port\n\nAdd support for the extra field in nodes_json node and\nport objects. The extra field can hold a set of one or\nmore arbitrary metadata key and value pairs.\n\nCloses-Bug: #1861052\nChange-Id: Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b\n""}, {'number': 3, 'created': '2020-02-12 20:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4b005388db24f721d3a8840d15f6dde572c5e0ce', 'message': ""Support baremetal 'extra' property for node and port\n\nAdd support for the extra field in nodes_json node and\nport objects. The extra field can hold a set of one or\nmore arbitrary metadata key and value pairs.\n\nCloses-Bug: #1861052\nChange-Id: Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b\n""}, {'number': 4, 'created': '2020-02-26 14:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/199c788de75359755a4bbf4dcd9223946a10e414', 'message': ""Support baremetal 'extra' property for node and port\n\nAdd support for the extra field in nodes_json node and\nport objects. The extra field can hold a set of one or\nmore arbitrary metadata key and value pairs.\n\nCloses-Bug: #1861052\nChange-Id: Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b\n""}, {'number': 5, 'created': '2020-03-09 07:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/221cdd8b2428cedc7096fd751a39c8fdc171527b', 'message': ""Support baremetal 'extra' property for node and port\n\nAdd support for the extra field in nodes_json node and\nport objects. The extra field can hold a set of one or\nmore arbitrary metadata key and value pairs.\n\nCloses-Bug: #1861052\nChange-Id: Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b\n""}, {'number': 6, 'created': '2020-03-11 18:08:17.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'releasenotes/notes/support-baremetal-port-extra-property-3876b40c949f8fee.yaml', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8a00ffa9117f546072464cf8b7650239d81f1513', 'message': ""Support baremetal 'extra' property for node and port\n\nAdd support for the extra field in nodes_json node and\nport objects. The extra field can hold a set of one or\nmore arbitrary metadata key and value pairs.\n\nCloses-Bug: #1861052\nChange-Id: Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b\n""}]",3,704475,8a00ffa9117f546072464cf8b7650239d81f1513,29,4,6,24245,,,0,"Support baremetal 'extra' property for node and port

Add support for the extra field in nodes_json node and
port objects. The extra field can hold a set of one or
more arbitrary metadata key and value pairs.

Closes-Bug: #1861052
Change-Id: Ied90551ab17648553c0c4e9c8a34eb1f91b4e91b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/75/704475/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_nodes.py', 'releasenotes/notes/support-baremetal-port-extra-property-3876b40c949f8fee.yaml', 'tripleo_common/utils/nodes.py']",3,399d506300f7dcd743dee46889822b02e5f77f01,bug/1861052," node_uuid=ironic_node.uuid, extra=port.get('extra'))", node_uuid=ironic_node.uuid),57,11
openstack%2Fnova~master~Ib8f5e87fe36a2a6e91ba767270b2a0ccde41f8a9,openstack/nova,master,Ib8f5e87fe36a2a6e91ba767270b2a0ccde41f8a9,Remove unused block_migration argument to _live_migration_operation,ABANDONED,2017-11-01 15:12:59.000000000,2020-03-18 08:07:52.000000000,,"[{'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26490}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-01 15:12:59.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f42944da6ccb24ba1493dc743613c3660f60a01', 'message': 'Remove unused block_migration argument to _live_migration_operation\n\nChange-Id: Ib8f5e87fe36a2a6e91ba767270b2a0ccde41f8a9\n'}]",1,517007,2f42944da6ccb24ba1493dc743613c3660f60a01,19,15,1,9555,,,0,"Remove unused block_migration argument to _live_migration_operation

Change-Id: Ib8f5e87fe36a2a6e91ba767270b2a0ccde41f8a9
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/517007/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,2f42944da6ccb24ba1493dc743613c3660f60a01,bug/1719362," migrate_data, guest, []) migrate_data, guest, []) self.context, instance, 'dest', migrate_data, guest, []) self.context, instance_ref, 'dest', 'dest', migrate_data, guest, []) migrate_data, guest, []) migrate_data, guest, []) migrate_data, guest, disk_paths) migrate_data, guest, migrate_data, guest, disk_paths) migrate_data, guest, []) self.context, instance, ""fakehost"","," False, migrate_data, guest, []) False, migrate_data, guest, []) self.context, instance, 'dest', True, migrate_data, guest, []) self.context, instance_ref, 'dest', False, 'dest', False, migrate_data, guest, []) False, migrate_data, guest, []) False, migrate_data, guest, []) False, migrate_data, guest, disk_paths) True, migrate_data, guest, True, migrate_data, guest, disk_paths) False, migrate_data, guest, []) self.context, instance, ""fakehost"", True,",13,18
openstack%2Fnova~master~I0094bb6a5a3933e8211c7ef8ec4304453853f365,openstack/nova,master,I0094bb6a5a3933e8211c7ef8ec4304453853f365,[BugFix] Include the video ram when comparing the difference of two flavors,ABANDONED,2017-04-27 04:18:02.000000000,2020-03-18 08:05:35.000000000,,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 24562}]","[{'number': 1, 'created': '2017-04-27 04:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e9e77ec2e95141ed2470ec081490f136cba6799', 'message': '[BugFix]Include the video ram when comparing the difference of two flavors\n\nWhen resize an instance, need to compare the difference between the two flavors.\nif not included in the flavor of the video ram differences,\nwill lead to quota usage is not correct, when resize finished\n\nChange-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365\nCloses-Bug: #1686380\n'}, {'number': 2, 'created': '2017-04-27 06:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6a5b433858054c3b91f970b6d1860d9abd39fa8', 'message': '[BugFix] Include the video ram when comparing the difference of two flavors\n\nWhen resize an instance, need to compare the difference between the two flavors.\nif not included in the flavor of the video ram differences,\nwill lead to quota usage is not correct, when resize finished\n\nChange-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365\nCloses-Bug: #1686380\n'}, {'number': 3, 'created': '2017-04-27 08:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a110e3d02ac10aab714c1a81413fad28cfbf686', 'message': '[BugFix] Include the video ram when comparing the difference of two flavors\n\nWhen resize an instance, need to compare the difference between the two flavors.\nif not included in the flavor of the video ram differences,\nwill lead to quota usage is not correct, when resize finished\n\nChange-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365\nCloses-Bug: #1686380\n'}, {'number': 4, 'created': '2017-05-06 04:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/069db1e492df6f30ec0de0ceb0efa4c908ed86ad', 'message': '[BugFix] Include the video ram when comparing the difference of two flavors\n\nWhen resize an instance, need to compare the difference between the two flavors.\nif not included in the flavor of the video ram differences,\nwill lead to quota usage is not correct, when resize finished\n\nChange-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365\nCloses-Bug: #1686380\n'}, {'number': 5, 'created': '2017-05-06 04:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0202c3122229571139611c65abaff95dece48c0', 'message': '[BugFix] Include the video ram when comparing the difference of two flavors\n\nWhen resize an instance, need to compare the difference between the two flavors.\nif not included in the flavor of the video ram differences,\nwill lead to quota usage is not correct, when resize finished\n\nChange-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365\nCloses-Bug: #1686380\n'}, {'number': 6, 'created': '2017-05-06 05:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ac97aa73a14e3c11e78b82dbf7346154f579637', 'message': '[BugFix] Include the video ram when comparing the difference of two flavors\n\nWhen resize an instance, need to compare the difference between the two flavors.\nif not included in the flavor of the video ram differences,\nwill lead to quota usage is not correct, when resize finished\n\nChange-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365\nCloses-Bug: #1686380\n'}, {'number': 7, 'created': '2017-05-12 10:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e53d0411a238713efc0b98cb51ff1a1439a8620', 'message': '[BugFix] Include the video ram when comparing the difference of two flavors\n\nWhen resize an instance, need to compare the difference between the two flavors.\nif not included in the flavor of the video ram differences,\nwill lead to quota usage is not correct, when resize finished\n\nChange-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365\nCloses-Bug: #1686380\n'}, {'number': 8, 'created': '2017-05-19 03:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8cba2b5418307cf1b0baca210a255deaec769dc', 'message': '[BugFix] Include the video ram when comparing the difference of two flavors\n\nWhen resize an instance, need to compare the difference between the two flavors.\nif not included in the flavor of the video ram differences,\nwill lead to quota usage is not correct, when resize finished\n\nChange-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365\nCloses-Bug: #1686380\n'}, {'number': 9, 'created': '2017-06-12 02:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e674a34560f9eea89218e02fa0ccaa9efe248606', 'message': '[BugFix] Include the video ram when comparing the difference of two flavors\n\nWhen resize an instance, need to compare the difference between the two flavors.\nif not included in the flavor of the video ram differences,\nwill lead to quota usage is not correct, when resize finished\n\nChange-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365\nCloses-Bug: #1686380\n'}, {'number': 10, 'created': '2017-06-13 04:49:12.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5bf934eb85224066062676de0f9603365f30d68e', 'message': '[BugFix] Include the video ram when comparing the difference of two flavors\n\nWhen resize an instance, need to compare the difference between the two flavors.\nif not included in the flavor of the video ram differences,\nwill lead to quota usage is not correct, when resize finished\n\nChange-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365\nCloses-Bug: #1686380\n'}]",0,460388,5bf934eb85224066062676de0f9603365f30d68e,114,20,10,24562,,,0,"[BugFix] Include the video ram when comparing the difference of two flavors

When resize an instance, need to compare the difference between the two flavors.
if not included in the flavor of the video ram differences,
will lead to quota usage is not correct, when resize finished

Change-Id: I0094bb6a5a3933e8211c7ef8ec4304453853f365
Closes-Bug: #1686380
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/460388/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/utils.py']",2,7e9e77ec2e95141ed2470ec081490f136cba6799,bug/1686380,"VIDEO_RAM = 'hw_video:ram_max_mb' if resource == 'memory_mb': new_vram_mb = int(new_flavor.get('extra_specs', {}).get(VIDEO_RAM, 0)) old_vram_mb = int(old_flavor.get('extra_specs', {}).get(VIDEO_RAM, 0)) new_resource = new_flavor[resource] + new_vram_mb old_resource = old_flavor[resource] + old_vram_mb return sense * (new_resource - old_resource) else: return sense * (new_flavor[resource] - old_flavor[resource])", return sense * (new_flavor[resource] - old_flavor[resource]),24,3
openstack%2Fnova~master~I94e44434129cef598b0fdf1613e79d4abd359fa6,openstack/nova,master,I94e44434129cef598b0fdf1613e79d4abd359fa6,[BugFix] Change the condition to delete a resizing instance,ABANDONED,2017-05-09 05:41:08.000000000,2020-03-18 08:04:46.000000000,,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21813}, {'_account_id': 24562}]","[{'number': 1, 'created': '2017-05-09 05:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f3c920db2b60a0194aa10d91e45dfd7f05416a3', 'message': '[BugFix] Change the condition to delete a resizing instance\n\nWhen an instance task state is RESIZE_MIGRATED or RESIZE_FINISH,\ndelete the instance will hint an error, when task state is\nRESIZE_MIGRATED, instance has no attribute old_flavor, and the\nvram_mb should be int.\n\nChange-Id: I94e44434129cef598b0fdf1613e79d4abd359fa6\nCloses-Bug: #1689289\n'}, {'number': 2, 'created': '2017-05-09 07:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d1c90ec48f8297dc33218ac74fa502d338c27cc', 'message': '[BugFix] Change the condition to delete a resizing instance\n\nWhen an instance task state is RESIZE_MIGRATED or RESIZE_FINISH,\ndelete the instance will hint an error, when task state is\nRESIZE_MIGRATED, instance has no attribute old_flavor, and the\nvram_mb should be int.\n\nChange-Id: I94e44434129cef598b0fdf1613e79d4abd359fa6\nCloses-Bug: #1689289\n'}, {'number': 3, 'created': '2017-05-23 04:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/829438533a10ec347e5986ca851d1aac30d268d2', 'message': '[BugFix] Change the condition to delete a resizing instance\n\nWhen an instance task state is RESIZE_MIGRATED or RESIZE_FINISH,\ndelete the instance will hint an error, when task state is\nRESIZE_MIGRATED, instance has no attribute old_flavor, and the\nvram_mb should be int.\n\nChange-Id: I94e44434129cef598b0fdf1613e79d4abd359fa6\nCloses-Bug: #1689289\n'}, {'number': 4, 'created': '2017-05-27 04:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebfdedf1417ca3a1f54eba06be4a8e1d8a3913e2', 'message': '[BugFix] Change the condition to delete a resizing instance\n\nWhen an instance task state is RESIZE_MIGRATED or RESIZE_FINISH,\ndelete the instance will hint an error, when task state is\nRESIZE_MIGRATED, instance has no attribute old_flavor, and the\nvram_mb should be int.\n\nChange-Id: I94e44434129cef598b0fdf1613e79d4abd359fa6\nCloses-Bug: #1689289\n'}, {'number': 5, 'created': '2017-06-06 02:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e098579ebaee9e6709315fb6633077a5c02555ff', 'message': '[BugFix] Change the condition to delete a resizing instance\n\nWhen an instance task state is RESIZE_MIGRATED or RESIZE_FINISH,\ndelete the instance will hint an error, when task state is\nRESIZE_MIGRATED, instance has no attribute old_flavor, and the\nvram_mb should be int.\n\nChange-Id: I94e44434129cef598b0fdf1613e79d4abd359fa6\nCloses-Bug: #1689289\n'}, {'number': 6, 'created': '2017-06-12 02:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9e104550bcb06cd456bd5bc4b0f48b63a498b85', 'message': '[BugFix] Change the condition to delete a resizing instance\n\nWhen an instance task state is RESIZE_MIGRATED or RESIZE_FINISH,\ndelete the instance will hint an error, when task state is\nRESIZE_MIGRATED, instance has no attribute old_flavor, and the\nvram_mb should be int.\n\nChange-Id: I94e44434129cef598b0fdf1613e79d4abd359fa6\nCloses-Bug: #1689289\n'}, {'number': 7, 'created': '2017-06-13 05:10:02.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e610961253a1b09e74f9b4fea46f15a6376f6054', 'message': '[BugFix] Change the condition to delete a resizing instance\n\nWhen an instance task state is RESIZE_MIGRATED or RESIZE_FINISH,\ndelete the instance will hint an error, when task state is\nRESIZE_MIGRATED, instance has no attribute old_flavor, and the\nvram_mb should be int.\n\nChange-Id: I94e44434129cef598b0fdf1613e79d4abd359fa6\nCloses-Bug: #1689289\n'}]",3,463466,e610961253a1b09e74f9b4fea46f15a6376f6054,90,20,7,24562,,,0,"[BugFix] Change the condition to delete a resizing instance

When an instance task state is RESIZE_MIGRATED or RESIZE_FINISH,
delete the instance will hint an error, when task state is
RESIZE_MIGRATED, instance has no attribute old_flavor, and the
vram_mb should be int.

Change-Id: I94e44434129cef598b0fdf1613e79d4abd359fa6
Closes-Bug: #1689289
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/463466/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,6f3c920db2b60a0194aa10d91e45dfd7f05416a3,bug/1689289," # NOTE(falseuser): when the instance task state is resize_migrated, # intance has no attribute old_flavor, use flavor. # see https://bugs.launchpad.net/nova/+bug/1689289 for more details if original_task_state == task_states.RESIZE_FINISH: vram_mb = int(old_flavor.get('extra_specs', {}).get(VIDEO_RAM, 0))"," if original_task_state in (task_states.RESIZE_MIGRATED, task_states.RESIZE_FINISH): vram_mb = old_flavor.extra_specs.get('hw_video:ram_max_mb', 0)",9,3
openstack%2Fnova~master~Ia5c3892bea8490774bd24a07ef9e2d7e7321b0f4,openstack/nova,master,Ia5c3892bea8490774bd24a07ef9e2d7e7321b0f4,VMware: Check if network is ready on cluster host,ABANDONED,2017-05-24 11:12:04.000000000,2020-03-18 07:54:22.000000000,,"[{'_account_id': 1653}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 10118}, {'_account_id': 11159}, {'_account_id': 11564}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16929}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-05-24 11:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6ee29a941f08e1aeaa96c2c6fa4ef75899aedb5', 'message': 'VMware: Check if network is ready on cluster host\n\nFor the case in reported bug, check if network is ready\non cluster host to avoid the issue.\n\nChange-Id: Ia5c3892bea8490774bd24a07ef9e2d7e7321b0f4\nClose-Bug: #Bug1532750\n'}, {'number': 2, 'created': '2017-05-24 13:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34233c20a325a1a5c02b6a673d16c8bf9708192b', 'message': 'VMware: Check if network is ready on cluster host\n\nFor the case in reported bug, check if network is ready\non cluster host to avoid the issue.\n\nChange-Id: Ia5c3892bea8490774bd24a07ef9e2d7e7321b0f4\nCloses-Bug: #1532750\n'}, {'number': 3, 'created': '2017-05-31 12:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a389af190942092f56ac3891719e7d9909987e48', 'message': 'VMware: Check if network is ready on cluster host\n\nFor the case in reported bug, check if network is ready\non cluster hosts to avoid the issue.\n\nNew apis in oslo.vmware are used, and some ut are modified\naccordingly.\n\nChange-Id: Ia5c3892bea8490774bd24a07ef9e2d7e7321b0f4\nClose-Bug: #Bug1532750\n'}, {'number': 4, 'created': '2017-06-09 08:56:31.000000000', 'files': ['nova/virt/vmwareapi/vif.py', 'nova/virt/vmwareapi/network_util.py', 'nova/tests/unit/virt/vmwareapi/test_vif.py', 'nova/tests/unit/virt/vmwareapi/test_network_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a6976b580a1deb556a973c46867504acd0cb841e', 'message': 'VMware: Check if network is ready on cluster host\n\nFor the case in reported bug, check if network is ready\non cluster hosts to avoid the issue.\n\nNew apis in oslo.vmware are used, and some ut are modified\naccordingly.\n\nChange-Id: Ia5c3892bea8490774bd24a07ef9e2d7e7321b0f4\nClose-Bug: #Bug1532750\n'}]",6,467589,a6976b580a1deb556a973c46867504acd0cb841e,44,15,4,11159,,,0,"VMware: Check if network is ready on cluster host

For the case in reported bug, check if network is ready
on cluster hosts to avoid the issue.

New apis in oslo.vmware are used, and some ut are modified
accordingly.

Change-Id: Ia5c3892bea8490774bd24a07ef9e2d7e7321b0f4
Close-Bug: #Bug1532750
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/467589/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vif.py', 'nova/tests/unit/virt/vmwareapi/test_vif.py', 'nova/virt/vmwareapi/network_util.py']",3,b6ee29a941f08e1aeaa96c2c6fa4ef75899aedb5,bug/1532750,"def get_network_with_the_name(session, network_name=""vmnet0"", cluster=None, check_hosts=False): if not check_hosts: vm_networks = session._call_method(vim_util, 'get_object_properties', None, cluster, 'ClusterComputeResource', ['network']) network_obj = _get_network_from_vm_networks(session, network_name, vm_networks) if not network_obj: LOG.debug(""Network %s not found on cluster!"", network_name) else: cluster_hosts = session._call_method(vim_util, 'get_object_properties', None, cluster, 'ClusterComputeResource', ['host']) hosts = {} for obj_content in cluster_hosts.objects: if not hasattr(obj_content, 'propSet'): continue prop_dict = vm_util.propset_dict(obj_content.propSet) host_refs = prop_dict.get('host') if host_refs: host_refs = host_refs.ManagedObjectReference for host in host_refs: if host._type == ""HostSystem"": hosts.add(host) network_obj = None for host in hosts: host_networks = session._call_method(vim_util, 'get_object_properties', None, host, 'HostSystem', ['network']) network_obj = _get_network_from_vm_networks(session, network_name, host_networks) if not network_obj: break if not network_obj: LOG.debug(""Network %s not ready on cluster host!"", network_name) return network_obj def _get_network_from_vm_networks(session, network_name, vm_networks):","def get_network_with_the_name(session, network_name=""vmnet0"", cluster=None): vm_networks = session._call_method(vim_util, 'get_object_properties', None, cluster, 'ClusterComputeResource', ['network']) LOG.debug(""Network %s not found on cluster!"", network_name)",74,14
openstack%2Fvalidations-common~master~I95d8ddf3b6746d74d98340132b57d5f25d5450c8,openstack/validations-common,master,I95d8ddf3b6746d74d98340132b57d5f25d5450c8,Remove mock as a test requirement and add PyYAML as requirement.,MERGED,2020-03-17 10:21:17.000000000,2020-03-18 07:54:12.000000000,2020-03-18 07:52:54.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-17 10:21:17.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'validations_common/tests/library/test_check_package_update.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c7d577790f72350b5da4e25cb8a86717ec6b7562', 'message': 'Remove mock as a test requirement and add PyYAML as requirement.\n\nNow that we have moved to py36 and later runtimes, we no longer\nneed to use the third party mock library and can only use the standard\nlibrary unittest.mock instead.\n\nChange-Id: I95d8ddf3b6746d74d98340132b57d5f25d5450c8\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,713398,c7d577790f72350b5da4e25cb8a86717ec6b7562,8,3,1,11491,,,0,"Remove mock as a test requirement and add PyYAML as requirement.

Now that we have moved to py36 and later runtimes, we no longer
need to use the third party mock library and can only use the standard
library unittest.mock instead.

Change-Id: I95d8ddf3b6746d74d98340132b57d5f25d5450c8
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/98/713398/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'validations_common/tests/library/test_check_package_update.py']",3,c7d577790f72350b5da4e25cb8a86717ec6b7562,,from unittest.mock import MagicMock from unittest.mock import patch,from mock import MagicMock from mock import patch,3,3
openstack%2Fnova~master~I9cc03f7961a79fa0d544c04d0cdde4387908067a,openstack/nova,master,I9cc03f7961a79fa0d544c04d0cdde4387908067a,Improve the readability of check_instance_state,ABANDONED,2017-03-02 13:04:25.000000000,2020-03-18 07:53:21.000000000,,"[{'_account_id': 3}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-03-02 13:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17a67d51510cc9beb4587f4197b465158127ddb0', 'message': ""Improve the readability of check_instance_state\n\nThis (mostly: see bugfix description below) non-functional change\ntweaks check_instance_state in compute api for readability. The\nfunction can check vm_state, task_state, and launched_at. It was my\noriginal intention to make the function check nothing which wasn't\nexplicitly specified, but on reflection I've chosen to tweak the\ndefaults slightly to be safer and represent most cases. The new\nbehaviour is:\n\n  * If a vm_state check is specified, we default to checking\n    task_state is not set.\n  * If no vm_state check is specified, we default to not checking\n    task_state at all.\n\nThe major readability change is to remove explicit uses of\nvm_state=None and task_state=None by callers, as these look\nconfusingly like assertions that vm_state and task_state respectively\nare not set, whereas they are actually disabling the tests.\n\nThis readability issue seems to have resulted in bugs in force_delete,\ndelete_instance_metadata, and update_instance_metadata. force_delete\ndid not intend to check either vm_state or task_state, but was in fact\nusing the default behaviour of asserting that there was no task_state.\nI have documented but not addressed this, as a fix seems to be\nunderway in bug 1641523.\n\ndelete_instance_metadata and update_instance_metadata seem to have\nintended to assert that there was no task state, but by specifying\ntask_state=None actually disabled the test. This bug seems to have\nbeen introduced with the original check in change I70212879. I have\nfixed it here as it is trivial.\n\nRelated-Bug: #1641523\nCloses-Bug: #1669400\nChange-Id: I9cc03f7961a79fa0d544c04d0cdde4387908067a\n""}, {'number': 2, 'created': '2017-03-27 14:46:51.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fbf5972645cf7730e25a7c1410a22961e2b6b595', 'message': ""Improve the readability of check_instance_state\n\nThis (mostly: see bugfix description below) non-functional change\ntweaks check_instance_state in compute api for readability. The\nfunction can check vm_state, task_state, and launched_at. It was my\noriginal intention to make the function check nothing which wasn't\nexplicitly specified, but on reflection I've chosen to tweak the\ndefaults slightly to be safer and represent most cases. The new\nbehaviour is:\n\n  * If a vm_state check is specified, we default to checking\n    task_state is not set.\n  * If no vm_state check is specified, we default to not checking\n    task_state at all.\n\nThe major readability change is to remove explicit uses of\nvm_state=None and task_state=None by callers, as these look\nconfusingly like assertions that vm_state and task_state respectively\nare not set, whereas they are actually disabling the tests.\n\nThis readability issue seems to have resulted in bugs in force_delete,\ndelete_instance_metadata, and update_instance_metadata. force_delete\ndid not intend to check either vm_state or task_state, but was in fact\nusing the default behaviour of asserting that there was no task_state.\nI have documented but not addressed this, as a fix seems to be\nunderway in bug 1641523.\n\ndelete_instance_metadata and update_instance_metadata seem to have\nintended to assert that there was no task state, but by specifying\ntask_state=None actually disabled the test. This bug seems to have\nbeen introduced with the original check in change I70212879. I have\nfixed it here as it is trivial.\n\nRelated-Bug: #1641523\nCloses-Bug: #1669400\nChange-Id: I9cc03f7961a79fa0d544c04d0cdde4387908067a\n""}]",11,440536,fbf5972645cf7730e25a7c1410a22961e2b6b595,40,19,2,9555,,,0,"Improve the readability of check_instance_state

This (mostly: see bugfix description below) non-functional change
tweaks check_instance_state in compute api for readability. The
function can check vm_state, task_state, and launched_at. It was my
original intention to make the function check nothing which wasn't
explicitly specified, but on reflection I've chosen to tweak the
defaults slightly to be safer and represent most cases. The new
behaviour is:

  * If a vm_state check is specified, we default to checking
    task_state is not set.
  * If no vm_state check is specified, we default to not checking
    task_state at all.

The major readability change is to remove explicit uses of
vm_state=None and task_state=None by callers, as these look
confusingly like assertions that vm_state and task_state respectively
are not set, whereas they are actually disabling the tests.

This readability issue seems to have resulted in bugs in force_delete,
delete_instance_metadata, and update_instance_metadata. force_delete
did not intend to check either vm_state or task_state, but was in fact
using the default behaviour of asserting that there was no task_state.
I have documented but not addressed this, as a fix seems to be
underway in bug 1641523.

delete_instance_metadata and update_instance_metadata seem to have
intended to assert that there was no task state, but by specifying
task_state=None actually disabled the test. This bug seems to have
been introduced with the original check in change I70212879. I have
fixed it here as it is trivial.

Related-Bug: #1641523
Closes-Bug: #1669400
Change-Id: I9cc03f7961a79fa0d544c04d0cdde4387908067a
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/440536/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,17a67d51510cc9beb4587f4197b465158127ddb0,bug/1641523,"_NO_STATE = object() def check_instance_state(vm_state=None, task_state=None, launched=True): if vm_state is not None: # If we're checking for a specific vm state we almost always want to # also assert that there is no task state, so for brevity we make that # the default. if task_state is None: task_state = _NO_STATE if not isinstance(vm_state, set): vm_state = set(vm_state) if task_state is _NO_STATE: task_state = set([None]) elif task_state is not None and not isinstance(task_state, set): if launched and not instance.launched_at: # NOTE(maoy): we allow delete to be called no matter what vm_state says, as # long as the instance has been launched. @check_instance_state() @check_instance_state(task_state=_NO_STATE, launched=False) # NOTE(mdbooth): In fact we currently assert that there is no task # state. See bug 1641523. @check_instance_state(vm_state=vm_states.ALLOW_SOFT_REBOOT) @check_instance_state(vm_state=vm_states.ALLOW_HARD_REBOOT, vm_states.SHELVED_OFFLOADED]) vm_states.STOPPED]) vm_states.STOPPED]) vm_states.SUSPENDED, vm_states.STOPPED]) vm_states.SUSPENDED, vm_states.STOPPED])"," def check_instance_state(vm_state=None, task_state=(None,), must_have_launched=True): if vm_state is not None and not isinstance(vm_state, set): vm_state = set(vm_state) if task_state is not None and not isinstance(task_state, set): if must_have_launched and not instance.launched_at: # NOTE(maoy): we allow delete to be called no matter what vm_state says. @check_instance_state(vm_state=None, task_state=None, must_have_launched=True) @check_instance_state(vm_state=None, task_state=None, must_have_launched=False) @check_instance_state(must_have_launched=False) @check_instance_state(vm_state=set(vm_states.ALLOW_SOFT_REBOOT), task_state=[None]) @check_instance_state(vm_state=set(vm_states.ALLOW_HARD_REBOOT), vm_states.SHELVED_OFFLOADED]) vm_states.STOPPED], task_state=[None]) vm_states.STOPPED], task_state=[None]) vm_states.SUSPENDED, vm_states.STOPPED], task_state=None) vm_states.SUSPENDED, vm_states.STOPPED], task_state=None)",30,24
openstack%2Fnova~master~I1195e33e6dc4deca4666c52ebb31ded137034f36,openstack/nova,master,I1195e33e6dc4deca4666c52ebb31ded137034f36,VMware: retry network lookup if network not ready,ABANDONED,2016-10-31 10:25:32.000000000,2020-03-18 07:52:41.000000000,,"[{'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-10-31 10:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/204e1685ca19d25a6c2ecdc05510d2df73ecfd00', 'message': ""VMware: retry network lookup if network no ready\n\nUnder load there are edge cases when a network created in the VC\nis not ready on the ESX. In the event that this happens we do a\nretry for the network lookup.\n\nThis enables the VC to configure the ESX's.\n\nChange-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36\nCloses-bug: #1637970\n""}, {'number': 2, 'created': '2016-10-31 12:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4241137242c8b2e00c9c87b13779c0b400e39533', 'message': ""VMware: retry network lookup if network not ready\n\nUnder load there are edge cases when a network created in the VC\nis not ready on the ESX(s). In the event that this happens we do a\nretry for the network lookup.\n\nThis enables the VC to configure the ESX's.\n\nChange-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36\nCloses-bug: #1637970\n""}, {'number': 3, 'created': '2016-12-15 12:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ed6addc2481e25fe8e537dbe229f0b49f7a1af2', 'message': ""VMware: retry network lookup if network not ready\n\nUnder load there are edge cases when a network created in the VC\nis not ready on the ESX(s). In the event that this happens we do a\nretry for the network lookup.\n\nThis enables the VC to configure the ESX's.\n\nChange-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36\nCloses-bug: #1637970\n""}, {'number': 4, 'created': '2016-12-18 10:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08db0dcb8f1ee7ff30ee33a33cc45c56e6dfdb0a', 'message': ""VMware: retry network lookup if network not ready\n\nUnder load there are edge cases when a network created in the VC\nis not ready on the ESX(s). In the event that this happens we do a\nretry for the network lookup.\n\nThis enables the VC to configure the ESX's.\n\nChange-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36\nCloses-bug: #1637970\n""}, {'number': 5, 'created': '2016-12-21 05:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46f6f63039c9c29d14fd8aae6e53209388464188', 'message': ""VMware: retry network lookup if network not ready\n\nUnder load there are edge cases when a network created in the VC\nis not ready on the ESX(s). In the event that this happens we do a\nretry for the network lookup.\n\nThis enables the VC to configure the ESX's.\n\nChange-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36\nCloses-bug: #1637970\n""}, {'number': 6, 'created': '2016-12-29 06:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d5c508bf100a948d15ade04e876f97b7ed0f8bf', 'message': ""VMware: retry network lookup if network not ready\n\nUnder load there are edge cases when a network created in the VC\nis not ready on the ESX(s). In the event that this happens we do a\nretry for the network lookup.\n\nThis enables the VC to configure the ESX's.\n\nChange-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36\nCloses-bug: #1637970\n""}, {'number': 7, 'created': '2017-01-04 11:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/006b94fb856744614bfffb020d3bbcfae9abe414', 'message': ""VMware: retry network lookup if network not ready\n\nUnder load there are edge cases when a network created in the VC\nis not ready on the ESX(s). In the event that this happens we do a\nretry for the network lookup.\n\nThis enables the VC to configure the ESX's.\n\nChange-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36\nCloses-bug: #1637970\n""}, {'number': 8, 'created': '2017-01-13 14:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f321554ec15bfab72fe7e909835366d19ce2639c', 'message': ""VMware: retry network lookup if network not ready\n\nUnder load there are edge cases when a network created in the VC\nis not ready on the ESX(s). In the event that this happens we do a\nretry for the network lookup.\n\nThis enables the VC to configure the ESX's.\n\nChange-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36\nCloses-bug: #1637970\n""}, {'number': 9, 'created': '2017-01-17 13:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fee1d1932906516e45657650e7b9d53ff174179c', 'message': ""VMware: retry network lookup if network not ready\n\nUnder load there are edge cases when a network created in the VC\nis not ready on the ESX(s). In the event that this happens we do a\nretry for the network lookup.\n\nThis enables the VC to configure the ESX's.\n\nChange-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36\nCloses-bug: #1637970\n""}, {'number': 10, 'created': '2017-02-09 09:04:10.000000000', 'files': ['requirements.txt', 'nova/virt/vmwareapi/network_util.py', 'nova/tests/unit/virt/vmwareapi/test_network_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7d587267b0f0c21e5c0a3dfa71f46f36ace5771e', 'message': ""VMware: retry network lookup if network not ready\n\nUnder load there are edge cases when a network created in the VC\nis not ready on the ESX(s). In the event that this happens we do a\nretry for the network lookup.\n\nThis enables the VC to configure the ESX's.\n\nChange-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36\nCloses-bug: #1637970\n""}]",0,391778,7d587267b0f0c21e5c0a3dfa71f46f36ace5771e,131,15,10,1653,,,0,"VMware: retry network lookup if network not ready

Under load there are edge cases when a network created in the VC
is not ready on the ESX(s). In the event that this happens we do a
retry for the network lookup.

This enables the VC to configure the ESX's.

Change-Id: I1195e33e6dc4deca4666c52ebb31ded137034f36
Closes-bug: #1637970
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/391778/9 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/virt/vmwareapi/network_util.py', 'nova/tests/unit/virt/vmwareapi/test_network_util.py']",3,204e1685ca19d25a6c2ecdc05510d2df73ecfd00,fira,"from oslo_vmware import exceptions as vexc def test_get_network_not_ready(self): net_morefs = [vim_util.get_moref(""dvportgroup-135"", ""DistributedVirtualPortgroup""), vim_util.get_moref(""dvportgroup-136"", ""DistributedVirtualPortgroup"")] networks = self._build_cluster_networks(net_morefs) self._exception_raised = False def mock_call_method(module, method, *args, **kwargs): if method == 'get_object_properties': return networks if method == 'get_object_property': if not self._exception_raised: self._exception_raised = True raise vexc.ManagedObjectNotFoundException() result = fake.DataObject() result.name = 'fake_net' result.key = 'fake_key' result.distributedVirtualSwitch = 'fake_dvs' return result with mock.patch.object(self._session, '_call_method', mock_call_method): res = network_util.get_network_with_the_name(self._session, 'fake_net', 'fake_cluster') self.assertIsNotNone(res) self.assertTrue(self._exception_raised) ",,42,1
openstack%2Fnova~master~Id85f7a02df7d8f0ae54ae2e5a41a5c05867602e9,openstack/nova,master,Id85f7a02df7d8f0ae54ae2e5a41a5c05867602e9,libvirt: Remove more imagecache info file code,ABANDONED,2017-01-20 17:49:53.000000000,2020-03-18 07:51:21.000000000,,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-20 17:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f98e3ea2c1821815f53ca1024c03cb2fede367a', 'message': 'libvirt: Remove more imagecache info file code\n\nChange I3d841178 removed the code which generated imagecache .info\nfiles in Newton, but as Newton compute node may be on shared storage\nwith a Mitaka compute node, it could not entirely remove all handling.\nThis change continues that removal process for Ocata, so that it can\nbe eventually be entirely removed in Pike.\n\nChange-Id: Id85f7a02df7d8f0ae54ae2e5a41a5c05867602e9\n'}, {'number': 2, 'created': '2017-01-20 18:30:09.000000000', 'files': ['nova/virt/libvirt/imagecache.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/538e03c477ba913578ec43b207eacdbccf51b137', 'message': 'libvirt: Remove more imagecache info file code\n\nChange I3d841178 removed the code which generated imagecache .info\nfiles in Newton, but as Newton compute node may be on shared storage\nwith a Mitaka compute node, it could not entirely remove all handling.\nThis change continues that removal process for Ocata, so that it can\nbe eventually be entirely removed in Pike.\n\nChange-Id: Id85f7a02df7d8f0ae54ae2e5a41a5c05867602e9\n'}]",5,423392,538e03c477ba913578ec43b207eacdbccf51b137,21,15,2,9555,,,0,"libvirt: Remove more imagecache info file code

Change I3d841178 removed the code which generated imagecache .info
files in Newton, but as Newton compute node may be on shared storage
with a Mitaka compute node, it could not entirely remove all handling.
This change continues that removal process for Ocata, so that it can
be eventually be entirely removed in Pike.

Change-Id: Id85f7a02df7d8f0ae54ae2e5a41a5c05867602e9
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/423392/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/imagecache.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py']",2,2f98e3ea2c1821815f53ca1024c03cb2fede367a,imagecache_info_files," @mock.patch('os.unlink') def test_list_base_images(self, mock_os_unlink): # TODO(mdbooth): Testing the deletion of the .info file should be # deleted in Pike along with the corresponding deletion code. info_file = '17d1b00b81642842e514494a78e804e9a511637c_5368709120.info' info_file, mock_os_unlink.assert_called_once_with( os.path.join(base_dir, info_file)) "," def test_list_base_images(self): '17d1b00b81642842e514494a78e804e9a511637c_5368709120.info', base_file = open(fname, 'r') # TODO(mdbooth): Info files are no longer created by Newton, # but we must test that we continue to handle them correctly as # they may still be around from before the upgrade, and they may # be created by pre-Newton computes if we're on shared storage. # Once we can be sure that all computes are running at least # Newton (i.e. in Ocata), we can be sure that nothing is # creating info files any more, and we can delete the tests for # them. if info: # We're only checking for deletion, so contents are irrelevant open(imagecache.get_info_filename(fname), 'w').close() base_file.close() info_fname = imagecache.get_info_filename(fname) self.assertTrue(os.path.exists(info_fname)) # TODO(mdbooth): Remove test for deletion of info file in Ocata # (see comment in _make_base_file) self.assertFalse(os.path.exists(info_fname)) info_fname = imagecache.get_info_filename(fname) self.assertTrue(os.path.exists(info_fname)) self.assertTrue(os.path.exists(info_fname)) # TODO(mdbooth): Remove test for deletion of info file in Ocata # (see comment in _make_base_file) self.assertFalse(os.path.exists(info_fname)) ",24,74
openstack%2Fnova~master~Id2c58de87c078fdca75af44815b8c95335759cde,openstack/nova,master,Id2c58de87c078fdca75af44815b8c95335759cde,Add checks for preventing unexpected detaching volume,ABANDONED,2016-08-12 09:42:26.000000000,2020-03-18 07:50:15.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 8988}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-08-12 09:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57f8deeecc055110a2f9a170ec6084d25d76aead', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches by added checks are following:\n\n* Attaching volume was completed:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n      * Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n      * Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}, {'number': 2, 'created': '2016-08-15 04:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ec892bdf4b3ad0d9c8275d883a4ac13e962ecf1', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches by added checks are following:\n\n* Attaching volume was completed:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n      * Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n      * Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}, {'number': 3, 'created': '2016-08-15 10:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d9dffa7e725da028ea4a289246fd03e77ccc3f6', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches by added checks are following:\n\n* Attaching volume was completed:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n      * Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n      * Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}, {'number': 4, 'created': '2016-08-17 10:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f3e9f045f176982c7e741d6090b66486cc77630', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches of added checks are following:\n\n* Attaching volume was completed:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n      * Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n      * Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}, {'number': 5, 'created': '2016-08-22 08:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74850c4d4e350e7352f0c7d03274fbf3f6520d41', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches of added checks are following:\n\n* Attaching volume was completed:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n      * Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n      * Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}, {'number': 6, 'created': '2016-08-22 08:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d78a1fb9c2d04af0a297784d61fb6a26918b8433', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches of added checks are following:\n\n* Attaching volume was completed:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n      * Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n      * Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}, {'number': 7, 'created': '2016-09-07 11:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0020ed1405c22849283d0484e88e318d4aac84b9', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches of added checks are following:\n\n* Attaching volume was completed:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n      * Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n      * Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}, {'number': 8, 'created': '2016-09-12 06:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d68e548abf58a4c610c0d72eccc48a21854e8636', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches of added checks are following:\n\n* Attaching volume was completed:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n      * Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n      * Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}, {'number': 9, 'created': '2016-09-14 10:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48ef24cbde725e53cdcf10808ff1b61a6145a10a', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches of added checks are following:\n\n* Attaching volume was completed:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n      * Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n      * Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n      * Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}, {'number': 10, 'created': '2016-12-04 11:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2730929bb100559f6efcfa153444c27b70889420', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches of added checks are following:\n\n* Attaching volume was completed:\n    - Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n    - Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n    - Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n    - Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}, {'number': 11, 'created': '2017-01-25 09:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bba4f2ddffa779c70a74b4cf00a6871fcdc90e3d', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches of added checks are following:\n\n* Attaching volume was completed:\n    - Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n    - Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n    - Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n    - Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}, {'number': 12, 'created': '2017-01-30 09:59:01.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/objects/block_device.py', 'nova/compute/manager.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/api.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d52083da0c66f03d504c466fb44308026b1f0c45', 'message': 'Add checks for preventing unexpected detaching volume\n\nIf attaching volume is failed, sometimes unexpected volume detaching will\nhappen in deleting instance.\nUnexpected detaching volume will change volume status to ""available""\neven if the volume is still attached to other instances.\nThis patch add checks for detaching in processing of deleting instance.\n\nProcessing branches of added checks are following:\n\n* Attaching volume was completed:\n    - Do terminate-connection and detach.\n* Attaching volume was failed, and the volume hasn\'t been attached to\n  other instances:\n    - Do terminate-connection and detach.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on other hosts:\n    - Do terminate-connection.\n* Attaching volume was failed, and the volume has been attached to other\n  instances that is launched on a same host:\n    - Do nothing.\n\nChange-Id: Id2c58de87c078fdca75af44815b8c95335759cde\nCloses-Bug: #1587285\n'}]",81,354617,d52083da0c66f03d504c466fb44308026b1f0c45,188,22,12,8988,,,0,"Add checks for preventing unexpected detaching volume

If attaching volume is failed, sometimes unexpected volume detaching will
happen in deleting instance.
Unexpected detaching volume will change volume status to ""available""
even if the volume is still attached to other instances.
This patch add checks for detaching in processing of deleting instance.

Processing branches of added checks are following:

* Attaching volume was completed:
    - Do terminate-connection and detach.
* Attaching volume was failed, and the volume hasn't been attached to
  other instances:
    - Do terminate-connection and detach.
* Attaching volume was failed, and the volume has been attached to other
  instances that is launched on other hosts:
    - Do terminate-connection.
* Attaching volume was failed, and the volume has been attached to other
  instances that is launched on a same host:
    - Do nothing.

Change-Id: Id2c58de87c078fdca75af44815b8c95335759cde
Closes-Bug: #1587285
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/354617/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/objects/block_device.py', 'nova/compute/manager.py']",5,57f8deeecc055110a2f9a170ec6084d25d76aead,bug/1587285," def _check_done_terminate_and_detach(self, context, instance, bdm, volume): """"""Ensure that attaching volume was completed or not."""""" done_terminate=False done_detach=False if ('attachments' in volume\ and volume['attachments'].get(instance.uuid, None)): # Attaching volume was completed. done_terminate = True done_detach = True return (done_terminate, done_detach) else: # Attaching volume was incompleted, all_bdms = objects.BlockDeviceMappingList.\ get_by_volume(context, bdm.volume_id) bdm_count = 0 for expect_bdm in all_bdms: if expect_bdm.instance_uuid == instance.uuid: bdm_count += 1 if bdm_count == len(all_bdms): # This volume is only attached to this instance. done_terminate = True done_detach = True else: # This volume is attached to other instances. same_host_instances = \ objects.InstanceList.get_by_host(context, instance.host) exists_same_host_instance = False for expect_bdm in all_bdms: if expect_bdm.instance_uuid == instance.uuid: continue for same_host_instance in same_host_instances: if expect_bdm.instance_uuid == \ same_host_instance.uuid: exists_same_host_instance = True if not exists_same_host_instance: # This volume is attached to other instances # that is launched on other hosts. done_terminate = True done_detach = False else: # This volume is attached to other instances # that is launched on a same host. pass return (done_terminate, done_detach) # If attaching volume is failed before status is changed to # 'attaching', the volume can be attached to other instance. # In this case, detach API shouldn't be executed. done_terminate =False done_detach = False volume = self.volume_api.get(context, bdm.volume_id) done_terminate, done_detach = \ self._check_done_terminate_and_detach(context, instance, bdm, volume) if done_terminate: self.volume_api.terminate_connection(context, bdm.volume_id, connector) if done_detach: self.volume_api.detach(context, bdm.volume_id, instance.uuid)"," self.volume_api.terminate_connection(context, bdm.volume_id, connector) self.volume_api.detach(context, bdm.volume_id, instance.uuid)",226,6
openstack%2Fvalidations-libs~master~I169036ef7556e7d259c0b84dd357eba7230d9313,openstack/validations-libs,master,I169036ef7556e7d259c0b84dd357eba7230d9313,Remove unused classes for PushD and Tempdir,MERGED,2020-03-17 15:11:04.000000000,2020-03-18 07:40:50.000000000,2020-03-18 07:40:50.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-17 15:11:04.000000000', 'files': ['validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/132735a697328f8e44aaa28cef77c6b088dca3c2', 'message': 'Remove unused classes for PushD and Tempdir\n\nChange-Id: I169036ef7556e7d259c0b84dd357eba7230d9313\n'}]",0,713465,132735a697328f8e44aaa28cef77c6b088dca3c2,7,3,1,16515,,,0,"Remove unused classes for PushD and Tempdir

Change-Id: I169036ef7556e7d259c0b84dd357eba7230d9313
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/65/713465/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/utils.py'],1,132735a697328f8e44aaa28cef77c6b088dca3c2,clean/utils/function," """"""Return validations information"""""" """""" Return validations data with format: ID, Name, Description, Groups, Other param """""" """"""Return validations stats from a log file""""""","import shutil import tempfileRED = ""\033[1;31m"" GREEN = ""\033[0;32m"" RESET = ""\033[0;0m"" FAILED_VALIDATION = ""{}FAILED{}"".format(RED, RESET) PASSED_VALIDATION = ""{}PASSED{}"".format(GREEN, RESET) class Pushd(object): """"""Simple context manager to change directories and then return."""""" def __init__(self, directory): """"""This context manager will enter and exit directories. >>> with Pushd(directory='/tmp'): ... with open('file', 'w') as f: ... f.write('test') :param directory: path to change directory to :type directory: `string` """""" self.dir = directory self.pwd = self.cwd = os.getcwd() def __enter__(self): os.chdir(self.dir) self.cwd = os.getcwd() return self def __exit__(self, *args): if self.pwd != self.cwd: os.chdir(self.pwd) class TempDirs(object): """"""Simple context manager to manage temp directories."""""" def __init__(self, dir_path=None, dir_prefix='validations', cleanup=True, chdir=True): """"""This context manager will create, push, and cleanup temp directories. >>> with TempDirs() as t: ... with open('file', 'w') as f: ... f.write('test') ... print(t) ... os.mkdir('testing') ... with open(os.path.join(t, 'file')) as w: ... print(w.read()) ... with open('testing/file', 'w') as f: ... f.write('things') ... with open(os.path.join(t, 'testing/file')) as w: ... print(w.read()) :param dir_path: path to create the temp directory :type dir_path: `string` :param dir_prefix: prefix to add to a temp directory :type dir_prefix: `string` :param cleanup: when enabled the temp directory will be removed on exit. :type cleanup: `boolean` :param chdir: Change to/from the created temporary dir on enter/exit. :type chdir: `boolean` """""" # NOTE(cloudnull): kwargs for tempfile.mkdtemp are created # because args are not processed correctly # in py2. When we drop py2 support (cent7) # these args can be removed and used directly # in the `tempfile.mkdtemp` function. tempdir_kwargs = dict() if dir_path: tempdir_kwargs['dir'] = dir_path if dir_prefix: tempdir_kwargs['prefix'] = dir_prefix self.dir = tempfile.mkdtemp(**tempdir_kwargs) self.pushd = Pushd(directory=self.dir) self.cleanup = cleanup self.chdir = chdir def __enter__(self): if self.chdir: self.pushd.__enter__() return self.dir def __exit__(self, *args): if self.chdir: self.pushd.__exit__() if self.cleanup: self.clean() else: LOG.warning(""Not cleaning temporary directory "" ""[ %s ]"" % self.dir) def clean(self): shutil.rmtree(self.dir, ignore_errors=True) LOG.info(""Temporary directory [ %s ] cleaned up"" % self.dir) ",6,103
openstack%2Fcharm-masakari~master~I71fd19f6c15c9c39ad1ef1a54015e798cbd31d26,openstack/charm-masakari,master,I71fd19f6c15c9c39ad1ef1a54015e798cbd31d26,Increase evacuation-delay,MERGED,2020-03-17 19:43:46.000000000,2020-03-18 07:31:44.000000000,2020-03-18 07:31:43.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 19:43:46.000000000', 'files': ['src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/48c5d711849c6416e452af4097f33edab70206d9', 'message': 'Increase evacuation-delay\n\nThe evacuation-delay controls how long masakari waits before issuing\nan evacuaion after marking a compute node offline. If this is too\nlow then the evacuation is issued before the offling message has\npropagated and the evacuation fails with a ""Instance compute service\nstate on X expected to be down, but it was up."". The current default\nvalue of 30s is too low and can causes evacuations to fail.\n\nChange-Id: I71fd19f6c15c9c39ad1ef1a54015e798cbd31d26\n'}]",0,713520,48c5d711849c6416e452af4097f33edab70206d9,12,4,1,12549,,,0,"Increase evacuation-delay

The evacuation-delay controls how long masakari waits before issuing
an evacuaion after marking a compute node offline. If this is too
low then the evacuation is issued before the offling message has
propagated and the evacuation fails with a ""Instance compute service
state on X expected to be down, but it was up."". The current default
value of 30s is too low and can causes evacuations to fail.

Change-Id: I71fd19f6c15c9c39ad1ef1a54015e798cbd31d26
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/20/713520/1 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,48c5d711849c6416e452af4097f33edab70206d9,increase-evacuation-delay, default: 60, default: 30,1,1
openstack%2Fpaunch~stable%2Ftrain~I615c798bdbcc0115f0ca9642969193ceada9b9cd,openstack/paunch,stable/train,I615c798bdbcc0115f0ca9642969193ceada9b9cd,Don't set cpuset_cpus if empty,MERGED,2020-03-14 14:52:12.000000000,2020-03-18 07:19:17.000000000,2020-03-18 07:16:05.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-14 14:52:12.000000000', 'files': ['paunch/builder/podman.py', 'paunch/builder/compose1.py', 'paunch/tests/test_builder_base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/37ac1e99a68e9f47c099effa0b6c0bc95d5cfecc', 'message': ""Don't set cpuset_cpus if empty\n\nIf cpuset_cpus is set to '', we don't want to configure it, just skip\nit.\n\nCloses-Bug: #1867357\nChange-Id: I615c798bdbcc0115f0ca9642969193ceada9b9cd\n(cherry picked from commit 7bb9471423a350f0b1a60f67cf3eb41abaaba329)\n""}]",0,713095,37ac1e99a68e9f47c099effa0b6c0bc95d5cfecc,19,4,1,3153,,,0,"Don't set cpuset_cpus if empty

If cpuset_cpus is set to '', we don't want to configure it, just skip
it.

Closes-Bug: #1867357
Change-Id: I615c798bdbcc0115f0ca9642969193ceada9b9cd
(cherry picked from commit 7bb9471423a350f0b1a60f67cf3eb41abaaba329)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/95/713095/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/builder/podman.py', 'paunch/builder/compose1.py', 'paunch/tests/test_builder_base.py']",3,37ac1e99a68e9f47c099effa0b6c0bc95d5cfecc,bug/1867357-stable/train," 'cpuset_cpus': '',",,3,2
openstack%2Ftripleo-ci~master~Ic03f70f333d92b5abb3424892b342e04b94a24ea,openstack/tripleo-ci,master,Ic03f70f333d92b5abb3424892b342e04b94a24ea,Only run upgrades centos 7 jobs on stable branches,MERGED,2020-03-16 15:59:27.000000000,2020-03-18 07:16:04.000000000,2020-03-18 07:16:04.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-03-16 15:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f38a191a06b53e0c53e4408d4689831a46995637', 'message': 'Only run upgrades centos7 jobs on stable branches\n\nUpgrades jobs running on centos-7 are not supported\nfor ussuri - which is builton centos 8.\n\nChange-Id: Ic03f70f333d92b5abb3424892b342e04b94a24ea\n'}, {'number': 2, 'created': '2020-03-16 16:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e33ce10b0bcd1a3587ac909683236ef1039eb7ff', 'message': 'Only run upgrades centos 7 jobs on stable branches\n\nUpgrades jobs running on centos 7 are not supported\nfor ussuri - which is built on centos 8.\n\nChange-Id: Ic03f70f333d92b5abb3424892b342e04b94a24ea\n'}, {'number': 3, 'created': '2020-03-16 17:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0e6fcbdd3f13321759a69dd012f2b4f39b1029a9', 'message': 'Only run upgrades centos 7 jobs on stable branches\n\nUpgrades jobs running on centos 7 are not supported\nfor ussuri - which is built on centos 8.\n\nChange-Id: Ic03f70f333d92b5abb3424892b342e04b94a24ea\n'}, {'number': 4, 'created': '2020-03-17 11:29:29.000000000', 'files': ['zuul.d/undercloud-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e4d0cc98726ddf0263730e7d93bda48675c92941', 'message': 'Only run upgrades centos 7 jobs on stable branches\n\nUpgrades jobs running on centos 7 are not supported\nfor ussuri - which is built on centos 8.\n\nDonot run c8 s7 job on rocky also.\n\nChange-Id: Ic03f70f333d92b5abb3424892b342e04b94a24ea\n'}]",4,713277,e4d0cc98726ddf0263730e7d93bda48675c92941,24,7,4,9976,,,0,"Only run upgrades centos 7 jobs on stable branches

Upgrades jobs running on centos 7 are not supported
for ussuri - which is built on centos 8.

Donot run c8 s7 job on rocky also.

Change-Id: Ic03f70f333d92b5abb3424892b342e04b94a24ea
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/77/713277/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/undercloud-jobs.yaml', 'zuul.d/multinode-jobs.yaml']",2,f38a191a06b53e0c53e4408d4689831a46995637,upgrades-not-master, branches: ^(stable/(pike|queens|rocky)).*$ branches: ^(stable/(pike|queens|rocky|stein|train)).*$ branches: ^(stable/(queens|rocky|stein|train)).*$ branches: ^(stable/(queens|rocky|stein|train)).*$ branches: ^(stable/(queens|rocky|stein|train)).*$, branches: ^(?!stable/(newton)).*$ branches: ^(?!stable/(newton|ocata)).*$ branches: ^(?!stable/(newton|ocata|pike)).*$ branches: ^(?!stable/(newton|ocata|pike)).*$ branches: ^(?!stable/(newton|ocata|pike)).*$,6,6
openstack%2Fansible-hardening~master~I14412e23059fd6f1f3e6550f382267dd8e6ce632,openstack/ansible-hardening,master,I14412e23059fd6f1f3e6550f382267dd8e6ce632,Update to opendev,ABANDONED,2019-04-23 01:54:07.000000000,2020-03-18 07:12:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30298}]","[{'number': 1, 'created': '2019-04-23 01:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/e762c753c245331a9b1771a490662d126ef261c4', 'message': 'Update to opendev\n\nChange-Id: I14412e23059fd6f1f3e6550f382267dd8e6ce632\n'}, {'number': 2, 'created': '2019-04-23 02:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/9495b8ab2fa1c21b2db6755340f6c8ef2b544859', 'message': 'Update to opendev\n\nChange-Id: I14412e23059fd6f1f3e6550f382267dd8e6ce632\n'}, {'number': 3, 'created': '2019-04-24 01:12:21.000000000', 'files': ['README.rst', 'doc/source/getting-started.rst', 'doc/source/conf.py', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/4c53c60a73b8c190a564c9f9f9da3a47eccc78ec', 'message': 'Update to opendev\n\nChange-Id: I14412e23059fd6f1f3e6550f382267dd8e6ce632\n'}]",0,654666,4c53c60a73b8c190a564c9f9f9da3a47eccc78ec,8,3,3,26584,,,0,"Update to opendev

Change-Id: I14412e23059fd6f1f3e6550f382267dd8e6ce632
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/66/654666/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'README.rst', 'Vagrantfile', 'doc/source/getting-started.rst', 'doc/source/conf.py', 'tox.ini', 'releasenotes/source/conf.py']",8,e762c753c245331a9b1771a490662d126ef261c4,, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),11,11
openstack%2Ftripleo-common~master~I5db307f7bfe5acc9b1bf092f3faafced7ab435d1,openstack/tripleo-common,master,I5db307f7bfe5acc9b1bf092f3faafced7ab435d1,Update links,ABANDONED,2019-04-22 10:40:15.000000000,2020-03-18 07:12:45.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-22 10:40:15.000000000', 'files': ['scripts/pull-puppet-modules', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/61b6c38864cf8d4aa2c2e0f09c3aacc2a3e3d4f6', 'message': 'Update links\n\ntry to use opendev links\n\nChange-Id: I5db307f7bfe5acc9b1bf092f3faafced7ab435d1\n'}]",0,654418,61b6c38864cf8d4aa2c2e0f09c3aacc2a3e3d4f6,7,4,1,26584,,,0,"Update links

try to use opendev links

Change-Id: I5db307f7bfe5acc9b1bf092f3faafced7ab435d1
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/18/654418/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/pull-puppet-modules', 'README.rst', 'tox.ini']",3,61b6c38864cf8d4aa2c2e0f09c3aacc2a3e3d4f6,update_links, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Ftripleo-common~stable%2Ftrain~I4e14a49c428b8b7530f49218b413c795e777851b,openstack/tripleo-common,stable/train,I4e14a49c428b8b7530f49218b413c795e777851b,Add overcloud-ceph image build yaml,MERGED,2020-03-10 21:59:57.000000000,2020-03-18 07:02:26.000000000,2020-03-18 06:57:15.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-10 21:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d666cd71df3d83b792f71cc6944077685fa91278', 'message': 'Add overcloud-ceph image build yaml\n\nAdded image yaml config files to build an overcloud-ceph image that does\nnot have the HA, openvswitch or openstack client related packages\ninstalled by default. This image is useful for dedicated ceph nodes that\ndo not have any openstack related services on them.\n\nChange-Id: I4e14a49c428b8b7530f49218b413c795e777851b\n(cherry picked from commit 5877ef54d3c3a2392297123a70cbf4a03f93e977)\n'}, {'number': 2, 'created': '2020-03-13 13:38:31.000000000', 'files': ['image-yaml/overcloud-images-ceph-rhel8.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-images-ceph-centos8.yaml', 'releasenotes/notes/add-overcloud-ceph-image-build-yamls-8ad8fe8b013a314e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bd81d3b6898b65068b2993b8afa9b1868771e002', 'message': 'Add overcloud-ceph image build yaml\n\nAdded image yaml config files to build an overcloud-ceph image that does\nnot have the HA, openvswitch or openstack client related packages\ninstalled by default. This image is useful for dedicated ceph nodes that\ndo not have any openstack related services on them.\n\nChange-Id: I4e14a49c428b8b7530f49218b413c795e777851b\n(cherry picked from commit 5877ef54d3c3a2392297123a70cbf4a03f93e977)\n'}]",0,712186,bd81d3b6898b65068b2993b8afa9b1868771e002,16,3,2,14985,,,0,"Add overcloud-ceph image build yaml

Added image yaml config files to build an overcloud-ceph image that does
not have the HA, openvswitch or openstack client related packages
installed by default. This image is useful for dedicated ceph nodes that
do not have any openstack related services on them.

Change-Id: I4e14a49c428b8b7530f49218b413c795e777851b
(cherry picked from commit 5877ef54d3c3a2392297123a70cbf4a03f93e977)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/712186/2 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-ceph-rhel8.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-images-ceph-centos8.yaml', 'releasenotes/notes/add-overcloud-ceph-image-build-yamls-8ad8fe8b013a314e.yaml']",4,d666cd71df3d83b792f71cc6944077685fa91278,c8imagebuild-stable/train,"--- features: - | Added `overcloud-images-ceph.yaml`, `overcloud-images-ceph-centos8.yaml`, and `overcloud-images-ceph-rhel8.yaml` to allow an operator to build an image that can be used for dedicated ceph nodes. This `overcloud-ceph` image would not have the openstack client, ha or openvswitch related packages. ",,60,0
openstack%2Ftripleo-common~stable%2Ftrain~Id290fde071a1f3bb19cdd2e58a63961b9d99dcb1,openstack/tripleo-common,stable/train,Id290fde071a1f3bb19cdd2e58a63961b9d99dcb1,Added overcloud images yaml for CentOS-8,MERGED,2020-02-28 14:43:12.000000000,2020-03-18 07:00:32.000000000,2020-03-18 06:56:30.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-28 14:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2b718de1fdd5d968645589369166f651da5facb4', 'message': 'Added overcloud images yaml for CentOS-8\n\nIt is needed for overcloud build images jobs.\n\nChange-Id: Id290fde071a1f3bb19cdd2e58a63961b9d99dcb1\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit ff1d0f4b0bfc641887ebdb9fc6ed4604b07d991e)\n'}, {'number': 2, 'created': '2020-03-04 20:38:47.000000000', 'files': ['image-yaml/overcloud-images-centos8.yaml', 'image-yaml/overcloud-hardened-images-centos8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/194c802504012cc98d3d796c6c3d4c83637fd233', 'message': 'Added overcloud images yaml for CentOS-8\n\nIt is needed for overcloud build images jobs.\n\nChange-Id: Id290fde071a1f3bb19cdd2e58a63961b9d99dcb1\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit ff1d0f4b0bfc641887ebdb9fc6ed4604b07d991e)\n'}]",0,710456,194c802504012cc98d3d796c6c3d4c83637fd233,45,5,2,14985,,,0,"Added overcloud images yaml for CentOS-8

It is needed for overcloud build images jobs.

Change-Id: Id290fde071a1f3bb19cdd2e58a63961b9d99dcb1
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
(cherry picked from commit ff1d0f4b0bfc641887ebdb9fc6ed4604b07d991e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/56/710456/2 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-centos8.yaml', 'image-yaml/overcloud-hardened-images-centos8.yaml']",2,2b718de1fdd5d968645589369166f651da5facb4,c8imagebuild-stable/train,disk_images: - imagename: overcloud-hardened-full type: qcow2 distro: centos environment: DIB_RELEASE: '8' elements: - selinux-permissive ,,28,0
openstack%2Fpython-tripleoclient~master~I3f2cfd57cfc9193ad9741b4dfc6e7c7a007f4a17,openstack/python-tripleoclient,master,I3f2cfd57cfc9193ad9741b4dfc6e7c7a007f4a17,Update help output,MERGED,2020-03-16 20:49:47.000000000,2020-03-18 06:59:12.000000000,2020-03-18 06:57:16.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 20:49:47.000000000', 'files': ['tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a6fdd93d4eeb0e1494fe4124293c8a2667cdb54a', 'message': 'Update help output\n\nThe help output for the `overcloud node provision` command was missing\nsome spacing which combined text. This trivial change adds spaces so\nthe text is easier to read.\n\nChange-Id: I3f2cfd57cfc9193ad9741b4dfc6e7c7a007f4a17\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",1,713328,a6fdd93d4eeb0e1494fe4124293c8a2667cdb54a,9,4,1,7353,,,0,"Update help output

The help output for the `overcloud node provision` command was missing
some spacing which combined text. This trivial change adds spaces so
the text is easier to read.

Change-Id: I3f2cfd57cfc9193ad9741b4dfc6e7c7a007f4a17
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/28/713328/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_node.py'],1,a6fdd93d4eeb0e1494fe4124293c8a2667cdb54a,, ' overcloud nodes. When undefined the key' ' will be autodetected.')), 'overcloud nodes. When undefined the key' 'will be autodetected.')),2,2
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id369154d147cd5cf0a6f997bf806084fc7580e01,openstack/tripleo-heat-templates,stable/stein,Id369154d147cd5cf0a6f997bf806084fc7580e01,HA: minor update of arbitrary container image name,MERGED,2020-03-17 11:26:48.000000000,2020-03-18 06:58:38.000000000,2020-03-18 06:56:37.000000000,"[{'_account_id': 8297}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-03-17 11:26:48.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'releasenotes/notes/pacemaker-cluster-common-tag-45c4e8a6e7b08735.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f366adbd151193ba524d70c4f904be35f1d048a0', 'message': 'HA: minor update of arbitrary container image name\n\nHA services get their container image name from a pacemaker\nresource configuration. This image name is shared between\nall cluster nodes.\n\nTo achieve image update without service disruption, a pacemaker\nresource is configured to use an intermediate image name\n""<registry>/<namespace>/<servicename>:pcmklatest"" pointing to\nthe real image name configured in Heat. This tag can then be\nupdated independently on every node during the minor update.\n\nIn order to support the same rolling update when the <namespace>\nchanges in the container image, we need a similar floating\napproach for the prefix part of the container image.\n\nIntroduce a new Heat parameter ClusterCommonTag that, when enabled,\nsets the intermediate image name to\n""cluster-common-tag/<servicename>:pcmklatest"". By default, this\nparameter is disabled and the original naming scheme is conserved.\n\nNote: by introducing this new naming scheme, we stop seeing a\nmeaningful image name prefix when doing a ""pcs status"", but since\nwe already can\'t tell what image ID the :pcmklatest tag points to,\nwe don\'t lose much information really.\n\nRelated-Bug: #1854730\n\nChange-Id: Id369154d147cd5cf0a6f997bf806084fc7580e01\n(cherry picked from commit a166ec6bcaae078a4f7ed91feb8e431fe031e0cb)\n(cherry picked from commit 44b6e6b8520bc9660dd1c6ac44d91523c7c7c84a)\n'}]",0,713406,f366adbd151193ba524d70c4f904be35f1d048a0,12,5,1,8297,,,0,"HA: minor update of arbitrary container image name

HA services get their container image name from a pacemaker
resource configuration. This image name is shared between
all cluster nodes.

To achieve image update without service disruption, a pacemaker
resource is configured to use an intermediate image name
""<registry>/<namespace>/<servicename>:pcmklatest"" pointing to
the real image name configured in Heat. This tag can then be
updated independently on every node during the minor update.

In order to support the same rolling update when the <namespace>
changes in the container image, we need a similar floating
approach for the prefix part of the container image.

Introduce a new Heat parameter ClusterCommonTag that, when enabled,
sets the intermediate image name to
""cluster-common-tag/<servicename>:pcmklatest"". By default, this
parameter is disabled and the original naming scheme is conserved.

Note: by introducing this new naming scheme, we stop seeing a
meaningful image name prefix when doing a ""pcs status"", but since
we already can't tell what image ID the :pcmklatest tag points to,
we don't lose much information really.

Related-Bug: #1854730

Change-Id: Id369154d147cd5cf0a6f997bf806084fc7580e01
(cherry picked from commit a166ec6bcaae078a4f7ed91feb8e431fe031e0cb)
(cherry picked from commit 44b6e6b8520bc9660dd1c6ac44d91523c7c7c84a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/713406/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'releasenotes/notes/pacemaker-cluster-common-tag-45c4e8a6e7b08735.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",11,f366adbd151193ba524d70c4f904be35f1d048a0,," ClusterCommonTag: default: false description: When set to false, a pacemaker service is configured to use a floating tag for its container image name, e.g. 'REGISTRY/NAMESPACE/IMAGENAME:pcmklatest'. When set to true, the service uses a floating prefix as well, e.g. 'cluster-common-tag/IMAGENAME:pcmklatest'. type: boolean common_tag_enabled: {equals: [{get_param: ClusterCommonTag}, true]} yaql: data: if: - common_tag_enabled - yaql: data: {get_param: DockerRabbitmqImage} expression: concat(""cluster-common-tag/"", $.data.rightSplit(separator => ""/"", maxSplits => 1)[1]) - {get_param: DockerRabbitmqImage} expression: concat($.data.rightSplit(separator => "":"", maxSplits => 1)[0], "":pcmklatest"")"," list_join: - ':' - - yaql: data: {get_param: DockerRabbitmqImage} expression: $.data.rightSplit(separator => "":"", maxSplits => 1)[0] - 'pcmklatest'",192,60
openstack%2Ftripleo-heat-templates~master~I66e88f018fbef355ff9cc1feea2b15f2b00cefaa,openstack/tripleo-heat-templates,master,I66e88f018fbef355ff9cc1feea2b15f2b00cefaa,Remove unused config dir for OVN metadata-agent,MERGED,2020-03-17 17:03:22.000000000,2020-03-18 06:56:34.000000000,2020-03-18 06:56:34.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-03-17 17:03:22.000000000', 'files': ['deployment/ovn/ovn-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2168544200e04fc4db5161764007cb440a8fe9a5', 'message': 'Remove unused config dir for OVN metadata-agent\n\nThis patch is removing a config dir from the command line to the OVN\nmetadata agent. This directory is empty so can be removed as no config\nwill be loaded from it.\n\nChange-Id: I66e88f018fbef355ff9cc1feea2b15f2b00cefaa\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,713487,2168544200e04fc4db5161764007cb440a8fe9a5,8,4,1,23804,,,0,"Remove unused config dir for OVN metadata-agent

This patch is removing a config dir from the command line to the OVN
metadata agent. This directory is empty so can be removed as no config
will be loaded from it.

Change-Id: I66e88f018fbef355ff9cc1feea2b15f2b00cefaa
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/713487/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-metadata-container-puppet.yaml'],1,2168544200e04fc4db5161764007cb440a8fe9a5,, - - /usr/bin/networking-ovn-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/networking-ovn/networking-ovn-metadata-agent.ini, - - /usr/bin/networking-ovn-metadata-agent --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/networking-ovn/networking-ovn-metadata-agent.ini --config-dir /etc/neutron/conf.d/networking-ovn-metadata-agent,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1efae031d3e4250bf7e832be488b59957cef08e5,openstack/tripleo-heat-templates,stable/train,I1efae031d3e4250bf7e832be488b59957cef08e5,"Use a smaller,static custom mapping file for Mistral and TripleO",MERGED,2020-03-13 14:58:37.000000000,2020-03-18 06:56:32.000000000,2020-03-18 06:56:32.000000000,"[{'_account_id': 3153}, {'_account_id': 9712}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-13 14:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdc23cca1ed7b3e8f3089ccd3e34e1a42de1405b', 'message': ""Use a smaller,static custom mapping file for Mistral and TripleO\n\nThis will avoid Mistral trying to load actions for services that we\ndon't use in any of the Mistral workbooks.\n\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: I1efae031d3e4250bf7e832be488b59957cef08e5\n(cherry picked from commit 2a3a6955497f9d3053bb243ce25c7d0995e10664)\n""}, {'number': 2, 'created': '2020-03-17 16:44:13.000000000', 'files': ['deployment/mistral/mapping.json', 'deployment/mistral/mistral-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/393b3b16d1d36f3a020d25617699bfeece76e387', 'message': ""Use a smaller,static custom mapping file for Mistral and TripleO\n\nThis will avoid Mistral trying to load actions for services that we\ndon't use in any of the Mistral workbooks.\n\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: I1efae031d3e4250bf7e832be488b59957cef08e5\n(cherry picked from commit 2a3a6955497f9d3053bb243ce25c7d0995e10664)\n""}]",0,712964,393b3b16d1d36f3a020d25617699bfeece76e387,15,8,2,6816,,,0,"Use a smaller,static custom mapping file for Mistral and TripleO

This will avoid Mistral trying to load actions for services that we
don't use in any of the Mistral workbooks.

Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
Change-Id: I1efae031d3e4250bf7e832be488b59957cef08e5
(cherry picked from commit 2a3a6955497f9d3053bb243ce25c7d0995e10664)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/712964/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/mistral/mapping.json', 'deployment/mistral/mistral-api-container-puppet.yaml']",2,bdc23cca1ed7b3e8f3089ccd3e34e1a42de1405b,ffwd-upgrade2-stable/train," command: ""/usr/bin/bootstrap_host_exec mistral_api su mistral -s /bin/bash -c 'mistral-db-manage --config-file /etc/mistral/mistral.conf --openstack_actions_mapping_path=/etc/mistral/mapping.json upgrade head'"" command: ""/usr/bin/bootstrap_host_exec mistral_api su mistral -s /bin/bash -c 'mistral-db-manage --config-file /etc/mistral/mistral.conf --openstack_actions_mapping_path=/etc/mistral/mapping.json populate'"" deploy_steps_tasks: - name: Copy in action mapping file when: step|int == 3 copy: content: {get_file: ./mapping.json} dest: '/var/lib/config-data/mistral/etc/mistral/mapping.json' setype: container_file_t force: yes mode: '0755'"," command: ""/usr/bin/bootstrap_host_exec mistral_api su mistral -s /bin/bash -c 'mistral-db-manage --config-file /etc/mistral/mistral.conf upgrade head'"" command: ""/usr/bin/bootstrap_host_exec mistral_api su mistral -s /bin/bash -c 'mistral-db-manage --config-file /etc/mistral/mistral.conf populate'""",384,2
openstack%2Ftripleo-heat-templates~master~I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744,openstack/tripleo-heat-templates,master,I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744,Fix the mounting issues for the TLS everywhere deployment,MERGED,2020-01-23 09:46:50.000000000,2020-03-18 06:56:29.000000000,2020-03-18 06:56:28.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8866}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 12171}, {'_account_id': 12393}, {'_account_id': 14250}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25241}, {'_account_id': 28223}, {'_account_id': 28714}, {'_account_id': 30921}]","[{'number': 1, 'created': '2020-01-23 09:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c24127fabf57808377f9a3049df26372f3876cce', 'message': 'Mount the CRL file in the haproxy container\n\nThis patch adds the CRL file to the haproxy in case of TLS everywhere\ndeployment.\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\nCloses-Bug: #1860641\n'}, {'number': 2, 'created': '2020-01-27 12:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfe36f16af03391734dd7534825065a71cb16444', 'message': 'Mount the CRL directory in the haproxy container\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment.\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\nCloses-Bug: #1860641\n'}, {'number': 3, 'created': '2020-01-28 07:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73d8722a633a7d04998db15c95c9d4f39eee1606', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nCloses-Bug: #1860638\nCloses-Bug: #1860641\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n'}, {'number': 4, 'created': '2020-01-30 07:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6766f32ec601a715551e2bc0032430c7c5d7fe98', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nCloses-Bug: #1860638\nCloses-Bug: #1860641\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n'}, {'number': 5, 'created': '2020-02-04 11:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96988b366e2c638b75ad93a5da85def0b4eb06d0', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nCloses-Bug: #1860638\nCloses-Bug: #1860641\n\nDepends-On: https://review.opendev.org/#/c/705634/1\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n'}, {'number': 6, 'created': '2020-02-04 12:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb59738a16670ed14e11651f6370519e11e71788', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nCloses-Bug: #1860638\nCloses-Bug: #1860641\n\nDepends-On: https://review.opendev.org/#/c/705634/\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n'}, {'number': 7, 'created': '2020-02-04 12:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e761b719debb26c9f4f7c444187f6e1d52176e7', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nCloses-Bug: #1860638\nCloses-Bug: #1860641\n\nDepends-On: https://review.opendev.org/#/c/705634/\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n'}, {'number': 8, 'created': '2020-02-04 12:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca1022363080a88e9a60dd4e2ba89a4bd664fb9f', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nDepends-On: I836ab1a23c8aea35c0cea54d0765c7313a4b9038\nCloses-Bug: #1860638\nCloses-Bug: #1860641\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n'}, {'number': 9, 'created': '2020-03-17 10:50:08.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c155ea701efced6fbd3384989bc2bceb3349fc26', 'message': 'Fix the mounting issues for the TLS everywhere deployment\n\nThis patch adds the CRL directory to the haproxy in case of TLS\neverywhere deployment, it also removes the duplicated CA file\nfrom the haproxy and rabbitmq containers.\n\nDepends-On: I836ab1a23c8aea35c0cea54d0765c7313a4b9038\nCloses-Bug: #1860638\nCloses-Bug: #1860641\n\nChange-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744\n'}]",6,703953,c155ea701efced6fbd3384989bc2bceb3349fc26,91,17,9,30921,,,0,"Fix the mounting issues for the TLS everywhere deployment

This patch adds the CRL directory to the haproxy in case of TLS
everywhere deployment, it also removes the duplicated CA file
from the haproxy and rabbitmq containers.

Depends-On: I836ab1a23c8aea35c0cea54d0765c7313a4b9038
Closes-Bug: #1860638
Closes-Bug: #1860641

Change-Id: I7d18befc51a4afb404b39ebdd8b1ccab4dfdf744
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/703953/9 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-container-puppet.yaml'],1,c24127fabf57808377f9a3049df26372f3876cce,bug/1860638," - list_join: - ':' - - {get_param: InternalTLSCRLPEMFile} - {get_param: InternalTLSCRLPEMFile} - 'ro,shared' - list_join: - ':' - - {get_param: InternalTLSCRLPEMFile} - {get_param: InternalTLSCRLPEMFile} - 'ro'",,10,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I836ab1a23c8aea35c0cea54d0765c7313a4b9038,openstack/tripleo-heat-templates,stable/train,I836ab1a23c8aea35c0cea54d0765c7313a4b9038,Generate /etc/hosts early on both under and overcloud,MERGED,2020-03-12 07:12:48.000000000,2020-03-18 06:56:27.000000000,2020-03-18 06:56:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-12 07:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b15a6047963bab9afd565825e335b4bcb9090e3f', 'message': 'Generate /etc/hosts early on both under and overcloud\n\nPrior to this patch, the /etc/hosts was generated only on the overcloud\nnodes, leading to some issues when it comes to TLS-Everywhere, as raised\nin associated bug.\n\nDepends-On: https://review.opendev.org/706242\nChange-Id: I836ab1a23c8aea35c0cea54d0765c7313a4b9038\nCloses-Bug: 1861782\n(cherry picked from commit 96c40f89beb80de611a4ea75f28b8b43007d0ac6)\n'}, {'number': 2, 'created': '2020-03-12 07:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/272e7e95991859b364ca96094e8bd311f47599c0', 'message': 'Generate /etc/hosts early on both under and overcloud\n\nPrior to this patch, the /etc/hosts was generated only on the overcloud\nnodes, leading to some issues when it comes to TLS-Everywhere, as raised\nin associated bug.\n\nDepends-On: https://review.opendev.org/712617\nChange-Id: I836ab1a23c8aea35c0cea54d0765c7313a4b9038\nCloses-Bug: 1861782\n(cherry picked from commit 96c40f89beb80de611a4ea75f28b8b43007d0ac6)\n'}, {'number': 3, 'created': '2020-03-12 08:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c85171d5ba308c983e959a562cfeceac303964a', 'message': 'Generate /etc/hosts early on both under and overcloud\n\nPrior to this patch, the /etc/hosts was generated only on the overcloud\nnodes, leading to some issues when it comes to TLS-Everywhere, as raised\nin associated bug.\n\nDepends-On: https://review.opendev.org/712617\nChange-Id: I836ab1a23c8aea35c0cea54d0765c7313a4b9038\nCloses-Bug: 1861782\n(cherry picked from commit 96c40f89beb80de611a4ea75f28b8b43007d0ac6)\n'}, {'number': 4, 'created': '2020-03-13 09:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0eadd535bba15a1ecc151f796ddd30fa5467131a', 'message': 'Generate /etc/hosts early on both under and overcloud\n\nPrior to this patch, the /etc/hosts was generated only on the overcloud\nnodes, leading to some issues when it comes to TLS-Everywhere, as raised\nin associated bug.\n\nChange-Id: I836ab1a23c8aea35c0cea54d0765c7313a4b9038\nCloses-Bug: 1861782\n(cherry picked from commit 96c40f89beb80de611a4ea75f28b8b43007d0ac6)\n'}, {'number': 5, 'created': '2020-03-17 12:18:44.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b8194b17145cdf62b5f34ad20bfd5dd359e77bc', 'message': 'Generate /etc/hosts early on both under and overcloud\n\nPrior to this patch, the /etc/hosts was generated only on the overcloud\nnodes, leading to some issues when it comes to TLS-Everywhere, as raised\nin associated bug.\n\nChange-Id: I836ab1a23c8aea35c0cea54d0765c7313a4b9038\nCloses-Bug: 1861782\n(cherry picked from commit 96c40f89beb80de611a4ea75f28b8b43007d0ac6)\n'}]",0,712619,8b8194b17145cdf62b5f34ad20bfd5dd359e77bc,34,10,5,28223,,,0,"Generate /etc/hosts early on both under and overcloud

Prior to this patch, the /etc/hosts was generated only on the overcloud
nodes, leading to some issues when it comes to TLS-Everywhere, as raised
in associated bug.

Change-Id: I836ab1a23c8aea35c0cea54d0765c7313a4b9038
Closes-Bug: 1861782
(cherry picked from commit 96c40f89beb80de611a4ea75f28b8b43007d0ac6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/712619/4 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,b15a6047963bab9afd565825e335b4bcb9090e3f,lp/1861035," name: Manage SELinux and generate /etc/hosts - name: Configure Hosts Entries include_role: name: tripleo_hosts_entries vars: tripleo_hosts_entries_undercloud_hosts_entries: {{ '""{{ ' }} undercloud_hosts_entries {{ ' }}""' }} tripleo_hosts_entries_extra_hosts_entries: {{ '""{{ ' }} extra_hosts_entries {{ ' }}""' }} tripleo_hosts_entries_vip_hosts_entries: {{ '""{{ ' }} vip_hosts_entries {{ ' }}""' }}", name: Manage SELinux,8,1
openstack%2Fironic~master~I0594c2cf7ed8f57323dfdf0dfdbbb20516d627bd,openstack/ironic,master,I0594c2cf7ed8f57323dfdf0dfdbbb20516d627bd,Refactoring: move iSCSI deploy code to iscsi_deploy.py,MERGED,2020-02-19 17:11:09.000000000,2020-03-18 06:56:04.000000000,2020-03-17 22:25:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-02-19 17:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e519031a14a2ed61823e7518ab9f16f17f68961b', 'message': 'Refactoring: move iSCSI deploy code to iscsi_deploy.py\n\nThe deploy_utils module is for code that is shared between all deploy\nmethods, but these functions are specific to iSCSI deploy.\n\nChange-Id: I0594c2cf7ed8f57323dfdf0dfdbbb20516d627bd\n'}, {'number': 2, 'created': '2020-03-03 13:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ff0099439753046c0b6267a4dd7068d98c9ab16', 'message': 'Refactoring: move iSCSI deploy code to iscsi_deploy.py\n\nThe deploy_utils module is for code that is shared between all deploy\nmethods, but these functions are specific to iSCSI deploy.\n\nChange-Id: I0594c2cf7ed8f57323dfdf0dfdbbb20516d627bd\n'}, {'number': 3, 'created': '2020-03-17 16:46:05.000000000', 'files': ['ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fb79ea2c4018ea190ee5202cb45221868ee8e31c', 'message': 'Refactoring: move iSCSI deploy code to iscsi_deploy.py\n\nThe deploy_utils module is for code that is shared between all deploy\nmethods, but these functions are specific to iSCSI deploy.\n\nChange-Id: I0594c2cf7ed8f57323dfdf0dfdbbb20516d627bd\n'}]",2,708697,fb79ea2c4018ea190ee5202cb45221868ee8e31c,22,6,3,10239,,,0,"Refactoring: move iSCSI deploy code to iscsi_deploy.py

The deploy_utils module is for code that is shared between all deploy
methods, but these functions are specific to iSCSI deploy.

Change-Id: I0594c2cf7ed8f57323dfdf0dfdbbb20516d627bd
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/708697/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",4,e519031a14a2ed61823e7518ab9f16f17f68961b,iscsi,,"import time import typesfrom ironic_lib import disk_utilsfrom oslo_concurrency import processutilsimport testtools@mock.patch.object(time, 'sleep', lambda seconds: None) class PhysicalWorkTestCase(tests_base.TestCase): def _mock_calls(self, name_list, module): patch_list = [mock.patch.object(module, name, spec_set=types.FunctionType) for name in name_list] mock_list = [patcher.start() for patcher in patch_list] for patcher in patch_list: self.addCleanup(patcher.stop) parent_mock = mock.MagicMock(spec=[]) for mocker, name in zip(mock_list, name_list): parent_mock.attach_mock(mocker, name) return parent_mock @mock.patch.object(disk_utils, 'work_on_disk', autospec=True) @mock.patch.object(disk_utils, 'is_block_device', autospec=True) @mock.patch.object(disk_utils, 'get_image_mb', autospec=True) @mock.patch.object(utils, 'logout_iscsi', autospec=True) @mock.patch.object(utils, 'login_iscsi', autospec=True) @mock.patch.object(utils, 'get_dev', autospec=True) @mock.patch.object(utils, 'discovery', autospec=True) @mock.patch.object(utils, 'delete_iscsi', autospec=True) def _test_deploy_partition_image(self, mock_delete_iscsi, mock_discovery, mock_get_dev, mock_login_iscsi, mock_logout_iscsi, mock_get_image_mb, mock_is_block_device, mock_work_on_disk, **kwargs): # Below are the only values we allow callers to modify for testing. # Check that values other than this aren't passed in. deploy_args = { 'boot_mode': None, 'boot_option': None, 'configdrive': None, 'cpu_arch': None, 'disk_label': None, 'ephemeral_format': None, 'ephemeral_mb': None, 'image_mb': 1, 'preserve_ephemeral': False, 'root_mb': 128, 'swap_mb': 64 } disallowed_values = set(kwargs) - set(deploy_args) if disallowed_values: raise ValueError(""Only the following kwargs are allowed in "" ""_test_deploy_partition_image: %(allowed)s. "" ""Disallowed values: %(disallowed)s."" % {""allowed"": "", "".join(deploy_args), ""disallowed"": "", "".join(disallowed_values)}) deploy_args.update(kwargs) address = '127.0.0.1' port = 3306 iqn = 'iqn.xyz' lun = 1 image_path = '/tmp/xyz/image' node_uuid = ""12345678-1234-1234-1234-1234567890abcxyz"" dev = '/dev/fake' root_uuid = '12345678-1234-1234-12345678-12345678abcdef' mock_get_dev.return_value = dev mock_is_block_device.return_value = True mock_get_image_mb.return_value = deploy_args['image_mb'] mock_work_on_disk.return_value = { 'root uuid': root_uuid, 'efi system partition uuid': None } deploy_kwargs = { 'boot_mode': deploy_args['boot_mode'], 'boot_option': deploy_args['boot_option'], 'configdrive': deploy_args['configdrive'], 'disk_label': deploy_args['disk_label'], 'cpu_arch': deploy_args['cpu_arch'] or '', 'preserve_ephemeral': deploy_args['preserve_ephemeral'] } utils.deploy_partition_image( address, port, iqn, lun, image_path, deploy_args['root_mb'], deploy_args['swap_mb'], deploy_args['ephemeral_mb'], deploy_args['ephemeral_format'], node_uuid, **deploy_kwargs) mock_get_dev.assert_called_once_with(address, port, iqn, lun) mock_discovery.assert_called_once_with(address, port) mock_login_iscsi.assert_called_once_with(address, port, iqn) mock_logout_iscsi.assert_called_once_with(address, port, iqn) mock_delete_iscsi.assert_called_once_with(address, port, iqn) mock_get_image_mb.assert_called_once_with(image_path) mock_is_block_device.assert_called_once_with(dev) work_on_disk_kwargs = { 'preserve_ephemeral': deploy_args['preserve_ephemeral'], 'configdrive': deploy_args['configdrive'], # boot_option defaults to 'netboot' if # not set 'boot_option': deploy_args['boot_option'] or 'netboot', 'boot_mode': deploy_args['boot_mode'], 'disk_label': deploy_args['disk_label'], 'cpu_arch': deploy_args['cpu_arch'] or '' } mock_work_on_disk.assert_called_once_with( dev, deploy_args['root_mb'], deploy_args['swap_mb'], deploy_args['ephemeral_mb'], deploy_args['ephemeral_format'], image_path, node_uuid, **work_on_disk_kwargs) def test_deploy_partition_image_without_boot_option(self): self._test_deploy_partition_image() def test_deploy_partition_image_netboot(self): self._test_deploy_partition_image(boot_option=""netboot"") def test_deploy_partition_image_localboot(self): self._test_deploy_partition_image(boot_option=""local"") def test_deploy_partition_image_wo_boot_option_and_wo_boot_mode(self): self._test_deploy_partition_image() def test_deploy_partition_image_netboot_bios(self): self._test_deploy_partition_image(boot_option=""netboot"", boot_mode=""bios"") def test_deploy_partition_image_localboot_bios(self): self._test_deploy_partition_image(boot_option=""local"", boot_mode=""bios"") def test_deploy_partition_image_netboot_uefi(self): self._test_deploy_partition_image(boot_option=""netboot"", boot_mode=""uefi"") def test_deploy_partition_image_disk_label(self): self._test_deploy_partition_image(disk_label='gpt') def test_deploy_partition_image_image_exceeds_root_partition(self): self.assertRaises(exception.InstanceDeployFailure, self._test_deploy_partition_image, image_mb=129, root_mb=128) def test_deploy_partition_image_localboot_uefi(self): self._test_deploy_partition_image(boot_option=""local"", boot_mode=""uefi"") def test_deploy_partition_image_without_swap(self): self._test_deploy_partition_image(swap_mb=0) def test_deploy_partition_image_with_ephemeral(self): self._test_deploy_partition_image(ephemeral_format='exttest', ephemeral_mb=256) def test_deploy_partition_image_preserve_ephemeral(self): self._test_deploy_partition_image(ephemeral_format='exttest', ephemeral_mb=256, preserve_ephemeral=True) def test_deploy_partition_image_with_configdrive(self): self._test_deploy_partition_image(configdrive='http://1.2.3.4/cd') def test_deploy_partition_image_with_cpu_arch(self): self._test_deploy_partition_image(cpu_arch='generic') @mock.patch.object(disk_utils, 'create_config_drive_partition', autospec=True) @mock.patch.object(disk_utils, 'get_disk_identifier', autospec=True) def test_deploy_whole_disk_image(self, mock_gdi, create_config_drive_mock): """"""Check loosely all functions are called with right args."""""" address = '127.0.0.1' port = 3306 iqn = 'iqn.xyz' lun = 1 image_path = '/tmp/xyz/image' node_uuid = ""12345678-1234-1234-1234-1234567890abcxyz"" dev = '/dev/fake' utils_name_list = ['get_dev', 'discovery', 'login_iscsi', 'logout_iscsi', 'delete_iscsi'] disk_utils_name_list = ['is_block_device', 'populate_image'] utils_mock = self._mock_calls(utils_name_list, utils) utils_mock.get_dev.return_value = dev disk_utils_mock = self._mock_calls(disk_utils_name_list, disk_utils) disk_utils_mock.is_block_device.return_value = True mock_gdi.return_value = '0x12345678' utils_calls_expected = [mock.call.get_dev(address, port, iqn, lun), mock.call.discovery(address, port), mock.call.login_iscsi(address, port, iqn), mock.call.logout_iscsi(address, port, iqn), mock.call.delete_iscsi(address, port, iqn)] disk_utils_calls_expected = [mock.call.is_block_device(dev), mock.call.populate_image(image_path, dev, conv_flags=None)] uuid_dict_returned = utils.deploy_disk_image(address, port, iqn, lun, image_path, node_uuid) self.assertEqual(utils_calls_expected, utils_mock.mock_calls) self.assertEqual(disk_utils_calls_expected, disk_utils_mock.mock_calls) self.assertFalse(create_config_drive_mock.called) self.assertEqual('0x12345678', uuid_dict_returned['disk identifier']) @mock.patch.object(disk_utils, 'create_config_drive_partition', autospec=True) @mock.patch.object(disk_utils, 'get_disk_identifier', autospec=True) def test_deploy_whole_disk_image_with_config_drive(self, mock_gdi, create_partition_mock): """"""Check loosely all functions are called with right args."""""" address = '127.0.0.1' port = 3306 iqn = 'iqn.xyz' lun = 1 image_path = '/tmp/xyz/image' node_uuid = ""12345678-1234-1234-1234-1234567890abcxyz"" config_url = 'http://1.2.3.4/cd' dev = '/dev/fake' utils_list = ['get_dev', 'discovery', 'login_iscsi', 'logout_iscsi', 'delete_iscsi'] disk_utils_list = ['is_block_device', 'populate_image'] utils_mock = self._mock_calls(utils_list, utils) disk_utils_mock = self._mock_calls(disk_utils_list, disk_utils) utils_mock.get_dev.return_value = dev disk_utils_mock.is_block_device.return_value = True mock_gdi.return_value = '0x12345678' utils_calls_expected = [mock.call.get_dev(address, port, iqn, lun), mock.call.discovery(address, port), mock.call.login_iscsi(address, port, iqn), mock.call.logout_iscsi(address, port, iqn), mock.call.delete_iscsi(address, port, iqn)] disk_utils_calls_expected = [mock.call.is_block_device(dev), mock.call.populate_image(image_path, dev, conv_flags=None)] uuid_dict_returned = utils.deploy_disk_image(address, port, iqn, lun, image_path, node_uuid, configdrive=config_url) utils_mock.assert_has_calls(utils_calls_expected) disk_utils_mock.assert_has_calls(disk_utils_calls_expected) create_partition_mock.assert_called_once_with(node_uuid, dev, config_url) self.assertEqual('0x12345678', uuid_dict_returned['disk identifier']) @mock.patch.object(disk_utils, 'create_config_drive_partition', autospec=True) @mock.patch.object(disk_utils, 'get_disk_identifier', autospec=True) def test_deploy_whole_disk_image_sparse(self, mock_gdi, create_config_drive_mock): """"""Check loosely all functions are called with right args."""""" address = '127.0.0.1' port = 3306 iqn = 'iqn.xyz' lun = 1 image_path = '/tmp/xyz/image' node_uuid = ""12345678-1234-1234-1234-1234567890abcxyz"" dev = '/dev/fake' utils_name_list = ['get_dev', 'discovery', 'login_iscsi', 'logout_iscsi', 'delete_iscsi'] disk_utils_name_list = ['is_block_device', 'populate_image'] utils_mock = self._mock_calls(utils_name_list, utils) utils_mock.get_dev.return_value = dev disk_utils_mock = self._mock_calls(disk_utils_name_list, disk_utils) disk_utils_mock.is_block_device.return_value = True mock_gdi.return_value = '0x12345678' utils_calls_expected = [mock.call.get_dev(address, port, iqn, lun), mock.call.discovery(address, port), mock.call.login_iscsi(address, port, iqn), mock.call.logout_iscsi(address, port, iqn), mock.call.delete_iscsi(address, port, iqn)] disk_utils_calls_expected = [mock.call.is_block_device(dev), mock.call.populate_image( image_path, dev, conv_flags='sparse')] uuid_dict_returned = utils.deploy_disk_image(address, port, iqn, lun, image_path, node_uuid, configdrive=None, conv_flags='sparse') self.assertEqual(utils_calls_expected, utils_mock.mock_calls) self.assertEqual(disk_utils_calls_expected, disk_utils_mock.mock_calls) self.assertFalse(create_config_drive_mock.called) self.assertEqual('0x12345678', uuid_dict_returned['disk identifier']) @mock.patch.object(common_utils, 'execute', autospec=True) def test_verify_iscsi_connection_raises(self, mock_exec): iqn = 'iqn.xyz' mock_exec.return_value = ['iqn.abc', ''] self.assertRaises(exception.InstanceDeployFailure, utils.verify_iscsi_connection, iqn) self.assertEqual(3, mock_exec.call_count) @mock.patch.object(common_utils, 'execute', autospec=True) def test_verify_iscsi_connection_override_attempts(self, mock_exec): utils.CONF.set_override('verify_attempts', 2, group='iscsi') iqn = 'iqn.xyz' mock_exec.return_value = ['iqn.abc', ''] self.assertRaises(exception.InstanceDeployFailure, utils.verify_iscsi_connection, iqn) self.assertEqual(2, mock_exec.call_count) @mock.patch.object(os.path, 'exists', autospec=True) def test_check_file_system_for_iscsi_device_raises(self, mock_os): iqn = 'iqn.xyz' ip = ""127.0.0.1"" port = ""22"" mock_os.return_value = False self.assertRaises(exception.InstanceDeployFailure, utils.check_file_system_for_iscsi_device, ip, port, iqn) self.assertEqual(3, mock_os.call_count) @mock.patch.object(os.path, 'exists', autospec=True) def test_check_file_system_for_iscsi_device(self, mock_os): iqn = 'iqn.xyz' ip = ""127.0.0.1"" port = ""22"" check_dir = ""/dev/disk/by-path/ip-%s:%s-iscsi-%s-lun-1"" % (ip, port, iqn) mock_os.return_value = True utils.check_file_system_for_iscsi_device(ip, port, iqn) mock_os.assert_called_once_with(check_dir) @mock.patch.object(common_utils, 'execute', autospec=True) def test_verify_iscsi_connection(self, mock_exec): iqn = 'iqn.xyz' mock_exec.return_value = ['iqn.xyz', ''] utils.verify_iscsi_connection(iqn) mock_exec.assert_called_once_with( 'iscsiadm', '-m', 'node', '-S', run_as_root=True, check_exit_code=[0]) @mock.patch.object(common_utils, 'execute', autospec=True) def test_force_iscsi_lun_update(self, mock_exec): iqn = 'iqn.xyz' utils.force_iscsi_lun_update(iqn) mock_exec.assert_called_once_with( 'iscsiadm', '-m', 'node', '-T', iqn, '-R', run_as_root=True, check_exit_code=[0]) @mock.patch.object(common_utils, 'execute', autospec=True) @mock.patch.object(utils, 'verify_iscsi_connection', autospec=True) @mock.patch.object(utils, 'force_iscsi_lun_update', autospec=True) @mock.patch.object(utils, 'check_file_system_for_iscsi_device', autospec=True) def test_login_iscsi_calls_verify_and_update(self, mock_check_dev, mock_update, mock_verify, mock_exec): address = '127.0.0.1' port = 3306 iqn = 'iqn.xyz' mock_exec.return_value = ['iqn.xyz', ''] utils.login_iscsi(address, port, iqn) mock_exec.assert_called_once_with( 'iscsiadm', '-m', 'node', '-p', '%s:%s' % (address, port), '-T', iqn, '--login', run_as_root=True, check_exit_code=[0], attempts=5, delay_on_retry=True) mock_verify.assert_called_once_with(iqn) mock_update.assert_called_once_with(iqn) mock_check_dev.assert_called_once_with(address, port, iqn) @mock.patch.object(utils, 'LOG', autospec=True) @mock.patch.object(common_utils, 'execute', autospec=True) @mock.patch.object(utils, 'verify_iscsi_connection', autospec=True) @mock.patch.object(utils, 'force_iscsi_lun_update', autospec=True) @mock.patch.object(utils, 'check_file_system_for_iscsi_device', autospec=True) @mock.patch.object(utils, 'delete_iscsi', autospec=True) @mock.patch.object(utils, 'logout_iscsi', autospec=True) def test_login_iscsi_calls_raises( self, mock_loiscsi, mock_discsi, mock_check_dev, mock_update, mock_verify, mock_exec, mock_log): address = '127.0.0.1' port = 3306 iqn = 'iqn.xyz' mock_exec.return_value = ['iqn.xyz', ''] mock_check_dev.side_effect = exception.InstanceDeployFailure('boom') self.assertRaises(exception.InstanceDeployFailure, utils.login_iscsi, address, port, iqn) mock_verify.assert_called_once_with(iqn) mock_update.assert_called_once_with(iqn) mock_loiscsi.assert_called_once_with(address, port, iqn) mock_discsi.assert_called_once_with(address, port, iqn) self.assertIsInstance(mock_log.error.call_args[0][1], exception.InstanceDeployFailure) @mock.patch.object(utils, 'LOG', autospec=True) @mock.patch.object(common_utils, 'execute', autospec=True) @mock.patch.object(utils, 'verify_iscsi_connection', autospec=True) @mock.patch.object(utils, 'force_iscsi_lun_update', autospec=True) @mock.patch.object(utils, 'check_file_system_for_iscsi_device', autospec=True) @mock.patch.object(utils, 'delete_iscsi', autospec=True) @mock.patch.object(utils, 'logout_iscsi', autospec=True) def test_login_iscsi_calls_raises_during_cleanup( self, mock_loiscsi, mock_discsi, mock_check_dev, mock_update, mock_verify, mock_exec, mock_log): address = '127.0.0.1' port = 3306 iqn = 'iqn.xyz' mock_exec.return_value = ['iqn.xyz', ''] mock_check_dev.side_effect = exception.InstanceDeployFailure('boom') mock_discsi.side_effect = processutils.ProcessExecutionError('boom') self.assertRaises(exception.InstanceDeployFailure, utils.login_iscsi, address, port, iqn) mock_verify.assert_called_once_with(iqn) mock_update.assert_called_once_with(iqn) mock_loiscsi.assert_called_once_with(address, port, iqn) mock_discsi.assert_called_once_with(address, port, iqn) self.assertIsInstance(mock_log.error.call_args[0][1], exception.InstanceDeployFailure) self.assertIsInstance(mock_log.warning.call_args[0][1], processutils.ProcessExecutionError) @mock.patch.object(disk_utils, 'is_block_device', lambda d: True) def test_always_logout_and_delete_iscsi(self): """"""Check if logout_iscsi() and delete_iscsi() are called. Make sure that logout_iscsi() and delete_iscsi() are called once login_iscsi() is invoked. """""" address = '127.0.0.1' port = 3306 iqn = 'iqn.xyz' lun = 1 image_path = '/tmp/xyz/image' root_mb = 128 swap_mb = 64 ephemeral_mb = 256 ephemeral_format = 'exttest' node_uuid = ""12345678-1234-1234-1234-1234567890abcxyz"" dev = '/dev/fake' class TestException(Exception): pass utils_name_list = ['get_dev', 'discovery', 'login_iscsi', 'logout_iscsi', 'delete_iscsi'] disk_utils_name_list = ['get_image_mb', 'work_on_disk'] utils_mock = self._mock_calls(utils_name_list, utils) utils_mock.get_dev.return_value = dev disk_utils_mock = self._mock_calls(disk_utils_name_list, disk_utils) disk_utils_mock.get_image_mb.return_value = 1 disk_utils_mock.work_on_disk.side_effect = TestException utils_calls_expected = [mock.call.get_dev(address, port, iqn, lun), mock.call.discovery(address, port), mock.call.login_iscsi(address, port, iqn), mock.call.logout_iscsi(address, port, iqn), mock.call.delete_iscsi(address, port, iqn)] disk_utils_calls_expected = [mock.call.get_image_mb(image_path), mock.call.work_on_disk( dev, root_mb, swap_mb, ephemeral_mb, ephemeral_format, image_path, node_uuid, configdrive=None, preserve_ephemeral=False, boot_option=""netboot"", boot_mode=""bios"", disk_label=None, cpu_arch="""")] self.assertRaises(TestException, utils.deploy_partition_image, address, port, iqn, lun, image_path, root_mb, swap_mb, ephemeral_mb, ephemeral_format, node_uuid) self.assertEqual(utils_calls_expected, utils_mock.mock_calls) self.assertEqual(disk_utils_calls_expected, disk_utils_mock.mock_calls) @mock.patch.object(common_utils, 'execute', autospec=True) @mock.patch.object(utils, 'verify_iscsi_connection', autospec=True) @mock.patch.object(utils, 'force_iscsi_lun_update', autospec=True) @mock.patch.object(utils, 'check_file_system_for_iscsi_device', autospec=True) def test_ipv6_address_wrapped(self, mock_check_dev, mock_update, mock_verify, mock_exec): address = '2001:DB8::1111' port = 3306 iqn = 'iqn.xyz' mock_exec.return_value = ['iqn.xyz', ''] utils.login_iscsi(address, port, iqn) mock_exec.assert_called_once_with( 'iscsiadm', '-m', 'node', '-p', '[%s]:%s' % (address, port), '-T', iqn, '--login', run_as_root=True, check_exit_code=[0], attempts=5, delay_on_retry=True) def test_get_dev(self): expected = '/dev/disk/by-path/ip-1.2.3.4:5678-iscsi-iqn.fake-lun-9' actual = utils.get_dev('1.2.3.4', 5678, 'iqn.fake', 9) self.assertEqual(expected, actual) @mock.patch.object(disk_utils, 'is_block_device', autospec=True) @mock.patch.object(utils, 'login_iscsi', lambda *_: None) @mock.patch.object(utils, 'discovery', lambda *_: None) @mock.patch.object(utils, 'logout_iscsi', lambda *_: None) @mock.patch.object(utils, 'delete_iscsi', lambda *_: None) @mock.patch.object(utils, 'get_dev', lambda *_: '/dev/fake') class ISCSISetupAndHandleErrorsTestCase(tests_base.TestCase): def test_no_parent_device(self, mock_ibd): address = '127.0.0.1' port = 3306 iqn = 'iqn.xyz' lun = 1 mock_ibd.return_value = False expected_dev = '/dev/fake' with testtools.ExpectedException(exception.InstanceDeployFailure): with utils._iscsi_setup_and_handle_errors( address, port, iqn, lun) as dev: self.assertEqual(expected_dev, dev) mock_ibd.assert_called_once_with(expected_dev) def test_parent_device_yield(self, mock_ibd): address = '127.0.0.1' port = 3306 iqn = 'iqn.xyz' lun = 1 expected_dev = '/dev/fake' mock_ibd.return_value = True with utils._iscsi_setup_and_handle_errors( address, port, iqn, lun) as dev: self.assertEqual(expected_dev, dev) mock_ibd.assert_called_once_with(expected_dev) ",838,862
openstack%2Fproject-config~master~Ia28192747a9ebeba7ef7f9e04237a11cecc5032b,openstack/project-config,master,Ia28192747a9ebeba7ef7f9e04237a11cecc5032b,vexxhost: add openstack/openstack-zuul-jobs,MERGED,2020-03-18 01:20:34.000000000,2020-03-18 06:53:42.000000000,2020-03-18 06:53:42.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 01:20:34.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/57912b10c37365b367a040a04be29c404b286393', 'message': 'vexxhost: add openstack/openstack-zuul-jobs\n\nThere are a few roles which are used by devstack which are in\nthat repository so we need to add it.\n\nChange-Id: Ia28192747a9ebeba7ef7f9e04237a11cecc5032b\n'}]",0,713561,57912b10c37365b367a040a04be29c404b286393,7,3,1,1004,,,0,"vexxhost: add openstack/openstack-zuul-jobs

There are a few roles which are used by devstack which are in
that repository so we need to add it.

Change-Id: Ia28192747a9ebeba7ef7f9e04237a11cecc5032b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/713561/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,57912b10c37365b367a040a04be29c404b286393,devstack-in-zuulv3, - openstack/openstack-zuul-jobs,,1,0
openstack%2Ftripleo-quickstart~master~Iffaa46069b81036bc3b59e80c39fb6d6129ea55c,openstack/tripleo-quickstart,master,Iffaa46069b81036bc3b59e80c39fb6d6129ea55c,Update get-dlrn-hash-newest to work with aggregate hashes,MERGED,2020-03-16 21:45:37.000000000,2020-03-18 06:52:28.000000000,2020-03-18 06:50:22.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 21:45:37.000000000', 'files': ['roles/repo-setup/tasks/get-dlrn-hash-newest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9f0b069ba6f02ac181dbf6140943e7bf2fe69967', 'message': 'Update get-dlrn-hash-newest to work with aggregate hashes\n\nDLRN used by CentOS 8 jobs builds components. Each job\nusing current-tripleo needs to refer to an aggregate hash -\nwhich references the components, rather than a single\nhash.\n\nCommit 6eea60075d0fe91bd97cb10960dc49a26ccbe4f3 added a similar\nchange for get-dlrn-hash.yml.\n\nChange-Id: Iffaa46069b81036bc3b59e80c39fb6d6129ea55c\n'}]",1,713333,9f0b069ba6f02ac181dbf6140943e7bf2fe69967,22,8,1,9976,,,0,"Update get-dlrn-hash-newest to work with aggregate hashes

DLRN used by CentOS 8 jobs builds components. Each job
using current-tripleo needs to refer to an aggregate hash -
which references the components, rather than a single
hash.

Commit 6eea60075d0fe91bd97cb10960dc49a26ccbe4f3 added a similar
change for get-dlrn-hash.yml.

Change-Id: Iffaa46069b81036bc3b59e80c39fb6d6129ea55c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/33/713333/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/repo-setup/tasks/get-dlrn-hash-newest.yml'],1,9f0b069ba6f02ac181dbf6140943e7bf2fe69967,reproducer-dlrn-hash-tag-newest," - (not dlrn_hash_tag is match(""[a-zA-Z0-9]{40}_[a-zA-Z0-9]{8}"")) or (not dlrn_hash_tag is match(""[a-zA-Z0-9]{32}"")) when: dlrn_hash_tag_newest is match(""[a-zA-Z0-9]{40}_[a-zA-Z0-9]{8}"") or dlrn_hash_tag is match(""[a-zA-Z0-9]{32}"") - when: - dlrn_hash_tag_newest in known_hash_tags - ((ansible_distribution == ""CentOS"" and ansible_distribution_major_version is version(8, '<')) or (ansible_distribution != ""CentOS"")) # when running a component job, the containers and images # come from a promoted current-tripleo pin. Therefore the md5 # of the known hash_tag (e..g. current tripleo) is the cricital hash to know. # components for OSP will be built on OSP-16, 17 # TO-DO - when: - dlrn_hash_tag_newest in known_hash_tags - ansible_distribution == ""CentOS"" - ansible_distribution_major_version is version(8, '>=') block: - name: Get DLRN hash newest - passed tag - component-based shell: | set -euo pipefail dlrn_base={{ dlrn_baseurl }} if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh NODEPOOL_RDO_PROXY=${NODEPOOL_RDO_PROXY:-https://trunk.rdoproject.org} dlrn_base=${dlrn_base/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} fi curl -s --fail --show-error ${dlrn_base}/{{ dlrn_hash_tag_newest }}/delorean.repo.md5 register: full_hash_result retries: 5 - name: Set fact for dlrn_hash_newest set_fact: dlrn_hash_newest: ""{{ full_hash_result.stdout }}"" cacheable: true "," - dlrn_hash_tag_newest is not match(""[a-zA-Z0-9]{40}_[a-zA-Z0-9]{8}"") when: dlrn_hash_tag_newest is match(""[a-zA-Z0-9]{40}_[a-zA-Z0-9]{8}"") - when: dlrn_hash_tag_newest in known_hash_tags",33,3
openstack%2Ftripleo-upgrade~stable%2Ftrain~I50270b65f0053ce8aa47cb469e93a38a30bcf4d3,openstack/tripleo-upgrade,stable/train,I50270b65f0053ce8aa47cb469e93a38a30bcf4d3,Pin API microversions depending on upgrade type,MERGED,2020-03-16 18:09:10.000000000,2020-03-18 06:48:34.000000000,2020-03-18 06:48:34.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 18:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a7a1165b87c6d0fce3434bd5104be844e2e0f017', 'message': 'Pin API microversions depending on upgrade type\n\nWhen we do a FFU upgrade, we need to pin to use a\ndifferent set of API microversions than if we do\na standard major upgrade.\n\nThis implements a different pin depending on the\naction.\n\nBackport note:\nThe Train pins for upgrades has been adjusted to\nbe Stein pins instead.\n\nChange-Id: I50270b65f0053ce8aa47cb469e93a38a30bcf4d3\n(cherry picked from commit 2af1a865918c8288ed1ab1f2ab9ce8c25990a7a3)\n'}, {'number': 2, 'created': '2020-03-16 20:50:41.000000000', 'files': ['templates/workload_launch.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/32119af80e2d41070e4adee8cd09b866bd18d03a', 'message': 'Pin API microversions depending on upgrade type\n\nWhen we do a FFU upgrade, we need to pin to use a\ndifferent set of API microversions than if we do\na standard major upgrade.\n\nThis implements a different pin depending on the\naction.\n\nBackport note:\nThe Train pins for upgrades has been adjusted to\nbe Stein pins instead.\n\nChange-Id: I50270b65f0053ce8aa47cb469e93a38a30bcf4d3\n(cherry picked from commit 2af1a865918c8288ed1ab1f2ab9ce8c25990a7a3)\n'}]",0,713308,32119af80e2d41070e4adee8cd09b866bd18d03a,11,3,2,6816,,,0,"Pin API microversions depending on upgrade type

When we do a FFU upgrade, we need to pin to use a
different set of API microversions than if we do
a standard major upgrade.

This implements a different pin depending on the
action.

Backport note:
The Train pins for upgrades has been adjusted to
be Stein pins instead.

Change-Id: I50270b65f0053ce8aa47cb469e93a38a30bcf4d3
(cherry picked from commit 2af1a865918c8288ed1ab1f2ab9ce8c25990a7a3)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/08/713308/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workload_launch.sh.j2'],1,a7a1165b87c6d0fce3434bd5104be844e2e0f017,ffwd-upgrade2-stable/train,{% if ffu_overcloud_upgrade | bool %} # Pin the API's to Queens max versions export OS_COMPUTE_API_VERSION=2.60 export OS_SHARE_API_VERSION=2.42 export OS_VOLUME_API_VERSION=3.50 {% elif overcloud_upgrade | bool %} # Pin the API's to Stein max versionsexport OS_SHARE_API_VERSION=2.49 export OS_VOLUME_API_VERSION=3.59 {% endif %},,10,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ifb1923bff9a344985b3e4de04ade4abd4916d2d6,openstack/tripleo-heat-templates,stable/train,Ifb1923bff9a344985b3e4de04ade4abd4916d2d6,Add STF environment,MERGED,2020-03-16 23:55:40.000000000,2020-03-18 06:37:18.000000000,2020-03-18 06:37:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6924}, {'_account_id': 7294}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30357}]","[{'number': 1, 'created': '2020-03-16 23:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f26613bc88c845690372531e4cf325f60e7e50f', 'message': ""Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nRelated: https://review.opendev.org/#/c/710376/\n\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\n(cherry picked from commit 3790c804a70081227f03f704bc160947a0b21fdb)\n""}, {'number': 2, 'created': '2020-03-17 14:41:22.000000000', 'files': ['environments/enable-stf.yaml', 'ci/environments/scenario001-standalone.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbda4625678581996d25effba4ad8e6f59b774c0', 'message': ""Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nRelated: https://review.opendev.org/#/c/710376/\n\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\n(cherry picked from commit 3790c804a70081227f03f704bc160947a0b21fdb)\n""}]",0,713348,dbda4625678581996d25effba4ad8e6f59b774c0,19,7,2,30357,,,0,"Add STF environment

Add yaml to enable the STF client side. The only manual configuration
necessary should be pointing the host to the STF server.

Remove tcpconns from the collectd default plugin list, as
there are no users of it, and it should not be in the default
plugin list when STF is enabled.

More discussion about settings at
https://github.com/infrawatch/telemetry-framework/pull/100

Note about the plugins:

- virt plugin is already automatically loaded on each role where
  nova-compute is deployed. The hieradata is always set in
  eployment/metrics/collectd-container-puppet but it's fine because the
  plugin isn't always enabled. No need to add extra complexity with
  parameters.
- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are
  automatically loaded if STF is enabled.

Related: https://review.opendev.org/#/c/710376/

Signed-off-by: Ryan McCabe <rmccabe@redhat.com>
Signed-off-by: pleimer <pfbleimer@gmail.com>
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6
(cherry picked from commit 3790c804a70081227f03f704bc160947a0b21fdb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/713348/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/enable-stf.yaml', 'ci/environments/scenario001-standalone.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml']",4,3f26613bc88c845690372531e4cf325f60e7e50f,," EnableSTF: type: boolean description: Set to true to enable configuration for STF client. default: false enable_stf: equals: [{get_param: EnableSTF}, true] collectd::interval: {get_param: CollectdDefaultPollingInterval} collectd::plugin::cpu::reportbycpu: true collectd::plugin::cpu::reportbystate: true collectd::plugin::cpu::reportnumcpu: false collectd::plugin::cpu::valuespercentage: true collectd::plugin::df::ignoreselected: true collectd::plugin::df::reportbydevice: true collectd::plugin::df::fstypes: ['xfs'] collectd::plugin::load::reportrelative: true collectd::plugin::virt::connection: ""qemu:///system"" collectd::plugin::virt::extra_stats: ""cpu_util disk disk_err pcpu job_stats_background perf vcpupin"" collectd::plugin::virt::hostname_format: ""hostname"" stf_plugins: if: - enable_stf - - cpu - df - load - connectivity - intel_rdt - ipmi - procevent - [] ($.data.default_plugins + $.data.stf_plugins + $.data.extra_plugins)", - tcpconns collectd::interval: {get_param: CollectdDefaultPollingInterval} ($.data.default_plugins + $.data.extra_plugins),96,4
openstack%2Fzaqar-tempest-plugin~master~Ic5b9cd9a2795c9c915cfc0554880718e2733fed1,openstack/zaqar-tempest-plugin,master,Ic5b9cd9a2795c9c915cfc0554880718e2733fed1,Fix bug 1863560,MERGED,2020-03-18 06:20:51.000000000,2020-03-18 06:33:30.000000000,2020-03-18 06:33:30.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 06:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/4d92fc92b2b7c9ced84821fcbfada06c945cd460', 'message': 'Fix bug 1863560\n\nChange-Id: Ic5b9cd9a2795c9c915cfc0554880718e2733fed1\n'}, {'number': 2, 'created': '2020-03-18 06:21:51.000000000', 'files': ['zaqar_tempest_plugin/api_schema/response/v2/queues.py'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/f2dd398a1bef5e57df25b31373db8bf26ffd9d0d', 'message': 'Fix bug 1863560\n\nCloses-Bug: #1863560\nChange-Id: Ic5b9cd9a2795c9c915cfc0554880718e2733fed1\n'}]",0,713574,f2dd398a1bef5e57df25b31373db8bf26ffd9d0d,7,2,2,8846,,,0,"Fix bug 1863560

Closes-Bug: #1863560
Change-Id: Ic5b9cd9a2795c9c915cfc0554880718e2733fed1
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/74/713574/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqar_tempest_plugin/api_schema/response/v2/queues.py'],1,4d92fc92b2b7c9ced84821fcbfada06c945cd460,bug/1863560," }, 'count': { 'type': 'number'",,3,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I3b669665548668423d4ce7e34262c12903fba522,openstack/tripleo-heat-templates,stable/stein,I3b669665548668423d4ce7e34262c12903fba522,[TRAIN and before] Introduce ContainerCpusetCpus,MERGED,2020-03-14 14:52:43.000000000,2020-03-18 06:28:13.000000000,2020-03-18 06:26:20.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-14 14:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/736f99b48869bf28f89f5338ff5d6dd6b8a7541d', 'message': ""[TRAIN and before] Introduce ContainerCpusetCpus\n\nAdd a role specific parameter, ContainerCpusetCpus, default to 'all', which\nallows to limit the specific CPUs or cores a container can use.\nTo disable it and rely on container engine default, set it to ''.\n\nChange-Id: I3b669665548668423d4ce7e34262c12903fba522\nRelated-Bug: #1867357\n(cherry picked from commit 85850d8af240722facdf59eea79f2523057d1e8a)\n""}, {'number': 2, 'created': '2020-03-14 22:57:58.000000000', 'files': ['releasenotes/notes/cpuset_cpus-4dbde2cec2152b30.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32aee76474bd937157377a1b44399508bbbeea0e', 'message': ""[TRAIN and before] Introduce ContainerCpusetCpus\n\nAdd a role specific parameter, ContainerCpusetCpus, default to 'all', which\nallows to limit the specific CPUs or cores a container can use.\nTo disable it and rely on container engine default, set it to ''.\n\nChange-Id: I3b669665548668423d4ce7e34262c12903fba522\nRelated-Bug: #1867357\n(cherry picked from commit 85850d8af240722facdf59eea79f2523057d1e8a)\n""}]",0,713096,32aee76474bd937157377a1b44399508bbbeea0e,22,5,2,3153,,,0,"[TRAIN and before] Introduce ContainerCpusetCpus

Add a role specific parameter, ContainerCpusetCpus, default to 'all', which
allows to limit the specific CPUs or cores a container can use.
To disable it and rely on container engine default, set it to ''.

Change-Id: I3b669665548668423d4ce7e34262c12903fba522
Related-Bug: #1867357
(cherry picked from commit 85850d8af240722facdf59eea79f2523057d1e8a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/713096/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cpuset_cpus-4dbde2cec2152b30.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml']",2,736f99b48869bf28f89f5338ff5d6dd6b8a7541d,nfv/stein," ContainerCpusetCpus: description: Limit the specific CPUs or cores a container can use. type: string default: 'all' tags: - role_specific container_cpuset_cpus: ContainerCpusetCpus ContainerCpusetCpus: {get_param: ContainerCpusetCpus} cpuset_cpus: {get_attr: [RoleParametersValue, value, container_cpuset_cpus]}", cpuset_cpus: all,15,1
openstack%2Frpm-packaging~stable%2Ftrain~I74bedd83d02ff27b02b0e0d9b7143db13ceed496,openstack/rpm-packaging,stable/train,I74bedd83d02ff27b02b0e0d9b7143db13ceed496,XStatic-Angular-Sanitize: convert to python3,MERGED,2020-03-17 17:21:02.000000000,2020-03-18 04:54:00.000000000,2020-03-18 04:54:00.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-17 17:21:02.000000000', 'files': ['openstack/XStatic-Angular-Sanitize/XStatic-Angular-Sanitize.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/379cce422beffedb9b756abb15fc0b979d0bf3d5', 'message': 'XStatic-Angular-Sanitize: convert to python3\n\nChange-Id: I74bedd83d02ff27b02b0e0d9b7143db13ceed496\n(cherry picked from commit fb2a4a62be156ffa42b58d59d59e449ca277672e)\n'}]",0,713494,379cce422beffedb9b756abb15fc0b979d0bf3d5,11,6,1,13294,,,0,"XStatic-Angular-Sanitize: convert to python3

Change-Id: I74bedd83d02ff27b02b0e0d9b7143db13ceed496
(cherry picked from commit fb2a4a62be156ffa42b58d59d59e449ca277672e)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/94/713494/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/XStatic-Angular-Sanitize/XStatic-Angular-Sanitize.spec.j2'],1,379cce422beffedb9b756abb15fc0b979d0bf3d5,remove-python2-stable/train,{% set pypi_name = 'XStatic-Angular-Sanitize' %} {% set upstream_version = upstream_version('1.2.1.1') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name(py_versions='py3') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}URL: https://opendev.org/openstack/xstatic-angular-sanitize/ Source0: {{ source }}BuildRequires: {{ py3('setuptools') }} Requires: {{ py3('XStatic') }}%autosetup -n {{ pypi_name }}-{{ upstream_version }}%{py3_build}%{py3_install}%{python3_sitelib}/xstatic %{python3_sitelib}/XStatic_Angular_Sanitize*,%global sname XStatic-Angular-Sanitize Name: {{ py2name('XStatic-Angular-Sanitize') }} Version: 1.2.1.1 Release: 0URL: https://git.openstack.org/cgit/openstack/{sname}/ Source0: https://files.pythonhosted.org/packages/source/X/%{sname}/%{sname}-%{version}.tar.gzBuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('XStatic') }}%autosetup -n %{sname}-%{version}%{py2_build}%{py2_install}%{python2_sitelib}/xstatic %{python2_sitelib}/XStatic_Angular_Sanitize-%{version}-py?.?.egg-info %{python2_sitelib}/XStatic_Angular_Sanitize-%{version}-py?.?-nspkg.pth,17,14
openstack%2Frpm-packaging~stable%2Ftrain~I8f6feaad35ba4145a35fa1966fcb5d15d6042b70,openstack/rpm-packaging,stable/train,I8f6feaad35ba4145a35fa1966fcb5d15d6042b70,octavia-tempest-plugin: fix go build for CentOS 8,MERGED,2020-03-17 17:22:26.000000000,2020-03-18 04:53:59.000000000,2020-03-18 04:53:59.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 17:22:26.000000000', 'files': ['openstack/octavia-tempest-plugin/octavia-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a14714adca4c7aae571377ca1ba628f47a91703e', 'message': 'octavia-tempest-plugin: fix go build for CentOS 8\n\nWe need to add ""-compressdwarf=false"" to the go build flags, or\nthe generated RPM will fail to find the debug information.\n\nChange-Id: I8f6feaad35ba4145a35fa1966fcb5d15d6042b70\n(cherry picked from commit 63e12a8227ceb63228bd14771d86d4eb1f6a8799)\n'}]",0,713495,a14714adca4c7aae571377ca1ba628f47a91703e,9,5,1,13294,,,0,"octavia-tempest-plugin: fix go build for CentOS 8

We need to add ""-compressdwarf=false"" to the go build flags, or
the generated RPM will fail to find the debug information.

Change-Id: I8f6feaad35ba4145a35fa1966fcb5d15d6042b70
(cherry picked from commit 63e12a8227ceb63228bd14771d86d4eb1f6a8799)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/95/713495/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/octavia-tempest-plugin/octavia-tempest-plugin.spec.j2'],1,a14714adca4c7aae571377ca1ba628f47a91703e,remove-python2-stable/train,%if 0%{?suse_version}%else # NOTE(jpena): the CentOS 8 build fails without this flag go build -ldflags '-linkmode=external -compressdwarf=false' -o httpd.bin httpd.go %endif,,5,0
openstack%2Frpm-packaging~stable%2Ftrain~I042d2abd4b690f5c27bee71713ca769112f4b9ec,openstack/rpm-packaging,stable/train,I042d2abd4b690f5c27bee71713ca769112f4b9ec,monasca-transform: Use python3 for compileall,MERGED,2020-03-17 17:37:15.000000000,2020-03-18 04:53:58.000000000,2020-03-18 04:53:58.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 17:37:15.000000000', 'files': ['openstack/monasca-transform/monasca-transform.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1029539a7d9abf174dff2b85dfe0375b7c054ba2', 'message': 'monasca-transform: Use python3 for compileall\n\nOn CentOS 8, we do not have a generic ""python"" executable, so let\'s\nbe explicit and use python3.\n\nChange-Id: I042d2abd4b690f5c27bee71713ca769112f4b9ec\n(cherry picked from commit b47a2ba25f41f1a5970f43cdf025ef0453f0b3a8)\n'}]",0,713497,1029539a7d9abf174dff2b85dfe0375b7c054ba2,9,5,1,13294,,,0,"monasca-transform: Use python3 for compileall

On CentOS 8, we do not have a generic ""python"" executable, so let's
be explicit and use python3.

Change-Id: I042d2abd4b690f5c27bee71713ca769112f4b9ec
(cherry picked from commit b47a2ba25f41f1a5970f43cdf025ef0453f0b3a8)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/97/713497/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-transform/monasca-transform.spec.j2'],1,1029539a7d9abf174dff2b85dfe0375b7c054ba2,remove-python2-stable/train,python3 -m compileall monasca_transform,python -m compileall monasca_transform,1,1
openstack%2Frpm-packaging~stable%2Ftrain~Ice61818239a7ab4ce2dd55d4dd492fc6b4df10b0,openstack/rpm-packaging,stable/train,Ice61818239a7ab4ce2dd55d4dd492fc6b4df10b0,openstacksdk: update to 0.36.2,MERGED,2020-03-17 19:18:02.000000000,2020-03-18 04:52:46.000000000,2020-03-18 04:52:46.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 19:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4a6bcd6412aa5501dcd4592681aa198e5f73dea1', 'message': 'openstacksdk: update to 0.36.2\n\nChange-Id: Ice61818239a7ab4ce2dd55d4dd492fc6b4df10b0\n'}, {'number': 2, 'created': '2020-03-17 22:19:54.000000000', 'files': ['openstack/openstacksdk/openstacksdk.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/432d3693ccabce4901af3e6fff9eacf0cc774999', 'message': 'openstacksdk: update to 0.36.2\n\nChange-Id: Ice61818239a7ab4ce2dd55d4dd492fc6b4df10b0\n'}]",0,713518,432d3693ccabce4901af3e6fff9eacf0cc774999,12,4,2,6593,,,0,"openstacksdk: update to 0.36.2

Change-Id: Ice61818239a7ab4ce2dd55d4dd492fc6b4df10b0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/18/713518/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstacksdk/openstacksdk.spec.j2'],1,4a6bcd6412aa5501dcd4592681aa198e5f73dea1,,{% set upstream_version = upstream_version('0.36.2') %},{% set upstream_version = upstream_version('0.36.0') %},1,1
openstack%2Frpm-packaging~stable%2Ftrain~Ib9996c03d5c0f78a587d90825d7241f783012774,openstack/rpm-packaging,stable/train,Ib9996c03d5c0f78a587d90825d7241f783012774,oslo.utils: update to 3.41.5,MERGED,2020-03-17 19:17:35.000000000,2020-03-18 04:52:45.000000000,2020-03-18 04:52:45.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 19:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/55e3543269964706e890fdc1e95b7397794425e3', 'message': 'oslo.utils: update to 3.41.5\n\nChange-Id: Ib9996c03d5c0f78a587d90825d7241f783012774\n'}, {'number': 2, 'created': '2020-03-17 22:18:28.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cb78c77921087e1df4a7c8532b0ffb509d50b732', 'message': 'oslo.utils: update to 3.41.5\n\nChange-Id: Ib9996c03d5c0f78a587d90825d7241f783012774\n'}]",0,713516,cb78c77921087e1df4a7c8532b0ffb509d50b732,12,4,2,6593,,,0,"oslo.utils: update to 3.41.5

Change-Id: Ib9996c03d5c0f78a587d90825d7241f783012774
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/16/713516/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,55e3543269964706e890fdc1e95b7397794425e3,,{% set upstream_version = upstream_version('3.41.5') %},{% set upstream_version = upstream_version('3.41.4') %},1,1
openstack%2Ftrove~stable%2Ftrain~I799f7b30e1af396a8ae540cff2ba8b548a23f82c,openstack/trove,stable/train,I799f7b30e1af396a8ae540cff2ba8b548a23f82c,Delete error volumes when deleting instance,MERGED,2020-03-17 21:09:11.000000000,2020-03-18 04:52:10.000000000,2020-03-18 04:50:44.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 21:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/93941657efae5e8efd675ed4faab4c41fe828fb4', 'message': 'Delete error volumes when deleting instance\n\nBackport candidate.\n\nChange-Id: I799f7b30e1af396a8ae540cff2ba8b548a23f82c\nStory: 2007436\nTask: 39083\n(cherry picked from commit 513e0dd3cd27790718b31c6d0d4b556bd6de0793)\n'}, {'number': 2, 'created': '2020-03-17 23:22:57.000000000', 'files': ['trove/instance/models.py', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/trove/commit/ce23f27bfeccf21c058b806f5c7a54dc1b82ffc3', 'message': 'Delete error volumes when deleting instance\n\nBackport candidate.\n\nChange-Id: I799f7b30e1af396a8ae540cff2ba8b548a23f82c\nStory: 2007436\nTask: 39083\n(cherry picked from commit 513e0dd3cd27790718b31c6d0d4b556bd6de0793)\n'}]",0,713540,ce23f27bfeccf21c058b806f5c7a54dc1b82ffc3,9,2,2,6732,,,0,"Delete error volumes when deleting instance

Backport candidate.

Change-Id: I799f7b30e1af396a8ae540cff2ba8b548a23f82c
Story: 2007436
Task: 39083
(cherry picked from commit 513e0dd3cd27790718b31c6d0d4b556bd6de0793)
",git fetch https://review.opendev.org/openstack/trove refs/changes/40/713540/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/instance/models.py'],1,93941657efae5e8efd675ed4faab4c41fe828fb4,fix-volume-stable/train," if volume.status in [""available"", ""error""]: LOG.info(""Deleting volume %s for instance %s"", self.volume_id, self.id)"," if volume.status == ""available"":",3,1
openstack%2Fhorizon~master~I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc,openstack/horizon,master,I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc,Use pyScss2 and django-pyscss2,MERGED,2020-03-13 15:36:24.000000000,2020-03-18 04:40:06.000000000,2020-03-18 04:38:04.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 28032}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-03-13 15:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/63a2357fa749a55760015fbb041bc1d897d2659d', 'message': ""Use pyScss2 and django-pyscss2\n\npyScss and django-pyscss packages are not maintained for a long time. We\ncan't use the pyScss with teh setuptools>=46.0.0, so I forked these\nproject and switch horizon to use them.\n\nChange-Id: I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc\nDepends-On: https://review.opendev.org/712976\n""}, {'number': 2, 'created': '2020-03-13 16:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f50e337ae0f7741c664bb12578013c0da0fed859', 'message': ""Use pyScss2 and django-pyscss2\n\npyScss and django-pyscss packages are not maintained for a long time. We\ncan't use the pyScss with teh setuptools>=46.0.0, so I forked these\nproject and switch horizon to use them.\n\nChange-Id: I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc\nDepends-On: https://review.opendev.org/712976\n""}, {'number': 3, 'created': '2020-03-13 16:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bc529c4ae9ebfc89ba0920007a6c353cfecdab42', 'message': ""Use pyScss2 and django-pyscss2\n\npyScss and django-pyscss packages are not maintained for a long time. We\ncan't use the pyScss with teh setuptools>=46.0.0, so I forked these\nproject and switch horizon to use them.\n\nChange-Id: I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc\nDepends-On: https://review.opendev.org/712976\n""}, {'number': 4, 'created': '2020-03-17 15:02:43.000000000', 'files': ['requirements.txt', 'bindep.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/11d4954cc3e4296921d1791610f7df24d46dea4d', 'message': ""Use pyScss2 and django-pyscss2\n\npyScss and django-pyscss packages are not maintained for a long time. We\ncan't use the pyScss with teh setuptools>=46.0.0, so I forked these\nproject and switch horizon to use them.\n\nChange-Id: I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc\nDepends-On: https://review.opendev.org/712976\n""}]",0,712978,11d4954cc3e4296921d1791610f7df24d46dea4d,16,5,4,1736,,,0,"Use pyScss2 and django-pyscss2

pyScss and django-pyscss packages are not maintained for a long time. We
can't use the pyScss with teh setuptools>=46.0.0, so I forked these
project and switch horizon to use them.

Change-Id: I38a1c2c3455a10b4852d25f6c39b3c21f5c450fc
Depends-On: https://review.opendev.org/712976
",git fetch https://review.opendev.org/openstack/horizon refs/changes/78/712978/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'bindep.txt', 'lower-constraints.txt']",3,63a2357fa749a55760015fbb041bc1d897d2659d,fix-pyscss,django-pyscss2==3.0.0pyScss2==2.0.0,django-pyscss==2.0.2pyScss==1.3.4,6,4
openstack%2Fnova~master~I8721be16c29697ca43c7ca1c32570e7daa1fb4c1,openstack/nova,master,I8721be16c29697ca43c7ca1c32570e7daa1fb4c1,FUP: Remove noqa and tone down an exception,MERGED,2019-12-09 18:13:31.000000000,2020-03-18 02:25:08.000000000,2020-03-18 01:28:56.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-09 18:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5272f7d7efee1e6c7fd45bc028fe2571527933f', 'message': 'FUP: Remove noqa and tone down an exception\n\nThis is a followon from [1] to address [2] (remove unnecessary noqa\ncomment from a long docstring line) and [3] (make the exception text for\nRequestGroupSuffixConflict calmer by s/!/./).\n\n[1] I55e4d61ba1c5920c44fd71eb36a9ed2cc64c4117\n[2] https://review.opendev.org/#/c/696946/7/nova/scheduler/utils.py@84\n[3] https://review.opendev.org/#/c/696946/7/nova/exception.py@2478\n\nChange-Id: I8721be16c29697ca43c7ca1c32570e7daa1fb4c1\n'}, {'number': 2, 'created': '2019-12-16 15:39:48.000000000', 'files': ['nova/exception.py', 'nova/scheduler/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/44280cd53f4768e856af6d705ca001f422675805', 'message': 'FUP: Remove noqa and tone down an exception\n\nThis is a followon from [1] to address [2] (remove unnecessary noqa\ncomment from a long docstring line) and [3] (make the exception text for\nRequestGroupSuffixConflict calmer by s/!/./).\n\n[1] I55e4d61ba1c5920c44fd71eb36a9ed2cc64c4117\n[2] https://review.opendev.org/#/c/696946/7/nova/scheduler/utils.py@84\n[3] https://review.opendev.org/#/c/696946/7/nova/exception.py@2478\n\nChange-Id: I8721be16c29697ca43c7ca1c32570e7daa1fb4c1\n'}]",2,698054,44280cd53f4768e856af6d705ca001f422675805,57,13,2,14070,,,0,"FUP: Remove noqa and tone down an exception

This is a followon from [1] to address [2] (remove unnecessary noqa
comment from a long docstring line) and [3] (make the exception text for
RequestGroupSuffixConflict calmer by s/!/./).

[1] I55e4d61ba1c5920c44fd71eb36a9ed2cc64c4117
[2] https://review.opendev.org/#/c/696946/7/nova/scheduler/utils.py@84
[3] https://review.opendev.org/#/c/696946/7/nova/exception.py@2478

Change-Id: I8721be16c29697ca43c7ca1c32570e7daa1fb4c1
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/698054/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/scheduler/utils.py']",2,e5272f7d7efee1e6c7fd45bc028fe2571527933f,use-placement-1.34, https://docs.openstack.org/placement/train/specs/train/implemented/2005575-nested-magic-1.html#arbitrary-group-suffixes https://docs.openstack.org/placement/train/specs/train/implemented/placement-resource-provider-request-group-mapping-in-allocation-candidates.html, https://docs.openstack.org/placement/train/specs/train/implemented/2005575-nested-magic-1.html#arbitrary-group-suffixes # noqa https://docs.openstack.org/placement/train/specs/train/implemented/placement-resource-provider-request-group-mapping-in-allocation-candidates.html # noqa,3,3
openstack%2Fzaqar-tempest-plugin~master~I0b35d3d4a0c0220478e13496d1d994e193fa1fa5,openstack/zaqar-tempest-plugin,master,I0b35d3d4a0c0220478e13496d1d994e193fa1fa5,Add tempest test for querying queus with count,MERGED,2020-02-24 02:51:17.000000000,2020-03-18 01:56:28.000000000,2020-02-24 10:53:34.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 02:51:17.000000000', 'files': ['zaqar_tempest_plugin/tests/v2/test_queues.py'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/8365718006643f2e267028455150cb45a67d6711', 'message': 'Add tempest test for querying queus with count\n\nChange-Id: I0b35d3d4a0c0220478e13496d1d994e193fa1fa5\nImplements: blueprint query-queues-with-count\nCloses-Bug: #1863560\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\n'}]",0,709397,8365718006643f2e267028455150cb45a67d6711,8,2,1,8846,,,0,"Add tempest test for querying queus with count

Change-Id: I0b35d3d4a0c0220478e13496d1d994e193fa1fa5
Implements: blueprint query-queues-with-count
Closes-Bug: #1863560
Signed-off-by: wanghao <sxmatch1986@gmail.com>
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/97/709397/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqar_tempest_plugin/tests/v2/test_queues.py'],1,8365718006643f2e267028455150cb45a67d6711,bug/1863560," @decorators.idempotent_id('9a2e9a09-5cbd-416f-a75f-fe827462aa9a') def test_list_queues_with_count(self): # Listing queues with count _, body = self.client.list_queues(url_params={""with_count"": True}) self.assertEqual(len(body['queues']), len(self.queues)) self.assertEqual(len(self.queues), body['count']) for item in body['queues']: self.assertIn(item['name'], self.queues) ",,9,0
openstack%2Ftripleo-upgrade~master~I4c7d378936257c91428682ad25599203d8fd3503,openstack/tripleo-upgrade,master,I4c7d378936257c91428682ad25599203d8fd3503,Run ceph-ansible installation as super user.,MERGED,2020-03-17 11:17:10.000000000,2020-03-18 01:27:27.000000000,2020-03-18 01:27:27.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 11:17:10.000000000', 'files': ['tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b6c158e47d3db9e5d069c4570fda0e00f8a13c77', 'message': 'Run ceph-ansible installation as super user.\n\nThe newly added task included in [0] requires root rights\nto be able to install the ceph-ansible in the Undercloud.\n\n[0]- I205425f31412c856e754539f67b039215a3b2189\nChange-Id: I4c7d378936257c91428682ad25599203d8fd3503\n'}]",0,713405,b6c158e47d3db9e5d069c4570fda0e00f8a13c77,10,5,1,26343,,,0,"Run ceph-ansible installation as super user.

The newly added task included in [0] requires root rights
to be able to install the ceph-ansible in the Undercloud.

[0]- I205425f31412c856e754539f67b039215a3b2189
Change-Id: I4c7d378936257c91428682ad25599203d8fd3503
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/05/713405/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/overcloud_upgrade_prepare.yml'],1,b6c158e47d3db9e5d069c4570fda0e00f8a13c77,ffwd-upgrade2, become: true become_user: root,,2,0
openstack%2Fopenstack-helm~master~I99a0598172453692817420ddefd8653f292124d9,openstack/openstack-helm,master,I99a0598172453692817420ddefd8653f292124d9,Tools: Update test-networkpolicy.sh,MERGED,2019-09-30 17:03:18.000000000,2020-03-18 01:07:04.000000000,2020-03-18 01:05:21.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}]","[{'number': 1, 'created': '2019-09-30 17:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/697798fb32dfd8471a73f8a934479d129d2c3aa2', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis adds network policy testcases for memcached in openstack\nnamespace.\n\nDepends-On: https://review.opendev.org/#/c/685755/\nChange-Id: I99a0598172453692817420ddefd8653f292124d9\n'}, {'number': 2, 'created': '2019-09-30 17:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/657c0e1201de216cc6c20d29e3a7294a93aa42e4', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis adds network policy testcases for memcached in openstack\nnamespace.\n\nDepends-On: https://review.opendev.org/#/c/685755/\nChange-Id: I99a0598172453692817420ddefd8653f292124d9\n'}, {'number': 3, 'created': '2020-02-26 16:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3325e369e9023c70131ae4944e25fb5f3cb48765', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis adds network policy testcases for memcached in openstack\nnamespace.\n\nDepends-On: https://review.opendev.org/#/c/685755/\nChange-Id: I99a0598172453692817420ddefd8653f292124d9\n'}, {'number': 4, 'created': '2020-03-02 19:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b5ff7669fe2687676368c83c07b8fd6549ae8e7d', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis adds network policy testcases for memcached in openstack\nnamespace.\n\nDepends-On: https://review.opendev.org/#/c/685755/\nChange-Id: I99a0598172453692817420ddefd8653f292124d9\n'}, {'number': 5, 'created': '2020-03-17 19:16:28.000000000', 'files': ['tools/deployment/common/test-networkpolicy.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86ae6d177a1effbe47381f953a0d7b95606853f2', 'message': 'Tools: Update test-networkpolicy.sh\n\nThis adds network policy testcases for memcached in openstack\nnamespace.\n\nDepends-On: https://review.opendev.org/#/c/685755/\nChange-Id: I99a0598172453692817420ddefd8653f292124d9\n'}]",5,685761,86ae6d177a1effbe47381f953a0d7b95606853f2,28,5,5,24780,,,0,"Tools: Update test-networkpolicy.sh

This adds network policy testcases for memcached in openstack
namespace.

Depends-On: https://review.opendev.org/#/c/685755/
Change-Id: I99a0598172453692817420ddefd8653f292124d9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/61/685761/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/test-networkpolicy.sh'],1,697798fb32dfd8471a73f8a934479d129d2c3aa2,netpol, # Memcached Negatove Tests test_netpol openstack mariadb server memcached.openstack.svc.cluster.local:11211 fail test_netpol openstack rabbitmq server memcached.openstack.svc.cluster.local:11211 fail test_netpol openstack openvswitch openvswitch-vswitchd memcached.openstack.svc.cluster.local:11211 fail test_netpol openstack libvirt libvirt memcached.openstack.svc.cluster.local:11211 fail,,5,0
openstack%2Fkeystone~stable%2Fqueens~Iddc364d8c934b6e54d1e8c75b8b159faadbf865d,openstack/keystone,stable/queens,Iddc364d8c934b6e54d1e8c75b8b159faadbf865d,Ensure bootstrap handles multiple roles with the same name,MERGED,2020-02-19 15:32:57.000000000,2020-03-18 00:56:09.000000000,2020-03-18 00:54:26.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 15:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/570c39769901f905dea49cf04c9f4dc8fd1981ca', 'message': ""Ensure bootstrap handles multiple roles with the same name\n\nThe bootstrap logic doesn't take into consideration multiple roles\nwith the same name. If bootstrap is unable to determine which role to\nuse and accidentally uses a domain-specific role with the same name\nas a default role, bootstrap will fail in unexpected ways.\n\nThis change deviates slightly from the upstream patches in that the\nstable/rocky test_cli.py module doesn't have a `self.bootstrap`\nattribute. Instead, we just test with `bootstrap` in the test itself.\nOtherwise, the test is functionally the same.\n\nConflicts:\n      keystone/cmd/bootstrap.py\n\n      Bootstrap code used to live in keystone/cmd/cli.py before it was\n      refactored into its own module, keystone/cmd/bootstrap.py. This\n      caused a conflict during backport where the file patched in later\n      releases because the file didn't exist. Instead, a functionally\n      equivalent change was proposed to keystone/cmd/cli.py.\n\nCloses-Bug: 1856881\nChange-Id: Iddc364d8c934b6e54d1e8c75b8b159faadbf865d\n(cherry picked from commit 25cf359e5fb914b855922121f20e23bd14626b8e)\n(cherry picked from commit 51ff7be731450c183b3e3eb6d34493e986cc2635)\n(cherry picked from commit 1ba238e49195890c0232554005d4efa670467694)\n(cherry picked from commit 2e4055e49b519a146902f0cf06740ec43231929b)\n""}, {'number': 2, 'created': '2020-03-06 19:11:56.000000000', 'files': ['releasenotes/notes/bug-1856881-277103af343187f1.yaml', 'keystone/cmd/cli.py', 'keystone/tests/unit/test_cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0cbf809a115dd01f8582ade55b4fb637c5983932', 'message': ""Ensure bootstrap handles multiple roles with the same name\n\nThe bootstrap logic doesn't take into consideration multiple roles\nwith the same name. If bootstrap is unable to determine which role to\nuse and accidentally uses a domain-specific role with the same name\nas a default role, bootstrap will fail in unexpected ways.\n\nThis change deviates slightly from the upstream patches in that the\nstable/queens test_cli.py module doesn't have a `self.bootstrap`\nattribute. Instead, we just test with `bootstrap` in the test itself.\nOtherwise, the test is functionally the same.\n\nConflicts:\n      keystone/cmd/bootstrap.py\n\n      Bootstrap code used to live in keystone/cmd/cli.py before it was\n      refactored into its own module, keystone/cmd/bootstrap.py. This\n      caused a conflict during backport where the file patched in later\n      releases because the file didn't exist. Instead, a functionally\n      equivalent change was proposed to keystone/cmd/cli.py.\n\nCloses-Bug: 1856881\nChange-Id: Iddc364d8c934b6e54d1e8c75b8b159faadbf865d\n(cherry picked from commit 25cf359e5fb914b855922121f20e23bd14626b8e)\n(cherry picked from commit 51ff7be731450c183b3e3eb6d34493e986cc2635)\n(cherry picked from commit 1ba238e49195890c0232554005d4efa670467694)\n(cherry picked from commit 2e4055e49b519a146902f0cf06740ec43231929b)\n""}]",1,708671,0cbf809a115dd01f8582ade55b4fb637c5983932,14,5,2,5046,,,0,"Ensure bootstrap handles multiple roles with the same name

The bootstrap logic doesn't take into consideration multiple roles
with the same name. If bootstrap is unable to determine which role to
use and accidentally uses a domain-specific role with the same name
as a default role, bootstrap will fail in unexpected ways.

This change deviates slightly from the upstream patches in that the
stable/queens test_cli.py module doesn't have a `self.bootstrap`
attribute. Instead, we just test with `bootstrap` in the test itself.
Otherwise, the test is functionally the same.

Conflicts:
      keystone/cmd/bootstrap.py

      Bootstrap code used to live in keystone/cmd/cli.py before it was
      refactored into its own module, keystone/cmd/bootstrap.py. This
      caused a conflict during backport where the file patched in later
      releases because the file didn't exist. Instead, a functionally
      equivalent change was proposed to keystone/cmd/cli.py.

Closes-Bug: 1856881
Change-Id: Iddc364d8c934b6e54d1e8c75b8b159faadbf865d
(cherry picked from commit 25cf359e5fb914b855922121f20e23bd14626b8e)
(cherry picked from commit 51ff7be731450c183b3e3eb6d34493e986cc2635)
(cherry picked from commit 1ba238e49195890c0232554005d4efa670467694)
(cherry picked from commit 2e4055e49b519a146902f0cf06740ec43231929b)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/71/708671/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1856881-277103af343187f1.yaml', 'keystone/cmd/cli.py', 'keystone/tests/unit/test_cli.py']",3,570c39769901f905dea49cf04c9f4dc8fd1981ca,," def test_bootstrap_with_ambiguous_role_names(self): bootstrap = cli.BootStrap() # bootstrap system to create the default admin role self._do_test_bootstrap(bootstrap) # create a domain-specific roles that share the same names as the # default roles created by keystone-manage bootstrap domain = {'id': uuid.uuid4().hex, 'name': uuid.uuid4().hex} domain = PROVIDERS.resource_api.create_domain(domain['id'], domain) domain_roles = {} for name in ['admin', 'member', 'reader']: domain_role = { 'domain_id': domain['id'], 'id': uuid.uuid4().hex, 'name': name } domain_roles[name] = PROVIDERS.role_api.create_role( domain_role['id'], domain_role ) # ensure subsequent bootstrap attempts don't fail because of # ambiguity self._do_test_bootstrap(bootstrap) ",,37,0
openstack%2Foctavia-tempest-plugin~master~I8923bbc992e474f67f65c564e9a8fa8f26642f5c,openstack/octavia-tempest-plugin,master,I8923bbc992e474f67f65c564e9a8fa8f26642f5c,DNM: Testing bionic nodes,ABANDONED,2018-09-06 19:51:06.000000000,2020-03-18 00:32:02.000000000,,"[{'_account_id': 8871}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-06 19:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cc8223b66e6feca8a5f2d496d030f56b23ce5ca2', 'message': 'DNM: Testing bionic nodes\n\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 2, 'created': '2018-09-10 16:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6ac83cd2b4bdc038e44021a2158ed6db6f073c77', 'message': 'DNM: Testing bionic nodes\n\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 3, 'created': '2018-09-10 16:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e4b381666331c5aaa9dfcd9bb19cc18820e66d79', 'message': 'DNM: Testing bionic nodes\n\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 4, 'created': '2018-09-10 17:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b79443ec0f428dd1ca8c2f24c9deea76372ac188', 'message': 'DNM: Testing bionic nodes\n\nDepends-On: https://review.openstack.org/601329\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 5, 'created': '2018-09-21 21:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ad8bf6a554e0939bd39c24960803120f9d5a5f8b', 'message': 'DNM: Testing bionic nodes\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 6, 'created': '2018-09-25 15:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cce4590bf68d33e2de99c0262f3bfd72aac5080e', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 7, 'created': '2018-09-25 22:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/47d0e292a71517e7a145d08c8bd85c7f39b7cf22', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 8, 'created': '2018-09-25 22:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/60dc12dd09be8b4446c95080c90de04320362ee0', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 9, 'created': '2018-09-25 23:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4b641437ca071fada478012878f6b50094ee4f76', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 10, 'created': '2018-09-25 23:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c688b110b4bf53e33d7558ba85f26abc43763553', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 11, 'created': '2018-09-25 23:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/823950fc990cc57d402a4eff237f77cd91b383c4', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 12, 'created': '2018-09-25 23:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/55e734fb788a8632de608c6cd6f1a082d9a5b405', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 13, 'created': '2018-09-26 16:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b291849d80fc13bf83b08bc66b78bc3392853d5c', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 14, 'created': '2018-09-28 17:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/95cf4a671c49a0365437a069c50fa621c44aabc3', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 15, 'created': '2018-09-28 17:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/57f3a5891d853b5ba11ac81af56eee6829efc51a', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 16, 'created': '2018-10-01 18:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c66d5efbd51f4aaa2c16f658dc283b491d48b057', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 17, 'created': '2018-10-02 02:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4f97bbf7718679e95970ac140fb790c2ecae73db', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}, {'number': 18, 'created': '2018-10-02 20:31:58.000000000', 'files': ['zuul.d/projects.yaml', 'playbooks/Octavia-DSVM/pre.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b7a27fb4046a40462821dc639d5f6db933a5e93d', 'message': 'DNM: Testing bionic nodes\n\nTesting KVM on bionic nodepool instances\n\nDepends-On: https://review.openstack.org/604478\nChange-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c\n'}]",5,600539,b7a27fb4046a40462821dc639d5f6db933a5e93d,64,3,18,11628,,,0,"DNM: Testing bionic nodes

Testing KVM on bionic nodepool instances

Depends-On: https://review.openstack.org/604478
Change-Id: I8923bbc992e474f67f65c564e9a8fa8f26642f5c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/39/600539/16 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,cc8223b66e6feca8a5f2d496d030f56b23ce5ca2,, - octavia-v2-dsvm-noop-api: nodeset: ubuntu-bionic - octavia-v2-dsvm-noop-py35-api: nodeset: ubuntu-bionic - octavia-v2-dsvm-scenario: nodeset: ubuntu-bionic - octavia-v2-dsvm-py35-scenario: nodeset: ubuntu-bionic - octavia-v2-dsvm-scenario-centos-7: nodeset: ubuntu-bionic - octavia-v2-dsvm-scenario-ubuntu-bionic: nodeset: ubuntu-bionic, - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-noop-py35-api - octavia-v2-dsvm-scenario - octavia-v2-dsvm-py35-scenario - octavia-v2-dsvm-scenario-centos-7 - octavia-v2-dsvm-scenario-ubuntu-bionic:,11,5
openstack%2Fopenstacksdk~master~Icfb92c267a10c7526e91d678e00fc522058a92bc,openstack/openstacksdk,master,Icfb92c267a10c7526e91d678e00fc522058a92bc,Add Octavia quota to the SDK docs,MERGED,2020-03-17 22:55:44.000000000,2020-03-18 00:29:10.000000000,2020-03-18 00:27:44.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 22:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/582c88d8df7de1e5710694f13e8cb2d620aa8f54', 'message': 'Add Octavia quota to the SDK docs\n\nThe patch that added Octavia quota to the SDK forgot to update\nthe documentation.\nThis patch corrects that by adding the required section to the\npage.\n\nChange-Id: Icfb92c267a10c7526e91d678e00fc522058a92bc\n'}, {'number': 2, 'created': '2020-03-17 23:04:39.000000000', 'files': ['doc/source/user/resources/load_balancer/index.rst', 'doc/source/user/proxies/load_balancer_v2.rst', 'doc/source/user/resources/load_balancer/v2/quota.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/36fe79f93c562775621b2160ee337e4bf795cbd7', 'message': 'Add Octavia quota to the SDK docs\n\nThe patch that added Octavia quota to the SDK forgot to update\nthe documentation.\nThis patch corrects that by adding the required section to the\npage.\n\nChange-Id: Icfb92c267a10c7526e91d678e00fc522058a92bc\n'}]",0,713551,36fe79f93c562775621b2160ee337e4bf795cbd7,9,2,2,11628,,,0,"Add Octavia quota to the SDK docs

The patch that added Octavia quota to the SDK forgot to update
the documentation.
This patch corrects that by adding the required section to the
page.

Change-Id: Icfb92c267a10c7526e91d678e00fc522058a92bc
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/51/713551/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/proxies/load_balancer_v2.rst'],1,582c88d8df7de1e5710694f13e8cb2d620aa8f54,,Quota Operations ^^^^^^^^^^^^^^^^ .. autoclass:: openstack.load_balancer.v2._proxy.Proxy .. automethod:: openstack.load_balancer.v2._proxy.Proxy.update_quota .. automethod:: openstack.load_balancer.v2._proxy.Proxy.delete_quota .. automethod:: openstack.load_balancer.v2._proxy.Proxy.quotas .. automethod:: openstack.load_balancer.v2._proxy.Proxy.get_quota .. automethod:: openstack.load_balancer.v2._proxy.Proxy.get_quota_default ,,11,0
openstack%2Frequirements~master~I6d4a71140213a8ee799679b92b11efcc6dfcce48,openstack/requirements,master,I6d4a71140213a8ee799679b92b11efcc6dfcce48,Updated from generate-constraints,MERGED,2020-03-17 06:17:44.000000000,2020-03-18 00:21:46.000000000,2020-03-18 00:20:14.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 06:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6b037c57360ea1b41d808cf4137d872717764569', 'message': 'Updated from generate-constraints\n\nChange-Id: I6d4a71140213a8ee799679b92b11efcc6dfcce48\n'}, {'number': 2, 'created': '2020-03-17 13:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3c93894c2489d8b0409e0d611d7f4e530310675f', 'message': 'Updated from generate-constraints\n\nhold back mock for nova/neutron failures\nhold back docutils because boto likes to cap things\nhold back msgpack because salt likes to cap things\nhold back alembic because nova fails tests\n\nChange-Id: I6d4a71140213a8ee799679b92b11efcc6dfcce48\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2020-03-17 20:46:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/38db6602f7862bf7a798ce5f961c42ea76c45055', 'message': 'Updated from generate-constraints\n\nhold back mock for nova/neutron failures\nhold back docutils because boto likes to cap things\nhold back msgpack because salt likes to cap things\nhold back alembic because nova fails tests\n\nChange-Id: I6d4a71140213a8ee799679b92b11efcc6dfcce48\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,713374,38db6602f7862bf7a798ce5f961c42ea76c45055,15,3,3,11131,,,0,"Updated from generate-constraints

hold back mock for nova/neutron failures
hold back docutils because boto likes to cap things
hold back msgpack because salt likes to cap things
hold back alembic because nova fails tests

Change-Id: I6d4a71140213a8ee799679b92b11efcc6dfcce48
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/713374/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6b037c57360ea1b41d808cf4137d872717764569,openstack/requirements/constraints/noclob,thriftpy2===0.4.11;python_version=='2.7'mock===3.0.5;python_version=='2.7' mock===4.0.2;python_version=='3.6' mock===4.0.2;python_version=='3.7'SQLAlchemy-Utils===0.36.2coverage===5.0.4docutils===0.16ujson===2.0.2boto3===1.12.22msgpack===1.0.0botocore===1.15.22alembic===1.4.1,thriftpy2===0.4.10;python_version=='2.7'mock===3.0.5SQLAlchemy-Utils===0.36.1coverage===5.0.3docutils===0.15.2ujson===2.0.1boto3===1.12.21msgpack===0.6.2botocore===1.15.21alembic===1.3.3,12,10
openstack%2Fpython-magnumclient~master~Ia764af9ca78eb26d7cd4ae5f3c0fb6675a506720,openstack/python-magnumclient,master,Ia764af9ca78eb26d7cd4ae5f3c0fb6675a506720,Drop py27 job,ABANDONED,2020-03-18 00:07:01.000000000,2020-03-18 00:09:57.000000000,,[],"[{'number': 1, 'created': '2020-03-18 00:07:01.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/9b9754c2c8ed06d93ed50cfef69e386a18181040', 'message': 'Drop py27 job\n\nChange-Id: Ia764af9ca78eb26d7cd4ae5f3c0fb6675a506720\n'}]",0,713554,9b9754c2c8ed06d93ed50cfef69e386a18181040,2,0,1,6484,,,0,"Drop py27 job

Change-Id: Ia764af9ca78eb26d7cd4ae5f3c0fb6675a506720
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/54/713554/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,9b9754c2c8ed06d93ed50cfef69e386a18181040,,"envlist = py37,pypy,pep8","envlist = py27,py37,pypy,pep8[testenv:debug-py27] basepython = python2.7 commands = oslo_debug_helper -t magnumclient/tests {posargs} ",1,6
openstack%2Fopenstack-helm-infra~master~I037de30f868dfeb0dedb1c32209b8be6d4690962,openstack/openstack-helm-infra,master,I037de30f868dfeb0dedb1c32209b8be6d4690962,Mariadb: Add ingress network policy overrides,MERGED,2019-10-07 21:22:49.000000000,2020-03-17 23:43:53.000000000,2020-03-17 23:42:11.000000000,"[{'_account_id': 8749}, {'_account_id': 14029}, {'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 27781}, {'_account_id': 28875}, {'_account_id': 29397}, {'_account_id': 31479}]","[{'number': 1, 'created': '2019-10-07 21:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/adca8070674fa5120e8e5e282cf050c6124525f1', 'message': 'Mariadb: Add ingress network policy overrides\n\nThis patch set adds in default mariadb ingress network policy\noverrides for openstack namespace.\n\nChange-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962\n'}, {'number': 2, 'created': '2019-10-07 21:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/301da444ba78baf4c4928e77450c57ee617daea3', 'message': 'Mariadb: Add ingress network policy overrides\n\nThis patch set adds in default mariadb ingress network policy\noverrides for openstack namespace.\n\nChange-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962\n'}, {'number': 3, 'created': '2019-10-08 14:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ac670b540e5ebb8ea96df7a963bcc000f3adcb9', 'message': 'Mariadb: Add ingress network policy overrides\n\nThis patch set adds in default mariadb ingress network policy\noverrides for openstack namespace.\n\nChange-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962\n'}, {'number': 4, 'created': '2019-10-08 15:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/91026d659e2bf7ffda93393d92a56cfbfebb9732', 'message': 'Mariadb: Add ingress network policy overrides\n\nThis patch set adds in default mariadb ingress network policy\noverrides for openstack namespace.\n\nChange-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962\n'}, {'number': 5, 'created': '2019-10-08 15:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e856799e257e908fcf718b14987891ccc7b4a6f3', 'message': 'Mariadb: Add ingress network policy overrides\n\nThis patch set adds in default mariadb ingress network policy\noverrides for openstack namespace.\n\nChange-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962\n'}, {'number': 6, 'created': '2019-10-09 20:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/caf0f1062ceb44c36927002b0e4e6169b20b9bc5', 'message': 'Mariadb: Add ingress network policy overrides\n\nThis patch set adds in default mariadb ingress network policy\noverrides for openstack namespace.\n\nChange-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962\n'}, {'number': 7, 'created': '2019-11-05 19:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e47cc632a2b4f7201e7620346cae3f74c6b037c', 'message': 'Mariadb: Add ingress network policy overrides\n\nThis patch set adds in default mariadb ingress network policy\noverrides for openstack namespace.\n\nChange-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962\n'}, {'number': 8, 'created': '2020-01-15 21:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5bd80daedef5a1dd9f9f9be4e23614fd87e53e55', 'message': 'Mariadb: Add ingress network policy overrides\n\nThis patch set adds in default mariadb ingress network policy\noverrides for openstack namespace.\n\nChange-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962\n'}, {'number': 9, 'created': '2020-01-31 19:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4acfe239d35a225b66b24417ef4011dac4a86000', 'message': 'Mariadb: Add ingress network policy overrides\n\nThis patch set adds in default mariadb ingress network policy\noverrides for openstack namespace.\n\nChange-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962\n'}, {'number': 10, 'created': '2020-03-16 20:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4ed253706e92a1911afcd90804271a2f17d92934', 'message': 'Mariadb: Add ingress network policy overrides\n\nThis patch set adds in default mariadb ingress network policy\noverrides for openstack namespace.\n\nChange-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962\n'}, {'number': 11, 'created': '2020-03-17 20:00:42.000000000', 'files': ['mariadb/values_overrides/netpol.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4f30b1361e2b596ce8760fd593f08d4f9a6639fe', 'message': 'Mariadb: Add ingress network policy overrides\n\nThis patch set adds in default mariadb ingress network policy\noverrides for openstack namespace.\n\nChange-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962\n'}]",2,687162,4f30b1361e2b596ce8760fd593f08d4f9a6639fe,35,12,11,18236,,,0,"Mariadb: Add ingress network policy overrides

This patch set adds in default mariadb ingress network policy
overrides for openstack namespace.

Change-Id: I037de30f868dfeb0dedb1c32209b8be6d4690962
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/687162/5 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/values_overrides/netpol.yaml'],1,adca8070674fa5120e8e5e282cf050c6124525f1,netpol,network_policy: mariadb: ingress: - from: - podSelector: matchLabels: application: keystone - podSelector: matchLabels: application: heat - podSelector: matchLabels: application: glance - podSelector: matchLabels: application: cinder - podSelector: matchLabels: application: aodh - podSelector: matchLabels: application: congress - podSelector: matchLabels: application: barbican - podSelector: matchLabels: application: ceilometer - podSelector: matchLabels: application: designate - podSelector: matchLabels: application: horizon - podSelector: matchLabels: application: ironic - podSelector: matchLabels: application: magnum - podSelector: matchLabels: application: mistral - podSelector: matchLabels: application: nova - podSelector: matchLabels: application: neutron - podSelector: matchLabels: application: panko - podSelector: matchLabels: application: rally - podSelector: matchLabels: application: senlin - podSelector: matchLabels: application: placement - podSelector: matchLabels: application: prometheus-mysql-exporter - podSelector: matchLabels: application: mariadb ports: - protocol: TCP port: 3306 - protocol: TCP port: 4567 - protocol: HTTP port: 8080,,74,0
openstack%2Fproject-config~master~I92f303f1bb2c4f08fe11c42d10cc6c01bf5f54c6,openstack/project-config,master,I92f303f1bb2c4f08fe11c42d10cc6c01bf5f54c6,nodepool config : add ZUUL_USER_SSH_KEY,ABANDONED,2020-03-16 03:08:07.000000000,2020-03-17 23:28:25.000000000,,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 03:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0058602ec5e7f43014be86c09b73288b611a13d9', 'message': ""nodepool config : add ZUUL_USER_SSH_KEY\n\nThe zuul user public key is put into the hosts by the zuul-worker\nelement [1].  This takes the public-key from ~nodepool/.ssh on the\nbuild host; this is put there via puppet driven from [2].\n\nWe don't want to have to map this into the new container-based\nbuilders.  Specify it in an environment variable from the\nconfiguration.\n\nStory: #2007407\nTask: #39072\n\n[1] https://opendev.org/openstack/project-config/src/branch/master/nodepool/elements/zuul-worker\n[2] https://opendev.org/opendev/system-config/src/commit/149d591f1fd314722b8599df1a56c236f8305d2d/manifests/site.pp#L651\n\nChange-Id: I92f303f1bb2c4f08fe11c42d10cc6c01bf5f54c6\n""}, {'number': 2, 'created': '2020-03-16 16:57:42.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/602b81a74a9674b634d95b1899a8ad14c48b0147', 'message': ""nodepool config : add ZUUL_USER_SSH_KEY\n\nThe zuul user public key is put into the hosts by the zuul-worker\nelement [1].  This takes the public-key from ~nodepool/.ssh on the\nbuild host; this is put there via puppet driven from [2].\n\nWe don't want to have to map this into the new container-based\nbuilders.  Specify it in an environment variable from the\nconfiguration.\n\nStory: #2007407\nTask: #39072\n\n[1] https://opendev.org/openstack/project-config/src/branch/master/nodepool/elements/zuul-worker\n[2] https://opendev.org/opendev/system-config/src/commit/149d591f1fd314722b8599df1a56c236f8305d2d/manifests/site.pp#L651\n\nChange-Id: I92f303f1bb2c4f08fe11c42d10cc6c01bf5f54c6\n""}]",0,713160,602b81a74a9674b634d95b1899a8ad14c48b0147,5,2,2,7118,,,0,"nodepool config : add ZUUL_USER_SSH_KEY

The zuul user public key is put into the hosts by the zuul-worker
element [1].  This takes the public-key from ~nodepool/.ssh on the
build host; this is put there via puppet driven from [2].

We don't want to have to map this into the new container-based
builders.  Specify it in an environment variable from the
configuration.

Story: #2007407
Task: #39072

[1] https://opendev.org/openstack/project-config/src/branch/master/nodepool/elements/zuul-worker
[2] https://opendev.org/opendev/system-config/src/commit/149d591f1fd314722b8599df1a56c236f8305d2d/manifests/site.pp#L651

Change-Id: I92f303f1bb2c4f08fe11c42d10cc6c01bf5f54c6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/60/713160/2 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,0058602ec5e7f43014be86c09b73288b611a13d9,diskimages-globals, ZUUL_USER_SSH_PUBLIC_KEY: | ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDh5u0DWNi0d3uqI82izAxVTUTrGl36L3szEqV9WrilGmxaTtp9X7HrktJ5J+rvxQqz39llTf1v7iYA4CNKto/48RBAB0mKEEI4x4iw+fu/BLU7nu7ewSfXLUxHahxaTgIk2KcbegknD5NzMjalyfNfgTPDGv8BjwHeeNdZmJMBvPFGu6fO48M4yK1tiQn0kAkaH4oII/M4pyF8vy9tPTODAD7RvnMvQAb08LZZvE/IPzJAHNXFRb1v+DBa38fOvdyaz/nibrsxiOWZxQVLgjYciUeDy1xvXADaWlqvxmLy+90LHbJFbGxK4AN0mWfwBiUMVyxZjkun39pjTNl2k09OhOq+R52UqnehMc4eBdZCddnCUq4/efbFCJkqe5wY+SE8fYybJjauUL64zyrwf6yfWkXvPVHWa9Y+NCmvH8PCBUcsQnwO7l/Yb4N+8+u6zkODyuc9wLAY+DpnptE3plXtvUs5negC4fvJSnOHpWXuoi9yzp7IlPf6fSjMMDQo0JjCYJwazdzqrIH2VSCcfHAqWF0ECR8IgwZV1bp0xFe0UN0Gjsgkozqf8rvs1AYyTSeD19Wg9j+crTke8E1sfoI/qFzHwzBQFKJ+2l0cs7pZWJBARlhbt1j1IouS2aH+74xwsavRhBz4IsFTPqWiP6JTrgk5cgKRnTqInzNfdaLeUw== zuul-worker@openstack.org,,2,0
openstack%2Fnova~master~Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9,openstack/nova,master,Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9,Use fair locks in resource tracker,MERGED,2020-03-05 18:22:53.000000000,2020-03-17 23:20:00.000000000,2020-03-17 02:25:34.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29100}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-05 18:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a454b349ba74c62017197d063caf8c50b957caca', 'message': 'Use fair locks in resource tracker\n\nWhen the resource tracker has to lock a compute host for updates or\ninspection, it uses a single semaphore. In most cases, this is fine, as\na compute process only is tracking one hypervisor. However, in Ironic, it\'s\npossible for one compute process to track many hypervisors. In this\ncase, wait queues for instance claims can get ""stuck"" briefly behind\nlonger processing loops such as the update_resources periodic job. The\nreason this is possible is because the oslo.lockutils synchronized\nlibrary does not use fair locks by default. When a lock is released, one\nof the threads waiting for the lock is randomly allowed to take the lock\nnext. A fair lock ensures that the thread that next requested the lock\nwill be allowed to take it.\n\nThis should ensure that instance claim requests do not have a chance of\nlosing the lock contest, which should ensure that instance build\nrequests do not queue unnecessarily behind long-running tasks.\n\nChange-Id: Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9\nRelated-Bug: #1864122\n'}, {'number': 2, 'created': '2020-03-09 16:05:08.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ed9f9dac59c36cdda54a9852a1f93939b3ebbc3', 'message': 'Use fair locks in resource tracker\n\nWhen the resource tracker has to lock a compute host for updates or\ninspection, it uses a single semaphore. In most cases, this is fine, as\na compute process only is tracking one hypervisor. However, in Ironic, it\'s\npossible for one compute process to track many hypervisors. In this\ncase, wait queues for instance claims can get ""stuck"" briefly behind\nlonger processing loops such as the update_resources periodic job. The\nreason this is possible is because the oslo.lockutils synchronized\nlibrary does not use fair locks by default. When a lock is released, one\nof the threads waiting for the lock is randomly allowed to take the lock\nnext. A fair lock ensures that the thread that next requested the lock\nwill be allowed to take it.\n\nThis should ensure that instance claim requests do not have a chance of\nlosing the lock contest, which should ensure that instance build\nrequests do not queue unnecessarily behind long-running tasks.\n\nThis includes bumping the oslo.concurrency dependency; fair locks were\nadded in 3.29.0 (I37577becff4978bf643c65fa9bc2d78d342ea35a).\n\nChange-Id: Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9\nRelated-Bug: #1864122\n'}]",0,711528,1ed9f9dac59c36cdda54a9852a1f93939b3ebbc3,49,14,2,29100,,,0,"Use fair locks in resource tracker

When the resource tracker has to lock a compute host for updates or
inspection, it uses a single semaphore. In most cases, this is fine, as
a compute process only is tracking one hypervisor. However, in Ironic, it's
possible for one compute process to track many hypervisors. In this
case, wait queues for instance claims can get ""stuck"" briefly behind
longer processing loops such as the update_resources periodic job. The
reason this is possible is because the oslo.lockutils synchronized
library does not use fair locks by default. When a lock is released, one
of the threads waiting for the lock is randomly allowed to take the lock
next. A fair lock ensures that the thread that next requested the lock
will be allowed to take it.

This should ensure that instance claim requests do not have a chance of
losing the lock contest, which should ensure that instance build
requests do not queue unnecessarily behind long-running tasks.

This includes bumping the oslo.concurrency dependency; fair locks were
added in 3.29.0 (I37577becff4978bf643c65fa9bc2d78d342ea35a).

Change-Id: Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9
Related-Bug: #1864122
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/711528/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,a454b349ba74c62017197d063caf8c50b957caca,bug/1864122," @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE, fair=True)", @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE),12,12
openstack%2Fmagnum~master~I13aa0c58bf168bc069edf1d5c0187f89011fffdb,openstack/magnum,master,I13aa0c58bf168bc069edf1d5c0187f89011fffdb,Update default calico_ipv4pool,MERGED,2020-03-12 23:06:50.000000000,2020-03-17 22:59:57.000000000,2020-03-17 22:57:39.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-12 23:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c5a83c0e50ede97318f6bdbabaf48eda8d449b18', 'message': 'Update default calico_ipv4pool\n\nTask: 39052\nStory: 2007426\n\nChange-Id: I13aa0c58bf168bc069edf1d5c0187f89011fffdb\n'}, {'number': 2, 'created': '2020-03-16 22:33:17.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d342fc0ad94eedb8275aaf9bf6c23f19de262097', 'message': 'Update default calico_ipv4pool\n\nThe current default Calico IPv4 CIDR 192.168.0.0/16  is too common and \nit has bring us some IP conflicts troubles on production. This patch is\nproposing to replace it with a rare CIDR range.\n\nTask: 39052\nStory: 2007426\n\nChange-Id: I13aa0c58bf168bc069edf1d5c0187f89011fffdb\n'}]",0,712815,d342fc0ad94eedb8275aaf9bf6c23f19de262097,15,4,2,6484,,,0,"Update default calico_ipv4pool

The current default Calico IPv4 CIDR 192.168.0.0/16  is too common and 
it has bring us some IP conflicts troubles on production. This patch is
proposing to replace it with a rare CIDR range.

Task: 39052
Story: 2007426

Change-Id: I13aa0c58bf168bc069edf1d5c0187f89011fffdb
",git fetch https://review.opendev.org/openstack/magnum refs/changes/15/712815/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml']",4,c5a83c0e50ede97318f6bdbabaf48eda8d449b18,story/2007426-39052," default: ""10.100.0.0/16"""," default: ""192.168.0.0/16""",4,4
openstack%2Ftripleo-heat-templates~master~Ide91bd5956bcbbec36d865865c32cc6430d59a49,openstack/tripleo-heat-templates,master,Ide91bd5956bcbbec36d865865c32cc6430d59a49,ControlPlaneSubnetCidr in net_vip_map_external,MERGED,2020-02-26 19:15:01.000000000,2020-03-17 22:45:30.000000000,2020-02-28 05:24:20.000000000,"[{'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-26 19:15:01.000000000', 'files': ['network/ports/net_vip_map_external_v6.j2.yaml', 'network/ports/net_vip_map_external.j2.yaml', 'releasenotes/notes/add-ControlPlaneSubnetCidr-to-net_vip_map_external-c2c83431feaf7f35.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6167279363fe8e69115d707ae77d4a05006e9e05', 'message': 'ControlPlaneSubnetCidr in net_vip_map_external\n\nnetwork/ports/net_vip_map_external.j2.yaml needs the\nControlPlaneSubnetCidr parameter, since the resource\nin overcloud.yaml is passing the property.\n\nChange-Id: Ide91bd5956bcbbec36d865865c32cc6430d59a49\nCloses-Bug: #1864912\n'}]",0,710120,6167279363fe8e69115d707ae77d4a05006e9e05,12,4,1,24245,,,0,"ControlPlaneSubnetCidr in net_vip_map_external

network/ports/net_vip_map_external.j2.yaml needs the
ControlPlaneSubnetCidr parameter, since the resource
in overcloud.yaml is passing the property.

Change-Id: Ide91bd5956bcbbec36d865865c32cc6430d59a49
Closes-Bug: #1864912
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/710120/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/ports/net_vip_map_external_v6.j2.yaml', 'network/ports/net_vip_map_external.j2.yaml', 'releasenotes/notes/add-ControlPlaneSubnetCidr-to-net_vip_map_external-c2c83431feaf7f35.yaml']",3,6167279363fe8e69115d707ae77d4a05006e9e05,bug/1864912,--- fixes: - | The parameter ``ControlPlaneSubnetCidr`` was missing in the ``network/ports/net_vip_map_external.j2.yaml`` and ``network/ports/net_vip_map_external_v6.j2.yaml`` template files. This caused deployment failure since the ``VipMap`` resource pass this property. (See Bug: `#1864912 <https://bugs.launchpad.net/tripleo/+bug/1864912>`_) ,,22,0
openstack%2Ftripleo-ansible~master~If0d4cc6590105808a07569b60877eb440f1dd6d1,openstack/tripleo-ansible,master,If0d4cc6590105808a07569b60877eb440f1dd6d1,fix all tripleo_container_* molecule jobs on centos8,MERGED,2020-03-17 14:49:01.000000000,2020-03-17 22:34:23.000000000,2020-03-17 22:34:22.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-03-17 14:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/74d2132e41b6d77428610abf865a7dd3acdf4d9a', 'message': 'WIP - fix all tripleo_container_* molecule jobs on centos8\n\nChange-Id: If0d4cc6590105808a07569b60877eb440f1dd6d1\nCloses-Bug: #1867787\n'}, {'number': 2, 'created': '2020-03-17 15:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b63c8db016d4c22b576fd8b13a7a6fec1ea4de5', 'message': 'fix all tripleo_container_* molecule jobs on centos8\n\n- --systemd needs to be given with a string (default to true, so since\n  we used that argument we want true).\n- Add fedora registry in the list of container registries to strip when\n  figuring out what image is deployed  in podman_container (for\n  idempotency). This code should be improved in a future patch to stop\n  hardcoding these registries and find another way to figure out the\n  image name.\n\nChange-Id: If0d4cc6590105808a07569b60877eb440f1dd6d1\nCloses-Bug: #1867787\n'}, {'number': 3, 'created': '2020-03-17 15:44:40.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/prepare.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6af37d7a442c451f125e397313f446efa89bf3a0', 'message': 'fix all tripleo_container_* molecule jobs on centos8\n\n- --systemd needs to be given with a string (default to true, so since\n  we used that argument we want true).\n- Add fedora registry in the list of container registries to strip when\n  figuring out what image is deployed  in podman_container (for\n  idempotency). This code should be improved in a future patch to stop\n  hardcoding these registries and find another way to figure out the\n  image name.\n\nChange-Id: If0d4cc6590105808a07569b60877eb440f1dd6d1\nCloses-Bug: #1867787\n'}]",1,713464,6af37d7a442c451f125e397313f446efa89bf3a0,15,6,3,3153,,,0,"fix all tripleo_container_* molecule jobs on centos8

- --systemd needs to be given with a string (default to true, so since
  we used that argument we want true).
- Add fedora registry in the list of container registries to strip when
  figuring out what image is deployed  in podman_container (for
  idempotency). This code should be improved in a future patch to stop
  hardcoding these registries and find another way to figure out the
  image name.

Change-Id: If0d4cc6590105808a07569b60877eb440f1dd6d1
Closes-Bug: #1867787
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/713464/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/prepare.yml']",4,74d2132e41b6d77428610abf865a7dd3acdf4d9a,centos8," command: ""podman run -itd --systemd --name={{ item }} fedora bash"""," command: ""podman run -itd --systemd --name {{ item }} fedora bash""",4,4
openstack%2Fkolla-ansible~stable%2Ftrain~Ia840f4b67043df4eaa654f47673dcdc973f13d9c,openstack/kolla-ansible,stable/train,Ia840f4b67043df4eaa654f47673dcdc973f13d9c,Make Fluentd config folders readable,MERGED,2020-03-17 18:55:34.000000000,2020-03-17 22:32:07.000000000,2020-03-17 22:30:28.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 18:55:34.000000000', 'files': ['ansible/roles/common/templates/fluentd.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f80a10435448f5a5cdc16b5aab99ca84fec1d076', 'message': 'Make Fluentd config folders readable\n\nCurrently, config folders lack the execute bit so Fluentd\ncannot read the config and just does nothing when it starts up. This\nchange explicitly sets the execute bit on folders which need it,\nrather than doing it in a more generic way which is more risky from\na security perspective.\n\nChange-Id: Ia840f4b67043df4eaa654f47673dcdc973f13d9c\nCloses-Bug: #1867754\n(cherry picked from commit c92378d7881927d46ff5d485edcf25989c0c4170)\n'}]",0,713513,f80a10435448f5a5cdc16b5aab99ca84fec1d076,9,3,1,14826,,,0,"Make Fluentd config folders readable

Currently, config folders lack the execute bit so Fluentd
cannot read the config and just does nothing when it starts up. This
change explicitly sets the execute bit on folders which need it,
rather than doing it in a more generic way which is more risky from
a security perspective.

Change-Id: Ia840f4b67043df4eaa654f47673dcdc973f13d9c
Closes-Bug: #1867754
(cherry picked from commit c92378d7881927d46ff5d485edcf25989c0c4170)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/713513/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/fluentd.json.j2'],1,f80a10435448f5a5cdc16b5aab99ca84fec1d076,bug/1867754-stable/train,"{%- macro config_directory_permissions(dir) -%} { ""path"": ""{{ fluentd_dir }}/{{ dir }}"", ""owner"": ""{{ fluentd_user }}:{{ fluentd_user }}"", ""perm"": ""0700"" } {%- endmacro -%} }, {# Allow Fluentd to read configuration from folders #} {{ config_directory_permissions(""input"") }}, {{ config_directory_permissions(""filter"") }}, {{ config_directory_permissions(""format"") }}, {{ config_directory_permissions(""output"") }}", },14,1
openstack%2Fkolla~master~I18a29dc4144fa53d371a6c5533e35181970429b0,openstack/kolla,master,I18a29dc4144fa53d371a6c5533e35181970429b0,base: fix pinning of libvirt for aarch64,MERGED,2020-03-17 11:12:59.000000000,2020-03-17 22:19:24.000000000,2020-03-17 22:17:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 11:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ba83b68a9df7575e932a57031b4175b953e8bd48', 'message': 'base: fix pinning of libvirt for aarch64\n\nChange https://review.opendev.org/#/c/712987/ added pinning for kibana\nand libvirt. In some cases it fails ;(\n\nThis version works properly.\n\nChange-Id: I18a29dc4144fa53d371a6c5533e35181970429b0\n'}, {'number': 2, 'created': '2020-03-17 13:26:01.000000000', 'files': ['docker/base/apt_preferences.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/98392a0c0ae24e704dc18d00cb296507ad5cc7a7', 'message': 'base: fix pinning of libvirt for aarch64\n\nChange https://review.opendev.org/#/c/712987/ added pinning for kibana\nand libvirt. In some cases it fails ;(\n\nThis version works properly.\n\nChange-Id: I18a29dc4144fa53d371a6c5533e35181970429b0\n'}]",0,713403,98392a0c0ae24e704dc18d00cb296507ad5cc7a7,20,4,2,24072,,,0,"base: fix pinning of libvirt for aarch64

Change https://review.opendev.org/#/c/712987/ added pinning for kibana
and libvirt. In some cases it fails ;(

This version works properly.

Change-Id: I18a29dc4144fa53d371a6c5533e35181970429b0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/03/713403/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/apt_preferences.debian'],1,ba83b68a9df7575e932a57031b4175b953e8bd48,," # We need fixed libvirt for aarch64 Package: *libvirt* Pin: release o=obs://private/home:marcin.juszkiewicz/debian-buster Pin-Priority: 600 # on x86-64 we want libvirt from Debian Package: *libvirt* Pin: release o=Debian,b=amd64 Pin-Priority: 700 # on ppc64le we want libvirt from Debian Package: *libvirt* Pin: release o=Debian,b=ppc64le Pin-Priority: 700","# Unless it is libvirt (on aarch64) Package: *libvirt* Pin: release o=obs://private/home:marcin.juszkiewicz/debian-buster,b=arm64 Pin-Priority: 600 ",15,5
openstack%2Fbarbican-tempest-plugin~master~I600ac88dbed8697cd1efe009fd46195f934f3eb6,openstack/barbican-tempest-plugin,master,I600ac88dbed8697cd1efe009fd46195f934f3eb6,Remove use of deprecated config options for volume API selection,MERGED,2019-12-12 16:53:04.000000000,2020-03-17 21:53:25.000000000,2020-03-17 21:53:25.000000000,"[{'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-12 16:53:04.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/barbican_manager.py', 'barbican_tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/48d10b8be072f934faa9c82c53bfb9580844a934', 'message': 'Remove use of deprecated config options for volume API selection\n\nTempest has moved the Volume APIs testing to v3 as default and can be run\nunder v2 API via catalog_type.\n- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)\n\nBelow config options were deprecated since Rocky and now Tempest is going\nto remove those (Needed-By patch):\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nChange-Id: I600ac88dbed8697cd1efe009fd46195f934f3eb6\nNeeded-By: https://review.opendev.org/#/c/698754/\n'}]",0,698757,48d10b8be072f934faa9c82c53bfb9580844a934,13,5,1,8556,,,0,"Remove use of deprecated config options for volume API selection

Tempest has moved the Volume APIs testing to v3 as default and can be run
under v2 API via catalog_type.
- https://review.opendev.org/#/q/topic:volume-default-testing-v3+(status:open+OR+status:merged)

Below config options were deprecated since Rocky and now Tempest is going
to remove those (Needed-By patch):
    * ``CONF.volume-feature-enabled.api_v2``
    * ``CONF.volume-feature-enabled.api_v3``

Change-Id: I600ac88dbed8697cd1efe009fd46195f934f3eb6
Needed-By: https://review.opendev.org/#/c/698754/
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/57/698757/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/scenario/barbican_manager.py', 'barbican_tempest_plugin/tests/scenario/manager.py']",2,48d10b8be072f934faa9c82c53bfb9580844a934,volume-default-testing-v3, cls.volumes_client = cls.os_primary.volumes_client_latest cls.snapshots_client = cls.os_primary.snapshots_client_latest, if (CONF.volume_feature_enabled.api_v2 or CONF.volume_feature_enabled.api_v3): cls.volumes_client = cls.os_primary.volumes_client_latest cls.snapshots_client = cls.os_primary.snapshots_client_latest,6,10
openstack%2Fbarbican-tempest-plugin~master~I557159bea7c749202ef327995754a7f54b58028c,openstack/barbican-tempest-plugin,master,I557159bea7c749202ef327995754a7f54b58028c,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-01-23 23:10:28.000000000,2020-03-17 21:53:24.000000000,2020-03-17 21:53:24.000000000,"[{'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-01-23 23:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/7b24b11a7741468f51dc7332073cdb9faa9cfffc', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nbarbican-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I557159bea7c749202ef327995754a7f54b58028c\n'}, {'number': 2, 'created': '2020-03-03 14:11:00.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/1bf0dbb566e59e20343c274eb6f8a9ae8e24d3be', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nbarbican-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I557159bea7c749202ef327995754a7f54b58028c\n'}]",4,704083,1bf0dbb566e59e20343c274eb6f8a9ae8e24d3be,16,6,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

barbican-tempest-plugin is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I557159bea7c749202ef327995754a7f54b58028c
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/83/704083/2 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,7b24b11a7741468f51dc7332073cdb9faa9cfffc,drop-py27-support,"minversion = 3.1.1 envlist = py37,pypy,pep8ignore_basepython_conflict = Truebasepython = python3","minversion = 2.0 envlist = py35,py27,pypy,pep8",6,5
openstack%2Fpython-glanceclient~stable%2Ftrain~Ic6cb15670a42d0cea424f58d6a1d85d5471e162e,openstack/python-glanceclient,stable/train,Ic6cb15670a42d0cea424f58d6a1d85d5471e162e,Remove v1 tests,MERGED,2020-03-11 19:05:43.000000000,2020-03-17 21:50:37.000000000,2020-03-17 21:46:58.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 19:05:43.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/fd83a8eee7d672076413369497a6602025166c4d', 'message': 'Remove v1 tests\n\nChange-Id: Ic6cb15670a42d0cea424f58d6a1d85d5471e162e\n(cherry picked from commit 993406d57d933cd4f789f97b48cf4d7b5b0b9bc4)\n'}]",1,712537,fd83a8eee7d672076413369497a6602025166c4d,8,4,1,8122,,,0,"Remove v1 tests

Change-Id: Ic6cb15670a42d0cea424f58d6a1d85d5471e162e
(cherry picked from commit 993406d57d933cd4f789f97b48cf4d7b5b0b9bc4)
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/37/712537/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,fd83a8eee7d672076413369497a6602025166c4d,stable/train-remove-v1-tests,,[testenv:functional-v1] # TODO(rosmaita): remove this testenv at the beginning # of the 'S' cycle setenv = OS_TEST_PATH = ./glanceclient/tests/functional/v1 OS_TESTENV_NAME = {envname} whitelist_externals = bash commands = bash tools/fix_ca_bundle.sh stestr run --slowest {posargs} ,0,62
openstack%2Fwhitebox-tempest-plugin~master~Iec744136f10581d7298db8cb488d245e63a3262c,openstack/whitebox-tempest-plugin,master,Iec744136f10581d7298db8cb488d245e63a3262c,Add nova_libvirt service param in conf and stop method in client,ABANDONED,2019-11-22 17:45:38.000000000,2020-03-17 21:29:59.000000000,,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 31239}]","[{'number': 1, 'created': '2019-11-22 17:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/70bbf09468564b6e85f43cd3a1aa9f81a85b9ee5', 'message': 'Add nova_libvirt service param in conf and stop method in client\n\nThis will help us to start/stop nova_libvirt service\nin compute node with the help of service manager and ssh client\n\nTemplate for tempest.conf param for nova_libvirt\n[whitebox-nova-libvirt]\nconfig_path = #configuration path\nstop_command = #command to stop nova_libvirt\nrestart_command = #command to restart nova_libvirt\n\nChange-Id: Iec744136f10581d7298db8cb488d245e63a3262c\n'}, {'number': 2, 'created': '2019-11-22 19:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/3da1e4dbbf9dd61fd4ca614ee9940fe21186ce27', 'message': 'Add nova_libvirt service param in conf and stop method in client\n\nThis will help us to start/stop nova_libvirt service\nin compute node with the help of service manager and ssh client\n\nTemplate for tempest.conf param for nova_libvirt\n[whitebox-nova-libvirt]\nconfig_path = #configuration path\nstop_command = #command to stop nova_libvirt\nrestart_command = #command to restart nova_libvirt\n\nChange-Id: Iec744136f10581d7298db8cb488d245e63a3262c\n'}, {'number': 3, 'created': '2019-11-22 20:02:49.000000000', 'files': ['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/plugin.py', 'whitebox_tempest_plugin/config.py', 'whitebox_tempest_plugin/tests/test_clients.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/6f02ad8f0d494844261b834b410d1bb2237ef9f7', 'message': 'Add nova_libvirt service param in conf and stop method in client\n\nThis will help us to start/stop nova_libvirt service\nin compute node with the help of service manager and ssh client\n\nTemplate for tempest.conf param for nova_libvirt\n[whitebox-nova-libvirt]\nconfig_path = #configuration path\nstop_command = #command to stop nova_libvirt\nrestart_command = #command to restart nova_libvirt\n\nChange-Id: Iec744136f10581d7298db8cb488d245e63a3262c\n'}]",0,695745,6f02ad8f0d494844261b834b410d1bb2237ef9f7,10,3,3,31239,,,0,"Add nova_libvirt service param in conf and stop method in client

This will help us to start/stop nova_libvirt service
in compute node with the help of service manager and ssh client

Template for tempest.conf param for nova_libvirt
[whitebox-nova-libvirt]
config_path = #configuration path
stop_command = #command to stop nova_libvirt
restart_command = #command to restart nova_libvirt

Change-Id: Iec744136f10581d7298db8cb488d245e63a3262c
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/45/695745/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/plugin.py', 'whitebox_tempest_plugin/config.py', 'whitebox_tempest_plugin/tests/test_clients.py']",4,70bbf09468564b6e85f43cd3a1aa9f81a85b9ee5,," def test_stop(self): self.flags(stop_command='fake stop command', group='whitebox-nova-libvirt') service = clients.ServiceManager('fake-host', 'nova-libvirt') with mock.patch.object(service, 'execute') as mock_exec: service.stop() mock_exec.assert_called_with('fake stop command', sudo=True) ",,35,0
openstack%2Fdevstack~master~Ia60550b505a7b78279f210e06bd05340cb9da310,openstack/devstack,master,Ia60550b505a7b78279f210e06bd05340cb9da310,WIP: Always set keystone's identity backend to sql,ABANDONED,2017-08-11 22:07:56.000000000,2020-03-17 21:09:13.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 10118}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-08-11 22:07:56.000000000', 'files': ['lib/keystone'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a92799596f8c96724bd38d1997c115f1778303d1', 'message': ""WIP: Always set keystone's identity backend to sql\n\nChange-Id: Ia60550b505a7b78279f210e06bd05340cb9da310\nCloses-Bug: 1643301\n""}]",0,493249,a92799596f8c96724bd38d1997c115f1778303d1,9,4,1,5046,,,0,"WIP: Always set keystone's identity backend to sql

Change-Id: Ia60550b505a7b78279f210e06bd05340cb9da310
Closes-Bug: 1643301
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/493249/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/keystone'],1,a92799596f8c96724bd38d1997c115f1778303d1,bug/1643301," iniset $KEYSTONE_CONF identity driver ""sql"""," iniset $KEYSTONE_CONF identity driver ""$KEYSTONE_IDENTITY_BACKEND""",1,1
openstack%2Ftrove~master~I799f7b30e1af396a8ae540cff2ba8b548a23f82c,openstack/trove,master,I799f7b30e1af396a8ae540cff2ba8b548a23f82c,Delete error volumes when deleting instance,MERGED,2020-03-17 01:22:14.000000000,2020-03-17 21:09:11.000000000,2020-03-17 12:36:20.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 01:22:14.000000000', 'files': ['trove/instance/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/513e0dd3cd27790718b31c6d0d4b556bd6de0793', 'message': 'Delete error volumes when deleting instance\n\nBackport candidate.\n\nChange-Id: I799f7b30e1af396a8ae540cff2ba8b548a23f82c\nStory: 2007436\nTask: 39083\n'}]",0,713357,513e0dd3cd27790718b31c6d0d4b556bd6de0793,11,2,1,6732,,,0,"Delete error volumes when deleting instance

Backport candidate.

Change-Id: I799f7b30e1af396a8ae540cff2ba8b548a23f82c
Story: 2007436
Task: 39083
",git fetch https://review.opendev.org/openstack/trove refs/changes/57/713357/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/instance/models.py'],1,513e0dd3cd27790718b31c6d0d4b556bd6de0793,fix-volume," if volume.status in [""available"", ""error""]: LOG.info(""Deleting volume %s for instance %s"", self.volume_id, self.id)"," if volume.status == ""available"":",3,1
openstack%2Fcharm-hacluster~master~I3b7d3b11d830df49ef1e4320f2cb68dc64ba06f6,openstack/charm-hacluster,master,I3b7d3b11d830df49ef1e4320f2cb68dc64ba06f6,Enable the py38 target,MERGED,2020-03-17 20:15:18.000000000,2020-03-17 20:53:42.000000000,2020-03-17 20:53:42.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-03-17 20:15:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/2520749d1b97f1aaf190cb3bea54e2e669029a41', 'message': 'Enable the py38 target\n\nThe unit tests pass with python3.8 but the tox target was missing.\n\nChange-Id: I3b7d3b11d830df49ef1e4320f2cb68dc64ba06f6\n'}]",0,713529,2520749d1b97f1aaf190cb3bea54e2e669029a41,7,3,1,20805,,,0,"Enable the py38 target

The unit tests pass with python3.8 but the tox target was missing.

Change-Id: I3b7d3b11d830df49ef1e4320f2cb68dc64ba06f6
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/29/713529/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2520749d1b97f1aaf190cb3bea54e2e669029a41,py38,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ,,5,0
openstack%2Fopenstack-ansible-os_heat~master~Id853b46de4323b605ff6544b1e48bae30a0bf0a7,openstack/openstack-ansible-os_heat,master,Id853b46de4323b605ff6544b1e48bae30a0bf0a7,Refactor memcached_servers,MERGED,2020-03-16 13:42:56.000000000,2020-03-17 20:43:26.000000000,2020-03-17 20:42:04.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2020-03-16 13:42:56.000000000', 'files': ['templates/heat.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/e89dc3e5d9e3eb77c8d7d7c059d1a28f886eea9d', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: Id853b46de4323b605ff6544b1e48bae30a0bf0a7\n'}]",0,713234,e89dc3e5d9e3eb77c8d7d7c059d1a28f886eea9d,12,4,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: Id853b46de4323b605ff6544b1e48bae30a0bf0a7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/34/713234/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/heat.conf.j2', 'defaults/main.yml']",2,e89dc3e5d9e3eb77c8d7d7c059d1a28f886eea9d,memcached-refactor," - pymemcache# Memcached override heat_memcached_servers: ""{{ memcached_servers }}"" ",,5,1
openstack%2Fkolla~master~I5498141ade23219d63f34debc2b8e1330dec2e68,openstack/kolla,master,I5498141ade23219d63f34debc2b8e1330dec2e68,"CentOS 8: Switch default base image, tag as master",MERGED,2020-03-16 15:17:26.000000000,2020-03-17 20:41:22.000000000,2020-03-17 20:37:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-03-16 15:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4a4a73fd875252238016b2b312c37c114655e76f', 'message': ""CentOS 8: Switch default base image, tag as master\n\nChanges the default base tag and distro for CentOS images from 7 to 8.\n\nAlso changes the tag used by the publisher jobs for CentOS 8 images from\n'master-centos8' to 'master'.\n\nChange-Id: I5498141ade23219d63f34debc2b8e1330dec2e68\nPartially-Implements: blueprint centos-rhel-8\n""}, {'number': 2, 'created': '2020-03-16 17:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/95c741f94e4cdd4ea2b75e850a5ad3a842ec07ac', 'message': ""CentOS 8: Switch default base image, tag as master\n\nChanges the default base tag and distro for CentOS images from 7 to 8.\n\nAlso changes the tag used by the publisher jobs for CentOS 8 images from\n'master-centos8' to 'master'.\n\nChange-Id: I5498141ade23219d63f34debc2b8e1330dec2e68\nPartially-Implements: blueprint centos-rhel-8\n""}, {'number': 3, 'created': '2020-03-17 16:38:43.000000000', 'files': ['tests/playbooks/run.yml', '.zuul.d/centos.yaml', 'tests/templates/kolla-build.conf.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8294bac01bf3641452a6a39bbc4f58388838be84', 'message': ""CentOS 8: Switch default base image, tag as master\n\nChanges the default base tag and distro for CentOS images from 7 to 8.\n\nAlso changes the tag used by the publisher jobs for CentOS 8 images from\n'master-centos8' to 'master'.\n\nChange-Id: I5498141ade23219d63f34debc2b8e1330dec2e68\nPartially-Implements: blueprint centos-rhel-8\n""}]",0,713265,8294bac01bf3641452a6a39bbc4f58388838be84,23,5,3,14826,,,0,"CentOS 8: Switch default base image, tag as master

Changes the default base tag and distro for CentOS images from 7 to 8.

Also changes the tag used by the publisher jobs for CentOS 8 images from
'master-centos8' to 'master'.

Change-Id: I5498141ade23219d63f34debc2b8e1330dec2e68
Partially-Implements: blueprint centos-rhel-8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/713265/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', 'tests/test_build.py', '.zuul.d/centos.yaml', 'tests/templates/kolla-build.conf.j2', 'tox.ini', 'kolla/common/config.py']",6,4a4a73fd875252238016b2b312c37c114655e76f,bp/centos-rhel-8," 'centos': '8', 'rhel': '8', 'centos': '8', 'rhel': '8',"," 'centos': '7', 'rhel': '7', 'centos': '7', 'rhel': '7',",6,52
openstack%2Fkolla-ansible~stable%2Frocky~Ia73b5665cece523bb822f6a223335f6fae94fb6a,openstack/kolla-ansible,stable/rocky,Ia73b5665cece523bb822f6a223335f6fae94fb6a,Fix native openvswitch firewall driver in neutron-openvswitch-agent,MERGED,2020-03-17 17:07:07.000000000,2020-03-17 20:41:12.000000000,2020-03-17 20:38:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-03-17 17:07:07.000000000', 'files': ['releasenotes/notes/bug-1867506-3613746b8647cd73.yaml', 'ansible/roles/neutron/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ecc2f73707388924b09e88c6872ec47cf207a78', 'message': 'Fix native openvswitch firewall driver in neutron-openvswitch-agent\n\novs-ofctl is still being run by neutron-openvswitch-agent.\nPotential removal is scheduled for Victoria.\nUntil then, we have to mount /run/openvswitch in there.\n\nChange-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a\nCloses-bug: #1867506\n(cherry picked from commit cf918fbc294be35f662d6b2851f3cdc00bc2b1bb)\n'}]",0,713490,3ecc2f73707388924b09e88c6872ec47cf207a78,9,3,1,30491,,,0,"Fix native openvswitch firewall driver in neutron-openvswitch-agent

ovs-ofctl is still being run by neutron-openvswitch-agent.
Potential removal is scheduled for Victoria.
Until then, we have to mount /run/openvswitch in there.

Change-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a
Closes-bug: #1867506
(cherry picked from commit cf918fbc294be35f662d6b2851f3cdc00bc2b1bb)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/713490/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1867506-3613746b8647cd73.yaml', 'ansible/roles/neutron/defaults/main.yml']",2,3ecc2f73707388924b09e88c6872ec47cf207a78,bug/1867506," - ""/run/openvswitch:/run/openvswitch:shared""",,7,0
openstack%2Fkeystone~master~I53f844fae775d9b30d9b7f867bac0ed873b86bc7,openstack/keystone,master,I53f844fae775d9b30d9b7f867bac0ed873b86bc7,Copy shibboleth logs in federation jobs,MERGED,2020-01-14 18:15:40.000000000,2020-03-17 20:38:01.000000000,2020-03-17 20:30:26.000000000,"[{'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-01-14 18:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dddc755d6b5a81bf2993ed3e76b8669d2ae488b0', 'message': 'Copy shibboleth logs in federation jobs\n\nEnsure that Zuul publishes both the shibboleth config and the shibboleth\nlogs in the job artifacts so that we can debug issues with the SAML SP.\n\nChange-Id: I53f844fae775d9b30d9b7f867bac0ed873b86bc7\n'}, {'number': 2, 'created': '2020-03-03 19:03:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0bbd2dd6fb50524a9a7a16cc2cc7d83bbdcb1581', 'message': 'Copy shibboleth logs in federation jobs\n\nEnsure that Zuul publishes both the shibboleth config and the shibboleth\nlogs in the job artifacts so that we can debug issues with the SAML SP.\n\nChange-Id: I53f844fae775d9b30d9b7f867bac0ed873b86bc7\n'}]",0,702500,0bbd2dd6fb50524a9a7a16cc2cc7d83bbdcb1581,14,5,2,8482,,,0,"Copy shibboleth logs in federation jobs

Ensure that Zuul publishes both the shibboleth config and the shibboleth
logs in the job artifacts so that we can debug issues with the SAML SP.

Change-Id: I53f844fae775d9b30d9b7f867bac0ed873b86bc7
",git fetch https://review.opendev.org/openstack/keystone refs/changes/00/702500/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dddc755d6b5a81bf2993ed3e76b8669d2ae488b0,copy-shib-logs, /etc/shibboleth: logs/shibboleth_config /var/log/shibboleth: logs /etc/shibboleth: logs/shibboleth_config /var/log/shibboleth: logs, /etc/shibboleth: logs /etc/shibboleth: logs,4,2
openstack%2Fneutron~master~I336ae76283f29dd226344fb454aaa0e4aac030ea,openstack/neutron,master,I336ae76283f29dd226344fb454aaa0e4aac030ea,Filter subnets on fixed_ips segment,MERGED,2020-02-24 10:34:27.000000000,2020-03-17 20:37:44.000000000,2020-03-17 20:30:20.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-24 10:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2ac67b1a0724088851e46e49410d044720d4b3a', 'message': 'Honor segment when alloc implicit ipv6-stateless\n\nFor v6_stateless IP addresses for all stateless\nsubnets within a network are implicitly included.\n\nWhen using segments implicitly allocating addresses\nacross subnets on different segments is incorrect.\nIPs from subnets on differnt segments was allocated\nwhen no host binding information was available\nbut a subnet_id in fixed_ips request was present.\n\nThis change adds filtering based on segment_id when\nimplicit address allocation on v6_stateless subnets\nis done in combination with fixed-ips being set.\n\nNo filtering is performed when fixed-ips is not set,\nin this case the allocation is either deffered or\nthe subnets returned by find_candidate_subnets() has\nalready filtered based on the host segment mapping.\n\nRelated: rhbz#1803989\nCloses-Bug: #1864225\nChange-Id: I336ae76283f29dd226344fb454aaa0e4aac030ea\n'}, {'number': 2, 'created': '2020-02-29 04:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78ede12ee93c1fab3069b83492976d81934a6da4', 'message': 'Filter subnets on fixed_ips segment\n\nFor v6_stateless IP addresses for all stateless\nsubnets within a network are implicitly included.\n\nWhen using segments implicitly allocating addresses\nacross subnets on different segments is incorrect.\nIPs from subnets on differnt segments was allocated\nwhen no host binding information was available\nbut a subnet_id in fixed_ips request was present.\n\nThis change adds filtering based on segment_id when\nfixed_ips are used. If fixed_ips are not all on the\nsame segment exception FixedIpsSubnetsNotOnSameSegment\nis raised.\n\nRelated: rhbz#1803989\nRelated-Bug: #1864333\nRelated-Bug: #1865138\nCloses-Bug: #1864225\nChange-Id: I336ae76283f29dd226344fb454aaa0e4aac030ea\n'}, {'number': 3, 'created': '2020-02-29 18:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c71febdb61720aef91dbf3ee1fc001a73c52da15', 'message': 'Filter subnets on fixed_ips segment\n\nFor v6_stateless IP addresses for all stateless\nsubnets within a network are implicitly included.\n\nWhen using segments implicitly allocating addresses\nacross subnets on different segments is incorrect.\nIPs from subnets on differnt segments was allocated\nwhen no host binding information was available\nbut a subnet_id in fixed_ips request was present.\n\nThis change adds filtering based on segment_id when\nfixed_ips are used. If fixed_ips are not all on the\nsame segment exception FixedIpsSubnetsNotOnSameSegment\nis raised.\n\nRelated: rhbz#1803989\nRelated-Bug: #1864333\nRelated-Bug: #1865138\nCloses-Bug: #1864225\nChange-Id: I336ae76283f29dd226344fb454aaa0e4aac030ea\n'}, {'number': 4, 'created': '2020-03-01 12:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2aaaae4e41eb5d0a1f48d6ab12815807f796a2f3', 'message': 'Filter subnets on fixed_ips segment\n\nFor v6_stateless IP addresses for all stateless\nsubnets within a network are implicitly included.\n\nWhen using segments implicitly allocating addresses\nacross subnets on different segments is incorrect.\nIPs from subnets on differnt segments was allocated\nwhen no host binding information was available\nbut a subnet_id in fixed_ips request was present.\n\nThis change adds filtering based on segment_id when\nfixed_ips are used. If fixed_ips are not all on the\nsame segment exception FixedIpsSubnetsNotOnSameSegment\nis raised.\n\nRelated: rhbz#1803989\nRelated-Bug: #1864333\nRelated-Bug: #1865138\nCloses-Bug: #1864225\nChange-Id: I336ae76283f29dd226344fb454aaa0e4aac030ea\n'}, {'number': 5, 'created': '2020-03-04 10:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b91c88f88a327a89593b2c6799d0fbe7605470ea', 'message': 'Filter subnets on fixed_ips segment\n\nFor v6_stateless IP addresses for all stateless\nsubnets within a network are implicitly included.\n\nWhen using segments implicitly allocating addresses\nacross subnets on different segments is incorrect.\nIPs from subnets on differnt segments was allocated\nwhen no host binding information was available\nbut a subnet_id in fixed_ips request was present.\n\nThis change adds filtering based on segment_id when\nfixed_ips are used. If fixed_ips are not all on the\nsame segment exception FixedIpsSubnetsNotOnSameSegment\nis raised.\n\nRelated: rhbz#1803989\nRelated-Bug: #1864333\nRelated-Bug: #1865138\nCloses-Bug: #1864225\nChange-Id: I336ae76283f29dd226344fb454aaa0e4aac030ea\n'}, {'number': 6, 'created': '2020-03-05 11:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1df2177461fa66cbd2a2ed23aeda3fb7d2e0e4d', 'message': 'Filter subnets on fixed_ips segment\n\nFor v6_stateless IP addresses for all stateless\nsubnets within a network are implicitly included.\n\nWhen using segments implicitly allocating addresses\nacross subnets on different segments is incorrect.\nIPs from subnets on differnt segments was allocated\nwhen no host binding information was available\nbut a subnet_id in fixed_ips request was present.\n\nThis change adds filtering based on segment_id when\nfixed_ips are used. If fixed_ips are not all on the\nsame segment exception FixedIpsSubnetsNotOnSameSegment\nis raised.\n\nRelated: rhbz#1803989\nRelated-Bug: #1864333\nRelated-Bug: #1865138\nCloses-Bug: #1864225\nChange-Id: I336ae76283f29dd226344fb454aaa0e4aac030ea\n'}, {'number': 7, 'created': '2020-03-11 14:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/769c52af1c9ce2c47ba160053368a8bc897aa598', 'message': 'Filter subnets on fixed_ips segment\n\nFor v6_stateless IP addresses for all stateless\nsubnets within a network are implicitly included.\n\nWhen using segments implicitly allocating addresses\nacross subnets on different segments is incorrect.\nIPs from subnets on differnt segments was allocated\nwhen no host binding information was available\nbut a subnet_id in fixed_ips request was present.\n\nThis change adds filtering based on segment_id when\nfixed_ips are used. If fixed_ips are not all on the\nsame segment exception FixedIpsSubnetsNotOnSameSegment\nis raised.\n\nRelated: rhbz#1803989\nRelated-Bug: #1864333\nRelated-Bug: #1865138\nCloses-Bug: #1864225\nChange-Id: I336ae76283f29dd226344fb454aaa0e4aac030ea\n'}, {'number': 8, 'created': '2020-03-12 10:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a30b8c9446897c28f4e64dc6ceb61509538b63e3', 'message': 'Filter subnets on fixed_ips segment\n\nFor v6_stateless IP addresses for all stateless\nsubnets within a network are implicitly included.\n\nWhen using segments implicitly allocating addresses\nacross subnets on different segments is incorrect.\nIPs from subnets on differnt segments was allocated\nwhen no host binding information was available\nbut a subnet_id in fixed_ips request was present.\n\nThis change adds filtering based on segment_id when\nfixed_ips are used. If fixed_ips are not all on the\nsame segment exception FixedIpsSubnetsNotOnSameSegment\nis raised.\n\nRelated: rhbz#1803989\nRelated-Bug: #1864333\nRelated-Bug: #1865138\nCloses-Bug: #1864225\nChange-Id: I336ae76283f29dd226344fb454aaa0e4aac030ea\n'}, {'number': 9, 'created': '2020-03-13 22:52:18.000000000', 'files': ['neutron/services/segments/exceptions.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/objects/subnet.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e09e72661b0b3a0f898c20d451e204aa7a17194', 'message': 'Filter subnets on fixed_ips segment\n\nFor v6_stateless IP addresses for all stateless\nsubnets within a network are implicitly included.\n\nWhen using segments implicitly allocating addresses\nacross subnets on different segments is incorrect.\nIPs from subnets on differnt segments was allocated\nwhen no host binding information was available\nbut a subnet_id in fixed_ips request was present.\n\nThis change adds filtering based on segment_id when\nfixed_ips are used. If fixed_ips are not all on the\nsame segment exception FixedIpsSubnetsNotOnSameSegment\nis raised.\n\nRelated: rhbz#1803989\nRelated-Bug: #1864333\nRelated-Bug: #1865138\nCloses-Bug: #1864225\nChange-Id: I336ae76283f29dd226344fb454aaa0e4aac030ea\n'}]",11,709444,7e09e72661b0b3a0f898c20d451e204aa7a17194,71,8,9,24245,,,0,"Filter subnets on fixed_ips segment

For v6_stateless IP addresses for all stateless
subnets within a network are implicitly included.

When using segments implicitly allocating addresses
across subnets on different segments is incorrect.
IPs from subnets on differnt segments was allocated
when no host binding information was available
but a subnet_id in fixed_ips request was present.

This change adds filtering based on segment_id when
fixed_ips are used. If fixed_ips are not all on the
same segment exception FixedIpsSubnetsNotOnSameSegment
is raised.

Related: rhbz#1803989
Related-Bug: #1864333
Related-Bug: #1865138
Closes-Bug: #1864225
Change-Id: I336ae76283f29dd226344fb454aaa0e4aac030ea
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/709444/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/exceptions.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py']",3,c2ac67b1a0724088851e46e49410d044720d4b3a,bug/1864225," filtered_ips, segment_id = (pluggable_backend. _test_fixed_ips_for_port(context, subnet['network_id'], fixed_ips, constants.DEVICE_OWNER_ROUTER_INTF, [subnet])) fixed_ips_mock = mock.Mock(return_value=(changes.add, None))"," filtered_ips = (pluggable_backend. _test_fixed_ips_for_port(context, subnet['network_id'], fixed_ips, constants.DEVICE_OWNER_ROUTER_INTF, [subnet])) fixed_ips_mock = mock.Mock(return_value=changes.add)",52,25
openstack%2Fkeystone~master~I848f168215800b42480d14f1f1905d8843ed3faa,openstack/keystone,master,I848f168215800b42480d14f1f1905d8843ed3faa,Correcting api-ref for users,MERGED,2020-03-02 10:17:11.000000000,2020-03-17 20:36:04.000000000,2020-03-17 20:30:24.000000000,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-03-02 10:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c444e539fa726fae4ddd40dd9ef1fa1d7afe85d5', 'message': ""Correcting api-ref for users\n\nThe response should not show any 'optional' with the parameters.\nThis patch removes the 'optional' from the same and also updates\nstring with the format to be used while creating api-ref in\nkeystone.\n\nChange-Id: I848f168215800b42480d14f1f1905d8843ed3faa\n""}, {'number': 2, 'created': '2020-03-06 06:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6841c6416ecf212f2c15cd4b8283467aa6db8b85', 'message': 'Correcting api-ref for users\n\nThe ""options"" is not ""optional"" in user api responses.\nThis patch removes the \'optional\' from the same and also updates\nstring with the format to be used while creating api-ref in\nkeystone.\n\nChange-Id: I848f168215800b42480d14f1f1905d8843ed3faa\n'}, {'number': 3, 'created': '2020-03-10 17:13:29.000000000', 'files': ['api-ref/source/v3/users.inc', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/271c09bb538b838e05865df034ba0f98f4a26259', 'message': 'Correcting api-ref for users\n\nThe ""options"" is not ""optional"" in user api responses.\nThis patch removes the \'optional\' from the same and also updates\nstring with the format to be used while creating api-ref in\nkeystone.\n\nChange-Id: I848f168215800b42480d14f1f1905d8843ed3faa\n'}]",2,710734,271c09bb538b838e05865df034ba0f98f4a26259,19,4,3,27621,,,0,"Correcting api-ref for users

The ""options"" is not ""optional"" in user api responses.
This patch removes the 'optional' from the same and also updates
string with the format to be used while creating api-ref in
keystone.

Change-Id: I848f168215800b42480d14f1f1905d8843ed3faa
",git fetch https://review.opendev.org/openstack/keystone refs/changes/34/710734/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/users.inc', 'api-ref/source/v3/parameters.yaml']",2,c444e539fa726fae4ddd40dd9ef1fa1d7afe85d5,710734,"response_default_project_id_body_required: description: | The ID of the default project for the user. in: body required: true type: stringresponse_user_options_body_required: description: | The resource options for the user. Only present in the response if set on the user entity. Available resource options are ``ignore_change_password_upon_first_use``, ``ignore_password_expiry``, ``ignore_lockout_failure_attempts``, ``lock_password``, ``multi_factor_auth_enabled``, and ``multi_factor_auth_rules``. in: body required: true type: object","default_project_id_response_body: description: | The ID of the default project for the user. in: body required: false type: stringuser_options_response_body: description: | The resource options for the user. Only present in the response if set on the user entity. Available resource options are ``ignore_change_password_upon_first_use``, ``ignore_password_expiry``, ``ignore_lockout_failure_attempts``, ``lock_password``, ``multi_factor_auth_enabled``, and ``multi_factor_auth_rules``. in: body required: false type: object",22,22
openstack%2Fneutron~master~I06f06fbc42c625ad2deab03a92238ae5e68d9033,openstack/neutron,master,I06f06fbc42c625ad2deab03a92238ae5e68d9033,[OVN] Switch release jobs to OVN 20.03 (v20.03.0 tag),MERGED,2020-03-03 09:44:26.000000000,2020-03-17 20:36:03.000000000,2020-03-17 20:30:17.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-03 09:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d372c40dfe2da46e9d97ef7f883661327723fa9', 'message': '[OVN] Switch release jobs to OVN 20.03\n\nOVN 20.03 is the new stable released version of OVN.\n\nChange-Id: I06f06fbc42c625ad2deab03a92238ae5e68d9033\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-03-04 10:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11c15881877d5995e26887a18b28a2e2e9293944', 'message': '[OVN] Switch release jobs to OVN 20.03\n\nOVN 20.03 is the new stable released version of OVN which is compatible\nwith the OVS 2.13 version, also bumped in this review.\n\nChange-Id: I06f06fbc42c625ad2deab03a92238ae5e68d9033\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-03-04 13:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/854768db8f2e670d356ac42a380fdb06f7164252', 'message': '[OVN] Switch release jobs to OVN 20.03 (v20.03 tag)\n\nOVN 20.03 (v20.03 tag) is the new stable released version of OVN which\nis compatible with the OVS 2.13 version, also bumped in this review.\n\nThe patch also updates the use_new_ovn_repository to strip all\nnon-numeric characters of the branch name when comparing the versions,\nthat way we can compare branch-<version> against v<version> version\nformats.\n\nChange-Id: I06f06fbc42c625ad2deab03a92238ae5e68d9033\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-03-04 13:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78261cf8eecfc2b66e9f32aecd31d0c3354ec395', 'message': '[OVN] Switch release jobs to OVN 20.03 (v20.03 tag)\n\nOVN 20.03 (v20.03 tag) is the new stable released version of OVN which\nis compatible with the OVS 2.13 version, also bumped in this review.\n\nThe patch also updates the use_new_ovn_repository to strip all\nnon-numeric characters of the branch name when comparing the versions,\nthat way we can compare branch-<version> against v<version> version\nformats.\n\nChange-Id: I06f06fbc42c625ad2deab03a92238ae5e68d9033\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-03-05 14:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7eeaf85cb5e392579c4c8de4d9bb191e9ec4412b', 'message': '[OVN] Switch release jobs to OVN 20.03 (v20.03.0 tag)\n\nOVN 20.03 (v20.03.0 tag) is the new stable released version of OVN which\nis compatible with the OVS 2.13 version, also bumped in this review.\n\nThe patch also updates the use_new_ovn_repository to strip all\nnon-numeric characters of the branch name when comparing the versions,\nthat way we can compare branch-<version> against v<version> version\nformats.\n\nChange-Id: I06f06fbc42c625ad2deab03a92238ae5e68d9033\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2020-03-11 14:38:11.000000000', 'files': ['zuul.d/tempest-singlenode.yaml', 'devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0cb072b8407d848370a38c799bd3a203a9bdf5a', 'message': '[OVN] Switch release jobs to OVN 20.03 (v20.03.0 tag)\n\nOVN 20.03 (v20.03.0 tag) is the new stable released version of OVN which\nis compatible with the OVS 2.13 version, also bumped in this review.\n\nThe patch also updates the use_new_ovn_repository to strip all\nnon-numeric characters of the branch name when comparing the versions,\nthat way we can compare branch-<version> against v<version> version\nformats.\n\nChange-Id: I06f06fbc42c625ad2deab03a92238ae5e68d9033\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",3,710962,e0cb072b8407d848370a38c799bd3a203a9bdf5a,33,9,6,6773,,,0,"[OVN] Switch release jobs to OVN 20.03 (v20.03.0 tag)

OVN 20.03 (v20.03.0 tag) is the new stable released version of OVN which
is compatible with the OVS 2.13 version, also bumped in this review.

The patch also updates the use_new_ovn_repository to strip all
non-numeric characters of the branch name when comparing the versions,
that way we can compare branch-<version> against v<version> version
formats.

Change-Id: I06f06fbc42c625ad2deab03a92238ae5e68d9033
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/710962/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,9d372c40dfe2da46e9d97ef7f883661327723fa9,ovn-ovs-version, OVN_BRANCH: branch-20.03 OVS_BRANCH: branch-2.13 OVN_BRANCH: branch-20.03 OVS_BRANCH: branch-2.13, OVN_BRANCH: branch-2.12 OVS_BRANCH: branch-2.12 OVN_BRANCH: branch-2.12 OVS_BRANCH: branch-2.12,4,4
openstack%2Frequirements~master~I78b3c7f8fc6bb0759b8a4e382ad18f43622f5b97,openstack/requirements,master,I78b3c7f8fc6bb0759b8a4e382ad18f43622f5b97,Use pyScss2 and django-pyscss2,MERGED,2020-03-13 15:35:17.000000000,2020-03-17 20:35:38.000000000,2020-03-17 20:30:22.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-03-13 15:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0328d413133209b165e1d9ee2d671827a967099c', 'message': ""Use pyScss2 and django-pyscss2\n\npyScss and django-pyscss packages are not maintained for a long time. We\ncan't use the pyScss with teh setuptools>=46.0.0, so I forked these\nproject and switch horizon to use them.\n\nChange-Id: I78b3c7f8fc6bb0759b8a4e382ad18f43622f5b97\n""}, {'number': 2, 'created': '2020-03-13 16:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/38dc71b3369b087fcd0ac2d797d519c839dd54f1', 'message': ""Use pyScss2 and django-pyscss2\n\npyScss and django-pyscss packages are not maintained for a long time. We\ncan't use the pyScss with teh setuptools>=46.0.0, so I forked these\nproject and switch horizon to use them.\n\nChange-Id: I78b3c7f8fc6bb0759b8a4e382ad18f43622f5b97\n""}, {'number': 3, 'created': '2020-03-13 19:07:05.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/67c47fb5939fa9e84ab266253cd9868308b679c9', 'message': ""Use pyScss2 and django-pyscss2\n\npyScss and django-pyscss packages are not maintained for a long time. We\ncan't use the pyScss with teh setuptools>=46.0.0, so I forked these\nproject and switch horizon to use them.\n\nChange-Id: I78b3c7f8fc6bb0759b8a4e382ad18f43622f5b97\n""}]",0,712976,67c47fb5939fa9e84ab266253cd9868308b679c9,31,8,3,1736,,,0,"Use pyScss2 and django-pyscss2

pyScss and django-pyscss packages are not maintained for a long time. We
can't use the pyScss with teh setuptools>=46.0.0, so I forked these
project and switch horizon to use them.

Change-Id: I78b3c7f8fc6bb0759b8a4e382ad18f43622f5b97
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/712976/3 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,0328d413133209b165e1d9ee2d671827a967099c,fix-pyscss,pyScss2===2.0.0django-pyscss2===3.0.0,pyScss===1.3.4django-pyscss===2.0.2,4,4
openstack%2Fkeystone~master~Id00db3f303f45daf0e25be1f1bcf6a8834cb3ea7,openstack/keystone,master,Id00db3f303f45daf0e25be1f1bcf6a8834cb3ea7,Fix caching behavior,ABANDONED,2019-08-19 15:46:27.000000000,2020-03-17 20:31:54.000000000,,"[{'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 10234}, {'_account_id': 11022}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30834}]","[{'number': 1, 'created': '2019-08-19 15:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/40f3d3700beb3e120f60ff57f2918866fe5e94f3', 'message': ""Fix caching behavior\n\nThis fixes inproper caching particulary affecting EC2 API\n(see the attached bug) by changing the _decrypt_credential method to modify\nthe copy of the credential instead of previous in-place modification.\nThis allow for proper caching of the returned value and fixes EC2 API.\nChanges in other methods are needed to support the new 'not-in-place' modification.\n\nChange-Id: Id00db3f303f45daf0e25be1f1bcf6a8834cb3ea7\nCloses-Bug:#1840647\n""}, {'number': 2, 'created': '2019-08-19 18:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3f7dda585ebf73144116ddfee4546df5289d377b', 'message': ""Fix caching behavior\n\nThis fixes inproper caching particulary affecting EC2 API\n(see the attached bug) by changing the _decrypt_credential method to modify\nthe copy of the credential instead of previous in-place modification.\nThis allow for proper caching of the returned value and fixes EC2 API.\nChanges in other methods are needed to support the new 'not-in-place' modification.\n\nChange-Id: Id00db3f303f45daf0e25be1f1bcf6a8834cb3ea7\nCloses-Bug:#1840647\n""}, {'number': 3, 'created': '2019-08-26 09:05:38.000000000', 'files': ['releasenotes/notes/bug-1840647-51bbf0e1b8d4263d.yaml', 'keystone/credential/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4ec55aec91692e533be704217b75546273ab10bc', 'message': ""Fix caching behavior\n\nThis fixes inproper caching particulary affecting EC2 API\n(see the attached bug) by changing the _decrypt_credential method to modify\nthe copy of the credential instead of previous in-place modification.\nThis allow for proper caching of the returned value and fixes EC2 API.\nChanges in other methods are needed to support the new 'not-in-place' modification.\n\nChange-Id: Id00db3f303f45daf0e25be1f1bcf6a8834cb3ea7\nCloses-Bug:#1840647\n""}]",0,677239,4ec55aec91692e533be704217b75546273ab10bc,40,11,3,30834,,,0,"Fix caching behavior

This fixes inproper caching particulary affecting EC2 API
(see the attached bug) by changing the _decrypt_credential method to modify
the copy of the credential instead of previous in-place modification.
This allow for proper caching of the returned value and fixes EC2 API.
Changes in other methods are needed to support the new 'not-in-place' modification.

Change-Id: Id00db3f303f45daf0e25be1f1bcf6a8834cb3ea7
Closes-Bug:#1840647
",git fetch https://review.opendev.org/openstack/keystone refs/changes/39/677239/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/credential/core.py'],1,40f3d3700beb3e120f60ff57f2918866fe5e94f3,bug/1840647," credential_copy = credential.copy() credential_copy['blob'] = decrypted_blob credential_copy.pop('key_hash', None) credential_copy.pop('encrypted_blob', None) return credential_copy credentials = [ self._decrypt_credential(credential) for credential in credentials ] credentials = [ self._decrypt_credential(credential) for credential in credentials ]"," credential['blob'] = decrypted_blob credential.pop('key_hash', None) credential.pop('encrypted_blob', None) return credential for credential in credentials: credential = self._decrypt_credential(credential) for credential in credentials: credential = self._decrypt_credential(credential)",13,8
openstack%2Fneutron-tempest-plugin~master~I0215731f05c7e7e4f955766ab334d8bd3de6d43f,openstack/neutron-tempest-plugin,master,I0215731f05c7e7e4f955766ab334d8bd3de6d43f,"Add test ""test_create_instance_in_network_with_attached_policy""",MERGED,2020-03-12 09:21:11.000000000,2020-03-17 20:30:29.000000000,2020-03-17 20:30:28.000000000,"[{'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 28609}, {'_account_id': 30920}, {'_account_id': 31450}]","[{'number': 1, 'created': '2020-03-12 09:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d1a0f61a022ecb8962910708477a67a607b7e272', 'message': 'Add test ""test_create_instance_in_network_with_attached_policy""\n\nThe test validates the ability to create new instances\nin a network that has attached QoS policy.\n\nChange-Id: I0215731f05c7e7e4f955766ab334d8bd3de6d43f\n'}, {'number': 2, 'created': '2020-03-12 11:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fb74e919d2c3a6d029849e8f98410651d734dacb', 'message': 'Add test ""test_create_instance_in_network_with_attached_policy""\n\nThe test validates the ability to create new instances\nin a network that has attached QoS policy.\n\nChange-Id: I0215731f05c7e7e4f955766ab334d8bd3de6d43f\n'}, {'number': 3, 'created': '2020-03-15 09:29:55.000000000', 'files': ['neutron_tempest_plugin/scenario/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5451fabce12a072447d8105334b58206daaeaa96', 'message': 'Add test ""test_create_instance_in_network_with_attached_policy""\n\nThe test validates the ability to create new instances\nin a network that has attached QoS policy.\n\nChange-Id: I0215731f05c7e7e4f955766ab334d8bd3de6d43f\n'}]",4,712626,5451fabce12a072447d8105334b58206daaeaa96,19,7,3,30920,,,0,"Add test ""test_create_instance_in_network_with_attached_policy""

The test validates the ability to create new instances
in a network that has attached QoS policy.

Change-Id: I0215731f05c7e7e4f955766ab334d8bd3de6d43f
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/26/712626/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_qos.py'],1,d1a0f61a022ecb8962910708477a67a607b7e272,attached_to_network," @decorators.idempotent_id('4eee64da-5646-11ea-82b4-0242ac130003') def test_create_instance_in_network_with_attached_policy(self): """"""The test validates the ability to create new instances in a network that has attached QoS policy. """""" network = self.create_network() qos_policy = self.os_admin.network_client.create_qos_policy( name='network-policy', shared=False)['policy'] rule = self.os_admin.network_client.create_bandwidth_limit_rule( policy_id=qos_policy['id'], max_kbps=constants.LIMIT_KILO_BITS_PER_SECOND, max_burst_kbps=constants.LIMIT_KILO_BITS_PER_SECOND) network = self.os_admin.network_client.update_network( network['id'], qos_policy_id=qos_policy['id'])['network'] self.setup_network_and_server(network=network) retrieved_net = self.client.show_network(network['id']) self.assertEqual(qos_policy['id'], retrieved_net['network']['qos_policy_id'], """"""The expected policy ID is {0}, the actual value is {1}"""""". format(qos_policy['id'], retrieved_net['network']['qos_policy_id'])) retrieved_policy = self.os_admin.network_client.show_qos_policy( retrieved_net['network']['qos_policy_id']) retrieved_rule_id = retrieved_policy['policy']['rules'][0]['id'] self.assertEqual(rule['bandwidth_limit_rule']['id'], retrieved_rule_id, """"""The expected rule ID is {0}, the actual value is {1}"""""". format(rule['bandwidth_limit_rule']['id'], retrieved_rule_id))",,39,0
openstack%2Fneutron~master~I46d80a2a4f114a6775827ab3caa61dee9f5f1361,openstack/neutron,master,I46d80a2a4f114a6775827ab3caa61dee9f5f1361,Unblock security group update with same stateful data,MERGED,2020-03-05 06:11:44.000000000,2020-03-17 20:19:35.000000000,2020-03-17 20:17:17.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 31669}]","[{'number': 1, 'created': '2020-03-05 06:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45675a39543661cad9f77acd94774f4802a2da5a', 'message': 'Unblock security group update with same stateful data\n\nChange-Id: I46d80a2a4f114a6775827ab3caa61dee9f5f1361\nBlueprint: stateless-security-groups\n'}, {'number': 2, 'created': '2020-03-05 18:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09e43691e98806acdfc01648bbd6ae0ec9efd759', 'message': 'Unblock security group update with same stateful data\n\nCloses-Bug: #1866160\nBlueprint: stateless-security-groups\n\nChange-Id: I46d80a2a4f114a6775827ab3caa61dee9f5f1361\n'}, {'number': 3, 'created': '2020-03-06 05:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c65d7d8815d2f31b2975260a0bc2483946050528', 'message': 'Unblock security group update with same stateful data\n\nCloses-Bug: #1866160\nBlueprint: stateless-security-groups\n\nChange-Id: I46d80a2a4f114a6775827ab3caa61dee9f5f1361\n'}, {'number': 4, 'created': '2020-03-06 12:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65c5182071264847c97729f72ca6510cb46e86ab', 'message': 'Unblock security group update with same stateful data\n\nCloses-Bug: #1866160\nBlueprint: stateless-security-groups\n\nChange-Id: I46d80a2a4f114a6775827ab3caa61dee9f5f1361\n'}, {'number': 5, 'created': '2020-03-06 17:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/414abcbd35738e38947ffb3c366cd161243671f2', 'message': 'Unblock security group update with same stateful data\n\nCloses-Bug: #1866160\nBlueprint: stateless-security-groups\n\nChange-Id: I46d80a2a4f114a6775827ab3caa61dee9f5f1361\n'}, {'number': 6, 'created': '2020-03-11 04:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adc5c6dd2a73a3ccb7d6e46456cbca3a0b2fd248', 'message': 'Unblock security group update with same stateful data\n\nCloses-Bug: #1866160\nBlueprint: stateless-security-groups\n\nChange-Id: I46d80a2a4f114a6775827ab3caa61dee9f5f1361\n'}, {'number': 7, 'created': '2020-03-11 12:39:46.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b56e60140dd07f24fd8f1adf08ae8b213cea4ca', 'message': 'Unblock security group update with same stateful data\n\nCloses-Bug: #1866160\nBlueprint: stateless-security-groups\n\nChange-Id: I46d80a2a4f114a6775827ab3caa61dee9f5f1361\n'}]",11,711385,2b56e60140dd07f24fd8f1adf08ae8b213cea4ca,66,9,7,31669,,,0,"Unblock security group update with same stateful data

Closes-Bug: #1866160
Blueprint: stateless-security-groups

Change-Id: I46d80a2a4f114a6775827ab3caa61dee9f5f1361
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/711385/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,45675a39543661cad9f77acd94774f4802a2da5a,bug/1866160," if 'stateful' in s and s['stateful'] != sg.stateful: filters = {'security_group_id': [id]} ports = self._get_port_security_group_bindings(context, filters) if ports: raise ext_sg.SecurityGroupInUse(id=id)"," if 'stateful' in s: filters = {'security_group_id': [id]} with db_api.CONTEXT_READER.using(context): ports = self._get_port_security_group_bindings(context, filters) if ports: raise ext_sg.SecurityGroupInUse(id=id) ",6,8
openstack%2Fopenstack-zuul-jobs~master~I36fc6b16ed00fe017ce8256ac2ab461a5db48494,openstack/openstack-zuul-jobs,master,I36fc6b16ed00fe017ce8256ac2ab461a5db48494,[dnm] using base-test,ABANDONED,2019-10-31 22:10:47.000000000,2020-03-17 20:15:43.000000000,,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 22:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/cd66bcfdceb68258920b73b3b7c2a21952910182', 'message': '[dnm] using base-test\n\nChange-Id: I36fc6b16ed00fe017ce8256ac2ab461a5db48494\n'}, {'number': 2, 'created': '2019-10-31 22:13:02.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e98ef5cbd58a18e875d9fe5ad84ba8bc2a479067', 'message': '[dnm] using base-test\n\nChange-Id: I36fc6b16ed00fe017ce8256ac2ab461a5db48494\n'}]",0,692457,e98ef5cbd58a18e875d9fe5ad84ba8bc2a479067,15,3,2,7118,,,0,"[dnm] using base-test

Change-Id: I36fc6b16ed00fe017ce8256ac2ab461a5db48494
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/57/692457/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,cd66bcfdceb68258920b73b3b7c2a21952910182,base-test-3, parent: base-test, parent: base-minimal,1,1
openstack%2Ftripleo-ci~master~Ie74c17469e6df174f06315f2ab389760271d8015,openstack/tripleo-ci,master,Ie74c17469e6df174f06315f2ab389760271d8015,DNM - Do not collect private info in public logs,ABANDONED,2019-05-28 19:36:17.000000000,2020-03-17 20:13:00.000000000,,"[{'_account_id': 9592}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-28 19:36:17.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f7a53eec998f5bf627234aca54ddee0c61922e58', 'message': 'DNM - Do not collect private info in public logs\n\nSkip copying files to the logs that could contain\ninternal information.\n\nChange-Id: Ie74c17469e6df174f06315f2ab389760271d8015\nStory: https://tree.taiga.io/project/tripleo-ci-board/issue/1091\n'}]",1,661833,f7a53eec998f5bf627234aca54ddee0c61922e58,6,4,1,9976,,,0,"DNM - Do not collect private info in public logs

Skip copying files to the logs that could contain
internal information.

Change-Id: Ie74c17469e6df174f06315f2ab389760271d8015
Story: https://tree.taiga.io/project/tripleo-ci-board/issue/1091
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/33/661833/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,f7a53eec998f5bf627234aca54ddee0c61922e58,move-internal-logs, {% if hw_env is defined %}- /home/{{ undercloud_user }}/instackenv.json{% endif %},,1,0
openstack%2Ftripleo-quickstart~master~I564f7fc7c30f292e7f81f935032d12e7ee2b0e0c,openstack/tripleo-quickstart,master,I564f7fc7c30f292e7f81f935032d12e7ee2b0e0c,DNM  Test review to allow vexxhost qualification to  complete,ABANDONED,2019-08-23 14:28:48.000000000,2020-03-17 20:12:25.000000000,,"[{'_account_id': 9061}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-23 14:28:48.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aed157a02563f8c72c969733090d0a54123939c5', 'message': 'DNM  Test review to allow vexxhost qualification to  complete\n\nChange-Id: I564f7fc7c30f292e7f81f935032d12e7ee2b0e0c\nRelated-Bug: #1840616\n'}]",0,678242,aed157a02563f8c72c969733090d0a54123939c5,5,4,1,9976,,,0,"DNM  Test review to allow vexxhost qualification to  complete

Change-Id: I564f7fc7c30f292e7f81f935032d12e7ee2b0e0c
Related-Bug: #1840616
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/42/678242/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,aed157a02563f8c72c969733090d0a54123939c5,temp-increase-timeout,"deploy_timeout: >- {% if release not in ['newton','ocata','pike','rocky'] -%} 110 {% endif %} ",,5,0
openstack%2Ftripleo-quickstart~master~I086a3af0ea9773d6b7fa0c0aed8801d8ca391427,openstack/tripleo-quickstart,master,I086a3af0ea9773d6b7fa0c0aed8801d8ca391427,WIP: Add generic component release file for component promotion,ABANDONED,2019-11-25 22:35:45.000000000,2020-03-17 20:12:12.000000000,,"[{'_account_id': 8175}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-25 22:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/abc966b36ae787046214642fe5c16c0bc2278031', 'message': 'Add generic component release file for component promotion\n\nChange-Id: I086a3af0ea9773d6b7fa0c0aed8801d8ca391427\nDepends-On: https://review.opendev.org/#/c/695990/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1408\n'}, {'number': 2, 'created': '2019-11-26 20:15:46.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/component-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4d1a7e320a2b59c5ac56af9b3ea814f826c17e48', 'message': 'WIP: Add generic component release file for component promotion\n\nChange-Id: I086a3af0ea9773d6b7fa0c0aed8801d8ca391427\nDepends-On: https://review.opendev.org/#/c/695990/\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/1408\n'}]",0,695992,4d1a7e320a2b59c5ac56af9b3ea814f826c17e48,11,4,2,9976,,,0,"WIP: Add generic component release file for component promotion

Change-Id: I086a3af0ea9773d6b7fa0c0aed8801d8ca391427
Depends-On: https://review.opendev.org/#/c/695990/
Story: https://tree.taiga.io/project/tripleo-ci-board/task/1408
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/92/695992/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-7/component-master.yml'],1,abc966b36ae787046214642fe5c16c0bc2278031,component_fs_override,"devmode: true overcloud_as_undercloud: true use_specific_hash: true docker_registry_host: trunk.registry.rdoproject.org docker_registry_namespace: tripleomaster delorean_hash_label: &promotion-testing-tag ""{{ dlrn_hash|default(dlrn_hash_tag) }}"" docker_image_tag: *promotion-testing-tag dlrn_hash_tag_newest: current images: - name: overcloud-full url: ""{{ overcloud_image_url }}"" type: tar - name: ipa_images url: ""{{ ipa_image_url }}"" type: tar inject_images: - ""ironic-python-agent.initramfs"" - ""ironic-python-agent.kernel"" - ""overcloud-full.qcow2"" - ""overcloud-full.initrd"" - ""overcloud-full.vmlinuz"" release: master dlrn_hash_tag: current-tripleo overcloud_image_url: https://images.rdoproject.org/master/rdo_trunk/current-tripleo/overcloud-full.tar ipa_image_url: https://images.rdoproject.org/master/rdo_trunk/current-tripleo/ironic-python-agent.tar repo_cmd_before: | sudo rm -rf /etc/yum.repos.d/delorean*; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo yum clean all; sudo yum-config-manager --disable ""*"" if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh else # Otherwise, fallback to official mirrors provided by CentOS. export NODEPOOL_CENTOS_MIRROR={{ lookup('env','NODEPOOL_CENTOS_MIRROR')|default('http://mirror.centos.org/centos', true) }} export NODEPOOL_RDO_PROXY=https://trunk.rdoproject.org fi rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/centos7-master/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 fi export RDO_DLRN_REPO=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} repos: - type: generic reponame: component filename: component.repo priority: 1 baseurl: https://trunk-staging.rdoproject.org/centos7/component/{{ component_promotion }}/consistent - type: generic reponame: delorean filename: delorean.repo priority: 20 baseurl: $RDO_DLRN_REPO - type: generic reponame: delorean-master-deps filename: delorean-master-deps.repo baseurl: ${NODEPOOL_RDO_PROXY}/centos7-master/deps/latest/ - type: generic reponame: delorean-master-build-deps filename: delorean-master-build-deps.repo baseurl: ${NODEPOOL_RDO_PROXY}/centos7-master/build-deps/latest/ enabled: 0 # CentOS related repos - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/os/x86_64/ - type: generic reponame: quickstart-centos-updates filename: quickstart-centos-updates.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/updates/x86_64/ - type: generic reponame: quickstart-centos-extras filename: quickstart-centos-extras.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/extras/x86_64/ - type: generic reponame: quickstart-centos-qemu filename: quickstart-centos-qemu.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/virt/x86_64/kvm-common/ - type: generic reponame: quickstart-centos-ceph-nautilus filename: quickstart-centos-ceph-nautilus.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/storage/x86_64/ceph-nautilus/ - type: generic reponame: quickstart-centos-opstools filename: quickstart-centos-opstools.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/opstools/x86_64/ - type: generic reponame: quickstart-centos-cr filename: quickstart-centos-cr.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/cr/x86_64/ enabled: 0 - type: generic reponame: quickstart-centos7-rt filename: quickstart-centos7-rt.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/rt/x86_64/ enabled: 0 repo_cmd_after: | sudo yum install -y yum-plugin-priorities; {% if not enable_opstools_repo|default(false)|bool %}sudo yum-config-manager --save --setopt quickstart-centos-opstools.enabled=0; {%endif %} {% if enable_centos_cr_repo|default(false)|bool %} yum-config-manager --enable quickstart-centos-cr {% endif %} sudo yum-config-manager --disable rdo-qemu-ev; sudo rpm -e epel-release || true; sudo yum remove -y rdo-release centos-release-ceph-* centos-release-openstack-* centos-release-qemu-ev || true; sudo rm -rf /etc/yum.repos.d/CentOS-OpenStack-*.repo /etc/yum.repos.d/CentOS-Ceph-*.repo /etc/yum.repos.d/CentOS-QEMU-EV.repo; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo yum repolist; sudo yum clean metadata {% if repo_setup_run_update|default(true)|bool %} sudo yum update -y {% endif %} undercloud_rpm_dependencies: >- python-tripleoclient ceph-ansible # Setting base_image_url and base_image_path to overwrite DIB_LOCAL_IMAGE in # the diskimage-builder base_image_url: https://images.rdoproject.org/base/centos7/CentOS-7-x86_64-GenericCloud-1901.qcow2 base_image_path: ""{{ ansible_user_dir }}/Centos-7-x86_64-GenericCloud-1901.qcow2"" # baseos settings baseos_undercloud_image_url: https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-1901.qcow2 baseos_image: centos baseos_image_type: qcow2 baseos_md5sum: ""26c52282b53e6fe746fbfd5542421675 CentOS-7-x86_64-GenericCloud-1901.qcow2"" gating_repo_name: component standalone_container_prep_update_repo: >- {{ gating_repo_name }},delorean-current ",,148,0
openstack%2Ftripleo-quickstart~master~Ib956bdd60f607b5ea6ac8a059fba9afc9e267ad2,openstack/tripleo-quickstart,master,Ib956bdd60f607b5ea6ac8a059fba9afc9e267ad2,Add  workaround for ceph-ansible install to Train RHEL 8,ABANDONED,2019-11-14 19:54:49.000000000,2020-03-17 20:11:46.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-14 19:54:49.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/RedHat-8/train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f7ba4ac24aeda96fd93dedd39871e074a56c0ebb', 'message': 'Add  workaround for ceph-ansible install to Train RHEL 8\n\nFollowing workaround LP 1841941, specify specific ceph-ansible\nrpm to be installed in Train RhHEL 8 deployments.\n\nThe same rpm has been specified in RHEL 8 master config release\nfiles.\n\nChange-Id: Ib956bdd60f607b5ea6ac8a059fba9afc9e267ad2\n'}]",0,694396,f7ba4ac24aeda96fd93dedd39871e074a56c0ebb,11,8,1,9976,,,0,"Add  workaround for ceph-ansible install to Train RHEL 8

Following workaround LP 1841941, specify specific ceph-ansible
rpm to be installed in Train RhHEL 8 deployments.

The same rpm has been specified in RHEL 8 master config release
files.

Change-Id: Ib956bdd60f607b5ea6ac8a059fba9afc9e267ad2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/96/694396/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/RedHat-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/RedHat-8/train.yml']",2,f7ba4ac24aeda96fd93dedd39871e074a56c0ebb,train-ceph-rpm, # workaround LP 1841941 until StorageSIG supports CentOS8 sudo dnf install -y ${NODEPOOL_RDO_PROXY}/rhel8-master/deps/latest/Packages/ceph-ansible-4.0.0-0.1.rc16.1.el8.noarch.rpm,,4,0
openstack%2Ftripleo-ci~master~I52bafa5becf2ae1702218b9eb24873270345d8dc,openstack/tripleo-ci,master,I52bafa5becf2ae1702218b9eb24873270345d8dc,Make scenario000 upgrades voting except in master,ABANDONED,2019-08-27 12:58:45.000000000,2020-03-17 20:11:36.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-27 12:58:45.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4835aa6e97f6eda2a5e084442631eea1dca799b7', 'message': 'Make scenario000 upgrades voting except in master\n\nThis review adds a new job to exclude voting when\nrun on the master branch.\n\nChange-Id: I52bafa5becf2ae1702218b9eb24873270345d8dc\n'}]",1,678814,4835aa6e97f6eda2a5e084442631eea1dca799b7,9,8,1,9976,,,0,"Make scenario000 upgrades voting except in master

This review adds a new job to exclude voting when
run on the master branch.

Change-Id: I52bafa5becf2ae1702218b9eb24873270345d8dc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/14/678814/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,4835aa6e97f6eda2a5e084442631eea1dca799b7,000-upgrades-voting, - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades-master - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades-master voting: true branches: ^(?!(master|stable/(newton|ocata|pike))).*$ - job: name: tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades-master parent: tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades voting: false branches: ^master$, voting: false branches: ^(?!stable/(newton|ocata|pike)).*$,10,2
openstack%2Ftripleo-quickstart~master~I739ce5a01be49dd38fe4166b79488f69b5c48f0b,openstack/tripleo-quickstart,master,I739ce5a01be49dd38fe4166b79488f69b5c48f0b,DNM - Testing dlrn_base URL set to nodepool proxy,ABANDONED,2019-08-13 15:53:46.000000000,2020-03-17 20:11:22.000000000,,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-13 15:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1e06d1987b11382943ae99b3e42c8f26e5213ef4', 'message': 'DNM - Testing dlrn_base URL set to mirror\n\nTest using the AFS mirror for accessing dlrn repo.\n\nChange-Id: I739ce5a01be49dd38fe4166b79488f69b5c48f0b\nRelated-Bug: #1839845\n'}, {'number': 2, 'created': '2019-08-13 17:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5ed88a240e0f546e20e645550a31b56664c2c688', 'message': 'DNM - Testing dlrn_base URL set to nodepool proxy\n\nTest using the nodepool proxy for accessing dlrn repo.\n\nChange-Id: I739ce5a01be49dd38fe4166b79488f69b5c48f0b\nRelated-Bug: #1839845\n'}, {'number': 3, 'created': '2019-08-13 19:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a2e6514308aa31c60e94224d2d7797f9b87e0b33', 'message': 'DNM - Testing dlrn_base URL set to nodepool proxy\n\nTest using the nodepool proxy for accessing dlrn repo.\n\nChange-Id: I739ce5a01be49dd38fe4166b79488f69b5c48f0b\nRelated-Bug: #1839845\n'}, {'number': 4, 'created': '2019-08-13 20:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/881a518e59cbac9ce1223f5e500a8048dde98686', 'message': 'DNM - Testing dlrn_base URL set to nodepool proxy\n\nTest using the nodepool proxy for accessing dlrn repo.\n\nChange-Id: I739ce5a01be49dd38fe4166b79488f69b5c48f0b\nRelated-Bug: #1839845\n'}, {'number': 5, 'created': '2019-08-13 21:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/551639b84d2e876d4fa13b7b5befba7e8b651d1c', 'message': 'DNM - Testing dlrn_base URL set to nodepool proxy\n\nTest using the nodepool proxy for accessing dlrn repo.\n\nChange-Id: I739ce5a01be49dd38fe4166b79488f69b5c48f0b\nRelated-Bug: #1839845\n'}, {'number': 6, 'created': '2019-08-14 14:32:47.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-stein.yml', 'config/release/tripleo-ci/CentOS-7/pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-rocky.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml', 'roles/repo-setup/tasks/get-dlrn-hash-newest.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml', 'roles/repo-setup/tasks/get-dlrn-hash.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cf7744a04a2bb2eb3adfb676f45c8cae57fdc78b', 'message': 'DNM - Testing dlrn_base URL set to nodepool proxy\n\nTest using the nodepool proxy for accessing dlrn repo.\n\nChange-Id: I739ce5a01be49dd38fe4166b79488f69b5c48f0b\nRelated-Bug: #1839845\n'}]",0,676229,cf7744a04a2bb2eb3adfb676f45c8cae57fdc78b,18,5,6,9976,,,0,"DNM - Testing dlrn_base URL set to nodepool proxy

Test using the nodepool proxy for accessing dlrn repo.

Change-Id: I739ce5a01be49dd38fe4166b79488f69b5c48f0b
Related-Bug: #1839845
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/29/676229/5 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-7/master.yml'],1,1e06d1987b11382943ae99b3e42c8f26e5213ef4,use-dlrn-mirror,"dlrn_baseurl: ""http://mirror.regionone.rdo-cloud-tripleo.rdoproject.org:8080/rdo/{{ distro_ver }}-{{ release }}"" # {% if node-name -%} # ""http://mirror.regionone.rdo-cloud-tripleo.rdoproject.org:8080/rdo/{{ distro_ver }}-{{ release }}"" # {%- else -%} # ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}"" # {%- endif %}","dlrn_baseurl: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}""",6,1
openstack%2Ftripleo-ci~master~I9154dc2b86db081c31c4549a72db7949f247d481,openstack/tripleo-ci,master,I9154dc2b86db081c31c4549a72db7949f247d481,DNM - To test periodic,ABANDONED,2019-02-22 19:23:08.000000000,2020-03-17 20:11:05.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-22 19:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/512957b90fef3adf58321859d23cde46aaae4050', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}, {'number': 2, 'created': '2019-03-27 21:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/37d3663d6c58d9e2f630b014669decf6d4a83419', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}, {'number': 3, 'created': '2019-03-28 11:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e710887ab7bd69925f33fcc61c1fb16c0fd759d8', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}, {'number': 4, 'created': '2019-04-11 19:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f5517f7b64e163c5e90f15361ab2090e3904676c', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}, {'number': 5, 'created': '2019-04-12 08:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6eda2cc420e08c9a8aafb34378d0303d55e501c7', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}, {'number': 6, 'created': '2019-04-22 05:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b2d4578fd75225f07f1a3fc36e06ccac531c084a', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}, {'number': 7, 'created': '2019-05-13 14:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f9dfa611f95da24b79789771761412b06e4ac093', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}, {'number': 8, 'created': '2019-05-14 19:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4541ffa24c15a60c0061b49eb5c8e48fa36e67ac', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}, {'number': 9, 'created': '2019-05-17 14:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/09ed4f372ca6a0685c11ab8ae221c8668d5294e5', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}, {'number': 10, 'created': '2019-06-26 18:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/31777035b40399b1bc579e61ff3cc612d5157611', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}, {'number': 11, 'created': '2019-08-05 07:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/43abf00a9288043d90f00244093950fd6f4f7a97', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}, {'number': 12, 'created': '2019-08-13 14:37:20.000000000', 'files': ['roles/common/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/76b85fab069f8bcdf5cf91931f2912096f650bed', 'message': 'DNM - To test periodic\n\nChange-Id: I9154dc2b86db081c31c4549a72db7949f247d481\n'}]",0,638756,76b85fab069f8bcdf5cf91931f2912096f650bed,37,3,12,9976,,,0,"DNM - To test periodic

Change-Id: I9154dc2b86db081c31c4549a72db7949f247d481
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/56/638756/12 && git format-patch -1 --stdout FETCH_HEAD,['roles/common/vars/main.yaml'],1,512957b90fef3adf58321859d23cde46aaae4050,test-periodic, {% if 'periodic' in zuul.job -%}, {% if 'periodic' in zuul.pipeline -%},1,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c,openstack/python-tripleoclient,stable/train,I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c,Local file based image uploader,MERGED,2020-03-02 06:13:06.000000000,2020-03-17 20:07:20.000000000,2020-03-17 20:05:27.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 8125}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 06:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/839720f1f4ee90b5b091839598e3d9841dbea692', 'message': 'Local file based image uploader\n\nThis change modifies the ""openstack overcloud image upload"" to add a\n--local argument which will copy the files to /var/lib/ironic/images\ninstead of uploading them to glance. /var/lib/ironic is chosen as it\nis bind-mounted into the ironic containers on the undercloud.\n\nThe on-disk layout is prefixed by the architecture (and optionally the\nplatform) for example:\n/var/lib/ironic/images/x86_64/overcloud-full.qcow2\n/var/lib/ironic/images/x86_64/overcloud-full.initrd\n/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz\n/var/lib/ironic/images/power9-ppc64le/overcloud-full.qcow2\n\nWhen glance is switched off this will become the default way of\npreparing image files for deployment.\n\nBlueprint: nova-less-deploy\n\nChange-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c\n(cherry picked from commit 5304c3432498ada824dc5f564f527aa360f21df8)\n'}, {'number': 2, 'created': '2020-03-17 04:36:09.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b1703f2f2edcdebb4684edb790dc9e2fe4ed074a', 'message': 'Local file based image uploader\n\nThis change modifies the ""openstack overcloud image upload"" to add a\n--local argument which will copy the files to /var/lib/ironic/images\ninstead of uploading them to glance. /var/lib/ironic is chosen as it\nis bind-mounted into the ironic containers on the undercloud.\n\nThe on-disk layout is prefixed by the architecture (and optionally the\nplatform) for example:\n/var/lib/ironic/images/x86_64/overcloud-full.qcow2\n/var/lib/ironic/images/x86_64/overcloud-full.initrd\n/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz\n/var/lib/ironic/images/power9-ppc64le/overcloud-full.qcow2\n\nWhen glance is switched off this will become the default way of\npreparing image files for deployment.\n\nBlueprint: nova-less-deploy\n\nChange-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c\n(cherry picked from commit 5304c3432498ada824dc5f564f527aa360f21df8)\n'}]",0,710702,b1703f2f2edcdebb4684edb790dc9e2fe4ed074a,20,6,2,8125,,,0,"Local file based image uploader

This change modifies the ""openstack overcloud image upload"" to add a
--local argument which will copy the files to /var/lib/ironic/images
instead of uploading them to glance. /var/lib/ironic is chosen as it
is bind-mounted into the ironic containers on the undercloud.

The on-disk layout is prefixed by the architecture (and optionally the
platform) for example:
/var/lib/ironic/images/x86_64/overcloud-full.qcow2
/var/lib/ironic/images/x86_64/overcloud-full.initrd
/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz
/var/lib/ironic/images/power9-ppc64le/overcloud-full.qcow2

When glance is switched off this will become the default way of
preparing image files for deployment.

Blueprint: nova-less-deploy

Change-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c
(cherry picked from commit 5304c3432498ada824dc5f564f527aa360f21df8)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/710702/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py']",3,839720f1f4ee90b5b091839598e3d9841dbea692,support-file-based-deploys,"from tripleoclient import utils as plugin_utils @mock.patch('subprocess.check_call', autospec=True) def test_copy_file(self, mock_subprocess_call): self.adapter._copy_file('/foo.qcow2', 'bar.qcow2') mock_subprocess_call.assert_called_once_with( 'sudo cp -f ""/foo.qcow2"" ""bar.qcow2""', shell=True) @mock.patch('subprocess.check_call', autospec=True) def test_move_file(self, mock_subprocess_call): self.adapter._move_file('/foo.qcow2', 'bar.qcow2') mock_subprocess_call.assert_called_once_with( 'sudo mv ""/foo.qcow2"" ""bar.qcow2""', shell=True) @mock.patch('subprocess.check_call', autospec=True) def test_make_dirs(self, mock_subprocess_call): self.adapter._make_dirs('/foo/bar/baz') mock_subprocess_call.assert_called_once_with( 'sudo mkdir -m 0775 -p ""/foo/bar/baz""', shell=True) class TestFileImageClientAdapter(TestPluginV1): def setUp(self): super(TestFileImageClientAdapter, self).setUp() self.updated = [] self.adapter = overcloud_image.FileImageClientAdapter( image_path='/home/foo', local_path='/my/images', updated=self.updated ) self.image = mock.Mock() self.image.id = 'file:///my/images/x86_64/overcloud-full.qcow2' self.image.name = 'overcloud-full' self.image.checksum = 'asdf' self.image.created_at = '2019-11-14T01:33:39' self.image.size = 982802432 @mock.patch('os.path.exists') def test_get_image_property(self, mock_exists): mock_exists.side_effect = [ True, True, False, False ] image = mock.Mock() image.id = 'file:///my/images/x86_64/overcloud-full.qcow2' # file exists self.assertEqual( 'file:///my/images/x86_64/overcloud-full.vmlinuz', self.adapter.get_image_property(image, 'kernel_id') ) self.assertEqual( 'file:///my/images/x86_64/overcloud-full.initrd', self.adapter.get_image_property(image, 'ramdisk_id') ) # file doesn't exist self.assertIsNone( self.adapter.get_image_property(image, 'kernel_id') ) self.assertIsNone( self.adapter.get_image_property(image, 'ramdisk_id') ) self.assertRaises(ValueError, self.adapter.get_image_property, image, 'foo') def test_paths(self): self.assertEqual( ('/my/images/x86_64', 'overcloud-full.vmlinuz'), self.adapter._paths( 'overcloud-full', plugin_utils.overcloud_kernel, 'x86_64', None ) ) self.assertEqual( ('/my/images', 'overcloud-full.qcow2'), self.adapter._paths( 'overcloud-full', plugin_utils.overcloud_image, None, None ) ) self.assertEqual( ('/my/images/power9-ppc64le', 'overcloud-full.initrd'), self.adapter._paths( 'overcloud-full', plugin_utils.overcloud_ramdisk, 'ppc64le', 'power9' ) ) @mock.patch('os.path.exists') @mock.patch('os.stat') @mock.patch('tripleoclient.utils.file_checksum') def test_get_image(self, mock_checksum, mock_stat, mock_exists): mock_exists.return_value = True mock_stat.return_value.st_size = 982802432 mock_stat.return_value.st_mtime = 1573695219 mock_checksum.return_value = 'asdf' image = self.adapter._get_image( '/my/images/x86_64/overcloud-full.qcow2') self.assertEqual( 'file:///my/images/x86_64/overcloud-full.qcow2', image.id ) self.assertEqual('overcloud-full', image.name) self.assertEqual('asdf', image.checksum) self.assertEqual('2019-11-14T01:33:39', image.created_at) self.assertEqual(982802432, image.size) @mock.patch('tripleoclient.utils.file_checksum') @mock.patch('tripleoclient.v1.overcloud_image.' 'FileImageClientAdapter._get_image', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._move_file', autospec=True) def test_image_try_update(self, mock_move, mock_get_image, mock_checksum): # existing image with identical checksum mock_checksum.return_value = 'asdf' mock_get_image.return_value = self.image self.assertEqual( self.image, self.adapter._image_try_update( '/home/foo/overcloud-full.qcow2', '/my/images/x86_64/overcloud-full.qcow2' ) ) self.assertEqual([], self.updated) # no image to update mock_get_image.return_value = None self.assertIsNone( self.adapter._image_try_update( '/home/foo/overcloud-full.qcow2', '/my/images/x86_64/overcloud-full.qcow2' ) ) self.assertEqual([], self.updated) # existing image with different checksum, but update_existing=False mock_checksum.return_value = 'fdsa' mock_get_image.return_value = self.image self.assertEqual( self.image, self.adapter._image_try_update( '/home/foo/overcloud-full.qcow2', '/my/images/x86_64/overcloud-full.qcow2' ) ) self.assertEqual([], self.updated) # existing image with different checksum, update_existing=True self.adapter.update_existing = True self.assertIsNone( self.adapter._image_try_update( '/home/foo/overcloud-full.qcow2', '/my/images/x86_64/overcloud-full.qcow2' ) ) self.assertEqual( ['/my/images/x86_64/overcloud-full.qcow2'], self.updated ) mock_move.assert_called_once_with( self.adapter, '/my/images/x86_64/overcloud-full.qcow2', '/my/images/x86_64/overcloud-full_20191114T013339.qcow2' ) @mock.patch('subprocess.check_call', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'FileImageClientAdapter._get_image', autospec=True) @mock.patch('os.path.isdir') def test_upload_image(self, mock_isdir, mock_get_image, mock_subprocess_call): mock_isdir.return_value = False mock_get_image.return_value = self.image result = self.adapter._upload_image( '/home/foo/overcloud-full.qcow2', '/my/images/x86_64/overcloud-full.qcow2' ) self.assertEqual(self.image, result) mock_subprocess_call.assert_has_calls([ mock.call('sudo mkdir -m 0775 -p ""/my/images/x86_64""', shell=True), mock.call('sudo cp -f ""/home/foo/overcloud-full.qcow2"" ' '""/my/images/x86_64/overcloud-full.qcow2""', shell=True) ]) @mock.patch('tripleoclient.v1.overcloud_image.' 'FileImageClientAdapter._upload_image', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'FileImageClientAdapter._image_try_update', autospec=True) def test_update_or_upload(self, mock_image_try_update, mock_upload_image): # image exists mock_image_try_update.return_value = self.image self.assertEqual( self.image, self.adapter.update_or_upload( image_name='overcloud-full', properties={}, names_func=plugin_utils.overcloud_image, arch='x86_64' ) ) mock_upload_image.assert_not_called() # image needs uploading mock_image_try_update.return_value = None mock_upload_image.return_value = self.image self.assertEqual( self.image, self.adapter.update_or_upload( image_name='overcloud-full', properties={}, names_func=plugin_utils.overcloud_image, arch='x86_64' ) ) mock_upload_image.assert_called_once_with( self.adapter, '/home/foo/overcloud-full.qcow2', '/my/images/x86_64/overcloud-full.qcow2' ) mock_image_try_update.assert_has_calls([ mock.call(self.adapter, '/home/foo/overcloud-full.qcow2', '/my/images/x86_64/overcloud-full.qcow2'), mock.call(self.adapter, '/home/foo/overcloud-full.qcow2', '/my/images/x86_64/overcloud-full.qcow2') ]) ",,389,9
openstack%2Ftripleo-common~stable%2Fstein~I011cb62850bb4f298f78a1cfede4e60044523be6,openstack/tripleo-common,stable/stein,I011cb62850bb4f298f78a1cfede4e60044523be6,Change how we test for call,MERGED,2020-03-16 17:58:38.000000000,2020-03-17 20:07:11.000000000,2020-03-17 20:05:28.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 17:58:38.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/236cf7c09373ddc5a0c7c92e644af6ebe6ba79b6', 'message': ""Change how we test for call\n\nIt appears that there are json comparison issues for some versions <= py35\nso we need to check that the expected manifest matches in a different\nway to ensure compatibility between py27 and newer. Since we've dropped\nthese versions of python in Ussuri, this only applies to older version.\n\nChange-Id: I011cb62850bb4f298f78a1cfede4e60044523be6\nCloses-Bug: #1867648\n(cherry picked from commit 23ec01dc3f9d16e1fe73c1bc96cb0983574098a6)\n""}]",0,713305,236cf7c09373ddc5a0c7c92e644af6ebe6ba79b6,10,5,1,14985,,,0,"Change how we test for call

It appears that there are json comparison issues for some versions <= py35
so we need to check that the expected manifest matches in a different
way to ensure compatibility between py27 and newer. Since we've dropped
these versions of python in Ussuri, this only applies to older version.

Change-Id: I011cb62850bb4f298f78a1cfede4e60044523be6
Closes-Bug: #1867648
(cherry picked from commit 23ec01dc3f9d16e1fe73c1bc96cb0983574098a6)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/713305/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/tests/image/test_image_uploader.py'],1,236cf7c09373ddc5a0c7c92e644af6ebe6ba79b6,bug/1867648," expected_manifest = { } data=mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( target_put.call_args[1]['data'].decode('utf-8') ) self.assertEqual(expected_manifest, call_manifest) expected_manifest = { } mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( export_mock.call_args[0][1] ) self.assertEqual(expected_manifest, call_manifest) expected_manifest = { } data=mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( target_put.call_args[1]['data'].decode('utf-8') ) self.assertEqual(expected_manifest, call_manifest)"," expected_manifest_str = json.dumps({ }, indent=3) data=expected_manifest_str.encode('utf-8'), expected_manifest_str = json.dumps({ }, indent=3) expected_manifest_str, expected_manifest_str = json.dumps({ }, indent=3) data=expected_manifest_str.encode('utf-8'),",27,9
openstack%2Ftripleo-common~master~I54097b2bbf19cd07bceb6ce608aa7f80435ad894,openstack/tripleo-common,master,I54097b2bbf19cd07bceb6ce608aa7f80435ad894,Use unversioned RHEL element w/ RHEL8,MERGED,2020-03-16 19:36:04.000000000,2020-03-17 20:07:09.000000000,2020-03-17 20:05:31.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 19:36:04.000000000', 'files': ['image-yaml/overcloud-images-ceph-rhel8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eda7ffe39b9caccc637597624a3c255c5d7443b6', 'message': ""Use unversioned RHEL element w/ RHEL8\n\nUsing 'rhel8' instead of 'rhel' causes errors.\n\nRelated to commits:\n  18788b2b1748ffaa088a23caeec165391d9d7b4e\n  5877ef54d3c3a2392297123a70cbf4a03f93e977\n\nChange-Id: I54097b2bbf19cd07bceb6ce608aa7f80435ad894\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n""}]",0,713320,eda7ffe39b9caccc637597624a3c255c5d7443b6,13,4,1,8161,,,0,"Use unversioned RHEL element w/ RHEL8

Using 'rhel8' instead of 'rhel' causes errors.

Related to commits:
  18788b2b1748ffaa088a23caeec165391d9d7b4e
  5877ef54d3c3a2392297123a70cbf4a03f93e977

Change-Id: I54097b2bbf19cd07bceb6ce608aa7f80435ad894
Signed-off-by: Lon Hohberger <lhh@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/713320/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-images-ceph-rhel8.yaml'],1,eda7ffe39b9caccc637597624a3c255c5d7443b6,, distro: rhel, distro: rhel8,1,1
openstack%2Ftripleo-common~stable%2Ftrain~I011cb62850bb4f298f78a1cfede4e60044523be6,openstack/tripleo-common,stable/train,I011cb62850bb4f298f78a1cfede4e60044523be6,Change how we test for call,MERGED,2020-03-16 16:13:33.000000000,2020-03-17 20:07:08.000000000,2020-03-17 20:05:29.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-16 16:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d131b124a690aa3c7d685dd84eea64689d1a0408', 'message': 'Change how we test for call\n\nIt appears that there are json comparison issues for some versions <= py35\nso we need to check that the expected manifest matches in a different\nway to ensure compatibility between py27 and newer.\n\nChange-Id: I011cb62850bb4f298f78a1cfede4e60044523be6\nCloses-Bug: #1867648\n'}, {'number': 2, 'created': '2020-03-16 17:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d7fb8eae831a9d2f6ef53f34f51b40b87ffd61c', 'message': ""[TRAIN and older] Change how we test for call\n\nIt appears that there are json comparison issues for some versions <= py35\nso we need to check that the expected manifest matches in a different\nway to ensure compatibility between py27 and newer. Since we've dropped\nthese versions of python in Ussuri, this only applies to older version.\n\nChange-Id: I011cb62850bb4f298f78a1cfede4e60044523be6\nCloses-Bug: #1867648\n""}, {'number': 3, 'created': '2020-03-16 17:57:44.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/69158f678236a5cf62c74a6a64e0aabac42e05ea', 'message': ""Change how we test for call\n\nIt appears that there are json comparison issues for some versions <= py35\nso we need to check that the expected manifest matches in a different\nway to ensure compatibility between py27 and newer. Since we've dropped\nthese versions of python in Ussuri, this only applies to older version.\n\nChange-Id: I011cb62850bb4f298f78a1cfede4e60044523be6\nCloses-Bug: #1867648\n(cherry picked from commit 23ec01dc3f9d16e1fe73c1bc96cb0983574098a6)\n""}]",0,713280,69158f678236a5cf62c74a6a64e0aabac42e05ea,19,7,3,14985,,,0,"Change how we test for call

It appears that there are json comparison issues for some versions <= py35
so we need to check that the expected manifest matches in a different
way to ensure compatibility between py27 and newer. Since we've dropped
these versions of python in Ussuri, this only applies to older version.

Change-Id: I011cb62850bb4f298f78a1cfede4e60044523be6
Closes-Bug: #1867648
(cherry picked from commit 23ec01dc3f9d16e1fe73c1bc96cb0983574098a6)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/713280/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/tests/image/test_image_uploader.py'],1,d131b124a690aa3c7d685dd84eea64689d1a0408,bug/1867648," }) data=mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( target_put.call_args[0]['data'].decode('utf-8') ) self.assertEqual(expected_manifest_str, call_manifest) }) mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( target_put.call_args[0]['data'].decode('utf-8') ) self.assertEqual(expected_manifest_str, call_manifest) }) data=mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( target_put.call_args[0]['data'].decode('utf-8') ) self.assertEqual(expected_manifest_str, call_manifest) "," }, indent=3) data=expected_manifest_str.encode('utf-8'), }, indent=3) expected_manifest_str, }, indent=3) data=expected_manifest_str.encode('utf-8'),",26,6
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I2b2f067d51cd5e430c078acd62912859be195589,openstack/tripleo-heat-templates,stable/queens,I2b2f067d51cd5e430c078acd62912859be195589,Fix glance backend for scenario010,MERGED,2019-11-01 16:19:32.000000000,2020-03-17 20:05:33.000000000,2020-03-17 20:05:33.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-11-01 16:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62ef67b01f2481e036872a02a53a481c741c2c6f', 'message': 'Configure amphora for upload and run tempest\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 2, 'created': '2019-11-04 17:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40d52d2929d8c7e1bb9471cb8d60a7bda7979b90', 'message': 'Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: https://review.opendev.org/692858\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 3, 'created': '2019-11-07 13:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/426f2a6dcfe21def5575ad95e9c500f1c7ed72e4', 'message': 'Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: https://review.opendev.org/692858\nDepends-On: https://review.opendev.org/692857\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 4, 'created': '2019-11-07 19:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a2bc48968e68909273c55b4c51021fca0b40075', 'message': 'Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: https://review.opendev.org/692858\nDepends-On: https://review.opendev.org/692857\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 5, 'created': '2019-11-08 17:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f466eaaa900440e25daa90b493a4811e58f35b6b', 'message': 'Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: https://review.opendev.org/692858\nDepends-On: https://review.opendev.org/692857\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 6, 'created': '2019-11-12 17:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fdd466f4c676f108a1e0daa6dcd1be84a56043f', 'message': 'Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: https://review.opendev.org/692858\nDepends-On: https://review.opendev.org/692857\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 7, 'created': '2019-11-28 19:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb336957cc21ded2907276bc02df4e0325804f0d', 'message': 'Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 8, 'created': '2019-11-29 15:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7aac674a27c46578056aec81afe3a43f739b687c', 'message': 'Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 9, 'created': '2019-12-05 01:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26533f5c3f20a07308b49e4409ae74cd4b161711', 'message': 'Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}, {'number': 10, 'created': '2019-12-05 13:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a078197bc07e56adbc90219f137809a930e57c96', 'message': 'WIP/DNM Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nDepends-On: I5315887a204918cad1b8f9493d0c5f9d5167e32c\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}, {'number': 11, 'created': '2019-12-06 17:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b55129a8488b7ae40719fb470ee0162f9ecf3357', 'message': 'WIP/DNM Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nDepends-On: I5315887a204918cad1b8f9493d0c5f9d5167e32c\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}, {'number': 12, 'created': '2019-12-09 15:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60243ad61f22f9a9196a5e7e9cdefc4c33796993', 'message': 'WIP/DNM Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nDepends-On: I5315887a204918cad1b8f9493d0c5f9d5167e32c\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}, {'number': 13, 'created': '2019-12-18 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9bde807fb8d76a8f2cf767d92c76138073f1c543', 'message': 'WIP/DNM Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nDepends-On: I5315887a204918cad1b8f9493d0c5f9d5167e32c\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}, {'number': 14, 'created': '2019-12-20 20:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6cddd1a4f468ff475ae1dd1114c2c63ea20c97c3', 'message': 'WIP/DNM Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nDepends-On: I5315887a204918cad1b8f9493d0c5f9d5167e32c\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}, {'number': 15, 'created': '2020-01-13 19:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86b89d9b423ea9646f6a42d0ebfb04734333ae43', 'message': 'WIP/DNM Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nDepends-On: I5315887a204918cad1b8f9493d0c5f9d5167e32c\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}, {'number': 16, 'created': '2020-01-13 21:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/599112173056836635e85cb927b013291e3e8f54', 'message': 'WIP/DNM Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}, {'number': 17, 'created': '2020-01-14 14:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/465e868b6de17fd32f08f5f5a7376b3bbe58ceff', 'message': 'WIP/DNM Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nDepends-On: Ic95d13cf60967c4d5c329f903f396b8bd14239be\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}, {'number': 18, 'created': '2020-02-10 13:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea9920a6987d7866ee4d4c7599ef5652fdee80be', 'message': 'WIP/DNM Configure amphora for upload and run tempest\n\nNote: has queens-specific modifications\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nDepends-On: Ie576537d77b57927d430f20b274d1cb5d351241e\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}, {'number': 19, 'created': '2020-02-18 15:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/573b904c0397ca293998b9baf0b51ab9bdb35508', 'message': 'Fix glance backend for scenario010\n\nWe rely on glance having the file backend configured for this scenario\n10 (octavia)\n\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}, {'number': 20, 'created': '2020-03-06 17:46:01.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6604278e2940196598c74841b2400f0df336e81', 'message': 'Fix glance backend for scenario010\n\nWe rely on glance having the file backend configured for this scenario\n10 (octavia)\n\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)\n'}]",1,692579,f6604278e2940196598c74841b2400f0df336e81,125,7,20,6681,,,0,"Fix glance backend for scenario010

We rely on glance having the file backend configured for this scenario
10 (octavia)

Depends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe
Change-Id: I2b2f067d51cd5e430c078acd62912859be195589
(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)
(cherry picked from commit 12eda343eccef2bdb08ef43379711712138b9333)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/692579/5 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml']",2,62ef67b01f2481e036872a02a53a481c741c2c6f,octavia-ci, StandaloneExtraConfig: octavia::controller::connection_retry_interval: 10 OctaviaAmphoraImageFilename: /home/zuul/amphora.qcow2 OctaviaCaKeyPassphrase: 'upstreamci' OctaviaManageNovaFlavor: true OctaviaGenerateCerts: true,,8,0
openstack%2Ftripleo-common~stable%2Frocky~I1555a9b79c954e646fe9ae35272231c581cea03e,openstack/tripleo-common,stable/rocky,I1555a9b79c954e646fe9ae35272231c581cea03e,Silent file descriptor checks,MERGED,2020-03-17 06:26:14.000000000,2020-03-17 20:05:30.000000000,2020-03-17 20:05:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 06:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2bdd82d880fef6619506ed5a433ae709eb41f6a6', 'message': 'Silent file descriptor checks\n\nIn order to avoid spam in journald, we just get the exit code and let\nthe checker output the error message.\n\nAlso, correct how we retrieve process in the healthcheck_port and _listen\nfunctions.\n""ss"" doesn\'t allow to match some processes, like ""neutron-l3-agent"". We\ntherefore use the PID instead, provided by ""pgrep"".\nThe ""-d"" option of pgrep allow to prepare its output for the ""grep -E"",\npreventing any need of a loop.\n\nChange-Id: I1555a9b79c954e646fe9ae35272231c581cea03e\nCloses-Bug: #1821782\nCloses-Bug: #1821856\n(cherry picked from commit 5312bf19c8f820ac65514885aebdc2dc4776d72d)\n'}, {'number': 2, 'created': '2020-03-17 06:39:47.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/89d2393ea9fa977946ba34b6b9b3b279f830b64c', 'message': 'Silent file descriptor checks\n\nIn order to avoid spam in journald, we just get the exit code and let\nthe checker output the error message.\n\nAlso, correct how we retrieve process in the healthcheck_port and _listen\nfunctions.\n""ss"" doesn\'t allow to match some processes, like ""neutron-l3-agent"". We\ntherefore use the PID instead, provided by ""pgrep"".\nThe ""-d"" option of pgrep allow to prepare its output for the ""grep -E"",\npreventing any need of a loop.\n\nChange-Id: I1555a9b79c954e646fe9ae35272231c581cea03e\nCloses-Bug: #1821782\nCloses-Bug: #1821856\n(cherry picked from commit 5312bf19c8f820ac65514885aebdc2dc4776d72d)\n'}]",0,713375,89d2393ea9fa977946ba34b6b9b3b279f830b64c,8,6,2,28223,,,0,"Silent file descriptor checks

In order to avoid spam in journald, we just get the exit code and let
the checker output the error message.

Also, correct how we retrieve process in the healthcheck_port and _listen
functions.
""ss"" doesn't allow to match some processes, like ""neutron-l3-agent"". We
therefore use the PID instead, provided by ""pgrep"".
The ""-d"" option of pgrep allow to prepare its output for the ""grep -E"",
preventing any need of a loop.

Change-Id: I1555a9b79c954e646fe9ae35272231c581cea03e
Closes-Bug: #1821782
Closes-Bug: #1821856
(cherry picked from commit 5312bf19c8f820ac65514885aebdc2dc4776d72d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/75/713375/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,2bdd82d880fef6619506ed5a433ae709eb41f6a6,rhbz/1813758," ss -ntp | grep -qE "":($ports).*,pid=($pids),"" ss -lnp | grep -qE "":($ports).*,pid=($pids),"" lsof -Fc -Ua $socket | grep -q ""c$process"""," ss -ntp | awk '{print $5,""-"",$6}' | egrep "":($ports)"" | grep ""$process"" ss -lnp | awk '{print $5,""-"",$7}' | egrep "":($ports)"" | grep ""$process"" lsof -Fc -Ua $socket | grep ""c$process""",3,3
openstack%2Fkolla-ansible~stable%2Ftrain~I7387ccd0cb394c54c79bfba8b1c09fce7ee2973e,openstack/kolla-ansible,stable/train,I7387ccd0cb394c54c79bfba8b1c09fce7ee2973e,CI: Reduce unnecessary gate image builds,MERGED,2020-03-11 13:34:54.000000000,2020-03-17 20:03:20.000000000,2020-03-17 20:00:01.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-03-11 13:34:54.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57440edf8028fb91a0d39693f18205dac8d26d3f', 'message': 'CI: Reduce unnecessary gate image builds\n\nBackport note: added CentOS 8 skip for tgtd present in master - somehow\nthis was missed in backport.\n\nDue to regex matching of images, we are currently building quite a few\nunnecessary images in CI. Images that can unexpectedly match:\n\n* barbican-keystone-listener\n* ironic-neutron-agent\n* prometheus-haproxy-exporter\n* prometheus-memcached-exporter\n\nThis change improves the situation by anchoring matches to the start of\nthe name. A full solution would be to specify every image required for\neach job. This would be quite verbose and require maintenance.\n\nChange-Id: I7387ccd0cb394c54c79bfba8b1c09fce7ee2973e\n(cherry picked from commit 8b86c8194b2726dcecbc1487a8f567043828dcde)\n'}]",0,712425,57440edf8028fb91a0d39693f18205dac8d26d3f,8,3,1,14826,,,0,"CI: Reduce unnecessary gate image builds

Backport note: added CentOS 8 skip for tgtd present in master - somehow
this was missed in backport.

Due to regex matching of images, we are currently building quite a few
unnecessary images in CI. Images that can unexpectedly match:

* barbican-keystone-listener
* ironic-neutron-agent
* prometheus-haproxy-exporter
* prometheus-memcached-exporter

This change improves the situation by anchoring matches to the start of
the name. A full solution would be to specify every image required for
each job. This would be quite verbose and require maintenance.

Change-Id: I7387ccd0cb394c54c79bfba8b1c09fce7ee2973e
(cherry picked from commit 8b86c8194b2726dcecbc1487a8f567043828dcde)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/712425/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,57440edf8028fb91a0d39693f18205dac8d26d3f,," GATE_IMAGES=""^cron,^fluentd,^glance,^haproxy,^keepalived,^keystone,^kolla-toolbox,^mariadb,^memcached,^neutron,^nova-,^openvswitch,^rabbitmq,^horizon,^chrony,^heat,^placement"" GATE_IMAGES+="",^ceph,^cinder"" GATE_IMAGES+="",^zun,^kuryr,^etcd,^cinder,^iscsid"" if [[ $BASE_DISTRO != ""centos"" ]] || [[ $BASE_DISTRO_MAJOR_VERSION -eq 7 ]]; then GATE_IMAGES+="",^tgtd"" fi GATE_IMAGES+="",^tacker,^mistral,^redis,^barbican"" GATE_IMAGES+="",^dnsmasq,^ironic,^iscsid"" GATE_IMAGES+="",^masakari"" GATE_IMAGES=""^cron,^haproxy,^keepalived,^kolla-toolbox,^mariadb"""," GATE_IMAGES=""cron,fluentd,glance,haproxy,keepalived,keystone,kolla-toolbox,mariadb,memcached,neutron,nova,openvswitch,rabbitmq,horizon,chrony,heat,placement"" GATE_IMAGES+="",ceph,cinder"" GATE_IMAGES+="",zun,kuryr,etcd,cinder,iscsid,tgtd"" GATE_IMAGES+="",tacker,mistral,redis,barbican"" GATE_IMAGES+="",dnsmasq,ironic,iscsid"" GATE_IMAGES+="",masakari"" GATE_IMAGES=""cron,haproxy,keepalived,kolla-toolbox,mariadb""",10,7
openstack%2Fkolla-ansible~stable%2Ftrain~Id1e8098cf59f66aa35b371149fdb4b517fa4c908,openstack/kolla-ansible,stable/train,Id1e8098cf59f66aa35b371149fdb4b517fa4c908,Construct service REST API urls using configured protocol,MERGED,2020-03-11 13:48:36.000000000,2020-03-17 20:01:53.000000000,2020-03-17 20:00:00.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30810}]","[{'number': 1, 'created': '2020-03-11 13:48:36.000000000', 'files': ['ansible/roles/ironic/templates/inspector.ipxe.j2', 'releasenotes/notes/fix-rest-url-protocol-07db2f6ffe02f9b3.yaml', 'ansible/roles/ironic/templates/pxelinux.default.j2', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/grafana/templates/prometheus.yaml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b2d318095be6669bdbda5fda359132cd3fcc362', 'message': 'Construct service REST API urls using configured protocol\n\nService REST API urls should be constructed using the\n{{ internal_protocol }} and {{ external_protocol }} configuration\nparameters.\n\nChange-Id: Id1e8098cf59f66aa35b371149fdb4b517fa4c908\nCloses-Bug: 1862817\n(cherry picked from commit d41f072c7b34192c707beb6e3d219356e1b732dc)\n'}]",0,712440,9b2d318095be6669bdbda5fda359132cd3fcc362,9,4,1,14826,,,0,"Construct service REST API urls using configured protocol

Service REST API urls should be constructed using the
{{ internal_protocol }} and {{ external_protocol }} configuration
parameters.

Change-Id: Id1e8098cf59f66aa35b371149fdb4b517fa4c908
Closes-Bug: 1862817
(cherry picked from commit d41f072c7b34192c707beb6e3d219356e1b732dc)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/712440/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/inspector.ipxe.j2', 'releasenotes/notes/fix-rest-url-protocol-07db2f6ffe02f9b3.yaml', 'ansible/roles/ironic/templates/pxelinux.default.j2', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/grafana/templates/prometheus.yaml.j2']",5,9b2d318095be6669bdbda5fda359132cd3fcc362,bug/1862817, url: {{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_port }}, url: http://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ prometheus_port }},10,4
openstack%2Fkolla-ansible~stable%2Fstein~Ia73b5665cece523bb822f6a223335f6fae94fb6a,openstack/kolla-ansible,stable/stein,Ia73b5665cece523bb822f6a223335f6fae94fb6a,Fix native openvswitch firewall driver in neutron-openvswitch-agent,MERGED,2020-03-17 17:06:22.000000000,2020-03-17 20:01:32.000000000,2020-03-17 20:00:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-03-17 17:06:22.000000000', 'files': ['releasenotes/notes/bug-1867506-3613746b8647cd73.yaml', 'ansible/roles/neutron/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3eb908272d23e8108ec543d889c565357b8604ca', 'message': 'Fix native openvswitch firewall driver in neutron-openvswitch-agent\n\novs-ofctl is still being run by neutron-openvswitch-agent.\nPotential removal is scheduled for Victoria.\nUntil then, we have to mount /run/openvswitch in there.\n\nChange-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a\nCloses-bug: #1867506\n(cherry picked from commit cf918fbc294be35f662d6b2851f3cdc00bc2b1bb)\n'}]",0,713488,3eb908272d23e8108ec543d889c565357b8604ca,9,3,1,30491,,,0,"Fix native openvswitch firewall driver in neutron-openvswitch-agent

ovs-ofctl is still being run by neutron-openvswitch-agent.
Potential removal is scheduled for Victoria.
Until then, we have to mount /run/openvswitch in there.

Change-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a
Closes-bug: #1867506
(cherry picked from commit cf918fbc294be35f662d6b2851f3cdc00bc2b1bb)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/713488/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1867506-3613746b8647cd73.yaml', 'ansible/roles/neutron/defaults/main.yml']",2,3eb908272d23e8108ec543d889c565357b8604ca,bug/1867506," - ""/run/openvswitch:/run/openvswitch:shared""",,7,0
openstack%2Fopenstack-helm-infra~master~Ie53162cfdea5553191d3b5dbdfec195e4001b255,openstack/openstack-helm-infra,master,Ie53162cfdea5553191d3b5dbdfec195e4001b255,Enable AppArmor profile to Openvswitch.,MERGED,2020-01-31 02:02:16.000000000,2020-03-17 19:58:49.000000000,2020-03-17 19:57:10.000000000,"[{'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28849}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-01-31 02:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/040d922ff471e32a62d55c089895efa3b09611e1', 'message': '[WIP] Add default AppArmor profile to prometheus.\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-01-31 02:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9f38dc91e9aa8e52b08d8e8af49ef0ea576149f', 'message': '[WIP] Add default AppArmor profile to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 3, 'created': '2020-02-01 03:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/047ea363982178d687622d2d1903df7b7c46db74', 'message': '[WIP] Add default AppArmor profile to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 4, 'created': '2020-02-01 21:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b96f28c48296a99fd496b9a45d82e63c34e9020', 'message': 'Add AppArmor profile to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 5, 'created': '2020-02-03 15:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/047bba6bd4dc4454e40c76cd9ee4c23766643f4e', 'message': 'Add AppArmor profile to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 6, 'created': '2020-02-03 17:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2b45e0c0be43f077d7b54c8ea2e02d8987b93166', 'message': 'Add AppArmor profile to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 7, 'created': '2020-02-04 15:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3df5f159bc8137e2d1919426fa89ad6042f40c47', 'message': 'Add AppArmor profile to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 8, 'created': '2020-02-04 19:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/456a81d41d9dae2e2fa561a51297eaecf51a2279', 'message': 'Add AppArmor profile to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 9, 'created': '2020-02-04 20:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/742907152a7834108e9256a390ba672c74e2f8f9', 'message': '[WIP] Add AppArmor profile to Openvswitch\nThis adds Apparmor profile  and Gate Jobs to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 10, 'created': '2020-02-04 20:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5379373649e90086da6c793971255eb8bc7c0dcf', 'message': '[WIP] Add AppArmor profile to Openvswitch\nThis adds Apparmor profile  and Gate Jobs to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 11, 'created': '2020-02-04 21:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8aeb9ca6b553743595e404bca87c819fd2b3be73', 'message': '[WIP] Add AppArmor profile to Openvswitch\nThis adds Apparmor profile  and Gate Jobs to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 12, 'created': '2020-02-04 22:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/29d93a86984938cc54fedc7e35290c567f29b1f4', 'message': '[WIP] Add AppArmor profile to Openvswitch\nThis adds Apparmor profile  and Gate Jobs to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 13, 'created': '2020-02-04 22:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a772e386ae7de6eccb27f0272e16eca3194245e', 'message': '[WIP] Add AppArmor profile to Openvswitch\nThis adds Apparmor profile  and Gate Jobs to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 14, 'created': '2020-02-04 23:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03e81d9c4c0f9a2ba9add47dfab28024ba3869af', 'message': '[WIP] Add AppArmor profile to Openvswitch\nThis adds Apparmor profile  and Gate Jobs to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 15, 'created': '2020-02-04 23:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cfc0b0f0520cff2de3c9d735f6fa55fc7968de73', 'message': '[WIP] Add AppArmor profile to Openvswitch\nThis adds Apparmor profile  and Gate Jobs to Openvswitch\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 16, 'created': '2020-02-05 00:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9d066fe87143d765daa6573923cdcdeaeb1da8c', 'message': '[WIP] Add AppArmor profile to Openvswitch\n\nThis adds Apparmor profile  and Gate Jobs to Openvswitch. This also\nfixes elasticsearch gate job.\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 17, 'created': '2020-02-05 02:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fbe47e94ea745f204d1b549cefed2491686d1c41', 'message': '[WIP] Add AppArmor profile to Openvswitch\n\nThis adds Apparmor profile  and Gate Jobs to Openvswitch. This also\nfixes elasticsearch gate job.\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 18, 'created': '2020-02-05 14:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d401b3dae4db551cf348757cc17af10a8fad151d', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 19, 'created': '2020-02-05 16:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/06fd25d9f4c03e3094ebff0a2ebddb9954123dc5', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 20, 'created': '2020-02-05 18:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2294448ef5e2b1fba7eea7b23a5686224808c1df', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 21, 'created': '2020-02-05 19:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9c4fa62737610e931a4cf2320b9f26dead4eb515', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 22, 'created': '2020-02-05 20:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c9f4b0f501e8f4ab127fe97f01462d43b804ace9', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 23, 'created': '2020-02-05 21:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/88f65d3a343c39b11a63a6c2bc9b382a78f92409', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 24, 'created': '2020-02-05 21:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a4e5efe71df63d432b76d411220b161af76506e0', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 25, 'created': '2020-02-05 22:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c54c262eb895ec658a39458babf8283bf07d9057', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 26, 'created': '2020-02-06 15:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7802f800f0541ebfddebe78283e3759b24a9ae5', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 27, 'created': '2020-02-12 21:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/830e07b7f4a2c0f18fd7f3fae1cc477efa76f1c7', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 28, 'created': '2020-02-13 14:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0cdc7efa24f5051fe285a64c0b18643c36961056', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 29, 'created': '2020-02-13 14:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81aab8f5439ffea56f6c8171ca0395c1d2ce959f', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 30, 'created': '2020-02-13 16:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d15f02ef92c035810cc5e7b63842da06aa00dec', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 31, 'created': '2020-02-13 16:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cb5f1005271e86fdbf097e5904cd1eb1716e0862', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 32, 'created': '2020-02-13 17:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d8f63956cd9e14b64f345db87523e2eaed5925bf', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 33, 'created': '2020-02-13 18:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d7b2f2457b7d11a7ae57459829e458bd2b830bd', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 34, 'created': '2020-02-17 16:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/16aa25603303e285305b0afba7bd0d312ef149ae', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 35, 'created': '2020-02-17 18:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c3f877f3c3adeb939ca188c9a476c49e53caa3fd', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 36, 'created': '2020-02-20 15:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4433e4cb13a1d739914259dc19c3bd86c0c7219c', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 37, 'created': '2020-02-27 20:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c65e2f4f4d97816f987bfcae9310c0e16301619', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 38, 'created': '2020-02-27 20:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2716c7f1568aad55c772704155fa95468336201b', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 39, 'created': '2020-03-02 16:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0b75a6014b51747aa3249ed629ac8a877e1c0aa', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 40, 'created': '2020-03-02 21:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6a08ac231f1cfcaa8fba7ec61a0ffcff81d8b09', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 41, 'created': '2020-03-03 20:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/885c76b56bdbc12cfd15f2510b38368ed04555e0', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 42, 'created': '2020-03-03 23:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/91823435b693ba36ada12d88c37a6085a992bfa7', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 43, 'created': '2020-03-04 01:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/732bb4b575be82963a5d9779884fcee056df8d3f', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 44, 'created': '2020-03-04 02:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/851b2821e7f68f822ed60012549d530f0116c447', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 45, 'created': '2020-03-04 18:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e8822b4c5b57f69ff71e44f73637e844a54859d', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 46, 'created': '2020-03-04 21:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e058a685c126a244700dcd4b3d682fe374c7f471', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 47, 'created': '2020-03-04 22:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/338a14abe94e7c4dbdc292736036047e9b4e05bb', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 48, 'created': '2020-03-04 23:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/56e2edcdab38dd03499ee0fd2c84ee7252b12fda', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 49, 'created': '2020-03-06 00:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3674da28efe0119e3dd729ba09410f673b747269', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 50, 'created': '2020-03-09 18:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9a2eb2cac9d64c2ee158644a67c5bea1dd932039', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 51, 'created': '2020-03-09 18:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/73b6ccad60803a2b5afb09737b186f9b191b38d2', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 52, 'created': '2020-03-09 22:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e9330a125e4a74bd2f6ef2765a423d36169cf2c', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 53, 'created': '2020-03-10 18:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/40551773aaf8e4cd0586340f8e57626ef17e8090', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 54, 'created': '2020-03-11 16:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fe0a4db19abb4d56b651809778b80071b319c36f', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 55, 'created': '2020-03-13 16:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/83c13f0ffb38966f6edcb659ac285c0dfaa8e55e', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 56, 'created': '2020-03-13 18:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1bdee68b6701c8e423ddb8c4b85ae3cbb5463b06', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 57, 'created': '2020-03-13 19:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30109f8ef7181ff0b78ef3480310c4f26262d579', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 58, 'created': '2020-03-13 21:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4066e44249ebf37265e4e312bc7966ffb18ec070', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 59, 'created': '2020-03-14 04:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/72d984f0f28f9d7deda312cd5e6faf680bd05c7f', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 60, 'created': '2020-03-16 18:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f21fcab1004e1932d7789072bbbcc72cb0df0395', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 61, 'created': '2020-03-16 20:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7fb21e7cfaa6395b72c8b4f498fa841b094992ef', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 62, 'created': '2020-03-16 21:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e40c970afae376454c8654b18361673eafb927f', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 63, 'created': '2020-03-16 21:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/29b85c855df815385aa7d1635d45c0a9b338c2f6', 'message': '[WIP] Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the featuregates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 64, 'created': '2020-03-16 21:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9db2dd1c75ef4fe983144feeea10552b3c19e88c', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the feature gates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 65, 'created': '2020-03-17 00:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c3c24ee96f941fa7907e4d41cdcf3c0423004bc2', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the feature gates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 66, 'created': '2020-03-17 16:39:54.000000000', 'files': ['openvswitch/values_overrides/apparmor.yaml', 'tools/deployment/apparmor/120-openvswitch.sh', 'openvswitch/templates/daemonset-ovs-db.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c4b2be6bcc0f96b91a86520046628bca8ec4eb2e', 'message': 'Enable AppArmor profile to Openvswitch.\n\nThis adds Apparmor profile to Openvswitch. This change also refactors\nthe apparmor job to utilize the feature gates system instead of relying\non separate scripts\n\nChange-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",14,705143,c4b2be6bcc0f96b91a86520046628bca8ec4eb2e,177,10,66,29131,,,0,"Enable AppArmor profile to Openvswitch.

This adds Apparmor profile to Openvswitch. This change also refactors
the apparmor job to utilize the feature gates system instead of relying
on separate scripts

Change-Id: Ie53162cfdea5553191d3b5dbdfec195e4001b255
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/43/705143/65 && git format-patch -1 --stdout FETCH_HEAD,[],0,040d922ff471e32a62d55c089895efa3b09611e1,apparmor_openvswitch,,,0,0
openstack%2Fkolla~master~I5f05efecffe53ba2929758f140daec76ac83aca6,openstack/kolla,master,I5f05efecffe53ba2929758f140daec76ac83aca6,mark bifrost as unbuildable,MERGED,2020-03-17 11:28:27.000000000,2020-03-17 19:54:53.000000000,2020-03-17 19:53:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 11:28:27.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e4bb18819fc0480ecf36f98367cae48ec226bb50', 'message': ""mark bifrost as unbuildable\n\nBifrost fails again. Let's stop building it for now.\n\nChange-Id: I5f05efecffe53ba2929758f140daec76ac83aca6\n""}]",0,713408,e4bb18819fc0480ecf36f98367cae48ec226bb50,24,5,1,24072,,,0,"mark bifrost as unbuildable

Bifrost fails again. Let's stop building it for now.

Change-Id: I5f05efecffe53ba2929758f140daec76ac83aca6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/713408/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,e4bb18819fc0480ecf36f98367cae48ec226bb50,," ""bifrost-base"",",,1,0
openstack%2Fproject-config~master~I76b3f32adc21deeb5cc426b1cdae47fcd4a1df2f,openstack/project-config,master,I76b3f32adc21deeb5cc426b1cdae47fcd4a1df2f,Reduce duplication in gerritbot config,ABANDONED,2019-01-10 19:00:58.000000000,2020-03-17 19:52:36.000000000,,"[{'_account_id': 1}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-10 19:00:58.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5db3434fbb33190d5ea5bd79582f49decdd80377', 'message': 'Reduce duplication in gerritbot config\n\nUse yaml references to keep the projects announced in #openstack-infra\nand #opendev in sync.\n\nChange-Id: I76b3f32adc21deeb5cc426b1cdae47fcd4a1df2f\n'}]",0,629919,5db3434fbb33190d5ea5bd79582f49decdd80377,6,2,1,1,,,0,"Reduce duplication in gerritbot config

Use yaml references to keep the projects announced in #openstack-infra
and #opendev in sync.

Change-Id: I76b3f32adc21deeb5cc426b1cdae47fcd4a1df2f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/19/629919/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,5db3434fbb33190d5ea5bd79582f49decdd80377,, projects: &opendev_projects branches: &opendev_branches projects: *opendev_projects branches: *opendev_branches, projects: branches: projects: - openstack-dev/cookiecutter - openstack-dev/hacking - openstack-dev/openstack-nose - openstack-dev/pbr - openstack-dev/specs-cookiecutter - openstack-infra/afsmon - openstack-infra/ansible-build-image - openstack-infra/ansible-role-puppet - openstack-infra/askbot-theme - openstack-infra/bindep - openstack-infra/bugdaystats - openstack-infra/ciwatch - openstack-infra/devstack-gate - openstack-infra/elastic-recheck - openstack-infra/gear - openstack-infra/gearman-plugin - openstack-infra/germqtt - openstack-infra/gerrit - openstack-infra/gerritbot - openstack-infra/gerritlib - openstack-infra/git-restack - openstack-infra/git-review - openstack-infra/gitdm - openstack-infra/glean - openstack-infra/grafyaml - openstack-infra/groups - openstack-infra/groups-static-pages - openstack-infra/infra-ansible - openstack-infra/infra-manual - openstack-infra/infra-specs - openstack-infra/irc-meetings - openstack-infra/jeepyb - openstack-infra/lodgeit - openstack-infra/log-classify - openstack-infra/log_processor - openstack-infra/logstash-filters - openstack-infra/lpmqtt - openstack-infra/meetbot - openstack-infra/mqtt_statsd - openstack-infra/nodepool - openstack-infra/nose-html-output - openstack-infra/odsreg - openstack-infra/opendev-website - openstack-infra/openstack-zuul-jobs - openstack-infra/openstack-zuul-roles - openstack-infra/openstackid - openstack-infra/openstackid-resources - openstack-infra/openstackweb - openstack-infra/os-loganalyze - openstack-infra/project-config - openstack-infra/project-config-example - openstack-infra/publications - openstack-infra/puppet-accessbot - openstack-infra/puppet-ansible - openstack-infra/puppet-apparmor - openstack-infra/puppet-askbot - openstack-infra/puppet-asterisk - openstack-infra/puppet-bandersnatch - openstack-infra/puppet-bugdaystats - openstack-infra/puppet-bup - openstack-infra/puppet-cgit - openstack-infra/puppet-ciwatch - openstack-infra/puppet-dashboard - openstack-infra/puppet-diskimage_builder - openstack-infra/puppet-drupal - openstack-infra/puppet-elastic_recheck - openstack-infra/puppet-elasticsearch - openstack-infra/puppet-ethercalc - openstack-infra/puppet-etherpad_lite - openstack-infra/puppet-exim - openstack-infra/puppet-germqtt - openstack-infra/puppet-gerrit - openstack-infra/puppet-gerritbot - openstack-infra/puppet-github - openstack-infra/puppet-grafyaml - openstack-infra/puppet-graphite - openstack-infra/puppet-haveged - openstack-infra/puppet-hound - openstack-infra/puppet-httpd - openstack-infra/puppet-infra-cookiecutter - openstack-infra/puppet-infracloud - openstack-infra/puppet-ipsilon - openstack-infra/puppet-iptables - openstack-infra/puppet-jeepyb - openstack-infra/puppet-jenkins - openstack-infra/puppet-kerberos - openstack-infra/puppet-kibana - openstack-infra/puppet-lodgeit - openstack-infra/puppet-log_processor - openstack-infra/puppet-logrotate - openstack-infra/puppet-logstash - openstack-infra/puppet-lpmqtt - openstack-infra/puppet-mailman - openstack-infra/puppet-mediawiki - openstack-infra/puppet-meetbot - openstack-infra/puppet-mosquitto - openstack-infra/puppet-mqtt_statsd - openstack-infra/puppet-mysql_backup - openstack-infra/puppet-nodepool - openstack-infra/puppet-openafs - openstack-infra/puppet-openstack_health - openstack-infra/puppet-openstack_infra_spec_helper - openstack-infra/puppet-openstackci - openstack-infra/puppet-openstackid - openstack-infra/puppet-os_client_config - openstack-infra/puppet-packagekit - openstack-infra/puppet-pgsql_backup - openstack-infra/puppet-phabricator - openstack-infra/puppet-pip - openstack-infra/puppet-planet - openstack-infra/puppet-project_config - openstack-infra/puppet-ptgbot - openstack-infra/puppet-puppet - openstack-infra/puppet-redis - openstack-infra/puppet-refstack - openstack-infra/puppet-reviewday - openstack-infra/puppet-simpleproxy - openstack-infra/puppet-snmpd - openstack-infra/puppet-ssh - openstack-infra/puppet-ssl_cert_check - openstack-infra/puppet-stackalytics - openstack-infra/puppet-statusbot - openstack-infra/puppet-storyboard - openstack-infra/puppet-subunit2sql - openstack-infra/puppet-sudoers - openstack-infra/puppet-tmpreaper - openstack-infra/puppet-translation_checksite - openstack-infra/puppet-ulimit - openstack-infra/puppet-unattended_upgrades - openstack-infra/puppet-unbound - openstack-infra/puppet-user - openstack-infra/puppet-vcsrepo - openstack-infra/puppet-yum - openstack-infra/puppet-zanata - openstack-infra/puppet-zuul - openstack-infra/python-storyboardclient - openstack-infra/reviewday - openstack-infra/reviewstats - openstack-infra/statusbot - openstack-infra/storyboard - openstack-infra/storyboard-webclient - openstack-infra/subunit2sql - openstack-infra/system-config - openstack-infra/yaml2ical - openstack-infra/zmq-event-publisher - openstack-infra/zone-opendev.org - openstack-infra/zone-zuul-ci.org - openstack-infra/zuul - openstack-infra/zuul-base-jobs - openstack-infra/zuul-jobs - openstack-infra/zuul-sphinx - openstack-infra/zuul-website - openstack-infra/zuul-website-media - openstack/ansible-role-cloud-launcher - openstack/boartty - openstack/diskimage-builder - openstack/gertty - openstack/os-performance-tools - openstack/os-testr - openstack/ptgbot branches: - master - debian/sid #zuul-packaging repo - feature/development #askbot-theme repo - feature/openid #openstackid repo - feature/gearman-zk-shim # nodepool - openstack/2.10.2 #gerrit repo - results #gitdm repo # Branches for publications repo - ci-automation - devstack-tutorial - gearman-plugin - overview - processing-ci-log-events - stackforge - sysadmin-codereview - template - using-your-own - zuul,4,182
openstack%2Ftripleo-ansible~master~I40581a5dce4d3b1aacabaa258b847876f095f7a3,openstack/tripleo-ansible,master,I40581a5dce4d3b1aacabaa258b847876f095f7a3,"Unprovision confirmation, write an env file",MERGED,2020-03-09 22:44:00.000000000,2020-03-17 19:36:47.000000000,2020-03-17 19:36:47.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-09 22:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/96ef172a35fd7c1dc5849d146fb6d540155e090a', 'message': 'Unprovision confirmation, write an env file\n\nThe overcloud node delete command has extra logic to map nodes to heat\nresources[1], and this needs the roles to be expanded to provisioned\nnodes.\n\nThis change uses the prompt=true path to also write out a provisioned\nheat environment file when unprovision_environment is set.\n\nStory: 2007212\nTask: 38457\n\n[1] https://opendev.org/openstack/python-tripleoclient/src/branch/master/tripleoclient/v1/overcloud_node.py#L125\n\nChange-Id: I40581a5dce4d3b1aacabaa258b847876f095f7a3\n'}, {'number': 2, 'created': '2020-03-16 20:50:31.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-unprovision.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dbf34be5ffada63cc6fa2ccc3c163e06afe30ab2', 'message': 'Unprovision confirmation, write an env file\n\nThe overcloud node delete command has extra logic to map nodes to heat\nresources[1], and this needs the roles to be expanded to provisioned\nnodes.\n\nThis change uses the prompt=true path to also write out a provisioned\nheat environment file when unprovision_environment is set.\n\nStory: 2007212\nTask: 38457\n\n[1] https://opendev.org/openstack/python-tripleoclient/src/branch/master/tripleoclient/v1/overcloud_node.py#L125\n\nChange-Id: I40581a5dce4d3b1aacabaa258b847876f095f7a3\n'}]",2,711994,dbf34be5ffada63cc6fa2ccc3c163e06afe30ab2,13,4,2,4571,,,0,"Unprovision confirmation, write an env file

The overcloud node delete command has extra logic to map nodes to heat
resources[1], and this needs the roles to be expanded to provisioned
nodes.

This change uses the prompt=true path to also write out a provisioned
heat environment file when unprovision_environment is set.

Story: 2007212
Task: 38457

[1] https://opendev.org/openstack/python-tripleoclient/src/branch/master/tripleoclient/v1/overcloud_node.py#L125

Change-Id: I40581a5dce4d3b1aacabaa258b847876f095f7a3
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/711994/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-unprovision.yaml'],1,96ef172a35fd7c1dc5849d146fb6d540155e090a,mistral_to_ansible," - fail: msg: unprovision_confirm or unprovision_environment is required when prompt is true when: - prompt - unprovision_confirm is undefined or unprovision_environment is undefined block: - copy: dest: ""{{ unprovision_confirm }}"" content: ""{{ baremetal_existing.instances | to_json }}"" when: unprovision_confirm is defined - name: Expand roles for provisioned instances tripleo_baremetal_expand_roles: baremetal_deployment: ""{{ baremetal_deployment }}"" stack_name: ""{{ stack_name }}"" state: present register: baremetal_instances_existing when: unprovision_environment is defined - copy: dest: ""{{ unprovision_environment }}"" content: ""{{ baremetal_instances_existing.environment | to_json }}"" when: unprovision_environment is defined"," copy: dest: ""{{ unprovision_confirm }}"" content: ""{{ baremetal_existing.instances | to_json }}""",22,3
openstack%2Frpm-packaging~stable%2Ftrain~I8b9ad829a1c3cee67d36d32e9db3b62051d63df7,openstack/rpm-packaging,stable/train,I8b9ad829a1c3cee67d36d32e9db3b62051d63df7,python-tempestconf: convert to python3,MERGED,2020-03-17 16:49:13.000000000,2020-03-17 19:32:08.000000000,2020-03-17 19:32:08.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 16:49:13.000000000', 'files': ['openstack/python-tempestconf/python-tempestconf.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/28cf2eff2e8296fb80453731887950a58f1ce543', 'message': 'python-tempestconf: convert to python3\n\nChange-Id: I8b9ad829a1c3cee67d36d32e9db3b62051d63df7\n(cherry picked from commit b4210a639223c3c3d8496b6ce32baaf77225f775)\n'}]",0,713484,28cf2eff2e8296fb80453731887950a58f1ce543,9,4,1,13294,,,0,"python-tempestconf: convert to python3

Change-Id: I8b9ad829a1c3cee67d36d32e9db3b62051d63df7
(cherry picked from commit b4210a639223c3c3d8496b6ce32baaf77225f775)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/84/713484/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-tempestconf/python-tempestconf.spec.j2'],1,28cf2eff2e8296fb80453731887950a58f1ce543,remove-python2-stable/train,BuildRequires: {{ py3('openstacksdk') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n python3-tempestconf Summary: OpenStack Tempest Config generator Requires: {{ py2pkg('Tempest') }} Requires: {{ py3('PyYAML') }} Requires: {{ py3('castellan') }} Requires: {{ py3('cryptography') }} Requires: {{ py3('openstacksdk') }} Requires: {{ py3('pbr') }} Requires: {{ py3('requests') }} %description -n python3-tempestconf %{common_desc} This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }} BuildRequires: {{ py3('sphinx-argparse') }}%{py3_build}PBR_VERSION={{ upstream_version }} %sphinx_build -b html doc/source doc/build/html%{py3_install}%files -n python3-tempestconf%{_bindir}/discover-tempest-config %{python3_sitelib}/config_tempest %{python3_sitelib}/python_tempestconf-*.egg-info,"BuildRequires: {{ py2pkg('openstacksdk', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('castellan') }} Requires: {{ py2pkg('cryptography') }} Requires: {{ py2pkg('openstacksdk') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('requests') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackagesBuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }} BuildRequires: {{ py2pkg('sphinx-argparse') }}%{python_build}PBR_VERSION={{ upstream_version }} sphinx-build -b html doc/source doc/build/html%{python_install} %python_clone -a %{buildroot}%{_bindir}/discover-tempest-config%post %python_install_alternative discover-tempest-config %postun %python_uninstall_alternative discover-tempest-config %files %{python_files}%python_alternative %{_bindir}/discover-tempest-config %{python_sitelib}/config_tempest %{python_sitelib}/python_tempestconf-*.egg-info",32,40
openstack%2Fproject-config~master~Ib49a2f51504fb5b001d08219d4549e9fd97bb5bb,openstack/project-config,master,Ib49a2f51504fb5b001d08219d4549e9fd97bb5bb,Move diskimage-builder to #opendev,MERGED,2020-03-05 09:43:03.000000000,2020-03-17 19:22:34.000000000,2020-03-17 19:22:34.000000000,"[{'_account_id': 3099}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 09:43:03.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b93e28b56feb6fa38cf9d0e6df8a82241757b6a3', 'message': 'Move diskimage-builder to #opendev\n\nMove diskimage-builder from #openstack-infra to #opendev, since images\nbuilt by OpenDev use it.\n\nChange-Id: Ib49a2f51504fb5b001d08219d4549e9fd97bb5bb\n'}]",0,711412,b93e28b56feb6fa38cf9d0e6df8a82241757b6a3,8,4,1,6547,,,0,"Move diskimage-builder to #opendev

Move diskimage-builder from #openstack-infra to #opendev, since images
built by OpenDev use it.

Change-Id: Ib49a2f51504fb5b001d08219d4549e9fd97bb5bb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/711412/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,b93e28b56feb6fa38cf9d0e6df8a82241757b6a3,opendev-channels, - openstack/diskimage-builder, - openstack/diskimage-builder,1,1
openstack%2Fproject-config~master~I63f99b6bc3c9c674577249561a7d8618cb3d1d1a,openstack/project-config,master,I63f99b6bc3c9c674577249561a7d8618cb3d1d1a,Cleanup #openstack-infra gerritbot,MERGED,2020-03-03 20:21:43.000000000,2020-03-17 19:21:35.000000000,2020-03-17 19:21:35.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-03-03 20:21:43.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5ee79aac9342a7485e17a87f277b4537a33d2f3f', 'message': 'Cleanup #openstack-infra gerritbot\n\nRemove the repositories that are now in #opendev:\n- all opendev repos\n- ttypgroup\n- infra related x/ repos\n- openstack/infra-manual\n\nRemove all repos now in #zuul with exception of zuul/zuul-jobs as\nthat one is used by openstack heavily as well.\n\nRemove branches, the repos with branches have been removed.\n\nChange-Id: I63f99b6bc3c9c674577249561a7d8618cb3d1d1a\n'}]",7,711106,5ee79aac9342a7485e17a87f277b4537a33d2f3f,21,10,1,6547,,,0,"Cleanup #openstack-infra gerritbot

Remove the repositories that are now in #opendev:
- all opendev repos
- ttypgroup
- infra related x/ repos
- openstack/infra-manual

Remove all repos now in #zuul with exception of zuul/zuul-jobs as
that one is used by openstack heavily as well.

Remove branches, the repos with branches have been removed.

Change-Id: I63f99b6bc3c9c674577249561a7d8618cb3d1d1a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/711106/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,5ee79aac9342a7485e17a87f277b4537a33d2f3f,opendev-channels,, - openstack/diskimage-builder - opendev/afsmon - opendev/ansible-role-cloud-launcher - opendev/ansible-role-puppet - opendev/askbot-theme - opendev/base-jobs - opendev/bindep - opendev/elastic-recheck - opendev/gear - opendev/germqtt - opendev/gerrit - opendev/gerritbot - opendev/gerritlib - opendev/git-restack - opendev/git-review - opendev/glean - opendev/grafyaml - opendev/infra-specs - opendev/irc-meetings - opendev/jeepyb - opendev/lodgeit - opendev/log-classify - opendev/log_processor - opendev/lpmqtt - opendev/meetbot - opendev/mqtt_statsd - opendev/project-config - opendev/project-config-example - opendev/publications - opendev/puppet-accessbot - opendev/puppet-ansible - opendev/puppet-apparmor - opendev/puppet-askbot - opendev/puppet-asterisk - opendev/puppet-bandersnatch - opendev/puppet-bugdaystats - opendev/puppet-bup - opendev/puppet-cgit - opendev/puppet-ciwatch - opendev/puppet-dashboard - opendev/puppet-diskimage_builder - opendev/puppet-drupal - opendev/puppet-elastic_recheck - opendev/puppet-elasticsearch - opendev/puppet-ethercalc - opendev/puppet-etherpad_lite - opendev/puppet-exim - opendev/puppet-germqtt - opendev/puppet-gerrit - opendev/puppet-gerritbot - opendev/puppet-github - opendev/puppet-grafyaml - opendev/puppet-graphite - opendev/puppet-haveged - opendev/puppet-hound - opendev/puppet-httpd - opendev/puppet-infra-cookiecutter - opendev/puppet-infracloud - opendev/puppet-ipsilon - opendev/puppet-iptables - opendev/puppet-jeepyb - opendev/puppet-jenkins - opendev/puppet-kerberos - opendev/puppet-kibana - opendev/puppet-lodgeit - opendev/puppet-log_processor - opendev/puppet-logrotate - opendev/puppet-logstash - opendev/puppet-lpmqtt - opendev/puppet-mailman - opendev/puppet-mediawiki - opendev/puppet-meetbot - opendev/puppet-mosquitto - opendev/puppet-mqtt_statsd - opendev/puppet-mysql_backup - opendev/puppet-nodepool - opendev/puppet-openafs - opendev/puppet-openstack_health - opendev/puppet-openstack_infra_spec_helper - opendev/puppet-openstackci - opendev/puppet-openstackid - opendev/puppet-os_client_config - opendev/puppet-packagekit - opendev/puppet-pgsql_backup - opendev/puppet-phabricator - opendev/puppet-pip - opendev/puppet-planet - opendev/puppet-project_config - opendev/puppet-ptgbot - opendev/puppet-puppet - opendev/puppet-redis - opendev/puppet-refstack - opendev/puppet-reviewday - opendev/puppet-simpleproxy - opendev/puppet-snmpd - opendev/puppet-ssh - opendev/puppet-ssl_cert_check - opendev/puppet-statusbot - opendev/puppet-storyboard - opendev/puppet-subunit2sql - opendev/puppet-sudoers - opendev/puppet-tmpreaper - opendev/puppet-translation_checksite - opendev/puppet-ulimit - opendev/puppet-unattended_upgrades - opendev/puppet-unbound - opendev/puppet-user - opendev/puppet-vcsrepo - opendev/puppet-zanata - opendev/puppet-zuul - opendev/python-storyboardclient - opendev/statusbot - opendev/storyboard - opendev/storyboard-webclient - opendev/subunit2sql - opendev/system-config - opendev/yaml2ical - opendev/zone-opendev.org - opendev/zone-zuul-ci.org - openstack/infra-manual - ttygroup/boartty - ttygroup/gertty - x/ciwatch - x/gearman-plugin - x/gitdm - x/infra-ansible - zuul/gcp-authdaemon - zuul/nodepool - zuul/zuul - zuul/zuul-base-jobs - zuul/zuul-helm - zuul/zuul-operator - zuul/zuul-preview - zuul/zuul-registry - zuul/zuul-sphinx - zuul/zuul-website - zuul/zuul-website-media - debian/sid #zuul-packaging repo - feature/development #askbot-theme repo - feature/openid #openstackid repo - feature/gearman-zk-shim # nodepool - openstack/2.10.2 #gerrit repo - results #gitdm repo # Branches for publications repo - ci-automation - devstack-tutorial - gearman-plugin - overview - processing-ci-log-events - stackforge - sysadmin-codereview - template - using-your-own - zuul,0,154
openstack%2Fopenstack-helm-infra~master~I00b5372d669068621577ae0fe370219a4aa53b6f,openstack/openstack-helm-infra,master,I00b5372d669068621577ae0fe370219a4aa53b6f,[ceph-client] Set target size ratio of pools for pg autoscaling,MERGED,2020-03-10 13:36:16.000000000,2020-03-17 19:19:15.000000000,2020-03-17 19:15:44.000000000,"[{'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-10 13:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6886d010cd7701fb44e5cf706b4c392f0d76aefe', 'message': ""[ceph-client] Set target size ratio of pool for pg autoscaling\n\nSetting the target size ratio of each pool initially to\neliminate health warning which is occuring with pg\nautoscaling is enabled as the sum of all the pools'\ntargets does not add to 1.0.\n\nChange-Id: I00b5372d669068621577ae0fe370219a4aa53b6f\n""}, {'number': 2, 'created': '2020-03-10 15:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b5d8002e6249d46f0e989cb8e07e1d552faec968', 'message': ""[ceph-client] Set target size ratio of pool for pg autoscaling\n\nSetting the target size ratio of each pool initially to\neliminate health warning which is occuring with pg\nautoscaling is enabled as the sum of all the pools'\ntargets does not add to 1.0.\n\nChange-Id: I00b5372d669068621577ae0fe370219a4aa53b6f\n""}, {'number': 3, 'created': '2020-03-10 15:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec342e1746b3cd0053b6c6c326bdc10bee456ded', 'message': ""[ceph-client] Set target size ratio of pool for pg autoscaling\n\nSetting the target size ratio of each pool initially to\neliminate health warning which is occuring with pg\nautoscaling is enabled as the sum of all the pools'\ntargets does not add to 1.0.\n\nChange-Id: I00b5372d669068621577ae0fe370219a4aa53b6f\n""}, {'number': 4, 'created': '2020-03-11 15:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a1aa26d0acea66a61bf67d1689da2cb05acf51f7', 'message': ""[ceph-client] Set target size ratio of pool for pg autoscaling\n\nSetting the target size ratio of each pool initially to\neliminate health warning which is occuring with pg\nautoscaling is enabled as the sum of all the pools'\ntargets does not add to 1.0.\n\nChange-Id: I00b5372d669068621577ae0fe370219a4aa53b6f\n""}, {'number': 5, 'created': '2020-03-11 15:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eca16ba50a0928892aed26584350042abdaba83e', 'message': '[ceph-client] Set target size ratio of pool for pg autoscaling\n\nSetting the target size ratio of each pool initially which will\nautoscale the num of pgs immediately before any data is written to\nthe pools. This will reduce backfilling as data is written as the\nautoscaling would have been done when the pool was first created.\n\nChange-Id: I00b5372d669068621577ae0fe370219a4aa53b6f\n'}, {'number': 6, 'created': '2020-03-11 15:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2031dd5b0722f51a2a0f1a301d5d85175325ad68', 'message': '[ceph-client] Set target size ratio of pools for pg autoscaling\n\nSetting the target size ratio of each pool initially which will\nautoscale the num of pgs immediately before any data is written to\nthe pools. This will reduce backfilling as data is written as the\nautoscaling would have been done when the pool was first created.\n\nChange-Id: I00b5372d669068621577ae0fe370219a4aa53b6f\n'}, {'number': 7, 'created': '2020-03-11 16:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/463f7cc0807394d4a8b1244129eedfa05c3e8d04', 'message': '[ceph-client] Set target size ratio of pools for pg autoscaling\n\nSetting the target size ratio of each pool initially which will\nautoscale the num of pgs immediately before any data is written to\nthe pools. This will reduce backfilling as data is written as the\nautoscaling would have been done when the pool was first created.\n\nChange-Id: I00b5372d669068621577ae0fe370219a4aa53b6f\n'}, {'number': 8, 'created': '2020-03-11 19:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a67b4d748d527f20bbc56eb72a6cabca07c9acaf', 'message': '[ceph-client] Set target size ratio of pools for pg autoscaling\n\nSetting the target size ratio of each pool initially which will\nautoscale the num of pgs immediately before any data is written to\nthe pools. This will reduce backfilling as data is written as the\nautoscaling would have been done when the pool was first created.\n\nChange-Id: I00b5372d669068621577ae0fe370219a4aa53b6f\n'}, {'number': 9, 'created': '2020-03-17 16:53:42.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4a35fb3fafe5c4a31d5ca2f9949ce1fb4ffe4011', 'message': '[ceph-client] Set target size ratio of pools for pg autoscaling\n\nSetting the target size ratio of each pool initially which will\nautoscale the num of pgs immediately before any data is written to\nthe pools. This will reduce backfilling as data is written as the\nautoscaling would have been done when the pool was first created.\n\nChange-Id: I00b5372d669068621577ae0fe370219a4aa53b6f\n'}]",6,712072,4a35fb3fafe5c4a31d5ca2f9949ce1fb4ffe4011,35,9,9,18511,,,0,"[ceph-client] Set target size ratio of pools for pg autoscaling

Setting the target size ratio of each pool initially which will
autoscale the num of pgs immediately before any data is written to
the pools. This will reduce backfilling as data is written as the
autoscaling would have been done when the pool was first created.

Change-Id: I00b5372d669068621577ae0fe370219a4aa53b6f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/72/712072/5 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,6886d010cd7701fb44e5cf706b4c392f0d76aefe,," TOTAL_DATA_PERCENT=$4 POOL_PLACEMENT_GROUPS=$5 POOL_CRUSH_RULE=$6 POOL_PROTECTION=$7 TARGET_SIZE_RATIO=$(python -c ""print(($TOTAL_DATA_PERCENT / 100.0))"") if [[ -z ""$(ceph osd versions | grep ceph\ version | grep -v nautilus)"" ]]; then ceph --cluster ""${CLUSTER}"" osd pool set ""${POOL_NAME}"" target_size_ratio ${TARGET_SIZE_RATIO} fi ceph --cluster ""${CLUSTER}"" osd pool set ""${POOL_NAME}"" target_size_ratio ${TARGET_SIZE_RATIO} create_pool ""${POOL_APPLICATION}"" ""${POOL_NAME}"" ""${POOL_REPLICATION}"" ""${TOTAL_DATA_PERCENT}"" ""${POOL_PLACEMENT_GROUPS}"" ""${POOL_CRUSH_RULE}"" ""${POOL_PROTECTION}"""," POOL_PLACEMENT_GROUPS=$4 POOL_CRUSH_RULE=$5 POOL_PROTECTION=$6 create_pool ""${POOL_APPLICATION}"" ""${POOL_NAME}"" ""${POOL_REPLICATION}"" ""${POOL_PLACEMENT_GROUPS}"" ""${POOL_CRUSH_RULE}"" ""${POOL_PROTECTION}""",10,4
openstack%2Ftripleo-operator-ansible~master~I274adbabd4be705c7d746d8e9997d19826ebca19,openstack/tripleo-operator-ansible,master,I274adbabd4be705c7d746d8e9997d19826ebca19,Add overcloud netenv validate,MERGED,2020-03-11 22:51:45.000000000,2020-03-17 19:12:42.000000000,2020-03-17 19:12:42.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-11 22:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/c019bb5eb4f112e2b9db12219d665aaaf4bad9ed', 'message': 'Add overcloud netenv validate\n\nAdds tripleo_overcloud_netenv_validate to perform network environment\nfile validation.\n\nChange-Id: I274adbabd4be705c7d746d8e9997d19826ebca19\n'}, {'number': 2, 'created': '2020-03-12 13:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/0fa764fb7e59089d616b8f5f437541eb1bca9099', 'message': 'Add overcloud netenv validate\n\nAdds tripleo_overcloud_netenv_validate to perform network environment\nfile validation.\n\nChange-Id: I274adbabd4be705c7d746d8e9997d19826ebca19\n'}, {'number': 3, 'created': '2020-03-12 13:49:14.000000000', 'files': ['roles/tripleo_overcloud_netenv_validate/tasks/main.yml', 'roles/tripleo_overcloud_netenv_validate/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_netenv_validate/molecule/default/molecule.yml', 'roles/tripleo_overcloud_netenv_validate/meta/main.yml', 'roles/tripleo_overcloud_netenv_validate/README.md', 'roles/tripleo_overcloud_netenv_validate/molecule/default/converge.yml', 'roles/tripleo_overcloud_netenv_validate/tests/test.yml', 'roles/tripleo_overcloud_netenv_validate/defaults/main.yml', 'roles/tripleo_overcloud_netenv_validate/tests/inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/8d02eea30a1e86ce6aaaf1ed35e12fe09df076ef', 'message': 'Add overcloud netenv validate\n\nAdds tripleo_overcloud_netenv_validate to perform network environment\nfile validation.\n\nChange-Id: I274adbabd4be705c7d746d8e9997d19826ebca19\n'}]",0,712581,8d02eea30a1e86ce6aaaf1ed35e12fe09df076ef,11,3,3,14985,,,0,"Add overcloud netenv validate

Adds tripleo_overcloud_netenv_validate to perform network environment
file validation.

Change-Id: I274adbabd4be705c7d746d8e9997d19826ebca19
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/81/712581/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_netenv_validate/tasks/main.yml', 'roles/tripleo_overcloud_netenv_validate/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_netenv_validate/molecule/default/molecule.yml', 'roles/tripleo_overcloud_netenv_validate/meta/main.yml', 'roles/tripleo_overcloud_netenv_validate/README.md', 'roles/tripleo_overcloud_netenv_validate/molecule/default/converge.yml', 'roles/tripleo_overcloud_netenv_validate/tests/test.yml', 'roles/tripleo_overcloud_netenv_validate/defaults/main.yml', 'roles/tripleo_overcloud_netenv_validate/tests/inventory']",10,c019bb5eb4f112e2b9db12219d665aaaf4bad9ed,netenv-validate,localhost ,,234,0
openstack%2Ftripleo-operator-ansible~master~I4285e2a02c2e8d4e988c374e27ee77169416774b,openstack/tripleo-operator-ansible,master,I4285e2a02c2e8d4e988c374e27ee77169416774b,Add overcloud config download,MERGED,2020-03-11 22:32:42.000000000,2020-03-17 19:10:21.000000000,2020-03-17 19:10:21.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-11 22:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/3d20661d26aa8eb923176ffae96a6ce4cd090f00', 'message': 'Add overcloud config download\n\nAdds tripleo_ovecloud_config_download to wrap the config download\ncommand.\n\nChange-Id: I4285e2a02c2e8d4e988c374e27ee77169416774b\n'}, {'number': 2, 'created': '2020-03-12 13:47:02.000000000', 'files': ['roles/tripleo_overcloud_config_download/tests/test.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_config_download/molecule/default/molecule.yml', 'roles/tripleo_overcloud_config_download/meta/main.yml', 'roles/tripleo_overcloud_config_download/tests/inventory', 'roles/tripleo_overcloud_config_download/defaults/main.yml', 'roles/tripleo_overcloud_config_download/molecule/default/converge.yml', 'roles/tripleo_overcloud_config_download/molecule/default/prepare.yml', 'roles/tripleo_overcloud_config_download/tasks/main.yml', 'roles/tripleo_overcloud_config_download/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/12039affd1c96b03ca65b353cbe0dd716136ed6c', 'message': 'Add overcloud config download\n\nAdds tripleo_ovecloud_config_download to wrap the config download\ncommand.\n\nChange-Id: I4285e2a02c2e8d4e988c374e27ee77169416774b\n'}]",0,712578,12039affd1c96b03ca65b353cbe0dd716136ed6c,10,3,2,14985,,,0,"Add overcloud config download

Adds tripleo_ovecloud_config_download to wrap the config download
command.

Change-Id: I4285e2a02c2e8d4e988c374e27ee77169416774b
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/78/712578/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_config_download/tests/test.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_config_download/meta/main.yml', 'roles/tripleo_overcloud_config_download/molecule/default/molecule.yml', 'roles/tripleo_overcloud_config_download/defaults/main.yml', 'roles/tripleo_overcloud_config_download/tests/inventory', 'roles/tripleo_overcloud_config_download/molecule/default/converge.yml', 'roles/tripleo_overcloud_config_download/molecule/default/prepare.yml', 'roles/tripleo_overcloud_config_download/tasks/main.yml', 'roles/tripleo_overcloud_config_download/README.md']",10,3d20661d26aa8eb923176ffae96a6ce4cd090f00,tripleo-overcloud-cell,"tripleo_overcloud_config_download ================================= A role to perform an overcloud config download. Requirements ------------ None. Role Variables -------------- * `tripleo_overcloud_config_download_config_dir`: (String) Directory where the files will be downloaded to * `tripleo_overcloud_config_download_config_type`: (String) Type of object config to extract from the deployment * `tripleo_overcloud_config_download_debug`: (Boolean) Flag to print out the delete command. Default: False * `tripleo_overcloud_config_download_home_dir`: (String) Home directory to where the command is run from. Default: ""{{ ansible_env.HOME }}"" * `tripleo_overcloud_config_download_log_combine`: (Boolean) Flag to enable captching stderr with stdout. Default: true * `tripleo_overcloud_config_download_log_output`: (Boolean) Flag to enable logging to a file. Since the output of this command can be large, it is not recommended to disable this. Default: true * `tripleo_overcloud_config_download_log`: (String) Path to a log file for the command output. Default: ""{{ tripleo_overcloud_config_download_home_dir }}/overcloud_config_download.log"" * `tripleo_overcloud_config_download_name`: (String) Name of the plan * `tripleo_overcloud_config_download_no_preserve_config`: (Boolean) If set to `true` the config dir will be removed prior to download. Default: false * `tripleo_overcloud_config_download_os_cloud`: (String) (String) OS_CLOUD value to use when running the command. If `tripleo_os_cloud` is defined, it will be the default. Otherwise the default is ''. This variable takes precedence over `tripleo_overcloud_config_download_rc_file`. * `tripleo_overcloud_config_download_poll`: (Integer) Number of seconds to wait between each checks to see if the command has completed. Default: 10 * `tripleo_overcloud_config_download_rc_file`: (String) (String) Path to the credential file to use. If `tripleo_rc_file` is defined, it will be the default. Default: ""{{ ansible_env.HOME }}/stackrc"" * `tripleo_overcloud_config_download_timeout`: (Integer) Number in seconds to wait for the ansible execution of the command to finish. Default: 3600 Output Variables ---------------- * `tripleo_overcloud_config_download_output`: (String) The command standard output. * `tripleo_overcloud_config_download_result`: Ansible shell execution results Dependencies ------------ None. Example Playbook ---------------- Example config download ```yaml - hosts: undercloud gather_facts: true tasks: - name: overcloud config download import_role: name: tripleo_overcloud_config_download var: tripleo_overcloud_config_download_debug: true tripleo_overcloud_config_download_name: overcloud tripleo_overcloud_config_download_config_dir: /home/stack/config ``` License ------- Apache-2.0 ",,289,0
openstack%2Ftripleo-operator-ansible~master~I74671d5d2ab693a7d87c8d7151618b70645264ec,openstack/tripleo-operator-ansible,master,I74671d5d2ab693a7d87c8d7151618b70645264ec,Add overcloud cell export,MERGED,2020-03-10 21:25:11.000000000,2020-03-17 19:05:56.000000000,2020-03-17 19:05:56.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-10 21:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/bf589b6ac2404a596b90b227bb99c1e0fbb68d0f', 'message': 'Add overcloud cell export\n\nAdds tripleo_overcloud_cell_export to perform a cell export for a new\novercloud cell.\n\nChange-Id: I74671d5d2ab693a7d87c8d7151618b70645264ec\n'}, {'number': 2, 'created': '2020-03-10 21:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/29ce6b591ed450185731e1647dab0f3938d9dd49', 'message': 'Add overcloud cell export\n\nAdds tripleo_overcloud_cell_export to perform a cell export for a new\novercloud cell.\n\nChange-Id: I74671d5d2ab693a7d87c8d7151618b70645264ec\n'}, {'number': 3, 'created': '2020-03-10 22:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2157008dcc7b900d52be06b7d9fd71fe2cf917a2', 'message': 'Add overcloud cell export\n\nAdds tripleo_overcloud_cell_export to perform a cell export for a new\novercloud cell.\n\nChange-Id: I74671d5d2ab693a7d87c8d7151618b70645264ec\n'}, {'number': 4, 'created': '2020-03-12 13:46:58.000000000', 'files': ['roles/tripleo_overcloud_cell_export/tests/inventory', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_cell_export/defaults/main.yml', 'roles/tripleo_overcloud_cell_export/molecule/default/converge.yml', 'roles/tripleo_overcloud_cell_export/tasks/main.yml', 'roles/tripleo_overcloud_cell_export/README.md', 'roles/tripleo_overcloud_cell_export/meta/main.yml', 'roles/tripleo_overcloud_cell_export/tests/test.yml', 'roles/tripleo_overcloud_cell_export/molecule/default/prepare.yml', 'roles/tripleo_overcloud_cell_export/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/9aaec8e4e7a875a83c7c8d1200f82202ab3d52e2', 'message': 'Add overcloud cell export\n\nAdds tripleo_overcloud_cell_export to perform a cell export for a new\novercloud cell.\n\nChange-Id: I74671d5d2ab693a7d87c8d7151618b70645264ec\n'}]",2,712181,9aaec8e4e7a875a83c7c8d1200f82202ab3d52e2,15,3,4,14985,,,0,"Add overcloud cell export

Adds tripleo_overcloud_cell_export to perform a cell export for a new
overcloud cell.

Change-Id: I74671d5d2ab693a7d87c8d7151618b70645264ec
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/81/712181/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_cell_export/tests/inventory', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_cell_export/defaults/main.yml', 'roles/tripleo_overcloud_cell_export/molecule/default/converge.yml', 'roles/tripleo_overcloud_cell_export/tasks/main.yml', 'roles/tripleo_overcloud_cell_export/README.md', 'roles/tripleo_overcloud_cell_export/meta/main.yml', 'roles/tripleo_overcloud_cell_export/tests/test.yml', 'roles/tripleo_overcloud_cell_export/molecule/default/prepare.yml', 'roles/tripleo_overcloud_cell_export/molecule/default/molecule.yml']",10,bf589b6ac2404a596b90b227bb99c1e0fbb68d0f,tripleo-overcloud-cell,--- driver: name: delegated options: managed: false ansible_connection_options: ansible_connection: local log: true platforms: - name: instance provisioner: name: ansible scenario: name: default test_sequence: - prepare - syntax - converge - verify ,,291,0
openstack%2Ftripleo-ansible~master~I1dcad6039624e66f780a54dc8e65b8a221e65c00,openstack/tripleo-ansible,master,I1dcad6039624e66f780a54dc8e65b8a221e65c00,Rename playbook.yml to converge.yml,MERGED,2020-03-10 17:37:48.000000000,2020-03-17 19:02:38.000000000,2020-03-17 18:59:25.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-10 17:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b0e0654c5bd85728a3604d7132953eb4cdc5ee0', 'message': 'Rename playbook.yml to converge.yml\n\nMigrates testing playbook name to the new name used in molecule v3.\n\nChange-Id: I1dcad6039624e66f780a54dc8e65b8a221e65c00\n'}, {'number': 2, 'created': '2020-03-10 19:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/039bb61dfabf3a8f81b6d97badd38ed410a5d92c', 'message': 'Rename playbook.yml to converge.yml\n\nMigrates testing playbook name to the new name used in molecule v3.\n\nChange-Id: I1dcad6039624e66f780a54dc8e65b8a221e65c00\n'}, {'number': 3, 'created': '2020-03-11 12:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ed6b122a96f4dc6511b953223f724078c87fee0', 'message': 'Rename playbook.yml to converge.yml\n\nMigrates testing playbook name to the new name used in molecule v3.\n\nChange-Id: I1dcad6039624e66f780a54dc8e65b8a221e65c00\n'}, {'number': 4, 'created': '2020-03-11 14:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8741a551ae5fe0b59430f1bc161cf0b5f77fe06f', 'message': 'Rename playbook.yml to converge.yml\n\nMigrates testing playbook name to the new name used in molecule v3.\n\nChange-Id: I1dcad6039624e66f780a54dc8e65b8a221e65c00\n'}, {'number': 5, 'created': '2020-03-11 14:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/028da7d7555d2e66da89428e8a46c5aa2a7039c5', 'message': 'Rename playbook.yml to converge.yml\n\nMigrates testing playbook name to the new name used in molecule v3.\n\nChange-Id: I1dcad6039624e66f780a54dc8e65b8a221e65c00\n'}, {'number': 6, 'created': '2020-03-16 14:12:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_tag/molecule/podman/converge.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/converge.yml', 'tripleo_ansible/roles/test_deps/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/converge.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/converge.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/converge.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/converge.yml', 'tripleo_ansible/roles/tuned/molecule/isolated/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/converge.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/converge.yml', 'tripleo_ansible/roles/tripleo_persist/molecule/default/converge.yml', 'tripleo_ansible/roles/login_defs/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/converge.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/converge.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/converge.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/converge.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/converge.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/docker_rm/converge.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/converge.yml', 'doc/source/_exts/ansible-autodoc.py', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/converge.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/converge.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/converge.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/converge.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/converge.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/converge.yml', 'tripleo_ansible/roles/aide/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/converge.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/converge.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/converge.yml', '_skeleton_role_/molecule/default/converge.yml.j2', 'tripleo_ansible/roles/tuned/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/converge.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/converge.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/converge.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/converge.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/converge.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/converge.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/converge.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/converge.yml', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd7ce426709fa7ede56c3a638a8d9b9f17a52ac2', 'message': 'Rename playbook.yml to converge.yml\n\nMigrates testing playbook name to the new name used in molecule v3.\n\nChange-Id: I1dcad6039624e66f780a54dc8e65b8a221e65c00\n'}]",0,712135,bd7ce426709fa7ede56c3a638a8d9b9f17a52ac2,22,6,6,24162,,,0,"Rename playbook.yml to converge.yml

Migrates testing playbook name to the new name used in molecule v3.

Change-Id: I1dcad6039624e66f780a54dc8e65b8a221e65c00
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/712135/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_tag/molecule/podman/converge.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/converge.yml', 'tripleo_ansible/roles/test_deps/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove/converge.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/converge.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/ntp_stop/converge.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/converge.yml', 'tripleo_ansible/roles/tuned/molecule/isolated/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-remove-complex/converge.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/converge.yml', 'tripleo_ansible/roles/tripleo_persist/molecule/default/converge.yml', 'tripleo_ansible/roles/login_defs/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman-rm-stopped/converge.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/converge.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/legacy_vars/converge.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/converge.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/converge.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/docker_rm/converge.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/podman/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/converge.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/converge.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/converge.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/converge.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/converge.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/converge.yml', 'tripleo_ansible/roles/aide/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/converge.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/converge.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_tag/molecule/legacy_vars/converge.yml', 'tripleo_ansible/roles/tuned/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/converge.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/converge.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/converge.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/upgrade/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add-complex/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/converge.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/converge.yml', 'tripleo_ansible/roles/tripleo_container_rm/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/converge.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/converge.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/molecule/firewall-add/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/converge.yml', 'tripleo_ansible/roles/tripleo_bootstrap/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_stop/molecule/podman/converge.yml']",78,2b0e0654c5bd85728a3604d7132953eb4cdc5ee0,,,,0,0
openstack%2Fkolla-ansible~master~Ia840f4b67043df4eaa654f47673dcdc973f13d9c,openstack/kolla-ansible,master,Ia840f4b67043df4eaa654f47673dcdc973f13d9c,Make Fluentd config folders readable,MERGED,2020-03-17 12:02:13.000000000,2020-03-17 18:55:34.000000000,2020-03-17 18:41:32.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 12:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c030cab0a100add5d610a0933713eaac5955e61', 'message': 'Make Fluentd config folders readable\n\nCurrently, config folders lack the execute bit so Fluentd\ncannot read the config and just does nothing when it starts up. This\nchange explicitly sets the execute bit on folders which need it,\nrather that doing it recursively which is more risky from a security\nperspective.\n\nChange-Id: Ia840f4b67043df4eaa654f47673dcdc973f13d9c\nCloses-Bug: #1867754\n'}, {'number': 2, 'created': '2020-03-17 12:07:19.000000000', 'files': ['ansible/roles/common/templates/fluentd.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c92378d7881927d46ff5d485edcf25989c0c4170', 'message': 'Make Fluentd config folders readable\n\nCurrently, config folders lack the execute bit so Fluentd\ncannot read the config and just does nothing when it starts up. This\nchange explicitly sets the execute bit on folders which need it,\nrather than doing it in a more generic way which is more risky from\na security perspective.\n\nChange-Id: Ia840f4b67043df4eaa654f47673dcdc973f13d9c\nCloses-Bug: #1867754\n'}]",4,713417,c92378d7881927d46ff5d485edcf25989c0c4170,14,5,2,17669,,,0,"Make Fluentd config folders readable

Currently, config folders lack the execute bit so Fluentd
cannot read the config and just does nothing when it starts up. This
change explicitly sets the execute bit on folders which need it,
rather than doing it in a more generic way which is more risky from
a security perspective.

Change-Id: Ia840f4b67043df4eaa654f47673dcdc973f13d9c
Closes-Bug: #1867754
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/713417/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/fluentd.json.j2'],1,5c030cab0a100add5d610a0933713eaac5955e61,bug/1867754,"{%- macro config_directory_permissions(dir) -%} { ""path"": ""{{ fluentd_dir }}/{{ dir }}"", ""owner"": ""{{ fluentd_user }}:{{ fluentd_user }}"", ""perm"": ""0700"" } {%- endmacro -%} }, {# Allow Fluentd to read configuration from folders #} {{ config_directory_permissions(""input"") }}, {{ config_directory_permissions(""filter"") }}, {{ config_directory_permissions(""format"") }}, {{ config_directory_permissions(""output"") }}", },14,1
openstack%2Foslo.privsep~master~I22ba9c4437787c3f338f17a0b006132b0dd09df5,openstack/oslo.privsep,master,I22ba9c4437787c3f338f17a0b006132b0dd09df5,Disable logger validation during unit testing,MERGED,2020-03-16 22:10:46.000000000,2020-03-17 18:52:29.000000000,2020-03-17 18:48:48.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-16 22:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/73704c58634ce0437a093a6f4beb353fbcce2c96', 'message': 'Disable logger validation during unit testing\n\nThe unit tests set format to ""dummy"", which gets rejected by Python 3.8\nby default due to newly added validation here:\n\n  https://github.com/python/cpython/commit/18fb1fb943b7dbd7f8a76017ee2a67ef13effb85\n\nWe can skip this and restore old behavior by disabling validation.\n\nChange-Id: I22ba9c4437787c3f338f17a0b006132b0dd09df5\n'}, {'number': 2, 'created': '2020-03-17 07:39:14.000000000', 'files': ['oslo_privsep/tests/test_daemon.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/52747777df8e239d1096a42479e9eb82bd62437e', 'message': 'Disable logger validation during unit testing\n\nThe unit tests set format to ""dummy"", which gets rejected by Python 3.8\nby default due to newly added validation here:\n\n  https://github.com/python/cpython/commit/18fb1fb943b7dbd7f8a76017ee2a67ef13effb85\n\nWe can skip this and restore old behavior by disabling validation.\n\nChange-Id: I22ba9c4437787c3f338f17a0b006132b0dd09df5\n'}]",0,713337,52747777df8e239d1096a42479e9eb82bd62437e,10,3,2,6593,,,0,"Disable logger validation during unit testing

The unit tests set format to ""dummy"", which gets rejected by Python 3.8
by default due to newly added validation here:

  https://github.com/python/cpython/commit/18fb1fb943b7dbd7f8a76017ee2a67ef13effb85

We can skip this and restore old behavior by disabling validation.

Change-Id: I22ba9c4437787c3f338f17a0b006132b0dd09df5
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/37/713337/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_privsep/tests/test_daemon.py'],1,73704c58634ce0437a093a6f4beb353fbcce2c96,," super(LogRecorder, self).__init__(*args, **kwargs, validate=False)"," super(LogRecorder, self).__init__(*args, **kwargs)",1,1
openstack%2Fkolla-ansible~stable%2Ftrain~Ia73b5665cece523bb822f6a223335f6fae94fb6a,openstack/kolla-ansible,stable/train,Ia73b5665cece523bb822f6a223335f6fae94fb6a,Fix native openvswitch firewall driver in neutron-openvswitch-agent,MERGED,2020-03-17 08:00:50.000000000,2020-03-17 18:50:38.000000000,2020-03-17 18:47:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-03-17 08:00:50.000000000', 'files': ['releasenotes/notes/bug-1867506-3613746b8647cd73.yaml', 'ansible/roles/neutron/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/626232fa4ecb263518213c363935277b1f9cd792', 'message': 'Fix native openvswitch firewall driver in neutron-openvswitch-agent\n\novs-ofctl is still being run by neutron-openvswitch-agent.\nPotential removal is scheduled for Victoria.\nUntil then, we have to mount /run/openvswitch in there.\n\nChange-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a\nCloses-bug: #1867506\n(cherry picked from commit cf918fbc294be35f662d6b2851f3cdc00bc2b1bb)\n'}]",0,713378,626232fa4ecb263518213c363935277b1f9cd792,9,4,1,30491,,,0,"Fix native openvswitch firewall driver in neutron-openvswitch-agent

ovs-ofctl is still being run by neutron-openvswitch-agent.
Potential removal is scheduled for Victoria.
Until then, we have to mount /run/openvswitch in there.

Change-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a
Closes-bug: #1867506
(cherry picked from commit cf918fbc294be35f662d6b2851f3cdc00bc2b1bb)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/713378/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1867506-3613746b8647cd73.yaml', 'ansible/roles/neutron/defaults/main.yml']",2,626232fa4ecb263518213c363935277b1f9cd792,bug/1867506," - ""/run/openvswitch:/run/openvswitch:shared""",,7,0
openstack%2Fkolla-ansible~master~I0d5a3dab29635c00411f4f51e5a0721726df2abd,openstack/kolla-ansible,master,I0d5a3dab29635c00411f4f51e5a0721726df2abd,Disable Fluentd Monasca plugin retry limit,MERGED,2019-06-21 09:41:16.000000000,2020-03-17 18:50:21.000000000,2020-03-17 18:47:11.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-21 09:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/362dff0724f099dc3de9433f3c7028ce6feebd34', 'message': 'Disable Fluentd Monasca plugin retry limit\n\nBy default a retry limit of 17 exists. When the limit is reached buffered\nlogs are discarded. To avoid this, we disable the retry limit. The risk of\nbringing down the host by filling the Fluent data docker volume is managed\nby the maximum buffer size which is 2GB by default.\n\nIn summary, after this change, the net behaviour is that Fluentd should\nbuffer up to a maximum of 2GB of logs locally, and attept to post them to\nthe Monasca Log API at intervals not exceeding 30 minutes.\n\nChange-Id: I0d5a3dab29635c00411f4f51e5a0721726df2abd\n'}, {'number': 2, 'created': '2019-08-05 10:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2edd1251842eec902066660c596524a5feef5576', 'message': 'Disable Fluentd Monasca plugin retry limit\n\nBy default a retry limit of 17 exists. When the limit is reached buffered\nlogs are discarded. To avoid this, we disable the retry limit. The risk of\nbringing down the host by filling the Fluent data docker volume is managed\nby the maximum buffer size which is 2GB by default.\n\nIn summary, after this change, the net behaviour is that Fluentd should\nbuffer up to a maximum of 2GB of logs locally, and attept to post them to\nthe Monasca Log API at intervals not exceeding 30 minutes.\n\nChange-Id: I0d5a3dab29635c00411f4f51e5a0721726df2abd\n'}, {'number': 3, 'created': '2019-12-09 11:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f868a592b688052d31f08253e36a72cb0cb3fd26', 'message': 'Disable Fluentd Monasca plugin retry limit\n\nBy default a retry limit of 17 exists. When the limit is reached buffered\nlogs are discarded. To avoid this, we disable the retry limit. The risk of\nbringing down the host by filling the Fluent data docker volume is managed\nby the maximum buffer size which is 2GB by default.\n\nIn summary, after this change, the net behaviour is that Fluentd should\nbuffer up to a maximum of 2GB of logs locally, and attept to post them to\nthe Monasca Log API at intervals not exceeding 30 minutes.\n\nCloses-Bug: #1855702\nChange-Id: I0d5a3dab29635c00411f4f51e5a0721726df2abd\n'}, {'number': 4, 'created': '2019-12-09 13:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58ff1541ec38ecb009e34f76c092c801584cc9c4', 'message': 'Disable Fluentd Monasca plugin retry limit\n\nBy default a retry limit of 17 exists. When the limit is reached buffered\nlogs are discarded. To avoid this, we disable the retry limit. The risk of\nbringing down the host by filling the Fluent data docker volume is managed\nby the maximum buffer size which is 2GB by default.\n\nIn summary, after this change, the net behaviour is that Fluentd should\nbuffer up to a maximum of 2GB of logs locally, and attept to post them to\nthe Monasca Log API at intervals not exceeding 30 minutes.\n\nCloses-Bug: #1855702\nChange-Id: I0d5a3dab29635c00411f4f51e5a0721726df2abd\n'}, {'number': 5, 'created': '2020-02-04 16:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cfcae4208de7c2aa10daa76f87e4711f2554b776', 'message': 'Disable Fluentd Monasca plugin retry limit\n\nBy default a retry limit of 17 exists. When the limit is reached buffered\nlogs are discarded. To avoid this, we disable the retry limit. The risk of\nbringing down the host by filling the Fluent data docker volume is managed\nby the maximum buffer size which is 2GB by default.\n\nIn summary, after this change, the net behaviour is that Fluentd should\nbuffer up to a maximum of 2GB of logs locally, and attept to post them to\nthe Monasca Log API at intervals not exceeding 30 minutes.\n\nCloses-Bug: #1855702\nChange-Id: I0d5a3dab29635c00411f4f51e5a0721726df2abd\n'}, {'number': 6, 'created': '2020-02-04 16:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d3949133039325466ba398fa09e9832f5b5b028', 'message': 'Disable Fluentd Monasca plugin retry limit\n\nBy default a retry limit of 17 exists. When the limit is reached buffered\nlogs are discarded. To avoid this, we disable the retry limit. The risk of\nbringing down the host by filling the Fluent data docker volume is managed\nby the maximum buffer size which is 2GB by default.\n\nIn summary, after this change, the net behaviour is that Fluentd should\nbuffer up to a maximum of 2GB of logs locally, and attept to post them to\nthe Monasca Log API at intervals not exceeding 30 minutes.\n\nCloses-Bug: #1855702\nChange-Id: I0d5a3dab29635c00411f4f51e5a0721726df2abd\n'}, {'number': 7, 'created': '2020-02-04 17:00:58.000000000', 'files': ['ansible/roles/common/templates/conf/output/02-monasca.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f19eb7de88b27a5476e202affe36d1bf1f028f98', 'message': 'Disable Fluentd Monasca plugin retry limit\n\nBy default a retry limit of 17 exists. When the limit is reached buffered\nlogs are discarded. To avoid this, we disable the retry limit. The risk of\nbringing down the host by filling the Fluent data docker volume is managed\nby the maximum buffer size which is 2GB by default.\n\nIn summary, after this change, the net behaviour is that Fluentd should\nbuffer up to a maximum of 2GB of logs locally, and attept to post them to\nthe Monasca Log API at intervals not exceeding 30 minutes.\n\nCloses-Bug: #1855702\nChange-Id: I0d5a3dab29635c00411f4f51e5a0721726df2abd\n'}]",0,666803,f19eb7de88b27a5476e202affe36d1bf1f028f98,39,6,7,17669,,,0,"Disable Fluentd Monasca plugin retry limit

By default a retry limit of 17 exists. When the limit is reached buffered
logs are discarded. To avoid this, we disable the retry limit. The risk of
bringing down the host by filling the Fluent data docker volume is managed
by the maximum buffer size which is 2GB by default.

In summary, after this change, the net behaviour is that Fluentd should
buffer up to a maximum of 2GB of logs locally, and attept to post them to
the Monasca Log API at intervals not exceeding 30 minutes.

Closes-Bug: #1855702
Change-Id: I0d5a3dab29635c00411f4f51e5a0721726df2abd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/666803/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/output/02-monasca.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2']",2,362dff0724f099dc3de9433f3c7028ce6feebd34,bug/1855702, disable_retry_limit true disable_retry_limit true,,3,0
openstack%2Fkolla~stable%2Frocky~Ieda14018b75d39c83cdc21eb4f9dd588dd8d7040,openstack/kolla,stable/rocky,Ieda14018b75d39c83cdc21eb4f9dd588dd8d7040,Bump manila version for Rocky,MERGED,2020-03-12 16:15:06.000000000,2020-03-17 18:47:15.000000000,2020-03-17 18:47:15.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-12 16:15:06.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4c68f89753c647e8fa36e291a10348dde16d0f6d', 'message': 'Bump manila version for Rocky\n\nChange-Id: Ieda14018b75d39c83cdc21eb4f9dd588dd8d7040\n'}]",0,712729,4c68f89753c647e8fa36e291a10348dde16d0f6d,8,3,1,14826,,,0,"Bump manila version for Rocky

Change-Id: Ieda14018b75d39c83cdc21eb4f9dd588dd8d7040
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/712729/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,4c68f89753c647e8fa36e291a10348dde16d0f6d,," 'manila-7.4.1.tar.gz')},"," 'manila-7.4.0.tar.gz')},",1,1
openstack%2Fnova~master~I1c31cfd317d089026fa30d401157f661b6049cd3,openstack/nova,master,I1c31cfd317d089026fa30d401157f661b6049cd3,libvirt: Report storage bus traits,MERGED,2019-06-21 20:18:59.000000000,2020-03-17 18:24:36.000000000,2020-03-17 18:20:59.000000000,"[{'_account_id': 2394}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-06-21 20:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5c1d839fd5863ee99d20dce1452458e497220ad', 'message': '[WIP] Libvirt: report storage bus traits\n\nThis change add dynamic trait reporting based on the currently\nenabled virt type.\n\nDepends-on: https://review.opendev.org/#/c/652996\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartial-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 2, 'created': '2019-06-28 03:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6779826712fcedd16db0fe3114e6811113cf81f7', 'message': '[WIP] Libvirt: report storage bus traits\n\nThis change add dynamic trait reporting based on the currently\nenabled virt type.\n\nDepends-on: https://review.opendev.org/#/c/667111/\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartial-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 3, 'created': '2019-07-15 12:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c274e6011abae2c0669df73307c16ae19df19b6c', 'message': '[WIP] Libvirt: report storage bus traits\n\nThis change add dynamic trait reporting based on the currently\nenabled virt type.\n\nDepends-on: https://review.opendev.org/#/c/667111/\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartial-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 4, 'created': '2019-07-22 20:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/249c1e1af80d8392f0660052c38dd32aca6b2468', 'message': 'Libvirt: report storage bus traits\n\nThis change add dynamic trait reporting based on the currently\nenabled virt type.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartial-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 5, 'created': '2019-07-24 20:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d241720cc34c101d193868c54afcc5915fb4d118', 'message': 'Libvirt: report storage bus traits\n\nThis change add dynamic trait reporting based on the currently\nenabled virt type.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartial-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 6, 'created': '2019-08-08 13:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f646bff679c8cb8961f1219ba6558b466e7f5f7f', 'message': 'Libvirt: report storage bus traits\n\nThis change add dynamic trait reporting based on the currently\nenabled virt type.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartial-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 7, 'created': '2019-08-19 23:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2254b5fcd30421eb5c53258867b3825cd08732ce', 'message': 'Libvirt: report storage bus traits\n\nThis change add dynamic trait reporting based on the currently\nenabled virt type.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartial-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 8, 'created': '2019-08-20 09:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acff59baa475a5778474b0932560594f2ce5d77f', 'message': 'Libvirt: report storage bus traits\n\nThis change add dynamic trait reporting based on the currently\nenabled virt type.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartial-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 9, 'created': '2019-08-20 13:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79f2e7cb519f8874c000ed5e01408c1b6d6b6d75', 'message': 'Libvirt: report storage bus traits\n\nThis change add dynamic trait reporting based on the currently\nenabled virt type. To simplfy that and follow up patches\nthis change also intoduces a traits cache for caching\ntrait validation and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartial-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 10, 'created': '2019-08-20 16:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d6fa028f32d2c4aac126b715f1df9ca90418377', 'message': 'Libvirt: report storage bus traits\n\nThis change add dynamic trait reporting based on the currently\nenabled virt type. To simplfy that and follow up patches\nthis change also intoduces a traits cache for caching\ntrait validation and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartial-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 11, 'created': '2019-08-26 21:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82b5b87c71151b46e923f89aaef8f05f336c6be1', 'message': 'Libvirt: report storage bus traits\n\nThis change add dynamic trait reporting based on the currently\nenabled virt type. To simplfy that and follow up patches\nthis change also intoduces a traits cache for caching\ntrait validation and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartial-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 12, 'created': '2019-08-27 10:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57226c3ba60674d2b4528d962f0a80c9367e66be', 'message': 'Libvirt: report storage bus traits\n\nThis change adds dynamic trait reporting based on the currently\nenabled virt type. To simplify that and follow-up patches,\nthis change also introduces a traits cache for caching\ntrait validation, and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartially-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 13, 'created': '2019-08-27 13:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7633e6cab5bf20672f524c4374cf5aa0a6d720a2', 'message': 'Libvirt: report storage bus traits\n\nThis change adds dynamic trait reporting based on the currently\nenabled virt type. To simplify that and follow-up patches,\nthis change also introduces a traits cache for caching\ntrait validation, and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartially-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 14, 'created': '2019-08-27 16:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/febe3ffd17a49adb3e78306e3569c4376950f009', 'message': 'Libvirt: report storage bus traits\n\nThis change adds dynamic trait reporting based on the currently\nenabled virt type. To simplify that and follow-up patches,\nthis change also introduces a traits cache for caching\ntrait validation, and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartially-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 15, 'created': '2019-08-28 20:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/514f28b92edd7b7c88760b6516103dd92397e88f', 'message': 'Libvirt: report storage bus traits\n\nThis change adds dynamic trait reporting based on the currently\nenabled virt type. To simplify that and follow-up patches,\nthis change also introduces a traits cache for caching\ntrait validation, and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartially-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 16, 'created': '2019-08-29 10:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01fe8b9d92d34f5431bd519394f3dcf2415aa0b5', 'message': 'Libvirt: report storage bus traits\n\nThis change adds dynamic trait reporting based on the currently\nenabled virt type. To simplify that and follow-up patches,\nthis change also introduces a traits cache for caching\ntrait validation, and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartially-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 17, 'created': '2019-09-02 10:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a08390f3989756d83ecc0413a6c6bfe3461d5303', 'message': 'Libvirt: report storage bus traits\n\nThis change adds dynamic trait reporting based on the currently\nenabled virt type. To simplify that and follow-up patches,\nthis change also introduces a traits cache for caching\ntrait validation, and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartially-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 18, 'created': '2019-10-07 19:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7df461050aa12e3f63490019f2e47cf0bfdc42a', 'message': 'Libvirt: report storage bus traits\n\nThis change adds dynamic trait reporting based on the currently\nenabled virt type. To simplify that and follow-up patches,\nthis change also introduces a traits cache for caching\ntrait validation, and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartially-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 19, 'created': '2020-01-14 07:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ddf45fdc0459536cffe2c2b2f0ff8870295f8e6', 'message': 'Libvirt: report storage bus traits\n\nThis change adds dynamic trait reporting based on the currently\nenabled virt type. To simplify that and follow-up patches,\nthis change also introduces a traits cache for caching\ntrait validation, and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartially-Implements: blueprint image-metadata-prefiltering\n'}, {'number': 20, 'created': '2020-02-20 16:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/425b6d0bf0ffb0d5af1f3faa2065b08c51667c6d', 'message': 'libvirt: Report storage bus traits\n\nThis change adds dynamic trait reporting based on the currently\nenabled virt type. To simplify that and follow-up patches,\nthis change also introduces a traits cache for caching\ntrait validation, and a number of helper functions.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartially-Implements: blueprint image-metadata-prefiltering\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 21, 'created': '2020-02-21 17:53:30.000000000', 'files': ['nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/633616258523be9acbf445dada245cb1bd0eaa9a', 'message': 'libvirt: Report storage bus traits\n\nAdd dynamic trait reporting based on the currently enabled virt type.\n\nChange-Id: I1c31cfd317d089026fa30d401157f661b6049cd3\nPartially-Implements: blueprint image-metadata-prefiltering\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\n'}]",98,666914,633616258523be9acbf445dada245cb1bd0eaa9a,214,21,21,11604,,,0,"libvirt: Report storage bus traits

Add dynamic trait reporting based on the currently enabled virt type.

Change-Id: I1c31cfd317d089026fa30d401157f661b6049cd3
Partially-Implements: blueprint image-metadata-prefiltering
Co-Authored-By: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/666914/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/blockinfo.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,b5c1d839fd5863ee99d20dce1452458e497220ad,bp/image-metadata-prefiltering," for trait in ['HW_CPU_X86_AVX512F', 'HW_CPU_X86_BMI']: self.assertIn(trait, self.pt.data(self.cn_rp['uuid']).traits) for trait in ['HW_CPU_X86_AVX512F', 'HW_CPU_X86_BMI']: self.assertIn(trait, self.pt.data(self.cn_rp['uuid']).traits)"," self.assertEqual(set(['HW_CPU_X86_AVX512F', 'HW_CPU_X86_BMI']), self.pt.data(self.cn_rp['uuid']).traits) self.assertEqual(set(['HW_CPU_X86_AVX512F', 'HW_CPU_X86_BMI']), self.pt.data(self.cn_rp['uuid']).traits)",41,18
openstack%2Frpm-packaging~master~Ide484aae2072e8d72a80271f124038fd824b0c5e,openstack/rpm-packaging,master,Ide484aae2072e8d72a80271f124038fd824b0c5e,Update ironic-lib to 4.0.0,ABANDONED,2020-02-12 08:57:42.000000000,2020-03-17 18:16:07.000000000,,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-12 08:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a5a89aec973a1ce20c4a6a92e033438698d32583', 'message': 'Update ironic-lib to 4.0.0\n\nChange-Id: Ide484aae2072e8d72a80271f124038fd824b0c5e\n'}, {'number': 2, 'created': '2020-02-12 09:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1082f7b0d608328df31d8ef85294ec4dc1839fb0', 'message': 'Update ironic-lib to 4.0.0\n\nChange-Id: Ide484aae2072e8d72a80271f124038fd824b0c5e\n'}, {'number': 3, 'created': '2020-02-18 10:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e517a4cf354f0e3196cd07edc4b5fa50c5b74c82', 'message': 'Update ironic-lib to 4.0.0\n\nChange-Id: Ide484aae2072e8d72a80271f124038fd824b0c5e\n'}, {'number': 4, 'created': '2020-02-20 10:45:30.000000000', 'files': ['openstack/ironic-lib/ironic-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bfce73d61f04efc6a2fb4da924a4a6e2b18ea821', 'message': 'Update ironic-lib to 4.0.0\n\nChange-Id: Ide484aae2072e8d72a80271f124038fd824b0c5e\n'}]",1,707339,bfce73d61f04efc6a2fb4da924a4a6e2b18ea821,29,8,4,23851,,,0,"Update ironic-lib to 4.0.0

Change-Id: Ide484aae2072e8d72a80271f124038fd824b0c5e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/39/707339/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ironic-lib/ironic-lib.spec.j2'],1,a5a89aec973a1ce20c4a6a92e033438698d32583,ironic-lib-ver,{% set upstream_version = upstream_version('4.0.0') %},{% set upstream_version = upstream_version('2.21.0') %},1,1
openstack%2Frpm-packaging~master~Iedcb2e1778c511f6601a0a6c7a15507120ee75e1,openstack/rpm-packaging,master,Iedcb2e1778c511f6601a0a6c7a15507120ee75e1,update pycadf to 3.0.0,ABANDONED,2020-02-28 06:32:38.000000000,2020-03-17 18:15:49.000000000,,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-28 06:32:38.000000000', 'files': ['openstack/pycadf/pycadf.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/47d0b607930f5758f44542c26f739bd8f701d29e', 'message': 'update pycadf to 3.0.0\n\nChange-Id: Iedcb2e1778c511f6601a0a6c7a15507120ee75e1\n'}]",0,710394,47d0b607930f5758f44542c26f739bd8f701d29e,8,5,1,28654,,,0,"update pycadf to 3.0.0

Change-Id: Iedcb2e1778c511f6601a0a6c7a15507120ee75e1
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/94/710394/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pycadf/pycadf.spec.j2'],1,47d0b607930f5758f44542c26f739bd8f701d29e,pycadf,{% set upstream_version = upstream_version('3.0.0') %},{% set upstream_version = upstream_version('2.10.0') %},1,1
openstack%2Frpm-packaging~master~I11606c76dad911b908b050b5b56385d7c484a3ab,openstack/rpm-packaging,master,I11606c76dad911b908b050b5b56385d7c484a3ab,oslo.db: Update to 8.0.0,ABANDONED,2020-03-16 09:18:33.000000000,2020-03-17 18:14:43.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-16 09:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b7934a2185530ed7a841cff9a8c998ae74e23f15', 'message': 'oslo.db: Update to 8.0.0\n\nChange-Id: I11606c76dad911b908b050b5b56385d7c484a3ab\n'}, {'number': 2, 'created': '2020-03-16 12:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ea85fa5917235627892ea0bd06e866d4ecea210c', 'message': 'oslo.db: Update to 8.0.0\n\nChange-Id: I11606c76dad911b908b050b5b56385d7c484a3ab\n'}, {'number': 3, 'created': '2020-03-17 12:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/24c904ed9a4a635bc8736c63854d88395319beb3', 'message': 'oslo.db: Update to 8.0.0\n\nChange-Id: I11606c76dad911b908b050b5b56385d7c484a3ab\n'}]",0,713178,24c904ed9a4a635bc8736c63854d88395319beb3,13,4,3,6593,,,0,"oslo.db: Update to 8.0.0

Change-Id: I11606c76dad911b908b050b5b56385d7c484a3ab
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/78/713178/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.db/oslo.db.spec.j2'],1,b7934a2185530ed7a841cff9a8c998ae74e23f15,,{% set upstream_version = upstream_version('8.0.0') %},{% set upstream_version = upstream_version('7.0.0') %},1,1
openstack%2Fopenstack-helm~master~I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a,openstack/openstack-helm,master,I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a,[DNM] Test OVS,ABANDONED,2020-02-14 22:17:32.000000000,2020-03-17 18:05:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-14 22:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d07b744ced8ddc54d1959918592cdbb7c2c3ea7e', 'message': '[DNM] Test libvirt\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-02-14 22:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/18a06fbe53380cdb0fe1e6f1f6aeb7a88a6cc30a', 'message': '[DNM] Test libvirt\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 3, 'created': '2020-02-22 15:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0a3b44c05c24274c4e6e155e1a6ec8cfe5126931', 'message': '[DNM] Test libvirt\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 4, 'created': '2020-02-27 20:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1333adc53155d565629e801382e5beaf116acf47', 'message': '[DNM] Test libvirt\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 5, 'created': '2020-03-02 18:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b78c64eed0d2e511b881f067301e5061478d3a05', 'message': '[DNM] Test libvirt\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 6, 'created': '2020-03-02 18:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eec1ee1e2425dc0c65327c9d28a37af1eba4f45c', 'message': '[DNM] Test libvirt\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 7, 'created': '2020-03-04 19:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e3072695188fde8a9406cc55bd4b7df19e44ee23', 'message': '[DNM] Test libvirt\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 8, 'created': '2020-03-04 19:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a7d2d4e49aa914f2c48e6c495a4d4cc0019539f8', 'message': '[DNM] Test libvirt\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 9, 'created': '2020-03-04 19:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f95a0ac0f638dfe0b63f027aab46a8703a99b4b4', 'message': '[DNM] Test OVS\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 10, 'created': '2020-03-04 19:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f077b3b6a7f7f6dddcf327b6e1978c6fc377a501', 'message': '[DNM] Test OVS\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 11, 'created': '2020-03-06 05:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ccae24d5a20809a519ebfd7402219a94fbadaadb', 'message': '[DNM] Test OVS\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 12, 'created': '2020-03-10 21:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb9e31fd46220de171925f5c91722b3279aff477', 'message': '[DNM] Test OVS\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 13, 'created': '2020-03-13 19:21:05.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ac0f2f8149f61587eccd2a36ce4ae189b6c1e934', 'message': '[DNM] Test OVS\n\nChange-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",0,707915,ac0f2f8149f61587eccd2a36ce4ae189b6c1e934,31,1,13,29131,,,0,"[DNM] Test OVS

Change-Id: I8a97487c729bcecf23ee9b1aff8d13f8ea80b81a
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/707915/7 && git format-patch -1 --stdout FETCH_HEAD,[],0,d07b744ced8ddc54d1959918592cdbb7c2c3ea7e,apparmor_openvswitch,,,0,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I4601e9d32ea3cd29a8f80189984e0259d3f29cf4,openstack/tripleo-upgrade,stable/train,I4601e9d32ea3cd29a8f80189984e0259d3f29cf4,Add needed parameters in containers-prepare-parameters for FFWD2.,MERGED,2020-03-17 09:49:31.000000000,2020-03-17 17:55:33.000000000,2020-03-17 17:55:33.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-17 09:49:31.000000000', 'files': ['tasks/common/configure_uc_containers.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ca2f490d807707144408c09120dbafebb772e84a', 'message': 'Add needed parameters in containers-prepare-parameters for FFWD2.\n\nWe need to include few parameters in the containers-prepare-parameters.yaml\nfile to be able to perform the upgrade from Queens to Train, one set is the\nceph3_namespace parameters and the other one the Stein namespace ones. So\nfar they are being hardcoded in the parameters default, so it is possible\nto override them if needed.\n\nChange-Id: I4601e9d32ea3cd29a8f80189984e0259d3f29cf4\n(cherry picked from commit fb48a1fe68e1542e4191615e79abd057a8864495)\n'}]",0,713390,ca2f490d807707144408c09120dbafebb772e84a,7,3,1,6816,,,0,"Add needed parameters in containers-prepare-parameters for FFWD2.

We need to include few parameters in the containers-prepare-parameters.yaml
file to be able to perform the upgrade from Queens to Train, one set is the
ceph3_namespace parameters and the other one the Stein namespace ones. So
far they are being hardcoded in the parameters default, so it is possible
to override them if needed.

Change-Id: I4601e9d32ea3cd29a8f80189984e0259d3f29cf4
(cherry picked from commit fb48a1fe68e1542e4191615e79abd057a8864495)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/90/713390/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/configure_uc_containers.yml', 'defaults/main.yml']",2,ca2f490d807707144408c09120dbafebb772e84a,ffwd-upgrade2-stable/train," # ceph registry parameters ceph3_registry_params: ceph3_namespace: ""registry.access.redhat.com/rhceph"" ceph3_image: ""rhceph-3-rhel7"" ceph3_tag: ""3-40"" # stein registry parameters stein_registry_params: namespace_stein: ""rhos-qe-mirror-tlv.usersys.redhat.com:5002/rh-osbs"" tag_stein: ""20200115.1"" name_prefix_stein: ""rhosp15-openstack-""",,30,0
openstack%2Fopenstack-helm-infra~master~I512112921111e49345f19dfca70406b56dd55452,openstack/openstack-helm-infra,master,I512112921111e49345f19dfca70406b56dd55452,Add ability to set the domain name in the Nagios chart,MERGED,2020-02-21 03:23:01.000000000,2020-03-17 17:55:08.000000000,2020-03-17 17:52:47.000000000,"[{'_account_id': 17591}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28849}, {'_account_id': 30582}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-21 03:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0876e0774e61e442008d55efb86a5a2b8f29f7cb', 'message': '[WIP/DNM] Add a variable to nagios for the FQDN name\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 2, 'created': '2020-02-24 16:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65e21cee86ee6a8464d4b887be27e19513a9b45a', 'message': '[WIP/DNM] Add a variable to nagios for the FQDN name\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 3, 'created': '2020-02-25 02:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/61e19bbf818a14323781f6a571352233d01f9e10', 'message': '[WIP/DNM] Add a variable to nagios for the FQDN name\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 4, 'created': '2020-02-25 14:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/78ed7b6604f7ee8f9756b1f10e6f4185e092c580', 'message': '[WIP/DNM] Add a variable to nagios for the FQDN name\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 5, 'created': '2020-03-02 15:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c364aa30565e454fddb49bbdd72a746a974648b3', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 6, 'created': '2020-03-02 15:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa4d0abeb2fde06b5566a44eebea7c109567bb30', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 7, 'created': '2020-03-03 15:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a98f7c361ee7bdd6916e658b2ffdb16265ff163b', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 8, 'created': '2020-03-03 17:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9cf8c1f9d33477bebbe103cf38c73eabe4f9cb67', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 9, 'created': '2020-03-06 13:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03142ca94c2a74867ab8dcf3307761d1776ae353', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 10, 'created': '2020-03-11 02:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b584999fb46657d11157168c66ea10a7bfcf223d', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 11, 'created': '2020-03-11 02:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2f70fc2f03f160f85a7552be1f5e778f3a5c65d', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 12, 'created': '2020-03-11 16:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/05dcb0a2e43f76609625f2d1b80b291448f6eefb', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 13, 'created': '2020-03-11 18:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ade2bfd83ebac6a4d3185148851a63942b314fe3', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 14, 'created': '2020-03-12 13:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e2b64a890eb0d43b920f0b6f65ee16a254beb178', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 15, 'created': '2020-03-12 14:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7ef59952be99960100f8e3d2746c3fd644d340c', 'message': '[WIP/DNM] Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 16, 'created': '2020-03-12 14:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d88fd56a77b87873516630d58a656d38ec91522', 'message': '[WIP/DNM] Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 17, 'created': '2020-03-12 14:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/014cc9f414361b9f715b3d19ad97b4059e70c355', 'message': '[WIP/DNM] Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 18, 'created': '2020-03-17 13:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8abbd0d6e54c9d7759ac43ffa72fcb4e6e971b90', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}, {'number': 19, 'created': '2020-03-17 13:33:45.000000000', 'files': ['nagios/templates/deployment.yaml', 'nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b7227b3935ef9a7e2d61eeb7d392792dae5c4a0', 'message': 'Add ability to set the domain name in the Nagios chart\n\nThis allows the ability to set the domain name in the\nNagios deployment. This change goes along with a change\nto imageswhich will allow the ability to append the\ndomain name to the host name in Nagios so the full\nFQDN appears in the dashboard.\n\nChange-Id: I512112921111e49345f19dfca70406b56dd55452\n'}]",13,709035,3b7227b3935ef9a7e2d61eeb7d392792dae5c4a0,57,7,19,28849,,,0,"Add ability to set the domain name in the Nagios chart

This allows the ability to set the domain name in the
Nagios deployment. This change goes along with a change
to imageswhich will allow the ability to append the
domain name to the host name in Nagios so the full
FQDN appears in the dashboard.

Change-Id: I512112921111e49345f19dfca70406b56dd55452
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/35/709035/6 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/templates/deployment.yaml', 'nagios/values.yaml']",2,0876e0774e61e442008d55efb86a5a2b8f29f7cb,nagios_FQDN, node_domain:,,5,0
openstack%2Fansible-collections-openstack~master~I6f2bba929af5a148a1f52df26916e00efcc14a07,openstack/ansible-collections-openstack,master,I6f2bba929af5a148a1f52df26916e00efcc14a07,Fixup elements related sanity failures,MERGED,2020-03-16 15:05:20.000000000,2020-03-17 17:52:46.000000000,2020-03-17 17:52:46.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 15:05:20.000000000', 'files': ['plugins/modules/os_client_config.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_server.py', 'plugins/modules/os_port.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_router.py', 'plugins/modules/os_ironic.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e39c5d0a9aec0a5df0e8cfb9d24fa26addb4b7cf', 'message': 'Fixup elements related sanity failures\n\nChange-Id: I6f2bba929af5a148a1f52df26916e00efcc14a07\n'}]",0,713261,e39c5d0a9aec0a5df0e8cfb9d24fa26addb4b7cf,7,3,1,14369,,,0,"Fixup elements related sanity failures

Change-Id: I6f2bba929af5a148a1f52df26916e00efcc14a07
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/61/713261/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_client_config.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_server.py', 'plugins/modules/os_port.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_router.py', 'plugins/modules/os_ironic.py']",11,e39c5d0a9aec0a5df0e8cfb9d24fa26addb4b7cf,sanity/mass-clean-1," elements: dict suboptions: mac: description: The MAC address of the network interface card. type: str required: true nics=dict(type='list', required=True, elements=""dict""),"," nics=dict(type='list', required=True),",92,22
openstack%2Ftripleo-operator-ansible~master~I1608637a4eb2327c577eebc2dba0d661baeaa29f,openstack/tripleo-operator-ansible,master,I1608637a4eb2327c577eebc2dba0d661baeaa29f,Add note about Queens only roles,MERGED,2020-03-10 17:16:29.000000000,2020-03-17 17:52:46.000000000,2020-03-17 17:52:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-10 17:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7c759977477fcb2e4c9c0977a9f0e726eec4285f', 'message': 'Add note about Queens only roles\n\nThese roles are only supported for Queens as we replaced the\nfunctionality with the `tripleo container image prepare` process in\nRocky.\n\nChange-Id: I1608637a4eb2327c577eebc2dba0d661baeaa29f\n'}, {'number': 2, 'created': '2020-03-12 13:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/718d088c63394e1bf05a966f4e64835301df0341', 'message': 'Add note about Queens only roles\n\nThese roles are only supported for Queens as we replaced the\nfunctionality with the `tripleo container image prepare` process in\nRocky.\n\nChange-Id: I1608637a4eb2327c577eebc2dba0d661baeaa29f\n'}, {'number': 3, 'created': '2020-03-12 16:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/8154194e8b2b3a0c51c4ec5da21df3d9efcc9f28', 'message': 'Add note about Queens only roles\n\nThese roles are only supported for Queens as we replaced the\nfunctionality with the `tripleo container image prepare` process in\nRocky.\n\nChange-Id: I1608637a4eb2327c577eebc2dba0d661baeaa29f\n'}, {'number': 4, 'created': '2020-03-12 19:52:18.000000000', 'files': ['roles/tripleo_overcloud_container_image_prepare/README.md', 'roles/tripleo_overcloud_container_image_tag_discover/README.md', 'roles/tripleo_overcloud_container_image_upload/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/a2c5026c9e8ffba0d3d38730fd3877c8082cb293', 'message': 'Add note about Queens only roles\n\nThese roles are only supported for Queens as we replaced the\nfunctionality with the `tripleo container image prepare` process in\nRocky.\n\nChange-Id: I1608637a4eb2327c577eebc2dba0d661baeaa29f\n'}]",0,712130,a2c5026c9e8ffba0d3d38730fd3877c8082cb293,15,4,4,14985,,,0,"Add note about Queens only roles

These roles are only supported for Queens as we replaced the
functionality with the `tripleo container image prepare` process in
Rocky.

Change-Id: I1608637a4eb2327c577eebc2dba0d661baeaa29f
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/30/712130/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_container_image_prepare/README.md', 'roles/tripleo_overcloud_container_image_tag_discover/README.md', 'roles/tripleo_overcloud_container_image_upload/README.md']",3,7c759977477fcb2e4c9c0977a9f0e726eec4285f,overcloud-container-image,IMPORTANT: This role is for use in Queens only. This functionality was replaced by the `openstack tripleo container image prepare` command in Rocky. ,,9,0
openstack%2Fansible-collections-openstack~master~Ia40e846f970a05a894601a7a37af0231f136bab6,openstack/ansible-collections-openstack,master,Ia40e846f970a05a894601a7a37af0231f136bab6,Ensure documented choices match spec,MERGED,2020-03-16 15:05:20.000000000,2020-03-17 17:52:45.000000000,2020-03-17 17:52:45.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 15:05:20.000000000', 'files': ['plugins/modules/os_image.py', 'tests/sanity/ignore-2.9.txt', 'plugins/modules/os_quota.py', 'tests/sanity/ignore-2.10.txt', 'plugins/modules/os_subnet.py', 'plugins/modules/os_ironic.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/63e444a324039e3322946b02137bf1a71af34648', 'message': 'Ensure documented choices match spec\n\nChange-Id: Ia40e846f970a05a894601a7a37af0231f136bab6\n'}]",0,713260,63e444a324039e3322946b02137bf1a71af34648,7,3,1,14369,,,0,"Ensure documented choices match spec

Change-Id: Ia40e846f970a05a894601a7a37af0231f136bab6
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/60/713260/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_image.py', 'tests/sanity/ignore-2.9.txt', 'plugins/modules/os_quota.py', 'tests/sanity/ignore-2.10.txt', 'plugins/modules/os_subnet.py', 'plugins/modules/os_ironic.py']",6,63e444a324039e3322946b02137bf1a71af34648,sanity/mass-clean-1," state=dict(required=False, default='present', choices=['present', 'absent'])"," state=dict(required=False, default='present')",5,10
openstack%2Fansible-collections-openstack~master~Ib8275a88eefb46ace471ddd12fadb018b4adbf9b,openstack/ansible-collections-openstack,master,Ib8275a88eefb46ace471ddd12fadb018b4adbf9b,Use dict rather than complex for os_quota return type.,MERGED,2020-03-16 15:05:20.000000000,2020-03-17 17:52:45.000000000,2020-03-17 17:52:45.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 15:05:20.000000000', 'files': ['tests/sanity/ignore-2.9.txt', 'plugins/modules/os_quota.py', 'tests/sanity/ignore-2.10.txt'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f52598dd905ec316bff582ba65d734296c26f827', 'message': 'Use dict rather than complex for os_quota return type.\n\nChange-Id: Ib8275a88eefb46ace471ddd12fadb018b4adbf9b\n'}]",0,713259,f52598dd905ec316bff582ba65d734296c26f827,7,3,1,14369,,,0,"Use dict rather than complex for os_quota return type.

Change-Id: Ib8275a88eefb46ace471ddd12fadb018b4adbf9b
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/59/713259/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/sanity/ignore-2.9.txt', 'plugins/modules/os_quota.py', 'tests/sanity/ignore-2.10.txt']",3,f52598dd905ec316bff582ba65d734296c26f827,sanity/mass-clean-1,,plugins/modules/os_quota.py validate-modules:return-syntax-error,1,3
openstack%2Fansible-collections-openstack~master~Ie5c499d7e035a0e9c3ac32e5dc5d57151c1745ed,openstack/ansible-collections-openstack,master,Ie5c499d7e035a0e9c3ac32e5dc5d57151c1745ed,Ensure defaults match spec,MERGED,2020-03-16 15:05:20.000000000,2020-03-17 17:52:44.000000000,2020-03-17 17:52:44.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 15:05:20.000000000', 'files': ['plugins/modules/os_image.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_server.py', 'tests/sanity/ignore-2.9.txt', 'tests/sanity/ignore-2.10.txt'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f16eda89ddbeca8ba36e10db28aa56ac1a3e79a2', 'message': 'Ensure defaults match spec\n\nChange-Id: Ie5c499d7e035a0e9c3ac32e5dc5d57151c1745ed\n'}]",0,713258,f16eda89ddbeca8ba36e10db28aa56ac1a3e79a2,7,3,1,14369,,,0,"Ensure defaults match spec

Change-Id: Ie5c499d7e035a0e9c3ac32e5dc5d57151c1745ed
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/58/713258/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_image.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_server.py', 'tests/sanity/ignore-2.9.txt', 'tests/sanity/ignore-2.10.txt']",5,f16eda89ddbeca8ba36e10db28aa56ac1a3e79a2,sanity/mass-clean-1,,plugins/modules/os_image.py validate-modules:doc-default-does-not-match-specplugins/modules/os_server.py validate-modules:doc-default-does-not-match-spec plugins/modules/os_server_action.py validate-modules:doc-default-does-not-match-spec plugins/modules/os_stack.py validate-modules:doc-default-does-not-match-spec,12,18
openstack%2Fansible-collections-openstack~master~Ia1449c50295f6b3551f176edf9bd439ace65ec90,openstack/ansible-collections-openstack,master,Ia1449c50295f6b3551f176edf9bd439ace65ec90,Clean up doc-required-mismatch,MERGED,2020-03-16 15:05:20.000000000,2020-03-17 17:52:43.000000000,2020-03-17 17:52:43.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 15:05:20.000000000', 'files': ['plugins/modules/os_server.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_nova_flavor.py', 'tests/sanity/ignore-2.10.txt', 'plugins/modules/os_project_info.py', 'plugins/modules/os_ironic.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/aeb0e78148b04f735a2fceeeb9fb6cee90267717', 'message': 'Clean up doc-required-mismatch\n\nChange-Id: Ia1449c50295f6b3551f176edf9bd439ace65ec90\n'}]",2,713257,aeb0e78148b04f735a2fceeeb9fb6cee90267717,7,3,1,14369,,,0,"Clean up doc-required-mismatch

Change-Id: Ia1449c50295f6b3551f176edf9bd439ace65ec90
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/57/713257/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_server.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_nova_flavor.py', 'tests/sanity/ignore-2.10.txt', 'plugins/modules/os_project_info.py', 'plugins/modules/os_ironic.py']",12,aeb0e78148b04f735a2fceeeb9fb6cee90267717,sanity/mass-clean-1, - Required when I(state=present) required: true, required: true,13,22
openstack%2Ftripleo-operator-ansible~master~I00e5a8751eaec943fdf0c165c4dd27db39c0536f,openstack/tripleo-operator-ansible,master,I00e5a8751eaec943fdf0c165c4dd27db39c0536f,Add overcloud container image upload,MERGED,2020-03-10 17:12:58.000000000,2020-03-17 17:50:04.000000000,2020-03-17 17:50:04.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-10 17:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d9e98855f6d323b7753ba8a60197ef01b6496270', 'message': 'Add overcloud container image upload\n\nAdds tripleo_overcloud_container_image_upload role to manage the\novercloud image upload.\n\nChange-Id: I00e5a8751eaec943fdf0c165c4dd27db39c0536f\n'}, {'number': 2, 'created': '2020-03-10 17:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/90f45e65eb2ad77adf7a7f7ea745cd43bf4a8945', 'message': 'Add overcloud container image upload\n\nAdds tripleo_overcloud_container_image_upload role to manage the\novercloud image upload.\n\nChange-Id: I00e5a8751eaec943fdf0c165c4dd27db39c0536f\n'}, {'number': 3, 'created': '2020-03-12 13:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/59ec2b81e81b794c93a8eeb8db3f4b3ee5f20b78', 'message': 'Add overcloud container image upload\n\nAdds tripleo_overcloud_container_image_upload role to manage the\novercloud image upload.\n\nChange-Id: I00e5a8751eaec943fdf0c165c4dd27db39c0536f\n'}, {'number': 4, 'created': '2020-03-12 16:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2e3f5eefa680e0621c1d5f1c8a77f30df8421f9f', 'message': 'Add overcloud container image upload\n\nAdds tripleo_overcloud_container_image_upload role to manage the\novercloud image upload.\n\nChange-Id: I00e5a8751eaec943fdf0c165c4dd27db39c0536f\n'}, {'number': 5, 'created': '2020-03-12 19:52:18.000000000', 'files': ['roles/tripleo_overcloud_container_image_upload/meta/main.yml', 'roles/tripleo_overcloud_container_image_upload/tasks/main.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_container_image_upload/defaults/main.yml', 'roles/tripleo_overcloud_container_image_upload/tests/test.yml', 'roles/tripleo_overcloud_container_image_upload/molecule/default/prepare.yml', 'roles/tripleo_overcloud_container_image_upload/molecule/default/converge.yml', 'roles/tripleo_overcloud_container_image_upload/tests/inventory', 'roles/tripleo_overcloud_container_image_upload/molecule/default/molecule.yml', 'roles/tripleo_overcloud_container_image_upload/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/0f840d0aaa4c5fd79426b82872ae33eacea6ac33', 'message': 'Add overcloud container image upload\n\nAdds tripleo_overcloud_container_image_upload role to manage the\novercloud image upload.\n\nChange-Id: I00e5a8751eaec943fdf0c165c4dd27db39c0536f\n'}]",11,712128,0f840d0aaa4c5fd79426b82872ae33eacea6ac33,20,5,5,14985,,,0,"Add overcloud container image upload

Adds tripleo_overcloud_container_image_upload role to manage the
overcloud image upload.

Change-Id: I00e5a8751eaec943fdf0c165c4dd27db39c0536f
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/28/712128/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_container_image_upload/meta/main.yml', 'roles/tripleo_overcloud_container_image_upload/tasks/main.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_container_image_upload/defaults/main.yml', 'roles/tripleo_overcloud_container_image_upload/tests/test.yml', 'roles/tripleo_overcloud_container_image_upload/molecule/default/prepare.yml', 'roles/tripleo_overcloud_container_image_upload/molecule/default/converge.yml', 'roles/tripleo_overcloud_container_image_upload/tests/inventory', 'roles/tripleo_overcloud_container_image_upload/molecule/default/molecule.yml', 'roles/tripleo_overcloud_container_image_upload/README.md']",10,d9e98855f6d323b7753ba8a60197ef01b6496270,overcloud-container-image,"tripleo_overcloud_container_image_upload ========= A role to perform an overcloud container image upload. Requirements ------------ None. Role Variables -------------- * `tripleo_overcloud_container_image_upload_cleanup`: (String) Cleanup behaviour for local images * `tripleo_overcloud_container_image_upload_config_files`: (List) REQUIRED. YAML config files specifying images. Default: [] * `tripleo_overcloud_container_image_upload_debug`: (Boolean) Flag to print out the delete command. Default: False * `tripleo_overcloud_container_image_upload_home_dir`: (String) Home directory to where the command is run from. Default: ""{{ ansible_env.HOME }}"" * `tripleo_overcloud_container_image_upload_log_combine`: (Boolean) Flag to enable captching stderr with stdout. Default: true * `tripleo_overcloud_container_image_upload_log_output`: (Boolean) Flag to enable logging to a file. Since the output of this command can be large, it is not recommended to disable this. Default: true * `tripleo_overcloud_container_image_upload_log`: (String) Path to a log file for the command output. Default: ""{{ CHANGEME_home_dir }}/CHANGEME.log"" * `tripleo_overcloud_container_image_upload_poll`: (Integer) Number of seconds to wait between each checks to see if the command has completed. Default: 10 * `tripleo_overcloud_container_image_upload_timeout`: (Integer) Number in seconds to wait for the ansible execution of the command to finish. Default: 3600 Output Variables ---------------- * `tripleo_overcloud_container_image_upload_output`: (String) The command standard output. * `tripleo_overcloud_container_image_upload_result`: Ansible shell execution results Dependencies ------------ None. Example Playbook ---------------- Example overcloud container image upload ```yaml - hosts: undercloud gather_facts: true tasks: - name: overcloud container image upload import_role: name: tripleo_overcloud_container_image_upload var: tripleo_overcloud_container_image_upload_config_files: - /home/stack/containers.yaml tripleo_overcloud_container_image_upload_debug: true ``` License ------- Apache-2.0 ",,252,0
openstack%2Ftripleo-operator-ansible~master~Id4fe3dc842fb90a3afb9d0fad944d3b525e4d33b,openstack/tripleo-operator-ansible,master,Id4fe3dc842fb90a3afb9d0fad944d3b525e4d33b,Add overcloud container image tag discover,MERGED,2020-03-10 15:31:28.000000000,2020-03-17 17:50:03.000000000,2020-03-17 17:50:03.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-10 15:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/5e198a4b38016d89e894cc09e2765561290937af', 'message': 'Add container image tag discover\n\nAdds tripleo_overcloud_container_image_tag_discover that wraps the tag\ndiscover command.\n\nChange-Id: Id4fe3dc842fb90a3afb9d0fad944d3b525e4d33b\n'}, {'number': 2, 'created': '2020-03-10 17:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ed0cd31a6e58b1c33db950196c3b68567e0b577e', 'message': 'Add overcloud container image tag discover\n\nAdds tripleo_overcloud_container_image_tag_discover that wraps the tag\ndiscover command.\n\nChange-Id: Id4fe3dc842fb90a3afb9d0fad944d3b525e4d33b\n'}, {'number': 3, 'created': '2020-03-12 13:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/13daf71bafd641758e97d9292cafb0100175aecc', 'message': 'Add overcloud container image tag discover\n\nAdds tripleo_overcloud_container_image_tag_discover that wraps the tag\ndiscover command.\n\nChange-Id: Id4fe3dc842fb90a3afb9d0fad944d3b525e4d33b\n'}, {'number': 4, 'created': '2020-03-12 19:52:18.000000000', 'files': ['roles/tripleo_overcloud_container_image_tag_discover/molecule/default/converge.yml', 'roles/tripleo_overcloud_container_image_tag_discover/tests/inventory', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_container_image_tag_discover/tests/test.yml', 'roles/tripleo_overcloud_container_image_tag_discover/README.md', 'roles/tripleo_overcloud_container_image_tag_discover/meta/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/defaults/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/tasks/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/molecule/default/molecule.yml', 'roles/tripleo_overcloud_container_image_tag_discover/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/552a2d610aae6501aa8def7301bfce48824dd561', 'message': 'Add overcloud container image tag discover\n\nAdds tripleo_overcloud_container_image_tag_discover that wraps the tag\ndiscover command.\n\nChange-Id: Id4fe3dc842fb90a3afb9d0fad944d3b525e4d33b\n'}]",0,712109,552a2d610aae6501aa8def7301bfce48824dd561,15,4,4,14985,,,0,"Add overcloud container image tag discover

Adds tripleo_overcloud_container_image_tag_discover that wraps the tag
discover command.

Change-Id: Id4fe3dc842fb90a3afb9d0fad944d3b525e4d33b
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/09/712109/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_container_image_tag_discover/molecule/default/converge.yml', 'roles/tripleo_overcloud_container_image_tag_discover/tests/inventory', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_container_image_tag_discover/tests/test.yml', 'roles/tripleo_overcloud_container_image_tag_discover/README.md', 'roles/tripleo_overcloud_container_image_tag_discover/meta/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/defaults/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/tasks/main.yml', 'roles/tripleo_overcloud_container_image_tag_discover/molecule/default/molecule.yml', 'roles/tripleo_overcloud_container_image_tag_discover/molecule/default/prepare.yml']",10,5e198a4b38016d89e894cc09e2765561290937af,overcloud-container-image,--- - name: Prepare hosts: all tasks: - name: Include molecule prep include_role: name: test_molecule_prep ,,248,0
openstack%2Ftripleo-operator-ansible~master~Ieb6c1cf80b50963ff6a4e62647554f51b48d5f51,openstack/tripleo-operator-ansible,master,Ieb6c1cf80b50963ff6a4e62647554f51b48d5f51,Add overcloud container image prepare,MERGED,2020-03-09 21:53:10.000000000,2020-03-17 17:50:03.000000000,2020-03-17 17:50:03.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-09 21:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/515785f8b85e32e212891755e1c086ee33a03f04', 'message': 'Add overcloud container prepare\n\nAdds tripleo_overcloud_container_iamge_prepare role to handle the older\ncontainer prepare command for Queens.\n\nChange-Id: Ieb6c1cf80b50963ff6a4e62647554f51b48d5f51\n'}, {'number': 2, 'created': '2020-03-09 21:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/e2f389cdc3d99a5291e67e1d8123618d13fcd84e', 'message': 'Add overcloud container prepare\n\nAdds tripleo_overcloud_container_iamge_prepare role to handle the older\ncontainer prepare command for Queens.\n\nChange-Id: Ieb6c1cf80b50963ff6a4e62647554f51b48d5f51\n'}, {'number': 3, 'created': '2020-03-09 22:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/76bd9a3a7227f39fe86fea5402f70f8a9befe367', 'message': 'Add overcloud container prepare\n\nAdds tripleo_overcloud_container_iamge_prepare role to handle the older\ncontainer prepare command for Queens.\n\nChange-Id: Ieb6c1cf80b50963ff6a4e62647554f51b48d5f51\n'}, {'number': 4, 'created': '2020-03-09 22:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f66d2bb99e317461aafb71c2b01f04be19669b2e', 'message': 'Add overcloud container prepare\n\nAdds tripleo_overcloud_container_iamge_prepare role to handle the older\ncontainer prepare command for Queens.\n\nChange-Id: Ieb6c1cf80b50963ff6a4e62647554f51b48d5f51\n'}, {'number': 5, 'created': '2020-03-12 13:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/82aa0bf156beb586302a96c6039d805f2654df65', 'message': 'Add overcloud container prepare\n\nAdds tripleo_overcloud_container_iamge_prepare role to handle the older\ncontainer prepare command for Queens.\n\nChange-Id: Ieb6c1cf80b50963ff6a4e62647554f51b48d5f51\n'}, {'number': 6, 'created': '2020-03-12 19:52:18.000000000', 'files': ['zuul.d/molecule.yaml', 'roles/tripleo_overcloud_container_image_prepare/molecule/default/prepare.yml', 'roles/tripleo_overcloud_container_image_prepare/molecule/default/converge.yml', 'roles/tripleo_overcloud_container_image_prepare/tests/test.yml', 'roles/tripleo_overcloud_container_image_prepare/defaults/main.yml', 'roles/tripleo_overcloud_container_image_prepare/tasks/main.yml', 'roles/tripleo_overcloud_container_image_prepare/README.md', 'roles/tripleo_overcloud_container_image_prepare/tests/inventory', 'roles/tripleo_overcloud_container_image_prepare/meta/main.yml', 'roles/tripleo_overcloud_container_image_prepare/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo_overcloud_container_image_prepare.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b8bb42f6dec19e93b4a85bd9accc191777525cd8', 'message': 'Add overcloud container image prepare\n\nAdds tripleo_overcloud_container_image_prepare role to handle the older\ncontainer prepare command for Queens.\n\nChange-Id: Ieb6c1cf80b50963ff6a4e62647554f51b48d5f51\n'}]",3,711989,b8bb42f6dec19e93b4a85bd9accc191777525cd8,23,5,6,14985,,,0,"Add overcloud container image prepare

Adds tripleo_overcloud_container_image_prepare role to handle the older
container prepare command for Queens.

Change-Id: Ieb6c1cf80b50963ff6a4e62647554f51b48d5f51
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/89/711989/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'roles/tripleo_overcloud_container_image_prepare/molecule/default/prepare.yml', 'roles/tripleo_overcloud_container_image_prepare/molecule/default/converge.yml', 'roles/tripleo_overcloud_container_image_prepare/tests/test.yml', 'roles/tripleo_overcloud_container_image_prepare/defaults/main.yml', 'roles/tripleo_overcloud_container_image_prepare/tasks/main.yml', 'roles/tripleo_overcloud_container_image_prepare/README.md', 'roles/tripleo_overcloud_container_image_prepare/tests/inventory', 'roles/tripleo_overcloud_container_image_prepare/meta/main.yml', 'roles/tripleo_overcloud_container_image_prepare/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo_overcloud_container_image_prepare.rst']",11,515785f8b85e32e212891755e1c086ee33a03f04,overcloud-container-image,============================================== Role - tripleo_overcloud_container_image_prepare ============================================== .. ansibleautoplugin:: :role: roles/tripleo_overcloud_container_image_prepare ,,471,0
openstack%2Ftripleo-operator-ansible~master~I76ffe4a6235ae72d53c7c96d8c64756c45ffd434,openstack/tripleo-operator-ansible,master,I76ffe4a6235ae72d53c7c96d8c64756c45ffd434,Add overcloud node unprovision,MERGED,2020-03-17 16:58:31.000000000,2020-03-17 17:50:02.000000000,2020-03-17 17:50:02.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 16:58:31.000000000', 'files': ['zuul.d/molecule.yaml', 'roles/tripleo_overcloud_node_unprovision/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_unprovision/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_unprovision/tests/test.yml', 'roles/tripleo_overcloud_node_unprovision/tasks/main.yml', 'roles/tripleo_overcloud_node_unprovision/molecule/default/prepare.yml', 'roles/tripleo_overcloud_node_unprovision/tests/inventory', 'roles/tripleo_overcloud_node_unprovision/README.md', 'roles/tripleo_overcloud_node_unprovision/meta/main.yml', 'roles/tripleo_overcloud_node_unprovision/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/4452f67b111694eeb39999b910ddb9356f20741a', 'message': 'Add overcloud node unprovision\n\nAdds tripleo_overcloud_node_unprovision to perform baremetal node\nunprovisioning with Ironic.\n\nChange-Id: I76ffe4a6235ae72d53c7c96d8c64756c45ffd434\n'}]",0,713485,4452f67b111694eeb39999b910ddb9356f20741a,6,2,1,14985,,,0,"Add overcloud node unprovision

Adds tripleo_overcloud_node_unprovision to perform baremetal node
unprovisioning with Ironic.

Change-Id: I76ffe4a6235ae72d53c7c96d8c64756c45ffd434
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/85/713485/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'roles/tripleo_overcloud_node_unprovision/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_unprovision/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_unprovision/tests/test.yml', 'roles/tripleo_overcloud_node_unprovision/tasks/main.yml', 'roles/tripleo_overcloud_node_unprovision/molecule/default/prepare.yml', 'roles/tripleo_overcloud_node_unprovision/tests/inventory', 'roles/tripleo_overcloud_node_unprovision/README.md', 'roles/tripleo_overcloud_node_unprovision/meta/main.yml', 'roles/tripleo_overcloud_node_unprovision/defaults/main.yml']",10,4452f67b111694eeb39999b910ddb9356f20741a,overcloud-node-provide,"--- # defaults file for tripleo_overcloud_node_unprovision openstack_bin: openstack tripleo_overcloud_node_unprovision_all: false tripleo_overcloud_node_unprovision_debug: false tripleo_overcloud_node_unprovision_deployment_file: tripleo_overcloud_node_unprovision_home_dir: ""{{ ansible_env.HOME }}"" tripleo_overcloud_node_unprovision_log: ""{{ tripleo_overcloud_node_unprovision_home_dir }}/CHANGEME.log"" tripleo_overcloud_node_unprovision_log_combine: true tripleo_overcloud_node_unprovision_log_output: true tripleo_overcloud_node_unprovision_os_cloud: ""{{ tripleo_os_cloud | default('') }}"" tripleo_overcloud_node_unprovision_poll: 10 tripleo_overcloud_node_unprovision_rc_file: ""{{ tripleo_rc_file | default(ansible_env.HOME ~ '/stackrc') }}"" tripleo_overcloud_node_unprovision_stack: tripleo_overcloud_node_unprovision_timeout: 3600 tripleo_overcloud_node_unprovision_yes: true ",,273,0
openstack%2Ftripleo-operator-ansible~master~I8b670ef8006609e3ce3e1bb9f6a4f177dc3ad477,openstack/tripleo-operator-ansible,master,I8b670ef8006609e3ce3e1bb9f6a4f177dc3ad477,Add overcloud node provision,MERGED,2020-03-17 16:41:15.000000000,2020-03-17 17:50:01.000000000,2020-03-17 17:50:01.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 16:41:15.000000000', 'files': ['roles/tripleo_overcloud_node_provision/tasks/main.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_node_provision/meta/main.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml', 'roles/tripleo_overcloud_node_provision/tests/inventory', 'roles/tripleo_overcloud_node_provision/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_provision/README.md', 'roles/tripleo_overcloud_node_provision/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_provision/tests/test.yml', 'roles/tripleo_overcloud_node_provision/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/eaf66208cb1c6607f6b7b55209e6979d368860e9', 'message': 'Add overcloud node provision\n\nAdds tripleo_overcloud_node_provision to perform baremetal node\nprovisioning via Ironic.\n\nChange-Id: I8b670ef8006609e3ce3e1bb9f6a4f177dc3ad477\n'}]",0,713481,eaf66208cb1c6607f6b7b55209e6979d368860e9,6,2,1,14985,,,0,"Add overcloud node provision

Adds tripleo_overcloud_node_provision to perform baremetal node
provisioning via Ironic.

Change-Id: I8b670ef8006609e3ce3e1bb9f6a4f177dc3ad477
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/81/713481/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_node_provision/tasks/main.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_node_provision/meta/main.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml', 'roles/tripleo_overcloud_node_provision/tests/inventory', 'roles/tripleo_overcloud_node_provision/molecule/default/molecule.yml', 'roles/tripleo_overcloud_node_provision/README.md', 'roles/tripleo_overcloud_node_provision/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_provision/tests/test.yml', 'roles/tripleo_overcloud_node_provision/molecule/default/prepare.yml']",10,eaf66208cb1c6607f6b7b55209e6979d368860e9,overcloud-node-provide,--- - name: Prepare hosts: all tasks: - name: Include molecule prep include_role: name: test_molecule_prep ,,336,0
openstack%2Ftripleo-operator-ansible~master~I644fe3997d356b9cad930188394adee112c1f199,openstack/tripleo-operator-ansible,master,I644fe3997d356b9cad930188394adee112c1f199,Add overcloud node provide role,MERGED,2020-01-19 20:43:59.000000000,2020-03-17 17:46:56.000000000,2020-03-17 17:46:56.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-19 20:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/a090fedeecdbea306ff0a553671be1084cd4cb89', 'message': 'WIP: Add overcloud node provide role\n\nAdds tripleo-overcloud-node-provide role to set overcloud\nnodes in manageable state to available.\n\nChange-Id: I644fe3997d356b9cad930188394adee112c1f199\n'}, {'number': 2, 'created': '2020-01-19 20:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/44f1a68c76077ffa99463434392870a0cc48afd1', 'message': 'WIP: Add overcloud node provide role\n\nAdds tripleo-overcloud-node-provide role to set overcloud\nnodes in manageable state to available.\n\nChange-Id: I644fe3997d356b9cad930188394adee112c1f199\n'}, {'number': 3, 'created': '2020-01-19 23:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7c8d5a28edb3e2a8268bbd19f49dbf29bda9dc3c', 'message': 'WIP: Add overcloud node provide role\n\nAdds tripleo-overcloud-node-provide role to set overcloud\nnodes in manageable state to available.\n\nChange-Id: I644fe3997d356b9cad930188394adee112c1f199\n'}, {'number': 4, 'created': '2020-01-20 01:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7432faff5daf1510df856d49225c7658311451aa', 'message': 'WIP: Add overcloud node provide role\n\nAdds tripleo-overcloud-node-provide role to set overcloud\nnodes in manageable state to available.\n\nChange-Id: I644fe3997d356b9cad930188394adee112c1f199\n'}, {'number': 5, 'created': '2020-01-22 22:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/35dd67426dce7d94d5313bced4956babc8a6f65e', 'message': 'WIP: Add overcloud node provide role\n\nAdds tripleo-overcloud-node-provide role to set overcloud\nnodes in manageable state to available.\n\nChange-Id: I644fe3997d356b9cad930188394adee112c1f199\n'}, {'number': 6, 'created': '2020-01-22 22:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/bac901b2ce385fefa161fe48180dedf88594a741', 'message': 'WIP: Add overcloud node provide role\n\nAdds tripleo-overcloud-node-provide role to set overcloud\nnodes in manageable state to available.\n\nChange-Id: I644fe3997d356b9cad930188394adee112c1f199\n'}, {'number': 7, 'created': '2020-01-29 15:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/5550349ef52ba7b5deaa73f3b902060246648399', 'message': 'Add overcloud node provide role\n\nAdds tripleo-overcloud-node-provide role to set overcloud\nnodes in manageable state to available.\n\nChange-Id: I644fe3997d356b9cad930188394adee112c1f199\n'}, {'number': 8, 'created': '2020-03-13 19:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/55321a8a44e65ed966c0822b27a342476ea46f2f', 'message': 'Add overcloud node provide role\n\nAdds tripleo_overcloud_node_provide role to set overcloud\nnodes in manageable state to available.\n\nChange-Id: I644fe3997d356b9cad930188394adee112c1f199\n'}, {'number': 9, 'created': '2020-03-13 19:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f647b6b86b7e7a80179d11e760650e99dc267bfc', 'message': 'Add overcloud node provide role\n\nAdds tripleo_overcloud_node_provide role to set overcloud\nnodes in manageable state to available.\n\nChange-Id: I644fe3997d356b9cad930188394adee112c1f199\n'}, {'number': 10, 'created': '2020-03-13 20:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/0360b3fb8bb25ad9ceea1067c119f5dde37a088a', 'message': 'Add overcloud node provide role\n\nAdds tripleo_overcloud_node_provide role to set overcloud\nnodes in manageable state to available.\n\nChange-Id: I644fe3997d356b9cad930188394adee112c1f199\n'}, {'number': 11, 'created': '2020-03-17 16:41:15.000000000', 'files': ['zuul.d/molecule.yaml', 'roles/tripleo_overcloud_node_provide/tasks/main.yml', 'roles/tripleo_overcloud_node_provide/molecule/default/prepare.yml', 'roles/tripleo_overcloud_node_provide/tests/inventory', 'roles/tripleo_overcloud_node_provide/meta/main.yml', 'roles/tripleo_overcloud_node_provide/defaults/main.yml', 'roles/tripleo_overcloud_node_provide/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_provide/tests/test.yml', 'roles/tripleo_overcloud_node_provide/README.md', 'roles/tripleo_overcloud_node_provide/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f217c0047a1614c28e4fa04a380f8e423b945a8b', 'message': 'Add overcloud node provide role\n\nAdds tripleo_overcloud_node_provide role to set overcloud\nnodes in manageable state to available.\n\nChange-Id: I644fe3997d356b9cad930188394adee112c1f199\n'}]",12,703305,f217c0047a1614c28e4fa04a380f8e423b945a8b,34,7,11,9976,,,0,"Add overcloud node provide role

Adds tripleo_overcloud_node_provide role to set overcloud
nodes in manageable state to available.

Change-Id: I644fe3997d356b9cad930188394adee112c1f199
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/05/703305/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-overcloud-node-provide/tests/test.yml', 'roles/tripleo-overcloud-node-provide/tests/inventory', 'roles/tripleo-overcloud-node-provide/meta/main.yml', 'roles/tripleo-overcloud-node-provide/defaults/main.yml', 'roles/tripleo-overcloud-node-provide/README.md', 'roles/tripleo-overcloud-node-provide/tasks/main.yml']",6,a090fedeecdbea306ff0a553671be1084cd4cb89,overcloud-node-provide,"--- # tasks file for tripleo-overcloud-node-provide - name: Setup overcloud node provide facts set_fact: _provide_cmd: >- openstack overcloud node provide {{ tripleo_overcloud_node_provide_all_manageable | ternary('--all-manageable', '') }} {{ tripleo_overcloud_node_provide_node_uuids }} - name: Show the overcloud node provide command debug: var: _provide_cmd when: tripleo_overcloud_node_provide_debug|bool - name: Overcloud node provide shell: ""{{ _provide_cmd }}"" # noqa 305 register: tripleo_overcloud_node_provide_result changed_when: true ",,120,0
openstack%2Fnova~master~I739025dacbcaa0f7adbe612c064f979bf6390880,openstack/nova,master,I739025dacbcaa0f7adbe612c064f979bf6390880,Ensures that COMPUTE_RESOURCE_SEMAPHORE usage is fair,MERGED,2020-03-12 13:17:37.000000000,2020-03-17 17:43:25.000000000,2020-03-17 02:25:39.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-12 13:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f275a510eb12060b20f954a208023bc3367411c5', 'message': 'Ensures that COMPUTE_RESOURCE_SEMAPHORE usage is fair\n\nThis patch poisons the synchronized decorator in the unit test\nto prevent adding you synchronized methods without the fair=True\nflag.\n\nChange-Id: I739025dacbcaa0f7adbe612c064f979bf6390880\nRelated-Bug: #1864122\n'}, {'number': 2, 'created': '2020-03-16 19:11:58.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eefe3ec2eec0838070e8a7c678f9978c64353154', 'message': 'Ensures that COMPUTE_RESOURCE_SEMAPHORE usage is fair\n\nThis patch poisons the synchronized decorator in the unit test\nto prevent adding you synchronized methods without the fair=True\nflag.\n\nChange-Id: I739025dacbcaa0f7adbe612c064f979bf6390880\nRelated-Bug: #1864122\n'}]",2,712674,eefe3ec2eec0838070e8a7c678f9978c64353154,34,12,2,9708,,,0,"Ensures that COMPUTE_RESOURCE_SEMAPHORE usage is fair

This patch poisons the synchronized decorator in the unit test
to prevent adding you synchronized methods without the fair=True
flag.

Change-Id: I739025dacbcaa0f7adbe612c064f979bf6390880
Related-Bug: #1864122
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/712674/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/test.py']",2,f275a510eb12060b20f954a208023bc3367411c5,bug/1864122,"def _poison_unfair_compute_resource_semaphore_locking(): """"""Ensure that every locking on COMPUTE_RESOURCE_SEMAPHORE is called with fair=True. """""" orig_synchronized = utils.synchronized def poisoned_synchronized(*args, **kwargs): # Only check fairness if the decorator is used with # COMPUTE_RESOURCE_SEMAPHORE. Note that we cannot import # COMPUTE_RESOURCE_SEMAPHORE as that would apply the decorators we want # to poison here. if ((args[0] == ""compute_resources"" or kwargs.get(""name"") == ""compute_resources"") and not kwargs.get(""fair"", False)): raise AssertionError( 'Locking on COMPUTE_RESOURCE_SEMAPHORE should always be fair. ' 'See bug 1864122.') # go and act like the original decorator return orig_synchronized(*args, **kwargs) # replace the synchronized decorator factory with our own that checks the # params passed in utils.synchronized = poisoned_synchronized # NOTE(gibi): This poisoning needs to be done in import time as decorators are # applied in import time on the ResourceTracker _poison_unfair_compute_resource_semaphore_locking() ",,49,0
openstack%2Fansible-collections-openstack~master~Iac23d54512b23f031460d1b7281ccb8d93e20cad,openstack/ansible-collections-openstack,master,Iac23d54512b23f031460d1b7281ccb8d93e20cad,Add missing type information to docs,MERGED,2020-03-16 15:05:20.000000000,2020-03-17 17:39:23.000000000,2020-03-17 17:39:23.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 14369}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 15:05:20.000000000', 'files': ['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_server_info.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_client_config.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'tests/sanity/ignore-2.9.txt', 'plugins/modules/os_quota.py', 'tests/sanity/ignore-2.10.txt', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_object.py', 'plugins/modules/os_routers_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1849f8bd4750f1d5f40b95811a934b1547a1bde4', 'message': 'Add missing type information to docs\n\nChange-Id: Iac23d54512b23f031460d1b7281ccb8d93e20cad\n'}]",18,713256,1849f8bd4750f1d5f40b95811a934b1547a1bde4,11,4,1,14369,,,0,"Add missing type information to docs

Change-Id: Iac23d54512b23f031460d1b7281ccb8d93e20cad
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/56/713256/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_server_info.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_client_config.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'tests/sanity/ignore-2.9.txt', 'plugins/modules/os_quota.py', 'tests/sanity/ignore-2.10.txt', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_object.py', 'plugins/modules/os_routers_info.py']",54,1849f8bd4750f1d5f40b95811a934b1547a1bde4,sanity/mass-clean-1,extends_documentation_fragment: - openstack.cloud.openstack,extends_documentation_fragment: openstack,395,230
openstack%2Foctavia~master~I5d3c4d5280916916e95120cfba6fc076a1650cf4,openstack/octavia,master,I5d3c4d5280916916e95120cfba6fc076a1650cf4,[Amphorav2] Fix noop driver case,MERGED,2020-02-25 11:36:45.000000000,2020-03-17 17:39:06.000000000,2020-03-17 17:36:11.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 11:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f5871e35638fc6e092db7a6eea31bc253c8feef5', 'message': '[Amphorav2] Fix noop driver case\n\nFix amphora creation with amphora_noop_driver\nand network_noop_driver.\n\nChange-Id: I5d3c4d5280916916e95120cfba6fc076a1650cf4\nStory: 2005072\n'}, {'number': 2, 'created': '2020-02-27 08:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/88babb7f3c15eba496e1c73afcfffc2f043efa05', 'message': '[Amphorav2] Fix noop driver case\n\nFix amphora creation with amphora_noop_driver\nand network_noop_driver.\n\nChange-Id: I5d3c4d5280916916e95120cfba6fc076a1650cf4\nStory: 2005072\n'}, {'number': 3, 'created': '2020-02-27 08:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9930f458d1b45ce90c13276ba0dc6c3233e02855', 'message': '[Amphorav2] Fix noop driver case\n\nFix amphora creation with amphora_noop_driver\nand network_noop_driver.\n\nChange-Id: I5d3c4d5280916916e95120cfba6fc076a1650cf4\nStory: 2005072\n'}, {'number': 4, 'created': '2020-03-02 10:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/93f0799250c5a7a2de2f142459bc989aec569668', 'message': '[Amphorav2] Fix noop driver case\n\nFix amphora creation with amphora_noop_driver\nand network_noop_driver.\n\nChange-Id: I5d3c4d5280916916e95120cfba6fc076a1650cf4\nStory: 2005072\n'}, {'number': 5, 'created': '2020-03-04 08:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/be1eef4928848691bab3f26eb10de9476c668440', 'message': '[Amphorav2] Fix noop driver case\n\nFix amphora creation with amphora_noop_driver\nand network_noop_driver.\n\nChange-Id: I5d3c4d5280916916e95120cfba6fc076a1650cf4\nStory: 2005072\n'}, {'number': 6, 'created': '2020-03-16 10:51:31.000000000', 'files': ['octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/amphorae/drivers/driver_base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6bca6bef1b6a17571ae90c98df174e477d89db6b', 'message': '[Amphorav2] Fix noop driver case\n\nFix amphora creation with amphora_noop_driver\nand network_noop_driver.\n\nChange-Id: I5d3c4d5280916916e95120cfba6fc076a1650cf4\nStory: 2005072\n'}]",6,709696,6bca6bef1b6a17571ae90c98df174e477d89db6b,23,4,6,7249,,,0,"[Amphorav2] Fix noop driver case

Fix amphora creation with amphora_noop_driver
and network_noop_driver.

Change-Id: I5d3c4d5280916916e95120cfba6fc076a1650cf4
Story: 2005072
",git fetch https://review.opendev.org/openstack/octavia refs/changes/96/709696/6 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/amphorae/drivers/driver_base.py']",4,f5871e35638fc6e092db7a6eea31bc253c8feef5,jobboard," def post_vip_plug(self, amphora, load_balancer, amphorae_network_config, vrrp_port=None, vip_subnet=None): :param vrrp_port: Optional for amphorav2 provider :type vrrp_port: octavia.network.data_models.Port :param vip_subnet: Optional for amphorav2 provider :type vip_subnet: octavia.network.data_models.Subnet "," def post_vip_plug(self, amphora, load_balancer, amphorae_network_config):",23,8
openstack%2Foctavia-lib~master~Ie7567134a7c0ffae525d0282773e4c90a3f2d62b,openstack/octavia-lib,master,Ie7567134a7c0ffae525d0282773e4c90a3f2d62b,"Remove the dependency on the ""mock"" package",MERGED,2020-03-13 17:33:39.000000000,2020-03-17 17:38:17.000000000,2020-03-17 17:36:13.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 17:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/079f2bb1a9f32a612d8962c1699aba79fe237d89', 'message': 'Remove the dependency on the ""mock"" package\n\nNow that we are python3 only, we should move to using the built\nin version of mock that supports all of our testing needs and\nremove the dependency on the ""mock"" package.\n\nThis patch moves all references to ""import mock"" to\n""from unittest import mock"". It also cleans up some new line\ninconsistency.\n\nChange-Id: Ie7567134a7c0ffae525d0282773e4c90a3f2d62b\n'}, {'number': 2, 'created': '2020-03-13 17:34:51.000000000', 'files': ['octavia_lib/tests/unit/api/drivers/test_driver_lib.py', 'test-requirements.txt', 'octavia_lib/tests/unit/base.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/c565e7b2897514f3a7ab76018d8772c8e9ffe1c4', 'message': 'Remove the dependency on the ""mock"" package\n\nNow that we are python3 only, we should move to using the built\nin version of mock that supports all of our testing needs and\nremove the dependency on the ""mock"" package.\n\nThis patch moves all references to ""import mock"" to\n""from unittest import mock"". It also cleans up some new line\ninconsistency.\n\nChange-Id: Ie7567134a7c0ffae525d0282773e4c90a3f2d62b\n'}]",0,713039,c565e7b2897514f3a7ab76018d8772c8e9ffe1c4,10,4,2,11628,,,0,"Remove the dependency on the ""mock"" package

Now that we are python3 only, we should move to using the built
in version of mock that supports all of our testing needs and
remove the dependency on the ""mock"" package.

This patch moves all references to ""import mock"" to
""from unittest import mock"". It also cleans up some new line
inconsistency.

Change-Id: Ie7567134a7c0ffae525d0282773e4c90a3f2d62b
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/39/713039/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_lib/tests/unit/api/drivers/test_driver_lib.py', 'test-requirements.txt', 'octavia_lib/tests/unit/base.py']",3,079f2bb1a9f32a612d8962c1699aba79fe237d89,,from unittest import mock, import mock,2,5
openstack%2Frpm-packaging~master~I042d2abd4b690f5c27bee71713ca769112f4b9ec,openstack/rpm-packaging,master,I042d2abd4b690f5c27bee71713ca769112f4b9ec,monasca-transform: Use python3 for compileall,MERGED,2020-02-17 09:50:53.000000000,2020-03-17 17:37:15.000000000,2020-02-18 10:46:33.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-17 09:50:53.000000000', 'files': ['openstack/monasca-transform/monasca-transform.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b47a2ba25f41f1a5970f43cdf025ef0453f0b3a8', 'message': 'monasca-transform: Use python3 for compileall\n\nOn CentOS 8, we do not have a generic ""python"" executable, so let\'s\nbe explicit and use python3.\n\nChange-Id: I042d2abd4b690f5c27bee71713ca769112f4b9ec\n'}]",0,708079,b47a2ba25f41f1a5970f43cdf025ef0453f0b3a8,9,4,1,13294,,,0,"monasca-transform: Use python3 for compileall

On CentOS 8, we do not have a generic ""python"" executable, so let's
be explicit and use python3.

Change-Id: I042d2abd4b690f5c27bee71713ca769112f4b9ec
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/708079/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-transform/monasca-transform.spec.j2'],1,b47a2ba25f41f1a5970f43cdf025ef0453f0b3a8,remove-python2,python3 -m compileall monasca_transform,python -m compileall monasca_transform,1,1
openstack%2Fnova~master~I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e,openstack/nova,master,I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e,images: Move qemu-img info calls into privsep,MERGED,2020-02-10 16:29:30.000000000,2020-03-17 17:26:06.000000000,2020-03-17 17:23:47.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-10 16:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bebce0a57184f19120564376189ca4e7fb0b2714', 'message': 'images: Move qemu-img info calls into privsep\n\nThis is mostly code motion from the nova.virt.images module into privsep\nto allow for both privileged and unprivileged calls to be made.\n\nChange-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e\n'}, {'number': 2, 'created': '2020-02-11 18:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/862d8cffe229af15423aa538018e71b3fad7019d', 'message': 'images: Move qemu-img info calls into privsep\n\nThis is mostly code motion from the nova.virt.images module into privsep\nto allow for both privileged and unprivileged calls to be made.\n\nChange-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e\n'}, {'number': 3, 'created': '2020-02-19 15:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/713b170b29577e051da09f4128fac184c0eb6c3a', 'message': 'images: Move qemu-img info calls into privsep\n\nThis is mostly code motion from the nova.virt.images module into privsep\nto allow for both privileged and unprivileged calls to be made.\n\nChange-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e\n'}, {'number': 4, 'created': '2020-03-02 10:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6aea5196ce99716168e88d633dc0b8037f41de9', 'message': 'images: Move qemu-img info calls into privsep\n\nThis is mostly code motion from the nova.virt.images module into privsep\nto allow for both privileged and unprivileged calls to be made.\n\nChange-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e\n'}, {'number': 5, 'created': '2020-03-02 14:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46737a31d77f90158d9cf9a429a0b4028c39df16', 'message': 'images: Move qemu-img info calls into privsep\n\nThis is mostly code motion from the nova.virt.images module into privsep\nto allow for both privileged and unprivileged calls to be made.\n\nChange-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e\n'}, {'number': 6, 'created': '2020-03-03 09:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70f06c10d6ee46d2556e1dfd4dae0bc25ce1890a', 'message': 'images: Move qemu-img info calls into privsep\n\nThis is mostly code motion from the nova.virt.images module into privsep\nto allow for both privileged and unprivileged calls to be made.\n\nChange-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e\n'}, {'number': 7, 'created': '2020-03-09 19:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f739e6e471e357eaa8f2da9782563dd772906ec', 'message': 'images: Move qemu-img info calls into privsep\n\nThis is mostly code motion from the nova.virt.images module into privsep\nto allow for both privileged and unprivileged calls to be made.\n\nChange-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e\n'}, {'number': 8, 'created': '2020-03-11 10:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/865a10c590ba68ff85b4471af9f0b9ad7f0c063b', 'message': 'images: Move qemu-img info calls into privsep\n\nThis is mostly code motion from the nova.virt.images module into privsep\nto allow for both privileged and unprivileged calls to be made.\n\nA privileged_qemu_img_info function is introduced allowing QEMU to\naccess devices requiring root privileges, such as host block devices.\n\nChange-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e\n'}, {'number': 9, 'created': '2020-03-16 09:45:47.000000000', 'files': ['nova/privsep/qemu.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/03d6eb500f85a417f84a7bf4a9f4ceb275c9a67e', 'message': 'images: Move qemu-img info calls into privsep\n\nThis is mostly code motion from the nova.virt.images module into privsep\nto allow for both privileged and unprivileged calls to be made.\n\nA privileged_qemu_img_info function is introduced allowing QEMU to\naccess devices requiring root privileges, such as host block devices.\n\nChange-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e\n'}]",22,706897,03d6eb500f85a417f84a7bf4a9f4ceb275c9a67e,119,14,9,10135,,,0,"images: Move qemu-img info calls into privsep

This is mostly code motion from the nova.virt.images module into privsep
to allow for both privileged and unprivileged calls to be made.

A privileged_qemu_img_info function is introduced allowing QEMU to
access devices requiring root privileges, such as host block devices.

Change-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/706897/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/privsep/qemu.py', 'nova/virt/disk/api.py', 'nova/virt/images.py']",3,bebce0a57184f19120564376189ca4e7fb0b2714,bug/1861071,"# This is set by the libvirt driver on startup. The version is used to # determine what flags need to be set on the command line. QEMU_VERSION = None def qemu_img_info(path, format=None, run_as_root=False): with compute_utils.disk_ops_semaphore: if not run_as_root: info = nova.privsep.qemu.unprivileged_qemu_img_info( path, format=format, qemu_version=QEMU_VERSION) else: info = nova.privsep.qemu.qemu_img_info( path, format=format, qemu_version=QEMU_VERSION) return imageutils.QemuImgInfo(info)","import operatorfrom oslo_utils import unitsQEMU_IMG_LIMITS = processutils.ProcessLimits( cpu_time=30, address_space=1 * units.Gi) # This is set by the libvirt driver on startup. The version is used to # determine what flags need to be set on the command line. QEMU_VERSION = None QEMU_VERSION_REQ_SHARED = 2010000 def qemu_img_info(path, format=None): try: # The following check is about ploop images that reside within # directories and always have DiskDescriptor.xml file beside them if (os.path.isdir(path) and os.path.exists(os.path.join(path, ""DiskDescriptor.xml""))): path = os.path.join(path, ""root.hds"") cmd = ('env', 'LC_ALL=C', 'LANG=C', 'qemu-img', 'info', path) if format is not None: cmd = cmd + ('-f', format) # Check to see if the qemu version is >= 2.10 because if so, we need # to add the --force-share flag. if QEMU_VERSION and operator.ge(QEMU_VERSION, QEMU_VERSION_REQ_SHARED): cmd = cmd + ('--force-share',) out, err = processutils.execute(*cmd, prlimit=QEMU_IMG_LIMITS) except processutils.ProcessExecutionError as exp: if exp.exit_code == -9: # this means we hit prlimits, make the exception more specific msg = (_(""qemu-img aborted by prlimits when inspecting "" ""%(path)s : %(exp)s"") % {'path': path, 'exp': exp}) elif exp.exit_code == 1 and 'No such file or directory' in exp.stderr: # The os.path.exists check above can race so this is a simple # best effort at catching that type of failure and raising a more # specific error. raise exception.DiskNotFound(location=path) else: msg = (_(""qemu-img failed to execute on %(path)s : %(exp)s"") % {'path': path, 'exp': exp}) raise exception.InvalidDiskInfo(reason=msg) if not out: msg = (_(""Failed to run qemu-img info on %(path)s : %(error)s"") % {'path': path, 'error': err}) raise exception.InvalidDiskInfo(reason=msg) return imageutils.QemuImgInfo(out)",71,51
openstack%2Frpm-packaging~master~I8f6feaad35ba4145a35fa1966fcb5d15d6042b70,openstack/rpm-packaging,master,I8f6feaad35ba4145a35fa1966fcb5d15d6042b70,octavia-tempest-plugin: fix go build for CentOS 8,MERGED,2020-02-20 14:40:26.000000000,2020-03-17 17:22:26.000000000,2020-02-22 10:07:17.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-20 14:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b222cd0d9b66362f92a65b7ce81196a8fa2004c7', 'message': 'octavia-tempest-plugin: fix go build for CentOS 8\n\nWe need to add ""-compressdwarf=false"" to the go build flags, or\nthe generated RPM will fail to find the debug information.\n\nChange-Id: I8f6feaad35ba4145a35fa1966fcb5d15d6042b70\n'}, {'number': 2, 'created': '2020-02-20 15:05:07.000000000', 'files': ['openstack/octavia-tempest-plugin/octavia-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/63e12a8227ceb63228bd14771d86d4eb1f6a8799', 'message': 'octavia-tempest-plugin: fix go build for CentOS 8\n\nWe need to add ""-compressdwarf=false"" to the go build flags, or\nthe generated RPM will fail to find the debug information.\n\nChange-Id: I8f6feaad35ba4145a35fa1966fcb5d15d6042b70\n'}]",0,708891,63e12a8227ceb63228bd14771d86d4eb1f6a8799,17,9,2,13294,,,0,"octavia-tempest-plugin: fix go build for CentOS 8

We need to add ""-compressdwarf=false"" to the go build flags, or
the generated RPM will fail to find the debug information.

Change-Id: I8f6feaad35ba4145a35fa1966fcb5d15d6042b70
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/91/708891/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/octavia-tempest-plugin/octavia-tempest-plugin.spec.j2'],1,b222cd0d9b66362f92a65b7ce81196a8fa2004c7,remove-python2,go build -ldflags '-linkmode=external -compressdwarf=false' -o httpd.bin httpd.go,go build -ldflags '-linkmode=external' -o httpd.bin httpd.go,1,1
openstack%2Frpm-packaging~master~I74bedd83d02ff27b02b0e0d9b7143db13ceed496,openstack/rpm-packaging,master,I74bedd83d02ff27b02b0e0d9b7143db13ceed496,XStatic-Angular-Sanitize: convert to python3,MERGED,2020-01-09 14:21:14.000000000,2020-03-17 17:21:02.000000000,2020-01-13 12:04:09.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-09 14:21:14.000000000', 'files': ['openstack/XStatic-Angular-Sanitize/XStatic-Angular-Sanitize.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fb2a4a62be156ffa42b58d59d59e449ca277672e', 'message': 'XStatic-Angular-Sanitize: convert to python3\n\nChange-Id: I74bedd83d02ff27b02b0e0d9b7143db13ceed496\n'}]",0,701738,fb2a4a62be156ffa42b58d59d59e449ca277672e,10,5,1,13294,,,0,"XStatic-Angular-Sanitize: convert to python3

Change-Id: I74bedd83d02ff27b02b0e0d9b7143db13ceed496
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/38/701738/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/XStatic-Angular-Sanitize/XStatic-Angular-Sanitize.spec.j2'],1,fb2a4a62be156ffa42b58d59d59e449ca277672e,,{% set pypi_name = 'XStatic-Angular-Sanitize' %} {% set upstream_version = upstream_version('1.2.1.1') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name(py_versions='py3') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}URL: https://opendev.org/openstack/xstatic-angular-sanitize/ Source0: {{ source }}BuildRequires: {{ py3('setuptools') }} Requires: {{ py3('XStatic') }}%autosetup -n {{ pypi_name }}-{{ upstream_version }}%{py3_build}%{py3_install}%{python3_sitelib}/xstatic %{python3_sitelib}/XStatic_Angular_Sanitize*,%global sname XStatic-Angular-Sanitize Name: {{ py2name('XStatic-Angular-Sanitize') }} Version: 1.2.1.1 Release: 0URL: https://git.openstack.org/cgit/openstack/{sname}/ Source0: https://files.pythonhosted.org/packages/source/X/%{sname}/%{sname}-%{version}.tar.gzBuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('XStatic') }}%autosetup -n %{sname}-%{version}%{py2_build}%{py2_install}%{python2_sitelib}/xstatic %{python2_sitelib}/XStatic_Angular_Sanitize-%{version}-py?.?.egg-info %{python2_sitelib}/XStatic_Angular_Sanitize-%{version}-py?.?-nspkg.pth,17,14
openstack%2Fopenstack-ansible-os_magnum~master~If7bbef32ae1102ff586bd765052d984896bde43d,openstack/openstack-ansible-os_magnum,master,If7bbef32ae1102ff586bd765052d984896bde43d,Refactor memcached_servers,MERGED,2020-03-16 14:00:46.000000000,2020-03-17 17:19:56.000000000,2020-03-17 17:18:13.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-16 14:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/03f536e10005911861800631c19e003548274799', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: If7bbef32ae1102ff586bd765052d984896bde43d\n'}, {'number': 2, 'created': '2020-03-16 16:18:50.000000000', 'files': ['defaults/main.yml', 'templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/d5be854362a22da43324fb58f51b38b7cf02b605', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: If7bbef32ae1102ff586bd765052d984896bde43d\n'}]",0,713241,d5be854362a22da43324fb58f51b38b7cf02b605,10,3,2,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: If7bbef32ae1102ff586bd765052d984896bde43d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/41/713241/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/magnum.conf.j2']",2,03f536e10005911861800631c19e003548274799,memcached-refactor,memcached_servers = {{ magnum_memcached_servers }}memcached_servers = {{ magnum_memcached_servers }},memcached_servers = {{ memcached_servers }}memcached_servers = {{ memcached_servers }},6,2
openstack%2Ftripleo-upgrade~stable%2Ftrain~I6a0308bd504418fb8a92e8dbfd19786f9b92ff0f,openstack/tripleo-upgrade,stable/train,I6a0308bd504418fb8a92e8dbfd19786f9b92ff0f,Add python2-requests back into skip removal.,MERGED,2020-03-17 09:49:44.000000000,2020-03-17 17:19:23.000000000,2020-03-17 17:19:23.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-17 09:49:44.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/968ee6218fccd6a97cf4d6917e4a60b0435dbfb8', 'message': ""Add python2-requests back into skip removal.\n\nWhen upgrading the Undercloud's operating system we need to\navoid the removal of python2-requests as that's a dependency\nfor leapp.\n\nChange-Id: I6a0308bd504418fb8a92e8dbfd19786f9b92ff0f\n(cherry picked from commit 775238edcc23dff5b3dd0b782aec73717bd58885)\n""}]",0,713391,968ee6218fccd6a97cf4d6917e4a60b0435dbfb8,7,3,1,6816,,,0,"Add python2-requests back into skip removal.

When upgrading the Undercloud's operating system we need to
avoid the removal of python2-requests as that's a dependency
for leapp.

Change-Id: I6a0308bd504418fb8a92e8dbfd19786f9b92ff0f
(cherry picked from commit 775238edcc23dff5b3dd0b782aec73717bd58885)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/91/713391/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,968ee6218fccd6a97cf4d6917e4a60b0435dbfb8,ffwd-upgrade2-stable/train, -python2-requests,,1,0
openstack%2Fneutron-lib~master~I90419fe0b385e7bee216a52c1169aba6d6975d56,openstack/neutron-lib,master,I90419fe0b385e7bee216a52c1169aba6d6975d56,Switch to hacking 2.0,MERGED,2020-02-20 21:09:29.000000000,2020-03-17 17:12:23.000000000,2020-03-17 17:10:41.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-20 21:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6275ec3375e2c65649e3edf4df3ff6003b3b9ef9', 'message': ""Switch to hacking 2.0\n\nIn hacking 2.0, local-check-factory was removed as it is not compatible\nwith flake8 3.x and it is advised to use flake8's local plugins [1].\nChecks specific to neutron-lib registered via local-check-factory are\nconverted into flake8's local plugins [2].\n\nNote that neutron_lib.hacking.checks.factory is kept not to break hacking\nchecks in neutron-lib consumers. They need to be converted into the style\nin hacking 2.x in each repository and then we can drop the factory here.\n\n[1] https://docs.openstack.org/releasenotes/hacking/unreleased.html#relnotes-2-0-0\n[2] https://flake8.pycqa.org/en/3.7.0/user/configuration.html#using-local-plugins\n\nChange-Id: I90419fe0b385e7bee216a52c1169aba6d6975d56\n""}, {'number': 2, 'created': '2020-02-21 08:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/27868e161a4b10e6c3ab29c82872aa08359f5a60', 'message': ""Switch to hacking 2.0\n\nIn hacking 2.0, local-check-factory was removed as it is not compatible\nwith flake8 3.x and it is advised to use flake8's local plugins [1].\nChecks specific to neutron-lib registered via local-check-factory are\nconverted into flake8's local plugins [2].\n\nNote that neutron_lib.hacking.checks.factory is kept not to break hacking\nchecks in neutron-lib consumers. They need to be converted into the style\nin hacking 2.x in each repository and then we can drop the factory here.\n\n[1] https://docs.openstack.org/releasenotes/hacking/unreleased.html#relnotes-2-0-0\n[2] https://flake8.pycqa.org/en/3.7.0/user/configuration.html#using-local-plugins\n\nChange-Id: I90419fe0b385e7bee216a52c1169aba6d6975d56\n""}, {'number': 3, 'created': '2020-03-17 06:31:44.000000000', 'files': ['neutron_lib/placement/client.py', 'neutron_lib/hacking/checks.py', 'test-requirements.txt', 'neutron_lib/tests/unit/hacking/test_checks.py', 'doc/source/user/hacking.rst', 'neutron_lib/hacking/translation_checks.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f4f5f1c7192e3f11bd514ce0e7f8959ef972e3be', 'message': ""Switch to hacking 2.0\n\nIn hacking 2.0, local-check-factory was removed as it is not compatible\nwith flake8 3.x and it is advised to use flake8's local plugins [1].\nChecks specific to neutron-lib registered via local-check-factory are\nconverted into flake8's local plugins [2].\n\nNote that neutron_lib.hacking.checks.factory is kept not to break hacking\nchecks in neutron-lib consumers. They need to be converted into the style\nin hacking 2.x in each repository and then we can drop the factory here.\n\n[1] https://docs.openstack.org/releasenotes/hacking/unreleased.html#relnotes-2-0-0\n[2] https://flake8.pycqa.org/en/3.7.0/user/configuration.html#using-local-plugins\n\nChange-Id: I90419fe0b385e7bee216a52c1169aba6d6975d56\n""}]",5,708965,f4f5f1c7192e3f11bd514ce0e7f8959ef972e3be,20,7,3,841,,,0,"Switch to hacking 2.0

In hacking 2.0, local-check-factory was removed as it is not compatible
with flake8 3.x and it is advised to use flake8's local plugins [1].
Checks specific to neutron-lib registered via local-check-factory are
converted into flake8's local plugins [2].

Note that neutron_lib.hacking.checks.factory is kept not to break hacking
checks in neutron-lib consumers. They need to be converted into the style
in hacking 2.x in each repository and then we can drop the factory here.

[1] https://docs.openstack.org/releasenotes/hacking/unreleased.html#relnotes-2-0-0
[2] https://flake8.pycqa.org/en/3.7.0/user/configuration.html#using-local-plugins

Change-Id: I90419fe0b385e7bee216a52c1169aba6d6975d56
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/65/708965/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/placement/client.py', 'neutron_lib/hacking/checks.py', 'test-requirements.txt', 'neutron_lib/hacking/translation_checks.py', 'tox.ini']",5,6275ec3375e2c65649e3edf4df3ff6003b3b9ef9,hacking2,[flake8:local-plugins] extension = # Checks for neutron and related projects N521 = neutron_lib.hacking.checks:use_jsonutils N524 = neutron_lib.hacking.checks:check_no_contextlib_nested N529 = neutron_lib.hacking.checks:no_mutable_default_args N530 = neutron_lib.hacking.checks:check_neutron_namespace_imports N532 = neutron_lib.hacking.translation_checks:check_log_warn_deprecated N534 = neutron_lib.hacking.translation_checks:check_raised_localized_exceptions N536 = neutron_lib.hacking.checks:assert_equal_none N537 = neutron_lib.hacking.translation_checks:no_translate_logs # Checks specific to neutron-lib only N535 = neutron_lib.hacking.checks:check_no_eventlet_imports ,local-check-factory = neutron_lib.hacking.checks._neutron_lib_factory,31,18
openstack%2Fopenstack-ansible-os_manila~master~I06993827240135365c83bbfd4a75712598a2310a,openstack/openstack-ansible-os_manila,master,I06993827240135365c83bbfd4a75712598a2310a,Refactor memcached_servers,MERGED,2020-03-16 14:06:20.000000000,2020-03-17 17:12:23.000000000,2020-03-17 17:10:33.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-16 14:06:20.000000000', 'files': ['templates/manila.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/fcf3781459a81142d61ff4483e997720c4eb5f25', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: I06993827240135365c83bbfd4a75712598a2310a\n'}]",0,713242,fcf3781459a81142d61ff4483e997720c4eb5f25,8,3,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: I06993827240135365c83bbfd4a75712598a2310a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/42/713242/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/manila.conf.j2', 'defaults/main.yml']",2,fcf3781459a81142d61ff4483e997720c4eb5f25,memcached-refactor," - pymemcache# Memcached override manila_memcached_servers: ""{{ memcached_servers }}"" ",,6,2
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ifdff66a90891ee85984d041307adc1fcd7600bce,openstack/tripleo-upgrade,stable/queens,Ifdff66a90891ee85984d041307adc1fcd7600bce,"DNM DMN :Revert ""Update: Run all roles update at once""",ABANDONED,2020-01-22 10:09:50.000000000,2020-03-17 17:11:49.000000000,,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-22 10:09:50.000000000', 'files': ['tasks/update/overcloud_update_run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1bd823ca4699e470d326df4ab86653517c028b8d', 'message': 'DNM DMN :Revert ""Update: Run all roles update at once""\n\nTesting.\n\nThis reverts commit 6b135a323822e0970c5a3f79d79065f5ef61c00c.\n\nChange-Id: Ifdff66a90891ee85984d041307adc1fcd7600bce\n'}]",0,703753,1bd823ca4699e470d326df4ab86653517c028b8d,5,3,1,8297,,,0,"DNM DMN :Revert ""Update: Run all roles update at once""

Testing.

This reverts commit 6b135a323822e0970c5a3f79d79065f5ef61c00c.

Change-Id: Ifdff66a90891ee85984d041307adc1fcd7600bce
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/53/703753/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/overcloud_update_run.yml'],1,1bd823ca4699e470d326df4ab86653517c028b8d,perf,"- name: was the overcloud minor update successful. fail: msg=""Overcloud minor update execution step failed..."" when: item.rc != 0"," async: 25200 poll: 0- name: was the overcloud minor update successful? async_status: jid: ""{{ async_result_item.ansible_job_id }}"" loop_control: loop_var: ""async_result_item"" register: async_poll_results until: async_poll_results.finished retries: 25200",3,10
openstack%2Ftripleo-heat-templates~stable%2Fstein~I98e50611a354711474a8842da982044398327b24,openstack/tripleo-heat-templates,stable/stein,I98e50611a354711474a8842da982044398327b24,[stein only] WIP Make podman update from 1.0.5 to 1.4.2.,ABANDONED,2019-12-16 17:45:26.000000000,2020-03-17 17:10:44.000000000,,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-16 17:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/245fc3064b0849c0f66140435e51d8d1f1200841', 'message': '[stein only] WIP Make podman update from 1.0.5 to 1.4.2.\n\nWe need to migrate the lock when we update from podman 1.0 to >=1.1.\n\nChange-Id: I98e50611a354711474a8842da982044398327b24\n'}, {'number': 2, 'created': '2019-12-17 17:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b038f52a1fbad71481fab71beec0c628d8c3383', 'message': '[stein only] WIP Make podman update from 1.0.5 to 1.4.2.\n\nWe need to migrate the lock when we update from podman 1.0 to >=1.1.\n\nChange-Id: I98e50611a354711474a8842da982044398327b24\n'}, {'number': 3, 'created': '2019-12-17 21:55:08.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86481996572799ddc578ff3c014a7eca2878dd9f', 'message': '[stein only] WIP Make podman update from 1.0.5 to 1.4.2.\n\nWe need to migrate the lock when we update from podman 1.0 to >=1.1.\n\nChange-Id: I98e50611a354711474a8842da982044398327b24\n'}]",3,699255,86481996572799ddc578ff3c014a7eca2878dd9f,17,5,3,8297,,,0,"[stein only] WIP Make podman update from 1.0.5 to 1.4.2.

We need to migrate the lock when we update from podman 1.0 to >=1.1.

Change-Id: I98e50611a354711474a8842da982044398327b24
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/699255/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,245fc3064b0849c0f66140435e51d8d1f1200841,697144," - name: check podman version block: - name: get current podman version command: ""podman --version"" register: podman_current_version - name: get next podman version shell: | set -o pipefail dnf info -q podman | awk '/^Version/{print $NF}' register: podman_next_version when: - (step | int) == 3 - name: Special podman handling. when: - (step | int) == 3 - ""'podman version 1.0.' in podman_current_version.stdout"" - ""'1.0' not in podman_next_version.stdout[0:3]"" block: - name: prevent osd rebalancing shell: | set -e # TODO: more fine tune stop here may be better # Don't know yet how this would behave on an OSD node. if which ceph ; then ceph osd set noout ; fi - name: update podman package: name: podman ensure: latest - name: migrate the locks command: podman system migrate - name: put osd rebalancing back shell: | set -e # TODO: more fine tune stop here may be better # Don't know yet how this would behave on an OSD node. if which ceph ; then ceph osd unset noout ; fi"," - name: check podman version block: - name: get current podman version command: ""podman --version"" register: podman_current_version - name: get next podman version shell: | set -o pipefail dnf info -q podman | awk '/^Version/{print $NF}' register: podman_next_version when: - (step | int) == 3 - name: Special podman handling. when: - (step | int) == 3 - ""'podman version 1.0.' in podman_current_version.stdout"" - ""'1.0' not in podman_next_version.stdout[0:3]"" block: - debug: msg: ""NEED SOME MAGIC TO PREVENT REBALANCE ON CEPH NODE"" - debug: msg: ""Maybe some magic to the sidecar container metadata api (less important)"" - name: update podman package: name: podman ensure: latest - name: migrate the locks command: podman system migrate",38,30
openstack%2Ftripleo-ansible~master~Ia7d41265f3a470421234ebd98f6cbabc772359ac,openstack/tripleo-ansible,master,Ia7d41265f3a470421234ebd98f6cbabc772359ac,Added files to allow cleanup when stack delete is called,ABANDONED,2020-02-07 17:35:05.000000000,2020-03-17 17:04:53.000000000,,"[{'_account_id': 5046}, {'_account_id': 7353}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-07 17:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20f3738ad399dec46f4872438ec2684a1d09794b', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 2, 'created': '2020-02-18 14:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6569ee93d0280eaaed0f6c0a52717a3e6358e506', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 3, 'created': '2020-02-18 14:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f5f25790b7a2c88984ee76f74a150c3b28c8d8c', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 4, 'created': '2020-02-20 14:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6161d1aea472bcf7e881ecce2c49b3a88817c093', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 5, 'created': '2020-02-20 14:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ff30a63f7af5ad892c9c2a0bf6b599d011f98e5', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 6, 'created': '2020-02-20 14:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/600ea730b78d6883a73ba566852f0b08a6990fed', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 7, 'created': '2020-02-21 16:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d7a3d76ab8ba1d309fb5142438e851939c6d2d7', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 8, 'created': '2020-02-24 16:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e4c1c024574ef0c987dad8a713017e46c7ced56c', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 9, 'created': '2020-02-24 16:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0cf5bb1e30a37e8be0f1593798bc2afb58d99f5', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 10, 'created': '2020-02-25 09:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b26762f94b64ce6e35255dea7149cf89ce734cd3', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 11, 'created': '2020-03-02 15:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f761a42e533cd7ef5d080fb527b3ab6ea62f5007', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 12, 'created': '2020-03-02 19:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6234581aad8f648fa1fab50007c758bb5f48e14b', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}, {'number': 13, 'created': '2020-03-10 18:52:19.000000000', 'files': ['tripleo_ansible/roles/tripleo_ipa/files/cleanup_ipa.py', 'tripleo_ansible/roles/tripleo_ipa/tasks/cleanup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55acdfd65b1fc990bc2dc4d899cd8bf5082a843c', 'message': 'Added files to allow cleanup when stack delete is called\n\nBy invoking the tasks and script added for this commit, a deployer\ncan clean up all the services and subhosts for a host that is being\ndeleted.  This is to be invoked when the stack itself is deleted\nand is like a ""nuke"" option.\n\nUltimately, we\'d like to replace the python code here with ansible\ncalls, but only when support is added for listing services by managed\nsubhost in ansible-freeipa.\n\nChange-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac\n'}]",3,706588,55acdfd65b1fc990bc2dc4d899cd8bf5082a843c,35,6,13,9914,,,0,"Added files to allow cleanup when stack delete is called

By invoking the tasks and script added for this commit, a deployer
can clean up all the services and subhosts for a host that is being
deleted.  This is to be invoked when the stack itself is deleted
and is like a ""nuke"" option.

Ultimately, we'd like to replace the python code here with ansible
calls, but only when support is added for listing services by managed
subhost in ansible-freeipa.

Change-Id: Ia7d41265f3a470421234ebd98f6cbabc772359ac
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/706588/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ipa/files/cleanup_ipa.py', 'tripleo_ansible/roles/tripleo_ipa/tasks/cleanup.yml']",2,20f3738ad399dec46f4872438ec2684a1d09794b,add_standalone_tls,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # This role removes a host and its required sub-hosts and services to # FreeIPA without access to the server metadata. This should be done # prior to doing a stack delete. # # The following variables are required: # - tripleo_ipa_base_server_fqdn (FQDN of base host eg. controller-0.example.com) # - tripleo_ipa_principal (principal to contact IPA) # - tripleo_ipa_keytab (keytab to contact IPA) - name: run script to delete the hosts and subhosts script: >- ""{{ role_path }}/files/cleanup_ipa.py"" ""{{ tripleo_ipa_base_server_fqdn }}"" ""{{ tripleo_ipa_principal }}"" ""{{ tripleo_ipa_keytab }}"" ",,311,0
openstack%2Ftripleo-ansible~master~Id389bf97b5e73a0bb8ef924196cc1716188f7848,openstack/tripleo-ansible,master,Id389bf97b5e73a0bb8ef924196cc1716188f7848,Make sure not to re-enroll already enrolled server,ABANDONED,2020-01-27 19:41:33.000000000,2020-03-17 17:04:22.000000000,,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 7353}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-27 19:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6fe80056f22a1fa4d334517e265b373b500be4e5', 'message': 'WIP Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThsi patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nRight now, the code ha ssome hardcoded passwords etc. and so is not\nready yet.  But posting this is useful for testing.\n\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 2, 'created': '2020-01-28 15:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab32961e3cdbf33bf86a41206cd4251e0d9fa034', 'message': 'WIP Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThsi patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nRight now, the code ha ssome hardcoded passwords etc. and so is not\nready yet.  But posting this is useful for testing.\n\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 3, 'created': '2020-02-06 08:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51b8f05a9d35e1f91db35b07990868eabc5facda', 'message': 'WIP Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThsi patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nRight now, the code ha ssome hardcoded passwords etc. and so is not\nready yet.  But posting this is useful for testing.\n\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 4, 'created': '2020-02-06 11:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4b240ec0ee24a1eb42bba053dea33d4368c79b76', 'message': 'WIP Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThsi patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nRight now, the code ha ssome hardcoded passwords etc. and so is not\nready yet.  But posting this is useful for testing.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 5, 'created': '2020-02-18 14:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/97a827fea2fee6a31756e10e4e75b3187bfb9f5e', 'message': 'WIP Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThsi patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nRight now, the code ha ssome hardcoded passwords etc. and so is not\nready yet.  But posting this is useful for testing.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 6, 'created': '2020-02-18 14:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9ab45e0c1ae5fee7a96ada7ea44e0dacabddbd35', 'message': 'WIP Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThsi patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nRight now, the code ha ssome hardcoded passwords etc. and so is not\nready yet.  But posting this is useful for testing.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 7, 'created': '2020-02-20 14:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57d6ddd350994f5c31d4bbab397980d0c3139631', 'message': 'Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThis patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 8, 'created': '2020-02-20 14:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e0989d1c5e7de6b222899914fd8acc40561da8a4', 'message': 'Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThis patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 9, 'created': '2020-02-20 14:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc77193c2af403d1fcf4e9de52f21f4a3f85a023', 'message': 'Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThis patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 10, 'created': '2020-02-21 16:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4cbbda7522cb8121de98f46d4d6177c48b9447e2', 'message': 'Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThis patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 11, 'created': '2020-02-24 16:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e1773b363e187eed7fd5aa67d95005e185c27d4', 'message': 'Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThis patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 12, 'created': '2020-02-24 16:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e760c7e9d8ff5d36be3ea5efbacb58885cfb115c', 'message': 'Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThis patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 13, 'created': '2020-02-25 09:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8fe27302c70219999c8b248a238a6d16f4e8b8df', 'message': 'Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThis patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 14, 'created': '2020-03-02 15:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/35d8eb7a3592026f00114517cefe8e0a66638174', 'message': 'Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThis patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 15, 'created': '2020-03-02 19:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4353b7bfd5a9689e657cc0541fc83f0514e3e424', 'message': 'Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThis patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}, {'number': 16, 'created': '2020-03-10 18:52:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_ipa/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad13e4b522da244c8b742fe66dabf01f3fb00925', 'message': 'Make sure not to re-enroll already enrolled server\n\nThe current code will attempt to re-enroll an existing server,\ncausing the keytab to be regenerated.  This results in authentication\nerrors when director is rerun (for an update for instance)\n\nThis patch ads code to check for the existence of a host entry with a\nkeytab.  If so, the server is already enrolled and need not be\nre-enrolled.\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nChange-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848\n'}]",3,704404,ad13e4b522da244c8b742fe66dabf01f3fb00925,46,6,16,9914,,,0,"Make sure not to re-enroll already enrolled server

The current code will attempt to re-enroll an existing server,
causing the keytab to be regenerated.  This results in authentication
errors when director is rerun (for an update for instance)

This patch ads code to check for the existence of a host entry with a
keytab.  If so, the server is already enrolled and need not be
re-enrolled.

Co-Authored-By: Grzegorz Grasza <xek@redhat.com>
Change-Id: Id389bf97b5e73a0bb8ef924196cc1716188f7848
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/704404/16 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ipa/tasks/main.yml'],1,6fe80056f22a1fa4d334517e265b373b500be4e5,add_standalone_tls," - name: confirm that host is not already registered with current keytab shell: | echo password | kinit admin 1> /dev/null has_keytab=`KRB5_CLIENT_KTNAME=/etc/krb5.keytab ipa host-show --raw --all {{ tripleo_ipa_base_server_fqdn }} |grep has_keytab|cut -d: -f 2` has_keytab=${has_keytab##*( )} echo $has_keytab register: client_has_keytab - block: when: client_has_keytab.stdout != ""TRUE"" - name: add new host with random otp ipa_host: fqdn: ""{{ tripleo_ipa_base_server_fqdn }}"" random_password: true force: true register: ipa_host ignore_errors: true - name: set otp as a host fact set_fact: ipa_host_otp: ""{{ ipa_host.host.randompassword | default(omit) }}"" no_log: true delegate_facts: true delegate_to: ""{{ tripleo_ipa_delegate_server }}"""," - name: add new host with random otp ipa_host: fqdn: ""{{ tripleo_ipa_base_server_fqdn }}"" random_password: true force: true register: ipa_host ignore_errors: true - name: set otp as a host fact set_fact: ipa_host_otp: ""{{ ipa_host.host.randompassword | default(omit) }}"" no_log: true delegate_facts: true delegate_to: ""{{ tripleo_ipa_delegate_server }}""",23,13
openstack%2Fneutron~master~Icc4a9da85e69560c8980f75bcad44564e6f4906e,openstack/neutron,master,Icc4a9da85e69560c8980f75bcad44564e6f4906e,[OVN] Updates to tools/migrate_names.txt,MERGED,2020-03-09 18:49:55.000000000,2020-03-17 17:03:05.000000000,2020-03-17 16:56:05.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-09 18:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcc58fd319963b58cc45bc4220fb921f200946a7', 'message': '[OVN] Updates to tools/migrate_names.txt\n\nUpdates to tools/migrate_names.txt to correctly represent\nmapping between neutron and networking-ovn.\n\nnetworking_ovn/ovsdb/commands.py        neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py\nnetworking_ovn/ovsdb/impl_idl_ovn.py    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py\nnetworking_ovn/ovsdb/ovn_api.py         neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py\nnetworking_ovn/ovsdb/ovsdb_monitor.py   neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\nnetworking_ovn/ovsdb/worker.py          neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/worker.py\n\nChange-Id: Icc4a9da85e69560c8980f75bcad44564e6f4906e\n'}, {'number': 2, 'created': '2020-03-10 22:15:44.000000000', 'files': ['tools/migrate_names.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/933049f529529fbf82d90ed9b7e39ee4e544ab63', 'message': '[OVN] Updates to tools/migrate_names.txt\n\nUpdates to tools/migrate_names.txt to correctly represent\nmapping between neutron and networking-ovn.\n\nnetworking_ovn/ovsdb/commands.py        neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py\nnetworking_ovn/ovsdb/impl_idl_ovn.py    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py\nnetworking_ovn/ovsdb/ovn_api.py         neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py\nnetworking_ovn/ovsdb/ovsdb_monitor.py   neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\nnetworking_ovn/ovsdb/worker.py          neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/worker.py\n\nChange-Id: Icc4a9da85e69560c8980f75bcad44564e6f4906e\n'}]",0,711966,933049f529529fbf82d90ed9b7e39ee4e544ab63,19,6,2,11952,,,0,"[OVN] Updates to tools/migrate_names.txt

Updates to tools/migrate_names.txt to correctly represent
mapping between neutron and networking-ovn.

networking_ovn/ovsdb/commands.py        neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py
networking_ovn/ovsdb/impl_idl_ovn.py    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py
networking_ovn/ovsdb/ovn_api.py         neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py
networking_ovn/ovsdb/ovsdb_monitor.py   neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py
networking_ovn/ovsdb/worker.py          neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/worker.py

Change-Id: Icc4a9da85e69560c8980f75bcad44564e6f4906e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/711966/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/migrate_names.txt'],1,dcc58fd319963b58cc45bc4220fb921f200946a7,bp/neutron-ovn-merge,networking_ovn/ovsdb/commands.py neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py networking_ovn/ovsdb/impl_idl_ovn.py neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py networking_ovn/ovsdb/ovn_api.py neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py networking_ovn/ovsdb/ovsdb_monitor.py neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py networking_ovn/ovsdb/worker.py neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/worker.py,networking_ovn/ovsdb/impl_idl_ovn.py neutron/ovsdb/impl_idl_ovn.py networking_ovn/ovsdb neutron/ovsdb/ovn,5,2
openstack%2Fneutron~master~Ie441f831bcd0835ae8e1cd082005640b65b7393a,openstack/neutron,master,Ie441f831bcd0835ae8e1cd082005640b65b7393a,Register DNSMASQ_OPTS in functional sanity tests,MERGED,2020-03-04 22:36:26.000000000,2020-03-17 17:00:23.000000000,2020-03-06 18:57:11.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-04 22:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4de3c1395c20bd6061585b467ef36c289fc2ccbf', 'message': ""Register DNSMASQ_OPTS in functional sanity tests\n\ntest_dnsmasq_version() is sometimes triggering a traceback\nbecause the new dnsmasq_enable_addr6_list config option isn't\nbeing found. Register the option in the test class.\n\nChange-Id: Ie441f831bcd0835ae8e1cd082005640b65b7393a\nCloses-bug: #1866129\n""}, {'number': 2, 'created': '2020-03-06 01:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c947ea8e39b4efd789a046a0621de3e16555835c', 'message': ""Register DNSMASQ_OPTS in functional sanity tests\n\ntest_dnsmasq_version() is sometimes triggering a traceback\nbecause the new dnsmasq_enable_addr6_list config option isn't\nbeing found. Register the option in the test class.\n\nChange-Id: Ie441f831bcd0835ae8e1cd082005640b65b7393a\nCloses-bug: #1866129\n""}, {'number': 3, 'created': '2020-03-06 10:30:07.000000000', 'files': ['neutron/tests/functional/sanity/test_sanity.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc281afeecc58e48f0d5bf3a5d6588e96e1fd33f', 'message': ""Register DNSMASQ_OPTS in functional sanity tests\n\ntest_dnsmasq_version() is sometimes triggering a traceback\nbecause the new dnsmasq_enable_addr6_list config option isn't\nbeing found. Register the option in the test class.\n\nChange-Id: Ie441f831bcd0835ae8e1cd082005640b65b7393a\nCloses-bug: #1866129\n""}]",2,711353,cc281afeecc58e48f0d5bf3a5d6588e96e1fd33f,35,7,3,1131,,,0,"Register DNSMASQ_OPTS in functional sanity tests

test_dnsmasq_version() is sometimes triggering a traceback
because the new dnsmasq_enable_addr6_list config option isn't
being found. Register the option in the test class.

Change-Id: Ie441f831bcd0835ae8e1cd082005640b65b7393a
Closes-bug: #1866129
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/711353/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/sanity/test_sanity.py'],1,4de3c1395c20bd6061585b467ef36c289fc2ccbf,bug/1866129,"from oslo_config import cfg from neutron.conf.agent import dhcp as dhcp_conf def setUp(self): super(SanityTestCase, self).setUp() conf = cfg.ConfigOpts() # needed for test_dnsmasq_version() conf.register_opts(dhcp_conf.DNSMASQ_OPTS)",,8,0
openstack%2Fkolla-ansible~master~Idb1b6c85fb1fd85129957d4b79bf87d5b28081c0,openstack/kolla-ansible,master,Idb1b6c85fb1fd85129957d4b79bf87d5b28081c0,CI: Bump up ceph-ansible to 4.0.16,MERGED,2020-03-17 09:54:16.000000000,2020-03-17 16:58:41.000000000,2020-03-17 16:50:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 09:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d655ee3dc7641dc33e86e487cebbc4d37417306', 'message': 'CI: Bump up ceph-ansible to 4.0.16\n\nChange-Id: Idb1b6c85fb1fd85129957d4b79bf87d5b28081c0\n'}, {'number': 2, 'created': '2020-03-17 10:22:40.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71a8eb748573d382872697fa7bff532adb1bd20c', 'message': 'CI: Bump up ceph-ansible to 4.0.16\n\nDepends-On: https://review.opendev.org/713396\n\nChange-Id: Idb1b6c85fb1fd85129957d4b79bf87d5b28081c0\n'}]",0,713393,71a8eb748573d382872697fa7bff532adb1bd20c,14,5,2,22629,,,0,"CI: Bump up ceph-ansible to 4.0.16

Depends-On: https://review.opendev.org/713396

Change-Id: Idb1b6c85fb1fd85129957d4b79bf87d5b28081c0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/713393/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,2d655ee3dc7641dc33e86e487cebbc4d37417306,, override-checkout: v4.0.16, override-checkout: v4.0.7,1,1
openstack%2Frpm-packaging~master~I8b9ad829a1c3cee67d36d32e9db3b62051d63df7,openstack/rpm-packaging,master,I8b9ad829a1c3cee67d36d32e9db3b62051d63df7,python-tempestconf: convert to python3,MERGED,2020-01-10 16:43:52.000000000,2020-03-17 16:49:13.000000000,2020-01-13 10:04:40.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-10 16:43:52.000000000', 'files': ['openstack/python-tempestconf/python-tempestconf.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b4210a639223c3c3d8496b6ce32baaf77225f775', 'message': 'python-tempestconf: convert to python3\n\nChange-Id: I8b9ad829a1c3cee67d36d32e9db3b62051d63df7\n'}]",0,702002,b4210a639223c3c3d8496b6ce32baaf77225f775,10,5,1,13294,,,0,"python-tempestconf: convert to python3

Change-Id: I8b9ad829a1c3cee67d36d32e9db3b62051d63df7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/02/702002/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-tempestconf/python-tempestconf.spec.j2'],1,b4210a639223c3c3d8496b6ce32baaf77225f775,,BuildRequires: {{ py3('openstacksdk') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n python3-tempestconf Summary: OpenStack Tempest Config generator Requires: {{ py2pkg('Tempest') }} Requires: {{ py3('PyYAML') }} Requires: {{ py3('castellan') }} Requires: {{ py3('cryptography') }} Requires: {{ py3('openstacksdk') }} Requires: {{ py3('pbr') }} Requires: {{ py3('requests') }} %description -n python3-tempestconf %{common_desc} This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }} BuildRequires: {{ py3('sphinx-argparse') }}%{py3_build}PBR_VERSION={{ upstream_version }} %sphinx_build -b html doc/source doc/build/html%{py3_install}%files -n python3-tempestconf%{_bindir}/discover-tempest-config %{python3_sitelib}/config_tempest %{python3_sitelib}/python_tempestconf-*.egg-info,"BuildRequires: {{ py2pkg('openstacksdk', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('castellan') }} Requires: {{ py2pkg('cryptography') }} Requires: {{ py2pkg('openstacksdk') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('requests') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackagesBuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }} BuildRequires: {{ py2pkg('sphinx-argparse') }}%{python_build}PBR_VERSION={{ upstream_version }} sphinx-build -b html doc/source doc/build/html%{python_install} %python_clone -a %{buildroot}%{_bindir}/discover-tempest-config%post %python_install_alternative discover-tempest-config %postun %python_uninstall_alternative discover-tempest-config %files %{python_files}%python_alternative %{_bindir}/discover-tempest-config %{python_sitelib}/config_tempest %{python_sitelib}/python_tempestconf-*.egg-info",32,40
openstack%2Fansible-collections-openstack~master~I43f4ba5718422f75f553e3cae88fa887722aa044,openstack/ansible-collections-openstack,master,I43f4ba5718422f75f553e3cae88fa887722aa044,"Fix doc requirements, and consistently require python 3.6+",MERGED,2020-03-16 15:05:20.000000000,2020-03-17 16:38:43.000000000,2020-03-17 16:38:43.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 15:05:20.000000000', 'files': ['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_server_info.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_object.py', 'plugins/modules/os_routers_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9e9dacdf3c82611f406bb3d8ff317bfccf8cec26', 'message': 'Fix doc requirements, and consistently require python 3.6+\n\nChange-Id: I43f4ba5718422f75f553e3cae88fa887722aa044\n'}]",3,713255,9e9dacdf3c82611f406bb3d8ff317bfccf8cec26,7,3,1,14369,,,0,"Fix doc requirements, and consistently require python 3.6+

Change-Id: I43f4ba5718422f75f553e3cae88fa887722aa044
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/55/713255/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_server_info.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_object.py', 'plugins/modules/os_routers_info.py']",53,9e9dacdf3c82611f406bb3d8ff317bfccf8cec26,sanity/mass-clean-1,"requirements: - ""python >= 3.6"" - ""openstacksdk""","requirements: - ""python >= 3.6"""" - ""openstacksdk""",117,76
openstack%2Fansible-collections-openstack~master~I4f6abcbfee89a53480134dc64ca06782c8e6d094,openstack/ansible-collections-openstack,master,I4f6abcbfee89a53480134dc64ca06782c8e6d094,Move default availability_zone docs into doc_fragment,MERGED,2020-03-16 15:05:20.000000000,2020-03-17 16:37:24.000000000,2020-03-17 16:37:24.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 15:05:20.000000000', 'files': ['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_server_info.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_user.py', 'plugins/doc_fragments/openstack.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_object.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/400e9c48732768626d966e3d329a0f7b59b00a33', 'message': 'Move default availability_zone docs into doc_fragment\n\nIf availability_zone is defined in the module this will override the fragment\n\nChange-Id: I4f6abcbfee89a53480134dc64ca06782c8e6d094\n'}]",0,713254,400e9c48732768626d966e3d329a0f7b59b00a33,7,3,1,14369,,,0,"Move default availability_zone docs into doc_fragment

If availability_zone is defined in the module this will override the fragment

Change-Id: I4f6abcbfee89a53480134dc64ca06782c8e6d094
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/54/713254/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_server_info.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_user.py', 'plugins/doc_fragments/openstack.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_object.py']",50,400e9c48732768626d966e3d329a0f7b59b00a33,sanity/mass-clean-1,, availability_zone: description: - Ignored. Present for backwards compatibility required: false,5,160
openstack%2Fopenstack-ansible-os_ironic~master~I7e3b2835f1cee2525b02960e2b7e4ee238373bcc,openstack/openstack-ansible-os_ironic,master,I7e3b2835f1cee2525b02960e2b7e4ee238373bcc,Refactor memcached_servers,MERGED,2020-03-16 13:54:59.000000000,2020-03-17 16:36:12.000000000,2020-03-17 16:33:59.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-16 13:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d64e5428ce72ca2dd416997fab026459fc3784f0', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: I7e3b2835f1cee2525b02960e2b7e4ee238373bcc\n'}, {'number': 2, 'created': '2020-03-16 13:57:29.000000000', 'files': ['templates/ironic.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/02750db47b6a2aad76a234cb890b5e29d684e785', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: I7e3b2835f1cee2525b02960e2b7e4ee238373bcc\n'}]",0,713239,02750db47b6a2aad76a234cb890b5e29d684e785,9,3,2,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: I7e3b2835f1cee2525b02960e2b7e4ee238373bcc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/39/713239/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ironic.conf.j2', 'defaults/main.yml']",2,d64e5428ce72ca2dd416997fab026459fc3784f0,memcached-refactor," - pymemcache# Memcached override ironic_memcached_servers: ""{{ memcached_servers }}"" ",,6,2
openstack%2Fopenstack-ansible-os_sahara~master~Icfb171b7b5bc33bd6f14378003c6fc9bb597837b,openstack/openstack-ansible-os_sahara,master,Icfb171b7b5bc33bd6f14378003c6fc9bb597837b,Refactor memcached_servers,MERGED,2020-03-16 15:00:15.000000000,2020-03-17 16:32:39.000000000,2020-03-17 16:30:07.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-16 15:00:15.000000000', 'files': ['templates/sahara.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/aa4640886bfa2558169bddc3d5378308943cfe8f', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: Icfb171b7b5bc33bd6f14378003c6fc9bb597837b\n'}]",0,713252,aa4640886bfa2558169bddc3d5378308943cfe8f,8,3,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: Icfb171b7b5bc33bd6f14378003c6fc9bb597837b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/52/713252/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/sahara.conf.j2', 'defaults/main.yml']",2,aa4640886bfa2558169bddc3d5378308943cfe8f,memcached-refactor," - pymemcache# Memcached override sahara_memcached_servers: ""{{ memcached_servers }}"" ",,5,1
openstack%2Fopenstack-ansible-os_octavia~master~Ifedee3b46a845b66d54279b5a35edd16faa80e05,openstack/openstack-ansible-os_octavia,master,Ifedee3b46a845b66d54279b5a35edd16faa80e05,Refactor memcached_servers,MERGED,2020-03-16 14:49:09.000000000,2020-03-17 16:30:52.000000000,2020-03-17 16:28:02.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-16 14:49:09.000000000', 'files': ['templates/octavia.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/677aff655be343bd5846a19bac78c3dddf21c3fe', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: Ifedee3b46a845b66d54279b5a35edd16faa80e05\n'}]",0,713248,677aff655be343bd5846a19bac78c3dddf21c3fe,8,3,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: Ifedee3b46a845b66d54279b5a35edd16faa80e05
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/48/713248/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/octavia.conf.j2', 'defaults/main.yml']",2,677aff655be343bd5846a19bac78c3dddf21c3fe,memcached-refactor," - pymemcache# Memcached override octavia_memcached_servers: ""{{ memcached_servers }}"" ",,6,2
openstack%2Fopenstack-ansible-os_barbican~master~Ibd5decc06f205f5e1de9dbc0d7e9cde5e9435c4e,openstack/openstack-ansible-os_barbican,master,Ibd5decc06f205f5e1de9dbc0d7e9cde5e9435c4e,Refactor memcached_servers,MERGED,2020-03-16 13:27:36.000000000,2020-03-17 16:25:00.000000000,2020-03-17 16:22:32.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-16 13:27:36.000000000', 'files': ['templates/barbican.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/564c3e8935a358c0fdc99f257d55f2f0835ad1ff', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: Ibd5decc06f205f5e1de9dbc0d7e9cde5e9435c4e\n'}]",0,713227,564c3e8935a358c0fdc99f257d55f2f0835ad1ff,8,3,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: Ibd5decc06f205f5e1de9dbc0d7e9cde5e9435c4e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/27/713227/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/barbican.conf.j2', 'defaults/main.yml']",2,564c3e8935a358c0fdc99f257d55f2f0835ad1ff,memcached-refactor,"# Memcached override barbican_memcached_servers: ""{{ memcached_servers }}"" - pymemcache",,5,1
openstack%2Fopenstack-ansible-os_placement~master~Ibf64fc04bd9b4359de902a92aa39cfc2923c8823,openstack/openstack-ansible-os_placement,master,Ibf64fc04bd9b4359de902a92aa39cfc2923c8823,Refactor memcached_servers,MERGED,2020-03-16 14:57:07.000000000,2020-03-17 16:22:33.000000000,2020-03-17 16:19:45.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-16 14:57:07.000000000', 'files': ['templates/placement.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/d32cb448023ab439e3733490d78137925f3cb1dc', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: Ibf64fc04bd9b4359de902a92aa39cfc2923c8823\n'}]",0,713251,d32cb448023ab439e3733490d78137925f3cb1dc,8,3,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: Ibf64fc04bd9b4359de902a92aa39cfc2923c8823
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/51/713251/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/placement.conf.j2', 'defaults/main.yml']",2,d32cb448023ab439e3733490d78137925f3cb1dc,memcached-refactor," - pymemcache# Memcached override placement_memcached_servers: ""{{ memcached_servers }}"" ",,5,1
openstack%2Fpython-octaviaclient~master~I505b3e139217ff7d4952880dec304eb5667ae310,openstack/python-octaviaclient,master,I505b3e139217ff7d4952880dec304eb5667ae310,Align python-octaviaclient to octavia coding style,MERGED,2020-03-13 17:16:25.000000000,2020-03-17 16:15:37.000000000,2020-03-17 15:44:22.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 17:16:25.000000000', 'files': ['octaviaclient/osc/v2/flavor.py', 'octaviaclient/tests/unit/osc/v2/test_quota.py', 'octaviaclient/tests/unit/osc/v2/test_validations.py', '.pylintrc', 'octaviaclient/tests/functional/base.py', 'test-requirements.txt', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/hacking/checks.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_member.py', 'octaviaclient/tests/unit/osc/v2/test_l7rule.py', 'octaviaclient/osc/plugin.py', 'octaviaclient/tests/unit/test_hacking.py', 'octaviaclient/api/v2/octavia.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/osc/v2/amphora.py', 'octaviaclient/api/exceptions.py', 'octaviaclient/osc/v2/l7policy.py', 'tools/coding-checks.sh', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'lower-constraints.txt', 'octaviaclient/osc/v2/l7rule.py', 'octaviaclient/osc/v2/availabilityzone.py', 'octaviaclient/osc/v2/member.py', 'octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/osc/v2/quota.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'tox.ini', 'octaviaclient/osc/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/1222d3510ce52d20ea17f2ee8da78da674c7f104', 'message': 'Align python-octaviaclient to octavia coding style\n\nWhen removing the ""mock"" module from python-octaviaclient, it was\nclear that python-octaviaclient did not follow the same coding\nstyle guides as the main octavia project.\n\nThis patch corrects that by updating the code style checks in\npython-octaviaclient to those of the octavia repository and\ncorrects any style issues found by the new tests.\n\nChange-Id: I505b3e139217ff7d4952880dec304eb5667ae310\n'}]",5,713032,1222d3510ce52d20ea17f2ee8da78da674c7f104,9,3,1,11628,,,0,"Align python-octaviaclient to octavia coding style

When removing the ""mock"" module from python-octaviaclient, it was
clear that python-octaviaclient did not follow the same coding
style guides as the main octavia project.

This patch corrects that by updating the code style checks in
python-octaviaclient to those of the octavia repository and
corrects any style issues found by the new tests.

Change-Id: I505b3e139217ff7d4952880dec304eb5667ae310
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/32/713032/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/flavor.py', 'octaviaclient/tests/unit/osc/v2/test_quota.py', 'octaviaclient/tests/unit/osc/v2/test_validations.py', '.pylintrc', 'octaviaclient/tests/functional/base.py', 'test-requirements.txt', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/hacking/checks.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_member.py', 'octaviaclient/tests/unit/osc/v2/test_l7rule.py', 'octaviaclient/osc/plugin.py', 'octaviaclient/tests/unit/test_hacking.py', 'octaviaclient/api/v2/octavia.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/osc/v2/amphora.py', 'octaviaclient/api/exceptions.py', 'octaviaclient/osc/v2/l7policy.py', 'tools/coding-checks.sh', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'lower-constraints.txt', 'octaviaclient/osc/v2/l7rule.py', 'octaviaclient/osc/v2/availabilityzone.py', 'octaviaclient/osc/v2/member.py', 'octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/osc/v2/quota.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'tox.ini', 'octaviaclient/osc/v2/pool.py']",33,1222d3510ce52d20ea17f2ee8da78da674c7f104,, if not unset_args:, if not len(unset_args):,271,71
openstack%2Fopenstack-virtual-baremetal~master~I5efeaba8f4184c4a51575a3fb29804fd744d13b9,openstack/openstack-virtual-baremetal,master,I5efeaba8f4184c4a51575a3fb29804fd744d13b9,Explicitly set MTU on interfaces in IPXE image,MERGED,2019-09-23 14:13:19.000000000,2020-03-17 16:12:22.000000000,2020-03-17 16:12:22.000000000,"[{'_account_id': 1926}, {'_account_id': 1955}, {'_account_id': 4571}, {'_account_id': 6816}, {'_account_id': 6928}, {'_account_id': 9555}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 11810}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-09-23 14:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/3af7508bf6bd67f5b4aee8c38eb0c7c2899f8c6a', 'message': ""Explicitly set MTU on interfaces in IPXE image\n\nIPXE boot frequently hangs during introspection on upshift downloading\nagent.kernel and/or agent.ramdisk, apparently due to misdetection of the\nMTU. Setting it to 1350 resolves this, and shouldn't break or severely\nimpact environments which can handle full sized frames.\n\nChange-Id: I5efeaba8f4184c4a51575a3fb29804fd744d13b9\n""}, {'number': 2, 'created': '2019-09-25 10:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/76262159811805e46d82c8f1de6cd6be304d9295', 'message': ""Explicitly set MTU on interfaces in IPXE image\n\nIPXE boot frequently hangs during introspection on upshift downloading\nagent.kernel and/or agent.ramdisk, apparently due to misdetection of the\nMTU. Setting it to 1350 resolves this, and shouldn't break or severely\nimpact environments which can handle full sized frames.\n\nChange-Id: I5efeaba8f4184c4a51575a3fb29804fd744d13b9\n""}, {'number': 3, 'created': '2019-09-26 11:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/7ba48d3754b84b6feeda046629814591ac5fb530', 'message': ""Explicitly set MTU on interfaces in IPXE image\n\nIPXE boot frequently hangs during introspection on upshift downloading\nagent.kernel and/or agent.ramdisk, apparently due to misdetection of the\nMTU. Setting it to 1350 resolves this, and shouldn't break or severely\nimpact environments which can handle full sized frames.\n\nChange-Id: I5efeaba8f4184c4a51575a3fb29804fd744d13b9\n""}, {'number': 4, 'created': '2019-09-26 11:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/1cccddc4395b8af19ba657ec1094899f1da35ad0', 'message': ""Explicitly set MTU on interfaces in IPXE image\n\nIPXE boot frequently hangs during introspection on upshift downloading\nagent.kernel and/or agent.ramdisk, apparently due to misdetection of the\nMTU. Setting it to 1350 resolves this, and shouldn't break or severely\nimpact environments which can handle full sized frames.\n\nChange-Id: I5efeaba8f4184c4a51575a3fb29804fd744d13b9\n""}, {'number': 5, 'created': '2019-09-26 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/f7d68c610fa52a3e9adff3c8b1043c4b50c3156f', 'message': ""Explicitly set MTU on interfaces in IPXE image\n\nIPXE boot frequently hangs during introspection on upshift downloading\nagent.kernel and/or agent.ramdisk because our virtualised network has a\nsmaller MTU than the default of 1500, and the introspection dhcp server\ndoesn't provide it explicitly. This is a hack to work round this until a\nproper fix lands for bug 1845487, and it's backported everywhere we need\nit. We should eventually aim to revert it.\n\nRelated-Bug: 1845487\n\nChange-Id: I5efeaba8f4184c4a51575a3fb29804fd744d13b9\n""}, {'number': 6, 'created': '2019-09-30 08:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/cd6cc37bb1dfda2b9b0e7fef7d22a8a85ac0d38d', 'message': ""Explicitly set MTU on interfaces in IPXE image\n\nIPXE boot frequently hangs during introspection on upshift downloading\nagent.kernel and/or agent.ramdisk because our virtualised network has a\nsmaller MTU than the default of 1500, and the introspection dhcp server\ndoesn't provide it explicitly. This is a hack to work round this until a\nproper fix lands for bug 1845487, and it's backported everywhere we need\nit. We should eventually aim to revert it.\n\nRelated-Bug: 1845487\n\nChange-Id: I5efeaba8f4184c4a51575a3fb29804fd744d13b9\n""}, {'number': 7, 'created': '2020-03-11 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/4300f73c2ea7af535b80e0de8a5c193e5490a554', 'message': ""Explicitly set MTU on interfaces in IPXE image\n\nIPXE boot frequently hangs during introspection on upshift downloading\nagent.kernel and/or agent.ramdisk because our virtualised network has a\nsmaller MTU than the default of 1500, and the introspection dhcp server\ndoesn't provide it explicitly. This is a hack to work round this until a\nproper fix lands for bug 1845487, and it's backported everywhere we need\nit. We should eventually aim to revert it.\n\nRelated-Bug: 1845487\n\nChange-Id: I5efeaba8f4184c4a51575a3fb29804fd744d13b9\n""}, {'number': 8, 'created': '2020-03-13 00:45:51.000000000', 'files': ['ipxe/script.ipxe'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/4b39f398ce7f828083e64da2c0ae18c235c57d0e', 'message': ""Explicitly set MTU on interfaces in IPXE image\n\nIPXE boot frequently hangs during introspection on upshift downloading\nagent.kernel and/or agent.ramdisk because our virtualised network has a\nsmaller MTU than the default of 1500, and the introspection dhcp server\ndoesn't provide it explicitly. This is a hack to work round this until a\nproper fix lands for bug 1845487, and it's backported everywhere we need\nit. We should eventually aim to revert it.\n\nRelated-Bug: 1845487\n\nChange-Id: I5efeaba8f4184c4a51575a3fb29804fd744d13b9\n""}]",9,683973,4b39f398ce7f828083e64da2c0ae18c235c57d0e,58,14,8,9555,,,0,"Explicitly set MTU on interfaces in IPXE image

IPXE boot frequently hangs during introspection on upshift downloading
agent.kernel and/or agent.ramdisk because our virtualised network has a
smaller MTU than the default of 1500, and the introspection dhcp server
doesn't provide it explicitly. This is a hack to work round this until a
proper fix lands for bug 1845487, and it's backported everywhere we need
it. We should eventually aim to revert it.

Related-Bug: 1845487

Change-Id: I5efeaba8f4184c4a51575a3fb29804fd744d13b9
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/73/683973/8 && git format-patch -1 --stdout FETCH_HEAD,['ipxe/script.ipxe'],1,3af7508bf6bd67f5b4aee8c38eb0c7c2899f8c6a,ipxe-build,# Set MTU on all interfaces to 1350: a conservative default for OVB set netid:int32 -1 :mtuloop inc netid isset ${net${netid}/mac} || goto dhcploop set net${netid}/mtu 1350 echo net${netid} MTU set to 1350 goto mtuloop :dhcploopgoto dhcploop,:loopgoto loop,12,2
openstack%2Frpm-packaging~stable%2Ftrain~I1e244fe74d526c00eac66c37e20509b182c153f5,openstack/rpm-packaging,stable/train,I1e244fe74d526c00eac66c37e20509b182c153f5,metalsmith: add doc-related build requirements,MERGED,2020-03-17 15:16:14.000000000,2020-03-17 16:08:18.000000000,2020-03-17 16:08:18.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 15:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/92d76f63f6bf7958a6cba885ae97b9db9f225bc3', 'message': 'metalsmith: add sphinxcontrib-svg2pdfconverter as BR\n\nWe need it to build documentation for version 0.15.1 in stable/train.\n\nChange-Id: I1e244fe74d526c00eac66c37e20509b182c153f5\n'}, {'number': 2, 'created': '2020-03-17 15:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f6572d7dadf09edf9c005b62ad212841d654e153', 'message': 'metalsmith: add doc-related build requirements\n\nWe need sphinxcontrib-svg2pdfconverter and openstackdocstheme to\nbuild documentation for version 0.15.1 in stable/train.\n\nChange-Id: I1e244fe74d526c00eac66c37e20509b182c153f5\n'}, {'number': 3, 'created': '2020-03-17 15:42:21.000000000', 'files': ['openstack/metalsmith/metalsmith.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f6f2ebc03f1c4c45bd9c645ab2ac6e5c09e4abce', 'message': 'metalsmith: add doc-related build requirements\n\nWe need sphinxcontrib-svg2pdfconverter and openstackdocstheme to\nbuild documentation for version 0.15.1 in stable/train.\n\nChange-Id: I1e244fe74d526c00eac66c37e20509b182c153f5\n'}]",0,713468,f6f2ebc03f1c4c45bd9c645ab2ac6e5c09e4abce,16,5,3,13294,,,0,"metalsmith: add doc-related build requirements

We need sphinxcontrib-svg2pdfconverter and openstackdocstheme to
build documentation for version 0.15.1 in stable/train.

Change-Id: I1e244fe74d526c00eac66c37e20509b182c153f5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/68/713468/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/metalsmith/metalsmith.spec.j2'],1,92d76f63f6bf7958a6cba885ae97b9db9f225bc3,remove-python2-stable/train,BuildRequires: {{ py3('sphinxcontrib-svg2pdfconverter') }},,1,0
openstack%2Foslo.limit~master~I40bb06d1d445d8eb8281f421a94d7dead2a89872,openstack/oslo.limit,master,I40bb06d1d445d8eb8281f421a94d7dead2a89872,drop use of six,MERGED,2020-03-02 13:58:44.000000000,2020-03-17 16:06:03.000000000,2020-03-17 16:01:19.000000000,"[{'_account_id': 15334}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-03-02 13:58:44.000000000', 'files': ['requirements.txt', 'oslo_limit/limit.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/2245235ecec6cfe5ff4eac79f3120dd4dee9ace6', 'message': 'drop use of six\n\nChange-Id: I40bb06d1d445d8eb8281f421a94d7dead2a89872\n'}]",0,710775,2245235ecec6cfe5ff4eac79f3120dd4dee9ace6,10,5,1,28522,,,0,"drop use of six

Change-Id: I40bb06d1d445d8eb8281f421a94d7dead2a89872
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/75/710775/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo_limit/limit.py', 'lower-constraints.txt']",3,2245235ecec6cfe5ff4eac79f3120dd4dee9ace6,drop-six,,six==1.10.0,2,5
openstack%2Foslo.limit~master~I0d2b84e2ed627481118151b36386014ed0930452,openstack/oslo.limit,master,I0d2b84e2ed627481118151b36386014ed0930452,Use unittest.mock instead of third party mock,MERGED,2020-03-13 16:48:32.000000000,2020-03-17 16:03:28.000000000,2020-03-17 16:01:19.000000000,"[{'_account_id': 15334}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-03-13 16:48:32.000000000', 'files': ['test-requirements.txt', 'oslo_limit/tests/test_limit.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/2c1ccf6263a4e5a5d70fff6e7ec74b7852372553', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I0d2b84e2ed627481118151b36386014ed0930452\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713026,2c1ccf6263a4e5a5d70fff6e7ec74b7852372553,9,4,1,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I0d2b84e2ed627481118151b36386014ed0930452
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/26/713026/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'oslo_limit/tests/test_limit.py', 'lower-constraints.txt']",3,2c1ccf6263a4e5a5d70fff6e7ec74b7852372553,unittest.mock,,mock==3.0.0,1,3
openstack%2Fkuryr-kubernetes~master~I7be391fd54ff544897df2e328cd95734d95fd4f7,openstack/kuryr-kubernetes,master,I7be391fd54ff544897df2e328cd95734d95fd4f7,ignore docker files for better docker image reuse,MERGED,2020-03-05 14:06:07.000000000,2020-03-17 15:47:00.000000000,2020-03-17 15:44:23.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 25900}, {'_account_id': 27032}, {'_account_id': 31502}]","[{'number': 1, 'created': '2020-03-05 14:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5fab2f9283e0a84ac47cb53bce3c79b576a1ed25', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 2, 'created': '2020-03-06 10:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/902f57f7afd709974bf8b1a69395d98ff1e3644e', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 3, 'created': '2020-03-06 14:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/35a091b5c8525976371acb478a52ed0ace67e464', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 4, 'created': '2020-03-06 16:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/065ad8fb43547b543ddffc43641b05d150a71684', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 5, 'created': '2020-03-06 17:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d03584b84241f81957b5d40953f0689f751038ea', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 6, 'created': '2020-03-10 09:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1e8036f307c1d8804674a6964352f6b4179d5583', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 7, 'created': '2020-03-10 11:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/037273d3a4dbc93cb7918adbf07ded7268334ae8', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 8, 'created': '2020-03-10 15:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/35374ca03cc30a3c2d5de3e15c2dbdd24cd2160a', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 9, 'created': '2020-03-11 07:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6c00fd131b7e85abdea686ec3e5383ca1b543a18', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 10, 'created': '2020-03-11 13:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fa8d982ec63c923d3933a05421796403b703dbd6', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 11, 'created': '2020-03-13 15:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/70914784983606f60d65724c843653d9a9681d8a', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 12, 'created': '2020-03-16 10:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bb9deb016722dd900ae8791ab2ba739fe0ec5104', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 13, 'created': '2020-03-16 11:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bc340ae946c86aa26cad900f6bee1bdb5cc90590', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 14, 'created': '2020-03-16 11:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/604bb6587a3217ff809346323d4161d8d3c074fe', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 15, 'created': '2020-03-16 13:38:49.000000000', 'files': ['.dockerignore'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a4e428003190191d626acec5709745548337f8e6', 'message': 'ignore docker files for better docker image reuse\n\nChange-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}]",0,711462,a4e428003190191d626acec5709745548337f8e6,54,7,15,31502,,,0,"ignore docker files for better docker image reuse

Change-Id: I7be391fd54ff544897df2e328cd95734d95fd4f7
Signed-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/62/711462/3 && git format-patch -1 --stdout FETCH_HEAD,['.dockerignore'],1,5fab2f9283e0a84ac47cb53bce3c79b576a1ed25,dpdk-bm,.dockerignore *.Dockerfile,,2,0
openstack%2Fvalidations-libs~master~Iaaf919258a2bd1088c7877d3307b3befdd89457c,openstack/validations-libs,master,Iaaf919258a2bd1088c7877d3307b3befdd89457c,Fix typo in unit test fakes data,MERGED,2020-03-17 14:34:34.000000000,2020-03-17 15:44:49.000000000,2020-03-17 15:44:49.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-17 14:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9a2a676fde3fe694b654fa79173c92789f92d235', 'message': 'Fix typo in unit test fakes data\n\nChange-Id: Iaaf919258a2bd1088c7877d3307b3befdd89457c\n'}, {'number': 2, 'created': '2020-03-17 15:14:35.000000000', 'files': ['validations_libs/tests/test_validations_show.py', 'validations_libs/tests/test_validations_list.py', 'validations_libs/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/fcf06401c502e2f76e769d43a4cc09a3342d4615', 'message': 'Fix typo in unit test fakes data\n\nChange-Id: Iaaf919258a2bd1088c7877d3307b3befdd89457c\n'}]",0,713458,fcf06401c502e2f76e769d43a4cc09a3342d4615,10,3,2,16515,,,0,"Fix typo in unit test fakes data

Change-Id: Iaaf919258a2bd1088c7877d3307b3befdd89457c
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/58/713458/2 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/tests/fakes.py'],1,9a2a676fde3fe694b654fa79173c92789f92d235,fakes/typo," 'name': 'My Validation One Name', 'name': 'My Validation Two Name', 'Name': 'My Validation One Name',"," 'name': 'My Validition One Name', 'name': 'My Validition Two Name', 'Name': 'My Validition One Name',",3,3
openstack%2Fpython-octaviaclient~master~Id881071803e580c10ca3ff33689d01b8b305b3e8,openstack/python-octaviaclient,master,Id881071803e580c10ca3ff33689d01b8b305b3e8,"Remove the dependency on the ""mock"" package",MERGED,2020-03-13 16:28:43.000000000,2020-03-17 15:44:26.000000000,2020-03-17 15:39:43.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 16:28:43.000000000', 'files': ['octaviaclient/tests/unit/osc/v2/fakes.py', 'octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'octaviaclient/tests/unit/osc/v2/test_quota.py', 'octaviaclient/tests/unit/osc/v2/test_provider.py', 'test-requirements.txt', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/tests/fakes.py', 'lower-constraints.txt', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py', 'octaviaclient/tests/unit/osc/v2/test_member.py', 'octaviaclient/tests/unit/osc/v2/test_l7rule.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'octaviaclient/tests/unit/osc/v2/test_amphora.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/943e0d4aa62a9c7b3f5abd603c51050e00af903b', 'message': 'Remove the dependency on the ""mock"" package\n\nNow that we are python3 only, we should move to using the built\nin version of mock that supports all of our testing needs and\nremove the dependency on the ""mock"" package.\n\nThis patch moves all references to ""import mock"" to\n""from unittest import mock"". It also cleans up some new line\ninconsistency.\n\nChange-Id: Id881071803e580c10ca3ff33689d01b8b305b3e8\n'}]",0,713016,943e0d4aa62a9c7b3f5abd603c51050e00af903b,9,4,1,11628,,,0,"Remove the dependency on the ""mock"" package

Now that we are python3 only, we should move to using the built
in version of mock that supports all of our testing needs and
remove the dependency on the ""mock"" package.

This patch moves all references to ""import mock"" to
""from unittest import mock"". It also cleans up some new line
inconsistency.

Change-Id: Id881071803e580c10ca3ff33689d01b8b305b3e8
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/16/713016/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/tests/unit/osc/v2/fakes.py', 'octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'octaviaclient/tests/unit/osc/v2/test_quota.py', 'octaviaclient/tests/unit/osc/v2/test_provider.py', 'test-requirements.txt', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/tests/fakes.py', 'lower-constraints.txt', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py', 'octaviaclient/tests/unit/osc/v2/test_member.py', 'octaviaclient/tests/unit/osc/v2/test_l7rule.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'octaviaclient/tests/unit/osc/v2/test_amphora.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py']",18,943e0d4aa62a9c7b3f5abd603c51050e00af903b,,from unittest import mock,import mock,16,36
openstack%2Fwhitebox-tempest-plugin~master~I2726619df5752cd8478918346280244a8828c56c,openstack/whitebox-tempest-plugin,master,I2726619df5752cd8478918346280244a8828c56c,update requirements to support older releases,MERGED,2020-02-20 21:59:07.000000000,2020-03-17 15:41:43.000000000,2020-03-17 15:41:43.000000000,"[{'_account_id': 7020}, {'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27478}]","[{'number': 1, 'created': '2020-02-20 21:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/01552b1741d25e9f18b37ebb617a8ab9b04e5499', 'message': 'update requirements to support older releases\n\nwhile python 2.7 support is nolonger required,\nas this is a tempest plugin its possible desireable\nto be able to run it on older releases.\n\nThis change caps the version of sshtunnel used on\npython 2.7 to avoid a depency on cryptography 2.6\nwhich is not avaliable on rhel 7 for downstream testing.\n\nIn the future we might want to consider if we drop\nsupport for python 2.7 on the master branch and have a\nseperate branch for 2.7 suport.\n\nthis change also removes py35 form the default tox envs\nand update the tox config to skip missing interpreters and\nignore base python version conflict to allow pyXX envs\nto work correctly.\n\nChange-Id: I2726619df5752cd8478918346280244a8828c56c\n'}, {'number': 2, 'created': '2020-03-02 12:39:42.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9395f5d9ea83d79ac38b67242a13b334a58fcf2a', 'message': 'update requirements to support older releases\n\nwhile python 2.7 support is nolonger required,\nas this is a tempest plugin its possible desireable\nto be able to run it on older releases.\n\nThis change caps the version of sshtunnel used on\npython 2.7 to avoid a depency on cryptography 2.6\nwhich is not avaliable on rhel 7 for downstream testing.\n\nIn the future we might want to consider if we drop\nsupport for python 2.7 on the master branch and have a\nseperate branch for 2.7 suport.\n\nthis change also removes py35 form the default tox envs\nand update the tox config to skip missing interpreters and\nignore base python version conflict to allow pyXX envs\nto work correctly.\n\nChange-Id: I2726619df5752cd8478918346280244a8828c56c\n'}]",0,708977,9395f5d9ea83d79ac38b67242a13b334a58fcf2a,12,5,2,11604,,,0,"update requirements to support older releases

while python 2.7 support is nolonger required,
as this is a tempest plugin its possible desireable
to be able to run it on older releases.

This change caps the version of sshtunnel used on
python 2.7 to avoid a depency on cryptography 2.6
which is not avaliable on rhel 7 for downstream testing.

In the future we might want to consider if we drop
support for python 2.7 on the master branch and have a
seperate branch for 2.7 suport.

this change also removes py35 form the default tox envs
and update the tox config to skip missing interpreters and
ignore base python version conflict to allow pyXX envs
to work correctly.

Change-Id: I2726619df5752cd8478918346280244a8828c56c
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/77/708977/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,01552b1741d25e9f18b37ebb617a8ab9b04e5499,python2.7,"envlist = pep8,py{27,36,37}skip_missing_interpreters = True # Automatic envs (pyXX) will only use the python version appropriate to that # env and ignore basepython inherited from [testenv] if we set # ignore_basepython_conflict. ignore_basepython_conflict = True","envlist = pep8,py{27,35,36,37}",8,2
openstack%2Fopenstack-helm~master~I41dfa6a335a915dbaf08114c2e14e906c76e85ba,openstack/openstack-helm,master,I41dfa6a335a915dbaf08114c2e14e906c76e85ba,Fix network policy job,MERGED,2020-03-16 13:09:48.000000000,2020-03-17 15:40:06.000000000,2020-03-17 15:34:09.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-16 13:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3548ef9c6868cb60bbb7fa8a35df9b4c185691b6', 'message': '[DNM] Test network policy job\n\nChange-Id: I41dfa6a335a915dbaf08114c2e14e906c76e85ba\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-03-16 14:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e8c5b8885553b7d61f42ef3fdf947f8af704e220', 'message': 'Fix network policy job\n\nThis patch set addresses an issue with the placement component of nova\nbreaking the network policy job.\n\nAlso, make the network policy jobs voting to ensure things do not break.\n\nChange-Id: I41dfa6a335a915dbaf08114c2e14e906c76e85ba\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-03-16 14:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5cd1020b7a03ce4ea95f68e663afc1c4dcaf0e60', 'message': 'Fix network policy job\n\nThis patch set addresses an issue with the placement component of nova\nbreaking the network policy job.\n\nAlso, make the network policy jobs voting to ensure things do not break.\n\nChange-Id: I41dfa6a335a915dbaf08114c2e14e906c76e85ba\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2020-03-16 16:05:10.000000000', 'files': ['nova/templates/netpol-nova.yaml', 'nova/templates/netpol-placement.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f1bdcc3251bb7eb8671ef6c3177c463467f9c3c9', 'message': 'Fix network policy job\n\nThis patch set addresses an issue with the placement component of nova\nbreaking the network policy job.\n\nAlso, make the network policy jobs voting to ensure things do not break.\n\nChange-Id: I41dfa6a335a915dbaf08114c2e14e906c76e85ba\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,713223,f1bdcc3251bb7eb8671ef6c3177c463467f9c3c9,13,3,4,20466,,,0,"Fix network policy job

This patch set addresses an issue with the placement component of nova
breaking the network policy job.

Also, make the network policy jobs voting to ensure things do not break.

Change-Id: I41dfa6a335a915dbaf08114c2e14e906c76e85ba
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/23/713223/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/netpol-nova.yaml', 'nova/templates/netpol-placement.yaml', 'nova/values.yaml', 'zuul.d/project.yaml']",4,3548ef9c6868cb60bbb7fa8a35df9b4c185691b6,fix/netpol, # - openstack-helm-bandit # - openstack-helm-cinder # - openstack-helm-cinder-ocata-ubuntu_xenial # - openstack-helm-cinder-pike-ubuntu_xenial # - openstack-helm-cinder-queens-ubuntu_xenial # - openstack-helm-cinder-rocky-ubuntu_xenial # - openstack-helm-cinder-rocky-ubuntu_bionic # - openstack-helm-cinder-rocky-opensuse_15: # voting: false # - openstack-helm-cinder-train-ubuntu_bionic # - openstack-helm-compute-kit # - openstack-helm-compute-kit-ocata-ubuntu_xenial # - openstack-helm-compute-kit-pike-ubuntu_xenial # - openstack-helm-compute-kit-queens-ubuntu_xenial # - openstack-helm-compute-kit-rocky-ubuntu_xenial # - openstack-helm-compute-kit-rocky-ubuntu_bionic # - openstack-helm-compute-kit-rocky-opensuse_15: # voting: false # - openstack-helm-compute-kit-train-ubuntu_bionic # - openstack-helm-horizon, - openstack-helm-bandit - openstack-helm-cinder - openstack-helm-cinder-ocata-ubuntu_xenial - openstack-helm-cinder-pike-ubuntu_xenial - openstack-helm-cinder-queens-ubuntu_xenial - openstack-helm-cinder-rocky-ubuntu_xenial - openstack-helm-cinder-rocky-ubuntu_bionic - openstack-helm-cinder-rocky-opensuse_15: voting: false - openstack-helm-cinder-train-ubuntu_bionic - openstack-helm-compute-kit - openstack-helm-compute-kit-ocata-ubuntu_xenial - openstack-helm-compute-kit-pike-ubuntu_xenial - openstack-helm-compute-kit-queens-ubuntu_xenial - openstack-helm-compute-kit-rocky-ubuntu_xenial - openstack-helm-compute-kit-rocky-ubuntu_bionic - openstack-helm-compute-kit-rocky-opensuse_15: voting: false - openstack-helm-compute-kit-train-ubuntu_bionic - openstack-helm-horizon,21,29
openstack%2Frally-openstack~master~Icb9ac70486e506e658b875a54ce4db479b089ef2,openstack/rally-openstack,master,Icb9ac70486e506e658b875a54ce4db479b089ef2,Updated relevant methods with namespace field for mistral,MERGED,2020-03-08 13:37:13.000000000,2020-03-17 15:36:55.000000000,2020-03-17 15:36:55.000000000,"[{'_account_id': 8731}, {'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-03-08 13:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ccceb203b144ec4b59058292fd3b439693373280', 'message': ""Updated relevant methods with namespace field for mistral\n\nmistral supports namespace for, workbooks and workflows, updated\nutils.py for mistral and added a new method ('create_workflow')\nfor creating workflows not in a workbook.\n\nChange-Id: Icb9ac70486e506e658b875a54ce4db479b089ef2\n""}, {'number': 2, 'created': '2020-03-09 07:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0c5e03529ace576f3d1542f3fefa17963f16dbed', 'message': ""Updated relevant methods with namespace field for mistral\n\nmistral supports namespace for, workbooks and workflows, updated\nutils.py for mistral and added a new method ('create_workflow')\nfor creating workflows not in a workbook.\n\nChange-Id: Icb9ac70486e506e658b875a54ce4db479b089ef2\n""}, {'number': 3, 'created': '2020-03-16 11:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/2f067de5042b96fc9e9ff7217c2ac6bbfc8f86ab', 'message': ""Updated relevant methods with namespace field for mistral\n\nmistral supports namespace for, workbooks and workflows, updated\nutils.py for mistral and added a new method ('create_workflow')\nfor creating workflows not in a workbook.\n\nChange-Id: Icb9ac70486e506e658b875a54ce4db479b089ef2\n""}, {'number': 4, 'created': '2020-03-17 07:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/dfe97b0d09b9357e12500850d8241cf3714e9b78', 'message': ""Updated relevant methods with namespace field for mistral\n\nmistral supports namespace for, workbooks and workflows, updated\nutils.py for mistral and added a new method ('create_workflow')\nfor creating workflows not in a workbook.\n\nChange-Id: Icb9ac70486e506e658b875a54ce4db479b089ef2\n""}, {'number': 5, 'created': '2020-03-17 12:13:32.000000000', 'files': ['tests/unit/scenarios/mistral/test_utils.py', 'rally_openstack/scenarios/mistral/utils.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/06a0ff39ff7a6d8c7d20834a3afc524ae6272b6e', 'message': ""Updated relevant methods with namespace field for mistral\n\nmistral supports namespace for, workbooks and workflows, updated\nutils.py for mistral and added a new method ('create_workflow')\nfor creating workflows not in a workbook.\n\nChange-Id: Icb9ac70486e506e658b875a54ce4db479b089ef2\nDepends-On: Ia225e3735db9de029a1992c5db60f38e8f8124a0\n""}]",0,711848,06a0ff39ff7a6d8c7d20834a3afc524ae6272b6e,19,4,5,30755,,,0,"Updated relevant methods with namespace field for mistral

mistral supports namespace for, workbooks and workflows, updated
utils.py for mistral and added a new method ('create_workflow')
for creating workflows not in a workbook.

Change-Id: Icb9ac70486e506e658b875a54ce4db479b089ef2
Depends-On: Ia225e3735db9de029a1992c5db60f38e8f8124a0
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/48/711848/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/scenarios/mistral/test_utils.py', 'rally_openstack/scenarios/mistral/utils.py']",2,ccceb203b144ec4b59058292fd3b439693373280,," def _create_workbook(self, definition, namespace=''): :param namespace: the namespace where the workbook will be created in return self.clients(""mistral"").workbooks.create( definition, namespace=namespace ) def _delete_workbook(self, wb_name, namespace=''): :param namespace: the namespace of workbook that would be deleted. self.clients(""mistral"").workbooks.delete( wb_name, namespace=namespace ) @atomic.action_timer(""mistral.create_workflow"") def _create_workflow(self, definition, namespace=''): """"""creates a workflow in the given namespace. :param definition: the definition of workflow :param namespace: the namespace of the workflow """""" self.clients(""mistral"").workflows.create( definition, namespace=namespace ) @atomic.action_timer(""mistral.delete_workflow"") def _delete_workflow(self, workflow_identifier, namespace=''): """"""Delete the given workflow. :param workflow_identifier: the identifier of workflow :param namespace: the namespace of the workflow """""" self.clients(""mistral"").workflows.delete( workflow_identifier, namespace=namespace ) def _create_execution(self, workflow_identifier, namespace='', wf_input=None, **params): :param namespace: namespace of the workflow to execute workflow_identifier, namespace=namespace, workflow_input=wf_input, **params )"," def _create_workbook(self, definition): return self.clients(""mistral"").workbooks.create(definition) def _delete_workbook(self, wb_name): self.clients(""mistral"").workbooks.delete(wb_name) def _create_execution(self, workflow_identifier, wf_input=None, **params): workflow_identifier, workflow_input=wf_input, **params)",100,14
openstack%2Ftripleo-ansible~master~I2bdc5c703dc104341e3e43fa3019e9b556d3c520,openstack/tripleo-ansible,master,I2bdc5c703dc104341e3e43fa3019e9b556d3c520,Partial revert for c8 migration,ABANDONED,2020-03-17 14:42:35.000000000,2020-03-17 15:35:36.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 14:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2cc85dc2e199fefb686e2911b1fb9c5f415d0ee', 'message': ""Partial revert for c8 migration\n\nThis change is a partial revert of I18dfce4ef4d8c3bd3b73b2447fc6807047186f61.\nWhile we need to migrate everything to CentOS 8 going forward, we're not able\nto reliably do that at this time without making these tests non-voting. This\nis being done because these roles are crucial to our success and we need them\nto remain voting.\n\nChange-Id: I2bdc5c703dc104341e3e43fa3019e9b556d3c520\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2020-03-17 14:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bda8fed296d94bce3ed79badc10846fe0abad938', 'message': ""Partial revert for c8 migration\n\nThis change is a partial revert of I18dfce4ef4d8c3bd3b73b2447fc6807047186f61.\nWhile we need to migrate everything to CentOS 8 going forward, we're not able\nto reliably do that at this time without making these tests non-voting. This\nis being done because these roles are crucial to our success and we need them\nto remain voting.\n\nChange-Id: I2bdc5c703dc104341e3e43fa3019e9b556d3c520\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2020-03-17 14:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9504d33436a0cada2684b94b67f24f7b0bd1191f', 'message': ""Partial revert for c8 migration\n\nThis change is a partial revert of I18dfce4ef4d8c3bd3b73b2447fc6807047186f61.\nWhile we need to migrate everything to CentOS 8 going forward, we're not able\nto reliably do that at this time without making these tests non-voting. This\nis being done because these roles are crucial to our success and we need them\nto remain voting.\n\nPartial-Bug: 1867787\nChange-Id: I2bdc5c703dc104341e3e43fa3019e9b556d3c520\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 4, 'created': '2020-03-17 15:03:56.000000000', 'files': ['zuul.d/molecule.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac893f61a0c35e525cf9731d181a216661670127', 'message': ""Partial revert for c8 migration\n\nThis change is a partial revert of I18dfce4ef4d8c3bd3b73b2447fc6807047186f61.\nWhile we need to migrate everything to CentOS 8 going forward, we're not able\nto reliably do that at this time without making these tests non-voting. This\nis being done because these roles are crucial to our success and we need them\nto remain voting.\n\nPartial-Bug: 1867787\nChange-Id: I2bdc5c703dc104341e3e43fa3019e9b556d3c520\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",2,713460,ac893f61a0c35e525cf9731d181a216661670127,10,4,4,7353,,,0,"Partial revert for c8 migration

This change is a partial revert of I18dfce4ef4d8c3bd3b73b2447fc6807047186f61.
While we need to migrate everything to CentOS 8 going forward, we're not able
to reliably do that at this time without making these tests non-voting. This
is being done because these roles are crucial to our success and we need them
to remain voting.

Partial-Bug: 1867787
Change-Id: I2bdc5c703dc104341e3e43fa3019e9b556d3c520
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/713460/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,b2cc85dc2e199fefb686e2911b1fb9c5f415d0ee,bug/1867787, - tripleo-ansible-centos-7-molecule-tripleo_container_manage - tripleo-ansible-centos-7-molecule-tripleo_container_rm - tripleo-ansible-centos-7-molecule-tripleo_container_stop - tripleo-ansible-centos-7-molecule-tripleo_container_manage - tripleo-ansible-centos-7-molecule-tripleo_container_rm - tripleo-ansible-centos-7-molecule-tripleo_container_stop name: tripleo-ansible-centos-7-molecule-tripleo_container_manage parent: tripleo-ansible-centos-7-base name: tripleo-ansible-centos-7-molecule-tripleo_container_rm parent: tripleo-ansible-centos-7-base name: tripleo-ansible-centos-7-molecule-tripleo_container_stop parent: tripleo-ansible-centos-7-base, - tripleo-ansible-centos-8-molecule-tripleo_container_manage - tripleo-ansible-centos-8-molecule-tripleo_container_rm - tripleo-ansible-centos-8-molecule-tripleo_container_stop - tripleo-ansible-centos-8-molecule-tripleo_container_manage - tripleo-ansible-centos-8-molecule-tripleo_container_rm - tripleo-ansible-centos-8-molecule-tripleo_container_stop name: tripleo-ansible-centos-8-molecule-tripleo_container_manage parent: tripleo-ansible-centos-8-base voting: false name: tripleo-ansible-centos-8-molecule-tripleo_container_rm parent: tripleo-ansible-centos-8-base voting: false name: tripleo-ansible-centos-8-molecule-tripleo_container_stop parent: tripleo-ansible-centos-8-base voting: false,12,15
openstack%2Fkuryr-kubernetes~master~Ib9c22368e518815064282f4c3b9f9ddaf58dc622,openstack/kuryr-kubernetes,master,Ib9c22368e518815064282f4c3b9f9ddaf58dc622,Support DPDK application on bare-metal host,MERGED,2018-08-27 13:46:43.000000000,2020-03-17 15:34:18.000000000,2020-03-17 15:31:39.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 25900}, {'_account_id': 27032}, {'_account_id': 28396}, {'_account_id': 30454}, {'_account_id': 31502}]","[{'number': 1, 'created': '2018-08-27 13:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0e6ac0bf8a3a0ea9d2bbb0ac5dfbca9f7d813290', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port to\ncontainers's directory. Here container's directory it's mounted directory.\nAlso this patch contains code to create proper VIF in case when neutron ovs\nagent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS bridge\nwith netdev type, then it  creates port in this bridge. It uses vif.network.bridge\nas the name for integration bridge, IOW it doesn't use ovs_bridge from kuryr.conf,\nvif.network.bridge is configured by neutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent found dpdkvhostuserclient there, it sets vhostuser_mode\nto VIFVHostUserMode.SERVER, it means DPDK application in container will be\na server, and OVS will be a client, so DPDK application will create/bind/listen\nvhostuser socket by predefined path. This path is set to vhostuser_mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\n VIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen socket,\nso socket file will exist, and it shoud be copied to container's mount volume.\nAt the moment of copying OVS server already has to listen it, otherwise\napproach is not working.\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 2, 'created': '2018-08-28 07:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7558109e02376b3d0a8ff0bb63dbb8910eeb3b34', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port to\ncontainers's directory. Here container's directory it's mounted directory.\nAlso this patch contains code to create proper VIF in case when neutron ovs\nagent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS bridge\nwith netdev type, then it  creates port in this bridge. It uses vif.network.bridge\nas the name for integration bridge, IOW it doesn't use ovs_bridge from kuryr.conf,\nvif.network.bridge is configured by neutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent found dpdkvhostuserclient there, it sets vhostuser_mode\nto VIFVHostUserMode.SERVER, it means DPDK application in container will be\na server, and OVS will be a client, so DPDK application will create/bind/listen\nvhostuser socket by predefined path. This path is set to vhostuser_mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\n VIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen socket,\nso socket file will exist, and it shoud be copied to container's mount volume.\nAt the moment of copying OVS server already has to listen it, otherwise\napproach is not working.\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 3, 'created': '2018-08-28 08:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9eee5a9627101e7648a85ab428125bdfc3f5cc85', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port to\ncontainers's directory. Here container's directory it's mounted directory.\nAlso this patch contains code to create proper VIF in case when neutron ovs\nagent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS bridge\nwith netdev type, then it  creates port in this bridge. It uses vif.network.bridge\nas the name for integration bridge, IOW it doesn't use ovs_bridge from kuryr.conf,\nvif.network.bridge is configured by neutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent found dpdkvhostuserclient there, it sets vhostuser_mode\nto VIFVHostUserMode.SERVER, it means DPDK application in container will be\na server, and OVS will be a client, so DPDK application will create/bind/listen\nvhostuser socket by predefined path. This path is set to vhostuser_mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\n VIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen socket,\nso socket file will exist, and it shoud be copied to container's mount volume.\nAt the moment of copying OVS server already has to listen it, otherwise\napproach is not working.\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 4, 'created': '2018-08-31 14:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2eb2ff577d6c932d61805132a5a53f72395409ed', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port to\ncontainers's directory. Here container's directory it's mounted directory.\nAlso this patch contains code to create proper VIF in case when neutron ovs\nagent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS bridge\nwith netdev type, then it  creates port in this bridge. It uses vif.network.bridge\nas the name for integration bridge, IOW it doesn't use ovs_bridge from kuryr.conf,\nvif.network.bridge is configured by neutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent found dpdkvhostuserclient there, it sets vhostuser_mode\nto VIFVHostUserMode.SERVER, it means DPDK application in container will be\na server, and OVS will be a client, so DPDK application will create/bind/listen\nvhostuser socket by predefined path. This path is set in\n kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\n VIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen socket,\nso socket file will exist, and it shoud be copied to container's mount volume.\nAt the moment of copying OVS server already has to listen it, otherwise\napproach is not working.\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 5, 'created': '2018-09-03 06:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/38d43b5419c5e47b5ecae721d34ca38f65bdfa90', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port to\ncontainers's directory. Here container's directory it's mounted directory.\nAlso this patch contains code to create proper VIF in case when neutron ovs\nagent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS bridge\nwith netdev type, then it  creates port in this bridge. It uses vif.network.bridge\nas the name for integration bridge, IOW it doesn't use ovs_bridge from kuryr.conf,\nvif.network.bridge is configured by neutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent found dpdkvhostuserclient there, it sets vhostuser_mode\nto VIFVHostUserMode.SERVER, it means DPDK application in container will be\na server, and OVS will be a client, so DPDK application will create/bind/listen\nvhostuser socket by predefined path. This path is set in\n kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\n VIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen socket,\nso socket file will exist, and it shoud be copied to container's mount volume.\nAt the moment of copying OVS server already has to listen it, otherwise\napproach is not working.\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 6, 'created': '2018-09-06 08:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c6e16a23d56bc8247358ddffd3100fd1e9d69de2', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port to\ncontainers's directory. Here container's directory it's mounted directory.\nAlso this patch contains code to create proper VIF in case when neutron ovs\nagent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS bridge\nwith netdev type, then it  creates port in this bridge. It uses vif.network.bridge\nas the name for integration bridge, IOW it doesn't use ovs_bridge from kuryr.conf,\nvif.network.bridge is configured by neutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent found dpdkvhostuserclient there, it sets vhostuser_mode\nto VIFVHostUserMode.SERVER, it means DPDK application in container will be\na server, and OVS will be a client, so DPDK application will create/bind/listen\nvhostuser socket by predefined path. This path is set in\n kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\n VIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen socket,\nso socket file will exist, and it shoud be copied to container's mount volume.\nAt the moment of copying OVS server already has to listen it, otherwise\napproach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 7, 'created': '2018-09-14 13:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fb05800602107b04a7441caf409a6ac6a43d3c04', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port to\ncontainers's directory. Here container's directory it's mounted directory.\nAlso this patch contains code to create proper VIF in case when neutron ovs\nagent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS bridge\nwith netdev type, then it  creates port in this bridge. It uses vif.network.bridge\nas the name for integration bridge, IOW it doesn't use ovs_bridge from kuryr.conf,\nvif.network.bridge is configured by neutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent found dpdkvhostuserclient there, it sets vhostuser_mode\nto VIFVHostUserMode.SERVER, it means DPDK application in container will be\na server, and OVS will be a client, so DPDK application will create/bind/listen\nvhostuser socket by predefined path. This path is set in\n kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\n VIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen socket,\nso socket file will exist, and it shoud be copied to container's mount volume.\nAt the moment of copying OVS server already has to listen it, otherwise\napproach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 8, 'created': '2018-09-17 05:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5af32990f62f1f7c345cd2f5dbf31820600c1354', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port to\ncontainers's directory. Here container's directory it's mounted directory.\nAlso this patch contains code to create proper VIF in case when neutron ovs\nagent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS bridge\nwith netdev type, then it  creates port in this bridge. It uses vif.network.bridge\nas the name for integration bridge, IOW it doesn't use ovs_bridge from kuryr.conf,\nvif.network.bridge is configured by neutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent found dpdkvhostuserclient there, it sets vhostuser_mode\nto VIFVHostUserMode.SERVER, it means DPDK application in container will be\na server, and OVS will be a client, so DPDK application will create/bind/listen\nvhostuser socket by predefined path. This path is set in\n kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\n VIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen socket,\nso socket file will exist, and it shoud be copied to container's mount volume.\nAt the moment of copying OVS server already has to listen it, otherwise\napproach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 9, 'created': '2018-10-12 08:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c32f505705fd06395a971d3b82208d6f52aa4dd2', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port to\ncontainers's directory. Here container's directory it's mounted directory.\nAlso this patch contains code to create proper VIF in case when neutron ovs\nagent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS bridge\nwith netdev type, then it  creates port in this bridge. It uses vif.network.bridge\nas the name for integration bridge, IOW it doesn't use ovs_bridge from kuryr.conf,\nvif.network.bridge is configured by neutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets vhostuser_mode\nto VIFVHostUserMode.SERVER, it means DPDK application in container will be\na server, and OVS will be a client, so DPDK application will create/bind/listen\nvhostuser socket by predefined path. This path is set in\n kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\n VIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen socket,\nso socket file will exist, and it shoud be copied to container's mount volume.\nAt the moment of copying OVS server already has to listen it, otherwise\napproach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 10, 'created': '2020-03-05 13:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/99b8ea3cc40ec0197dc57b4fe8f0efdcb111a633', 'message': 'Autogenerate path for vhostuserclient socket\n\nBefore this patch path to a vhostuserclient socket was hardcodeed in a\nkuryr-kubernetes config file. So every new created port was using the\nsame path. That leaded to a socket-file conflict when more than one\ncontainer was intended to use a DPDK-enabled port.\n\nThis patch automatically concatenates portname to a socket directory\npath, so every port gets a unique vhost-server-path like\n""/var/run/vhostuser/vhua5a8d6c0-41""\n\nChange-Id: I9112365585466a126e2653f25aea71ff473c86b8\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\n'}, {'number': 11, 'created': '2020-03-05 14:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/68729cffb6b8b719be585ad6737d5d595d0dcc44', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nBased on commit c32f505 of https://review.opendev.org/#/c/596731/\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 12, 'created': '2020-03-06 10:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b5a13d256d1236962724801cc554590a935766e1', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nBased on commit c32f505 of https://review.opendev.org/#/c/596731/\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 13, 'created': '2020-03-06 14:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ae857406176446669a2b7f37cc6f742d7b6c54a4', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nBased on commit c32f505 of https://review.opendev.org/#/c/596731/\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 14, 'created': '2020-03-06 16:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/83f030a3d44708d2e432372bbd0b378c8ab41416', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nBased on commit c32f505 of https://review.opendev.org/#/c/596731/\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 15, 'created': '2020-03-06 17:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e82e104c237059e620dcb7bde8e75dbe1f3f68ce', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nBased on commit c32f505 of https://review.opendev.org/#/c/596731/\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 16, 'created': '2020-03-10 09:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/405dfccdfa9f324ad80fd32b2f877d518ed5f42e', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 17, 'created': '2020-03-10 11:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/953656581de86902c0d96ab7740d3df2aff1fb23', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 18, 'created': '2020-03-10 15:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4a7fe6cb27d9b0e0086aab6fa59aef1e4d38aa68', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 19, 'created': '2020-03-11 07:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f7fc6ad0dbb4e38abce348e6cfac80f2e362821b', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 20, 'created': '2020-03-11 13:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/79d9b20cf59201d47b7c674c49b1969ca8f63fed', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 21, 'created': '2020-03-13 15:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/60ed36806a560c1f7197103b7f7c7080c84781b6', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 22, 'created': '2020-03-16 10:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ac32c86cf6f2cadb9eacc378efa47153d3c56253', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 23, 'created': '2020-03-16 11:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/308c3b633dd9e939b3c61e7044a3632c207c7ff8', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 24, 'created': '2020-03-16 11:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/928f1519053fa5fe3fd0a6fffaff51558a18c37a', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}, {'number': 25, 'created': '2020-03-16 13:38:49.000000000', 'files': ['kuryr_kubernetes/tests/unit/test_os_vif_util.py', 'kuryr_kubernetes/os_vif_util.py', 'kuryr_kubernetes/cni/binding/vhostuser.py', 'kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/config.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/04b6e9bd801beb006f97b5960f007df617681078', 'message': ""Support DPDK application on bare-metal host\n\nThis patch contains binding driver, which intend to copy vhostuser port\nto containers's directory. Here container's directory it's mounted\ndirectory. Also this patch contains code to create proper VIF in case\nwhen neutron ovs agent configured to work with vhostuser ports.\n\nThere is no code here for port creation, due to it performs in\nbase.connect by os_vif.plug. This function creates/or recreates OVS\nbridge with netdev type, then it  creates port in this bridge. It uses\nvif.network.bridge as the name for integration bridge, IOW it doesn't\nuse ovs_bridge from kuryr.conf, vif.network.bridge is configured by\nneutron ovs agent.\n\nVhostUser mode is defined by neutron ovs agent, it obtains from\nOpen vSwitch configuration:\n\nCommand to check Open vSwitch configuration\n\novs-vsctl list Open_vSwitch |grep iface_types\n\nIf neutron ovs agent finds dpdkvhostuserclient there, it sets\nvhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in\ncontainer will be a server, and OVS will be a client, so DPDK\napplication will create/bind/listen vhostuser socket by predefined path.\nThis path is set in kuryr.conf/vhostuser/mount_point.\nWhen dpdkvhostuserclient is not in OVS's capability list, e.g. it's old\nOVS or it was built w/o dpdkvhostuserclient support, the mode will be\nVIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen\nsocket, so socket file will exist, and it shoud be copied to container's\nmount volume. At the moment of copying OVS server already has to listen\nit, otherwise approach is not working.\n\nPartially Implements: blueprint support-vhost-user-port-type-on-bm-installation\n\nChange-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\nSigned-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>\nSigned-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>\n""}]",61,596731,04b6e9bd801beb006f97b5960f007df617681078,82,12,25,28396,,,0,"Support DPDK application on bare-metal host

This patch contains binding driver, which intend to copy vhostuser port
to containers's directory. Here container's directory it's mounted
directory. Also this patch contains code to create proper VIF in case
when neutron ovs agent configured to work with vhostuser ports.

There is no code here for port creation, due to it performs in
base.connect by os_vif.plug. This function creates/or recreates OVS
bridge with netdev type, then it  creates port in this bridge. It uses
vif.network.bridge as the name for integration bridge, IOW it doesn't
use ovs_bridge from kuryr.conf, vif.network.bridge is configured by
neutron ovs agent.

VhostUser mode is defined by neutron ovs agent, it obtains from
Open vSwitch configuration:

Command to check Open vSwitch configuration

ovs-vsctl list Open_vSwitch |grep iface_types

If neutron ovs agent finds dpdkvhostuserclient there, it sets
vhostuser_mode to VIFVHostUserMode.SERVER, it means DPDK application in
container will be a server, and OVS will be a client, so DPDK
application will create/bind/listen vhostuser socket by predefined path.
This path is set in kuryr.conf/vhostuser/mount_point.
When dpdkvhostuserclient is not in OVS's capability list, e.g. it's old
OVS or it was built w/o dpdkvhostuserclient support, the mode will be
VIFVHostUserMode.CLIENT. In this case OVS will create/bind/listen
socket, so socket file will exist, and it shoud be copied to container's
mount volume. At the moment of copying OVS server already has to listen
it, otherwise approach is not working.

Partially Implements: blueprint support-vhost-user-port-type-on-bm-installation

Change-Id: Ib9c22368e518815064282f4c3b9f9ddaf58dc622
Signed-off-by: Alexey Perevalov <a.perevalov@samsung.com>
Signed-off-by: Andrey Zaikin <a.zaikin@partner.samsung.com>
Signed-off-by: Vladimir Kuramshin <v.kuramshin@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/31/596731/24 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/test_os_vif_util.py', 'kuryr_kubernetes/cni/binding/bridge.py', 'kuryr_kubernetes/os_vif_util.py', 'kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/cni/binding/base.py', 'setup.cfg', 'kuryr_kubernetes/constants.py']",8,0e6ac0bf8a3a0ea9d2bbb0ac5dfbca9f7d813290,dpdk-bm,VHU_PREFIX = 'vhu',,254,2
openstack%2Frpm-packaging~stable%2Ftrain~I4bb86ba9abb3077c75be8e4042708567c4390f5d,openstack/rpm-packaging,stable/train,I4bb86ba9abb3077c75be8e4042708567c4390f5d,horizon: Fix shebang on manage.py,MERGED,2020-03-17 13:54:31.000000000,2020-03-17 15:23:47.000000000,2020-03-17 15:23:47.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 13:54:31.000000000', 'files': ['openstack/horizon/horizon.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/09adcb773675493a58df3a15ba4f89af46048372', 'message': 'horizon: Fix shebang on manage.py\n\nThe shebang points to /usr/bin/env python, which causes an error\nwhen built on CentOS 8.\n\nChange-Id: I4bb86ba9abb3077c75be8e4042708567c4390f5d\n(cherry picked from commit 0f596ff69c84ea93d4a1547fcd71158b66471237)\n'}]",0,713447,09adcb773675493a58df3a15ba4f89af46048372,8,4,1,13294,,,0,"horizon: Fix shebang on manage.py

The shebang points to /usr/bin/env python, which causes an error
when built on CentOS 8.

Change-Id: I4bb86ba9abb3077c75be8e4042708567c4390f5d
(cherry picked from commit 0f596ff69c84ea93d4a1547fcd71158b66471237)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/47/713447/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/horizon/horizon.spec.j2'],1,09adcb773675493a58df3a15ba4f89af46048372,remove-python2-stable/train,# Fix manage.py shebang sed -i 's#%{_bindir}/env python#%{_bindir}/python3#' manage.py ,,3,0
