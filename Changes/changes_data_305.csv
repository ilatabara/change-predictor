id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fgovernance~master~I66ac74fdda69e2eb21e4766113c27082753a0daa,openstack/governance,master,I66ac74fdda69e2eb21e4766113c27082753a0daa,"Revert ""Split OpenDev out of OpenStack Infra""",MERGED,2020-02-26 11:46:07.000000000,2020-02-26 12:14:02.000000000,2020-02-26 12:11:04.000000000,"[{'_account_id': 308}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 9562}, {'_account_id': 13995}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-26 11:46:07.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/822225892172681c3582b457a0b856360037365e', 'message': 'Revert ""Split OpenDev out of OpenStack Infra""\n\nI think this has merged way too early.  While it was under\nproject-update, there should be a lot more discussion around\nwhat all of this means for the community, who runs/operates\nall the donated infrastructure and a proper governance\nbefore we take such a big action.\n\nWe need to have that \'committee\' setup, we need to have the\nmembers put in place and the correct infrastructure to then\ntransition things properly, IMHO.\n\nThis reverts commit ae2a861ea3c94a8bb33e1abdee2907423f2aade6.\n\nChange-Id: I66ac74fdda69e2eb21e4766113c27082753a0daa\n'}]",0,710018,822225892172681c3582b457a0b856360037365e,8,10,1,1004,,,0,"Revert ""Split OpenDev out of OpenStack Infra""

I think this has merged way too early.  While it was under
project-update, there should be a lot more discussion around
what all of this means for the community, who runs/operates
all the donated infrastructure and a proper governance
before we take such a big action.

We need to have that 'committee' setup, we need to have the
members put in place and the correct infrastructure to then
transition things properly, IMHO.

This reverts commit ae2a861ea3c94a8bb33e1abdee2907423f2aade6.

Change-Id: I66ac74fdda69e2eb21e4766113c27082753a0daa
",git fetch https://review.opendev.org/openstack/governance refs/changes/18/710018/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,822225892172681c3582b457a0b856360037365e,project-update, Develop and maintain the tooling and infrastructure needed to support the development process and general operation of the OpenStack project. afsmon: repos: - opendev/afsmon ansible-role-cloud-launcher: repos: - opendev/ansible-role-cloud-launcher ansible-role-puppet: repos: - opendev/ansible-role-puppet askbot-theme: repos: - opendev/askbot-theme bindep: repos: - opendev/bindep elastic-recheck: repos: - opendev/elastic-recheck gear: repos: - opendev/gear germqtt: repos: - opendev/germqtt gerrit: repos: - opendev/gerrit gerritbot: repos: - opendev/gerritbot gerritlib: repos: - opendev/gerritlib git-restack: repos: - opendev/git-restack git-review: repos: - opendev/git-review glean: repos: - opendev/glean grafyaml: repos: - opendev/grafyaml infra-manual: repos: - openstack/infra-manual infra-specs: release-management: none repos: - opendev/infra-specs irc-meetings: repos: - opendev/irc-meetings jeepyb: repos: - opendev/jeepyb lodgeit: repos: - opendev/lodgeit log-classify: repos: - opendev/log-classify log_processor: repos: - opendev/log_processor lpmqtt: repos: - opendev/lpmqtt meetbot: repos: - opendev/meetbot mqtt_statsd: repos: - opendev/mqtt_statsd project-config-example: repos: - opendev/project-config-example publications: repos: - opendev/publications puppet-accessbot: repos: - opendev/puppet-accessbot puppet-ansible: repos: - opendev/puppet-ansible puppet-apparmor: repos: - opendev/puppet-apparmor puppet-askbot: repos: - opendev/puppet-askbot puppet-asterisk: repos: - opendev/puppet-asterisk puppet-bandersnatch: repos: - opendev/puppet-bandersnatch puppet-bugdaystats: repos: - opendev/puppet-bugdaystats puppet-bup: repos: - opendev/puppet-bup puppet-cgit: repos: - opendev/puppet-cgit puppet-ciwatch: repos: - opendev/puppet-ciwatch puppet-infra-cookiecutter: repos: - opendev/puppet-infra-cookiecutter puppet-dashboard: repos: - opendev/puppet-dashboard puppet-diskimage_builder: repos: - opendev/puppet-diskimage_builder puppet-drupal: repos: - opendev/puppet-drupal puppet-elastic_recheck: repos: - opendev/puppet-elastic_recheck puppet-elasticsearch: repos: - opendev/puppet-elasticsearch puppet-ethercalc: repos: - opendev/puppet-ethercalc puppet-etherpad_lite: repos: - opendev/puppet-etherpad_lite puppet-exim: repos: - opendev/puppet-exim puppet-germqtt: repos: - opendev/puppet-germqtt puppet-gerrit: repos: - opendev/puppet-gerrit puppet-gerritbot: repos: - opendev/puppet-gerritbot puppet-github: repos: - opendev/puppet-github puppet-grafyaml: repos: - opendev/puppet-grafyaml puppet-graphite: repos: - opendev/puppet-graphite puppet-haveged: repos: - opendev/puppet-haveged puppet-hound: repos: - opendev/puppet-hound puppet-httpd: repos: - opendev/puppet-httpd puppet-infracloud: repos: - opendev/puppet-infracloud puppet-ipsilon: repos: - opendev/puppet-ipsilon puppet-iptables: repos: - opendev/puppet-iptables puppet-jeepyb: repos: - opendev/puppet-jeepyb puppet-jenkins: repos: - opendev/puppet-jenkins puppet-kerberos: repos: - opendev/puppet-kerberos puppet-kibana: repos: - opendev/puppet-kibana puppet-lodgeit: repos: - opendev/puppet-lodgeit puppet-log_processor: repos: - opendev/puppet-log_processor puppet-logrotate: repos: - opendev/puppet-logrotate puppet-logstash: repos: - opendev/puppet-logstash puppet-lpmqtt: repos: - opendev/puppet-lpmqtt puppet-mailman: repos: - opendev/puppet-mailman puppet-mediawiki: repos: - opendev/puppet-mediawiki puppet-meetbot: repos: - opendev/puppet-meetbot puppet-mosquitto: repos: - opendev/puppet-mosquitto puppet-mqtt_statsd: repos: - opendev/puppet-mqtt_statsd puppet-mysql_backup: repos: - opendev/puppet-mysql_backup puppet-nodepool: repos: - opendev/puppet-nodepool puppet-openafs: repos: - opendev/puppet-openafs puppet-openstack_health: repos: - opendev/puppet-openstack_health puppet-openstack_infra_spec_helper: repos: - opendev/puppet-openstack_infra_spec_helper puppet-openstackci: repos: - opendev/puppet-openstackci puppet-openstackid: repos: - opendev/puppet-openstackid puppet-os_client_config: repos: - opendev/puppet-os_client_config puppet-packagekit: repos: - opendev/puppet-packagekit puppet-pgsql_backup: repos: - opendev/puppet-pgsql_backup puppet-phabricator: repos: - opendev/puppet-phabricator puppet-pip: repos: - opendev/puppet-pip puppet-planet: repos: - opendev/puppet-planet puppet-project_config: repos: - opendev/puppet-project_config puppet-ptgbot: repos: - opendev/puppet-ptgbot puppet-puppet: repos: - opendev/puppet-puppet puppet-redis: repos: - opendev/puppet-redis puppet-refstack: repos: - opendev/puppet-refstack puppet-reviewday: repos: - opendev/puppet-reviewday puppet-simpleproxy: repos: - opendev/puppet-simpleproxy puppet-snmpd: repos: - opendev/puppet-snmpd puppet-ssh: repos: - opendev/puppet-ssh puppet-ssl_cert_check: repos: - opendev/puppet-ssl_cert_check puppet-statusbot: repos: - opendev/puppet-statusbot puppet-storyboard: repos: - opendev/puppet-storyboard puppet-subunit2sql: repos: - opendev/puppet-subunit2sql puppet-sudoers: repos: - opendev/puppet-sudoers puppet-tmpreaper: repos: - opendev/puppet-tmpreaper puppet-translation_checksite: repos: - opendev/puppet-translation_checksite puppet-ulimit: repos: - opendev/puppet-ulimit puppet-unattended_upgrades: repos: - opendev/puppet-unattended_upgrades puppet-unbound: repos: - opendev/puppet-unbound puppet-user: repos: - opendev/puppet-user puppet-vcsrepo: repos: - opendev/puppet-vcsrepo puppet-zanata: repos: - opendev/puppet-zanata puppet-zuul: repos: - opendev/puppet-zuul pynotedb: repos: - opendev/pynotedb python-storyboardclient: repos: - opendev/python-storyboardclient statusbot: repos: - opendev/statusbot storyboard: repos: - opendev/storyboard storyboard-webclient: repos: - opendev/storyboard-webclient subunit2sql: repos: - opendev/subunit2sql system-config: repos: - opendev/system-config yaml2ical: repos: - opendev/yaml2ical zone-opendev.org: repos: - opendev/zone-opendev.org," Develop and maintain, in conjunction with the OpenDev project, the tooling and infrastructure needed to support the development process and general operation of the OpenStack project.",354,3
openstack%2Fnova~master~I61c1a47559645c41089747cc81270848b58b68f9,openstack/nova,master,I61c1a47559645c41089747cc81270848b58b68f9,trivial: Remove FakeScheduler,MERGED,2020-02-11 18:13:11.000000000,2020-02-26 12:12:51.000000000,2020-02-26 12:07:44.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-11 18:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ab47ae34ee5a0e9cc293ca1cafda3b13db9af7d', 'message': ""trivial: Remove FakeScheduler\n\nWe don't need this and it's blocking us from removing pluggable\nscheduler drivers. Remove it.\n\nChange-Id: I61c1a47559645c41089747cc81270848b58b68f9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-02-18 16:17:29.000000000', 'files': ['nova/scheduler/manager.py', 'nova/tests/unit/scheduler/test_manager.py', 'nova/tests/unit/cmd/test_scheduler.py', 'nova/conf/scheduler.py', 'setup.cfg', 'nova/tests/unit/scheduler/test_filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a0a88d7c0c4d7470ef86f40b153b3ec606b80537', 'message': ""trivial: Remove FakeScheduler\n\nWe don't need this and it's blocking us from removing pluggable\nscheduler drivers. Remove it.\n\nChange-Id: I61c1a47559645c41089747cc81270848b58b68f9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,707224,a0a88d7c0c4d7470ef86f40b153b3ec606b80537,23,11,2,15334,,,0,"trivial: Remove FakeScheduler

We don't need this and it's blocking us from removing pluggable
scheduler drivers. Remove it.

Change-Id: I61c1a47559645c41089747cc81270848b58b68f9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/707224/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/tests/unit/scheduler/test_manager.py', 'nova/tests/unit/cmd/test_scheduler.py', 'nova/conf/scheduler.py', 'setup.cfg', 'nova/tests/unit/scheduler/test_filter_scheduler.py']",6,5ab47ae34ee5a0e9cc293ca1cafda3b13db9af7d,bp/flavor-extra-spec-validators,"from nova import contextfrom nova import servicegroupclass FilterSchedulerTestCase(test.NoDBTestCase): @mock.patch.object(host_manager.HostManager, '_init_instance_info', new=mock.Mock()) @mock.patch.object(host_manager.HostManager, '_init_aggregates', new=mock.Mock()) @mock.patch('nova.scheduler.client.report.SchedulerReportClient', autospec=True, new=mock.Mock()) @mock.patch('nova.scheduler.client.query.SchedulerQueryClient', autospec=True, new=mock.Mock()) def setUp(self): super(FilterSchedulerTestCase, self).setUp() self.driver = filter_scheduler.FilterScheduler() self.context = context.RequestContext('fake_user', 'fake_project') self.topic = 'fake_topic' self.servicegroup_api = servicegroup.API() @mock.patch('nova.objects.ServiceList.get_by_topic') @mock.patch('nova.servicegroup.API.service_is_up') def test_hosts_up(self, mock_service_is_up, mock_get_by_topic): service1 = objects.Service(host='host1') service2 = objects.Service(host='host2') services = objects.ServiceList(objects=[service1, service2]) mock_get_by_topic.return_value = services mock_service_is_up.side_effect = [False, True] result = self.driver.hosts_up(self.context, self.topic) self.assertEqual(result, ['host2']) mock_get_by_topic.assert_called_once_with(self.context, self.topic) calls = [mock.call(service1), mock.call(service2)] self.assertEqual(calls, mock_service_is_up.call_args_list)","from nova.tests.unit.scheduler import test_schedulerclass FilterSchedulerTestCase(test_scheduler.SchedulerTestCase): driver_cls = filter_scheduler.FilterScheduler def setUp(self): with mock.patch( 'nova.scheduler.client.report.SchedulerReportClient', autospec=True), mock.patch( 'nova.scheduler.client.query.SchedulerQueryClient', autospec=True): super(FilterSchedulerTestCase, self).setUp()",46,78
openstack%2Fkuryr-libnetwork~master~Id9158df88f0b6ed0c071994bf0aa240063ac6761,openstack/kuryr-libnetwork,master,Id9158df88f0b6ed0c071994bf0aa240063ac6761,Update docs and scripts for using python3,MERGED,2020-02-17 04:46:05.000000000,2020-02-26 12:08:23.000000000,2020-02-26 12:06:43.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-17 04:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/ab691b14ea387292c751fb196c781a440eece254', 'message': 'Update installation guide for using python3\n\nChange-Id: Id9158df88f0b6ed0c071994bf0aa240063ac6761\n'}, {'number': 2, 'created': '2020-02-17 04:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/ae13d730537122160cfcd2e0c4bd579d142ec0b8', 'message': 'Update docs and scripts for using python3\n\nPython2 is deprecated so we need to switch to python3\n\nChange-Id: Id9158df88f0b6ed0c071994bf0aa240063ac6761\n'}, {'number': 3, 'created': '2020-02-17 16:15:17.000000000', 'files': ['tools/generate_config_file_samples.sh', 'scripts/run_kuryr.sh', 'doc/source/install/compute-install-ubuntu.rst', 'README.rst', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/d9523c7afe55118fa463b515fe60f99104551210', 'message': 'Update docs and scripts for using python3\n\nPython2 is deprecated so we need to switch to python3\n\nChange-Id: Id9158df88f0b6ed0c071994bf0aa240063ac6761\n'}]",0,708053,d9523c7afe55118fa463b515fe60f99104551210,19,8,3,11536,,,0,"Update docs and scripts for using python3

Python2 is deprecated so we need to switch to python3

Change-Id: Id9158df88f0b6ed0c071994bf0aa240063ac6761
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/53/708053/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/compute-install-ubuntu.rst'],1,ab691b14ea387292c751fb196c781a440eece254,, # apt-get install python3-pip # pip3 install -r requirements.txt # python3 setup.py install, # apt-get install python-pip # pip install -r requirements.txt # python setup.py install,3,3
openstack%2Fnova~master~I725801c9c049455a0196e4664d767b81a8d4edf2,openstack/nova,master,I725801c9c049455a0196e4664d767b81a8d4edf2,docs: Improve documentation on writing custom scheduler filters,MERGED,2020-02-11 18:13:11.000000000,2020-02-26 12:08:00.000000000,2020-02-26 12:08:00.000000000,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-02-11 18:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c0ddc42ca4402430631416c23fef1e27ec8b843', 'message': 'doc: Improve documentation on writing custom scheduler filters\n\nOperators can deploy their own scheduler filters. We currently provide\nsome minimal instructions for how to do this but it omits things like\nthe need to package these filters so they can be picked up correctly.\n\nChange-Id: I725801c9c049455a0196e4664d767b81a8d4edf2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-02-18 16:17:29.000000000', 'files': ['doc/source/user/filter-scheduler.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa5e1b556f3e70feeaeb52da75723d01b2a1464d', 'message': 'docs: Improve documentation on writing custom scheduler filters\n\nOperators can deploy their own scheduler filters. We currently provide\nsome minimal instructions for how to do this but it omits things like\nthe need to package these filters so they can be picked up correctly.\n\nChange-Id: I725801c9c049455a0196e4664d767b81a8d4edf2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",2,707226,fa5e1b556f3e70feeaeb52da75723d01b2a1464d,19,8,2,15334,,,0,"docs: Improve documentation on writing custom scheduler filters

Operators can deploy their own scheduler filters. We currently provide
some minimal instructions for how to do this but it omits things like
the need to package these filters so they can be picked up correctly.

Change-Id: I725801c9c049455a0196e4664d767b81a8d4edf2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/707226/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/filter-scheduler.rst'],1,7c0ddc42ca4402430631416c23fef1e27ec8b843,bp/flavor-extra-spec-validators,"To create **your own filter**, you must inherit from |BaseHostFilter| and implement one method: ``host_passes``. This method should return ``True`` if a host passes the filter and return ``False`` elsewhere. It takes two parameters: * the ``HostState`` object allows to get attributes of the host the image and the scheduler hintsattributes, refer to the codebase (at least by looking at the other filters code) or ask for help in the #openstack-nova IRC channel. The module containing your custom filter(s) must be packaged and available in the same environment that nova, or specifically the :program:`nova-scheduler` service, is available in. As an example, consider the following sample package, which is the `minimal structure`__ for a standard, setuptools-based Python package: __ https://python-packaging.readthedocs.io/en/latest/minimal.html .. code-block:: none myfilter/ myfilter/ __init__.py setup.py The ``myfilter/myfilter/__init__.py`` could contain something like so: .. code-block:: python from nova.scheduler import filters class MyFilter(filters.BaseHostFilter): def host_passes(self, host_state, spec_obj): # do stuff here... return True To enable this, you would set the following in :file:`nova.conf`: .. code-block:: ini [filter_scheduler] available_filters = nova.scheduler.filters.all_filters available_filters = myfilter.MyFilter enabled_filters = ComputeFilter,MyFilter .. note:: You **must** add custom filters to the list of available filters using the :oslo.config:option:`filter_scheduler.available_filters` config option in addition to enabling them via the :oslo.config:option:`filter_scheduler.enabled_filters` config option. The default ``nova.scheduler.filters.all_filters`` value for the former only includes the filters shipped with nova.driver. All of the standard nova filters and the custom ``MyFilter`` filter are available to the ``FilterScheduler``, but just the ``ComputeFilter`` and ``MyFilter`` will be used on each request.","To create **your own filter** you must inherit from |BaseHostFilter| and implement one method: ``host_passes``. This method should return ``True`` if a host passes the filter and return ``False`` elsewhere. It takes two parameters (named arbitrarily as ``host_state`` and ``spec_obj``): * the ``HostState`` object allows to get attributes of the host. the image and the scheduler hints.attributes, please refer to the codebase (at least by looking at the other filters code) or ask for help in the #openstack-nova IRC channel. As an example, nova.conf could contain the following scheduler-related settings: :: --scheduler.driver=nova.scheduler.FilterScheduler --filter_scheduler.available_filters=nova.scheduler.filters.all_filters --filter_scheduler.available_filters=myfilter.MyFilter --filter_scheduler.enabled_filters=ComputeFilter,MyFilter .. note:: When writing your own filter, be sure to add it to the list of available filters and enable it in the default filters. The ""all_filters"" setting only includes the filters shipped with nova.driver. All of the standard nova filters and MyFilter are available to the FilterScheduler, but just the ``ComputeFilter`` and ``MyFilter`` will be used on each request.",52,22
openstack%2Fnova~master~Id65e0b16fe062509097b8e3f58eb81bfe1cc2bfa,openstack/nova,master,Id65e0b16fe062509097b8e3f58eb81bfe1cc2bfa,conf: Deprecate '[scheduler] driver',MERGED,2020-02-11 18:13:11.000000000,2020-02-26 12:07:52.000000000,2020-02-26 12:07:51.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-11 18:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81bb2a0dd3edca40590983fabbcc641ef135ebb7', 'message': 'conf: Deprecate \'[scheduler] driver\'\n\nWith the removal of \'CachingScheduler\' in Stein (19.0.0), the\n\'FilterScheduler\' is the only in-tree scheduler provided by nova. The\nremoval of the caching scheduler was motivated in good part because\n""more and more functionality within nova [now] relies on managing\n(sometimes complex) resource allocations in the placement service"". This\nsame argument applies for out-of-tree drivers. It\'s unlikely that there\nare users with out-of-tree drivers that have good placement integration\nand significantly outperform the default filter scheduler. As a result,\nit\'s probably time to close this extension point in favour of continued\nimprovements on the filter scheduler and placement along with custom\nfilters and weighters for the filter scheduler.\n\nChange-Id: Id65e0b16fe062509097b8e3f58eb81bfe1cc2bfa\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-02-18 16:17:29.000000000', 'files': ['releasenotes/notes/deprecate-scheduler-driver-opt-4d6a266590b52e2c.yaml', 'nova/conf/scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a4cb24d39623930fd240e67d65013803459839d', 'message': 'conf: Deprecate \'[scheduler] driver\'\n\nWith the removal of \'CachingScheduler\' in Stein (19.0.0), the\n\'FilterScheduler\' is the only in-tree scheduler provided by nova. The\nremoval of the caching scheduler was motivated in good part because\n""more and more functionality within nova [now] relies on managing\n(sometimes complex) resource allocations in the placement service"". This\nsame argument applies for out-of-tree drivers. It\'s unlikely that there\nare users with out-of-tree drivers that have good placement integration\nand significantly outperform the default filter scheduler. As a result,\nit\'s probably time to close this extension point in favour of continued\nimprovements on the filter scheduler and placement along with custom\nfilters and weighters for the filter scheduler.\n\nChange-Id: Id65e0b16fe062509097b8e3f58eb81bfe1cc2bfa\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",8,707225,6a4cb24d39623930fd240e67d65013803459839d,39,12,2,15334,,,0,"conf: Deprecate '[scheduler] driver'

With the removal of 'CachingScheduler' in Stein (19.0.0), the
'FilterScheduler' is the only in-tree scheduler provided by nova. The
removal of the caching scheduler was motivated in good part because
""more and more functionality within nova [now] relies on managing
(sometimes complex) resource allocations in the placement service"". This
same argument applies for out-of-tree drivers. It's unlikely that there
are users with out-of-tree drivers that have good placement integration
and significantly outperform the default filter scheduler. As a result,
it's probably time to close this extension point in favour of continued
improvements on the filter scheduler and placement along with custom
filters and weighters for the filter scheduler.

Change-Id: Id65e0b16fe062509097b8e3f58eb81bfe1cc2bfa
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/707225/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-scheduler-driver-opt-4d6a266590b52e2c.yaml', 'nova/conf/scheduler.py']",2,81bb2a0dd3edca40590983fabbcc641ef135ebb7,bp/flavor-extra-spec-validators," deprecated_for_removal=True, deprecated_since='21.0.0', deprecated_reason="""""" nova no longer provides any in-tree filters except for the ``filter_scheduler`` scheduler. This filter is considered flexible and pluggable enough for all use cases and can be extended through the use of custom, out-of-tree filters and weighers along with powerful, in-tree filters like the 'AggregateInstanceExtraSpecsFilter' and 'ComputeCapabilitiesFilter' filters. """""",",,20,0
openstack%2Fmistral~stable%2Ftrain~If3367493803b57ef8bc281b1f64f2a223ac86f85,openstack/mistral,stable/train,If3367493803b57ef8bc281b1f64f2a223ac86f85,Fix YAQL engine initialization,MERGED,2020-02-26 07:21:19.000000000,2020-02-26 11:53:59.000000000,2020-02-26 11:52:37.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 07:21:19.000000000', 'files': ['mistral/expressions/yaql_expression.py', 'mistral/cmd/launch.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/3df8162946144cda694ec6a750812a58e0ccfdf0', 'message': ""Fix YAQL engine initialization\n\n* When Mistral is launched via launch.py script then YAQL engine class\n  initialization logic doesn't use the right properties from the config\n  file. This is because this initialization is caused by the chain of\n  imports taking its start in launch.py, and this happens before\n  the config file is parsed in the main() function of launch.py.\n  Using lazy initialization of YAQL engine class (YAQL_ENGINE in\n  yaql_expression.py module) solves this issue because now Mistral\n  doesn't initialize it immediately before parsing the config and\n  waits for the first usage of it.\n* Minor style changes per Mistral coding guidelines.\n\nChange-Id: If3367493803b57ef8bc281b1f64f2a223ac86f85\nCloses-Bug: #1864785\n""}]",0,709957,3df8162946144cda694ec6a750812a58e0ccfdf0,7,2,1,8731,,,0,"Fix YAQL engine initialization

* When Mistral is launched via launch.py script then YAQL engine class
  initialization logic doesn't use the right properties from the config
  file. This is because this initialization is caused by the chain of
  imports taking its start in launch.py, and this happens before
  the config file is parsed in the main() function of launch.py.
  Using lazy initialization of YAQL engine class (YAQL_ENGINE in
  yaql_expression.py module) solves this issue because now Mistral
  doesn't initialize it immediately before parsing the config and
  waits for the first usage of it.
* Minor style changes per Mistral coding guidelines.

Change-Id: If3367493803b57ef8bc281b1f64f2a223ac86f85
Closes-Bug: #1864785
",git fetch https://review.opendev.org/openstack/mistral refs/changes/57/709957/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/expressions/yaql_expression.py', 'mistral/cmd/launch.py']",2,3df8162946144cda694ec6a750812a58e0ccfdf0,bug/1864785-stable/train,"POSSIBLE_TOPDIR = os.path.normpath( os.path.join( os.path.abspath(sys.argv[0]), os.pardir, os.pardir ) ) ","POSSIBLE_TOPDIR = os.path.normpath(os.path.join(os.path.abspath(sys.argv[0]), os.pardir, os.pardir))",45,20
openstack%2Fgovernance~master~Ie2c3c1947289305d5e848649ea1cf2866a4101ce,openstack/governance,master,Ie2c3c1947289305d5e848649ea1cf2866a4101ce,Split OpenDev out of OpenStack Infra,MERGED,2020-01-17 17:35:15.000000000,2020-02-26 11:46:07.000000000,2020-02-26 11:36:34.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 9562}, {'_account_id': 13995}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-17 17:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/9f8c79659c78a3874bc8b4aa6d3a3a96990c7200', 'message': ""Split OpenDev out of OpenStack Infra\n\nOne of the goals of the OpenDev effort is that it be applicable to\nprojects that are not OpenStack. While the OpenStack TC and goverance\nhas worked for us previously, we believe that officially splitting off\nOpenDev gives it the freedom it needs to properly address user needs\nbeyond OpenStack.\n\nDetails on OpenDev's future plans can be found here:\nhttp://lists.openstack.org/pipermail/openstack-infra/2019-December/006537.html\n\nChange-Id: Ie2c3c1947289305d5e848649ea1cf2866a4101ce\n""}, {'number': 2, 'created': '2020-02-05 14:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/92e27fdc4e7486fb461a13fe11505ce3c718a6e9', 'message': ""Split OpenDev out of OpenStack Infra\n\nOne of the goals of the OpenDev effort is that it be applicable to\nprojects that are not OpenStack. While the OpenStack TC and goverance\nhas worked for us previously, we believe that officially splitting off\nOpenDev gives it the freedom it needs to properly address user needs\nbeyond OpenStack.\n\nDetails on OpenDev's future plans can be found here:\nhttp://lists.openstack.org/pipermail/openstack-infra/2019-December/006537.html\n\nNeeded-By: https://review.opendev.org/#/c/703488/\nChange-Id: Ie2c3c1947289305d5e848649ea1cf2866a4101ce\n""}, {'number': 3, 'created': '2020-02-17 17:12:28.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/ae2a861ea3c94a8bb33e1abdee2907423f2aade6', 'message': ""Split OpenDev out of OpenStack Infra\n\nOne of the goals of the OpenDev effort is that it be applicable to\nprojects that are not OpenStack. While the OpenStack TC and goverance\nhas worked for us previously, we believe that officially splitting off\nOpenDev gives it the freedom it needs to properly address user needs\nbeyond OpenStack.\n\nDetails on OpenDev's future plans can be found here:\nhttp://lists.openstack.org/pipermail/openstack-infra/2019-December/006537.html\n\nNeeded-By: https://review.opendev.org/#/c/703488/\nChange-Id: Ie2c3c1947289305d5e848649ea1cf2866a4101ce\n""}]",5,703134,ae2a861ea3c94a8bb33e1abdee2907423f2aade6,38,11,3,4146,,,0,"Split OpenDev out of OpenStack Infra

One of the goals of the OpenDev effort is that it be applicable to
projects that are not OpenStack. While the OpenStack TC and goverance
has worked for us previously, we believe that officially splitting off
OpenDev gives it the freedom it needs to properly address user needs
beyond OpenStack.

Details on OpenDev's future plans can be found here:
http://lists.openstack.org/pipermail/openstack-infra/2019-December/006537.html

Needed-By: https://review.opendev.org/#/c/703488/
Change-Id: Ie2c3c1947289305d5e848649ea1cf2866a4101ce
",git fetch https://review.opendev.org/openstack/governance refs/changes/34/703134/3 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,9f8c79659c78a3874bc8b4aa6d3a3a96990c7200,project-update," Develop and maintain, in conjunction with the OpenDev project, the tooling and infrastructure needed to support the development process and general operation of the OpenStack project.", Develop and maintain the tooling and infrastructure needed to support the development process and general operation of the OpenStack project. afsmon: repos: - opendev/afsmon ansible-role-cloud-launcher: repos: - opendev/ansible-role-cloud-launcher ansible-role-puppet: repos: - opendev/ansible-role-puppet askbot-theme: repos: - opendev/askbot-theme bindep: repos: - opendev/bindep elastic-recheck: repos: - opendev/elastic-recheck gear: repos: - opendev/gear germqtt: repos: - opendev/germqtt gerrit: repos: - opendev/gerrit gerritbot: repos: - opendev/gerritbot gerritlib: repos: - opendev/gerritlib git-restack: repos: - opendev/git-restack git-review: repos: - opendev/git-review glean: repos: - opendev/glean grafyaml: repos: - opendev/grafyaml infra-specs: release-management: none repos: - opendev/infra-specs irc-meetings: repos: - opendev/irc-meetings jeepyb: repos: - opendev/jeepyb lodgeit: repos: - opendev/lodgeit log-classify: repos: - opendev/log-classify log_processor: repos: - opendev/log_processor lpmqtt: repos: - opendev/lpmqtt meetbot: repos: - opendev/meetbot mqtt_statsd: repos: - opendev/mqtt_statsd project-config-example: repos: - opendev/project-config-example publications: repos: - opendev/publications puppet-accessbot: repos: - opendev/puppet-accessbot puppet-ansible: repos: - opendev/puppet-ansible puppet-apparmor: repos: - opendev/puppet-apparmor puppet-askbot: repos: - opendev/puppet-askbot puppet-asterisk: repos: - opendev/puppet-asterisk puppet-bandersnatch: repos: - opendev/puppet-bandersnatch puppet-bugdaystats: repos: - opendev/puppet-bugdaystats puppet-bup: repos: - opendev/puppet-bup puppet-cgit: repos: - opendev/puppet-cgit puppet-ciwatch: repos: - opendev/puppet-ciwatch puppet-infra-cookiecutter: repos: - opendev/puppet-infra-cookiecutter puppet-dashboard: repos: - opendev/puppet-dashboard puppet-diskimage_builder: repos: - opendev/puppet-diskimage_builder puppet-drupal: repos: - opendev/puppet-drupal puppet-elastic_recheck: repos: - opendev/puppet-elastic_recheck puppet-elasticsearch: repos: - opendev/puppet-elasticsearch puppet-ethercalc: repos: - opendev/puppet-ethercalc puppet-etherpad_lite: repos: - opendev/puppet-etherpad_lite puppet-exim: repos: - opendev/puppet-exim puppet-germqtt: repos: - opendev/puppet-germqtt puppet-gerrit: repos: - opendev/puppet-gerrit puppet-gerritbot: repos: - opendev/puppet-gerritbot puppet-github: repos: - opendev/puppet-github puppet-grafyaml: repos: - opendev/puppet-grafyaml puppet-graphite: repos: - opendev/puppet-graphite puppet-haveged: repos: - opendev/puppet-haveged puppet-hound: repos: - opendev/puppet-hound puppet-httpd: repos: - opendev/puppet-httpd puppet-infracloud: repos: - opendev/puppet-infracloud puppet-ipsilon: repos: - opendev/puppet-ipsilon puppet-iptables: repos: - opendev/puppet-iptables puppet-jeepyb: repos: - opendev/puppet-jeepyb puppet-jenkins: repos: - opendev/puppet-jenkins puppet-kerberos: repos: - opendev/puppet-kerberos puppet-kibana: repos: - opendev/puppet-kibana puppet-lodgeit: repos: - opendev/puppet-lodgeit puppet-log_processor: repos: - opendev/puppet-log_processor puppet-logrotate: repos: - opendev/puppet-logrotate puppet-logstash: repos: - opendev/puppet-logstash puppet-lpmqtt: repos: - opendev/puppet-lpmqtt puppet-mailman: repos: - opendev/puppet-mailman puppet-mediawiki: repos: - opendev/puppet-mediawiki puppet-meetbot: repos: - opendev/puppet-meetbot puppet-mosquitto: repos: - opendev/puppet-mosquitto puppet-mqtt_statsd: repos: - opendev/puppet-mqtt_statsd puppet-mysql_backup: repos: - opendev/puppet-mysql_backup puppet-nodepool: repos: - opendev/puppet-nodepool puppet-openafs: repos: - opendev/puppet-openafs puppet-openstack_health: repos: - opendev/puppet-openstack_health puppet-openstack_infra_spec_helper: repos: - opendev/puppet-openstack_infra_spec_helper puppet-openstackci: repos: - opendev/puppet-openstackci puppet-openstackid: repos: - opendev/puppet-openstackid puppet-os_client_config: repos: - opendev/puppet-os_client_config puppet-packagekit: repos: - opendev/puppet-packagekit puppet-pgsql_backup: repos: - opendev/puppet-pgsql_backup puppet-phabricator: repos: - opendev/puppet-phabricator puppet-pip: repos: - opendev/puppet-pip puppet-planet: repos: - opendev/puppet-planet puppet-project_config: repos: - opendev/puppet-project_config puppet-ptgbot: repos: - opendev/puppet-ptgbot puppet-puppet: repos: - opendev/puppet-puppet puppet-redis: repos: - opendev/puppet-redis puppet-refstack: repos: - opendev/puppet-refstack puppet-reviewday: repos: - opendev/puppet-reviewday puppet-simpleproxy: repos: - opendev/puppet-simpleproxy puppet-snmpd: repos: - opendev/puppet-snmpd puppet-ssh: repos: - opendev/puppet-ssh puppet-ssl_cert_check: repos: - opendev/puppet-ssl_cert_check puppet-statusbot: repos: - opendev/puppet-statusbot puppet-storyboard: repos: - opendev/puppet-storyboard puppet-subunit2sql: repos: - opendev/puppet-subunit2sql puppet-sudoers: repos: - opendev/puppet-sudoers puppet-tmpreaper: repos: - opendev/puppet-tmpreaper puppet-translation_checksite: repos: - opendev/puppet-translation_checksite puppet-ulimit: repos: - opendev/puppet-ulimit puppet-unattended_upgrades: repos: - opendev/puppet-unattended_upgrades puppet-unbound: repos: - opendev/puppet-unbound puppet-user: repos: - opendev/puppet-user puppet-vcsrepo: repos: - opendev/puppet-vcsrepo puppet-zanata: repos: - opendev/puppet-zanata puppet-zuul: repos: - opendev/puppet-zuul pynotedb: repos: - opendev/pynotedb python-storyboardclient: repos: - opendev/python-storyboardclient statusbot: repos: - opendev/statusbot storyboard: repos: - opendev/storyboard storyboard-webclient: repos: - opendev/storyboard-webclient subunit2sql: repos: - opendev/subunit2sql system-config: repos: - opendev/system-config yaml2ical: repos: - opendev/yaml2ical zone-opendev.org: repos: - opendev/zone-opendev.org,3,351
openstack%2Fopenstack-manuals~master~I238eefeed275fe8115d0e253ca50d38086934b1e,openstack/openstack-manuals,master,I238eefeed275fe8115d0e253ca50d38086934b1e,Small cleanups,MERGED,2020-02-22 16:30:42.000000000,2020-02-26 11:42:12.000000000,2020-02-26 11:15:50.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-22 16:30:42.000000000', 'files': ['doc/doc-contrib-guide/source/conf.py', 'doc/glossary/source/conf.py', 'test-requirements.txt', 'doc/doc-contrib-guide/source/api-guides.rst', 'doc/image-guide/source/conf.py', 'doc/install-guide/setup.py', 'doc/common/source/conf.py', 'doc/glossary/setup.py', 'doc/install-guide/source/conf.py', 'doc/doc-contrib-guide/setup.py', 'doc/image-guide/setup.py', 'doc/api-quick-start/source/conf.py', 'doc/api-quick-start/setup.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/48cd6edf989238843190a539e11629dc829d60ff', 'message': ""Small cleanups\n\nWith newer openstackdocstheme versions, many settings like\nhtml_last_updated_fmt and latex are setup correctly and don't need to\nsetup in this repo anymore. We require a new enough version, so remove\nthe obsolete settings.\n\nThis repo now requires python 3, so remove python 2.7.x support.\n\nUpdate hacking to current version supporting python 3.\n\nChange-Id: I238eefeed275fe8115d0e253ca50d38086934b1e\n""}]",4,709298,48cd6edf989238843190a539e11629dc829d60ff,12,4,1,6547,,,0,"Small cleanups

With newer openstackdocstheme versions, many settings like
html_last_updated_fmt and latex are setup correctly and don't need to
setup in this repo anymore. We require a new enough version, so remove
the obsolete settings.

This repo now requires python 3, so remove python 2.7.x support.

Update hacking to current version supporting python 3.

Change-Id: I238eefeed275fe8115d0e253ca50d38086934b1e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/98/709298/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/doc-contrib-guide/source/conf.py', 'doc/glossary/source/conf.py', 'test-requirements.txt', 'doc/doc-contrib-guide/source/api-guides.rst', 'doc/image-guide/source/conf.py', 'doc/install-guide/setup.py', 'doc/common/source/conf.py', 'doc/glossary/setup.py', 'doc/install-guide/source/conf.py', 'doc/doc-contrib-guide/setup.py', 'doc/image-guide/setup.py', 'doc/api-quick-start/source/conf.py', 'doc/api-quick-start/setup.py', 'releasenotes/source/conf.py']",14,48cd6edf989238843190a539e11629dc829d60ff,cleanup,# import os# html_last_updated_fmt = '%Y-%m-%d %H:%M',"import oshtml_last_updated_fmt = '%Y-%m-%d %H:%M'latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",19,177
openstack%2Fgovernance~master~Id60e38db15a64e452f51e6105e07424f8eb9ac52,openstack/governance,master,Id60e38db15a64e452f51e6105e07424f8eb9ac52,Collect Automation SIG repos,MERGED,2020-02-18 13:15:13.000000000,2020-02-26 11:36:58.000000000,2020-02-26 11:35:26.000000000,"[{'_account_id': 308}, {'_account_id': 4257}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-18 13:15:13.000000000', 'files': ['reference/sigs-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/051235e3e2e77c51cb91595a45b955e3ec892fa0', 'message': 'Collect Automation SIG repos\n\nAutomation SIG init repos includes:\n- openstack/auto-scaling-sig\n- openstack/self-healing-sig\n\nDepends-On: https://review.opendev.org/708381\nChange-Id: Id60e38db15a64e452f51e6105e07424f8eb9ac52\n'}]",0,708382,051235e3e2e77c51cb91595a45b955e3ec892fa0,12,5,1,12404,,,0,"Collect Automation SIG repos

Automation SIG init repos includes:
- openstack/auto-scaling-sig
- openstack/self-healing-sig

Depends-On: https://review.opendev.org/708381
Change-Id: Id60e38db15a64e452f51e6105e07424f8eb9ac52
",git fetch https://review.opendev.org/openstack/governance refs/changes/82/708382/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/sigs-repos.yaml'],1,051235e3e2e77c51cb91595a45b955e3ec892fa0,project-update,Automation: - repo: openstack/auto-scaling-sig - repo: openstack/self-healing-sig,self-healing: - repo: openstack/self-healing-sigauto-scaling: - repo: openstack/auto-scaling-sig,3,4
openstack%2Fkuryr-kubernetes~master~Ibe683d008f26debd45bc0a0713d8141653860455,openstack/kuryr-kubernetes,master,Ibe683d008f26debd45bc0a0713d8141653860455,Move OpenShift job to experimental,MERGED,2020-02-25 12:22:34.000000000,2020-02-26 11:31:48.000000000,2020-02-26 11:27:22.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-02-25 12:22:34.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bf50385f620ca1277e8ab22771c3ee6c592aa9ac', 'message': ""Move OpenShift job to experimental\n\nThere are several issues with the OpenShift job.\n\nFirst of all it's running OpenShift 3.11, based on Kubernetes 1.11 which\nwas released almost 2 years ago. According to K8s deprecation policy [1]\nthe minimum support period for an API is just one year, so we might now\nstart to see some mismatches between supported features (as e.g. with\nCRDs beta version, which just got deprecated, but stable version is not\nsupported by API 1.11).\n\nSecond of all - it's now constantly failing on every patch for an\nunknown reason.\n\nIt's worth noting that upgrading the CI to use OpenShift 4.x is\nextremely troublesome, as now OpenShift expects the installation to be\nrun with the full installer, which only supports nested deployments. And\nnested deployments are really hard to do in the gate as we don't have\nany guarantee of nested virtualization here.\n\nThis commit moves the OpenShift job to experimental queue.\n\n[1] https://kubernetes.io/docs/reference/using-api/deprecation-policy/\n\nChange-Id: Ibe683d008f26debd45bc0a0713d8141653860455\n""}]",0,709708,bf50385f620ca1277e8ab22771c3ee6c592aa9ac,9,4,1,11600,,,0,"Move OpenShift job to experimental

There are several issues with the OpenShift job.

First of all it's running OpenShift 3.11, based on Kubernetes 1.11 which
was released almost 2 years ago. According to K8s deprecation policy [1]
the minimum support period for an API is just one year, so we might now
start to see some mismatches between supported features (as e.g. with
CRDs beta version, which just got deprecated, but stable version is not
supported by API 1.11).

Second of all - it's now constantly failing on every patch for an
unknown reason.

It's worth noting that upgrading the CI to use OpenShift 4.x is
extremely troublesome, as now OpenShift expects the installation to be
run with the full installer, which only supports nested deployments. And
nested deployments are really hard to do in the gate as we don't have
any guarantee of nested virtualization here.

This commit moves the OpenShift job to experimental queue.

[1] https://kubernetes.io/docs/reference/using-api/deprecation-policy/

Change-Id: Ibe683d008f26debd45bc0a0713d8141653860455
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/08/709708/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,bf50385f620ca1277e8ab22771c3ee6c592aa9ac,remove-openshift-job, - kuryr-kubernetes-tempest-containerized-openshift, - kuryr-kubernetes-tempest-containerized-openshift,1,1
openstack%2Fkolla-ansible~stable%2Ftrain~I8100a6cb63b1e54078629bd6ca8475dc5896784a,openstack/kolla-ansible,stable/train,I8100a6cb63b1e54078629bd6ca8475dc5896784a,Allow to override external network params in init-runonce,MERGED,2020-02-25 09:16:52.000000000,2020-02-26 11:23:47.000000000,2020-02-26 11:21:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-25 09:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/66b1cfaaab096446a949b3df8b7c3702e1cc8809', 'message': ""Allow to override external network params in init-runonce\n\nI'm not marking it CI-only as ppl seem to be using it.\nOTOH, not adding a release note as we are not promoting its usage.\n\nThis is to allow us to customize for CI.\n\nbp to Train for hassle-free upgrades testing. :-)\n\nChange-Id: I8100a6cb63b1e54078629bd6ca8475dc5896784a\n(cherry picked from commit effbb209976f3c74592c2a69bb4086541b567f06)\n""}, {'number': 2, 'created': '2020-02-25 09:17:22.000000000', 'files': ['tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee19e8f0629407f24660584607c6b55e81bb53f4', 'message': ""Allow to override external network params in init-runonce\n\nI'm not marking it CI-only as ppl seem to be using it.\nOTOH, not adding a release note as we are not promoting its usage.\n\nThis is to allow us to customize for CI.\n\nBackport to Train for hassle-free upgrades testing. :-)\n\nChange-Id: I8100a6cb63b1e54078629bd6ca8475dc5896784a\n(cherry picked from commit effbb209976f3c74592c2a69bb4086541b567f06)\n""}]",0,709671,ee19e8f0629407f24660584607c6b55e81bb53f4,10,4,2,30491,,,0,"Allow to override external network params in init-runonce

I'm not marking it CI-only as ppl seem to be using it.
OTOH, not adding a release note as we are not promoting its usage.

This is to allow us to customize for CI.

Backport to Train for hassle-free upgrades testing. :-)

Change-Id: I8100a6cb63b1e54078629bd6ca8475dc5896784a
(cherry picked from commit effbb209976f3c74592c2a69bb4086541b567f06)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/709671/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,66b1cfaaab096446a949b3df8b7c3702e1cc8809,allow-override-ext-net-stable/train,"EXT_NET_CIDR=${EXT_NET_CIDR:-'10.0.2.0/24'} EXT_NET_RANGE=${EXT_NET_RANGE:-'start=10.0.2.150,end=10.0.2.199'} EXT_NET_GATEWAY=${EXT_NET_GATEWAY:-'10.0.2.1'}","EXT_NET_CIDR='10.0.2.0/24' EXT_NET_RANGE='start=10.0.2.150,end=10.0.2.199' EXT_NET_GATEWAY='10.0.2.1'",3,3
openstack%2Fkolla-ansible~master~Icacc28eed6ad5b81fc3954db80486d9d7f24c082,openstack/kolla-ansible,master,Icacc28eed6ad5b81fc3954db80486d9d7f24c082,CI: Fix TLS upgrade test,MERGED,2020-02-25 18:09:06.000000000,2020-02-26 11:23:40.000000000,2020-02-26 11:21:59.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-25 18:09:06.000000000', 'files': ['tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b384da306275b91efd84573e48682d83347854a', 'message': 'CI: Fix TLS upgrade test\n\nFix the upgrade TLS scenario in zuul to generate self signed\ncertificates and to configure TLS to be enabled in the open stack\ndeployment.\n\nChange-Id: Icacc28eed6ad5b81fc3954db80486d9d7f24c082\nPartially-Implements: blueprint custom-cacerts\n'}]",0,709808,9b384da306275b91efd84573e48682d83347854a,10,4,1,30810,,,0,"CI: Fix TLS upgrade test

Fix the upgrade TLS scenario in zuul to generate self signed
certificates and to configure TLS to be enabled in the open stack
deployment.

Change-Id: Icacc28eed6ad5b81fc3954db80486d9d7f24c082
Partially-Implements: blueprint custom-cacerts
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/709808/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/upgrade.sh'],1,9b384da306275b91efd84573e48682d83347854a,bp/add-internal-network/configure-cacert-verification," if [[ ""$TLS_ENABLED"" = ""True"" ]]; then"," if [[ $SCENARIO == ""tls"" ]]; then",1,1
openstack%2Ftempest~master~Ibd24602c1948e55b016573e3a0b756a2fc05dc35,openstack/tempest,master,Ibd24602c1948e55b016573e3a0b756a2fc05dc35,compute: Introduce encrypted volume LM tests,ABANDONED,2018-01-21 22:13:22.000000000,2020-02-26 11:21:12.000000000,,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-01-21 22:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc4f0dde50fe32f9f0d51aea98fc660556a88c91', 'message': 'WIP compute: Add attached encrypted volume LM test\n\nChange-Id: Ibd24602c1948e55b016573e3a0b756a2fc05dc35\n'}, {'number': 2, 'created': '2018-01-22 11:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4d4d2d5676fa5c404d3c6cd4109d1eb9c9d5055c', 'message': ""WIP compute: encrypted volume LM tests\n\nWIP as this isn't going to work in CI until fixed_key is copied between hosts.\n\nChange-Id: Ibd24602c1948e55b016573e3a0b756a2fc05dc35\n""}, {'number': 3, 'created': '2018-01-22 13:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/59b1314d924766870e8edc5e0828ca7f7ad1fd17', 'message': 'compute: Introduce an encrypted volume LM test\n\nThis test simply attaches an encrypted volume to a volume backed\ninstance prior to LM.\n\nDepends-On: I50a48e2da57a1cc1ecd250150ea6e9c3745baaca\nChange-Id: Ibd24602c1948e55b016573e3a0b756a2fc05dc35\n'}, {'number': 4, 'created': '2018-02-01 10:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1762fa85c23062be5750efeee8deedad2fadf067', 'message': 'compute: Introduce an encrypted volume LM test\n\nThis test simply attaches an encrypted volume to a volume backed\ninstance prior to LM.\n\nDepends-On: I50a48e2da57a1cc1ecd250150ea6e9c3745baaca\nChange-Id: Ibd24602c1948e55b016573e3a0b756a2fc05dc35\n'}, {'number': 5, 'created': '2018-02-02 10:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/df54e32a4c2d507b03347c0ebbdfaaf30226d26b', 'message': 'compute: Introduce encrypted volume LM tests\n\nThis change introduces two new live migration tests using encrypted\nvolumes.\n\n- test_live_block_migration_with_encrypted_volume_attached attaches an\n  encrypted volume to an instance using ephemerial disks, requiring block\n  migration.\n- test_encrypted_and_unencrypted_volume_attached_live_migration attaches\n  an encrypted volume to a volume backed instance before LM.\n\nFurther work is required within Tempest to allow instances to be booted\n(referenced as backed within these tests) from encrypted volumes so this\ntest remains missing for the time being.\n\nChange-Id: Ibd24602c1948e55b016573e3a0b756a2fc05dc35\n'}, {'number': 6, 'created': '2018-02-02 10:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2648081bbae9a24b7dca37373196f808efe055ba', 'message': 'compute: Introduce encrypted volume LM tests\n\nThis change introduces two new live migration tests using encrypted\nvolumes.\n\n- test_live_block_migration_with_encrypted_volume_attached attaches an\n  encrypted volume to an instance using ephemerial disks, requiring block\n  migration.\n- test_encrypted_and_unencrypted_volume_attached_live_migration attaches\n  an encrypted volume to a volume backed instance before LM.\n\nFurther work is required within Tempest to allow instances to be booted\n(referenced as backed within these tests) from encrypted volumes so this\ntest remains missing for the time being.\n\nChange-Id: Ibd24602c1948e55b016573e3a0b756a2fc05dc35\n'}, {'number': 7, 'created': '2018-02-04 16:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fe00d96b6a124baef8e4b1db5d68db25e0bb4b9a', 'message': 'compute: Introduce encrypted volume LM tests\n\nThis change introduces two new live migration tests using encrypted\nvolumes.\n\n- test_live_block_migration_with_encrypted_volume_attached attaches an\n  encrypted volume to an instance using ephemerial disks, requiring block\n  migration.\n- test_encrypted_and_unencrypted_volume_attached_live_migration attaches\n  an encrypted volume to a volume backed instance before LM.\n\nFurther work is required within Tempest to allow instances to be booted\n(referenced as backed within these tests) from encrypted volumes so this\ntest remains missing for the time being.\n\nDepends-On: I50a48e2da57a1cc1ecd250150ea6e9c3745baaca\nChange-Id: Ibd24602c1948e55b016573e3a0b756a2fc05dc35\n'}, {'number': 8, 'created': '2018-02-13 10:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e403291f09ae8d9ec856364c77454e146c6a5f32', 'message': 'compute: Introduce encrypted volume LM tests\n\nThis change introduces two new live migration tests using encrypted\nvolumes.\n\n- test_live_block_migration_with_encrypted_volume_attached attaches an\n  encrypted volume to an instance using ephemerial disks, requiring block\n  migration.\n- test_encrypted_and_unencrypted_volume_attached_live_migration attaches\n  an encrypted volume to a volume backed instance before LM.\n\nFurther work is required within Tempest to allow instances to be booted\n(referenced as backed within these tests) from encrypted volumes so this\ntest remains missing for the time being.\n\nDepends-On: I50a48e2da57a1cc1ecd250150ea6e9c3745baaca\nChange-Id: Ibd24602c1948e55b016573e3a0b756a2fc05dc35\n'}, {'number': 9, 'created': '2018-03-09 14:21:16.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/23c5251c796003d209dc654c0d4930bcbb93ebf1', 'message': 'compute: Introduce encrypted volume LM tests\n\nThis change introduces two new live migration tests using encrypted\nvolumes.\n\n- test_live_block_migration_with_encrypted_volume_attached attaches an\n  encrypted volume to an instance using ephemerial disks, requiring block\n  migration.\n- test_encrypted_and_unencrypted_volume_attached_live_migration attaches\n  an encrypted volume to a volume backed instance before LM.\n\nFurther work is required within Tempest to allow instances to be booted\n(referenced as backed within these tests) from encrypted volumes so this\ntest remains missing for the time being.\n\nDepends-On: I50a48e2da57a1cc1ecd250150ea6e9c3745baaca\nChange-Id: Ibd24602c1948e55b016573e3a0b756a2fc05dc35\n'}]",5,536177,23c5251c796003d209dc654c0d4930bcbb93ebf1,47,8,9,10135,,,0,"compute: Introduce encrypted volume LM tests

This change introduces two new live migration tests using encrypted
volumes.

- test_live_block_migration_with_encrypted_volume_attached attaches an
  encrypted volume to an instance using ephemerial disks, requiring block
  migration.
- test_encrypted_and_unencrypted_volume_attached_live_migration attaches
  an encrypted volume to a volume backed instance before LM.

Further work is required within Tempest to allow instances to be booted
(referenced as backed within these tests) from encrypted volumes so this
test remains missing for the time being.

Depends-On: I50a48e2da57a1cc1ecd250150ea6e9c3745baaca
Change-Id: Ibd24602c1948e55b016573e3a0b756a2fc05dc35
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/536177/9 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/api/compute/admin/test_live_migration.py']",2,bc4f0dde50fe32f9f0d51aea98fc660556a88c91,bp/libvirt-qemu-native-luks," def _test_live_migration(self, state='ACTIVE', volume_backed=False, attach_encrypted_vol=False): server = self.create_test_server(wait_until=""ACTIVE"", volume_backed=volume_backed) server_id = server['id'] if attach_encrypted_vol: encrypted_vol = self.create_encrypted_volume('luks', 'luks') self.attach_volume(server, encrypted_vol, device='/dev/xvdb') @decorators.idempotent_id('b4a74037-ddc3-4a6b-ab4c-095536482bc8') @utils.services('volume') def test_encrypted_volume_backed_live_migration(self): self._test_live_miration(volume_backend=True, attach_encrypted_vol=True) "," def _test_live_migration(self, state='ACTIVE', volume_backed=False): server_id = self.create_test_server(wait_until=""ACTIVE"", volume_backed=volume_backed)['id']",46,3
openstack%2Ftempest~master~Ic166d425fb9a71ff8e77967ff28edefc011945c5,openstack/tempest,master,Ic166d425fb9a71ff8e77967ff28edefc011945c5,compute: Refactor the block migration with attached volume LM test,ABANDONED,2018-01-21 19:53:22.000000000,2020-02-26 11:21:10.000000000,,"[{'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-01-21 19:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b01cad8cceb69c44533b6d51d1c7acd09bce6cea', 'message': 'compute: Remove redundant volume backed LM test\n\nThis change removes the redundant test_iscsi_volume from the set of\nadmin compute API live mirgration tests.\n\nChange-Id: Ic166d425fb9a71ff8e77967ff28edefc011945c5\n'}, {'number': 2, 'created': '2018-02-01 10:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/618c79ca7c914d43f2746f9a5bc599e6a26d86d6', 'message': 'compute: Remove redundant volume backed LM test\n\nThis change removes the redundant test_iscsi_volume from the set of\nadmin compute API live mirgration tests.\n\nChange-Id: Ic166d425fb9a71ff8e77967ff28edefc011945c5\n'}, {'number': 3, 'created': '2018-02-02 10:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/59432415e96d2a332713aaf425b6b3140618a4f3', 'message': 'compute: Introduce a block migration with attached volume LM test\n\nThis change removes the redundent test_iscsi_volume LM test duplicating\ntest_volume_backed_live_migration and replaces it with a block migration\nLM test using an instance with an attached volume.\n\nChange-Id: Ic166d425fb9a71ff8e77967ff28edefc011945c5\n'}, {'number': 4, 'created': '2018-02-02 10:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d8f03f4ca3de1789688d6a5382651cab30093ac6', 'message': 'compute: Refactor the block migration with attached volume LM test\n\nThis change refactors the existing test_iscsi_volume test, renaming it\nto test_live_block_migration_with_volume_attached and using the\navailable utility methods to ensure LM is verified in the same way as\nother tests within the class.\n\nChange-Id: Ic166d425fb9a71ff8e77967ff28edefc011945c5\n'}, {'number': 5, 'created': '2018-02-04 16:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c5bf234a5f3da59167243c175887f91043ea0247', 'message': 'compute: Refactor the block migration with attached volume LM test\n\nThis change refactors the existing test_iscsi_volume test, renaming it\nto test_live_block_migration_with_volume_attached and using the\navailable utility methods to ensure LM is verified in the same way as\nother tests within the class.\n\nChange-Id: Ic166d425fb9a71ff8e77967ff28edefc011945c5\n'}, {'number': 6, 'created': '2018-02-13 10:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7357caa2c347ce2f841d6ad311e77ec96a3972a6', 'message': 'compute: Refactor the block migration with attached volume LM test\n\nThis change refactors the existing test_iscsi_volume test, renaming it\nto test_live_block_migration_with_volume_attached and using the\navailable utility methods to ensure LM is verified in the same way as\nother tests within the class.\n\nChange-Id: Ic166d425fb9a71ff8e77967ff28edefc011945c5\n'}, {'number': 7, 'created': '2018-03-09 14:21:12.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9774820d226dfd44f3a277398e3718afd46a3d07', 'message': 'compute: Refactor the block migration with attached volume LM test\n\nThis change refactors the existing test_iscsi_volume test, renaming it\nto test_live_block_migration_with_volume_attached and using the\navailable utility methods to ensure LM is verified in the same way as\nother tests within the class.\n\nChange-Id: Ic166d425fb9a71ff8e77967ff28edefc011945c5\n'}]",9,536173,9774820d226dfd44f3a277398e3718afd46a3d07,37,7,7,10135,,,0,"compute: Refactor the block migration with attached volume LM test

This change refactors the existing test_iscsi_volume test, renaming it
to test_live_block_migration_with_volume_attached and using the
available utility methods to ensure LM is verified in the same way as
other tests within the class.

Change-Id: Ic166d425fb9a71ff8e77967ff28edefc011945c5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/73/536173/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,b01cad8cceb69c44533b6d51d1c7acd09bce6cea,bp/libvirt-qemu-native-luks,," @decorators.idempotent_id('e19c0cc6-6720-4ed8-be83-b6603ed5c812') @testtools.skipIf(not CONF.compute_feature_enabled. block_migration_for_live_migration, 'Block Live migration not available') @testtools.skipIf(not CONF.compute_feature_enabled. block_migrate_cinder_iscsi, 'Block Live migration not configured for iSCSI') def test_iscsi_volume(self): server = self.create_test_server(wait_until=""ACTIVE"") server_id = server['id'] target_host = self.get_host_other_than(server_id) volume = self.create_volume() # Attach the volume to the server self.attach_volume(server, volume, device='/dev/xvdb') server = self.admin_servers_client.show_server(server_id)['server'] volume_id1 = server[""os-extended-volumes:volumes_attached""][0][""id""] self._migrate_server_to(server_id, target_host) waiters.wait_for_server_status(self.servers_client, server_id, 'ACTIVE') server = self.admin_servers_client.show_server(server_id)['server'] volume_id2 = server[""os-extended-volumes:volumes_attached""][0][""id""] self.assertEqual(target_host, self.get_host_for_server(server_id)) self.assertEqual(volume_id1, volume_id2) ",0,28
openstack%2Fcinder~master~I47ff8115ae74e1a7ad41869159871ba614c388ac,openstack/cinder,master,I47ff8115ae74e1a7ad41869159871ba614c388ac,Add migration to make volume_type_id non nullable,MERGED,2019-10-01 09:24:41.000000000,2020-02-26 11:13:09.000000000,2020-02-26 09:17:52.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 29855}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-01 09:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c2457097deeb15d4d1addc17927d050cc2dbf68', 'message': 'Add migration to make volume_type_id non nullable\n\nThis patch adds the migration to set the volume_type_id column\nas non nullable in the respective (volumes, snapshots, encryption)\ntables.\n\nChange-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac\n'}, {'number': 2, 'created': '2019-10-04 16:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7d2d0195231ba6cd8eb2730d323e7e843fefb12', 'message': 'Add migration to make volume_type_id non nullable\n\nThis patch adds the migration to set the volume_type_id column\nas non nullable in the respective (volumes, snapshots, encryption)\ntables.\n\nDepends-On: Ie09b0b68a4cb6aab9f810f7a9bcc485efa37a6d0\n\nChange-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac\n'}, {'number': 3, 'created': '2019-10-07 11:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3509b0ace703f6a6d94cb4346e9766b5e340f83', 'message': 'Add migration to make volume_type_id non nullable\n\nThis patch adds the migration to set the volume_type_id column\nas non nullable in the respective (volumes, snapshots, encryption)\ntables.\n\nDepends-On: Ie09b0b68a4cb6aab9f810f7a9bcc485efa37a6d0\n\nChange-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac\n'}, {'number': 4, 'created': '2019-10-09 04:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f00b52ed42109eeccfd03f1b234c2a326d54b4b', 'message': 'Add migration to make volume_type_id non nullable\n\nThis patch adds the migration to set the volume_type_id column\nas non nullable in the respective (volumes, snapshots, encryption)\ntables.\n\nDepends-On: Ie09b0b68a4cb6aab9f810f7a9bcc485efa37a6d0\n\nChange-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac\n'}, {'number': 5, 'created': '2019-10-09 08:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87e7858342e98327a647ae48b17436a4eca83513', 'message': 'Add migration to make volume_type_id non nullable\n\nThis patch adds the migration to set the volume_type_id column\nas non nullable in the respective (volumes, snapshots, encryption)\ntables.\n\nChange-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac\n'}, {'number': 6, 'created': '2019-10-30 08:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22b3ce75936863756d7081c709a2281993c056ec', 'message': 'Add migration to make volume_type_id non nullable\n\nThis patch adds the migration to set the volume_type_id column\nas non nullable in the respective (volumes, snapshots, encryption)\ntables.\n\nChange-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac\n'}, {'number': 7, 'created': '2019-11-12 15:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/54fb90461111d7b71f3723d401401d7e310e0abf', 'message': 'Add migration to make volume_type_id non nullable\n\nThis patch adds the migration to set the volume_type_id column\nas non nullable in the respective (volumes, snapshots, encryption)\ntables.\n\nChange-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac\n'}, {'number': 8, 'created': '2019-11-13 09:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51067cf50e941d6b7fa041d6f2d3b641b4fb2064', 'message': 'Add migration to make volume_type_id non nullable\n\nThis patch adds the migration to set the volume_type_id column\nas non nullable in the respective (volumes, snapshots, encryption)\ntables.\n\nChange-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac\n'}, {'number': 9, 'created': '2019-11-27 17:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fbd5a015945c91ec0ec6b2cb0509e8ad26d1aaba', 'message': 'Add migration to make volume_type_id non nullable\n\nThis patch adds the migration to set the volume_type_id column\nas non nullable in the respective (volumes, snapshots, encryption)\ntables.\n\nChange-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac\n'}, {'number': 10, 'created': '2020-01-21 07:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/956ca09fd168184fafb1905459b6e61c73d8c8e3', 'message': 'Add migration to make volume_type_id non nullable\n\nThis patch adds the migration to set the volume_type_id column\nas non nullable in the respective (volumes, snapshots, encryption)\ntables.\n\nChange-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac\n'}, {'number': 11, 'created': '2020-01-21 08:53:24.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/136_make_vol_type_col_non_nullable.py', 'cinder/tests/unit/cmd/test_status.py', 'cinder/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3034d1abf641b203c128d0bdeb283d543df859c9', 'message': 'Add migration to make volume_type_id non nullable\n\nThis patch adds the migration to set the volume_type_id column\nas non nullable in the respective (volumes, snapshots, encryption)\ntables.\n\nChange-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac\n'}]",9,685914,3034d1abf641b203c128d0bdeb283d543df859c9,350,43,11,27615,,,0,"Add migration to make volume_type_id non nullable

This patch adds the migration to set the volume_type_id column
as non nullable in the respective (volumes, snapshots, encryption)
tables.

Change-Id: I47ff8115ae74e1a7ad41869159871ba614c388ac
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/685914/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/cmd/test_status.py', 'cinder/db/sqlalchemy/migrate_repo/versions/133_make_vol_type_col_non_nullable.py', 'cinder/tests/unit/db/test_migrations.py']",3,2c2457097deeb15d4d1addc17927d050cc2dbf68,685914," # 133 modifies the the tables having volume_type_id field to set # as non nullable 133, def _check_133(self, engine, data): """"""Test alter volume_type_id columns."""""" vol_table = db_utils.get_table(engine, 'volumes') snap_table = db_utils.get_table(engine, 'snapshots') encrypt_table = db_utils.get_table(engine, 'encryption') self.assertFalse(vol_table.c.volume_type_id.nullable) self.assertFalse(snap_table.c.volume_type_id.nullable) self.assertFalse(encrypt_table.c.volume_type_id.nullable) ",,79,4
openstack%2Fopenstackdocstheme~master~I913b76cc6b3128a420a6fc69e2dc88627d47bbfe,openstack/openstackdocstheme,master,I913b76cc6b3128a420a6fc69e2dc88627d47bbfe,Do not set html_last_updated_fmt,MERGED,2020-02-22 16:36:28.000000000,2020-02-26 11:09:37.000000000,2020-02-26 11:07:56.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-22 16:36:28.000000000', 'files': ['api-ref/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/4ecccf9c0c62b9130646c0a59365e4a36ff39059', 'message': ""Do not set html_last_updated_fmt\n\nSince version 1.20 of openstackdocstheme, html_last_updated_fmt does not\nneed to be set anymore, remove it's setting.\n\nChange-Id: I913b76cc6b3128a420a6fc69e2dc88627d47bbfe\n""}]",0,709301,4ecccf9c0c62b9130646c0a59365e4a36ff39059,8,3,1,6547,,,0,"Do not set html_last_updated_fmt

Since version 1.20 of openstackdocstheme, html_last_updated_fmt does not
need to be set anymore, remove it's setting.

Change-Id: I913b76cc6b3128a420a6fc69e2dc88627d47bbfe
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/01/709301/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/conf.py', 'releasenotes/source/conf.py']",2,4ecccf9c0c62b9130646c0a59365e4a36ff39059,cleanup,,html_last_updated_fmt = '%Y-%m-%d %H:%M',0,6
openstack%2Fkolla~stable%2Ftrain~I27c71c1237dc010531495440e6094d8b129f6c48,openstack/kolla,stable/train,I27c71c1237dc010531495440e6094d8b129f6c48,vitrage-base: honor distro_python_version,MERGED,2020-02-24 15:23:34.000000000,2020-02-26 10:59:21.000000000,2020-02-26 10:57:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-02-24 15:23:34.000000000', 'files': ['docker/vitrage/vitrage-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f205c8ffac24d41c7d10c299770ecabbc4569711', 'message': 'vitrage-base: honor distro_python_version\n\nChange-Id: I27c71c1237dc010531495440e6094d8b129f6c48\n(cherry picked from commit 90babe35d0e075ad15904bb2263e1dd019f10532)\n'}]",0,709553,f205c8ffac24d41c7d10c299770ecabbc4569711,13,3,1,14826,,,0,"vitrage-base: honor distro_python_version

Change-Id: I27c71c1237dc010531495440e6094d8b129f6c48
(cherry picked from commit 90babe35d0e075ad15904bb2263e1dd019f10532)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/709553/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/vitrage/vitrage-base/Dockerfile.j2'],1,f205c8ffac24d41c7d10c299770ecabbc4569711,bp/centos-rhel-8, && cp -a /usr/lib/python{{ distro_python_version }}/site-packages/vitrage/api/app.wsgi /var/www/cgi-bin/vitrage/ \, && cp -a /usr/lib/python2.7/site-packages/vitrage/api/app.wsgi /var/www/cgi-bin/vitrage/ \,1,1
openstack%2Fkolla-ansible~master~I000ba6c62ab44eac0abdf8d5d1f069adfbc6552f,openstack/kolla-ansible,master,I000ba6c62ab44eac0abdf8d5d1f069adfbc6552f,Fix RabbitMQ hostname address resolution precheck,MERGED,2020-02-14 18:31:33.000000000,2020-02-26 10:58:54.000000000,2020-02-26 10:57:01.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-02-14 18:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad12f68efa93aa36fff7789e2d03df32e7c6ce81', 'message': 'Fix RabbitMQ hostname address resolution precheck\n\nMake it require uniqueness of resolution as well to avoid later\nissues with RabbitMQ going crazy.\n\nChange-Id: I000ba6c62ab44eac0abdf8d5d1f069adfbc6552f\nCloses-bug: #1863363\n'}, {'number': 2, 'created': '2020-02-14 19:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8079d9c6af22e02b77f5d216c220b80566ac72e5', 'message': 'Fix RabbitMQ hostname address resolution precheck\n\nMake it require uniqueness of resolution as well to avoid later\nissues with RabbitMQ going crazy.\n\nChange-Id: I000ba6c62ab44eac0abdf8d5d1f069adfbc6552f\nCloses-bug: #1863363\n'}, {'number': 3, 'created': '2020-02-15 10:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fad204ec81d63d799c55639e158c9f38b3a199e3', 'message': 'Fix RabbitMQ hostname address resolution precheck\n\nMake it require uniqueness of resolution as well to avoid later\nissues with RabbitMQ going crazy.\n\nChange-Id: I000ba6c62ab44eac0abdf8d5d1f069adfbc6552f\nCloses-bug: #1863363\n'}, {'number': 4, 'created': '2020-02-15 12:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c6668954498d8dc4fbf0e8dbc1ac27d68565cbc', 'message': 'Fix RabbitMQ hostname address resolution precheck\n\nMake it require uniqueness of resolution as well to avoid later\nissues with RabbitMQ going crazy.\n\nChange-Id: I000ba6c62ab44eac0abdf8d5d1f069adfbc6552f\nCloses-bug: #1863363\n'}, {'number': 5, 'created': '2020-02-16 09:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e0239cb8250822d0df63a0d24c7242ea20ae20f', 'message': 'Fix RabbitMQ hostname address resolution precheck\n\nMake it require uniqueness of resolution as well to avoid later\nissues with RabbitMQ going crazy.\n\nChange-Id: I000ba6c62ab44eac0abdf8d5d1f069adfbc6552f\nCloses-bug: #1863363\n'}, {'number': 6, 'created': '2020-02-16 09:07:19.000000000', 'files': ['releasenotes/notes/bug-1863363-eb5d0ddd0d0d1090.yaml', 'ansible/roles/rabbitmq/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5dd9c532c6a9df6de30ad22169fdecd0a613201f', 'message': 'Fix RabbitMQ hostname address resolution precheck\n\nMake it require uniqueness of resolution as well to avoid later\nissues with RabbitMQ going crazy.\n\nChange-Id: I000ba6c62ab44eac0abdf8d5d1f069adfbc6552f\nCloses-bug: #1863363\n'}]",0,707892,5dd9c532c6a9df6de30ad22169fdecd0a613201f,26,6,6,30491,,,0,"Fix RabbitMQ hostname address resolution precheck

Make it require uniqueness of resolution as well to avoid later
issues with RabbitMQ going crazy.

Change-Id: I000ba6c62ab44eac0abdf8d5d1f069adfbc6552f
Closes-bug: #1863363
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/707892/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/tasks/precheck.yml', 'releasenotes/notes/bug-1863363-eb5d0ddd0d0d1090.yaml']",2,ad12f68efa93aa36fff7789e2d03df32e7c6ce81,bug/1863363,--- fixes: - | Makes RabbitMQ hostname address resolution precheck stronger by requiring uniqueness of resolution to avoid later issues. `LP#1863363 <https://launchpad.net/bugs/1863363>` ,,12,6
openstack%2Fmistral~master~I94f57a6534b9c10e202205dfae4d039296c26407,openstack/mistral,master,I94f57a6534b9c10e202205dfae4d039296c26407,Refactor expressions,MERGED,2020-02-21 07:14:04.000000000,2020-02-26 10:52:00.000000000,2020-02-26 10:50:12.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2020-02-21 07:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f77b959297a53c030f2618e564f7b2ce2abca08f', 'message': ""WIP: Refactor expressions\n\n* This patch moves code related to YAQL and Jinja into their\n  specific modules so that there isn't any module that works with\n  both. It makes it easier to understand how code related to one\n  of these technologies works.\n* Custome built-in functions for YAQL and Jinja are now in a\n  separate module. It's easier now to see what's related with\n  the expression framework now and what's with integration part,\n  i.e. functions themselves.\n* Renamed the base module of expressions similar to other packages.\n* Other style changes.\n\nChange-Id: I94f57a6534b9c10e202205dfae4d039296c26407\n""}, {'number': 2, 'created': '2020-02-21 07:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f2bb8b4fb4be7c59722097a88d27e196eef44299', 'message': ""WIP: Refactor expressions\n\n* This patch moves code related to YAQL and Jinja into their\n  specific modules so that there isn't any module that works with\n  both. It makes it easier to understand how code related to one\n  of these technologies works.\n* Custome built-in functions for YAQL and Jinja are now in a\n  separate module. It's easier now to see what's related with\n  the expression framework now and what's with integration part,\n  i.e. functions themselves.\n* Renamed the base module of expressions similar to other packages.\n* Other style changes.\n\nChange-Id: I94f57a6534b9c10e202205dfae4d039296c26407\n""}, {'number': 3, 'created': '2020-02-21 07:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/43aaca3c1e6e7d7788981a2c381f0f8ca3c95174', 'message': ""WIP: Refactor expressions\n\n* This patch moves code related to YAQL and Jinja into their\n  specific modules so that there isn't any module that works with\n  both. It makes it easier to understand how code related to one\n  of these technologies works.\n* Custome built-in functions for YAQL and Jinja are now in a\n  separate module. It's easier now to see what's related with\n  the expression framework now and what's with integration part,\n  i.e. functions themselves.\n* Renamed the base module of expressions similar to other packages.\n* Other style changes.\n\nChange-Id: I94f57a6534b9c10e202205dfae4d039296c26407\n""}, {'number': 4, 'created': '2020-02-21 08:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/56a8e6b5ba6f17228cb16f952e9195b7640354b3', 'message': ""Refactor expressions\n\n* This patch moves code related to YAQL and Jinja into their\n  specific modules so that there isn't any module that works with\n  both. It makes it easier to understand how code related to one\n  of these technologies works.\n* Custome built-in functions for YAQL and Jinja are now in a\n  separate module. It's easier now to see what's related with\n  the expression framework now and what's with integration part,\n  i.e. functions themselves.\n* Renamed the base module of expressions similar to other packages.\n* Other style changes.\n\nChange-Id: I94f57a6534b9c10e202205dfae4d039296c26407\n""}, {'number': 5, 'created': '2020-02-26 05:37:12.000000000', 'files': ['mistral/expressions/base.py', 'mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/expressions/yaql_expression.py', 'mistral/engine/actions.py', 'mistral/tests/unit/engine/test_yaql_functions.py', 'mistral/expressions/jinja_expression.py', 'mistral/tests/unit/engine/test_error_handling.py', 'mistral/tests/unit/utils/test_expression_utils.py', 'setup.cfg', 'mistral/expressions/std_functions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/592981f487b1b4923c9d60a78ab4e236638bdf94', 'message': ""Refactor expressions\n\n* This patch moves code related to YAQL and Jinja into their\n  specific modules so that there isn't any module that works with\n  both. It makes it easier to understand how code related to one\n  of these technologies works.\n* Custome built-in functions for YAQL and Jinja are now in a\n  separate module. It's easier now to see what's related with\n  the expression framework now and what's with integration part,\n  i.e. functions themselves.\n* Renamed the base module of expressions similar to other packages.\n* Other style changes.\n\nChange-Id: I94f57a6534b9c10e202205dfae4d039296c26407\n""}]",2,709057,592981f487b1b4923c9d60a78ab4e236638bdf94,20,6,5,8731,,,0,"Refactor expressions

* This patch moves code related to YAQL and Jinja into their
  specific modules so that there isn't any module that works with
  both. It makes it easier to understand how code related to one
  of these technologies works.
* Custome built-in functions for YAQL and Jinja are now in a
  separate module. It's easier now to see what's related with
  the expression framework now and what's with integration part,
  i.e. functions themselves.
* Renamed the base module of expressions similar to other packages.
* Other style changes.

Change-Id: I94f57a6534b9c10e202205dfae4d039296c26407
",git fetch https://review.opendev.org/openstack/mistral refs/changes/57/709057/4 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/expressions/base.py', 'mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/expressions/yaql_expression.py', 'mistral/engine/actions.py', 'mistral/utils/expression_utils.py', 'mistral/expressions/jinja_expression.py', 'setup.cfg', 'mistral/expressions/std_functions.py']",8,f77b959297a53c030f2618e564f7b2ce2abca08f,fix_yaql_engine_options_initialization,"# Copyright 2013 - Mirantis, Inc. # Copyright 2015 - StackStorm, Inc. # Copyright 2016 - Brocade Communications Systems, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import warnings from oslo_log import log as logging from oslo_serialization import jsonutils import yaml from mistral.db.v2 import api as db_api from mistral.utils import filter_utils from mistral_lib import utils # Additional YAQL/Jinja functions provided by Mistral out of the box. # If a function name ends with underscore then it doesn't need to pass # the name of the function when context registers it. LOG = logging.getLogger(__name__) def env_(context): return context['__env'] def executions_(context, id=None, root_execution_id=None, state=None, from_time=None, to_time=None): fltr = {} if id is not None: fltr = filter_utils.create_or_update_filter('id', id, ""eq"", fltr) if root_execution_id is not None: fltr = filter_utils.create_or_update_filter( 'root_execution_id', root_execution_id, 'eq', fltr ) if state is not None: fltr = filter_utils.create_or_update_filter( 'state', state, 'eq', fltr ) if from_time is not None: fltr = filter_utils.create_or_update_filter( 'created_at', from_time, 'gte', fltr ) if to_time is not None: fltr = filter_utils.create_or_update_filter( 'created_at', to_time, 'lt', fltr ) return db_api.get_workflow_executions(**fltr) def execution_(context): wf_ex = db_api.get_workflow_execution(context['__execution']['id']) return { 'id': wf_ex.id, 'name': wf_ex.name, 'spec': wf_ex.spec, 'input': wf_ex.input, 'params': wf_ex.params, 'created_at': wf_ex.created_at.isoformat(' '), 'updated_at': wf_ex.updated_at.isoformat(' '), 'root_execution_id': wf_ex.root_execution_id } def json_pp_(context, data=None): warnings.warn( ""json_pp was deprecated in Queens and will be removed in the S cycle. "" ""The json_dump expression function can be used for outputting JSON"", DeprecationWarning ) return jsonutils.dumps( data or context, indent=4 ).replace(""\\n"", ""\n"").replace("" \n"", ""\n"") def json_dump_(context, data): return jsonutils.dumps(data, indent=4) def yaml_dump_(context, data): return yaml.safe_dump(data, default_flow_style=False) def task_(context, task_name=None): # This section may not exist in a context if it's calculated not in # task scope. cur_task = context['__task_execution'] # 1. If task_name is empty it's 'task()' use case, we need to get the # current task. # 2. if task_name is not empty but it's equal to the current task name # we need to take exactly the current instance of this task. Otherwise # there may be ambiguity if there are many tasks with this name. # 3. In other case we just find a task in DB by the given name. if cur_task and (not task_name or cur_task['name'] == task_name): task_ex = db_api.get_task_execution(cur_task['id']) else: task_execs = db_api.get_task_executions( workflow_execution_id=context['__execution']['id'], name=task_name ) # TODO(rakhmerov): Account for multiple executions (i.e. in case of # cycles). task_ex = task_execs[-1] if len(task_execs) > 0 else None if not task_ex: LOG.warning( ""Task '%s' not found by the task() expression function"", task_name ) return None # We don't use to_dict() db model method because not all fields # make sense for user. return _convert_to_user_model(task_ex) def _should_pass_filter(t, state, flat): # Start from assuming all is true, check only if needed. state_match = True flat_match = True if state: state_match = t['state'] == state if flat: is_action = t['type'] == utils.ACTION_TASK_TYPE if not is_action: nested_execs = db_api.get_workflow_executions( task_execution_id=t.id ) for n in nested_execs: flat_match = flat_match and n.state != t.state return state_match and flat_match def _get_tasks_from_db(workflow_execution_id=None, recursive=False, state=None, flat=False): task_execs = [] nested_task_exs = [] kwargs = {} if workflow_execution_id: kwargs['workflow_execution_id'] = workflow_execution_id # We can't add state to query if we want to filter by workflow_execution_id # recursively. There might be a workflow_execution in one state with a # nested workflow execution that has a task in the desired state until we # have an optimization for queering all workflow executions under a given # top level workflow execution, this is the way to go. if state and not (workflow_execution_id and recursive): kwargs['state'] = state task_execs.extend(db_api.get_task_executions(**kwargs)) # If it is not recursive no need to check nested workflows. # If there is no workflow execution id, we already have all we need, and # doing more queries will just create duplication in the results. if recursive and workflow_execution_id: for t in task_execs: if t.type == utils.WORKFLOW_TASK_TYPE: # Get nested workflow execution that matches the task. nested_workflow_executions = db_api.get_workflow_executions( task_execution_id=t.id ) # There might be zero nested executions. for nested_workflow_execution in nested_workflow_executions: nested_task_exs.extend( _get_tasks_from_db( nested_workflow_execution.id, recursive, state, flat ) ) if state or flat: # Filter by state and flat. task_execs = [ t for t in task_execs if _should_pass_filter(t, state, flat) ] # The nested tasks were already filtered, since this is a recursion. task_execs.extend(nested_task_exs) return task_execs def tasks_(context, workflow_execution_id=None, recursive=False, state=None, flat=False): task_execs = _get_tasks_from_db( workflow_execution_id, recursive, state, flat ) # Convert task_execs to user model and return. return [_convert_to_user_model(t) for t in task_execs] def _convert_to_user_model(task_ex): # Importing data_flow in order to break cycle dependency between modules. from mistral.workflow import data_flow # We don't use to_dict() db model method because not all fields # make sense for user. return { 'id': task_ex.id, 'name': task_ex.name, 'spec': task_ex.spec, 'state': task_ex.state, 'state_info': task_ex.state_info, 'result': data_flow.get_task_execution_result(task_ex), 'published': task_ex.published, 'type': task_ex.type, 'workflow_execution_id': task_ex.workflow_execution_id, 'created_at': task_ex.created_at.isoformat(' '), 'updated_at': task_ex.updated_at.isoformat(' ') if task_ex.updated_at is not None else None } def uuid_(context=None): return utils.generate_unicode_uuid() def global_(context, var_name): wf_ex = db_api.get_workflow_execution(context['__execution']['id']) return wf_ex.context.get(var_name) def json_parse_(context, data): return jsonutils.loads(data) def yaml_parse_(context, data): return yaml.safe_load(data) ",,406,389
openstack%2Ftripleo-ci~master~Ib20e7c8b9179316e00414983684e747550d8840d,openstack/tripleo-ci,master,Ib20e7c8b9179316e00414983684e747550d8840d,DNM: c8 test,ABANDONED,2020-02-20 11:41:26.000000000,2020-02-26 10:40:50.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-20 11:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f9db78e7cb8e8f679d7b4f6e461089290698cd04', 'message': 'DNM: c8 test\n\nChange-Id: Ib20e7c8b9179316e00414983684e747550d8840d\n'}, {'number': 2, 'created': '2020-02-20 12:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/53891d2358734d11ff8c7a8274babd386433e7a4', 'message': 'DNM: c8 test\n\n\nDepends-On: https://review.opendev.org/#/c/704250\nChange-Id: Ib20e7c8b9179316e00414983684e747550d8840d\n'}, {'number': 3, 'created': '2020-02-23 18:40:08.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/15d9b4016f9f909125b128a7d2226a0d715fd7b7', 'message': 'DNM: c8 test\n\n\nDepends-On: https://review.opendev.org/#/c/704250\nChange-Id: Ib20e7c8b9179316e00414983684e747550d8840d\n'}]",0,708855,15d9b4016f9f909125b128a7d2226a0d715fd7b7,14,3,3,10969,,,0,"DNM: c8 test


Depends-On: https://review.opendev.org/#/c/704250
Change-Id: Ib20e7c8b9179316e00414983684e747550d8840d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/55/708855/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,f9db78e7cb8e8f679d7b4f6e461089290698cd04,allc8, nodeset: single-centos-8-node nodeset: single-centos-8-node nodeset: single-centos-8-node nodeset: single-centos-8-node nodeset: single-centos-8-node nodeset: single-centos-8-node nodeset: single-centos-8-node nodeset: single-centos-8-node nodeset: single-centos-8-node nodeset: single-centos-8-node nodeset: single-centos-8-node nodeset: single-centos-8-node, nodeset: single-centos-7-node nodeset: single-centos-7-node nodeset: single-centos-7-node nodeset: single-centos-7-node nodeset: single-centos-7-node nodeset: single-centos-7-node nodeset: single-centos-7-node nodeset: single-centos-7-node nodeset: single-centos-7-node nodeset: single-centos-7-node nodeset: single-centos-7-node nodeset: single-centos-7-node,12,12
openstack%2Fpython-tripleoclient~master~Iff46145e525193ad72e90930bb2e445f6f0e4507,openstack/python-tripleoclient,master,Iff46145e525193ad72e90930bb2e445f6f0e4507,WIP: set debug for ansible call,ABANDONED,2020-02-19 00:18:32.000000000,2020-02-26 10:40:32.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-19 00:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/101cd1c40c1ca5a0a69d026cf43a1d3c964ad382', 'message': 'WIP: set debug for ansible call\n\nChange-Id: Iff46145e525193ad72e90930bb2e445f6f0e4507\n'}, {'number': 2, 'created': '2020-02-19 15:37:30.000000000', 'files': ['tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8a62093caf13e57c2bf87f59764a5fe33b7131c3', 'message': 'WIP: set debug for ansible call\n\nChange-Id: Iff46145e525193ad72e90930bb2e445f6f0e4507\n'}]",0,708541,8a62093caf13e57c2bf87f59764a5fe33b7131c3,10,3,2,10969,,,0,"WIP: set debug for ansible call

Change-Id: Iff46145e525193ad72e90930bb2e445f6f0e4507
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/41/708541/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",2,101cd1c40c1ca5a0a69d026cf43a1d3c964ad382,debugv," parser.add_argument('-debug', action='store_true', default=False, dest='debug_deployment', help=_( 'Run deployment with increased verbosity for ' 'debug purposes.') ) parsed_args.overcloud_ssh_port_timeout, debug=parsed_args.debug_deployment", parsed_args.overcloud_ssh_port_timeout,16,5
openstack%2Ftripleo-quickstart~master~Ia601e440d0883fb31f76d19bb6375186c60e3138,openstack/tripleo-quickstart,master,Ia601e440d0883fb31f76d19bb6375186c60e3138,DNM: master centos-8 repo,ABANDONED,2020-01-26 13:31:42.000000000,2020-02-26 10:40:19.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-26 13:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2b9f56ef8cbe3dc6fc11e2377d2c550d81afa157', 'message': 'DNM: master centos-8 repo\n\nChange-Id: Ia601e440d0883fb31f76d19bb6375186c60e3138\n'}, {'number': 2, 'created': '2020-02-23 18:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/22752ea52d88e28585a10c93c832c7f95f319d65', 'message': 'DNM: master centos-8 repo\n\nChange-Id: Ia601e440d0883fb31f76d19bb6375186c60e3138\n'}, {'number': 3, 'created': '2020-02-23 19:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/524c6e2924757b0a6f8318f69d1a1048a3438a47', 'message': 'DNM: master centos-8 repo\n\nChange-Id: Ia601e440d0883fb31f76d19bb6375186c60e3138\n'}, {'number': 4, 'created': '2020-02-23 20:38:57.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0584909111af8e71d9d47d0216afb7aef4685861', 'message': 'DNM: master centos-8 repo\n\nChange-Id: Ia601e440d0883fb31f76d19bb6375186c60e3138\n'}]",0,704250,0584909111af8e71d9d47d0216afb7aef4685861,15,5,4,10969,,,0,"DNM: master centos-8 repo

Change-Id: Ia601e440d0883fb31f76d19bb6375186c60e3138
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/50/704250/4 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,2b9f56ef8cbe3dc6fc11e2377d2c550d81afa157,c8,"devmode: true overcloud_as_undercloud: true images: - name: overcloud-full url: ""{{ overcloud_image_url }}"" type: tar - name: ipa_images url: ""{{ ipa_image_url }}"" type: tar inject_images: - ""ironic-python-agent.initramfs"" - ""ironic-python-agent.kernel"" - ""overcloud-full.qcow2"" - ""overcloud-full.initrd"" - ""overcloud-full.vmlinuz"" release: master distro_ver: centos8 distro_deps_repo_name: deps dlrn_hash_tag: current-tripleo dlrn_hash_tag_newest: current dlrn_baseurl: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}"" docker_registry_host: docker.io docker_registry_namespace: ""tripleo{{ release }}"" docker_image_tag: ""{{ dlrn_hash|default(dlrn_hash_tag) }}"" docker_openshift_tag: v3.11.0 overcloud_image_url: ""https://images.rdoproject.org/{{ release }}/rdo_trunk/current-tripleo/overcloud-full.tar"" ipa_image_url: ""https://images.rdoproject.org/{{ release }}/rdo_trunk/current-tripleo/ironic-python-agent.tar"" repo_cmd_before: | sudo rm -rf /etc/yum.repos.d/delorean*; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo yum clean all; sudo yum-config-manager --disable ""*"" if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh else # Otherwise, fallback to official mirrors provided by CentOS. export NODEPOOL_CENTOS_MIRROR={{ lookup('env','NODEPOOL_CENTOS_MIRROR')|default('http://mirror.centos.org/centos', true) }} export NODEPOOL_RDO_PROXY=https://trunk.rdoproject.org fi rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_path_newest|default(dlrn_hash_tag_newest, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` tripleo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` if [[ -z ""$rdo_dlrn"" || -z ""$tripleo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 fi export RDO_DLRN_REPO=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} export TRIPLEO_DLRN_REPO=${tripleo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} repos: # RDO repos - type: generic reponame: delorean filename: delorean.repo priority: 20 baseurl: $TRIPLEO_DLRN_REPO - type: generic reponame: delorean-current filename: delorean-current.repo baseurl: $RDO_DLRN_REPO priority: 10 includepkgs: - ansible-role-container-registry - ansible-role-tripleo* - ansible-tripleo-ipsec - instack - instack-undercloud - openstack-tripleo-* - os-apply-config - os-collect-config - os-net-config - os-refresh-config - puppet-* - python*-tripleo* - python*-paunch* - paunch-services - tripleo-ansible - ansible-config_template - type: generic reponame: ""delorean-{{ release }}-deps"" filename: ""delorean-{{ release }}-deps.repo"" baseurl: ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ distro_deps_repo_name }}/latest/ - type: generic reponame: delorean-master-build-deps filename: delorean-master-build-deps.repo baseurl: ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/build-deps/latest/ enabled: 0 # CentOS related repos - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/BaseOS/x86_64/os/ - type: generic reponame: quickstart-centos-updates filename: quickstart-centos-updates.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/AppStream/x86_64/os/ - type: generic reponame: quickstart-centos-extras filename: quickstart-centos-extras.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/extras/x86_64/os/ # - type: generic # reponame: quickstart-centos-qemu # filename: quickstart-centos-qemu.repo # baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/virt/x86_64/kvm-common/ # - type: generic # reponame: quickstart-centos-ceph-nautilus # filename: quickstart-centos-ceph-nautilus.repo # baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/storage/x86_64/ceph-nautilus/ # - type: generic # reponame: quickstart-centos-opstools # filename: quickstart-centos-opstools.repo # baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/opstools/x86_64/ - type: generic reponame: quickstart-centos8-cr filename: quickstart-centos8-cr.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/cr/x86_64/os/ enabled: 0 repo_cmd_after: | sudo yum install -y yum-plugin-priorities; {% if not enable_opstools_repo|default(false)|bool %}sudo yum-config-manager --save --setopt quickstart-centos-opstools.enabled=0; {%endif %} sudo yum-config-manager --disable rdo-qemu-ev; sudo rpm -e epel-release || true; sudo yum remove -y rdo-release centos-release-ceph-* centos-release-openstack-* centos-release-qemu-ev || true; sudo rm -rf /etc/yum.repos.d/CentOS-OpenStack-*.repo /etc/yum.repos.d/CentOS-Ceph-*.repo /etc/yum.repos.d/CentOS-QEMU-EV.repo; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo yum repolist; sudo yum clean metadata {% if repo_setup_run_update|default(true)|bool %} sudo yum update -y {% endif %} undercloud_rpm_dependencies: >- python-tripleoclient ceph-ansible # baseos settings # baseos_undercloud_image_url: https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-1901.qcow2 # baseos_image: centos # baseos_image_type: qcow2 # baseos_md5sum: ""26c52282b53e6fe746fbfd5542421675 CentOS-7-x86_64-GenericCloud-1901.qcow2"" ",,151,0
openstack%2Ftripleo-ci~master~I1796c182f24f869e6742245f3b3002b83ffe79fc,openstack/tripleo-ci,master,I1796c182f24f869e6742245f3b3002b83ffe79fc,Add centos8 dry run job for CI,ABANDONED,2020-02-20 05:12:56.000000000,2020-02-26 10:24:30.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-20 05:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/92f32ed5c56c21730414bf1ad6401fff212f11a5', 'message': ""Add centos8 dry run job for CI\n\nFor smooth moving to centos8 jobs let's run centos8 based job,\nwhich runs with dryrun mode.\nIt doesn't test tripleo, but all CI and quickstart code and\npreparation, so that we can be sure we don't break anything cento8\nspecific in out jobs.\nChange-Id: I1796c182f24f869e6742245f3b3002b83ffe79fc\n""}, {'number': 2, 'created': '2020-02-20 05:15:13.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/47733875aa6ef54e2926a0f80f3e335572e2182e', 'message': ""Add centos8 dry run job for CI\n\nFor smooth moving to centos8 jobs let's run centos8 based job,\nwhich runs with dryrun mode.\nIt doesn't test tripleo, but all CI and quickstart code and\npreparation, so that we can be sure we don't break anything cento8\nspecific in out jobs.\nChange-Id: I1796c182f24f869e6742245f3b3002b83ffe79fc\n""}]",2,708803,47733875aa6ef54e2926a0f80f3e335572e2182e,15,7,2,10969,,,0,"Add centos8 dry run job for CI

For smooth moving to centos8 jobs let's run centos8 based job,
which runs with dryrun mode.
It doesn't test tripleo, but all CI and quickstart code and
preparation, so that we can be sure we don't break anything cento8
specific in out jobs.
Change-Id: I1796c182f24f869e6742245f3b3002b83ffe79fc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/03/708803/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,92f32ed5c56c21730414bf1ad6401fff212f11a5,centos8, - tripleo-ci-centos-8-standalone-dryrun - tripleo-ci-centos-8-standalone-dryrun - job: name: tripleo-ci-centos-8-standalone-dryrun parent: tripleo-ci-base-standalone nodeset: single-centos-8-node branches: ^(?!stable/(newton|ocata|pike|queens|rocky)).*$ vars: featureset: '052' dryrun: true,,11,0
openstack%2Fmagnum~master~Ieb4fe3e6122270b4e9114012dee5af747d88d539,openstack/magnum,master,Ieb4fe3e6122270b4e9114012dee5af747d88d539,Remove buildimage jobs,MERGED,2020-02-26 07:06:06.000000000,2020-02-26 10:03:35.000000000,2020-02-26 10:00:14.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-02-26 07:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9d0e095c5ccead4f452e21625e954ff39c98e7ed', 'message': 'WIP: Convert playbooks to Zuul v3 logic\n\nWIP since this needs testing\n\nConvert the buildimage playbooks to get rid of legacy setup.\n\nChange-Id: Ieb4fe3e6122270b4e9114012dee5af747d88d539\n'}, {'number': 2, 'created': '2020-02-26 07:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b56d1dd2e37098042cdc9a2eba94419b47d02dfc', 'message': 'WIP: Convert playbooks to Zuul v3 logic\n\nWIP since this needs testing.\n\nConvert the buildimage playbooks to get rid of legacy setup.\n\nChange-Id: Ieb4fe3e6122270b4e9114012dee5af747d88d539\n'}, {'number': 3, 'created': '2020-02-26 07:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ef8c309a5c7b7b812ebe26c6282b4db97758ef57', 'message': 'WIP: Convert playbooks to Zuul v3 logic\n\nWIP since this needs testing.\n\nConvert the buildimage playbooks to get rid of legacy setup.\n\nChange-Id: Ieb4fe3e6122270b4e9114012dee5af747d88d539\n'}, {'number': 4, 'created': '2020-02-26 07:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/be3885fb21ca41841464525c71bdd27aacaabadf', 'message': 'WIP: Convert playbooks to Zuul v3 logic\n\nWIP since this needs testing.\n\nConvert the buildimage playbooks to get rid of legacy setup.\n\nChange-Id: Ieb4fe3e6122270b4e9114012dee5af747d88d539\n'}, {'number': 5, 'created': '2020-02-26 07:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ba61434a1e96a4f1279b5443a707e1aee25a206d', 'message': 'Remove buildimage jobs\n\nRemove buildimage jobs, they have been disabled in April 2019 and the\nproject uses upstream images now.\n\nRemove them so that the legacy parent job can be removed, this repo\nis one of the final users.\n\nChange-Id: Ieb4fe3e6122270b4e9114012dee5af747d88d539\n'}, {'number': 6, 'created': '2020-02-26 07:47:07.000000000', 'files': ['.zuul.yaml', 'playbooks/magnum-buildimages-base.yaml', 'playbooks/post/upload-images.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a4190dc9d0bce4a4d7c7633aacf6e282ac5a5128', 'message': 'Remove buildimage jobs\n\nRemove buildimage jobs, they have been disabled in April 2019 and the\nproject uses upstream images now.\n\nRemove them so that the legacy parent job can be removed, this repo\nis one of the final users.\n\nChange-Id: Ieb4fe3e6122270b4e9114012dee5af747d88d539\n'}]",2,709956,a4190dc9d0bce4a4d7c7633aacf6e282ac5a5128,17,4,6,6547,,,0,"Remove buildimage jobs

Remove buildimage jobs, they have been disabled in April 2019 and the
project uses upstream images now.

Remove them so that the legacy parent job can be removed, this repo
is one of the final users.

Change-Id: Ieb4fe3e6122270b4e9114012dee5af747d88d539
",git fetch https://review.opendev.org/openstack/magnum refs/changes/56/709956/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/magnum-buildimages-base.yaml', 'playbooks/post/upload-images.yaml']",3,9d0e095c5ccead4f452e21625e954ff39c98e7ed,legacy-artifact, - name: Copy files from {{ zuul.project.src.dir }}/images/ on node synchronize: src: '{{ zuul.project.src.dir }}/images', - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' copy_links: true rsync_opts: - --include=/*.qcow2 - --include=*/ - --exclude=* - --prune-empty-dirs,41,48
openstack%2Fmagnum~stable%2Ftrain~I2852f4b255e782bb65b13571502194ee9f455ae3,openstack/magnum,stable/train,I2852f4b255e782bb65b13571502194ee9f455ae3,[k8s] Fix instance ID issue with podman and autoscaler,MERGED,2020-02-25 16:24:28.000000000,2020-02-26 10:03:34.000000000,2020-02-26 10:01:48.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 16:24:28.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7e89ac65a4fcb41062e886201d3c53da635b7cc2', 'message': '[k8s] Fix instance ID issue with podman and autoscaler\n\nAdding the volume mount for /etc/machine-id so that the kubelet\nboostraped by podman can access the correct instance ID. Without\nthis, autoscaler will fail to delete empty node. This issue is\nreported on autoscaler repo[1].\n\n[1] https://github.com/kubernetes/autoscaler/issues/2819\n\nTask: 38743\nStory: 2007286\n\nChange-Id: I2852f4b255e782bb65b13571502194ee9f455ae3\n(cherry picked from commit eb2b688f3ea8cdff5a7131efada156991f6bb6cb)\n'}]",0,709773,7e89ac65a4fcb41062e886201d3c53da635b7cc2,8,3,1,28022,,,0,"[k8s] Fix instance ID issue with podman and autoscaler

Adding the volume mount for /etc/machine-id so that the kubelet
boostraped by podman can access the correct instance ID. Without
this, autoscaler will fail to delete empty node. This issue is
reported on autoscaler repo[1].

[1] https://github.com/kubernetes/autoscaler/issues/2819

Task: 38743
Story: 2007286

Change-Id: I2852f4b255e782bb65b13571502194ee9f455ae3
(cherry picked from commit eb2b688f3ea8cdff5a7131efada156991f6bb6cb)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/73/709773/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,7e89ac65a4fcb41062e886201d3c53da635b7cc2,story/2007286-38743-stable/train, --volume /etc/machine-id:/etc/machine-id \\,,2,0
openstack%2Frequirements~master~Id9a465bd106940a1e286e8090be2186becc1c9f0,openstack/requirements,master,Id9a465bd106940a1e286e8090be2186becc1c9f0,Set tox_constraints_file for cross-jobs,MERGED,2020-02-24 06:17:23.000000000,2020-02-26 09:49:45.000000000,2020-02-26 09:45:31.000000000,"[{'_account_id': 841}, {'_account_id': 7118}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 06:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8756f1132b36ac5c2749aacc59dde3cd1c1553bb', 'message': 'Set UPPER_CONSTRAINTS_FILE for cross jobs\n\nIn the follow-on job I268fb7e1dc753c82983736572b3df2f152f8cf51 I have\nmodified upper-constraints.txt but it seems like the cross-horizon-npm\nis still trying to use the constraints from releases.openstack.org, so\nnot picking up the change in the gate.\n\nSet UPPER_CONSTRAINTS_FILE which this job should obey to use the Zuul\nchecked out version.\n\n[1] https://opendev.org/openstack/horizon/src/commit/e515713084f0ce5d7874ffe4ef080fcc2e5760cb/tox.ini#L23\n\nChange-Id: Id9a465bd106940a1e286e8090be2186becc1c9f0\n'}, {'number': 2, 'created': '2020-02-24 06:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c49be1f49f8df82c8d913b73508647c2b1c8a00f', 'message': 'Set tox_constraints_file for cross-jobs\n\nIn the follow-on job I268fb7e1dc753c82983736572b3df2f152f8cf51 I have\nmodified upper-constraints.txt but it seems like the cross-horizon-npm\nis still trying to use the constraints from releases.openstack.org, so\nnot picking up the change in the gate.\n\nIt seems that horizon calls ""tox -e npm"" as part of it\'s npm magic,\nbut doesn\'t use the checked-out version of upper-constraints.txt.\n\nThe dependent patch uses tox_constraints_file to set\nUPPER_CONSTRAINTS_FILE, which should hopefully pick up the right\ninstallation candidates.\n\nDepends-On: https://review.opendev.org/709414\nChange-Id: Id9a465bd106940a1e286e8090be2186becc1c9f0\n'}, {'number': 3, 'created': '2020-02-24 07:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fff15e78e5c9e6d3713caa154192baefc6f71e24', 'message': 'Set tox_constraints_file for cross-jobs\n\nIn the follow-on job I268fb7e1dc753c82983736572b3df2f152f8cf51 I have\nmodified upper-constraints.txt but it seems like the cross-horizon-npm\nis still trying to use the constraints from releases.openstack.org, so\nnot picking up the change in the gate.\n\nIt seems that horizon calls ""tox -e npm"" as part of it\'s npm magic,\nbut doesn\'t use the checked-out version of upper-constraints.txt.\n\nThe dependent patch uses tox_constraints_file to set\nUPPER_CONSTRAINTS_FILE, which should hopefully pick up the right\ninstallation candidates.\n\nThis should allow the job to become voting again.\n\nDepends-On: https://review.opendev.org/709414\nChange-Id: Id9a465bd106940a1e286e8090be2186becc1c9f0\n'}, {'number': 4, 'created': '2020-02-24 07:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/37cc9e5b0323de24310ac4def41311838c7eb153', 'message': 'Set tox_constraints_file for cross-jobs\n\nIn the follow-on job I268fb7e1dc753c82983736572b3df2f152f8cf51 I have\nmodified upper-constraints.txt but it seems like the cross-horizon-npm\nis still trying to use the constraints from releases.openstack.org, so\nnot picking up the change in the gate.\n\nIt seems that horizon calls ""tox -e npm"" as part of it\'s npm magic,\nbut doesn\'t use the checked-out version of upper-constraints.txt.\n\nThe dependent patch uses tox_constraints_file to set\nUPPER_CONSTRAINTS_FILE, which should hopefully pick up the right\ninstallation candidates.\n\nThis should allow the job to become voting again.\n\nDepends-On: https://review.opendev.org/709414\nChange-Id: Id9a465bd106940a1e286e8090be2186becc1c9f0\n'}, {'number': 5, 'created': '2020-02-24 12:16:21.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cbd4a2f0cf3b7929d6a82f69ac43f9a12e088480', 'message': 'Set tox_constraints_file for cross-jobs\n\nIn the follow-on job I268fb7e1dc753c82983736572b3df2f152f8cf51 I have\nmodified upper-constraints.txt but it seems like the cross-horizon-npm\nis still trying to use the constraints from releases.openstack.org, so\nnot picking up the change in the gate.\n\nIt seems that horizon calls ""tox -e npm"" as part of it\'s npm magic,\nbut doesn\'t use the checked-out version of upper-constraints.txt.\n\nThe dependent patch uses tox_constraints_file to set\nUPPER_CONSTRAINTS_FILE, which should hopefully pick up the right\ninstallation candidates.\n\nThis should allow the job to become voting again.\n\nDepends-On: https://review.opendev.org/709414\nChange-Id: Id9a465bd106940a1e286e8090be2186becc1c9f0\n'}]",1,709412,cbd4a2f0cf3b7929d6a82f69ac43f9a12e088480,28,6,5,7118,,,0,"Set tox_constraints_file for cross-jobs

In the follow-on job I268fb7e1dc753c82983736572b3df2f152f8cf51 I have
modified upper-constraints.txt but it seems like the cross-horizon-npm
is still trying to use the constraints from releases.openstack.org, so
not picking up the change in the gate.

It seems that horizon calls ""tox -e npm"" as part of it's npm magic,
but doesn't use the checked-out version of upper-constraints.txt.

The dependent patch uses tox_constraints_file to set
UPPER_CONSTRAINTS_FILE, which should hopefully pick up the right
installation candidates.

This should allow the job to become voting again.

Depends-On: https://review.opendev.org/709414
Change-Id: Id9a465bd106940a1e286e8090be2186becc1c9f0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/12/709412/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/cross-jobs.yaml'],1,8756f1132b36ac5c2749aacc59dde3cd1c1553bb,gitdb," environment: UPPER_CONSTRAINTS_FILE: ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/requirements'].src_dir }}/upper-constraints.txt""",,2,0
openstack%2Fmistral~master~If3367493803b57ef8bc281b1f64f2a223ac86f85,openstack/mistral,master,If3367493803b57ef8bc281b1f64f2a223ac86f85,Fix YAQL engine initialization,MERGED,2020-02-26 04:52:59.000000000,2020-02-26 09:24:06.000000000,2020-02-26 09:22:00.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-02-26 04:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2630e1e72c7971d15ee7e61c6a05dffa339c8bf8', 'message': ""Fix YAQL engine initialization\n\n* When Mistral is launched via launch.py script then YAQL engine class\n  initialization logic doesn't use the right properties from the config\n  file. This is because this initialization is caused by the chain of\n  imports taking its start in launch.py, and this happens before\n  the config file is parsed in the main() function of launch.py.\n  Using lazy initialization of YAQL engine class (YAQL_ENGINE in\n  yaql_expression.py module) solves this issue because now Mistral\n  doesn't initialize it immediately before parsing the config and\n  waits for the first usage of it.\n* Minor style changes per Mistral coding guidelines.\n\nChange-Id: If3367493803b57ef8bc281b1f64f2a223ac86f85\nCloses-Bug: #1864785\n""}, {'number': 2, 'created': '2020-02-26 04:54:01.000000000', 'files': ['mistral/expressions/yaql_expression.py', 'mistral/cmd/launch.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/753f1bc03fc5ae464d6a3c8266e025dce3cceccb', 'message': ""Fix YAQL engine initialization\n\n* When Mistral is launched via launch.py script then YAQL engine class\n  initialization logic doesn't use the right properties from the config\n  file. This is because this initialization is caused by the chain of\n  imports taking its start in launch.py, and this happens before\n  the config file is parsed in the main() function of launch.py.\n  Using lazy initialization of YAQL engine class (YAQL_ENGINE in\n  yaql_expression.py module) solves this issue because now Mistral\n  doesn't initialize it immediately before parsing the config and\n  waits for the first usage of it.\n* Minor style changes per Mistral coding guidelines.\n\nChange-Id: If3367493803b57ef8bc281b1f64f2a223ac86f85\nCloses-Bug: #1864785\n""}]",0,709951,753f1bc03fc5ae464d6a3c8266e025dce3cceccb,12,5,2,8731,,,0,"Fix YAQL engine initialization

* When Mistral is launched via launch.py script then YAQL engine class
  initialization logic doesn't use the right properties from the config
  file. This is because this initialization is caused by the chain of
  imports taking its start in launch.py, and this happens before
  the config file is parsed in the main() function of launch.py.
  Using lazy initialization of YAQL engine class (YAQL_ENGINE in
  yaql_expression.py module) solves this issue because now Mistral
  doesn't initialize it immediately before parsing the config and
  waits for the first usage of it.
* Minor style changes per Mistral coding guidelines.

Change-Id: If3367493803b57ef8bc281b1f64f2a223ac86f85
Closes-Bug: #1864785
",git fetch https://review.opendev.org/openstack/mistral refs/changes/51/709951/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/expressions/yaql_expression.py', 'mistral/utils/expression_utils.py', 'mistral/cmd/launch.py']",3,2630e1e72c7971d15ee7e61c6a05dffa339c8bf8,bug/1864785,"POSSIBLE_TOPDIR = os.path.normpath( os.path.join( os.path.abspath(sys.argv[0]), os.pardir, os.pardir ) ) ","POSSIBLE_TOPDIR = os.path.normpath(os.path.join(os.path.abspath(sys.argv[0]), os.pardir, os.pardir))",48,20
openstack%2Fkolla~stable%2Ftrain~Ice120e8001fd9e8bb37ca4f2df26259cf798ee0e,openstack/kolla,stable/train,Ice120e8001fd9e8bb37ca4f2df26259cf798ee0e,CentOS 8: disable repo_gpgcheck for grafana image,ABANDONED,2020-02-21 17:58:06.000000000,2020-02-26 09:19:44.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-02-21 17:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/316084e7ed0ed315acbb56e4c1aab3bd198a6d25', 'message': ""CentOS 8: disable repo_gpgcheck for grafana image\n\nDNF does not seem to accept keys imported by rpm --import for signing a\nrepo (as opposed to packages). This causes it to prompt during package\ninstall, which does not work without a terminal in the build container.\n\nWe have gpgcheck=1 for the grafana repo, so packages are at least\nsigned. We don't have repo_gpgcheck elsewhere, so it seems reasonable to\ndisable it for grafana.\n\nChange-Id: Ice120e8001fd9e8bb37ca4f2df26259cf798ee0e\nPartially-Implements: blueprint centos-rhel-8\n(cherry picked from commit 05e2c43d6627a705e7f96be1eb5225c88f1c8e13)\n""}, {'number': 2, 'created': '2020-02-24 14:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0985a8292686e8912cbe2059dbff25177a72db11', 'message': ""CentOS 8: disable repo_gpgcheck for grafana image\n\nDNF does not seem to accept keys imported by rpm --import for signing a\nrepo (as opposed to packages). This causes it to prompt during package\ninstall, which does not work without a terminal in the build container.\n\nWe have gpgcheck=1 for the grafana repo, so packages are at least\nsigned. We don't have repo_gpgcheck elsewhere, so it seems reasonable to\ndisable it for grafana.\n\nChange-Id: Ice120e8001fd9e8bb37ca4f2df26259cf798ee0e\nPartially-Implements: blueprint centos-rhel-8\n(cherry picked from commit 05e2c43d6627a705e7f96be1eb5225c88f1c8e13)\n""}, {'number': 3, 'created': '2020-02-25 17:13:23.000000000', 'files': ['docker/base/grafana.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6bcadec07916673e2d9e6312fd3853d89f16912f', 'message': ""CentOS 8: disable repo_gpgcheck for grafana image\n\nDNF does not seem to accept keys imported by rpm --import for signing a\nrepo (as opposed to packages). This causes it to prompt during package\ninstall, which does not work without a terminal in the build container.\n\nWe have gpgcheck=1 for the grafana repo, so packages are at least\nsigned. We don't have repo_gpgcheck elsewhere, so it seems reasonable to\ndisable it for grafana.\n\nChange-Id: Ice120e8001fd9e8bb37ca4f2df26259cf798ee0e\nPartially-Implements: blueprint centos-rhel-8\n(cherry picked from commit 05e2c43d6627a705e7f96be1eb5225c88f1c8e13)\n""}]",0,709206,6bcadec07916673e2d9e6312fd3853d89f16912f,9,3,3,14826,,,0,"CentOS 8: disable repo_gpgcheck for grafana image

DNF does not seem to accept keys imported by rpm --import for signing a
repo (as opposed to packages). This causes it to prompt during package
install, which does not work without a terminal in the build container.

We have gpgcheck=1 for the grafana repo, so packages are at least
signed. We don't have repo_gpgcheck elsewhere, so it seems reasonable to
disable it for grafana.

Change-Id: Ice120e8001fd9e8bb37ca4f2df26259cf798ee0e
Partially-Implements: blueprint centos-rhel-8
(cherry picked from commit 05e2c43d6627a705e7f96be1eb5225c88f1c8e13)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/709206/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/grafana.repo'],1,316084e7ed0ed315acbb56e4c1aab3bd198a6d25,bp/centos-rhel-8,enabled=0,repo_gpgcheck=1 enabled=1,1,2
openstack%2Fkolla~stable%2Ftrain~Ibbb720390ff17e11249a5aa77163c15c0971209a,openstack/kolla,stable/train,Ibbb720390ff17e11249a5aa77163c15c0971209a,"CentOS 8: base image fixes for RabbitMQ, fluentd & InfluxDB",ABANDONED,2020-02-21 17:58:06.000000000,2020-02-26 09:19:37.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-02-21 17:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a1bbf3cfcdb7ec29ecfa819143b83094a037a500', 'message': 'CentOS 8: base image fixes for RabbitMQ, fluentd & InfluxDB\n\n- Fix td-agent repo URL for fluentd. $releasever and $basearch variables\n  were escaped in the repo URL.\n\n- Disable repo_gpgcheck for RabbitMQ. The rabbitmq-server 3.7 packages\n  on packagecloud are not signed, which is why we have gpgcheck=0 for\n  that repo. Previously repo_gpgcheck was set to 1, but this breaks DNF\n  which does not seem to accept keys imported by rpm --import for\n  signing a repo (as opposed to packages). This causes it to prompt\n  during package install, which does not work without a terminal in the\n  build container. This should be temporary as we will upgrade RabbitMQ\n  to 3.8 soon.\n\n- Add InfluxDB repo back to list of repos to disable.\n\nChange-Id: Ibbb720390ff17e11249a5aa77163c15c0971209a\nPartially-Implements: blueprint centos-rhel-8\n(cherry picked from commit bdb0dbddbc30215169baaaa263c583e7d3183607)\n'}, {'number': 2, 'created': '2020-02-24 14:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/41401259584e70f56911af99b51f7c34d42450ba', 'message': 'CentOS 8: base image fixes for RabbitMQ, fluentd & InfluxDB\n\n- Fix td-agent repo URL for fluentd. $releasever and $basearch variables\n  were escaped in the repo URL.\n\n- Disable repo_gpgcheck for RabbitMQ. The rabbitmq-server 3.7 packages\n  on packagecloud are not signed, which is why we have gpgcheck=0 for\n  that repo. Previously repo_gpgcheck was set to 1, but this breaks DNF\n  which does not seem to accept keys imported by rpm --import for\n  signing a repo (as opposed to packages). This causes it to prompt\n  during package install, which does not work without a terminal in the\n  build container. This should be temporary as we will upgrade RabbitMQ\n  to 3.8 soon.\n\n- The third part from the master commit is not required in train as\n  repos are not disabled by default. (Add InfluxDB repo back to list of\n  repos to disable.)\n\nChange-Id: Ibbb720390ff17e11249a5aa77163c15c0971209a\nPartially-Implements: blueprint centos-rhel-8\n(cherry picked from commit bdb0dbddbc30215169baaaa263c583e7d3183607)\n'}, {'number': 3, 'created': '2020-02-25 17:13:23.000000000', 'files': ['docker/base/Dockerfile.j2', 'docker/base/td.repo', 'docker/base/rabbitmq_rabbitmq-server.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fe034f1f2ff4ab5bd21405df34e182fe1a5a0dd4', 'message': 'CentOS 8: base image fixes for RabbitMQ, fluentd & InfluxDB\n\n- Fix td-agent repo URL for fluentd. $releasever and $basearch variables\n  were escaped in the repo URL.\n\n- Disable repo_gpgcheck for RabbitMQ. The rabbitmq-server 3.7 packages\n  on packagecloud are not signed, which is why we have gpgcheck=0 for\n  that repo. Previously repo_gpgcheck was set to 1, but this breaks DNF\n  which does not seem to accept keys imported by rpm --import for\n  signing a repo (as opposed to packages). This causes it to prompt\n  during package install, which does not work without a terminal in the\n  build container. This should be temporary as we will upgrade RabbitMQ\n  to 3.8 soon.\n\n- The third part from the master commit is not required in train as\n  repos are not disabled by default. (Add InfluxDB repo back to list of\n  repos to disable.)\n\nChange-Id: Ibbb720390ff17e11249a5aa77163c15c0971209a\nPartially-Implements: blueprint centos-rhel-8\n(cherry picked from commit bdb0dbddbc30215169baaaa263c583e7d3183607)\n'}]",0,709201,fe034f1f2ff4ab5bd21405df34e182fe1a5a0dd4,9,3,3,14826,,,0,"CentOS 8: base image fixes for RabbitMQ, fluentd & InfluxDB

- Fix td-agent repo URL for fluentd. $releasever and $basearch variables
  were escaped in the repo URL.

- Disable repo_gpgcheck for RabbitMQ. The rabbitmq-server 3.7 packages
  on packagecloud are not signed, which is why we have gpgcheck=0 for
  that repo. Previously repo_gpgcheck was set to 1, but this breaks DNF
  which does not seem to accept keys imported by rpm --import for
  signing a repo (as opposed to packages). This causes it to prompt
  during package install, which does not work without a terminal in the
  build container. This should be temporary as we will upgrade RabbitMQ
  to 3.8 soon.

- The third part from the master commit is not required in train as
  repos are not disabled by default. (Add InfluxDB repo back to list of
  repos to disable.)

Change-Id: Ibbb720390ff17e11249a5aa77163c15c0971209a
Partially-Implements: blueprint centos-rhel-8
(cherry picked from commit bdb0dbddbc30215169baaaa263c583e7d3183607)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/01/709201/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/base/td.repo', 'docker/base/rabbitmq_rabbitmq-server.repo']",3,a1bbf3cfcdb7ec29ecfa819143b83094a037a500,bp/centos-rhel-8,"baseurl=https://packagecloud.io/rabbitmq/rabbitmq-server/el/$releasever/$basearch # NOTE(mgoddard): rabbitmq-server 3.7 packages are not signed. Previously # repo_gpgcheck was set to 1, but this breaks DNF which does not seem to accept # keys imported by rpm --import for signing a repo (as opposed to packages). # TODO(mgoddard): Set gpgcheck=1 for rabbitmq-server 3.8+",baseurl=https://packagecloud.io/rabbitmq/rabbitmq-server/el/7/$basearch repo_gpgcheck=1,31,9
openstack%2Fopenstack-ansible-os_murano~master~Ia62a7aa5815a3e7360f6cb0f3b0367c165295799,openstack/openstack-ansible-os_murano,master,Ia62a7aa5815a3e7360f6cb0f3b0367c165295799,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:12:43.000000000,2020-02-26 09:11:42.000000000,2020-02-26 09:09:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:12:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/eb0071b8a4ddf2f1b237e159a18ac0699996acf8', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ia62a7aa5815a3e7360f6cb0f3b0367c165295799\n'}]",0,709499,eb0071b8a4ddf2f1b237e159a18ac0699996acf8,11,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ia62a7aa5815a3e7360f6cb0f3b0367c165295799
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/99/709499/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,eb0071b8a4ddf2f1b237e159a18ac0699996acf8,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_sahara~master~I7fb204940a35258399a32d620a68a23d089d483a,openstack/openstack-ansible-os_sahara,master,I7fb204940a35258399a32d620a68a23d089d483a,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:14:16.000000000,2020-02-26 08:55:53.000000000,2020-02-26 08:54:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:14:16.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/bcd39c3d0b159af56726f997c0622fd1cf28fd2b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7fb204940a35258399a32d620a68a23d089d483a\n'}]",0,709507,bcd39c3d0b159af56726f997c0622fd1cf28fd2b,11,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I7fb204940a35258399a32d620a68a23d089d483a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/07/709507/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,bcd39c3d0b159af56726f997c0622fd1cf28fd2b,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_magnum~master~I4db98b505bb617cb85eb7bebac423d6b0390ece2,openstack/openstack-ansible-os_magnum,master,I4db98b505bb617cb85eb7bebac423d6b0390ece2,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:11:19.000000000,2020-02-26 08:53:19.000000000,2020-02-26 08:51:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:11:19.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/2c46e5186925a8654d41f0fa233ff063742b8480', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4db98b505bb617cb85eb7bebac423d6b0390ece2\n'}]",0,709495,2c46e5186925a8654d41f0fa233ff063742b8480,11,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I4db98b505bb617cb85eb7bebac423d6b0390ece2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/95/709495/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,2c46e5186925a8654d41f0fa233ff063742b8480,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_congress~master~I4e1589aac569036a1f5efef7427757a5af223fae,openstack/openstack-ansible-os_congress,master,I4e1589aac569036a1f5efef7427757a5af223fae,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:09:23.000000000,2020-02-26 08:52:43.000000000,2020-02-26 08:51:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:09:23.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/96ebbed9e1dabfe57f5a29af32f525e626fa237c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4e1589aac569036a1f5efef7427757a5af223fae\n'}]",0,709485,96ebbed9e1dabfe57f5a29af32f525e626fa237c,11,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I4e1589aac569036a1f5efef7427757a5af223fae
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/85/709485/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,96ebbed9e1dabfe57f5a29af32f525e626fa237c,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_rally~master~I7baf02070bd41fa432d57c88856a6cafcef4c4ad,openstack/openstack-ansible-os_rally,master,I7baf02070bd41fa432d57c88856a6cafcef4c4ad,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:14:03.000000000,2020-02-26 08:52:15.000000000,2020-02-26 08:50:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:14:03.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/62db47aadab07f1c1c2aaae245261ee6ac37fe09', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7baf02070bd41fa432d57c88856a6cafcef4c4ad\n'}]",0,709506,62db47aadab07f1c1c2aaae245261ee6ac37fe09,11,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I7baf02070bd41fa432d57c88856a6cafcef4c4ad
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/06/709506/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,62db47aadab07f1c1c2aaae245261ee6ac37fe09,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fcharm-ceph-radosgw~master~I433537805ae56dc7a42e9d34ea6d491ffb4c79c0,openstack/charm-ceph-radosgw,master,I433537805ae56dc7a42e9d34ea6d491ffb4c79c0,Rename lib/ceph to lib/charms_ceph,MERGED,2020-02-21 21:19:09.000000000,2020-02-26 08:51:19.000000000,2020-02-26 08:46:55.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 21:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/93184f0c0530ab896045967b1fd20c1b7ded56a6', 'message': 'Rename lib/ceph to lib/ceph_helpers\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-osd/lib/ceph/. For example, with the current import of\nceph.utils in hooks/hooks.py, Python finds no utils.py in\n/usr/lib/python3/dist-packages/ceph/ and then stops searching.\nTherefore, rename lib/ceph to lib/ceph_helpers to avoid the conflict.\n\nDepends-On: https://review.opendev.org/#/c/709226\nChange-Id: I433537805ae56dc7a42e9d34ea6d491ffb4c79c0\n'}, {'number': 2, 'created': '2020-02-24 15:10:05.000000000', 'files': ['hooks/hooks.py', 'lib/charms_ceph/utils.py', 'lib/charms_ceph/crush_utils.py', 'lib/charms_ceph/broker.py', 'lib/charms_ceph/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/6a22c99d4d405de4e9a47de964c4528109fc2157', 'message': 'Rename lib/ceph to lib/charms_ceph\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-osd/lib/ceph/. For example, with the current import of\nceph.utils in hooks/hooks.py, Python finds no utils.py in\n/usr/lib/python3/dist-packages/ceph/ and then stops searching.\nTherefore, rename lib/ceph to lib/charms_ceph to avoid the conflict.\n\nDepends-On: https://review.opendev.org/#/c/709226\nChange-Id: I433537805ae56dc7a42e9d34ea6d491ffb4c79c0\n'}]",0,709244,6a22c99d4d405de4e9a47de964c4528109fc2157,21,5,2,11805,,,0,"Rename lib/ceph to lib/charms_ceph

The new python3-ceph-common deb package (introduced in ceph octopus)
adds a new ceph directory (a parent package in python terms) in
/usr/lib/python3/dist-packages/ceph/. This results in a conflict with
charm-ceph-osd/lib/ceph/. For example, with the current import of
ceph.utils in hooks/hooks.py, Python finds no utils.py in
/usr/lib/python3/dist-packages/ceph/ and then stops searching.
Therefore, rename lib/ceph to lib/charms_ceph to avoid the conflict.

Depends-On: https://review.opendev.org/#/c/709226
Change-Id: I433537805ae56dc7a42e9d34ea6d491ffb4c79c0
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/44/709244/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'lib/ceph_helpers/utils.py', 'lib/ceph_helpers/__init__.py', 'lib/ceph_helpers/broker.py', 'lib/ceph_helpers/crush_utils.py']",5,93184f0c0530ab896045967b1fd20c1b7ded56a6,lib-ceph-rename,,,3,3
openstack%2Fopenstack-ansible-openstack_hosts~master~I5bf6fd95e6692d0e579a11e760e78b511c1b5393,openstack/openstack-ansible-openstack_hosts,master,I5bf6fd95e6692d0e579a11e760e78b511c1b5393,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:07:16.000000000,2020-02-26 08:42:44.000000000,2020-02-26 08:41:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:07:16.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/05b9d90b6ea980446693e9d1efe24d5e5ae21875', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I5bf6fd95e6692d0e579a11e760e78b511c1b5393\n'}]",0,709475,05b9d90b6ea980446693e9d1efe24d5e5ae21875,11,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I5bf6fd95e6692d0e579a11e760e78b511c1b5393
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/75/709475/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,05b9d90b6ea980446693e9d1efe24d5e5ae21875,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_blazar~master~Ibcbfd3dfc1dc043afd2d5ef7160db09341497e41,openstack/openstack-ansible-os_blazar,master,Ibcbfd3dfc1dc043afd2d5ef7160db09341497e41,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:08:31.000000000,2020-02-26 08:42:20.000000000,2020-02-26 08:40:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:08:31.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/e0e37be5c1fd76f65a0a19eed9501f22712c7e18', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ibcbfd3dfc1dc043afd2d5ef7160db09341497e41\n'}]",0,709481,e0e37be5c1fd76f65a0a19eed9501f22712c7e18,11,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ibcbfd3dfc1dc043afd2d5ef7160db09341497e41
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/81/709481/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e0e37be5c1fd76f65a0a19eed9501f22712c7e18,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fkolla~master~I56525cdc357e187ee6f3adae068a37cd013a9fce,openstack/kolla,master,I56525cdc357e187ee6f3adae068a37cd013a9fce,add Linaro repo with fixed libvirt,ABANDONED,2020-02-09 13:29:28.000000000,2020-02-26 08:23:25.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-02-09 13:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/05da56d3e6be182e25635fdb1ff238e7547ca8ac', 'message': 'add Linaro repo with fixed libvirt\n\nWe want to migrate Linaro Developer Cloud to train release. But this\nrequires fixing libvirt to work on ThunderX1 servers [1].\n\n1. https://bugs.linaro.org/show_bug.cgi?id=3778\n\nThis change adds repository to default ones and pin it in a way that\neverything other than libvirt is ignored.\n\nChange-Id: I56525cdc357e187ee6f3adae068a37cd013a9fce\n'}, {'number': 2, 'created': '2020-02-13 12:13:05.000000000', 'files': ['docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/75cda4e3d947d9009f465dc377fad906df7e9dde', 'message': 'add Linaro repo with fixed libvirt\n\nWe want to migrate Linaro Developer Cloud to train release. But this\nrequires fixing libvirt to work on ThunderX1 servers [1].\n\n1. https://bugs.linaro.org/show_bug.cgi?id=3778\n\nThis change adds repository to default ones and pin it in a way that\neverything other than libvirt is ignored.\n\nChange-Id: I56525cdc357e187ee6f3adae068a37cd013a9fce\n'}]",0,706705,75cda4e3d947d9009f465dc377fad906df7e9dde,13,4,2,24072,,,0,"add Linaro repo with fixed libvirt

We want to migrate Linaro Developer Cloud to train release. But this
requires fixing libvirt to work on ThunderX1 servers [1].

1. https://bugs.linaro.org/show_bug.cgi?id=3778

This change adds repository to default ones and pin it in a way that
everything other than libvirt is ignored.

Change-Id: I56525cdc357e187ee6f3adae068a37cd013a9fce
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/706705/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'docker/base/sources.list.debian']",3,05da56d3e6be182e25635fdb1ff238e7547ca8ac,linaro/add-repo-for-libvirt,# Linaro - fixed libvirt deb http://obs.linaro.org/home:/marcin.juszkiewicz/debian-buster ./ ,,14,0
openstack%2Fpython-tripleoclient~master~I33d5961518337a8d711e1de751cd4e1fc1a68f09,openstack/python-tripleoclient,master,I33d5961518337a8d711e1de751cd4e1fc1a68f09,"Don't use the delete_deployment_plan workflow, call the action directly",MERGED,2020-02-04 13:37:14.000000000,2020-02-26 08:20:20.000000000,2020-02-26 08:18:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-04 13:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e139da6fbf94e0554476a5b5658255ea1a665247', 'message': ""Don't use the delete_deployment_plan workflow, call the action directly\n\nThis workflow only uses one action, we can remove Mistral by calling it\ndirectly.\n\nChange-Id: I33d5961518337a8d711e1de751cd4e1fc1a68f09\n""}, {'number': 2, 'created': '2020-02-13 15:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a64471aadddb1eabd72e88bb6548df9f8e60afcc', 'message': ""Don't use the delete_deployment_plan workflow, call the action directly\n\nThis workflow only uses one action, we can remove Mistral by calling it\ndirectly.\n\nChange-Id: I33d5961518337a8d711e1de751cd4e1fc1a68f09\n""}, {'number': 3, 'created': '2020-02-14 13:43:03.000000000', 'files': ['tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5bcf139b30f18062520faf5b9596d551671f3650', 'message': ""Don't use the delete_deployment_plan workflow, call the action directly\n\nThis workflow only uses one action, we can remove Mistral by calling it\ndirectly.\n\nStory: 2007212\nTask: 38419\nChange-Id: I33d5961518337a8d711e1de751cd4e1fc1a68f09\n""}]",1,705678,5bcf139b30f18062520faf5b9596d551671f3650,33,6,3,9712,,,0,"Don't use the delete_deployment_plan workflow, call the action directly

This workflow only uses one action, we can remove Mistral by calling it
directly.

Story: 2007212
Task: 38419
Change-Id: I33d5961518337a8d711e1de751cd4e1fc1a68f09
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/78/705678/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/fakes.py']",4,e139da6fbf94e0554476a5b5658255ea1a665247,mistral_to_ansible, self.create_mistral_context = mock.Mock(),,9,31
openstack%2Fcharm-ceph-osd~master~I13ae7c048d8f1eef2ea64b13ae14b51dbfaaf3cd,openstack/charm-ceph-osd,master,I13ae7c048d8f1eef2ea64b13ae14b51dbfaaf3cd,Rename lib/ceph to lib/charms_ceph,MERGED,2020-02-21 21:15:53.000000000,2020-02-26 07:59:44.000000000,2020-02-26 07:35:28.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 21:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/16116fd0633613915f27b820ae36d54a7711dbb2', 'message': 'Rename lib/ceph to lib/ceph_helpers\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-osd/lib/ceph/. For example, with the current import of\nceph.utils in hooks/ceph_hooks.py, Python finds no utils.py in\n/usr/lib/python3/dist-packages/ceph/ and then stops searching.\nTherefore, rename lib/ceph to lib/ceph_helpers to avoid the conflict.\n\nDepends-On: https://review.opendev.org/#/c/709226\nChange-Id: I13ae7c048d8f1eef2ea64b13ae14b51dbfaaf3cd\n'}, {'number': 2, 'created': '2020-02-21 21:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/fc82fa9bb3080816e5a2bed3eb62e62e6aad5114', 'message': 'Rename lib/ceph to lib/ceph_helpers\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-osd/lib/ceph/. For example, with the current import of\nceph.utils in hooks/ceph_hooks.py, Python finds no utils.py in\n/usr/lib/python3/dist-packages/ceph/ and then stops searching.\nTherefore, rename lib/ceph to lib/ceph_helpers to avoid the conflict.\n\nDepends-On: https://review.opendev.org/#/c/709226\nChange-Id: I13ae7c048d8f1eef2ea64b13ae14b51dbfaaf3cd\n'}, {'number': 3, 'created': '2020-02-24 15:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/0002ba4c2a7df97c1174209bd51e2d18c71c50fd', 'message': 'Rename lib/ceph to lib/charms_ceph\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-osd/lib/ceph/. For example, with the current import of\nceph.utils in hooks/ceph_hooks.py, Python finds no utils.py in\n/usr/lib/python3/dist-packages/ceph/ and then stops searching.\nTherefore, rename lib/ceph to lib/charms_ceph to avoid the conflict.\n\nDepends-On: https://review.opendev.org/#/c/709226\nChange-Id: I13ae7c048d8f1eef2ea64b13ae14b51dbfaaf3cd\n'}, {'number': 4, 'created': '2020-02-24 15:21:43.000000000', 'files': ['hooks/utils.py', 'unit_tests/test_actions_list_disks.py', 'lib/charms_ceph/utils.py', 'actions/list_disks.py', 'unit_tests/test_tuning.py', 'actions/osd_in_out.py', 'actions/zap_disk.py', 'hooks/ceph_hooks.py', 'lib/charms_ceph/crush_utils.py', 'lib/charms_ceph/broker.py', 'unit_tests/test_actions_add_disk.py', 'actions/add_disk.py', 'lib/charms_ceph/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/fcfa499f11d1d0d36b9f07f30dc1745f28d41d5e', 'message': 'Rename lib/ceph to lib/charms_ceph\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-osd/lib/ceph/. For example, with the current import of\nceph.utils in hooks/ceph_hooks.py, Python finds no utils.py in\n/usr/lib/python3/dist-packages/ceph/ and then stops searching.\nTherefore, rename lib/ceph to lib/charms_ceph to avoid the conflict.\n\nDepends-On: https://review.opendev.org/#/c/709226\nChange-Id: I13ae7c048d8f1eef2ea64b13ae14b51dbfaaf3cd\n'}]",0,709240,fcfa499f11d1d0d36b9f07f30dc1745f28d41d5e,24,5,4,11805,,,0,"Rename lib/ceph to lib/charms_ceph

The new python3-ceph-common deb package (introduced in ceph octopus)
adds a new ceph directory (a parent package in python terms) in
/usr/lib/python3/dist-packages/ceph/. This results in a conflict with
charm-ceph-osd/lib/ceph/. For example, with the current import of
ceph.utils in hooks/ceph_hooks.py, Python finds no utils.py in
/usr/lib/python3/dist-packages/ceph/ and then stops searching.
Therefore, rename lib/ceph to lib/charms_ceph to avoid the conflict.

Depends-On: https://review.opendev.org/#/c/709226
Change-Id: I13ae7c048d8f1eef2ea64b13ae14b51dbfaaf3cd
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/40/709240/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/utils.py', 'unit_tests/test_actions_list_disks.py', 'lib/ceph_helpers/utils.py', 'lib/ceph_helpers/__init__.py', 'lib/ceph_helpers/broker.py', 'actions/list_disks.py', 'unit_tests/test_tuning.py', 'actions/osd_in_out.py', 'actions/zap_disk.py', 'hooks/ceph_hooks.py', 'unit_tests/test_actions_add_disk.py', 'actions/add_disk.py', 'lib/ceph_helpers/crush_utils.py']",13,16116fd0633613915f27b820ae36d54a7711dbb2,lib-ceph-rename,,,28,26
openstack%2Fpython-tripleoclient~master~I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c,openstack/python-tripleoclient,master,I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c,Local file based image uploader,MERGED,2019-11-13 02:03:25.000000000,2020-02-26 07:59:34.000000000,2020-02-26 07:57:45.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 8125}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-13 02:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f81558ee668df98e75c2ab74d95635f9312bc269', 'message': 'WIP begining of local file based uploader\n\nChange-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c\n'}, {'number': 2, 'created': '2019-11-14 02:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/605a0332109a007ea2dc08d2bd530feaec361251', 'message': 'WIP local file based image uploader\n\nFunctionally complete, needs unit tests\n\nBlueprint: nova-less-deploy\n\nChange-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c\n'}, {'number': 3, 'created': '2019-11-15 04:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ba73a4ee4be6e5c5790edf0cb0d32e8e6312db0d', 'message': 'Local file based image uploader\n\nThis change modifies the ""openstack overcloud image upload"" to add a\n--local argument which will copy the files to /var/lib/ironic/images\ninstead of uploading them to glance. /var/lib/ironic is chosen as it\nis bind-mounted into the ironic containers on the undercloud.\n\nThe on-disk layout is prefixed by the architecture (and optionally the\nplatform) for example:\n/var/lib/ironic/images/x86_64/overcloud-full.qcow2\n/var/lib/ironic/images/x86_64/overcloud-full.initrd\n/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz\n/var/lib/ironic/images/ppc64le/power9/overcloud-full.qcow2\n\nWhen glance is switched off this will become the default way of\npreparing image files for deployment.\n\nBlueprint: nova-less-deploy\n\nChange-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c\n'}, {'number': 4, 'created': '2019-11-15 04:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0327fb806420219fb95236ece2b7fe3546dd6182', 'message': 'Local file based image uploader\n\nThis change modifies the ""openstack overcloud image upload"" to add a\n--local argument which will copy the files to /var/lib/ironic/images\ninstead of uploading them to glance. /var/lib/ironic is chosen as it\nis bind-mounted into the ironic containers on the undercloud.\n\nThe on-disk layout is prefixed by the architecture (and optionally the\nplatform) for example:\n/var/lib/ironic/images/x86_64/overcloud-full.qcow2\n/var/lib/ironic/images/x86_64/overcloud-full.initrd\n/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz\n/var/lib/ironic/images/power9-ppc64le/overcloud-full.qcow2\n\nWhen glance is switched off this will become the default way of\npreparing image files for deployment.\n\nBlueprint: nova-less-deploy\n\nChange-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c\n'}, {'number': 5, 'created': '2020-01-20 20:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/50aa8f1e0f58c4099788d875e5d3fb7ac72ff002', 'message': 'Local file based image uploader\n\nThis change modifies the ""openstack overcloud image upload"" to add a\n--local argument which will copy the files to /var/lib/ironic/images\ninstead of uploading them to glance. /var/lib/ironic is chosen as it\nis bind-mounted into the ironic containers on the undercloud.\n\nThe on-disk layout is prefixed by the architecture (and optionally the\nplatform) for example:\n/var/lib/ironic/images/x86_64/overcloud-full.qcow2\n/var/lib/ironic/images/x86_64/overcloud-full.initrd\n/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz\n/var/lib/ironic/images/power9-ppc64le/overcloud-full.qcow2\n\nWhen glance is switched off this will become the default way of\npreparing image files for deployment.\n\nBlueprint: nova-less-deploy\n\nChange-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c\n'}, {'number': 6, 'created': '2020-01-21 21:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9abbb50120ced470c358b6dbcf0f50282de66972', 'message': 'Local file based image uploader\n\nThis change modifies the ""openstack overcloud image upload"" to add a\n--local argument which will copy the files to /var/lib/ironic/images\ninstead of uploading them to glance. /var/lib/ironic is chosen as it\nis bind-mounted into the ironic containers on the undercloud.\n\nThe on-disk layout is prefixed by the architecture (and optionally the\nplatform) for example:\n/var/lib/ironic/images/x86_64/overcloud-full.qcow2\n/var/lib/ironic/images/x86_64/overcloud-full.initrd\n/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz\n/var/lib/ironic/images/power9-ppc64le/overcloud-full.qcow2\n\nWhen glance is switched off this will become the default way of\npreparing image files for deployment.\n\nBlueprint: nova-less-deploy\n\nChange-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c\n'}, {'number': 7, 'created': '2020-01-22 00:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2edae6fd7cd840ad9af4a05aff358af805cc3f48', 'message': 'Local file based image uploader\n\nThis change modifies the ""openstack overcloud image upload"" to add a\n--local argument which will copy the files to /var/lib/ironic/images\ninstead of uploading them to glance. /var/lib/ironic is chosen as it\nis bind-mounted into the ironic containers on the undercloud.\n\nThe on-disk layout is prefixed by the architecture (and optionally the\nplatform) for example:\n/var/lib/ironic/images/x86_64/overcloud-full.qcow2\n/var/lib/ironic/images/x86_64/overcloud-full.initrd\n/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz\n/var/lib/ironic/images/power9-ppc64le/overcloud-full.qcow2\n\nWhen glance is switched off this will become the default way of\npreparing image files for deployment.\n\nBlueprint: nova-less-deploy\n\nChange-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c\n'}, {'number': 8, 'created': '2020-01-30 01:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7d45a679eb2f56a70124a3eed366b0e767d849ef', 'message': 'Local file based image uploader\n\nThis change modifies the ""openstack overcloud image upload"" to add a\n--local argument which will copy the files to /var/lib/ironic/images\ninstead of uploading them to glance. /var/lib/ironic is chosen as it\nis bind-mounted into the ironic containers on the undercloud.\n\nThe on-disk layout is prefixed by the architecture (and optionally the\nplatform) for example:\n/var/lib/ironic/images/x86_64/overcloud-full.qcow2\n/var/lib/ironic/images/x86_64/overcloud-full.initrd\n/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz\n/var/lib/ironic/images/power9-ppc64le/overcloud-full.qcow2\n\nWhen glance is switched off this will become the default way of\npreparing image files for deployment.\n\nBlueprint: nova-less-deploy\n\nChange-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c\n'}, {'number': 9, 'created': '2020-02-18 02:40:42.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5304c3432498ada824dc5f564f527aa360f21df8', 'message': 'Local file based image uploader\n\nThis change modifies the ""openstack overcloud image upload"" to add a\n--local argument which will copy the files to /var/lib/ironic/images\ninstead of uploading them to glance. /var/lib/ironic is chosen as it\nis bind-mounted into the ironic containers on the undercloud.\n\nThe on-disk layout is prefixed by the architecture (and optionally the\nplatform) for example:\n/var/lib/ironic/images/x86_64/overcloud-full.qcow2\n/var/lib/ironic/images/x86_64/overcloud-full.initrd\n/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz\n/var/lib/ironic/images/power9-ppc64le/overcloud-full.qcow2\n\nWhen glance is switched off this will become the default way of\npreparing image files for deployment.\n\nBlueprint: nova-less-deploy\n\nChange-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c\n'}]",1,693960,5304c3432498ada824dc5f564f527aa360f21df8,45,6,9,4571,,,0,"Local file based image uploader

This change modifies the ""openstack overcloud image upload"" to add a
--local argument which will copy the files to /var/lib/ironic/images
instead of uploading them to glance. /var/lib/ironic is chosen as it
is bind-mounted into the ironic containers on the undercloud.

The on-disk layout is prefixed by the architecture (and optionally the
platform) for example:
/var/lib/ironic/images/x86_64/overcloud-full.qcow2
/var/lib/ironic/images/x86_64/overcloud-full.initrd
/var/lib/ironic/images/x86_64/overcloud-full.vmlinuz
/var/lib/ironic/images/power9-ppc64le/overcloud-full.qcow2

When glance is switched off this will become the default way of
preparing image files for deployment.

Blueprint: nova-less-deploy

Change-Id: I4e1b8a7effca21b5aa054a78ddeaae7338ca9d2c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/60/693960/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/constants.py']",2,f81558ee668df98e75c2ab74d95635f9312bc269,glance-less-upload,IRONIC_LOCAL_IMAGE_PATH = '/var/lib/ironic/images',,39,7
openstack%2Fcharm-ceph-mon~master~Id5bdff991c1e6c196c09ba5a2241ebd5ebe6da91,openstack/charm-ceph-mon,master,Id5bdff991c1e6c196c09ba5a2241ebd5ebe6da91,Rename lib/ceph to lib/charms_ceph,MERGED,2020-02-21 21:15:55.000000000,2020-02-26 07:50:02.000000000,2020-02-26 07:26:56.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 21:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c4cb6d3ca7351fb6b37663ca07b8a6c9a8298bde', 'message': 'Rename lib/ceph to lib/ceph_helpers\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-osd/lib/ceph/. For example, with the current import of\nceph.utils in hooks/ceph_hooks.py, Python finds no utils.py in\n/usr/lib/python3/dist-packages/ceph/ and then stops searching.\nTherefore, rename lib/ceph to lib/ceph_helpers to avoid the conflict.\n\nDepends-On: https://review.opendev.org/#/c/709226\nChange-Id: Id5bdff991c1e6c196c09ba5a2241ebd5ebe6da91\n'}, {'number': 2, 'created': '2020-02-24 15:08:19.000000000', 'files': ['hooks/ceph_hooks.py', 'lib/charms_ceph/utils.py', 'lib/charms_ceph/crush_utils.py', 'actions/pool_set.py', 'actions/set_noout.py', 'unit_tests/test_ceph_ops.py', 'actions/unset_noout.py', 'lib/charms_ceph/broker.py', 'lib/charms_ceph/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/415b79512741c05b2903d44cf263a9bd63abfcdf', 'message': 'Rename lib/ceph to lib/charms_ceph\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-osd/lib/ceph/. For example, with the current import of\nceph.utils in hooks/ceph_hooks.py, Python finds no utils.py in\n/usr/lib/python3/dist-packages/ceph/ and then stops searching.\nTherefore, rename lib/ceph to lib/charms_ceph to avoid the conflict.\n\nDepends-On: https://review.opendev.org/#/c/709226\nChange-Id: Id5bdff991c1e6c196c09ba5a2241ebd5ebe6da91\n'}]",0,709241,415b79512741c05b2903d44cf263a9bd63abfcdf,21,5,2,11805,,,0,"Rename lib/ceph to lib/charms_ceph

The new python3-ceph-common deb package (introduced in ceph octopus)
adds a new ceph directory (a parent package in python terms) in
/usr/lib/python3/dist-packages/ceph/. This results in a conflict with
charm-ceph-osd/lib/ceph/. For example, with the current import of
ceph.utils in hooks/ceph_hooks.py, Python finds no utils.py in
/usr/lib/python3/dist-packages/ceph/ and then stops searching.
Therefore, rename lib/ceph to lib/charms_ceph to avoid the conflict.

Depends-On: https://review.opendev.org/#/c/709226
Change-Id: Id5bdff991c1e6c196c09ba5a2241ebd5ebe6da91
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/41/709241/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'lib/ceph_helpers/utils.py', 'actions/pool_set.py', 'lib/ceph_helpers/__init__.py', 'actions/set_noout.py', 'lib/ceph_helpers/broker.py', 'unit_tests/test_ceph_ops.py', 'actions/unset_noout.py', 'lib/ceph_helpers/crush_utils.py']",9,c4cb6d3ca7351fb6b37663ca07b8a6c9a8298bde,lib-ceph-rename,,,8,8
openstack%2Ftripleo-common~stable%2Ftrain~Ifb67ebebed55e2d883a1e94cb4627f55d3a7383e,openstack/tripleo-common,stable/train,Ifb67ebebed55e2d883a1e94cb4627f55d3a7383e,Bracket IPv6 address in ironic_inspector healthcheck,MERGED,2020-02-26 01:10:18.000000000,2020-02-26 07:27:36.000000000,2020-02-26 07:25:54.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-26 01:10:18.000000000', 'files': ['healthcheck/ironic-inspector', 'healthcheck/opendaylight-api', 'healthcheck/ironic-pxe', 'healthcheck/fluentd', 'healthcheck/memcached', 'healthcheck/swift-account-server', 'healthcheck/neutron-api', 'healthcheck/sahara-api', 'healthcheck/glance-api', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/tacker', 'healthcheck/swift-container-server', 'healthcheck/nova-vnc-proxy', 'healthcheck/swift-proxy'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a75de99d3dda44fbeebe71e76e58f91e81050d32', 'message': 'Bracket IPv6 address in ironic_inspector healthcheck\n\nWhen using an IPv6 provisioning address, the address must be\nbracketed for the ironic_inspector healthcheck.\n\nIn addition clean up other healthchecks to use this common\nfunction when an address is used.\n\nCloses-Bug: #1862845\nChange-Id: Ifb67ebebed55e2d883a1e94cb4627f55d3a7383e\n(cherry picked from commit 6c5f4796165ddd17aa7a4ddfb8dd0950e8cbb54f)\n'}]",0,709921,a75de99d3dda44fbeebe71e76e58f91e81050d32,8,3,1,21909,,,0,"Bracket IPv6 address in ironic_inspector healthcheck

When using an IPv6 provisioning address, the address must be
bracketed for the ironic_inspector healthcheck.

In addition clean up other healthchecks to use this common
function when an address is used.

Closes-Bug: #1862845
Change-Id: Ifb67ebebed55e2d883a1e94cb4627f55d3a7383e
(cherry picked from commit 6c5f4796165ddd17aa7a4ddfb8dd0950e8cbb54f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/21/709921/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/ironic-inspector', 'healthcheck/opendaylight-api', 'healthcheck/ironic-pxe', 'healthcheck/fluentd', 'healthcheck/memcached', 'healthcheck/swift-account-server', 'healthcheck/neutron-api', 'healthcheck/sahara-api', 'healthcheck/glance-api', 'healthcheck/common.sh', 'healthcheck/swift-object-server', 'healthcheck/tacker', 'healthcheck/swift-container-server', 'healthcheck/nova-vnc-proxy', 'healthcheck/swift-proxy']",15,a75de99d3dda44fbeebe71e76e58f91e81050d32,inspector_healthcheck-stable/train, bind_host=$(wrap_ipv6 $(get_config_val $conf DEFAULT bind_ip 127.0.0.1))," bind_host=$(get_config_val $conf DEFAULT bind_ip 127.0.0.1) # Add brackets if IPv6 if [[ $bind_host =~ "":"" ]]; then bind_host=""[${bind_host}]"" fi",26,62
openstack%2Ftrove~master~Ib52e091417eeb37607c600ac7389cfe41be4e23c,openstack/trove,master,Ib52e091417eeb37607c600ac7389cfe41be4e23c,[Community goal] Add contributor and PTL guide,MERGED,2020-02-26 03:24:09.000000000,2020-02-26 07:06:58.000000000,2020-02-26 07:05:12.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 03:24:09.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/6f1a351f04924f603a7bdaa5cd6d2ea0554bd67f', 'message': '[Community goal] Add contributor and PTL guide\n\nChange-Id: Ib52e091417eeb37607c600ac7389cfe41be4e23c\nStory: #2007236\nTask: #38568\n'}]",0,709945,6f1a351f04924f603a7bdaa5cd6d2ea0554bd67f,7,2,1,6732,,,0,"[Community goal] Add contributor and PTL guide

Change-Id: Ib52e091417eeb37607c600ac7389cfe41be4e23c
Story: #2007236
Task: #38568
",git fetch https://review.opendev.org/openstack/trove refs/changes/45/709945/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'doc/source/contributor/index.rst']",2,6f1a351f04924f603a7bdaa5cd6d2ea0554bd67f,project-ptl-and-contrib-docs, contributing,,85,0
openstack%2Fqinling~master~I1d37aa87e7d09d2a45bfbeaac9a564771989f88d,openstack/qinling,master,I1d37aa87e7d09d2a45bfbeaac9a564771989f88d,[Community goal] Add contributor and PTL guide,MERGED,2020-02-26 03:31:52.000000000,2020-02-26 07:05:54.000000000,2020-02-26 07:04:13.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 03:31:52.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/a6f957714176ebac336028b62380f227625d7ca6', 'message': '[Community goal] Add contributor and PTL guide\n\nChange-Id: I1d37aa87e7d09d2a45bfbeaac9a564771989f88d\nStory: #2007236\nTask: #38553\n'}]",0,709949,a6f957714176ebac336028b62380f227625d7ca6,7,2,1,6732,,,0,"[Community goal] Add contributor and PTL guide

Change-Id: I1d37aa87e7d09d2a45bfbeaac9a564771989f88d
Story: #2007236
Task: #38553
",git fetch https://review.opendev.org/openstack/qinling refs/changes/49/709949/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'doc/source/contributor/index.rst']",2,a6f957714176ebac336028b62380f227625d7ca6,project-ptl-and-contrib-docs, contributing, contributing,80,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I140aa8e44134130d03f6670a9314783288396dde,openstack/tripleo-heat-templates,stable/train,I140aa8e44134130d03f6670a9314783288396dde,Fix krb-service-principals with service_net_map_replace,MERGED,2020-02-24 19:41:32.000000000,2020-02-26 07:01:32.000000000,2020-02-26 06:59:43.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-02-24 19:41:32.000000000', 'files': ['releasenotes/notes/fix-krb-service-principals-with-service-net-map-replace-463dd1296766cc47.yaml', 'extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a95fc76f277ee83cc26bd7af06998407098578ef', 'message': 'Fix krb-service-principals with service_net_map_replace\n\nThe CloudNameStorageManagement property was used for almost all\nnetworks when service_net_map_replace is defined. This should\nnot be hardcoded to StorageManagement, it needs to be replaced\nby {{network.name}}.\n\nCloses-Bug: #1862679\nChange-Id: I140aa8e44134130d03f6670a9314783288396dde\n(cherry picked from commit 0af021bc5f6bffc595d04529b3e87be4af58249d)\n'}]",0,709599,a95fc76f277ee83cc26bd7af06998407098578ef,13,5,1,21909,,,0,"Fix krb-service-principals with service_net_map_replace

The CloudNameStorageManagement property was used for almost all
networks when service_net_map_replace is defined. This should
not be hardcoded to StorageManagement, it needs to be replaced
by {{network.name}}.

Closes-Bug: #1862679
Change-Id: I140aa8e44134130d03f6670a9314783288396dde
(cherry picked from commit 0af021bc5f6bffc595d04529b3e87be4af58249d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/709599/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-krb-service-principals-with-service-net-map-replace-463dd1296766cc47.yaml', 'extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml']",2,a95fc76f277ee83cc26bd7af06998407098578ef,bug/1862679-stable/train, {{network.service_net_map_replace}}: {get_param: CloudName{{network.name}}}, {{network.service_net_map_replace}}: {get_param: CloudNameStorageManagement},7,1
openstack%2Fdevstack~master~I0981a612c5671a20b67abcd04f364d71c777a8da,openstack/devstack,master,I0981a612c5671a20b67abcd04f364d71c777a8da,[test] add UEFI ARM64 support,ABANDONED,2020-02-21 04:40:07.000000000,2020-02-26 06:20:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-21 04:40:07.000000000', 'files': ['lib/nova_plugins/functions-libvirt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b3a61c648eda255913804b16e30bd9915cdf510f', 'message': '[test] add UEFI ARM64 support\n\nChange-Id: I0981a612c5671a20b67abcd04f364d71c777a8da\n'}]",0,709046,b3a61c648eda255913804b16e30bd9915cdf510f,3,1,1,12404,,,0,"[test] add UEFI ARM64 support

Change-Id: I0981a612c5671a20b67abcd04f364d71c777a8da
",git fetch https://review.opendev.org/openstack/devstack refs/changes/46/709046/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova_plugins/functions-libvirt', '.zuul.yaml']",2,b3a61c648eda255913804b16e30bd9915cdf510f,arm64,," templates: - integrated-gate-py3 - publish-openstack-docs-pti check: jobs: - devstack - devstack-ipv6 - devstack-platform-opensuse-15 - devstack-platform-fedora-latest - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false - swift-dsvm-functional: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - grenade-py3: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-tempest-linuxbridge: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-multinode-full: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ # NOTE(gmann): Remove this job from devstack pipeline once it is # migrated to zuulv3 native. This is legacy job and rely on # devstack-gate + devstack setting so any change in devstack can # break it. - nova-live-migration: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ gate: jobs: - devstack - devstack-ipv6 - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - neutron-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-tempest-linuxbridge: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - grenade-py3: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ # Please add a note on each job and conditions for the job not # being experimental any more, so we can keep this list somewhat # pruned. # # * nova-next: maintained by nova for unreleased/undefaulted # things # * neutron-fullstack-with-uwsgi: maintained by neutron for fullstack test # when neutron-api is served by uwsgi, it's in exprimental for testing. # the next cycle we can remove this job if things turn out to be # stable enough. # * neutron-functional-with-uwsgi: maintained by neutron for functional # test. Next cycle we can remove this one if things turn out to be # stable engouh with uwsgi. # * neutron-tempest-with-uwsgi: maintained by neutron for tempest test. # Next cycle we can remove this if everything run out stable enough. # * nova-multi-cell: maintained by nova and currently non-voting in the # check queue for nova changes but relies on devstack configuration experimental: jobs: - nova-multi-cell - nova-next - neutron-fullstack-with-uwsgi - neutron-functional-with-uwsgi - neutron-tempest-with-uwsgi - devstack-plugin-ceph-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - devstack-plugin-ceph-tempest-py3: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-tempest-dvr: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-tempest-dvr-ha-multinode-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - legacy-tempest-dsvm-lvm-multibackend: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-pg-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$",2,135
openstack%2Fopenstack-manuals~master~If26b8b7068242bd613d5efe2937ac6537285d0e0,openstack/openstack-manuals,master,If26b8b7068242bd613d5efe2937ac6537285d0e0,Link to system-config-404-checker job,MERGED,2020-02-26 04:58:40.000000000,2020-02-26 06:12:04.000000000,2020-02-26 05:47:49.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 04:58:40.000000000', 'files': ['doc/doc-contrib-guide/source/doc-tools/template-generator.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/43ea9a92808e9c6ac43b268b574738ab901fac63', 'message': 'Link to system-config-404-checker job\n\nThis is a replacement for the 404 listing removed in\nI2d53a4ea281717ba864b8cf699ec503998297f4e.\n\nChange-Id: If26b8b7068242bd613d5efe2937ac6537285d0e0\n'}]",0,709952,43ea9a92808e9c6ac43b268b574738ab901fac63,7,2,1,7118,,,0,"Link to system-config-404-checker job

This is a replacement for the 404 listing removed in
I2d53a4ea281717ba864b8cf699ec503998297f4e.

Change-Id: If26b8b7068242bd613d5efe2937ac6537285d0e0
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/52/709952/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/doc-contrib-guide/source/doc-tools/template-generator.rst'],1,43ea9a92808e9c6ac43b268b574738ab901fac63,remove-404-link,* ``redirect-tests.txt`` -- input file for `whereto <https://docs.openstack.org/whereto/>`_ to test ``.htaccess``. To see recent 404 errors check the output of the `system-config-static-404-checker <http://zuul.openstack.org/builds?job_name=system-config-static-404-checker>`__ job.,* ``redirect-tests.txt`` -- input file for `whereto <https://docs.openstack.org/whereto/>`_ to test ``.htaccess``.,6,2
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ia2212b1bd197a2930d435071c60b9aae0684d882,openstack/python-tripleoclient,stable/train,Ia2212b1bd197a2930d435071c60b9aae0684d882,Allow import to specify image location ipxe=false,MERGED,2020-02-13 02:18:02.000000000,2020-02-26 05:59:19.000000000,2020-02-26 05:57:57.000000000,"[{'_account_id': 3153}, {'_account_id': 8125}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-13 02:18:02.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5e09e8272ccd749eef0cbf864b290e0744a9b1a1', 'message': ""Allow import to specify image location ipxe=false\n\nWhen performing a 'openstack overcloud node import', we ignore the\n--http-boot param as the path should be fixed for the general case\nwhen iPXE is enabled.\n\nHowever when deploying on ppc64le, we can't use iPXE, meaning we\nneed to be able to specify the image location.  This change allows\nhttp_boot to be used if provided, but defaults to the most likely\ncase if it isn't.\n\nChange-Id: Ia2212b1bd197a2930d435071c60b9aae0684d882\n(cherry picked from commit 4e9c5bf73dfb917168650eb096516608e5dcc346)\n""}]",0,707518,5e09e8272ccd749eef0cbf864b290e0744a9b1a1,24,6,1,8125,,,0,"Allow import to specify image location ipxe=false

When performing a 'openstack overcloud node import', we ignore the
--http-boot param as the path should be fixed for the general case
when iPXE is enabled.

However when deploying on ppc64le, we can't use iPXE, meaning we
need to be able to specify the image location.  This change allows
http_boot to be used if provided, but defaults to the most likely
case if it isn't.

Change-Id: Ia2212b1bd197a2930d435071c60b9aae0684d882
(cherry picked from commit 4e9c5bf73dfb917168650eb096516608e5dcc346)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/18/707518/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,5e09e8272ccd749eef0cbf864b290e0744a9b1a1,," deploy_kernel and deploy_ramdisk for the architecture/platform combination. http_boot, http_boot,"," deploy_kernel and deploy_ramdisk for the architecture/platform comination platform. # NOTE(dtantsur): we don't use http_boot here since we # assume that the path in containers is fixed constants.IRONIC_HTTP_BOOT_BIND_MOUNT, constants.IRONIC_HTTP_BOOT_BIND_MOUNT,",3,6
openstack%2Fheat~stable%2Fstein~I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71,openstack/heat,stable/stein,I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71,Update Fedora image ref and add UPPER_CONSTRAINTS_FILE,MERGED,2020-02-23 02:48:25.000000000,2020-02-26 05:17:47.000000000,2020-02-26 05:15:54.000000000,"[{'_account_id': 4257}, {'_account_id': 8556}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-23 02:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/52c988347184eecfeff5905b1a5ee5a3c065965e', 'message': 'Update Fedora image ref for test jobs\n\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nChange-Id: I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71\n'}, {'number': 2, 'created': '2020-02-23 03:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7713eac8894d9ee40a54d7b69a91ada2e7e8a86d', 'message': 'Update Fedora image ref for test jobs\n\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nChange-Id: I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71\n'}, {'number': 3, 'created': '2020-02-23 05:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5f197d3af1af7fbd66532c7239611f5461ef70e1', 'message': 'Update Fedora image ref and add UPPER_CONSTRAINTS_FILE\n\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nAlso add UPPER_CONSTRAINTS_FILE as we also run grenade against rocky.\n\nChange-Id: I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71\n'}, {'number': 4, 'created': '2020-02-25 03:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dad64042cc064014ad912509b888a23f29ccc55a', 'message': 'Update Fedora image ref and add UPPER_CONSTRAINTS_FILE\n\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirror.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nAlso add UPPER_CONSTRAINTS_FILE as we also run grenade against rocky.\n\nChange-Id: I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71\n'}, {'number': 5, 'created': '2020-02-26 02:00:53.000000000', 'files': ['heat_integrationtests/pre_test_hook.sh', 'heat_integrationtests/cleanup_test_env.sh', 'devstack/upgrade/resources.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/73663f67384b8966eb1511bf1eb5f019e9619aed', 'message': 'Update Fedora image ref and add UPPER_CONSTRAINTS_FILE\n\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirror.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nAlso add UPPER_CONSTRAINTS_FILE as we also run grenade against rocky.\n\nChange-Id: I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71\n'}]",11,709335,73663f67384b8966eb1511bf1eb5f019e9619aed,28,5,5,12404,,,0,"Update Fedora image ref and add UPPER_CONSTRAINTS_FILE

Fedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirror.
Update to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.

Also add UPPER_CONSTRAINTS_FILE as we also run grenade against rocky.

Change-Id: I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71
",git fetch https://review.opendev.org/openstack/heat refs/changes/35/709335/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/pre_test_hook.sh', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",3,52c988347184eecfeff5905b1a5ee5a3c065965e,fix-stable-gate, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-30-1.2.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-29-1.2.x86_64,4,4
openstack%2Foctavia-tempest-plugin~master~I1e497b75672753ed0e7acf482bc0e4a6138d3437,openstack/octavia-tempest-plugin,master,I1e497b75672753ed0e7acf482bc0e4a6138d3437,Add UDP test scenario,MERGED,2019-04-30 13:28:26.000000000,2020-02-26 05:15:00.000000000,2020-02-26 05:13:29.000000000,"[{'_account_id': 1131}, {'_account_id': 4727}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 18894}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 30042}, {'_account_id': 30776}]","[{'number': 1, 'created': '2019-04-30 13:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/df6c762216def3626ebbfdb7aad3bce1ead45013', 'message': 'WIP Add UDP test scenario\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 2, 'created': '2019-05-02 13:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/991ab28c9c380be9c1f5e1078fbe486aeb20db4a', 'message': 'WIP Add UDP test scenario\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 3, 'created': '2019-05-02 14:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/755448ab88fda47801c4c983c770034594881b41', 'message': 'WIP Add UDP test scenario\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 4, 'created': '2019-05-03 06:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f5f3e079786bea28ee6df9125dceab27a52dcaf1', 'message': 'WIP Add UDP test scenario\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 5, 'created': '2019-05-03 15:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/49f2f8c8b8becd4225cdb52dce4fdfe3d6bad401', 'message': 'WIP Add UDP test scenario\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 6, 'created': '2019-05-04 16:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/36de028bafee7ae146cf2c01a5556296f0de89d1', 'message': 'WIP Add UDP test scenario\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 7, 'created': '2019-05-06 08:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b7ecbd755fc1d4eeee999c332b74f1daecb89f9f', 'message': 'WIP Add UDP test scenario\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 8, 'created': '2019-05-09 06:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b1957dfd7d54385bf21597d02c60c3ec0f311f2e', 'message': 'Add UDP test scenario\n\nAdd UDP tests based on test_traffic_ops tests:\n- test_healthmonitor_traffic\n- test_basic_traffic\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 9, 'created': '2019-05-29 12:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f36add6b54dea37b3cad68c882ef1e9451d93ef9', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 10, 'created': '2019-05-29 16:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e6240278a785ee2ee60f62e97d93e22a59b69d45', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 11, 'created': '2019-05-31 06:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3e05e7e76e803052ff8adacfd601872367e6c6e9', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 12, 'created': '2019-05-31 09:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1030889b7c2b02210bc2ca3e8ed2ece84c54e621', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 13, 'created': '2019-06-28 07:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cc69ee4a3d09bad7069af9c22f12270b97b05156', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 14, 'created': '2019-06-28 16:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/53ee70500a409addb9df7ce792a9cd0e249e9752', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 15, 'created': '2019-07-02 07:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1e243196542d6ea7b984bd4e539ee0d4995561ee', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 16, 'created': '2019-07-02 13:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5aaea5fdc4d97d0f8e2cfdd9e6a61853511a2061', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 17, 'created': '2019-07-03 07:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7916cfb8b0a65e2d99f5442acbe5775d22da57cd', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 18, 'created': '2019-07-16 12:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bb7404a599b05d0bb7451f828290d8a665edc719', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 19, 'created': '2019-07-22 11:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/443b99622f164f1db9948e2f967308828ddff1d9', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 20, 'created': '2019-07-22 14:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d6fb54d330c5f38470ef3f9998bbcd714a311f69', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 21, 'created': '2019-08-08 11:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8ecc4c88f64075aa789108b20f2263116029fa67', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 22, 'created': '2019-08-08 12:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f8fc38b5b74ee115be95a6ce952dce6c78f82d00', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nDepends-On: https://review.opendev.org/#/c/661310/\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 23, 'created': '2019-09-16 10:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/139ef42d10a95cd714d0e7d3852520ada33c766c', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 24, 'created': '2019-09-17 10:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/23b5be0db896b7e4ec96ca5cc8286b3e85dfebfc', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 25, 'created': '2019-09-27 06:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/413743460ad9421aeb8af6988ff93ed723305022', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 26, 'created': '2019-10-02 11:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d8369dff1394ec84c1ca0b979b31e2eeb71c72be', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 27, 'created': '2019-10-10 15:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/08f10cc79cd3948026e93e3a69a6aefcf7e44b67', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 28, 'created': '2019-11-20 13:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d5b63c15bcd507ea0ee192a4f8f3acdc8d277cb9', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 29, 'created': '2019-11-20 16:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3e5adb8e4dc388cc23414e16f1642618a0ddf275', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 30, 'created': '2019-11-21 08:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f960f43517496b3d3e826f1ba6576e92c7f4c74a', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 31, 'created': '2019-11-22 15:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4ef4ac0c51d0618ea1436c73cad8acf5fdcd0768', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 32, 'created': '2019-11-24 08:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/fd2fb39f0d3989d4b65853f36ee0d259af7794eb', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 33, 'created': '2019-11-28 08:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/30348d02422ab9913cfa7c457ad10ffb956058fc', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 34, 'created': '2019-12-02 10:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cc938e1a1b0f4245f9dc3f3ead8b4eaa2a985b13', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 35, 'created': '2020-01-02 16:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0ba7affd6e411eb6d19f7511721936f3b845572d', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 36, 'created': '2020-01-20 13:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cb59d6482aefc6acccd950aa21126275ac858290', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}, {'number': 37, 'created': '2020-01-24 09:28:55.000000000', 'files': ['octavia_tempest_plugin/contrib/test_server/__init__.py', 'octavia_tempest_plugin/contrib/test_server/test_server.go', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/contrib/test_server/README.rst', 'octavia_tempest_plugin/contrib/httpd/httpd.bin', 'releasenotes/notes/add-udp-test-scenario-cdd131d1ef7bf8e9.yaml', 'octavia_tempest_plugin/contrib/httpd/README.md', 'octavia_tempest_plugin/tests/scenario/v2/test_ipv6_traffic_ops.py', 'octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/contrib/test_server/test_server.bin', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/scenario/v2/test_member.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/29d179016a2c2299d1c20c4ae69cb719e0f34b4f', 'message': 'Add UDP test scenario\n\nUpdate test_healthmonitor_traffic & test_basic_traffic tests\nto support UDP traffic in test_traffic_ops\nAdd simple UDP test in test_ipv6_traffic_ops\n\nAdd a UDP test server, merged with the existing HTTP test server.\n\nChange-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437\n'}]",42,656515,29d179016a2c2299d1c20c4ae69cb719e0f34b4f,146,12,37,29244,,,0,"Add UDP test scenario

Update test_healthmonitor_traffic & test_basic_traffic tests
to support UDP traffic in test_traffic_ops
Add simple UDP test in test_ipv6_traffic_ops

Add a UDP test server, merged with the existing HTTP test server.

Change-Id: I1e497b75672753ed0e7acf482bc0e4a6138d3437
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/15/656515/36 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/contrib/udp_server/udp_server.go', 'octavia_tempest_plugin/contrib/udp_server/__init__.py', 'octavia_tempest_plugin/contrib/udp_server/README.md']",6,df6c762216def3626ebbfdb7aad3bce1ead45013,udp_tests,"To build a statically linked binary for udp_server on Ubuntu (can run anywhere): ```sh sudo apt-get install -y golang go build -ldflags ""-s -w -linkmode external -extldflags -static"" -o udp_server.bin udp_server.go ``` ",,122,22
openstack%2Fsenlin~master~I48edf6859b2179fe4605dbe8249b0a556e5c5bde,openstack/senlin,master,I48edf6859b2179fe4605dbe8249b0a556e5c5bde,Remove unnecessary exception handling in api entry,MERGED,2020-02-16 08:16:07.000000000,2020-02-26 05:12:00.000000000,2020-02-26 05:10:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2020-02-16 08:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/b46805be1fc1803919c8d1ef8453800621a263e3', 'message': 'Remove unnecessary exception handling in api entry\n\nChange-Id: I48edf6859b2179fe4605dbe8249b0a556e5c5bde\n'}, {'number': 2, 'created': '2020-02-23 23:30:40.000000000', 'files': ['senlin/cmd/api.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/d0e814a491d0d399988048b321c5c5665a925a85', 'message': 'Remove unnecessary exception handling in api entry\n\nThis is to make the code consistent with similar implementations,\nand removes this handling as it is uncessary and can in cases\neven hide issues.\n\nChange-Id: I48edf6859b2179fe4605dbe8249b0a556e5c5bde\n'}]",0,708010,d0e814a491d0d399988048b321c5c5665a925a85,12,3,2,22623,,,0,"Remove unnecessary exception handling in api entry

This is to make the code consistent with similar implementations,
and removes this handling as it is uncessary and can in cases
even hide issues.

Change-Id: I48edf6859b2179fe4605dbe8249b0a556e5c5bde
",git fetch https://review.opendev.org/openstack/senlin refs/changes/10/708010/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/cmd/api.py'],1,b46805be1fc1803919c8d1ef8453800621a263e3,," config.parse_args(sys.argv, 'senlin-api') logging.setup(CONF, 'senlin-api') gmr.TextGuruMeditation.setup_autorun(version) objects.register_all() messaging.setup() app = wsgi.load_paste_app() host = CONF.senlin_api.bind_host port = CONF.senlin_api.bind_port LOG.info('Starting Senlin API on %(host)s:%(port)s', {'host': host, 'port': port}) profiler.setup('senlin-api', host) server = wsgi.Server('senlin-api', CONF.senlin_api) server.start(app, default_port=port) systemd.notify_once() server.wait()"," try: config.parse_args(sys.argv, 'senlin-api') logging.setup(CONF, 'senlin-api') gmr.TextGuruMeditation.setup_autorun(version) objects.register_all() messaging.setup() app = wsgi.load_paste_app() host = CONF.senlin_api.bind_host port = CONF.senlin_api.bind_port LOG.info('Starting Senlin API on %(host)s:%(port)s', {'host': host, 'port': port}) profiler.setup('senlin-api', host) server = wsgi.Server('senlin-api', CONF.senlin_api) server.start(app, default_port=port) systemd.notify_once() server.wait() except RuntimeError as ex: sys.exit(""ERROR: %s"" % str(ex))",15,18
openstack%2Foctavia-tempest-plugin~master~Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc,openstack/octavia-tempest-plugin,master,Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc,Add tests for mixed IP networks UDP members,MERGED,2019-07-02 07:17:03.000000000,2020-02-26 05:09:46.000000000,2020-02-26 05:08:26.000000000,"[{'_account_id': 1131}, {'_account_id': 4727}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 18746}, {'_account_id': 18894}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 30042}, {'_account_id': 30776}]","[{'number': 1, 'created': '2019-07-02 07:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2972f40fdbba5a329eb9038cc96492919597cdf6', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 2, 'created': '2019-07-02 13:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4d7fcfcaf283cbe64067431d533085dcd9c37ba2', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 3, 'created': '2019-07-03 07:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1ed7c1e3a4435676f68bb1086c4c41da284c2399', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nDepends-On: https://review.opendev.org/#/c/668617/\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 4, 'created': '2019-07-22 11:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/28ac67691c04dd15e81991be2681835a25a0350a', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nDepends-On: https://review.opendev.org/#/c/668617/\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 5, 'created': '2019-07-22 14:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a4f98fd8ad591f79c91de3529180924241e0609c', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nDepends-On: https://review.opendev.org/#/c/668617/\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 6, 'created': '2019-08-08 11:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d03000cad1060ded8c79c4957cf8399078b7b6d1', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nDepends-On: https://review.opendev.org/#/c/668617/\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 7, 'created': '2019-08-08 12:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ac3d9aafd66ea0f723b89cd55844ddd8b2dec79b', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nDepends-On: https://review.opendev.org/#/c/668617/\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 8, 'created': '2019-09-16 10:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/fbff49a90565a0c16f0079bd258132265dbb6191', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 9, 'created': '2019-09-17 10:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/25573ee6831bac74e700bf9817519e6e1c370f36', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 10, 'created': '2019-09-27 06:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/53aa346a5a83d28084565f7e8b975c1b8fb9c657', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 11, 'created': '2019-10-02 11:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/07525906cde9d8a587f425264eaca83ba9ee89ee', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 12, 'created': '2019-11-20 13:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0a5ea12553848a0e8cea196ac94be71c9bfd8b51', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 13, 'created': '2019-11-21 08:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5d65ce52897fbfe114b675b89f7ce966a5fb4d6d', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 14, 'created': '2019-11-21 10:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1fec794281e9f89d5b627eeb5c774cb3f62726aa', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 15, 'created': '2019-11-21 13:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a1f4f688a6b44ed5b7846a5a2652c449138fd800', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 16, 'created': '2019-11-28 08:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ed505babe543f64a7f322713a9c72032ae53c625', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 17, 'created': '2019-12-02 10:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/899e0220bd67947337b9aa8ca5f7d89af62cfa10', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 18, 'created': '2020-01-02 16:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/89fca939fcfd9db5fce72e2552f00eb699a93b9b', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 19, 'created': '2020-01-20 13:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/da9154c201f26d489b2d1c7613120a7075054ca0', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}, {'number': 20, 'created': '2020-01-24 09:28:55.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_member.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2c597779101da3ed8ddee9650177bc58620a9cee', 'message': 'Add tests for mixed IP networks UDP members\n\nAdded api tests (specific to the amphora driver) that ensure that:\n- User cannot add member with a different IP protocol version than the\n  VIP IP protocol version in UDP load balancers.\n- User can add member with a different IP protocol in non-UDP load\n  balancers.\n\nStory: 2005876\nTask: 34779\n\nChange-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc\n'}]",33,668619,2c597779101da3ed8ddee9650177bc58620a9cee,66,12,20,29244,,,0,"Add tests for mixed IP networks UDP members

Added api tests (specific to the amphora driver) that ensure that:
- User cannot add member with a different IP protocol version than the
  VIP IP protocol version in UDP load balancers.
- User can add member with a different IP protocol in non-UDP load
  balancers.

Story: 2005876
Task: 34779

Change-Id: Ia79d85b4566c2d2ef102a3381e6e3cc8d5328ebc
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/19/668619/11 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/api/v2/test_member.py'],1,2972f40fdbba5a329eb9038cc96492919597cdf6,udp_tests,"class MemberAPIBaseTest(test_base.LoadBalancerBaseTest): def resource_setup(cls, ip_version=None, protocol=None): super(MemberAPIBaseTest, cls).resource_setup() cls._setup_lb_network_kwargs(lb_kwargs, ip_version=ip_version) if protocol is None: cls.protocol = const.HTTP lb_feature_enabled = CONF.loadbalancer_feature_enabled if not lb_feature_enabled.l7_protocol_enabled: cls.protocol = lb_feature_enabled.l4_protocol else: cls.protocol = protocol class MemberAPITest(MemberAPIBaseTest): """"""Test the member object API."""""" @classmethod def resource_setup(cls): """"""Setup resources needed by the tests."""""" super(MemberAPITest, cls).resource_setup() class MixedUDPIPv4VIPIPv6MemberAPITest(MemberAPIBaseTest): """"""Test the member object API with mixed IP protocol members/VIP. Use the member object API when mixing IPv6 members with IPv4 VIP in UDP load balancers. """""" @classmethod def resource_setup(cls): """"""Setup resources needed by the tests."""""" super(MixedUDPIPv4VIPIPv6MemberAPITest, cls).resource_setup( ip_version=4, protocol=const.UDP) @decorators.idempotent_id('0623aa1f-753d-44e7-afa1-017d274eace7') def test_member_ipv6_create(self): """"""Tests member create API in mixed IP protocol load balancer. * Creates an IPv6 member on an IPv4 UDP load balancer. * Check that an exception is thrown. """""" member_address = '2001:db8:0:0:0:0:0:1' member_name = data_utils.rand_name(""lb_member_member1-create"") member_kwargs = { const.NAME: member_name, const.ADMIN_STATE_UP: True, const.POOL_ID: self.pool_id, const.ADDRESS: member_address, const.PROTOCOL_PORT: 80, const.WEIGHT: 50, } if self.lb_member_vip_ipv6_subnet: member_kwargs[const.SUBNET_ID] = self.lb_member_vip_ipv6_subnet[ const.ID] self.assertRaises( exceptions.NotImplemented, self.mem_member_client.create_member, **member_kwargs) class MixedUDPIPv6VIPIPv4MemberAPITest(MemberAPIBaseTest): """"""Test the member object API with mixed IP protocol members/VIP. Use the member object API when mixing IPv4 members with IPv6 VIP in UDP load balancers. """""" @classmethod def resource_setup(cls): """"""Setup resources needed by the tests."""""" super(MixedUDPIPv6VIPIPv4MemberAPITest, cls).resource_setup( ip_version=6, protocol=const.UDP) @decorators.idempotent_id('cd914dd4-9d1b-4001-9810-368f41a6de71') def test_member_ipv4_create(self): """"""Tests member create API in mixed IP protocol load balancer. * Creates an IPv4 member on an IPv6 UDP load balancer. * Check that an exception is thrown. """""" member_address = '192.0.2.1' member_name = data_utils.rand_name(""lb_member_member1-create"") member_kwargs = { const.NAME: member_name, const.ADMIN_STATE_UP: True, const.POOL_ID: self.pool_id, const.ADDRESS: member_address, const.PROTOCOL_PORT: 80, const.WEIGHT: 50, } if self.lb_member_vip_subnet: member_kwargs[const.SUBNET_ID] = self.lb_member_vip_subnet[ const.ID] self.assertRaises( exceptions.NotImplemented, self.mem_member_client.create_member, **member_kwargs) class MixedHTTPIPv4VIPIPv6MemberAPITest(MemberAPIBaseTest): """"""Test the member object API with mixed IP protocol members/VIP. Use the member object API when mixing IPv6 members with IPv4 VIP in HTTP load balancers. """""" @classmethod def resource_setup(cls): """"""Setup resources needed by the tests."""""" super(MixedHTTPIPv4VIPIPv6MemberAPITest, cls).resource_setup( ip_version=4, protocol=const.HTTP) @decorators.idempotent_id('0c257cf2-faf7-4c15-868e-75c602025cba') def test_member_ipv6_create(self): """"""Tests member create API in mixed IP protocol load balancer. * Creates an IPv6 member on an IPv4 HTTP load balancer. * Check that the member has been successfully created. """""" member_address = '2001:db8:0:0:0:0:0:1' member_name = data_utils.rand_name(""lb_member_member1-create"") member_kwargs = { const.NAME: member_name, const.ADMIN_STATE_UP: True, const.POOL_ID: self.pool_id, const.ADDRESS: member_address, const.PROTOCOL_PORT: 80, const.WEIGHT: 50, } if self.lb_member_vip_ipv6_subnet: member_kwargs[const.SUBNET_ID] = self.lb_member_vip_ipv6_subnet[ const.ID] member = self.mem_member_client.create_member( **member_kwargs) self.addCleanup( self.mem_member_client.cleanup_member, member[const.ID], pool_id=self.pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) class MixedHTTPIPv6VIPIPv4MemberAPITest(MemberAPIBaseTest): """"""Test the member object API with mixed IP protocol members/VIP. Use the member object API when mixing IPv4 members with IPv6 VIP in HTTP load balancers. """""" @classmethod def resource_setup(cls): """"""Setup resources needed by the tests."""""" super(MixedHTTPIPv6VIPIPv4MemberAPITest, cls).resource_setup( ip_version=6, protocol=const.HTTP) @decorators.idempotent_id('cd914dd4-9d1b-4001-9810-368f41a6de71') def test_member_ipv4_create(self): """"""Tests member create API in mixed IP protocol load balancer. * Creates an IPv4 member on an IPv6 HTTP load balancer. * Check that the member has been successfully created. """""" member_address = '192.0.2.1' member_name = data_utils.rand_name(""lb_member_member1-create"") member_kwargs = { const.NAME: member_name, const.ADMIN_STATE_UP: True, const.POOL_ID: self.pool_id, const.ADDRESS: member_address, const.PROTOCOL_PORT: 80, const.WEIGHT: 50, } if self.lb_member_vip_subnet: member_kwargs[const.SUBNET_ID] = self.lb_member_vip_subnet[ const.ID] member = self.mem_member_client.create_member( **member_kwargs) self.addCleanup( self.mem_member_client.cleanup_member, member[const.ID], pool_id=self.pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout)","class MemberAPITest(test_base.LoadBalancerBaseTest): def resource_setup(cls): super(MemberAPITest, cls).resource_setup() cls._setup_lb_network_kwargs(lb_kwargs) cls.protocol = const.HTTP lb_feature_enabled = CONF.loadbalancer_feature_enabled if not lb_feature_enabled.l7_protocol_enabled: cls.protocol = lb_feature_enabled.l4_protocol",206,8
openstack%2Ftempest~master~I5566c6b5300ff47d37f3dbb224e5e7ba83a49c57,openstack/tempest,master,I5566c6b5300ff47d37f3dbb224e5e7ba83a49c57,add unit test for delete_group_user method,MERGED,2019-10-09 02:31:27.000000000,2020-02-26 05:05:05.000000000,2020-02-26 05:02:21.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 30742}]","[{'number': 1, 'created': '2019-10-09 02:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a53ae2cc09d6f0445bd2f1b81ffb3b90bd3e8af7', 'message': 'add unit test for delete_group_user method\n\nadd unit test for delete_group_user method\n\nChange-Id: I5566c6b5300ff47d37f3dbb224e5e7ba83a49c57\n'}, {'number': 2, 'created': '2020-02-20 11:45:30.000000000', 'files': ['tempest/tests/lib/services/identity/v3/test_groups_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2bdbc0a9ece96f2ec5d6a718c135616fccd76893', 'message': 'add unit test for delete_group_user method\n\nadd unit test for delete_group_user method\n\nChange-Id: I5566c6b5300ff47d37f3dbb224e5e7ba83a49c57\n'}]",1,687443,2bdbc0a9ece96f2ec5d6a718c135616fccd76893,15,9,2,30409,,,0,"add unit test for delete_group_user method

add unit test for delete_group_user method

Change-Id: I5566c6b5300ff47d37f3dbb224e5e7ba83a49c57
",git fetch https://review.opendev.org/openstack/tempest refs/changes/43/687443/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/identity/v3/test_groups_client.py'],1,a53ae2cc09d6f0445bd2f1b81ffb3b90bd3e8af7,identity-delete-user-group," def test_delete_user_to_group(self): self.check_service_client_function( self.client.delete_group_user, 'tempest.lib.common.rest_client.RestClient.delete', {}, status=204, group_id='6e13e2068cf9466e98950595baf6bb35', user_id='642688fa65a84217b86cef3c063de2b9', )",,10,0
openstack%2Fneutron~stable%2Fstein~I7719491275fa1ebfa7e881366e5cb066e3d4185c,openstack/neutron,stable/stein,I7719491275fa1ebfa7e881366e5cb066e3d4185c,Do not initialize snat-ns twice,MERGED,2020-02-25 01:53:48.000000000,2020-02-26 05:04:08.000000000,2020-02-26 05:02:16.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-25 01:53:48.000000000', 'files': ['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01d0612a3a1b50cdadf633d5e5b9bad1cfe662fd', 'message': 'Do not initialize snat-ns twice\n\nIf the DVR+HA router has external gateway, the snat-namespace will be\ninitialized twice during agent restart. And that ns initialization\nfunction will run many external resource processing actions which will\ndefinitely increase the starting time of L3 agent. This patch addresses\nthis issue.\n\nChange-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c\nCloses-Bug: #1850779\n(cherry picked from commit 7a9d6d26419defa148764166600bc4ac6b50c109)\n'}]",0,709649,01d0612a3a1b50cdadf633d5e5b9bad1cfe662fd,9,4,1,9531,,,0,"Do not initialize snat-ns twice

If the DVR+HA router has external gateway, the snat-namespace will be
initialized twice during agent restart. And that ns initialization
function will run many external resource processing actions which will
definitely increase the starting time of L3 agent. This patch addresses
this issue.

Change-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c
Closes-Bug: #1850779
(cherry picked from commit 7a9d6d26419defa148764166600bc4ac6b50c109)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/709649/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py']",3,01d0612a3a1b50cdadf633d5e5b9bad1cfe662fd,bug/1850779-stable/stein," def initialize(self, process_monitor): self._create_snat_namespace() super(DvrEdgeRouter, self).initialize(process_monitor) def _create_dvr_gateway(self, ex_gw_port, gw_interface_name): self.snat_namespace.name, preserve_ips=[]) namespace=self.snat_namespace.name,"," def _create_dvr_gateway(self, ex_gw_port, gw_interface_name): snat_ns = self._create_snat_namespace() snat_ns.name, preserve_ips=[]) namespace=snat_ns.name,",24,7
openstack%2Ftempest~master~I9f5e57a3114ac047f87762def08b165bf377b600,openstack/tempest,master,I9f5e57a3114ac047f87762def08b165bf377b600,Improve response data of test_routers_client,MERGED,2020-01-26 12:14:32.000000000,2020-02-26 05:03:53.000000000,2020-02-26 05:02:18.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 30491}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-01-26 12:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5ed161464a91e9416695cf8bc1bc456dd469c43d', 'message': 'Improve response data of test_routers_client\n\nThe response data of test_routers_client are edited in order to be\nconsistent with the Reference API document [1]\n\n[1] https://docs.openstack.org/api-ref/network/v2/index.html\n\nCloses-Bug: 1838005\nChange-Id: I9f5e57a3114ac047f87762def08b165bf377b600\n'}, {'number': 2, 'created': '2020-01-31 07:57:50.000000000', 'files': ['tempest/tests/lib/services/network/test_routers_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d19d7f8dc429275e802d1ce549592f8416c7e076', 'message': 'Improve response data of test_routers_client\n\nThe response data of test_routers_client are edited in order to be\nconsistent with the Reference API document [1]\n\n[1] https://docs.openstack.org/api-ref/network/v2/index.html\n\nCloses-Bug: 1838005\nChange-Id: I9f5e57a3114ac047f87762def08b165bf377b600\n'}]",3,704248,d19d7f8dc429275e802d1ce549592f8416c7e076,25,9,2,22873,,,0,"Improve response data of test_routers_client

The response data of test_routers_client are edited in order to be
consistent with the Reference API document [1]

[1] https://docs.openstack.org/api-ref/network/v2/index.html

Closes-Bug: 1838005
Change-Id: I9f5e57a3114ac047f87762def08b165bf377b600
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/704248/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/network/test_routers_client.py'],1,5ed161464a91e9416695cf8bc1bc456dd469c43d,," ""admin_state_up"": True, ""availability_zone_hints"": [], ""availability_zones"": [ ""nova"" ], ""created_at"": ""2018-03-19T19:17:04Z"", ""description"": """", ""distributed"": False, ""external_gateway_info"": { ""ip_address"": ""172.24.4.6"", ""subnet_id"": ""b930d7f6-ceb7-40a0-8b81-a425dd994ccf"" } ], ""network_id"": ""ae34051f-aa6c-4c75-abf5-50dc9ac99ef3"" ""flavor_id"": ""f7b14d9a-b0dc-4fbe-bb14-a0f4970a69e0"", ""ha"": False, ""id"": ""f8a44de0-fc8e-45df-93c7-f79bf3b01c95"", ""name"": ""router1"", ""routes"": [], ""revision_number"": 1, ""status"": ""ACTIVE"", ""updated_at"": ""2018-03-19T19:17:22Z"", ""project_id"": ""0bd18306d801447bb457a46252d82d13"", ""tenant_id"": ""0bd18306d801447bb457a46252d82d13"", ""service_type_id"": None, ""tags"": [""tag1,tag2""], ""conntrack_helpers"": [] ""distributed"": False, ""external_gateway_info"": { ""network_id"": ""ae34051f-aa6c-4c75-abf5-50dc9ac99ef3"", ""ip_address"": ""172.24.4.6"", ""subnet_id"": ""b930d7f6-ceb7-40a0-8b81-a425dd994ccf"" } ], ""routes"": [ { ""destination"": ""179.24.1.0/24"", ""nexthop"": ""172.24.3.99"" }"," ""name"": u'\u2740(*\xb4\u25e1`*)\u2740', ""external_gateway_info"": { ""network_id"": ""8ca37218-28ff-41cb-9b10-039601ea7e6b"", ""subnet_id"": ""255.255.255.0"", ""ip"": ""192.168.10.1"" } ] ""admin_state_up"": True, ""id"": ""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e"" ""name"": u'\u2740(*\xb4\u25e1`*)\u2740', ""external_gateway_info"": { ""network_id"": ""8ca37218-28ff-41cb-9b10-039601ea7e6b"", ""subnet_id"": ""255.255.255.0"", ""ip"": ""192.168.10.1"" }, ""admin_state_up"": False, ""id"": ""8604a0de-7f6b-409a-a47c-a1cc7bc77b2e""",36,14
openstack%2Foctavia~stable%2Fstein~Ifb6c34426e0927534d332a8bbf2c66aac6c002c5,openstack/octavia,stable/stein,Ifb6c34426e0927534d332a8bbf2c66aac6c002c5,Fix uncaught DB exception when trying to get a spare amphora,MERGED,2020-02-24 16:18:58.000000000,2020-02-26 04:50:41.000000000,2020-02-26 04:49:16.000000000,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 16:18:58.000000000', 'files': ['octavia/controller/worker/tasks/database_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/372e047a840334ea61c23e21f24fb3c9bfbed902', 'message': ""Fix uncaught DB exception when trying to get a spare amphora\n\nThe MapLoadbalancerToAmphora task performs some database queries but\ndoesn't catch any exception from it.\n\nIn case something goes wrong with the database or the query, this commit\ncatchs any exception from the DB call, logs it and then returns None to\nswitch to the next decider branch (boot a new amphora).\n\nStory 2007320\nTask 38831\n\nConflicts:\n\toctavia/controller/worker/v1/tasks/database_tasks.py\n\nChange-Id: Ifb6c34426e0927534d332a8bbf2c66aac6c002c5\n(cherry picked from commit 3bbd32a2a5588ab1502efdb6f9556c646d6e8f19)\n(cherry picked from commit 0c1cb417e904daa75deedaabc72a20d07b138eb9)\n""}]",0,709567,372e047a840334ea61c23e21f24fb3c9bfbed902,8,3,1,29244,,,0,"Fix uncaught DB exception when trying to get a spare amphora

The MapLoadbalancerToAmphora task performs some database queries but
doesn't catch any exception from it.

In case something goes wrong with the database or the query, this commit
catchs any exception from the DB call, logs it and then returns None to
switch to the next decider branch (boot a new amphora).

Story 2007320
Task 38831

Conflicts:
	octavia/controller/worker/v1/tasks/database_tasks.py

Change-Id: Ifb6c34426e0927534d332a8bbf2c66aac6c002c5
(cherry picked from commit 3bbd32a2a5588ab1502efdb6f9556c646d6e8f19)
(cherry picked from commit 0c1cb417e904daa75deedaabc72a20d07b138eb9)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/709567/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/tasks/database_tasks.py'],1,372e047a840334ea61c23e21f24fb3c9bfbed902,," try: amp = self.amphora_repo.allocate_and_associate( db_apis.get_session(), loadbalancer_id) except Exception as e: LOG.error(""Failed to get a spare amphora for "" ""loadbalancer {} due to: {}"".format( loadbalancer_id, e)) return None "," amp = self.amphora_repo.allocate_and_associate( db_apis.get_session(), loadbalancer_id)",10,3
openstack%2Foctavia~master~Ie4869035a557ebcddea2fce693067c82fbd2d2a9,openstack/octavia,master,Ie4869035a557ebcddea2fce693067c82fbd2d2a9,Select the right lb_network_ip interface using AZ,MERGED,2020-01-30 06:51:39.000000000,2020-02-26 04:41:43.000000000,2020-02-26 04:40:04.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-01-30 06:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/205db6973c047f1a11f3cffe19b11a6c14e6a5db', 'message': 'Select the right lb_network_ip interface using AZ\n\nIf the AZ system is being used and there is also a default boot network\nset in the main config, the nova driver would not pick the right\ninterface when translating the amphora info for amps in custom AZs.\n\nChange-Id: Ie4869035a557ebcddea2fce693067c82fbd2d2a9\n'}, {'number': 2, 'created': '2020-01-30 20:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b2073debe0dc43c110b292efe761d0d6e432a5e8', 'message': 'Select the right lb_network_ip interface using AZ\n\nIf the AZ system is being used and there is also a default boot network\nset in the main config, the nova driver would not pick the right\ninterface when translating the amphora info for amps in custom AZs.\n\nThis affects the step that updates the lb_network_ip (the management\naddress) in the database, immediately before the ComputeActiveWait step\nof the amphore creation flow that pulls that address and uses it to\nconnect.\n\nChange-Id: Ie4869035a557ebcddea2fce693067c82fbd2d2a9\n'}, {'number': 3, 'created': '2020-01-30 21:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/983a80c0d36fe7f5fb5c4a52cf87582e82324334', 'message': 'Select the right lb_network_ip interface using AZ\n\nIf the AZ system is being used and there is also a default boot network\nset in the main config, the nova driver would not pick the right\ninterface when translating the amphora info for amps in custom AZs.\n\nThis affects the step that fetches the lb_network_ip (the management\naddress) from nova, immediately before the step that updates the\ndatabase with the correct IP. That IP is then used in the rest of the\namphora creation flow, which pulls in that address and uses it to\nconnect to the amp.\n\nChange-Id: Ie4869035a557ebcddea2fce693067c82fbd2d2a9\n'}, {'number': 4, 'created': '2020-02-25 01:30:06.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/controller/worker/v1/flows/amphora_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_compute_tasks.py', 'octavia/compute/compute_base.py', 'octavia/tests/unit/compute/drivers/test_compute_noop_driver.py', 'octavia/compute/drivers/nova_driver.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py', 'octavia/compute/drivers/noop_driver/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2c76209003d5ca09a302881a40a35fd14762db55', 'message': 'Select the right lb_network_ip interface using AZ\n\nIf the AZ system is being used and there is also a default boot network\nset in the main config, the nova driver would not pick the right\ninterface when translating the amphora info for amps in custom AZs.\n\nThis affects the step that fetches the lb_network_ip (the management\naddress) from nova, immediately before the step that updates the\ndatabase with the correct IP. That IP is then used in the rest of the\namphora creation flow, which pulls in that address and uses it to\nconnect to the amp.\n\nChange-Id: Ie4869035a557ebcddea2fce693067c82fbd2d2a9\n'}]",17,704927,2c76209003d5ca09a302881a40a35fd14762db55,26,8,4,10273,,,0,"Select the right lb_network_ip interface using AZ

If the AZ system is being used and there is also a default boot network
set in the main config, the nova driver would not pick the right
interface when translating the amphora info for amps in custom AZs.

This affects the step that fetches the lb_network_ip (the management
address) from nova, immediately before the step that updates the
database with the correct IP. That IP is then used in the rest of the
amphora creation flow, which pulls in that address and uses it to
connect to the amp.

Change-Id: Ie4869035a557ebcddea2fce693067c82fbd2d2a9
",git fetch https://review.opendev.org/openstack/octavia refs/changes/27/704927/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/controller/worker/v1/flows/amphora_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_compute_tasks.py', 'octavia/compute/compute_base.py', 'octavia/tests/unit/compute/drivers/test_compute_noop_driver.py', 'octavia/compute/drivers/nova_driver.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py', 'octavia/compute/drivers/noop_driver/driver.py']",11,205db6973c047f1a11f3cffe19b11a6c14e6a5db,az-tweaks," def get_amphora(self, compute_id, management_network_id): LOG.debug(""Compute %s no-op, compute_id %s, management_network_id %s"", self.__class__.__name__, compute_id, management_network_id) self.computeconfig[(compute_id, management_network_id)] = ( compute_id, management_network_id, 'get_amphora') def get_amphora(self, compute_id, management_network_id): return self.driver.get_amphora(compute_id, management_network_id)"," def get_amphora(self, compute_id): LOG.debug(""Compute %s no-op, compute_id %s"", self.__class__.__name__, compute_id) self.computeconfig[compute_id] = (compute_id, 'get_amphora') def get_amphora(self, compute_id): return self.driver.get_amphora(compute_id)",87,46
openstack%2Fneutron~stable%2Frocky~I7719491275fa1ebfa7e881366e5cb066e3d4185c,openstack/neutron,stable/rocky,I7719491275fa1ebfa7e881366e5cb066e3d4185c,Do not initialize snat-ns twice,MERGED,2020-02-25 01:54:15.000000000,2020-02-26 04:36:59.000000000,2020-02-26 04:36:59.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-25 01:54:15.000000000', 'files': ['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c667e4d3b23cb8a9ea827b2594a0100974bb9b85', 'message': 'Do not initialize snat-ns twice\n\nIf the DVR+HA router has external gateway, the snat-namespace will be\ninitialized twice during agent restart. And that ns initialization\nfunction will run many external resource processing actions which will\ndefinitely increase the starting time of L3 agent. This patch addresses\nthis issue.\n\nChange-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c\nCloses-Bug: #1850779\n(cherry picked from commit 7a9d6d26419defa148764166600bc4ac6b50c109)\n'}]",0,709650,c667e4d3b23cb8a9ea827b2594a0100974bb9b85,11,5,1,9531,,,0,"Do not initialize snat-ns twice

If the DVR+HA router has external gateway, the snat-namespace will be
initialized twice during agent restart. And that ns initialization
function will run many external resource processing actions which will
definitely increase the starting time of L3 agent. This patch addresses
this issue.

Change-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c
Closes-Bug: #1850779
(cherry picked from commit 7a9d6d26419defa148764166600bc4ac6b50c109)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/709650/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py']",3,c667e4d3b23cb8a9ea827b2594a0100974bb9b85,bug/1850779-stable/rocky," def initialize(self, process_monitor): self._create_snat_namespace() super(DvrEdgeRouter, self).initialize(process_monitor) def _create_dvr_gateway(self, ex_gw_port, gw_interface_name): self.snat_namespace.name, preserve_ips=[]) namespace=self.snat_namespace.name,"," def _create_dvr_gateway(self, ex_gw_port, gw_interface_name): snat_ns = self._create_snat_namespace() snat_ns.name, preserve_ips=[]) namespace=snat_ns.name,",24,7
openstack%2Fneutron~stable%2Fqueens~I7719491275fa1ebfa7e881366e5cb066e3d4185c,openstack/neutron,stable/queens,I7719491275fa1ebfa7e881366e5cb066e3d4185c,Do not initialize snat-ns twice,MERGED,2020-02-24 04:47:01.000000000,2020-02-26 04:31:45.000000000,2020-02-26 04:31:45.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-24 04:47:01.000000000', 'files': ['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d5e80e935049d08e0fcefc0c823fb67c793a51b', 'message': 'Do not initialize snat-ns twice\n\nIf the DVR+HA router has external gateway, the snat-namespace will be\ninitialized twice during agent restart. And that ns initialization\nfunction will run many external resource processing actions which will\ndefinitely increase the starting time of L3 agent. This patch addresses\nthis issue.\n\nChange-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c\nCloses-Bug: #1850779\n(cherry picked from commit 7a9d6d26419defa148764166600bc4ac6b50c109)\n'}]",0,709406,9d5e80e935049d08e0fcefc0c823fb67c793a51b,10,6,1,9531,,,0,"Do not initialize snat-ns twice

If the DVR+HA router has external gateway, the snat-namespace will be
initialized twice during agent restart. And that ns initialization
function will run many external resource processing actions which will
definitely increase the starting time of L3 agent. This patch addresses
this issue.

Change-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c
Closes-Bug: #1850779
(cherry picked from commit 7a9d6d26419defa148764166600bc4ac6b50c109)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/709406/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py']",3,9d5e80e935049d08e0fcefc0c823fb67c793a51b,bug/1850779-stable/queens," def initialize(self, process_monitor): self._create_snat_namespace() super(DvrEdgeRouter, self).initialize(process_monitor) def _create_dvr_gateway(self, ex_gw_port, gw_interface_name): self.snat_namespace.name, preserve_ips=[]) namespace=self.snat_namespace.name,"," def _create_dvr_gateway(self, ex_gw_port, gw_interface_name): snat_ns = self._create_snat_namespace() snat_ns.name, preserve_ips=[]) namespace=snat_ns.name,",24,7
openstack%2Fneutron-tempest-plugin~master~Ia4bdc53a0d7d537360afc67a1bd61cc3a0eb6da1,openstack/neutron-tempest-plugin,master,Ia4bdc53a0d7d537360afc67a1bd61cc3a0eb6da1,Increase default security group quota up to 150,MERGED,2020-02-24 13:08:03.000000000,2020-02-26 04:31:43.000000000,2020-02-26 04:31:43.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 15554}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-02-24 13:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fd7b2032d001712ec5ecb5608af569c914982cb5', 'message': 'Increase default security group quota up to 250\n\nChange-Id: Ia4bdc53a0d7d537360afc67a1bd61cc3a0eb6da1\nCloses-Bug: #1864471\n'}, {'number': 2, 'created': '2020-02-24 18:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bbf2cf581db512b73eb448797fec145b780748e3', 'message': 'Increase default security group quota up to 250\n\nChange-Id: Ia4bdc53a0d7d537360afc67a1bd61cc3a0eb6da1\nCloses-Bug: #1864471\n'}, {'number': 3, 'created': '2020-02-24 22:48:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a4bb258bbc8a432e34baf8033a81348372b98c2a', 'message': 'Increase default security group quota up to 150\n\nChange-Id: Ia4bdc53a0d7d537360afc67a1bd61cc3a0eb6da1\nCloses-Bug: #1864471\n'}]",0,709478,a4bb258bbc8a432e34baf8033a81348372b98c2a,17,6,3,16688,,,0,"Increase default security group quota up to 150

Change-Id: Ia4bdc53a0d7d537360afc67a1bd61cc3a0eb6da1
Closes-Bug: #1864471
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/78/709478/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fd7b2032d001712ec5ecb5608af569c914982cb5,bug/1864471, quota_security_group: 250, quota_security_group: 100,1,1
openstack%2Fneutron-vpnaas~master~I9c50bfc2cefdd97c6d54e8bfabe97748c8dfce13,openstack/neutron-vpnaas,master,I9c50bfc2cefdd97c6d54e8bfabe97748c8dfce13,Run neutron-vpn-netns-wrapper in venv,MERGED,2019-10-09 11:28:49.000000000,2020-02-26 04:24:14.000000000,2020-02-26 04:22:25.000000000,"[{'_account_id': 1004}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-09 11:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/604f9e11db15da7321be63e40b4ed88537fa86ef', 'message': 'Run neutron-vpn-netns-wrapper in venv\n\nWhen neutron is installed inside venv, neutron-vpn-netns-wrapper\nis placed inside venv as well. Currently vpn creation will fail due to\nmissing wrapper inside $PATH. So we should respect venvs and launch\nneutron-vpn-netns-wrapper from the venv when applicable.\n\nChange-Id: I9c50bfc2cefdd97c6d54e8bfabe97748c8dfce13\n'}, {'number': 2, 'created': '2019-10-11 10:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/4b1a272edfd81fa7b1954780cb9d5326d9e771d0', 'message': 'Run neutron-vpn-netns-wrapper in venv\n\nWhen neutron is installed inside venv, neutron-vpn-netns-wrapper\nis placed inside venv as well. Currently vpn creation will fail due to\nmissing wrapper inside $PATH. So we should respect venvs and launch\nneutron-vpn-netns-wrapper from the venv when applicable.\n\nChange-Id: I9c50bfc2cefdd97c6d54e8bfabe97748c8dfce13\n'}, {'number': 3, 'created': '2019-10-15 13:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/623b8fa0f386e745204489bdffdb4d8712068784', 'message': 'Run neutron-vpn-netns-wrapper in venv\n\nWhen neutron is installed inside venv, neutron-vpn-netns-wrapper\nis placed inside venv as well. Currently vpn creation will fail due to\nmissing wrapper inside $PATH. So we should respect venvs and launch\nneutron-vpn-netns-wrapper from the venv when applicable.\n\nCloses-Bug: 1848201\nChange-Id: I9c50bfc2cefdd97c6d54e8bfabe97748c8dfce13\n'}, {'number': 4, 'created': '2020-01-13 15:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7a4e7dccff621ee10a338748a7600048855ed694', 'message': 'Run neutron-vpn-netns-wrapper in venv\n\nWhen neutron is installed inside venv, neutron-vpn-netns-wrapper\nis placed inside venv as well. Currently vpn creation will fail due to\nmissing wrapper inside $PATH. So we should respect venvs and launch\nneutron-vpn-netns-wrapper from the venv when applicable.\n\nCloses-Bug: 1848201\nChange-Id: I9c50bfc2cefdd97c6d54e8bfabe97748c8dfce13\n'}, {'number': 5, 'created': '2020-02-23 08:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/815c43f0c46225d73cb495d287cb2f0e0db7bbfa', 'message': 'Run neutron-vpn-netns-wrapper in venv\n\nWhen neutron is installed inside venv, neutron-vpn-netns-wrapper\nis placed inside venv as well. Currently vpn creation will fail due to\nmissing wrapper inside $PATH. So we should respect venvs and launch\nneutron-vpn-netns-wrapper from the venv when applicable.\n\nCloses-Bug: 1848201\nChange-Id: I9c50bfc2cefdd97c6d54e8bfabe97748c8dfce13\n'}, {'number': 6, 'created': '2020-02-26 02:52:19.000000000', 'files': ['neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/libreswan_ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/e0fb6700b16d4307db033173a1ca330e6ea02ca2', 'message': 'Run neutron-vpn-netns-wrapper in venv\n\nWhen neutron is installed inside venv, neutron-vpn-netns-wrapper\nis placed inside venv as well. Currently vpn creation will fail due to\nmissing wrapper inside $PATH. So we should respect venvs and launch\nneutron-vpn-netns-wrapper from the venv when applicable.\n\nCloses-Bug: 1848201\nChange-Id: I9c50bfc2cefdd97c6d54e8bfabe97748c8dfce13\n'}]",0,687538,e0fb6700b16d4307db033173a1ca330e6ea02ca2,34,8,6,28619,,,0,"Run neutron-vpn-netns-wrapper in venv

When neutron is installed inside venv, neutron-vpn-netns-wrapper
is placed inside venv as well. Currently vpn creation will fail due to
missing wrapper inside $PATH. So we should respect venvs and launch
neutron-vpn-netns-wrapper from the venv when applicable.

Closes-Bug: 1848201
Change-Id: I9c50bfc2cefdd97c6d54e8bfabe97748c8dfce13
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/38/687538/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/libreswan_ipsec.py']",2,604f9e11db15da7321be63e40b4ed88537fa86ef,ns_wrapper_venv,"import sys # Check if we're inside a virtualenv. If we are, then we should # respect this and launch wrapper from venv as well. if (hasattr(sys, 'real_prefix') or (hasattr(sys, 'base_prefix') and sys.base_prefix != sys.prefix)): ns_wrapper = os.path.join(sys.prefix, ""bin/"", NS_WRAPPER) else: ns_wrapper = NS_WRAPPER [ns_wrapper,"," [NS_WRAPPER,",18,2
openstack%2Fdiskimage-builder~master~I1a6d60e9ec5f5cb508866c8376465c3e73551a30,openstack/diskimage-builder,master,I1a6d60e9ec5f5cb508866c8376465c3e73551a30,fix iscsi-boot element exiting build even if dracut-regenerate used,MERGED,2020-02-12 09:00:44.000000000,2020-02-26 04:07:19.000000000,2020-02-26 04:05:57.000000000,"[{'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-12 09:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d191661a6f2268cee64ddb8c0930f3495910df1e', 'message': 'fix iscsi-boot element exiting build even if dracut-regenerate used\n\nin CentOS build case building an image with ""iscsi-boot"" and ""dracut-regenerate"" will exit building because of statement ""[ ""$found"" = 0 ]""\n\nChange-Id: I1a6d60e9ec5f5cb508866c8376465c3e73551a30\n'}, {'number': 2, 'created': '2020-02-12 09:09:26.000000000', 'files': ['diskimage_builder/elements/iscsi-boot/extra-data.d/50-check-dracut-regenerate'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/48eac8b89967ddde5c389cf57355304f84d1a7de', 'message': 'fix iscsi-boot element exiting build even if dracut-regenerate used\n\nin CentOS build case building an image with ""iscsi-boot"" and ""dracut-regenerate"" will exit building because of statement ""[ ""$found"" = 0 ]""\n\nChange-Id: I1a6d60e9ec5f5cb508866c8376465c3e73551a30\n'}]",0,707340,48eac8b89967ddde5c389cf57355304f84d1a7de,13,5,2,16690,,,0,"fix iscsi-boot element exiting build even if dracut-regenerate used

in CentOS build case building an image with ""iscsi-boot"" and ""dracut-regenerate"" will exit building because of statement ""[ ""$found"" = 0 ]""

Change-Id: I1a6d60e9ec5f5cb508866c8376465c3e73551a30
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/40/707340/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,d191661a6f2268cee64ddb8c0930f3495910df1e,fix iscsi-boot element exiting build even if dracut-regenerate used,,,0,0
openstack%2Fdiskimage-builder~master~I9ba53e22583b148b43f74cd9b8ec79402796d09b,openstack/diskimage-builder,master,I9ba53e22583b148b43f74cd9b8ec79402796d09b,Do not include efibootmgr and efivars for ppc architectures,MERGED,2020-02-25 18:29:00.000000000,2020-02-26 04:06:13.000000000,2020-02-26 04:02:42.000000000,"[{'_account_id': 7118}, {'_account_id': 8161}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-25 18:29:00.000000000', 'files': ['diskimage_builder/elements/ironic-agent/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/14a37768853c61099798323197b1cdf90ed0bd5b', 'message': ""Do not include efibootmgr and efivars for ppc architectures\n\nThese don't exist and are not needed for ppc.\n\nChange-Id: I9ba53e22583b148b43f74cd9b8ec79402796d09b\n""}]",0,709811,14a37768853c61099798323197b1cdf90ed0bd5b,11,5,1,21909,,,0,"Do not include efibootmgr and efivars for ppc architectures

These don't exist and are not needed for ppc.

Change-Id: I9ba53e22583b148b43f74cd9b8ec79402796d09b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/11/709811/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/ironic-agent/package-installs.yaml'],1,14a37768853c61099798323197b1cdf90ed0bd5b,remove_efi_ppc,"# efibootmgr and efivar do not exist for ppc* efibootmgr: not-arch: ppc64,ppc64el,ppc64le efivar: not-arch: ppc64,ppc64el,ppc64le",efibootmgr: efivar:,3,0
openstack%2Fdiskimage-builder~master~I95a0c09a6739af23cd1e8c88dded198bd69cc53e,openstack/diskimage-builder,master,I95a0c09a6739af23cd1e8c88dded198bd69cc53e,Change tgt pkg-map to target-restore CentOS/RHEL-8,MERGED,2020-02-21 15:40:12.000000000,2020-02-26 04:05:56.000000000,2020-02-26 04:05:56.000000000,"[{'_account_id': 7118}, {'_account_id': 9592}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 15:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f50e27f4aad70ab91248f431cc19ae85a50aa468', 'message': 'Added ironic-agent pkg-map for CentOS-8\n\nIt was currently using redhat family where scsi-target-utils is\nnot used but targetutils is used. It fixes the map for that.\n\nChange-Id: I95a0c09a6739af23cd1e8c88dded198bd69cc53e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-02-24 08:48:01.000000000', 'files': ['diskimage_builder/elements/ironic-agent/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/31a32ff6ee56ce256943a14018f2d53714ff48b4', 'message': 'Change tgt pkg-map to target-restore CentOS/RHEL-8\n\nIn ironic-agent tgt pkg-map, scsi-target-utils was used for\nredhat family which is not used in CentOS/RHEL-8.\n\nAs per https://opendev.org/openstack/ironic-python-agent-builder/src/branch/master/dib/ironic-python-agent-ramdisk/pkg-map#L5\ntargetcli got removed and switch to target-restore. It syncs\nthe same element for RHEL-8 and adds the same for CentOS-8.\n\nCloses-Bug: #1864427\n\nChange-Id: I95a0c09a6739af23cd1e8c88dded198bd69cc53e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,709159,31a32ff6ee56ce256943a14018f2d53714ff48b4,37,8,2,12393,,,0,"Change tgt pkg-map to target-restore CentOS/RHEL-8

In ironic-agent tgt pkg-map, scsi-target-utils was used for
redhat family which is not used in CentOS/RHEL-8.

As per https://opendev.org/openstack/ironic-python-agent-builder/src/branch/master/dib/ironic-python-agent-ramdisk/pkg-map#L5
targetcli got removed and switch to target-restore. It syncs
the same element for RHEL-8 and adds the same for CentOS-8.

Closes-Bug: #1864427

Change-Id: I95a0c09a6739af23cd1e8c88dded198bd69cc53e
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/59/709159/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/ironic-agent/pkg-map', 'diskimage_builder/elements/dracut-regenerate/pkg-map']",2,f50e27f4aad70ab91248f431cc19ae85a50aa468,c8imagebuild," ""centos"": { ""PyYAML"": ""PyYAML"", ""python3-PyYAML"": ""python3-PyYAML"" },",,13,0
openstack%2Fdiskimage-builder~master~I373ba2296c4613765676e59aabd9c651345298d1,openstack/diskimage-builder,master,I373ba2296c4613765676e59aabd9c651345298d1,Add CentOS 8 support,MERGED,2019-09-24 13:02:43.000000000,2020-02-26 04:05:02.000000000,2020-02-26 04:02:41.000000000,"[{'_account_id': 1955}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-09-24 13:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e67c421ef3f850e16fb1d5f5485e8bf97532fa9c', 'message': 'WIP: CentOS 8 support\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 2, 'created': '2019-09-24 13:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/490346d17546354072e618ea0faa43accf0c1829', 'message': 'WIP: CentOS 8 support\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 3, 'created': '2019-09-24 14:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e8413065c99a948970be24531760667b01a8ef99', 'message': 'WIP: CentOS 8 support\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 4, 'created': '2019-09-26 04:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1c9c1dcb8f7ac5afeebb4872432a14c8bb5a0d9d', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 5, 'created': '2019-09-26 04:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0724ad46b7a51bdd2a2b229f021e25d174536207', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 6, 'created': '2019-09-26 07:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/47d7ba8dfa4b860348b29a20e9158f4780fea77c', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 7, 'created': '2019-09-26 09:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/850c37c0e4dbcbc33345d0bc09a4ae417c9d2eba', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 8, 'created': '2019-09-27 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e19528b28de0a8c52f94997fb1370f2a401b35eb', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 9, 'created': '2019-09-27 00:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e12669c58cee5d8df590014e19550752d26e06f1', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 10, 'created': '2019-09-27 01:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3198d4673b67a5f011b608aa41f64147d5453a2a', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 11, 'created': '2019-09-27 03:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f41fe24813b153ef9b8df12f5a7f9b61d5ab7cc1', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 12, 'created': '2019-09-27 03:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a20973280f43d42c03d9eaa381845f1be1678191', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 13, 'created': '2019-09-30 05:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/659b53ea29e96744c014897cc4ea9db0dcecf593', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 14, 'created': '2019-10-01 03:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/36969b05b76807ad787c9ea8cb2aeaafd1854704', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 15, 'created': '2019-10-01 06:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3b5961fafd8cfa43ab3416c24c1271ed75d719e2', 'message': 'WIP: CentOS 8 support\n\n* add ""centos"" element, retire centos7 element\n* add functional testing\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 16, 'created': '2019-10-07 22:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cbdf522068a6927c3074dce2c8407dee5bdad424', 'message': 'Add CentOS 8 support\n\n* Add ""centos"" element, a CentOS version-independent element. This is in\n  line with the same work done for RHEL in Stein cycle.\n* Deprecate the centos7 element. CentOS 7 support itself it not\n  deprecated though. The new ""centos"" element provides the same support\n  level as the ""centos7"" element.\n* Add functional testing\n\nThe default CentOS version is 8. You can adjust it using the DIB_RELEASE\nenvironment variable.\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 17, 'created': '2020-01-20 09:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a0a0d0ec75cd95f43ef218a9d7aac19e4e684d88', 'message': 'Add CentOS 8 support\n\n* Add ""centos"" element, a CentOS version-independent element. This is in\n  line with the same work done for RHEL in Stein cycle.\n* Deprecate the centos7 element. CentOS 7 support itself it not\n  deprecated though. The new ""centos"" element provides the same support\n  level as the ""centos7"" element.\n* Add functional testing\n\nThe default CentOS version is 8. You can adjust it using the DIB_RELEASE\nenvironment variable.\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 18, 'created': '2020-01-20 10:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/316f346a3a5c50745ea6e40915eeaefa7e671aec', 'message': 'Add CentOS 8 support\n\n* Add ""centos"" element, a CentOS version-independent element. This is in\n  line with the same work done for RHEL in Stein cycle.\n* Deprecate the centos7 element. CentOS 7 support itself it not\n  deprecated though. The new ""centos"" element provides the same support\n  level as the ""centos7"" element.\n* Add functional testing\n\nThe default CentOS version is 8. You can adjust it using the DIB_RELEASE\nenvironment variable.\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}, {'number': 19, 'created': '2020-02-19 10:38:09.000000000', 'files': ['diskimage_builder/elements/centos/pre-install.d/02-set-machine-id', 'diskimage_builder/elements/centos/pre-install.d/01-set-centos-mirror', 'diskimage_builder/elements/centos/element-provides', 'diskimage_builder/elements/centos/environment.d/10-centos-distro-name.bash', 'diskimage_builder/elements/centos7/pre-install.d/01-set-centos-mirror', 'diskimage_builder/elements/centos7/environment.d/00-centos7-element-deprecation.bash', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/centos/README.rst', 'diskimage_builder/elements/centos/root.d/10-centos-cloud-image', 'diskimage_builder/elements/centos/test-elements/8-build-succeeds/element-deps', 'diskimage_builder/elements/centos7/element-deps', 'diskimage_builder/elements/centos/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/centos/test-elements/8-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/centos/element-deps', 'diskimage_builder/elements/centos7/root.d/10-centos7-cloud-image', 'releasenotes/notes/add-centos-8-support-4fd28eb04e11ba43.yaml', 'diskimage_builder/elements/centos/test-elements/8-build-succeeds/README.rst', 'diskimage_builder/elements/centos/test-elements/8-build-succeeds/test-output-formats', 'diskimage_builder/elements/centos7/README.rst', 'diskimage_builder/elements/centos7/environment.d/09-centos7-distro-name.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8226384cf071719ccc011864f860ee3919af9a9a', 'message': 'Add CentOS 8 support\n\n* Add ""centos"" element, a CentOS version-independent element. This is in\n  line with the same work done for RHEL in Stein cycle.\n* Deprecate the centos7 element. CentOS 7 support itself it not\n  deprecated though. The new ""centos"" element provides the same support\n  level as the ""centos7"" element.\n* Add functional testing\n\nThe default CentOS version is 8. You can adjust it using the DIB_RELEASE\nenvironment variable.\n\nChange-Id: I373ba2296c4613765676e59aabd9c651345298d1\n'}]",6,684308,8226384cf071719ccc011864f860ee3919af9a9a,77,12,19,6469,,,0,"Add CentOS 8 support

* Add ""centos"" element, a CentOS version-independent element. This is in
  line with the same work done for RHEL in Stein cycle.
* Deprecate the centos7 element. CentOS 7 support itself it not
  deprecated though. The new ""centos"" element provides the same support
  level as the ""centos7"" element.
* Add functional testing

The default CentOS version is 8. You can adjust it using the DIB_RELEASE
environment variable.

Change-Id: I373ba2296c4613765676e59aabd9c651345298d1
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/08/684308/18 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/rpm-distro/pre-install.d/01-override-yum-arch', 'diskimage_builder/elements/centos/pre-install.d/02-set-machine-id', 'diskimage_builder/elements/centos/pre-install.d/01-set-centos-mirror', 'diskimage_builder/elements/centos/element-provides', 'diskimage_builder/elements/centos/environment.d/10-centos-distro-name.bash', 'diskimage_builder/elements/centos7/pre-install.d/01-set-centos-mirror', 'diskimage_builder/elements/centos7/environment.d/00-centos7-element-deprecation.bash', 'diskimage_builder/elements/centos/README.rst', 'diskimage_builder/elements/centos/root.d/10-centos-cloud-image', 'diskimage_builder/elements/centos7/element-deps', 'diskimage_builder/elements/centos/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/centos/element-deps', 'diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', 'diskimage_builder/elements/centos7/environment.d/10-centos7-distro-name.bash', 'diskimage_builder/elements/dib-python/pre-install.d/01-dib-python', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/centos7/README.rst']",17,e67c421ef3f850e16fb1d5f5485e8bf97532fa9c,centos8, .. warning:: This element is deprecated and is left only for backward compatibility. Use the `centos` element instead. Note that you should set DIB_RELEASE to 7 to indicate which release you are using. Please read the notes. ,,117,31
openstack%2Fopenstack-ansible~master~I41b9cc74770b401b47be62aeebc57209c6521523,openstack/openstack-ansible,master,I41b9cc74770b401b47be62aeebc57209c6521523,manila: refactor playbooks,MERGED,2020-01-30 08:50:13.000000000,2020-02-26 03:50:58.000000000,2020-02-26 03:48:45.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-01-30 08:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f26a4dc7dd462756bbf3fb20d8db113e1c3248e', 'message': 'manila: refactor playbooks\n\nThe playbooks were trying to be a little too smart by running against\nthe same inventory but skipping which lead to a lot of tasks being\nskipped against hosts.\n\nThis patch cleans it up and makes it a lot more streamlined, simple\nand clean to understand.\n\nChange-Id: I41b9cc74770b401b47be62aeebc57209c6521523\n'}, {'number': 2, 'created': '2020-01-30 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1d7ad6cbccc3780a6074c23ba668343df1f53ddf', 'message': 'manila: refactor playbooks\n\nThe playbooks were trying to be a little too smart by running against\nthe same inventory but skipping which lead to a lot of tasks being\nskipped against hosts.\n\nThis patch cleans it up and makes it a lot more streamlined, simple\nand clean to understand.\n\nChange-Id: I41b9cc74770b401b47be62aeebc57209c6521523\n'}, {'number': 3, 'created': '2020-02-25 18:41:56.000000000', 'files': ['playbooks/os-manila-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/78adec035761454806982424bced3dad094cc3fb', 'message': 'manila: refactor playbooks\n\nThe playbooks were trying to be a little too smart by running against\nthe same inventory but skipping which lead to a lot of tasks being\nskipped against hosts.\n\nThis patch cleans it up and makes it a lot more streamlined, simple\nand clean to understand.\n\nChange-Id: I41b9cc74770b401b47be62aeebc57209c6521523\n'}]",0,704942,78adec035761454806982424bced3dad094cc3fb,29,4,3,1004,,,0,"manila: refactor playbooks

The playbooks were trying to be a little too smart by running against
the same inventory but skipping which lead to a lot of tasks being
skipped against hosts.

This patch cleans it up and makes it a lot more streamlined, simple
and clean to understand.

Change-Id: I41b9cc74770b401b47be62aeebc57209c6521523
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/704942/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-manila-install.yml'],1,9f26a4dc7dd462756bbf3fb20d8db113e1c3248e,osa/manila-generic,"- name: Install manila API services hosts: manila_api:manila_scheduler - include_tasks: common-tasks/unbound-clients.yml when: - hostvars['localhost']['resolvconf_enabled'] | bool roles: - role: ""os_manila"" post_tasks: # Now that container changes are done, we can set # the load balancer back end for this container # to available again. - include_tasks: common-tasks/haproxy-endpoint-manage.yml vars: haproxy_backend: manila_api-back haproxy_state: enabled when: - ""'manila_api' in group_names"" - ""groups['manila_api'] | length > 1"" - name: Install manila data services hosts: manila_data:manila_share gather_facts: ""{{ osa_gather_facts | default(True) }}"" user: root environment: ""{{ deployment_environment_variables | default({}) }}"" vars_files: - ""defaults/repo_packages/openstack_services.yml"" - ""defaults/{{ install_method }}_install.yml"" tags: - manila pre_tasks:","- name: Install manila services hosts: ""manila_all"" when: - inventory_hostname in groups['manila_api'] - role: ""os_manila"" when: - not inventory_hostname in groups['manila_api'] post_tasks: # Now that container changes are done, we can set # the load balancer back end for this container # to available again. - include_tasks: common-tasks/haproxy-endpoint-manage.yml vars: haproxy_backend: manila_api-back haproxy_state: enabled when: - ""'manila_api' in group_names"" - ""groups['manila_api'] | length > 1""",32,19
openstack%2Ftripleo-common~master~Ife347f754ca9129580c092bb271bacdc032ae14b,openstack/tripleo-common,master,Ife347f754ca9129580c092bb271bacdc032ae14b,Improve upload-swift-artifacts handling of json data,MERGED,2020-02-18 01:35:18.000000000,2020-02-26 03:31:21.000000000,2020-02-26 03:29:29.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-02-18 01:35:18.000000000', 'files': ['scripts/upload-swift-artifacts'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c97180ce00e91673990311276c8dcb59af379a1f', 'message': 'Improve upload-swift-artifacts handling of json data\n\nThe ""openstack container show"" output changed, and the value of the\nproperties field is json (meaning that specifying ""-f value"" doesn\'t\neliminate the json formatting). This patch replaces sed to parse the\noutput with a jq expression that knows how to handle json.\n\nMisc notes:\n- Using ""jq -r"" tells jq not to quote the value of the Temp-URL-Key\n- In the jq expression, ""Temp-URL-Key"" must be quoted or else the jq\n  parser stumbles on the \'-\' dashes\n\nChange-Id: Ife347f754ca9129580c092bb271bacdc032ae14b\n'}]",2,708286,c97180ce00e91673990311276c8dcb59af379a1f,19,7,1,21129,,,0,"Improve upload-swift-artifacts handling of json data

The ""openstack container show"" output changed, and the value of the
properties field is json (meaning that specifying ""-f value"" doesn't
eliminate the json formatting). This patch replaces sed to parse the
output with a jq expression that knows how to handle json.

Misc notes:
- Using ""jq -r"" tells jq not to quote the value of the Temp-URL-Key
- In the jq expression, ""Temp-URL-Key"" must be quoted or else the jq
  parser stumbles on the '-' dashes

Change-Id: Ife347f754ca9129580c092bb271bacdc032ae14b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/708286/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upload-swift-artifacts'],1,c97180ce00e91673990311276c8dcb59af379a1f,,"# jq will output ""null"" if it doesn'tSWIFT_TEMP_URL_KEY=$(openstack container show $CONTAINER_NAME -f json 2>/dev/null | jq -r '.properties.""Temp-URL-Key""' || true) if [ ""$SWIFT_TEMP_URL_KEY"" != ""null"" ]; then","KEY_SET=$(openstack container show $CONTAINER_NAME -c properties -f value 2>/dev/null | tr ',' '\n' | grep Temp-Url-Key || true) if [ -z $KEY_SET ]; thenelse SWIFT_TEMP_URL_KEY=$(echo -n $KEY_SET | sed -rn ""s/[[:space:]]*Temp-Url-Key='([[:alnum:]]+)'.*/\1/p"")",3,4
openstack%2Fneutron-vpnaas~master~I0e6c06c1f283df2092dd08efb64da9f28423e2b8,openstack/neutron-vpnaas,master,I0e6c06c1f283df2092dd08efb64da9f28423e2b8,Deprecate ``ovs_integration_bridge``,MERGED,2019-12-16 16:17:55.000000000,2020-02-26 02:49:12.000000000,2020-02-26 02:47:39.000000000,"[{'_account_id': 841}, {'_account_id': 1004}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 13995}, {'_account_id': 15905}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-16 16:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/3b75c67f4ebad4fa99fc7ee3acf44631eef42427', 'message': 'Deprecate ``ovs_integration_bridge``\n\nDeprecated ``ovs_integration_bridge`` to avoid configuration redundancies.\nUse ``neutron::agents::ml2::ovs::integration_bridge`` instead.\n\nChange-Id: I0e6c06c1f283df2092dd08efb64da9f28423e2b8\nRelated-Bug: #1856152\n'}, {'number': 2, 'created': '2019-12-18 13:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/36cea3357041bffcd672f8b7c245398724f7435d', 'message': 'Deprecate ``ovs_integration_bridge``\n\nDeprecated ``ovs_integration_bridge`` to avoid configuration redundancies.\nUse ``neutron::agents::ml2::ovs::integration_bridge`` instead.\n\nChange-Id: I0e6c06c1f283df2092dd08efb64da9f28423e2b8\nRelated-Bug: #1856152\n'}, {'number': 3, 'created': '2020-01-09 18:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/0d8bd6a0aad31ef551ed20d46935e857062dca05', 'message': 'Deprecate ``ovs_integration_bridge``\n\nDeprecated ``ovs_integration_bridge`` to avoid configuration redundancies.\nUse ``neutron::agents::ml2::ovs::integration_bridge`` instead.\n\nChange-Id: I0e6c06c1f283df2092dd08efb64da9f28423e2b8\nRelated-Bug: #1856152\n'}, {'number': 4, 'created': '2020-02-23 18:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ff40ba57ee631cb5066638ad0bba19951df21ffc', 'message': 'Deprecate ``ovs_integration_bridge``\n\nDeprecated ``ovs_integration_bridge`` to avoid configuration redundancies.\nUse ``neutron::agents::ml2::ovs::integration_bridge`` instead.\n\nChange-Id: I0e6c06c1f283df2092dd08efb64da9f28423e2b8\nRelated-Bug: #1856152\n'}, {'number': 5, 'created': '2020-02-24 08:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/eabb328174a061c392c29bcba89bc30084007955', 'message': 'Deprecate ``ovs_integration_bridge``\n\nDeprecated ``ovs_integration_bridge`` to avoid configuration redundancies.\nUse ``neutron::agents::ml2::ovs::integration_bridge`` instead.\n\nChange-Id: I0e6c06c1f283df2092dd08efb64da9f28423e2b8\nRelated-Bug: #1856152\n'}, {'number': 6, 'created': '2020-02-24 16:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/1e2e3c974dbf55104f7c5ecb3ee69441499aab4b', 'message': 'Deprecate ``ovs_integration_bridge``\n\nDeprecated ``ovs_integration_bridge`` to avoid configuration redundancies.\nUse ``neutron::agents::ml2::ovs::integration_bridge`` instead.\n\nChange-Id: I0e6c06c1f283df2092dd08efb64da9f28423e2b8\nRelated-Bug: #1856152\n'}, {'number': 7, 'created': '2020-02-25 07:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f010b44ced23678dbac769666aabee75bae8a99f', 'message': 'Deprecate ``ovs_integration_bridge``\n\nDeprecated ``ovs_integration_bridge`` to avoid configuration redundancies.\nUse ``neutron::agents::ml2::ovs::integration_bridge`` instead.\n\nChange-Id: I0e6c06c1f283df2092dd08efb64da9f28423e2b8\nRelated-Bug: #1856152\n'}, {'number': 8, 'created': '2020-02-25 07:11:46.000000000', 'files': ['neutron_vpnaas/tests/functional/common/test_scenario.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/15c58acf0c1bf2d6db5d8d6b498da5a5387f879a', 'message': 'Deprecate ``ovs_integration_bridge``\n\nDeprecated ``ovs_integration_bridge`` to avoid configuration redundancies.\nUse ``neutron::agents::ml2::ovs::integration_bridge`` instead.\n\nChange-Id: I0e6c06c1f283df2092dd08efb64da9f28423e2b8\nRelated-Bug: #1856152\n'}]",3,699233,15c58acf0c1bf2d6db5d8d6b498da5a5387f879a,26,10,8,16688,,,0,"Deprecate ``ovs_integration_bridge``

Deprecated ``ovs_integration_bridge`` to avoid configuration redundancies.
Use ``neutron::agents::ml2::ovs::integration_bridge`` instead.

Change-Id: I0e6c06c1f283df2092dd08efb64da9f28423e2b8
Related-Bug: #1856152
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/33/699233/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/tests/functional/common/test_scenario.py'],1,3b75c67f4ebad4fa99fc7ee3acf44631eef42427,bug/1856152,from neutron.conf.plugins.ml2.drivers import ovs_conf br_int_1 = get_ovs_bridge(agent1.conf.OVN.integration_bridge) br_int_2 = get_ovs_bridge(agent2.conf.OVN.integration_bridge) ovs_conf.register_ovs_opts(config) self.conf.OVN.integration_bridge) bridge = get_ovs_bridge(self.vpn_agent.conf.OVN.integration_bridge), br_int_1 = get_ovs_bridge(agent1.conf.ovs_integration_bridge) br_int_2 = get_ovs_bridge(agent2.conf.ovs_integration_bridge) self.conf.ovs_integration_bridge) bridge = get_ovs_bridge(self.vpn_agent.conf.ovs_integration_bridge),6,4
openstack%2Fpython-tripleoclient~master~I1bc27ca55a86d8d51960750d36ba825e5197b75f,openstack/python-tripleoclient,master,I1bc27ca55a86d8d51960750d36ba825e5197b75f,"Revert ""Default to zero verbosity when using Ansible.""",MERGED,2020-02-17 16:10:33.000000000,2020-02-26 02:47:11.000000000,2020-02-26 02:44:59.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-17 16:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8c7bfd16c855b2f904620b21f114c6c53f8bdf01', 'message': 'Revert ""Default to zero verbosity when using Ansible.""\n\nThis reverts commit 90eee3abc1efca0166b6e5fb05998aa54abcbc05.\n\nChange-Id: I1bc27ca55a86d8d51960750d36ba825e5197b75f\nCloses-Bug: #1863633\n'}, {'number': 2, 'created': '2020-02-17 16:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c898e8ce568adcebdc51d0cad1e156cdd740bfd5', 'message': 'Revert ""Default to zero verbosity when using Ansible.""\n\nThis reverts commit 90eee3abc1efca0166b6e5fb05998aa54abcbc05.\n\nI\'m reverting this because it\'s a regression.\n  \nI\'m open to not reverting this one if we want to fix it. If the\nintention is to backport then we should revert this and correct it\nbefore backporting.  We shouldn\'t touch the verbosity for anything\nexcept ansible items.  I\'m uncertain if this silenced the heat output\nfor the upgrade tasks but it impacted the deployment output.\n\nChange-Id: I1bc27ca55a86d8d51960750d36ba825e5197b75f\nCloses-Bug: #1863633\n'}, {'number': 3, 'created': '2020-02-17 21:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/66b0f5ee56bf53e21e71857598e56b66b28f59f7', 'message': 'Revert ""Default to zero verbosity when using Ansible.""\n\nThis reverts commit 90eee3abc1efca0166b6e5fb05998aa54abcbc05.\n\nI\'m reverting this because it\'s a regression.\n  \nI\'m open to not reverting this one if we want to fix it. If the\nintention is to backport then we should revert this and correct it\nbefore backporting.  We shouldn\'t touch the verbosity for anything\nexcept ansible items.  I\'m uncertain if this silenced the heat output\nfor the upgrade tasks but it impacted the deployment output.\n\nChange-Id: I1bc27ca55a86d8d51960750d36ba825e5197b75f\nCloses-Bug: #1863633\n'}, {'number': 4, 'created': '2020-02-17 23:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/23c2683add892b04b3d26791b9d0be2686a401ae', 'message': 'Revert ""Default to zero verbosity when using Ansible.""\n\nThis reverts commit 90eee3abc1efca0166b6e5fb05998aa54abcbc05.\n\nI\'m reverting this because it\'s a regression.\n\nI\'m open to not reverting this one if we want to fix it. If the\nintention is to backport then we should revert this and correct it\nbefore backporting.  We shouldn\'t touch the verbosity for anything\nexcept ansible items.  I\'m uncertain if this silenced the heat output\nfor the upgrade tasks but it impacted the deployment output.\n\nChange-Id: I1bc27ca55a86d8d51960750d36ba825e5197b75f\nCloses-Bug: #1863633\n'}, {'number': 5, 'created': '2020-02-19 16:49:39.000000000', 'files': ['tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_deploy.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8d2e15164f2f0e769e9b5f93a79b04eed7587ea2', 'message': 'Revert ""Default to zero verbosity when using Ansible.""\n\nThis reverts commit 90eee3abc1efca0166b6e5fb05998aa54abcbc05.\n\nI\'m reverting this because it\'s a regression.\n\nI\'m open to not reverting this one if we want to fix it. If the\nintention is to backport then we should revert this and correct it\nbefore backporting.  We shouldn\'t touch the verbosity for anything\nexcept ansible items.  I\'m uncertain if this silenced the heat output\nfor the upgrade tasks but it impacted the deployment output.\n\nChange-Id: I1bc27ca55a86d8d51960750d36ba825e5197b75f\nCloses-Bug: #1863633\n'}]",0,708208,8d2e15164f2f0e769e9b5f93a79b04eed7587ea2,17,6,5,14985,,,0,"Revert ""Default to zero verbosity when using Ansible.""

This reverts commit 90eee3abc1efca0166b6e5fb05998aa54abcbc05.

I'm reverting this because it's a regression.

I'm open to not reverting this one if we want to fix it. If the
intention is to backport then we should revert this and correct it
before backporting.  We shouldn't touch the verbosity for anything
except ansible items.  I'm uncertain if this silenced the heat output
for the upgrade tasks but it impacted the deployment output.

Change-Id: I1bc27ca55a86d8d51960750d36ba825e5197b75f
Closes-Bug: #1863633
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/708208/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_deploy.py', 'tripleoclient/v1/overcloud_external_upgrade.py']",13,8c7bfd16c855b2f904620b21f114c6c53f8bdf01,, verbosity = self.app_args.verbose_level, verbosity = self.app_args.verbose_level - 1,24,24
openstack%2Fpython-tripleoclient~master~Ief4c29189b2da7352da9e1bd71ad35d3ee3509ce,openstack/python-tripleoclient,master,Ief4c29189b2da7352da9e1bd71ad35d3ee3509ce,Remove mistral from the reset_bios_configuration workflow,ABANDONED,2020-02-25 23:25:35.000000000,2020-02-26 02:29:54.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-25 23:25:35.000000000', 'files': ['tripleoclient/workflows/baremetal.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ba92d3b1a450ba1dfc7f097c6babacdd0bc6e0c4', 'message': 'Remove mistral from the reset_bios_configuration workflow\n\nThis change removes all of mistral from the reset_bios_configuration\nworkflows by calling the new raid playbook.\n\nStory: 2007212\nTask: 38453\nTask: 38454\n\nDepends-On: I444ead2df7621fd11e336306e817dc1d28a04e72\nChange-Id: Ief4c29189b2da7352da9e1bd71ad35d3ee3509ce\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,709863,ba92d3b1a450ba1dfc7f097c6babacdd0bc6e0c4,8,3,1,7353,,,0,"Remove mistral from the reset_bios_configuration workflow

This change removes all of mistral from the reset_bios_configuration
workflows by calling the new raid playbook.

Story: 2007212
Task: 38453
Task: 38454

Depends-On: I444ead2df7621fd11e336306e817dc1d28a04e72
Change-Id: Ief4c29189b2da7352da9e1bd71ad35d3ee3509ce
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/63/709863/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/baremetal.py'],1,ba92d3b1a450ba1dfc7f097c6babacdd0bc6e0c4,mistral_to_ansible,"def apply_bios_configuration(clients, node_uuids, configuration): with utils.TempDirs() as tmp: utils.run_ansible_playbook( playbook='cli-baremetal-bios.yaml', inventory='localhost,', workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, extra_vars={ 'node_uuids': node_uuids, 'bios_configuration': configuration } print('Successfully applied the BIOS for nodes: {}'.format(node_uuids)) def apply_bios_configuration_on_manageable_nodes(clients, configuration): apply_bios_configuration( clients=clients, node_uuids=[ i.uuid for i in clients.baremetal.node.list() if i.provision_state == ""manageable"" and not i.maintenance ], configuration=configuration )","def apply_bios_configuration(clients, **workflow_input): workflow_client = clients.workflow_engine ooo_client = clients.tripleoclient with ooo_client.messaging_websocket() as ws: execution = base.start_workflow( workflow_client, 'tripleo.baremetal.v1.apply_bios_settings', workflow_input=workflow_input for payload in base.wait_for_messages(workflow_client, ws, execution): if payload.get('message'): print(payload['message']) if payload['status'] == 'SUCCESS': print('Success') else: raise RuntimeError( 'Failed to apply BIOS settings: {}'.format(payload['message'])) def apply_bios_configuration_on_manageable_nodes(clients, **workflow_input): workflow_client = clients.workflow_engine ooo_client = clients.tripleoclient print('Applying BIOS settings for manageable nodes, this may take time') with ooo_client.messaging_websocket() as ws: execution = base.start_workflow( workflow_client, 'tripleo.baremetal.v1.apply_bios_settings_on_manageable_nodes', workflow_input=workflow_input ) for payload in base.wait_for_messages(workflow_client, ws, execution): if payload.get('message'): print(payload['message']) if payload['status'] == 'SUCCESS': print('Success') else: raise RuntimeError( 'Failed to apply BIOS settings: {}'.format(payload['message']))",21,40
openstack%2Fsearchlight~master~I905b03116d7d7e856581532fda104fe08c4e9f35,openstack/searchlight,master,I905b03116d7d7e856581532fda104fe08c4e9f35,Remove remaining use of mox,MERGED,2020-02-25 17:06:24.000000000,2020-02-26 01:48:13.000000000,2020-02-26 01:45:47.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2020-02-25 17:06:24.000000000', 'files': ['searchlight/tests/unit/test_wsgi.py', 'searchlight/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/afcc817945fb9af4ca027f4f5fe545d382b4a117', 'message': 'Remove remaining use of mox\n\nThis is pretty trivial but kills mox usage in this project.\n\nChange-Id: I905b03116d7d7e856581532fda104fe08c4e9f35\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,709791,afcc817945fb9af4ca027f4f5fe545d382b4a117,8,3,1,15334,,,0,"Remove remaining use of mox

This is pretty trivial but kills mox usage in this project.

Change-Id: I905b03116d7d7e856581532fda104fe08c4e9f35
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/91/709791/1 && git format-patch -1 --stdout FETCH_HEAD,"['searchlight/tests/unit/test_wsgi.py', 'searchlight/tests/utils.py']",2,afcc817945fb9af4ca027f4f5fe545d382b4a117,remove-mox,,from oslotest import moxstubout mox_fixture = self.useFixture(moxstubout.MoxStubout()) self.stubs = mox_fixture.stubs,7,8
openstack%2Fsearchlight~master~I9600f7f97b1784a546a05303172d573fc2e75b5d,openstack/searchlight,master,I9600f7f97b1784a546a05303172d573fc2e75b5d,tox: Set 'ignore_basepython_conflict',MERGED,2020-02-25 17:06:24.000000000,2020-02-26 01:47:05.000000000,2020-02-26 01:45:41.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2020-02-25 17:06:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/09738a8ab9db09da180a5bd9abc3a7fa6648b017', 'message': ""tox: Set 'ignore_basepython_conflict'\n\nResolves the following warning:\n\n  UserWarning: conflicting basepython version (set 37, should be 36) for\n  env 'py36';resolve conflict or set ignore_basepython_conflict\n\nChange-Id: I9600f7f97b1784a546a05303172d573fc2e75b5d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,709790,09738a8ab9db09da180a5bd9abc3a7fa6648b017,8,3,1,15334,,,0,"tox: Set 'ignore_basepython_conflict'

Resolves the following warning:

  UserWarning: conflicting basepython version (set 37, should be 36) for
  env 'py36';resolve conflict or set ignore_basepython_conflict

Change-Id: I9600f7f97b1784a546a05303172d573fc2e75b5d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/90/709790/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,09738a8ab9db09da180a5bd9abc3a7fa6648b017,remove-mox,minversion = 3.2skipsdist = true ignore_basepython_conflict = true,minversion = 2.0skipsdist = True,3,2
openstack%2Fneutron~stable%2Fqueens~Iccc4fe4a785ee042fd76a663d0e76a27facd1809,openstack/neutron,stable/queens,Iccc4fe4a785ee042fd76a663d0e76a27facd1809,ovs agent: signal to plugin if tunnel refresh needed,MERGED,2020-02-24 10:36:43.000000000,2020-02-26 01:35:04.000000000,2020-02-26 01:35:04.000000000,"[{'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-24 10:36:43.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/576e76f209ce69d99606ce126cfd4a96d99f8e88', 'message': 'ovs agent: signal to plugin if tunnel refresh needed\n\nPatch https://review.opendev.org/#/c/697655/ cannot be backported\nbecause it includes an RPC version change. This patch is for the\nstable branches.\n\nCurrently the ovs agent calls update_device_list with the\nagent_restarted flag set only on the first loop iteration. Then the\nserver knows to send the l2pop flooding entries for the network to\nthe agent. But when a compute node with many instances on many\nnetworks reboots, it takes time to readd all the active devices and\nsome may be readded after the first loop iteration. Then the server\ncan fail to send the flooding entries which means there will be no\nflood_to_tuns flow and broadcasts like dhcp will fail.\n\nThis patch fixes that by also setting the agent_restarted flag if\nthe agent has not received the flooding entries for a network.\n\nChange-Id: Iccc4fe4a785ee042fd76a663d0e76a27facd1809\nCloses-Bug: #1853613\n(cherry picked from commit bc0ab0fcd721d3fb01fd83291269a586f50efa0e)\n(cherry picked from commit aee87e72b1d456da66d719ccf19054ac1f285a7b)\n(cherry picked from commit d1e2b840b57ba9425d5ea710a0509b677eefcc08)\n'}]",0,709446,576e76f209ce69d99606ce126cfd4a96d99f8e88,16,7,1,9373,,,0,"ovs agent: signal to plugin if tunnel refresh needed

Patch https://review.opendev.org/#/c/697655/ cannot be backported
because it includes an RPC version change. This patch is for the
stable branches.

Currently the ovs agent calls update_device_list with the
agent_restarted flag set only on the first loop iteration. Then the
server knows to send the l2pop flooding entries for the network to
the agent. But when a compute node with many instances on many
networks reboots, it takes time to readd all the active devices and
some may be readded after the first loop iteration. Then the server
can fail to send the flooding entries which means there will be no
flood_to_tuns flow and broadcasts like dhcp will fail.

This patch fixes that by also setting the agent_restarted flag if
the agent has not received the flooding entries for a network.

Change-Id: Iccc4fe4a785ee042fd76a663d0e76a27facd1809
Closes-Bug: #1853613
(cherry picked from commit bc0ab0fcd721d3fb01fd83291269a586f50efa0e)
(cherry picked from commit aee87e72b1d456da66d719ccf19054ac1f285a7b)
(cherry picked from commit d1e2b840b57ba9425d5ea710a0509b677eefcc08)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/709446/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,576e76f209ce69d99606ce126cfd4a96d99f8e88,bug/1853613-stable/queens, tunnels_missing = False if (not tunnels_missing and lvm.network_type in constants.TUNNEL_NETWORK_TYPES and len(lvm.tun_ofports) == 0): tunnels_missing = True agent_restarted = (self.iter_num == 0) or tunnels_missing, agent_restarted = self.iter_num == 0,6,1
openstack%2Fneutron~stable%2Frocky~Iccc4fe4a785ee042fd76a663d0e76a27facd1809,openstack/neutron,stable/rocky,Iccc4fe4a785ee042fd76a663d0e76a27facd1809,ovs agent: signal to plugin if tunnel refresh needed,MERGED,2020-02-24 10:35:02.000000000,2020-02-26 01:35:02.000000000,2020-02-26 01:35:01.000000000,"[{'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-24 10:35:02.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1e2b840b57ba9425d5ea710a0509b677eefcc08', 'message': 'ovs agent: signal to plugin if tunnel refresh needed\n\nPatch https://review.opendev.org/#/c/697655/ cannot be backported\nbecause it includes an RPC version change. This patch is for the\nstable branches.\n\nCurrently the ovs agent calls update_device_list with the\nagent_restarted flag set only on the first loop iteration. Then the\nserver knows to send the l2pop flooding entries for the network to\nthe agent. But when a compute node with many instances on many\nnetworks reboots, it takes time to readd all the active devices and\nsome may be readded after the first loop iteration. Then the server\ncan fail to send the flooding entries which means there will be no\nflood_to_tuns flow and broadcasts like dhcp will fail.\n\nThis patch fixes that by also setting the agent_restarted flag if\nthe agent has not received the flooding entries for a network.\n\nChange-Id: Iccc4fe4a785ee042fd76a663d0e76a27facd1809\nCloses-Bug: #1853613\n(cherry picked from commit bc0ab0fcd721d3fb01fd83291269a586f50efa0e)\n(cherry picked from commit aee87e72b1d456da66d719ccf19054ac1f285a7b)\n'}]",0,709445,d1e2b840b57ba9425d5ea710a0509b677eefcc08,29,7,1,9373,,,0,"ovs agent: signal to plugin if tunnel refresh needed

Patch https://review.opendev.org/#/c/697655/ cannot be backported
because it includes an RPC version change. This patch is for the
stable branches.

Currently the ovs agent calls update_device_list with the
agent_restarted flag set only on the first loop iteration. Then the
server knows to send the l2pop flooding entries for the network to
the agent. But when a compute node with many instances on many
networks reboots, it takes time to readd all the active devices and
some may be readded after the first loop iteration. Then the server
can fail to send the flooding entries which means there will be no
flood_to_tuns flow and broadcasts like dhcp will fail.

This patch fixes that by also setting the agent_restarted flag if
the agent has not received the flooding entries for a network.

Change-Id: Iccc4fe4a785ee042fd76a663d0e76a27facd1809
Closes-Bug: #1853613
(cherry picked from commit bc0ab0fcd721d3fb01fd83291269a586f50efa0e)
(cherry picked from commit aee87e72b1d456da66d719ccf19054ac1f285a7b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/709445/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,d1e2b840b57ba9425d5ea710a0509b677eefcc08,bug/1853613-stable/rocky, tunnels_missing = False if (not tunnels_missing and lvm.network_type in constants.TUNNEL_NETWORK_TYPES and len(lvm.tun_ofports) == 0): tunnels_missing = True agent_restarted = (self.iter_num == 0) or tunnels_missing, agent_restarted = self.iter_num == 0,6,1
openstack%2Freleases~master~I42d941d534bcee9e162e025529d242b75a2efebe,openstack/releases,master,I42d941d534bcee9e162e025529d242b75a2efebe,[requirements] Transition Rocky to EM,ABANDONED,2020-02-26 01:01:27.000000000,2020-02-26 01:22:07.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 01:01:27.000000000', 'files': ['deliverables/rocky/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/140badc3bcabbc5270b73ec2eb11774b616780f4', 'message': '[requirements] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I42d941d534bcee9e162e025529d242b75a2efebe\n'}]",0,709906,140badc3bcabbc5270b73ec2eb11774b616780f4,3,2,1,11904,,,0,"[requirements] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I42d941d534bcee9e162e025529d242b75a2efebe
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/709906/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/requirements.yaml'],1,140badc3bcabbc5270b73ec2eb11774b616780f4,rocky-em,releases: - version: rocky-em projects: - repo: openstack/requirements hash: 6e25a6ae3bddf107f02199a9f4d4537ae8c3bd90,,5,0
openstack%2Fceilometer~stable%2Frocky~I8047d805b0a3da4051a6d618ed9ac40875b8636a,openstack/ceilometer,stable/rocky,I8047d805b0a3da4051a6d618ed9ac40875b8636a,Tell reno to ignore the kilo branch,MERGED,2020-02-12 16:34:11.000000000,2020-02-26 01:13:23.000000000,2020-02-26 01:13:23.000000000,"[{'_account_id': 2472}, {'_account_id': 6732}, {'_account_id': 11904}, {'_account_id': 14107}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23751}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-12 16:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ca12f904a8a4b17d4a379a191d6171440a4b8f94', 'message': ""Tell reno to ignore the kilo branch\n\nWhen reno 3.x runs under setuptools, it scans all of the branches it can\nfind, including any that look like they're closed and have an -eol tag.\nThe old kilo branch in this repository has a jumbled history that\nsomehow makes it look like it should include tags that it doesn't. We\nknow that there are no release notes in that branch, because reno wasn't\nadopted while it was open. The releasenotes/source/index.rst links to\nseparate release notes in the wiki.\n\nThis patch tells reno to ignore that branch so that it doesn't throw an\nexception when it gets confused about the old tag.\n\nChange-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nStory: 2007274\nTask: 38749\n(cherry picked from commit 8770b9223005a52c5270556606be43909895b9f3)\n(cherry picked from commit 4e91fa56d12866f81b820244f9125c2da4fa762a)\n(cherry picked from commit e3988d2c45d084ab119d56facfdd5d47aca315a4)\n""}, {'number': 2, 'created': '2020-02-21 07:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/dbb12f4fb86d3708cc44b387038ad71c62124ab2', 'message': ""Tell reno to ignore the kilo branch\n\nWhen reno 3.x runs under setuptools, it scans all of the branches it can\nfind, including any that look like they're closed and have an -eol tag.\nThe old kilo branch in this repository has a jumbled history that\nsomehow makes it look like it should include tags that it doesn't. We\nknow that there are no release notes in that branch, because reno wasn't\nadopted while it was open. The releasenotes/source/index.rst links to\nseparate release notes in the wiki.\n\nThis patch tells reno to ignore that branch so that it doesn't throw an\nexception when it gets confused about the old tag.\n\nChange-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nStory: 2007274\nTask: 38749\n(cherry picked from commit 8770b9223005a52c5270556606be43909895b9f3)\n(cherry picked from commit 4e91fa56d12866f81b820244f9125c2da4fa762a)\n(cherry picked from commit e3988d2c45d084ab119d56facfdd5d47aca315a4)\n""}, {'number': 3, 'created': '2020-02-24 05:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/df545cb1611326349005418d9ffe022a91198d86', 'message': ""Tell reno to ignore the kilo branch\n\nWhen reno 3.x runs under setuptools, it scans all of the branches it can\nfind, including any that look like they're closed and have an -eol tag.\nThe old kilo branch in this repository has a jumbled history that\nsomehow makes it look like it should include tags that it doesn't. We\nknow that there are no release notes in that branch, because reno wasn't\nadopted while it was open. The releasenotes/source/index.rst links to\nseparate release notes in the wiki.\n\nThis patch tells reno to ignore that branch so that it doesn't throw an\nexception when it gets confused about the old tag.\n\nChange-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nStory: 2007274\nTask: 38749\n(cherry picked from commit 8770b9223005a52c5270556606be43909895b9f3)\n(cherry picked from commit 4e91fa56d12866f81b820244f9125c2da4fa762a)\n(cherry picked from commit e3988d2c45d084ab119d56facfdd5d47aca315a4)\n""}, {'number': 4, 'created': '2020-02-24 07:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b3c3a07f1d9571b19044247ae73230816427d5bc', 'message': ""Tell reno to ignore the kilo branch\n\nWhen reno 3.x runs under setuptools, it scans all of the branches it can\nfind, including any that look like they're closed and have an -eol tag.\nThe old kilo branch in this repository has a jumbled history that\nsomehow makes it look like it should include tags that it doesn't. We\nknow that there are no release notes in that branch, because reno wasn't\nadopted while it was open. The releasenotes/source/index.rst links to\nseparate release notes in the wiki.\n\nThis patch tells reno to ignore that branch so that it doesn't throw an\nexception when it gets confused about the old tag.\n\nChange-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nStory: 2007274\nTask: 38749\n(cherry picked from commit 8770b9223005a52c5270556606be43909895b9f3)\n(cherry picked from commit 4e91fa56d12866f81b820244f9125c2da4fa762a)\n(cherry picked from commit e3988d2c45d084ab119d56facfdd5d47aca315a4)\n""}, {'number': 5, 'created': '2020-02-25 01:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9ca8fb102ebacacae0b2dffefa82b0c3b15fa79c', 'message': ""Tell reno to ignore the kilo branch\n\nWhen reno 3.x runs under setuptools, it scans all of the branches it can\nfind, including any that look like they're closed and have an -eol tag.\nThe old kilo branch in this repository has a jumbled history that\nsomehow makes it look like it should include tags that it doesn't. We\nknow that there are no release notes in that branch, because reno wasn't\nadopted while it was open. The releasenotes/source/index.rst links to\nseparate release notes in the wiki.\n\nThis patch tells reno to ignore that branch so that it doesn't throw an\nexception when it gets confused about the old tag.\n\nChange-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nStory: 2007274\nTask: 38749\n(cherry picked from commit 8770b9223005a52c5270556606be43909895b9f3)\n(cherry picked from commit 4e91fa56d12866f81b820244f9125c2da4fa762a)\n(cherry picked from commit e3988d2c45d084ab119d56facfdd5d47aca315a4)\n""}, {'number': 6, 'created': '2020-02-26 00:49:02.000000000', 'files': ['reno.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/af40e1bf360dbadb6e064c116c8bd5e58e650878', 'message': ""Tell reno to ignore the kilo branch\n\nWhen reno 3.x runs under setuptools, it scans all of the branches it can\nfind, including any that look like they're closed and have an -eol tag.\nThe old kilo branch in this repository has a jumbled history that\nsomehow makes it look like it should include tags that it doesn't. We\nknow that there are no release notes in that branch, because reno wasn't\nadopted while it was open. The releasenotes/source/index.rst links to\nseparate release notes in the wiki.\n\nThis patch tells reno to ignore that branch so that it doesn't throw an\nexception when it gets confused about the old tag.\n\nChange-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nStory: 2007274\nTask: 38749\n(cherry picked from commit 8770b9223005a52c5270556606be43909895b9f3)\n(cherry picked from commit 4e91fa56d12866f81b820244f9125c2da4fa762a)\n(cherry picked from commit e3988d2c45d084ab119d56facfdd5d47aca315a4)\n""}]",0,707425,af40e1bf360dbadb6e064c116c8bd5e58e650878,30,8,6,15197,,,0,"Tell reno to ignore the kilo branch

When reno 3.x runs under setuptools, it scans all of the branches it can
find, including any that look like they're closed and have an -eol tag.
The old kilo branch in this repository has a jumbled history that
somehow makes it look like it should include tags that it doesn't. We
know that there are no release notes in that branch, because reno wasn't
adopted while it was open. The releasenotes/source/index.rst links to
separate release notes in the wiki.

This patch tells reno to ignore that branch so that it doesn't throw an
exception when it gets confused about the old tag.

Change-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a
Co-Authored-By: Doug Hellmann <doug@doughellmann.com>
Story: 2007274
Task: 38749
(cherry picked from commit 8770b9223005a52c5270556606be43909895b9f3)
(cherry picked from commit 4e91fa56d12866f81b820244f9125c2da4fa762a)
(cherry picked from commit e3988d2c45d084ab119d56facfdd5d47aca315a4)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/25/707425/2 && git format-patch -1 --stdout FETCH_HEAD,['reno.yaml'],1,ca12f904a8a4b17d4a379a191d6171440a4b8f94,rocky-reno,"--- # Ignore the kilo-eol tag because that branch does not work with reno # and contains no release notes. closed_branch_tag_re: ""(.+)(?<!kilo)-eol"" ",,4,0
openstack%2Fcinder~master~I0d99ecd324edde161ef1620409d1d2668299806c,openstack/cinder,master,I0d99ecd324edde161ef1620409d1d2668299806c,Run cinder-plugin-ceph-tempest on py3,MERGED,2020-02-19 02:47:25.000000000,2020-02-26 01:06:27.000000000,2020-02-26 01:04:11.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-02-19 02:47:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/27aaf72bbf9c491930fff2b302d6626992ef3a1e', 'message': 'Run cinder-plugin-ceph-tempest on py3\n\ncinder-plugin-ceph-tempest job is derived from\ndevstack-plugin-ceph-tempestjob which is py2 job.\n\nWe should use its py3 version devstack-plugin-ceph-tempest-py3\non master gate.\n\nChange-Id: I0d99ecd324edde161ef1620409d1d2668299806c\n'}]",0,708550,27aaf72bbf9c491930fff2b302d6626992ef3a1e,46,29,1,8556,,,0,"Run cinder-plugin-ceph-tempest on py3

cinder-plugin-ceph-tempest job is derived from
devstack-plugin-ceph-tempestjob which is py2 job.

We should use its py3 version devstack-plugin-ceph-tempest-py3
on master gate.

Change-Id: I0d99ecd324edde161ef1620409d1d2668299806c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/708550/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,27aaf72bbf9c491930fff2b302d6626992ef3a1e,drop-py27-support, parent: devstack-plugin-ceph-tempest-py3, parent: devstack-plugin-ceph-tempest,1,1
openstack%2Fpython-tripleoclient~master~Iadcfb34e296144d82fde1d32acfffa1e01c5c997,openstack/python-tripleoclient,master,Iadcfb34e296144d82fde1d32acfffa1e01c5c997,Remove mistral from the generate_fencing_parameters deploy workflow,MERGED,2020-02-11 16:07:27.000000000,2020-02-26 01:04:16.000000000,2020-02-26 01:02:41.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-11 16:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e31c8a1dcab55d977d161437acf6ea005dd394fc', 'message': 'Remove mistral from the generate_fencing_parameters deploy workflow\n\nThis change removes all of mistral from the generate_fencing_parameters function\nby calling the required functions directly.\n\nChange-Id: Iadcfb34e296144d82fde1d32acfffa1e01c5c997\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-02-17 19:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/554e059965f27471b1da3a143183fd2dfbb85b87', 'message': 'Remove mistral from the generate_fencing_parameters deploy workflow\n\nThis change removes all of mistral from the generate_fencing_parameters function\nby calling the required functions directly.\n\nChange-Id: Iadcfb34e296144d82fde1d32acfffa1e01c5c997\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-02-17 19:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7dd3728dac1df5e28c9d02b563415b2f13d2657d', 'message': 'Remove mistral from the generate_fencing_parameters deploy workflow\n\nThis change removes all of mistral from the generate_fencing_parameters function\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38425\n\nChange-Id: Iadcfb34e296144d82fde1d32acfffa1e01c5c997\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-02-18 16:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8e55d3ee3eb16191885ad8879365f399ebfdab97', 'message': 'Remove mistral from the generate_fencing_parameters deploy workflow\n\nThis change removes all of mistral from the generate_fencing_parameters function\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38425\n\nChange-Id: Iadcfb34e296144d82fde1d32acfffa1e01c5c997\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-02-24 19:11:29.000000000', 'files': ['tripleoclient/v1/overcloud_parameters.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/workflows/parameters.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dbe5169d975d7f3f4e20daadc7c62ca20f8ff4ab', 'message': 'Remove mistral from the generate_fencing_parameters deploy workflow\n\nThis change removes all of mistral from the generate_fencing_parameters function\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38425\n\nChange-Id: Iadcfb34e296144d82fde1d32acfffa1e01c5c997\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,707187,dbe5169d975d7f3f4e20daadc7c62ca20f8ff4ab,42,6,5,7353,,,0,"Remove mistral from the generate_fencing_parameters deploy workflow

This change removes all of mistral from the generate_fencing_parameters function
by calling the required functions directly.

Story: 2007212
Task: 38425

Change-Id: Iadcfb34e296144d82fde1d32acfffa1e01c5c997
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/87/707187/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_parameters.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/workflows/parameters.py']",3,e31c8a1dcab55d977d161437acf6ea005dd394fc,mistral_to_ansible,"from tripleo_common.actions import parameters def generate_fencing_parameters(clients, nodes_json, delay, ipmi_level, ipmi_cipher, ipmi_lanplus): """"""Generate and return fencing parameters. :param clients: application client object. :type clients: Object :param nodes_json: list of nodes & attributes in json format :type nodes_json: List :param delay: time to wait before taking fencing action :type delay: Integer :param ipmi_level: IPMI user level to use :type ipmi_level: String :param ipmi_cipher: IPMI cipher suite to use :type ipmi_cipher: String :param ipmi_lanplus: whether to use IPMIv2.0 :type ipmi_lanplus: Boolean :returns: Dictionary """""" context = clients.tripleoclient.create_mistral_context() fencing_params = parameters.GenerateFencingParametersAction( nodes_json=nodes_json, delay=delay, ipmi_level=ipmi_level, ipmi_cipher=ipmi_cipher, ipmi_lanplus=ipmi_lanplus ) return fencing_params.run(context=context)","def generate_fencing_parameters(clients, **workflow_input): workflow_client = clients.workflow_engine tripleoclients = clients.tripleoclient with tripleoclients.messaging_websocket() as ws: execution = base.start_workflow( workflow_client, 'tripleo.parameters.v1.generate_fencing_parameters', workflow_input=workflow_input) for payload in base.wait_for_messages(workflow_client, ws, execution, 600): if payload['status'] != 'SUCCESS': raise exceptions.WorkflowServiceError( 'Exception generating fencing parameters: {}'.format( payload['message'])) if ('fencing_parameters' in payload and (payload.get('status', 'FAILED') == ""SUCCESS"")): return payload['fencing_parameters']",59,39
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3aa774c06d91a3b67726fad0d0ca409cda5b78b9,openstack/tripleo-heat-templates,stable/train,I3aa774c06d91a3b67726fad0d0ca409cda5b78b9,Remove libvirt packaged dependencies,MERGED,2020-02-12 14:50:07.000000000,2020-02-26 01:02:47.000000000,2020-02-26 01:02:47.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}, {'_account_id': 30921}]","[{'number': 1, 'created': '2020-02-12 14:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec75b06cc80918b562e5e9ff018a00193878ec76', 'message': 'Create qemu user/group on controller\n\nDeployment is failing with error [1] because the owner/group\nof the TLS generated certificate and key were set to \'qemu\'.\nThis user and group exist on compute nodes, but not on controller.\n[1] Error: Could not find group qemu""\n\nThis patch adds \'qemu\' user/group on controller node to\nresolve the issue as this user is required to retrieve the cert,\nused by the VNC proxy, the same way as on the compute nodes.\n\nChange-Id: I3aa774c06d91a3b67726fad0d0ca409cda5b78b9\nCloses-Bug: #1860971\n(cherry picked from commit b8c6154e7afda5525be00189afde15dac649a7b2)\n'}, {'number': 2, 'created': '2020-02-13 11:13:17.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-libvirt-guests-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/852dc1013d6c18113049468ceb1c1a6178aeb4cf', 'message': 'Remove libvirt packaged dependencies\n\nThis re-apply change reverted in I6db56cec954c4d6272548791e6b73bd01b177769\nProblem has been fixed in master and the fix is squashed in this change\n\nNova services are now running in the containers but we have still\na lot of libvirt packages installed on Overcloud systems.\nTo delete unnecessary packages on host systems I\'m removing following\ndependencies:\n* modifying NovaLibvirtGuests service to run in containers and generate\n  config files for libvirt-guests\n* removeing hard dependencies for libvirt-guests service to\n  virt-guest-shutdown.target.\n  packages.\n\nChange-Id: I2d0557127f88a492b283897767e57ea126adfe83\nCloses-Bug: 1842932\n(cherry picked from commit 42eb7c98b6d124a4a3c711cf8da217f75a1d1163)\n\nCreate qemu user/group on controller\n\nDeployment is failing with error [1] because the owner/group\nof the TLS generated certificate and key were set to \'qemu\'.\nThis user and group exist on compute nodes, but not on controller.\n[1] Error: Could not find group qemu""\n\nThis patch adds \'qemu\' user/group on controller node to\nresolve the issue as this user is required to retrieve the cert,\nused by the VNC proxy, the same way as on the compute nodes.\n\nChange-Id: I3aa774c06d91a3b67726fad0d0ca409cda5b78b9\nCloses-Bug: #1860971\n(cherry picked from commit b8c6154e7afda5525be00189afde15dac649a7b2)\n'}]",0,707401,852dc1013d6c18113049468ceb1c1a6178aeb4cf,18,11,2,30133,,,0,"Remove libvirt packaged dependencies

This re-apply change reverted in I6db56cec954c4d6272548791e6b73bd01b177769
Problem has been fixed in master and the fix is squashed in this change

Nova services are now running in the containers but we have still
a lot of libvirt packages installed on Overcloud systems.
To delete unnecessary packages on host systems I'm removing following
dependencies:
* modifying NovaLibvirtGuests service to run in containers and generate
  config files for libvirt-guests
* removeing hard dependencies for libvirt-guests service to
  virt-guest-shutdown.target.
  packages.

Change-Id: I2d0557127f88a492b283897767e57ea126adfe83
Closes-Bug: 1842932
(cherry picked from commit 42eb7c98b6d124a4a3c711cf8da217f75a1d1163)

Create qemu user/group on controller

Deployment is failing with error [1] because the owner/group
of the TLS generated certificate and key were set to 'qemu'.
This user and group exist on compute nodes, but not on controller.
[1] Error: Could not find group qemu""

This patch adds 'qemu' user/group on controller node to
resolve the issue as this user is required to retrieve the cert,
used by the VNC proxy, the same way as on the compute nodes.

Change-Id: I3aa774c06d91a3b67726fad0d0ca409cda5b78b9
Closes-Bug: #1860971
(cherry picked from commit b8c6154e7afda5525be00189afde15dac649a7b2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/707401/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-vnc-proxy-container-puppet.yaml'],1,ec75b06cc80918b562e5e9ff018a00193878ec76,train_remove-libvirt-deps," host_prep_tasks: list_concat: - {get_attr: [NovaLogging, host_prep_tasks]} - - name: ensure qemu group is present on the host group: name: qemu gid: 107 state: present - name: ensure qemu user is present on the host user: name: qemu uid: 107 group: qemu state: present shell: /sbin/nologin comment: qemu user"," host_prep_tasks: {get_attr: [NovaLogging, host_prep_tasks]}",16,1
openstack%2Ftripleo-ci~master~Ib87789b42b3a30216321ca37d32faf5e3965c645,openstack/tripleo-ci,master,Ib87789b42b3a30216321ca37d32faf5e3965c645,add delorean_repo.md5 to logging,MERGED,2020-02-24 19:34:09.000000000,2020-02-26 01:02:46.000000000,2020-02-26 01:02:45.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-24 19:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4dbc11316e377d82fa0284bcae0ef07af4f56b8', 'message': 'add delorean_repo.md5 to logging\n\nChange-Id: Ib87789b42b3a30216321ca37d32faf5e3965c645\n'}, {'number': 2, 'created': '2020-02-24 19:35:00.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4251389020d9a3bb90d6dedc5ad856486d581439', 'message': 'add delorean_repo.md5 to logging\n\nChange-Id: Ib87789b42b3a30216321ca37d32faf5e3965c645\n'}]",0,709597,4251389020d9a3bb90d6dedc5ad856486d581439,9,3,2,9592,,,0,"add delorean_repo.md5 to logging

Change-Id: Ib87789b42b3a30216321ca37d32faf5e3965c645
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/97/709597/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,b4dbc11316e377d82fa0284bcae0ef07af4f56b8,, - /home/*/delorean.repo.md,,1,0
openstack%2Fupstream-institute-virtual-environment~master~I0011b3e9f26eb782c2beb39f13e89ca725543eaa,openstack/upstream-institute-virtual-environment,master,I0011b3e9f26eb782c2beb39f13e89ca725543eaa,fix link to devstack script,NEW,2020-02-09 22:37:01.000000000,2020-02-26 00:51:02.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 10068}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-09 22:37:01.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/upstream-institute-virtual-environment/commit/015f5cd57892f0d1353410e9263ab0e1cdffdd6a', 'message': 'fix link to devstack script\n\nChange-Id: I0011b3e9f26eb782c2beb39f13e89ca725543eaa\n'}]",0,706722,015f5cd57892f0d1353410e9263ab0e1cdffdd6a,6,5,1,30713,,,0,"fix link to devstack script

Change-Id: I0011b3e9f26eb782c2beb39f13e89ca725543eaa
",git fetch https://review.opendev.org/openstack/upstream-institute-virtual-environment refs/changes/22/706722/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,015f5cd57892f0d1353410e9263ab0e1cdffdd6a,typo,Devstack installs using the [99-devstack](elements/upstream-training/install.d/99-devstack),Devstack installs using the [99-devstack.sh](elements/upstream-training/install.d/99-devstack.sh),1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I5baefe16f313cc17d369c9f16529516fc8d6f6e5,openstack/tripleo-ansible,stable/train,I5baefe16f313cc17d369c9f16529516fc8d6f6e5,container_puppet_config: disable SElinux labelling,MERGED,2020-02-25 01:48:42.000000000,2020-02-26 00:27:55.000000000,2020-02-26 00:27:55.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-25 01:48:42.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/888f6d72cbc97c6f41a8101b75485fa9a0590449', 'message': ""container_puppet_config: disable SElinux labelling\n\nThis is a leftover from container-puppet.py that was missed in the\nmigration to Ansible. If we don't do that, SElinux will report alerts\nbecause the entrypoint (container-puppet.sh) tries to copy (and\ntherefore read) the content of /tmp/puppet-tmp which isn't readable per\ncurrent OpenStack SElinux podman policies.\n\nWhile this is done in the policy, let's port the configuration that was\ndone before in container-puppet.py and this patch will be reverted once\nthe policy is less restritive.\n\nChange-Id: I5baefe16f313cc17d369c9f16529516fc8d6f6e5\nRelated-Bug: #1864501\n(cherry picked from commit 99448e20feabf141a49d6953d980c2de6a7c4b07)\n""}]",0,709646,888f6d72cbc97c6f41a8101b75485fa9a0590449,13,4,1,3153,,,0,"container_puppet_config: disable SElinux labelling

This is a leftover from container-puppet.py that was missed in the
migration to Ansible. If we don't do that, SElinux will report alerts
because the entrypoint (container-puppet.sh) tries to copy (and
therefore read) the content of /tmp/puppet-tmp which isn't readable per
current OpenStack SElinux podman policies.

While this is done in the policy, let's port the configuration that was
done before in container-puppet.py and this patch will be reverted once
the policy is less restritive.

Change-Id: I5baefe16f313cc17d369c9f16529516fc8d6f6e5
Related-Bug: #1864501
(cherry picked from commit 99448e20feabf141a49d6953d980c2de6a7c4b07)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/709646/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'],1,888f6d72cbc97c6f41a8101b75485fa9a0590449,train/selinux," # the security_opt can be removed once we properly address: # https://bugs.launchpad.net/tripleo/+bug/1864501 'security_opt': 'label=disable',",,3,0
openstack%2Freleases~master~Ia48b8b22be7ab6a7a5fc12cfc29b27536cd375d6,openstack/releases,master,Ia48b8b22be7ab6a7a5fc12cfc29b27536cd375d6,Release python-openstackclient 4.1.0,ABANDONED,2020-02-19 00:47:10.000000000,2020-02-26 00:23:52.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-19 00:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/71b84f5a5003fa97b00a10ee5ead9732796f7270', 'message': 'Release python-openstackclient 4.1.0\n\nChange-Id: Ia48b8b22be7ab6a7a5fc12cfc29b27536cd375d6\n'}, {'number': 2, 'created': '2020-02-20 00:55:10.000000000', 'files': ['deliverables/ussuri/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c954fb3f056e30d0bfc01a5cce8f221267fda4ca', 'message': 'Release python-openstackclient 4.1.0\n\nChange-Id: Ia48b8b22be7ab6a7a5fc12cfc29b27536cd375d6\n'}]",5,708542,c954fb3f056e30d0bfc01a5cce8f221267fda4ca,11,3,2,30447,,,0,"Release python-openstackclient 4.1.0

Change-Id: Ia48b8b22be7ab6a7a5fc12cfc29b27536cd375d6
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/708542/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/python-openstackclient.yaml'],1,71b84f5a5003fa97b00a10ee5ead9732796f7270,new/new-swift-container-options,releases: - version: 4.1.0 projects: - repo: openstack/python-openstackclient hash: d6022f96dfd608b83a4ff41483336f024aeacb16 ,,6,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I840bfe1cb932810a787b1a4f84b79a298da01e8c,openstack/tripleo-heat-templates,stable/stein,I840bfe1cb932810a787b1a4f84b79a298da01e8c,Set octavia-ansible dir ownership to Ansible user,MERGED,2020-02-19 13:08:57.000000000,2020-02-26 00:20:35.000000000,2020-02-26 00:20:34.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-19 13:08:57.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0dda8552dcfd0d6a1adf02da36b2076692a5899', 'message': 'Set octavia-ansible dir ownership to Ansible user\n\nCloses-Bug: #1847608\nChange-Id: I840bfe1cb932810a787b1a4f84b79a298da01e8c\n(cherry picked from commit 0c638605e8a45bee92d70123ffbafd9c685f5c03)\n(cherry picked from commit ed158f786432e6a8a60f3da22ae282ec4da9d466)\n'}]",0,708646,f0dda8552dcfd0d6a1adf02da36b2076692a5899,8,5,1,25877,,,0,"Set octavia-ansible dir ownership to Ansible user

Closes-Bug: #1847608
Change-Id: I840bfe1cb932810a787b1a4f84b79a298da01e8c
(cherry picked from commit 0c638605e8a45bee92d70123ffbafd9c685f5c03)
(cherry picked from commit ed158f786432e6a8a60f3da22ae282ec4da9d466)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/708646/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,f0dda8552dcfd0d6a1adf02da36b2076692a5899,," - ""{{playbook_dir}}/octavia-ansible""",,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I840bfe1cb932810a787b1a4f84b79a298da01e8c,openstack/tripleo-heat-templates,stable/train,I840bfe1cb932810a787b1a4f84b79a298da01e8c,Set octavia-ansible dir ownership to Ansible user,MERGED,2020-02-19 13:08:14.000000000,2020-02-26 00:20:33.000000000,2020-02-26 00:20:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-19 13:08:14.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed158f786432e6a8a60f3da22ae282ec4da9d466', 'message': 'Set octavia-ansible dir ownership to Ansible user\n\nCloses-Bug: #1847608\nChange-Id: I840bfe1cb932810a787b1a4f84b79a298da01e8c\n(cherry picked from commit 0c638605e8a45bee92d70123ffbafd9c685f5c03)\n'}]",0,708645,ed158f786432e6a8a60f3da22ae282ec4da9d466,8,5,1,25877,,,0,"Set octavia-ansible dir ownership to Ansible user

Closes-Bug: #1847608
Change-Id: I840bfe1cb932810a787b1a4f84b79a298da01e8c
(cherry picked from commit 0c638605e8a45bee92d70123ffbafd9c685f5c03)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/708645/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,ed158f786432e6a8a60f3da22ae282ec4da9d466,," - ""{{playbook_dir}}/octavia-ansible""",,1,0
openstack%2Fopenstack-ansible-galera_client~master~I84dd89be41fe21fc5d540ca0c0fa4dcfd51e45f1,openstack/openstack-ansible-galera_client,master,I84dd89be41fe21fc5d540ca0c0fa4dcfd51e45f1,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:05:30.000000000,2020-02-26 00:16:11.000000000,2020-02-26 00:14:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:05:30.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/12bc357cd0677373f27234d123fd282743ca891f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I84dd89be41fe21fc5d540ca0c0fa4dcfd51e45f1\n'}]",0,709467,12bc357cd0677373f27234d123fd282743ca891f,11,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I84dd89be41fe21fc5d540ca0c0fa4dcfd51e45f1
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/67/709467/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,12bc357cd0677373f27234d123fd282743ca891f,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Ftripleo-common~master~Ib0b0a95dbad8a79e850ba079774491ab433bf674,openstack/tripleo-common,master,Ib0b0a95dbad8a79e850ba079774491ab433bf674,Move plan container creation to utils,MERGED,2020-02-20 05:11:43.000000000,2020-02-26 00:16:02.000000000,2020-02-26 00:14:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-02-20 05:11:43.000000000', 'files': ['tripleo_common/tests/actions/test_plan.py', 'tripleo_common/utils/plan.py', 'tripleo_common/actions/plan.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/903e3497d7928f750cb73f998496e17859b91f80', 'message': 'Move plan container creation to utils\n\nMoves the logic from the custom action to utils. Once we have a\nnew tripleo-common release, we can get rid of the action by\ncalling the util method directly from python-tripleoclient.\n\nChange-Id: Ib0b0a95dbad8a79e850ba079774491ab433bf674\n'}]",0,708802,903e3497d7928f750cb73f998496e17859b91f80,13,6,1,8833,,,0,"Move plan container creation to utils

Moves the logic from the custom action to utils. Once we have a
new tripleo-common release, we can get rid of the action by
calling the util method directly from python-tripleoclient.

Change-Id: Ib0b0a95dbad8a79e850ba079774491ab433bf674
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/708802/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_plan.py', 'tripleo_common/utils/plan.py', 'tripleo_common/actions/plan.py']",3,903e3497d7928f750cb73f998496e17859b91f80,mistral_to_ansible," try: plan_utils.create_plan_container(oc, self.container) except Exception as err: err_msg = (""Container creation failed for plan:%s"" % (err)) LOG.exception(err_msg) return actions.Result(error=err_msg)","from tripleo_common.utils.validations import pattern_validatordefault_container_headers = { constants.TRIPLEO_META_USAGE_KEY: 'plan' } # checks to see if a container has a valid name if not pattern_validator(constants.PLAN_NAME_PATTERN, self.container): message = (""Unable to create plan. The plan name must "" ""only contain letters, numbers or dashes"") return actions.Result(error=message) # checks to see if a container with that name exists if self.container in [container[""name""] for container in oc.get_account()[1]]: result_string = (""A container with the name %s already"" "" exists."") % self.container return actions.Result(error=result_string) oc.put_container(self.container, headers=default_container_headers)",29,22
openstack%2Fopenstack-ansible-os_placement~master~I9d0d46e9c6af1f617cf8390e246a68e25d5eb70b,openstack/openstack-ansible-os_placement,master,I9d0d46e9c6af1f617cf8390e246a68e25d5eb70b,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:13:50.000000000,2020-02-26 00:08:28.000000000,2020-02-26 00:06:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:13:50.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/337c9428965b241183501d98a3432ab71b794e33', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I9d0d46e9c6af1f617cf8390e246a68e25d5eb70b\n'}]",0,709504,337c9428965b241183501d98a3432ab71b794e33,11,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I9d0d46e9c6af1f617cf8390e246a68e25d5eb70b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/04/709504/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,337c9428965b241183501d98a3432ab71b794e33,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fsenlin~stable%2Fqueens~If3b4c2ef3365bc34b73b319af86cc2a6fccea847,openstack/senlin,stable/queens,If3b4c2ef3365bc34b73b319af86cc2a6fccea847,[DNM] Testing gate,ABANDONED,2020-02-18 17:47:42.000000000,2020-02-25 23:48:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-18 17:47:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/c9a1f2c210d7712c1236644af52cb904cb7aeaaf', 'message': '[DNM] Testing gate\n\nChange-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847\nDepends-On: https://review.opendev.org/#/c/707256/\n'}]",0,708468,c9a1f2c210d7712c1236644af52cb904cb7aeaaf,3,1,1,27224,,,0,"[DNM] Testing gate

Change-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847
Depends-On: https://review.opendev.org/#/c/707256/
",git fetch https://review.opendev.org/openstack/senlin refs/changes/68/708468/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c9a1f2c210d7712c1236644af52cb904cb7aeaaf,, - openstack/python-senlinclient - openstack/senlin-dashboard - openstack/python-senlinclient - openstack/senlin-dashboard,,4,0
openstack%2Fsenlin~stable%2Frocky~If3b4c2ef3365bc34b73b319af86cc2a6fccea847,openstack/senlin,stable/rocky,If3b4c2ef3365bc34b73b319af86cc2a6fccea847,[DNM] Testing gate,ABANDONED,2020-02-18 17:47:34.000000000,2020-02-25 23:48:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-18 17:47:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/3e9ded29579228a839acc9d8f2c6c83e165453c0', 'message': '[DNM] Testing gate\n\nChange-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847\nDepends-On: https://review.opendev.org/#/c/707256/\n'}]",0,708467,3e9ded29579228a839acc9d8f2c6c83e165453c0,4,1,1,27224,,,0,"[DNM] Testing gate

Change-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847
Depends-On: https://review.opendev.org/#/c/707256/
",git fetch https://review.opendev.org/openstack/senlin refs/changes/67/708467/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3e9ded29579228a839acc9d8f2c6c83e165453c0,, - openstack/python-senlinclient - openstack/senlin-dashboard - openstack/python-senlinclient - openstack/senlin-dashboard,,4,0
openstack%2Fsenlin~stable%2Fstein~If3b4c2ef3365bc34b73b319af86cc2a6fccea847,openstack/senlin,stable/stein,If3b4c2ef3365bc34b73b319af86cc2a6fccea847,[DNM] Testing gate,ABANDONED,2020-02-18 17:47:08.000000000,2020-02-25 23:48:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-18 17:47:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/1a11d6baebd47dcddc884bde9bbd927f5d1b438a', 'message': '[DNM] Testing gate\n\nChange-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847\nDepends-On: https://review.opendev.org/#/c/707256/\n'}]",0,708466,1a11d6baebd47dcddc884bde9bbd927f5d1b438a,4,1,1,27224,,,0,"[DNM] Testing gate

Change-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847
Depends-On: https://review.opendev.org/#/c/707256/
",git fetch https://review.opendev.org/openstack/senlin refs/changes/66/708466/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1a11d6baebd47dcddc884bde9bbd927f5d1b438a,, - openstack/python-senlinclient - openstack/senlin-dashboard - openstack/python-senlinclient - openstack/senlin-dashboard,,4,0
openstack%2Fsenlin~stable%2Ftrain~If3b4c2ef3365bc34b73b319af86cc2a6fccea847,openstack/senlin,stable/train,If3b4c2ef3365bc34b73b319af86cc2a6fccea847,[DNM] Testing gate,ABANDONED,2020-02-11 06:33:03.000000000,2020-02-25 23:48:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 27224}]","[{'number': 1, 'created': '2020-02-11 06:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a1621a07a434d942e4f634f6aeee5f7f15d5d5f2', 'message': '[DNM] Testing gate\n\nChange-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847\n'}, {'number': 2, 'created': '2020-02-11 07:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/b08a63cad761619228d6479b319c2a933e9796c1', 'message': '[DNM] Testing gate\n\nChange-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847\n'}, {'number': 3, 'created': '2020-02-11 21:46:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/0fd5422173517a5af5c41ae975a512319b584ea7', 'message': '[DNM] Testing gate\n\nChange-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847\nDepends-On: https://review.opendev.org/#/c/707256/\n'}]",0,707066,0fd5422173517a5af5c41ae975a512319b584ea7,23,2,3,27224,,,0,"[DNM] Testing gate

Change-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847
Depends-On: https://review.opendev.org/#/c/707256/
",git fetch https://review.opendev.org/openstack/senlin refs/changes/66/707066/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a1621a07a434d942e4f634f6aeee5f7f15d5d5f2,, - openstack/python-senlinclient - openstack/senlin-dashboard - openstack/python-senlinclient - openstack/senlin-dashboard,,4,0
openstack%2Fsenlin~master~If3b4c2ef3365bc34b73b319af86cc2a6fccea847,openstack/senlin,master,If3b4c2ef3365bc34b73b319af86cc2a6fccea847,[DNM] Testing gate,ABANDONED,2020-02-11 06:32:21.000000000,2020-02-25 23:48:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2020-02-11 06:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ed887a84e2642f40fc5821e8a8a11819746d90ce', 'message': '[DNM] Testing gate\n\nChange-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847\n'}, {'number': 2, 'created': '2020-02-11 07:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/cb92cc5b4cc46e6a7df65d7472d42e9bd2d58fc8', 'message': '[DNM] Testing gate\n\nChange-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847\n'}, {'number': 3, 'created': '2020-02-11 21:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/87aced588a0fdb2d43ef2ae56de2456465df405f', 'message': '[DNM] Testing gate\n\nChange-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847\nDepends-On: https://review.opendev.org/#/c/707256/\n'}, {'number': 4, 'created': '2020-02-11 21:43:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/2f01382610d5bd043e51434163082ae5bb0a44e4', 'message': '[DNM] Testing gate\n\nChange-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847\nDepends-On: https://review.opendev.org/#/c/707256/\n'}]",1,707065,2f01382610d5bd043e51434163082ae5bb0a44e4,17,3,4,27224,,,0,"[DNM] Testing gate

Change-Id: If3b4c2ef3365bc34b73b319af86cc2a6fccea847
Depends-On: https://review.opendev.org/#/c/707256/
",git fetch https://review.opendev.org/openstack/senlin refs/changes/65/707065/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ed887a84e2642f40fc5821e8a8a11819746d90ce,, - openstack/python-senlinclient - openstack/senlin-dashboard - openstack/python-senlinclient - openstack/senlin-dashboard,,4,0
openstack%2Fopenstack-manuals~master~I2d53a4ea281717ba864b8cf699ec503998297f4e,openstack/openstack-manuals,master,I2d53a4ea281717ba864b8cf699ec503998297f4e,Remove 404 link,MERGED,2020-02-21 03:25:33.000000000,2020-02-25 23:39:01.000000000,2020-02-25 23:15:54.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 03:25:33.000000000', 'files': ['doc/doc-contrib-guide/source/doc-tools/template-generator.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d612ac1575b398c5c9b14350b2d5c206ef6c4fe9', 'message': ""Remove 404 link\n\nWe are migrating this server and don't believe this data is that\nhelpful.  See Iccf24a72cf82592bae8c699f9f857aa54fc74f10.\n\nRemove the link.\n\nChange-Id: I2d53a4ea281717ba864b8cf699ec503998297f4e\n""}]",0,709036,d612ac1575b398c5c9b14350b2d5c206ef6c4fe9,11,3,1,7118,,,0,"Remove 404 link

We are migrating this server and don't believe this data is that
helpful.  See Iccf24a72cf82592bae8c699f9f857aa54fc74f10.

Remove the link.

Change-Id: I2d53a4ea281717ba864b8cf699ec503998297f4e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/36/709036/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/doc-contrib-guide/source/doc-tools/template-generator.rst'],1,d612ac1575b398c5c9b14350b2d5c206ef6c4fe9,static-services, to test ``.htaccess``., to test ``.htaccess``; see http://files.openstack.org/docs-404s/ for a list of recent 404 errors,1,3
openstack%2Ftripleo-ci~master~I6f5ff7785caf61f5a7ce829099b9258b22bf343a,openstack/tripleo-ci,master,I6f5ff7785caf61f5a7ce829099b9258b22bf343a,container-build: use the new --work-dir option,MERGED,2020-02-21 12:04:33.000000000,2020-02-25 22:30:08.000000000,2020-02-25 22:30:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 12:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eb6f4011c4f28625e2a19366598c5d7f9e0a5b63', 'message': 'container-build: use the new --work-dir option\n\nTo gather all the needed logs produced by Kolla and Buildah, we\nimplemented a --work-dir option to generate configs and logs in the same\ndirectory. This patch aims to use it only on master for now. Logs will\nbe collected the same since we mv /tmp/kolla-* to the artifacts.\n\nDepends-On: https://review.opendev.org/#/c/709039/\nChange-Id: I6f5ff7785caf61f5a7ce829099b9258b22bf343a\n'}, {'number': 2, 'created': '2020-02-21 12:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ff4a469b2ede8b9b78307eda1ef4b51621ccc3fd', 'message': 'container-build: use the new --work-dir option\n\nTo gather all the needed logs produced by Kolla and Buildah, we\nimplemented a --work-dir option to generate configs and logs in the same\ndirectory. This patch aims to use it only on master for now. Logs will\nbe collected the same since we mv /tmp/kolla-* to the artifacts.\n\nDepends-On: https://review.opendev.org/#/c/709039/\nChange-Id: I6f5ff7785caf61f5a7ce829099b9258b22bf343a\n'}, {'number': 3, 'created': '2020-02-21 13:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3a1b570248b7a8c82b9468c286c41ecd2dd29d91', 'message': 'container-build: use the new --work-dir option\n\nTo gather all the needed logs produced by Kolla and Buildah, we\nimplemented a --work-dir option to generate configs and logs in the same\ndirectory. This patch aims to use it only on master for now. Logs will\nbe collected the same since we mv /tmp/kolla-* to the artifacts.\n\nDepends-On: https://review.opendev.org/#/c/709039/\nChange-Id: I6f5ff7785caf61f5a7ce829099b9258b22bf343a\n'}, {'number': 4, 'created': '2020-02-21 14:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6bd98c5b03ed78c6bcff8aab6fec1ca519a4a53c', 'message': 'container-build: use the new --work-dir option\n\nTo gather all the needed logs produced by Kolla and Buildah, we\nimplemented a --work-dir option to generate configs and logs in the same\ndirectory. This patch aims to use it only on master for now. Logs will\nbe collected the same since we mv /tmp/kolla-* to the artifacts.\n\nDepends-On: https://review.opendev.org/#/c/709039/\nChange-Id: I6f5ff7785caf61f5a7ce829099b9258b22bf343a\n'}, {'number': 5, 'created': '2020-02-21 15:47:50.000000000', 'files': ['roles/build-containers/templates/build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b1fdd33f8722f16e30da9d213222c56ab7219fbd', 'message': 'container-build: use the new --work-dir option\n\nTo gather all the needed logs produced by Kolla and Buildah, we\nimplemented a --work-dir option to generate configs and logs in the same\ndirectory. This patch aims to use it only on master for now. Logs will\nbe collected the same since we mv /tmp/kolla-* to the artifacts.\n\nDepends-On: https://review.opendev.org/#/c/709039/\nChange-Id: I6f5ff7785caf61f5a7ce829099b9258b22bf343a\n'}]",0,709117,b1fdd33f8722f16e30da9d213222c56ab7219fbd,13,5,5,3153,,,0,"container-build: use the new --work-dir option

To gather all the needed logs produced by Kolla and Buildah, we
implemented a --work-dir option to generate configs and logs in the same
directory. This patch aims to use it only on master for now. Logs will
be collected the same since we mv /tmp/kolla-* to the artifacts.

Depends-On: https://review.opendev.org/#/c/709039/
Change-Id: I6f5ff7785caf61f5a7ce829099b9258b22bf343a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/17/709117/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/templates/build.sh.j2'],1,eb6f4011c4f28625e2a19366598c5d7f9e0a5b63,container/build," {% if ci_branch not in ['queens', 'rocky', 'stein', 'train'] %} --work-dir /tmp/kolla-builds {% endif %}",,3,0
openstack%2Fmagnum~master~Iccb3a030aefd2d4e55a455d1a0401cbc4eb7fd14,openstack/magnum,master,Iccb3a030aefd2d4e55a455d1a0401cbc4eb7fd14,Add an ARCH parameter to handle arch specific things,MERGED,2019-12-25 10:03:27.000000000,2020-02-25 22:22:17.000000000,2020-02-25 22:20:57.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22997}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-12-25 10:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3f7793ab86b8955847399f9868592daac204260f', 'message': 'Add an ARCH parameter to handle arch specific things\n\nAdd an ARCH parameter to handle arch specific things, mostly are the\ndocker image repo names.\n\nBecause not all the docker images magnum used support multi-arch[1] like\nkubernetes-dashboard, it will need to specific the arch in the docker\nimage repo name.\n\n[1]\nhttps://kubernetes.io/docs/concepts/containers/images/#building-multi-architecture-images-with-manifests\n\nChange-Id: Iccb3a030aefd2d4e55a455d1a0401cbc4eb7fd14\nTask: 37844\nStory: 2007026\n'}, {'number': 2, 'created': '2019-12-27 01:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4ce5ba86d8d6b735f364cd1964b18a6ce4929667', 'message': 'Add an ARCH parameter to handle arch specific things\n\nAdd an ARCH parameter to handle arch specific things, mostly are the\ndocker image repo names.\n\nBecause not all the docker images magnum used support multi-arch\nmanifest[1] like kubernetes-dashboard, it will need to specific the\narch name in the docker image repo name.\n\n[1]\nhttps://kubernetes.io/docs/concepts/containers/images/#building-multi-architecture-images-with-manifests\n\nChange-Id: Iccb3a030aefd2d4e55a455d1a0401cbc4eb7fd14\nTask: 37884\nStory: 2007026\n'}, {'number': 3, 'created': '2020-02-03 03:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5d4a0b5a600065ae7f91506100e61407bb768717', 'message': 'Add an ARCH parameter to handle arch specific things\n\nAdd an ARCH parameter to handle arch specific things, mostly are the\ndocker image repo names.\n\nBecause not all the docker images magnum used support multi-arch\nmanifest[1] like kubernetes-dashboard, it will need to specific the\narch name in the docker image repo name.\n\n[1]\nhttps://kubernetes.io/docs/concepts/containers/images/#building-multi-architecture-images-with-manifests\n\nChange-Id: Iccb3a030aefd2d4e55a455d1a0401cbc4eb7fd14\nTask: 37884\nStory: 2007026\n'}, {'number': 4, 'created': '2020-02-25 15:42:27.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-adapter.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/5ee27cfb4298c37f7eabf44f580d1168fbe166b1', 'message': 'Add an ARCH parameter to handle arch specific things\n\nAdd an ARCH parameter to handle arch specific things, mostly are the\ndocker image repo names.\n\nBecause not all the docker images magnum used support multi-arch\nmanifest[1] like kubernetes-dashboard, it will need to specific the\narch name in the docker image repo name.\n\n[1]\nhttps://kubernetes.io/docs/concepts/containers/images/#building-multi-architecture-images-with-manifests\n\nChange-Id: Iccb3a030aefd2d4e55a455d1a0401cbc4eb7fd14\nTask: 37884\nStory: 2007026\n'}]",3,700565,5ee27cfb4298c37f7eabf44f580d1168fbe166b1,30,6,4,22997,,,0,"Add an ARCH parameter to handle arch specific things

Add an ARCH parameter to handle arch specific things, mostly are the
docker image repo names.

Because not all the docker images magnum used support multi-arch
manifest[1] like kubernetes-dashboard, it will need to specific the
arch name in the docker image repo name.

[1]
https://kubernetes.io/docs/concepts/containers/images/#building-multi-architecture-images-with-manifests

Change-Id: Iccb3a030aefd2d4e55a455d1a0401cbc4eb7fd14
Task: 37884
Story: 2007026
",git fetch https://review.opendev.org/openstack/magnum refs/changes/65/700565/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-adapter.sh']",7,3f7793ab86b8955847399f9868592daac204260f,story/2007026/task/37884, repository: ${CONTAINER_INFRA_PREFIX:-docker.io/directxman12/}k8s-prometheus-adapter-${ARCH}, repository: ${CONTAINER_INFRA_PREFIX:-docker.io/directxman12/}k8s-prometheus-adapter-amd64,41,9
openstack%2Fopenstack-helm-infra~master~I9ce522f77447b1cb3f189ab7023c5c711e577618,openstack/openstack-helm-infra,master,I9ce522f77447b1cb3f189ab7023c5c711e577618,Add Apparmor to Grafana,MERGED,2020-02-25 00:38:02.000000000,2020-02-25 22:15:41.000000000,2020-02-25 22:12:38.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-25 00:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c560183361393bff73e1a9e648b46badc9484002', 'message': 'Add Apparmor to Grafana\n\nChange-Id: I9ce522f77447b1cb3f189ab7023c5c711e577618\n'}, {'number': 2, 'created': '2020-02-25 02:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6608bd9a04db4ae50d32b72c594b85be4be7b3a', 'message': 'Add Apparmor to Grafana\n\nAdded apparmor feature gate and Zuul Gate Job\n\nChange-Id: I9ce522f77447b1cb3f189ab7023c5c711e577618\n'}, {'number': 3, 'created': '2020-02-25 19:25:29.000000000', 'files': ['grafana/templates/job-db-init-session.yaml', 'tools/deployment/apparmor/075-prometheus-process-exporter.sh', 'grafana/templates/deployment.yaml', 'tools/deployment/osh-infra-monitoring/110-grafana.sh', 'zuul.d/jobs.yaml', 'grafana/values_overrides/apparmor.yaml', 'tools/deployment/apparmor/080-grafana.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cc392aaa85b721a30c7839477f9096324013fb03', 'message': 'Add Apparmor to Grafana\n\nAdded apparmor feature gate and Zuul Gate Job\n\nChange-Id: I9ce522f77447b1cb3f189ab7023c5c711e577618\n'}]",1,709643,cc392aaa85b721a30c7839477f9096324013fb03,15,6,3,29131,,,0,"Add Apparmor to Grafana

Added apparmor feature gate and Zuul Gate Job

Change-Id: I9ce522f77447b1cb3f189ab7023c5c711e577618
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/43/709643/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/templates/job-db-init-session.yaml', 'grafana/templates/deployment.yaml', 'grafana/values_overrides/apparmor.yaml']",3,c560183361393bff73e1a9e648b46badc9484002,,pod: mandatory_access_control: type: apparmor grafana: grafana: runtime/default grafana: runtime/default grafana-db-init-session: grafana-db-init-session: runtime/default ,,14,0
openstack%2Fopenstack-helm-infra~master~I4ae738636bff152a57bf292786d3855384e3529b,openstack/openstack-helm-infra,master,I4ae738636bff152a57bf292786d3855384e3529b,[FIX] Fix Apparmor for postgresql-openstack-create-user,MERGED,2020-02-24 15:35:48.000000000,2020-02-25 22:05:08.000000000,2020-02-25 22:03:24.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 30777}, {'_account_id': 30784}]","[{'number': 1, 'created': '2020-02-24 15:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a6067c5111559b92c906fb6a7f35381db1e58df5', 'message': '[FIX] Fix Apparmor for postgresql-openstack-create-user\n\nChange-Id: I4ae738636bff152a57bf292786d3855384e3529b\n'}, {'number': 2, 'created': '2020-02-24 17:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/67b1f4fe3f8794a69c4509f35ea1d7a93043b1a7', 'message': '[FIX] Fix Apparmor for postgresql-openstack-create-user\n\nChange-Id: I4ae738636bff152a57bf292786d3855384e3529b\n'}, {'number': 3, 'created': '2020-02-24 18:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b849ba672e7de32ce655eb6127700b130c8f2303', 'message': '[FIX] Fix Apparmor for postgresql-openstack-create-user\n\nChange-Id: I4ae738636bff152a57bf292786d3855384e3529b\n'}, {'number': 4, 'created': '2020-02-24 19:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2df1d62356ee62af2c3e021318fc141f93b902df', 'message': '[FIX] Fix Apparmor for postgresql-openstack-create-user\n\nChange-Id: I4ae738636bff152a57bf292786d3855384e3529b\n'}, {'number': 5, 'created': '2020-02-24 21:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a2b246e9a82bfcb042312e7d4a08fb3cea7cb0ac', 'message': '[FIX] Fix Apparmor for postgresql-openstack-create-user\n\nChange-Id: I4ae738636bff152a57bf292786d3855384e3529b\n'}, {'number': 6, 'created': '2020-02-25 01:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/df0c014f21d71be01ca1cc8bd86d36ef0c01da07', 'message': '[FIX] Fix Apparmor for postgresql-openstack-create-user\n\nChange-Id: I4ae738636bff152a57bf292786d3855384e3529b\n'}, {'number': 7, 'created': '2020-02-25 18:58:22.000000000', 'files': ['postgresql/values_overrides/apparmor.yaml', 'postgresql/templates/monitoring/prometheus/exporter-job-create-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8caf00b12cdecee93f30b24c542b2f6471e0e14d', 'message': '[FIX] Fix Apparmor for postgresql-openstack-create-user\n\nChange-Id: I4ae738636bff152a57bf292786d3855384e3529b\n'}]",1,709555,8caf00b12cdecee93f30b24c542b2f6471e0e14d,28,7,7,29131,,,0,"[FIX] Fix Apparmor for postgresql-openstack-create-user

Change-Id: I4ae738636bff152a57bf292786d3855384e3529b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/709555/7 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/values_overrides/apparmor.yaml', 'postgresql/templates/monitoring/prometheus/exporter-job-create-user.yaml']",2,a6067c5111559b92c906fb6a7f35381db1e58df5,," annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" | indent 8 }} {{ dict ""envAll"" $envAll ""podName"" ""prometheus-postgresql-exporter-create-user"" ""containerNames"" (list ""prometheus-postgresql-exporter-create-user"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }}",,5,0
openstack%2Ftripleo-quickstart~master~I5b76e9acf85ee91b87d8099389fa157e7b8d08c8,openstack/tripleo-quickstart,master,I5b76e9acf85ee91b87d8099389fa157e7b8d08c8,Add release file for master CentOS 8,ABANDONED,2020-02-20 21:18:52.000000000,2020-02-25 21:37:52.000000000,,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-20 21:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c0b365b4e17525dbb100232ff53e4d2f292f0ea1', 'message': 'Add release file for master CentOS 8\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 2, 'created': '2020-02-20 22:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e8740065ee6123369a3e84ae994d6bebcafec990', 'message': 'Add release file for master CentOS 8\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 3, 'created': '2020-02-20 22:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a43fec733820066633259fd3985514a93e097255', 'message': 'Add release file for master CentOS 8\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 4, 'created': '2020-02-21 09:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/18359b569b9a8dc960ef38ca1e8f17cdea8c6cfb', 'message': 'Add release file for master CentOS 8\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 5, 'created': '2020-02-21 10:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b51ab0c7824e670ce46daab3eddbde73c1108983', 'message': 'Add release file for master CentOS 8\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 6, 'created': '2020-02-21 11:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/600e0f3df83d3fae81c236715d96e85da382b572', 'message': 'Add release file for master CentOS 8\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 7, 'created': '2020-02-24 07:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/827e09c6ee439a045adf75efa35745de8663403a', 'message': 'Add release file for master CentOS 8\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 8, 'created': '2020-02-24 07:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fbb560cca140fbb00759c734bfe95cf3e67ee566', 'message': 'Add release file for master CentOS 8\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 9, 'created': '2020-02-24 07:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6ffb447c872d96ccc8c81ff817c2a9d4f04cd17c', 'message': 'Add release file for master CentOS 8\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 10, 'created': '2020-02-24 07:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5639b1cd959706d8a3760a94190cec86849bea90', 'message': 'Add release file for master CentOS 8\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 11, 'created': '2020-02-24 08:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7c5f967b40e0a0816fa0543c915987d8d41fe355', 'message': 'Add release file for master CentOS 8\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 12, 'created': '2020-02-24 10:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b530b2637c4a601242b995614c9ae66ab0f1281d', 'message': 'Add release file for master CentOS 8\n\n* Added tripleo component current dlrn repo\n* Download dlrn deps repo\n* Replace trunk.rdoproject.org to nodepool proxy\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 13, 'created': '2020-02-24 11:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4aebd94f2f3a414eb83d79a57d1b3c2f6908d4f4', 'message': 'Add release file for master CentOS 8\n\n* Added tripleo component current dlrn repo\n* Download dlrn deps repo\n* Replace trunk.rdoproject.org to nodepool proxy\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 14, 'created': '2020-02-24 11:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7395c623a63f7f25ba460155d4d3bb8eef667c8f', 'message': 'Add release file for master CentOS 8\n\n* Added tripleo component current dlrn repo\n* Download dlrn deps repo\n* Replace trunk.rdoproject.org to nodepool proxy\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 15, 'created': '2020-02-24 11:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/874d29b1a936b7cf8fdd78995389e939e28ec39a', 'message': 'Add release file for master CentOS 8\n\n* Added tripleo component current dlrn repo\n* Download dlrn deps repo\n* Replace trunk.rdoproject.org to nodepool proxy\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 16, 'created': '2020-02-24 12:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7f4a3859e3521fc0938d549994133e69e935f4dd', 'message': 'Add release file for master CentOS 8\n\n* Added tripleo component current dlrn repo\n* Download dlrn deps repo\n* Replace trunk.rdoproject.org to nodepool proxy\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 17, 'created': '2020-02-24 13:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f2206d313d02ef284dd298b0475ae06faa9c1f79', 'message': 'Add release file for master CentOS 8\n\n* Added tripleo component current dlrn repo\n* Download dlrn deps repo\n* Replace trunk.rdoproject.org to nodepool proxy\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 18, 'created': '2020-02-24 13:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b54d96243d74553e7c812b26b07ceb5a5739b737', 'message': 'Add release file for master CentOS 8\n\n* Added tripleo component current dlrn repo\n* Download dlrn deps repo\n* Replace trunk.rdoproject.org to nodepool proxy\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 19, 'created': '2020-02-24 15:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9a23e77fe886e48d099bde73f86864a38ef477b7', 'message': 'Add release file for master CentOS 8\n\n* Added tripleo component current dlrn repo\n* Download dlrn deps repo\n* Replace trunk.rdoproject.org to nodepool proxy\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 20, 'created': '2020-02-24 15:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aaae2bc843042fba39b4bfc50f611b32c7c6a119', 'message': 'Add release file for master CentOS 8\n\n* Added tripleo component current dlrn repo\n* Download dlrn deps repo\n* Replace trunk.rdoproject.org to nodepool proxy\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}, {'number': 21, 'created': '2020-02-25 11:25:45.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/93d551df04918f71bcb98bdfc644911c06cc16d3', 'message': 'Add release file for master CentOS 8\n\n* Added tripleo component current dlrn repo\n* Download dlrn deps repo\n* Replace trunk.rdoproject.org to nodepool proxy\n\nChange-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8\n'}]",32,708968,93d551df04918f71bcb98bdfc644911c06cc16d3,70,12,21,9976,,,0,"Add release file for master CentOS 8

* Added tripleo component current dlrn repo
* Download dlrn deps repo
* Replace trunk.rdoproject.org to nodepool proxy

Change-Id: I5b76e9acf85ee91b87d8099389fa157e7b8d08c8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/68/708968/17 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml']",2,c0b365b4e17525dbb100232ff53e4d2f292f0ea1,centos-8-release-files,"devmode: true overcloud_as_undercloud: true images: - name: overcloud-full url: ""{{ overcloud_image_url }}"" type: tar - name: ipa_images url: ""{{ ipa_image_url }}"" type: tar inject_images: - ""ironic-python-agent.initramfs"" - ""ironic-python-agent.kernel"" - ""overcloud-full.qcow2"" - ""overcloud-full.initrd"" - ""overcloud-full.vmlinuz"" release: master distro_ver: centos8 distro_deps_repo_name: deps dlrn_hash_tag: current-tripleo dlrn_hash_tag_newest: current dlrn_baseurl: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}"" docker_registry_host: docker.io docker_registry_namespace: ""tripleo{{ release }}"" docker_image_tag: ""{{ dlrn_hash|default(dlrn_hash_tag) }}"" docker_openshift_tag: v3.11.0 overcloud_image_url: ""https://images.rdoproject.org/{{ release }}/rdo_trunk/current-tripleo/overcloud-full.tar"" ipa_image_url: ""https://images.rdoproject.org/{{ release }}/rdo_trunk/current-tripleo/ironic-python-agent.tar"" repo_cmd_before: | sudo rm -rf /etc/yum.repos.d/delorean*; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo yum clean all; sudo yum-config-manager --disable ""*"" if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh else # Otherwise, fallback to official mirrors provided by CentOS. export NODEPOOL_CENTOS_MIRROR={{ lookup('env','NODEPOOL_CENTOS_MIRROR')|default('http://mirror.centos.org/centos', true) }} export NODEPOOL_RDO_PROXY=https://trunk.rdoproject.org fi rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_path_newest|default(dlrn_hash_tag_newest, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` tripleo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` if [[ -z ""$rdo_dlrn"" || -z ""$tripleo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 fi export RDO_DLRN_REPO=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} export TRIPLEO_DLRN_REPO=${tripleo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} repos: # RDO repos - type: generic reponame: delorean filename: delorean.repo priority: 20 baseurl: $TRIPLEO_DLRN_REPO - type: generic reponame: delorean-current filename: delorean-current.repo baseurl: $RDO_DLRN_REPO priority: 10 includepkgs: - ansible-role-container-registry - ansible-role-tripleo* - ansible-tripleo-ipsec - instack - instack-undercloud - openstack-tripleo-* - os-apply-config - os-collect-config - os-net-config - os-refresh-config - puppet-* - python*-tripleo* - python*-paunch* - paunch-services - tripleo-ansible - ansible-config_template - type: generic reponame: ""delorean-{{ release }}-deps"" filename: ""delorean-{{ release }}-deps.repo"" baseurl: ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/{{ distro_deps_repo_name }}/latest/ - type: generic reponame: delorean-master-build-deps filename: delorean-master-build-deps.repo baseurl: ${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/build-deps/latest/ enabled: 0 # CentOS related repos - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/os/x86_64/ - type: generic reponame: quickstart-centos-updates filename: quickstart-centos-updates.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/updates/x86_64/ - type: generic reponame: quickstart-centos-extras filename: quickstart-centos-extras.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/extras/x86_64/ - type: generic reponame: quickstart-centos-qemu filename: quickstart-centos-qemu.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/virt/x86_64/kvm-common/ - type: generic reponame: quickstart-centos-ceph-nautilus filename: quickstart-centos-ceph-nautilus.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/storage/x86_64/ceph-nautilus/ - type: generic reponame: quickstart-centos-opstools filename: quickstart-centos-opstools.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/opstools/x86_64/ - type: generic reponame: quickstart-centos8-rt filename: quickstart-centos8-rt.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/rt/x86_64/ enabled: 0 repo_cmd_after: | sudo yum install -y yum-plugin-priorities; {% if not enable_opstools_repo|default(false)|bool %}sudo yum-config-manager --save --setopt quickstart-centos-opstools.enabled=0; {%endif %} sudo yum-config-manager --disable rdo-qemu-ev; sudo rpm -e epel-release || true; sudo yum remove -y rdo-release centos-release-ceph-* centos-release-openstack-* centos-release-qemu-ev || true; sudo rm -rf /etc/yum.repos.d/CentOS-OpenStack-*.repo /etc/yum.repos.d/CentOS-Ceph-*.repo /etc/yum.repos.d/CentOS-QEMU-EV.repo; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo yum repolist; sudo yum clean metadata {% if repo_setup_run_update|default(true)|bool %} sudo yum update -y {% endif %} undercloud_rpm_dependencies: >- python-tripleoclient ceph-ansible # baseos settings baseos_undercloud_image_url: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2 baseos_image: centos baseos_image_type: qcow2 baseos_md5sum: ""d89eb49f2c264d29225cecf2b6c83322 CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2"" ",,286,0
openstack%2Fopenstack-helm~master~Iecbf3242e6d07e5b226ae9c95e387c880e2f5f7b,openstack/openstack-helm,master,Iecbf3242e6d07e5b226ae9c95e387c880e2f5f7b,[DNM] Test Ingress,ABANDONED,2020-02-24 02:22:15.000000000,2020-02-25 21:29:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-24 02:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/831dc745c57c7921cde3dc0f5ca2e95eda1e6ad6', 'message': '[DNM] Test Ingress\n\nChange-Id: Iecbf3242e6d07e5b226ae9c95e387c880e2f5f7b\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-02-24 02:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eedb474ddce65972fb5d11b2a27c8f5d57a6cbf5', 'message': '[DNM] Test Ingress\n\nChange-Id: Iecbf3242e6d07e5b226ae9c95e387c880e2f5f7b\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 3, 'created': '2020-02-24 21:55:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/26cc2051f72b6f3c7147d409c80648c727943afe', 'message': '[DNM] Test Ingress\n\nChange-Id: Iecbf3242e6d07e5b226ae9c95e387c880e2f5f7b\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}]",0,709391,26cc2051f72b6f3c7147d409c80648c727943afe,6,1,3,29131,,,0,"[DNM] Test Ingress

Change-Id: Iecbf3242e6d07e5b226ae9c95e387c880e2f5f7b
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/709391/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,831dc745c57c7921cde3dc0f5ca2e95eda1e6ad6,test_apparmor_ingress,,,0,0
openstack%2Foslo.utils~master~I0f0e3e9ce4a410f60639c28aaadb9197aa47b492,openstack/oslo.utils,master,I0f0e3e9ce4a410f60639c28aaadb9197aa47b492,Flatten test case,MERGED,2019-12-18 18:06:46.000000000,2020-02-25 21:26:41.000000000,2020-02-25 21:22:41.000000000,"[{'_account_id': 4257}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-18 18:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/e9ac79401a5058a34ecde1f7c88b6c1a6c2a9802', 'message': ""Flatten test case\n\nmock doesn't have a way to do the below pattern:\n\n  foo.bar(call_arg).AndReturn(return_arg)\n  my_call()\n\nInstead, you have to do the following:\n\n  mock_foo.return_value = return_arg\n  my_call()\n  mock_foo.assert_call_once_with(call_arg)\n\nAs such, we can't easily map the below to mock:\n\n  def check_something(self):\n      mock_foo.assert_call_once_with(call_arg)\n\n  def test_foo(self):\n      self.check_something()\n      self.check_something()\n      self.check_something()\n      my_call()\n\nAnd we need to flatten this out, somewhat dumbly, to allow the\nconversion.\n\nChange-Id: I0f0e3e9ce4a410f60639c28aaadb9197aa47b492\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-02-25 16:55:02.000000000', 'files': ['oslo_utils/tests/test_excutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/7b7970f858a12f838958810b33bbcaa0a0090217', 'message': ""Flatten test case\n\nmock doesn't have a way to do the below pattern:\n\n  foo.bar(call_arg).AndReturn(return_arg)\n  my_call()\n\nInstead, you have to do the following:\n\n  mock_foo.return_value = return_arg\n  my_call()\n  mock_foo.assert_call_once_with(call_arg)\n\nAs such, we can't easily map the below to mock:\n\n  def check_something(self):\n      mock_foo.assert_call_once_with(call_arg)\n\n  def test_foo(self):\n      self.check_something()\n      self.check_something()\n      self.check_something()\n      my_call()\n\nAnd we need to flatten this out, somewhat dumbly, to allow the\nconversion.\n\nChange-Id: I0f0e3e9ce4a410f60639c28aaadb9197aa47b492\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,699745,7b7970f858a12f838958810b33bbcaa0a0090217,11,4,2,15334,,,0,"Flatten test case

mock doesn't have a way to do the below pattern:

  foo.bar(call_arg).AndReturn(return_arg)
  my_call()

Instead, you have to do the following:

  mock_foo.return_value = return_arg
  my_call()
  mock_foo.assert_call_once_with(call_arg)

As such, we can't easily map the below to mock:

  def check_something(self):
      mock_foo.assert_call_once_with(call_arg)

  def test_foo(self):
      self.check_something()
      self.check_something()
      self.check_something()
      my_call()

And we need to flatten this out, somewhat dumbly, to allow the
conversion.

Change-Id: I0f0e3e9ce4a410f60639c28aaadb9197aa47b492
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/45/699745/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/tests/test_excutils.py'],1,e9ac79401a5058a34ecde1f7c88b6c1a6c2a9802,remove-mox," def test_exc_retrier_1exc_gives_1log(self): Exception('unexpected %d' % 1)) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 1)) for timestamp in [0]: def test_exc_retrier_same_10exc_1min_gives_1log(self): self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 1)) # Timestamp calls that happen after the logging is possibly triggered. for timestamp in [0]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) # Timestamp calls that happen before the logging is possibly # triggered. for timestamp in [i]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn(None) self.mox.ReplayAll() self.exception_generator() self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 1)) # Timestamp calls that happen after the logging is possibly triggered. for timestamp in [0]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) # Timestamp calls that happen before the logging is possibly triggered. for timestamp in [65]: timeutils.now().AndReturn(timestamp) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 1)) # Timestamp calls that happen after the logging is possibly triggered. for timestamp in [65, 66]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn(None) self.mox.ReplayAll() self.exception_generator() self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 1)) # Timestamp calls that happen after the logging is possibly triggered. for timestamp in [0]: timeutils.now().AndReturn(timestamp) for ts in [12, 23, 34, 45]: self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) # Timestamp calls that happen before the logging is possibly # triggered. for timestamp in [ts]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) # Timestamp calls that happen before the logging is possibly triggered. for timestamp in [106]: timeutils.now().AndReturn(timestamp) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 5)) # Timestamp calls that happen after the logging is possibly triggered. for timestamp in [106, 107]: timeutils.now().AndReturn(timestamp) for ts in [117, 128, 139, 150]: self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) # Timestamp calls that happen before the logging is possibly # triggered. for timestamp in [ts]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn(None) self.mox.ReplayAll() self.exception_generator() # The stop watch will be started, which will consume one timestamp # call. self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 1)) # Timestamp calls that happen after the logging is possibly triggered. for timestamp in [0]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) # Timestamp calls that happen before the logging is possibly triggered. # Since the exception will be the same the expiry method will be # called, which uses up a timestamp call. for timestamp in [5]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 2)) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 1)) # Timestamp calls that happen after the logging is possibly triggered. # The watch should get reset, which uses up two timestamp calls. for timestamp in [10, 20]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 2)) # Timestamp calls that happen before the logging is possibly triggered. # Since the exception will be the same the expiry method will be # called, which uses up a timestamp call. for timestamp in [25]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn(None) self.mox.ReplayAll() self.exception_generator() self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 1)) # Timestamp calls that happen after the logging is possibly triggered. for timestamp in [0]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) # Timestamp calls that happen before the logging is possibly triggered. for timestamp in [10]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 2)) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 1)) # Timestamp calls that happen after the logging is possibly triggered. for timestamp in [100, 105]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 2)) # Timestamp calls that happen before the logging is possibly triggered. for timestamp in [110]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn(None) self.mox.ReplayAll() self.exception_generator() self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 1)) # Timestamp calls that happen after the logging is possibly triggered. for timestamp in [0]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) # Timestamp calls that happen before the logging is possibly triggered. for timestamp in [10]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 1)) # Timestamp calls that happen before the logging is possibly triggered. for timestamp in [100]: timeutils.now().AndReturn(timestamp) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 2)) # Timestamp calls that happen after the logging is possibly triggered. for timestamp in [100, 105]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn( Exception('unexpected %d' % 2)) logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % 1)) # Timestamp calls that happen after the logging is possibly triggered. for timestamp in [110, 111]: timeutils.now().AndReturn(timestamp) self.exception_to_raise().AndReturn(None) self.mox.ReplayAll() self.exception_generator()"," exc = self.exception_to_raise() def exc_retrier_sequence(self, exc_id=None, exc_count=None, before_timestamp_calls=(), after_timestamp_calls=()): Exception('unexpected %d' % exc_id)) # Timestamp calls that happen before the logging is possibly triggered. for timestamp in before_timestamp_calls: timeutils.now().AndReturn(timestamp) if exc_count != 0: logging.exception(mox.In( 'Unexpected exception occurred %d time(s)' % exc_count)) for timestamp in after_timestamp_calls: def exc_retrier_common_end(self): def test_exc_retrier_1exc_gives_1log(self): self.exc_retrier_sequence(exc_id=1, exc_count=1, after_timestamp_calls=[0]) self.exc_retrier_common_end() def test_exc_retrier_same_10exc_1min_gives_1log(self): self.exc_retrier_sequence(exc_id=1, after_timestamp_calls=[0], exc_count=1) self.exc_retrier_sequence(exc_id=1, before_timestamp_calls=[i], exc_count=0) self.exc_retrier_common_end() self.exc_retrier_sequence(exc_id=1, after_timestamp_calls=[0], exc_count=1) self.exc_retrier_sequence(exc_id=1, before_timestamp_calls=[65], exc_count=1, after_timestamp_calls=[65, 66]) self.exc_retrier_common_end() self.exc_retrier_sequence(exc_id=1, after_timestamp_calls=[0], exc_count=1) for ts in [12, 23, 34, 45]: self.exc_retrier_sequence(exc_id=1, before_timestamp_calls=[ts], exc_count=0) self.exc_retrier_sequence(exc_id=1, before_timestamp_calls=[106], exc_count=5, after_timestamp_calls=[106, 107]) for ts in [117, 128, 139, 150]: self.exc_retrier_sequence(exc_id=1, before_timestamp_calls=[ts], exc_count=0) self.exc_retrier_common_end() self.exc_retrier_sequence(exc_id=1, # The stop watch will be started, # which will consume one timestamp call. after_timestamp_calls=[0], exc_count=1) self.exc_retrier_sequence(exc_id=1, exc_count=0, # Since the exception will be the same # the expiry method will be called, which # uses up a timestamp call. before_timestamp_calls=[5]) self.exc_retrier_sequence(exc_id=2, exc_count=1, # The watch should get reset, which uses # up two timestamp calls. after_timestamp_calls=[10, 20]) # Again, trailing exceptions within a minute are not counted. self.exc_retrier_sequence(exc_id=2, exc_count=0, # Since the exception will be the same # the expiry method will be called, which # uses up a timestamp call. before_timestamp_calls=[25]) self.exc_retrier_common_end() self.exc_retrier_sequence(exc_id=1, # The stop watch will now be started. after_timestamp_calls=[0], exc_count=1) self.exc_retrier_sequence(exc_id=1, before_timestamp_calls=[10], exc_count=0) self.exc_retrier_sequence(exc_id=2, exc_count=1, # The stop watch will now be restarted. after_timestamp_calls=[100, 105]) self.exc_retrier_sequence(exc_id=2, before_timestamp_calls=[110], exc_count=0) self.exc_retrier_common_end() self.exc_retrier_sequence(exc_id=1, # The stop watch will now be started. after_timestamp_calls=[0], exc_count=1) self.exc_retrier_sequence(exc_id=1, before_timestamp_calls=[10], exc_count=0) self.exc_retrier_sequence(exc_id=1, before_timestamp_calls=[100], after_timestamp_calls=[100, 105], exc_count=2) self.exc_retrier_sequence(exc_id=2, exc_count=1, after_timestamp_calls=[110, 111]) self.exc_retrier_common_end()",195,86
openstack%2Fheat~master~Ia52818cfc9479d5fa6e3b236988694f47998acda,openstack/heat,master,Ia52818cfc9479d5fa6e3b236988694f47998acda,Make tags handling more robust,MERGED,2019-10-09 20:41:49.000000000,2020-02-25 21:24:48.000000000,2020-02-25 21:22:35.000000000,"[{'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-10-09 20:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/969ba54af18c73be2d560307dae8b2b9df4d37d1', 'message': 'Make tags handling more robust\n\nAllow all tags to be removed from a server during an update (previously\na change to remove all tags would not be written to the DB).\n\nAlso avoid lazy-loading the tags from the DB multiple times.\n\nChange-Id: Ia52818cfc9479d5fa6e3b236988694f47998acda\nStory: 37001\n'}, {'number': 2, 'created': '2019-10-09 20:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1e62753d35dc465aad4fd4e16bc970120c4c7123', 'message': 'Make tags handling more robust\n\nAllow all tags to be removed from a server during an update (previously\na change to remove all tags would not be written to the DB).\n\nAlso avoid loading the tags from the DB and then re-saving every time\nthe stack is stored when the stack has tags, and avoid attempting to\nlazy-load the tags from the DB multiple times when there are no tags.\n\nChange-Id: Ia52818cfc9479d5fa6e3b236988694f47998acda\nStory: 37001\n'}, {'number': 3, 'created': '2019-10-09 20:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/429c1a70b832324b6604e56e9a413df6d7bf3813', 'message': 'Make tags handling more robust\n\nAllow all tags to be removed from a server during an update (previously\na change to remove all tags would not be written to the DB).\n\nAlso avoid loading the tags from the DB and then re-saving every time\nthe stack is stored when the stack has tags, and avoid attempting to\nlazy-load the tags from the DB multiple times when there are no tags.\n\nThis could also have prevented stacks with tags from being updated from\nlegacy to convergence, because the (unchanged) tag list would get\nrewritten from inside a DB transaction, but this is not expected and the\nstack_tags_set() API does not pass subtransactions=True when creating a\ntransaction, which would cause a DB error.\n\nChange-Id: Ia52818cfc9479d5fa6e3b236988694f47998acda\nStory: 37001\n'}, {'number': 4, 'created': '2019-10-09 20:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/446515b826ee0d1fb5fa45beb9e766e9f00584c7', 'message': 'Make tags handling more robust\n\nAllow all tags to be removed from a server during an update (previously\na change to remove all tags would not be written to the DB).\n\nAlso avoid loading the tags from the DB and then re-saving every time\nthe stack is stored when the stack has tags, and avoid attempting to\nlazy-load the tags from the DB multiple times when there are no tags.\n\nThis could also have prevented stacks with tags from being updated from\nlegacy to convergence, because the (unchanged) tag list would get\nrewritten from inside a DB transaction, but this is not expected and the\nstack_tags_set() API does not pass subtransactions=True when creating a\ntransaction, which would cause a DB error.\n\nChange-Id: Ia52818cfc9479d5fa6e3b236988694f47998acda\nTask: 37001\n'}, {'number': 5, 'created': '2019-10-10 21:41:25.000000000', 'files': ['heat/tests/engine/service/test_stack_update.py', 'heat/engine/api.py', 'heat/tests/test_stack.py', 'heat/engine/stack.py', 'heat/tests/test_stack_update.py', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/78b7a471c2167326cb611f498eb875a04a1eef72', 'message': 'Make tags handling more robust\n\nAvoid loading the tags from the DB and then re-saving every time\nthe stack is stored when the stack has tags. Avoid attempting to\nlazy-load the tags from the DB multiple times when there are no tags.\nAvoid lazy-loading the existing tags on an update when we intend to\noverwrite them anyway. Avoid writing the same set of tags multiple\ntimes.\n\ne.g. in a legacy update, previously we rewrote the current set of tags\nwhen changing the state to IN_PROGRESS, then wrote the new set of tags\nregardless of whether they had changed, then wrote the new set of tags\nagain when the update completed. In a convergence update we also did\nthree writes but in a different order, so that the new tags were written\nevery time. With this change we write the new set of tags only once.\n\nThis could also have prevented stacks with tags from being updated from\nlegacy to convergence, because the (unchanged) tag list would get\nrewritten from inside a DB transaction. This is not expected so the\nstack_tags_set() API does not pass subtransactions=True when creating a\ntransaction, which would cause a DB error.\n\nChange-Id: Ia52818cfc9479d5fa6e3b236988694f47998acda\nTask: 37001\n'}]",2,687672,78b7a471c2167326cb611f498eb875a04a1eef72,28,5,5,4257,,,0,"Make tags handling more robust

Avoid loading the tags from the DB and then re-saving every time
the stack is stored when the stack has tags. Avoid attempting to
lazy-load the tags from the DB multiple times when there are no tags.
Avoid lazy-loading the existing tags on an update when we intend to
overwrite them anyway. Avoid writing the same set of tags multiple
times.

e.g. in a legacy update, previously we rewrote the current set of tags
when changing the state to IN_PROGRESS, then wrote the new set of tags
regardless of whether they had changed, then wrote the new set of tags
again when the update completed. In a convergence update we also did
three writes but in a different order, so that the new tags were written
every time. With this change we write the new set of tags only once.

This could also have prevented stacks with tags from being updated from
legacy to convergence, because the (unchanged) tag list would get
rewritten from inside a DB transaction. This is not expected so the
stack_tags_set() API does not pass subtransactions=True when creating a
transaction, which would cause a DB error.

Change-Id: Ia52818cfc9479d5fa6e3b236988694f47998acda
Task: 37001
",git fetch https://review.opendev.org/openstack/heat refs/changes/72/687672/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/stack.py'],1,969ba54af18c73be2d560307dae8b2b9df4d37d1,, self._tags = [t.tag for t in tags] if tags else [] if self._tags is not None:, self.tags = tags if tags: self._tags = [t.tag for t in tags] if self.tags:,2,4
openstack%2Ftripleo-puppet-elements~stable%2Ftrain~I01198752fc9d0bb532ca1898ab63bc628706a33e,openstack/tripleo-puppet-elements,stable/train,I01198752fc9d0bb532ca1898ab63bc628706a33e,Disable yum-plugin-priorities elements for CentOS8,MERGED,2020-02-25 14:42:36.000000000,2020-02-25 21:23:16.000000000,2020-02-25 21:23:16.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-25 14:42:36.000000000', 'files': ['elements/overcloud-agent/pkg-map', 'elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/02e2ae4f09441107334657396e60bea7a0e4f893', 'message': 'Disable yum-plugin-priorities elements for CentOS8\n\nSince yum-plugin-priorities packages is a part of dnf so no\nneed to install otherwise DNF was complain saying no package found.\n\nIt also maps the same element for CentOS 8.\n\nChange-Id: I01198752fc9d0bb532ca1898ab63bc628706a33e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 2ea13b72ce87936756dcbbd38b8933b95fedeafb)\n'}]",0,709745,02e2ae4f09441107334657396e60bea7a0e4f893,7,3,1,14985,,,0,"Disable yum-plugin-priorities elements for CentOS8

Since yum-plugin-priorities packages is a part of dnf so no
need to install otherwise DNF was complain saying no package found.

It also maps the same element for CentOS 8.

Change-Id: I01198752fc9d0bb532ca1898ab63bc628706a33e
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
(cherry picked from commit 2ea13b72ce87936756dcbbd38b8933b95fedeafb)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/45/709745/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-agent/pkg-map', 'elements/overcloud-base/pkg-map']",2,02e2ae4f09441107334657396e60bea7a0e4f893,c8imagebuild-stable/train," }, ""centos"": { ""8"": { ""yum_plugin_priorities_package"": """", ""docker"": ""podman-docker"", ""python_ipaddr"": """", ""python_docker_py"": """" }",,13,0
openstack%2Ftripleo-image-elements~stable%2Ftrain~I380e98ca6580e00054ae54e89efd3f2208ba63ef,openstack/tripleo-image-elements,stable/train,I380e98ca6580e00054ae54e89efd3f2208ba63ef,Disable yum-plugin-priorities elements for CentOS8,MERGED,2020-02-25 14:42:12.000000000,2020-02-25 21:23:16.000000000,2020-02-25 21:23:16.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-25 14:42:12.000000000', 'files': ['elements/delorean-repo/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/4461ca141a27626e3a69fbe3ee3e1cc4a3967f9d', 'message': 'Disable yum-plugin-priorities elements for CentOS8\n\nSince yum-plugin-priorities packages is a part of dnf so no\nneed to install otherwise DNF was complain saying no package found.\n\nChange-Id: I380e98ca6580e00054ae54e89efd3f2208ba63ef\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit da5e58343092acafdbe3b0439157dcc0ef9de111)\n'}]",0,709743,4461ca141a27626e3a69fbe3ee3e1cc4a3967f9d,7,3,1,14985,,,0,"Disable yum-plugin-priorities elements for CentOS8

Since yum-plugin-priorities packages is a part of dnf so no
need to install otherwise DNF was complain saying no package found.

Change-Id: I380e98ca6580e00054ae54e89efd3f2208ba63ef
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
(cherry picked from commit da5e58343092acafdbe3b0439157dcc0ef9de111)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/43/709743/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/delorean-repo/pkg-map'],1,4461ca141a27626e3a69fbe3ee3e1cc4a3967f9d,c8imagebuild-stable/train," ""release"": { ""centos"": { ""8"": { ""yum_plugin_priorities_package"": """" } } },",,7,0
openstack%2Fpython-tripleoclient~master~If47e1e64e251e72d5bc8d0eb253d931257fd2ca8,openstack/python-tripleoclient,master,If47e1e64e251e72d5bc8d0eb253d931257fd2ca8,Convert the support deployment and workflow to ansible,MERGED,2020-01-25 03:30:07.000000000,2020-02-25 21:14:18.000000000,2020-02-25 21:12:18.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-01-25 03:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/62f4618a1af66eb09c1c0c1ac724d214d4442344', 'message': 'Convert the support deployment and workflow to ansible\n\nThis change converts the support deployment and workflow process to use an ansible\nplaybook instead of a mistral workflow. The overcloud_support module has been\nupdated and moved to the V2 client and all tests in support of this new process\nhave been updated.\n\nStory: 2007212\nTask: 38431\nTask: 38432\nDepends-On: I606f1ee3bc323e5c83d09ca9bc8f7e4033e81e70\nChange-Id: If47e1e64e251e72d5bc8d0eb253d931257fd2ca8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-01-25 03:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1d3e61d3b42b0e7bce19c4b8492988c580f73129', 'message': 'Convert the support deployment and workflow to ansible\n\nThis change converts the support deployment and workflow process to use an ansible\nplaybook instead of a mistral workflow. The overcloud_support module has been\nupdated and moved to the V2 client and all tests in support of this new process\nhave been updated.\n\nStory: 2007212\nTask: 38431\nTask: 38432\nDepends-On: I606f1ee3bc323e5c83d09ca9bc8f7e4033e81e70\nChange-Id: If47e1e64e251e72d5bc8d0eb253d931257fd2ca8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-01-27 14:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ef381dc76bbb4935018eb914d522260a998bba8e', 'message': 'Convert the support deployment and workflow to ansible\n\nThis change converts the support deployment and workflow process to use an ansible\nplaybook instead of a mistral workflow. The overcloud_support module has been\nupdated and moved to the V2 client and all tests in support of this new process\nhave been updated.\n\nStory: 2007212\nTask: 38431\nTask: 38432\nDepends-On: I606f1ee3bc323e5c83d09ca9bc8f7e4033e81e70\nChange-Id: If47e1e64e251e72d5bc8d0eb253d931257fd2ca8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-01-28 13:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aa79baa4b811d15efe1e1ec7c7b1eabf7e445906', 'message': 'Convert the support deployment and workflow to ansible\n\nThis change converts the support deployment and workflow process to use an ansible\nplaybook instead of a mistral workflow. The overcloud_support module has been\nupdated and moved to the V2 client and all tests in support of this new process\nhave been updated.\n\nStory: 2007212\nTask: 38431\nTask: 38432\nDepends-On: I606f1ee3bc323e5c83d09ca9bc8f7e4033e81e70\nChange-Id: If47e1e64e251e72d5bc8d0eb253d931257fd2ca8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-01-28 17:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ffd3dfe940573ade670e530635a51d1c6234873', 'message': 'Convert the support deployment and workflow to ansible\n\nThis change converts the support deployment and workflow process to use an ansible\nplaybook instead of a mistral workflow. The overcloud_support module has been\nupdated and moved to the V2 client and all tests in support of this new process\nhave been updated.\n\nStory: 2007212\nTask: 38431\nTask: 38432\nDepends-On: I606f1ee3bc323e5c83d09ca9bc8f7e4033e81e70\nChange-Id: If47e1e64e251e72d5bc8d0eb253d931257fd2ca8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-02-18 20:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d3551498e846e1d3bef30f6db1d60bd0bd84e96d', 'message': 'Convert the support deployment and workflow to ansible\n\nThis change converts the support deployment and workflow process to use an ansible\nplaybook instead of a mistral workflow. The overcloud_support module has been\nupdated and moved to the V2 client and all tests in support of this new process\nhave been updated.\n\nStory: 2007212\nTask: 38431\nTask: 38432\nDepends-On: I606f1ee3bc323e5c83d09ca9bc8f7e4033e81e70\nChange-Id: If47e1e64e251e72d5bc8d0eb253d931257fd2ca8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-02-23 01:21:55.000000000', 'files': ['tripleoclient/tests/v2/overcloud_support/__init__.py', 'tripleoclient/tests/v2/overcloud_support/test_overcloud_support.py', 'tripleoclient/constants.py', 'tripleoclient/v2/overcloud_support.py', 'tripleoclient/tests/v1/overcloud_support/test_overcloud_support.py', 'tripleoclient/workflows/support.py', 'tripleoclient/tests/workflows/test_support.py', 'tripleoclient/v1/overcloud_support.py', 'setup.cfg', 'releasenotes/notes/sos-reporting-fc36aa73c7c5b85a.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2c028c4a525105e900dde29b38f4c865be1fa3dc', 'message': 'Convert the support deployment and workflow to ansible\n\nThis change converts the support deployment and workflow process to use an ansible\nplaybook instead of a mistral workflow. The overcloud_support module has been\nupdated and moved to the V2 client and all tests in support of this new process\nhave been updated.\n\nStory: 2007212\nTask: 38431\nTask: 38432\nDepends-On: I606f1ee3bc323e5c83d09ca9bc8f7e4033e81e70\nChange-Id: If47e1e64e251e72d5bc8d0eb253d931257fd2ca8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",1,704210,2c028c4a525105e900dde29b38f4c865be1fa3dc,50,8,7,7353,,,0,"Convert the support deployment and workflow to ansible

This change converts the support deployment and workflow process to use an ansible
playbook instead of a mistral workflow. The overcloud_support module has been
updated and moved to the V2 client and all tests in support of this new process
have been updated.

Story: 2007212
Task: 38431
Task: 38432
Depends-On: I606f1ee3bc323e5c83d09ca9bc8f7e4033e81e70
Change-Id: If47e1e64e251e72d5bc8d0eb253d931257fd2ca8
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/10/704210/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v2/overcloud_support/__init__.py', 'tripleoclient/tests/v2/overcloud_support/test_overcloud_support.py', 'tripleoclient/constants.py', 'tripleoclient/v2/overcloud_support.py', 'tripleoclient/tests/v1/overcloud_support/test_overcloud_support.py', 'tripleoclient/workflows/support.py', 'tripleoclient/tests/workflows/test_support.py', 'tripleoclient/v1/overcloud_support.py', 'setup.cfg', 'releasenotes/notes/sos-reporting-fc36aa73c7c5b85a.yaml']",10,62f4618a1af66eb09c1c0c1ac724d214d4442344,mistral_to_ansible,"--- features: - ReportExecute has been moved to the V2 client version where it will now execute an ansible playbook when running all log collection tasks. This playbook will run `sosreport` and collect a log archive on the undercloud host. deprecations: - The log collection process will no longer store logs within swift. All collected logs will be stored in the `--output` path as provided by the CLI switch, using a default of **/var/lib/tripleo/support**. - The following ReportExecute CLI switches no longer have any effect; `--container`, `--skip-container-delete`, `--timeout`, `--concurrency`, `--collect-only`, `--download-only`. These options have been retained to ensure we're not breaking legacy compatibility, however, they will be removed in a future release. ",,168,451
openstack%2Fopenstack-helm-infra~master~Id25d9cddc8f8c4c98dd8cd044f679201a908c875,openstack/openstack-helm-infra,master,Id25d9cddc8f8c4c98dd8cd044f679201a908c875,[FIX] Fixes apparmor for ingress,MERGED,2020-02-22 10:29:18.000000000,2020-02-25 21:07:57.000000000,2020-02-25 21:04:47.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29131}]","[{'number': 1, 'created': '2020-02-22 10:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aeea7e25b50a64fdf006ddf13db8a837bcaba2f7', 'message': '[FIX] Fixes apparmor for ingress\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 2, 'created': '2020-02-22 10:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/318d8493596a8058cf862ed7744a348e91f07c17', 'message': '[FIX] Fixes apparmor for ingress\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 3, 'created': '2020-02-22 11:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2da74b3535d7aced59613a7c8f503a5906e680c9', 'message': '[FIX] Fixes apparmor for ingress\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 4, 'created': '2020-02-22 13:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a19943be6d68a702762cc050878ece5bac4ddf77', 'message': '[FIX] Fixes apparmor for ingress\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 5, 'created': '2020-02-22 13:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/99dd2118d66814bc936ddffc4e77846eb61992e2', 'message': '[FIX] Fixes apparmor for ingress\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 6, 'created': '2020-02-22 15:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0f2a42a3186ed11d5dcf49f3545b8c479cfef4de', 'message': '[FIX] Fixes apparmor for ingress\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 7, 'created': '2020-02-24 16:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3662cfe4047378ee39007688775d2a91c71b8d8f', 'message': '[FIX] Fixes apparmor for ingress\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 8, 'created': '2020-02-24 19:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79dfb204e5e37ce9b95077b1641dc06d216b3ef1', 'message': '[FIX] Fixes apparmor for ingress\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 9, 'created': '2020-02-24 20:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f59d69741c42619b217e625d26e110b37630159', 'message': '[FIX] Fixes apparmor for ingress\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 10, 'created': '2020-02-24 21:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dd0375c66c47dffe02e38bbf5a23fb618edd00a9', 'message': '[FIX] Fixes apparmor for ingress\n\n This also adds Apparmor Gate Script.\n \nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 11, 'created': '2020-02-24 21:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/652110647895194846507edf86a3c0f2260e2823', 'message': '[FIX] Fixes apparmor for ingress\n\n This also adds Apparmor Gate Script.\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 12, 'created': '2020-02-25 01:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d7bbcc27bbd0f4693827bf6898618dda1cee2380', 'message': '[FIX] Fixes apparmor for ingress\n\n This also adds Apparmor Gate Script.\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}, {'number': 13, 'created': '2020-02-25 06:10:27.000000000', 'files': ['tools/deployment/apparmor/015-ingress.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9c346fa373e0167b08689155b4dd71d81c119af', 'message': '[FIX] Fixes apparmor for ingress\n\n This also adds Apparmor Gate Script.\n\nChange-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875\n'}]",0,709287,f9c346fa373e0167b08689155b4dd71d81c119af,33,4,13,29131,,,0,"[FIX] Fixes apparmor for ingress

 This also adds Apparmor Gate Script.

Change-Id: Id25d9cddc8f8c4c98dd8cd044f679201a908c875
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/87/709287/8 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/templates/deployment-ingress.yaml', 'ingress/templates/deployment-error.yaml', 'tools/deployment/apparmor/015-ingress.sh', 'ingress/values_overrides/apparmor.yaml', 'openstack-helm-infra']",5,aeea7e25b50a64fdf006ddf13db8a837bcaba2f7,test_apparmor_ingress,Subproject commit 304dc14ff83481e484ba8d68947e669a854268ce,,105,3
openstack%2Fopenstack-ansible-rabbitmq_server~master~I8f2af61ff29651babdffc38c598afa91480eb6c4,openstack/openstack-ansible-rabbitmq_server,master,I8f2af61ff29651babdffc38c598afa91480eb6c4,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:16:29.000000000,2020-02-25 20:58:18.000000000,2020-02-25 20:57:00.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:16:29.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0513ad8f85747d1ec1aea8140c0218676bf678c0', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I8f2af61ff29651babdffc38c598afa91480eb6c4\n'}]",0,709515,0513ad8f85747d1ec1aea8140c0218676bf678c0,10,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I8f2af61ff29651babdffc38c598afa91480eb6c4
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/15/709515/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,0513ad8f85747d1ec1aea8140c0218676bf678c0,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fkolla-ansible~master~I21689e22870c2f6206e37c60a3c33e19140f77ff,openstack/kolla-ansible,master,I21689e22870c2f6206e37c60a3c33e19140f77ff,Construct service configuration urls using kolla_internal_fqdn,MERGED,2020-02-07 21:43:15.000000000,2020-02-25 20:47:29.000000000,2020-02-25 20:44:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 29543}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-07 21:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7397fd0b0768fc77b77b88f479cc96f0e2c5b11b', 'message': 'Service configuration urls should be constructed using kolla_internal_fqdn\n\nService configuration urls should be constructed using kolla_internal_fqdn instead of kolla_internal_vip_address. Otherwise SSL validation will fail when certificates are issued using domain names.\n\nChange-Id: I21689e22870c2f6206e37c60a3c33e19140f77ff\nCloses-Bug: 1862419\n'}, {'number': 2, 'created': '2020-02-10 18:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d238faeced6909bf4bc9ff9fee10f6d97027d350', 'message': 'Construct service configuration urls using kolla_internal_fqdn\n\nService configuration urls should be constructed using\nkolla_internal_fqdn instead of kolla_internal_vip_address. Otherwise SSL\nvalidation will fail when certificates are issued using domain names.\n\nChange-Id: I21689e22870c2f6206e37c60a3c33e19140f77ff\nCloses-Bug: 1862419\n'}, {'number': 3, 'created': '2020-02-11 17:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52824762c3740573d2beb5c71599809dcd5b515c', 'message': 'Construct service configuration urls using kolla_internal_fqdn\n\nService configuration urls should be constructed using\nkolla_internal_fqdn instead of kolla_internal_vip_address. Otherwise SSL\nvalidation will fail when certificates are issued using domain names.\n\nChange-Id: I21689e22870c2f6206e37c60a3c33e19140f77ff\nCloses-Bug: 1862419\n'}, {'number': 4, 'created': '2020-02-21 19:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f394483ddec6bfeb5b7a431510bc171ebbd1daa3', 'message': 'Construct service configuration urls using kolla_internal_fqdn\n\nService configuration urls should be constructed using\nkolla_internal_fqdn instead of kolla_internal_vip_address. Otherwise SSL\nvalidation will fail when certificates are issued using domain names.\n\nChange-Id: I21689e22870c2f6206e37c60a3c33e19140f77ff\nCloses-Bug: 1862419\n'}, {'number': 5, 'created': '2020-02-22 16:28:15.000000000', 'files': ['ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/grafana/tasks/post_config.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/kibana/templates/kibana.yml.j2', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/kibana/tasks/post_config.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/grafana/templates/prometheus.yaml.j2', 'ansible/roles/monasca/tasks/post_config.yml', 'releasenotes/notes/fix-rest-urls-fqdn-a555e8299fe34efb.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/256322a8feb161ead091a8b0d4ada0a77fe2dc39', 'message': 'Construct service configuration urls using kolla_internal_fqdn\n\nService configuration urls should be constructed using\nkolla_internal_fqdn instead of kolla_internal_vip_address. Otherwise SSL\nvalidation will fail when certificates are issued using domain names.\n\nChange-Id: I21689e22870c2f6206e37c60a3c33e19140f77ff\nCloses-Bug: 1862419\n'}]",3,706627,256322a8feb161ead091a8b0d4ada0a77fe2dc39,30,4,5,30810,,,0,"Construct service configuration urls using kolla_internal_fqdn

Service configuration urls should be constructed using
kolla_internal_fqdn instead of kolla_internal_vip_address. Otherwise SSL
validation will fail when certificates are issued using domain names.

Change-Id: I21689e22870c2f6206e37c60a3c33e19140f77ff
Closes-Bug: 1862419
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/706627/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/grafana/tasks/post_config.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/kibana/templates/kibana.yml.j2', 'ansible/roles/kibana/tasks/post_config.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/monasca/tasks/post_config.yml']",7,7397fd0b0768fc77b77b88f479cc96f0e2c5b11b,bug/1862419," url: ""{{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/login"" url: ""{{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/orgs"" url: ""{{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/orgs"" url: ""{{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/orgs/name/{{ monasca_grafana_control_plane_org }}"" url: ""{{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/orgs/{{ monasca_grafana_conf_org.json.id }}/users"" url: ""{{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/user/using/{{ monasca_grafana_conf_org.json.id }}"" url: ""{{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/datasources"""," url: ""{{ internal_protocol }}://{{ kolla_internal_vip_address | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/login"" url: ""{{ internal_protocol }}://{{ kolla_internal_vip_address | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/orgs"" url: ""{{ internal_protocol }}://{{ kolla_internal_vip_address | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/orgs"" url: ""{{ internal_protocol }}://{{ kolla_internal_vip_address | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/orgs/name/{{ monasca_grafana_control_plane_org }}"" url: ""{{ internal_protocol }}://{{ kolla_internal_vip_address | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/orgs/{{ monasca_grafana_conf_org.json.id }}/users"" url: ""{{ internal_protocol }}://{{ kolla_internal_vip_address | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/user/using/{{ monasca_grafana_conf_org.json.id }}"" url: ""{{ internal_protocol }}://{{ kolla_internal_vip_address | put_address_in_context('url') }}:{{ monasca_grafana_server_port }}/api/datasources""",21,21
openstack%2Frpm-packaging~master~I30cc017a049e01b900c440c1dd49bfb1a89ac685,openstack/rpm-packaging,master,I30cc017a049e01b900c440c1dd49bfb1a89ac685,neutron-lib: Update to 2.1.0,MERGED,2020-02-22 11:55:08.000000000,2020-02-25 20:40:11.000000000,2020-02-25 20:40:11.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-22 11:55:08.000000000', 'files': ['openstack/neutron-lib/neutron-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6d2be56f85c14df48c25bcbc5ccf7b6f9779c1c1', 'message': 'neutron-lib: Update to 2.1.0\n\nThis is needed by neutron now.\n\nChange-Id: I30cc017a049e01b900c440c1dd49bfb1a89ac685\n'}]",0,709288,6d2be56f85c14df48c25bcbc5ccf7b6f9779c1c1,11,7,1,6593,,,0,"neutron-lib: Update to 2.1.0

This is needed by neutron now.

Change-Id: I30cc017a049e01b900c440c1dd49bfb1a89ac685
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/88/709288/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-lib/neutron-lib.spec.j2'],1,6d2be56f85c14df48c25bcbc5ccf7b6f9779c1c1,,{% set upstream_version = upstream_version('2.1.0') %},{% set upstream_version = upstream_version('2.0.0') %},1,1
openstack%2Fkolla~master~I5514c53002a9e772b96e767b10fddf6342c7eb1d,openstack/kolla,master,I5514c53002a9e772b96e767b10fddf6342c7eb1d,Drop weird swift rootwrap config (xenapi with placeholder values),MERGED,2020-02-19 19:54:43.000000000,2020-02-25 20:14:56.000000000,2020-02-25 20:13:29.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-19 19:54:43.000000000', 'files': ['docker/swift/swift-base/rootwrap.conf'], 'web_link': 'https://opendev.org/openstack/kolla/commit/faec906090ec5f59f6e4fc8b9c4f64e14a0025ce', 'message': 'Drop weird swift rootwrap config (xenapi with placeholder values)\n\nChange-Id: I5514c53002a9e772b96e767b10fddf6342c7eb1d\n'}]",0,708733,faec906090ec5f59f6e4fc8b9c4f64e14a0025ce,22,6,1,30491,,,0,"Drop weird swift rootwrap config (xenapi with placeholder values)

Change-Id: I5514c53002a9e772b96e767b10fddf6342c7eb1d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/33/708733/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/swift/swift-base/rootwrap.conf'],1,faec906090ec5f59f6e4fc8b9c4f64e14a0025ce,drop-weird-swift-conf,, [xenapi] # XenAPI configuration is only required by the L2 agent if it is to # target a XenServer/XCP compute host's dom0. xenapi_connection_url=<None> xenapi_connection_username=root xenapi_connection_password=<None>,0,7
openstack%2Freleases~master~I3232435d95d20e7406dd9b7e091e9fca82668bd3,openstack/releases,master,I3232435d95d20e7406dd9b7e091e9fca82668bd3,neutron-lbaas-dashboard is a deprecated deliverable,MERGED,2020-02-25 14:39:03.000000000,2020-02-25 20:08:17.000000000,2020-02-25 20:08:17.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 14:39:03.000000000', 'files': ['deliverables/_independent/neutron-lbaas-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c1dbbfb3ac2313bbd638f12a213911f49b948564', 'message': 'neutron-lbaas-dashboard is a deprecated deliverable\n\nSince https://review.opendev.org/#/c/705780/, neutron-lbaas-dashboard\nis no longer an active OpenStack deliverable. Align the release model\non its (independent) deliverable file accordingly.\n\nChange-Id: I3232435d95d20e7406dd9b7e091e9fca82668bd3\n'}]",0,709742,c1dbbfb3ac2313bbd638f12a213911f49b948564,7,2,1,308,,,0,"neutron-lbaas-dashboard is a deprecated deliverable

Since https://review.opendev.org/#/c/705780/, neutron-lbaas-dashboard
is no longer an active OpenStack deliverable. Align the release model
on its (independent) deliverable file accordingly.

Change-Id: I3232435d95d20e7406dd9b7e091e9fca82668bd3
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/709742/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/neutron-lbaas-dashboard.yaml'],1,c1dbbfb3ac2313bbd638f12a213911f49b948564,fix-lbaas-dashboard,release-model: abandoned,,1,0
openstack%2Freleases~master~Iac584871347aa4b34b12c78319650c8d6be215e1,openstack/releases,master,Iac584871347aa4b34b12c78319650c8d6be215e1,Release rally-openstack 1.7.0,MERGED,2020-02-25 19:10:31.000000000,2020-02-25 20:08:16.000000000,2020-02-25 20:08:15.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 19:10:31.000000000', 'files': ['deliverables/_independent/rally-openstack.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9bf28bd98fbc8b9000bcad093f74a6cf01da44d4', 'message': 'Release rally-openstack 1.7.0\n\nChange-Id: Iac584871347aa4b34b12c78319650c8d6be215e1\n'}]",0,709817,9bf28bd98fbc8b9000bcad093f74a6cf01da44d4,7,2,1,9545,,,0,"Release rally-openstack 1.7.0

Change-Id: Iac584871347aa4b34b12c78319650c8d6be215e1
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/709817/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/rally-openstack.yaml'],1,9bf28bd98fbc8b9000bcad093f74a6cf01da44d4,rally_openstack_v1.7.0, - version: 1.7.0 projects: - repo: openstack/rally-openstack hash: 9a96ae218a67a00939b164eeb6f668fee9c7176c,,4,0
openstack%2Fkolla-ansible~master~Ie86f85974fd7385e72a918065fc9c5172f9684ba,openstack/kolla-ansible,master,Ie86f85974fd7385e72a918065fc9c5172f9684ba,Bifrost: Stop stopping RabbitMQ,MERGED,2020-02-21 16:42:15.000000000,2020-02-25 20:04:43.000000000,2020-02-25 20:02:58.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-21 16:42:15.000000000', 'files': ['ansible/roles/bifrost/tasks/stop.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c31db5fa8a6f36a3bd2860aea820f71693cf3035', 'message': 'Bifrost: Stop stopping RabbitMQ\n\nBifrost no longer deploys RabbitMQ, so we should not try to stop it\nduring upgrade. In fact, if we do then it fails:\n\nFailed to stop rabbitmq-server.service: Unit rabbitmq-server.service not\nloaded.\n\nBifrost removed RabbitMQ in Train, so this is only required from Ussuri.\n\nChange-Id: Ie86f85974fd7385e72a918065fc9c5172f9684ba\n'}]",2,709189,c31db5fa8a6f36a3bd2860aea820f71693cf3035,13,6,1,14826,,,0,"Bifrost: Stop stopping RabbitMQ

Bifrost no longer deploys RabbitMQ, so we should not try to stop it
during upgrade. In fact, if we do then it fails:

Failed to stop rabbitmq-server.service: Unit rabbitmq-server.service not
loaded.

Bifrost removed RabbitMQ in Train, so this is only required from Ussuri.

Change-Id: Ie86f85974fd7385e72a918065fc9c5172f9684ba
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/709189/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/bifrost/tasks/stop.yml'],1,c31db5fa8a6f36a3bd2860aea820f71693cf3035,,, - rabbitmq-server,0,1
openstack%2Fpuppet-tripleo~master~I4c89a57b7bb0d1db967453c982c4d45ed3707a33,openstack/puppet-tripleo,master,I4c89a57b7bb0d1db967453c982c4d45ed3707a33,Collect and use permanent mac addresses for fencing,ABANDONED,2019-05-16 07:19:51.000000000,2020-02-25 20:01:48.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-05-16 07:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/05712c91088330a2fc96b6cd27a16ee524f4ed7e', 'message': 'WIP Collect and use permanent mac addresses for fencing\n\nHistorically we relied on \'function_has_interface_with\' to match\nmac addresses detected on the system with the content of the\nfencing.yaml.\n\nThere are cases where the mac address collected by facter does not\ncorrespond to the permanent mac address as shown by ""ethtool -P"", like\nwhen the specific bonding mode overrides the mac of one of the slaves.\n\nThis commit adds a custom fact that collects the output of ethtool for each\nof the nics on the system and stores it as hieradata.\n\n    ""permanent_macs_hash"": {\n      ""eth0"": ""52:54:00:fe:4e:40"",\n      ""eth1"": ""52:54:00:a9:54:21"",\n      ""eth2"": ""52:54:00:04:f7:03""\n    },\n\nThe fencing manifest and the local_fence_devices have been extended to\nmake use of this.\n\nChange-Id: I4c89a57b7bb0d1db967453c982c4d45ed3707a33\n'}, {'number': 2, 'created': '2019-05-16 07:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d474cb523ffa0a47f17172f46edf9e15cd062dd9', 'message': 'WIP Collect and use permanent mac addresses for fencing\n\nHistorically we relied on \'function_has_interface_with\' to match\nmac addresses detected on the system with the content of fencing.yaml.\n\nThere are cases where the mac address collected by facter does not\ncorrespond to the permanent mac address as shown by ""ethtool -P"", like\nwhen the specific bonding mode overrides the mac of one of the slaves.\n\nThis commit adds a custom fact that collects the output of ethtool for each\nof the nics on the system and stores it as hieradata.\n\n    ""permanent_macs_hash"": {\n      ""eth0"": ""52:54:00:fe:4e:40"",\n      ""eth1"": ""52:54:00:a9:54:21"",\n      ""eth2"": ""52:54:00:04:f7:03""\n    },\n\nThe fencing manifest and the local_fence_devices have been extended to\nmake use of this.\n\nChange-Id: I4c89a57b7bb0d1db967453c982c4d45ed3707a33\n'}, {'number': 3, 'created': '2019-05-16 15:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/de2c7de3bf5487a5dd364f7e903685b0166bfd70', 'message': 'WIP Collect and use permanent mac addresses for fencing\n\nHistorically we relied on \'function_has_interface_with\' to match\nmac addresses detected on the system with the content of fencing.yaml.\n\nThere are cases where the mac address collected by facter does not\ncorrespond to the permanent mac address as shown by ""ethtool -P"", like\nwhen the specific bonding mode overrides the mac of one of the slaves.\n\nThis commit adds a custom fact that collects the output of ethtool for each\nof the nics on the system and stores it as hieradata.\n\n    ""permanent_macs_hash"": {\n      ""eth0"": ""52:54:00:fe:4e:40"",\n      ""eth1"": ""52:54:00:a9:54:21"",\n      ""eth2"": ""52:54:00:04:f7:03""\n    },\n\nManifest and local_fence_devices parser function have been adjusted to\nmake use of this.\n\nChange-Id: I4c89a57b7bb0d1db967453c982c4d45ed3707a33\n'}, {'number': 4, 'created': '2019-07-25 07:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fe22099e64c7b968b6c6e98523a04f864d7df415', 'message': 'Collect and use permanent mac addresses for fencing\n\nHistorically we relied on \'function_has_interface_with\' to match\nmac addresses detected on the system with the content of fencing.yaml.\n\nThere are cases where the mac address collected in this way does not\nmatch the permanent mac address as shown by ""ethtool -P"", like\nwhen the specific bonding mode overrides the mac of one of the slaves.\n\nThis commit adds a custom fact that collects the output of ethtool -P\nfor each of the network cards on the system and stores it as hieradata.\n\n    ""permanent_macs_hash"": {\n      ""eth0"": ""52:54:00:fe:4e:40"",\n      ""eth1"": ""52:54:00:a9:54:21"",\n      ""eth2"": ""52:54:00:04:f7:03""\n    },\n\nManifest and local_fence_devices parser function have been adjusted to\nmake use of this.\n\nChange-Id: I4c89a57b7bb0d1db967453c982c4d45ed3707a33\n'}, {'number': 5, 'created': '2019-07-25 07:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/af96d8551791d474975ff28aa565f358009f04ef', 'message': 'Collect and use permanent mac addresses for fencing\n\nHistorically we relied on \'function_has_interface_with\' to match\nmac addresses detected on the system with the content of fencing.yaml.\n\nThere are cases where the mac address collected in this way does not\nmatch the permanent mac address as shown by ""ethtool -P"", like\nwhen the specific bonding mode overrides the mac of one of the slaves.\n\nThis commit adds a custom fact that collects the output of ethtool -P\nfor each of the network cards on the system and stores it as hieradata.\n\n    ""permanent_macs_hash"": {\n      ""eth0"": ""52:54:00:fe:4e:40"",\n      ""eth1"": ""52:54:00:a9:54:21"",\n      ""eth2"": ""52:54:00:04:f7:03""\n    },\n\nManifest and local_fence_devices parser function have been adjusted to\nmake use of this.\n\nChange-Id: I4c89a57b7bb0d1db967453c982c4d45ed3707a33\n'}, {'number': 6, 'created': '2020-02-25 17:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d7ce0dfcbdc9eb3362f3b44ce6de8043dd7a8161', 'message': 'Collect and use permanent mac addresses for fencing\n\nHistorically we relied on \'function_has_interface_with\' to match\nmac addresses detected on the system with the content of fencing.yaml.\n\nThere are cases where the mac address collected in this way does not\nmatch the permanent mac address as shown by ""ethtool -P"", like\nwhen the specific bonding mode overrides the mac of one of the slaves.\n\nThis commit adds a custom fact that collects the output of ethtool -P\nfor each of the network cards on the system and stores it as hieradata.\n\n    ""permanent_macs_hash"": {\n      ""eth0"": ""52:54:00:fe:4e:40"",\n      ""eth1"": ""52:54:00:a9:54:21"",\n      ""eth2"": ""52:54:00:04:f7:03""\n    },\n\nManifest and local_fence_devices parser function have been adjusted to\nmake use of this.\n\nChange-Id: I4c89a57b7bb0d1db967453c982c4d45ed3707a33\n'}, {'number': 7, 'created': '2020-02-25 17:33:25.000000000', 'files': ['lib/facter/permanent_macs_hash.rb', 'lib/puppet/parser/functions/local_fence_devices.rb', 'manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9b1fa5a3b2291383e7254c287b20e83c2198ef9e', 'message': 'Collect and use permanent mac addresses for fencing\n\nHistorically we relied on \'function_has_interface_with\' to match\nmac addresses detected on the system against the content of fencing.yaml.\n\nThere are cases where the mac address collected in this way does not\nmatch the permanent mac address as shown by ""ethtool -P"", like\nwhen the specific bonding mode overrides the mac of one of the slaves.\n\nThis commit adds a custom fact that collects the output of ethtool -P\nfor each of the network cards on the system and stores it as hieradata.\n\n    ""permanent_macs_hash"": {\n      ""eth0"": ""52:54:00:fe:4e:40"",\n      ""eth1"": ""52:54:00:a9:54:21"",\n      ""eth2"": ""52:54:00:04:f7:03""\n    },\n\nManifest and local_fence_devices parser function have been adjusted to\nmake use of this.\n\nResolves: rhbz#1709994\n\nChange-Id: I4c89a57b7bb0d1db967453c982c4d45ed3707a33\n'}]",3,659469,9b1fa5a3b2291383e7254c287b20e83c2198ef9e,26,4,7,30126,,,0,"Collect and use permanent mac addresses for fencing

Historically we relied on 'function_has_interface_with' to match
mac addresses detected on the system against the content of fencing.yaml.

There are cases where the mac address collected in this way does not
match the permanent mac address as shown by ""ethtool -P"", like
when the specific bonding mode overrides the mac of one of the slaves.

This commit adds a custom fact that collects the output of ethtool -P
for each of the network cards on the system and stores it as hieradata.

    ""permanent_macs_hash"": {
      ""eth0"": ""52:54:00:fe:4e:40"",
      ""eth1"": ""52:54:00:a9:54:21"",
      ""eth2"": ""52:54:00:04:f7:03""
    },

Manifest and local_fence_devices parser function have been adjusted to
make use of this.

Resolves: rhbz#1709994

Change-Id: I4c89a57b7bb0d1db967453c982c4d45ed3707a33
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/69/659469/7 && git format-patch -1 --stdout FETCH_HEAD,"['lib/facter/permanent_macs_hash.rb', 'lib/puppet/parser/functions/local_fence_devices.rb', 'manifests/fencing.pp']",3,05712c91088330a2fc96b6cd27a16ee524f4ed7e,spoof_mac," $macs = hiera('permanent_macs_hash') $xvm_devices = local_fence_devices('fence_xvm', $all_devices, $macs) $ironic_devices = local_fence_devices('fence_ironic', $all_devices, $macs) $redfish_devices = local_fence_devices('fence_redfish', $all_devices, $macs) $ipmilan_devices = local_fence_devices('fence_ipmilan', $all_devices, $macs) $kdump_devices = local_fence_devices('fence_kdump', $all_devices, $macs) $rhev_devices = local_fence_devices('fence_rhevm', $all_devices, $macs)"," $xvm_devices = local_fence_devices('fence_xvm', $all_devices) $ironic_devices = local_fence_devices('fence_ironic', $all_devices) $redfish_devices = local_fence_devices('fence_redfish', $all_devices) $ipmilan_devices = local_fence_devices('fence_ipmilan', $all_devices) $kdump_devices = local_fence_devices('fence_kdump', $all_devices) $rhev_devices = local_fence_devices('fence_rhevm', $all_devices)",49,8
openstack%2Fopenstack-helm-infra~master~I1b91e62dc22d333e6dd277328d693a0e270f44cb,openstack/openstack-helm-infra,master,I1b91e62dc22d333e6dd277328d693a0e270f44cb,Postgresl Exporter: Updated query,ABANDONED,2020-02-25 18:42:56.000000000,2020-02-25 19:53:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-25 18:42:56.000000000', 'files': ['postgresql/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/23fef3010ad14dc64025ea3ed503f294e3eec9d5', 'message': 'Postgresl Exporter: Updated query\n\nThis PS updates the exporter query for replication lag\n\nChange-Id: I1b91e62dc22d333e6dd277328d693a0e270f44cb\n'}]",0,709814,23fef3010ad14dc64025ea3ed503f294e3eec9d5,3,1,1,30582,,,0,"Postgresl Exporter: Updated query

This PS updates the exporter query for replication lag

Change-Id: I1b91e62dc22d333e6dd277328d693a0e270f44cb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/14/709814/1 && git format-patch -1 --stdout FETCH_HEAD,['postgresql/values.yaml'],1,23fef3010ad14dc64025ea3ed503f294e3eec9d5,postgresql-exporter," query: | ""SELECT CASE WHEN pg_last_xlog_receive_location() = pg_last_xlog_replay_location() THEN 0 ELSE EXTRACT (EPOCH FROM now() - pg_last_xact_replay_timestamp())::int END AS lag, CASE WHEN pg_is_in_recovery() THEN 1 ELSE 0 END AS is_replica"""," query: ""SELECT EXTRACT(epoch FROM (now() - pg_last_xact_replay_timestamp()))::int AS lag, CASE WHEN pg_is_in_recovery() THEN 1 ELSE 0 END AS is_replica""",5,1
openstack%2Ftripleo-operator-ansible~master~Ie969e22b61f40ef887f7e82caa25df34127c1bf8,openstack/tripleo-operator-ansible,master,Ie969e22b61f40ef887f7e82caa25df34127c1bf8,Add update run role,MERGED,2020-02-19 20:44:01.000000000,2020-02-25 19:37:00.000000000,2020-02-25 19:37:00.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 20:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/4ad951b896831043c432696e015fb92e3bb32f46', 'message': 'Add update run role\n\nAdds tripleo_overcloud_update_run role\n\nChange-Id: Ie969e22b61f40ef887f7e82caa25df34127c1bf8\n'}, {'number': 2, 'created': '2020-02-19 20:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f3ac6eb0b122a56f93ae90c76a973f4017d12e1f', 'message': 'Add update run role\n\nAdds tripleo_overcloud_update_run role\n\nChange-Id: Ie969e22b61f40ef887f7e82caa25df34127c1bf8\n'}, {'number': 3, 'created': '2020-02-19 21:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f46a7e1e0f211099e3630a55583cf9f01340e291', 'message': 'Add update run role\n\nAdds tripleo_overcloud_update_run role\n\nChange-Id: Ie969e22b61f40ef887f7e82caa25df34127c1bf8\n'}, {'number': 4, 'created': '2020-02-19 21:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/c86bee398b135fb0e3de981eed0570a2ca5e1e3c', 'message': 'Add update run role\n\nAdds tripleo_overcloud_update_run role\n\nChange-Id: Ie969e22b61f40ef887f7e82caa25df34127c1bf8\n'}, {'number': 5, 'created': '2020-02-19 22:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7dfb7da6eccb9dc56a5d0baaf1b32fcb93553cfe', 'message': 'Add update run role\n\nAdds tripleo_overcloud_update_run role\n\nChange-Id: Ie969e22b61f40ef887f7e82caa25df34127c1bf8\n'}, {'number': 6, 'created': '2020-02-20 14:45:58.000000000', 'files': ['roles/tripleo_overcloud_update_run/tests/inventory', 'roles/tripleo_overcloud_update_run/tests/test.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_update_run/molecule/default/molecule.yml', 'roles/tripleo_overcloud_update_run/meta/main.yml', 'roles/tripleo_overcloud_update_run/defaults/main.yml', 'roles/tripleo_overcloud_update_run/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_run/tasks/main.yml', 'roles/tripleo_overcloud_update_run/molecule/default/prepare.yml', 'roles/tripleo_overcloud_update_run/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/9682c58369a5a93ea1c7e1b9b6a0a1f82aaecb1c', 'message': 'Add update run role\n\nAdds tripleo_overcloud_update_run role\n\nChange-Id: Ie969e22b61f40ef887f7e82caa25df34127c1bf8\n'}]",0,708744,9682c58369a5a93ea1c7e1b9b6a0a1f82aaecb1c,16,2,6,14985,,,0,"Add update run role

Adds tripleo_overcloud_update_run role

Change-Id: Ie969e22b61f40ef887f7e82caa25df34127c1bf8
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/44/708744/6 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_update_run/tests/inventory', 'roles/tripleo_overcloud_update_run/tests/test.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_update_run/molecule/default/molecule.yml', 'roles/tripleo_overcloud_update_run/meta/main.yml', 'roles/tripleo_overcloud_update_run/defaults/main.yml', 'roles/tripleo_overcloud_update_run/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_run/tasks/main.yml', 'roles/tripleo_overcloud_update_run/molecule/default/prepare.yml', 'roles/tripleo_overcloud_update_run/README.md']",10,4ad951b896831043c432696e015fb92e3bb32f46,tripleo-operator-ansible,"tripleo_overcloud_update_run ======================== A role to execute an overcloud update prepare. Requirements ------------ None. Role Variables -------------- * `tripleo_overcloud_update_run_answers_file`: (String) File path to a deployment answers file. * `tripleo_overcloud_update_run_baremetal_update_runment`: (String) File path to a baremetal deployment configuration. * `tripleo_overcloud_update_run_config_download`: (Boolean) Flag to add --config-download option. This is the default as of Rocky and enabling this should have no effect. Default: false * `tripleo_overcloud_update_run_config_download_timeout`: (Integer) Timeout in minutes for the config-download steps. * `tripleo_overcloud_update_run_debug`: (Boolean) Flag to print out the command that is run. Default: false * `tripleo_overcloud_update_run_update_runed_server`: (Boolean) Flag to use pre-provisioned nodes. Default: false * `tripleo_overcloud_update_run_update_runment_python_interpreter`: (String) Path to a python interpreter for the deployment actions. * `tripleo_overcloud_update_run_disable_password_generation`: (Boolean) Flag to disable password generation. Default: false * `tripleo_overcloud_update_run_disable_validations`: (Boolean) Flag to disable validations. Default: false * `tripleo_overcloud_update_run_dry_run`: (Boolean) Flag to enabel dry run. Default: false * `tripleo_overcloud_update_run_environment_dirs`: (List) A list of directory paths containing environment files for the deployment. Should not be used with environment files. * `tripleo_overcloud_update_run_environment_files`: (List) A list of environment file paths for the deployment. Should not be used with environment dirs. * `tripleo_overcloud_update_run_force_postconfig`: (Boolean) Force the overclodu post-deployment configuration. Default: false * `tripleo_overcloud_update_run_home_dir`: (String) Home directory to where the command is run from. Default: ""{{ ansible_env.HOME }}"" * `tripleo_overcloud_update_run_inflight_validations`: (Boolean) Flag to enable inflight validations. Default: false * `tripleo_overcloud_update_run_libvirt_type`: (String) Libvirt domain time. Setting `NovaComputeLibvirtType` in an environment file is prefered over this option. * `tripleo_overcloud_update_run_log`: (String) Path to a log file for the command output. Default: ""{{ tripleo_overcloud_update_run_home_dir }}/overcloud_update_run.log"" * `tripleo_overcloud_update_run_log_combine`: (Boolean) Flag to enable captching stderr with stdout. Default: true * `tripleo_overcloud_update_run_log_output`: (Boolean) Flag to enable logging to a file. Since the output of this command can be large, it is not recommended to disable this. Default: true * `tripleo_overcloud_update_run_networks_file`: (String) File path to a networks file for the deployment. * `tripleo_overcloud_update_run_no_cleanup`: (Boolean) String to enable no cleanup. Default: false * `tripleo_overcloud_update_run_no_config_download`: (Boolean) String to disable the config download software configuration. Default: false * `tripleo_overcloud_update_run_no_proxy`: (String) String containing a comma seperated list of hosts to skip proxing when http_proxy and https_proxy are used. * `tripleo_overcloud_update_run_ntp_server`: (String) String containing a comma seperated list of ntp servers. Setting `NtpServer` in an environment file is prefered over this option. * `tripleo_overcloud_update_run_os_cloud`: (String) (String) OS_CLOUD value to use when running the command. If `tripleo_os_cloud` is defined, it will be the default. Otherwise the default is ''. This variable takes precedence over `tripleo_overcloud_update_run_rc_file`. * `tripleo_overcloud_update_run_output_dir`: (String) Path to a directory to output for the configuration download output. * `tripleo_overcloud_update_run_overcloud_ssh_enable_timeout`: (Integer) Timeout for the ssh enable process to finish. * `tripleo_overcloud_update_run_overcloud_ssh_key`: (String) Path to an ssh key file to use to access the overcloud nodes. * `tripleo_overcloud_update_run_overcloud_ssh_network`: (String) Network name to use for the ssh access to the overcloud nodes. * `tripleo_overcloud_update_run_overcloud_ssh_port_timeout`: (Integer) Timeout to wait for the ssh port to become active. * `tripleo_overcloud_update_run_overcloud_ssh_user`: (String) User for ssh access to the overcloud nodes. * `tripleo_overcloud_update_run_override_ansible_cfg`: (String) File path to an ansible.cfg containing override values. * `tripleo_overcloud_update_run_plan_environment_file`: (String) File path to a plan environment file. * `tripleo_overcloud_update_run_poll`: (Integer) Number of seconds to wait between each checks to see if the deployment command has completed. Default: 10 * `tripleo_overcloud_update_run_rc_file`: (String) (String) Path to the credential file to use. If `tripleo_rc_file` is defined, it will be the default. Default: ""{{ ansible_env.HOME }}/stackrc"" * `tripleo_overcloud_update_run_roles_file`: (String) File path to a deployment roles file. * `tripleo_overcloud_update_run_run_validations`: (Boolean) Flag to enable running validations. Default: false * `tripleo_overcloud_update_run_skip_update_run_identifier`: (Boolean) Flag to enable skip deploy identifier. Default: false * `tripleo_overcloud_update_run_skip_postconfig`: (Boolean) Flag to enable skip postconfig. Default: false * `tripleo_overcloud_update_run_stack`: (String) Name of the stack to deploy. Default: overcloud * `tripleo_overcloud_update_run_templates`: (String) Path to a directory containing the tripleo-heat-templates for the deployment. Default: /usr/share/openstack-tripleo-heat-templates/ * `tripleo_overcloud_update_run_timeout`: (Integer) Number in seconds to wait for the ansible execution of the deployment command to finish. This should be larger than the `tripleo_overcloud_update_run_timeout_arg` value. Default: 5700 * `tripleo_overcloud_update_run_timeout_arg`: (Integer) Number in minutes for the deployment to run. Default: 90 * `tripleo_overcloud_update_run_update_plan_only`: (Boolean) Flag to enable only updating the plan. Default: false * `tripleo_overcloud_update_run_validation_errors_nonfatal`: (Boolean) Flag to make validation errors not fatal. Default: false * `tripleo_overcloud_update_run_validation_warnings_fatal`: (Boolean) Flag to make validation warnings fatal. Default: false NOTE: Please note that this command should be run against the undercloud so the OS_CLOUD or rc file variables should be set to use the 'undercloud' when calling this role. If you are not defining `tripleo_os_cloud` or `tripleo_rc_file`, stackrc will be used by default. Output Variables ---------------- * `tripleo_overcloud_update_run_output`: (String) The command standard output. * `tripleo_overcloud_update_run_result`: Ansible shell execution results Dependencies ------------ None. Example Playbook ---------------- Example overcloud update prepare execution playbook ```yaml - hosts: undercloud gather_facts: true tasks: - name: Run overcloud update prepare import_role: name: tripleo_overcloud_update_run vars: tripleo_overcloud_update_run_environment_files: - /usr/share/openstack-tripleo-heat-templates/environments/enable-swap.yaml ``` License ------- Apache-2.0 ",,338,0
openstack%2Ftripleo-operator-ansible~master~I3bacb28e5c43b7356bd2206d011e86c9377cd45b,openstack/tripleo-operator-ansible,master,I3bacb28e5c43b7356bd2206d011e86c9377cd45b,Fix debug var,MERGED,2020-02-19 19:46:47.000000000,2020-02-25 19:35:55.000000000,2020-02-25 19:35:55.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 19:46:47.000000000', 'files': ['playbooks/undercloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/77a4695f3f21728a14abb922f453fcea34832f67', 'message': 'Fix debug var\n\nChange-Id: I3bacb28e5c43b7356bd2206d011e86c9377cd45b\n'}]",0,708732,77a4695f3f21728a14abb922f453fcea34832f67,7,3,1,14985,,,0,"Fix debug var

Change-Id: I3bacb28e5c43b7356bd2206d011e86c9377cd45b
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/32/708732/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/undercloud.yml'],1,77a4695f3f21728a14abb922f453fcea34832f67,fix-os_cloud," tripleo_undercloud_install_debug: ""{{ install_debug }}"""," tripleo_undercloud_debug: ""{{ install_debug }}""",1,1
openstack%2Ftripleo-operator-ansible~master~Ib82418a85c4f9f40e71bbfe74bd6e17cc0066cd8,openstack/tripleo-operator-ansible,master,Ib82418a85c4f9f40e71bbfe74bd6e17cc0066cd8,Add basic overcloud deploy playbook,MERGED,2020-02-18 23:35:18.000000000,2020-02-25 19:35:54.000000000,2020-02-25 19:35:54.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-18 23:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/534f77de705fc9f449a6f78c80550cfaa4e12c93', 'message': 'Add basic overcloud deploy playbook\n\nThis adds an example overcloud deployment playbook that deploys a 1\ncontroller and 1 compute overcloud using only the control plane.\n\nChange-Id: Ib82418a85c4f9f40e71bbfe74bd6e17cc0066cd8\n'}, {'number': 2, 'created': '2020-02-19 17:08:27.000000000', 'files': ['playbooks/README.md', 'playbooks/overcloud-deploy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/8f59d98095cffde637dda1094e9d8b80fcda2889', 'message': 'Add basic overcloud deploy playbook\n\nThis adds an example overcloud deployment playbook that deploys a 1\ncontroller and 1 compute overcloud using only the control plane.\n\nChange-Id: Ib82418a85c4f9f40e71bbfe74bd6e17cc0066cd8\n'}]",0,708534,8f59d98095cffde637dda1094e9d8b80fcda2889,9,2,2,14985,,,0,"Add basic overcloud deploy playbook

This adds an example overcloud deployment playbook that deploys a 1
controller and 1 compute overcloud using only the control plane.

Change-Id: Ib82418a85c4f9f40e71bbfe74bd6e17cc0066cd8
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/34/708534/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/README.md', 'playbooks/overcloud-deploy.yml']",2,534f77de705fc9f449a6f78c80550cfaa4e12c93,fix-os_cloud,"--- ############################################################################### # Overcloud deploy playbook # # Description: # This is a basic playbook to execute an overcloud deployment. # ############################################################################### - hosts: undercloud collections: - tripleo.operator vars: deploy_debug: true deploy_templates: /usr/share/openstack-tripleo-heat-templates/ deploy_controller_count: 1 deploy_compute_count: 1 deploy_dns: - 1.1.1.1 - 8.8.8.8 deploy_ntp: - 0.pool.ntp.org - 1.pool.ntp.org - 2.pool.ntp.org - 3.pool.ntp.org deploy_env_files: - /usr/share/openstack-tripleo-heat-templates/environments/enable-swap.yaml - ""{{ ansible_env.HOME }}/container-image-prepare.yaml"" - ""{{ ansible_env.HOME }}/parameters.yaml"" tasks: - name: Gather the rpm package facts package_facts: - name: Check if tripleoclient is installed fail: msg: >- TripleO Client is not installed. Please make sure that the client has been installed and the repositories are properly configured. when: (ansible_facts.distribution_major_version|int <= 7 and not 'python2-tripleoclient' in ansible_facts.packages) or (ansible_facts.distribution_major_version|int >= 8 and not 'python3-tripleoclient' in ansible_facts.packages) - name: Generate parameters.yaml copy: content: | parameter_defaults: ControllerCount: {{ deploy_controller_count | default(1) }} ComputeCount: {{ deploy_compute_count | default(1) }} DnsServers: {{ deploy_dns }} NtpServer: {{ deploy_ntp }} dest: ""{{ ansible_env.HOME }}/parameters.yaml"" - name: Run overcloud deployment include_role: name: tripleo_overcloud_deploy vars: tripleo_overcloud_deploy_debug: ""{{ deploy_debug }}"" tripleo_overcloud_deploy_environment_files: ""{{ deploy_env_files }}"" tripleo_overcloud_deploy_templates: ""{{ deploy_templates }}"" ",,59,0
openstack%2Ftripleo-operator-ansible~master~Ibc5c6acf305b6b3d8f6d589a5c1058cc7f9bc3e8,openstack/tripleo-operator-ansible,master,Ibc5c6acf305b6b3d8f6d589a5c1058cc7f9bc3e8,Add container prepare playbook,MERGED,2020-02-18 19:58:37.000000000,2020-02-25 19:35:26.000000000,2020-02-25 19:35:26.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-18 19:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/6bd86a204fb8a260375cdd1c5a260e2b597d942b', 'message': 'Add container prepare playbook\n\nThis adds a playbook that can run the container prepare default command\nto generate a default ContainerImagePrepare setting or can be used to\nrun the container image prepare process to download the containers to an\nexisting overcloud.\n\nChange-Id: Ibc5c6acf305b6b3d8f6d589a5c1058cc7f9bc3e8\n'}, {'number': 2, 'created': '2020-02-18 21:40:41.000000000', 'files': ['playbooks/README.md', 'playbooks/container-prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/da41aaaa27dbd09e152de336222af35213c03303', 'message': 'Add container prepare playbook\n\nThis adds a playbook that can run the container prepare default command\nto generate a default ContainerImagePrepare setting or can be used to\nrun the container image prepare process to download the containers to an\nexisting overcloud.\n\nChange-Id: Ibc5c6acf305b6b3d8f6d589a5c1058cc7f9bc3e8\n'}]",0,708498,da41aaaa27dbd09e152de336222af35213c03303,9,2,2,14985,,,0,"Add container prepare playbook

This adds a playbook that can run the container prepare default command
to generate a default ContainerImagePrepare setting or can be used to
run the container image prepare process to download the containers to an
existing overcloud.

Change-Id: Ibc5c6acf305b6b3d8f6d589a5c1058cc7f9bc3e8
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/98/708498/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/container-prepare.yml'],1,6bd86a204fb8a260375cdd1c5a260e2b597d942b,fix-os_cloud,"--- ############################################################################### # Container preparation playbook # # Description: # This is a basic playbook to perform the basic container prepare actions # for an overcloud or undercloud deployment. # ############################################################################### - hosts: undercloud collections: - tripleo.operator vars: prepare_debug: true use_default: true default_push_destination: true output_env_file: ""{{ ansible_env.HOME }}/container-image-prepare.yaml"" prepare_env_files: [] prepare_rolefile: tasks: - name: Gather the rpm package facts package_facts: - name: Check if tripleoclient is installed fail: msg: >- TripleO Client is not installed. Please make sure that the client has been installed and the repositories are properly configured. when: (ansible_facts.distribution_major_version|int <= 7 and not 'python2-tripleoclient' in ansible_facts.packages) or (ansible_facts.distribution_major_version|int >= 8 and not 'python3-tripleoclient' in ansible_facts.packages) - name: Run container image prepare defaults include_role: name: tripleo_container_image_prepare_default vars: tripleo_container_image_prepare_default_debug: ""{{ prepare_debug }}"" tripleo_container_image_prepare_default_local_push_destination: ""{{ default_push_destination }}"" tripleo_container_image_prepare_default_output_env_file: ""{{ output_env_file }}"" when: use_default|bool - name: Run container image prepare include_role: name: tripleo_overcloud_node_introspect vars: tripleo_container_image_prepare_debug: ""{{ prepare_debug }}"" tripleo_container_image_prepare_environment_files: ""{{ prepare_env_files }}"" tripleo_container_image_prepare_roles_file: ""{{ prepare_roles_file }}"" tripleo_container_image_prepare_output_env_file: ""{{ output_env_file }}"" when: not use_default|bool ",,50,0
openstack%2Ftripleo-operator-ansible~master~I40ef775178f8cc11e21e33e7da236055d5928a4f,openstack/tripleo-operator-ansible,master,I40ef775178f8cc11e21e33e7da236055d5928a4f,Node import playbook,MERGED,2020-02-10 23:54:19.000000000,2020-02-25 19:35:26.000000000,2020-02-25 19:35:26.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-10 23:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/78efec3e646aa3d7471cb6c13a8a6a33ea013b4e', 'message': 'WIP: Node import playbook\n\nChange-Id: I40ef775178f8cc11e21e33e7da236055d5928a4f\n'}, {'number': 2, 'created': '2020-02-10 23:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/fa0fc0a3b956cd5be793f6d587bc4f03961f05f6', 'message': 'WIP: Node import playbook\n\nChange-Id: I40ef775178f8cc11e21e33e7da236055d5928a4f\n'}, {'number': 3, 'created': '2020-02-18 19:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b1d93f35364d1969084ec6215e52e69eaffc476f', 'message': 'Node import playbook\n\nInclude an example playbook that does node import and introspection into\nironic for the deployment.\n\nChange-Id: I40ef775178f8cc11e21e33e7da236055d5928a4f\n'}, {'number': 4, 'created': '2020-02-18 21:40:41.000000000', 'files': ['playbooks/README.md', 'playbooks/import-nodes.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/556f4ba31091a2baf70d4f6ac46717ff34dd48e1', 'message': 'Node import playbook\n\nInclude an example playbook that does node import and introspection into\nironic for the deployment.\n\nChange-Id: I40ef775178f8cc11e21e33e7da236055d5928a4f\n'}]",0,707031,556f4ba31091a2baf70d4f6ac46717ff34dd48e1,12,2,4,14985,,,0,"Node import playbook

Include an example playbook that does node import and introspection into
ironic for the deployment.

Change-Id: I40ef775178f8cc11e21e33e7da236055d5928a4f
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/31/707031/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/import-nodes.yml'],1,78efec3e646aa3d7471cb6c13a8a6a33ea013b4e,fix-os_cloud,"--- ############################################################################### # Overcloud node import and introspection playbook # # Description: # This is a basic playbook to import overcloud nodes and kick off node # introspection. # ############################################################################### - hosts: undercloud collections: - tripleo.operator vars: node_debug: true node_introspect: true node_environment_source_json_file: environment.json tasks: - name: Gather the rpm package facts package_facts: - name: Check if tripleoclient is installed fail: msg: >- TripleO Client is not installed. Please make sure that the client has been installed and the repositories are properly configured. when: (ansible_facts.distribution_major_version|int <= 7 and not 'python2-tripleoclient' in ansible_facts.packages) or (ansible_facts.distribution_major_version|int >= 8 and not 'python3-tripleoclient' in ansible_facts.packages) - name: Copy environment file to the undercloud copy: src: ""{{ node_environment_source_json_file }}"" dest: ""{{ ansible_env.HOME }}/environment.json"" owner: ""{{ ansible_env.USER }}"" mode: ""0600"" - name: Run node import include_role: name: tripleo_overcloud_node_import vars: tripleo_overcloud_node_import_debug: ""{{ node_debug }}"" tripleo_overcloud_node_import_environment_file: ""{{ ansible_env.HOME }}/environment.json"" # NOTE(mwhahaha): We can do these actions during import, not sure which is better. - name: Run node introspection include_role: name: tripleo_overcloud_node_introspect var: tripleo_overcloud_node_introspect_debug: ""{{ node_debug }}"" tripleo_overcloud_node_introspect_all_manageable: true tripleo_overcloud_node_introspect_provide: true when: node_introspect|bool ",,52,0
openstack%2Ftripleo-operator-ansible~master~I8f2fbf37da786e7d523ba3756a414cd8c29e6c84,openstack/tripleo-operator-ansible,master,I8f2fbf37da786e7d523ba3756a414cd8c29e6c84,Include playbooks in build content,MERGED,2020-02-18 20:17:43.000000000,2020-02-25 19:35:25.000000000,2020-02-25 19:35:25.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-18 20:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/125ca2731f2c68e3da519476dbb765333f412c72', 'message': 'Add basic readme\n\nChange-Id: I8f2fbf37da786e7d523ba3756a414cd8c29e6c84\n'}, {'number': 2, 'created': '2020-02-18 21:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/917b71c2ef2314be24080e4faa7d31215cc5746c', 'message': 'Add basic readme\n\nChange-Id: I8f2fbf37da786e7d523ba3756a414cd8c29e6c84\n'}, {'number': 3, 'created': '2020-02-18 21:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/41d71f24e414054d4daa9245bf40b5066757fb90', 'message': 'Include playbooks in build content\n\nInclude a readme in the playbooks folder and update the setup.cfg to\nmake sure the playbooks end up in the ansible collection.\n\nChange-Id: I8f2fbf37da786e7d523ba3756a414cd8c29e6c84\n'}, {'number': 4, 'created': '2020-02-18 21:40:41.000000000', 'files': ['playbooks/README.md', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/70df46c335b7134546320d7f89e982a8a9e56546', 'message': 'Include playbooks in build content\n\nInclude a readme in the playbooks folder and update the setup.cfg to\nmake sure the playbooks end up in the ansible collection.\n\nChange-Id: I8f2fbf37da786e7d523ba3756a414cd8c29e6c84\n'}]",0,708506,70df46c335b7134546320d7f89e982a8a9e56546,11,2,4,14985,,,0,"Include playbooks in build content

Include a readme in the playbooks folder and update the setup.cfg to
make sure the playbooks end up in the ansible collection.

Change-Id: I8f2fbf37da786e7d523ba3756a414cd8c29e6c84
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/06/708506/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/README.md'],1,125ca2731f2c68e3da519476dbb765333f412c72,fix-os_cloud,Playbooks ========= This folder contains a set of example playbooks that do the minimum required actions to perform specific actions. They can be used as example files to be tailored to your specific requirements. Examples -------- * `container-prepare.yml` - Container prepare playbook * `import-nodes.yml` - Baremetal node import and introspection playbook * `standalone.yml` - Standalone playbook for PoC * `undercloud.yml` - Undercloud installation playbook ,,15,0
openstack%2Fnova~master~I0db1aa914881ab73f1455f69813c9c3c53a4520c,openstack/nova,master,I0db1aa914881ab73f1455f69813c9c3c53a4520c,Use reasonable name for provider mapping,MERGED,2019-12-12 15:16:20.000000000,2020-02-25 19:34:15.000000000,2020-02-25 19:29:17.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-12 15:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dbf450094a6aa051ca63bddd159732d7117cfda', 'message': 'Use reasonable name for provider mapping\n\nThis changes was cut out from I41868f8dc0aa5bff35d0e9e9982791f99df6fe0d\nand it shorten the name of the provider mapping local variables and\nremoves a superfluous call to generating such mapping.\n\nChange-Id: I0db1aa914881ab73f1455f69813c9c3c53a4520c\n'}, {'number': 2, 'created': '2019-12-13 23:41:33.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f7b8f7b84ed814d4d903cd75c74d20d32f4a7023', 'message': 'Use reasonable name for provider mapping\n\nThis changes was cut out from I41868f8dc0aa5bff35d0e9e9982791f99df6fe0d\nand it shorten the name of the provider mapping local variables and\nremoves a superfluous call to generating such mapping.\n\nChange-Id: I0db1aa914881ab73f1455f69813c9c3c53a4520c\n'}]",0,698735,f7b8f7b84ed814d4d903cd75c74d20d32f4a7023,34,12,2,9708,,,0,"Use reasonable name for provider mapping

This changes was cut out from I41868f8dc0aa5bff35d0e9e9982791f99df6fe0d
and it shorten the name of the provider mapping local variables and
removes a superfluous call to generating such mapping.

Change-Id: I0db1aa914881ab73f1455f69813c9c3c53a4520c
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/698735/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,4dbf450094a6aa051ca63bddd159732d7117cfda,bp/support-move-ops-with-qos-ports-ussuri," provider_mapping = self._get_request_group_mapping(request_spec) if provider_mapping: context, instance, provider_mapping) block_device_mapping, provider_mapping) as resources: provider_mapping = None if evacuate: provider_mapping = self._get_request_group_mapping(request_spec) if provider_mapping: context, instance, provider_mapping) provider_mapping) provider_mapping = self._get_request_group_mapping(request_spec) if provider_mapping: context, instance, provider_mapping)"," request_group_resource_providers_mapping = \ self._get_request_group_mapping(request_spec) if request_group_resource_providers_mapping: context, instance, request_group_resource_providers_mapping) request_group_resource_providers_mapping = \ self._get_request_group_mapping(request_spec) block_device_mapping, request_group_resource_providers_mapping) as resources: request_group_resource_providers_mapping = None if evacuate: request_group_resource_providers_mapping = \ self._get_request_group_mapping(request_spec) if request_group_resource_providers_mapping: context, instance, request_group_resource_providers_mapping) request_group_resource_providers_mapping) request_group_resource_providers_mapping = \ self._get_request_group_mapping(request_spec) if request_group_resource_providers_mapping: context, instance, request_group_resource_providers_mapping)",12,23
openstack%2Fopenstack-ansible-os_ironic~stable%2Ftrain~I0ccd782ffd54322896559e5a6218ff532f3cae03,openstack/openstack-ansible-os_ironic,stable/train,I0ccd782ffd54322896559e5a6218ff532f3cae03,Ironic fixes from inspector addition,MERGED,2020-02-25 14:51:37.000000000,2020-02-25 19:32:21.000000000,2020-02-25 19:30:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-25 14:51:37.000000000', 'files': ['tasks/main.yml', 'tasks/ironic_db_setup.yml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/6285aa3e309551d18d0613963d3be6ab6452a4b5', 'message': 'Ironic fixes from inspector addition\n\n1. There was an issue with pip packages not being installed when\ninspector_hosts is not defined.\n\n2. The db_setup task failed when inspector_hosts not defined because of\nthe condition.\n\nChange-Id: I0ccd782ffd54322896559e5a6218ff532f3cae03\n(cherry picked from commit 1f434661b154ee64714ec9d9bb4cd1691329917b)\n'}]",0,709747,6285aa3e309551d18d0613963d3be6ab6452a4b5,8,3,1,21314,,,0,"Ironic fixes from inspector addition

1. There was an issue with pip packages not being installed when
inspector_hosts is not defined.

2. The db_setup task failed when inspector_hosts not defined because of
the condition.

Change-Id: I0ccd782ffd54322896559e5a6218ff532f3cae03
(cherry picked from commit 1f434661b154ee64714ec9d9bb4cd1691329917b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/47/709747/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/ironic_db_setup.yml', 'defaults/main.yml', 'vars/main.yml']",4,6285aa3e309551d18d0613963d3be6ab6452a4b5,, ironic_venv_packages: |- {%- set pkg_list = ironic_pip_packages %} {%- if (ironic_oslomsg_amqp1_enabled | bool) %} {%- set _ = pkg_list.extend(ironic_optional_oslomsg_amqp1_pip_packages) %} {%- endif %} {%- if (ironic_services['ironic-inspector']['group'] in group_names) %} {%- set _ = pkg_list.extend(ironic_inspector_pip_packages) %} {%- endif %} {{- pkg_list | unique }},,18,4
openstack%2Fnova~master~Ief196bb588e53f503c54b2ef0c51bc9a937b4b15,openstack/nova,master,Ief196bb588e53f503c54b2ef0c51bc9a937b4b15,Remove unnecessary parentheses,MERGED,2020-02-25 02:11:10.000000000,2020-02-25 19:32:10.000000000,2020-02-25 19:28:47.000000000,"[{'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-25 02:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b58d118ea21c7ddbdeb9498f952f89fff439e409', 'message': 'Perfect parameter of method.\n\nPerfect  the format of method(expected_errors) parameters,Remove unnecessary parentheses.\n\nChange-Id: Ief196bb588e53f503c54b2ef0c51bc9a937b4b15\n'}, {'number': 2, 'created': '2020-02-25 09:00:07.000000000', 'files': ['nova/api/openstack/compute/flavor_manage.py', 'nova/api/openstack/compute/server_topology.py', 'nova/api/openstack/compute/hypervisors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f3731b3e15faf3fb5f2703184ca9b9f921840347', 'message': 'Remove unnecessary parentheses\n\nThe @wsgi.expected_errors decorator can take a list or a single int\nas parameter. For some reason there are calls in a form of\n@wsgi.expected_errors((<error code>)).\n\n\n\nChange-Id: Ief196bb588e53f503c54b2ef0c51bc9a937b4b15\n'}]",1,709652,f3731b3e15faf3fb5f2703184ca9b9f921840347,33,11,2,31460,,,0,"Remove unnecessary parentheses

The @wsgi.expected_errors decorator can take a list or a single int
as parameter. For some reason there are calls in a form of
@wsgi.expected_errors((<error code>)).



Change-Id: Ief196bb588e53f503c54b2ef0c51bc9a937b4b15
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/709652/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/flavor_manage.py', 'nova/api/openstack/compute/server_topology.py', 'nova/api/openstack/compute/hypervisors.py']",3,b58d118ea21c7ddbdeb9498f952f89fff439e409,perfect_method, @wsgi.expected_errors(400), @wsgi.expected_errors((400)),3,3
openstack%2Ftripleo-operator-ansible~master~I6befe43fbb681f4d98156a06fe16fd92f49c6519,openstack/tripleo-operator-ansible,master,I6befe43fbb681f4d98156a06fe16fd92f49c6519,Example overcloud images playbook,MERGED,2020-02-10 16:36:54.000000000,2020-02-25 19:29:55.000000000,2020-02-25 19:29:55.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2020-02-10 16:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7f62912b7548a8e5c9479518f343977a343f1635', 'message': 'WIP: example overcloud build playbook\n\nChange-Id: I6befe43fbb681f4d98156a06fe16fd92f49c6519\n'}, {'number': 2, 'created': '2020-02-10 18:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/24e7511b83d98dcbc40467a89d13f6f67bada57e', 'message': 'WIP: example overcloud build playbook\n\nChange-Id: I6befe43fbb681f4d98156a06fe16fd92f49c6519\n'}, {'number': 3, 'created': '2020-02-10 20:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/90b8d4da129c7957f42c9a902cbf6c35643c402e', 'message': 'WIP: example overcloud build playbook\n\nChange-Id: I6befe43fbb681f4d98156a06fe16fd92f49c6519\n'}, {'number': 4, 'created': '2020-02-10 20:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/be43f787943b9de32e66bf3ab85efe86ec706cd2', 'message': 'WIP: example overcloud build playbook\n\nChange-Id: I6befe43fbb681f4d98156a06fe16fd92f49c6519\n'}, {'number': 5, 'created': '2020-02-10 21:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/bc0e9cf506bf1deac0e8eb47b1ab7023cc429eea', 'message': 'Example overcloud build playbook\n\nProvides a basic playbook that can be run on an undercloud to build and\nupload the overcloud and ironic images.\n\nChange-Id: I6befe43fbb681f4d98156a06fe16fd92f49c6519\n'}, {'number': 6, 'created': '2020-02-17 21:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/5b6751e2af57dd5e1d217ee764e58363fc307502', 'message': 'Example overcloud build playbook\n\nProvides a basic playbook that can be run on an undercloud to build and\nupload the overcloud and ironic images.\n\nChange-Id: I6befe43fbb681f4d98156a06fe16fd92f49c6519\n'}, {'number': 7, 'created': '2020-02-18 20:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/216fa4a1f2e70e63b473fc58dfc61cb79cb6190d', 'message': 'Example overcloud images playbook\n\nProvides a basic playbook that can be run on an undercloud to build\nand/or upload the overcloud and ironic images.\n\nChange-Id: I6befe43fbb681f4d98156a06fe16fd92f49c6519\n'}, {'number': 8, 'created': '2020-02-18 20:32:08.000000000', 'files': ['playbooks/overcloud-images.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/a10210652d35ef3ee0efd2963dcc97a41b36f285', 'message': 'Example overcloud images playbook\n\nProvides a basic playbook that can be run on an undercloud to build\nand/or upload the overcloud and ironic images.\n\nChange-Id: I6befe43fbb681f4d98156a06fe16fd92f49c6519\n'}]",0,706902,a10210652d35ef3ee0efd2963dcc97a41b36f285,23,4,8,14985,,,0,"Example overcloud images playbook

Provides a basic playbook that can be run on an undercloud to build
and/or upload the overcloud and ironic images.

Change-Id: I6befe43fbb681f4d98156a06fe16fd92f49c6519
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/02/706902/6 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/build-overcloud-images.yml'],1,7f62912b7548a8e5c9479518f343977a343f1635,tripleo-overcloud-image-upload,"--- ############################################################################### # Build overcloud qcow2 images # # Description: # This is a basic playbook to build the overcloud and ironic-python-agent # images required to provision overcloud nodes. # ############################################################################### - hosts: undercloud collections: - tripleo.operator vars: build_debug: true upload_images: true tripleo_overcloud_image_build_output_directory: ""{{ ansible_env.HOME }}/images"" tripleo_overcloud_image_build_dib_yum_repo_conf: ""/etc/yum.repos.d/*"" tripleo_overcloud_image_build_extra_env_vars: {} tasks: - name: Gather the rpm package facts package_facts: - name: Check if tripleoclient is installed fail: msg: >- TripleO Client is not installed. Please make sure that the client has been installed and the repositories are properly configured. when: (ansible_facts.distribution_major_version|int <= 7 and not 'python2-tripleoclient' in ansible_facts.packages) or (ansible_facts.distribution_major_version|int >= 8 and not 'python3-tripleoclient' in ansible_facts.packages) - name: Set distribution variables set_fact: distro_name: {{ ansible_facts.distribution == 'RedHat' | ternary('rhel', 'centos') }} distro_version: {{ ansible_facts.distrbution_major_version | int }} - name: Ensure image folder exists file: path: ""{{ tripleo_overcloud_image_build_output_directory }}"" state: directory mode: '0755' owner: ""{{ ansible_env.USER }}"" - name: Build images include_role: name: tripleo_overcloud_image_build vars: tripleo_overcloud_image_build: ""{{ build_debug }}"" tripleo_overcloud_image_build_config_files: - /usr/share/openstack-tripleo-common/image-yaml/overcloud-images.yaml - /usr/share/openstack-tripleo-common/image-yaml/overcloud-images-{{ distro_name }}{{ distro_version }}.yaml - name: Upload images include_role: name: tripleo_overcloud_image_upload vars: tripleo_overcloud_image_upload_os_cloud: undercloud tripleo_overcloud_image_upload_image_path: ""{{ tripleo_overcloud_image_build_output_directory }}"" when: upload_images|bool ",,59,0
openstack%2Ftripleo-ansible~master~I7a8508603d981f100820af13a99769de4a2aab3a,openstack/tripleo-ansible,master,I7a8508603d981f100820af13a99769de4a2aab3a,Improve logic in introspection module,MERGED,2020-02-12 01:33:56.000000000,2020-02-25 19:19:01.000000000,2020-02-25 19:19:01.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-12 01:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f4b2361400cf9eadeec6263cc5f031b7e68c4b5', 'message': 'Improve logic in introspection module\n\nremove duplicates in code\nChange-Id: I7a8508603d981f100820af13a99769de4a2aab3a\n'}, {'number': 2, 'created': '2020-02-20 12:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/37c983daedb12ff6af6e884928f6fe49f17d4d99', 'message': 'Improve logic in introspection module\n\nremove duplicates in code\nChange-Id: I7a8508603d981f100820af13a99769de4a2aab3a\n'}, {'number': 3, 'created': '2020-02-24 19:41:38.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4b6d6bad0a27b81cf4b4fe5adfe5b0ffc53394ff', 'message': 'Improve logic in introspection module\n\n- remove duplicates in code\n- catch the case when node can\'t start introspections, for example\nif it\'s not in right state like ""clean_failed""\n\nChange-Id: I7a8508603d981f100820af13a99769de4a2aab3a\n'}]",0,707286,4b6d6bad0a27b81cf4b4fe5adfe5b0ffc53394ff,28,4,3,10969,,,0,"Improve logic in introspection module

- remove duplicates in code
- catch the case when node can't start introspections, for example
if it's not in right state like ""clean_failed""

Change-Id: I7a8508603d981f100820af13a99769de4a2aab3a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/86/707286/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'],1,8f4b2361400cf9eadeec6263cc5f031b7e68c4b5,mistral_to_ansible," def push_next(self, pool, queue): try: next_introspection = next(queue) next_introspection.start_introspection() pool.append(next_introspection) except StopIteration: pass return pool pool = self.push_next(pool, queue) if (not status.is_finished and intro.timeouted()) or ( status.is_finished and status.error is not None ): if status.is_finished: self.log(""ERROR Introspection of node %s "" ""failed: %s"" % ( status.id, str(status.error)) ) if intro.last_retry(): result[status.id] = (intro.error_msg() if status.is_finished else intro.timeout_msg()) pool = self.push_next(pool, queue)"," try: next_introspection = next(queue) next_introspection.start_introspection() pool.append(next_introspection) except StopIteration: pass if not status.is_finished and intro.timeouted(): if intro.last_retry(): result[status.id] = intro.timeout_msg() elif status.is_finished and status.error is not None: self.log(""ERROR Introspection of node %s failed: %s"" % ( status.id, str(status.error)) ) if intro.last_retry(): result[status.id] = intro.error_msg() finished.append(intro) else: intro.restart_introspection() try: next_introspection = next(queue) next_introspection.start_introspection() pool.append(next_introspection) except StopIteration: pass",22,23
openstack%2Fpython-tripleoclient~master~Id0ba76f5ae2da51d06d86d3fd3ea47df0462763a,openstack/python-tripleoclient,master,Id0ba76f5ae2da51d06d86d3fd3ea47df0462763a,Remove the unused backup method,MERGED,2020-02-19 12:51:05.000000000,2020-02-25 19:13:26.000000000,2020-02-25 19:10:15.000000000,"[{'_account_id': 7353}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-19 12:51:05.000000000', 'files': ['tripleoclient/workflows/undercloud_backup.py', 'tripleoclient/tests/workflows/test_undercloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2f1afe62e78aa003537d479fc77237d2f31ed265', 'message': 'Remove the unused backup method\n\nThis Mistral workflow is no longer used\n\nChange-Id: Id0ba76f5ae2da51d06d86d3fd3ea47df0462763a\n'}]",0,708640,2f1afe62e78aa003537d479fc77237d2f31ed265,9,4,1,9712,,,0,"Remove the unused backup method

This Mistral workflow is no longer used

Change-Id: Id0ba76f5ae2da51d06d86d3fd3ea47df0462763a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/40/708640/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/undercloud_backup.py', 'tripleoclient/tests/workflows/test_undercloud_backup.py']",2,2f1afe62e78aa003537d479fc77237d2f31ed265,,,"# Copyright 2017 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import mock from osc_lib.tests import utils from tripleoclient.workflows import undercloud_backup class TestUndercloudBackup(utils.TestCommand): def setUp(self): super(TestUndercloudBackup, self).setUp() self.app.client_manager = mock.Mock() self.app.client_manager.workflow_engine = self.workflow = mock.Mock() self.tripleoclient = mock.Mock() self.websocket = mock.Mock() self.websocket.__enter__ = lambda s: self.websocket self.websocket.__exit__ = lambda s, *exc: None self.tripleoclient.messaging_websocket.return_value = self.websocket self.app.client_manager.tripleoclient = self.tripleoclient @mock.patch('tripleoclient.workflows.base.wait_for_messages') @mock.patch('tripleoclient.workflows.base.start_workflow') def test_run_backup(self, start_wf_mock, messages_mock): messages_mock.return_value = [] fetch_name = 'tripleo.undercloud_backup.v1.backup' fetch_input = { 'sources_path': '/home/stack/' } undercloud_backup.backup(self.app.client_manager, fetch_input) start_wf_mock.assert_called_once_with(self.workflow, fetch_name, workflow_input=fetch_input) @mock.patch('tripleoclient.workflows.base.wait_for_messages') @mock.patch('tripleoclient.workflows.base.start_workflow') def test_run_backup_with_args(self, start_wf_mock, messages_mock): messages_mock.return_value = [] fetch_name = 'tripleo.undercloud_backup.v1.backup' fetch_input = { 'sources_path': '/tmp/file1.txt,/home/stack/' } undercloud_backup.backup(self.app.client_manager, fetch_input) start_wf_mock.assert_called_once_with(self.workflow, fetch_name, workflow_input=fetch_input) ",0,94
openstack%2Fpython-tripleoclient~master~Ia742bef6915b5ff6edd28bf4eb83c5f67b95eed1,openstack/python-tripleoclient,master,Ia742bef6915b5ff6edd28bf4eb83c5f67b95eed1,Remove three unused exceptions,MERGED,2020-02-19 12:52:58.000000000,2020-02-25 19:12:04.000000000,2020-02-25 19:10:14.000000000,"[{'_account_id': 7353}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-19 12:52:58.000000000', 'files': ['tripleoclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/abe56405be5de0d36e08a7860d3bb69f63196986', 'message': 'Remove three unused exceptions\n\nThese are never raised or extended.\n\nChange-Id: Ia742bef6915b5ff6edd28bf4eb83c5f67b95eed1\n'}]",0,708641,abe56405be5de0d36e08a7860d3bb69f63196986,9,4,1,9712,,,0,"Remove three unused exceptions

These are never raised or extended.

Change-Id: Ia742bef6915b5ff6edd28bf4eb83c5f67b95eed1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/41/708641/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/exceptions.py'],1,abe56405be5de0d36e08a7860d3bb69f63196986,,,"class Timeout(Base): """"""An operation timed out"""""" class StackInProgress(Base): """"""Unable to deploy as the stack is busy"""""" class StateTransitionFailed(Base): """"""Ironic node state transition failed"""""" ",0,12
openstack%2Fpuppet-octavia~master~I8c2cfad24a6a526fdb667c57c6b75eb9c9f2da3d,openstack/puppet-octavia,master,I8c2cfad24a6a526fdb667c57c6b75eb9c9f2da3d,OVN Octavia Provider: Use SSL/TLS protocol when TLS is enabled,ABANDONED,2020-02-12 17:19:41.000000000,2020-02-25 19:06:08.000000000,,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 11628}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-12 17:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f3cde5b064a27737e8e4e1873f05dac19229fe48', 'message': 'octavia: Use SSL protocol when TLS is enabled\n\nThis patch enhances Octavia config, so it can connect to\nOVN_Northbound DB using SSL.\n\nChange-Id: I8c2cfad24a6a526fdb667c57c6b75eb9c9f2da3d\nCloses-Bug: #1861886\n'}, {'number': 2, 'created': '2020-02-14 11:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/00aa920fad7641604507bced4285a030348f1101', 'message': 'OVN Octavia Driver: Use SSL/TLS protocol when TLS is enabled\n\nThis patch enhances OVN Octavia config, so it can connect to\nOVN_Northbound DB using SSL/TLS.\n\nChange-Id: I8c2cfad24a6a526fdb667c57c6b75eb9c9f2da3d\nCloses-Bug: #1861886\n'}, {'number': 3, 'created': '2020-02-14 13:11:57.000000000', 'files': ['releasenotes/notes/ovn-ssl-octavia-f5fbef364de00bdc.yaml', 'manifests/api.pp', 'spec/classes/octavia_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/8124678922a22198b935da1b56abf5407ee102ee', 'message': 'OVN Octavia Provider: Use SSL/TLS protocol when TLS is enabled\n\nThis patch enhances OVN Octavia config, so it can connect to\nOVN_Northbound DB using SSL/TLS.\n\nChange-Id: I8c2cfad24a6a526fdb667c57c6b75eb9c9f2da3d\nCloses-Bug: #1861886\n'}]",10,707434,8124678922a22198b935da1b56abf5407ee102ee,19,6,3,11952,,,0,"OVN Octavia Provider: Use SSL/TLS protocol when TLS is enabled

This patch enhances OVN Octavia config, so it can connect to
OVN_Northbound DB using SSL/TLS.

Change-Id: I8c2cfad24a6a526fdb667c57c6b75eb9c9f2da3d
Closes-Bug: #1861886
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/34/707434/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn-ssl-octavia-f5fbef364de00bdc.yaml', 'manifests/api.pp', 'spec/classes/octavia_api_spec.rb']",3,f3cde5b064a27737e8e4e1873f05dac19229fe48,bug/1861886," :ovn_nb_private_key => '/foo.key', :ovn_nb_certificate => '/foo.pem', :ovn_nb_ca_cert => '/ca_foo.pem', is_expected.to contain_octavia_config('ovn/ovn_nb_private_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('ovn/ovn_nb_certificate').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('ovn/ovn_nb_ca_cert').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('ovn/ovn_nb_private_key').with_value(params[:ovn_nb_private_key]) is_expected.to contain_octavia_config('ovn/ovn_nb_certificate').with_value(params[:ovn_nb_certificate]) is_expected.to contain_octavia_config('ovn/ovn_nb_ca_cert').with_value(params[:ovn_nb_ca_cert])",,40,0
openstack%2Fneutron~stable%2Frocky~I19e1af1bda788ed970d30ab251e895f7daa11e39,openstack/neutron,stable/rocky,I19e1af1bda788ed970d30ab251e895f7daa11e39,Remove sleep command when retrieving OVS dp,MERGED,2020-02-03 09:38:57.000000000,2020-02-25 18:57:37.000000000,2020-02-25 18:57:36.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-03 09:38:57.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/54b00629639faa27611ab5d5ee6c788c217d964b', 'message': 'Remove sleep command when retrieving OVS dp\n\nOVS agent is a single thread module executed on a os-ken AppManager\ncontext. os-ken uses, by default (and no other implementation is\navailable today [1]), ""eventlet"" threads. Those threads are scheduled\nmanually by the code itself; the context switch is done through\nyielding. The easiest way to do this is by executing:\n  eventlet.sleep()\n\nIf the assigned thread is not ready to take the GIL and do not yield\nback the executor, other threads will starve and eventually will\ntimeout.\n\nThis patch removes the ""sleep"" command during the DP retrieval. This\nwill keep the executor on the current thread and will prevent the\nexecution timeouts, as seen in the bug related.\n\n[1]https://opendev.org/openstack/os-ken/src/commit/1f751b2d7d385a75d4255934694177d6fd6f012f/os_ken/lib/hub.py\n\nCloses-Bug: #1861269\n\nChange-Id: I19e1af1bda788ed970d30ab251e895f7daa11e39\n(cherry picked from commit 740741864adc142b9bb037e92fd563cae124046a)\n'}]",0,705400,54b00629639faa27611ab5d5ee6c788c217d964b,79,8,1,11975,,,0,"Remove sleep command when retrieving OVS dp

OVS agent is a single thread module executed on a os-ken AppManager
context. os-ken uses, by default (and no other implementation is
available today [1]), ""eventlet"" threads. Those threads are scheduled
manually by the code itself; the context switch is done through
yielding. The easiest way to do this is by executing:
  eventlet.sleep()

If the assigned thread is not ready to take the GIL and do not yield
back the executor, other threads will starve and eventually will
timeout.

This patch removes the ""sleep"" command during the DP retrieval. This
will keep the executor on the current thread and will prevent the
execution timeouts, as seen in the bug related.

[1]https://opendev.org/openstack/os-ken/src/commit/1f751b2d7d385a75d4255934694177d6fd6f012f/os_ken/lib/hub.py

Closes-Bug: #1861269

Change-Id: I19e1af1bda788ed970d30ab251e895f7daa11e39
(cherry picked from commit 740741864adc142b9bb037e92fd563cae124046a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/705400/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py'],1,54b00629639faa27611ab5d5ee6c788c217d964b,bug/1861269-stable/rocky, # The switch has not established a connection to us; retry again # until timeout., # The switch has not established a connection to us. # Wait for a little. eventlet.sleep(1),2,3
openstack%2Fopenstack-helm~master~I5a1a9c1a9ae66d027199057a13e3119a326ef015,openstack/openstack-helm,master,I5a1a9c1a9ae66d027199057a13e3119a326ef015,[cinder] Fix misspelling,MERGED,2020-02-24 12:58:13.000000000,2020-02-25 18:40:09.000000000,2020-02-25 18:37:53.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 12:58:13.000000000', 'files': ['cinder/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/df4d104841073d6fd48ff6a7769cd3cadf63423b', 'message': ""[cinder] Fix misspelling\n\nSecurity_context'readOnlyRootFilesystem' under container cinder-backup\nis misspelled as' redOnlyRootFilesystem', this commit fixed this\n\nChange-Id: I5a1a9c1a9ae66d027199057a13e3119a326ef015\n""}]",0,709462,df4d104841073d6fd48ff6a7769cd3cadf63423b,10,3,1,30858,,,0,"[cinder] Fix misspelling

Security_context'readOnlyRootFilesystem' under container cinder-backup
is misspelled as' redOnlyRootFilesystem', this commit fixed this

Change-Id: I5a1a9c1a9ae66d027199057a13e3119a326ef015
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/62/709462/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/values.yaml'],1,df4d104841073d6fd48ff6a7769cd3cadf63423b,, readOnlyRootFilesystem: true, redOnlyRootFilesystem: true,1,1
openstack%2Fansible-role-python_venv_build~master~I6c1165cd359c2df77f7bf495cca7b043858aa893,openstack/ansible-role-python_venv_build,master,I6c1165cd359c2df77f7bf495cca7b043858aa893,Use python3 version by default,MERGED,2020-02-24 10:11:13.000000000,2020-02-25 18:34:16.000000000,2020-02-25 18:32:38.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-24 10:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/f437abbe3f50c84f1f84ed1aabe3c990b1342454', 'message': 'Use python3 version by default\n\nWe always want to default to building virtual environments in\nPython 3.\n\nChange-Id: I6c1165cd359c2df77f7bf495cca7b043858aa893\n'}, {'number': 2, 'created': '2020-02-24 12:24:16.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/510f510d0f80330432604a6ae648e3445ae5fca9', 'message': 'Use python3 version by default\n\nWe always want to default to building virtual environments in\nPython 3.\n\nDepends-On: I08e04c198654c15fdb5e11a638da1f8626b0186c\nChange-Id: I6c1165cd359c2df77f7bf495cca7b043858aa893\n'}]",0,709441,510f510d0f80330432604a6ae648e3445ae5fca9,15,4,2,1004,,,0,"Use python3 version by default

We always want to default to building virtual environments in
Python 3.

Depends-On: I08e04c198654c15fdb5e11a638da1f8626b0186c
Change-Id: I6c1165cd359c2df77f7bf495cca7b043858aa893
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/41/709441/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,f437abbe3f50c84f1f84ed1aabe3c990b1342454,osa/make-gates-great-again,"venv_python_executable: ""python3""","venv_python_executable: ""python2""",1,1
openstack%2Fkayobe~master~I4121d01dc83ac028350d4d98d3e1158e15fdfd63,openstack/kayobe,master,I4121d01dc83ac028350d4d98d3e1158e15fdfd63,Remove activate-virtualenv and deactivate-virtualenv roles,MERGED,2020-02-17 09:22:39.000000000,2020-02-25 18:13:09.000000000,2020-02-25 18:11:02.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-17 09:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b576c2584331c5f47627a73fd1059cbdb1a649c9', 'message': 'WIP: Remove activate-virtualenv and deactivate-virtualenv roles\n\nChange-Id: I4121d01dc83ac028350d4d98d3e1158e15fdfd63\n'}, {'number': 2, 'created': '2020-02-20 15:47:18.000000000', 'files': ['ansible/pip.yml', 'ansible/roles/deactivate-virtualenv/tasks/main.yml', 'ansible/roles/pip/tasks/pip_local_mirror.yml', 'ansible/roles/ipa-images/tasks/main.yml', 'ansible/roles/activate-virtualenv/defaults/main.yml', 'ansible/baremetal-compute-inspect.yml', 'ansible/roles/activate-virtualenv/tasks/main.yml', 'ansible/roles/deactivate-virtualenv/defaults/main.yml', 'ansible/baremetal-compute-provide.yml', 'ansible/provision-net.yml', 'ansible/baremetal-compute-manage.yml', 'ansible/roles/ironic-inspector-rules/tasks/main.yml', 'ansible/kayobe-target-venv.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2e842ab3f5c7b737b547f4c2c718f96294f582d5', 'message': 'Remove activate-virtualenv and deactivate-virtualenv roles\n\nThese roles are no longer necessary now that Ansible supports setting\nansible_python_interpreter via a task- or role-scoped variable.\n\nChange-Id: I4121d01dc83ac028350d4d98d3e1158e15fdfd63\nStory: 2006574\nTask: 38824\n'}]",2,708072,2e842ab3f5c7b737b547f4c2c718f96294f582d5,12,4,2,14826,,,0,"Remove activate-virtualenv and deactivate-virtualenv roles

These roles are no longer necessary now that Ansible supports setting
ansible_python_interpreter via a task- or role-scoped variable.

Change-Id: I4121d01dc83ac028350d4d98d3e1158e15fdfd63
Story: 2006574
Task: 38824
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/72/708072/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/deactivate-virtualenv/tasks/main.yml', 'ansible/roles/pip/tasks/pip_local_mirror.yml', 'ansible/roles/ipa-images/tasks/main.yml', 'ansible/roles/activate-virtualenv/defaults/main.yml', 'ansible/baremetal-compute-inspect.yml', 'ansible/roles/activate-virtualenv/tasks/main.yml', 'ansible/roles/deactivate-virtualenv/defaults/main.yml', 'ansible/baremetal-compute-provide.yml', 'ansible/provision-net.yml', 'ansible/baremetal-compute-manage.yml', 'ansible/roles/ironic-inspector-rules/tasks/main.yml', 'ansible/kayobe-target-venv.yml']",12,b576c2584331c5f47627a73fd1059cbdb1a649c9,story/2007294, vars: # Use the system python interpreter since the virtualenv might not # exist. ansible_python_interpreter: /usr/bin/python3," # This will cause ansible to use the system python interpreter. - name: Deactivate the virtualenv include_role: name: deactivate-virtualenv - name: Activate the virtualenv include_role: name: activate-virtualenv vars: activate_virtualenv_path: ""{{ virtualenv }}""",108,196
openstack%2Fkolla-ansible~master~If10a23dfa67212e843ef26486c9523074cc920e7,openstack/kolla-ansible,master,If10a23dfa67212e843ef26486c9523074cc920e7,CI: Add TLS tests,MERGED,2020-01-07 17:52:36.000000000,2020-02-25 18:09:51.000000000,2020-02-12 01:20:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 29543}, {'_account_id': 30491}, {'_account_id': 30810}]","[{'number': 1, 'created': '2020-01-07 17:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1bcc4e416372234f5591a7a776f7530c11540792', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n'}, {'number': 2, 'created': '2020-01-07 18:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c3a6ad521ac37dbf024e405d372a99d25643f25', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n'}, {'number': 3, 'created': '2020-01-07 20:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0b8d12f3604d66c8e6d70bf133be4935d686bf6', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n'}, {'number': 4, 'created': '2020-01-08 00:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1bb950ad61904be51de3b12ff70ce90432ca9200', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n'}, {'number': 5, 'created': '2020-01-14 22:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1489e7de8e71374661d18f161423da260259f86', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n'}, {'number': 6, 'created': '2020-01-15 04:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e347e9081ddcf90bdbba3e29b62e87665068f26f', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint support-trusted-ca-certificate-file\n'}, {'number': 7, 'created': '2020-01-17 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6124599daa4e96600c448503fe2174b62a46f5a7', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 8, 'created': '2020-01-18 01:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75d1ef11b3bb19c60d02ac582fa2f31b522aee4a', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 9, 'created': '2020-01-18 23:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/442d251769ee501bc811728f33599730adcbd921', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 10, 'created': '2020-01-27 23:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d74ec26fedaab15e47eeb9539ce6efd8ae9061b4', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 11, 'created': '2020-01-28 04:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5cf3874ec75b0cf30293dec5a97fda04174018ce', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint custom-cacerts\n'}, {'number': 12, 'created': '2020-01-29 01:18:58.000000000', 'files': ['tests/deploy.sh', 'tests/check-config.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'tests/test-dashboard.sh', 'zuul.d/jobs.yaml', 'tests/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6404d0e0315c2ccb68960f0421b69eded31de6cd', 'message': 'CI: Add TLS tests\n\nAdd a TLS scenario in zuul to generate self signed certificates and\nto configure TLS to be enabled in the open stack deployment.\n\nChange-Id: If10a23dfa67212e843ef26486c9523074cc920e7\nPartially-Implements: blueprint custom-cacerts\n'}]",11,701414,6404d0e0315c2ccb68960f0421b69eded31de6cd,56,6,12,30810,,,0,"CI: Add TLS tests

Add a TLS scenario in zuul to generate self signed certificates and
to configure TLS to be enabled in the open stack deployment.

Change-Id: If10a23dfa67212e843ef26486c9523074cc920e7
Partially-Implements: blueprint custom-cacerts
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/701414/10 && git format-patch -1 --stdout FETCH_HEAD,"['tests/deploy.sh', 'tests/check-config.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'tests/test-dashboard.sh', 'zuul.d/jobs.yaml', 'tests/upgrade.sh']",7,1bcc4e416372234f5591a7a776f7530c11540792,bp/add-internal-network/configure-cacert-verification," # generate self-signed certificates for the optional internal TLS tests if [[ $SCENARIO == ""tls"" ]]; then tools/kolla-ansible -i ${RAW_INVENTORY} -vvv certificates > /tmp/logs/ansible/certificates fi",,37,3
openstack%2Fkayobe~master~Id3894c3c36ef99f00ed463de6a3457e11733d6b7,openstack/kayobe,master,Id3894c3c36ef99f00ed463de6a3457e11733d6b7,Switch from shade to openstacksdk,MERGED,2020-02-13 16:54:41.000000000,2020-02-25 18:05:49.000000000,2020-02-25 18:01:49.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-13 16:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/51eac08775942859d33219655d10764759af07af', 'message': ""Switch from shade to openstacksdk\n\nUpstream Ansible OpenStack modules now use openstacksdk rather than shade.\nSwitch local Ansible modules to follow suit. Also switch to use the\nstackhpc.os_openstacksdk role from stackhpc.os-shade.\n\nThe stackhpc.os-shade role is removed during 'kayobe control host upgrade'.\n\nChange-Id: Id3894c3c36ef99f00ed463de6a3457e11733d6b7\nStory: 2007294\nTask: 38759\n""}, {'number': 2, 'created': '2020-02-14 10:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0312729d7e3c899cd9d7df3ad53f06a7927ec0c9', 'message': ""Switch from shade to openstacksdk\n\nUpstream Ansible OpenStack modules now use openstacksdk rather than shade.\nSwitch local Ansible modules to follow suit. Also switch to use the\nstackhpc.os_openstacksdk role from stackhpc.os-shade.\n\nThe stackhpc.os-shade role is removed during 'kayobe control host upgrade'.\n\nChange-Id: Id3894c3c36ef99f00ed463de6a3457e11733d6b7\nStory: 2007294\nTask: 38759\n""}, {'number': 3, 'created': '2020-02-15 10:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1ba5f9bc300597e0cf6b3916ddd90eca8e0e5b02', 'message': ""Switch from shade to openstacksdk\n\nUpstream Ansible OpenStack modules now use openstacksdk rather than shade.\nSwitch local Ansible modules to follow suit. Also switch to use the\nstackhpc.os_openstacksdk role from stackhpc.os-shade.\n\nThe stackhpc.os-shade role is removed during 'kayobe control host upgrade'.\n\nChange-Id: Id3894c3c36ef99f00ed463de6a3457e11733d6b7\nStory: 2007294\nTask: 38759\n""}, {'number': 4, 'created': '2020-02-20 15:47:18.000000000', 'files': ['ansible/roles/ipa-images/defaults/main.yml', 'ansible/roles/ipa-images/meta/main.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/roles/ironic-inspector-rules/meta/main.yml', 'ansible/baremetal-compute-inspect.yml', 'ansible/roles/ironic-inspector-rules/README.md', 'kayobe/ansible.py', 'ansible/external-net.yml', 'kayobe/tests/unit/test_ansible.py', 'ansible/seed-introspection-rules.yml', 'ansible/baremetal-compute-provide.yml', 'ansible/overcloud-grafana-configure.yml', 'ansible/provision-net.yml', 'ansible/roles/ironic-inspector-rules/library/os_ironic_inspector_rule.py', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'requirements.yml', 'ansible/baremetal-compute-manage.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2de3a2c578da0c956a3ed23e3a44d49aafff3c1c', 'message': ""Switch from shade to openstacksdk\n\nUpstream Ansible OpenStack modules now use openstacksdk rather than shade.\nSwitch local Ansible modules to follow suit. Also switch to use the\nstackhpc.os_openstacksdk role from stackhpc.os-shade.\n\nThe stackhpc.os-shade role is removed during 'kayobe control host upgrade'.\n\nChange-Id: Id3894c3c36ef99f00ed463de6a3457e11733d6b7\nStory: 2007294\nTask: 38759\n""}]",1,707689,2de3a2c578da0c956a3ed23e3a44d49aafff3c1c,19,4,4,14826,,,0,"Switch from shade to openstacksdk

Upstream Ansible OpenStack modules now use openstacksdk rather than shade.
Switch local Ansible modules to follow suit. Also switch to use the
stackhpc.os_openstacksdk role from stackhpc.os-shade.

The stackhpc.os-shade role is removed during 'kayobe control host upgrade'.

Change-Id: Id3894c3c36ef99f00ed463de6a3457e11733d6b7
Story: 2007294
Task: 38759
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/89/707689/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ipa-images/defaults/main.yml', 'ansible/roles/ipa-images/meta/main.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/roles/ironic-inspector-rules/meta/main.yml', 'ansible/baremetal-compute-inspect.yml', 'ansible/roles/ironic-inspector-rules/README.md', 'kayobe/ansible.py', 'ansible/external-net.yml', 'ansible/seed-introspection-rules.yml', 'ansible/baremetal-compute-provide.yml', 'ansible/overcloud-grafana-configure.yml', 'ansible/provision-net.yml', 'ansible/roles/ironic-inspector-rules/library/os_ironic_inspector_rule.py', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'requirements.yml', 'ansible/baremetal-compute-manage.yml']",17,51eac08775942859d33219655d10764759af07af,story/2007294,"# We install openstacksdk in a virtualenv on one of the controllers, and delegate to venv: ""{{ virtualenv_path }}/openstacksdk"" roles: - role: stackhpc.os_openstacksdk os_openstacksdk_venv: ""{{ venv }}"" os_openstacksdk_install_epel: ""{{ yum_install_epel }}"" os_openstacksdk_state: latest os_openstacksdk_upper_constraints_file: ""{{ pip_upper_constraints_file }}""","# We install shade in a virtualenv on one of the controllers, and delegate to venv: ""{{ virtualenv_path }}/shade"" roles: - role: stackhpc.os-shade os_shade_venv: ""{{ venv }}"" os_shade_install_epel: ""{{ yum_install_epel }}"" os_shade_state: latest os_shade_upper_constraints_file: ""{{ pip_upper_constraints_file }}""",70,70
openstack%2Ftripleo-ansible~master~If02b0b234867ae00dc7f7c53c4253c2a21448220,openstack/tripleo-ansible,master,If02b0b234867ae00dc7f7c53c4253c2a21448220,BaR Rename the mysql_short_bootstrap_name,MERGED,2020-02-20 08:39:37.000000000,2020-02-25 18:00:37.000000000,2020-02-25 18:00:37.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8932}, {'_account_id': 11085}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 30788}]","[{'number': 1, 'created': '2020-02-20 08:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bde388b2988193579ca4ea03e66fc040cd9a76d5', 'message': ""BaR Rename the mysql_short_bootstrap_name\n\nThe puppet variable 'bootstrap_nodeid' is no longer valid,\ninstead we need to use 'mysql_short_bootstrap_name'.\n\nAlso added the logic around the variable.\n\nChange-Id: If02b0b234867ae00dc7f7c53c4253c2a21448220\n""}, {'number': 2, 'created': '2020-02-20 09:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6696a1f6ae34d8a31aebd3960f8c6ad7fa94c22a', 'message': ""BaR Rename the mysql_short_bootstrap_name\n\nThe puppet variable 'bootstrap_nodeid' is no longer valid,\ninstead we need to use 'mysql_short_bootstrap_name'.\n\nAlso added the logic around the variable.\n\nChange-Id: If02b0b234867ae00dc7f7c53c4253c2a21448220\n""}, {'number': 3, 'created': '2020-02-20 09:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/146fe5da305a04449a1f712654d3a9bee7cd702a', 'message': ""BaR Rename the mysql_short_bootstrap_name\n\nThe puppet variable 'bootstrap_nodeid' is no longer valid,\ninstead we need to use 'mysql_short_bootstrap_name'.\n\nAlso added the logic around the variable.\n\nChange-Id: If02b0b234867ae00dc7f7c53c4253c2a21448220\n""}, {'number': 4, 'created': '2020-02-20 14:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/22052a8ab45f1e707ca3b47b45621d3dbb423c48', 'message': ""BaR Rename the mysql_short_bootstrap_name\n\nThe puppet variable 'bootstrap_nodeid' is no longer valid,\ninstead we need to use 'mysql_short_bootstrap_name'.\n\nAlso added the logic around the variable.\n\nChange-Id: If02b0b234867ae00dc7f7c53c4253c2a21448220\n""}, {'number': 5, 'created': '2020-02-20 15:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ba745df5a18f2091b12fd4bdbfa6c9a09bfcd10', 'message': ""BaR Rename the mysql_short_bootstrap_name\n\nThe puppet variable 'bootstrap_nodeid' is no longer valid,\ninstead we need to use 'mysql_short_bootstrap_name'.\n\nAlso added the logic around the variable.\n\nChange-Id: If02b0b234867ae00dc7f7c53c4253c2a21448220\nCloses-Bug: 1864059\n""}, {'number': 6, 'created': '2020-02-25 08:51:03.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/setup_rear/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5126e6c2a4c1e905835911413cf72ac202e04172', 'message': ""BaR Rename the mysql_short_bootstrap_name\n\nThe puppet variable 'bootstrap_nodeid' is no longer valid,\ninstead we need to use 'mysql_short_bootstrap_name'.\n\nAlso added the logic around the variable.\n\nChange-Id: If02b0b234867ae00dc7f7c53c4253c2a21448220\nCloses-Bug: 1864059\n""}]",1,708819,5126e6c2a4c1e905835911413cf72ac202e04172,27,10,6,22954,,,0,"BaR Rename the mysql_short_bootstrap_name

The puppet variable 'bootstrap_nodeid' is no longer valid,
instead we need to use 'mysql_short_bootstrap_name'.

Also added the logic around the variable.

Change-Id: If02b0b234867ae00dc7f7c53c4253c2a21448220
Closes-Bug: 1864059
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/708819/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/setup_rear/tasks/main.yml'],1,bde388b2988193579ca4ea03e66fc040cd9a76d5,bar_exclude_path," tripleo_backup_and_restore_bootstrap_nodeid: ""{{ lookup('hiera', 'mysql_short_bootstrap_node_name _hierarchy_file=/etc/puppet/hiera.yml') }}"" - ""{{ (tripleo_backup_and_restore_exclude_paths_compute) if (tripleo_backup_and_restore_enabled_services.stdout is search('nova_compute')) else [] }}"" - ""{{ (tripleo_backup_and_restore_exclude_paths_controller) if (tripleo_backup_and_restore_bootstrap_nodeid.stdout != tripleo_backup_and_restore_hostname.stdout and tripleo_backup_and_restore_enabled_services.stdout is search('pacemaker') and tripleo_backup_and_restore_enabled_services.stdout is search('mysql') and tripleo_backup_and_restore_exclude_paths_controller_non_bootrapnode) else [] }}"""," tripleo_backup_and_restore_bootstrap_nodeid: ""{{ lookup('hiera', 'bootstrap_nodeid _hierarchy_file=/etc/puppet/hiera.yml') }}"" set_fact: - ""{{ tripleo_backup_and_restore_exclude_paths_compute }}"" - ""{{ tripleo_backup_and_restore_exclude_paths_controller }}""",8,4
openstack%2Frally-openstack~master~I42b53d2d1a6f6e58a380b39aff814b451cb8c885,openstack/rally-openstack,master,I42b53d2d1a6f6e58a380b39aff814b451cb8c885,Add release notes for 1.7.0,MERGED,2020-02-25 14:46:24.000000000,2020-02-25 17:54:49.000000000,2020-02-25 17:54:49.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 14:46:24.000000000', 'files': ['tests/ci/playbooks/roles/fetch-rally-task-results/tasks/main.yaml', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9a96ae218a67a00939b164eeb6f668fee9c7176c', 'message': 'Add release notes for 1.7.0\n\nChange-Id: I42b53d2d1a6f6e58a380b39aff814b451cb8c885\n'}]",0,709746,9a96ae218a67a00939b164eeb6f668fee9c7176c,6,2,1,9545,,,0,"Add release notes for 1.7.0

Change-Id: I42b53d2d1a6f6e58a380b39aff814b451cb8c885
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/46/709746/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ci/playbooks/roles/fetch-rally-task-results/tasks/main.yaml', 'CHANGELOG.rst']",2,9a96ae218a67a00939b164eeb6f668fee9c7176c,p1.7.0,[1.7.0] - 2020-12-25 -------------------- Added ~~~~~ * An ability to specify Primary and Alternate reference flavor disk sized. * Support to upload an image from a https server Fixed ~~~~~ * [tempest] Only volume-backed servers are allowed for flavors with zero disk on stein `Launchpad-bug #1841609 <https://launchpad.net/bugs/1841609>`_ * [tempest] Failing to configure Tempest with nullable fields at Python 3 envs `Launchpad-bug #1863945 <https://launchpad.net/bugs/1863945>`_ ,,30,0
openstack%2Fcharm-guide~master~Idad0d3fc8ad326875916b0b49c253a949d369206,openstack/charm-guide,master,Idad0d3fc8ad326875916b0b49c253a949d369206,Add 20.05 Release Notes draft,MERGED,2020-02-25 16:30:18.000000000,2020-02-25 17:46:56.000000000,2020-02-25 17:44:23.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 16:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/07b7f98b91320dee56b4bc83f645ffc0bdeeb109', 'message': 'Add 20.05 Release Notes draft\n\nChange-Id: Idad0d3fc8ad326875916b0b49c253a949d369206\n'}, {'number': 2, 'created': '2020-02-25 17:04:27.000000000', 'files': ['doc/source/release-notes.rst', 'doc/source/2005.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/bd692a413c2b58c0c5a055861b270d64885308cb', 'message': 'Add 20.05 Release Notes draft\n\nChange-Id: Idad0d3fc8ad326875916b0b49c253a949d369206\n'}]",0,709779,bd692a413c2b58c0c5a055861b270d64885308cb,9,2,2,30561,,,0,"Add 20.05 Release Notes draft

Change-Id: Idad0d3fc8ad326875916b0b49c253a949d369206
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/79/709779/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2005.rst'],1,07b7f98b91320dee56b4bc83f645ffc0bdeeb109,add-2005-release-notes-file,".. _release_notes_20.05: ================================= 20.05 (Draft version in progress) ================================= Summary ------- The 20.05 OpenStack Charms release includes updates for the following charms. Additional charm support status information is published in the `OpenStack Charm Guide`_ which ultimately supersedes Release Notes contents. Always use the latest stable charm revision before proceeding with topological changes, application migrations, workload upgrades, series upgrades, or bug reports. Supported charms ~~~~~~~~~~~~~~~~ * aodh * barbican * barbican-vault * ceilometer * ceilometer-agent * ceph-fs * ceph-mon * ceph-osd * ceph-proxy * ceph-radosgw * ceph-rbd-mirror * cinder * cinder-ceph * cinder-purestorage * designate * designate-bind * glance * gnocchi * hacluster * heat * keystone * keystone-ldap * lxd * manila * manila-ganesha * neutron-api * neutron-openvswitch * neutron-gateway * neutron-dynamic-routing * nova-cloud-controller * nova-compute * octavia * octavia-dashboard * octavia-diskimage-retrofit * openstack-dashboard * percona-cluster * placement * rabbitmq-server * swift-proxy * swift-storage * vault Preview charms ~~~~~~~~~~~~~~ * barbican-softhsm * cinder-backup * keystone-saml-mellon * manila-generic * masakari * masakari-monitors * mysql-innodb-cluster * mysql-router * neutron-api-plugin-ovn * ovn-central * ovn-chassis * ovn-dedicated-chassis * pacemaker-remote * tempest * watcher * watcher-dashboard Removed charms ~~~~~~~~~~~~~~ n/a New charm features ------------------ With each new feature, there is a corresponding example bundle in the form of a test bundle, and/or a `OpenStack Charms Deployment Guide`_ section which details the use of the feature. For example test bundles, see the ``src/tests/bundles`` directory within the relevant charm repository. NEW CHARM FEATURE GOES HERE ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Change of default behaviour for Neutron API ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Swift global cluster ~~~~~~~~~~~~~~~~~~~~ New charms ---------- NEW CHARM GOES HERE ~~~~~~~~~~~~~~~~~~~ mysql-innodb-cluster and mysql-router ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OVN charms ~~~~~~~~~~ Preview charm features ---------------------- PREVIEW CHARM FEATURE GOES HERE ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Upgrading charms ---------------- Always use the latest stable charm revision before proceeding with topological changes, charm application migrations, workload upgrades, series upgrades, or bug reports. Please ensure that the keystone charm is upgraded first. To upgrade an existing deployment to the latest charm version simply use the :command:`upgrade-charm` command. For example: .. code-block:: none juju upgrade-charm keystone Charm upgrades and OpenStack upgrades are functionally different. Charm upgrades ensure that the deployment has the latest charm revision, containing the latest charm fixes and features, whereas OpenStack upgrades influence the software package versions of OpenStack itself. A charm upgrade does not trigger an OpenStack upgrade. An OpenStack upgrade is a separate process. However, an OpenStack upgrade does require the latest charm revision. Please refer to `OpenStack upgrades`_ in the `OpenStack Charms Deployment Guide`_ for more details. New bundle features ------------------- n/a Deprecation notices ------------------- n/a Removed features ---------------- n/a Known issues ------------ Swift-Proxy and Policy.d overrides ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The is no policy.d override mechanism available for Swift (and, therefore, the swift-proxy charm) as Swift does not use the ``oslo.policy`` library. Swift uses its own authentication system that connects with Keystone and validates according to Swift's own configuration files. The ``operator-roles`` configuration option allows the operator to control which Swift operator roles will be authenticated, as usual. See the `Swift Auth System`_ for further details. Masakari and Masakari Monitors ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Both Masakari charms remain as previews. Bugs `LP #1728527`_ and `LP #1839715`_ need to be resolved in order to arrive at a successful instance HA deployment. Bug `LP #1773765`_ is likely to affect on-going support of a Masakari deployment. Glance Simplestreams Sync ~~~~~~~~~~~~~~~~~~~~~~~~~ When deploying the glance-simplestreams-sync charm on Bionic a more recent version of the simplestreams package must be installed by configuring a PPA: .. code-block:: none juju config glance-simplestreams-sync source=ppa:simplestreams-dev/trunk See bug `LP #1790904`_ for details. Designate and Vault at Ocata and earlier ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The designate charm for OpenStack releases Pike and earlier does not yet support SSL via Vault and the certificates relation. See bug `LP #1839019`_. Current versions of OpenStack with Vault and the certificates relation are supported by the Designate charm. Restart Nova services after adding certificates relation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ A race condition exists with the use of the 'certificates' relation. When SSL certificates are issued Nova services may attempt to talk to the placement API over HTTP while the API has already changed to HTTPS. See bug `LP #1826382`_. To mitigate against this, restart the nova-compute and nova-scheduler services once certificates have been issued: .. code-block:: none juju run --application nova-compute ""systemctl restart nova-compute"" juju run --application nova-cloud-controller ""systemctl restart nova-scheduler"" Bugs fixed ---------- The 20.05 OpenStack Charms release includes NN bug fixes. Refer to the `20.05 milestone`_ in Launchpad for the list of resolved bugs. Next release info ----------------- Please see the `OpenStack Charm Guide`_ for current information. .. LINKS .. _OpenStack Upgrades: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-upgrade-openstack.html .. _Open Virtual Network (OVN): https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ovn.html .. _OpenStack Charms Deployment Guide: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest .. _OpenStack Charm Guide: https://docs.openstack.org/charm-guide/latest/ .. _OpenStack upgrades: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-upgrade-openstack.html .. _20.05 milestone: https://launchpad.net/openstack-charms/+milestone/20.05 .. _Policy Overrides: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-policy-overrides.html .. _Neutron documentation: https://docs.openstack.org/neutron/latest/admin/config-fip-port-forwardings.html .. _placement API: https://docs.openstack.org/placement/ussuri/ .. _HA with pause/resume: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-upgrade-openstack.html#ha-with-pause-resume .. _Swift Auth system: https://docs.openstack.org/swift/latest/overview_auth.html .. _Swift Global Cluster: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-swift-gc.html .. _Toward Convergence of ML2+OVS+DVR and OVN: http://specs.openstack.org/openstack/neutron-specs/specs/ussuri/ml2ovs-ovn-convergence.html .. _Vault: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-vault.html .. BUGS .. _LP #1728527: https://bugs.launchpad.net/masakari-monitors/+bug/1728527 .. _LP #1773765: https://bugs.launchpad.net/masakari/+bug/1773765 .. _LP #1790904: https://bugs.launchpad.net/simplestreams/+bug/1790904 .. _LP #1826382: https://bugs.launchpad.net/nova/+bug/1826382 .. _LP #1839019: https://bugs.launchpad.net/charm-designate/+bug/1839019 .. _LP #1839715: https://bugs.launchpad.net/masakari/+bug/1839715 ",,255,0
openstack%2Fopenstack-ansible-os_octavia~master~I3ba16015e427afb92c8e99db3d4b3d311d7074df,openstack/openstack-ansible-os_octavia,master,I3ba16015e427afb92c8e99db3d4b3d311d7074df,Update octavia configuration documentation,MERGED,2019-02-07 03:41:24.000000000,2020-02-25 17:40:42.000000000,2020-02-25 17:38:30.000000000,"[{'_account_id': 7353}, {'_account_id': 11628}, {'_account_id': 14552}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-02-07 03:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/d425c17027b2cc6fb6ba83427e0699d7ef780594', 'message': 'Update octavia configuration documentation\n\nThe Configuring the Octavia Load Balancing service documentation\nis updated for Queens and upwards along with isolating pip package\ninstallations into a virtual environment\n\nChange-Id: I3ba16015e427afb92c8e99db3d4b3d311d7074df\n'}, {'number': 2, 'created': '2019-02-07 03:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/ac469a8da7b14001af6f65c3740aabc76a4561b4', 'message': 'Update octavia configuration documentation\n\nThe Configuring the Octavia Load Balancing service documentation\nis updated for Queens and upwards along with isolating pip package\ninstallations into a virtual environment\n\nChange-Id: I3ba16015e427afb92c8e99db3d4b3d311d7074df\n'}, {'number': 3, 'created': '2019-02-07 16:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7ddd240a1ada31952641262787f2c72da61644b5', 'message': 'Update octavia configuration documentation\n\nThe Configuring the Octavia Load Balancing service documentation\nis updated for Queens and upwards along with isolating pip package\ninstallations into a virtual environment\n\nChange-Id: I3ba16015e427afb92c8e99db3d4b3d311d7074df\n'}, {'number': 4, 'created': '2020-02-21 21:30:44.000000000', 'files': ['doc/source/configure-octavia.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b20d64bdc356f9a6f54dd45b4e90dd4c1adbe7c4', 'message': 'Update octavia configuration documentation\n\nThe Configuring the Octavia Load Balancing service documentation\nis updated for Queens and upwards along with isolating pip package\ninstallations into a virtual environment\n\nChange-Id: I3ba16015e427afb92c8e99db3d4b3d311d7074df\n'}]",5,635402,b20d64bdc356f9a6f54dd45b4e90dd4c1adbe7c4,18,7,4,14552,,,0,"Update octavia configuration documentation

The Configuring the Octavia Load Balancing service documentation
is updated for Queens and upwards along with isolating pip package
installations into a virtual environment

Change-Id: I3ba16015e427afb92c8e99db3d4b3d311d7074df
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/02/635402/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configure-octavia.rst'],1,d425c17027b2cc6fb6ba83427e0699d7ef780594,change635402," type: ""raw"" pip install virtualenv #. Install the necessary pip packages inside a isolated virtual environment: virtualenv /opt/octavia-image-build source /opt/octavia-image-build/bin/activate pip install --isolated argparse 'Babel>=1.3' dib-utils PyYAML #. Clone the necessary repositories: pip install --isolated git+https://git.openstack.org/openstack/diskimage-builder.git git clone https://github.com/openstack/octavia.git /opt/octavia-image-build/octavia-source cd /opt/octavia-image-build/octavia-source/diskimage-create #. Run Octavia's diskimage script: In the ``diskimage-create`` directory run: ./diskimage-create.sh Disable ``octavia-image-build`` venv: .. code-block:: bash openstack image create amphora-x64-haproxy --private --disk-format qcow2 \ --container-format bare --tag octavia-amphora-image --file amphora-x64-haproxy.qcow2"," host_bind_override: ""eth14"" type: ""flat"" - neutron_linuxbridge_agent #. Install the necessary pip packages: pip install argparse Babel>=1.3 dib-utils PyYAML #. Clone the necessary repositories git clone https://github.com/openstack/octavia.git git clone https://git.openstack.org/openstack/diskimage-builder.git #. Run Octavia's diskimage script In the ``octavia/diskimage-create`` directory run: ./diskimage-create.sh glance image-create --name amphora-x64-haproxy --visibility private --disk-format qcow2 \ --container-format bare --tags octavia-amphora-image </var/lib/octavia/amphora-x64-haproxy.qcow2",19,14
openstack%2Fpython-tripleoclient~master~Id3e52ba920c54c98529ecb5f723ba452362a0b32,openstack/python-tripleoclient,master,Id3e52ba920c54c98529ecb5f723ba452362a0b32,Add --work-dir option to container image build command,MERGED,2020-02-21 03:44:30.000000000,2020-02-25 17:39:08.000000000,2020-02-25 17:36:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 03:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1f38d7e94377b36511c0cd4ed7f94a1f6c4971e1', 'message': 'Add --work-dir option to container image build command\n\nAdd --work-dir to openstack overcloud container image build command and\nevery run will create a unique workspace which where will be stored Kolla\nconfigs and build logs. Default directory will be in\n/var/lib/tripleo-config/container-builds to stay close to the container\nconfigs used by TripleO. UUIDs are used to identify each time we run the\ncommand and will be the directory name in the work dir.\n\nRelated-Bug: #1864108\nChange-Id: Id3e52ba920c54c98529ecb5f723ba452362a0b32\n'}, {'number': 2, 'created': '2020-02-21 11:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dd36c54e5ae63c939be00b3fae32c524dfc643c4', 'message': 'Add --work-dir option to container image build command\n\nAdd --work-dir to openstack overcloud container image build command and\nevery run will create a unique workspace which where will be stored Kolla\nconfigs and build logs. Default directory will be in\n/tmp/container-builds. UUIDs are used to identify each time we run the\ncommand and will be the directory name in the work dir.\n\nRelated-Bug: #1864108\nChange-Id: Id3e52ba920c54c98529ecb5f723ba452362a0b32\n'}, {'number': 3, 'created': '2020-02-23 21:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0327a54532845bf13a9f69d81c37625ed6569e6e', 'message': 'Add --work-dir option to container image build command\n\nAdd --work-dir to openstack overcloud container image build command and\nevery run will create a unique workspace which where will be stored Kolla\nconfigs and build logs. Default directory will be in\n/tmp/container-builds. UUIDs are used to identify each time we run the\ncommand and will be the directory name in the work dir.\n\nRelated-Bug: #1864108\nChange-Id: Id3e52ba920c54c98529ecb5f723ba452362a0b32\n'}, {'number': 4, 'created': '2020-02-24 05:52:43.000000000', 'files': ['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/test_container_image.py', 'releasenotes/notes/container_work_dir-edb40007cb25168e.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7aeba8f51afbd2593886318af59697c83932b378', 'message': 'Add --work-dir option to container image build command\n\nAdd --work-dir to openstack overcloud container image build command and\nevery run will create a unique workspace which where will be stored Kolla\nconfigs and build logs. Default directory will be in\n/tmp/container-builds. UUIDs are used to identify each time we run the\ncommand and will be the directory name in the work dir.\n\nDepends-On: https://review.opendev.org/#/c/709389/\nRelated-Bug: #1864108\nChange-Id: Id3e52ba920c54c98529ecb5f723ba452362a0b32\n'}]",3,709039,7aeba8f51afbd2593886318af59697c83932b378,49,8,4,3153,,,0,"Add --work-dir option to container image build command

Add --work-dir to openstack overcloud container image build command and
every run will create a unique workspace which where will be stored Kolla
configs and build logs. Default directory will be in
/tmp/container-builds. UUIDs are used to identify each time we run the
command and will be the directory name in the work dir.

Depends-On: https://review.opendev.org/#/c/709389/
Related-Bug: #1864108
Change-Id: Id3e52ba920c54c98529ecb5f723ba452362a0b32
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/39/709039/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/test_container_image.py', 'releasenotes/notes/container_work_dir-edb40007cb25168e.yaml']",3,1f38d7e94377b36511c0cd4ed7f94a1f6c4971e1,buildahahahah,--- features: - | Add --work-dir to openstack overcloud container image build command and every run will create a unique workspace which where will be stored Kolla configs and build logs. Default directory will be in /var/lib/tripleo-config/container-builds to stay close to the container configs used by TripleO. UUIDs are used to identify each time we run the command and will be the directory name in the work dir. ,,98,60
openstack%2Frally-openstack~master~I99f53b444485803abdae7f69960b5bc282d061d4,openstack/rally-openstack,master,I99f53b444485803abdae7f69960b5bc282d061d4,Fix sample config generation with tox genconfig,MERGED,2019-08-27 16:03:24.000000000,2020-02-25 17:36:06.000000000,2020-02-25 17:36:06.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-08-27 16:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ecdaefe8f341c9554915b6448623ce48eb705e4e', 'message': 'Fix sample config generation with tox genconfig\n\nThis allows you to update etc/rally/rally.conf.sample with\n`tox genconfig`\n\nChange-Id: I99f53b444485803abdae7f69960b5bc282d061d4\n'}, {'number': 2, 'created': '2019-08-27 16:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c835e769dd1d0d58c3db2a870fb2c47ee6d76df4', 'message': 'Fix sample config generation with tox genconfig\n\nThis allows you to update etc/rally/rally.conf.sample with\n`tox genconfig`\n\nChange-Id: I99f53b444485803abdae7f69960b5bc282d061d4\n'}, {'number': 3, 'created': '2019-08-28 13:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/49c3f53252d423c9f89d0372d3df62aa94089965', 'message': 'Fix sample config generation with tox genconfig\n\nThis allows you to update etc/rally/rally.conf.sample with\n`tox genconfig`\n\nDepends-On: https://review.opendev.org/679047\nChange-Id: I99f53b444485803abdae7f69960b5bc282d061d4\n'}, {'number': 4, 'created': '2020-02-25 14:31:20.000000000', 'files': ['etc/rally/rally.conf.sample', 'rally_openstack/cfg/opts.py', 'etc/rally/rally-config-generator.conf', 'setup.cfg', 'rally_openstack/__init__.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5116e8857ddc156b440a06be9e3c0f51e6df2844', 'message': 'Fix sample config generation with tox genconfig\n\nThis allows you to update etc/rally/rally.conf.sample with\n`tox genconfig`\n\nDepends-On: https://review.opendev.org/679047\nChange-Id: I99f53b444485803abdae7f69960b5bc282d061d4\n'}]",0,678892,5116e8857ddc156b440a06be9e3c0f51e6df2844,14,3,4,28048,,,0,"Fix sample config generation with tox genconfig

This allows you to update etc/rally/rally.conf.sample with
`tox genconfig`

Depends-On: https://review.opendev.org/679047
Change-Id: I99f53b444485803abdae7f69960b5bc282d061d4
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/92/678892/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/rally/rally.conf.sample', 'rally_openstack/cfg/opts.py', 'etc/rally/rally-config-generator.conf', 'setup.cfg', 'rally_openstack/__init__.py']",5,ecdaefe8f341c9554915b6448623ce48eb705e4e,fix-neutron-subnet, global_opts.register_opts(opts.list_opts()), global_opts.register_opts(opts.list_opts().items()),46,10
openstack%2Ftripleo-heat-templates~master~Idec372ae008cab9b27bd1ddc79b6b50c1de98563,openstack/tripleo-heat-templates,master,Idec372ae008cab9b27bd1ddc79b6b50c1de98563,Add setfacl statements for neutron metadata proxy,MERGED,2020-02-03 21:49:04.000000000,2020-02-25 17:32:08.000000000,2020-02-25 01:21:09.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 13995}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-02-03 21:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da2cbcabac6e3de5d37e4c72958dc3a0d03b4ad8', 'message': 'Add setfacl statements for neutron metadata proxy\n\nStatements to setfacl on fast forward upgrade were added for the l3\nagent container and the neutron dhcp container.  But they are missing\nfrom the metadata proxy container, which can lead to this sort of thing\nafter an FFU upgrade - but not immediately, waiting for the metadata\ncontainer to restart.  After restarting neutron_metadata_agent, the permission will be changed as follows.\n\n  [root@overcloud-controller-0 neutron]# ll\n  total 24\n  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:57 dhcp\n  -rwxrwxr-x+ 1 42435 42435  998 Jun 18 08:43 dhcp_haproxy_wrapper\n  -rwxrwxr-x+ 1 42435 42435 1099 Jun 18 08:43 dibbler_wrapper\n  -rwxrwxr-x+ 1 42435 42435  995 Jun 18 08:43 dnsmasq_wrapper\n  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:59 ha_confs\n  srwxrwxr-x+ 1 42435 42435    0 Jun 20 02:23 keepalived-state-change\n  -rwxrwxr-x+ 1 42435 42435 1035 Jun 18 08:43 keepalived_state_change_wrapper\n  -rwxrwxr-x+ 1 42435 42435 1076 Jun 18 08:43 keepalived_wrapper\n  -rwxrwxr-x+ 1 42435 42435  996 Jun 18 08:43 l3_haproxy_wrapper\n  srw-rwxr--+ 1 42435 42435    0 Jun 20 02:24 metadata_proxy\n  [root@overcloud-controller-0 neutron]# getfacl metadata_proxy\n  # file: metadata_proxy\n  # owner: 42435\n  # group: 42435\n  user::rw-\n  user:neutron:rwx\n  group::r-x\n  mask::rwx\n  other::r--\n\n  [root@overcloud-controller-0 neutron]# docker restart neutron_metadata_agent\n  neutron_metadata_agent\n  [root@overcloud-controller-0 neutron]# ll\n  total 24\n  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:57 dhcp\n  -rwxrwxr-x+ 1 42435 42435  998 Jun 18 08:43 dhcp_haproxy_wrapper\n  -rwxrwxr-x+ 1 42435 42435 1099 Jun 18 08:43 dibbler_wrapper\n  -rwxrwxr-x+ 1 42435 42435  995 Jun 18 08:43 dnsmasq_wrapper\n  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:59 ha_confs\n  srwxrwxr-x+ 1 42435 42435    0 Jun 20 02:23 keepalived-state-change\n  -rwxrwxr-x+ 1 42435 42435 1035 Jun 18 08:43 keepalived_state_change_wrapper\n  -rwxrwxr-x+ 1 42435 42435 1076 Jun 18 08:43 keepalived_wrapper\n  -rwxrwxr-x+ 1 42435 42435  996 Jun 18 08:43 l3_haproxy_wrapper\n  srw-r--r--+ 1 42435 42435    0 Jun 20 02:29 metadata_proxy\n  [root@overcloud-controller-0 neutron]# getfacl metadata_proxy\n  # file: metadata_proxy\n  # owner: 42435\n  # group: 42435\n  user::rw-\n  user:neutron:rwx                #effective:r--\n  group::r-x                      #effective:r--\n  mask::r--\n  other::r--\n\nChange-Id: Idec372ae008cab9b27bd1ddc79b6b50c1de98563\n'}, {'number': 2, 'created': '2020-02-19 22:08:14.000000000', 'files': ['deployment/neutron/neutron-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/107efc1f5ef2da7def754ae30019fb5eacf2f7f7', 'message': 'Add setfacl statements for neutron metadata proxy\n\nStatements to setfacl on fast forward upgrade were added for the l3\nagent container and the neutron dhcp container.  But they are missing\nfrom the metadata proxy container, which can lead to this sort of thing\nafter an FFU upgrade - but not immediately, waiting for the metadata\ncontainer to restart.  After restarting neutron_metadata_agent, the permission will be changed as follows.\n\n  [root@overcloud-controller-0 neutron]# ll\n  total 24\n  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:57 dhcp\n  -rwxrwxr-x+ 1 42435 42435  998 Jun 18 08:43 dhcp_haproxy_wrapper\n  -rwxrwxr-x+ 1 42435 42435 1099 Jun 18 08:43 dibbler_wrapper\n  -rwxrwxr-x+ 1 42435 42435  995 Jun 18 08:43 dnsmasq_wrapper\n  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:59 ha_confs\n  srwxrwxr-x+ 1 42435 42435    0 Jun 20 02:23 keepalived-state-change\n  -rwxrwxr-x+ 1 42435 42435 1035 Jun 18 08:43 keepalived_state_change_wrapper\n  -rwxrwxr-x+ 1 42435 42435 1076 Jun 18 08:43 keepalived_wrapper\n  -rwxrwxr-x+ 1 42435 42435  996 Jun 18 08:43 l3_haproxy_wrapper\n  srw-rwxr--+ 1 42435 42435    0 Jun 20 02:24 metadata_proxy\n  [root@overcloud-controller-0 neutron]# getfacl metadata_proxy\n  # file: metadata_proxy\n  # owner: 42435\n  # group: 42435\n  user::rw-\n  user:neutron:rwx\n  group::r-x\n  mask::rwx\n  other::r--\n\n  [root@overcloud-controller-0 neutron]# docker restart neutron_metadata_agent\n  neutron_metadata_agent\n  [root@overcloud-controller-0 neutron]# ll\n  total 24\n  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:57 dhcp\n  -rwxrwxr-x+ 1 42435 42435  998 Jun 18 08:43 dhcp_haproxy_wrapper\n  -rwxrwxr-x+ 1 42435 42435 1099 Jun 18 08:43 dibbler_wrapper\n  -rwxrwxr-x+ 1 42435 42435  995 Jun 18 08:43 dnsmasq_wrapper\n  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:59 ha_confs\n  srwxrwxr-x+ 1 42435 42435    0 Jun 20 02:23 keepalived-state-change\n  -rwxrwxr-x+ 1 42435 42435 1035 Jun 18 08:43 keepalived_state_change_wrapper\n  -rwxrwxr-x+ 1 42435 42435 1076 Jun 18 08:43 keepalived_wrapper\n  -rwxrwxr-x+ 1 42435 42435  996 Jun 18 08:43 l3_haproxy_wrapper\n  srw-r--r--+ 1 42435 42435    0 Jun 20 02:29 metadata_proxy\n  [root@overcloud-controller-0 neutron]# getfacl metadata_proxy\n  # file: metadata_proxy\n  # owner: 42435\n  # group: 42435\n  user::rw-\n  user:neutron:rwx                #effective:r--\n  group::r-x                      #effective:r--\n  mask::r--\n  other::r--\n\nChange-Id: Idec372ae008cab9b27bd1ddc79b6b50c1de98563\n'}]",6,705562,107efc1f5ef2da7def754ae30019fb5eacf2f7f7,24,9,2,13995,,,0,"Add setfacl statements for neutron metadata proxy

Statements to setfacl on fast forward upgrade were added for the l3
agent container and the neutron dhcp container.  But they are missing
from the metadata proxy container, which can lead to this sort of thing
after an FFU upgrade - but not immediately, waiting for the metadata
container to restart.  After restarting neutron_metadata_agent, the permission will be changed as follows.

  [root@overcloud-controller-0 neutron]# ll
  total 24
  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:57 dhcp
  -rwxrwxr-x+ 1 42435 42435  998 Jun 18 08:43 dhcp_haproxy_wrapper
  -rwxrwxr-x+ 1 42435 42435 1099 Jun 18 08:43 dibbler_wrapper
  -rwxrwxr-x+ 1 42435 42435  995 Jun 18 08:43 dnsmasq_wrapper
  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:59 ha_confs
  srwxrwxr-x+ 1 42435 42435    0 Jun 20 02:23 keepalived-state-change
  -rwxrwxr-x+ 1 42435 42435 1035 Jun 18 08:43 keepalived_state_change_wrapper
  -rwxrwxr-x+ 1 42435 42435 1076 Jun 18 08:43 keepalived_wrapper
  -rwxrwxr-x+ 1 42435 42435  996 Jun 18 08:43 l3_haproxy_wrapper
  srw-rwxr--+ 1 42435 42435    0 Jun 20 02:24 metadata_proxy
  [root@overcloud-controller-0 neutron]# getfacl metadata_proxy
  # file: metadata_proxy
  # owner: 42435
  # group: 42435
  user::rw-
  user:neutron:rwx
  group::r-x
  mask::rwx
  other::r--

  [root@overcloud-controller-0 neutron]# docker restart neutron_metadata_agent
  neutron_metadata_agent
  [root@overcloud-controller-0 neutron]# ll
  total 24
  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:57 dhcp
  -rwxrwxr-x+ 1 42435 42435  998 Jun 18 08:43 dhcp_haproxy_wrapper
  -rwxrwxr-x+ 1 42435 42435 1099 Jun 18 08:43 dibbler_wrapper
  -rwxrwxr-x+ 1 42435 42435  995 Jun 18 08:43 dnsmasq_wrapper
  drwxrwxr-x+ 2 42435 42435    6 Jun 18 08:59 ha_confs
  srwxrwxr-x+ 1 42435 42435    0 Jun 20 02:23 keepalived-state-change
  -rwxrwxr-x+ 1 42435 42435 1035 Jun 18 08:43 keepalived_state_change_wrapper
  -rwxrwxr-x+ 1 42435 42435 1076 Jun 18 08:43 keepalived_wrapper
  -rwxrwxr-x+ 1 42435 42435  996 Jun 18 08:43 l3_haproxy_wrapper
  srw-r--r--+ 1 42435 42435    0 Jun 20 02:29 metadata_proxy
  [root@overcloud-controller-0 neutron]# getfacl metadata_proxy
  # file: metadata_proxy
  # owner: 42435
  # group: 42435
  user::rw-
  user:neutron:rwx                #effective:r--
  group::r-x                      #effective:r--
  mask::r--
  other::r--

Change-Id: Idec372ae008cab9b27bd1ddc79b6b50c1de98563
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/705562/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-metadata-container-puppet.yaml'],1,da2cbcabac6e3de5d37e4c72958dc3a0d03b4ad8,metadata_setfacl," - when: - step|int == 2 - neutron_user_avail|bool block: - name: Ensure r/w access for existing files after upgrade become: true shell: | umask 0002 setfacl -d -R -m u:neutron:rwx /var/lib/neutron setfacl -R -m u:neutron:rw /var/lib/neutron find /var/lib/neutron -type d -exec setfacl -m u:neutron:rwx '{}' \; - name: Provide access to domain sockets become: true shell: | umask 0002 setfacl -m u:neutron:rwx ""{{ item }}"" with_items: - /var/lib/neutron/metadata_proxy - /var/lib/neutron/keepalived-state-change - /var/lib/neutron # These files are not necessarily present ignore_errors: True",,22,0
openstack%2Fopenstack-ansible-tests~master~I554e512968718492ce6056b29b0612e450f0856b,openstack/openstack-ansible-tests,master,I554e512968718492ce6056b29b0612e450f0856b,Use buster jobs instead of stretch,MERGED,2020-02-15 17:53:36.000000000,2020-02-25 17:21:02.000000000,2020-02-25 17:13:01.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-15 17:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b1d54142628325d8b6fcb0d49faf87d8a5707abf', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 2, 'created': '2020-02-15 17:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f5af6a1413e1bf6239a0bdc306e5bba84e9813cb', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 3, 'created': '2020-02-17 14:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ca73c7bbcdf74e576f71c0bc5c61cdfbb63fd8f5', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 4, 'created': '2020-02-19 19:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/722103fb01391d75478dbd00a786aac7f03ff848', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nThis also fixes ara report\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 5, 'created': '2020-02-22 12:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/03441358d9b22fab093ecc826b1f46850ba8073f', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nThis also fixes ara report\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 6, 'created': '2020-02-22 16:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c39e33ec6865d53fc1371e266ddb27c4cbf3ad17', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nThis also fixes ara report\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 7, 'created': '2020-02-22 16:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4d237e5ba384ed1d0718e13f99ca84d62cad37ef', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nThis also fixes ara report\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 8, 'created': '2020-02-22 20:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/043739af6112792f49033b27278da8402936ff8d', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nThis also fixes ara report\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 9, 'created': '2020-02-22 21:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/1cd1b40af3db52473f1d909b42501f7d2a4f413f', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nThis also fixes ara report\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 10, 'created': '2020-02-22 21:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/27d13b8d0e4b753f6cd3d5e3b83e0d358177bb3b', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nThis also fixes ara report\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 11, 'created': '2020-02-23 11:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e45b588099f8026d0912c3cbe1f6b1a52ae49e8f', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nThis also fixes ara report\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 12, 'created': '2020-02-24 12:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/51b3ba380260c894e0989190d46daadd129414a1', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nThis also fixes ara report\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}, {'number': 13, 'created': '2020-02-24 18:09:25.000000000', 'files': ['test-log-collect.sh', 'zuul.d/project-templates.yaml', 'test-vars.yml', 'test-prepare-keys.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/18a3067a4f9978e03526aa0d60327c8edacebe3a', 'message': ""Use buster jobs instead of stretch\n\nAs for U we don't support debian stretch, there is no need\nin having stretch CI jobs. Buster ones should be used instead.\n\nThis also fixes ara report\n\nNeeded-by: https://review.opendev.org/706285\nChange-Id: I554e512968718492ce6056b29b0612e450f0856b\n""}]",0,707943,18a3067a4f9978e03526aa0d60327c8edacebe3a,41,4,13,28619,,,0,"Use buster jobs instead of stretch

As for U we don't support debian stretch, there is no need
in having stretch CI jobs. Buster ones should be used instead.

This also fixes ara report

Needed-by: https://review.opendev.org/706285
Change-Id: I554e512968718492ce6056b29b0612e450f0856b
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/43/707943/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,b1d54142628325d8b6fcb0d49faf87d8a5707abf,buster_functional, name: openstack-ansible-functional-debian-buster nodeset: debian-buster, name: openstack-ansible-functional-debian-stable nodeset: debian-stable,4,4
openstack%2Fopenstack-ansible-tests~master~I6f6133a21b339e3de7ffd2dc6b194805bef2b340,openstack/openstack-ansible-tests,master,I6f6133a21b339e3de7ffd2dc6b194805bef2b340,Update ansible to 2.8.8,MERGED,2019-05-16 20:08:46.000000000,2020-02-25 17:18:21.000000000,2020-02-25 17:13:00.000000000,"[{'_account_id': 1004}, {'_account_id': 14805}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-16 20:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/178ce7ae2c14aea2536c8b0e5b1bf6d095667cfb', 'message': 'Update ansible to 2.8.0\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 2, 'created': '2019-05-16 20:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2ce31b5a72be11fae5fc0c8b1e4e589e39a9cbba', 'message': 'Update ansible to 2.8.0\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 3, 'created': '2019-05-17 00:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ab3278808cc942e3e48d7bd86af571ed0aa5e1eb', 'message': 'Update ansible to 2.8.0\n\nDepends-On: I166186b6d8abf84317ba98af949d4ed887618912\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 4, 'created': '2019-07-23 07:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4adaf850dafbdb785004849210610c2141aa594a', 'message': 'Update ansible to 2.8.2\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 5, 'created': '2019-07-23 10:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f0593e0b09a8e4a54fddf15e6e25cf58827be434', 'message': 'Update ansible to 2.8.2\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 6, 'created': '2019-07-25 21:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b83a2449963167b248645fadd3713cc09d357d9b', 'message': 'Update ansible to 2.8.3\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 7, 'created': '2019-07-30 20:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/50ed2c65d06b2e381c451204d387a5d83868467e', 'message': 'Update ansible to 2.8.3\n\nDepends-On: https://review.opendev.org/#/c/673677\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 8, 'created': '2019-08-24 06:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/151b165b632351b42c4362c69fb1f3316a2853eb', 'message': 'Update ansible to 2.8.3\n\nDepends-On: https://review.opendev.org/673677\nDepends-On: https://review.opendev.org/678331\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 9, 'created': '2019-08-24 08:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/a135eec12570852b27a94d4e4ea52e6b02eae508', 'message': 'Update ansible to 2.8.3\n\nDepends-On: https://review.opendev.org/678331\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 10, 'created': '2019-09-18 19:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/6f618f321449eb1cc037ee34b90987c4902f335a', 'message': 'Update ansible to 2.8.5\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 11, 'created': '2019-09-18 19:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/83f3e10e0aab369f9865ec739430c84dbcabd435', 'message': 'Update ansible to 2.8.5\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 12, 'created': '2019-11-01 10:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/867f55b8de148c8af66a1517087e71ace5e402a8', 'message': 'Update ansible to 2.9.0\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 13, 'created': '2019-11-01 10:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/1a9f1cbb14a8837c7a18eea44550c7a3b4654ac6', 'message': 'Update ansible to 2.9.0\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 14, 'created': '2019-11-01 11:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/a6ce1abdf32059a111e1244b7a2b035b4a2cd59c', 'message': 'Update ansible to 2.9.0\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 15, 'created': '2019-11-01 12:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/081273695a7ab66c37832f703b83aef49f0f9bc7', 'message': 'Update ansible to 2.9.0\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 16, 'created': '2020-02-22 16:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e788fdab4e9ff7890b244d1e2f3294574749c079', 'message': 'Update ansible to 2.8.8\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 17, 'created': '2020-02-22 16:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/69cfa923971722f8236aa030a10db3a422270745', 'message': 'Update ansible to 2.8.8\n\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 18, 'created': '2020-02-22 18:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ed646be9ef66461bfca57d5eb2dc772275605da1', 'message': 'Update ansible to 2.8.8\n\nDepends-On: https://review.opendev.org/709308\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 19, 'created': '2020-02-22 20:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4591f0ef5ff43466ee998ff7382254a251e351f9', 'message': 'Update ansible to 2.8.8\n\nDepends-On: https://review.opendev.org/709308\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 20, 'created': '2020-02-22 21:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c80c7bc57ff33ab15f3c1c95b50c3fd4533a9960', 'message': 'Update ansible to 2.8.8\n\nDepends-On: https://review.opendev.org/709308\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 21, 'created': '2020-02-22 21:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/10a5085be879f8d7736649397f644110d36cc1ac', 'message': 'Update ansible to 2.8.8\n\nDepends-On: https://review.opendev.org/709308\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 22, 'created': '2020-02-23 11:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/18f53891ce36283799bda0b83c4108fd96a3c2c9', 'message': 'Update ansible to 2.8.8\n\nDepends-On: https://review.opendev.org/709308\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 23, 'created': '2020-02-24 12:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2f9f4e696490d65718697826d2b6602eb510f70c', 'message': 'Update ansible to 2.8.8\n\nDepends-On: https://review.opendev.org/709308\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}, {'number': 24, 'created': '2020-02-24 18:09:25.000000000', 'files': ['test-ansible-deps.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/997cf22e1cbe73edfc3e23ccb0e50ffc36dcc0e2', 'message': 'Update ansible to 2.8.8\n\nDepends-On: https://review.opendev.org/709308\nChange-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340\n'}]",0,659658,997cf22e1cbe73edfc3e23ccb0e50ffc36dcc0e2,70,6,24,25023,,,0,"Update ansible to 2.8.8

Depends-On: https://review.opendev.org/709308
Change-Id: I6f6133a21b339e3de7ffd2dc6b194805bef2b340
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/58/659658/18 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-deps.txt'],1,178ce7ae2c14aea2536c8b0e5b1bf6d095667cfb,buster_functional,ansible==2.8.0,ansible==2.7.8,1,1
openstack%2Fkolla~stable%2Ftrain~I712e700bdee263eb1e39b6fc49ef5784d4fcc05f,openstack/kolla,stable/train,I712e700bdee263eb1e39b6fc49ef5784d4fcc05f,DNM: CentOS 8: testing fixups,ABANDONED,2020-02-25 10:01:48.000000000,2020-02-25 17:16:13.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 10:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/879bc36b7758cea5fc41b6f00d5ce30ccb1185a4', 'message': 'DNM: CentOS 8: testing fixups\n\nChange-Id: I712e700bdee263eb1e39b6fc49ef5784d4fcc05f\n'}, {'number': 2, 'created': '2020-02-25 10:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/887238b76ddc63625570d35adb7fa6fcaaf623a8', 'message': 'DNM: CentOS 8: testing fixups\n\nChange-Id: I712e700bdee263eb1e39b6fc49ef5784d4fcc05f\n'}, {'number': 3, 'created': '2020-02-25 13:40:41.000000000', 'files': ['docker/skydive/skydive-analyzer/Dockerfile.j2', 'kolla/image/build.py', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/skydive/skydive-agent/Dockerfile.j2', 'tests/templates/template_overrides.j2', 'docker/qdrouterd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/029186ada96d8a5ea291b0f09206d2a85946b7fd', 'message': 'DNM: CentOS 8: testing fixups\n\nChange-Id: I712e700bdee263eb1e39b6fc49ef5784d4fcc05f\n'}]",0,709682,029186ada96d8a5ea291b0f09206d2a85946b7fd,10,2,3,14826,,,0,"DNM: CentOS 8: testing fixups

Change-Id: I712e700bdee263eb1e39b6fc49ef5784d4fcc05f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/82/709682/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'tests/templates/template_overrides.j2', 'docker/qdrouterd/Dockerfile.j2']",3,879bc36b7758cea5fc41b6f00d5ce30ccb1185a4,,# FIXME(mgoddard): centos-release-opstools not installed on CentOS 8 currently. {% if base_distro in ['centos'] and distro_package_manager == 'dnf' %},{% if base_distro in ['centos'] %},3,13
openstack%2Fmagnum~master~I6a08312693caf8a52174a1ff199d205d54076ee9,openstack/magnum,master,I6a08312693caf8a52174a1ff199d205d54076ee9,[bug] Fix regression when use_podman=false,MERGED,2020-02-21 12:17:22.000000000,2020-02-25 17:15:42.000000000,2020-02-25 17:12:54.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-02-21 12:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5c4a3c7d9f712cea30ca1cb17595a9cd205e5f6d', 'message': '[bug] Fix regression when use_podman=false\n\nA regression was introduced by I970c1b91254d2a375192420a9169f3a629c56ce7\nwhich means that deployments where use_podman is unspecified or false\nfail because `podman image inspect` is not scoped by this check.\n\nStory: 2007001\nTask: 38844\n\nChange-Id: I6a08312693caf8a52174a1ff199d205d54076ee9\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 2, 'created': '2020-02-25 15:23:53.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/95abb45dca9d7da3530839e4cf63be4249bc1525', 'message': '[bug] Fix regression when use_podman=false\n\nA regression was introduced by I970c1b91254d2a375192420a9169f3a629c56ce7\nwhich means that deployments where use_podman is unspecified or false\nfail because `podman image inspect` is not scoped by this check.\n\nStory: 2007001\nTask: 38844\n\nChange-Id: I6a08312693caf8a52174a1ff199d205d54076ee9\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}]",0,709123,95abb45dca9d7da3530839e4cf63be4249bc1525,14,4,2,28022,,,0,"[bug] Fix regression when use_podman=false

A regression was introduced by I970c1b91254d2a375192420a9169f3a629c56ce7
which means that deployments where use_podman is unspecified or false
fail because `podman image inspect` is not scoped by this check.

Story: 2007001
Task: 38844

Change-Id: I6a08312693caf8a52174a1ff199d205d54076ee9
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/23/709123/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'],1,5c4a3c7d9f712cea30ca1cb17595a9cd205e5f6d,use-podman-false,"if [ ""$(echo $USE_PODMAN | tr '[:upper:]' '[:lower:]')"" == ""true"" ]; then KUBE_DIGEST=$($ssh_cmd podman image inspect hyperkube:${KUBE_TAG} --format ""{{.Digest}}"") if [ -n ""${KUBE_IMAGE_DIGEST}"" ] && [ ""${KUBE_IMAGE_DIGEST}"" != ""${KUBE_DIGEST}"" ]; then printf ""The sha256 ${KUBE_DIGEST} of current hyperkube image cannot match the given one: ${KUBE_IMAGE_DIGEST}."" exit 1 fi","KUBE_DIGEST=$($ssh_cmd podman image inspect hyperkube:${KUBE_TAG} --format ""{{.Digest}}"") if [ -n ""${KUBE_IMAGE_DIGEST}"" ] && [ ""${KUBE_IMAGE_DIGEST}"" != ""${KUBE_DIGEST}"" ]; then printf ""The sha256 ${KUBE_DIGEST} of current hyperkube image cannot match the given one: ${KUBE_IMAGE_DIGEST}."" exit 1",6,4
openstack%2Fopenstack-ansible-tests~master~If9b414c1d9e43b8183c68c7c3a6dff130cfcab34,openstack/openstack-ansible-tests,master,If9b414c1d9e43b8183c68c7c3a6dff130cfcab34,Use /tmp for ansible temporary directory,MERGED,2020-02-22 20:59:01.000000000,2020-02-25 17:14:09.000000000,2020-02-25 09:53:57.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-22 20:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ca2108f5e9c14ba0662cde01ed51a01966ae0d50', 'message': ""Use /tmp for ansible temporary directory\n\nThis defaults to ~/.ansible/tmp for the 'local tmp dir' , and for\nfunctional tests ~zuul does not exist inside containers which are\ntreated as local by ansible.\n\nChange-Id: If9b414c1d9e43b8183c68c7c3a6dff130cfcab34\n""}, {'number': 2, 'created': '2020-02-22 21:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/daa30b8cbe8e5d750f6dc7956b584523282516cb', 'message': ""Use /tmp for ansible temporary directory\n\nThis defaults to ~/.ansible/tmp for the 'local tmp dir' , and for\nfunctional tests ~zuul does not exist inside containers which are\ntreated as local by ansible.\n\nChange-Id: If9b414c1d9e43b8183c68c7c3a6dff130cfcab34\n""}, {'number': 3, 'created': '2020-02-22 21:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/32144aeb6319582cc0cbdd277e82c62bf915a00e', 'message': ""Use /tmp for ansible temporary directory\n\nThis defaults to $HOME/.ansible/tmp for the 'remote tmp dir' , and for\nfunctional tests ~zuul does not exist inside containers.\n\nChange-Id: If9b414c1d9e43b8183c68c7c3a6dff130cfcab34\n""}, {'number': 4, 'created': '2020-02-23 11:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/240800631b1a3b05d5975d7166c3ea28d97f1eac', 'message': ""Use /tmp for ansible temporary directory\n\nThis defaults to $HOME/.ansible/tmp for the 'remote tmp dir' , and for\nfunctional tests ~zuul does not exist inside containers.\n\nChange-Id: If9b414c1d9e43b8183c68c7c3a6dff130cfcab34\n""}, {'number': 5, 'created': '2020-02-24 12:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/81e20c2a4fecd92fcbe86de3394eb2b93be9427b', 'message': ""Use /tmp for ansible temporary directory\n\nThis defaults to $HOME/.ansible/tmp for the 'remote tmp dir' , and for\nfunctional tests ~zuul does not exist inside containers.\n\nChange-Id: If9b414c1d9e43b8183c68c7c3a6dff130cfcab34\n""}, {'number': 6, 'created': '2020-02-24 18:09:25.000000000', 'files': ['test-ansible-functional.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/134753236a1115903fb72e6197f212af91ff4469', 'message': ""Use /tmp for ansible temporary directory\n\nThis defaults to $HOME/.ansible/tmp for the 'remote tmp dir' , and for\nfunctional tests ~zuul does not exist inside containers.\n\nChange-Id: If9b414c1d9e43b8183c68c7c3a6dff130cfcab34\n""}]",0,709327,134753236a1115903fb72e6197f212af91ff4469,17,3,6,25023,,,0,"Use /tmp for ansible temporary directory

This defaults to $HOME/.ansible/tmp for the 'remote tmp dir' , and for
functional tests ~zuul does not exist inside containers.

Change-Id: If9b414c1d9e43b8183c68c7c3a6dff130cfcab34
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/27/709327/2 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-functional.sh'],1,ca2108f5e9c14ba0662cde01ed51a01966ae0d50,buster_functional,"export ANSIBLE_LOCAL_TEMP=""/tmp""",,1,0
openstack%2Fopenstack-ansible-tests~master~I7ef5369143ce8cfe3cde1e3df4da528449539e34,openstack/openstack-ansible-tests,master,I7ef5369143ce8cfe3cde1e3df4da528449539e34,Do not include docs/requirements.txt for functional tests,MERGED,2020-02-22 20:10:51.000000000,2020-02-25 17:13:43.000000000,2020-02-25 09:44:49.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-22 20:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/48e10ceae80975b28d83dea5f2b208c31ceca7a7', 'message': 'Do not include docs/requirements.txt for functional tests\n\nThe docuementation requirements are only for documentation and not\nfor other code.\n\nChange-Id: I7ef5369143ce8cfe3cde1e3df4da528449539e34\n'}, {'number': 2, 'created': '2020-02-22 21:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f700ad3a05e3885567cc31b5fb889f455145da21', 'message': 'Do not include docs/requirements.txt for functional tests\n\nThe docuementation requirements are only for documentation and not\nfor other code.\n\nChange-Id: I7ef5369143ce8cfe3cde1e3df4da528449539e34\n'}, {'number': 3, 'created': '2020-02-23 11:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/d5ec4095d0af6686c5867d73ba010388cbe5181e', 'message': 'Do not include docs/requirements.txt for functional tests\n\nThe docuementation requirements are only for documentation and not\nfor other code.\n\nSince https://review.opendev.org/#/c/709222/ the minimum python version\nfor openstackdocstheme is 3.6 which breaks our legacy functional tests.\nThis patch stops docs/requirements.txt from being installed for\nfunctional tests.\n\nChange-Id: I7ef5369143ce8cfe3cde1e3df4da528449539e34\n'}, {'number': 4, 'created': '2020-02-24 12:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5ea3be8fd71306be196929df9a120a463e550dea', 'message': 'Do not include docs/requirements.txt for functional tests\n\nThe docuementation requirements are only for documentation and not\nfor other code.\n\nSince https://review.opendev.org/#/c/709222/ the minimum python version\nfor openstackdocstheme is 3.6 which breaks our legacy functional tests.\nThis patch stops docs/requirements.txt from being installed for\nfunctional tests.\n\nChange-Id: I7ef5369143ce8cfe3cde1e3df4da528449539e34\n'}, {'number': 5, 'created': '2020-02-24 18:09:25.000000000', 'files': ['test-ansible-env-prep.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/6e7544ede290a4c4f33914b1271b75b1b431fdb0', 'message': 'Do not include docs/requirements.txt for functional tests\n\nThe docuementation requirements are only for documentation and not\nfor other code.\n\nSince https://review.opendev.org/#/c/709222/ the minimum python version\nfor openstackdocstheme is 3.6 which breaks our legacy functional tests.\nThis patch stops docs/requirements.txt from being installed for\nfunctional tests.\n\nChange-Id: I7ef5369143ce8cfe3cde1e3df4da528449539e34\n'}]",1,709320,6e7544ede290a4c4f33914b1271b75b1b431fdb0,21,5,5,25023,,,0,"Do not include docs/requirements.txt for functional tests

The docuementation requirements are only for documentation and not
for other code.

Since https://review.opendev.org/#/c/709222/ the minimum python version
for openstackdocstheme is 3.6 which breaks our legacy functional tests.
This patch stops docs/requirements.txt from being installed for
functional tests.

Change-Id: I7ef5369143ce8cfe3cde1e3df4da528449539e34
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/20/709320/4 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-env-prep.sh'],1,48e10ceae80975b28d83dea5f2b208c31ceca7a7,buster_functional,"if [[ -f ""${WORKING_DIR}/doc/requirements.txt"" && ""$TOX_ENV_NAME"" != ""functional"" ]]; then","if [[ -f ""${WORKING_DIR}/doc/requirements.txt"" ]]; then",1,1
openstack%2Ftripleo-ansible~master~Ic6d88010e4d2913fde28e9f82e73fec432d5eb45,openstack/tripleo-ansible,master,Ic6d88010e4d2913fde28e9f82e73fec432d5eb45,Fix typo in introspection module,MERGED,2020-02-25 00:35:27.000000000,2020-02-25 17:10:16.000000000,2020-02-25 17:10:16.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-25 00:35:27.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/314df641e98d8c73bf4949a012fa364b4433a11a', 'message': 'Fix typo in introspection module\n\nChange-Id: Ic6d88010e4d2913fde28e9f82e73fec432d5eb45\n'}]",0,709642,314df641e98d8c73bf4949a012fa364b4433a11a,7,3,1,10969,,,0,"Fix typo in introspection module

Change-Id: Ic6d88010e4d2913fde28e9f82e73fec432d5eb45
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/709642/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'],1,314df641e98d8c73bf4949a012fa364b4433a11a,, description:, descriptio:,1,1
openstack%2Ftripleo-ansible~master~I5baefe16f313cc17d369c9f16529516fc8d6f6e5,openstack/tripleo-ansible,master,I5baefe16f313cc17d369c9f16529516fc8d6f6e5,container_puppet_config: disable SElinux labelling,MERGED,2020-02-24 16:01:26.000000000,2020-02-25 17:10:15.000000000,2020-02-25 17:10:15.000000000,"[{'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-02-24 16:01:26.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/99448e20feabf141a49d6953d980c2de6a7c4b07', 'message': ""container_puppet_config: disable SElinux labelling\n\nThis is a leftover from container-puppet.py that was missed in the\nmigration to Ansible. If we don't do that, SElinux will report alerts\nbecause the entrypoint (container-puppet.sh) tries to copy (and\ntherefore read) the content of /tmp/puppet-tmp which isn't readable per\ncurrent OpenStack SElinux podman policies.\n\nWhile this is done in the policy, let's port the configuration that was\ndone before in container-puppet.py and this patch will be reverted once\nthe policy is less restritive.\n\nChange-Id: I5baefe16f313cc17d369c9f16529516fc8d6f6e5\nRelated-Bug: #1864501\n""}]",1,709562,99448e20feabf141a49d6953d980c2de6a7c4b07,14,5,1,3153,,,0,"container_puppet_config: disable SElinux labelling

This is a leftover from container-puppet.py that was missed in the
migration to Ansible. If we don't do that, SElinux will report alerts
because the entrypoint (container-puppet.sh) tries to copy (and
therefore read) the content of /tmp/puppet-tmp which isn't readable per
current OpenStack SElinux podman policies.

While this is done in the policy, let's port the configuration that was
done before in container-puppet.py and this patch will be reverted once
the policy is less restritive.

Change-Id: I5baefe16f313cc17d369c9f16529516fc8d6f6e5
Related-Bug: #1864501
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/709562/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'],1,99448e20feabf141a49d6953d980c2de6a7c4b07,selinux," # the security_opt can be removed once we properly address: # https://bugs.launchpad.net/tripleo/+bug/1864501 'security_opt': 'label=disable',",,3,0
openstack%2Frequirements~stable%2Ftrain~I8b8bb12001b6aefc624ecf42690352179287fd05,openstack/requirements,stable/train,I8b8bb12001b6aefc624ecf42690352179287fd05,update constraint for keystoneauth1 to new release 3.17.2,MERGED,2020-02-24 23:21:49.000000000,2020-02-25 16:50:25.000000000,2020-02-25 16:50:25.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 23:21:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3fa235bb42386f704dfdd8e24e264f42fd8be386', 'message': 'update constraint for keystoneauth1 to new release 3.17.2\n\nChange-Id: I8b8bb12001b6aefc624ecf42690352179287fd05\nmeta:version: 3.17.2\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Javier Pena <jpena@redhat.com>\nmeta:release:Commit: Javier Pena <jpena@redhat.com>\nmeta:release:Change-Id: I6eede4c8a29f7accaf8bb764e4454823258232d8\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Colleen Murphy <colleen@gazlene.net>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,709632,3fa235bb42386f704dfdd8e24e264f42fd8be386,9,3,1,11131,,,0,"update constraint for keystoneauth1 to new release 3.17.2

Change-Id: I8b8bb12001b6aefc624ecf42690352179287fd05
meta:version: 3.17.2
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Javier Pena <jpena@redhat.com>
meta:release:Commit: Javier Pena <jpena@redhat.com>
meta:release:Change-Id: I6eede4c8a29f7accaf8bb764e4454823258232d8
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Colleen Murphy <colleen@gazlene.net>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/709632/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3fa235bb42386f704dfdd8e24e264f42fd8be386,new-release,keystoneauth1===3.17.2,keystoneauth1===3.17.1,1,1
openstack%2Frequirements~stable%2Frocky~Idb0c0bf4193a90c4ca5987ca104a2d0de8cad99e,openstack/requirements,stable/rocky,Idb0c0bf4193a90c4ca5987ca104a2d0de8cad99e,update constraint for keystoneauth1 to new release 3.10.1,MERGED,2020-02-24 19:33:40.000000000,2020-02-25 16:50:24.000000000,2020-02-25 16:50:24.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 19:33:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/983a10c4b4fff11399a376214edaa4ad2ea25eb3', 'message': 'update constraint for keystoneauth1 to new release 3.10.1\n\nChange-Id: Idb0c0bf4193a90c4ca5987ca104a2d0de8cad99e\nmeta:version: 3.10.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Kristi Nikolla <kristi@nikolla.me>\nmeta:release:Commit: Kristi Nikolla <kristi@nikolla.me>\nmeta:release:Change-Id: I213a387ec5d262d85790425c1a1b0f5da4134d10\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,709596,983a10c4b4fff11399a376214edaa4ad2ea25eb3,7,3,1,11131,,,0,"update constraint for keystoneauth1 to new release 3.10.1

Change-Id: Idb0c0bf4193a90c4ca5987ca104a2d0de8cad99e
meta:version: 3.10.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Kristi Nikolla <kristi@nikolla.me>
meta:release:Commit: Kristi Nikolla <kristi@nikolla.me>
meta:release:Change-Id: I213a387ec5d262d85790425c1a1b0f5da4134d10
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/709596/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,983a10c4b4fff11399a376214edaa4ad2ea25eb3,new-release,keystoneauth1===3.10.1,keystoneauth1===3.10.0,1,1
openstack%2Frequirements~stable%2Frocky~Ic1086fc34770ca20ae6a6f142be2e9e7957334e6,openstack/requirements,stable/rocky,Ic1086fc34770ca20ae6a6f142be2e9e7957334e6,update constraint for keystonemiddleware to new release 5.2.2,MERGED,2020-02-24 19:32:36.000000000,2020-02-25 16:50:23.000000000,2020-02-25 16:50:23.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 19:32:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c0c2e17647141a280f8acab2094c050c26b3cbed', 'message': 'update constraint for keystonemiddleware to new release 5.2.2\n\nChange-Id: Ic1086fc34770ca20ae6a6f142be2e9e7957334e6\nmeta:version: 5.2.2\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Kristi Nikolla <kristi@nikolla.me>\nmeta:release:Commit: Kristi Nikolla <kristi@nikolla.me>\nmeta:release:Change-Id: I213a387ec5d262d85790425c1a1b0f5da4134d10\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,709595,c0c2e17647141a280f8acab2094c050c26b3cbed,7,3,1,11131,,,0,"update constraint for keystonemiddleware to new release 5.2.2

Change-Id: Ic1086fc34770ca20ae6a6f142be2e9e7957334e6
meta:version: 5.2.2
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Kristi Nikolla <kristi@nikolla.me>
meta:release:Commit: Kristi Nikolla <kristi@nikolla.me>
meta:release:Change-Id: I213a387ec5d262d85790425c1a1b0f5da4134d10
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/95/709595/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c0c2e17647141a280f8acab2094c050c26b3cbed,new-release,keystonemiddleware===5.2.2,keystonemiddleware===5.2.1,1,1
openstack%2Fneutron~stable%2Fstein~I934062c970effe5194056b0786f84f3246850701,openstack/neutron,stable/stein,I934062c970effe5194056b0786f84f3246850701,Force arp_responder to True when DVR and tunneling enabled,ABANDONED,2019-12-31 11:35:24.000000000,2020-02-25 16:39:53.000000000,,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-12-31 11:35:24.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'releasenotes/notes/force-arp-responder-true-for-dvr-5aabbfa51945dd5a.yaml', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/738e83e4efbdb65c1b4a3ed5217ec7435175aa25', 'message': 'Force arp_responder to True when DVR and tunneling enabled\n\nAfter [1] and [2], the ARP responder needs to be enabled\nif DVR and tunneling are enabled or ARP will not work. If\nit is False we will log a message and force it to True.\n\n[1] https://review.opendev.org/#/c/651905/\n[2] https://review.opendev.org/#/c/653883/\n\nChange-Id: I934062c970effe5194056b0786f84f3246850701\nRelated-bug: #1774459\n(cherry picked from commit ea85e39660abaa224c159c42214fdb7042302bea)\n'}]",0,700805,738e83e4efbdb65c1b4a3ed5217ec7435175aa25,22,7,1,30523,,,0,"Force arp_responder to True when DVR and tunneling enabled

After [1] and [2], the ARP responder needs to be enabled
if DVR and tunneling are enabled or ARP will not work. If
it is False we will log a message and force it to True.

[1] https://review.opendev.org/#/c/651905/
[2] https://review.opendev.org/#/c/653883/

Change-Id: I934062c970effe5194056b0786f84f3246850701
Related-bug: #1774459
(cherry picked from commit ea85e39660abaa224c159c42214fdb7042302bea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/700805/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'releasenotes/notes/force-arp-responder-true-for-dvr-5aabbfa51945dd5a.yaml', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",5,738e83e4efbdb65c1b4a3ed5217ec7435175aa25,dvr-arp-responder-true-stable/stein," def _expected_port_bound(port, lvid, is_dvr=True, network_type=n_const.TYPE_VXLAN): resp = [ mock.call.get_vifs_by_ids([]), mock.call.install_dvr_dst_mac_for_arp( network_type, dvr_mac=port.dvr_mac, gateway_mac=port.vif_mac, rtr_port=port.ofport, vlan_tag=lvid) ] + resp return resp @staticmethod def _expected_port_unbound(port, lvid, is_dvr=True, network_type=n_const.TYPE_VXLAN): resp = [] if is_dvr: resp = [ mock.call.delete_dvr_dst_mac_for_arp( network_type=network_type, dvr_mac=port.dvr_mac, gateway_mac=port.vif_mac, rtr_port=port.ofport, vlan_tag=lvid) ] self._port.dvr_mac = self.agent.dvr_agent.dvr_mac_address ] + self._expected_port_bound(self._port, lvid, network_type=network_type) ] + self._expected_port_bound(self._compute_port, lvid, is_dvr=False, network_type=network_type) self._port.dvr_mac = self.agent.dvr_agent.dvr_mac_address ] + self._expected_port_bound(self._compute_port, lvid, False, network_type) self._port.dvr_mac = self.agent.dvr_agent.dvr_mac_address expected_unbound_dvr = self._expected_port_unbound(self._port, self._segmentation_id, network_type=network_type) self.assertEqual(expected_unbound_dvr, int_br.mock_calls) expected_unbound_dvr = self._expected_port_unbound(self._port, lvid, network_type=network_type) self.assertEqual(expected_unbound_dvr, int_br.mock_calls) self._port.dvr_mac = self.agent.dvr_agent.dvr_mac_address"," def _expected_port_bound(port, lvid, is_dvr=True): resp = [mock.call.get_vifs_by_ids([])] + resp ] + self._expected_port_bound(self._port, lvid) ] + self._expected_port_bound(self._compute_port, lvid, False) ] + self._expected_port_bound(self._compute_port, lvid, False) self.assertEqual([], int_br.mock_calls) self.assertEqual([], int_br.mock_calls)",76,34
openstack%2Fmagnum~master~Ia47a9282f56f30569b190ec2585b38c459086b63,openstack/magnum,master,Ia47a9282f56f30569b190ec2585b38c459086b63,[k8s] Make metrics-server work without DNS,MERGED,2020-02-05 15:25:36.000000000,2020-02-25 16:35:23.000000000,2020-02-25 14:02:51.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2020-02-05 15:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7a1e59acb53a7af90d17d96e141ed6d9d6c5e980', 'message': '[k8s] Fix metrics-server CrashLoopBack\n\nAt present, metrics-server pod keeps doing a CrashLoopBack because of\nself signed certificate and because DNS does not resolve properly.\n\nTask: 38642\nStory: 2007265\n\nChange-Id: Ia47a9282f56f30569b190ec2585b38c459086b63\n'}, {'number': 2, 'created': '2020-02-13 19:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/74c76d39376a041be884766e43be26b4787283e4', 'message': '[k8s] Fix metrics-server CrashLoopBack\n\nAt present, metrics-server pod keeps doing a CrashLoopBack because of\nself signed certificate and because DNS does not resolve properly.\n\nTask: 38642\nStory: 2007265\n\nChange-Id: Ia47a9282f56f30569b190ec2585b38c459086b63\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 3, 'created': '2020-02-21 09:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b45c4a1c89c5fce454dcb1122d152c9273e4b345', 'message': '[k8s] Make metrics-server work without DNS\n\nAt present, metrics-server pod keeps doing a CrashLoopBack because of\nself signed certificate and because DNS does not resolve when a cloud\ndoes not operate a DNS.\n\nTask: 38642\nStory: 2007265\n\nChange-Id: Ia47a9282f56f30569b190ec2585b38c459086b63\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 4, 'created': '2020-02-21 09:55:19.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8108679c2dc5018c3beb66ae2cd04e94984c25dd', 'message': '[k8s] Make metrics-server work without DNS\n\nAt present, metrics-server pod keeps doing a CrashLoopBack because host\nname does not resolve when a cloud does not operate a DNS.\n\nTask: 38642\nStory: 2007265\n\nChange-Id: Ia47a9282f56f30569b190ec2585b38c459086b63\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}]",6,705984,8108679c2dc5018c3beb66ae2cd04e94984c25dd,33,5,4,28022,,,0,"[k8s] Make metrics-server work without DNS

At present, metrics-server pod keeps doing a CrashLoopBack because host
name does not resolve when a cloud does not operate a DNS.

Task: 38642
Story: 2007265

Change-Id: Ia47a9282f56f30569b190ec2585b38c459086b63
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/84/705984/4 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh'],1,7a1e59acb53a7af90d17d96e141ed6d9d6c5e980,metrics-server," args: - --kubelet-insecure-tls - --kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname",,3,0
openstack%2Fdevstack-plugin-nfs~master~Ie6e287d134523931418256180dc5c55fd32f0db6,openstack/devstack-plugin-nfs,master,Ie6e287d134523931418256180dc5c55fd32f0db6,Migrate gate job to py3,MERGED,2020-02-19 04:08:14.000000000,2020-02-25 16:34:57.000000000,2020-02-25 16:34:56.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 04:08:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/1f9393cd206caf2898f946f52d661bb74bb3ddfc', 'message': 'Migrate gate job to py3\n\ngate jobs are modified to run on py2 on stable\nbranch and on py3 on ussuri onwards.\n\nChange-Id: Ie6e287d134523931418256180dc5c55fd32f0db6\n'}]",0,708559,1f9393cd206caf2898f946f52d661bb74bb3ddfc,11,5,1,8556,,,0,"Migrate gate job to py3

gate jobs are modified to run on py2 on stable
branch and on py3 on ussuri onwards.

Change-Id: Ie6e287d134523931418256180dc5c55fd32f0db6
",git fetch https://review.opendev.org/openstack/devstack-plugin-nfs refs/changes/59/708559/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1f9393cd206caf2898f946f52d661bb74bb3ddfc,, tempest-full job based on NFS with py2. branches: - stable/ocata - stable/pike - stable/queens - stable/rocky - stable/stein - stable/train - job: name: devstack-plugin-nfs-tempest-full parent: tempest-full-py3 description: | tempest-full-py3 job based on NFS. Former names for this job where: * legacy-tempest-dsvm-full-devstack-plugin-nfs timeout: 10800 required-projects: - opendev.org/x/devstack-plugin-nfs host-vars: controller: devstack_plugins: devstack-plugin-nfs: https://opendev.org/x/devstack-plugin-nfs vars: devstack_localrc: ENABLE_NFS_CINDER: true # enabled by default in tempest-full: ENABLE_VOLUME_MULTIATTACH: false irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train)).*$, tempest-full job based on NFS. vars: devstack_localrc: USE_PYTHON3: 'False' vars: devstack_localrc: USE_PYTHON3: 'False' vars: devstack_localrc: USE_PYTHON3: 'False' vars: devstack_localrc: USE_PYTHON3: 'False',32,13
openstack%2Fmagnum~master~Ibee2df435c3f7c34bff74e9146fb28d8367124b1,openstack/magnum,master,Ibee2df435c3f7c34bff74e9146fb28d8367124b1,Fix api-cert-manager=true blocking cluster creation,MERGED,2020-01-17 13:24:19.000000000,2020-02-25 16:29:54.000000000,2020-02-03 17:53:15.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-01-17 13:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f4a0b074794b6087cb4a9c3f218a6e312a624b04', 'message': ""Fix api-cert-manager=true blocking cluster creation\n\nThe persistence of the ca.key is in the kubecluster.yaml, but the existence\nof the file is checked at kubemaster.yaml (while not exist). Magnum gets blocked\nbecause ca.key does not exist yet at this stage.\n\nChange-Id: Ibee2df435c3f7c34bff74e9146fb28d8367124b1\nSigned-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>\n\nIn the current release, cert-api-manager runs on kubecluster.yaml [1],\nbut in the kubemaster.yaml [2] the script [3] expects the existance of\nthe ca.key file (if the cert_api_manager_enabled=true), otherwise it gets blocked.\nThis file (ca.key), in turn, it's created only when enable-cert-api-manager.sh runs [4]\n\nSo, we have a dead lock...\nSo we need to change the call enable-cert-api-manager.sh into the kubemaster.yaml\n\n[1] https://github.com/openstack/magnum/blob/master/magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml#L1158-L1161\n[2] https://github.com/openstack/magnum/blob/master/magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml#L760\n[3] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh#L12-L16\n[4] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh#L11\n\nOn other issue, the chown of this file (ca.key) it's not working. Moving the\ncall of this file into kubemaster.yaml makes cluster creation FAILS because of\nan error [7] in [5]. If we check a cluster created in stein [6] we notice that\nthe file is owned by root:root. Knowing this we can comment [5] for now.\n\n[5] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh#L13\n[6] http://paste.openstack.org/show/788534/\n[7] http://paste.openstack.org/show/788537/\n\nChange-Id: Ibee2df435c3f7c34bff74e9146fb28d8367124b1\nSigned-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>\n""}, {'number': 2, 'created': '2020-01-17 13:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/be05e9e4f8ac62bc4a5f2a3263d3183b3780f4fe', 'message': ""Fix api-cert-manager=true blocking cluster creation\n\n\n\nIn the current release, cert-api-manager runs on kubecluster.yaml [1],\nbut in the kubemaster.yaml [2] the script [3] expects the existance of\nthe ca.key file (if the cert_api_manager_enabled=true), otherwise it gets blocked.\nThis file (ca.key), in turn, it's created only when enable-cert-api-manager.sh runs [4]\n\nSo, we have a dead lock...\nSo we need to change the call enable-cert-api-manager.sh into the kubemaster.yaml\n\n[1] https://github.com/openstack/magnum/blob/master/magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml#L1158-L1161\n[2] https://github.com/openstack/magnum/blob/master/magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml#L760\n[3] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh#L12-L16\n[4] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh#L11\n\nOn other issue, the chown of this file (ca.key) it's not working. Moving the\ncall of this file into kubemaster.yaml makes cluster creation FAILS because of\nan error [7] in [5]. If we check a cluster created in stein [6] we notice that\nthe file is owned by root:root. Knowing this we can comment [5] for now.\n\n[5] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh#L13\n[6] http://paste.openstack.org/show/788534/\n[7] http://paste.openstack.org/show/788537/\n\nChange-Id: Ibee2df435c3f7c34bff74e9146fb28d8367124b1\nSigned-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>\n""}, {'number': 3, 'created': '2020-01-17 13:30:15.000000000', 'files': ['releasenotes/notes/fix-cert-apimanager-527352622c5a9c3b.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1ecec95b8cea1001fa762f09ed3fa40fbb1b4bd8', 'message': ""Fix api-cert-manager=true blocking cluster creation\n\nIn the current release, cert-api-manager runs on kubecluster.yaml [1],\nbut in the kubemaster.yaml [2] the script [3] expects the existance of\nthe ca.key file (if the cert_api_manager_enabled=true), otherwise it gets blocked.\nThis file (ca.key), in turn, it's created only when enable-cert-api-manager.sh runs [4]\n\nSo, we have a dead lock...\nSo we need to change the call enable-cert-api-manager.sh into the kubemaster.yaml\n\n[1] https://github.com/openstack/magnum/blob/master/magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml#L1158-L1161\n[2] https://github.com/openstack/magnum/blob/master/magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml#L760\n[3] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh#L12-L16\n[4] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh#L11\n\nOn other issue, the chown of this file (ca.key) it's not working. Moving the\ncall of this file into kubemaster.yaml makes cluster creation FAILS because of\nan error [7] in [5]. If we check a cluster created in stein [6] we notice that\nthe file is owned by root:root. Knowing this we can comment [5] for now.\n\n[5] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh#L13\n[6] http://paste.openstack.org/show/788534/\n[7] http://paste.openstack.org/show/788537/\n\nChange-Id: Ibee2df435c3f7c34bff74e9146fb28d8367124b1\nSigned-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>\n""}]",0,703076,1ecec95b8cea1001fa762f09ed3fa40fbb1b4bd8,11,4,3,29425,,,0,"Fix api-cert-manager=true blocking cluster creation

In the current release, cert-api-manager runs on kubecluster.yaml [1],
but in the kubemaster.yaml [2] the script [3] expects the existance of
the ca.key file (if the cert_api_manager_enabled=true), otherwise it gets blocked.
This file (ca.key), in turn, it's created only when enable-cert-api-manager.sh runs [4]

So, we have a dead lock...
So we need to change the call enable-cert-api-manager.sh into the kubemaster.yaml

[1] https://github.com/openstack/magnum/blob/master/magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml#L1158-L1161
[2] https://github.com/openstack/magnum/blob/master/magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml#L760
[3] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh#L12-L16
[4] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh#L11

On other issue, the chown of this file (ca.key) it's not working. Moving the
call of this file into kubemaster.yaml makes cluster creation FAILS because of
an error [7] in [5]. If we check a cluster created in stein [6] we notice that
the file is owned by root:root. Knowing this we can comment [5] for now.

[5] https://github.com/openstack/magnum/blob/master/magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh#L13
[6] http://paste.openstack.org/show/788534/
[7] http://paste.openstack.org/show/788537/

Change-Id: Ibee2df435c3f7c34bff74e9146fb28d8367124b1
Signed-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/76/703076/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cert-api-manager.sh']",5,f4a0b074794b6087cb4a9c3f218a6e312a624b04,fix-cert-api-manager, # chown kube:kube ${cert_dir}/ca.key, chown kube.kube ${cert_dir}/ca.key,9,9
openstack%2Fmagnum~master~I908555399639a49058831cb2b0c03d5c5442446b,openstack/magnum,master,I908555399639a49058831cb2b0c03d5c5442446b,k8s_coreos Set REQUESTS_CA for heat-agent,MERGED,2020-01-29 08:13:07.000000000,2020-02-25 16:29:06.000000000,2020-02-03 17:03:23.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-01-29 08:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/413d20e75040aeb5b4dbb5a9eb89121d111c1305', 'message': 'k8s_coreos Set REQUESTS_CA for heat-agent\n\nThe heat-agent as a python service needs to use\nthe ca bundle of the host.\n\nstory: 2005201\ntask: 38504\n\nChange-Id: I908555399639a49058831cb2b0c03d5c5442446b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2020-01-29 09:04:55.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'releasenotes/notes/fedora_coreos-e66b44d86dea380f.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7da53fe3b89ec9bbf89824acfe32ce57f787037d', 'message': 'k8s_coreos Set REQUESTS_CA for heat-agent\n\nThe heat-agent as a python service needs to use\nthe ca bundle of the host.\n\nstory: 2005201\ntask: 38504\n\nChange-Id: I908555399639a49058831cb2b0c03d5c5442446b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,704739,7da53fe3b89ec9bbf89824acfe32ce57f787037d,12,4,2,20498,,,0,"k8s_coreos Set REQUESTS_CA for heat-agent

The heat-agent as a python service needs to use
the ca bundle of the host.

story: 2005201
task: 38504

Change-Id: I908555399639a49058831cb2b0c03d5c5442446b
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/39/704739/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json'],1,413d20e75040aeb5b4dbb5a9eb89121d111c1305,fix-requests-ca-bundle," ""contents"": ""[Unit]\nDescription=Run heat-container-agent\nAfter=network-online.target configure-agent-env.service\nWants=network-online.target\n\n[Service]\nEnvironmentFile=-/etc/environment\nExecStartPre=mkdir -p /var/lib/heat-container-agent\nExecStartPre=mkdir -p /var/run/heat-config\nExecStartPre=mkdir -p /var/run/os-collect-config\nExecStartPre=mkdir -p /opt/stack/os-config-refresh\nExecStartPre=-mv /var/lib/os-collect-config/local-data /var/lib/cloud/data/cfn-init-data\nExecStartPre=mkdir -p /srv/magnum\nExecStartPre=-/bin/podman kill heat-container-agent\nExecStartPre=-/bin/podman rm heat-container-agent\nExecStartPre=-/bin/podman pull $CONTAINER_INFRA_PREFIXheat-container-agent:$HEAT_CONTAINER_AGENT_TAG\nExecStart=/bin/podman run \\\n --name heat-container-agent \\\n --privileged \\\n --volume /srv/magnum:/srv/magnum \\\n --volume /opt/stack/os-config-refresh:/opt/stack/os-config-refresh \\\n --volume /run/systemd:/run/systemd \\\n --volume /etc/:/etc/ \\\n --volume /var/lib:/var/lib \\\n --volume /var/run:/var/run \\\n --volume /var/log:/var/log \\\n --volume /tmp:/tmp \\\n --volume /dev:/dev \\\n --env REQUESTS_CA_BUNDLE=/etc/pki/tls/certs/ca-bundle.crt --net=host \\\n $CONTAINER_INFRA_PREFIXheat-container-agent:$HEAT_CONTAINER_AGENT_TAG \\\n /usr/bin/start-heat-container-agent\nTimeoutStartSec=10min\n\nExecStop=/bin/podman stop heat-container-agent\n\n[Install]\nWantedBy=multi-user.target\n"""," ""contents"": ""[Unit]\nDescription=Run heat-container-agent\nAfter=network-online.target configure-agent-env.service\nWants=network-online.target\n\n[Service]\nEnvironmentFile=-/etc/environment\nExecStartPre=mkdir -p /var/lib/heat-container-agent\nExecStartPre=mkdir -p /var/run/heat-config\nExecStartPre=mkdir -p /var/run/os-collect-config\nExecStartPre=mkdir -p /opt/stack/os-config-refresh\nExecStartPre=-mv /var/lib/os-collect-config/local-data /var/lib/cloud/data/cfn-init-data\nExecStartPre=mkdir -p /srv/magnum\nExecStartPre=-/bin/podman kill heat-container-agent\nExecStartPre=-/bin/podman rm heat-container-agent\nExecStartPre=-/bin/podman pull $CONTAINER_INFRA_PREFIXheat-container-agent:$HEAT_CONTAINER_AGENT_TAG\nExecStart=/bin/podman run \\\n --name heat-container-agent \\\n --privileged \\\n --volume /srv/magnum:/srv/magnum \\\n --volume /opt/stack/os-config-refresh:/opt/stack/os-config-refresh \\\n --volume /run/systemd:/run/systemd \\\n --volume /etc/:/etc/ \\\n --volume /var/lib:/var/lib \\\n --volume /var/run:/var/run \\\n --volume /var/log:/var/log \\\n --volume /tmp:/tmp \\\n --volume /dev:/dev \\\n --env REQUESTS_CA_BUNDLE=/etc/pki/ca-trust/source/anchors/openstack-ca.pem --net=host \\\n $CONTAINER_INFRA_PREFIXheat-container-agent:$HEAT_CONTAINER_AGENT_TAG \\\n /usr/bin/start-heat-container-agent\nTimeoutStartSec=10min\n\nExecStop=/bin/podman stop heat-container-agent\n\n[Install]\nWantedBy=multi-user.target\n""",1,1
openstack%2Fmagnum~master~I8fd8d363284b06cf0bfba45d5845ba8687a2c783,openstack/magnum,master,I8fd8d363284b06cf0bfba45d5845ba8687a2c783,Fix Field `health_status_reason[api]' cannot be None`,MERGED,2020-01-20 11:30:46.000000000,2020-02-25 16:28:20.000000000,2020-02-03 16:26:54.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2020-01-20 11:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/035fd3df1cc6f1ebc4c281ee1cda8f42c766fc6a', 'message': 'Fix Field `health_status_reason[api]\' cannot be None`\n\nIf nodes in a cluster were deleted, period health checks for the cluster\nwill timeout. This will result in logs of logs like the following:\n\n ERROR oslo.service.loopingcall ValueError: Field\n `health_status_reason[api]\' cannot be None\n\nThe timeout is successfully caught by exception handling in this part of\nthe code. However, it is thrown as a type MaxRetryError exception, which\ndoes not have body or message attrs. E.g.\n\n MaxRetryError(""HTTPSConnectionPool(host=\'115.146.81.72\', port=6443): Max\n retries exceeded with url: /healthz (Caused by\n NewConnectionError(\'<urllib3.connection.VerifiedHTTPSConnection object\n at 0x7f6b9b915a20>: Failed to establish a new connection: [Errno 110]\n ETIMEDOUT\',))"",)\n\nThis means health_status_reason will be a dict like `{\'api\': None}`.\nSaving this using oslo_versionedobjects will throw an ValueError,\nbecause althought the dict itself is corced as a `Dict(default=<class\n\'oslo_versionedobjects.fields.UnspecifiedDefault\'>,nullable=True)`, the\nNone value will be coerced as a `String(default=<class\n\'oslo_versionedobjects.fields.UnspecifiedDefault\'>,nullable=False)` and\nthat is not nullable.\n\nChange-Id: I8fd8d363284b06cf0bfba45d5845ba8687a2c783\n'}, {'number': 2, 'created': '2020-01-21 01:29:06.000000000', 'files': ['magnum/drivers/common/k8s_monitor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/30436350afb88dc3e62af872aa2b39cf439e8eae', 'message': 'Fix Field `health_status_reason[api]\' cannot be None`\n\nIf nodes in a cluster were deleted, period health checks for the cluster\nwill timeout. This will result in logs of logs like the following:\n\n ERROR oslo.service.loopingcall ValueError: Field\n `health_status_reason[api]\' cannot be None\n\nThe timeout is successfully caught by exception handling in this part of\nthe code. However, it is thrown as a type MaxRetryError exception, which\ndoes not have body or message attrs. E.g.\n\n MaxRetryError(""HTTPSConnectionPool(host=\'115.146.81.72\', port=6443): Max\n retries exceeded with url: /healthz (Caused by\n NewConnectionError(\'<urllib3.connection.VerifiedHTTPSConnection object\n at 0x7f6b9b915a20>: Failed to establish a new connection: [Errno 110]\n ETIMEDOUT\',))"",)\n\nThis means health_status_reason will be a dict like `{\'api\': None}`.\nSaving this using oslo_versionedobjects will throw an ValueError,\nbecause althought the dict itself is corced as a `Dict(default=<class\n\'oslo_versionedobjects.fields.UnspecifiedDefault\'>,nullable=True)`, the\nNone value will be coerced as a `String(default=<class\n\'oslo_versionedobjects.fields.UnspecifiedDefault\'>,nullable=False)` and\nthat is not nullable.\n\nTask: 38316\nChange-Id: I8fd8d363284b06cf0bfba45d5845ba8687a2c783\n'}]",0,703370,30436350afb88dc3e62af872aa2b39cf439e8eae,14,4,2,8064,,,0,"Fix Field `health_status_reason[api]' cannot be None`

If nodes in a cluster were deleted, period health checks for the cluster
will timeout. This will result in logs of logs like the following:

 ERROR oslo.service.loopingcall ValueError: Field
 `health_status_reason[api]' cannot be None

The timeout is successfully caught by exception handling in this part of
the code. However, it is thrown as a type MaxRetryError exception, which
does not have body or message attrs. E.g.

 MaxRetryError(""HTTPSConnectionPool(host='115.146.81.72', port=6443): Max
 retries exceeded with url: /healthz (Caused by
 NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object
 at 0x7f6b9b915a20>: Failed to establish a new connection: [Errno 110]
 ETIMEDOUT',))"",)

This means health_status_reason will be a dict like `{'api': None}`.
Saving this using oslo_versionedobjects will throw an ValueError,
because althought the dict itself is corced as a `Dict(default=<class
'oslo_versionedobjects.fields.UnspecifiedDefault'>,nullable=True)`, the
None value will be coerced as a `String(default=<class
'oslo_versionedobjects.fields.UnspecifiedDefault'>,nullable=False)` and
that is not nullable.

Task: 38316
Change-Id: I8fd8d363284b06cf0bfba45d5845ba8687a2c783
",git fetch https://review.opendev.org/openstack/magnum refs/changes/70/703370/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/k8s_monitor.py'],1,035fd3df1cc6f1ebc4c281ee1cda8f42c766fc6a,, if api_status is not None: health_status_reason['api'] = api_status, health_status_reason['api'] = api_status,2,1
openstack%2Fmagnum~master~I3339a66ceedb3e02c478f3842422e01f1da4a2b5,openstack/magnum,master,I3339a66ceedb3e02c478f3842422e01f1da4a2b5,Fix the load balancer description regex pattern for deleting cluster,MERGED,2020-02-03 20:45:40.000000000,2020-02-25 16:27:39.000000000,2020-02-18 02:11:11.000000000,"[{'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2020-02-03 20:45:40.000000000', 'files': ['magnum/tests/unit/common/test_octavia.py', 'magnum/common/octavia.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/84803e3f0323ddbdc6e656fc7adb3cf000f7d595', 'message': 'Fix the load balancer description regex pattern for deleting cluster\n\nChange-Id: I3339a66ceedb3e02c478f3842422e01f1da4a2b5\nStory: #2007254\nTask: #38613\n'}]",2,705551,84803e3f0323ddbdc6e656fc7adb3cf000f7d595,13,6,1,6732,,,0,"Fix the load balancer description regex pattern for deleting cluster

Change-Id: I3339a66ceedb3e02c478f3842422e01f1da4a2b5
Story: #2007254
Task: #38613
",git fetch https://review.opendev.org/openstack/magnum refs/changes/51/705551/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/common/test_octavia.py', 'magnum/common/octavia.py']",2,84803e3f0323ddbdc6e656fc7adb3cf000f7d595,fix-delete-ing-lb, pattern = (r'Kubernetes .+ from cluster %s' % cluster.uuid), pattern = (r'Kubernetes .+ from cluster %s$' % cluster.uuid),4,4
openstack%2Fmagnum~master~I0c850126c7299cb7a4fe201efee311d76bc14ce6,openstack/magnum,master,I0c850126c7299cb7a4fe201efee311d76bc14ce6,core-podman: Mount os-release properly,MERGED,2020-01-29 09:03:13.000000000,2020-02-25 16:24:52.000000000,2020-02-21 02:05:32.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2020-01-29 09:03:13.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'releasenotes/notes/use_podman-39532143be2296c2.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e731a7cb5e5a6fbb7099170607d801bae2f576ef', 'message': 'core-podman: Mount os-release properly\n\nTo display the node OS-IMAGE in k8s properly\nwe need to mount /usr/lib/os-release,\n/ets/os-release is just a symlink.\n\nstory: 2006459\ntask: 38505\n\nChange-Id: I0c850126c7299cb7a4fe201efee311d76bc14ce6\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,704749,e731a7cb5e5a6fbb7099170607d801bae2f576ef,11,5,1,20498,,,0,"core-podman: Mount os-release properly

To display the node OS-IMAGE in k8s properly
we need to mount /usr/lib/os-release,
/ets/os-release is just a symlink.

story: 2006459
task: 38505

Change-Id: I0c850126c7299cb7a4fe201efee311d76bc14ce6
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/49/704749/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'releasenotes/notes/use_podman-39532143be2296c2.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",3,e731a7cb5e5a6fbb7099170607d801bae2f576ef,fix-os-release, --volume /usr/lib/os-release:/usr/lib/os-release:ro \\, --volume /usr/lib/os-release:/etc/os-release:ro \\,7,2
openstack%2Fmagnum~master~I2852f4b255e782bb65b13571502194ee9f455ae3,openstack/magnum,master,I2852f4b255e782bb65b13571502194ee9f455ae3,[k8s] Fix instance ID issue with podman and autoscaler,MERGED,2020-02-12 08:47:43.000000000,2020-02-25 16:24:28.000000000,2020-02-21 11:39:21.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2020-02-12 08:47:43.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/eb2b688f3ea8cdff5a7131efada156991f6bb6cb', 'message': '[k8s] Fix instance ID issue with podman and autoscaler\n\nAdding the volume mount for /etc/machine-id so that the kubelet\nboostraped by podman can access the correct instance ID. Without\nthis, autoscaler will fail to delete empty node. This issue is\nreported on autoscaler repo[1].\n\n[1] https://github.com/kubernetes/autoscaler/issues/2819\n\nTask: 38743\nStory: 2007286\n\nChange-Id: I2852f4b255e782bb65b13571502194ee9f455ae3\n'}]",0,707336,eb2b688f3ea8cdff5a7131efada156991f6bb6cb,13,5,1,6484,,,0,"[k8s] Fix instance ID issue with podman and autoscaler

Adding the volume mount for /etc/machine-id so that the kubelet
boostraped by podman can access the correct instance ID. Without
this, autoscaler will fail to delete empty node. This issue is
reported on autoscaler repo[1].

[1] https://github.com/kubernetes/autoscaler/issues/2819

Task: 38743
Story: 2007286

Change-Id: I2852f4b255e782bb65b13571502194ee9f455ae3
",git fetch https://review.opendev.org/openstack/magnum refs/changes/36/707336/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,eb2b688f3ea8cdff5a7131efada156991f6bb6cb,story/2007286-38743, --volume /etc/machine-id:/etc/machine-id \\,,2,0
openstack%2Fmagnum~master~Ia36a51e62b3dab97faf3ce58a218441bd93e77e9,openstack/magnum,master,Ia36a51e62b3dab97faf3ce58a218441bd93e77e9,Fix ingress traefik systemd unit,MERGED,2020-02-03 13:49:12.000000000,2020-02-25 16:23:39.000000000,2020-02-21 18:50:37.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2020-02-03 13:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/791bc441c861b1a8f4266b2bf7f4fa8208f7473f', 'message': 'Fix ingress traefik systemd unit\n\nIn coreos we have selinux in enforcing.\nWhen the systemd unit does not have\nuser and group, and the service type is\nnot simple.\n\nstory: 2007210\ntask: 38609\n\nChange-Id: Ia36a51e62b3dab97faf3ce58a218441bd93e77e9\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2020-02-18 09:02:07.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/89e33bdd1ff1ed5426b80c2118b0930dbd782772', 'message': 'Fix ingress traefik systemd unit\n\nIn coreos we have selinux in enforcing.\nWhen the systemd unit does not have\nuser and group, and the service type is\nnot simple.\n\nstory: 2007210\ntask: 38609\n\nChange-Id: Ia36a51e62b3dab97faf3ce58a218441bd93e77e9\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,705443,89e33bdd1ff1ed5426b80c2118b0930dbd782772,14,5,2,20498,,,0,"Fix ingress traefik systemd unit

In coreos we have selinux in enforcing.
When the systemd unit does not have
user and group, and the service type is
not simple.

story: 2007210
task: 38609

Change-Id: Ia36a51e62b3dab97faf3ce58a218441bd93e77e9
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/43/705443/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh'],1,791bc441c861b1a8f4266b2bf7f4fa8208f7473f,fix-traefik,User=root Group=root Type=simple Restart=on-failure,Type=oneshot Environment=HOME=/root,4,2
openstack%2Fopenstack-helm~master~I5d8a2fb815c470d6f1a37f8ad9fd4787d903f105,openstack/openstack-helm,master,I5d8a2fb815c470d6f1a37f8ad9fd4787d903f105,Imported Translations from Zanata,MERGED,2020-02-25 10:28:46.000000000,2020-02-25 16:20:55.000000000,2020-02-25 16:17:10.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 10:28:46.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-testing.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a1f8ff7531c801e8e1aee71ea36ac3103c49db41', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5d8a2fb815c470d6f1a37f8ad9fd4787d903f105\n'}]",0,709688,a1f8ff7531c801e8e1aee71ea36ac3103c49db41,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5d8a2fb815c470d6f1a37f8ad9fd4787d903f105
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/88/709688/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/en_GB/LC_MESSAGES/doc-testing.po'],1,a1f8ff7531c801e8e1aee71ea36ac3103c49db41,zanata/translations,"""POT-Creation-Date: 2020-02-24 17:44+0000\n""""PO-Revision-Date: 2020-02-24 05:03+0000\n""msgid ""3 Node (VM based) env."" msgstr ""3 Node (VM based) env."" ""A Ceph Monitor running on voyager3 (whose Monitor database is destroyed) "" ""becomes out of quorum, and the mon-pod's status stays in ``Running`` -> "" ""``Error`` -> ``CrashLoopBackOff`` while keeps restarting."" msgstr """" ""A Ceph Monitor running on voyager3 (whose Monitor database is destroyed) "" ""becomes out of quorum, and the mon-pod's status stays in ``Running`` -> "" ""``Error`` -> ``CrashLoopBackOff`` while keeps restarting."" msgid """"msgid """" ""Also, the pod status of ceph-mon and ceph-osd changes from ``NodeLost`` back "" ""to ``Running``."" msgstr """" ""Also, the pod status of ceph-mon and ceph-osd changes from ``NodeLost`` back "" ""to ``Running``."" msgid ""Case: 1 out of 3 Monitor Processes is Down"" msgstr ""Case: 1 out of 3 Monitor Processes is Down"" msgid ""Case: 2 out of 3 Monitor Processes are Down"" msgstr ""Case: 2 out of 3 Monitor Processes are Down"" msgid ""Case: 3 out of 3 Monitor Processes are Down"" msgstr ""Case: 3 out of 3 Monitor Processes are Down"" msgid ""Case: A OSD pod is deleted"" msgstr ""Case: A OSD pod is deleted"" msgid ""Case: Monitor database is destroyed"" msgstr ""Case: Monitor database is destroyed"" msgid ""Case: OSD processes are killed"" msgstr ""Case: OSD processes are killed"" msgid ""Ceph Resiliency"" msgstr ""Ceph Resiliency"" msgid ""Ceph Upgrade"" msgstr ""Ceph Upgrade"" msgid ""Followed OSH multinode guide steps upto Ceph install"" msgstr ""Followed OSH multinode guide steps up to Ceph install"" ""In the mean time, we monitor the status of Ceph and noted that it takes "" ""about 30 seconds for the 6 OSDs to recover from ``down`` to ``up``. The "" ""reason is that Kubernetes automatically restarts OSD pods whenever they are "" ""killed."" msgstr """" ""In the mean time, we monitor the status of Ceph and noted that it takes "" ""about 30 seconds for the 6 OSDs to recover from ``down`` to ``up``. The "" ""reason is that Kubernetes automatically restarts OSD pods whenever they are "" ""killed."" msgid """" ""In the mean time, we monitored the status of Ceph and noted that it takes "" ""about 24 seconds for the killed Monitor process to recover from ``down`` to "" ""``up``. The reason is that Kubernetes automatically restarts pods whenever "" ""they are killed."" msgstr """" ""In the mean time, we monitored the status of Ceph and noted that it takes "" ""about 24 seconds for the killed Monitor process to recover from ``down`` to "" ""``up``. The reason is that Kubernetes automatically restarts pods whenever "" ""they are killed."" msgid """"msgid ""Install Ceph charts (12.2.4) by updating Docker images in overrides."" msgstr ""Install Ceph charts (12.2.4) by updating Docker images in overrides."" msgid """" ""It takes longer (about 1 minute) for the killed Monitor processes to recover "" ""from ``down`` to ``up``."" msgstr """" ""It takes longer (about 1 minute) for the killed Monitor processes to recover "" ""from ``down`` to ``up``."" msgid ""Kubernetes version: 1.9.3"" msgstr ""Kubernetes version: 1.9.3"" msgid ""Monitor Failure"" msgstr ""Monitor Failure"" msgid ""OSD Failure"" msgstr ""OSD Failure"" msgid ""OpenStack-Helm commit: 28734352741bae228a4ea4f40bcacc33764221eb"" msgstr ""OpenStack-Helm commit: 28734352741bae228a4ea4f40bcacc33764221eb"" msgid ""Plan:"" msgstr ""Plan:"" ""Remove the entire ceph-mon directory on voyager3, and then Ceph will "" ""automatically recreate the database by using the other ceph-mons' database."" msgstr """" ""Remove the entire ceph-mon directory on voyager3, and then Ceph will "" ""automatically recreate the database by using the other ceph-mons' database."" msgid """"msgid ""Test Scenario:"" msgstr ""Test Scenario:"" ""The logs of the failed mon-pod shows the ceph-mon process cannot run as ``/"" ""var/lib/ceph/mon/ceph-voyager3/store.db`` does not exist."" msgstr """" ""The logs of the failed mon-pod shows the ceph-mon process cannot run as ``/"" ""var/lib/ceph/mon/ceph-voyager3/store.db`` does not exist."" msgid """"""The status of the pods (where the three Monitor processes are killed) "" ""changed as follows: ``Running`` -> ``Error`` -> ``CrashLoopBackOff`` -> "" ""``Running`` and this recovery process takes about 1 minute."" msgstr """" ""The status of the pods (where the three Monitor processes are killed) "" ""changed as follows: ``Running`` -> ``Error`` -> ``CrashLoopBackOff`` -> "" ""``Running`` and this recovery process takes about 1 minute."" msgid """" ""The status of the pods (where the two Monitor processes are killed) changed "" ""as follows: ``Running`` -> ``Error`` -> ``CrashLoopBackOff`` -> ``Running`` "" ""and this recovery process takes about 1 minute."" msgstr """" ""The status of the pods (where the two Monitor processes are killed) changed "" ""as follows: ``Running`` -> ``Error`` -> ``CrashLoopBackOff`` -> ``Running`` "" ""and this recovery process takes about 1 minute."" msgid """"""This guide documents steps showing Ceph version upgrade. The main goal of "" ""this document is to demostrate Ceph chart update without downtime for OSH "" ""components."" msgstr """" ""This guide documents steps showing Ceph version upgrade. The main goal of "" ""this document is to demonstrate Ceph chart update without downtime for OSH "" ""components."" msgid """"msgid ""This is to test a scenario when 1 out of 3 Monitor processes is down."" msgstr ""This is to test a scenario when 1 out of 3 Monitor processes is down."" msgid """" ""This is to test a scenario when 2 out of 3 Monitor processes are down. To "" ""bring down 2 Monitor processes (out of 3), we identify two Monitor processes "" ""and kill them from the 2 monitor hosts (not a pod)."" msgstr """" ""This is to test a scenario when 2 out of 3 Monitor processes are down. To "" ""bring down 2 Monitor processes (out of 3), we identify two Monitor processes "" ""and kill them from the 2 monitor hosts (not a pod)."" msgid """" ""This is to test a scenario when 3 out of 3 Monitor processes are down. To "" ""bring down 3 Monitor processes (out of 3), we identify all 3 Monitor "" ""processes and kill them from the 3 monitor hosts (not pods)."" msgstr """" ""This is to test a scenario when 3 out of 3 Monitor processes are down. To "" ""bring down 3 Monitor processes (out of 3), we identify all 3 Monitor "" ""processes and kill them from the 3 monitor hosts (not pods)."" msgid """" ""This is to test a scenario when an OSD pod is deleted by ``kubectl delete "" ""$OSD_POD_NAME``. Meanwhile, we monitor the status of Ceph and note that it "" ""takes about 90 seconds for the OSD running in deleted pod to recover from "" ""``down`` to ``up``."" msgstr """" ""This is to test a scenario when an OSD pod is deleted by ``kubectl delete "" ""$OSD_POD_NAME``. Meanwhile, we monitor the status of Ceph and note that it "" ""takes about 90 seconds for the OSD running in deleted pod to recover from "" ""``down`` to ``up``."" msgid ""This is to test a scenario when some of the OSDs are down."" msgstr ""This is to test a scenario when some of the OSDs are down."" msgid """" ""To bring down 1 Monitor process (out of 3), we identify a Monitor process "" ""and kill it from the monitor host (not a pod)."" msgstr """" ""To bring down 1 Monitor process (out of 3), we identify a Monitor process "" ""and kill it from the monitor host (not a pod)."" msgid """" ""To bring down 6 OSDs (out of 24), we identify the OSD processes and kill "" ""them from a storage host (not a pod)."" msgstr """" ""To bring down 6 OSDs (out of 24), we identify the OSD processes and kill "" ""them from a storage host (not a pod)."" ""Upgrade Ceph component version from ``12.2.4`` to ``12.2.5`` without "" ""downtime to OSH components."" msgstr """" ""Upgrade Ceph component version from ``12.2.4`` to ``12.2.5`` without "" ""downtime to OSH components."" msgid """"msgid """" ""We also monitored the pod status through ``kubectl get pods -n ceph`` during "" ""this process. The deleted OSD pod status changed as follows: ``Terminating`` "" ""-> ``Init:1/3`` -> ``Init:2/3`` -> ``Init:3/3`` -> ``Running``, and this "" ""process takes about 90 seconds. The reason is that Kubernetes automatically "" ""restarts OSD pods whenever they are deleted."" msgstr """" ""We also monitored the pod status through ``kubectl get pods -n ceph`` during "" ""this process. The deleted OSD pod status changed as follows: ``Terminating`` "" ""-> ``Init:1/3`` -> ``Init:2/3`` -> ``Init:3/3`` -> ``Running``, and this "" ""process takes about 90 seconds. The reason is that Kubernetes automatically "" ""restarts OSD pods whenever they are deleted."" msgid """" ""We also monitored the status of the Monitor pod through ``kubectl get pods -"" ""n ceph``, and the status of the pod (where a Monitor process is killed) "" ""changed as follows: ``Running`` -> ``Error`` -> ``Running`` and this "" ""recovery process takes about 24 seconds."" msgstr """" ""We also monitored the status of the Monitor pod through ``kubectl get pods -"" ""n ceph``, and the status of the pod (where a Monitor process is killed) "" ""changed as follows: ``Running`` -> ``Error`` -> ``Running`` and this "" ""recovery process takes about 24 seconds."" msgid """" ""We have 3 Monitors in this Ceph cluster, one on each of the 3 Monitor hosts."" msgstr """" ""We have 3 Monitors in this Ceph cluster, one on each of the 3 Monitor hosts."" msgid """" ""We intentionlly destroy a Monitor database by removing ``/var/lib/openstack-"" ""helm/ceph/mon/mon/ceph-voyager3/store.db``."" msgstr """" ""We intentionally destroy a Monitor database by removing ``/var/lib/openstack-"" ""helm/ceph/mon/mon/ceph-voyager3/store.db``."" msgid """" ""We monitored the status of Ceph Monitor pods and noted that the symptoms are "" ""similar to when 1 or 2 Monitor processes are killed:"" msgstr """" ""We monitored the status of Ceph Monitor pods and noted that the symptoms are "" ""similar to when 1 or 2 Monitor processes are killed:"" msgid """" ""We monitored the status of Ceph when the Monitor processes are killed and "" ""noted that the symptoms are similar to when 1 Monitor process is killed:"" msgstr """" ""We monitored the status of Ceph when the Monitor processes are killed and "" ""noted that the symptoms are similar to when 1 Monitor process is killed:"" ","""POT-Creation-Date: 2020-02-04 17:43+0000\n""""PO-Revision-Date: 2020-02-07 09:39+0000\n""",245,2
openstack%2Frpm-packaging~master~If649e5c6df12c3e6184442960e860a5b5bedb3f9,openstack/rpm-packaging,master,If649e5c6df12c3e6184442960e860a5b5bedb3f9,reno: update to 3.0.0,MERGED,2020-02-22 18:51:58.000000000,2020-02-25 16:08:42.000000000,2020-02-25 16:08:42.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-22 18:51:58.000000000', 'files': ['openstack/reno/reno.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5f9a5f0707304567ecf79a26c395b2472d88e791', 'message': 'reno: update to 3.0.0\n\nChange-Id: If649e5c6df12c3e6184442960e860a5b5bedb3f9\n'}]",0,709313,5f9a5f0707304567ecf79a26c395b2472d88e791,11,6,1,6593,,,0,"reno: update to 3.0.0

Change-Id: If649e5c6df12c3e6184442960e860a5b5bedb3f9
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/13/709313/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/reno/reno.spec.j2'],1,5f9a5f0707304567ecf79a26c395b2472d88e791,,{% set upstream_version = upstream_version('3.0.0') %},{% set upstream_version = upstream_version('2.11.3') %},1,1
openstack%2Frpm-packaging~master~I23c80a8e57a6a38b6794cb2dbcdfcc4f4041c6df,openstack/rpm-packaging,master,I23c80a8e57a6a38b6794cb2dbcdfcc4f4041c6df,os-vif: update to 2.0.0,MERGED,2020-02-22 18:45:40.000000000,2020-02-25 16:07:49.000000000,2020-02-25 16:07:49.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-22 18:45:40.000000000', 'files': ['openstack/os-vif/os-vif.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/55b939f3864ae300fa30a1881ca4339b1e8b54b6', 'message': 'os-vif: update to 2.0.0\n\nChange-Id: I23c80a8e57a6a38b6794cb2dbcdfcc4f4041c6df\n'}]",0,709310,55b939f3864ae300fa30a1881ca4339b1e8b54b6,11,6,1,6593,,,0,"os-vif: update to 2.0.0

Change-Id: I23c80a8e57a6a38b6794cb2dbcdfcc4f4041c6df
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/10/709310/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-vif/os-vif.spec.j2'],1,55b939f3864ae300fa30a1881ca4339b1e8b54b6,,{% set upstream_version = upstream_version('2.0.0') %},{% set upstream_version = upstream_version('1.17.0') %},1,1
openstack%2Frpm-packaging~master~I994f9eb6cc05742e28bc813a8bc6955d04dc0464,openstack/rpm-packaging,master,I994f9eb6cc05742e28bc813a8bc6955d04dc0464,os-ken: Update to 1.0.0,MERGED,2020-02-22 18:43:54.000000000,2020-02-25 16:07:19.000000000,2020-02-25 16:07:19.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-22 18:43:54.000000000', 'files': ['openstack/os-ken/os-ken.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7f435290f0f2497c688f81501e5dfbe326ec9b38', 'message': 'os-ken: Update to 1.0.0\n\nNow that we removed python 2.x support we can update to the latest\nrelease.\n\nChange-Id: I994f9eb6cc05742e28bc813a8bc6955d04dc0464\n'}]",0,709309,7f435290f0f2497c688f81501e5dfbe326ec9b38,11,6,1,6593,,,0,"os-ken: Update to 1.0.0

Now that we removed python 2.x support we can update to the latest
release.

Change-Id: I994f9eb6cc05742e28bc813a8bc6955d04dc0464
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/09/709309/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-ken/os-ken.spec.j2'],1,7f435290f0f2497c688f81501e5dfbe326ec9b38,,{% set upstream_version = upstream_version('1.0.0') %},{% set upstream_version = upstream_version('0.4.1') %},1,1
openstack%2Fpuppet-keystone~master~I32b563477ab7bc14a921464b90dc330144e89cfe,openstack/puppet-keystone,master,I32b563477ab7bc14a921464b90dc330144e89cfe,[WIP] Support multi-valued config options,ABANDONED,2019-09-10 17:12:08.000000000,2020-02-25 16:00:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-10 17:12:08.000000000', 'files': ['lib/puppet/provider/keystone_config/openstack.rb', 'lib/puppet_x/keystone_config/ini_setting.rb', 'lib/puppet/provider/keystone_domain_config/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/efc7ba7a17068c0e8de6f92bb0e690c9370c7d16', 'message': '[WIP] Support multi-valued config options\n\nSteal code from puppet-nova [1] to support multi-value configuration\noptions.  This is required in order to properly use trusted_dashboard\nand trusted_user [2].\n\n[1]: https://github.com/openstack/puppet-nova/blob/a27c62c/lib/puppet/type/libvirtd_config.rb#L10\n[2]: https://docs.openstack.org/keystone/pike/advanced-topics/federation/websso.html\n\nChange-Id: I32b563477ab7bc14a921464b90dc330144e89cfe\nCloses-bug: #1843448\n'}]",0,681313,efc7ba7a17068c0e8de6f92bb0e690c9370c7d16,4,2,1,8745,,,0,"[WIP] Support multi-valued config options

Steal code from puppet-nova [1] to support multi-value configuration
options.  This is required in order to properly use trusted_dashboard
and trusted_user [2].

[1]: https://github.com/openstack/puppet-nova/blob/a27c62c/lib/puppet/type/libvirtd_config.rb#L10
[2]: https://docs.openstack.org/keystone/pike/advanced-topics/federation/websso.html

Change-Id: I32b563477ab7bc14a921464b90dc330144e89cfe
Closes-bug: #1843448
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/13/681313/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/keystone_config/openstack.rb', 'lib/puppet_x/keystone_config/ini_setting.rb', 'lib/puppet/provider/keystone_domain_config/openstack.rb']",3,efc7ba7a17068c0e8de6f92bb0e690c9370c7d16,bug/1843448, return @base_dir[0] if @base_dir .find('Keystone_config/identity/domain_config_dir')[:value][0], return @base_dir if @base_dir .find('Keystone_config/identity/domain_config_dir')[:value],13,5
openstack%2Fopenstack-helm-infra~master~I9e629bcd41d0c3445b987a2bb8b40be0b6b917df,openstack/openstack-helm-infra,master,I9e629bcd41d0c3445b987a2bb8b40be0b6b917df,[K8s] Upgrade to kubernetes 1.17.2,ABANDONED,2020-02-10 15:20:24.000000000,2020-02-25 15:45:39.000000000,,"[{'_account_id': 17591}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28849}]","[{'number': 1, 'created': '2020-02-10 15:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/102028a651e7005099ff3af1c6bf9cb5bdd8ce69', 'message': '[DNM] Upgrade kubernetes 1.17.2\n\nTesting k8s 1.17.2 in the gate\n\nChange-Id: I9e629bcd41d0c3445b987a2bb8b40be0b6b917df\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-02-10 17:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0d4f3060019772c960fb3cc5ff7130a6709213b', 'message': '[K8s] Upgrade to kubernetes 1.17.2\n\nThis patch set upgrades the kubernetes version to 1.17.2\n\nChange-Id: I9e629bcd41d0c3445b987a2bb8b40be0b6b917df\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-02-12 14:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/df47da33555fe1de6c4e67f0f492393804ae9a58', 'message': '[K8s] Upgrade to kubernetes 1.17.2\n\nThis patch set upgrades the kubernetes version to 1.17.2\n\nChange-Id: I9e629bcd41d0c3445b987a2bb8b40be0b6b917df\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2020-02-16 20:29:39.000000000', 'files': ['tools/deployment/common/005-deploy-k8s.sh', 'tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml', 'tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e78666b3e0534786561b593732d647449a13049e', 'message': '[K8s] Upgrade to kubernetes 1.17.2\n\nThis patch set upgrades the kubernetes version to 1.17.2\n\nChange-Id: I9e629bcd41d0c3445b987a2bb8b40be0b6b917df\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,706879,e78666b3e0534786561b593732d647449a13049e,15,5,4,20466,,,0,"[K8s] Upgrade to kubernetes 1.17.2

This patch set upgrades the kubernetes version to 1.17.2

Change-Id: I9e629bcd41d0c3445b987a2bb8b40be0b6b917df
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/79/706879/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/005-deploy-k8s.sh', 'tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml', 'tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml']",4,102028a651e7005099ff3af1c6bf9cb5bdd8ce69,k8s/1.17, kubernetes: v1.17.2, kubernetes: v1.16.2,4,4
openstack%2Frpm-packaging~master~Idb7c54a586c886bfab9dadf0e4e208b432eebf00,openstack/rpm-packaging,master,Idb7c54a586c886bfab9dadf0e4e208b432eebf00,"Convert remaining XStatic packages to py3, remove angular-ui-router",MERGED,2020-01-09 14:52:04.000000000,2020-02-25 15:45:16.000000000,2020-01-21 12:27:54.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-09 14:52:04.000000000', 'files': ['openstack/XStatic-QUnit/XStatic-QUnit.spec.j2', 'openstack/XStatic-Spin/XStatic-Spin.spec.j2', 'openstack/XStatic-angular-ui-router/XStatic-angular-ui-router.spec.j2', 'openstack/XStatic-bootswatch/XStatic-bootswatch.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/57ac9754df2def68665c3b36cdb9ea7c04efc059', 'message': 'Convert remaining XStatic packages to py3, remove angular-ui-router\n\nXStatic-angular-ui-router was removed (see [1]). Plus, convert the\nremaining XStatic packages to python3.\n\n[1] - https://opendev.org/openstack/xstatic-angular-ui-router/commit/217ec2eeb3e6a94665316b0cd795e71a603d2118\n\nChange-Id: Idb7c54a586c886bfab9dadf0e4e208b432eebf00\n'}]",0,701744,57ac9754df2def68665c3b36cdb9ea7c04efc059,12,6,1,13294,,,0,"Convert remaining XStatic packages to py3, remove angular-ui-router

XStatic-angular-ui-router was removed (see [1]). Plus, convert the
remaining XStatic packages to python3.

[1] - https://opendev.org/openstack/xstatic-angular-ui-router/commit/217ec2eeb3e6a94665316b0cd795e71a603d2118

Change-Id: Idb7c54a586c886bfab9dadf0e4e208b432eebf00
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/44/701744/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/XStatic-QUnit/XStatic-QUnit.spec.j2', 'openstack/XStatic-Spin/XStatic-Spin.spec.j2', 'openstack/XStatic-angular-ui-router/XStatic-angular-ui-router.spec.j2', 'openstack/XStatic-bootswatch/XStatic-bootswatch.spec.j2']",4,57ac9754df2def68665c3b36cdb9ea7c04efc059,remove-python2,Name: {{ py2name(py_versions='py3') }}BuildRequires: {{ py3('setuptools') }} Requires: {{ py3('XStatic') }}%{py3_build}%{py3_install} %files%{python3_sitelib}/xstatic %{python3_sitelib}/XStatic_bootswatch-*,"Name: {{ py2name() }}BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('XStatic') }}%python_subpackages%{python_build}%{python_install} %files %{python_files}%{python_sitelib}/xstatic %{python_sitelib}/XStatic_bootswatch-%{version}-py?.?.egg-info %{python_sitelib}/XStatic_bootswatch-%{version}-py?.?-nspkg.pth",33,76
openstack%2Fopenstack-ansible-rabbitmq_server~master~I326b872c5f538a264655b8dacd54e5938ef6e31f,openstack/openstack-ansible-rabbitmq_server,master,I326b872c5f538a264655b8dacd54e5938ef6e31f,DNM: Testing jobs,ABANDONED,2020-02-25 09:53:42.000000000,2020-02-25 15:40:55.000000000,,[{'_account_id': 6547}],"[{'number': 1, 'created': '2020-02-25 09:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/7eb338ba4a202189b06ef1d5683adb5d9b9c628d', 'message': 'DNM: Testing jobs\n\nTesting why no jobs are run on:\nhttps://review.opendev.org/#/c/709515/\n\nChange-Id: I326b872c5f538a264655b8dacd54e5938ef6e31f\n'}, {'number': 2, 'created': '2020-02-25 09:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/161f54593276cfd773950b6995bb14e4c0e3e5b1', 'message': 'DNM: Testing jobs\n\nTesting why no jobs are run on:\nhttps://review.opendev.org/#/c/709515/\n\nChange-Id: I326b872c5f538a264655b8dacd54e5938ef6e31f\n'}, {'number': 3, 'created': '2020-02-25 09:56:14.000000000', 'files': ['bindep.txt', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/2efd5447bdfc2ddf198712cf241bebfe605f2f84', 'message': 'DNM: Testing jobs\n\nTesting why no jobs are run on:\nhttps://review.opendev.org/#/c/709515/\n\nChange-Id: I326b872c5f538a264655b8dacd54e5938ef6e31f\n'}]",0,709678,2efd5447bdfc2ddf198712cf241bebfe605f2f84,5,1,3,6547,,,0,"DNM: Testing jobs

Testing why no jobs are run on:
https://review.opendev.org/#/c/709515/

Change-Id: I326b872c5f538a264655b8dacd54e5938ef6e31f
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/78/709678/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'zuul.d/project.yaml']",2,7eb338ba4a202189b06ef1d5683adb5d9b9c628d,, check: debug: true ,,4,0
openstack%2Fkeystone~master~I6f8b195411c908f7bb05e7f910566353adfe3b07,openstack/keystone,master,I6f8b195411c908f7bb05e7f910566353adfe3b07,Extend comparator support for project list by tags,ABANDONED,2017-11-28 18:34:46.000000000,2020-02-25 15:39:40.000000000,,"[{'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 7725}, {'_account_id': 8482}, {'_account_id': 11022}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 17860}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23625}, {'_account_id': 23659}]","[{'number': 1, 'created': '2017-11-28 18:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4882eca001a7e3e7af87ac974ed908a77e4b959e', 'message': ""Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07\nPartially-Implements: bp project-tags\nCo-Authored-By: Niolcas Helgeson <nh202b@att.com>\n""}, {'number': 2, 'created': '2017-12-12 02:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/de1e070ed8865391212d468a1dd8469ed3204031', 'message': ""Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07\nPartially-Implements: bp project-tags\nCo-Authored-By: Niolcas Helgeson <nh202b@att.com>\n""}, {'number': 3, 'created': '2018-03-07 23:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b96f93304d2678e7002bb026a02d96d03e327fe3', 'message': ""Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07\nPartially-Implements: bp project-tags\nCo-Authored-By: Nicolas Helgeson <nh202b@att.com>\n""}, {'number': 4, 'created': '2018-03-09 21:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b0880c86bd224f28df190e06a94cf39f4c01a3ff', 'message': ""Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07\nPartially-Implements: bp project-tags\nCo-Authored-By: Nicolas Helgeson <nh202b@att.com>\n""}, {'number': 5, 'created': '2018-03-14 20:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f2b8748d58315e8103b29327edd2f9fc5a50b641', 'message': ""Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07\nPartially-Implements: bp project-tags\nCo-Authored-By: Nicolas Helgeson <nh202b@att.com>\n""}, {'number': 6, 'created': '2018-03-16 19:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9a93d489b5938b6abe772b76e8ecf4eac4c8aa36', 'message': ""Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07\nPartially-Implements: bp project-tags\nCo-Authored-By: Nicolas Helgeson <nh202b@att.com>\n""}, {'number': 7, 'created': '2018-03-16 20:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2a2a895b8f19ade9d09ba3bedffcd12c0ebde90d', 'message': ""Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07\nPartially-Implements: bp project-tags\nCo-Authored-By: Nicolas Helgeson <nh202b@att.com>\n""}, {'number': 8, 'created': '2018-03-19 17:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/aae19f16f2702a8892aff476beaf36393523ec35', 'message': ""Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07\nPartially-Implements: bp project-tags\nCo-Authored-By: Nicolas Helgeson <nh202b@att.com>\n""}, {'number': 9, 'created': '2018-03-19 19:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/02a093601477f397b15ee11b4eeedbf421f9cd8c', 'message': ""Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07\nDepends-On: I766cc7a8a7ce2ca3c68d6b910445062675f3d7ad\nPartially-Implements: bp project-tags\nCo-Authored-By: Nicolas Helgeson <nh202b@att.com>\n""}, {'number': 10, 'created': '2018-03-19 20:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9f2e379e228b10fbf65ec641cc94cf013df46852', 'message': ""[WIP] Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07\nDepends-On: I766cc7a8a7ce2ca3c68d6b910445062675f3d7ad\nPartially-Implements: bp project-tags\nCo-Authored-By: Nicolas Helgeson <nh202b@att.com>\n""}, {'number': 11, 'created': '2018-04-02 16:54:12.000000000', 'files': ['keystone/tests/unit/test_v3_resource.py', 'keystone/resource/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c3a77ba5a4309f42539922afd978ce6fa6ec6151', 'message': ""Extend comparator support for project list by tags\n\nThis changes allows operator to use the keystoneclient to filter\nprojects with tags using comparators including 'startswith',\n'endswith', and 'contains'.\n\nChange-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07\nDepends-On: I766cc7a8a7ce2ca3c68d6b910445062675f3d7ad\nPartially-Implements: bp project-tags\nCo-Authored-By: Jaewoo Park <jp655p@att.com>\n""}]",7,523499,c3a77ba5a4309f42539922afd978ce6fa6ec6151,34,15,11,23659,,,0,"Extend comparator support for project list by tags

This changes allows operator to use the keystoneclient to filter
projects with tags using comparators including 'startswith',
'endswith', and 'contains'.

Change-Id: I6f8b195411c908f7bb05e7f910566353adfe3b07
Depends-On: I766cc7a8a7ce2ca3c68d6b910445062675f3d7ad
Partially-Implements: bp project-tags
Co-Authored-By: Jaewoo Park <jp655p@att.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/99/523499/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3_resource.py', 'keystone/resource/backends/sql.py', 'keystone/common/sql/core.py', 'keystone/resource/core.py', 'keystone/resource/controllers.py']",5,4882eca001a7e3e7af87ac974ed908a77e4b959e,bp/project-tags," tag_params = ('tags', 'tags-any', 'not-tags', 'not-tags-any') filters = filters + tag_params"," # If any tags filters are passed in when listing projects, add them # to the hint filters tag_params = ['tags', 'tags-any', 'not-tags', 'not-tags-any'] for t in tag_params: if t in request.params: hints.add_filter(t, request.params[t])",248,46
openstack%2Frpm-packaging~master~Iad33dbd0e4b58b59788cf6f693e81e9b702cce21,openstack/rpm-packaging,master,Iad33dbd0e4b58b59788cf6f693e81e9b702cce21,monasca-statsd: update to 2.0.0,MERGED,2020-02-22 18:55:20.000000000,2020-02-25 15:39:21.000000000,2020-02-25 15:39:20.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-22 18:55:20.000000000', 'files': ['openstack/monasca-statsd/monasca-statsd.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4ae540bdab5b0ac2ca4fab773b0bfcb3700c0f65', 'message': 'monasca-statsd: update to 2.0.0\n\nChange-Id: Iad33dbd0e4b58b59788cf6f693e81e9b702cce21\n'}]",0,709317,4ae540bdab5b0ac2ca4fab773b0bfcb3700c0f65,10,6,1,6593,,,0,"monasca-statsd: update to 2.0.0

Change-Id: Iad33dbd0e4b58b59788cf6f693e81e9b702cce21
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/17/709317/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-statsd/monasca-statsd.spec.j2'],1,4ae540bdab5b0ac2ca4fab773b0bfcb3700c0f65,,{% set upstream_version = upstream_version('2.0.0') %},{% set upstream_version = upstream_version('1.12.0') %},1,1
openstack%2Frpm-packaging~master~I1a155b2949f16613a2b2f356e187740fe0d75d58,openstack/rpm-packaging,master,I1a155b2949f16613a2b2f356e187740fe0d75d58,os-api-ref: update to 2.0.0,MERGED,2020-02-22 18:54:28.000000000,2020-02-25 15:39:21.000000000,2020-02-25 15:39:21.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-22 18:54:28.000000000', 'files': ['openstack/os-api-ref/os-api-ref.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0ac1253169ac77970efb7c5bd3d891ead7cb3bc7', 'message': 'os-api-ref: update to 2.0.0\n\nChange-Id: I1a155b2949f16613a2b2f356e187740fe0d75d58\n'}]",0,709316,0ac1253169ac77970efb7c5bd3d891ead7cb3bc7,10,6,1,6593,,,0,"os-api-ref: update to 2.0.0

Change-Id: I1a155b2949f16613a2b2f356e187740fe0d75d58
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/16/709316/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-api-ref/os-api-ref.spec.j2'],1,0ac1253169ac77970efb7c5bd3d891ead7cb3bc7,,{% set upstream_version = upstream_version('2.0.0') %},{% set upstream_version = upstream_version('1.6.2') %},1,1
openstack%2Fcharms.ceph~master~I6eaf03e291f65125269b1836dd2636806f9945e1,openstack/charms.ceph,master,I6eaf03e291f65125269b1836dd2636806f9945e1,Rename ceph to charms_ceph,MERGED,2020-02-21 19:17:25.000000000,2020-02-25 15:37:24.000000000,2020-02-25 15:37:24.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 19:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/5c5a336fcd9d73c47cf759345fa7ce09d92097e9', 'message': 'Rename ceph to ceph-helpers\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-xyz/lib/ceph/ on imports. For example, with the current\nimport of ceph.utils in ceph-osd/hooks/ceph_hooks.py, Python finds no\nutils.py in /usr/lib/python3/dist-packages/ceph/ and then stops\nsearching. Therefore, rename ceph to ceph-helpers to avoid the\nconflict.\n\nChange-Id: I6eaf03e291f65125269b1836dd2636806f9945e1\n'}, {'number': 2, 'created': '2020-02-21 20:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/dc1fe216bc39a797259fd4fc414bb6a207fd0c36', 'message': 'Rename ceph to ceph_helpers\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-xyz/lib/ceph/ on imports. For example, with the current\nimport of ceph.utils in ceph-osd/hooks/ceph_hooks.py, Python finds no\nutils.py in /usr/lib/python3/dist-packages/ceph/ and then stops\nsearching. Therefore, rename ceph to ceph_helpers to avoid the\nconflict.\n\nChange-Id: I6eaf03e291f65125269b1836dd2636806f9945e1\n'}, {'number': 3, 'created': '2020-02-24 15:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/287ace00eebca1417af2e0aba6df3e11f54e353d', 'message': 'Rename ceph to charms_ceph\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-xyz/lib/ceph/ on imports. For example, with the current\nimport of ceph.utils in ceph-osd/hooks/ceph_hooks.py, Python finds no\nutils.py in /usr/lib/python3/dist-packages/ceph/ and then stops\nsearching. Therefore, rename ceph to charms_ceph to avoid the\nconflict.\n\nChange-Id: I6eaf03e291f65125269b1836dd2636806f9945e1\n'}, {'number': 4, 'created': '2020-02-24 15:19:52.000000000', 'files': ['charms_ceph/broker.py', 'charms_ceph/utils.py', 'unit_tests/__init__.py', 'unit_tests/test_general_utils.py', 'charms_ceph/__init__.py', 'charms_ceph/crush_utils.py', 'unit_tests/test_broker.py', 'unit_tests/test_disk_tuning.py', 'unit_tests/test_utils.py', 'unit_tests/test_mon_upgrade_roll.py', 'unit_tests/test_osd_upgrade_roll.py', 'unit_tests/test_crush_utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/c5a7e8f1c822358d2e3498f18e4745f721296ca0', 'message': 'Rename ceph to charms_ceph\n\nThe new python3-ceph-common deb package (introduced in ceph octopus)\nadds a new ceph directory (a parent package in python terms) in\n/usr/lib/python3/dist-packages/ceph/. This results in a conflict with\ncharm-ceph-xyz/lib/ceph/ on imports. For example, with the current\nimport of ceph.utils in ceph-osd/hooks/ceph_hooks.py, Python finds no\nutils.py in /usr/lib/python3/dist-packages/ceph/ and then stops\nsearching. Therefore, rename ceph to charms_ceph to avoid the\nconflict.\n\nChange-Id: I6eaf03e291f65125269b1836dd2636806f9945e1\n'}]",0,709226,c5a7e8f1c822358d2e3498f18e4745f721296ca0,13,2,4,11805,,,0,"Rename ceph to charms_ceph

The new python3-ceph-common deb package (introduced in ceph octopus)
adds a new ceph directory (a parent package in python terms) in
/usr/lib/python3/dist-packages/ceph/. This results in a conflict with
charm-ceph-xyz/lib/ceph/ on imports. For example, with the current
import of ceph.utils in ceph-osd/hooks/ceph_hooks.py, Python finds no
utils.py in /usr/lib/python3/dist-packages/ceph/ and then stops
searching. Therefore, rename ceph to charms_ceph to avoid the
conflict.

Change-Id: I6eaf03e291f65125269b1836dd2636806f9945e1
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/26/709226/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-helpers/__init__.py', 'unit_tests/__init__.py', 'unit_tests/test_general_utils.py', 'ceph-helpers/broker.py', 'unit_tests/test_broker.py', 'unit_tests/test_disk_tuning.py', 'ceph-helpers/utils.py', 'ceph-helpers/crush_utils.py', 'unit_tests/test_utils.py', 'unit_tests/test_mon_upgrade_roll.py', 'unit_tests/test_osd_upgrade_roll.py', 'unit_tests/test_crush_utils.py']",12,5c5a336fcd9d73c47cf759345fa7ce09d92097e9,lib-ceph-rename,"import ceph-helpers.crush_utils @patch.object(ceph-helpers.crush_utils.Crushmap, 'load_crushmap') crushmap = ceph-helpers.crush_utils.Crushmap() crushmap.buckets(), [ceph-helpers.crush_utils.CRUSHBucket(""test"", -1)]) @patch.object(ceph-helpers.crush_utils.Crushmap, 'load_crushmap') crushmap = ceph-helpers.crush_utils.Crushmap() [ceph-helpers.crush_utils.CRUSHBucket(""default"", -1, True)], @patch.object(ceph-helpers.crush_utils.Crushmap, 'load_crushmap') crushmap = ceph-helpers.crush_utils.Crushmap() result = ceph-helpers.crush_utils.Crushmap.bucket_string(""fast"", -21)","import ceph.crush_utils @patch.object(ceph.crush_utils.Crushmap, 'load_crushmap') crushmap = ceph.crush_utils.Crushmap() crushmap.buckets(), [ceph.crush_utils.CRUSHBucket(""test"", -1)]) @patch.object(ceph.crush_utils.Crushmap, 'load_crushmap') crushmap = ceph.crush_utils.Crushmap() [ceph.crush_utils.CRUSHBucket(""default"", -1, True)], @patch.object(ceph.crush_utils.Crushmap, 'load_crushmap') crushmap = ceph.crush_utils.Crushmap() result = ceph.crush_utils.Crushmap.bucket_string(""fast"", -21)",297,297
openstack%2Ftripleo-docs~master~Ibc6b7c224d28a81da309b36711d2062944ecc65a,openstack/tripleo-docs,master,Ibc6b7c224d28a81da309b36711d2062944ecc65a,B&R-Undercloud: MySQL backup command executed in the container,MERGED,2020-02-18 16:25:22.000000000,2020-02-25 15:36:52.000000000,2020-02-25 15:34:51.000000000,"[{'_account_id': 8932}, {'_account_id': 11085}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-18 16:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/09894ad2725413611faa5454724218c75395cef3', 'message': 'WIP: backup and restore update\n\nUpdated the documentation regarding backup and restore,\nthe way how to do the back up is executing some commands\ninside the containers\n\nJust checking how the documentation is generated.\n\nChange-Id: Ibc6b7c224d28a81da309b36711d2062944ecc65a\n'}, {'number': 2, 'created': '2020-02-18 17:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/691efe4740abfff0da11aed96a1521b1a0a28de0', 'message': 'WIP: backup and restore update\n\nUpdated the documentation regarding backup and restore,\nthe way how to do the back up is executing some commands\ninside the containers\n\nJust checking how the documentation is generated.\n\nChange-Id: Ibc6b7c224d28a81da309b36711d2062944ecc65a\n'}, {'number': 3, 'created': '2020-02-19 13:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/14d50e2451deb06ef6d2e37d1c6bace811754b57', 'message': 'B&R-Undercloud: MySQL backup command executed in the container\n\nUpdated the documentation regarding backup and restore on the\nundercloud, break down the three different ways of doing the back\nup depends on the version:\n - podman\n - docker\n - Non-containerized\n\nChange-Id: Ibc6b7c224d28a81da309b36711d2062944ecc65a\n'}, {'number': 4, 'created': '2020-02-25 07:53:20.000000000', 'files': ['deploy-guide/source/post_deployment/backup_and_restore/01_undercloud_backup.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9a696b4e04654057dae4cd93a8106d4824d83a97', 'message': 'B&R-Undercloud: MySQL backup command executed in the container\n\nUpdated the documentation regarding backup and restore on the\nundercloud, break down the three different ways of doing the back\nup depends on the version:\n - podman\n - docker\n - Non-containerized\n\nChange-Id: Ibc6b7c224d28a81da309b36711d2062944ecc65a\n'}]",1,708444,9a696b4e04654057dae4cd93a8106d4824d83a97,17,5,4,22954,,,0,"B&R-Undercloud: MySQL backup command executed in the container

Updated the documentation regarding backup and restore on the
undercloud, break down the three different ways of doing the back
up depends on the version:
 - podman
 - docker
 - Non-containerized

Change-Id: Ibc6b7c224d28a81da309b36711d2062944ecc65a
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/44/708444/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/post_deployment/backup_and_restore/01_undercloud_backup.rst'],1,09894ad2725413611faa5454724218c75395cef3,,".. admonition:: Stein and Train :class: stable :: /bin/hiera -c /etc/puppet/hiera.yaml mysql::server::root_password podman exec mysql bash -c ""mysqldump -uroot -pPASSWORD --opt --all-databases"" > /root/undercloud-all-databases.sql .. admonition:: Rocky :class: stable :: /bin/hiera -c /etc/puppet/hiera.yaml mysql::server::root_password docker exec mysql bash -c ""mysqldump -uroot -pPASSWORD --opt --all-databases"" > /root/undercloud-all-databases.sql .. admonition:: Mitaca :class: stable :: mysqldump --opt --single-transaction --all-databases > /root/undercloud-all-databases.sql", mysqldump --opt --single-transaction --all-databases > /root/undercloud-all-databases.sql,20,1
openstack%2Fnetworking-bagpipe~master~I81acd61f43221dd59c9c5220b989f4a9fcf06564,openstack/networking-bagpipe,master,I81acd61f43221dd59c9c5220b989f4a9fcf06564,Fix gate failure,MERGED,2020-02-20 10:04:15.000000000,2020-02-25 15:20:58.000000000,2020-02-25 15:11:53.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 12021}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-20 10:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/cd1d5e1ff6e752ef863421b69cb374081ddd70ac', 'message': 'DNM: Check gate failure\n\nWhen creating a tox env, networking-bgpvpn train version is installed.\nIt has a dependency of horizon<17.0.0 (train) which requries Django<2.1\nand it is not compatible with u-c and horizon ussuri. It leads to a tox\ncreation failure. This commit drops networking-bgpvpn from requirements.txt\nto avoid the cause of the failure. zuul required-projects still install\nnetworking-bgpvpn, so it works at least from the gate POV.\n\nChange-Id: I81acd61f43221dd59c9c5220b989f4a9fcf06564\n'}, {'number': 2, 'created': '2020-02-20 11:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4af0329676cf753d15b80383764b850b4e5aff3f', 'message': 'DNM: Check gate failure\n\nWhen creating a tox env, networking-bgpvpn train version is installed.\nIt has a dependency of horizon<17.0.0 (train) which requries Django<2.1\nand it is not compatible with u-c and horizon ussuri. It leads to a tox\ncreation failure.\n\nChange-Id: I81acd61f43221dd59c9c5220b989f4a9fcf06564\n'}, {'number': 3, 'created': '2020-02-24 07:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/50421109db261fa07861938b3d63474563a783e1', 'message': 'DNM: Check gate failure\n\nChange-Id: I81acd61f43221dd59c9c5220b989f4a9fcf06564\n'}, {'number': 4, 'created': '2020-02-24 07:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/9ea7221d6929bb8473d9193e7837c046391a3180', 'message': 'Fix gate failure\n\nWhen creating a tox env, networking-bgpvpn train version is installed.\nIt has a dependency of horizon<17.0.0 (train) which requries Django<2.1\nand it is not compatible with u-c and horizon ussuri. It leads to a tox\ncreation failure.\n\nWe need to install ussuri version of networking-bgpvpn.\nA beta1 of networking-bgpvpn has been released, so we can use it.\n\nChange-Id: I81acd61f43221dd59c9c5220b989f4a9fcf06564\n'}, {'number': 5, 'created': '2020-02-24 20:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/add225e7ead389d07cdc41ebd777460b0beba8da', 'message': 'Fix gate failure\n\nWhen creating a tox env, networking-bgpvpn train version is installed.\nIt has a dependency of horizon<17.0.0 (train) which requries Django<2.1\nand it is not compatible with u-c and horizon ussuri. It leads to a tox\ncreation failure.\n\nWe need to install ussuri version of networking-bgpvpn.\nA beta1 of networking-bgpvpn has been released, so we can use it.\n\nChange-Id: I81acd61f43221dd59c9c5220b989f4a9fcf06564\n'}, {'number': 6, 'created': '2020-02-25 08:33:12.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/8c9f9143e158597f8765d77ba87e8bb25806b9b4', 'message': 'Fix gate failure\n\nWhen creating a tox env, networking-bgpvpn train version is installed.\nIt has a dependency of horizon<17.0.0 (train) which requires Django<2.1\nand it is not compatible with u-c and horizon ussuri. It leads to a tox\ncreation failure. We need to install ussuri version of networking-bgpvpn.\nA beta1 of networking-bgpvpn has been released, so we can use it.\n\nneutron-tempest-plugin-bgpvpn-bagpipe is non-voting temporarily\ndue to the bagpipe-bgp CLI change. It will be fixed by\nhttps://review.opendev.org/#/c/708648/ and we can make it voting again.\n\nChange-Id: I81acd61f43221dd59c9c5220b989f4a9fcf06564\n'}]",4,708829,8c9f9143e158597f8765d77ba87e8bb25806b9b4,26,6,6,841,,,0,"Fix gate failure

When creating a tox env, networking-bgpvpn train version is installed.
It has a dependency of horizon<17.0.0 (train) which requires Django<2.1
and it is not compatible with u-c and horizon ussuri. It leads to a tox
creation failure. We need to install ussuri version of networking-bgpvpn.
A beta1 of networking-bgpvpn has been released, so we can use it.

neutron-tempest-plugin-bgpvpn-bagpipe is non-voting temporarily
due to the bagpipe-bgp CLI change. It will be fixed by
https://review.opendev.org/#/c/708648/ and we can make it voting again.

Change-Id: I81acd61f43221dd59c9c5220b989f4a9fcf06564
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/29/708829/6 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,cd1d5e1ff6e752ef863421b69cb374081ddd70ac,gate-failure-test,# TODO(amotoki): Recover networking-bgpvpn once we have a beta ussuri release # networking-bgpvpn>=9.0.0 # Apache-2.0,networking-bgpvpn>=9.0.0 # Apache-2.0,2,1
openstack%2Fkolla-ansible~master~I4f91b53cbf2297d70da4b54d6c402c1427aacdd9,openstack/kolla-ansible,master,I4f91b53cbf2297d70da4b54d6c402c1427aacdd9,CI: Use upper constraints when installing clients,MERGED,2020-02-25 10:23:19.000000000,2020-02-25 15:17:32.000000000,2020-02-25 15:07:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-25 10:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f701b4a8de41c7b3ee271f17093ce112a5df5a7f', 'message': ""CI: Use upper constraints when installing clients\n\nClients are starting to release versions that don't support Python 2.\nUse upper constraints to avoid installing these new versions on stable\nbranches.\n\nChange-Id: I4f91b53cbf2297d70da4b54d6c402c1427aacdd9\n""}, {'number': 2, 'created': '2020-02-25 11:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/800c5ba4292a44c3601c835791bb8059528959a8', 'message': ""CI: Use upper constraints when installing clients\n\nClients are starting to release versions that don't support Python 2.\nThe ironic scenario is currently failing on stable branches for this\nreason.\n\nUse upper constraints to avoid installing these new versions on stable\nbranches.\n\nChange-Id: I4f91b53cbf2297d70da4b54d6c402c1427aacdd9\n""}, {'number': 3, 'created': '2020-02-25 11:21:09.000000000', 'files': ['tests/run.yml', 'zuul.d/base.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d8733b290e298be098c044fa5c92030faea7c798', 'message': ""CI: Use upper constraints when installing clients\n\nClients are starting to release versions that don't support Python 2.\nThe ironic scenario is currently failing on stable branches for this\nreason.\n\nUse upper constraints to avoid installing these new versions on stable\nbranches.\n\nChange-Id: I4f91b53cbf2297d70da4b54d6c402c1427aacdd9\n""}]",2,709686,d8733b290e298be098c044fa5c92030faea7c798,17,4,3,14826,,,0,"CI: Use upper constraints when installing clients

Clients are starting to release versions that don't support Python 2.
The ironic scenario is currently failing on stable branches for this
reason.

Use upper constraints to avoid installing these new versions on stable
branches.

Change-Id: I4f91b53cbf2297d70da4b54d6c402c1427aacdd9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/709686/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,f701b4a8de41c7b3ee271f17093ce112a5df5a7f,,"function install_openstack_clients { local upper_constraints=""https://releases.openstack.org/constraints/upper/master"" ~/openstackclient-venv/bin/pip install -c $upper_constraints ${@} } install_openstack_clients python-openstackclient python-heatclient install_openstack_clients python-zunclient install_openstack_clients python-ironicclient install_openstack_clients python-masakariclient", ~/openstackclient-venv/bin/pip install python-openstackclient ~/openstackclient-venv/bin/pip install python-heatclient ~/openstackclient-venv/bin/pip install python-zunclient ~/openstackclient-venv/bin/pip install python-ironicclient ~/openstackclient-venv/bin/pip install python-masakariclient,9,5
openstack%2Fnova~master~I7b74af42f900a9efaeade45d13a2cb3984b6e245,openstack/nova,master,I7b74af42f900a9efaeade45d13a2cb3984b6e245,"Fix Instance.obj_what_changed behavior for the ""extra"" field",NEW,2020-02-06 13:52:50.000000000,2020-02-25 15:15:04.000000000,,"[{'_account_id': 4393}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-06 13:52:50.000000000', 'files': ['a', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a4c61ca3e13f52fecbbe846e8d2ec83a33b8c540', 'message': 'Fix Instance.obj_what_changed behavior for the ""extra"" field\n\nSaving and Instance obj does not reset the dirty state of it\'s\n""extra"" fields as those fields are handled as a special case.\n\nSome of the ""extra"" fields are handled through\nself._extra_values_to_save without an explicit reset after save. Some of\nthe handled by _save_extra_generic() which also does not reset.\n\nThese fields are:\n* flavor (and the old and new variants of it)\n* pci_requests\n* and everything in _INSTANCE_EXTRA_FIELDS\n\nThis patch adds the missing obj_reset_changes() calls for the code path\nthat handles saving these extra fields.\n\nThere is one complication. The same PciDevice object is stored in two\ndifferent places in the db  and saved through two different code paths\nduring migration with SRIOV ports.\n1) Instance.migration_context.[new|old]_pci_devices\n2) ResourceTracker.pci_tracker.pci_devs\n\nOn the destination host during the move_claim the newly claimed PciDevice\nobjects gets stored in the instance.migration_context.new_pci_devices\nthen the instance is saved. After the save the fields of such pci\ndevices are marked non-dirty via the recursive obj_reset_changes() call\nintroduced by this patch. But at the end of the move_claim the pci\ntracker also saves every tracked pci device which means the same pci\ndevice is saved again but now the fields of the object is not dirty and\ntherefore this save does not persist the proper information in the other\ndb table used by the pci tracker. This causes the migration to fail.\n\nSo this patch also makes sure that when the newly claimed PciDevice object\nis set on migration_context then it is a copy of the object owned by the\npci tracker.\n\nChange-Id: I7b74af42f900a9efaeade45d13a2cb3984b6e245\n'}]",4,706267,a4c61ca3e13f52fecbbe846e8d2ec83a33b8c540,10,9,1,9708,,,0,"Fix Instance.obj_what_changed behavior for the ""extra"" field

Saving and Instance obj does not reset the dirty state of it's
""extra"" fields as those fields are handled as a special case.

Some of the ""extra"" fields are handled through
self._extra_values_to_save without an explicit reset after save. Some of
the handled by _save_extra_generic() which also does not reset.

These fields are:
* flavor (and the old and new variants of it)
* pci_requests
* and everything in _INSTANCE_EXTRA_FIELDS

This patch adds the missing obj_reset_changes() calls for the code path
that handles saving these extra fields.

There is one complication. The same PciDevice object is stored in two
different places in the db  and saved through two different code paths
during migration with SRIOV ports.
1) Instance.migration_context.[new|old]_pci_devices
2) ResourceTracker.pci_tracker.pci_devs

On the destination host during the move_claim the newly claimed PciDevice
objects gets stored in the instance.migration_context.new_pci_devices
then the instance is saved. After the save the fields of such pci
devices are marked non-dirty via the recursive obj_reset_changes() call
introduced by this patch. But at the end of the move_claim the pci
tracker also saves every tracked pci device which means the same pci
device is saved again but now the fields of the object is not dirty and
therefore this save does not persist the proper information in the other
db table used by the pci tracker. This causes the migration to fail.

So this patch also makes sure that when the newly claimed PciDevice object
is set on migration_context then it is a copy of the object owned by the
pci tracker.

Change-Id: I7b74af42f900a9efaeade45d13a2cb3984b6e245
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/706267/1 && git format-patch -1 --stdout FETCH_HEAD,"['a', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/compute/resource_tracker.py']",4,a4c61ca3e13f52fecbbe846e8d2ec83a33b8c540,conditional_pci_request_refresh_during_rollback," # NOTE(gibi): we have to clone the newly claimed PciDevice objects # as those are owned and separately persisted by the pci_tracker # but we also want to persist the data into the migration context # via the instance.save() call below. As saving is based on the # dirtyness of the object if we save the same object twice then # the second save will not persist the information new_pci_devices=claimed_pci_devices.obj_clone(),"," new_pci_devices=claimed_pci_devices,",126,6
openstack%2Fnova~master~Ice7de6d84d218997f2df96c906db3638fe2e9696,openstack/nova,master,Ice7de6d84d218997f2df96c906db3638fe2e9696,Fix obj_what_changed for InstancePCIRequests ovo,NEW,2020-02-06 13:52:50.000000000,2020-02-25 15:11:34.000000000,,"[{'_account_id': 4393}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-06 13:52:50.000000000', 'files': ['nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/objects/instance_pci_requests.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c0453d11703b126ae0c6b26ab738aa94275040d', 'message': 'Fix obj_what_changed for InstancePCIRequests ovo\n\nWhen an InstancePCIRequest ovo in an InstancePCIRequests collection has\nchanged the InstancePCIRequests collection did not report its requests\nfield as dirty. By definition the obj_what_changed() is recursive [1]\nbut the implementation only recurse into VersionedObject fields and not\ncontainer of VersionedObject fields.\n\nThis patch adds a InstnacePCIRequests specific implementation for such\nrecursion as an experiment. If this is helpful then enhancing [1] in\ngeneral should be done instead.\n\nChange-Id: Ice7de6d84d218997f2df96c906db3638fe2e9696\n'}]",2,706266,5c0453d11703b126ae0c6b26ab738aa94275040d,15,10,1,9708,,,0,"Fix obj_what_changed for InstancePCIRequests ovo

When an InstancePCIRequest ovo in an InstancePCIRequests collection has
changed the InstancePCIRequests collection did not report its requests
field as dirty. By definition the obj_what_changed() is recursive [1]
but the implementation only recurse into VersionedObject fields and not
container of VersionedObject fields.

This patch adds a InstnacePCIRequests specific implementation for such
recursion as an experiment. If this is helpful then enhancing [1] in
general should be done instead.

Change-Id: Ice7de6d84d218997f2df96c906db3638fe2e9696
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/706266/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/objects/instance_pci_requests.py']",2,5c0453d11703b126ae0c6b26ab738aa94275040d,conditional_pci_request_refresh_during_rollback, def obj_what_changed(self): changes = super().obj_what_changed() # If any of the InstancePCIRequest is changed then the requests needs # to be marked changed if 'requests' not in changes and 'requests' in self: for req in self.requests: if req.obj_what_changed(): changes.add('requests') break return changes,,27,0
openstack%2Fopenstack-ansible-os_ironic~master~I0ccd782ffd54322896559e5a6218ff532f3cae03,openstack/openstack-ansible-os_ironic,master,I0ccd782ffd54322896559e5a6218ff532f3cae03,Ironic fixes from inspector addition,MERGED,2020-02-19 16:54:06.000000000,2020-02-25 14:51:37.000000000,2020-02-25 10:48:36.000000000,"[{'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-19 16:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/95b9fd0c46e8c070cdb6f11ff9af5df1f68a705f', 'message': 'Ironic fixes from inspector addition\n\n1. There was an issue with pip packages not being installed when\ninspector_hosts is not defined.\n\n2. The db_setup task failed when inspector_hosts not defined because of\nthe condition.\n\nChange-Id: I0ccd782ffd54322896559e5a6218ff532f3cae03\n'}, {'number': 2, 'created': '2020-02-19 17:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/b2f33dbdf615ecef698bba18146be39c653fc1cf', 'message': 'Ironic fixes from inspector addition\n\n1. There was an issue with pip packages not being installed when\ninspector_hosts is not defined.\n\n2. The db_setup task failed when inspector_hosts not defined because of\nthe condition.\n\nChange-Id: I0ccd782ffd54322896559e5a6218ff532f3cae03\n'}, {'number': 3, 'created': '2020-02-19 17:32:02.000000000', 'files': ['tasks/main.yml', 'tasks/ironic_db_setup.yml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/1f434661b154ee64714ec9d9bb4cd1691329917b', 'message': 'Ironic fixes from inspector addition\n\n1. There was an issue with pip packages not being installed when\ninspector_hosts is not defined.\n\n2. The db_setup task failed when inspector_hosts not defined because of\nthe condition.\n\nChange-Id: I0ccd782ffd54322896559e5a6218ff532f3cae03\n'}]",2,708693,1f434661b154ee64714ec9d9bb4cd1691329917b,16,4,3,21314,,,0,"Ironic fixes from inspector addition

1. There was an issue with pip packages not being installed when
inspector_hosts is not defined.

2. The db_setup task failed when inspector_hosts not defined because of
the condition.

Change-Id: I0ccd782ffd54322896559e5a6218ff532f3cae03
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/93/708693/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/ironic_db_setup.yml', 'defaults/main.yml', 'vars/main.yml']",4,95b9fd0c46e8c070cdb6f11ff9af5df1f68a705f,, ironic_venv_packages: |- {%- set pkg_list = ironic_pip_packages %} {%- if (ironic_oslomsg_amqp1_enabled | bool) %} {%- set _ = pkg_list.extend(ironic_optional_oslomsg_amqp1_pip_packages) %} {%- endif %} {%- if (ironic_services['ironic-inspector']['group'] in group_names) %} {%- set _ = pkg_list.extend(ironic_inspector_pip_packages) %} {%- endif %} {{- pkg_list | unique }},,16,4
openstack%2Fopenstack-ansible-os_horizon~master~Iea44f40973a8f4def85ff5f567b5697e3f68f4c0,openstack/openstack-ansible-os_horizon,master,Iea44f40973a8f4def85ff5f567b5697e3f68f4c0,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:10:31.000000000,2020-02-25 14:48:02.000000000,2020-02-25 14:46:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:10:31.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/f1926548c02c54b3219a2fbfdeb37ee0a9855bd8', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iea44f40973a8f4def85ff5f567b5697e3f68f4c0\n'}]",0,709490,f1926548c02c54b3219a2fbfdeb37ee0a9855bd8,10,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iea44f40973a8f4def85ff5f567b5697e3f68f4c0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/90/709490/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,f1926548c02c54b3219a2fbfdeb37ee0a9855bd8,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Ftripleo-puppet-elements~master~I01198752fc9d0bb532ca1898ab63bc628706a33e,openstack/tripleo-puppet-elements,master,I01198752fc9d0bb532ca1898ab63bc628706a33e,Disable yum-plugin-priorities elements for CentOS8,MERGED,2020-02-21 10:06:51.000000000,2020-02-25 14:42:36.000000000,2020-02-25 11:06:40.000000000,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 10:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/6bfa52d92b8cf9cc870e2b5d39e945bee59ac66d', 'message': 'Disable yum-plugin-priorities elements for CentOS8\n\nSince yum-plugin-priorities packages is a part of dnf so no\nneed to install otherwise DNF was complain saying no package found.\n\nIt also maps the same element for CentOS 8.\n\nChange-Id: I01198752fc9d0bb532ca1898ab63bc628706a33e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-02-21 12:01:07.000000000', 'files': ['elements/overcloud-agent/pkg-map', 'elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/2ea13b72ce87936756dcbbd38b8933b95fedeafb', 'message': 'Disable yum-plugin-priorities elements for CentOS8\n\nSince yum-plugin-priorities packages is a part of dnf so no\nneed to install otherwise DNF was complain saying no package found.\n\nIt also maps the same element for CentOS 8.\n\nChange-Id: I01198752fc9d0bb532ca1898ab63bc628706a33e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,709085,2ea13b72ce87936756dcbbd38b8933b95fedeafb,21,7,2,12393,,,0,"Disable yum-plugin-priorities elements for CentOS8

Since yum-plugin-priorities packages is a part of dnf so no
need to install otherwise DNF was complain saying no package found.

It also maps the same element for CentOS 8.

Change-Id: I01198752fc9d0bb532ca1898ab63bc628706a33e
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/85/709085/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/pkg-map'],1,6bfa52d92b8cf9cc870e2b5d39e945bee59ac66d,c8imagebuild," }, ""centos"": { ""8"": { ""yum_plugin_priorities_package"": """", ""docker"": ""podman-docker"", ""python_ipaddr"": """", ""python_docker_py"": """" }",,8,0
openstack%2Ftripleo-image-elements~master~I380e98ca6580e00054ae54e89efd3f2208ba63ef,openstack/tripleo-image-elements,master,I380e98ca6580e00054ae54e89efd3f2208ba63ef,Disable yum-plugin-priorities elements for CentOS8,MERGED,2020-02-21 09:59:52.000000000,2020-02-25 14:42:12.000000000,2020-02-25 11:12:35.000000000,"[{'_account_id': 3153}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 09:59:52.000000000', 'files': ['elements/delorean-repo/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/da5e58343092acafdbe3b0439157dcc0ef9de111', 'message': 'Disable yum-plugin-priorities elements for CentOS8\n\nSince yum-plugin-priorities packages is a part of dnf so no\nneed to install otherwise DNF was complain saying no package found.\n\nChange-Id: I380e98ca6580e00054ae54e89efd3f2208ba63ef\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,709082,da5e58343092acafdbe3b0439157dcc0ef9de111,18,6,1,12393,,,0,"Disable yum-plugin-priorities elements for CentOS8

Since yum-plugin-priorities packages is a part of dnf so no
need to install otherwise DNF was complain saying no package found.

Change-Id: I380e98ca6580e00054ae54e89efd3f2208ba63ef
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/82/709082/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/delorean-repo/pkg-map'],1,da5e58343092acafdbe3b0439157dcc0ef9de111,c8imagebuild," ""release"": { ""centos"": { ""8"": { ""yum_plugin_priorities_package"": """" } } },",,7,0
openstack%2Fmistral~master~I93c1e9ed166847aea07531f98a9924a728efbab3,openstack/mistral,master,I93c1e9ed166847aea07531f98a9924a728efbab3,Extend task and workflow notification data,MERGED,2020-02-06 11:12:13.000000000,2020-02-25 14:41:36.000000000,2020-02-25 14:39:54.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-02-06 11:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7edcd712ed713b9d4d3a452f4d549726880652d1', 'message': 'Extend task and workflow notification data\n\nChange-Id: I93c1e9ed166847aea07531f98a9924a728efbab3\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 2, 'created': '2020-02-06 12:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b3f7bbe432fc08a49c1fce12368cffa03d3ad2f6', 'message': 'Extend task and workflow notification data\n\nChange-Id: I93c1e9ed166847aea07531f98a9924a728efbab3\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 3, 'created': '2020-02-20 10:55:46.000000000', 'files': ['mistral/engine/tasks.py', 'mistral/engine/workflows.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/95d9f899dbb971fbbf766023c24a1a538ee65d0e', 'message': 'Extend task and workflow notification data\n\nChange-Id: I93c1e9ed166847aea07531f98a9924a728efbab3\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}]",1,706234,95d9f899dbb971fbbf766023c24a1a538ee65d0e,27,5,3,29124,,,0,"Extend task and workflow notification data

Change-Id: I93c1e9ed166847aea07531f98a9924a728efbab3
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/34/706234/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/tasks.py', 'mistral/engine/workflows.py']",2,7edcd712ed713b9d4d3a452f4d549726880652d1,extend_notification_objects," ""task_execution_id"": self.wf_ex.task_execution_id, ""params"": self.wf_ex.params, ""created_at"": utils.datetime_to_str(self.wf_ex.created_at), ""updated_at"": utils.datetime_to_str(self.wf_ex.updated_at)"," ""task_execution_id"": self.wf_ex.task_execution_id",9,2
openstack%2Frally~master~I68b26ccdaf916b55cb2d27523b145fcadd9a69a8,openstack/rally,master,I68b26ccdaf916b55cb2d27523b145fcadd9a69a8,[ci] Register job reports as zuul atrifacts,MERGED,2020-02-25 12:08:26.000000000,2020-02-25 14:25:00.000000000,2020-02-25 14:25:00.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 12:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d0f4afe41a0d9b51a5622e8e64f2413f26c60cec', 'message': '[ci] Register job reports as zuul atrifacts\n\n* pytest_report.html\n\nChange-Id: I68b26ccdaf916b55cb2d27523b145fcadd9a69a8\n'}, {'number': 2, 'created': '2020-02-25 12:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/80d46a3e9bce6b513e4d42d6b645a99e0594bea9', 'message': '[ci] Register job reports as zuul atrifacts\n\nCovers html reports of all rally-tox-* jobs\n\nChange-Id: I68b26ccdaf916b55cb2d27523b145fcadd9a69a8\n'}, {'number': 3, 'created': '2020-02-25 13:16:26.000000000', 'files': ['tests/ci/rally_self_job.sh', 'tests/ci/playbooks/rally-tox-base/post-run.yaml', 'tests/ci/pytest_launcher.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/89e1cb858800f530b1d51d0d54dc9664d1a1d64b', 'message': '[ci] Register job reports as zuul atrifacts\n\nCovers html reports of all rally-tox-* jobs\n\nChange-Id: I68b26ccdaf916b55cb2d27523b145fcadd9a69a8\n'}]",0,709704,89e1cb858800f530b1d51d0d54dc9664d1a1d64b,10,2,3,9545,,,0,"[ci] Register job reports as zuul atrifacts

Covers html reports of all rally-tox-* jobs

Change-Id: I68b26ccdaf916b55cb2d27523b145fcadd9a69a8
",git fetch https://review.opendev.org/openstack/rally refs/changes/04/709704/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/playbooks/rally-tox-base/post-run.yaml'],1,d0f4afe41a0d9b51a5622e8e64f2413f26c60cec,pytest-logs," - name: Return artifact to Zuul zuul_return: data: zuul: artifacts: - name: ""Unit Test Report"" url: ""pytest_results.html"" metadata: type: unit_test_report",,10,0
openstack%2Fos-brick~master~I8e2c4422f5e3951df7b31b8bc35dce00a26ec538,openstack/os-brick,master,I8e2c4422f5e3951df7b31b8bc35dce00a26ec538,zuul: fix os-brick-src-devstack-plugin-ceph py3 usage,ABANDONED,2020-02-25 14:11:15.000000000,2020-02-25 14:19:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-25 14:11:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e7e35505af13101a42239b963a26a7d5b6fc1c45', 'message': 'zuul: fix os-brick-src-devstack-plugin-ceph py3 usage\n\nChange its base job to cinder-plugin-ceph-tempest-py3.\n\nChange-Id: I8e2c4422f5e3951df7b31b8bc35dce00a26ec538\n'}]",1,709728,e7e35505af13101a42239b963a26a7d5b6fc1c45,3,1,1,10459,,,0,"zuul: fix os-brick-src-devstack-plugin-ceph py3 usage

Change its base job to cinder-plugin-ceph-tempest-py3.

Change-Id: I8e2c4422f5e3951df7b31b8bc35dce00a26ec538
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/28/709728/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e7e35505af13101a42239b963a26a7d5b6fc1c45,python3, parent: cinder-plugin-ceph-tempest-py3, parent: cinder-plugin-ceph-tempest,1,1
openstack%2Freleases~master~Ib1ac18923476f4206b2b4531139476b7b21a9d8b,openstack/releases,master,Ib1ac18923476f4206b2b4531139476b7b21a9d8b,Oslo releases for 2020-02-24,MERGED,2020-02-24 23:01:04.000000000,2020-02-25 14:11:47.000000000,2020-02-25 14:11:47.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-24 23:01:04.000000000', 'files': ['deliverables/ussuri/oslo.vmware.yaml', 'deliverables/ussuri/oslo.limit.yaml', 'deliverables/ussuri/oslo.log.yaml', 'deliverables/ussuri/oslo.concurrency.yaml', 'deliverables/ussuri/oslo.config.yaml', 'deliverables/ussuri/oslo.rootwrap.yaml', 'deliverables/ussuri/oslo.middleware.yaml', 'deliverables/ussuri/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/11c8e9e75593f858f25ea8dba80f5a5c6dd3aeae', 'message': ""Oslo releases for 2020-02-24\n\nI intentionally left castellan and oslotest out of this one because\nthey both include some changes that I want to make sure we're ready\nto release.\n\nChange-Id: Ib1ac18923476f4206b2b4531139476b7b21a9d8b\n""}]",1,709630,11c8e9e75593f858f25ea8dba80f5a5c6dd3aeae,8,3,1,6928,,,0,"Oslo releases for 2020-02-24

I intentionally left castellan and oslotest out of this one because
they both include some changes that I want to make sure we're ready
to release.

Change-Id: Ib1ac18923476f4206b2b4531139476b7b21a9d8b
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/709630/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/oslo.vmware.yaml', 'deliverables/ussuri/oslo.limit.yaml', 'deliverables/ussuri/oslo.concurrency.yaml', 'deliverables/ussuri/oslo.log.yaml', 'deliverables/ussuri/oslo.config.yaml', 'deliverables/ussuri/oslo.rootwrap.yaml', 'deliverables/ussuri/oslo.middleware.yaml', 'deliverables/ussuri/oslo.utils.yaml']",8,11c8e9e75593f858f25ea8dba80f5a5c6dd3aeae,oslo-master, - version: 4.0.1 projects: - repo: openstack/oslo.utils hash: d3d117112e26e25bf81b0be3a8df26e6cf191b0e,,32,0
openstack%2Fopenstack-ansible-rsyslog_client~master~I955f0392e0b23f1006a4ddfc82f53cc3601bca6f,openstack/openstack-ansible-rsyslog_client,master,I955f0392e0b23f1006a4ddfc82f53cc3601bca6f,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:17:08.000000000,2020-02-25 14:08:01.000000000,2020-02-25 14:05:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:17:08.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/6ac0e126618560641e70dd0b395571b923a23d08', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I955f0392e0b23f1006a4ddfc82f53cc3601bca6f\n'}]",0,709518,6ac0e126618560641e70dd0b395571b923a23d08,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I955f0392e0b23f1006a4ddfc82f53cc3601bca6f
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/18/709518/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,6ac0e126618560641e70dd0b395571b923a23d08,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_glance~master~Idaaceb3ef8e357f212401de639d0578f82b97adf,openstack/openstack-ansible-os_glance,master,Idaaceb3ef8e357f212401de639d0578f82b97adf,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:09:51.000000000,2020-02-25 14:06:15.000000000,2020-02-25 14:04:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:09:51.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/569cd40842f9a66fbf81a43fe6c72ebe8d73798c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Idaaceb3ef8e357f212401de639d0578f82b97adf\n'}]",0,709487,569cd40842f9a66fbf81a43fe6c72ebe8d73798c,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Idaaceb3ef8e357f212401de639d0578f82b97adf
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/87/709487/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,569cd40842f9a66fbf81a43fe6c72ebe8d73798c,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_ironic~master~Iab908c5dd3fc46f8e83b52acb328116a87a5025f,openstack/openstack-ansible-os_ironic,master,Iab908c5dd3fc46f8e83b52acb328116a87a5025f,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:10:44.000000000,2020-02-25 14:02:07.000000000,2020-02-25 13:59:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:10:44.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/b7051306c6d5d310f83e33cad23d7e7c5f1b0105', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iab908c5dd3fc46f8e83b52acb328116a87a5025f\n'}]",0,709491,b7051306c6d5d310f83e33cad23d7e7c5f1b0105,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iab908c5dd3fc46f8e83b52acb328116a87a5025f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/91/709491/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,b7051306c6d5d310f83e33cad23d7e7c5f1b0105,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fkayobe~master~I9164bbacef4b6c7dfc60e91a0f040b6a525067e4,openstack/kayobe,master,I9164bbacef4b6c7dfc60e91a0f040b6a525067e4,Cleanup tox.ini deps,ABANDONED,2020-01-31 08:24:15.000000000,2020-02-25 13:57:19.000000000,,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-31 08:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/22a8307ec38d725055b9633132bd4607ad4f5948', 'message': ""Cleanup tox.ini deps\n\ndocs does not need the normal requirements file - and some environments\ndon't need docs. Remove the extra lines.\n\nUse docs deps in releasenotes build, no need to duplicate the\ndefinition.\n\nRemove venv deps, the testenv ones are fine.\n\nremove install_command, this is the default.\n\nChange-Id: I9164bbacef4b6c7dfc60e91a0f040b6a525067e4\n""}, {'number': 2, 'created': '2020-02-13 19:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e7f649e04e406244ae8456e936010a2b49089717', 'message': ""Cleanup tox.ini deps\n\ndocs does not need the normal requirements file - and some environments\ndon't need docs. Remove the extra lines.\n\nUse docs deps in releasenotes build, no need to duplicate the\ndefinition.\n\nRemove venv deps, the testenv ones are fine.\n\nremove install_command, this is the default.\n\nChange-Id: I9164bbacef4b6c7dfc60e91a0f040b6a525067e4\n""}, {'number': 3, 'created': '2020-02-18 07:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5bdb6cbf369f1ecf88f5d70cb5f7d4fb4dbf2586', 'message': ""Cleanup tox.ini deps\n\ndocs does not need the normal requirements file - and some environments\ndon't need docs. Remove the extra lines.\n\nUse docs deps in releasenotes build, no need to duplicate the\ndefinition.\n\nRemove venv deps, the testenv ones are fine.\n\nremove install_command, this is the default.\n\nChange-Id: I9164bbacef4b6c7dfc60e91a0f040b6a525067e4\n""}, {'number': 4, 'created': '2020-02-23 19:09:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e48a94d8ef59fba86a919d9fcf79597bea5e0763', 'message': ""Cleanup tox.ini deps\n\ndocs does not need the normal requirements file - and some environments\ndon't need docs. Remove the extra lines.\n\nUse docs deps in releasenotes build, no need to duplicate the\ndefinition.\n\nRemove venv deps, the testenv ones are fine.\n\nChange-Id: I9164bbacef4b6c7dfc60e91a0f040b6a525067e4\n""}]",9,705173,e48a94d8ef59fba86a919d9fcf79597bea5e0763,24,4,4,6547,,,0,"Cleanup tox.ini deps

docs does not need the normal requirements file - and some environments
don't need docs. Remove the extra lines.

Use docs deps in releasenotes build, no need to duplicate the
definition.

Remove venv deps, the testenv ones are fine.

Change-Id: I9164bbacef4b6c7dfc60e91a0f040b6a525067e4
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/73/705173/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,22a8307ec38d725055b9633132bd4607ad4f5948,fix-requirements,deps = {[testenv:docs]deps},install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -r{toxinidir}/test-requirements.txt -r{toxinidir}/doc/requirements.txt -r{toxinidir}/requirements.txtdeps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,1,10
openstack%2Fopenstack-ansible-os_tacker~master~I0aede589010c7245fcfb430656aa6be0a80ab217,openstack/openstack-ansible-os_tacker,master,I0aede589010c7245fcfb430656aa6be0a80ab217,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:14:51.000000000,2020-02-25 13:55:43.000000000,2020-02-25 13:54:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:14:51.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/b98892390d7e55b9f3c5c85f319d706d500428a2', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I0aede589010c7245fcfb430656aa6be0a80ab217\n'}]",0,709509,b98892390d7e55b9f3c5c85f319d706d500428a2,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I0aede589010c7245fcfb430656aa6be0a80ab217
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/09/709509/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,b98892390d7e55b9f3c5c85f319d706d500428a2,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_designate~master~I766270d3ef4ea0f831113097d844f1e1311daae9,openstack/openstack-ansible-os_designate,master,I766270d3ef4ea0f831113097d844f1e1311daae9,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:09:37.000000000,2020-02-25 13:52:35.000000000,2020-02-25 13:50:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:09:37.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/7de94ce3b03c6f443c023c5f18ea5f1677df8a69', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I766270d3ef4ea0f831113097d844f1e1311daae9\n'}]",0,709486,7de94ce3b03c6f443c023c5f18ea5f1677df8a69,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I766270d3ef4ea0f831113097d844f1e1311daae9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/86/709486/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,7de94ce3b03c6f443c023c5f18ea5f1677df8a69,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_heat~master~Ica544d2937bc3bc789d687ccdd74feabf0584f68,openstack/openstack-ansible-os_heat,master,Ica544d2937bc3bc789d687ccdd74feabf0584f68,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:10:17.000000000,2020-02-25 13:52:17.000000000,2020-02-25 13:49:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:10:17.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/f94783d082e40bffdb262c039eff9de7c5b12fb2', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ica544d2937bc3bc789d687ccdd74feabf0584f68\n'}]",0,709489,f94783d082e40bffdb262c039eff9de7c5b12fb2,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ica544d2937bc3bc789d687ccdd74feabf0584f68
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/89/709489/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,f94783d082e40bffdb262c039eff9de7c5b12fb2,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fansible-role-systemd_service~master~I07db7906c11931b765cfcce3eb6ff777e8e90c54,openstack/ansible-role-systemd_service,master,I07db7906c11931b765cfcce3eb6ff777e8e90c54,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:18:54.000000000,2020-02-25 13:51:11.000000000,2020-02-25 13:48:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:18:54.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/2c5637515b9d992ac4ef1c221af75d6ac1b83249', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I07db7906c11931b765cfcce3eb6ff777e8e90c54\n'}]",0,709524,2c5637515b9d992ac4ef1c221af75d6ac1b83249,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I07db7906c11931b765cfcce3eb6ff777e8e90c54
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/24/709524/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,2c5637515b9d992ac4ef1c221af75d6ac1b83249,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_keystone~master~I0c197ec41eac4605e5c87cbeed59730d766bb5da,openstack/openstack-ansible-os_keystone,master,I0c197ec41eac4605e5c87cbeed59730d766bb5da,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:11:06.000000000,2020-02-25 13:49:22.000000000,2020-02-25 13:46:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:11:06.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/249bf83c753e0726f5ba23935b15bb224acbf6a2', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I0c197ec41eac4605e5c87cbeed59730d766bb5da\n'}]",0,709493,249bf83c753e0726f5ba23935b15bb224acbf6a2,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I0c197ec41eac4605e5c87cbeed59730d766bb5da
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/93/709493/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,249bf83c753e0726f5ba23935b15bb224acbf6a2,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_nova~master~I15cef322110e6a922b26a2ee693fb4af8afe64c8,openstack/openstack-ansible-os_nova,master,I15cef322110e6a922b26a2ee693fb4af8afe64c8,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:13:11.000000000,2020-02-25 13:49:04.000000000,2020-02-25 13:46:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:13:11.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/590193cb2a7782dda6c91244f80c488084a7fe26', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I15cef322110e6a922b26a2ee693fb4af8afe64c8\n'}]",0,709501,590193cb2a7782dda6c91244f80c488084a7fe26,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I15cef322110e6a922b26a2ee693fb4af8afe64c8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/01/709501/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,590193cb2a7782dda6c91244f80c488084a7fe26,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_cinder~master~I7015c56654c122cbbaafef42d99f09d4021a6249,openstack/openstack-ansible-os_cinder,master,I7015c56654c122cbbaafef42d99f09d4021a6249,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:08:58.000000000,2020-02-25 13:48:55.000000000,2020-02-25 13:46:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:08:58.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/048dc7435e1cb974b7288cb67d78403c6744a5f5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7015c56654c122cbbaafef42d99f09d4021a6249\n'}]",0,709483,048dc7435e1cb974b7288cb67d78403c6744a5f5,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I7015c56654c122cbbaafef42d99f09d4021a6249
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/83/709483/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,048dc7435e1cb974b7288cb67d78403c6744a5f5,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_tempest~master~I94f956dea4de758f488e5922f4868d90316dc028,openstack/openstack-ansible-os_tempest,master,I94f956dea4de758f488e5922f4868d90316dc028,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:15:06.000000000,2020-02-25 13:48:37.000000000,2020-02-25 13:45:38.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:15:06.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7f131f99606c829421e3d820bf5976f5a9d934ee', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I94f956dea4de758f488e5922f4868d90316dc028\n'}]",0,709510,7f131f99606c829421e3d820bf5976f5a9d934ee,11,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I94f956dea4de758f488e5922f4868d90316dc028
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/10/709510/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,7f131f99606c829421e3d820bf5976f5a9d934ee,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-galera_server~master~I27b137dd7bb3dc8728ff0be47dcbce549a0e0be4,openstack/openstack-ansible-galera_server,master,I27b137dd7bb3dc8728ff0be47dcbce549a0e0be4,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:05:44.000000000,2020-02-25 13:47:09.000000000,2020-02-25 13:43:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:05:44.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/299fb6e106fb85a7e068be34c6b7cd1468ad63f5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I27b137dd7bb3dc8728ff0be47dcbce549a0e0be4\n'}]",0,709468,299fb6e106fb85a7e068be34c6b7cd1468ad63f5,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I27b137dd7bb3dc8728ff0be47dcbce549a0e0be4
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/68/709468/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,299fb6e106fb85a7e068be34c6b7cd1468ad63f5,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fansible-role-systemd_mount~master~Iec83f8bd3000990eade6c298d0fa16685f18e1c1,openstack/ansible-role-systemd_mount,master,Iec83f8bd3000990eade6c298d0fa16685f18e1c1,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:18:29.000000000,2020-02-25 13:46:45.000000000,2020-02-25 13:44:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:18:29.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/44403429f5f256030d64e417017b0a92fa8cd9be', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iec83f8bd3000990eade6c298d0fa16685f18e1c1\n'}]",0,709522,44403429f5f256030d64e417017b0a92fa8cd9be,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iec83f8bd3000990eade6c298d0fa16685f18e1c1
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/22/709522/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,44403429f5f256030d64e417017b0a92fa8cd9be,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-openstack_openrc~master~Iccc4b705b4a3794b6e202e78a14bb31acd9768a5,openstack/openstack-ansible-openstack_openrc,master,Iccc4b705b4a3794b6e202e78a14bb31acd9768a5,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:07:29.000000000,2020-02-25 13:43:46.000000000,2020-02-25 13:41:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:07:29.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/dadd63fe86a622b5ac9b16053d9904b420d9cab2', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iccc4b705b4a3794b6e202e78a14bb31acd9768a5\n'}]",0,709476,dadd63fe86a622b5ac9b16053d9904b420d9cab2,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iccc4b705b4a3794b6e202e78a14bb31acd9768a5
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/76/709476/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,dadd63fe86a622b5ac9b16053d9904b420d9cab2,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_barbican~master~I745bc393e985d89dbc3c760d86321c5eb9073acb,openstack/openstack-ansible-os_barbican,master,I745bc393e985d89dbc3c760d86321c5eb9073acb,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:08:18.000000000,2020-02-25 13:34:18.000000000,2020-02-25 13:32:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:08:18.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/7cf12e4132a2d8741bb0175e9c7fdcb433c70e0c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I745bc393e985d89dbc3c760d86321c5eb9073acb\n'}]",0,709480,7cf12e4132a2d8741bb0175e9c7fdcb433c70e0c,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I745bc393e985d89dbc3c760d86321c5eb9073acb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/80/709480/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,7cf12e4132a2d8741bb0175e9c7fdcb433c70e0c,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-memcached_server~master~I1bb07134f67949b6f157c9501e2413df833795fa,openstack/openstack-ansible-memcached_server,master,I1bb07134f67949b6f157c9501e2413df833795fa,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:06:37.000000000,2020-02-25 13:34:12.000000000,2020-02-25 13:32:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:06:37.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/912f5c7bdb27cf3766481f738a5e4b00c13bd5cd', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I1bb07134f67949b6f157c9501e2413df833795fa\n'}]",0,709472,912f5c7bdb27cf3766481f738a5e4b00c13bd5cd,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I1bb07134f67949b6f157c9501e2413df833795fa
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/72/709472/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,912f5c7bdb27cf3766481f738a5e4b00c13bd5cd,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Foctavia~master~Ifb6c34426e0927534d332a8bbf2c66aac6c002c5,openstack/octavia,master,Ifb6c34426e0927534d332a8bbf2c66aac6c002c5,Fix uncaught DB exception when trying to get a spare amphora,MERGED,2020-02-21 09:54:05.000000000,2020-02-25 13:20:25.000000000,2020-02-22 14:19:33.000000000,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 09:54:05.000000000', 'files': ['octavia/controller/worker/v1/tasks/database_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3bbd32a2a5588ab1502efdb6f9556c646d6e8f19', 'message': ""Fix uncaught DB exception when trying to get a spare amphora\n\nThe MapLoadbalancerToAmphora task performs some database queries but\ndoesn't catch any exception from it.\n\nIn case something goes wrong with the database or the query, this commit\ncatchs any exception from the DB call, logs it and then returns None to\nswitch to the next decider branch (boot a new amphora).\n\nStory 2007320\nTask 38831\n\nChange-Id: Ifb6c34426e0927534d332a8bbf2c66aac6c002c5\n""}]",0,709078,3bbd32a2a5588ab1502efdb6f9556c646d6e8f19,11,3,1,29244,,,0,"Fix uncaught DB exception when trying to get a spare amphora

The MapLoadbalancerToAmphora task performs some database queries but
doesn't catch any exception from it.

In case something goes wrong with the database or the query, this commit
catchs any exception from the DB call, logs it and then returns None to
switch to the next decider branch (boot a new amphora).

Story 2007320
Task 38831

Change-Id: Ifb6c34426e0927534d332a8bbf2c66aac6c002c5
",git fetch https://review.opendev.org/openstack/octavia refs/changes/78/709078/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/v1/tasks/database_tasks.py'],1,3bbd32a2a5588ab1502efdb6f9556c646d6e8f19,," try: amp = self.amphora_repo.allocate_and_associate( db_apis.get_session(), loadbalancer_id, amp_az) except Exception as e: LOG.error(""Failed to get a spare amphora (AZ: {}) for "" ""loadbalancer {} due to: {}"".format( amp_az, loadbalancer_id, e)) return None "," amp = self.amphora_repo.allocate_and_associate( db_apis.get_session(), loadbalancer_id, amp_az)",11,4
openstack%2Fkolla-ansible~master~I909ddf1f33634e4fe1fd05931eee69b12d57778a,openstack/kolla-ansible,master,I909ddf1f33634e4fe1fd05931eee69b12d57778a,Add missing release note for Glance multi store move.,MERGED,2020-02-24 19:03:01.000000000,2020-02-25 13:12:31.000000000,2020-02-25 13:10:45.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 19:03:01.000000000', 'files': ['releasenotes/notes/glance_default_store-39e6725ba8a47db7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1597d92087b0381f930fe69424e43a488a4f290e', 'message': 'Add missing release note for Glance multi store move.\n\nReno was missing in change https://review.opendev.org/#/c/708114/\n\nChange-Id: I909ddf1f33634e4fe1fd05931eee69b12d57778a\n'}]",0,709586,1597d92087b0381f930fe69424e43a488a4f290e,8,3,1,22629,,,0,"Add missing release note for Glance multi store move.

Reno was missing in change https://review.opendev.org/#/c/708114/

Change-Id: I909ddf1f33634e4fe1fd05931eee69b12d57778a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/709586/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/glance_default_store-39e6725ba8a47db7.yaml'],1,1597d92087b0381f930fe69424e43a488a4f290e,,--- upgrade: - | Glance deployment now uses Multi-Store support. Users that have ``default_stores`` in their service config overrides for ``glance-api.conf`` should remove it and use ``default_backend`` if needed. ,,6,0
openstack%2Fkolla~master~If4418ad1eb7e5b5029a226c3dd65285b23790bd1,openstack/kolla,master,If4418ad1eb7e5b5029a226c3dd65285b23790bd1,Remove start-ovsdb-server script from openvswitch-db-server,MERGED,2020-02-19 17:45:29.000000000,2020-02-25 13:12:29.000000000,2020-02-25 13:10:43.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-19 17:45:29.000000000', 'files': ['docker/openvswitch/openvswitch-db-server/start_ovsdb_server.sh', 'docker/openvswitch/openvswitch-db-server/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/42b4987cee1a4645a824435628f8c2aa08c387b2', 'message': 'Remove start-ovsdb-server script from openvswitch-db-server\n\nThis script is not used by TripleO, and Kolla Ansible replaces it with a\ntemplated script.\n\nChange-Id: If4418ad1eb7e5b5029a226c3dd65285b23790bd1\n'}]",0,708711,42b4987cee1a4645a824435628f8c2aa08c387b2,19,4,1,14826,,,0,"Remove start-ovsdb-server script from openvswitch-db-server

This script is not used by TripleO, and Kolla Ansible replaces it with a
templated script.

Change-Id: If4418ad1eb7e5b5029a226c3dd65285b23790bd1
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/708711/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openvswitch/openvswitch-db-server/start_ovsdb_server.sh', 'docker/openvswitch/openvswitch-db-server/Dockerfile.j2']",2,42b4987cee1a4645a824435628f8c2aa08c387b2,, /usr/local/bin/kolla_openvswitch_extend_start,COPY start_ovsdb_server.sh /usr/local/bin/start-ovsdb-server /usr/local/bin/kolla_openvswitch_extend_start \ /usr/local/bin/start-ovsdb-server,1,33
openstack%2Fmagnum~stable%2Ftrain~I5c6d9b8f1ad8c9c77eb758f225c32d14ce86cac5,openstack/magnum,stable/train,I5c6d9b8f1ad8c9c77eb758f225c32d14ce86cac5,Allow default-worker to have node_count=0,ABANDONED,2020-02-25 12:28:55.000000000,2020-02-25 13:07:23.000000000,,[],"[{'number': 1, 'created': '2020-02-25 12:28:55.000000000', 'files': ['magnum/api/controllers/v1/types.py', 'releasenotes/notes/default-worker-with-zero-node-count-9f8d6117d472cdeb.yaml', 'magnum/api/controllers/v1/nodegroup.py', 'magnum/api/controllers/v1/cluster_actions.py', 'magnum/api/controllers/v1/cluster.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/objects/nodegroup.py', 'magnum/tests/unit/api/controllers/v1/test_nodegroup.py', 'magnum/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/537a1b089dbf1a2b310f9d8a52b2e24d20fa4ed8', 'message': ""Allow default-worker to have node_count=0\n\nWith the arrival of nodegroups, this change allows a cluster's\ndefault-worker group to be resized to 0 so that they can be replaced\nwith new nodegroups.\n\nstory: 2007272\ntask: 38686\n\nChange-Id: I5c6d9b8f1ad8c9c77eb758f225c32d14ce86cac5\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n""}]",0,709710,537a1b089dbf1a2b310f9d8a52b2e24d20fa4ed8,2,0,1,28022,,,0,"Allow default-worker to have node_count=0

With the arrival of nodegroups, this change allows a cluster's
default-worker group to be resized to 0 so that they can be replaced
with new nodegroups.

story: 2007272
task: 38686

Change-Id: I5c6d9b8f1ad8c9c77eb758f225c32d14ce86cac5
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/10/709710/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/controllers/v1/types.py', 'releasenotes/notes/default-worker-with-zero-node-count-9f8d6117d472cdeb.yaml', 'magnum/api/controllers/v1/nodegroup.py', 'magnum/api/controllers/v1/cluster_actions.py', 'magnum/api/controllers/v1/cluster.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/objects/nodegroup.py', 'magnum/tests/unit/api/controllers/v1/test_nodegroup.py', 'magnum/tests/unit/objects/test_objects.py']",9,537a1b089dbf1a2b310f9d8a52b2e24d20fa4ed8,heads/9.2.0, 'NodeGroup': '1.1-70211d19fcf53903a470607f1f4a784f', 'NodeGroup': '1.0-8cb4544a28a49860d816158a7c3060b1',24,19
openstack%2Fansible-role-python_venv_build~master~I28866fbb4899df46867506008125e86d6c79236e,openstack/ansible-role-python_venv_build,master,I28866fbb4899df46867506008125e86d6c79236e,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:18:16.000000000,2020-02-25 12:51:08.000000000,2020-02-25 12:49:27.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:18:16.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/d2d71e7dcd15092296bf68b036a7e4c62a5e6476', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I28866fbb4899df46867506008125e86d6c79236e\n'}]",0,709521,d2d71e7dcd15092296bf68b036a7e4c62a5e6476,11,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I28866fbb4899df46867506008125e86d6c79236e
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/21/709521/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,d2d71e7dcd15092296bf68b036a7e4c62a5e6476,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fansible-role-systemd_networkd~master~Iff0273b4ff21ad8a537b3ceaf266c4a4432f20a3,openstack/ansible-role-systemd_networkd,master,Iff0273b4ff21ad8a537b3ceaf266c4a4432f20a3,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:18:41.000000000,2020-02-25 12:45:28.000000000,2020-02-25 12:43:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:18:41.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/1e0cf2ea46a8d1e4f567c46bc71db27b696051c5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iff0273b4ff21ad8a537b3ceaf266c4a4432f20a3\n'}]",0,709523,1e0cf2ea46a8d1e4f567c46bc71db27b696051c5,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iff0273b4ff21ad8a537b3ceaf266c4a4432f20a3
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/23/709523/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,1e0cf2ea46a8d1e4f567c46bc71db27b696051c5,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fnova~master~I785cd17ef081bd2ca99aa9f0e050c2f55d8dabb1,openstack/nova,master,I785cd17ef081bd2ca99aa9f0e050c2f55d8dabb1,Deprecate base rules in favor of new rules,MERGED,2020-01-08 21:25:13.000000000,2020-02-25 12:37:18.000000000,2020-02-25 03:18:08.000000000,"[{'_account_id': 782}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-08 21:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2e0d53e20a1cb46a77566cd27476d6e0712964a', 'message': 'Deprecate base rules in favor of new rules\n\nWith system scope and new defaults, new rules have been\nadded in base class. Old rules can be deprecated now which\ncan avoid deprecating the each policy rule during adopting\nthe new rules as their check_str.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I785cd17ef081bd2ca99aa9f0e050c2f55d8dabb1\n'}, {'number': 2, 'created': '2020-01-30 18:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/edf3b4fca9f50c6b33def717241e5ab29dabe72c', 'message': 'Deprecate base rules in favor of new rules\n\nWith system scope and new defaults, new rules have been\nadded in base class. Old rules can be deprecated now which\ncan avoid deprecating the each policy rule during adopting\nthe new rules as their check_str.\n\nadmin_api and admin_or_owner are asmrked as deprecated\nfor removal so that we can remove them once we finish the\npolicy migration to new rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I785cd17ef081bd2ca99aa9f0e050c2f55d8dabb1\n'}, {'number': 3, 'created': '2020-01-31 14:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd0232e2ee2a1b5f1256830f2cc02b4f544f2e55', 'message': 'Deprecate base rules in favor of new rules\n\nWith system scope and new defaults, new rules have been\nadded in base class. Old rules can be deprecated now which\ncan avoid deprecating the each policy rule during adopting\nthe new rules as their check_str.\n\nadmin_api and admin_or_owner are asmrked as deprecated\nfor removal so that we can remove them once we finish the\npolicy migration to new rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I785cd17ef081bd2ca99aa9f0e050c2f55d8dabb1\n'}, {'number': 4, 'created': '2020-02-03 18:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd18f0a14bb1f1fd953db9a9b552abf082a51251', 'message': 'Deprecate base rules in favor of new rules\n\nWith system scope and new defaults, new rules have been\nadded in base class. Old rules can be deprecated now which\ncan avoid deprecating the each policy rule during adopting\nthe new rules as their check_str.\n\nadmin_api and admin_or_owner are asmrked as deprecated\nfor removal so that we can remove them once we finish the\npolicy migration to new rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I785cd17ef081bd2ca99aa9f0e050c2f55d8dabb1\n'}, {'number': 5, 'created': '2020-02-05 22:26:05.000000000', 'files': ['nova/policies/services.py', 'nova/policies/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d1a933bfa71c049bc57fb0926ffdd8a5efcd686b', 'message': 'Deprecate base rules in favor of new rules\n\nWith system scope and new defaults, new rules have been\nadded in base class. Old rules can be deprecated now which\ncan avoid deprecating the each policy rule during adopting\nthe new rules as their check_str.\n\nadmin_api and admin_or_owner are asmrked as deprecated\nfor removal so that we can remove them once we finish the\npolicy migration to new rules.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I785cd17ef081bd2ca99aa9f0e050c2f55d8dabb1\n'}]",12,701624,d1a933bfa71c049bc57fb0926ffdd8a5efcd686b,108,15,5,8556,,,0,"Deprecate base rules in favor of new rules

With system scope and new defaults, new rules have been
added in base class. Old rules can be deprecated now which
can avoid deprecating the each policy rule during adopting
the new rules as their check_str.

admin_api and admin_or_owner are asmrked as deprecated
for removal so that we can remove them once we finish the
policy migration to new rules.

Partial implement blueprint policy-defaults-refresh

Change-Id: I785cd17ef081bd2ca99aa9f0e050c2f55d8dabb1
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/701624/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/services.py', 'nova/policies/base.py']",2,a2e0d53e20a1cb46a77566cd27476d6e0712964a,bp/policy-defaults-refresh,"DEPRECATED_ADMIN_POLICY = policy.DeprecatedRule( name=RULE_ADMIN_API, check_str='is_admin:True', ) DEPRECATED_ADMIN_OR_OWNER_POLICY = policy.DeprecatedRule( name=RULE_ADMIN_OR_OWNER, check_str='is_admin:True or project_id:%(project_id)s', ) DEPRECATED_REASON = """""" Since Ussuri release, nova API policies are introducing new default roles with scope_type capabilities. New policies are more rich in term of handling access at system and project level token with read, write roles. Start using the new policies and enable the scope checks via config option ``nova.conf [oslo_policy] enforce_scope=True`` which is False by default. Old policies are marked as deprecated and silently going to be ignored in nova 23.0.0 (OpenStack W) release """""" name=""system_admin_api"", check_str='role:admin and system_scope:all', description=""Default rule for System Admin APIs."", deprecated_rule=DEPRECATED_ADMIN_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='21.0.0'), name=""system_reader_api"", check_str=""role:reader and system_scope:all"", description=""Default rule for System level read only APIs."", deprecated_rule=DEPRECATED_ADMIN_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='21.0.0'), name=""system_admin_or_owner"", check_str=""rule:system_admin_api or rule:project_member_api"", description=""Default rule for System admin+owner APIs."", deprecated_rule=DEPRECATED_ADMIN_OR_OWNER_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='21.0.0'),"," ""system_admin_api"", 'role:admin and system_scope:all', ""Default rule for System Admin APIs.""), ""system_reader_api"", ""role:reader and system_scope:all"", ""Default rule for System level read only APIs.""), ""system_admin_or_owner"", ""rule:system_admin_api or rule:project_member_api"", ""Default rule for System admin+owner APIs.""),",45,16
openstack%2Fopenstack-ansible-os_panko~master~I5526b040b4d219249860e6423b13fab0eb9aa866,openstack/openstack-ansible-os_panko,master,I5526b040b4d219249860e6423b13fab0eb9aa866,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:13:37.000000000,2020-02-25 12:31:50.000000000,2020-02-25 12:30:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:13:37.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/063352f9008e6faf366812f5c978d1954c6cd25f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I5526b040b4d219249860e6423b13fab0eb9aa866\n'}]",0,709503,063352f9008e6faf366812f5c978d1954c6cd25f,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I5526b040b4d219249860e6423b13fab0eb9aa866
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/03/709503/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,063352f9008e6faf366812f5c978d1954c6cd25f,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fkolla-ansible~master~I577d74a5971dbdf7e4c8288d5742e8bd340680b0,openstack/kolla-ansible,master,I577d74a5971dbdf7e4c8288d5742e8bd340680b0,Remove unused python path calculation from vmtp,MERGED,2020-01-30 14:21:18.000000000,2020-02-25 12:30:21.000000000,2020-02-04 14:10:40.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-01-30 14:21:18.000000000', 'files': ['ansible/roles/vmtp/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72779d4df48ee2903d1b7bb1b83f1eedbd5a16fa', 'message': 'Remove unused python path calculation from vmtp\n\nIts use was removed in If801f54709114b931677adb605dffb75cfab25cd.\n\nChange-Id: I577d74a5971dbdf7e4c8288d5742e8bd340680b0\n'}]",0,705025,72779d4df48ee2903d1b7bb1b83f1eedbd5a16fa,10,3,1,14826,,,0,"Remove unused python path calculation from vmtp

Its use was removed in If801f54709114b931677adb605dffb75cfab25cd.

Change-Id: I577d74a5971dbdf7e4c8288d5742e8bd340680b0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/705025/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/vmtp/tasks/config.yml'],1,72779d4df48ee2903d1b7bb1b83f1eedbd5a16fa,,,- name: Register binary python path command: echo /usr/lib/python2.7/site-packages register: python_path when: vmtp_install_type == 'binary' - name: Register source python path command: echo /var/lib/kolla/venv/lib/python2.7/site-packages register: python_path when: vmtp_install_type != 'binary' ,0,10
openstack%2Fkolla-ansible~master~Ia840cd037cd2c2eded429bd0edaede4bb44caa8e,openstack/kolla-ansible,master,Ia840cd037cd2c2eded429bd0edaede4bb44caa8e,Python 3: Use distro_python_version for monasca agent CA file,MERGED,2020-01-30 14:21:18.000000000,2020-02-25 12:29:54.000000000,2020-02-04 14:07:12.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-01-30 14:21:18.000000000', 'files': ['ansible/roles/monasca/templates/monasca-agent-forwarder/agent-forwarder.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70008536a331a3ae760b40dc5b8364bd71af3d5b', 'message': 'Python 3: Use distro_python_version for monasca agent CA file\n\nChange-Id: Ia840cd037cd2c2eded429bd0edaede4bb44caa8e\nPartially-Implements: blueprint python-3\n'}]",0,705024,70008536a331a3ae760b40dc5b8364bd71af3d5b,10,3,1,14826,,,0,"Python 3: Use distro_python_version for monasca agent CA file

Change-Id: Ia840cd037cd2c2eded429bd0edaede4bb44caa8e
Partially-Implements: blueprint python-3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/705024/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/templates/monasca-agent-forwarder/agent-forwarder.yml.j2'],1,70008536a331a3ae760b40dc5b8364bd71af3d5b,, ca_file: /var/lib/kolla/venv/lib/python' ~ distro_python_version ~ '/site-packages/certifi/cacert.pem, ca_file: /var/lib/kolla/venv/lib/python2.7/site-packages/certifi/cacert.pem,1,1
openstack%2Fopenstack-ansible-repo_server~master~Icee60c9a2040a0354b5891faf713a6f3ea4b7fab,openstack/openstack-ansible-repo_server,master,Icee60c9a2040a0354b5891faf713a6f3ea4b7fab,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:16:55.000000000,2020-02-25 12:18:48.000000000,2020-02-25 12:16:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:16:55.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/d09972fc20347d9c6a5b9250d0b325b899b3d0e6', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Icee60c9a2040a0354b5891faf713a6f3ea4b7fab\n'}]",0,709517,d09972fc20347d9c6a5b9250d0b325b899b3d0e6,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Icee60c9a2040a0354b5891faf713a6f3ea4b7fab
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/17/709517/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,d09972fc20347d9c6a5b9250d0b325b899b3d0e6,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Freleases~master~I7665068dfd6729f84705f53e98d0c8994315d9c7,openstack/releases,master,I7665068dfd6729f84705f53e98d0c8994315d9c7,nova: release rocky 18.3.0,MERGED,2020-02-24 15:29:13.000000000,2020-02-25 12:06:16.000000000,2020-02-25 12:06:16.000000000,"[{'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-24 15:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/43a3e6d9aa7dd5b1ab5198b2b967bf0eb1c1cf85', 'message': 'nova: release rocky 18.2.4\n\nChange-Id: I7665068dfd6729f84705f53e98d0c8994315d9c7\n'}, {'number': 2, 'created': '2020-02-24 20:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7590b7f93e9cf21344bfb29ab8843bf01a962cea', 'message': 'nova: release rocky 18.3.0\n\nMinor version bump due to changes in command line flags in patches\nIde31957306602c1f306ebfa48d6e95f48b1e8ead / 07de847d7b and\nIcf57f217f03ac52b1443addc34aa5128661a8554 / 982c60dd02\n\n$ git log --oneline --no-merges 18.2.3..HEAD\n48a66c5644 Use stable constraint for Tempest pinned stable branches\n08f1f914cc Mask the token used to allow access to consoles\nee6af34437 Zuul v3: use devstack-plugin-nfs-tempest-full\n3f559d886b Add BFV wrinkle to TestNovaManagePlacementHealAllocations\n982c60dd02 Add --instance option to heal_allocations\n07de847d7b Add --dry-run option to heal_allocations CLI\n30a6350685 Block deleting compute services with in-progress migrations\nb6b2b3a35e Add functional recreate revert resize test for bug 1852610\n1563a15c8b Add functional recreate test for bug 1852610\n6eda7409ff Add functional recreate test for bug 1829479 and bug 1817833\nc075e3a76d Do not update root_device_name during guest config\n38b2f68a17 Improve metadata server performance with large security groups\n179b556a5b Cache security group driver\n6b03c8f589 compute: Use long_rpc_timeout in reserve_block_device_name\ne48fb84e12 Join migration_context and flavor in Migration.instance\n64f797a051 Fix false ERROR message at compute restart\nffce5be5ca Replace time.sleep(10) with service forced_down in tests\n7d14b6a517 compute: Take an instance.uuid lock when rebooting\naf668d395d Don\'t delete compute node, when deleting service other than nova-compute\n7bb5a11f70 Revert ""openstack server create"" to ""nova boot"" in nova docs\n6a6d0e9434 doc: fix and clarify --block-device usage in user docs\neab5da85ea Nova compute: add in log exception to help debug failures\na90fe19512 Avoid error 500 on shelve task_state race\na07c612ea6 libvirt: Ignore volume exceptions during post_live_migration\nc84846dbf9 Fix listing deleted servers with a marker\n08337cccb0 Add functional regression test for bug 1849409\n13bb7ed701 Error out interrupted builds\n19ca978bd4 Functional reproduce for bug 1833581\n042746e68b Prevent init_host test to interfere with other tests\nf04fc63ffc Add functional test for resize crash compute restart revert\n09de94e39b cleanup evacuated instances not on hypervisor\nff57ea7fb6 Fix unit of hw_rng:rate_period\n3903a906bf Fix exception translation when creating volume\n89d2a764d7 Stop sending bad values from libosinfo to libvirt\nc072993e09 Skip test_parallel_evacuate_with_server_group until fixed\n5a98135650 Handle get_host_availability_zone error during reschedule\n20de81c7c0 Noop CantStartEngineError in targets_cell if API DB not configured\n76b4997c42 tox: Stop build *all* docs in \'docs\'\n\nChange-Id: I7665068dfd6729f84705f53e98d0c8994315d9c7\n'}, {'number': 3, 'created': '2020-02-24 20:30:35.000000000', 'files': ['deliverables/rocky/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d1dc2c650d2cdf074567a63c0e88c452469dc797', 'message': 'nova: release rocky 18.3.0\n\nMinor version bump due to the change in API behaviour introduced by\nI70e06c607045a1c0842f13069e51fef438012a9c / 30a6350685\n\n$ git log --oneline --no-merges 18.2.3..HEAD\n48a66c5644 Use stable constraint for Tempest pinned stable branches\n08f1f914cc Mask the token used to allow access to consoles\nee6af34437 Zuul v3: use devstack-plugin-nfs-tempest-full\n3f559d886b Add BFV wrinkle to TestNovaManagePlacementHealAllocations\n982c60dd02 Add --instance option to heal_allocations\n07de847d7b Add --dry-run option to heal_allocations CLI\n30a6350685 Block deleting compute services with in-progress migrations\nb6b2b3a35e Add functional recreate revert resize test for bug 1852610\n1563a15c8b Add functional recreate test for bug 1852610\n6eda7409ff Add functional recreate test for bug 1829479 and bug 1817833\nc075e3a76d Do not update root_device_name during guest config\n38b2f68a17 Improve metadata server performance with large security groups\n179b556a5b Cache security group driver\n6b03c8f589 compute: Use long_rpc_timeout in reserve_block_device_name\ne48fb84e12 Join migration_context and flavor in Migration.instance\n64f797a051 Fix false ERROR message at compute restart\nffce5be5ca Replace time.sleep(10) with service forced_down in tests\n7d14b6a517 compute: Take an instance.uuid lock when rebooting\naf668d395d Don\'t delete compute node, when deleting service other than nova-compute\n7bb5a11f70 Revert ""openstack server create"" to ""nova boot"" in nova docs\n6a6d0e9434 doc: fix and clarify --block-device usage in user docs\neab5da85ea Nova compute: add in log exception to help debug failures\na90fe19512 Avoid error 500 on shelve task_state race\na07c612ea6 libvirt: Ignore volume exceptions during post_live_migration\nc84846dbf9 Fix listing deleted servers with a marker\n08337cccb0 Add functional regression test for bug 1849409\n13bb7ed701 Error out interrupted builds\n19ca978bd4 Functional reproduce for bug 1833581\n042746e68b Prevent init_host test to interfere with other tests\nf04fc63ffc Add functional test for resize crash compute restart revert\n09de94e39b cleanup evacuated instances not on hypervisor\nff57ea7fb6 Fix unit of hw_rng:rate_period\n3903a906bf Fix exception translation when creating volume\n89d2a764d7 Stop sending bad values from libosinfo to libvirt\nc072993e09 Skip test_parallel_evacuate_with_server_group until fixed\n5a98135650 Handle get_host_availability_zone error during reschedule\n20de81c7c0 Noop CantStartEngineError in targets_cell if API DB not configured\n76b4997c42 tox: Stop build *all* docs in \'docs\'\n\nChange-Id: I7665068dfd6729f84705f53e98d0c8994315d9c7\n'}]",3,709554,d1dc2c650d2cdf074567a63c0e88c452469dc797,27,6,3,17685,,,0,"nova: release rocky 18.3.0

Minor version bump due to the change in API behaviour introduced by
I70e06c607045a1c0842f13069e51fef438012a9c / 30a6350685

$ git log --oneline --no-merges 18.2.3..HEAD
48a66c5644 Use stable constraint for Tempest pinned stable branches
08f1f914cc Mask the token used to allow access to consoles
ee6af34437 Zuul v3: use devstack-plugin-nfs-tempest-full
3f559d886b Add BFV wrinkle to TestNovaManagePlacementHealAllocations
982c60dd02 Add --instance option to heal_allocations
07de847d7b Add --dry-run option to heal_allocations CLI
30a6350685 Block deleting compute services with in-progress migrations
b6b2b3a35e Add functional recreate revert resize test for bug 1852610
1563a15c8b Add functional recreate test for bug 1852610
6eda7409ff Add functional recreate test for bug 1829479 and bug 1817833
c075e3a76d Do not update root_device_name during guest config
38b2f68a17 Improve metadata server performance with large security groups
179b556a5b Cache security group driver
6b03c8f589 compute: Use long_rpc_timeout in reserve_block_device_name
e48fb84e12 Join migration_context and flavor in Migration.instance
64f797a051 Fix false ERROR message at compute restart
ffce5be5ca Replace time.sleep(10) with service forced_down in tests
7d14b6a517 compute: Take an instance.uuid lock when rebooting
af668d395d Don't delete compute node, when deleting service other than nova-compute
7bb5a11f70 Revert ""openstack server create"" to ""nova boot"" in nova docs
6a6d0e9434 doc: fix and clarify --block-device usage in user docs
eab5da85ea Nova compute: add in log exception to help debug failures
a90fe19512 Avoid error 500 on shelve task_state race
a07c612ea6 libvirt: Ignore volume exceptions during post_live_migration
c84846dbf9 Fix listing deleted servers with a marker
08337cccb0 Add functional regression test for bug 1849409
13bb7ed701 Error out interrupted builds
19ca978bd4 Functional reproduce for bug 1833581
042746e68b Prevent init_host test to interfere with other tests
f04fc63ffc Add functional test for resize crash compute restart revert
09de94e39b cleanup evacuated instances not on hypervisor
ff57ea7fb6 Fix unit of hw_rng:rate_period
3903a906bf Fix exception translation when creating volume
89d2a764d7 Stop sending bad values from libosinfo to libvirt
c072993e09 Skip test_parallel_evacuate_with_server_group until fixed
5a98135650 Handle get_host_availability_zone error during reschedule
20de81c7c0 Noop CantStartEngineError in targets_cell if API DB not configured
76b4997c42 tox: Stop build *all* docs in 'docs'

Change-Id: I7665068dfd6729f84705f53e98d0c8994315d9c7
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/709554/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/nova.yaml'],1,43a3e6d9aa7dd5b1ab5198b2b967bf0eb1c1cf85,nova-rocky-final-18.3.0, - projects: - hash: fd50cfacd2eb1da507e226be0f9b3c04e747685b repo: openstack/nova version: 18.2.4,,4,0
openstack%2Fopenstack-ansible-plugins~master~Id1de8fb49965caede8c7b95d94a1d3b013aca655,openstack/openstack-ansible-plugins,master,Id1de8fb49965caede8c7b95d94a1d3b013aca655,Expand paths to user home directories in connection plugin,MERGED,2020-02-22 18:35:39.000000000,2020-02-25 12:02:54.000000000,2020-02-25 12:01:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-02-22 18:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/410502c1b2fc2061399476a39833be5e4483db54', 'message': 'Expand paths to user home directories in connection plugin\n\nThis can fail as follows with ansible 2.8:\n\nfatal: [infra1]: FAILED! => {""msg"": ""failed to transfer file to\n/home/zuul/.ansible/tmp/ansible-local-5893pv8hvtki/tmp5likarkj\n/proc/548/root/~zuul/.ansible/tmp/ansible-tmp-1582391749.9168267-281064036689686/AnsiballZ_file.py:\nmesg: ttyname failed: Inappropriate ioctl for device\\ndd: failed to open\n\'/proc/548/root/~zuul/.ansible/tmp/ansible-tmp-1582391749.9168267-281064036689686/AnsiballZ_file.py\':\nNo such file or directory\\n""}\n\n\'~zuul\' being in the path cuses the failure\n\nChange-Id: Id1de8fb49965caede8c7b95d94a1d3b013aca655\n'}, {'number': 2, 'created': '2020-02-23 11:37:40.000000000', 'files': ['connection/ssh.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/7d123f416e06800f403aa1d2b6f03d88d2d7abc7', 'message': 'Expand paths to user home directories in connection plugin\n\nThis can fail as follows with ansible 2.8:\n\nfatal: [infra1]: FAILED! => {""msg"": ""failed to transfer file to\n/home/zuul/.ansible/tmp/ansible-local-5893pv8hvtki/tmp5likarkj\n/proc/548/root/~zuul/.ansible/tmp/ansible-tmp-1582391749.9168267-281064036689686/AnsiballZ_file.py:\nmesg: ttyname failed: Inappropriate ioctl for device\\ndd: failed to open\n\'/proc/548/root/~zuul/.ansible/tmp/ansible-tmp-1582391749.9168267-281064036689686/AnsiballZ_file.py\':\nNo such file or directory\\n""}\n\n\'~zuul\' being in the path cuses the failure\n\nDepends-On: https://review.opendev.org/709320/\nChange-Id: Id1de8fb49965caede8c7b95d94a1d3b013aca655\n'}]",0,709308,7d123f416e06800f403aa1d2b6f03d88d2d7abc7,10,3,2,25023,,,0,"Expand paths to user home directories in connection plugin

This can fail as follows with ansible 2.8:

fatal: [infra1]: FAILED! => {""msg"": ""failed to transfer file to
/home/zuul/.ansible/tmp/ansible-local-5893pv8hvtki/tmp5likarkj
/proc/548/root/~zuul/.ansible/tmp/ansible-tmp-1582391749.9168267-281064036689686/AnsiballZ_file.py:
mesg: ttyname failed: Inappropriate ioctl for device\ndd: failed to open
'/proc/548/root/~zuul/.ansible/tmp/ansible-tmp-1582391749.9168267-281064036689686/AnsiballZ_file.py':
No such file or directory\n""}

'~zuul' being in the path cuses the failure

Depends-On: https://review.opendev.org/709320/
Change-Id: Id1de8fb49965caede8c7b95d94a1d3b013aca655
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/08/709308/1 && git format-patch -1 --stdout FETCH_HEAD,['connection/ssh.py'],1,410502c1b2fc2061399476a39833be5e4483db54,, _out_path = os.path.expanduser(out_path), _out_path = out_path,1,1
openstack%2Fneutron-tempest-plugin~master~I55607a521dd1829357d296c60855931ce2251295,openstack/neutron-tempest-plugin,master,I55607a521dd1829357d296c60855931ce2251295,Fix how nc client and server are run in scenario tests,MERGED,2020-02-05 11:17:05.000000000,2020-02-25 11:38:51.000000000,2020-02-25 11:38:51.000000000,"[{'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-05 11:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/abad00590ff319015430bcd0566597095608d503', 'message': 'Fix how nc client and server are run in scenario tests\n\nIn change [1] the way how netcat server is run was changed.\nBut since than it was failing because\nssh_client.execute_command() method was blocking on waiting for\nfd from remote host.\nSo this patch changes that to use ssh_client.execute_script()\nmethod which runs fine.\n\nAlso in run of nc client, flag ""-z"" was added. This means that\nnc is run in ""Zero-I/O mode, report connection status only"".\n\n[1] https://review.opendev.org/#/c/702882/\n\nChange-Id: I55607a521dd1829357d296c60855931ce2251295\n'}, {'number': 2, 'created': '2020-02-07 08:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a1e207a513929bb51c094647678e68e974c75d2b', 'message': 'Fix how nc client and server are run in scenario tests\n\nIn change [1] the way how netcat server is run was changed.\nBut since than it was failing because\nssh_client.execute_command() method was blocking on waiting for\nfd from remote host.\nSo this patch changes that to use ssh_client.execute_script()\nmethod which runs fine.\n\nAlso in run of nc client, flag ""-z"" was added. This means that\nnc is run in ""Zero-I/O mode, report connection status only"".\n\n[1] https://review.opendev.org/#/c/702882/\n\nChange-Id: I55607a521dd1829357d296c60855931ce2251295\n'}, {'number': 3, 'created': '2020-02-07 16:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/189440c13306d9d249059f9e2b15cfccfa794eb6', 'message': 'Fix how nc client and server are run in scenario tests\n\nIn change [1] the way how netcat server is run was changed.\nBut since than it was failing because\nssh_client.execute_command() method was blocking on waiting for\nfd from remote host.\nSo this patch changes that to use ssh_client.execute_script()\nmethod which runs fine.\n\nIt also changes how ncat command to run server and client are build.\nIn case of ncat server there is difference between ncat provided by\nnmap, which is used e.g. in RHEL or Ubuntu and nc provided by busybox\nwhich is used in Cirros.\nIn case of Cirros, we need to use ""-e"" parameter to provide script to\nexecute but in RHEL or Ubuntu we need to use ""-c"" option.\n\nFor ncat client, there is difference between ncat 7.60 and 7.70.\nIn case of this newer one, which is e.g. in RHEL 8, we need to pass\n""-z"" flag to run it in ""Zero-I/O mode"". For earlier versions (e.g.\non Ubuntu Bionic) it\'s not needed.\n\n[1] https://review.opendev.org/#/c/702882/\n\nChange-Id: I55607a521dd1829357d296c60855931ce2251295\n'}, {'number': 4, 'created': '2020-02-10 12:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bdd7c2ec2c10fe06931f6551ee8119dbd84e18ff', 'message': 'Fix how nc client and server are run in scenario tests\n\nIn change [1] the way how netcat server is run was changed.\nBut since than it was failing because\nssh_client.execute_command() method was blocking on waiting for\nfd from remote host.\nSo this patch changes that to use ssh_client.execute_script()\nmethod which runs fine.\n\nIt also changes how ncat command to run server and client are build.\nIn case of ncat server there is difference between ncat provided by\nnmap, which is used e.g. in RHEL or Ubuntu and nc provided by busybox\nwhich is used in Cirros.\nIn case of Cirros, we need to use ""-e"" parameter to provide script to\nexecute but in RHEL or Ubuntu we need to use ""-c"" option.\n\nFor ncat client, there is difference between ncat 7.60 and 7.70.\nIn case of this newer one, which is e.g. in RHEL 8, we need to pass\n""-z"" flag to run it in ""Zero-I/O mode"". For earlier versions (e.g.\non Ubuntu Bionic) it\'s not needed.\n\n[1] https://review.opendev.org/#/c/702882/\n\nChange-Id: I55607a521dd1829357d296c60855931ce2251295\n'}, {'number': 5, 'created': '2020-02-10 21:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/642d6792f21dbca9eb54b1c4875590f0d7588ef7', 'message': 'Fix how nc client and server are run in scenario tests\n\nIn change [1] the way how netcat server is run was changed.\nBut since than it was failing because\nssh_client.execute_command() method was blocking on waiting for\nfd from remote host.\nSo this patch changes that to use ssh_client.execute_script()\nmethod which runs fine.\n\nIt also changes how ncat command to run server and client are build.\nIn case of ncat server there is difference between ncat provided by\nnmap, which is used e.g. in RHEL or Ubuntu and nc provided by busybox\nwhich is used in Cirros.\nIn case of Cirros, we need to use ""-e"" parameter to provide script to\nexecute but in RHEL or Ubuntu we need to use ""-c"" option.\n\nFor ncat client, there is difference between ncat 7.60 and 7.70.\nIn case of this newer one, which is e.g. in RHEL 8, we need to pass\n""-z"" flag to run it in ""Zero-I/O mode"". For earlier versions (e.g.\non Ubuntu Bionic) it\'s not needed.\n\n[1] https://review.opendev.org/#/c/702882/\n\nChange-Id: I55607a521dd1829357d296c60855931ce2251295\n'}, {'number': 6, 'created': '2020-02-21 20:46:39.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/af83e833078f98d3f7171104e813618a27e98c8b', 'message': 'Fix how nc client and server are run in scenario tests\n\nIn change [1] the way how netcat server is run was changed.\nBut since than it was failing because\nssh_client.execute_command() method was blocking on waiting for\nfd from remote host.\nSo this patch changes that to use ssh_client.execute_script()\nmethod which runs fine.\n\nIt also changes how ncat command to run server and client are build.\nIn case of ncat server there is difference between ncat provided by\nnmap, which is used e.g. in RHEL or Ubuntu and nc provided by busybox\nwhich is used in Cirros.\nIn case of Cirros, we need to use ""-e"" parameter to provide script to\nexecute but in RHEL or Ubuntu we need to use ""-c"" option.\n\nFor ncat client, there is difference between ncat 7.60 and 7.70.\nIn case of this newer one, which is e.g. in RHEL 8, we need to pass\n""-z"" flag to run it in ""Zero-I/O mode"". For earlier versions (e.g.\non Ubuntu Bionic) it\'s not needed.\n\n[1] https://review.opendev.org/#/c/702882/\n\nChange-Id: I55607a521dd1829357d296c60855931ce2251295\n'}]",5,705926,af83e833078f98d3f7171104e813618a27e98c8b,49,7,6,11975,,,0,"Fix how nc client and server are run in scenario tests

In change [1] the way how netcat server is run was changed.
But since than it was failing because
ssh_client.execute_command() method was blocking on waiting for
fd from remote host.
So this patch changes that to use ssh_client.execute_script()
method which runs fine.

It also changes how ncat command to run server and client are build.
In case of ncat server there is difference between ncat provided by
nmap, which is used e.g. in RHEL or Ubuntu and nc provided by busybox
which is used in Cirros.
In case of Cirros, we need to use ""-e"" parameter to provide script to
execute but in RHEL or Ubuntu we need to use ""-c"" option.

For ncat client, there is difference between ncat 7.60 and 7.70.
In case of this newer one, which is e.g. in RHEL 8, we need to pass
""-z"" flag to run it in ""Zero-I/O mode"". For earlier versions (e.g.
on Ubuntu Bionic) it's not needed.

[1] https://review.opendev.org/#/c/702882/

Change-Id: I55607a521dd1829357d296c60855931ce2251295
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/26/705926/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/base.py'],1,abad00590ff319015430bcd0566597095608d503,bug/1850800," cmd = ""nc %(udp)s -p %(port)s -lk -c 'echo %(msg)s' &"" % { return ssh_client.execute_script(cmd, become_root=True) cmd = 'echo ""knock knock"" | nc -z -w 1 %(udp)s %(host)s %(port)s' % {"," cmd = ""sudo nc %(udp)s -p %(port)s -lk -c echo %(msg)s &"" % { return ssh_client.exec_command(cmd) cmd = 'echo ""knock knock"" | nc -w 1 %(udp)s %(host)s %(port)s' % {",3,3
openstack%2Fpuppet-openstack-integration~master~I752d6e1c6796ee6cd40edf2bbcb03595a5b37f62,openstack/puppet-openstack-integration,master,I752d6e1c6796ee6cd40edf2bbcb03595a5b37f62,DNM: Try unittests on CentOS8,ABANDONED,2020-02-25 11:34:04.000000000,2020-02-25 11:36:07.000000000,,[],"[{'number': 1, 'created': '2020-02-25 11:34:04.000000000', 'files': ['dnm'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8e135ac5c5cc0af99af6c45472d03f2013c0a8ef', 'message': 'DNM: Try unittests on CentOS8\n\nChange-Id: I752d6e1c6796ee6cd40edf2bbcb03595a5b37f62\n'}]",0,709695,8e135ac5c5cc0af99af6c45472d03f2013c0a8ef,2,0,1,9816,,,0,"DNM: Try unittests on CentOS8

Change-Id: I752d6e1c6796ee6cd40edf2bbcb03595a5b37f62
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/95/709695/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm'],1,8e135ac5c5cc0af99af6c45472d03f2013c0a8ef,ut-centos8,,,0,0
openstack%2Fceilometer~stable%2Frocky~I3289c3bf085fd5fd8f40074bd885f30375b2d50b,openstack/ceilometer,stable/rocky,I3289c3bf085fd5fd8f40074bd885f30375b2d50b,Run Grenade job under Python 2 for compatibility,MERGED,2020-02-13 08:47:14.000000000,2020-02-25 11:12:30.000000000,2020-02-25 11:12:30.000000000,"[{'_account_id': 14107}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-13 08:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0aeee39ef2a1e62a9f8f04bd73389d98577ba435', 'message': 'DNM: Test if DEVSTACK_GATE_USE_PYTHON3 makes a difference\n\nChange-Id: I3289c3bf085fd5fd8f40074bd885f30375b2d50b\n'}, {'number': 2, 'created': '2020-02-13 12:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7ee5feae8a6afd8a5177882d389f76f3e2c0b9a4', 'message': 'DNM: Test if DEVSTACK_GATE_USE_PYTHON3 makes a difference\n\nChange-Id: I3289c3bf085fd5fd8f40074bd885f30375b2d50b\nDepends-On: https://review.opendev.org/#/c/707615/\n'}, {'number': 3, 'created': '2020-02-20 11:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/cf4aaf63d7cbdecb6ac6fbe63af4407972acff7b', 'message': 'Run Grenade job under Python 2 for compatibility\n\nChange-Id: I3289c3bf085fd5fd8f40074bd885f30375b2d50b\n'}, {'number': 4, 'created': '2020-02-21 07:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/057e694294468d753ec84f9352d5994cd99f1ebd', 'message': 'Run Grenade job under Python 2 for compatibility\n\nChange-Id: I3289c3bf085fd5fd8f40074bd885f30375b2d50b\n'}, {'number': 5, 'created': '2020-02-24 05:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f6b70bb285623933bd354e298cc43c18adb62684', 'message': 'Run Grenade job under Python 2 for compatibility\n\n1. Run Grenade job under Python 2 for compatibility\n2. Temporary mark telemetry-dsvm-integration non-voting\n\nChange-Id: I3289c3bf085fd5fd8f40074bd885f30375b2d50b\n'}, {'number': 6, 'created': '2020-02-24 07:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/dde3ee5e5deb600dd6da78b83860f1c4d7b92dca', 'message': 'Run Grenade job under Python 2 for compatibility\n\n1. Run Grenade job under Python 2 for compatibility\n2. Temporary mark telemetry-dsvm-integration non-voting\n\nChange-Id: I3289c3bf085fd5fd8f40074bd885f30375b2d50b\n'}, {'number': 7, 'created': '2020-02-25 01:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/10b74aacd28a45799a77130d45bc888d17e9dda5', 'message': 'Run Grenade job under Python 2 for compatibility\n\n1. Run Grenade job under Python 2 for compatibility\n2. Temporary mark telemetry-dsvm-integration non-voting\n3. Remove telemter py37 due to use fedora nodeset\n\nChange-Id: I3289c3bf085fd5fd8f40074bd885f30375b2d50b\n'}, {'number': 8, 'created': '2020-02-25 08:17:17.000000000', 'files': ['playbooks/legacy/grenade-dsvm-ceilometer/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/010dae0094c16a704dedb72b17956a4d9c2050ca', 'message': 'Run Grenade job under Python 2 for compatibility\n\n1. Run Grenade job under Python 2 for compatibility\n2. Temporary mark telemetry-dsvm-integration non-voting\n3. Remove telemter py37 due to use fedora nodeset\n\nChange-Id: I3289c3bf085fd5fd8f40074bd885f30375b2d50b\n'}]",0,707586,010dae0094c16a704dedb72b17956a4d9c2050ca,28,3,8,15197,,,0,"Run Grenade job under Python 2 for compatibility

1. Run Grenade job under Python 2 for compatibility
2. Temporary mark telemetry-dsvm-integration non-voting
3. Remove telemter py37 due to use fedora nodeset

Change-Id: I3289c3bf085fd5fd8f40074bd885f30375b2d50b
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/86/707586/8 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/grenade-dsvm-ceilometer/run.yaml'],1,0aeee39ef2a1e62a9f8f04bd73389d98577ba435,rocky-reno, export DEVSTACK_GATE_USE_PYTHON3=False,,1,0
openstack%2Fovn-octavia-provider~master~Ief28c375173f869e64aa98a8c972a6f845462217,openstack/ovn-octavia-provider,master,Ief28c375173f869e64aa98a8c972a6f845462217,Ensure setup.cfg packages matches root directory,MERGED,2020-02-24 21:09:51.000000000,2020-02-25 11:11:08.000000000,2020-02-25 11:09:12.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-02-24 21:09:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/acee7c2134acbbd52a4b98d7be123b4d11eb794a', 'message': 'Ensure setup.cfg packages matches root directory\n\nThe root directory for the python package is\novn_octavia_provider so the setup.cfg [files] packages\nshould match accordingly.\n\nChange-Id: Ief28c375173f869e64aa98a8c972a6f845462217\nCloses-Bug: #1864553\n'}]",0,709612,acee7c2134acbbd52a4b98d7be123b4d11eb794a,8,3,1,11805,,,0,"Ensure setup.cfg packages matches root directory

The root directory for the python package is
ovn_octavia_provider so the setup.cfg [files] packages
should match accordingly.

Change-Id: Ief28c375173f869e64aa98a8c972a6f845462217
Closes-Bug: #1864553
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/12/709612/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,acee7c2134acbbd52a4b98d7be123b4d11eb794a,bug/1864553, ovn_octavia_provider, ovn-octavia-provider,1,1
openstack%2Fheat~master~Ib5bddf12ca63849a030d1d579d0a2e853e8b848a,openstack/heat,master,Ib5bddf12ca63849a030d1d579d0a2e853e8b848a,Support handling empty string for volume AZ,MERGED,2020-02-24 07:47:06.000000000,2020-02-25 11:01:27.000000000,2020-02-25 10:59:27.000000000,"[{'_account_id': 4257}, {'_account_id': 6484}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-02-24 07:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/15e53173f7562480780d122b14fbd89d6770e56f', 'message': 'Support handling empty string for volume AZ\n\nWhen building a complex stack, instance and volume are both\nnecessary. But the support of AZ in Nova and Cinder are slightly\ndifferent which is causing troubles to build the Heat template.\nWithout setting, the property availability_zone of volume always\ngot """", an empty string, instead of None. As a result, Cinder will\nreturn 400 BadRequest error. This patch will convert the empty\nstring to None, to make sure Cinder can correctly handle it the\nscenario when availability_zone of volume is not set.\n\nTask: 38853\nStory: 2007330\n\nChange-Id: Ib5bddf12ca63849a030d1d579d0a2e853e8b848a\n'}, {'number': 2, 'created': '2020-02-24 08:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/64f91a45438bf5d789fd3b065a524c153e5673b8', 'message': 'Support handling empty string for volume AZ\n\nWhen building a complex stack, instance and volume are both\nnecessary. But the support of AZ in Nova and Cinder are slightly\ndifferent which is causing troubles to build the Heat template.\nWithout setting, the property availability_zone of volume always\ngot """", an empty string, instead of None. As a result, Cinder will\nreturn 400 BadRequest error. This patch will convert the empty\nstring to None, to make sure Cinder can correctly handle it the\nscenario when availability_zone of volume is not set.\n\nTask: 38853\nStory: 2007330\n\nChange-Id: Ib5bddf12ca63849a030d1d579d0a2e853e8b848a\n'}, {'number': 3, 'created': '2020-02-24 08:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0861217c0c9a8190cac888a66434473a1c4a4b1e', 'message': 'Support handling empty string for volume AZ\n\nWhen building a complex stack, instance and volume are both\nnecessary. But the support of AZ in Nova and Cinder are slightly\ndifferent which is causing troubles to build the Heat template.\nWithout setting, the property availability_zone of volume always\ngot """", an empty string, instead of None. As a result, Cinder will\nreturn 400 BadRequest error. This patch will convert the empty\nstring to None, to make sure Cinder can correctly handle it the\nscenario when availability_zone of volume is not set.\n\nTask: 38853\nStory: 2007330\n\nChange-Id: Ib5bddf12ca63849a030d1d579d0a2e853e8b848a\n'}, {'number': 4, 'created': '2020-02-24 19:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/51357c696c79a734cae06a397f41f46e8d508ab2', 'message': 'Support handling empty string for volume AZ\n\nWhen building a complex stack, instance and volume are both\nnecessary. But the support of AZ in Nova and Cinder are slightly\ndifferent which is causing troubles to build the Heat template.\nWithout setting, the property availability_zone of volume always\ngot """", an empty string, instead of None. As a result, Cinder will\nreturn 400 BadRequest error. This patch will convert the empty\nstring to None, to make sure Cinder can correctly handle it the\nscenario when availability_zone of volume is not set.\n\nTask: 38853\nStory: 2007330\n\nChange-Id: Ib5bddf12ca63849a030d1d579d0a2e853e8b848a\n'}, {'number': 5, 'created': '2020-02-24 19:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/db13fd26b737742ddad582ceb9c75fcca7c98704', 'message': 'Support handling empty string for volume AZ\n\nWhen building a complex stack, instance and volume are both\nnecessary. But the support of AZ in Nova and Cinder are slightly\ndifferent which is causing troubles to build the Heat template.\nWithout setting, the property availability_zone of volume always\ngot """", an empty string, instead of None. As a result, Cinder will\nreturn 400 BadRequest error. This patch will turn the empty\nstring into None, to make sure Cinder can correctly handle the\nscenario when availability_zone of volume is not set.\n\nTask: 38853\nStory: 2007330\n\nChange-Id: Ib5bddf12ca63849a030d1d579d0a2e853e8b848a\n'}, {'number': 6, 'created': '2020-02-24 21:53:57.000000000', 'files': ['heat/tests/openstack/cinder/test_volume.py', 'heat/engine/resources/openstack/cinder/volume.py', 'releasenotes/notes/support-handling-empty-string-for-volume-az-22ad78eb0f931954.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/50d72b8c0b6ef9d025c8de3fe036c414f73dbd06', 'message': 'Support handling empty string for volume AZ\n\nWhen building a complex stack, instance and volume are both\nnecessary. But the support of AZ in Nova and Cinder are slightly\ndifferent which is causing troubles to build the Heat template.\nWithout setting, the property availability_zone of volume always\ngot """", an empty string, instead of None. As a result, Cinder will\nreturn 400 BadRequest error. This patch will turn the empty\nstring into None, to make sure Cinder can correctly handle the\nscenario when availability_zone of volume is not set.\n\nTask: 38853\nStory: 2007330\n\nChange-Id: Ib5bddf12ca63849a030d1d579d0a2e853e8b848a\n'}]",1,709419,50d72b8c0b6ef9d025c8de3fe036c414f73dbd06,20,6,6,6484,,,0,"Support handling empty string for volume AZ

When building a complex stack, instance and volume are both
necessary. But the support of AZ in Nova and Cinder are slightly
different which is causing troubles to build the Heat template.
Without setting, the property availability_zone of volume always
got """", an empty string, instead of None. As a result, Cinder will
return 400 BadRequest error. This patch will turn the empty
string into None, to make sure Cinder can correctly handle the
scenario when availability_zone of volume is not set.

Task: 38853
Story: 2007330

Change-Id: Ib5bddf12ca63849a030d1d579d0a2e853e8b848a
",git fetch https://review.opendev.org/openstack/heat refs/changes/19/709419/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/cinder/volume.py', 'releasenotes/notes/support-handling-empty-string-for-volume-az-22ad78eb0f931954.yaml']",2,15e53173f7562480780d122b14fbd89d6770e56f,story/2007330-38853,"--- fixes: - | Empty string passing in for volume availability_zone can be correctly handled now. For this case, it's same as no AZ set, so the default AZ in cinder.conf will be used. ",,8,1
openstack%2Fneutron~stable%2Frocky~I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb,openstack/neutron,stable/rocky,I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb,Mock check if ipv6 is enabled in L3 agent unit tests,MERGED,2020-02-21 13:11:31.000000000,2020-02-25 10:46:51.000000000,2020-02-25 10:46:51.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-21 13:11:31.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e31dbaa5b1f91e0c29c84a9387ef71724168454', 'message': 'Mock check if ipv6 is enabled in L3 agent unit tests\n\nWithout this mock UT related configure_ipv6 method were failing\ne.g. on systems when IPv6 was disabled or on systems where such\ncheck should be done differently, like MacOS.\n\nChange-Id: I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb\n(cherry picked from commit c20b5e347dcc47bfe2f649cdd4310c1fac68b447)\n'}]",0,709132,4e31dbaa5b1f91e0c29c84a9387ef71724168454,13,4,1,11975,,,0,"Mock check if ipv6 is enabled in L3 agent unit tests

Without this mock UT related configure_ipv6 method were failing
e.g. on systems when IPv6 was disabled or on systems where such
check should be done differently, like MacOS.

Change-Id: I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb
(cherry picked from commit c20b5e347dcc47bfe2f649cdd4310c1fac68b447)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/709132/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/agent/l3/test_agent.py'],1,4e31dbaa5b1f91e0c29c84a9387ef71724168454,fix-ipv6-detection-in-l3-unit-tests-stable/stein-stable/rocky," with mock.patch( 'neutron.common.ipv6_utils.is_enabled_and_bind_by_default', return_value=True): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) "," agent = l3_agent.L3NATAgent(HOSTNAME, self.conf)",5,1
openstack%2Fopenstacksdk~master~Ie4d6eadb4b59ec070dc4a3bc34e5c1d591bffc39,openstack/openstacksdk,master,Ie4d6eadb4b59ec070dc4a3bc34e5c1d591bffc39,Add bulk port create.,MERGED,2020-02-17 12:15:23.000000000,2020-02-25 10:35:00.000000000,2020-02-25 10:30:06.000000000,"[{'_account_id': 2}, {'_account_id': 11975}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-02-17 12:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/53f9a208ba3d5189e1e06487b7da1d0c402892c8', 'message': 'Added bulk port create.\n\nIntroducing new method ""create_ports"" for network module. It provides an\nability for creating port objects using Neutron API in one API call.\n\nChange-Id: Ie4d6eadb4b59ec070dc4a3bc34e5c1d591bffc39\n'}, {'number': 2, 'created': '2020-02-18 12:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a4745bb2b5002194694453a0587db77c10844259', 'message': 'Add bulk port create.\n\nIntroducing new method ""create_ports"" for network module. It provides an\nability for creating port objects using Neutron API in one API call.\n\nChange-Id: Ie4d6eadb4b59ec070dc4a3bc34e5c1d591bffc39\n'}, {'number': 3, 'created': '2020-02-21 14:02:29.000000000', 'files': ['releasenotes/notes/add-bulk-create-resources-12192ec9d76c7716.yaml', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/_proxy.py', 'doc/source/user/proxies/network.rst', 'openstack/proxy.py', 'openstack/tests/unit/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cc711719625cd09e70c5fea53675b6c295a3a7cb', 'message': 'Add bulk port create.\n\nIntroducing new method ""create_ports"" for network module. It provides an\nability for creating port objects using Neutron API in one API call.\n\nChange-Id: Ie4d6eadb4b59ec070dc4a3bc34e5c1d591bffc39\n'}]",2,708113,cc711719625cd09e70c5fea53675b6c295a3a7cb,20,6,3,13692,,,0,"Add bulk port create.

Introducing new method ""create_ports"" for network module. It provides an
ability for creating port objects using Neutron API in one API call.

Change-Id: Ie4d6eadb4b59ec070dc4a3bc34e5c1d591bffc39
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/13/708113/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/_proxy.py', 'openstack/proxy.py', 'openstack/tests/unit/test_proxy.py']",4,53f9a208ba3d5189e1e06487b7da1d0c402892c8,bulk-resource,"class TestProxyBulkCreate(base.TestCase): def setUp(self): super(TestProxyBulkCreate, self).setUp() class Res(resource.Resource): pass self.session = mock.Mock() self.result = mock.sentinel self.data = mock.Mock() self.sot = proxy.Proxy(self.session) self.cls = Res self.cls.bulk_create = mock.Mock(return_value=self.result) def test_bulk_create_attributes(self): rv = self.sot._bulk_create(self.cls, self.data) self.assertEqual(rv, self.result) self.cls.bulk_create.assert_called_once_with(self.sot, self.data, base_path=None) def test_bulk_create_attributes_override_base_path(self): base_path = 'dummy' rv = self.sot._bulk_create(self.cls, self.data, base_path=base_path) self.assertEqual(rv, self.result) self.cls.bulk_create.assert_called_once_with(self.sot, self.data, base_path=base_path) ",,73,0
openstack%2Fnova~master~If34e0ec42b67a591a299bdd6b480db68c1f37cba,openstack/nova,master,If34e0ec42b67a591a299bdd6b480db68c1f37cba,Fix listing servers by SOFT_DELETED status.,NEW,2018-08-29 10:40:35.000000000,2020-02-25 10:20:46.000000000,,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25113}, {'_account_id': 25562}, {'_account_id': 26286}, {'_account_id': 26311}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-08-29 10:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c5383484336d008a81fe617b7000a78442a9d94', 'message': 'Fix filter servers with SOFT_DELETED status\n\nWhen executing ""nova list --status SOFT_DELETED"", soft-deleted instances\nare the user has has access to are not returned actually. This is because\ndb counts on \'soft-deleted\' filter in \'search_opts\' to decide whether or\nnot to filter out soft-deleted instances. This patch fixes it by setting\n\'soft-deleted\' in to True when \'vm_state\' = \'soft-delete\' in search_opts.\n\nChange-Id: If34e0ec42b67a591a299bdd6b480db68c1f37cba\nCloses-Bug: #1789455\n'}, {'number': 2, 'created': '2018-08-29 13:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f039f7019486aab6ba2ba195cc946bb889685469', 'message': 'Fix filter server list with SOFT_DELETED status\n\nWhen executing ""nova list --status SOFT_DELETED"", soft-deleted instances\nare the user has access to are not returned actually. This is because\ndb counts on \'soft-deleted\' filter in \'search_opts\' to decide whether or\nnot to filter out soft-deleted instances. This patch fixes it by setting\n\'soft-deleted\' to True when \'vm_state\' = \'soft-delete\' in search_opts.\n\nChange-Id: If34e0ec42b67a591a299bdd6b480db68c1f37cba\nCloses-Bug: #1789455\n'}, {'number': 3, 'created': '2018-08-31 09:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/766c79daebaa625e2c95533be78e768b5fd51020', 'message': 'Fix filter server list with SOFT_DELETED status\n\nWhen executing ""nova list --status SOFT_DELETED"",\nsoft-deleted instances which the user has access to\nare not returned actually. This is because db counts\non \'soft-deleted\' filter in \'search_opts\' set to True\nin order to filter out soft-deleted instances.\nThis patch fixes it by setting \'soft-deleted\' to True\nwhen \'vm_state\' = SOFT_DELETED in search_opts.\n\nChange-Id: If34e0ec42b67a591a299bdd6b480db68c1f37cba\nCloses-Bug: #1789455\nDepends-On: https://review.openstack.org/#/c/598482/\n'}, {'number': 4, 'created': '2019-12-24 09:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88218fc9ce11c8f24cedd3c90ec0d5385802ecc9', 'message': 'Fix filter server list with SOFT_DELETED status\n\nWhen executing ""nova list --status SOFT_DELETED"",\nsoft-deleted instances which the user has access to\nare not returned actually. This is because db counts\non \'soft-deleted\' filter in \'search_opts\' set to True\nin order to filter out soft-deleted instances.\nThis patch fixes it by setting \'soft-deleted\' to True\nwhen \'vm_state\' = SOFT_DELETED in search_opts.\n\nChange-Id: If34e0ec42b67a591a299bdd6b480db68c1f37cba\nCloses-Bug: #1789455\nDepends-On: https://review.openstack.org/#/c/598482/\n'}, {'number': 5, 'created': '2019-12-24 11:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5b2f55ff55c7aef266d9af507964b4f45b7fdc0', 'message': ""Fix listing servers by SOFT_DELETED status.\n\nNova supports to list servers by 'status', but when we want\nto list instances in SOFT_DELETED status, it does not work\nas expected. That's because in `nova.db.sqlalchemy.api.instance_get_all_by_filters_sort`,\nnova sets Instance.vm_state!=vm_states.SOFT_DELETED explicitly\nif filters['soft_deleted'] is False, see [1].\n\nSo we have to set search_opts['soft_deleted'] to True in\n'nova.api.openstack.compute.servers.ServersController._get_servers'\nif we want to get SOFT_DELETED instances. BTW, filtering\nSOFT_DELETED instances is only allowed for admin.\n\n[1].https://github.com/openstack/nova/blob/a597994f989adec3275f7e7aff3bbb06759d0ced/nova/db/sqlalchemy/api.py#L2200,\n\nCo-Authored-By: Fan Zhang <zh.f@outlook.com>\nChange-Id: If34e0ec42b67a591a299bdd6b480db68c1f37cba\nCloses-Bug: #1789455\nSigned-off-by: Fan Zhang <zh.f@outlook.com>\n""}, {'number': 6, 'created': '2019-12-24 15:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94c1c100083c45bb58d5b048fc9be8ffe1d42293', 'message': ""Fix listing servers by SOFT_DELETED status.\n\nNova supports to list servers by 'status', but when we want\nto list instances in SOFT_DELETED status, it does not work\nas expected. That's because in `nova.db.sqlalchemy.api.instance_get_all_by_filters_sort`,\nnova sets Instance.vm_state!=vm_states.SOFT_DELETED explicitly\nif filters['soft_deleted'] is False, see [1].\n\nSo we have to set search_opts['soft_deleted'] to True in\n'nova.api.openstack.compute.servers.ServersController._get_servers'\nif we want to get SOFT_DELETED instances. BTW, filtering\nSOFT_DELETED instances is only allowed for admin.\n\n[1].https://github.com/openstack/nova/blob/a597994f989adec3275f7e7aff3bbb06759d0ced/nova/db/sqlalchemy/api.py#L2200,\n\nCo-Authored-By: Fan Zhang <zh.f@outlook.com>\nChange-Id: If34e0ec42b67a591a299bdd6b480db68c1f37cba\nCloses-Bug: #1789455\nSigned-off-by: Fan Zhang <zh.f@outlook.com>\n""}, {'number': 7, 'created': '2019-12-25 07:14:27.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2c973d75819d5b71d1e65546292b2a9293bfb02f', 'message': ""Fix listing servers by SOFT_DELETED status.\n\nNova supports to list servers by 'status', but when we want\nto list instances in SOFT_DELETED status, it does not work\nas expected. That's because in `nova.db.sqlalchemy.api.instance_get_all_by_filters_sort`,\nnova sets Instance.vm_state!=vm_states.SOFT_DELETED explicitly\nif filters['soft_deleted'] is False, see [1].\n\nSo we have to set search_opts['soft_deleted'] to True in\n'nova.api.openstack.compute.servers.ServersController._get_servers'\nif we want to get SOFT_DELETED instances. BTW, filtering\nSOFT_DELETED instances is only allowed for admin.\n\n[1].https://github.com/openstack/nova/blob/a597994f989adec3275f7e7aff3bbb06759d0ced/nova/db/sqlalchemy/api.py#L2200,\n\nCo-Authored-By: Fan Zhang <zh.f@outlook.com>\nChange-Id: If34e0ec42b67a591a299bdd6b480db68c1f37cba\nCloses-Bug: #1789455\nSigned-off-by: Fan Zhang <zh.f@outlook.com>\n""}]",19,597443,2c973d75819d5b71d1e65546292b2a9293bfb02f,91,23,7,25562,,,0,"Fix listing servers by SOFT_DELETED status.

Nova supports to list servers by 'status', but when we want
to list instances in SOFT_DELETED status, it does not work
as expected. That's because in `nova.db.sqlalchemy.api.instance_get_all_by_filters_sort`,
nova sets Instance.vm_state!=vm_states.SOFT_DELETED explicitly
if filters['soft_deleted'] is False, see [1].

So we have to set search_opts['soft_deleted'] to True in
'nova.api.openstack.compute.servers.ServersController._get_servers'
if we want to get SOFT_DELETED instances. BTW, filtering
SOFT_DELETED instances is only allowed for admin.

[1].https://github.com/openstack/nova/blob/a597994f989adec3275f7e7aff3bbb06759d0ced/nova/db/sqlalchemy/api.py#L2200,

Co-Authored-By: Fan Zhang <zh.f@outlook.com>
Change-Id: If34e0ec42b67a591a299bdd6b480db68c1f37cba
Closes-Bug: #1789455
Signed-off-by: Fan Zhang <zh.f@outlook.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/597443/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py']",2,8c5383484336d008a81fe617b7000a78442a9d94,bug/1789455," if search_opts.get(""vm_state"") == ['soft-delete']: search_opts['soft_deleted'] = True ",,22,0
openstack%2Fnova~master~I3bbeedef70e4b94225e1a042cf4e59fb12bcaa92,openstack/nova,master,I3bbeedef70e4b94225e1a042cf4e59fb12bcaa92,trivial: Update '_get_foo_traits' docstrings,MERGED,2020-02-20 16:47:26.000000000,2020-02-25 10:08:32.000000000,2020-02-20 23:59:07.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-20 16:47:26.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/298054e6406d32ff23568358355fb4419fcd3132', 'message': ""trivial: Update '_get_foo_traits' docstrings\n\nThese stated they could return None but that wasn't true. Correct this.\n\nChange-Id: I3bbeedef70e4b94225e1a042cf4e59fb12bcaa92\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,708912,298054e6406d32ff23568358355fb4419fcd3132,23,7,1,15334,,,0,"trivial: Update '_get_foo_traits' docstrings

These stated they could return None but that wasn't true. Correct this.

Change-Id: I3bbeedef70e4b94225e1a042cf4e59fb12bcaa92
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/708912/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,298054e6406d32ff23568358355fb4419fcd3132,bp/image-metadata-prefiltering," :return: A dict of trait names mapped to boolean values. """"""Get CPU traits of VMs based on guest CPU model config. 1. If mode is 'host-model' or 'host-passthrough', use host's CPU features. 2. If mode is None, choose a default CPU model based on CPU architecture. 3. If mode is 'custom', use cpu_models to generate CPU features. :return: A dict of trait names mapped to boolean values."," :return: A dict of trait names mapped to boolean values or None. """"""Get CPU traits of VMs based on guest CPU model config: 1. if mode is 'host-model' or 'host-passthrough', use host's CPU features. 2. if mode is None, choose a default CPU model based on CPU architecture. 3. if mode is 'custom', use cpu_models to generate CPU features. :return: A dict of trait names mapped to boolean values or None.",11,8
openstack%2Fkolla~master~I7d0a1c3c6506171d3c4b9accad395f3bf6b427fa,openstack/kolla,master,I7d0a1c3c6506171d3c4b9accad395f3bf6b427fa,Deprecate MongoDB,MERGED,2020-02-18 20:27:10.000000000,2020-02-25 09:46:31.000000000,2020-02-25 09:44:12.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-18 20:27:10.000000000', 'files': ['releasenotes/notes/deprecate-mongodb-88636154e07cd31c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ba44573e6494d7f763a5347e9e90547c6ea85223', 'message': 'Deprecate MongoDB\n\nPer http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-12-15.01.txt\n\nDeprecates support for MongoDB image. In Victoria support for\nMongoDB image will be removed from Kolla. Note CentOS 8\nalready lost support for MongoDB due to decisions made upstream.\n\nThe only known downstream, Kolla Ansible, is deprecating and\nremoving support for deploying MongoDB.\n\nMongoDB lost its position in OpenStack environment after\ncontroversial relicensing under their custom SSPL (Server Side\nPublic License) which did not pass OSI (Open Source Initiative)\nvalidation.\n\nDepends-on: https://review.opendev.org/708508\n\nChange-Id: I7d0a1c3c6506171d3c4b9accad395f3bf6b427fa\n'}]",0,708509,ba44573e6494d7f763a5347e9e90547c6ea85223,13,5,1,30491,,,0,"Deprecate MongoDB

Per http://eavesdrop.openstack.org/meetings/kolla/2020/kolla.2020-02-12-15.01.txt

Deprecates support for MongoDB image. In Victoria support for
MongoDB image will be removed from Kolla. Note CentOS 8
already lost support for MongoDB due to decisions made upstream.

The only known downstream, Kolla Ansible, is deprecating and
removing support for deploying MongoDB.

MongoDB lost its position in OpenStack environment after
controversial relicensing under their custom SSPL (Server Side
Public License) which did not pass OSI (Open Source Initiative)
validation.

Depends-on: https://review.opendev.org/708508

Change-Id: I7d0a1c3c6506171d3c4b9accad395f3bf6b427fa
",git fetch https://review.opendev.org/openstack/kolla refs/changes/09/708509/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-mongodb-88636154e07cd31c.yaml'],1,ba44573e6494d7f763a5347e9e90547c6ea85223,deprecate-mongodb,"--- deprecations: - | Deprecates support for MongoDB image. In Victoria support for MongoDB image will be removed from Kolla. Note CentOS 8 already lost support for MongoDB due to decisions made upstream. The only known downstream, Kolla Ansible, is deprecating and removing support for deploying MongoDB. MongoDB lost its position in OpenStack environment after controversial relicensing under their custom SSPL (Server Side Public License) which did not pass OSI (Open Source Initiative) validation. ",,14,0
openstack%2Fideas~master~I870723bdccd3208ee8270827f74ca68d5c956eba,openstack/ideas,master,I870723bdccd3208ee8270827f74ca68d5c956eba,Small cleanups,MERGED,2020-02-22 16:34:06.000000000,2020-02-25 09:40:27.000000000,2020-02-25 09:38:34.000000000,"[{'_account_id': 10607}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-22 16:34:06.000000000', 'files': ['doc/source/conf.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ideas/commit/94659e82aad1f17d974725f1951c41482b700dd9', 'message': 'Small cleanups\n\nRemove obsolete lines from doc/source/conf.py, openstackdocstheme sets\nthem itself now.\n\nRemove build_sphinx from setup.cfg, the repo calls sphinx-build and thus\nignores setup.cfg.\n\nRemove install_command from tox.ini, the default is good to use.\n\nChange-Id: I870723bdccd3208ee8270827f74ca68d5c956eba\n'}]",0,709299,94659e82aad1f17d974725f1951c41482b700dd9,9,4,1,6547,,,0,"Small cleanups

Remove obsolete lines from doc/source/conf.py, openstackdocstheme sets
them itself now.

Remove build_sphinx from setup.cfg, the repo calls sphinx-build and thus
ignores setup.cfg.

Remove install_command from tox.ini, the default is good to use.

Change-Id: I870723bdccd3208ee8270827f74ca68d5c956eba
",git fetch https://review.opendev.org/openstack/ideas refs/changes/99/709299/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'setup.cfg', 'tox.ini']",3,94659e82aad1f17d974725f1951c41482b700dd9,cleanup,,install_command = pip install -U {opts} {packages},0,25
openstack%2Fmistral~master~Ice7f3521e2483cd3eb4efefac68f190216140fbb,openstack/mistral,master,Ice7f3521e2483cd3eb4efefac68f190216140fbb,Resolving an error with an invalid region in keystone client.,ABANDONED,2020-02-25 09:37:08.000000000,2020-02-25 09:39:35.000000000,,[],"[{'number': 1, 'created': '2020-02-25 09:37:08.000000000', 'files': ['mistral/utils/openstack/keystone.py', 'mistral/config.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/b60cb03e66fd7870fe9371be05697f8da76a9729', 'message': 'Resolving an error with an invalid region in keystone client.\n\nChange-Id: I9270317c12eaa2d42536768e52051ed6cb35b5e4\nCloses-Bug: #1862940\n\nChanging the settings group.\n\nChange-Id: I422c76ff91049edd5f24e540008f3d7c7febb847\n\nResolving error.\n\nChange-Id: Ice7f3521e2483cd3eb4efefac68f190216140fbb\n'}]",0,709674,b60cb03e66fd7870fe9371be05697f8da76a9729,2,0,1,31596,,,0,"Resolving an error with an invalid region in keystone client.

Change-Id: I9270317c12eaa2d42536768e52051ed6cb35b5e4
Closes-Bug: #1862940

Changing the settings group.

Change-Id: I422c76ff91049edd5f24e540008f3d7c7febb847

Resolving error.

Change-Id: Ice7f3521e2483cd3eb4efefac68f190216140fbb
",git fetch https://review.opendev.org/openstack/mistral refs/changes/74/709674/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/utils/openstack/keystone.py', 'mistral/config.py']",2,b60cb03e66fd7870fe9371be05697f8da76a9729,fix_keystoneclient_wrong_region,"auth_endpoint_definition = [ cfg.StrOpt('interface', default='admin', help='Interface to define authentication endpoint.'), cfg.StrOpt('region_name', default=None, help='Region name to define authentication endpoint.') ] KEYSTONE_AUTHTOKEN_GROUP = ""keystone_authtoken""CONF.register_opts(auth_endpoint_definition, group=KEYSTONE_AUTHTOKEN_GROUP)",,12,1
openstack%2Fopenstack-ansible-os_manila~master~Ib72e8b9ca8cfd52e09ee14a4ca643512008faf5d,openstack/openstack-ansible-os_manila,master,Ib72e8b9ca8cfd52e09ee14a4ca643512008faf5d,Add variable files for RedHat and Suse,MERGED,2019-08-06 15:41:03.000000000,2020-02-25 09:35:59.000000000,2019-08-12 13:12:33.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-08-06 15:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/3080ab9f313b0009e08cd2626d82704c49b644ee', 'message': 'Add variable files for RedHat and Suse\n\nThis patch aims to add support of manila deployments on RedHat and Suse.\n\nChange-Id: Ib72e8b9ca8cfd52e09ee14a4ca643512008faf5d\n'}, {'number': 2, 'created': '2019-08-08 13:00:58.000000000', 'files': ['vars/redhat.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/38432790c786dbc589aceaf6a7b87d8f37483576', 'message': 'Add variable files for RedHat and Suse\n\nThis patch aims to add support of manila deployments on RedHat and Suse.\n\nChange-Id: Ib72e8b9ca8cfd52e09ee14a4ca643512008faf5d\n'}]",0,674851,38432790c786dbc589aceaf6a7b87d8f37483576,13,4,2,28619,,,0,"Add variable files for RedHat and Suse

This patch aims to add support of manila deployments on RedHat and Suse.

Change-Id: Ib72e8b9ca8cfd52e09ee14a4ca643512008faf5d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/51/674851/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/suse.yml']",2,3080ab9f313b0009e08cd2626d82704c49b644ee,manila/os-support,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Common rpm packages manila_distro_packages: - libffi-devel - libkmod-devel - libkmod2 - postgresql-devel - libxslt-devel - nfs-utils - rpcbind - rsync - zlib-devel manila_service_distro_packages: - openstack-manila - python-manilaclient - python-shade - python-systemd - uwsgi - uwsgi-python manila_devel_distro_packages: - git-core - systemd-devel manila_api_distro_packages: [] manila_scheduler_distro_packages: [] manila_share_distro_packages: [] manila_share_deps_distro_packages: - qemu-tools manila_lvm_share_distro_packages: - device-mapper - lvm2 - parted manila_oslomsg_amqp1_distro_packages: - cyrus-sasl - cyrus-sasl-plain - cyrus-sasl-digestmd5 manila_uwsgi_bin: '/usr/sbin' ",,114,0
openstack%2Ftripleo-ci~master~I6ae24163de94164b3fd9e0e01747fe0abdf5e939,openstack/tripleo-ci,master,I6ae24163de94164b3fd9e0e01747fe0abdf5e939,Rely on u-c for venv installation,MERGED,2020-02-25 06:46:58.000000000,2020-02-25 09:34:20.000000000,2020-02-25 09:34:20.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 06:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/91cf4b405f6dd79a372ce815e80eb2177647a937', 'message': 'Rely on u-c for venv installation\n\nGood to rely on upper-constraints for tested versions and\nto avoid upper bound in requirements.txt for projects.\n\nAlso remove become: true from venv installation\nwhich is likely not needed to avoid mixing system\npackages with source installations.\n\nChange-Id: I6ae24163de94164b3fd9e0e01747fe0abdf5e939\n'}, {'number': 2, 'created': '2020-02-25 08:30:06.000000000', 'files': ['roles/oooci-build-images/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/33c4bf6562b082fc3a33cb8b0d924f1a5ec5ec4a', 'message': 'Rely on u-c for venv installation\n\nGood to rely on upper-constraints for tested versions and\nto avoid upper bound in requirements.txt for projects.\n\nAlso remove become: true from venv installation\nwhich is likely not needed to avoid mixing system\npackages with source installations.\n\nRelated-Bug: #1864399\nChange-Id: I6ae24163de94164b3fd9e0e01747fe0abdf5e939\n'}]",1,709664,33c4bf6562b082fc3a33cb8b0d924f1a5ec5ec4a,15,3,2,13861,,,0,"Rely on u-c for venv installation

Good to rely on upper-constraints for tested versions and
to avoid upper bound in requirements.txt for projects.

Also remove become: true from venv installation
which is likely not needed to avoid mixing system
packages with source installations.

Related-Bug: #1864399
Change-Id: I6ae24163de94164b3fd9e0e01747fe0abdf5e939
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/64/709664/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/pre.yaml'],1,91cf4b405f6dd79a372ce815e80eb2177647a937,build-images-uc,"- name: Install deps from upper-constraints pip: extra_args: ""-c {{ openstack_git_root }}/requirements/upper-constraints.txt"" requirements: ""{{ openstack_git_root }}/{{ item }}/requirements.txt"" virtualenv: ""{{ workspace }}/venv"" with_items: - diskimage-builder - python-tripleoclient - tripleo-common ", become: true,10,1
openstack%2Fkolla-ansible~master~I8100a6cb63b1e54078629bd6ca8475dc5896784a,openstack/kolla-ansible,master,I8100a6cb63b1e54078629bd6ca8475dc5896784a,Allow to override external network params in init-runonce,MERGED,2020-02-23 15:45:19.000000000,2020-02-25 09:17:04.000000000,2020-02-25 09:14:27.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-23 15:45:19.000000000', 'files': ['tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/effbb209976f3c74592c2a69bb4086541b567f06', 'message': ""Allow to override external network params in init-runonce\n\nI'm not marking it CI-only as ppl seem to be using it.\nOTOH, not adding a release note as we are not promoting its usage.\n\nThis is to allow us to customize for CI.\n\nChange-Id: I8100a6cb63b1e54078629bd6ca8475dc5896784a\n""}]",0,709361,effbb209976f3c74592c2a69bb4086541b567f06,11,4,1,30491,,,0,"Allow to override external network params in init-runonce

I'm not marking it CI-only as ppl seem to be using it.
OTOH, not adding a release note as we are not promoting its usage.

This is to allow us to customize for CI.

Change-Id: I8100a6cb63b1e54078629bd6ca8475dc5896784a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/709361/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,effbb209976f3c74592c2a69bb4086541b567f06,allow-override-ext-net,"EXT_NET_CIDR=${EXT_NET_CIDR:-'10.0.2.0/24'} EXT_NET_RANGE=${EXT_NET_RANGE:-'start=10.0.2.150,end=10.0.2.199'} EXT_NET_GATEWAY=${EXT_NET_GATEWAY:-'10.0.2.1'}","EXT_NET_CIDR='10.0.2.0/24' EXT_NET_RANGE='start=10.0.2.150,end=10.0.2.199' EXT_NET_GATEWAY='10.0.2.1'",3,3
openstack%2Fkuryr-tempest-plugin~master~Ie48e8e21fb7bbdc7647e456cfd3699187e1d8b2c,openstack/kuryr-tempest-plugin,master,Ie48e8e21fb7bbdc7647e456cfd3699187e1d8b2c,WIP: move create_network_crd_obj to BaseKuryrScenarioTest,NEW,2019-10-02 06:23:49.000000000,2020-02-25 08:57:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 25900}, {'_account_id': 28396}]","[{'number': 1, 'created': '2019-10-02 06:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b32205700dbe38de334904abb388c45a678d14f4', 'message': 'WIP: move create_network_crd_obj to BaseKuryrScenarioTest\n\nThis function will be reused in TestSRIOVScenario,\nsriov test uses npwg too.\n\nChange-Id: Ie48e8e21fb7bbdc7647e456cfd3699187e1d8b2c\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}, {'number': 2, 'created': '2019-10-02 06:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/be2f0d4fbd3f858c5212ad687df303434b5ef940', 'message': 'WIP: move create_network_crd_obj to BaseKuryrScenarioTest\n\nThis function will be reused in TestSRIOVScenario,\nsriov test uses npwg too.\n\nPartially implements: blueprint tempest-test-for-sr-iov\nChange-Id: Ie48e8e21fb7bbdc7647e456cfd3699187e1d8b2c\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}, {'number': 3, 'created': '2019-10-02 08:36:17.000000000', 'files': ['kuryr_tempest_plugin/config.py', 'kuryr_tempest_plugin/tests/scenario/test_npwg_multi_vif.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7f431903591924d183ceadfe2628fef94ddefc1f', 'message': 'WIP: move create_network_crd_obj to BaseKuryrScenarioTest\n\nThis function will be reused in TestSRIOVScenario,\nsriov test uses npwg too.\n\nPartially implements: blueprint tempest-test-for-sr-iov\nChange-Id: Ie48e8e21fb7bbdc7647e456cfd3699187e1d8b2c\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}]",1,686085,7f431903591924d183ceadfe2628fef94ddefc1f,5,3,3,28396,,,0,"WIP: move create_network_crd_obj to BaseKuryrScenarioTest

This function will be reused in TestSRIOVScenario,
sriov test uses npwg too.

Partially implements: blueprint tempest-test-for-sr-iov
Change-Id: Ie48e8e21fb7bbdc7647e456cfd3699187e1d8b2c
Signed-off-by: Alexey Perevalov <a.perevalov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/85/686085/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/config.py', 'kuryr_tempest_plugin/tests/scenario/test_npwg_multi_vif.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",3,b32205700dbe38de334904abb388c45a678d14f4,,"def _get_driver_type_str(driver_type): return ',""driverType"": ""' + driver_type + '""' if driver_type else '' #self.insert_pdb_breakpoint() affinity=None, resources=None): if resources: container.resources = resources def create_network_crd_obj(self, name=None, namespace='default', providers=None, driver_type=None): if not name: name = data_utils.rand_name(prefix='net') self.new_net = self._create_network(providers=providers) self.new_subnet = self.create_subnet(network=self.new_net) subnet_id = self.new_subnet['id'] driver_type_str = _get_driver_type_str(driver_type) kuryr_config = '{""subnetId"": ""' + subnet_id + '""' + driver_type_str +'}' self.nad_obj_manifest = { 'apiVersion': 'k8s.cni.cncf.io/v1', 'kind': 'NetworkAttachmentDefinition', 'metadata': { 'name': name, 'annotations': { 'openstack.org/kuryr-config': kuryr_config } } } version = 'v1' group = 'k8s.cni.cncf.io' plural = 'network-attachment-definitions' custom_obj_api = self.k8s_client.CustomObjectsApi() obj = custom_obj_api.create_namespaced_custom_object( group, version, namespace, plural, self.nad_obj_manifest ) body = self.k8s_client.V1DeleteOptions() self.addCleanup(custom_obj_api.delete_namespaced_custom_object, group, version, namespace, plural, name, body) return name, obj", affinity=None):,48,37
openstack%2Fnetworking-ovn~stable%2Ftrain~I4d4507a67b9564a7d5719116aaf17a47774e1b0e,openstack/networking-ovn,stable/train,I4d4507a67b9564a7d5719116aaf17a47774e1b0e,[migration] Create Mac_Bindings before testing FIP,MERGED,2020-02-12 14:53:39.000000000,2020-02-25 08:34:53.000000000,2020-02-25 08:33:19.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-02-12 14:53:39.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/resources/validate/templates/validate-resources.sh.j2'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/945e9eb762081dd2aa5563cc8a4eaceb57e44250', 'message': ""[migration] Create Mac_Bindings before testing FIP\n\nThere is an issue in core OVN where in DVR environment packets destined\nto FIP are delivered to controller node and sent to compute hosting FIP\nvia tunnel. This causes problems on physical fabric ARP caches and takes\nsome time to recover. It usually takes about 10 ICMP packets to heal ARP\ncaches, this patch sends 30 packets before testing FIP accessibility.\n\nNOTE: Migration part hasn't been migrated to Neutron yet, thus this\n      patch goes to stable/train for now.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1788193\n\nChange-Id: I4d4507a67b9564a7d5719116aaf17a47774e1b0e\n""}]",5,707403,945e9eb762081dd2aa5563cc8a4eaceb57e44250,16,7,1,8655,,,0,"[migration] Create Mac_Bindings before testing FIP

There is an issue in core OVN where in DVR environment packets destined
to FIP are delivered to controller node and sent to compute hosting FIP
via tunnel. This causes problems on physical fabric ARP caches and takes
some time to recover. It usually takes about 10 ICMP packets to heal ARP
caches, this patch sends 30 packets before testing FIP accessibility.

NOTE: Migration part hasn't been migrated to Neutron yet, thus this
      patch goes to stable/train for now.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1788193

Change-Id: I4d4507a67b9564a7d5719116aaf17a47774e1b0e
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/03/707403/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/playbooks/roles/resources/validate/templates/validate-resources.sh.j2'],1,945e9eb762081dd2aa5563cc8a4eaceb57e44250,ovn_migration,# WORKAROUND: There is a problem in core OVN where in DVR case of missing MAC_Bindings # packets are sent from controller to compute via tunnel. Let the # MAC_Bindings be created first before testing accessibility of a FIP. # https://bugzilla.redhat.com/show_bug.cgi?id=1788193 set +e ping -c 30 $server_ip set -e ,,9,0
openstack%2Fnova~master~Ie2e2a4dc31b9fdcd6ac87c14f564621803c8d4cf,openstack/nova,master,Ie2e2a4dc31b9fdcd6ac87c14f564621803c8d4cf,zuul: Add Fedora based jobs to the experimental queue,MERGED,2020-01-06 14:07:19.000000000,2020-02-25 07:49:49.000000000,2020-02-20 15:03:03.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-06 14:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0798cd9be62abdfe852ffa02c5b1d8bab0ca35f', 'message': 'zuul: Add Fedora based jobs to the experimental queue\n\nThis change adds two Fedora based jobs to the experimental queue with\nthe aim of providing improved coverage for anyone working on features\nthat rely on recently released Libvirt, QEMU or KVM features.\n\nChange-Id: Ie2e2a4dc31b9fdcd6ac87c14f564621803c8d4cf\n'}, {'number': 2, 'created': '2020-01-06 14:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bcc2da986b80d10fbd2f51629974fd044d4e91b', 'message': 'zuul: Add Fedora based jobs to the experimental queue\n\nThis change adds two Fedora based jobs to the experimental queue with\nthe aim of providing improved coverage for anyone working on features\nthat rely on recently released Libvirt, QEMU or KVM features.\n\nDepends-On: https://review.opendev.org/#/c/701228/\nChange-Id: Ie2e2a4dc31b9fdcd6ac87c14f564621803c8d4cf\n'}, {'number': 3, 'created': '2020-01-27 20:13:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/28627d6595369aa9969651376f258350dfb907fd', 'message': 'zuul: Add Fedora based jobs to the experimental queue\n\nThis change adds two Fedora based jobs to the experimental queue with\nthe aim of providing improved coverage for anyone working on features\nthat rely on recently released Libvirt, QEMU or KVM features.\n\nDepends-On: https://review.opendev.org/#/c/701228/\nChange-Id: Ie2e2a4dc31b9fdcd6ac87c14f564621803c8d4cf\n'}]",2,701231,28627d6595369aa9969651376f258350dfb907fd,56,11,3,10135,,,0,"zuul: Add Fedora based jobs to the experimental queue

This change adds two Fedora based jobs to the experimental queue with
the aim of providing improved coverage for anyone working on features
that rely on recently released Libvirt, QEMU or KVM features.

Depends-On: https://review.opendev.org/#/c/701228/
Change-Id: Ie2e2a4dc31b9fdcd6ac87c14f564621803c8d4cf
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/701231/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c0798cd9be62abdfe852ffa02c5b1d8bab0ca35f,fedora-virt-preview, - devstack-platform-fedora-latest: irrelevant-files: *dsvm-irrelevant-files - devstack-platform-fedora-latest-virt-preview: irrelevant-files: *dsvm-irrelevant-files,,4,0
openstack%2Frpm-packaging~master~I145c02af71edde3f8657c821fbe327607f391600,openstack/rpm-packaging,master,I145c02af71edde3f8657c821fbe327607f391600,update python-heatclient to 2.0.0,MERGED,2020-02-24 05:10:49.000000000,2020-02-25 06:35:12.000000000,2020-02-25 06:35:11.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-24 05:10:49.000000000', 'files': ['openstack/python-heatclient/python-heatclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8a50e44d3d793fbeef4aa4c87e2bace051472a36', 'message': 'update python-heatclient to 2.0.0\n\nDepends-on:I628fdc7d128fd710157d040a53b55bba5b20d81e\nChange-Id: I145c02af71edde3f8657c821fbe327607f391600\n'}]",0,709408,8a50e44d3d793fbeef4aa4c87e2bace051472a36,10,6,1,26570,,,0,"update python-heatclient to 2.0.0

Depends-on:I628fdc7d128fd710157d040a53b55bba5b20d81e
Change-Id: I145c02af71edde3f8657c821fbe327607f391600
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/08/709408/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-heatclient/python-heatclient.spec.j2'],1,8a50e44d3d793fbeef4aa4c87e2bace051472a36,,{% set upstream_version = upstream_version('2.0.0') %},{% set upstream_version = upstream_version('1.18.0') %},1,1
openstack%2Frpm-packaging~master~I531a9b1a9b09e02989cc757d2f54e0104193e0a4,openstack/rpm-packaging,master,I531a9b1a9b09e02989cc757d2f54e0104193e0a4,update tripleo-common to 12.1.0,MERGED,2020-02-24 04:57:18.000000000,2020-02-25 06:35:11.000000000,2020-02-25 06:35:11.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-24 04:57:18.000000000', 'files': ['openstack/tripleo-common/tripleo-common.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7bff257feacadff9c1f5059cba775fe6e3f50cf8', 'message': 'update tripleo-common to 12.1.0\n\nDepends-on:I0af48c3a12b7c0c359861b83a43ec49f31f2ab51\nChange-Id: I531a9b1a9b09e02989cc757d2f54e0104193e0a4\n'}]",0,709407,7bff257feacadff9c1f5059cba775fe6e3f50cf8,10,6,1,26570,,,0,"update tripleo-common to 12.1.0

Depends-on:I0af48c3a12b7c0c359861b83a43ec49f31f2ab51
Change-Id: I531a9b1a9b09e02989cc757d2f54e0104193e0a4
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/07/709407/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tripleo-common/tripleo-common.spec.j2'],1,7bff257feacadff9c1f5059cba775fe6e3f50cf8,,{% set upstream_version = upstream_version('12.1.0') %},{% set upstream_version = upstream_version('11.2.0') %},1,1
openstack%2Frpm-packaging~master~Ie8f5280954e0ff58e923a832f56bae46c62620a7,openstack/rpm-packaging,master,Ie8f5280954e0ff58e923a832f56bae46c62620a7,update constraint for os-traits to new release 2.2.0,MERGED,2020-02-24 08:07:57.000000000,2020-02-25 06:32:01.000000000,2020-02-25 06:32:00.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-24 08:07:57.000000000', 'files': ['openstack/os-traits/os-traits.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/acd4d74f60b67ca07e7542784e88b9d80be025d7', 'message': 'update constraint for os-traits to new release 2.2.0\n\nDepends-on:Ia227832e63083aaa00f4b636d5fb415c53fde125\nChange-Id: Ie8f5280954e0ff58e923a832f56bae46c62620a7\n'}]",0,709423,acd4d74f60b67ca07e7542784e88b9d80be025d7,10,6,1,26571,,,0,"update constraint for os-traits to new release 2.2.0

Depends-on:Ia227832e63083aaa00f4b636d5fb415c53fde125
Change-Id: Ie8f5280954e0ff58e923a832f56bae46c62620a7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/23/709423/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-traits/os-traits.spec.j2'],1,acd4d74f60b67ca07e7542784e88b9d80be025d7,os-traits,{% set upstream_version = upstream_version('2.2.0') %},{% set upstream_version = upstream_version('2.1.0') %},1,1
openstack%2Frpm-packaging~master~I9eb3a18d1fa11fe13c19e714cd46d5ce554434bf,openstack/rpm-packaging,master,I9eb3a18d1fa11fe13c19e714cd46d5ce554434bf,update os-brick to 3.0.0,MERGED,2020-02-24 04:45:15.000000000,2020-02-25 06:32:00.000000000,2020-02-25 06:32:00.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-24 04:45:15.000000000', 'files': ['openstack/os-brick/os-brick.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5ff62a4949aa8062518e06cd6cf0cb904916c63c', 'message': 'update os-brick to 3.0.0\n\nDepends-on:Ia417739e51fa15b8da010e15ec9ac2497ad9c6ac\nChange-Id: I9eb3a18d1fa11fe13c19e714cd46d5ce554434bf\n'}]",0,709405,5ff62a4949aa8062518e06cd6cf0cb904916c63c,10,6,1,26570,,,0,"update os-brick to 3.0.0

Depends-on:Ia417739e51fa15b8da010e15ec9ac2497ad9c6ac
Change-Id: I9eb3a18d1fa11fe13c19e714cd46d5ce554434bf
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/05/709405/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-brick/os-brick.spec.j2'],1,5ff62a4949aa8062518e06cd6cf0cb904916c63c,,{% set upstream_version = upstream_version('3.0.0') %},{% set upstream_version = upstream_version('2.11.0') %},1,1
openstack%2Ftempest~master~I8a882878493e3fe39bbfe0628991ee551c15d1b0,openstack/tempest,master,I8a882878493e3fe39bbfe0628991ee551c15d1b0,Deprecate spice_console and rdp_console config items,MERGED,2019-11-01 06:14:20.000000000,2020-02-25 06:27:30.000000000,2020-02-25 06:25:04.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-01 06:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cb304c89fcb1971e98cd057994c4b1ed23fdb55d', 'message': 'Deprecate spice_console and rdp_console config items\n\nspice_console and rdp_console are no longer used after\n9f5adf8053196ac103302d4d7ea3b1f927caff5d, this is to deprecate\nthem for removal.\n\nChange-Id: I8a882878493e3fe39bbfe0628991ee551c15d1b0\n'}, {'number': 2, 'created': '2019-11-04 01:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c4fa23c6a128e864b8b8c85b86b231f2fcc4874', 'message': 'Deprecate spice_console and rdp_console config items\n\nspice_console and rdp_console are no longer used after\n9f5adf8053196ac103302d4d7ea3b1f927caff5d, this is to deprecate\nthem for removal.\n\nChange-Id: I8a882878493e3fe39bbfe0628991ee551c15d1b0\n'}, {'number': 3, 'created': '2019-11-04 05:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7e46edb6b0a087cead53e62ef0c4ef0102a4edf', 'message': 'Deprecate spice_console and rdp_console config items\n\nspice_console and rdp_console are no longer used after\n9f5adf8053196ac103302d4d7ea3b1f927caff5d, this is to deprecate\nthem for removal.\n\nChange-Id: I8a882878493e3fe39bbfe0628991ee551c15d1b0\n'}, {'number': 4, 'created': '2020-02-19 01:17:58.000000000', 'files': ['releasenotes/notes/deprecate-spice-rdp-console-config-f2af173552axfb72.yaml', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d5bda712599a329acb865f9a9a41ad55824b1781', 'message': 'Deprecate spice_console and rdp_console config items\n\nspice_console and rdp_console are no longer used after\n9f5adf8053196ac103302d4d7ea3b1f927caff5d, this is to deprecate\nthem for removal.\n\nChange-Id: I8a882878493e3fe39bbfe0628991ee551c15d1b0\n'}]",1,692491,d5bda712599a329acb865f9a9a41ad55824b1781,53,8,4,20190,,,0,"Deprecate spice_console and rdp_console config items

spice_console and rdp_console are no longer used after
9f5adf8053196ac103302d4d7ea3b1f927caff5d, this is to deprecate
them for removal.

Change-Id: I8a882878493e3fe39bbfe0628991ee551c15d1b0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/91/692491/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,cb304c89fcb1971e98cd057994c4b1ed23fdb55d,spice_console," deprecated_for_removal=True, deprecated_reason=""Testcases using this config option are already "" ""removed, so the option can be removed.""), deprecated_for_removal=True, deprecated_reason=""Testcases using this config option are already "" ""removed, so the option can be removed.""),",,6,0
openstack%2Fnova~master~I4c3fbb213e023ac16efc0b8561f975a659311684,openstack/nova,master,I4c3fbb213e023ac16efc0b8561f975a659311684,Clean up allocation if unshelve fails due to neutron,MERGED,2020-02-10 14:54:29.000000000,2020-02-25 06:08:57.000000000,2020-02-20 17:06:01.000000000,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-10 14:54:29.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1862633.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e65d4a131a7ebc02261f5df69fa1b394a502f268', 'message': 'Clean up allocation if unshelve fails due to neutron\n\nWhen port binding update fails during unshelve of a shelve offloaded\ninstance compute manager has to catch the exception and clean up the\ndestination host allocation.\n\nChange-Id: I4c3fbb213e023ac16efc0b8561f975a659311684\nCloses-Bug: #1862633\n'}]",0,706868,e65d4a131a7ebc02261f5df69fa1b394a502f268,28,10,1,9708,,,0,"Clean up allocation if unshelve fails due to neutron

When port binding update fails during unshelve of a shelve offloaded
instance compute manager has to catch the exception and clean up the
destination host allocation.

Change-Id: I4c3fbb213e023ac16efc0b8561f975a659311684
Closes-Bug: #1862633
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/706868/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1862633.py']",2,e65d4a131a7ebc02261f5df69fa1b394a502f268,bug/1862633," self.assertEqual(0, len(allocations))"," # allocations = self.placement_api.get( # '/allocations/%s' % server['id']).body['allocations'] # self.assertEqual(0, len(allocations)) # # but the allocation is leaked this is bug 1862633 self.assertEqual(1, len(allocations))",5,9
openstack%2Fnova~master~If5808075d853341bf274f35b7fcf0e0712f8f77a,openstack/nova,master,If5808075d853341bf274f35b7fcf0e0712f8f77a,trivial: Remove 'run_once' helper,MERGED,2020-02-04 12:46:25.000000000,2020-02-25 06:04:14.000000000,2020-02-22 01:53:54.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28522}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-04 12:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cb0b4fd098b45d30300c5a7ed9163c0087d8b5d', 'message': ""trivial: Remove 'run_once' helper\n\nThis should have been removed when we removed the placement code in\nchange I4181f39dea7eb10b84e6f5057938767b3e422aff.\n\nChange-Id: If5808075d853341bf274f35b7fcf0e0712f8f77a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-02-05 11:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca8d7988a5c966d6da87194e6c5664f98ee472d8', 'message': ""trivial: Remove 'run_once' helper\n\nThis should have been removed when we removed the placement code in\nchange I4181f39dea7eb10b84e6f5057938767b3e422aff.\n\nChange-Id: If5808075d853341bf274f35b7fcf0e0712f8f77a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-02-05 17:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96f3f649a1571fa81d4aed1ec10774f4c37b5d19', 'message': ""trivial: Remove 'run_once' helper\n\nThis should have been removed when we removed the placement code in\nchange I4181f39dea7eb10b84e6f5057938767b3e422aff.\n\nChange-Id: If5808075d853341bf274f35b7fcf0e0712f8f77a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-02-05 21:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19f9b4a167d023e18a8c25fd0171db4f366296bd', 'message': ""trivial: Remove 'run_once' helper\n\nThis should have been removed when we removed the placement code in\nchange I4181f39dea7eb10b84e6f5057938767b3e422aff.\n\nChange-Id: If5808075d853341bf274f35b7fcf0e0712f8f77a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2020-02-06 15:49:07.000000000', 'files': ['nova/tests/unit/test_utils.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c8918e0c0eaf49e7e63338b249acaac6b2ef2f29', 'message': ""trivial: Remove 'run_once' helper\n\nThis should have been removed when we removed the placement code in\nchange I4181f39dea7eb10b84e6f5057938767b3e422aff.\n\nChange-Id: If5808075d853341bf274f35b7fcf0e0712f8f77a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,705656,c8918e0c0eaf49e7e63338b249acaac6b2ef2f29,70,12,5,15334,,,0,"trivial: Remove 'run_once' helper

This should have been removed when we removed the placement code in
change I4181f39dea7eb10b84e6f5057938767b3e422aff.

Change-Id: If5808075d853341bf274f35b7fcf0e0712f8f77a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/705656/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_utils.py', 'nova/utils.py']",2,2cb0b4fd098b45d30300c5a7ed9163c0087d8b5d,mypy-integration,,"def run_once(message, logger, cleanup=None): """"""This is a utility function decorator to ensure a function is run once and only once in an interpreter instance. The decorated function object can be reset by calling its reset function. All exceptions raised by the wrapped function, logger and cleanup function will be propagated to the caller. """""" def outer_wrapper(func): @functools.wraps(func) def wrapper(*args, **kwargs): if not wrapper.called: # Note(sean-k-mooney): the called state is always # updated even if the wrapped function completes # by raising an exception. If the caller catches # the exception it is their responsibility to call # reset if they want to re-execute the wrapped function. try: return func(*args, **kwargs) finally: wrapper.called = True else: logger(message) wrapper.called = False def reset(wrapper, *args, **kwargs): # Note(sean-k-mooney): we conditionally call the # cleanup function if one is provided only when the # wrapped function has been called previously. We catch # and reraise any exception that may be raised and update # the called state in a finally block to ensure its # always updated if reset is called. try: if cleanup and wrapper.called: return cleanup(*args, **kwargs) finally: wrapper.called = False wrapper.reset = functools.partial(reset, wrapper) return wrapper return outer_wrapper ",0,141
openstack%2Frequirements~master~I6d1e1316e416fdaf7c94a7d04fb08fc5cd7d6ed7,openstack/requirements,master,I6d1e1316e416fdaf7c94a7d04fb08fc5cd7d6ed7,update constraint for python-openstackclient to new release 5.0.0,MERGED,2020-02-24 19:23:01.000000000,2020-02-25 05:32:57.000000000,2020-02-25 05:31:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 19:23:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/130135dbdff65062059ca60f395c5bb0c8026061', 'message': 'update constraint for python-openstackclient to new release 5.0.0\n\nChange-Id: I6d1e1316e416fdaf7c94a7d04fb08fc5cd7d6ed7\nmeta:version: 5.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta:release:Change-Id: I2f9640be40504c9dcd54c6f11f7ac1422240f7f6\nmeta:release:Code-Review+1: Monty Taylor <mordred@inaugust.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,709591,130135dbdff65062059ca60f395c5bb0c8026061,7,2,1,11131,,,0,"update constraint for python-openstackclient to new release 5.0.0

Change-Id: I6d1e1316e416fdaf7c94a7d04fb08fc5cd7d6ed7
meta:version: 5.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Stephen Finucane <sfinucan@redhat.com>
meta:release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta:release:Change-Id: I2f9640be40504c9dcd54c6f11f7ac1422240f7f6
meta:release:Code-Review+1: Monty Taylor <mordred@inaugust.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/709591/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,130135dbdff65062059ca60f395c5bb0c8026061,new-release,python-openstackclient===5.0.0,python-openstackclient===4.0.0,1,1
openstack%2Fnova~master~I851c5ead8721b2819b15c47bc1734883fa849732,openstack/nova,master,I851c5ead8721b2819b15c47bc1734883fa849732,trivial: Merge unnecessary 'NovaProxyRequestHandlerBase' separation,MERGED,2020-02-04 12:46:25.000000000,2020-02-25 05:31:54.000000000,2020-02-22 00:22:05.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-04 12:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d9f9e65e2acce6e82d806f30a92fae696b84f4b', 'message': ""trivial: Merge unnecessary 'NovaProxyRequestHandlerBase' separation\n\nChange I0498599fd636aa9e30df932f0d893db5efa23260 removed the need to\nhave this base class.\n\nChange-Id: I851c5ead8721b2819b15c47bc1734883fa849732\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-02-05 11:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53125643260842a9edb8ddd315bb76274e3f1771', 'message': ""trivial: Merge unnecessary 'NovaProxyRequestHandlerBase' separation\n\nChange I0498599fd636aa9e30df932f0d893db5efa23260 removed the need to\nhave this base class.\n\nChange-Id: I851c5ead8721b2819b15c47bc1734883fa849732\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-02-05 17:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bf43674eb73e276f8c491e20ec3113a59fdbc68', 'message': ""trivial: Merge unnecessary 'NovaProxyRequestHandlerBase' separation\n\nChange I0498599fd636aa9e30df932f0d893db5efa23260 removed the need to\nhave this base class.\n\nChange-Id: I851c5ead8721b2819b15c47bc1734883fa849732\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-02-05 21:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88dbfbd1f23a68598fa6977c84c6107dc52c3835', 'message': ""trivial: Merge unnecessary 'NovaProxyRequestHandlerBase' separation\n\nChange I0498599fd636aa9e30df932f0d893db5efa23260 removed the need to\nhave this base class.\n\nChange-Id: I851c5ead8721b2819b15c47bc1734883fa849732\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2020-02-06 15:48:59.000000000', 'files': ['nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/291d45065a940c94a2f5866beb6e9915086d249f', 'message': ""trivial: Merge unnecessary 'NovaProxyRequestHandlerBase' separation\n\nChange I05dd6edba00264f22d868b4318ad7a4fb621c996 removed the need to\nhave this base class, which was first introduced in change\nI7858dbb49bee8de3fe725beb6793eac3ecba71b6.\n\nChange-Id: I851c5ead8721b2819b15c47bc1734883fa849732\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,705655,291d45065a940c94a2f5866beb6e9915086d249f,77,13,5,15334,,,0,"trivial: Merge unnecessary 'NovaProxyRequestHandlerBase' separation

Change I05dd6edba00264f22d868b4318ad7a4fb621c996 removed the need to
have this base class, which was first introduced in change
I7858dbb49bee8de3fe725beb6793eac3ecba71b6.

Change-Id: I851c5ead8721b2819b15c47bc1734883fa849732
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/705655/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/console/websocketproxy.py'],1,0d9f9e65e2acce6e82d806f30a92fae696b84f4b,mypy-integration,"class NovaProxyRequestHandler(websockify.ProxyRequestHandler): def __init__(self, *args, **kwargs): self._compute_rpcapi = None websockify.ProxyRequestHandler.__init__(self, *args, **kwargs) @property def compute_rpcapi(self): # Lazy load the rpcapi/ComputeAPI upon first use for this connection. # This way, if we receive a TCP RST, we will not create a ComputeAPI # object we won't use. if not self._compute_rpcapi: self._compute_rpcapi = compute_rpcapi.ComputeAPI() return self._compute_rpcapi","class NovaProxyRequestHandlerBase(object): class NovaProxyRequestHandler(NovaProxyRequestHandlerBase, websockify.ProxyRequestHandler): def __init__(self, *args, **kwargs): self._compute_rpcapi = None websockify.ProxyRequestHandler.__init__(self, *args, **kwargs) @property def compute_rpcapi(self): # Lazy load the rpcapi/ComputeAPI upon first use for this connection. # This way, if we receive a TCP RST, we will not create a ComputeAPI # object we won't use. if not self._compute_rpcapi: self._compute_rpcapi = compute_rpcapi.ComputeAPI() return self._compute_rpcapi ",14,17
openstack%2Fneutron~stable%2Fqueens~I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb,openstack/neutron,stable/queens,I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb,Mock check if ipv6 is enabled in L3 agent unit tests,MERGED,2020-02-21 13:11:40.000000000,2020-02-25 05:31:40.000000000,2020-02-25 05:31:40.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-21 13:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75b46685a09b8bf9bf22451c1d2537fea2e20b6c', 'message': 'Mock check if ipv6 is enabled in L3 agent unit tests\n\nWithout this mock UT related configure_ipv6 method were failing\ne.g. on systems when IPv6 was disabled or on systems where such\ncheck should be done differently, like MacOS.\n\nChange-Id: I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb\n(cherry picked from commit c20b5e347dcc47bfe2f649cdd4310c1fac68b447)\n'}, {'number': 2, 'created': '2020-02-24 09:45:13.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a9036f49e7eb3f64e42bd7dabb7b571a2111556', 'message': 'Mock check if ipv6 is enabled in L3 agent unit tests\n\nWithout this mock UT related configure_ipv6 method were failing\ne.g. on systems when IPv6 was disabled or on systems where such\ncheck should be done differently, like MacOS.\n\nChange-Id: I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb\n(cherry picked from commit c20b5e347dcc47bfe2f649cdd4310c1fac68b447)\n'}]",0,709133,5a9036f49e7eb3f64e42bd7dabb7b571a2111556,15,4,2,11975,,,0,"Mock check if ipv6 is enabled in L3 agent unit tests

Without this mock UT related configure_ipv6 method were failing
e.g. on systems when IPv6 was disabled or on systems where such
check should be done differently, like MacOS.

Change-Id: I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb
(cherry picked from commit c20b5e347dcc47bfe2f649cdd4310c1fac68b447)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/709133/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/agent/l3/test_agent.py'],1,75b46685a09b8bf9bf22451c1d2537fea2e20b6c,fix-ipv6-detection-in-l3-unit-tests-stable/stein-stable/rocky-stable/queens," with mock.patch( 'neutron.common.ipv6_utils.is_enabled_and_bind_by_default', return_value=True): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) "," agent = l3_agent.L3NATAgent(HOSTNAME, self.conf)",5,1
openstack%2Fmanila~master~I20e420e4f76ed5522a5fdbe939ad3109be29a9fd,openstack/manila,master,I20e420e4f76ed5522a5fdbe939ad3109be29a9fd,Update devstack repository URL,MERGED,2020-02-19 09:24:38.000000000,2020-02-25 05:19:41.000000000,2020-02-19 11:27:54.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15831}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 09:24:38.000000000', 'files': ['doc/source/contributor/development-environment-devstack.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/bf15efe3184bbd4b7176db2447dbab157545c71e', 'message': 'Update devstack repository URL\n\nChange-Id: I20e420e4f76ed5522a5fdbe939ad3109be29a9fd\n'}]",0,708592,bf15efe3184bbd4b7176db2447dbab157545c71e,14,5,1,15197,,,0,"Update devstack repository URL

Change-Id: I20e420e4f76ed5522a5fdbe939ad3109be29a9fd
",git fetch https://review.opendev.org/openstack/manila refs/changes/92/708592/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/development-environment-devstack.rst'],1,bf15efe3184bbd4b7176db2447dbab157545c71e,devstack-repo, git clone https://opendev.org/openstack/devstack.git, git clone https://git.openstack.org/openstack-dev/devstack,1,1
openstack%2Fnova~master~I9b1d57fd513386e552afbbc8a59cf3a4c54b6908,openstack/nova,master,I9b1d57fd513386e552afbbc8a59cf3a4c54b6908,trivial: Bump minimum version of websockify,MERGED,2020-02-04 12:46:25.000000000,2020-02-25 05:09:58.000000000,2020-02-21 17:53:25.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-04 12:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ea92854b0deefddf790900da8c01d2742e9c96c', 'message': ""trivial: Bump minimum version of websockify\n\nThis includes a couple of fixes and removes the need for custom\nworkarounds, like the removal of the 'address_string' helper at [1].\n\n[1] https://github.com/novnc/websockify/commit/be9823bf\n\nChange-Id: I9b1d57fd513386e552afbbc8a59cf3a4c54b6908\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-02-05 11:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebef2b5bfdb213e04ba9787ee2a14739ce953d4b', 'message': ""trivial: Bump minimum version of websockify\n\nThis includes a couple of fixes and removes the need for custom\nworkarounds, like the removal of the 'address_string' helper at [1].\n\n[1] https://github.com/novnc/websockify/commit/be9823bf\n\nChange-Id: I9b1d57fd513386e552afbbc8a59cf3a4c54b6908\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-02-05 17:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9317c2335a5c70ca13e53f4fa008d79359e35d07', 'message': ""trivial: Bump minimum version of websockify\n\nThis includes a couple of fixes and removes the need for custom\nworkarounds, like the removal of the 'address_string' helper at [1].\n\n[1] https://github.com/novnc/websockify/commit/be9823bf\n\nChange-Id: I9b1d57fd513386e552afbbc8a59cf3a4c54b6908\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-02-05 21:31:35.000000000', 'files': ['requirements.txt', 'nova/console/websocketproxy.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/082dc59b891b0e231bc82cb88a4b17646adbfac3', 'message': ""trivial: Bump minimum version of websockify\n\nThis includes a couple of fixes and removes the need for custom\nworkarounds, like the removal of the 'address_string' helper at [1].\n\n[1] https://github.com/novnc/websockify/commit/be9823bf\n\nChange-Id: I9b1d57fd513386e552afbbc8a59cf3a4c54b6908\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,705654,082dc59b891b0e231bc82cb88a4b17646adbfac3,70,13,4,15334,,,0,"trivial: Bump minimum version of websockify

This includes a couple of fixes and removes the need for custom
workarounds, like the removal of the 'address_string' helper at [1].

[1] https://github.com/novnc/websockify/commit/be9823bf

Change-Id: I9b1d57fd513386e552afbbc8a59cf3a4c54b6908
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/705654/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/console/websocketproxy.py', 'lower-constraints.txt']",3,7ea92854b0deefddf790900da8c01d2742e9c96c,mypy-integration,websockify==0.9.0,websockify==0.8.0,3,17
openstack%2Floci~master~I86d257ea442a6eb1e04c6a8121cfab1e7581fc24,openstack/loci,master,I86d257ea442a6eb1e04c6a8121cfab1e7581fc24,Use virtualenv from upper-constraints.txt,ABANDONED,2020-02-11 04:39:28.000000000,2020-02-25 05:06:22.000000000,,"[{'_account_id': 8064}, {'_account_id': 8863}, {'_account_id': 9373}, {'_account_id': 17068}, {'_account_id': 18538}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-02-11 04:39:28.000000000', 'files': ['scripts/requirements.sh', 'scripts/setup_pip.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/6740a8ae3601f51b0e9b4555a58fdb233ba2b58c', 'message': ""Use virtualenv from upper-constraints.txt\n\nVirtualenv >20 break things in multiple ways, and it's an omission that\nwe don't constraint it, as it's a part of upper-constraints.txt.\n\nChange-Id: I86d257ea442a6eb1e04c6a8121cfab1e7581fc24\n""}]",0,707058,6740a8ae3601f51b0e9b4555a58fdb233ba2b58c,17,8,1,8863,,,0,"Use virtualenv from upper-constraints.txt

Virtualenv >20 break things in multiple ways, and it's an omission that
we don't constraint it, as it's a part of upper-constraints.txt.

Change-Id: I86d257ea442a6eb1e04c6a8121cfab1e7581fc24
",git fetch https://review.opendev.org/openstack/loci refs/changes/58/707058/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/requirements.sh', 'scripts/setup_pip.sh']",2,6740a8ae3601f51b0e9b4555a58fdb233ba2b58c,,"UPPER_CONSTRAINTS_FILE=/tmp/wheels/upper-constraints.txt if [[ ""${PROJECT}"" == ""requirements"" ]]; then UPPER_CONSTRAINTS_FILE=/upper-constraints.txt fi # virtualenv is also constrainted by uc, so using it here pip install --upgrade -c ${UPPER_CONSTRAINTS_FILE} ${PIP_ARGS} virtualenv",pip install --upgrade ${PIP_ARGS} virtualenv,10,3
openstack%2Fnova~master~Id0d8c52cba8b548a0e6436d94765b84f040efee5,openstack/nova,master,Id0d8c52cba8b548a0e6436d94765b84f040efee5,trivial: Fetch 'Service' objects once when building AZs,MERGED,2020-02-04 12:46:25.000000000,2020-02-25 04:53:46.000000000,2020-02-21 17:53:18.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-04 12:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f405d2bae19c5d5d10260bf0d8409b8c71aaded', 'message': 'trivial: Address TODO\n\nA small optimization pointed out by mriedem.\n\nChange-Id: Id0d8c52cba8b548a0e6436d94765b84f040efee5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-02-05 11:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94861a00491fb9541a21b467002d9d7f2996b920', 'message': 'trivial: Address TODO\n\nA small optimization pointed out by mriedem.\n\nChange-Id: Id0d8c52cba8b548a0e6436d94765b84f040efee5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2020-02-05 17:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1826dfbd724f2e0ca4f31d21b165354d213aaab', 'message': ""trivial: Fetch 'Service' objects once when building AZs\n\nAs noted in a TODO by mriedem, we were making two trips to the DB when\nretrieving 'Service' objects in order to build a list of availability\nzones. Optimize things so that this is no longer the case.\n\nChange-Id: Id0d8c52cba8b548a0e6436d94765b84f040efee5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-02-05 21:31:35.000000000', 'files': ['nova/api/openstack/compute/availability_zone.py', 'nova/tests/fixtures.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/availability_zones.py', 'nova/tests/unit/test_availability_zones.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/14fed95f61e66cb63818eb1e2c856d6f9b3b6211', 'message': ""trivial: Fetch 'Service' objects once when building AZs\n\nAs noted in a TODO by mriedem, we were making two trips to the DB when\nretrieving 'Service' objects in order to build a list of availability\nzones. Optimize things so that this is no longer the case.\n\nChange-Id: Id0d8c52cba8b548a0e6436d94765b84f040efee5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",18,705653,14fed95f61e66cb63818eb1e2c856d6f9b3b6211,80,11,4,15334,,,0,"trivial: Fetch 'Service' objects once when building AZs

As noted in a TODO by mriedem, we were making two trips to the DB when
retrieving 'Service' objects in order to build a list of availability
zones. Optimize things so that this is no longer the case.

Change-Id: Id0d8c52cba8b548a0e6436d94765b84f040efee5
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/705653/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/availability_zone.py', 'nova/tests/fixtures.py', 'nova/availability_zones.py']",3,5f405d2bae19c5d5d10260bf0d8409b8c71aaded,mypy-integration," with_hosts=False, services=None): :param services: list of services to use; if None, enabled services will be retrieved from all cells with zones set if services is None: services = hostapi.service_get_all( context, set_zones=True, all_cells=True) enabled_services = [] disabled_services = [] for service in services: if not service.disabled: enabled_services.append(service) else: disabled_services.append(service) if with_hosts: return _get_availability_zones_with_hosts( enabled_services, disabled_services, get_only_available) else: return _get_availability_zones( enabled_services, disabled_services, get_only_available) def _get_availability_zones( enabled_services, disabled_services, get_only_available=False): for service in enabled_services: zone = service['availability_zone'] if zone not in available_zones: if get_only_available: not_available_zones = [] for service in disabled_services: zone = service['availability_zone'] if zone in available_zones: continue if zone not in not_available_zones: not_available_zones.append(zone) return available_zones, not_available_zones def _get_availability_zones_with_hosts( enabled_services, disabled_services, get_only_available=False): available_zones = {} for service in enabled_services: zone = service['availability_zone'] host = service['host'] if zone not in available_zones: available_zones[zone] = set([host]) else: available_zones[zone].add(host) if get_only_available: return list(available_zones.items()) not_available_zones = {} for service in disabled_services: zone = service['availability_zone'] host = service['host'] if zone in available_zones: continue if zone not in not_available_zones: not_available_zones[zone] = set([host]) else: not_available_zones[zone].add(host) return list(available_zones.items()), list(not_available_zones.items()) "," with_hosts=False, enabled_services=None): :param enabled_services: list of enabled services to use; if None enabled services will be retrieved from all cells with zones set if enabled_services is None: enabled_services = hostapi.service_get_all( context, {'disabled': False}, set_zones=True, all_cells=True) for (zone, host) in [(service['availability_zone'], service['host']) for service in enabled_services]: if not with_hosts and zone not in available_zones: elif with_hosts: _available_zones = dict(available_zones) zone_hosts = _available_zones.setdefault(zone, set()) zone_hosts.add(host) # .items() returns a view in Py3, casting it to list for Py2 compat available_zones = list(_available_zones.items()) if not get_only_available: # TODO(mriedem): We could probably optimize if we know that we're going # to get both enabled and disabled services and just pull them all from # the cell DBs at the same time and then filter into enabled/disabled # lists in python. disabled_services = hostapi.service_get_all( context, {'disabled': True}, set_zones=True, all_cells=True) not_available_zones = [] azs = available_zones if not with_hosts else dict(available_zones) zones = [(service['availability_zone'], service['host']) for service in disabled_services if service['availability_zone'] not in azs] for (zone, host) in zones: if not with_hosts and zone not in not_available_zones: not_available_zones.append(zone) elif with_hosts: _not_available_zones = dict(not_available_zones) zone_hosts = _not_available_zones.setdefault(zone, set()) zone_hosts.add(host) # .items() returns a view in Py3, casting it to list for Py2 # compat not_available_zones = list(_not_available_zones.items()) return (available_zones, not_available_zones) else:",74,41
openstack%2Fmasakari~master~I4f732e63cde98a95fb7f326a8d7f32e90a0c336b,openstack/masakari,master,I4f732e63cde98a95fb7f326a8d7f32e90a0c336b,update segment api doc,MERGED,2019-12-24 07:46:51.000000000,2020-02-25 04:41:49.000000000,2020-02-25 04:40:29.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-12-24 07:46:51.000000000', 'files': ['api-ref/source/failover-segments.inc'], 'web_link': 'https://opendev.org/openstack/masakari/commit/65cd9ed8797d62c21d605a9b40afada8fd66d73d', 'message': 'update segment api doc\n\nChange-Id: I4f732e63cde98a95fb7f326a8d7f32e90a0c336b\n'}]",0,700489,65cd9ed8797d62c21d605a9b40afada8fd66d73d,11,8,1,24501,,,0,"update segment api doc

Change-Id: I4f732e63cde98a95fb7f326a8d7f32e90a0c336b
",git fetch https://review.opendev.org/openstack/masakari refs/changes/89/700489/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/failover-segments.inc'],1,65cd9ed8797d62c21d605a9b40afada8fd66d73d,,Updates the editable attributes of an existing segment.,Updates the editable attributes of an existing host.,1,1
openstack%2Ftripleo-heat-templates~master~I72e4b26d929c60caea3caf5d83a3ad102eef9d59,openstack/tripleo-heat-templates,master,I72e4b26d929c60caea3caf5d83a3ad102eef9d59,WIP: mount keytab into mistral container,ABANDONED,2020-02-24 20:05:44.000000000,2020-02-25 04:38:57.000000000,,"[{'_account_id': 9954}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-24 20:05:44.000000000', 'files': ['deployment/mistral/mistral-executor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16ef54222f5796cf4212c44a5d991ccbe9099f97', 'message': 'WIP: mount keytab into mistral container\n\nChange-Id: I72e4b26d929c60caea3caf5d83a3ad102eef9d59\n'}]",0,709604,16ef54222f5796cf4212c44a5d991ccbe9099f97,4,3,1,5046,,,0,"WIP: mount keytab into mistral container

Change-Id: I72e4b26d929c60caea3caf5d83a3ad102eef9d59
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/709604/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/mistral/mistral-executor-container-puppet.yaml'],1,16ef54222f5796cf4212c44a5d991ccbe9099f97,add_standalone_tls, - /etc/novajoin/krb5.keytab:/etc/novajoin/krb5.keytab:ro,,1,0
openstack%2Fkeystone~master~I28fd0fd499c40e33ff164fd643dadd6ac9009b17,openstack/keystone,master,I28fd0fd499c40e33ff164fd643dadd6ac9009b17,Tell reno to ignore the kilo branch,MERGED,2020-02-21 18:50:21.000000000,2020-02-25 04:16:43.000000000,2020-02-25 04:14:48.000000000,"[{'_account_id': 11904}, {'_account_id': 13063}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 18:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/601db3c42e0a1b1b6384fbe99a420d7f7caaade8', 'message': ""Tell reno to ingore the kilo branch\n\nThis patch was adopted from Idd56c3f37d5786daae7181c36d38d267cbf1885c\n\nOriginal description:\nWhen reno 3.x runs under setuptools, it scans all of the branches it can\nfind, including any that look like they're closed and have an -eol tag.\nThe old kilo branch in this repository has a jumbled history that\nsomehow makes it look like it should include tags that it doesn't. We\nknow that there are no release notes in that branch, because reno wasn't\nadopted while it was open. The releasenotes/source/index.rst links to\nseparate release notes in the wiki.\n\nThis patch tells reno to ignore that branch so that it doesn't throw an\nexception when it gets confused about the old tag.\n\nChange-Id: I28fd0fd499c40e33ff164fd643dadd6ac9009b17\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2020-02-21 18:51:15.000000000', 'files': ['.gitignore', 'reno.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/175cb0b642337d01c0466c8ff0409bcb09b8e3eb', 'message': ""Tell reno to ignore the kilo branch\n\nThis patch was adopted from Idd56c3f37d5786daae7181c36d38d267cbf1885c\n\nOriginal description:\nWhen reno 3.x runs under setuptools, it scans all of the branches it can\nfind, including any that look like they're closed and have an -eol tag.\nThe old kilo branch in this repository has a jumbled history that\nsomehow makes it look like it should include tags that it doesn't. We\nknow that there are no release notes in that branch, because reno wasn't\nadopted while it was open. The releasenotes/source/index.rst links to\nseparate release notes in the wiki.\n\nThis patch tells reno to ignore that branch so that it doesn't throw an\nexception when it gets confused about the old tag.\n\nChange-Id: I28fd0fd499c40e33ff164fd643dadd6ac9009b17\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,709213,175cb0b642337d01c0466c8ff0409bcb09b8e3eb,13,4,2,16465,,,0,"Tell reno to ignore the kilo branch

This patch was adopted from Idd56c3f37d5786daae7181c36d38d267cbf1885c

Original description:
When reno 3.x runs under setuptools, it scans all of the branches it can
find, including any that look like they're closed and have an -eol tag.
The old kilo branch in this repository has a jumbled history that
somehow makes it look like it should include tags that it doesn't. We
know that there are no release notes in that branch, because reno wasn't
adopted while it was open. The releasenotes/source/index.rst links to
separate release notes in the wiki.

This patch tells reno to ignore that branch so that it doesn't throw an
exception when it gets confused about the old tag.

Change-Id: I28fd0fd499c40e33ff164fd643dadd6ac9009b17
Co-Authored-By: Doug Hellmann <doug@doughellmann.com>
Co-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/13/709213/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'reno.yaml']",2,601db3c42e0a1b1b6384fbe99a420d7f7caaade8,ignore-kilo-reno,"--- # Ignore the kilo-eol tag because that branch does not work with reno # and contains no release notes. closed_branch_tag_re: ""(.+)(?<!kilo)-eol"" ",,6,0
openstack%2Fneutron~stable%2Frocky~I45a51736e4075e3dbc16827486869d70b659622d,openstack/neutron,stable/rocky,I45a51736e4075e3dbc16827486869d70b659622d,Fix resource schemas and releated `get_sorts` test cases,MERGED,2020-02-18 11:40:32.000000000,2020-02-25 04:14:46.000000000,2020-02-25 04:14:46.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28889}]","[{'number': 1, 'created': '2020-02-18 11:40:32.000000000', 'files': ['neutron/extensions/securitygroup.py', 'neutron/extensions/segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/11b5ba0660b9cf62e0d3c742790563607927942f', 'message': ""Fix resource schemas and releated `get_sorts` test cases\n\nWhen I'm trying to introduce a central sort-keys validation within\npatch [1] to `get_sorts` method in `neutron.api.api_common` module,\nI get blocked by some resource schemas and test cases. After reading\nneutron API docs and some inspection, I believe there exists uses of\nimproper sort keys in test cases and some resource schemes need to\nkeep aligned with offical documents.\n\n* Schemas of resource SecurityGroups/SG Rules/Segments don't provide\n`is_sort_key` flag for their sort key properties claimed in offical\ndocs as neutron-lib does. See [2] for more details.\n\n* Test cases of resource NetworkSegmentRange use unsupported sort keys,\ne.g: physical_network. Replace it with `name` property. See [2] for more\ndetails.\n\n[1] https://review.opendev.org/#/c/653903/\n[2] https://developer.openstack.org/api-ref/network/v2/index.html\n\nConflicts:\n    neutron/tests/unit/extensions/test_network_segment_range.py\n\nChange-Id: I45a51736e4075e3dbc16827486869d70b659622d\n(cherry picked from commit ed3f1087fa354a91721d3046ce134e18c86f22b3)\n(cherry picked from commit 874ffe0d6b362b19a22fdff1bbbb194687b9c1b8)\n""}]",0,708361,11b5ba0660b9cf62e0d3c742790563607927942f,17,7,1,11975,,,0,"Fix resource schemas and releated `get_sorts` test cases

When I'm trying to introduce a central sort-keys validation within
patch [1] to `get_sorts` method in `neutron.api.api_common` module,
I get blocked by some resource schemas and test cases. After reading
neutron API docs and some inspection, I believe there exists uses of
improper sort keys in test cases and some resource schemes need to
keep aligned with offical documents.

* Schemas of resource SecurityGroups/SG Rules/Segments don't provide
`is_sort_key` flag for their sort key properties claimed in offical
docs as neutron-lib does. See [2] for more details.

* Test cases of resource NetworkSegmentRange use unsupported sort keys,
e.g: physical_network. Replace it with `name` property. See [2] for more
details.

[1] https://review.opendev.org/#/c/653903/
[2] https://developer.openstack.org/api-ref/network/v2/index.html

Conflicts:
    neutron/tests/unit/extensions/test_network_segment_range.py

Change-Id: I45a51736e4075e3dbc16827486869d70b659622d
(cherry picked from commit ed3f1087fa354a91721d3046ce134e18c86f22b3)
(cherry picked from commit 874ffe0d6b362b19a22fdff1bbbb194687b9c1b8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/708361/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/securitygroup.py', 'neutron/extensions/segment.py']",2,11b5ba0660b9cf62e0d3c742790563607927942f,bug/1659175," 'is_sort_key': True, 'is_sort_key': True, 'is_sort_key': True, 'is_sort_key': True, 'is_sort_key': True, 'is_sort_key': True, 'is_sort_key': True,",,20,7
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I01b3055e606bbe3bad847d6a0f5ddaf44552a156,openstack/tripleo-heat-templates,stable/queens,I01b3055e606bbe3bad847d6a0f5ddaf44552a156,[Stein and older] Ensure rsync installed,MERGED,2020-02-21 23:52:09.000000000,2020-02-25 04:11:24.000000000,2020-02-25 04:11:24.000000000,"[{'_account_id': 3153}, {'_account_id': 8745}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 23:52:09.000000000', 'files': ['deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e92b8b5bdd2b48e4d477995e3ebf73521d818e8', 'message': '[Stein and older] Ensure rsync installed\n\nrsync needs to be installed in the case of deployed server.\n\nChange-Id: I01b3055e606bbe3bad847d6a0f5ddaf44552a156\nCloses-Bug: #1864232\n(cherry picked from commit a094a8d3938e543f36f138b2cfe758ff4a1cd904)\n'}]",0,709260,3e92b8b5bdd2b48e4d477995e3ebf73521d818e8,15,5,1,14985,,,0,"[Stein and older] Ensure rsync installed

rsync needs to be installed in the case of deployed server.

Change-Id: I01b3055e606bbe3bad847d6a0f5ddaf44552a156
Closes-Bug: #1864232
(cherry picked from commit a094a8d3938e543f36f138b2cfe758ff4a1cd904)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/709260/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh']",2,3e92b8b5bdd2b48e4d477995e3ebf73521d818e8,bug/1864118-stable/queens, tmpwatch \ rsync, tmpwatch,4,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I25f967f00036da45d630e8e528d68c24cbf3c5fe,openstack/tripleo-heat-templates,stable/train,I25f967f00036da45d630e8e528d68c24cbf3c5fe,Add an environment to disable Paunch,MERGED,2020-02-19 21:49:09.000000000,2020-02-25 04:11:22.000000000,2020-02-25 04:11:22.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-19 21:49:09.000000000', 'files': ['environments/disable-paunch.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f2e199883c1e9bfa0fdfa410da6ad26fca35b46', 'message': 'Add an environment to disable Paunch\n\nThis patch will help to disable Paunch by setting the needed options.\n\nChange-Id: I25f967f00036da45d630e8e528d68c24cbf3c5fe\n(cherry picked from commit 3d75a00a46f43d8d6bf707fdd36b5ac4a934adb9)\n'}]",0,708755,6f2e199883c1e9bfa0fdfa410da6ad26fca35b46,28,4,1,3153,,,0,"Add an environment to disable Paunch

This patch will help to disable Paunch by setting the needed options.

Change-Id: I25f967f00036da45d630e8e528d68c24cbf3c5fe
(cherry picked from commit 3d75a00a46f43d8d6bf707fdd36b5ac4a934adb9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/708755/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/disable-paunch.yaml'],1,6f2e199883c1e9bfa0fdfa410da6ad26fca35b46,disable/paunch-stable/train,"# This heat environment can be used to disable Paunch to manage containers.. # When Paunch is disabled, the containers not managed by Pacemaker will be # deployed by TripleO Ansible, in tripleo-container-manage role. parameter_defaults: EnablePaunch: false ",,6,0
openstack%2Fkeystone~master~I1cdbdc8668ed4312660ec269c40e1259517b327c,openstack/keystone,master,I1cdbdc8668ed4312660ec269c40e1259517b327c,Add docs about bootstrapping immutable roles,MERGED,2020-02-11 19:00:18.000000000,2020-02-25 03:19:58.000000000,2020-02-25 03:18:05.000000000,"[{'_account_id': 13063}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-11 19:00:18.000000000', 'files': ['doc/source/admin/bootstrap.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2e97ec5770e0f042c9710f9535ff228740e7ed70', 'message': 'Add docs about bootstrapping immutable roles\n\nAdd a note to the ``keystone-manage bootstrap`` documentation about the\nbehavior of immutable roles.\n\nChange-Id: I1cdbdc8668ed4312660ec269c40e1259517b327c\nDepends-on: https://review.opendev.org/705859\n'}]",0,707235,2e97ec5770e0f042c9710f9535ff228740e7ed70,8,3,1,8482,,,0,"Add docs about bootstrapping immutable roles

Add a note to the ``keystone-manage bootstrap`` documentation about the
behavior of immutable roles.

Change-Id: I1cdbdc8668ed4312660ec269c40e1259517b327c
Depends-on: https://review.opendev.org/705859
",git fetch https://review.opendev.org/openstack/keystone refs/changes/35/707235/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/bootstrap.rst'],1,2e97ec5770e0f042c9710f9535ff228740e7ed70,bootstrap-roles,"role. By default, these three roles are immutable, meaning they are created with the ``immutable`` resource option and cannot be modified or deleted unless the option is removed. To disable this behavior, add the ``--no-immutable-roles`` flag.",role.,4,1
openstack%2Fnova~master~I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160,openstack/nova,master,I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160,Follow-up: Add delete_on_termination to volume-attach API,MERGED,2019-09-06 10:55:53.000000000,2020-02-25 03:17:50.000000000,2020-02-20 00:38:42.000000000,"[{'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-06 10:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af63dd931cd1a38ff031293dbbda3d16dad0f6bc', 'message': 'Follow-up: Add delete_on_termination to volume-attach API\n\nSome comment mainly from gmann and takashin in [1] PS15.\nAdd some tests in test_volumes.py, and fix some docs error.\n\n[1]https://review.opendev.org/#/c/673133/15/nova/tests/unit/api/openstack/compute/test_volumes.py@1902\n\nDepends-On: https://review.opendev.org/#/c/673133/\nPart of blueprint support-delete-on-termination-in-server-attach-volume\n\nChange-Id: I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160\n'}, {'number': 2, 'created': '2019-09-09 05:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5966197ad926f7ec8b7697d71957db4791a18664', 'message': 'Follow-up: Add delete_on_termination to volume-attach API\n\nSome comment mainly from gmann and takashin in [1] PS15.\nAdd some tests in test_volumes.py, and fix some docs error.\n\n[1]https://review.opendev.org/#/c/673133/15/nova/tests/unit/api/openstack/compute/test_volumes.py@1902\n\nDepends-On: https://review.opendev.org/#/c/673133/\nPart of blueprint support-delete-on-termination-in-server-attach-volume\n\nChange-Id: I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160\n'}, {'number': 3, 'created': '2019-09-09 11:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78eccec1c220f83724dae85d514f5fbd11fbc668', 'message': 'Follow-up: Add delete_on_termination to volume-attach API\n\nSome comment mainly from gmann and takashin in [1] PS15.\nAdd some tests in test_volumes.py, and fix some docs error.\n\n[1]https://review.opendev.org/#/c/673133/15/nova/tests/unit/api/openstack/compute/test_volumes.py@1902\n\nDepends-On: https://review.opendev.org/#/c/673133/\nPart of blueprint support-delete-on-termination-in-server-attach-volume\n\nChange-Id: I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160\n'}, {'number': 4, 'created': '2019-09-09 14:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c810dd08da23dba3de73f31e40ffbd5efcef2d4', 'message': 'Follow-up: Add delete_on_termination to volume-attach API\n\nSome comment mainly from gmann and takashin in [1] PS15.\nAdd some tests in test_volumes.py, and fix some docs error.\n\n[1]https://review.opendev.org/#/c/673133/15/nova/tests/unit/api/openstack/compute/test_volumes.py@1902\n\nDepends-On: https://review.opendev.org/#/c/673133/\nPart of blueprint support-delete-on-termination-in-server-attach-volume\n\nChange-Id: I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160\n'}, {'number': 5, 'created': '2019-10-09 07:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3aa802796fb12046a608c332fa3f1cc5ffece94', 'message': 'Follow-up: Add delete_on_termination to volume-attach API\n\nSome comment mainly from gmann and takashin in [1] PS15.\nAdd some tests in test_volumes.py, and fix some docs error.\n\n[1]https://review.opendev.org/#/c/673133/15/nova/tests/unit/api/openstack/compute/test_volumes.py@1902\n\nDepends-On: https://review.opendev.org/#/c/673133/\nPart of blueprint support-delete-on-termination-in-server-attach-volume\n\nChange-Id: I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160\n'}, {'number': 6, 'created': '2019-10-16 02:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bbf6df69124ec189416a826855f2180d7633086', 'message': 'Follow-up: Add delete_on_termination to volume-attach API\n\nSome comment mainly from gmann and takashin in [1] PS15.\nAdd some tests in test_volumes.py, and fix some docs error.\n\n[1]https://review.opendev.org/#/c/673133/15/nova/tests/unit/api/openstack/compute/test_volumes.py@1902\n\nDepends-On: https://review.opendev.org/#/c/673133/\nPart of blueprint support-delete-on-termination-in-server-attach-volume\n\nChange-Id: I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160\n'}, {'number': 7, 'created': '2019-10-16 07:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a761b21b374ea5691d47d95a6ecb5365bf4b3883', 'message': 'Follow-up: Add delete_on_termination to volume-attach API\n\nSome comment mainly from gmann and takashin in [1] PS15.\nAdd some tests in test_volumes.py, and fix some docs error.\n\n[1]https://review.opendev.org/#/c/673133/15/nova/tests/unit/api/openstack/compute/test_volumes.py@1902\n\nDepends-On: https://review.opendev.org/#/c/673133/\nPart of blueprint support-delete-on-termination-in-server-attach-volume\n\nChange-Id: I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160\n'}, {'number': 8, 'created': '2020-01-17 05:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29f3fdbc3e4ee3a11d4d951bfaaa3bf58faaffd8', 'message': 'Follow-up: Add delete_on_termination to volume-attach API\n\nSome comment mainly from gmann and takashin in [1] PS15.\nAdd some tests in test_volumes.py, and fix some docs error.\n\n[1]https://review.opendev.org/#/c/673133/15/nova/tests/unit/api/openstack/compute/test_volumes.py@1902\n\nDepends-On: https://review.opendev.org/#/c/673133/\nPart of blueprint support-delete-on-termination-in-server-attach-volume\n\nChange-Id: I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160\n'}, {'number': 9, 'created': '2020-01-30 01:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ae8d2cd932da66dc42fb2f6e37b65e329cbdc34', 'message': 'Follow-up: Add delete_on_termination to volume-attach API\n\nSome comment mainly from gmann and takashin in [1] PS15.\nAdd some tests in test_volumes.py, and fix some docs error.\n\n[1]https://review.opendev.org/#/c/673133/15/nova/tests/unit/api/openstack/compute/test_volumes.py@1902\n\nDepends-On: https://review.opendev.org/#/c/673133/\nPart of blueprint support-delete-on-termination-in-server-attach-volume\n\nChange-Id: I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160\n'}, {'number': 10, 'created': '2020-02-19 19:12:23.000000000', 'files': ['releasenotes/notes/bp-support-delete-on-termination-in-server-attach-volume-5d08b4e97fdd24f9.yaml', 'api-ref/source/os-volume-attachments.inc', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/api/openstack/api_version_request.py', 'nova/api/openstack/compute/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/dcac6825c582d7c4d314e386c3572b389824a973', 'message': 'Follow-up: Add delete_on_termination to volume-attach API\n\nSome comment mainly from gmann and takashin in [1] PS15.\nAdd some tests in test_volumes.py, and fix some docs error.\n\n[1]https://review.opendev.org/#/c/673133/15/nova/tests/unit/api/openstack/compute/test_volumes.py@1902\n\nDepends-On: https://review.opendev.org/#/c/673133/\nPart of blueprint support-delete-on-termination-in-server-attach-volume\n\nChange-Id: I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160\n'}]",18,680655,dcac6825c582d7c4d314e386c3572b389824a973,131,20,10,26458,,,0,"Follow-up: Add delete_on_termination to volume-attach API

Some comment mainly from gmann and takashin in [1] PS15.
Add some tests in test_volumes.py, and fix some docs error.

[1]https://review.opendev.org/#/c/673133/15/nova/tests/unit/api/openstack/compute/test_volumes.py@1902

Depends-On: https://review.opendev.org/#/c/673133/
Part of blueprint support-delete-on-termination-in-server-attach-volume

Change-Id: I8dfa61f03ce927a1e86d42f8fb03bf4cb3e48160
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/680655/10 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/os-volume-attachments.inc', 'releasenotes/notes/bp-support-delete-on-termination-in-server-attach-volume-5d08b4e97fdd24f9.yaml', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/api/openstack/api_version_request.py', 'nova/api/openstack/compute/rest_api_version_history.rst']",5,af63dd931cd1a38ff031293dbbda3d16dad0f6bc,bp/support-delete-on-termination-in-server-attach-volume,"attached volumes, and the ``delete_on_termination`` field will be contained in POST API response body.",attached volumes.,32,4
openstack%2Fnova~master~Ie58a961ecc42025d88cb17b5cc0b543cacbe1b07,openstack/nova,master,Ie58a961ecc42025d88cb17b5cc0b543cacbe1b07,trivial: Remove unused 'cache_utils' APIs,MERGED,2020-02-04 12:46:25.000000000,2020-02-25 02:28:10.000000000,2020-02-20 02:31:23.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-04 12:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dfd11736fd455af11b5f9fb1f8c734881b2221d', 'message': ""trivial: Remove unused 'cache_utils' APIs\n\nThese are not used by anything inside nova. Remove them.\n\nChange-Id: Ie58a961ecc42025d88cb17b5cc0b543cacbe1b07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-02-05 11:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21fc13b2e1b9775424c3c944a83682adfc91ed3e', 'message': ""trivial: Remove unused 'cache_utils' APIs\n\nThese are not used by anything outside of tests. Remove them.\n\nChange-Id: Ie58a961ecc42025d88cb17b5cc0b543cacbe1b07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-02-05 17:43:11.000000000', 'files': ['nova/cache_utils.py', 'nova/tests/unit/test_availability_zones.py', 'nova/tests/unit/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5cea9ed9ad0362fb9f844a17fac7ee4c3c23ad6b', 'message': ""trivial: Remove unused 'cache_utils' APIs\n\nThese are not used by anything outside of tests. Remove them.\n\nChange-Id: Ie58a961ecc42025d88cb17b5cc0b543cacbe1b07\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,705652,5cea9ed9ad0362fb9f844a17fac7ee4c3c23ad6b,38,11,3,15334,,,0,"trivial: Remove unused 'cache_utils' APIs

These are not used by anything outside of tests. Remove them.

Change-Id: Ie58a961ecc42025d88cb17b5cc0b543cacbe1b07
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/705652/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/cache_utils.py'],1,2dfd11736fd455af11b5f9fb1f8c734881b2221d,mypy-integration,," def get_or_create(self, key, creator): return self.region.get_or_create(key, creator) def add(self, key, value): return self.region.get_or_create(key, lambda: value) def get_multi(self, keys): values = self.region.get_multi(keys) return [None if value is cache.NO_VALUE else value for value in values] def delete_multi(self, keys): return self.region.delete_multi(keys)",0,14
openstack%2Fneutron~master~I7719491275fa1ebfa7e881366e5cb066e3d4185c,openstack/neutron,master,I7719491275fa1ebfa7e881366e5cb066e3d4185c,Do not initialize snat-ns twice,MERGED,2019-10-31 12:01:23.000000000,2020-02-25 01:54:33.000000000,2019-11-17 16:49:14.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-31 12:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57da2ded78c882b3ea2695f05d335ea6bfb17942', 'message': 'Do not initialize snat-ns twice\n\nIf the DVR+HA router has external gateway, the snat-namespace will be\ninitialized twice during agent restart. And that initialized function\nwill run many external resource processing actions which will definitely\nincrease the starting time of agent. This patch addresses this issue.\n\nChange-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c\nCloses-Bug: #1850779\n'}, {'number': 2, 'created': '2019-11-01 01:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0bffb1ca62b20e6e2ef126dca3a4e49c9cf450e', 'message': 'Do not initialize snat-ns twice\n\nIf the DVR+HA router has external gateway, the snat-namespace will be\ninitialized twice during agent restart. And that ns initialization\nfunction will run many external resource processing actions which will\ndefinitely increase the starting time of L3 agent. This patch addresses\nthis issue.\n\nChange-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c\nCloses-Bug: #1850779\n'}, {'number': 3, 'created': '2019-11-07 06:42:08.000000000', 'files': ['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a9d6d26419defa148764166600bc4ac6b50c109', 'message': 'Do not initialize snat-ns twice\n\nIf the DVR+HA router has external gateway, the snat-namespace will be\ninitialized twice during agent restart. And that ns initialization\nfunction will run many external resource processing actions which will\ndefinitely increase the starting time of L3 agent. This patch addresses\nthis issue.\n\nChange-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c\nCloses-Bug: #1850779\n'}]",0,692352,7a9d6d26419defa148764166600bc4ac6b50c109,45,9,3,9531,,,0,"Do not initialize snat-ns twice

If the DVR+HA router has external gateway, the snat-namespace will be
initialized twice during agent restart. And that ns initialization
function will run many external resource processing actions which will
definitely increase the starting time of L3 agent. This patch addresses
this issue.

Change-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c
Closes-Bug: #1850779
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/692352/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py']",3,57da2ded78c882b3ea2695f05d335ea6bfb17942,bug/1850779," def initialize(self, process_monitor): self._create_snat_namespace() super(DvrEdgeRouter, self).initialize(process_monitor) def _create_dvr_gateway(self, ex_gw_port, gw_interface_name): self.snat_namespace.name, preserve_ips=[]) namespace=self.snat_namespace.name,"," def _create_dvr_gateway(self, ex_gw_port, gw_interface_name): snat_ns = self._create_snat_namespace() snat_ns.name, preserve_ips=[]) namespace=snat_ns.name,",24,7
openstack%2Frpm-packaging~master~Ie111650aff29eedf6bb3395b0ce45acfd08bec2e,openstack/rpm-packaging,master,Ie111650aff29eedf6bb3395b0ce45acfd08bec2e,update constraint for oslo.versionedobjects to new release 1.37.0,ABANDONED,2020-02-24 08:20:42.000000000,2020-02-25 01:36:25.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-24 08:20:42.000000000', 'files': ['openstack/oslo.versionedobjects/oslo.versionedobjects.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1935fbca84fa0cf31be1dae5e1d3a26da1059ca3', 'message': 'update constraint for oslo.versionedobjects to new release 1.37.0\n\nDepends-on:I6c998d41033c63a3fa4768dd19e0e8f1f773ec89\nChange-Id: Ie111650aff29eedf6bb3395b0ce45acfd08bec2e\n'}]",0,709425,1935fbca84fa0cf31be1dae5e1d3a26da1059ca3,6,4,1,26571,,,0,"update constraint for oslo.versionedobjects to new release 1.37.0

Depends-on:I6c998d41033c63a3fa4768dd19e0e8f1f773ec89
Change-Id: Ie111650aff29eedf6bb3395b0ce45acfd08bec2e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/25/709425/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.versionedobjects/oslo.versionedobjects.spec.j2'],1,1935fbca84fa0cf31be1dae5e1d3a26da1059ca3,oslo.versionedobjects,{% set upstream_version = upstream_version('1.37.0') %},{% set upstream_version = upstream_version('1.36.1') %},1,1
openstack%2Frpm-packaging~master~I6592a4232eee8cdbda6eb709ded6c28bb4571b51,openstack/rpm-packaging,master,I6592a4232eee8cdbda6eb709ded6c28bb4571b51,update constraint for oslo.service to new release 2.0.0,ABANDONED,2020-02-24 08:42:21.000000000,2020-02-25 01:35:35.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-24 08:42:21.000000000', 'files': ['openstack/oslo.service/oslo.service.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a9fc47ecb913d3d9db131c27dc280f442768fe9c', 'message': 'update constraint for oslo.service to new release 2.0.0\n\nDepends-on:I79d0105537898fb82a4cfae38b101797164d53d6\nChange-Id: I6592a4232eee8cdbda6eb709ded6c28bb4571b51\n'}]",0,709429,a9fc47ecb913d3d9db131c27dc280f442768fe9c,6,4,1,26571,,,0,"update constraint for oslo.service to new release 2.0.0

Depends-on:I79d0105537898fb82a4cfae38b101797164d53d6
Change-Id: I6592a4232eee8cdbda6eb709ded6c28bb4571b51
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/29/709429/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.service/oslo.service.spec.j2'],1,a9fc47ecb913d3d9db131c27dc280f442768fe9c,oslo.service,{% set upstream_version = upstream_version('2.0.0') %},{% set upstream_version = upstream_version('1.41.1') %},1,1
openstack%2Frpm-packaging~master~I6d0d2c34c528b953b50b5e69f7a28f5675288acb,openstack/rpm-packaging,master,I6d0d2c34c528b953b50b5e69f7a28f5675288acb,update constraint for oslo.vmware to new release 3.0.0,ABANDONED,2020-02-24 08:29:18.000000000,2020-02-25 01:35:15.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-24 08:29:18.000000000', 'files': ['openstack/oslo.vmware/oslo.vmware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/380a98098d51a4b857491d454f48efce7ba3b7de', 'message': 'update constraint for oslo.vmware to new release 3.0.0\n\nDepends-on:I4926fbde06460311046df839e122f5f38b1118c6\nChange-Id: I6d0d2c34c528b953b50b5e69f7a28f5675288acb\n'}]",0,709426,380a98098d51a4b857491d454f48efce7ba3b7de,6,4,1,26571,,,0,"update constraint for oslo.vmware to new release 3.0.0

Depends-on:I4926fbde06460311046df839e122f5f38b1118c6
Change-Id: I6d0d2c34c528b953b50b5e69f7a28f5675288acb
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/26/709426/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.vmware/oslo.vmware.spec.j2'],1,380a98098d51a4b857491d454f48efce7ba3b7de,oslo.vmware,{% set upstream_version = upstream_version('3.0.0') %},{% set upstream_version = upstream_version('2.35.0') %},1,1
openstack%2Frpm-packaging~master~Ia8c9ae74c24cad78242f04dda8fde41fa3a6a33f,openstack/rpm-packaging,master,Ia8c9ae74c24cad78242f04dda8fde41fa3a6a33f,Use setuptools for building instead of distribute (which comes in via devel),MERGED,2019-07-22 12:27:16.000000000,2020-02-25 01:23:01.000000000,2020-02-24 19:26:56.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-07-22 12:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fcf65ae9bcbcf4b4f60514f314573df8a747070d', 'message': 'Use setuptools for building instead of distribute (which comes in via\ndevel)\n\nBy building the package with setuptools, we ensure it is compatible\nwith pip 10 and above which require file manifests to be packaged.\n\nChange-Id: Ia8c9ae74c24cad78242f04dda8fde41fa3a6a33f\n'}, {'number': 2, 'created': '2019-08-21 19:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e7537b501dcf591b54ded07fcdec3af450d05fee', 'message': 'Use setuptools for building instead of distribute (which comes in via\ndevel)\n\nBy building the package with setuptools, we ensure it is compatible\nwith pip 10 and above which require file manifests to be packaged.\n\nChange-Id: Ia8c9ae74c24cad78242f04dda8fde41fa3a6a33f\n'}, {'number': 3, 'created': '2019-09-10 06:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7235fc8348182a462b007bd6fa4948f1f0a1d34f', 'message': 'Use setuptools for building instead of distribute (which comes in via\ndevel)\n\nBy building the package with setuptools, we ensure it is compatible\nwith pip 10 and above which require file manifests to be packaged.\n\nChange-Id: Ia8c9ae74c24cad78242f04dda8fde41fa3a6a33f\n'}, {'number': 4, 'created': '2019-09-13 08:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5a0c88987b047085b16e062d3a150cf85c21ede6', 'message': 'Use setuptools for building instead of distribute (which comes in via\ndevel)\n\nBy building the package with setuptools, we ensure it is compatible\nwith pip 10 and above which require file manifests to be packaged.\n\nChange-Id: Ia8c9ae74c24cad78242f04dda8fde41fa3a6a33f\n'}, {'number': 5, 'created': '2019-10-01 12:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8329953948c18cb5a3c7e0ccf4099d7f7d15e22a', 'message': 'Use setuptools for building instead of distribute (which comes in via\ndevel)\n\nBy building the package with setuptools, we ensure it is compatible\nwith pip 10 and above which require file manifests to be packaged.\n\nChange-Id: Ia8c9ae74c24cad78242f04dda8fde41fa3a6a33f\n'}, {'number': 6, 'created': '2019-11-05 12:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e9e77ea1fd2da2c2446d31e140799ea020a46b4b', 'message': 'Use setuptools for building instead of distribute (which comes in via\ndevel)\n\nBy building the package with setuptools, we ensure it is compatible\nwith pip 10 and above which require file manifests to be packaged.\n\nChange-Id: Ia8c9ae74c24cad78242f04dda8fde41fa3a6a33f\n'}, {'number': 7, 'created': '2020-02-22 19:09:03.000000000', 'files': ['openstack/oslo.db/oslo.db.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/python-openstackclient/python-openstackclient.spec.j2', 'openstack/os-ken/os-ken.spec.j2', 'openstack/taskflow/taskflow.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7a65d13c6e07134d04c32d4d5e2ef48eb1ec0591', 'message': 'Use setuptools for building instead of distribute (which comes in via\ndevel)\n\nBy building the package with setuptools, we ensure it is compatible\nwith pip 10 and above which require file manifests to be packaged.\n\nChange-Id: Ia8c9ae74c24cad78242f04dda8fde41fa3a6a33f\n'}]",5,672028,7a65d13c6e07134d04c32d4d5e2ef48eb1ec0591,47,7,7,6593,,,0,"Use setuptools for building instead of distribute (which comes in via
devel)

By building the package with setuptools, we ensure it is compatible
with pip 10 and above which require file manifests to be packaged.

Change-Id: Ia8c9ae74c24cad78242f04dda8fde41fa3a6a33f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/28/672028/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/python-barbicanclient/python-barbicanclient.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/python-openstackclient/python-openstackclient.spec.j2', 'openstack/os-ken/os-ken.spec.j2', 'openstack/python-manilaclient/python-manilaclient.spec.j2', 'openstack/python-cinderclient/python-cinderclient.spec.j2', 'openstack/osc-lib/osc-lib.spec.j2', 'openstack/oslo.db/oslo.db.spec.j2', 'openstack/python-glanceclient/python-glanceclient.spec.j2', 'openstack/python-zunclient/python-zunclient.spec.j2', 'openstack/oslo.config/oslo.config.spec.j2', 'openstack/taskflow/taskflow.spec.j2', 'openstack/python-qinlingclient/python-qinlingclient.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2']",14,fcf65ae9bcbcf4b4f60514f314573df8a747070d,devel_cleanup,"BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }}","BuildRequires: {{ py2pkg('devel', py_versions=['py2', 'py3']) }}",14,14
openstack%2Ftripleo-heat-templates~master~I6b379d471db7a681bcc487ec97b262329dce7b37,openstack/tripleo-heat-templates,master,I6b379d471db7a681bcc487ec97b262329dce7b37,Remove OpenShift resources completely.,MERGED,2020-02-23 14:06:35.000000000,2020-02-25 01:20:45.000000000,2020-02-25 01:20:45.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-23 14:06:35.000000000', 'files': ['ci/environments/scenario000-standalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/undercloud/undercloud-minion.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82483cc77a3a897208fd2d3114bff4db22b7d66c', 'message': 'Remove OpenShift resources completely.\n\nChange-Id: I6b379d471db7a681bcc487ec97b262329dce7b37\n'}]",0,709353,82483cc77a3a897208fd2d3114bff4db22b7d66c,10,6,1,9816,,,0,"Remove OpenShift resources completely.

Change-Id: I6b379d471db7a681bcc487ec97b262329dce7b37
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/709353/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario000-standalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/undercloud/undercloud-minion.yaml']",4,82483cc77a3a897208fd2d3114bff4db22b7d66c,openshift-removal,, OS::TripleO::Services::OpenShift::GlusterFS: OS::Heat::None OS::TripleO::Services::OpenShift::Infra: OS::Heat::None OS::TripleO::Services::OpenShift::Master: OS::Heat::None OS::TripleO::Services::OpenShift::Worker: OS::Heat::None,0,16
openstack%2Ftripleo-heat-templates~master~Ifda5455bf36789e6a7dad5d900d17252e66e314a,openstack/tripleo-heat-templates,master,Ifda5455bf36789e6a7dad5d900d17252e66e314a,Remove hieradata related to OpenShift deployment,MERGED,2020-02-23 14:03:27.000000000,2020-02-25 01:20:43.000000000,2020-02-25 01:20:43.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-23 14:03:27.000000000', 'files': ['deployment/haproxy/haproxy-edge-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/defae45da5daa4fcc9f59e5625752c44c8cca609', 'message': 'Remove hieradata related to OpenShift deployment\n\n... because support for OpenShift deployment in TripleO was already\nremoved.\n\nDepends-on: https://review.opendev.org/#/c/709351/\nChange-Id: Ifda5455bf36789e6a7dad5d900d17252e66e314a\n'}]",0,709352,defae45da5daa4fcc9f59e5625752c44c8cca609,10,6,1,9816,,,0,"Remove hieradata related to OpenShift deployment

... because support for OpenShift deployment in TripleO was already
removed.

Depends-on: https://review.opendev.org/#/c/709351/
Change-Id: Ifda5455bf36789e6a7dad5d900d17252e66e314a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/709352/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-edge-container-puppet.yaml'],1,defae45da5daa4fcc9f59e5625752c44c8cca609,openshift-removal,, tripleo::haproxy::openshift_master: false,0,1
openstack%2Ftripleo-ansible~master~I86b8607d8f3e90d524388829474440906d26c839,openstack/tripleo-ansible,master,I86b8607d8f3e90d524388829474440906d26c839,Use baremetal modules in playbooks,MERGED,2020-02-13 12:12:13.000000000,2020-02-25 01:18:11.000000000,2020-02-25 01:18:11.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-13 12:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c54f235377357ec21bb66a4ba8d9c4c9d96e5c21', 'message': 'Use baremetal modules in playbooks\n\nUse modules instead of shell commands\nFix providing nodes playbook to support manageable nodes\nChange-Id: I86b8607d8f3e90d524388829474440906d26c839\n'}, {'number': 2, 'created': '2020-02-23 18:03:41.000000000', 'files': ['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml', 'tripleo_ansible/playbooks/cli-overcloud-node-provide.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7b77e69cd79f81ee7303dbaafc23f217e31f468b', 'message': 'Use baremetal modules in playbooks\n\nUse modules instead of shell commands\nFix providing nodes playbook to support manageable nodes\nChange-Id: I86b8607d8f3e90d524388829474440906d26c839\n'}]",0,707630,7b77e69cd79f81ee7303dbaafc23f217e31f468b,27,7,2,10969,,,0,"Use baremetal modules in playbooks

Use modules instead of shell commands
Fix providing nodes playbook to support manageable nodes
Change-Id: I86b8607d8f3e90d524388829474440906d26c839
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/707630/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml', 'tripleo_ansible/playbooks/cli-overcloud-node-provide.yaml']",2,c54f235377357ec21bb66a4ba8d9c4c9d96e5c21,mistral_to_ansible," Either `node_uuids` or `all_manageable` are required inputs but currently are not set. Check you inputs and try again. when: >- (node_uuids is undefined and all_manageable is undefined) or (node_uuids is undefined and not all_manageable|bool) os_baremetal_node_info: auth_type: password cloud: undercloud filters: provision_state: manageable register: manageable_nodes - name: Set node_uuids_provide fact set_fact: node_uuids_provide: ""{{ manageable_nodes.baremetal_nodes | default([]) | map(attribute='id') | list }}"" - name: Process only passed node UUIDs when: - all_manageable is not defined or not all_manageable|bool block: - name: Set node_uuids_provide fact set_fact: node_uuids_provide: ""{{ node_uuids }}"" - node_uuids_provide == [] loop: ""{{ node_uuids_provide }}"" loop: ""{{ node_uuids_provide }}"" loop: ""{{ node_uuids_provide }}"""," `node_uuids` or `all_manageable` are required inputs but currently undefined. Check you inputs and try again. when: - node_uuids is undefined - all_manageable is undefined - name: Check for required inputs fail: msg: > The option `all_manageable` is ""false"" but `node_uuids` is undefined. Check your inputs and try again. when: - node_uuids is undefined - not (all_manageable | bool) command: > openstack baremetal node list --provision-state=manageable -c UUID -f value register: command_output changed_when: false - name: Set node_uuids fact set_fact: node_uuids: ""{{ command_output.stdout_lines }}"" - (node_uuids | length) < 1 loop: ""{{ node_uuids }}"" loop: ""{{ node_uuids }}"" loop: ""{{ node_uuids }}""",34,28
openstack%2Ftripleo-ansible~stable%2Ftrain~I15c06296c0e20e1db086cb4c7cf669251be3eccb,openstack/tripleo-ansible,stable/train,I15c06296c0e20e1db086cb4c7cf669251be3eccb,Ensure rsync is installed during bootstrap,MERGED,2020-02-24 13:26:47.000000000,2020-02-25 01:18:10.000000000,2020-02-25 01:18:10.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-02-24 13:26:47.000000000', 'files': ['tripleo_ansible/roles/tripleo-bootstrap/vars/fedora-28.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0f497cff5503d37ceac4101623d63d19bb40ac5', 'message': ""Ensure rsync is installed during bootstrap\n\nWhen using pre-deployed nodes installed with minimal OS, it may happen\nrsync is missing, and it's needed by the Ansible tasks using synchronize\nmodule. Let's make sure the package is installed.\n\nIt was initially done in Ie8a1ad5e2c9e32cce1f1b8c264a8b44207d99b59 but\nthis wasn't enough for the regular deployment.\n\nChange-Id: I15c06296c0e20e1db086cb4c7cf669251be3eccb\nCloses-Bug: #1863216\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1802827\n(cherry picked from commit 612854d63bff41e5b05bd4b3e7397de9cab8ab03)\n""}]",0,709528,c0f497cff5503d37ceac4101623d63d19bb40ac5,11,6,1,3153,,,0,"Ensure rsync is installed during bootstrap

When using pre-deployed nodes installed with minimal OS, it may happen
rsync is missing, and it's needed by the Ansible tasks using synchronize
module. Let's make sure the package is installed.

It was initially done in Ie8a1ad5e2c9e32cce1f1b8c264a8b44207d99b59 but
this wasn't enough for the regular deployment.

Change-Id: I15c06296c0e20e1db086cb4c7cf669251be3eccb
Closes-Bug: #1863216
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1802827
(cherry picked from commit 612854d63bff41e5b05bd4b3e7397de9cab8ab03)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/709528/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-bootstrap/vars/fedora-28.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml']",3,c0f497cff5503d37ceac4101623d63d19bb40ac5,train/rsync, - rsync,,3,0
openstack%2Ftripleo-ansible~master~I15c06296c0e20e1db086cb4c7cf669251be3eccb,openstack/tripleo-ansible,master,I15c06296c0e20e1db086cb4c7cf669251be3eccb,Ensure rsync is installed during bootstrap,MERGED,2020-02-24 13:23:39.000000000,2020-02-25 01:18:09.000000000,2020-02-25 01:18:09.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-02-24 13:23:39.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/fedora-28.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/612854d63bff41e5b05bd4b3e7397de9cab8ab03', 'message': ""Ensure rsync is installed during bootstrap\n\nWhen using pre-deployed nodes installed with minimal OS, it may happen\nrsync is missing, and it's needed by the Ansible tasks using synchronize\nmodule. Let's make sure the package is installed.\n\nIt was initially done in Ie8a1ad5e2c9e32cce1f1b8c264a8b44207d99b59 but\nthis wasn't enough for the regular deployment.\n\nChange-Id: I15c06296c0e20e1db086cb4c7cf669251be3eccb\nCloses-Bug: #1863216\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1802827\n""}]",0,709526,612854d63bff41e5b05bd4b3e7397de9cab8ab03,11,7,1,3153,,,0,"Ensure rsync is installed during bootstrap

When using pre-deployed nodes installed with minimal OS, it may happen
rsync is missing, and it's needed by the Ansible tasks using synchronize
module. Let's make sure the package is installed.

It was initially done in Ie8a1ad5e2c9e32cce1f1b8c264a8b44207d99b59 but
this wasn't enough for the regular deployment.

Change-Id: I15c06296c0e20e1db086cb4c7cf669251be3eccb
Closes-Bug: #1863216
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1802827
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/709526/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_bootstrap/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/fedora-28.yml']",3,612854d63bff41e5b05bd4b3e7397de9cab8ab03,rsync, - rsync,,3,0
openstack%2Ftripleo-common~master~I137fe3211043b00b553db26b2f5930f98373496d,openstack/tripleo-common,master,I137fe3211043b00b553db26b2f5930f98373496d,"Move away from ""ss"" and drop default verbose mode",MERGED,2020-02-18 10:54:46.000000000,2020-02-25 01:17:20.000000000,2020-02-25 01:15:00.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-02-18 10:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eff72cc6cd44c855c0e0e27ef98dd3cf41c60a78', 'message': 'Move away from ""ss"" and drop default verbose mode\n\nThis patch does three main things:\n- drop the ultra-verbose output (set -x), adding a new param we can use\n  when calling the healthcheck directly\n- move away from the ""ss"" calls and the multiple pipes used to filter\n  its output, using ""lsof"" and native filtering\n- rewrite the ""ps"" call in order to use ps native filters instead of\n  piping through grep\n\nThese changes should make the healthchecks stronger, and avoid some\nweird issues due to the pipes, and lower the amount of logs.\n\nIn order to get verbose mode when running the healthcheck directly, you\ncan do as follow:\n\npodman exec -u root -ti <container> bash\nHEALTHCHECK_DEBUG=1 ./openstack/healthcheck\n\nand enjoy a nice debug output.\n\nChange-Id: I137fe3211043b00b553db26b2f5930f98373496d\n'}, {'number': 2, 'created': '2020-02-18 12:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c5776d4fb98711a24431ccf04b3c0554dab205dc', 'message': 'Move away from ""ss"" and drop default verbose mode\n\nThis patch does three main things:\n- drop the ultra-verbose output (set -x), adding a new param we can use\n  when calling the healthcheck directly\n- move away from the ""ss"" calls and the multiple pipes used to filter\n  its output, using ""lsof"" and native filtering\n- rewrite the ""ps"" call in order to use ps native filters instead of\n  piping through grep\n\nThese changes should make the healthchecks stronger, and avoid some\nweird issues due to the pipes, and lower the amount of logs.\n\nIn order to get verbose mode when running the healthcheck directly, you\ncan do as follow:\n\npodman exec -u root -ti <container> bash\nHEALTHCHECK_DEBUG=1 ./openstack/healthcheck\n\nand enjoy a nice debug output.\n\nChange-Id: I137fe3211043b00b553db26b2f5930f98373496d\n'}, {'number': 3, 'created': '2020-02-18 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e1a33f6daf4c1c08440e86be294c7101b6229530', 'message': 'Move away from ""ss"" and drop default verbose mode\n\nThis patch does three main things:\n- drop the ultra-verbose output (set -x), adding a new param we can use\n  when calling the healthcheck directly\n- move away from the ""ss"" calls and the multiple pipes used to filter\n  its output, using ""lsof"" and native filtering\n- rewrite the ""ps"" call in order to use ps native filters instead of\n  piping through grep\n\nThese changes should make the healthchecks stronger, and avoid some\nweird issues due to the pipes, and lower the amount of logs.\n\nIn order to get verbose mode when running the healthcheck directly, you\ncan do as follow:\n\npodman exec -u root -ti <container> bash\nHEALTHCHECK_DEBUG=1 ./openstack/healthcheck\n\nand enjoy a nice debug output.\n\nChange-Id: I137fe3211043b00b553db26b2f5930f98373496d\n'}, {'number': 4, 'created': '2020-02-18 13:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2d5c4790677a31ba4c6e010e9b74abcf5ec14c1d', 'message': 'Move away from ""ss"" and drop default verbose mode\n\nThis patch does three main things:\n- drop the ultra-verbose output (set -x), adding a new param we can use\n  when calling the healthcheck directly\n- move away from the ""ss"" calls and the multiple pipes used to filter\n  its output, using ""lsof"" and native filtering\n- rewrite the ""ps"" call in order to use ps native filters instead of\n  piping through grep\n\nThese changes should make the healthchecks stronger, and avoid some\nweird issues due to the pipes, and lower the amount of logs.\n\nIn order to get verbose mode when running the healthcheck directly, you\ncan do as follow:\n\npodman exec -u root -ti <container> bash\nHEALTHCHECK_DEBUG=1 ./openstack/healthcheck\n\nand enjoy a nice debug output.\n\nChange-Id: I137fe3211043b00b553db26b2f5930f98373496d\n'}, {'number': 5, 'created': '2020-02-18 13:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6111fbbf84cf6fbe81046908233be6c869506fec', 'message': 'Move away from ""ss"" and drop default verbose mode\n\nThis patch does four main things:\n- drop the ultra-verbose output (set -x), adding a new param we can use\n  when calling the healthcheck directly\n- introduce a ""healthcheck_output"" in order to allow outputing important\n  messages even in ""quiet mode""\n- move away from the ""ss"" calls and the multiple pipes used to filter\n  its output, using ""lsof"" and native filtering\n- rewrite the ""ps"" call in order to use ps native filters instead of\n  piping through grep\n\nThese changes should make the healthchecks stronger, and avoid some\nweird issues due to the pipes, and lower the amount of logs while\nkeeping the important information visible.\n\nIn order to get verbose mode when running the healthcheck directly, you\ncan do as follow:\n\npodman exec -u root -ti <container> bash\nHEALTHCHECK_DEBUG=1 ./openstack/healthcheck\n\nand enjoy a nice debug output.\n\nChange-Id: I137fe3211043b00b553db26b2f5930f98373496d\n'}, {'number': 6, 'created': '2020-02-18 13:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3e3d34665f95bbb7c962a5519dde457244f94140', 'message': 'Move away from ""ss"" and drop default verbose mode\n\nThis patch does four main things:\n- drop the ultra-verbose output (set -x), adding a new param we can use\n  when calling the healthcheck directly\n- introduce a ""healthcheck_output"" in order to allow outputing important\n  messages even in ""quiet mode""\n- move away from the ""ss"" calls and the multiple pipes used to filter\n  its output, using ""lsof"" and native filtering\n- rewrite the ""ps"" call in order to use ps native filters instead of\n  piping through grep\n\nThese changes should make the healthchecks stronger, and avoid some\nweird issues due to the pipes, and lower the amount of logs while\nkeeping the important information visible.\n\nIn order to get verbose mode when running the healthcheck directly, you\ncan do as follow:\n\npodman exec -u root -ti <container> bash\nHEALTHCHECK_DEBUG=1 ./openstack/healthcheck\nor\npodman -u root -e ""HEALTHCHECK_DEBUG=1"" <container> /openstack/healthcheck\n\nand enjoy a nice debug output.\n\nChange-Id: I137fe3211043b00b553db26b2f5930f98373496d\n'}, {'number': 7, 'created': '2020-02-18 14:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a4b7d81009f0d73198258861a10106695fb160e0', 'message': 'Move away from ""ss"" and drop default verbose mode\n\nThis patch does four main things:\n- drop the ultra-verbose output (set -x), adding a new param we can use\n  when calling the healthcheck directly\n- move away from the ""ss"" calls and the multiple pipes used to filter\n  its output, using ""lsof"" and native filtering\n- rewrite the ""ps"" call in order to use ps native filters instead of\n  piping through grep\n\nThese changes should make the healthchecks stronger, and avoid some\nweird issues due to the pipes, and lower the amount of logs while\nkeeping the important information visible.\n\nIn order to get verbose mode when running the healthcheck directly, you\ncan do as follow:\n\npodman exec -u root -ti <container> bash\nHEALTHCHECK_DEBUG=1 ./openstack/healthcheck\nor\npodman -u root -e ""HEALTHCHECK_DEBUG=1"" <container> /openstack/healthcheck\n\nand enjoy a nice debug output.\n\nChange-Id: I137fe3211043b00b553db26b2f5930f98373496d\n'}, {'number': 8, 'created': '2020-02-18 15:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0d0db5e5c39c0b2e6e2ae22096418886e021f879', 'message': 'Move away from ""ss"" and drop default verbose mode\n\nThis patch does three main things:\n- drop the ultra-verbose output (set -x), adding a new param we can use\n  when calling the healthcheck directly\n- move away from the ""ss"" calls and the multiple pipes used to filter\n  its output, using ""lsof"" and native filtering\n- rewrite the ""ps"" call in order to use ps native filters instead of\n  piping through grep\n\nThese changes should make the healthchecks stronger, and avoid some\nweird issues due to the pipes, and lower the amount of logs while\nkeeping the important information visible.\n\nIn order to get verbose mode when running the healthcheck directly, you\ncan do as follow:\n\npodman exec -u root -ti <container> bash\nHEALTHCHECK_DEBUG=1 ./openstack/healthcheck\nor\npodman -u root -e ""HEALTHCHECK_DEBUG=1"" <container> /openstack/healthcheck\n\nand enjoy a nice debug output.\n\nChange-Id: I137fe3211043b00b553db26b2f5930f98373496d\n'}, {'number': 9, 'created': '2020-02-20 08:54:24.000000000', 'files': ['releasenotes/notes/no_ss-368721c3af17b782.yaml', 'healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d03401438c22e59d4f51cedfd0af6d7d48328d45', 'message': 'Move away from ""ss"" and drop default verbose mode\n\nThis patch does three main things:\n- drop the ultra-verbose output (set -x), adding a new param we can use\n  when calling the healthcheck directly\n- move away from the ""ss"" calls and the multiple pipes used to filter\n  its output, using ""lsof"" and native filtering\n- rewrite the ""ps"" call in order to use ps native filters instead of\n  piping through grep\n\nThese changes should make the healthchecks stronger, and avoid some\nweird issues due to the pipes, and lower the amount of logs while\nkeeping the important information visible.\n\nIn order to get verbose mode when running the healthcheck directly, you\ncan do as follow:\n\npodman exec -u root -ti <container> bash\nHEALTHCHECK_DEBUG=1 ./openstack/healthcheck\nor\npodman -u root -e ""HEALTHCHECK_DEBUG=1"" <container> /openstack/healthcheck\n\nand enjoy a nice debug output.\n\nChange-Id: I137fe3211043b00b553db26b2f5930f98373496d\n'}]",19,708339,d03401438c22e59d4f51cedfd0af6d7d48328d45,48,11,9,28223,,,0,"Move away from ""ss"" and drop default verbose mode

This patch does three main things:
- drop the ultra-verbose output (set -x), adding a new param we can use
  when calling the healthcheck directly
- move away from the ""ss"" calls and the multiple pipes used to filter
  its output, using ""lsof"" and native filtering
- rewrite the ""ps"" call in order to use ps native filters instead of
  piping through grep

These changes should make the healthchecks stronger, and avoid some
weird issues due to the pipes, and lower the amount of logs while
keeping the important information visible.

In order to get verbose mode when running the healthcheck directly, you
can do as follow:

podman exec -u root -ti <container> bash
HEALTHCHECK_DEBUG=1 ./openstack/healthcheck
or
podman -u root -e ""HEALTHCHECK_DEBUG=1"" <container> /openstack/healthcheck

and enjoy a nice debug output.

Change-Id: I137fe3211043b00b553db26b2f5930f98373496d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/39/708339/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/no_ss-368721c3af17b782.yaml', 'healthcheck/common.sh']",2,eff72cc6cd44c855c0e0e27ef98dd3cf41c60a78,healthcheck/no-ss,"set -euo pipefail : ${HEALTHCHECK_DEBUG:=0} if [ $HEALTHCHECK_DEBUG -ne 0 ]; then set -x fi # This helps to capture the actual pid running the process pid=$(pgrep -d ',' -f $process) # Here, we use the embedded `ps' filter capabilities, and remove the # output header. We ensure we get the user for the selected PIDs only. # In order to ensure we don't get multiple lines, we truncate it with `head' ps -h -q${pid} -o user | head -n1 ports=${args// /,} pids=$(pgrep -d ',' -f $process) # First match exits - usually TCP and ""sudo TCP"" are enough. # `sudo' is needed, as in some cases even root can get a ""permission denied"" # on some file descriptors (case for heat_manager for example) # UDP support is needed for octavia manager (UDP:5555). lsof -w -P -a -iTCP:${ports} -p${pids} || \ sudo -u $puser lsof -w -P -a -iTCP:${ports} -p${pids} || \ lsof -w -P -a -iUDP:${ports} -p${pids} || \ sudo -u $puser lsof -w -P -a -iUDP:${ports} -p${pids} ports=${args// /,} pids=$(pgrep -d ',' -f $process) lsof -w -P -a -p${pids} -iTCP:${ports} -s TCP:LISTEN","set -euxo pipefail # This helps to capture the actual pids running the process pids=$(pgrep -d '|' -f $process) # 'cmd' is added to help in case part of the pid is in another pid from # another process. # $ ps -eo user,pid,cmd # USER PID CMD # nova 1 dumb-init --single-child -- kolla_start # nova 7 /usr/bin/python2 /usr/bin/nova-conductor # nova 25 /usr/bin/python2 /usr/bin/nova-conductor # nova 26 /usr/bin/python2 /usr/bin/nova-conductor # root 8311 ps -eo user,pid,cmd # The following ""ps"" command will capture the user from PID 7 which # is safe enough to assert this is the user running the process. ps -eo user,pid,cmd | grep $process | grep -E $pids | awk 'NR==1{print $1}' ports=${args// /|} pids=$(pgrep -d '|' -f $process) # https://bugs.launchpad.net/tripleo/+bug/1843555 # ""ss"" output is different if run as root vs as the user actually running # the process. So we also verify that the process is connected to the # port by using ""sudo -u"" to get the right output. # Note: the privileged containers have the correct ss output with root # user; which is why we need to run with both users, as a best effort. # https://bugs.launchpad.net/tripleo/+bug/1860556 # do ot use ""-q"" option for grep, since it returns 141 for some reason with # set -o pipefail. # See https://stackoverflow.com/questions/19120263/why-exit-code-141-with-grep-q (ss -ntuap; sudo -u $puser ss -ntuap) | sort -u | grep -E "":($ports).*,pid=($pids),"">/dev/null ports=${args// /|} pids=$(pgrep -d '|' -f $process) ss -lnp | grep -qE "":($ports).*,pid=($pids),""",29,31
openstack%2Ftripleo-ci~master~Icd67e9ade09434c80498f84693c02f5c849d746f,openstack/tripleo-ci,master,Icd67e9ade09434c80498f84693c02f5c849d746f,update README for logs w/ yum repo links,MERGED,2020-02-24 18:36:07.000000000,2020-02-25 01:14:59.000000000,2020-02-25 01:14:59.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-24 18:36:07.000000000', 'files': ['docs/tripleo-quickstart-logs.html'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fbc15476a80aac821c4785961caccd460d1b7000', 'message': 'update README for logs w/ yum repo links\n\nsaved you a click\n\nChange-Id: Icd67e9ade09434c80498f84693c02f5c849d746f\n'}]",0,709582,fbc15476a80aac821c4785961caccd460d1b7000,7,3,1,9592,,,0,"update README for logs w/ yum repo links

saved you a click

Change-Id: Icd67e9ade09434c80498f84693c02f5c849d746f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/82/709582/1 && git format-patch -1 --stdout FETCH_HEAD,['docs/tripleo-quickstart-logs.html'],1,fbc15476a80aac821c4785961caccd460d1b7000,,<li><a href='undercloud/etc/yum.repos.d/'>undercloud/etc/yum.repos.d/</a> - link to the yum.repos.d directory </li> <li><a href='undercloud/etc/yum.repos.d/delorean.repo'>undercloud/etc/yum.repos.d/delorean.repo</a> - link to the delorean.repo ( the build ) </li>,,4,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie4ab2ffed5e04f87c866b0d4f3e5c702a98be5ad,openstack/tripleo-heat-templates,stable/train,Ie4ab2ffed5e04f87c866b0d4f3e5c702a98be5ad,[TRAIN] Backport squash for container-puppet.py,MERGED,2020-02-05 12:15:32.000000000,2020-02-25 01:14:58.000000000,2020-02-25 01:14:58.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-05 12:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7bfe3c724537f85d0636f97c0d17538939ee7ca', 'message': ""container-puppet: SystemExit with RC 1 to actually error out\n\nRaising SystemExit() isn't enough to stop the deployment, we also need\nto provide a return code:\nhttps://docs.python.org/3.7/library/exceptions.html#SystemExit\n\nDefault is None, so we didn't exit the right return code.\n\nWith that patch, if a container failed to be configured; we will raise\nan error and actually exit(1).\n\nChange-Id: Ie4ab2ffed5e04f87c866b0d4f3e5c702a98be5ad\n(cherry picked from commit 7d1cd360d8c15365ad79028763ac7ebf438934d6)\n""}, {'number': 2, 'created': '2020-02-07 19:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df152b1b6d10f41c3353024761f8c41c0df1246a', 'message': ""[TRAIN] Backport squash for container-puppet.py\n\nDoing a squash backports of container-puppet.py to avoid potential\nregressions in the middle.\n\nMove basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat it is more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 7282c11285b457980f79a7c372e4b3e874e66288)\n\nConvert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 99c7e2afa010244d360a5a0da1673f5fed8b52ab)\n\nMove globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 5d4f3ad4a615117530bac75f4e612dfdd1edc2b7)\n\nFix regression in removing containers in container-puppet.py\n\nCommit 7282c11285b457980f79a7c372e4b3e874e66288 removed changes in\ncommit 529ad2d7772ced181d9273d4615d90c86ef3ba41 to call 'rm' twice,\ni.e once without '--storage' and once with.\n\nChange-Id: I2f6dac3e1c9842ccc1dc922d2be16a11a4927a11\nRelated-Bug: #1840691\n(cherry picked from commit 03f26d045ef3b36e13a260382acd16871441ab3d)\n\ncontainer-puppet: SystemExit with RC 1 to actually error out\n\nRaising SystemExit() isn't enough to stop the deployment, we also need\nto provide a return code:\nhttps://docs.python.org/3.7/library/exceptions.html#SystemExit\n\nDefault is None, so we didn't exit the right return code.\n\nWith that patch, if a container failed to be configured; we will raise\nan error and actually exit(1).\n\nChange-Id: Ie4ab2ffed5e04f87c866b0d4f3e5c702a98be5ad\n(cherry picked from commit 7d1cd360d8c15365ad79028763ac7ebf438934d6)\n""}, {'number': 3, 'created': '2020-02-10 16:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5bee9537022c93f70c752c697b707dab7709db4f', 'message': ""[TRAIN] Backport squash for container-puppet.py\n\nDoing a squash backports of container-puppet.py to avoid potential\nregressions in the middle.\n\nMove basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat it is more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 7282c11285b457980f79a7c372e4b3e874e66288)\n\nConvert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 99c7e2afa010244d360a5a0da1673f5fed8b52ab)\n\nMove globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 5d4f3ad4a615117530bac75f4e612dfdd1edc2b7)\n\nFix regression in removing containers in container-puppet.py\n\nCommit 7282c11285b457980f79a7c372e4b3e874e66288 removed changes in\ncommit 529ad2d7772ced181d9273d4615d90c86ef3ba41 to call 'rm' twice,\ni.e once without '--storage' and once with.\n\nChange-Id: I2f6dac3e1c9842ccc1dc922d2be16a11a4927a11\nRelated-Bug: #1840691\n(cherry picked from commit 03f26d045ef3b36e13a260382acd16871441ab3d)\n\ncontainer-puppet: SystemExit with RC 1 to actually error out\n\nRaising SystemExit() isn't enough to stop the deployment, we also need\nto provide a return code:\nhttps://docs.python.org/3.7/library/exceptions.html#SystemExit\n\nDefault is None, so we didn't exit the right return code.\n\nWith that patch, if a container failed to be configured; we will raise\nan error and actually exit(1).\n\nChange-Id: Ie4ab2ffed5e04f87c866b0d4f3e5c702a98be5ad\n(cherry picked from commit 7d1cd360d8c15365ad79028763ac7ebf438934d6)\n""}, {'number': 4, 'created': '2020-02-14 11:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9a6be060a76b3aba4368108f966c80e8f720c66', 'message': ""[TRAIN] Backport squash for container-puppet.py\n\nDoing a squash backports of container-puppet.py to avoid potential\nregressions in the middle.\n\nMove basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat it is more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 7282c11285b457980f79a7c372e4b3e874e66288)\n\nConvert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 99c7e2afa010244d360a5a0da1673f5fed8b52ab)\n\nMove globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 5d4f3ad4a615117530bac75f4e612dfdd1edc2b7)\n\nFix regression in removing containers in container-puppet.py\n\nCommit 7282c11285b457980f79a7c372e4b3e874e66288 removed changes in\ncommit 529ad2d7772ced181d9273d4615d90c86ef3ba41 to call 'rm' twice,\ni.e once without '--storage' and once with.\n\nChange-Id: I2f6dac3e1c9842ccc1dc922d2be16a11a4927a11\nRelated-Bug: #1840691\n(cherry picked from commit 03f26d045ef3b36e13a260382acd16871441ab3d)\n\ncontainer-puppet: SystemExit with RC 1 to actually error out\n\nRaising SystemExit() isn't enough to stop the deployment, we also need\nto provide a return code:\nhttps://docs.python.org/3.7/library/exceptions.html#SystemExit\n\nDefault is None, so we didn't exit the right return code.\n\nWith that patch, if a container failed to be configured; we will raise\nan error and actually exit(1).\n\nChange-Id: Ie4ab2ffed5e04f87c866b0d4f3e5c702a98be5ad\n(cherry picked from commit 7d1cd360d8c15365ad79028763ac7ebf438934d6)\n""}, {'number': 5, 'created': '2020-02-18 17:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9972c4409d2b07ed65afb80ed9891da96c54df9b', 'message': ""[TRAIN] Backport squash for container-puppet.py\n\nDoing a squash backports of container-puppet.py to avoid potential\nregressions in the middle.\n\nMove basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat it is more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 7282c11285b457980f79a7c372e4b3e874e66288)\n\nConvert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 99c7e2afa010244d360a5a0da1673f5fed8b52ab)\n\nMove globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 5d4f3ad4a615117530bac75f4e612dfdd1edc2b7)\n\nFix regression in removing containers in container-puppet.py\n\nCommit 7282c11285b457980f79a7c372e4b3e874e66288 removed changes in\ncommit 529ad2d7772ced181d9273d4615d90c86ef3ba41 to call 'rm' twice,\ni.e once without '--storage' and once with.\n\nChange-Id: I2f6dac3e1c9842ccc1dc922d2be16a11a4927a11\nRelated-Bug: #1840691\n(cherry picked from commit 03f26d045ef3b36e13a260382acd16871441ab3d)\n\ncontainer-puppet: SystemExit with RC 1 to actually error out\n\nRaising SystemExit() isn't enough to stop the deployment, we also need\nto provide a return code:\nhttps://docs.python.org/3.7/library/exceptions.html#SystemExit\n\nDefault is None, so we didn't exit the right return code.\n\nWith that patch, if a container failed to be configured; we will raise\nan error and actually exit(1).\n\nChange-Id: Ie4ab2ffed5e04f87c866b0d4f3e5c702a98be5ad\n(cherry picked from commit 7d1cd360d8c15365ad79028763ac7ebf438934d6)\n""}, {'number': 6, 'created': '2020-02-19 17:13:47.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5322f30b3dbd618b0432e7228c36d7ea2a567543', 'message': ""[TRAIN] Backport squash for container-puppet.py\n\nDoing a squash backports of container-puppet.py to avoid potential\nregressions in the middle.\n\nMove basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat it is more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 7282c11285b457980f79a7c372e4b3e874e66288)\n\nConvert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 99c7e2afa010244d360a5a0da1673f5fed8b52ab)\n\nMove globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 5d4f3ad4a615117530bac75f4e612dfdd1edc2b7)\n\nFix regression in removing containers in container-puppet.py\n\nCommit 7282c11285b457980f79a7c372e4b3e874e66288 removed changes in\ncommit 529ad2d7772ced181d9273d4615d90c86ef3ba41 to call 'rm' twice,\ni.e once without '--storage' and once with.\n\nChange-Id: I2f6dac3e1c9842ccc1dc922d2be16a11a4927a11\nRelated-Bug: #1840691\n(cherry picked from commit 03f26d045ef3b36e13a260382acd16871441ab3d)\n\ncontainer-puppet: SystemExit with RC 1 to actually error out\n\nRaising SystemExit() isn't enough to stop the deployment, we also need\nto provide a return code:\nhttps://docs.python.org/3.7/library/exceptions.html#SystemExit\n\nDefault is None, so we didn't exit the right return code.\n\nWith that patch, if a container failed to be configured; we will raise\nan error and actually exit(1).\n\nChange-Id: Ie4ab2ffed5e04f87c866b0d4f3e5c702a98be5ad\n(cherry picked from commit 7d1cd360d8c15365ad79028763ac7ebf438934d6)\n""}]",2,705944,5322f30b3dbd618b0432e7228c36d7ea2a567543,32,7,6,6816,,,0,"[TRAIN] Backport squash for container-puppet.py

Doing a squash backports of container-puppet.py to avoid potential
regressions in the middle.

Move basic global functions into ansible tasks

Basic global functions have been moved out of the container-puppet
script and into ansible tasks. While this change should not have
any notable performance improvements, it continues the ongoing
effort to deconstruct / refactor the container puppet process so
that it is more managable, and maintainable.

In order to make the code more legible all of the pep8 vilolations
have been resolved. While the pep8 fixes are mostly cosmetic,
they're being done so, myself, and others, can better underand
what all is going on so we can work better future solutions.

This change consolodates all file options into a single task. By
consolodating we're reduce the number of tasks being run which
improves reliability and performance.

Change-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 7282c11285b457980f79a7c372e4b3e874e66288)

Convert subprocess to a reusable method

We were calling subprocess numerous times throught this script
using mostly copy and paste code. This change updates the
script to use a reusable method.

Change-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 99c7e2afa010244d360a5a0da1673f5fed8b52ab)

Move globals into main level 0 case

This change moves all of the global content into a main
case, which, in a follow on review, will allow us to
futher refactor the content into better documented
methods, ansible modules, etc.

Change-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 5d4f3ad4a615117530bac75f4e612dfdd1edc2b7)

Fix regression in removing containers in container-puppet.py

Commit 7282c11285b457980f79a7c372e4b3e874e66288 removed changes in
commit 529ad2d7772ced181d9273d4615d90c86ef3ba41 to call 'rm' twice,
i.e once without '--storage' and once with.

Change-Id: I2f6dac3e1c9842ccc1dc922d2be16a11a4927a11
Related-Bug: #1840691
(cherry picked from commit 03f26d045ef3b36e13a260382acd16871441ab3d)

container-puppet: SystemExit with RC 1 to actually error out

Raising SystemExit() isn't enough to stop the deployment, we also need
to provide a return code:
https://docs.python.org/3.7/library/exceptions.html#SystemExit

Default is None, so we didn't exit the right return code.

With that patch, if a container failed to be configured; we will raise
an error and actually exit(1).

Change-Id: Ie4ab2ffed5e04f87c866b0d4f3e5c702a98be5ad
(cherry picked from commit 7d1cd360d8c15365ad79028763ac7ebf438934d6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/705944/2 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,a7bfe3c724537f85d0636f97c0d17538939ee7ca,deconstruct/container-puppet-stable/train, raise SystemExit(1), raise SystemExit(),1,1
openstack%2Fkeystonemiddleware~master~I6c5f0a87ac7551674ce09f5fde5fdbce103e2a47,openstack/keystonemiddleware,master,I6c5f0a87ac7551674ce09f5fde5fdbce103e2a47,Remove universal wheel configuration,MERGED,2020-02-06 17:31:17.000000000,2020-02-25 01:04:11.000000000,2020-02-25 01:01:31.000000000,"[{'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 17:31:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/66352680ab7abc1c2bcc0dbe61c5558c41e4ff20', 'message': ""Remove universal wheel configuration\n\nNow that we've dropped py2 support we shouldn't be setting this\nanymore.\n\nChange-Id: I6c5f0a87ac7551674ce09f5fde5fdbce103e2a47\n""}]",0,706332,66352680ab7abc1c2bcc0dbe61c5558c41e4ff20,10,5,1,6928,,,0,"Remove universal wheel configuration

Now that we've dropped py2 support we shouldn't be setting this
anymore.

Change-Id: I6c5f0a87ac7551674ce09f5fde5fdbce103e2a47
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/32/706332/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,66352680ab7abc1c2bcc0dbe61c5558c41e4ff20,no-universal,,[wheel] universal = 1,0,2
openstack%2Fzun~master~I7ce48a1eac0fc11d98bb2dd2b8bb8f3f8a7fdc89,openstack/zun,master,I7ce48a1eac0fc11d98bb2dd2b8bb8f3f8a7fdc89,Add kuryr-lib into requirements.txt,MERGED,2020-02-17 05:00:49.000000000,2020-02-25 00:51:46.000000000,2020-02-25 00:49:21.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-17 05:00:49.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/9136170d08fd2d5a8964a330f89483a3912cc037', 'message': 'Add kuryr-lib into requirements.txt\n\nWe are importing kuryr-lib module so we need to add it to the\nrequirement list.\n\nChange-Id: I7ce48a1eac0fc11d98bb2dd2b8bb8f3f8a7fdc89\n'}]",0,708055,9136170d08fd2d5a8964a330f89483a3912cc037,13,2,1,11536,,,0,"Add kuryr-lib into requirements.txt

We are importing kuryr-lib module so we need to add it to the
requirement list.

Change-Id: I7ce48a1eac0fc11d98bb2dd2b8bb8f3f8a7fdc89
",git fetch https://review.opendev.org/openstack/zun refs/changes/55/708055/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,9136170d08fd2d5a8964a330f89483a3912cc037,,kuryr-lib==0.5.0,,2,0
openstack%2Fpuppet-openstack-integration~master~I3c1d5f451900bb521505dd10f3a4b8f1aef35394,openstack/puppet-openstack-integration,master,I3c1d5f451900bb521505dd10f3a4b8f1aef35394,Use www_authenticate_uri instead of auth_uri in swift,MERGED,2020-02-23 18:15:04.000000000,2020-02-25 00:50:08.000000000,2020-02-25 00:50:07.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-23 18:15:04.000000000', 'files': ['manifests/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b7218eafef764eb174f8985b1fccdd27870c12b0', 'message': 'Use www_authenticate_uri instead of auth_uri in swift\n\n... because we alwaredy deprecated auth_uri in puppet-swift[1].\n\n[1] d409c7b6c6010708a0e0620e001938d1f1710ba9\n\nChange-Id: I3c1d5f451900bb521505dd10f3a4b8f1aef35394\n'}]",0,709373,b7218eafef764eb174f8985b1fccdd27870c12b0,12,4,1,9816,,,0,"Use www_authenticate_uri instead of auth_uri in swift

... because we alwaredy deprecated auth_uri in puppet-swift[1].

[1] d409c7b6c6010708a0e0620e001938d1f1710ba9

Change-Id: I3c1d5f451900bb521505dd10f3a4b8f1aef35394
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/73/709373/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/swift.pp'],1,b7218eafef764eb174f8985b1fccdd27870c12b0,swift_auth_uri," www_authenticate_uri => ""${::openstack_integration::config::keystone_auth_uri}/v3"", auth_url => ""${::openstack_integration::config::keystone_admin_uri}/"", password => 'a_big_secret',"," auth_uri => ""${::openstack_integration::config::keystone_auth_uri}/v3"", auth_url => ""${::openstack_integration::config::keystone_admin_uri}/"", password => 'a_big_secret',",3,3
openstack%2Fos-brick~master~If31d120955eb216823a55005fdd3d24870aa6b9a,openstack/os-brick,master,If31d120955eb216823a55005fdd3d24870aa6b9a,Read mounts from /proc/mounts instead of running mount,MERGED,2019-12-18 20:03:55.000000000,2020-02-25 00:10:55.000000000,2020-02-19 16:57:46.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27419}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-12-18 20:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c57c4ed6bacca205b09811554938014314ecd0b4', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n""}, {'number': 2, 'created': '2019-12-18 20:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8dbc37a20fc5e95896e7cad9832bc9a393cda590', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n""}, {'number': 3, 'created': '2019-12-19 03:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cfc2725fe50e47fde8f66289e720d2a6ebf8b582', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n""}, {'number': 4, 'created': '2019-12-19 03:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ad36ce766e241a3f7fc4ea5967421bd00d69d2c5', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n""}, {'number': 5, 'created': '2019-12-19 04:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/60651fe74219c6ed91ac9612eebc6b7b805f81b9', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n""}, {'number': 6, 'created': '2019-12-19 17:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e9cd04c7be1398cad9873f26d768cf2752f90590', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n""}, {'number': 7, 'created': '2019-12-19 20:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/77ee36c94fb44156ce7e0e8ab70e750faf59af3b', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n""}, {'number': 8, 'created': '2019-12-20 15:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ffc7274defe5c298e4632adcce6185b77f24426a', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n""}, {'number': 9, 'created': '2019-12-20 15:03:48.000000000', 'files': ['os_brick/tests/remotefs/test_remotefs.py', 'os_brick/remotefs/remotefs.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f2409608473c06892b087e44e0041c9ade3f9924', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n""}]",3,699861,f2409608473c06892b087e44e0041c9ade3f9924,88,21,9,27419,,,0,"Read mounts from /proc/mounts instead of running mount

When creating multiple concurrent volumes, there's a lock
that prevents mount from returning quickly. Reading /proc/mounts
is way faster.

Change-Id: If31d120955eb216823a55005fdd3d24870aa6b9a
Closes-Bug: #1856889
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/61/699861/8 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/remotefs/test_remotefs.py', 'os_brick/remotefs/remotefs.py']",2,c57c4ed6bacca205b09811554938014314ecd0b4,bug/1856889," """"""Returns a dict of mounts and their mountpoint"""""" with open(""/proc/mounts"", ""r"") as procmounts: lines = list(filter(lambda x: (len(x.split()) > 2), procmounts)) return dict(map(lambda x: reversed((x.split())[0:2]), lines))"," (out, _err) = self._execute('mount', check_exit_code=0) lines = out.split('\n') mounts = {} for line in lines: tokens = line.split() if 2 < len(tokens): device = tokens[0] mnt_point = tokens[2] mounts[mnt_point] = device return mounts",7,14
openstack%2Fopenstack-helm-addons~master~I20cfb25bb3bc70fc62f252e856108de38daf70c8,openstack/openstack-helm-addons,master,I20cfb25bb3bc70fc62f252e856108de38daf70c8,[WIP] Mini-mirror: Add deployment gate job,ABANDONED,2020-02-18 15:27:30.000000000,2020-02-25 00:00:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-18 15:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/142f395555209cb9247ca03120870259095155b5', 'message': 'Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-02-18 15:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/1bc00c9ed87d94715031a20937971320607d9d1a', 'message': '[Wip] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 3, 'created': '2020-02-18 15:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/9f2be3bef6cf2ba71e6033b24fa43e5740d468e1', 'message': '[Wip] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 4, 'created': '2020-02-18 18:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/bff6e6db78272c8a1ce8bc86713edf3f26c7e9c2', 'message': '[WIP] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 5, 'created': '2020-02-19 02:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/83bad4c0955c3933b0505bc40ec80adfe4fbc2e6', 'message': '[Wip] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 6, 'created': '2020-02-19 03:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/ec59d9b7a04569abd13cf73448b462c315e0abb4', 'message': '[WIP] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 7, 'created': '2020-02-19 15:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/469c6cc6b3a314e90a5883198a510dab8d7a7e54', 'message': '[WIP] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 8, 'created': '2020-02-19 15:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d601d26048538d22347693ced9144858db9bddcc', 'message': '[WIP] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 9, 'created': '2020-02-19 15:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/51312f98279eb7f354c4ccdfda8d3b3b008da26e', 'message': '[WIP] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 10, 'created': '2020-02-19 16:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/5bf1395c045850c9941b02a30184147bdf65268c', 'message': '[WIP] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 11, 'created': '2020-02-19 17:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/18de16edece432e3adc80507def9d9d13a5a4847', 'message': '[WIP] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 12, 'created': '2020-02-19 17:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/0821021c2e65408e675da105c5466296867af003', 'message': '[WIP] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 13, 'created': '2020-02-24 19:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/1859253a44f32c7329bd554d74b96972c199e3cf', 'message': '[WIP] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 14, 'created': '2020-02-24 19:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/12988ea3f80a619541420f666865d4d1ce5a0d97', 'message': '[WIP] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 15, 'created': '2020-02-24 20:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/abd77efbfd7f94e3fbb8aba93c56caed2026fe6a', 'message': '[WIP] Mini-mirror: Add deployment gate job\n\nChange-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",2,708415,abd77efbfd7f94e3fbb8aba93c56caed2026fe6a,31,1,15,29131,,,0,"[WIP] Mini-mirror: Add deployment gate job

Change-Id: I20cfb25bb3bc70fc62f252e856108de38daf70c8
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/15/708415/14 && git format-patch -1 --stdout FETCH_HEAD,[],0,142f395555209cb9247ca03120870259095155b5,Deploy Script,,,0,0
openstack%2Fnova~master~I15390e7e11565030c7c6211b0af03c1c20d6bee5,openstack/nova,master,I15390e7e11565030c7c6211b0af03c1c20d6bee5,Use tempest-full-py3 as base job,MERGED,2020-02-19 02:35:51.000000000,2020-02-24 23:57:44.000000000,2020-02-20 14:19:14.000000000,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-19 02:35:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/fe7655abe2871602a205143509e0591bd5793508', 'message': 'Use tempest-full-py3 as base job\n\ntempest-full is py2 job which are not supposed\nto use for master gate. nova-tempest-full-oslo.versionedobjects\njob is derived from tempest-full. Changing this job\nto drive from tempest-full-py3.\n\nChange-Id: I15390e7e11565030c7c6211b0af03c1c20d6bee5\n'}]",3,708548,fe7655abe2871602a205143509e0591bd5793508,23,8,1,8556,,,0,"Use tempest-full-py3 as base job

tempest-full is py2 job which are not supposed
to use for master gate. nova-tempest-full-oslo.versionedobjects
job is derived from tempest-full. Changing this job
to drive from tempest-full-py3.

Change-Id: I15390e7e11565030c7c6211b0af03c1c20d6bee5
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/708548/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fe7655abe2871602a205143509e0591bd5793508,drop-py27-support, parent: tempest-full-py3, parent: tempest-full,1,1
openstack%2Fopenstack-helm-infra~master~If622522dfcfc0476a117fd5c805abe060a6d30f8,openstack/openstack-helm-infra,master,If622522dfcfc0476a117fd5c805abe060a6d30f8,WIP - Reduce number of keystone calls on ks-user job,ABANDONED,2020-02-03 22:07:13.000000000,2020-02-24 23:42:24.000000000,,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-03 22:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9020e94898fc29629e0f49b112bc8fb68410252f', 'message': 'WIP - Reduce number of keystone calls on ks-user job\n\nChange-Id: If622522dfcfc0476a117fd5c805abe060a6d30f8\n'}, {'number': 2, 'created': '2020-02-03 22:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b42653eaab1b7ce36007e08795b6f28d44448b5', 'message': 'WIP - Reduce number of keystone calls on ks-user job\n\nChange-Id: If622522dfcfc0476a117fd5c805abe060a6d30f8\n'}, {'number': 3, 'created': '2020-02-03 22:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/06cdc4a9403377582c1e53ca7d660ab5fa9aaa19', 'message': 'WIP - Reduce number of keystone calls on ks-user job\n\nChange-Id: If622522dfcfc0476a117fd5c805abe060a6d30f8\n'}, {'number': 4, 'created': '2020-02-04 01:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/144fe3fac75d466f87683543fc3caa5544849c7a', 'message': 'WIP - Reduce number of keystone calls on ks-user job\n\nChange-Id: If622522dfcfc0476a117fd5c805abe060a6d30f8\n'}, {'number': 5, 'created': '2020-02-04 01:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dda4489566796599066e4b0ccff3e65169669b89', 'message': 'WIP - Reduce number of keystone calls on ks-user job\n\nChange-Id: If622522dfcfc0476a117fd5c805abe060a6d30f8\n'}, {'number': 6, 'created': '2020-02-04 02:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0007547fb5fd3dac6b7aac0acb40127a7ce0b91d', 'message': 'WIP - Reduce number of keystone calls on ks-user job\n\nIn standard deployments, the service users get assigned an\n""admin"" role on some ""service"" project in the ""default""\ndomain. Keystone deploys with a default domain and admin role\nalready existing, so this change seeks to remove several\nredundant openstack cli commands in this very common\nusecase while keeping the original functionality for any use\ncases that do not follow this pattern.\n\nAlso removed the member role creation and role assignment.\nThe member role already exists as a default role in keystone\npost Rocky, and due to a bug in the code, this role was never\nactually assigned. Users with an admin role are given the member\nrole via implied roles.\n\nChange-Id: If622522dfcfc0476a117fd5c805abe060a6d30f8\n'}, {'number': 7, 'created': '2020-02-17 18:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/adce138e8e0765c6f783fc4aa6315d416cffdd78', 'message': 'WIP - Reduce number of keystone calls on ks-user job\n\nIn standard deployments, the service users get assigned an\n""admin"" role on some ""service"" project in the ""default""\ndomain. Keystone deploys with a default domain and admin role\nalready existing, so this change seeks to remove several\nredundant openstack cli commands in this very common\nusecase while keeping the original functionality for any use\ncases that do not follow this pattern.\n\nAlso removed the member role creation and role assignment.\nThe member role already exists as a default role in keystone\npost Rocky, and due to a bug in the code, this role was never\nactually assigned. Users with an admin role are given the member\nrole via implied roles.\n\nChange-Id: If622522dfcfc0476a117fd5c805abe060a6d30f8\n'}, {'number': 8, 'created': '2020-02-17 19:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/94a3676c4c61e4fceaf290ade00c85ea1e731da5', 'message': 'WIP - Reduce number of keystone calls on ks-user job\n\nIn standard deployments, the service users get assigned an\n""admin"" role on some ""service"" project in the ""default""\ndomain. Keystone deploys with a default domain and admin role\nalready existing, so this change seeks to remove several\nredundant openstack cli commands in this very common\nusecase while keeping the original functionality for any use\ncases that do not follow this pattern.\n\nAlso removed the member role creation and role assignment.\nThe member role already exists as a default role in keystone\npost Rocky, and due to a bug in the code, this role was never\nactually assigned. Users with an admin role are given the member\nrole via implied roles.\n\nChange-Id: If622522dfcfc0476a117fd5c805abe060a6d30f8\n'}, {'number': 9, 'created': '2020-02-17 20:55:16.000000000', 'files': ['helm-toolkit/templates/scripts/_ks-user.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb5f5bfc9fa0fb15e71a777e50862405b28a228b', 'message': 'WIP - Reduce number of keystone calls on ks-user job\n\nIn standard deployments, the service users get assigned an\n""admin"" role on some ""service"" project in the ""default""\ndomain. Keystone deploys with a default domain and admin role\nalready existing, so this change seeks to remove several\nredundant openstack cli commands in this very common\nusecase while keeping the original functionality for any use\ncases that do not follow this pattern.\n\nAlso removed the member role creation and role assignment.\nThe member role already exists as a default role in keystone\npost Rocky, and due to a bug in the code, this role was never\nactually assigned. Users with an admin role are given the member\nrole via implied roles.\n\nChange-Id: If622522dfcfc0476a117fd5c805abe060a6d30f8\n'}]",2,705563,eb5f5bfc9fa0fb15e71a777e50862405b28a228b,17,3,9,21420,,,0,"WIP - Reduce number of keystone calls on ks-user job

In standard deployments, the service users get assigned an
""admin"" role on some ""service"" project in the ""default""
domain. Keystone deploys with a default domain and admin role
already existing, so this change seeks to remove several
redundant openstack cli commands in this very common
usecase while keeping the original functionality for any use
cases that do not follow this pattern.

Also removed the member role creation and role assignment.
The member role already exists as a default role in keystone
post Rocky, and due to a bug in the code, this role was never
actually assigned. Users with an admin role are given the member
role via implied roles.

Change-Id: If622522dfcfc0476a117fd5c805abe060a6d30f8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/63/705563/4 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/_ks-user.sh.tpl'],1,9020e94898fc29629e0f49b112bc8fb68410252f,ks-user,"function create_new_domains () { # Manage project domain PROJECT_DOMAIN_ID=$(openstack domain create --or-show --enable -f value -c id \ --description=""Domain for ${SERVICE_OS_REGION_NAME}/${SERVICE_OS_PROJECT_DOMAIN_NAME}"" \ ""${SERVICE_OS_PROJECT_DOMAIN_NAME}"") # Display project domain openstack domain show ""${PROJECT_DOMAIN_ID}"" # Manage user domain USER_DOMAIN_ID=$(openstack domain create --or-show --enable -f value -c id \ --description=""Domain for ${SERVICE_OS_REGION_NAME}/${SERVICE_OS_USER_DOMAIN_NAME}"" \ ""${SERVICE_OS_USER_DOMAIN_NAME}"") # Display user domain openstack domain show ""${USER_DOMAIN_ID}"" } if [[ ""${SERVICE_OS_PROJECT_DOMAIN_NAME}"" == ""Default"" ]] && [[ ""${SERVICE_OS_USER_DOMAIN_NAME}"" ""Default""]] then # Default domain already exists, skip some steps PROJECT_DOMAIN_ID=$(openstack domain show default -f value -c id) USER_DOMAIN_ID=""$PROJECT_DOMAIN_ID"" else create_new_domains fi if ""$SERVICE_OS_ROLE"" != admin then ks_assign_user_role fi","# Manage project domain PROJECT_DOMAIN_ID=$(openstack domain create --or-show --enable -f value -c id \ --description=""Domain for ${SERVICE_OS_REGION_NAME}/${SERVICE_OS_PROJECT_DOMAIN_NAME}"" \ ""${SERVICE_OS_PROJECT_DOMAIN_NAME}"") # Display project domain openstack domain show ""${PROJECT_DOMAIN_ID}""# Display project openstack project show ""${USER_PROJECT_ID}"" # Manage user domain USER_DOMAIN_ID=$(openstack domain create --or-show --enable -f value -c id \ --description=""Domain for ${SERVICE_OS_REGION_NAME}/${SERVICE_OS_USER_DOMAIN_NAME}"" \ ""${SERVICE_OS_USER_DOMAIN_NAME}"") # Display user domain openstack domain show ""${USER_DOMAIN_ID}"" ks_assign_user_role",30,18
openstack%2Fneutron-dynamic-routing~stable%2Frocky~I3aecdd7979dba97dab12a6550655c90a57f56cb3,openstack/neutron-dynamic-routing,stable/rocky,I3aecdd7979dba97dab12a6550655c90a57f56cb3,Implement DVR-aware fixed IP lookups,MERGED,2019-10-02 17:42:39.000000000,2020-02-24 23:42:10.000000000,2020-02-24 23:40:44.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 7016}, {'_account_id': 7118}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 17:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/daa593281d02a724ffdb7b8363615c238bf98fe1', 'message': ""Implement DVR-aware fixed IP lookups\n\nThis change adds DVR-aware announcements for routable fixed IP's\nto be sent, thereby routing traffic directly to the appropriate\ncompute node instead of the centralized router on the network node.\n\nChange-Id: I3aecdd7979dba97dab12a6550655c90a57f56cb3\nPartial-Bug: #1775250\n(cherry picked from commit 69e9888b0159ba3c9af09e1eceb48df76e4be839)\n""}, {'number': 2, 'created': '2019-10-02 21:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/2b1ce7717911c66baf3ce3958dd68eefa47578ba', 'message': ""Implement DVR-aware fixed IP lookups\n\nThis change adds DVR-aware announcements for routable fixed IP's\nto be sent, thereby routing traffic directly to the appropriate\ncompute node instead of the centralized router on the network node.\n\nChange-Id: I3aecdd7979dba97dab12a6550655c90a57f56cb3\nPartial-Bug: #1775250\n(cherry picked from commit 69e9888b0159ba3c9af09e1eceb48df76e4be839)\n""}, {'number': 3, 'created': '2019-10-03 23:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/1fb2f04adcbc573a0dcb8dbfa3302165d2b65839', 'message': ""Implement DVR-aware fixed IP lookups\n\nThis change adds DVR-aware announcements for routable fixed IP's\nto be sent, thereby routing traffic directly to the appropriate\ncompute node instead of the centralized router on the network node.\n\nChange-Id: I3aecdd7979dba97dab12a6550655c90a57f56cb3\nPartial-Bug: #1775250\n(cherry picked from commit 69e9888b0159ba3c9af09e1eceb48df76e4be839)\n""}, {'number': 4, 'created': '2019-10-04 17:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8792258804b950a113dd297791ce895f56ed9544', 'message': ""Implement DVR-aware fixed IP lookups\n\nThis change adds DVR-aware announcements for routable fixed IP's\nto be sent, thereby routing traffic directly to the appropriate\ncompute node instead of the centralized router on the network node.\n\nChange-Id: I3aecdd7979dba97dab12a6550655c90a57f56cb3\nPartial-Bug: #1775250\n(cherry picked from commit 69e9888b0159ba3c9af09e1eceb48df76e4be839)\n""}, {'number': 5, 'created': '2020-02-24 21:36:24.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/tests/unit/services/bgp/test_bgp_plugin.py', 'neutron_dynamic_routing/db/bgp_db.py', 'releasenotes/notes/dvr-aware-announcements-24bfcb8fee87161d.yaml', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/032486a3a4a3279c824b5e78f7c13c6086a680d4', 'message': ""Implement DVR-aware fixed IP lookups\n\nThis change adds DVR-aware announcements for routable fixed IP's\nto be sent, thereby routing traffic directly to the appropriate\ncompute node instead of the centralized router on the network node.\n\nConflicts:\n    neutron_dynamic_routing/db/bgp_db.py\n\nChange-Id: I3aecdd7979dba97dab12a6550655c90a57f56cb3\nPartial-Bug: #1775250\n(cherry picked from commit 69e9888b0159ba3c9af09e1eceb48df76e4be839)\n""}]",4,686225,032486a3a4a3279c824b5e78f7c13c6086a680d4,22,6,5,7016,,,0,"Implement DVR-aware fixed IP lookups

This change adds DVR-aware announcements for routable fixed IP's
to be sent, thereby routing traffic directly to the appropriate
compute node instead of the centralized router on the network node.

Conflicts:
    neutron_dynamic_routing/db/bgp_db.py

Change-Id: I3aecdd7979dba97dab12a6550655c90a57f56cb3
Partial-Bug: #1775250
(cherry picked from commit 69e9888b0159ba3c9af09e1eceb48df76e4be839)
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/25/686225/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/tests/unit/services/bgp/test_bgp_plugin.py', 'neutron_dynamic_routing/db/bgp_db.py', 'releasenotes/notes/dvr-aware-announcements-24bfcb8fee87161d.yaml', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py']",5,daa593281d02a724ffdb7b8363615c238bf98fe1,bug/1775250-stable/rocky," ha=False, ext_net_use_addr_scope=True, tenant_net_use_addr_scope=True): ext_pool_args = {'tenant_id': tenant_id, 'name': 'bgp-pool'} tenant_pool_args = ext_pool_args.copy() if address_scope and ext_net_use_addr_scope: ext_pool_args['address_scope_id'] = address_scope['id'] if address_scope and tenant_net_use_addr_scope: tenant_pool_args['address_scope_id'] = address_scope['id'] self.subnetpool([gw_prefix], **ext_pool_args) as ext_pool,\ self.subnetpool([tenant_prefix], **tenant_pool_args) as int_pool: ext_subnetpool_id = ext_pool['subnetpool']['id'] int_subnetpool_id = int_pool['subnetpool']['id'] subnetpool_id=ext_subnetpool_id, subnetpool_id=int_subnetpool_id, fixed_prefix = fixed_port['fixed_ips'][0]['ip_address'] + '/32' self.assertEqual(3, len(routes)) fixed_ip_route_verified = False if route['destination'] == fixed_prefix: self.assertEqual(dvr_gw_ip, route['next_hop']) fixed_ip_route_verified = True self.assertTrue(fixed_ip_route_verified) def _test__get_dvr_fixed_ip_routes_by_bgp_speaker(self, ext_use_scope, tenant_use_scope): gw_prefix = '172.16.10.0/24' tenant_prefix = '10.10.10.0/24' tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, 'shared': True, 'name': 'bgp-scope'} scope = self.plugin.create_address_scope( self.context, {'address_scope': scope_data}) with self.router_with_external_and_tenant_networks( tenant_id=tenant_id, gw_prefix=gw_prefix, tenant_prefix=tenant_prefix, address_scope=scope, distributed=True, ext_net_use_addr_scope=ext_use_scope, tenant_net_use_addr_scope=tenant_use_scope) as res: router, ext_net, int_net = res gw_net_id = ext_net['network']['id'] tenant_net_id = int_net['network']['id'] fixed_port_data = {'port': {'name': 'test', 'network_id': tenant_net_id, 'tenant_id': tenant_id, 'admin_state_up': True, 'device_id': _uuid(), 'device_owner': 'compute:nova', 'mac_address': n_const.ATTR_NOT_SPECIFIED, 'fixed_ips': n_const.ATTR_NOT_SPECIFIED, portbindings.HOST_ID: 'test-host'}} fixed_port = self.plugin.create_port(self.context, fixed_port_data) fixed_ip_prefix = fixed_port['fixed_ips'][0]['ip_address'] + '/32' self.plugin.create_or_update_agent(self.context, {'agent_type': 'L3 agent', 'host': 'test-host', 'binary': 'neutron-l3-agent', 'topic': 'test'}) fip_gw = self.l3plugin.create_fip_agent_gw_port_if_not_exists( self.context, gw_net_id, 'test-host') with self.bgp_speaker(4, 1234, networks=[gw_net_id]) as speaker: bgp_speaker_id = speaker['id'] routes = self.bgp_plugin._get_dvr_fixed_ip_routes_by_bgp_speaker( # noqa self.context, bgp_speaker_id) routes = list(routes) dvr_gw_ip = fip_gw['fixed_ips'][0]['ip_address'] if ext_use_scope and tenant_use_scope: self.assertEqual(1, len(routes)) self.assertEqual(dvr_gw_ip, routes[0]['next_hop']) self.assertEqual(fixed_ip_prefix, routes[0]['destination']) else: self.assertEqual(0, len(routes)) def test__get_dvr_fixed_ip_routes_by_bgp_speaker_same_scope(self): self._test__get_dvr_fixed_ip_routes_by_bgp_speaker(True, True) def test__get_dvr_fixed_ip_routes_by_bgp_speaker_different_scope(self): self._test__get_dvr_fixed_ip_routes_by_bgp_speaker(True, False) self._test__get_dvr_fixed_ip_routes_by_bgp_speaker(False, True) def test__get_dvr_fixed_ip_routes_by_bgp_speaker_no_scope(self): self._test__get_dvr_fixed_ip_routes_by_bgp_speaker(False, False) def test_get_external_networks_for_port_same_address_scope_v4(self): tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, 'shared': True, 'name': 'bgp-scope'} self._test_get_external_networks_for_port('172.10.2.0/24', '10.0.0.0/24', scope_data, tenant_id, True, True) self._test_get_external_networks_for_port('172.10.2.0/24', '10.0.0.0/24', scope_data, tenant_id, True, True, False) def test_get_external_networks_for_port_different_address_scope_v4(self): tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, 'shared': True, 'name': 'bgp-scope'} self._test_get_external_networks_for_port('172.10.2.0/24', '10.0.0.0/24', scope_data, tenant_id, True, False) self._test_get_external_networks_for_port('172.10.2.0/24', '10.0.0.0/24', scope_data, tenant_id, True, False, False) self._test_get_external_networks_for_port('172.10.2.0/24', '10.0.0.0/24', scope_data, tenant_id, False, True) self._test_get_external_networks_for_port('172.10.2.0/24', '10.0.0.0/24', scope_data, tenant_id, False, True, False) def test_get_external_networks_for_port_same_address_scope_v6(self): tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 6, 'shared': True, 'name': 'bgp-scope'} self._test_get_external_networks_for_port('2001:1234:1234::/64', '2001:1234:4321::/64', scope_data, tenant_id, True, True) self._test_get_external_networks_for_port('2001:1234:1234::/64', '2001:1234:4321::/64', scope_data, tenant_id, True, True, False) def test_get_external_networks_for_port_different_address_scope_v6(self): tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 6, 'shared': True, 'name': 'bgp-scope'} self._test_get_external_networks_for_port('2001:1234:1234::/64', '2001:1234:4321::/64', scope_data, tenant_id, True, False) self._test_get_external_networks_for_port('2001:1234:1234::/64', '2001:1234:4321::/64', scope_data, tenant_id, True, False, False) self._test_get_external_networks_for_port('2001:1234:1234::/64', '2001:1234:4321::/64', scope_data, tenant_id, False, True) self._test_get_external_networks_for_port('2001:1234:1234::/64', '2001:1234:4321::/64', scope_data, tenant_id, False, True, False) def _test_get_external_networks_for_port(self, gw_prefix, tenant_prefix, scope_data, tenant_id, external_use_address_scope, project_use_address_scope, match_address_scopes=True): scope = None if scope_data: scope = self.plugin.create_address_scope( self.context, {'address_scope': scope_data}) with self.router_with_external_and_tenant_networks( tenant_id=tenant_id, gw_prefix=gw_prefix, tenant_prefix=tenant_prefix, address_scope=scope, distributed=True, ext_net_use_addr_scope=external_use_address_scope, tenant_net_use_addr_scope=project_use_address_scope) as res: router, ext_net, int_net = res gw_net_id = ext_net['network']['id'] tenant_net_id = int_net['network']['id'] fixed_port_data = {'port': {'name': 'test', 'network_id': tenant_net_id, 'tenant_id': tenant_id, 'admin_state_up': True, 'device_id': _uuid(), 'device_owner': 'compute:nova', 'mac_address': n_const.ATTR_NOT_SPECIFIED, 'fixed_ips': n_const.ATTR_NOT_SPECIFIED, portbindings.HOST_ID: 'test-host'}} fixed_port = self.plugin.create_port(self.context, fixed_port_data) self.plugin.create_or_update_agent(self.context, {'agent_type': 'L3 agent', 'host': 'test-host', 'binary': 'neutron-l3-agent', 'topic': 'test'}) ext_nets = self.bgp_plugin.get_external_networks_for_port( self.context, fixed_port, match_address_scopes=match_address_scopes) if not match_address_scopes: self.assertEqual(1, len(ext_nets)) self.assertEqual(gw_net_id, ext_nets[0]) elif external_use_address_scope and project_use_address_scope: self.assertEqual(1, len(ext_nets)) self.assertEqual(gw_net_id, ext_nets[0]) else: self.assertEqual(0, len(ext_nets)) "," ha=False): prefixes = [gw_prefix, tenant_prefix] subnetpool_args = {'tenant_id': tenant_id, 'name': 'bgp-pool'} if address_scope: subnetpool_args['address_scope_id'] = address_scope['id'] self.subnetpool(prefixes, **subnetpool_args) as pool: subnetpool_id = pool['subnetpool']['id'] subnetpool_id=subnetpool_id, subnetpool_id=subnetpool_id, self.assertEqual(2, len(routes))",377,15
openstack%2Frally-openstack~master~I0ed958f07b7cfeab3a27cbff530290e832740077,openstack/rally-openstack,master,I0ed958f07b7cfeab3a27cbff530290e832740077,Use public_network_id when creating router,MERGED,2020-02-06 10:43:47.000000000,2020-02-24 23:41:39.000000000,2020-02-24 23:41:39.000000000,"[{'_account_id': 9545}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 10:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b7edf750c942a983ab9582661389b043d17ef0bc', 'message': 'Use public_network_id when creating router\n\nPreviously if using tempest overrides with:\n\n  [network]\n  public_network_id = my-uuid\n\nrally could create a router on a different network.\n\nCloses-Bug: #1862036\na router on another\n\nChange-Id: I0ed958f07b7cfeab3a27cbff530290e832740077\n'}, {'number': 2, 'created': '2020-02-06 10:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/1ad2fa7343f856615beaced9d34b97a00ec271ec', 'message': 'Use public_network_id when creating router\n\nPreviously if using tempest overrides with:\n\n  [network]\n  public_network_id = my-uuid\n\nrally could create a router on a different network.\n\nCloses-Bug: #1862036\na router on another\n\nChange-Id: I0ed958f07b7cfeab3a27cbff530290e832740077\n'}, {'number': 3, 'created': '2020-02-06 13:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ee0a20a3ae1e9ba804dbf5072fd7e68ad1446c86', 'message': 'Use public_network_id when creating router\n\nPreviously if using tempest overrides with:\n\n  [network]\n  public_network_id = my-uuid\n\nrally could create a router on a different network.\n\nCloses-Bug: #1862036\na router on another\n\nChange-Id: I0ed958f07b7cfeab3a27cbff530290e832740077\n'}, {'number': 4, 'created': '2020-02-06 16:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5a62b5de6761904c6bc63279d009fc876da7c0bb', 'message': 'Use public_network_id when creating router\n\nPreviously if using tempest overrides with:\n\n  [network]\n  public_network_id = my-uuid\n\nrally could create a router on a different network.\n\nCloses-Bug: #1862036\nChange-Id: I0ed958f07b7cfeab3a27cbff530290e832740077\n'}, {'number': 5, 'created': '2020-02-07 10:52:29.000000000', 'files': ['tests/unit/verification/tempest/test_context.py', 'rally_openstack/verification/tempest/context.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ceb96360240f3efe47a5ccf2ec620535a1c51d76', 'message': 'Use public_network_id when creating router\n\nPreviously if using tempest overrides with:\n\n  [network]\n  public_network_id = my-uuid\n\nrally could create a router on a different network.\n\nCloses-Bug: #1862036\nChange-Id: I0ed958f07b7cfeab3a27cbff530290e832740077\n'}]",1,706229,ceb96360240f3efe47a5ccf2ec620535a1c51d76,16,3,5,28048,,,0,"Use public_network_id when creating router

Previously if using tempest overrides with:

  [network]
  public_network_id = my-uuid

rally could create a router on a different network.

Closes-Bug: #1862036
Change-Id: I0ed958f07b7cfeab3a27cbff530290e832740077
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/29/706229/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/verification/tempest/test_context.py', 'rally_openstack/verification/tempest/context.py']",2,b7edf750c942a983ab9582661389b043d17ef0bc,fix/router," router_create_args = {} public_net = None if self.conf.has_section(""network""): public_net = self.conf.get(""network"", ""public_network_id"") if public_net: ext_gw_mode_enabled = neutron_wrapper.ext_gw_mode_enabled external_gateway_info = { ""network_id"": public_net } if ext_gw_mode_enabled: external_gateway_info[""enable_snat""] = True router_create_args[""external_gateway_info""] = external_gateway_info router_create_args=router_create_args,",,38,0
openstack%2Fneutron~stable%2Frocky~I859287871f9040e9b46e38964dae8f911b6be25d,openstack/neutron,stable/rocky,I859287871f9040e9b46e38964dae8f911b6be25d,DNM: Testing with stable/rocky fix on devstack & Tempest,ABANDONED,2020-01-21 20:04:11.000000000,2020-02-24 23:38:52.000000000,,"[{'_account_id': 8556}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-21 20:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/532a99afa6fedff80928331d12d28ff87b7dcc81', 'message': 'DNM: Testing with stable/rocky fix on devstack & Tempest\n\nDepends-On: https://review.opendev.org/#/c/703011/\nChange-Id: I859287871f9040e9b46e38964dae8f911b6be25d\n'}, {'number': 2, 'created': '2020-01-21 22:39:13.000000000', 'files': ['neutron/agent/l3/router_info.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f13c345f29dd577077c3f4e5d37378a97ae06c3', 'message': 'DNM: Testing with stable/rocky fix on devstack & Tempest\n\nDepends-On: https://review.opendev.org/#/c/703011/\nChange-Id: I859287871f9040e9b46e38964dae8f911b6be25d\n'}]",0,703686,0f13c345f29dd577077c3f4e5d37378a97ae06c3,35,5,2,8556,,,0,"DNM: Testing with stable/rocky fix on devstack & Tempest

Depends-On: https://review.opendev.org/#/c/703011/
Change-Id: I859287871f9040e9b46e38964dae8f911b6be25d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/703686/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,532a99afa6fedff80928331d12d28ff87b7dcc81,,# there is also secret magic in ostestr which lets you run in a fail only,# there is also secret magic in ostestr which lets you run in a fail only,1,1
openstack%2Fpuppet-openstack-integration~master~Ie0dd305a6003237b09c4178de627548e2904fe54,openstack/puppet-openstack-integration,master,Ie0dd305a6003237b09c4178de627548e2904fe54,Use short parameter names for nova::network::neutron,MERGED,2020-02-23 18:09:41.000000000,2020-02-24 23:22:47.000000000,2020-02-24 23:22:47.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-23 18:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/30e0c86b996920a82d3e358577333d86d9fb647d', 'message': 'Use shorten parameter names for nova::network::neutron\n\nDepends-on: https://review.opendev.org/#/c/709371/\nChange-Id: Ie0dd305a6003237b09c4178de627548e2904fe54\n'}, {'number': 2, 'created': '2020-02-24 12:43:56.000000000', 'files': ['manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ce3de880132695feaf2699e39afc7d880b3bf417', 'message': 'Use short parameter names for nova::network::neutron\n\nDepends-on: https://review.opendev.org/#/c/709371/\nChange-Id: Ie0dd305a6003237b09c4178de627548e2904fe54\n'}]",0,709372,ce3de880132695feaf2699e39afc7d880b3bf417,15,4,2,9816,,,0,"Use short parameter names for nova::network::neutron

Depends-on: https://review.opendev.org/#/c/709371/
Change-Id: Ie0dd305a6003237b09c4178de627548e2904fe54
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/72/709372/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/nova.pp'],1,30e0c86b996920a82d3e358577333d86d9fb647d,neutron_param_name," auth_url => ""${::openstack_integration::config::keystone_admin_uri}/v3"", password => 'a_big_secret',"," neutron_auth_url => ""${::openstack_integration::config::keystone_admin_uri}/v3"", neutron_password => 'a_big_secret',",2,2
openstack%2Freleases~master~I6eede4c8a29f7accaf8bb764e4454823258232d8,openstack/releases,master,I6eede4c8a29f7accaf8bb764e4454823258232d8,Release keystoneauth1 3.17.2 for stable/train,MERGED,2020-02-20 17:48:40.000000000,2020-02-24 22:55:12.000000000,2020-02-24 22:55:12.000000000,"[{'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-20 17:48:40.000000000', 'files': ['deliverables/train/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a5822b93fc594249631b71bd40c5d84094d742e7', 'message': 'Release keystoneauth1 3.17.2 for stable/train\n\nThis release would include [1], which makes life easier for packagers\nwho want to run unit tests.\n\n[1] - https://review.opendev.org/701419\n\nChange-Id: I6eede4c8a29f7accaf8bb764e4454823258232d8\n'}]",0,708931,a5822b93fc594249631b71bd40c5d84094d742e7,10,5,1,13294,,,0,"Release keystoneauth1 3.17.2 for stable/train

This release would include [1], which makes life easier for packagers
who want to run unit tests.

[1] - https://review.opendev.org/701419

Change-Id: I6eede4c8a29f7accaf8bb764e4454823258232d8
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/708931/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/keystoneauth.yaml'],1,a5822b93fc594249631b71bd40c5d84094d742e7,, - projects: - repo: openstack/keystoneauth hash: 1d5f57258af4e429995bf4c02137d24fe32c36e1 tarball-base: keystoneauth1 version: 3.17.2,,5,0
openstack%2Fcontributor-guide~master~Ie0270855d15511e5718541a9df28e57189349a8e,openstack/contributor-guide,master,Ie0270855d15511e5718541a9df28e57189349a8e,Add quick start guide,MERGED,2020-02-20 18:05:46.000000000,2020-02-24 22:41:08.000000000,2020-02-24 22:38:47.000000000,"[{'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-20 18:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/a03a3051c9a1237f827a4d1ef419ac0961818e57', 'message': 'Add quick start guide\n\nContributor guide has lot of details on various\ntopics of communty workflow including communication,\ngovernance and contrbution etc but there is no entry\npoint or quick start guide for first timer so that they\ncan have a quick steps wise page to push their first patch.\n\nIt is difficult for firt timer to read all the guide and then\nlearn how to push their first patch.\n\nChange-Id: Ie0270855d15511e5718541a9df28e57189349a8e\n'}, {'number': 2, 'created': '2020-02-20 18:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/29f875763dcbd590d1e20b4823d05e59dc9b013d', 'message': 'Add quick start guide\n\nContributor guide has lot of details on various\ntopics of communty workflow including communication,\ngovernance and contrbution etc but there is no entry\npoint or quick start guide for first timer so that they\ncan have a quick steps wise page to push their first patch.\n\nIt is difficult for firt timer to read all the guide and then\nlearn how to push their first patch.\n\nChange-Id: Ie0270855d15511e5718541a9df28e57189349a8e\n'}, {'number': 3, 'created': '2020-02-20 19:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/b53f9d0aec5739715e9b7a69d5bd891fc97804b5', 'message': 'Add quick start guide\n\nContributor guide has lot of details on various\ntopics of communty workflow including communication,\ngovernance and contrbution etc but there is no entry\npoint or quick start guide for first timer so that they\ncan have a quick steps wise page to push their first patch.\n\nIt is difficult for firt timer to read all the guide and then\nlearn how to push their first patch.\n\nChange-Id: Ie0270855d15511e5718541a9df28e57189349a8e\n'}, {'number': 4, 'created': '2020-02-21 18:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/5f98a96fedc388edd025cee83dfeccf57e23b511', 'message': 'Add quick start guide\n\nContributor guide has lot of details on various\ntopics of communty workflow including communication,\ngovernance and contrbution etc but there is no entry\npoint or quick start guide for first timer so that they\ncan have a quick steps wise page to push their first patch.\n\nIt is difficult for firt timer to read all the guide and then\nlearn how to push their first patch.\n\nChange-Id: Ie0270855d15511e5718541a9df28e57189349a8e\n'}, {'number': 5, 'created': '2020-02-24 20:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/ffb49c636ec0d01c4aae4adc9a9aac644b2103bc', 'message': 'Add quick start guide\n\nContributor guide has lot of details on various\ntopics of communty workflow including communication,\ngovernance and contrbution etc but there is no entry\npoint or quick start guide for first timer so that they\ncan have a quick steps wise page to push their first patch.\n\nIt is difficult for firt timer to read all the guide and then\nlearn how to push their first patch.\n\nChange-Id: Ie0270855d15511e5718541a9df28e57189349a8e\n'}, {'number': 6, 'created': '2020-02-24 20:44:11.000000000', 'files': ['doc/source/code-and-documentation/introduction.rst', 'doc/source/code-and-documentation/quick-start.rst', 'doc/source/code-and-documentation/index.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/f80feb3abeefbf32e005e7e8161b387a0acc8fc2', 'message': 'Add quick start guide\n\nContributor guide has lot of details on various\ntopics of communty workflow including communication,\ngovernance and contrbution etc but there is no entry\npoint or quick start guide for first timer so that they\ncan have a quick steps wise page to push their first patch.\n\nIt is difficult for firt timer to read all the guide and then\nlearn how to push their first patch.\n\nChange-Id: Ie0270855d15511e5718541a9df28e57189349a8e\n'}]",16,708939,f80feb3abeefbf32e005e7e8161b387a0acc8fc2,29,7,6,8556,,,0,"Add quick start guide

Contributor guide has lot of details on various
topics of communty workflow including communication,
governance and contrbution etc but there is no entry
point or quick start guide for first timer so that they
can have a quick steps wise page to push their first patch.

It is difficult for firt timer to read all the guide and then
learn how to push their first patch.

Change-Id: Ie0270855d15511e5718541a9df28e57189349a8e
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/39/708939/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/code-and-documentation/introduction.rst', 'doc/source/code-and-documentation/quick-start.rst', 'doc/source/code-and-documentation/index.rst']",3,a03a3051c9a1237f827a4d1ef419ac0961818e57,, /code-and-documentation/quick-start,,39,3
openstack%2Fheat~stable%2Fstein~I3c9bdfe1bc40e6b96335041928aed275d1eb4958,openstack/heat,stable/stein,I3c9bdfe1bc40e6b96335041928aed275d1eb4958,Docs: Fix link broken since Stein release,MERGED,2020-02-24 15:45:32.000000000,2020-02-24 22:29:49.000000000,2020-02-24 22:25:56.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 15:45:32.000000000', 'files': ['doc/source/admin/auth-model.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/c59a158da14122135305794eb12135008344559d', 'message': 'Docs: Fix link broken since Stein release\n\nChange-Id: I3c9bdfe1bc40e6b96335041928aed275d1eb4958\n(cherry picked from commit 18f59964a02fa3dd00f8f250bfd00857ae9f4310)\n'}]",0,709558,c59a158da14122135305794eb12135008344559d,7,2,1,4257,,,0,"Docs: Fix link broken since Stein release

Change-Id: I3c9bdfe1bc40e6b96335041928aed275d1eb4958
(cherry picked from commit 18f59964a02fa3dd00f8f250bfd00857ae9f4310)
",git fetch https://review.opendev.org/openstack/heat refs/changes/58/709558/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/auth-model.rst'],1,c59a158da14122135305794eb12135008344559d,,<user/trusts.html>`.,<admin/identity-use-trusts.html>`.,1,1
openstack%2Fheat~stable%2Frocky~If94115f87af3689413405f3283be7fb197fab058,openstack/heat,stable/rocky,If94115f87af3689413405f3283be7fb197fab058,Docs: use extrefs to link to other projects' docs,MERGED,2020-02-24 16:51:23.000000000,2020-02-24 22:29:02.000000000,2020-02-24 22:29:02.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 16:51:23.000000000', 'files': ['doc/source/admin/introduction.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/admin/auth-model.rst', 'doc/source/index.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/conf.py', 'doc/source/admin/stack-domain-users.rst', 'doc/source/glossary.rst', 'doc/source/developing_guides/gmr.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/5799adcbd18a90c23bdb20ebe4ca9ef1a193f35b', 'message': ""Docs: use extrefs to link to other projects' docs\n\nThis feature of openstackdocstheme means that we'll always link to the\ncorresponding branch of another project (i.e. latest links to latest,\nbut train links to train, &c.)\n\nhttps://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: If94115f87af3689413405f3283be7fb197fab058\n(cherry picked from commit dd70d9244d5a8b8b91b3e5908b45bf5b7f6a8974)\n""}]",0,709572,5799adcbd18a90c23bdb20ebe4ca9ef1a193f35b,6,2,1,4257,,,0,"Docs: use extrefs to link to other projects' docs

This feature of openstackdocstheme means that we'll always link to the
corresponding branch of another project (i.e. latest links to latest,
but train links to train, &c.)

https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper

Change-Id: If94115f87af3689413405f3283be7fb197fab058
(cherry picked from commit dd70d9244d5a8b8b91b3e5908b45bf5b7f6a8974)
",git fetch https://review.opendev.org/openstack/heat refs/changes/72/709572/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/introduction.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/admin/auth-model.rst', 'doc/source/index.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/admin/stack-domain-users.rst', 'doc/source/conf.py', 'doc/source/glossary.rst', 'doc/source/developing_guides/gmr.rst']",10,5799adcbd18a90c23bdb20ebe4ca9ef1a193f35b,,:oslo.reports-doc:`oslo.reports <>`.,`oslo.reports <https://docs.openstack.org/oslo.reports/>`_,42,35
openstack%2Fheat~stable%2Fstein~If94115f87af3689413405f3283be7fb197fab058,openstack/heat,stable/stein,If94115f87af3689413405f3283be7fb197fab058,Docs: use extrefs to link to other projects' docs,MERGED,2020-02-24 15:45:32.000000000,2020-02-24 22:28:15.000000000,2020-02-24 22:25:17.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 15:45:32.000000000', 'files': ['doc/source/admin/introduction.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/admin/auth-model.rst', 'doc/source/index.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/conf.py', 'doc/source/admin/stack-domain-users.rst', 'doc/source/glossary.rst', 'doc/source/developing_guides/gmr.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/258c6ea7972cb922424196aa6ae26f93c5eb2ff1', 'message': ""Docs: use extrefs to link to other projects' docs\n\nThis feature of openstackdocstheme means that we'll always link to the\ncorresponding branch of another project (i.e. latest links to latest,\nbut train links to train, &c.)\n\nhttps://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: If94115f87af3689413405f3283be7fb197fab058\n(cherry picked from commit dd70d9244d5a8b8b91b3e5908b45bf5b7f6a8974)\n""}]",0,709557,258c6ea7972cb922424196aa6ae26f93c5eb2ff1,7,2,1,4257,,,0,"Docs: use extrefs to link to other projects' docs

This feature of openstackdocstheme means that we'll always link to the
corresponding branch of another project (i.e. latest links to latest,
but train links to train, &c.)

https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper

Change-Id: If94115f87af3689413405f3283be7fb197fab058
(cherry picked from commit dd70d9244d5a8b8b91b3e5908b45bf5b7f6a8974)
",git fetch https://review.opendev.org/openstack/heat refs/changes/57/709557/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/introduction.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/admin/auth-model.rst', 'doc/source/index.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/admin/stack-domain-users.rst', 'doc/source/conf.py', 'doc/source/glossary.rst', 'doc/source/developing_guides/gmr.rst', 'doc/source/install/install-rdo.rst']",11,258c6ea7972cb922424196aa6ae26f93c5eb2ff1,," If installing OpenStack manually following the :keystone-doc:`Keystone install guide <install/keystone-users-rdo.html>`, the name of the services project is ``service`` as given above. However, traditional methods of installing RDO (such as PackStack and TripleO) use ``services`` as the name of the service project. If you installed RDO using a Puppet-based method, substitute ``services`` as the project name."," If installing OpenStack manually following the `Keystone install guide`_, the name of the services project is ``service`` as given above. However, traditional methods of installing RDO (such as PackStack and TripleO) use ``services`` as the name of the service project. If you installed RDO using a Puppet-based method, substitute ``services`` as the project name. .. _`Keystone install guide`: https://docs.openstack.org/keystone/latest/install/keystone-users-rdo.html",49,43
openstack%2Fheat~stable%2Ftrain~Iccd1185c697d3c44c887ee69ef403c8c4c9ef6fb,openstack/heat,stable/train,Iccd1185c697d3c44c887ee69ef403c8c4c9ef6fb,Docs: Fix links broken since Train release,MERGED,2020-02-24 15:07:49.000000000,2020-02-24 22:25:12.000000000,2020-02-24 22:19:32.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 15:07:49.000000000', 'files': ['doc/source/template_guide/software_deployment.rst', 'doc/source/glossary.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/16bf70d5b9071dcc60e98bdfdd5924c2bb9ab216', 'message': 'Docs: Fix links broken since Train release\n\nChange-Id: Iccd1185c697d3c44c887ee69ef403c8c4c9ef6fb\n(cherry picked from commit 40ec7665687342b6c959d0d8b77aaace12b51d30)\n'}]",0,709551,16bf70d5b9071dcc60e98bdfdd5924c2bb9ab216,7,2,1,4257,,,0,"Docs: Fix links broken since Train release

Change-Id: Iccd1185c697d3c44c887ee69ef403c8c4c9ef6fb
(cherry picked from commit 40ec7665687342b6c959d0d8b77aaace12b51d30)
",git fetch https://review.opendev.org/openstack/heat refs/changes/51/709551/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/template_guide/software_deployment.rst', 'doc/source/glossary.rst']",2,16bf70d5b9071dcc60e98bdfdd5924c2bb9ab216,, retrieve instance-specific data. See :nova-doc:`Nova Metadata service documentation <user/metadata.html#metadata-service>`. configure instances at boot time. See also :nova-doc:`Nova User data documentation <user/metadata.html#user-provided-data>`., retrieve instance-specific data. See :nova-doc:`Metadata service (OpenStack Administrator Guide) <admin/networking-nova.html#metadata-service>`. configure instances at boot time. See also :nova-doc:`User data (OpenStack End User Guide) <user/user-data.html>`.,5,6
openstack%2Fnova~master~Ie5a5a1fc81c7c2d3f61b72d19de464cfc9dab5ec,openstack/nova,master,Ie5a5a1fc81c7c2d3f61b72d19de464cfc9dab5ec,Add JSON schema and test for network_data.json,MERGED,2020-01-17 17:34:13.000000000,2020-02-24 22:23:05.000000000,2020-02-18 18:57:16.000000000,"[{'_account_id': 9708}, {'_account_id': 10239}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26340}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-17 17:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e72c27fd88453fdebbe65e0b1e9bd46b0b27636', 'message': ""[WIP] Add JSON schema for network_data.json\n\nOperator-generated network metadata can be validated\nagainst contributed JSON schema before it's too late.\n\nChange-Id: Ie5a5a1fc81c7c2d3f61b72d19de464cfc9dab5ec\n""}, {'number': 2, 'created': '2020-01-20 12:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6eefc1945cc5c12caff28300c070b4d89de3cc13', 'message': ""Add JSON schema for network_data.json\n\nOperator-generated network metadata can be validated\nagainst contributed JSON schema before it's too late.\n\nChange-Id: Ie5a5a1fc81c7c2d3f61b72d19de464cfc9dab5ec\n""}, {'number': 3, 'created': '2020-01-20 17:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5560357fed2670804dd2eb4dc8979269a9ef3bbe', 'message': ""Add JSON schema for network_data.json\n\nOperator-generated network metadata can be validated\nagainst contributed JSON schema before it's too late.\n\nChange-Id: Ie5a5a1fc81c7c2d3f61b72d19de464cfc9dab5ec\n""}, {'number': 4, 'created': '2020-01-24 17:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8177404cc9efea1060a819359ee1e8da03789162', 'message': ""Add JSON schema for network_data.json\n\nOperator-generated network metadata can be validated\nagainst contributed JSON schema before it's too late.\n\nChange-Id: Ie5a5a1fc81c7c2d3f61b72d19de464cfc9dab5ec\n""}, {'number': 5, 'created': '2020-02-14 17:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7404d047eb3ab500674bd7e603b59eb0875f1c58', 'message': 'Add JSON schema and test for network_data.json\n\nAdded JSON schema defining `network_data.json` contents and\nbeefed up the MetadataTest functional test cases to use a\nreal instance instead of a database shell. This way the\ntests see real data in the metadata service like a real\nnetwork_data.json.\n\nBesides internal Nova consumption, this schema might be\nhelpful to other tools (such as ironic or Glean) to\nvalidate human-generated `network_data.json` prior to\nusing it.\n\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\nChange-Id: Ie5a5a1fc81c7c2d3f61b72d19de464cfc9dab5ec\n'}, {'number': 6, 'created': '2020-02-18 10:39:18.000000000', 'files': ['doc/source/user/metadata.rst', 'doc/api_schemas/config_drive.json', 'doc/api_schemas/network_data.json', 'nova/tests/functional/test_metadata.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/69ee625a663b7877e67c938ed0d6dbca9c8fa5e7', 'message': 'Add JSON schema and test for network_data.json\n\nAdded JSON schema defining `network_data.json` contents and\nbeefed up the MetadataTest functional test cases to use a\nreal instance instead of a database shell. This way the\ntests see real data in the metadata service like a real\nnetwork_data.json.\n\nBesides internal Nova consumption, this schema might be\nhelpful to other tools (such as ironic or Glean) to\nvalidate human-generated `network_data.json` prior to\nusing it.\n\nCo-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>\nChange-Id: Ie5a5a1fc81c7c2d3f61b72d19de464cfc9dab5ec\n'}]",5,703133,69ee625a663b7877e67c938ed0d6dbca9c8fa5e7,45,12,6,26340,,,0,"Add JSON schema and test for network_data.json

Added JSON schema defining `network_data.json` contents and
beefed up the MetadataTest functional test cases to use a
real instance instead of a database shell. This way the
tests see real data in the metadata service like a real
network_data.json.

Besides internal Nova consumption, this schema might be
helpful to other tools (such as ironic or Glean) to
validate human-generated `network_data.json` prior to
using it.

Co-Authored-By: Balazs Gibizer <balazs.gibizer@est.tech>
Change-Id: Ie5a5a1fc81c7c2d3f61b72d19de464cfc9dab5ec
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/703133/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/metadata.rst', 'doc/api_schemas/config_drive.json', 'doc/api_schemas/network_data.json']",3,4e72c27fd88453fdebbe65e0b1e9bd46b0b27636,add-nw-data-schema,"{ ""$schema"": ""http://openstack.org/nova/network_data.json#"", ""id"": ""http://openstack.org/nova/network_data.json"", ""type"": ""object"", ""title"": ""OpenStack Nova network metadata schema"", ""description"": ""Schema of Nova instance network configuration information"", ""required"": [ ""links"", ""networks"", ""services"" ], ""properties"": { ""links"": { ""$id"": ""#/properties/links"", ""type"": ""array"", ""title"": ""L2 interfaces settings"", ""items"": { ""$id"": ""#/properties/links/items"", ""oneOf"": [ { ""$ref"": ""#/definitions/l2_link"" }, { ""$ref"": ""#/definitions/l2_bond"" } ] } }, ""networks"": { ""$ref"": ""#/definitions/l3_ipv4_networks"" }, ""services"": { ""$ref"": ""#/definitions/services"" } }, ""definitions"": { ""l2_address"": { ""$id"": ""#/definitions/l2_address"", ""type"": ""string"", ""pattern"": ""(?i)^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$"", ""title"": ""L2 interface address"", ""examples"": [ ""fa:16:3e:9c:bf:3d"" ] }, ""l2_id"": { ""$id"": ""#/definitions/l2_id"", ""type"": ""string"", ""title"": ""L2 interface ID"", ""examples"": [ ""eth0"" ] }, ""l2_mtu"": { ""$id"": ""#/definitions/l2_mtu"", ""title"": ""L2 interface MTU"", ""anyOf"": [ { ""type"": ""number"", ""minimum"": 1, ""maximum"": 65535 }, { ""type"": ""null"" } ], ""examples"": [ 1500 ] }, ""l2_vif_id"": { ""$id"": ""#/definitions/l2_vif_id"", ""type"": ""string"", ""title"": ""Virtual interface ID"", ""examples"": [ ""cd9f6d46-4a3a-43ab-a466-994af9db96fc"" ] }, ""l2_link"": { ""$id"": ""#/definitions/l2_link"", ""type"": ""object"", ""title"": ""L2 interface configuration settings"", ""required"": [ ""ethernet_mac_address"", ""id"", ""vif_id"", ""type"" ], ""properties"": { ""id"": { ""$ref"": ""#/definitions/l2_id"" }, ""ethernet_mac_address"": { ""$ref"": ""#/definitions/l2_address"" }, ""mtu"": { ""$ref"": ""#/definitions/l2_mtu"" }, ""type"": { ""$id"": ""#/definitions/l2_link/properties/type"", ""type"": ""string"", ""enum"": [ ""bridge"", ""dvs"", ""hw_veb"", ""hyperv"", ""ovs"", ""tap"", ""vhostuser"", ""vif"", ""phy"" ], ""title"": ""Interface type"", ""examples"": [ ""bridge"" ] }, ""vif_id"": { ""$ref"": ""#/definitions/l2_vif_id"" } } }, ""l2_bond"": { ""$id"": ""#/definitions/l2_bond"", ""type"": ""object"", ""title"": ""L2 bonding interface configuration settings"", ""required"": [ ""ethernet_mac_address"", ""id"", ""vif_id"", ""type"", ""bond_mode"", ""bond_links"" ], ""properties"": { ""id"": { ""$ref"": ""#/definitions/l2_id"" }, ""ethernet_mac_address"": { ""$ref"": ""#/definitions/l2_address"" }, ""mtu"": { ""$ref"": ""#/definitions/l2_mtu"" }, ""type"": { ""$id"": ""#/definitions/l2_bond/properties/type"", ""type"": ""string"", ""enum"": [ ""bond"" ], ""title"": ""Interface type"", ""examples"": [ ""bond"" ] }, ""vif_id"": { ""$ref"": ""#/definitions/l2_vif_id"" }, ""bond_mode"": { ""$id"": ""#/definitions/bond/properties/bond_mode"", ""type"": ""string"", ""title"": ""Port bonding type"", ""enum"": [ ""802.3ad"", ""balance-rr"", ""active-backup"", ""balance-xor"", ""broadcast"", ""balance-tlb"", ""balance-alb"" ], ""examples"": [ ""802.3ad"" ] }, ""bond_links"": { ""$id"": ""#/definitions/bond/properties/bond_links"", ""type"": ""array"", ""title"": ""Port bonding links"", ""items"": { ""$id"": ""#/definitions/bond/properties/bond_links/items"", ""type"": ""string"" } } } }, ""l3_id"": { ""$id"": ""#/definitions/l3_id"", ""type"": ""string"", ""title"": ""Network name"", ""examples"": [ ""network0"" ] }, ""l3_link"": { ""$id"": ""#/definitions/l3_link"", ""type"": ""string"", ""title"": ""L2 network link to use for L3 interface"", ""examples"": [ ""99e88329-f20d-4741-9593-25bf07847b16"" ] }, ""l3_network_id"": { ""$id"": ""#/definitions/l3_network_id"", ""type"": ""string"", ""title"": ""Network ID"", ""examples"": [ ""99e88329-f20d-4741-9593-25bf07847b16"" ] }, ""l3_ipv4_type"": { ""$id"": ""#/definitions/l3_ipv4_type"", ""type"": ""string"", ""enum"": [ ""ipv4"", ""ipv4_dhcp"" ], ""title"": ""L3 IPv4 network type"", ""examples"": [ ""ipv4_dhcp"" ] }, ""l3_ipv4_host"": { ""$id"": ""#/definitions/l3_ipv4_host"", ""type"": ""string"", ""pattern"": ""^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"", ""title"": ""L3 IPv4 host address"", ""examples"": [ ""192.168.81.99"" ] }, ""l3_ipv4_netmask"": { ""$id"": ""#/definitions/l3_ipv4_netmask"", ""type"": ""string"", ""pattern"": ""^(254|252|248|240|224|192|128|0)\\.0\\.0\\.0|255\\.(254|252|248|240|224|192|128|0)\\.0\\.0|255\\.255\\.(254|252|248|240|224|192|128|0)\\.0|255\\.255\\.255\\.(254|252|248|240|224|192|128|0)"", ""title"": ""L3 IPv4 network mask"", ""examples"": [ ""255.255.252.0"" ] }, ""l3_ipv4_network"": { ""$id"": ""#/definitions/l3_ipv4_network"", ""type"": ""string"", ""pattern"": ""^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"", ""title"": ""L3 IPv4 network address"", ""examples"": [ ""0.0.0.0"" ] }, ""l3_ipv4_gateway"": { ""$id"": ""#/definitions/l3_ipv4_gateway"", ""type"": ""string"", ""pattern"": ""^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"", ""title"": ""L3 IPv4 gateway address"", ""examples"": [ ""192.168.200.1"" ] }, ""l3_ipv4_network_route"": { ""$id"": ""#/definitions/l3_ipv4_network_route"", ""type"": ""object"", ""title"": ""L3 IPv4 routing configuration item"", ""required"": [ ""gateway"", ""netmask"", ""network"" ], ""properties"": { ""network"": { ""$ref"": ""#/definitions/l3_ipv4_network"" }, ""netmask"": { ""$ref"": ""#/definitions/l3_ipv4_netmask"" }, ""gateway"": { ""$ref"": ""#/definitions/l3_ipv4_gateway"" }, ""services"": { ""$ref"": ""#/definitions/ipv4_services"" } } }, ""l3_ipv4_networks"": { ""$id"": ""#/definitions/l3_ipv4_networks"", ""type"": ""array"", ""title"": ""Configuration for all existing L3 networks"", ""items"": { ""$id"": ""#/definitions/l3_ipv4_networks/items"", ""type"": ""object"", ""title"": ""L3 IPv4 network configuration"", ""required"": [ ""id"", ""link"", ""network_id"", ""type"" ], ""properties"": { ""id"": { ""$ref"": ""#/definitions/l3_id"" }, ""link"": { ""$ref"": ""#/definitions/l3_link"" }, ""network_id"": { ""$ref"": ""#/definitions/l3_network_id"" }, ""type"": { ""$ref"": ""#/definitions/l3_ipv4_type"" }, ""ip_address"": { ""$ref"": ""#/definitions/l3_ipv4_host"" }, ""netmask"": { ""$ref"": ""#/definitions/l3_ipv4_netmask"" }, ""routes"": { ""$id"": ""#/definitions/l3_ipv4_network/routes"", ""type"": ""array"", ""title"": ""L3 IPv4 network routes"", ""items"": { ""$ref"": ""#/definitions/l3_ipv4_network_route"" } } } } }, ""ipv4_service"": { ""$id"": ""#/definitions/ipv4_service"", ""type"": ""object"", ""title"": ""Service on a IPv4 network"", ""required"": [ ""address"", ""type"" ], ""properties"": { ""address"": { ""$id"": ""#/definitions/ipv4_service/properties/address"", ""type"": ""string"", ""pattern"": ""^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"", ""title"": ""IPv4 service address"", ""examples"": [ ""8.8.8.8"" ] }, ""type"": { ""$id"": ""#/definitions/ipv4_service/properties/type"", ""type"": ""string"", ""enum"": [ ""dns"" ], ""title"": ""Service type"", ""examples"": [ ""dns"" ] } } }, ""ipv4_services"": { ""$id"": ""#/definitions/ipv4_services"", ""type"": ""array"", ""title"": ""Network services on IPv4 network"", ""items"": { ""$id"": ""#/definitions/ipv4_services/items"", ""$ref"": ""#/definitions/ipv4_service"" } }, ""services"": { ""$id"": ""#/definitions/services"", ""type"": ""array"", ""title"": ""Network services"", ""items"": { ""$id"": ""#/definitions/services/items"", ""anyOf"": [ { ""$ref"": ""#/definitions/ipv4_service"" } ] } } } } ",,413,0
openstack%2Fadjutant-ui~master~I17734aab0aec5e74ecab941f4d142c68184b6700,openstack/adjutant-ui,master,I17734aab0aec5e74ecab941f4d142c68184b6700,Add pep8 jobs,MERGED,2020-02-21 05:56:05.000000000,2020-02-24 22:22:42.000000000,2020-02-24 22:22:42.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 05:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/338a8271163a167e12cf78cf3ff09d8f49ce968d', 'message': 'Add pep8 jobs\n\nAdd first jobs for this repo - without jobs, nothing can merge.\n\nThe repo previously had noop-jobs defined in project-config but that got\nremoved.\n\nFurther jobs and templates can be added later.\n\nChange-Id: I17734aab0aec5e74ecab941f4d142c68184b6700\n'}, {'number': 2, 'created': '2020-02-21 07:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/d22659b6ce00e83f42aec69c7cf414af2f8f9e34', 'message': 'Add pep8 jobs\n\nAdd first jobs for this repo - without jobs, nothing can merge.\nDisable failing pep8 tests for now.\n\nThe repo previously had noop-jobs defined in project-config but that got\nremoved.\n\nFurther jobs and templates can be added later.\n\nChange-Id: I17734aab0aec5e74ecab941f4d142c68184b6700\n'}, {'number': 3, 'created': '2020-02-21 07:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/e2296554143f32014b93668c0d66eb70e08e098f', 'message': 'Add pep8 jobs\n\nAdd first jobs for this repo - without jobs, nothing can merge.\nDisable failing pep8 tests for now.\n\nThe repo previously had noop-jobs defined in project-config but that got\nremoved.\n\nFurther jobs and templates can be added later.\n\nChange-Id: I17734aab0aec5e74ecab941f4d142c68184b6700\n'}, {'number': 4, 'created': '2020-02-21 07:58:37.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/310b86b0761d409103a22706af0bc8676194ab3a', 'message': 'Add pep8 jobs\n\nAdd first jobs for this repo - without jobs, nothing can merge.\nDisable failing pep8 tests for now.\n\nThe repo previously had noop-jobs defined in project-config but that got\nremoved.\n\nFurther jobs and templates can be added later.\n\nChange-Id: I17734aab0aec5e74ecab941f4d142c68184b6700\n'}]",0,709052,310b86b0761d409103a22706af0bc8676194ab3a,12,2,4,6547,,,0,"Add pep8 jobs

Add first jobs for this repo - without jobs, nothing can merge.
Disable failing pep8 tests for now.

The repo previously had noop-jobs defined in project-config but that got
removed.

Further jobs and templates can be added later.

Change-Id: I17734aab0aec5e74ecab941f4d142c68184b6700
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/52/709052/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,338a8271163a167e12cf78cf3ff09d8f49ce968d,in-repo-jobs,- project: check: jobs: - openstack-tox-pep8 gate: jobs: - openstack-tox-pep8 ,,7,0
openstack%2Fheat~stable%2Ftrain~If94115f87af3689413405f3283be7fb197fab058,openstack/heat,stable/train,If94115f87af3689413405f3283be7fb197fab058,Docs: use extrefs to link to other projects' docs,MERGED,2020-02-24 15:07:49.000000000,2020-02-24 22:21:15.000000000,2020-02-24 22:18:06.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 15:07:49.000000000', 'files': ['doc/source/admin/introduction.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/conf.py', 'doc/source/install/install-rdo.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/admin/auth-model.rst', 'doc/source/index.rst', 'doc/source/template_guide/multi-clouds.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/admin/stack-domain-users.rst', 'doc/source/glossary.rst', 'doc/source/developing_guides/gmr.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/cf00a64dfcacf160c2eec146852c689fc4b72615', 'message': ""Docs: use extrefs to link to other projects' docs\n\nThis feature of openstackdocstheme means that we'll always link to the\ncorresponding branch of another project (i.e. latest links to latest,\nbut train links to train, &c.)\n\nhttps://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: If94115f87af3689413405f3283be7fb197fab058\n(cherry picked from commit dd70d9244d5a8b8b91b3e5908b45bf5b7f6a8974)\n""}]",0,709549,cf00a64dfcacf160c2eec146852c689fc4b72615,7,2,1,4257,,,0,"Docs: use extrefs to link to other projects' docs

This feature of openstackdocstheme means that we'll always link to the
corresponding branch of another project (i.e. latest links to latest,
but train links to train, &c.)

https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper

Change-Id: If94115f87af3689413405f3283be7fb197fab058
(cherry picked from commit dd70d9244d5a8b8b91b3e5908b45bf5b7f6a8974)
",git fetch https://review.opendev.org/openstack/heat refs/changes/49/709549/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/introduction.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/conf.py', 'doc/source/install/install-rdo.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/admin/auth-model.rst', 'doc/source/index.rst', 'doc/source/template_guide/multi-clouds.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/admin/stack-domain-users.rst', 'doc/source/glossary.rst', 'doc/source/developing_guides/gmr.rst']",12,cf00a64dfcacf160c2eec146852c689fc4b72615,,:oslo.reports-doc:`oslo.reports <>`.,`oslo.reports <https://docs.openstack.org/oslo.reports/>`_,74,70
openstack%2Fheat~stable%2Ftrain~I3c9bdfe1bc40e6b96335041928aed275d1eb4958,openstack/heat,stable/train,I3c9bdfe1bc40e6b96335041928aed275d1eb4958,Docs: Fix link broken since Stein release,MERGED,2020-02-24 15:07:49.000000000,2020-02-24 22:19:30.000000000,2020-02-24 22:19:30.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 15:07:49.000000000', 'files': ['doc/source/admin/auth-model.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/3cbf44efde8a684df0ffdc1a9a7660bc9d1c64f7', 'message': 'Docs: Fix link broken since Stein release\n\nChange-Id: I3c9bdfe1bc40e6b96335041928aed275d1eb4958\n(cherry picked from commit 18f59964a02fa3dd00f8f250bfd00857ae9f4310)\n'}]",0,709550,3cbf44efde8a684df0ffdc1a9a7660bc9d1c64f7,6,2,1,4257,,,0,"Docs: Fix link broken since Stein release

Change-Id: I3c9bdfe1bc40e6b96335041928aed275d1eb4958
(cherry picked from commit 18f59964a02fa3dd00f8f250bfd00857ae9f4310)
",git fetch https://review.opendev.org/openstack/heat refs/changes/50/709550/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/auth-model.rst'],1,3cbf44efde8a684df0ffdc1a9a7660bc9d1c64f7,,<user/trusts.html>`.,<admin/identity-use-trusts.html>`.,1,1
openstack%2Fheat~stable%2Fqueens~If94115f87af3689413405f3283be7fb197fab058,openstack/heat,stable/queens,If94115f87af3689413405f3283be7fb197fab058,Docs: use extrefs to link to other projects' docs,ABANDONED,2020-02-24 20:21:51.000000000,2020-02-24 22:03:08.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 20:21:51.000000000', 'files': ['doc/source/admin/introduction.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/admin/auth-model.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/conf.py', 'doc/source/admin/stack-domain-users.rst', 'doc/source/glossary.rst', 'doc/source/developing_guides/gmr.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/b797deeeabbb75f5d00032909759f00d2cbf9b99', 'message': ""Docs: use extrefs to link to other projects' docs\n\nThis feature of openstackdocstheme means that we'll always link to the\ncorresponding branch of another project (i.e. latest links to latest,\nbut train links to train, &c.)\n\nhttps://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nThis also has the effect of fixing some broken links dating back to the\nsplit of the OpenStack-wide docs into separate project repos.\n\nChange-Id: If94115f87af3689413405f3283be7fb197fab058\n(cherry picked from commit dd70d9244d5a8b8b91b3e5908b45bf5b7f6a8974)\n""}]",0,709605,b797deeeabbb75f5d00032909759f00d2cbf9b99,6,2,1,4257,,,0,"Docs: use extrefs to link to other projects' docs

This feature of openstackdocstheme means that we'll always link to the
corresponding branch of another project (i.e. latest links to latest,
but train links to train, &c.)

https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper

This also has the effect of fixing some broken links dating back to the
split of the OpenStack-wide docs into separate project repos.

Change-Id: If94115f87af3689413405f3283be7fb197fab058
(cherry picked from commit dd70d9244d5a8b8b91b3e5908b45bf5b7f6a8974)
",git fetch https://review.opendev.org/openstack/heat refs/changes/05/709605/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/introduction.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/admin/auth-model.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/admin/stack-domain-users.rst', 'doc/source/conf.py', 'doc/source/glossary.rst', 'doc/source/developing_guides/gmr.rst']",9,b797deeeabbb75f5d00032909759f00d2cbf9b99,,:oslo.reports-doc:`oslo.reports <>`.,``oslo.reports``: `oslo.reports <http://docs.openstack.org/developer/oslo.reports/>`_,39,30
openstack%2Fproject-config~master~I026ddb2dde30a1c354d7197ca0094af73839b7c3,openstack/project-config,master,I026ddb2dde30a1c354d7197ca0094af73839b7c3,Fix governance-website publishing,MERGED,2020-02-24 11:12:40.000000000,2020-02-24 21:55:11.000000000,2020-02-24 21:55:11.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 11:12:40.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/44d7d7fc6bc0bb2af74fb561133c1cfef6f2d1f4', 'message': 'Fix governance-website publishing\n\nChange Ie1b92f06b71aa6069fe831b26ba1cc272ce4562c serves\ngovernance.openstack.org/governance for the website, update the job to\npublish there.\n\nOnce this is merged the files in\n/afs/openstack.org/project/governance.openstack.org/ need to be moved to\n/afs/openstack.org/project/governance.openstack.org/governance.\n\nChange-Id: I026ddb2dde30a1c354d7197ca0094af73839b7c3\n'}]",0,709449,44d7d7fc6bc0bb2af74fb561133c1cfef6f2d1f4,11,5,1,6547,,,0,"Fix governance-website publishing

Change Ie1b92f06b71aa6069fe831b26ba1cc272ce4562c serves
governance.openstack.org/governance for the website, update the job to
publish there.

Once this is merged the files in
/afs/openstack.org/project/governance.openstack.org/ need to be moved to
/afs/openstack.org/project/governance.openstack.org/governance.

Change-Id: I026ddb2dde30a1c354d7197ca0094af73839b7c3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/709449/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,44d7d7fc6bc0bb2af74fb561133c1cfef6f2d1f4,governance-website," publish_site: ""governance.openstack.org/governance"""," publish_site: ""governance.openstack.org""",1,1
openstack%2Fheat~stable%2Ftrain~I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71,openstack/heat,stable/train,I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71,Update Fedora image ref for test jobs,MERGED,2020-02-23 02:45:08.000000000,2020-02-24 21:54:26.000000000,2020-02-24 21:52:48.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-23 02:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a624d3332b663a0b593c6967837b1663f71bbda2', 'message': 'Update Fedora image ref for test jobs\n\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nChange-Id: I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71\n'}, {'number': 2, 'created': '2020-02-23 03:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1f490491857479a65f93136e2c8e89708b622127', 'message': 'Update Fedora image ref for test jobs\n\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nChange-Id: I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71\n'}, {'number': 3, 'created': '2020-02-24 16:00:51.000000000', 'files': ['heat_integrationtests/pre_test_hook.sh', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/57c05b63efadae3d53bc8ebfb194d3ea0fd8fe1f', 'message': 'Update Fedora image ref for test jobs\n\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirror.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nChange-Id: I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71\n'}]",0,709334,57c05b63efadae3d53bc8ebfb194d3ea0fd8fe1f,15,3,3,12404,,,0,"Update Fedora image ref for test jobs

Fedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirror.
Update to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.

Change-Id: I942d7f1fc4b54304f472e0cb0097f7dcb70f3c71
",git fetch https://review.opendev.org/openstack/heat refs/changes/34/709334/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/pre_test_hook.sh', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",3,a624d3332b663a0b593c6967837b1663f71bbda2,update-images, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-30-1.2.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-29-1.2.x86_64,4,4
openstack%2Foslo.rootwrap~master~If70411d8d189de4a020e528cd54412a5678cfab9,openstack/oslo.rootwrap,master,If70411d8d189de4a020e528cd54412a5678cfab9,"Implement ""realpath"" to retrieve the real absolute path",MERGED,2020-02-20 17:55:50.000000000,2020-02-24 21:43:32.000000000,2020-02-24 21:42:13.000000000,"[{'_account_id': 308}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-20 17:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/718a3db71c3b1ba02bd5c4b1cea694039964bfa3', 'message': 'Implement ""is_path_abs"" to check if a path is absolute\n\nThis function will call ""os.path.isabs"" and this in turn could call\n""os.getcwd"". If the current path has been deleted by other application,\nthis method will raise FileNotFoundError exception. This new function\ncatches and unsets this exception, returning False.\n\nChange-Id: If70411d8d189de4a020e528cd54412a5678cfab9\nCloses-Bug: #1864090\n'}, {'number': 2, 'created': '2020-02-21 15:29:43.000000000', 'files': ['oslo_rootwrap/filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/23a534b9f5f5aad2a95349f809e05cb9b6429f3c', 'message': 'Implement ""realpath"" to retrieve the real absolute path\n\nThis function will call ""os.path.realpth"" and this in turn could call\n""os.getcwd"". If the current path has been deleted by other application,\nthis method will raise FileNotFoundError exception. This new function\ncatches and unsets this exception, returning an empty string.\n\nChange-Id: If70411d8d189de4a020e528cd54412a5678cfab9\nCloses-Bug: #1864090\n'}]",10,708936,23a534b9f5f5aad2a95349f809e05cb9b6429f3c,26,10,2,16688,,,0,"Implement ""realpath"" to retrieve the real absolute path

This function will call ""os.path.realpth"" and this in turn could call
""os.getcwd"". If the current path has been deleted by other application,
this method will raise FileNotFoundError exception. This new function
catches and unsets this exception, returning an empty string.

Change-Id: If70411d8d189de4a020e528cd54412a5678cfab9
Closes-Bug: #1864090
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/36/708936/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_rootwrap/filters.py'],1,718a3db71c3b1ba02bd5c4b1cea694039964bfa3,bug/1864090,"def is_path_abs(path): """"""Return if a path is absolute."""""" try: return os.path.isabs(path) except FileNotFoundError: return False if is_path_abs(self.exec_path): if not is_path_abs(arg) # arguments not specifying abs paths if is_path_abs(arg) # arguments specifying abs paths args = [os.path.realpath(value) if is_path_abs(arg) else value if is_path_abs(command): if is_path_abs(kill_command): return (is_path_abs(command) and", if os.path.isabs(self.exec_path): if not os.path.isabs(arg) # arguments not specifying abs paths if os.path.isabs(arg) # arguments specifying abs paths args = [os.path.realpath(value) if os.path.isabs(arg) else value if os.path.isabs(command): if os.path.isabs(kill_command): return (os.path.isabs(command) and,15,7
openstack%2Ftripleo-docs~master~I71c74f26a5e84c51bc7647ca9dd95e62eeab91c6,openstack/tripleo-docs,master,I71c74f26a5e84c51bc7647ca9dd95e62eeab91c6,Extend external Swift docs for Ceph RadosGW,MERGED,2020-02-20 14:48:07.000000000,2020-02-24 21:37:36.000000000,2020-02-24 21:35:09.000000000,"[{'_account_id': 3153}, {'_account_id': 9600}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-02-20 14:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b508ebca04a00076e694752a38abde2902fd901f', 'message': 'Extend external Swift docs for Ceph RadosGW\n\nCeph RGW mimics Swift and the existing docs for external Swift are\nupdated with notes to mention how to reuse the existing feature\nwhen the external Swift is actually implemented by Ceph RadosGW.\n\nChange-Id: I71c74f26a5e84c51bc7647ca9dd95e62eeab91c6\n'}, {'number': 2, 'created': '2020-02-20 15:26:34.000000000', 'files': ['deploy-guide/source/features/swift_external.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a8eca0f12139c4528d6fb7fb731c7a14a2884e1f', 'message': 'Extend external Swift docs for Ceph RadosGW\n\nCeph RGW mimics Swift and the existing docs for external Swift are\nupdated with notes to mention how to reuse the existing feature\nwhen the external Swift is actually implemented by Ceph RadosGW.\n\nChange-Id: I71c74f26a5e84c51bc7647ca9dd95e62eeab91c6\n'}]",0,708892,a8eca0f12139c4528d6fb7fb731c7a14a2884e1f,11,6,2,6796,,,0,"Extend external Swift docs for Ceph RadosGW

Ceph RGW mimics Swift and the existing docs for external Swift are
updated with notes to mention how to reuse the existing feature
when the external Swift is actually implemented by Ceph RadosGW.

Change-Id: I71c74f26a5e84c51bc7647ca9dd95e62eeab91c6
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/92/708892/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/swift_external.rst'],1,b508ebca04a00076e694752a38abde2902fd901f,,"|project| supports use of an external Swift (or Ceph RadosGW) proxy, already available to the operator. Use of an external Swift proxy can be done using a particular environment file when deploying the overcloud, specifically `environments/swift-external.yaml`... note:: When the external Swift is implemented by Ceph RadosGW, the endpoint will be different; specifically replacing /v1/ with /swift/v1, for example: `http://<Public Swift endpoint or loadbalancer>:9024/v1/AUTH_%(tenant_id)s` becomes `http://<Public Swift endpoint or loadbalancer>:9024/swift/v1/AUTH_%(tenant_id)s` keystone authentication provider. This environment file creates also auth_uri = http://<public Keystone endpoint>:5000/ auth_url = http://<admin Keystone endpoint>:35357/ For Ceph RadosGW instead, the following settings can be used:: rgw_keystone_api_version: 3 rgw_keystone_url: http://<public Keystone endpoint>:5000/ rgw_keystone_accepted_roles: 'member, Member, admin' rgw_keystone_accepted_admin_roles: ResellerAdmin, swiftoperator rgw_keystone_admin_domain: default rgw_keystone_admin_project: service rgw_keystone_admin_user: swift rgw_keystone_admin_password: <Password as defined in the environment parameters> rgw_keystone_implicit_tenants: 'true' rgw_keystone_revocation_interval: '0' rgw_s3_auth_use_keystone: 'true' rgw_swift_versioning_enabled: 'true' rgw_swift_account_in_url: 'true'","|project| supports use of an external Swift proxy already available to the operator, that may need to configure at deploy time. This happens by enabling a particular environment file when deploying the Overcloud, specifically `environments/swift-external.yaml`.keystone authentication provider. This environment files creates also www_authenticate_uri = http://<public Keystone endpoint>:5000/ auth_url = http://<admin Keystone endpoint>:5000/",31,7
openstack%2Fheat~master~Id3026a115e3a044b3dc00030fd6d82549dc189b6,openstack/heat,master,Id3026a115e3a044b3dc00030fd6d82549dc189b6,Update Fedora image ref for test jobs,MERGED,2020-02-22 20:22:10.000000000,2020-02-24 21:36:44.000000000,2020-02-24 21:33:20.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-22 20:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d9192ffec689eadca6309142f4fc6ef15d9e7d81', 'message': 'Update Fedora image ref for test jobs\n\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro\nanymore, update to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nChange-Id: Id3026a115e3a044b3dc00030fd6d82549dc189b6\n'}, {'number': 2, 'created': '2020-02-23 02:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e0eaabc82e193e1add3354fc4202957b74181f3b', 'message': 'Update Fedora image ref for test jobs\n\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nChange-Id: Id3026a115e3a044b3dc00030fd6d82549dc189b6\n'}, {'number': 3, 'created': '2020-02-24 16:00:25.000000000', 'files': ['.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/c61170e4e802577f40986a384ce8d912368c3f36', 'message': 'Update Fedora image ref for test jobs\n\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirror.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nChange-Id: Id3026a115e3a044b3dc00030fd6d82549dc189b6\n'}]",1,709321,c61170e4e802577f40986a384ce8d912368c3f36,18,4,3,12404,,,0,"Update Fedora image ref for test jobs

Fedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirror.
Update to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.

Change-Id: Id3026a115e3a044b3dc00030fd6d82549dc189b6
",git fetch https://review.opendev.org/openstack/heat refs/changes/21/709321/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",4,d9192ffec689eadca6309142f4fc6ef15d9e7d81,update-images, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-30-1.2.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-29-1.2.x86_64,5,5
openstack%2Ftripleo-docs~master~I069f8df8224240b7446d6bbd2d58775e8941d262,openstack/tripleo-docs,master,I069f8df8224240b7446d6bbd2d58775e8941d262,Minor doc fix for cells v2 creation with ansible playbooks,MERGED,2020-02-13 11:53:20.000000000,2020-02-24 21:35:10.000000000,2020-02-24 21:31:56.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-13 11:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/dffde1f7794b144613dc16a6c4ec71d1a63be9eb', 'message': 'Minor doc fix for cells v2 creation with ansible playbooks\n\n* Specifying CONTAINERCLI var to use when running playbooks\n* minor nit fix in mkdir\n\nChange-Id: I069f8df8224240b7446d6bbd2d58775e8941d262\n'}, {'number': 2, 'created': '2020-02-13 16:39:55.000000000', 'files': ['deploy-guide/source/features/deploy_cellv2_basic.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0c8e7ae103adc2f527ed698a4f762a8409659234', 'message': 'Minor doc fix for cells v2 creation with ansible playbooks\n\n* Specifying CONTAINERCLI var to use when running playbooks\n* minor nit fix in mkdir\n\nChange-Id: I069f8df8224240b7446d6bbd2d58775e8941d262\n'}]",0,707627,0c8e7ae103adc2f527ed698a4f762a8409659234,10,3,2,30133,,,0,"Minor doc fix for cells v2 creation with ansible playbooks

* Specifying CONTAINERCLI var to use when running playbooks
* minor nit fix in mkdir

Change-Id: I069f8df8224240b7446d6bbd2d58775e8941d262
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/27/707627/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deploy_cellv2_basic.rst'],1,dffde1f7794b144613dc16a6c4ec71d1a63be9eb,doc_fix, export CONTAINERCLI=podman #choose appropriate contaier cli here mkdir inventories -e tripleo_cellv2_containercli=${CONTAINERCLI}, mkdir inventories-cell1 -e tripleo_cellv2_containercli=docker,3,3
openstack%2Fnova~master~I9d72c80574d08d8409ed0dcc0476f52a0d173a1e,openstack/nova,master,I9d72c80574d08d8409ed0dcc0476f52a0d173a1e,Support large network queries towards neutron,MERGED,2020-01-28 09:48:04.000000000,2020-02-24 21:13:55.000000000,2020-02-17 16:04:36.000000000,"[{'_account_id': 261}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 13438}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 20363}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-28 09:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2c84331bb0c8a4e3685a2e6295a20d9403d4d63', 'message': 'Support large network queries towards neutron\n\nWhile querying metadata from an LB source, the subnet query may result\nwith a large number of networks.\nThat might exceed the maximum request length on the following port query\ntowards Neutron.\nThe patch addresses such issue.\n\nCloses-Bug: #1861087\nChange-Id: I9d72c80574d08d8409ed0dcc0476f52a0d173a1e\n'}, {'number': 2, 'created': '2020-01-28 11:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92fc91a0dfbc6e76f6d8fc9ed101317886a5e632', 'message': 'Support large network queries towards neutron\n\nWhile querying metadata from an LB source, the subnet query may result\nwith a large number of networks.\nThat might exceed the maximum request length on the following port query\ntowards Neutron.\nThe patch addresses such issue.\n\nCloses-Bug: #1861087\nChange-Id: I9d72c80574d08d8409ed0dcc0476f52a0d173a1e\n'}, {'number': 3, 'created': '2020-01-28 13:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/084463cc722ab9b338ac366e7ea60c8ff13b5059', 'message': 'Support large network queries towards neutron\n\nWhile querying metadata from an LB source, the subnet query may result\nwith a large number of networks.\nThat might exceed the maximum request length on the following port query\ntowards Neutron.\nThe patch addresses such issue.\n\nCloses-Bug: #1861087\nChange-Id: I9d72c80574d08d8409ed0dcc0476f52a0d173a1e\n'}, {'number': 4, 'created': '2020-01-28 13:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2af6a5d2e2e6d78dc87f68f1e43f2a19d4cdbf3', 'message': 'Support large network queries towards neutron\n\nWhile querying metadata from an LB source, the subnet query may result\nwith a large number of networks.\nThat might exceed the maximum request length on the following port query\ntowards Neutron.\nThe patch addresses such issue.\n\nCloses-Bug: #1861087\nChange-Id: I9d72c80574d08d8409ed0dcc0476f52a0d173a1e\n'}, {'number': 5, 'created': '2020-01-28 13:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dd35d60bd00273324a20b2e189a4af807649d57', 'message': 'Support large network queries towards neutron\n\nWhile querying metadata from an LB source, the subnet query may result\nwith a large number of networks.\nThat might exceed the maximum request length on the following port query\ntowards Neutron.\nThe patch addresses such issue.\n\nCloses-Bug: #1861087\nChange-Id: I9d72c80574d08d8409ed0dcc0476f52a0d173a1e\n'}, {'number': 6, 'created': '2020-02-17 07:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4cc1312cd9405428cc6c9b5819d9a267a128ac2', 'message': 'Support large network queries towards neutron\n\nWhile querying metadata from an LB source, the subnet query may result\nwith a large number of networks.\nThat might exceed the maximum request length on the following port query\ntowards Neutron.\nThe patch addresses such issue.\n\nCloses-Bug: #1861087\nChange-Id: I9d72c80574d08d8409ed0dcc0476f52a0d173a1e\n'}, {'number': 7, 'created': '2020-02-17 07:39:04.000000000', 'files': ['nova/tests/unit/test_metadata.py', 'nova/api/metadata/handler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bfb8dcded66eb2ea702c12b8620db4aae58545db', 'message': 'Support large network queries towards neutron\n\nWhile querying metadata from an LB source, the subnet query may result\nwith a large number of networks.\nThat might exceed the maximum request length on the following port query\ntowards Neutron.\nThe patch addresses such issue.\n\nCloses-Bug: #1861087\nChange-Id: I9d72c80574d08d8409ed0dcc0476f52a0d173a1e\n'}]",4,704520,bfb8dcded66eb2ea702c12b8620db4aae58545db,55,14,7,13438,,,0,"Support large network queries towards neutron

While querying metadata from an LB source, the subnet query may result
with a large number of networks.
That might exceed the maximum request length on the following port query
towards Neutron.
The patch addresses such issue.

Closes-Bug: #1861087
Change-Id: I9d72c80574d08d8409ed0dcc0476f52a0d173a1e
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/704520/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/metadata/handler.py'],1,a2c84331bb0c8a4e3685a2e6295a20d9403d4d63,bug/1861087,"MAX_QUERY_NETWORKS = 160 ports = [] while md_networks: ports.extend(neutron.list_ports( context, fixed_ips='ip_address=' + instance_address, network_id=md_networks[:MAX_QUERY_NETWORKS], fields=['device_id', 'tenant_id'])['ports']) md_networks = md_networks[MAX_QUERY_NETWORKS:]"," ports = neutron.list_ports( context, fixed_ips='ip_address=' + instance_address, network_id=md_networks, fields=['device_id', 'tenant_id'])['ports']",9,5
openstack%2Fnova~master~I9160443c4ee81ca752de37bf77df865d08683585,openstack/nova,master,I9160443c4ee81ca752de37bf77df865d08683585,FUP Populate the 'updated_at' when aggregate metadata is updated,NEW,2020-01-16 04:33:16.000000000,2020-02-24 21:11:46.000000000,,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-16 04:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/157d84af20167ed295fa62e28e86399eb4096bb0', 'message': 'FUP Populate the \'updated_at\' when aggregate metadata is updated\n\nNow we handle the updated_at in nova/compute/api, this patch will\nremove the ""aggregate.updated_at = timeutils.utcnow()"" from\nupdate_aggregate_metadata() and update_aggregate() methods, and\nupdate the \'updated_at\' while the aggregate\'s metadata was changed.\n\nThere are two db tables need to update, ``aggregates`` and\n``aggregate_metadata`` tables. While we update the aggregate\'s\nmetadata need to update the \'updated_at\' field in above tables.\n\nChange-Id: I9160443c4ee81ca752de37bf77df865d08683585\n'}, {'number': 2, 'created': '2020-01-17 01:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36b040867882fbcfad12407d6f9658d89452c7a1', 'message': 'FUP Populate the \'updated_at\' when aggregate metadata is updated\n\nNow we handle the updated_at in nova/compute/api, this patch will\nremove the ""aggregate.updated_at = timeutils.utcnow()"" from\nupdate_aggregate_metadata() and update_aggregate() methods, and\nupdate the \'updated_at\' while the aggregate\'s metadata was changed.\n\nThere are two db tables need to update, ``aggregates`` and\n``aggregate_metadata`` tables. While we update the aggregate\'s\nmetadata need to update the \'updated_at\' field in above tables.\n\nChange-Id: I9160443c4ee81ca752de37bf77df865d08683585\n'}, {'number': 3, 'created': '2020-01-19 01:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94c3967cc67269baeb03c3a38e79ba40cd4dcc9d', 'message': 'FUP Populate the \'updated_at\' when aggregate metadata is updated\n\nNow we handle the updated_at in nova/compute/api, this patch will\nremove the ""aggregate.updated_at = timeutils.utcnow()"" from\nupdate_aggregate_metadata() and update_aggregate() methods, and\nupdate the \'updated_at\' while the aggregate\'s metadata was changed.\n\nThere are two db tables need to update, ``aggregates`` and\n``aggregate_metadata`` tables. While we update the aggregate\'s\nmetadata need to update the \'updated_at\' field in above tables.\n\nChange-Id: I9160443c4ee81ca752de37bf77df865d08683585\n'}, {'number': 4, 'created': '2020-01-19 07:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97c51f945a8717042df5f662923c33ca686fe4e7', 'message': 'FUP Populate the \'updated_at\' when aggregate metadata is updated\n\nNow we handle the updated_at in nova/compute/api, this patch will\nremove the ""aggregate.updated_at = timeutils.utcnow()"" from\nupdate_aggregate_metadata() and update_aggregate() methods, and\nupdate the \'updated_at\' while the aggregate\'s metadata was changed.\n\nThere are two db tables need to update, ``aggregates`` and\n``aggregate_metadata`` tables. While we update the aggregate\'s\nmetadata need to update the \'updated_at\' field in above tables.\n\nChange-Id: I9160443c4ee81ca752de37bf77df865d08683585\n'}, {'number': 5, 'created': '2020-01-20 12:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dfdb42b78a89430e3c7b24df0f92d7d7917b033', 'message': 'FUP Populate the \'updated_at\' when aggregate metadata is updated\n\nNow we handle the updated_at in nova/compute/api, this patch will\nremove the ""aggregate.updated_at = timeutils.utcnow()"" from\nupdate_aggregate_metadata() and update_aggregate() methods, and\nupdate the \'updated_at\' while the aggregate\'s metadata was changed.\n\nThere are two db tables need to update, ``aggregates`` and\n``aggregate_metadata`` tables. While we update the aggregate\'s\nmetadata need to update the \'updated_at\' field in above tables.\n\nChange-Id: I9160443c4ee81ca752de37bf77df865d08683585\n'}, {'number': 6, 'created': '2020-02-18 06:52:21.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_samples/os-aggregates/aggregates-metadata-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.41/aggregates-metadata-post-resp.json.tpl', 'doc/api_samples/os-aggregates/v2.81/aggregates-metadata-post-resp.json', 'nova/objects/aggregate.py', 'doc/api_samples/os-aggregates/aggregates-metadata-post-resp.json', 'doc/api_samples/os-aggregates/v2.41/aggregates-metadata-post-resp.json', 'nova/compute/api.py', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregates-metadata-post-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/223c593186778cbce2e9752d4cd0390747f9b491', 'message': 'FUP Populate the \'updated_at\' when aggregate metadata is updated\n\nNow we handle the updated_at in nova/compute/api, this patch will\nremove the ""aggregate.updated_at = timeutils.utcnow()"" from\nupdate_aggregate_metadata() and update_aggregate() methods, and\nupdate the \'updated_at\' while the aggregate\'s metadata was changed.\n\nThere are two db tables need to update, ``aggregates`` and\n``aggregate_metadata`` tables. While we update the aggregate\'s\nmetadata need to update the \'updated_at\' field in above tables.\n\nChange-Id: I9160443c4ee81ca752de37bf77df865d08683585\n'}]",5,702790,223c593186778cbce2e9752d4cd0390747f9b491,74,13,6,26458,,,0,"FUP Populate the 'updated_at' when aggregate metadata is updated

Now we handle the updated_at in nova/compute/api, this patch will
remove the ""aggregate.updated_at = timeutils.utcnow()"" from
update_aggregate_metadata() and update_aggregate() methods, and
update the 'updated_at' while the aggregate's metadata was changed.

There are two db tables need to update, ``aggregates`` and
``aggregate_metadata`` tables. While we update the aggregate's
metadata need to update the 'updated_at' field in above tables.

Change-Id: I9160443c4ee81ca752de37bf77df865d08683585
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/702790/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/aggregate.py', 'nova/compute/api.py']",2,157d84af20167ed295fa62e28e86399eb4096bb0,bug/1663456,, aggregate.updated_at = timeutils.utcnow() aggregate.updated_at = timeutils.utcnow(),6,3
openstack%2Fneutron~stable%2Fstein~I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb,openstack/neutron,stable/stein,I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb,Mock check if ipv6 is enabled in L3 agent unit tests,MERGED,2020-02-21 13:11:23.000000000,2020-02-24 21:02:31.000000000,2020-02-24 21:00:09.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 13:11:23.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e70b1cdff6f05509b4d0b32e2849cf7bfa75f26', 'message': 'Mock check if ipv6 is enabled in L3 agent unit tests\n\nWithout this mock UT related configure_ipv6 method were failing\ne.g. on systems when IPv6 was disabled or on systems where such\ncheck should be done differently, like MacOS.\n\nChange-Id: I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb\n(cherry picked from commit c20b5e347dcc47bfe2f649cdd4310c1fac68b447)\n'}]",0,709131,1e70b1cdff6f05509b4d0b32e2849cf7bfa75f26,9,3,1,11975,,,0,"Mock check if ipv6 is enabled in L3 agent unit tests

Without this mock UT related configure_ipv6 method were failing
e.g. on systems when IPv6 was disabled or on systems where such
check should be done differently, like MacOS.

Change-Id: I6d13ab1db1d5465b2ff6abf6499e0d17e1ee8bbb
(cherry picked from commit c20b5e347dcc47bfe2f649cdd4310c1fac68b447)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/709131/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/agent/l3/test_agent.py'],1,1e70b1cdff6f05509b4d0b32e2849cf7bfa75f26,fix-ipv6-detection-in-l3-unit-tests-stable/stein," with mock.patch( 'neutron.common.ipv6_utils.is_enabled_and_bind_by_default', return_value=True): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) "," agent = l3_agent.L3NATAgent(HOSTNAME, self.conf)",5,1
openstack%2Fneutron~stable%2Fqueens~Ic662f9b407c273beae676d0a8c93c48e624a2a96,openstack/neutron,stable/queens,Ic662f9b407c273beae676d0a8c93c48e624a2a96,Ensure that fullstack job is run with python 2.7,MERGED,2020-02-24 09:43:49.000000000,2020-02-24 21:02:12.000000000,2020-02-24 21:00:06.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-24 09:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dca43fcef1fa00394dea8ebcb174d98fcfcabf87', 'message': ""Ensure that fullstack job is run with python 2.7\n\nOn stable/queens branch we need to run fullstack job with\npython 2.7. There wasn't basepython set explicity for\ndsvm-fullstack and it seems that it was run on python 3.5 in\nthe gate.\nSo lets explicity set basepython for this job to avoid such problems.\n\nThis patch is needed for queens only as for rocky and newer versions\nit was set explicity in [1].\n\n[1] https://review.opendev.org/#/c/572973\n\nChange-Id: Ic662f9b407c273beae676d0a8c93c48e624a2a96\n""}, {'number': 2, 'created': '2020-02-24 09:44:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/00340743c8ebc1d015836aaf24bc83bbb3ceeed6', 'message': ""Ensure that fullstack job is run with python 2.7\n\nOn stable/queens branch we need to run fullstack job with\npython 2.7. There wasn't basepython set explicity for\ndsvm-fullstack and it seems that it was run on python 3.5 in\nthe gate.\nSo lets explicity set basepython for this job to avoid such problems.\n\nThis patch is needed for queens only as for rocky and newer versions\nit was set explicity in [1].\n\n[1] https://review.opendev.org/#/c/572973\n\nChange-Id: Ic662f9b407c273beae676d0a8c93c48e624a2a96\n""}]",0,709434,00340743c8ebc1d015836aaf24bc83bbb3ceeed6,10,5,2,11975,,,0,"Ensure that fullstack job is run with python 2.7

On stable/queens branch we need to run fullstack job with
python 2.7. There wasn't basepython set explicity for
dsvm-fullstack and it seems that it was run on python 3.5 in
the gate.
So lets explicity set basepython for this job to avoid such problems.

This patch is needed for queens only as for rocky and newer versions
it was set explicity in [1].

[1] https://review.opendev.org/#/c/572973

Change-Id: Ic662f9b407c273beae676d0a8c93c48e624a2a96
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/709434/2 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'tox.ini.orig']",2,dca43fcef1fa00394dea8ebcb174d98fcfcabf87,,"[tox] envlist = docs,py35,py27,pep8 minversion = 2.3.2 skipsdist = True [testenv] setenv = VIRTUAL_ENV={envdir} PYTHONWARNINGS=default::DeprecationWarning passenv = TRACE_FAILONLY GENERATE_HASHES http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY usedevelop = True install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} {opts} {packages} deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt whitelist_externals = sh commands = {toxinidir}/tools/ostestr_compat_shim.sh {posargs} # there is also secret magic in ostestr which lets you run in a fail only # mode. To do this define the TRACE_FAILONLY environmental variable. <<<<<<< HEAD ||||||| parent of 5c89506181... fix tox python3 overrides [testenv:debug] commands = oslo_debug_helper -t neutron/tests {posargs} ======= [testenv:debug] basepython = python3 commands = oslo_debug_helper -t neutron/tests {posargs} >>>>>>> 5c89506181... fix tox python3 overrides [testenv:common] basepython = python3 # Fake job to define environment variables shared between dsvm/non-dsvm jobs setenv = OS_TEST_TIMEOUT={env:OS_TEST_TIMEOUT:180} commands = false [testenv:dsvm] basepython = python3 # Fake job to define environment variables shared between dsvm jobs setenv = OS_SUDO_TESTING=1 OS_ROOTWRAP_CMD=sudo {envdir}/bin/neutron-rootwrap {envdir}/etc/neutron/rootwrap.conf OS_ROOTWRAP_DAEMON_CMD=sudo {envdir}/bin/neutron-rootwrap-daemon {envdir}/etc/neutron/rootwrap.conf OS_FAIL_ON_MISSING_DEPS=1 OS_LOG_PATH={env:OS_LOG_PATH:/opt/stack/logs} commands = false [testenv:functional] basepython = python2.7 setenv = {[testenv]setenv} {[testenv:common]setenv} OS_TEST_PATH=./neutron/tests/functional OS_LOG_PATH={env:OS_LOG_PATH:/opt/stack/logs} deps = {[testenv]deps} -r{toxinidir}/neutron/tests/functional/requirements.txt [testenv:functional-python35] basepython = python3.5 setenv = {[testenv:functional]setenv} deps = {[testenv:functional]deps} [testenv:dsvm-functional] basepython = python2.7 setenv = {[testenv:functional]setenv} {[testenv:dsvm]setenv} deps = {[testenv:functional]deps} commands = {toxinidir}/tools/deploy_rootwrap.sh {toxinidir} {envdir}/etc {envdir}/bin {toxinidir}/tools/ostestr_compat_shim.sh {posargs} [testenv:dsvm-functional-python35] basepython = python3.5 setenv = {[testenv:dsvm-functional]setenv} deps = {[testenv:dsvm-functional]deps} commands = {toxinidir}/tools/deploy_rootwrap.sh {toxinidir} {envdir}/etc {envdir}/bin {toxinidir}/tools/ostestr_compat_shim.sh {posargs} [testenv:dsvm-fullstack] basepython = python2.7 setenv = {[testenv]setenv} {[testenv:common]setenv} {[testenv:dsvm]setenv} # workaround for DB teardown lock contention (bug/1541742) OS_TEST_TIMEOUT={env:OS_TEST_TIMEOUT:600} OS_TEST_PATH=./neutron/tests/fullstack deps = {[testenv:functional]deps} commands = {toxinidir}/tools/generate_dhclient_script_for_fullstack.sh {envdir} {toxinidir}/tools/deploy_rootwrap.sh {toxinidir} {envdir}/etc {envdir}/bin {[testenv]commands} [testenv:dsvm-fullstack-python35] basepython = python3.5 setenv = {[testenv:dsvm-fullstack]setenv} deps = {[testenv:dsvm-fullstack]deps} commands = {[testenv:dsvm-fullstack]commands} [testenv:releasenotes] <<<<<<< HEAD ||||||| parent of 5c89506181... fix tox python3 overrides deps = -r{toxinidir}/doc/requirements.txt ======= basepython = python3 deps = -r{toxinidir}/doc/requirements.txt >>>>>>> 5c89506181... fix tox python3 overrides commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html [testenv:pep8] basepython = python2.7 deps = {[testenv]deps} commands= # If it is easier to add a check via a shell script, consider adding it in this file sh ./tools/misc-sanity-checks.sh {toxinidir}/tools/check_unit_test_structure.sh # Checks for coding and style guidelines flake8 sh ./tools/coding-checks.sh --pylint '{posargs}' neutron-db-manage --config-file neutron/tests/etc/neutron.conf check_migration python ./tools/list_moved_globals.py {[testenv:genconfig]commands} {[testenv:bashate]commands} {[testenv:bandit]commands} whitelist_externals = sh bash [testenv:cover] basepython = python2.7 commands = python setup.py testr --coverage --testr-args='{posargs}' coverage report --fail-under=82 --skip-covered [testenv:venv] basepython = python3 commands = {posargs} [testenv:docs] <<<<<<< HEAD ||||||| parent of 5c89506181... fix tox python3 overrides deps = -r{toxinidir}/doc/requirements.txt ======= basepython = python3 deps = -r{toxinidir}/doc/requirements.txt >>>>>>> 5c89506181... fix tox python3 overrides commands = sphinx-build -W -b html doc/source doc/build/html [testenv:linkcheck] <<<<<<< HEAD ||||||| parent of 5c89506181... fix tox python3 overrides deps = -r{toxinidir}/doc/requirements.txt ======= basepython = python3 deps = -r{toxinidir}/doc/requirements.txt >>>>>>> 5c89506181... fix tox python3 overrides commands = sphinx-build -W -b linkcheck doc/source doc/build/linkcheck [flake8] # E125 continuation line does not distinguish itself from next logical line # E126 continuation line over-indented for hanging indent # E128 continuation line under-indented for visual indent # E129 visually indented line with same indent as next logical line # E265 block comment should start with '# ' # H404 multi line docstring should start with a summary # H405 multi line docstring summary not separated with an empty line # N530 direct neutron imports not allowed # TODO(ihrachys) figure out what to do with N534 and N536 # N534 Untranslated exception message # N536 Use assertIsNone rather than assertEqual to check for None values # TODO(amotoki) check the following new rules should be fixed or ignored # E402 module level import not at top of file # E731 do not assign a lambda expression, use a def # W503 line break before binary operator ignore = E125,E126,E128,E129,E265,E402,E731,W503,H404,H405,N530,N534,N536 # H106: Don't put vim configuration in source files # H203: Use assertIs(Not)None to check for None # H904: Delay string interpolations at logging calls enable-extensions=H106,H203,H904 show-source = true exclude = ./.*,build,dist,doc import-order-style = pep8 [hacking] import_exceptions = neutron._i18n local-check-factory = neutron.hacking.checks.factory [testenv:bandit] <<<<<<< HEAD # B101: Use of assert detected ||||||| parent of 5c89506181... fix tox python3 overrides ======= basepython = python3 >>>>>>> 5c89506181... fix tox python3 overrides # B104: Possible binding to all interfaces # B108: Probable insecure usage of temp file/directory # B111: Execute with run_as_root=True identified, possible security issue # B311: Standard pseudo-random generators are not suitable for security/cryptographic purpose deps = -r{toxinidir}/test-requirements.txt commands = bandit -r neutron -x tests -n5 -s B101,B104,B108,B111,B311 [testenv:bashate] basepython = python3 commands = bash -c ""find {toxinidir} \ -not \( -type d -name .tox\* -prune \) \ -not \( -type d -name .venv\* -prune \) \ -type f \ -name \*.sh \ # E005 file does not begin with #! or have a .sh prefix # E006 check for lines longer than 79 columns # E042 local declaration hides errors # E043 Arithmetic compound has inconsistent return semantics -print0 | xargs -0 bashate -v -iE006 -eE005,E042,E043"" [testenv:genconfig] basepython = python3 commands = {toxinidir}/tools/generate_config_file_samples.sh # This environment can be used to quickly validate that all needed system # packages required to successfully execute test targets are installed [testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files. deps = bindep commands = bindep test ",,237,0
openstack%2Fmagnum~master~I6a95e75fc2d26e42b0b1e3b14faf6a257302cc18,openstack/magnum,master,I6a95e75fc2d26e42b0b1e3b14faf6a257302cc18,[k8s] Fix availability zone for k8s volumes,ABANDONED,2020-02-04 02:13:26.000000000,2020-02-24 20:55:27.000000000,,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-02-04 02:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/49137d4065cfb6ceb70469acc510f4347cf19725', 'message': ""[k8s] Fix availability zone for k8s volumes\n\nUnfortunately, this is a regression issue introduced by\nI39c99259abc84cbbee50ac1a827e9349ede6593c. Cinder can't\naccept empty as value for AZ. So we have to use condition\nto cover the two scenarios.\n\nTask: 38605\nStory: 2007097\n\nChange-Id: I6a95e75fc2d26e42b0b1e3b14faf6a257302cc18\n""}, {'number': 2, 'created': '2020-02-04 02:16:46.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/86f0f9fca44323dc4c3f19fe52f837d36edf409f', 'message': ""[k8s] Fix availability zone for k8s volumes\n\nUnfortunately, this is a regression issue introduced by\nI39c99259abc84cbbee50ac1a827e9349ede6593c. Cinder can't\naccept empty as value for AZ. So we have to use condition\nto cover the two scenarios.\n\nTask: 38605\nStory: 2007097\n\nChange-Id: I6a95e75fc2d26e42b0b1e3b14faf6a257302cc18\n""}]",0,705592,86f0f9fca44323dc4c3f19fe52f837d36edf409f,11,4,2,6484,,,0,"[k8s] Fix availability zone for k8s volumes

Unfortunately, this is a regression issue introduced by
I39c99259abc84cbbee50ac1a827e9349ede6593c. Cinder can't
accept empty as value for AZ. So we have to use condition
to cover the two scenarios.

Task: 38605
Story: 2007097

Change-Id: I6a95e75fc2d26e42b0b1e3b14faf6a257302cc18
",git fetch https://review.opendev.org/openstack/magnum refs/changes/92/705592/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml']",4,49137d4065cfb6ceb70469acc510f4347cf19725,story/2007097-38605," volume_az_unset: {equals: [{get_param: availability_zone}, """"]} volume_az_set: not: equals: - get_param: availability_zone - """" ""$ETCD_VOLUME"": {if: [""volume_az_set"", {get_resource: etcd_volume_az}, {get_resource: etcd_volume}]} ""$DOCKER_VOLUME"": {if: [""volume_az_set"", {get_resource: docker_volume_az}, {get_resource: docker_volume}]} condition: volume_az_unset properties: image: {get_param: server_image} size: {get_param: boot_volume_size} volume_type: {get_param: boot_volume_type} kube_node_volume_az: type: OS::Cinder::Volume condition: volume_based condition: volume_az_set volume_id: {if: [""volume_az_set"", {get_resource: kube_node_volume_az}, {get_resource: kube_node_volume}]} condition: volume_az_unset properties: size: {get_param: etcd_volume_size} volume_type: {get_param: etcd_volume_type} etcd_volume_az: type: Magnum::Optional::Etcd::Volume condition: volume_az_set volume_id: {if: [""volume_az_set"", {get_resource: etcd_volume_az}, {get_resource: etcd_volume}]} condition: volume_az_unset properties: size: {get_param: docker_volume_size} volume_type: {get_param: docker_volume_type} docker_volume_az: type: Magnum::Optional::Cinder::Volume condition: volume_az_set volume_id: {if: [""volume_az_set"", {get_resource: docker_volume_az}, {get_resource: docker_volume}]}"," ""$ETCD_VOLUME"": {get_resource: etcd_volume} ""$DOCKER_VOLUME"": {get_resource: docker_volume} volume_id: {get_resource: kube_node_volume} volume_id: {get_resource: etcd_volume} volume_id: {get_resource: docker_volume}",125,16
openstack%2Fopenstack-ansible-os_manila~master~I7210938fa4dc3a9bbe205599cd386496d6f48737,openstack/openstack-ansible-os_manila,master,I7210938fa4dc3a9bbe205599cd386496d6f48737,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:11:32.000000000,2020-02-24 20:22:41.000000000,2020-02-24 20:19:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:11:32.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/0274e5284bbb6cf12cb790f38ad447cd98ab84ea', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7210938fa4dc3a9bbe205599cd386496d6f48737\n'}]",0,709496,0274e5284bbb6cf12cb790f38ad447cd98ab84ea,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I7210938fa4dc3a9bbe205599cd386496d6f48737
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/96/709496/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,0274e5284bbb6cf12cb790f38ad447cd98ab84ea,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fpuppet-nova~master~Iaf33c4ef5430f4a23d361a43e6144a36f4961bc3,openstack/puppet-nova,master,Iaf33c4ef5430f4a23d361a43e6144a36f4961bc3,Remove redundant neutron_ from parameter names,MERGED,2020-02-23 18:00:06.000000000,2020-02-24 20:20:43.000000000,2020-02-24 20:17:37.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-23 18:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2f37af9ea59fd3e060bcea95315b66f694489210', 'message': 'Remove redundant neutron_ from parameter names\n\nThis patch removs redundant neutron_ prefix from the parameters in\nnova::network::neutron, as it is obvious that these parameters are\nrelated to neutron without parameter name prefix.\n\nChange-Id: Iaf33c4ef5430f4a23d361a43e6144a36f4961bc3\n'}, {'number': 2, 'created': '2020-02-23 18:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8d18d21b7be5eb676ddbd9783465cc75581c1795', 'message': 'Remove redundant neutron_ from parameter names\n\nThis patch removs redundant neutron_ prefix from the parameters in\nnova::network::neutron, as it is obvious that these parameters are\nrelated to neutron without parameter name prefix.\n\nChange-Id: Iaf33c4ef5430f4a23d361a43e6144a36f4961bc3\n'}, {'number': 3, 'created': '2020-02-23 18:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/43c0f3032f885e5430bb2a19845558b2276773ec', 'message': 'Remove redundant neutron_ from parameter names\n\nThis patch removs redundant neutron_ prefix from the parameters in\nnova::network::neutron, as it is obvious that these parameters are\nrelated to neutron without parameter name prefix.\n\nChange-Id: Iaf33c4ef5430f4a23d361a43e6144a36f4961bc3\n'}, {'number': 4, 'created': '2020-02-24 01:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f99d2e8efc778aca8e141806c1fca92f1d90a90a', 'message': 'Remove redundant neutron_ from parameter names\n\nThis patch removs redundant neutron_ prefix from the parameters in\nnova::network::neutron, as it is obvious that these parameters are\nrelated to neutron without parameter name prefix.\n\nChange-Id: Iaf33c4ef5430f4a23d361a43e6144a36f4961bc3\n'}, {'number': 5, 'created': '2020-02-24 03:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5aa2adeaa3c39a416385e747d57787ce2beaa5d5', 'message': 'Remove redundant neutron_ from parameter names\n\nThis patch removs redundant neutron_ prefix from the parameters in\nnova::network::neutron, as it is obvious that these parameters are\nrelated to neutron without that prefix.\n\nChange-Id: Iaf33c4ef5430f4a23d361a43e6144a36f4961bc3\n'}, {'number': 6, 'created': '2020-02-24 09:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/40f340c8eb208de38e00729420241fd815cff1a6', 'message': 'Remove redundant neutron_ from parameter names\n\nThis patch removs redundant neutron_ prefix from the parameters in\nnova::network::neutron, as it is obvious that these parameters are\nrelated to neutron without that prefix.\n\nChange-Id: Iaf33c4ef5430f4a23d361a43e6144a36f4961bc3\n'}, {'number': 7, 'created': '2020-02-24 09:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/de9aae850b42664b38cf29fb57255eb5603de260', 'message': 'Remove redundant neutron_ from parameter names\n\nThis patch removs redundant neutron_ prefix from the parameters in\nnova::network::neutron, as it is obvious that these parameters are\nrelated to neutron without that prefix.\n\nChange-Id: Iaf33c4ef5430f4a23d361a43e6144a36f4961bc3\n'}, {'number': 8, 'created': '2020-02-24 12:42:21.000000000', 'files': ['spec/classes/nova_network_neutron_spec.rb', 'releasenotes/notes/deprecate-neutron-parameters-with-neutron-prefix-bffb514213fee792.yaml', 'manifests/network/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7562ad2fbf3301b5ef3011e77b995ceb436b0e13', 'message': 'Remove redundant neutron_ from parameter names\n\nThis patch removs redundant neutron_ prefix from the parameters in\nnova::network::neutron, as it is obvious that these parameters are\nrelated to neutron without that prefix.\n\nChange-Id: Iaf33c4ef5430f4a23d361a43e6144a36f4961bc3\n'}]",1,709371,7562ad2fbf3301b5ef3011e77b995ceb436b0e13,20,4,8,9816,,,0,"Remove redundant neutron_ from parameter names

This patch removs redundant neutron_ prefix from the parameters in
nova::network::neutron, as it is obvious that these parameters are
related to neutron without that prefix.

Change-Id: Iaf33c4ef5430f4a23d361a43e6144a36f4961bc3
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/71/709371/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-neutron-parameters-with-neutron-prefix-bffb514213fee792.yaml', 'manifests/network/neutron.pp']",2,2f37af9ea59fd3e060bcea95315b66f694489210,neutron_param_name,"# [*password*]# [*auth_type*]# [*project_name*]# [*project_domain_name*]# [*username*]# [*user_domain_name*]# [*auth_url*]# [*valid_interfaces*]# [*endpoint_override*]# [*timeout*]# [*region_name*]# [*ovs_bridge*]# [*extension_sync_interval*]# DEPRECATED # # [*neutron_password*] # (optional) Password for connecting to Neutron network services in # admin context through the OpenStack Identity service. # Defaults to undef # # [*neutron_auth_type*] # Name of the auth type to load (string value) # Defaults to undef # # [*neutron_project_name*] # (optional) Project name for connecting to Neutron network services in # admin context through the OpenStack Identity service. # Defaults to undef # # [*neutron_project_domain_name*] # (optional) Project Domain name for connecting to Neutron network services in # admin context through the OpenStack Identity service. # Defaults to undef # # [*neutron_username*] # (optional) Username for connecting to Neutron network services in admin context # through the OpenStack Identity service. # Defaults to undef # # [*neutron_user_domain_name*] # (optional) User Domain name for connecting to Neutron network services in # admin context through the OpenStack Identity service. # Defaults to undef # # [*neutron_auth_url*] # (optional) Points to the OpenStack Identity server IP and port. # This is the Identity (keystone) admin API server IP and port value, # and not the Identity service API IP and port. # Defaults to undef # # [*neutron_valid_interfaces*] # (optional) The endpoint type to lookup when talking to Neutron. # Defaults to undef # # [*neutron_endpoint_override*] # (optional) Override the endpoint to use to talk to Neutron. # Defaults to undef # # [*neutron_timeout*] # (optional) Timeout value for connecting to neutron in seconds. # Defaults to undef # # [*neutron_region_name*] # (optional) Region name for connecting to neutron in admin context # through the OpenStack Identity service. # Defaults to undef # # [*neutron_ovs_bridge*] # (optional) Name of Integration Bridge used by Open vSwitch # Defaults to undef # # [*neutron_extension_sync_interval*] # (optional) Number of seconds before querying neutron for extensions # Defaults to undef # $password = false, $auth_type = 'v3password', $project_name = 'services', $project_domain_name = 'Default', $username = 'neutron', $user_domain_name = 'Default', $auth_url = 'http://127.0.0.1:5000/v3', $valid_interfaces = $::os_service_default, $endpoint_override = $::os_service_default, $timeout = '30', $region_name = 'RegionOne', $ovs_bridge = 'br-int', $extension_sync_interval = '600', #DEPRECATED $neutron_password = undef, $neutron_auth_type = undef, $neutron_project_name = undef, $neutron_project_domain_name = undef, $neutron_username = undef, $neutron_user_domain_name = undef, $neutron_auth_url = undef, $neutron_valid_interfaces = undef, $neutron_endpoint_override = undef, $neutron_timeout = undef, $neutron_region_name = undef, $neutron_ovs_bridge = undef, $neutron_extension_sync_interval = undef, if neutron_password != undef { warning('The neutron_password parameter was deprecated. Use password instead') $password_real = $neutron_password } else { $password_real = $password } if neutron_auth_type != undef { warning('The neutron_auth_type parameter was deprecated. Use auth_type instead') $auth_type_real = $neutron_auth_type } else { $auth_type_real = $auth_type } if neutron_project_name != undef { warning('The neutron_project_name parameter was deprecated. Use project_name instead') $project_name_real = $neutron_project_name } else { $project_name_real = $project_name } if neutron_project_domain_name != undef { warning('The neutron_project_domain_name parameter was deprecated. Use project_domain_name instead') $project_domain_name_real = $neutron_domain_name } else { $project_domain_name_real = $project_domain_name } if neutron_username != undef { warning('The neutron_username parameter was deprecated. Use username instead') $username_real = $neutron_username } else { $username_real = $username } if neutron_user_domain_name != undef { warning('The neutron_user_domain_name parameter was deprecated. Use user_domain_name_name instead') $uer_domain_name_real = $neutron_user_domain_name } else { $user_domain_name_real = $user_domain_name } if neutron_auth_url != undef { warning('The neutron_auth_url parameter was deprecated. Use auth_url instead') $auth_url_real = $neutron_auth_url } else { $auth_url_real = $auth_url } if neutron_valid_interfaces != undef { warning('The neutron_valid_interfaces parameter was deprecated. Use valid_interfaces instead') $valid_interfaces_real = $neutron_valid_interfaces } else { $valid_interfaces_real = $valid_interfaces } if neutron_endpoint_override != undef { warning('The neutron_endpoint_override parameter was deprecated. Use endpoint_override instead') $endpoint_override_real = $neutron_endpoint_override } else { $endpoint_override_real = $endpoint_override } if neutron_timeout != undef { warning('The neutron_timeout parameter was deprecated. Use timeout instead') $timeout_real = $neutron_timeout } else { $timeout_real = $timeout } if neutron_region_name != undef { warning('The neutron_region_name parameter was deprecated. Use region_name instead') $region_name_real = $neutron_region_name } else { $region_name_real = $region_name } if neutron_ovs_bridge != undef { warning('The neutron_ovs_bridge parameter was deprecated. Use ovs_bridge instead') $ovs_bridge_real = $neutron_ovs_bridge } else { $ovs_bridge_real = $ovs_bridge } if neutron_extension_sync_interval != undef { warning('The neutron_extension_sync_interval parameter was deprecated. Use extension_sync_interval instead') $extension_sync_interval_real = $neutron_extension_sync_interval } else { $extension_sync_interval_real = $extension_sync_interval } 'neutron/timeout': value => $timeout_real; 'neutron/project_name': value => $project_name_real; 'neutron/project_domain_name': value => $project_domain_name_real; 'neutron/region_name': value => $region_name_real; 'neutron/username': value => $username_real; 'neutron/user_domain_name': value => $user_domain_name_real; 'neutron/password': value => $password_real, secret => true; 'neutron/auth_url': value => $auth_url_real; 'neutron/valid_interfaces': value => $valid_interfaces_real; 'neutron/endpoint_override': value => $endpoint_override_real; 'neutron/ovs_bridge': value => $ovs_bridge_real; 'neutron/extension_sync_interval': value => $extension_sync_interval_real; 'neutron/auth_type': value => $auth_type_real;","# [*neutron_password*]# [*neutron_auth_type*]# [*neutron_project_name*]# [*neutron_project_domain_name*]# [*neutron_username*]# [*neutron_user_domain_name*]# [*neutron_auth_url*]# [*neutron_valid_interfaces*]# [*neutron_endpoint_override*]# [*neutron_timeout*]# [*neutron_region_name*]# [*neutron_ovs_bridge*]# [*neutron_extension_sync_interval*] $neutron_password = false, $neutron_auth_type = 'v3password', $neutron_project_name = 'services', $neutron_project_domain_name = 'Default', $neutron_username = 'neutron', $neutron_user_domain_name = 'Default', $neutron_auth_url = 'http://127.0.0.1:5000/v3', $neutron_valid_interfaces = $::os_service_default, $neutron_endpoint_override = $::os_service_default, $neutron_timeout = '30', $neutron_region_name = 'RegionOne', $neutron_ovs_bridge = 'br-int', $neutron_extension_sync_interval = '600', 'neutron/timeout': value => $neutron_timeout; 'neutron/project_name': value => $neutron_project_name; 'neutron/project_domain_name': value => $neutron_project_domain_name; 'neutron/region_name': value => $neutron_region_name; 'neutron/username': value => $neutron_username; 'neutron/user_domain_name': value => $neutron_user_domain_name; 'neutron/password': value => $neutron_password, secret => true; 'neutron/auth_url': value => $neutron_auth_url; 'neutron/valid_interfaces': value => $neutron_valid_interfaces; 'neutron/endpoint_override': value => $neutron_endpoint_override; 'neutron/ovs_bridge': value => $neutron_ovs_bridge; 'neutron/extension_sync_interval': value => $neutron_extension_sync_interval; 'neutron/auth_type': value => $neutron_auth_type;",211,39
openstack%2Ftripleo-heat-templates~master~Idbf1250b1cdf69fb101c206183f16be70532626c,openstack/tripleo-heat-templates,master,Idbf1250b1cdf69fb101c206183f16be70532626c,Glance: wire param_config,ABANDONED,2019-05-22 17:28:50.000000000,2020-02-24 19:51:28.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23302}, {'_account_id': 30448}]","[{'number': 1, 'created': '2019-05-22 17:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93bcb0c19a6371a24e8cceeb13bd64d8375cbba1', 'message': ""WIP - Glance: wire tripleo::config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by calling tripleo::config\ndirectly with the right parameters.\n\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 2, 'created': '2019-05-22 17:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22689bb245b86a2efe5958b357854c42f90e2692', 'message': ""WIP - Glance: wire tripleo::config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by calling tripleo::config\ndirectly with the right parameters.\n\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 3, 'created': '2019-05-22 18:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb931d320f1437dcd0fa91ee9a13b9bdd5d3b047', 'message': ""WIP - Glance: wire tripleo::config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by calling tripleo::config\ndirectly with the right parameters.\n\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 4, 'created': '2019-05-22 19:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40b6c0a5ae7f4d52325939e0ce0619a0aa747a74', 'message': ""WIP - Glance: wire tripleo::config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by calling tripleo::config\ndirectly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 5, 'created': '2019-05-23 18:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ef733179205dd01f4f6ffe8d832e4da43d5f13a', 'message': ""WIP - Glance: wire tripleo::config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by calling tripleo::config\ndirectly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 6, 'created': '2019-05-23 20:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6d1d4b86a2ad2eaef711fe465b77ed52e8debd7', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 7, 'created': '2019-05-23 20:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75429b8b37c0a1968e9bcf0c6621c5f3f36c1ef2', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 8, 'created': '2019-05-23 20:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d4ad455cd94f3c0940cc82a3433138cea347929', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 9, 'created': '2019-05-23 20:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc6c8bb03928240e419ee7b461974d10cf690a18', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 10, 'created': '2019-05-23 21:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/157458020616da8337e81f8da87ede0543d38b8a', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 11, 'created': '2019-05-24 00:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84ec8c1c95600877a60a63fa1082895c4316977d', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 12, 'created': '2019-05-24 13:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22e47a53b048efcdc785ef8a53b3cb65ef56773a', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 13, 'created': '2019-05-24 14:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9882eb6741e9034b5899aae60c1ffe778bdaa259', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 14, 'created': '2019-05-24 15:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86921a50444185eb625ae35acd626ebeb9cf842f', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 15, 'created': '2019-05-24 15:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a11b21556c8db4511ce38bbd3d09e23694b504b7', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 16, 'created': '2019-05-24 16:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/237c507472950113ed0d736224bcbd512de9c68e', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 17, 'created': '2019-05-24 17:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ec59a84dca5535e17b7144d7d263d1c4f8271e3', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 18, 'created': '2019-05-24 17:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c70225396d1fd1676ec2104ef7683a23d798ab0e', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 19, 'created': '2019-05-24 19:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02f9adcc8d40f485ba59bf0162756067300ca20d', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 20, 'created': '2019-05-24 21:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8aa8bd9034fbedea3191ce6cbbc9195965ad9530', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 21, 'created': '2019-05-24 21:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe566bae4eac01e2511d4b8dd1b6411f1bd376c8', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 22, 'created': '2019-05-24 21:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/722a81eab5e02d6547a0fc6959dfe2d6a9c21cf7', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 23, 'created': '2019-05-27 12:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/137a55439ae739ed421b60e15d535841537d15ea', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 24, 'created': '2019-05-27 15:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/846a34e46788f39d27fe15867b1a3c8a929753c1', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 25, 'created': '2019-05-27 15:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be66453acf796b1cb07bf807afb164bf450659b6', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 26, 'created': '2019-05-27 15:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abd1cc4f734755052a6b89417a5d5baa8066ecc7', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 27, 'created': '2019-05-27 16:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35c7774637160742d36a8970881b2c5bd32923a4', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 28, 'created': '2019-05-27 19:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/15b814772e01868a31950048f881319059d6c238', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 29, 'created': '2019-05-27 22:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53fa34e5266d1ac81b93e865eb706eee40205142', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 30, 'created': '2019-05-28 00:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59782709fc4175f49d85342e11605c684ce1e2f8', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 31, 'created': '2019-05-28 02:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c5a9027385e9a22eb26c75858b523113cfd2a7f', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 32, 'created': '2019-05-28 13:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3580aae3c136e0911b33c15509686562fc9f9b7d', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 33, 'created': '2019-05-28 17:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fd47c9beebc683cf8b38487fd88195311772639', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 34, 'created': '2019-05-28 20:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8f84818dbff9dc16e21eb9f68c77e5b5bf993a2', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 35, 'created': '2019-05-28 21:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6273e6e5f4a811a207202a79e1f0fb0b93c90e01', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 36, 'created': '2019-05-29 14:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c45a677fcdda1780a94116f7295df41936f65740', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 37, 'created': '2019-05-29 14:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1b102e1132f2c8fac5a7ded488e18780249886c', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 38, 'created': '2019-05-29 15:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eeb1eb2d854ea3a640592b030beda6bc40ce5ec1', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 39, 'created': '2019-05-29 16:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad2c14dff073107c16220bc497766c816b8eb1bf', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 40, 'created': '2019-05-29 16:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05c6ffeac264032cb88b8d40cecc6a84aab23ee7', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 41, 'created': '2019-05-29 18:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/593919e012460d6eaf0153ac41374f678d831522', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 42, 'created': '2019-05-29 19:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41e54131f7437922a8bef56e032f649e181eec23', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 43, 'created': '2019-05-29 19:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/088060eac849a26e08e9711a5ab3d202974a9839', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 44, 'created': '2019-05-29 19:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25d2d19369e944b871885a83591b1156705fd420', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 45, 'created': '2019-05-29 19:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43bf1d8646a741bbb98001149898d03ac9aca323', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 46, 'created': '2019-05-29 19:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54ceeb6e23dbf7e12ba9c7df7e6f98f5cee3787f', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 47, 'created': '2019-05-29 20:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2d5d8a560357cd10c87b63bbee063420854b3d5', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 48, 'created': '2019-05-30 14:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af25e1b28d5d3c6ff53eca64da484a054c992428', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 49, 'created': '2019-05-30 18:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a396a49bc7812bd644ec5d0315eb7990d260f857', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 50, 'created': '2019-05-31 12:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c768b0b993fcc0bb1ce07fdc5bfbd64ee79d162b', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 51, 'created': '2019-05-31 12:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e36e6e504cd561d5c311f7f1b2a31f1faad435d', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 52, 'created': '2019-05-31 13:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33b5446035f57c59c03d80d402605000883e3a09', 'message': ""WIP - Glance: wire param_config\n\nThis is WIP now but it's the easiest example to show how we can replace\nHiera parameters which configure Glance, by using the new param_config\ninterface directly with the right parameters.\nIt'll help later to consume this YAML key to lay down the configuration.\n\nTODO:\n- use the new interface in environments/undercloud.yaml (ExtraConfig)\n- use the new interface in service_config_settings\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n""}, {'number': 53, 'created': '2019-05-31 18:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e67a17fd6afc64287bdb04e07954260f0ad607e8', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 54, 'created': '2019-06-03 13:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d84070eab0af46ba2f38fb252198e8ddbb9b323', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf \nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 55, 'created': '2019-06-03 13:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72ddb2becb44b0d1524516b79a70ec66fd83aecc', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf \nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 56, 'created': '2019-06-03 16:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c419c4c0cd7177554f1481da6329f7c17e932c3d', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf \nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 57, 'created': '2019-06-03 18:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f070608349650397d40242d057dd8f104297c3e', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf \nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 58, 'created': '2019-06-03 21:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9eaa6a6ee9284306ca460d2b02362b3599b98086', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf \nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 59, 'created': '2019-06-03 23:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/872d9cadd581b1234d1c654483a13adb26693c32', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf \nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 60, 'created': '2019-06-04 12:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42c57edb47e9fba94a41ffffb42d59953d22e1d4', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf \nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 61, 'created': '2019-06-04 18:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6b27fe72d4b03013cecb950ce0d6ba7fe53bf7d', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf \nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 62, 'created': '2019-06-05 04:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44033de722a4990a0a7bcae924321787f68dea13', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf \nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 63, 'created': '2019-06-05 16:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/792692d3690def2f4bfb609878be4c33852a8c79', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf \nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 64, 'created': '2019-06-12 15:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/769e604e227e9b415debfd2768e199393fea8ee2', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf \nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 65, 'created': '2019-07-02 17:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/520b6dc44ba4608629923da696966e13f3dba9ce', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 66, 'created': '2019-07-03 14:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/947592632a3a80429763faa6beccf22e9b1a7780', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}, {'number': 67, 'created': '2019-07-05 19:59:21.000000000', 'files': ['environments/undercloud.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd5cf846038d5e7d683cc9764af4ce3727391af6', 'message': 'Glance: wire param_config\n\nWire the new param_config to Glance configuration.\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Idbf1250b1cdf69fb101c206183f16be70532626c\n'}]",3,660791,bd5cf846038d5e7d683cc9764af4ce3727391af6,158,10,67,3153,,,0,"Glance: wire param_config

Wire the new param_config to Glance configuration.

Depends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf
Change-Id: Idbf1250b1cdf69fb101c206183f16be70532626c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/660791/49 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,93bcb0c19a6371a24e8cceeb13bd64d8375cbba1,glance/config, - tripleo::glance_api::configs: glance_api_config: DEFAULT/show_image_direct_url: true glance::api::database_connection: - include ::tripleo::config, - glance::api::database_connection: glance::api::show_image_direct_url: true,5,2
openstack%2Fpython-tripleoclient~master~I5eb1f7ba0834047297b4008122a0ae084880e91d,openstack/python-tripleoclient,master,I5eb1f7ba0834047297b4008122a0ae084880e91d,undercloud: add undercloud_admin_host to ExtraHostFileEntries,ABANDONED,2019-06-13 14:49:40.000000000,2020-02-24 19:51:23.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29315}]","[{'number': 1, 'created': '2019-06-13 14:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ad110d023ce6546c45e2a71e00615f4f75fdf102', 'message': ""undercloud: add undercloud_admin_host to ExtraHostFileEntries\n\nWhen undercloud_admin_host isn't an IP address, we want to add a new\nentry to ExtraHostFileEntries like we did for the undercloud_public\nparameter.\n\nChange-Id: I5eb1f7ba0834047297b4008122a0ae084880e91d\nCloses-Bug: #1832731\n""}, {'number': 2, 'created': '2019-06-13 15:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c6429b87f7f58359f7424acf1e3b16d7c7f92ebc', 'message': ""undercloud: add undercloud_admin_host to ExtraHostFileEntries\n\nWhen undercloud_admin_host isn't an IP address, we want to add a new\nentry to ExtraHostFileEntries like we did for the undercloud_public\nparameter.\n\nChange-Id: I5eb1f7ba0834047297b4008122a0ae084880e91d\nCloses-Bug: #1832731\n""}, {'number': 3, 'created': '2019-06-13 17:46:47.000000000', 'files': ['tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/51752a453fe6c0c4fbe93d1be8b5385761150544', 'message': ""undercloud: add undercloud_admin_host to ExtraHostFileEntries\n\nWhen undercloud_admin_host isn't an IP address, we want to add a new\nentry to ExtraHostFileEntries like we did for the undercloud_public\nparameter.\n\nChange-Id: I5eb1f7ba0834047297b4008122a0ae084880e91d\nCloses-Bug: #1832731\n""}]",0,665152,51752a453fe6c0c4fbe93d1be8b5385761150544,12,5,3,3153,,,0,"undercloud: add undercloud_admin_host to ExtraHostFileEntries

When undercloud_admin_host isn't an IP address, we want to add a new
entry to ExtraHostFileEntries like we did for the undercloud_public
parameter.

Change-Id: I5eb1f7ba0834047297b4008122a0ae084880e91d
Closes-Bug: #1832731
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/665152/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,ad110d023ce6546c45e2a71e00615f4f75fdf102,bug/1832731," # To make sure the resolved host is set to the right IP in /etc/hosts for host in [CONF.get('undercloud_public_host', CONF.get( 'undercloud_admin_host']: if not utils.is_valid_ip(host): if not env_data['ExtraHostFileEntries']: env_data['ExtraHostFileEntries'] = [] extra_host = utils.get_single_ip(host) + ' ' + host env_data['ExtraHostFileEntries'].append(extra_host) ", # To make sure the resolved host is set to the right IP in /etc/hosts if not utils.is_valid_ip(CONF.get('undercloud_public_host')): extra_host = public_host + ' ' + CONF.get('undercloud_public_host') env_data['ExtraHostFileEntries'] = extra_host ,9,5
openstack%2Fpuppet-tripleo~master~I32ed0764b391720ed55f8df2dd617d596d3e8fe3,openstack/puppet-tripleo,master,I32ed0764b391720ed55f8df2dd617d596d3e8fe3,Remove Bigswitch agent class,ABANDONED,2019-07-15 15:51:33.000000000,2020-02-24 19:51:02.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-15 15:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2f30a3258f877197efbd85acf9dc4bc4160751bd', 'message': ""Remove Bigswitch agent class\n\nIt was calling puppet-neutron which was only installing rpms, which we\ndon't want anymore with the containerized plugins.\n\nChange-Id: I32ed0764b391720ed55f8df2dd617d596d3e8fe3\n""}, {'number': 2, 'created': '2019-07-15 18:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5136edfd70a06d92c2668b69a33b0bcbfe48d7fd', 'message': ""Remove Bigswitch agent class\n\nIt was calling puppet-neutron which was only installing rpms, which we\ndon't want anymore with the containerized plugins.\n\nDepends-On: https://review.opendev.org/670896\nChange-Id: I32ed0764b391720ed55f8df2dd617d596d3e8fe3\n""}, {'number': 3, 'created': '2019-07-31 20:20:03.000000000', 'files': ['spec/classes/tripleo_profile_base_neutron_agents_bigswitch_spec.rb', 'manifests/profile/base/neutron/agents/bigswitch.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/93ef8571e38096a6525b6ccab9c6256248542056', 'message': ""Remove Bigswitch agent class\n\nIt was calling puppet-neutron which was only installing rpms, which we\ndon't want anymore with the containerized plugins.\n\nDepends-On: https://review.opendev.org/670896\nChange-Id: I32ed0764b391720ed55f8df2dd617d596d3e8fe3\n""}]",0,670871,93ef8571e38096a6525b6ccab9c6256248542056,14,5,3,3153,,,0,"Remove Bigswitch agent class

It was calling puppet-neutron which was only installing rpms, which we
don't want anymore with the containerized plugins.

Depends-On: https://review.opendev.org/670896
Change-Id: I32ed0764b391720ed55f8df2dd617d596d3e8fe3
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/71/670871/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_neutron_agents_bigswitch_spec.rb', 'manifests/profile/base/neutron/agents/bigswitch.pp']",2,2f30a3258f877197efbd85acf9dc4bc4160751bd,bigswitch,,"# Copyright 2017 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::neutron::agents::bigswitch # # Bigswitch Neutron agent profile # # === Parameters # # [*step*] # (Optional) The current step of the deployment # Defaults to hiera('step') # class tripleo::profile::base::neutron::agents::bigswitch( $step = Integer(hiera('step')), ) { if $step >= 4 { include ::neutron::agents::bigswitch } } ",0,79
openstack%2Ftripleo-heat-templates~master~I3a53dde5696f89224dcc54643321b66ee4f99aee,openstack/tripleo-heat-templates,master,I3a53dde5696f89224dcc54643321b66ee4f99aee,Convert Bigswitch integration into a composable service,ABANDONED,2019-07-15 18:08:02.000000000,2020-02-24 19:50:57.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-15 18:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a55bb4597fad59661b55b342354f243d13c8297', 'message': 'Convert Bigswitch integration into a composable service\n\nThe Bigswitch integration is now a composable service that deploys the\nrequired dependencies on the hosts and the parameters in the Neutron ML2\nplugin container.\nNeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth\nneed to be defined for the Controller role.\nNeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be\ndefined for all the roles.\nThe neutron-ml2-bigswitch.yaml environment has been updated with examples.\n\nChange-Id: I3a53dde5696f89224dcc54643321b66ee4f99aee\n'}, {'number': 2, 'created': '2019-07-15 18:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70bb3753ce1db2f41cce4cd69c3527e7ba6df25e', 'message': 'Convert Bigswitch integration into a composable service\n\nThe Bigswitch integration is now a composable service that deploys the\nrequired dependencies on the hosts and the parameters in the Neutron ML2\nplugin container.\nNeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth\nneed to be defined for the Controller role.\nNeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be\ndefined for all the roles.\nThe neutron-ml2-bigswitch.yaml environment has been updated with examples.\n\nChange-Id: I3a53dde5696f89224dcc54643321b66ee4f99aee\n'}, {'number': 3, 'created': '2019-07-15 22:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3dc001c92c9899f09361625ee933efbd7a6d065', 'message': 'Convert Bigswitch integration into a composable service\n\nThe Bigswitch integration is now a composable service that deploys the\nrequired dependencies on the hosts and the parameters in the Neutron ML2\nplugin container.\nNeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth\nneed to be defined for the Controller role.\nNeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be\ndefined for all the roles.\nThe neutron-ml2-bigswitch.yaml environment has been updated with examples.\n\nChange-Id: I3a53dde5696f89224dcc54643321b66ee4f99aee\n'}, {'number': 4, 'created': '2019-07-31 20:25:57.000000000', 'files': ['puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'environments/neutron-ml2-bigswitch.yaml', 'environments/undercloud/undercloud-minion.yaml', 'deployment/neutron/neutron-plugin-ml2-bigswitch-container-puppet.yaml', 'releasenotes/notes/bigswitch_composable-5a3266bdc2d75776.yaml', 'deployment/neutron/neutron-bigswitch-agent-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/768b53841d22ec20a1f49e36845ae5a304e42058', 'message': 'Convert Bigswitch integration into a composable service\n\nThe Bigswitch integration is now a composable service that deploys the\nrequired dependencies on the hosts and the parameters in the Neutron ML2\nplugin container.\nNeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth\nneed to be defined for the Controller role.\nNeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be\ndefined for all the roles.\nThe neutron-ml2-bigswitch.yaml environment has been updated with examples.\n\nChange-Id: I3a53dde5696f89224dcc54643321b66ee4f99aee\n'}]",1,670896,768b53841d22ec20a1f49e36845ae5a304e42058,12,4,4,3153,,,0,"Convert Bigswitch integration into a composable service

The Bigswitch integration is now a composable service that deploys the
required dependencies on the hosts and the parameters in the Neutron ML2
plugin container.
NeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth
need to be defined for the Controller role.
NeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be
defined for all the roles.
The neutron-ml2-bigswitch.yaml environment has been updated with examples.

Change-Id: I3a53dde5696f89224dcc54643321b66ee4f99aee
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/670896/3 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/neutron-ml2-bigswitch.yaml', 'environments/undercloud/undercloud-minion.yaml', 'deployment/neutron/neutron-plugin-ml2-bigswitch-container-puppet.yaml', 'releasenotes/notes/bigswitch_composable-5a3266bdc2d75776.yaml', 'deployment/neutron/neutron-bigswitch-agent-baremetal-puppet.yaml']",9,0a55bb4597fad59661b55b342354f243d13c8297,bigswitch,,heat_template_version: rocky description: > Installs bigswitch agent and enables the services parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json outputs: role_data: description: Configure the bigswitch agent services value: service_name: neutron_bigswitch_agent step_config: | include ::tripleo::profile::base::neutron::agents::bigswitch ,201,192
openstack%2Ftripleo-specs~master~Ie47ea894f8b8466bf0da9828c29cda25aac6ffd5,openstack/tripleo-specs,master,Ie47ea894f8b8466bf0da9828c29cda25aac6ffd5,Specs for removing Puppet from TripleO,ABANDONED,2019-07-18 20:17:02.000000000,2020-02-24 19:50:41.000000000,,"[{'_account_id': 136}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-18 20:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/72b2fb6167958f7a286665b047f6dd9e8ab3aede', 'message': 'WIP - Specs for removing Puppet from TripleO\n\nChange-Id: Ie47ea894f8b8466bf0da9828c29cda25aac6ffd5\n'}, {'number': 2, 'created': '2019-07-19 18:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/ee43cab472822d488f644e1ac1dfd001b6eaef00', 'message': 'WIP - Specs for removing Puppet from TripleO\n\nChange-Id: Ie47ea894f8b8466bf0da9828c29cda25aac6ffd5\n'}, {'number': 3, 'created': '2019-07-19 20:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/262c2672e4cad5b2797f5bd31379aaae85008fdf', 'message': 'Specs for removing Puppet from TripleO\n\nChange-Id: Ie47ea894f8b8466bf0da9828c29cda25aac6ffd5\n'}, {'number': 4, 'created': '2019-07-19 20:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/430e5be066c85b7791a990f9a1d7aaf33ba3d34a', 'message': 'Specs for removing Puppet from TripleO\n\nChange-Id: Ie47ea894f8b8466bf0da9828c29cda25aac6ffd5\n'}, {'number': 5, 'created': '2019-07-22 19:53:16.000000000', 'files': ['specs/train/remove-puppet.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/4bbb4d129b8a4727ce0f1639ff9dbe384589a044', 'message': 'Specs for removing Puppet from TripleO\n\nChange-Id: Ie47ea894f8b8466bf0da9828c29cda25aac6ffd5\n'}]",34,671563,4bbb4d129b8a4727ce0f1639ff9dbe384589a044,27,14,5,3153,,,0,"Specs for removing Puppet from TripleO

Change-Id: Ie47ea894f8b8466bf0da9828c29cda25aac6ffd5
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/63/671563/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/remove-puppet.rst'],1,72b2fb6167958f7a286665b047f6dd9e8ab3aede,ansible/cfg,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============= Remove Puppet ============= https://blueprints.launchpad.net/tripleo/+spec/remove-puppet This specs is currently targeted for Train but it will be a multi-cycle effort and won't be delivered at the end of Train. In order to reduce the complexity, we are consolidating the tools used in TripleO toward more usage of Ansible in general. We have identified Puppet as one of the technologies that requires some specific knowledge in TripleO. Puppet and its dependencies also require maintenance, specially the Puppet modules where the community hasn't grown much over the years. Only a few people in the TripleO team are familiar with these modules and actually maintain them, so it's a risk for the project that we need to handle in this specs. Problem Description =================== Even though TripleO is well known for its maturity, it also has a reputation of being complex when it comes to the number of tools that it uses. Using Puppet means the requirement to know about the DSL, Hiera, Facter but also to maintain the packages and backward imcompatible changes in these components which happen often enough to break the production chain. Proposed Change =============== Overview -------- Reducing the number of dependencies in TripleO will decrease the number of technologies used by the project; therefore we would expect TripleO to be easier to understand, deploy, operate and maintain in the long term. Ansible seems to be the tool which has reached a momentum and we already started to increase its usage in TripleO. We have identified areas where it could be used to replace some other tools, which in result, could be removed. Even if part of this work is to create new Ansible roles, a lot of the components are based on community-supported tools (e.g. OpenStack-Ansible, Ansible Core, etc); which have grown well enough for us to rely on. Alternative ------------ We could keep Puppet around, which has reached a strong maturity, and is also well known by some people working on TripleO for a long time. However, the developer community around the Puppet modules haven't grown and there is a risk to maintain the whole tooling ourselves. Also, every new version of Puppet brings new features and sometimes changes that require work in our modules, and our community doesn't have enough members to really keep up. Security Impact --------------- The Ansible logs will have to hide any confidential information like logins and passwords; which was done in the Puppet modules thanks to the ""secret"" attribute. Upgrade Impact -------------- Since this is a multi-cycle effort, our operators will be able to upgrade TripleO and the services will be configured with the new tools as soon as they are switched. All the existing interfaces will be maintained for backward compatibility. Performance Impact ------------------ The proposed solution can't be slower than the existing software. Performance tests will be executed to make sure there is no regression in deployment time. Deployment Framework developer Impact ------------------------------------- For the developers who work on the Deployment Framework, the proposed solution must be easier to maintain than Puppet modules, in a way where contributions don't require a specific knowledge other than the tools already present in TripleO. The effort is multi-cycles, so everything has to be backward compatible and the old behaviours must remain working. This work shouldn't bring any new framework or more dependencies (except for the Ansible dependencies which are required for the proposed solution). Other TripleO developers Impact ------------------------------- The proposed solution should make it easier interface to configure the services supported in TripleO. We will provide one simple and standard interface for configuring these services. Edge developers should be able to configure TripleO for DCN and multiple cells deployments. We will provide an interface to override settings in child stacks when using multiple stacks. Operator Impact --------------- As an operator, the configuration failures should be easy to debug, so meaningful logs will be provided during the deployments if a configuration step fails. It will still be possible to modify the configuration at wish since we will maintain the compatibility with TripleO ExtraConfig interface. It will be easy to understand how to customize the configuration so proper documentation will be required to understand how to customize the configuration for any service. Technical Support Impact ------------------------ To help our users, the support will need to easily collect configuration failures logs with meaningful log files that are collected by sosreport. We will make the debug easy when things go wrong with configuration steps with these steps easily reproducible outside of the regular deployment workflow, thanks to the config-download interface. It will be possible to reproduce customer environments with specific configurations by the possibility to generate a configurion file without a whole TripleO deployment. Updating the configuration file on customer's environments will be fast and easy if needed, without the need to run the deployment command again and wait hours. Release engineer ---------------- We will reduce the packaging dependencies by removing Puppet, Hiera and Facter. Ruby will not be required as well. Implementation ============== Assignee(s) ----------- Primary assignee: EmilienM Other contributors: cloudnull mwhahaha Work Items ---------- tripleo-heat-templates ~~~~~~~~~~~~~~~~~~~~~~ WIP tripleo-ansible ~~~~~~~~~~~~~~~ WIP ansible-config_template ~~~~~~~~~~~~~~~~~~~~~~~ WIP Dependencies ============ WIP Testing ======= WIP Documentation Impact ==================== WIP References ========== None. ",,209,0
openstack%2Ftripleo-heat-templates~master~Ica28976a376793df5fc273036431a1771344ff82,openstack/tripleo-heat-templates,master,Ica28976a376793df5fc273036431a1771344ff82,WIP - prototype to generate Glance config with Ansible but keep Puppet,ABANDONED,2019-07-28 22:54:05.000000000,2020-02-24 19:50:20.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-28 22:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cf2ff3989879c39d4698868a83e905a7a01a9cd', 'message': ""WIP - prototype to generate a config file in container w/o puppet\n\nIt's a first experiment, on a simple way we could run Ansible in a\ncontainer (we don't run ansible yet in this patch), to generate a config\nfile that is used in entry point by the container when starting.\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n""}, {'number': 2, 'created': '2019-07-28 23:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a6aecdf6f24f8b31546e964280c9d815d0123d4', 'message': ""WIP - prototype to generate a config file in container w/o puppet\n\nIt's a first experiment, on a simple way we could run Ansible in a\ncontainer (we don't run ansible yet in this patch), to generate a config\nfile that is used in entry point by the container when starting.\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n""}, {'number': 3, 'created': '2019-07-29 01:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c1d126aa69c9e9ddf88fd170a76953cf7fa999c', 'message': ""WIP - prototype to generate a config file in container w/o puppet\n\nIt's a first experiment, on a simple way we could run Ansible in a\ncontainer (we don't run ansible yet in this patch), to generate a config\nfile that is used in entry point by the container when starting.\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n""}, {'number': 4, 'created': '2019-07-29 01:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42de940a9b6af7ae0c7c01723682487406eca201', 'message': ""WIP - prototype to generate a config file in container w/o puppet\n\nIt's a first experiment, on a simple way we could run Ansible in a\ncontainer (we don't run ansible yet in this patch), to generate a config\nfile that is used in entry point by the container when starting.\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n""}, {'number': 5, 'created': '2019-07-29 13:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/356c6dad264d912b5292edb4291a5b60113f50e1', 'message': ""WIP - prototype to generate a config file in container w/o puppet\n\nIt's a first experiment, on a simple way we could run Ansible in a\ncontainer (we don't run ansible yet in this patch), to generate a config\nfile that is used in entry point by the container when starting.\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n""}, {'number': 6, 'created': '2019-07-29 19:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e825a434f54151813be934e550526b60f1dd4c6e', 'message': 'WIP - prototype to generate a config file in container w/o puppet\n\nExample with glance_api:\n\n1) Create /var/lib/kolla/config_files/src-original/ in the container\n2) Bind mount /var/lib/config-data/ansible-generated/glance_api/ to\n   /var/lib/kolla/config_files/src-original in the glance_get_original_cfg\n   container; and copy the original config from /etc/glance into\n   /var/lib/kolla/config_files/src-original so the config is saved\n   on the host in /var/lib/config-data/ansible-generated/glance_api/\n3) TODO - with config_template, modify what we need to change in\n   /var/lib/config-data/ansible-generated/glance_api/\n4) TODO - Bind mount /var/lib/config-data/ansible-generated/glance_api/\n5) TODO - Update glance_api kolla config command to load the new ansible\n   generated config file (that is bind mounted)\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n'}, {'number': 7, 'created': '2019-07-29 19:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c0ca86c345c9de12f30499b762351408a7f4948', 'message': 'WIP - prototype to generate a config file in container w/o puppet\n\nExample with glance_api:\n\n1) Create /var/lib/kolla/config_files/src-original/ in the container\n2) Bind mount /var/lib/config-data/ansible-generated/glance_api/ to\n   /var/lib/kolla/config_files/src-original in the glance_get_original_cfg\n   container; and copy the original config from /etc/glance into\n   /var/lib/kolla/config_files/src-original so the config is saved\n   on the host in /var/lib/config-data/ansible-generated/glance_api/\n3) with config_template, modify what we need to change in\n   /var/lib/config-data/ansible-generated/glance_api/\n4) Bind mount /var/lib/config-data/ansible-generated/glance_api/\n5) Update glance_api kolla config command to load the new ansible\n   generated config file (that is bind mounted)\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n'}, {'number': 8, 'created': '2019-07-29 19:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd9398617cd47baed043f390c20338c3881a2f28', 'message': 'WIP - prototype to generate a config file in container w/o puppet\n\nExample with glance_api:\n\n1) Create /var/lib/kolla/config_files/src-original/ in the container\n2) Bind mount /var/lib/config-data/ansible-generated/glance_api/ to\n   /var/lib/kolla/config_files/src-original in the glance_get_original_cfg\n   container; and copy the original config from /etc/glance into\n   /var/lib/kolla/config_files/src-original so the config is saved\n   on the host in /var/lib/config-data/ansible-generated/glance_api/\n3) with config_template, modify what we need to change in\n   /var/lib/config-data/ansible-generated/glance_api/\n4) Bind mount /var/lib/config-data/ansible-generated/glance_api/\n5) Update glance_api kolla config command to load the new ansible\n   generated config file (that is bind mounted)\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n'}, {'number': 9, 'created': '2019-07-29 21:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8392af95d3394cb5c7fe09f5e89c3021069ef8d6', 'message': 'WIP - prototype to generate a config file in container w/o puppet\n\nExample with glance_api:\n\n1) Create /var/lib/kolla/config_files/src-original/ in the container\n2) Bind mount /var/lib/config-data/ansible-generated/glance_api/ to\n   /var/lib/kolla/config_files/src-original in the glance_get_original_cfg\n   container; and copy the original config from /etc/glance into\n   /var/lib/kolla/config_files/src-original so the config is saved\n   on the host in /var/lib/config-data/ansible-generated/glance_api/\n3) with config_template, modify what we need to change in\n   /var/lib/config-data/ansible-generated/glance_api/\n4) Bind mount /var/lib/config-data/ansible-generated/glance_api/\n5) Update glance_api kolla config command to load the new ansible\n   generated config file (that is bind mounted)\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n'}, {'number': 10, 'created': '2019-07-29 22:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95d1ab89b797cad07e17a91b1ef678c197d9c05c', 'message': 'WIP - prototype to generate a config file in container w/o puppet\n\nExample with glance_api:\n\n1) Create /var/lib/kolla/config_files/src-original/ in the container\n2) Bind mount /var/lib/config-data/ansible-generated/glance_api/ to\n   /var/lib/kolla/config_files/src-original in the glance_get_original_cfg\n   container; and copy the original config from /etc/glance into\n   /var/lib/kolla/config_files/src-original so the config is saved\n   on the host in /var/lib/config-data/ansible-generated/glance_api/\n3) with config_template, modify what we need to change in\n   /var/lib/config-data/ansible-generated/glance_api/\n4) Bind mount /var/lib/config-data/ansible-generated/glance_api/\n5) Update glance_api kolla config command to load the new ansible\n   generated config file (that is bind mounted)\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n'}, {'number': 11, 'created': '2019-07-30 13:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87eeef8cc8d95d0085e72f449c5c3cba9feac526', 'message': 'WIP - prototype to generate a config file in container w/o puppet\n\nExample with glance_api:\n\n1) Create /var/lib/kolla/config_files/src-original/ in the container\n2) Bind mount /var/lib/config-data/ansible-generated/glance_api/ to\n   /var/lib/kolla/config_files/src-original in the glance_get_original_cfg\n   container; and copy the original config from /etc/glance into\n   /var/lib/kolla/config_files/src-original so the config is saved\n   on the host in /var/lib/config-data/ansible-generated/glance_api/\n3) with config_template, modify what we need to change in\n   /var/lib/config-data/ansible-generated/glance_api/\n4) Bind mount /var/lib/config-data/ansible-generated/glance_api/\n5) Update glance_api kolla config command to load the new ansible\n   generated config file (that is bind mounted)\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n'}, {'number': 12, 'created': '2019-07-31 13:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17d0b462b3e324216dcae2032c2a9f549720344a', 'message': 'WIP - prototype to generate a config file in container w/o puppet\n\nExample with glance_api:\n\n1) Create /var/lib/kolla/config_files/src-original/ in the container\n2) Bind mount /var/lib/config-data/ansible-generated/glance_api/ to\n   /var/lib/kolla/config_files/src-original in the glance_get_original_cfg\n   container; and copy the original config from /etc/glance into\n   /var/lib/kolla/config_files/src-original so the config is saved\n   on the host in /var/lib/config-data/ansible-generated/glance_api/\n3) with config_template, modify what we need to change in\n   /var/lib/config-data/ansible-generated/glance_api/\n4) Bind mount /var/lib/config-data/ansible-generated/glance_api/\n5) Update glance_api kolla config command to load the new ansible\n   generated config file (that is bind mounted)\n\nblueprint remove-puppet\n\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n'}, {'number': 13, 'created': '2019-07-31 19:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d7a388921f2d83033bed94fb925107ee1531e3a', 'message': ""WIP - prototype to generate Glance config with Ansible but keep Puppet\n\n1) Create /var/lib/kolla/config_files/src-original/ in the container\n2) Bind mount /var/lib/config-data/ansible-generated/glance_api/ to\n   /var/lib/kolla/config_files/src-original in the glance_*_get_original_cfg\n   containers; and copy the original config from /etc/glance into\n   /var/lib/kolla/config_files/src-original so the config is saved\n   on the host in /var/lib/config-data/ansible-generated/glance_api/\n3) with config_template, modify what we need to change in\n   /var/lib/config-data/ansible-generated/glance_api/\n4) Bind mount /var/lib/config-data/ansible-generated/glance_api/\n5) Update glance_api kolla config command to load the new ansible\n   generated config files\n\nPuppet still runs on the host so it's possible to run ExtraConfig with\nPuppet Hieradata for backward compatibility.\n\nNote: ::glance::api isn't included anymore:\nIe955632b0597f0fd4116662fde69d46dc04813cf\nSo ExtraConfig calling hiera in glance::api won't work, since the class\nisn't called. It also needs to be figured out.\n\nTODO:\n- Figure out how to now use privileged containers to read the config\n- Use tripleo-config role from tripleo-ansible instead of\n  config_template action plugin.\n- Align the config results with previous results to have parity.\n- This is a prototype, so we need to simplify what I wrote.\n\nblueprint remove-puppet\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n""}, {'number': 14, 'created': '2019-07-31 19:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df3090156fd39fe0ff230c6babe72b587b84ff6f', 'message': ""WIP - prototype to generate Glance config with Ansible but keep Puppet\n\n1) Create /var/lib/kolla/config_files/src-original/ in the container\n2) Bind mount /var/lib/config-data/ansible-generated/glance_api/ to\n   /var/lib/kolla/config_files/src-original in the glance_*_get_original_cfg\n   containers; and copy the original config from /etc/glance into\n   /var/lib/kolla/config_files/src-original so the config is saved\n   on the host in /var/lib/config-data/ansible-generated/glance_api/\n3) with config_template, modify what we need to change in\n   /var/lib/config-data/ansible-generated/glance_api/\n4) Bind mount /var/lib/config-data/ansible-generated/glance_api/\n5) Update glance_api kolla config command to load the new ansible\n   generated config files\n\nPuppet still runs on the host so it's possible to run ExtraConfig with\nPuppet Hieradata for backward compatibility.\n\nNote: ::glance::api isn't included anymore:\nIe955632b0597f0fd4116662fde69d46dc04813cf\nSo ExtraConfig calling hiera in glance::api won't work, since the class\nisn't called. It also needs to be figured out.\nFor example, this part isn't working anymore:\nhttps://review.opendev.org/#/c/660791/67/environments/undercloud.yaml\nmemcached_servers won't be configured anymore.\n\nTODO:\n- Figure out how to now use privileged containers to read the config\n- Use tripleo-config role from tripleo-ansible instead of\n  config_template action plugin.\n- Align the config results with previous results to have parity.\n- This is a prototype, so we need to simplify what I wrote.\n\nblueprint remove-puppet\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n""}, {'number': 15, 'created': '2019-08-01 18:39:08.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b74e88faf1ede25596acc371b2b0c43f2a855a8', 'message': ""WIP - prototype to generate Glance config with Ansible but keep Puppet\n\n1) Create /var/lib/kolla/config_files/src-original/ in the container\n2) Bind mount /var/lib/config-data/ansible-generated/glance_api/ to\n   /var/lib/kolla/config_files/src-original in the glance_*_get_original_cfg\n   containers; and copy the original config from /etc/glance into\n   /var/lib/kolla/config_files/src-original so the config is saved\n   on the host in /var/lib/config-data/ansible-generated/glance_api/\n3) with config_template, modify what we need to change in\n   /var/lib/config-data/ansible-generated/glance_api/\n4) Bind mount /var/lib/config-data/ansible-generated/glance_api/\n5) Update glance_api kolla config command to load the new ansible\n   generated config files\n\nPuppet still runs on the host so it's possible to run ExtraConfig with\nPuppet Hieradata for backward compatibility.\n\nNote: ::glance::api isn't included anymore:\nIe955632b0597f0fd4116662fde69d46dc04813cf\nSo ExtraConfig calling hiera in glance::api won't work, since the class\nisn't called. It also needs to be figured out.\nFor example, this part isn't working anymore:\nhttps://review.opendev.org/#/c/660791/67/environments/undercloud.yaml\nmemcached_servers won't be configured anymore.\n\nTODO:\n- Figure out how to now use privileged containers to read the config\n- Use tripleo-config role from tripleo-ansible instead of\n  config_template action plugin.\n- Align the config results with previous results to have parity.\n- This is a prototype, so we need to simplify what I wrote.\n\nblueprint remove-puppet\n\nDepends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf\nChange-Id: Ica28976a376793df5fc273036431a1771344ff82\n""}]",2,673190,9b74e88faf1ede25596acc371b2b0c43f2a855a8,37,4,15,3153,,,0,"WIP - prototype to generate Glance config with Ansible but keep Puppet

1) Create /var/lib/kolla/config_files/src-original/ in the container
2) Bind mount /var/lib/config-data/ansible-generated/glance_api/ to
   /var/lib/kolla/config_files/src-original in the glance_*_get_original_cfg
   containers; and copy the original config from /etc/glance into
   /var/lib/kolla/config_files/src-original so the config is saved
   on the host in /var/lib/config-data/ansible-generated/glance_api/
3) with config_template, modify what we need to change in
   /var/lib/config-data/ansible-generated/glance_api/
4) Bind mount /var/lib/config-data/ansible-generated/glance_api/
5) Update glance_api kolla config command to load the new ansible
   generated config files

Puppet still runs on the host so it's possible to run ExtraConfig with
Puppet Hieradata for backward compatibility.

Note: ::glance::api isn't included anymore:
Ie955632b0597f0fd4116662fde69d46dc04813cf
So ExtraConfig calling hiera in glance::api won't work, since the class
isn't called. It also needs to be figured out.
For example, this part isn't working anymore:
https://review.opendev.org/#/c/660791/67/environments/undercloud.yaml
memcached_servers won't be configured anymore.

TODO:
- Figure out how to now use privileged containers to read the config
- Use tripleo-config role from tripleo-ansible instead of
  config_template action plugin.
- Align the config results with previous results to have parity.
- This is a prototype, so we need to simplify what I wrote.

blueprint remove-puppet

Depends-On: Ie955632b0597f0fd4116662fde69d46dc04813cf
Change-Id: Ica28976a376793df5fc273036431a1771344ff82
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/673190/13 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,1cf2ff3989879c39d4698868a83e905a7a01a9cd,bp/remove-puppet," command: /usr/bin/glance-api --config-file /usr/share/glance/glance-api-dist.conf --config-file /etc/glance/glance-api.conf --config-file /etc/glance/glance-api-ansible.conf --config-file /etc/glance/glance-image-import.conf map_merge: - {get_attr: [GlanceLogging, docker_config, step_2]} - glance_api_config_ansible: image: &glance_api_image {get_param: ContainerGlanceApiImage} net: none privileged: false # might need to change to glance user: root volumes: &glance_volumes list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/glance_api.json:/var/lib/kolla/config_files/config.json # we'll need to create /var/lib/config-data/ansible-generated, probably with host_prep_tasks - /var/lib/config-data/puppet-generated/glance_api/:/var/lib/kolla/config_files/src:ro environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS # this is where ansible could be run to generate a config file command: ['/bin/bash', '-c', 'touch /var/lib/kolla/config_files/src/etc/glance/glance-api-ansible.conf']"," command: /usr/bin/glance-api --config-file /usr/share/glance/glance-api-dist.conf --config-file /etc/glance/glance-api.conf --config-file /etc/glance/glance-image-import.conf get_attr: [GlanceLogging, docker_config, step_2]",20,2
openstack%2Ftripleo-heat-templates~master~I60bd4ea55ad8fe0a4543a791b878d347bd678835,openstack/tripleo-heat-templates,master,I60bd4ea55ad8fe0a4543a791b878d347bd678835,WIP - glance deployed by ansible - dot not review yet,ABANDONED,2019-08-26 00:56:07.000000000,2020-02-24 19:50:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-26 00:56:07.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/310d0797df39a954feafb7c1b1c0094ebd5eb6c4', 'message': 'WIP - glance deployed by ansible - dot not review yet\n\nChange-Id: I60bd4ea55ad8fe0a4543a791b878d347bd678835\n'}]",0,678441,310d0797df39a954feafb7c1b1c0094ebd5eb6c4,4,2,1,3153,,,0,"WIP - glance deployed by ansible - dot not review yet

Change-Id: I60bd4ea55ad8fe0a4543a791b878d347bd678835
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/678441/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,310d0797df39a954feafb7c1b1c0094ebd5eb6c4,glance/ansible," # Directory used to generate the configuration files with Ansible # This directory is also bind mounted when we copy the original # config from the container - name: ensure /var/lib/config-data/ansible-generated/glance_api exists file: path: /var/lib/config-data/ansible-generated/glance_api state: directory setype: svirt_sandbox_file_t recurse: yes - name: Write Glance API configuration with Ansible # we'll use a role in tripleo-ansible later config_template: src: ""/var/lib/config-data/ansible-generated/glance_api/glance-api-original.conf"" dest: ""/var/lib/config-data/ansible-generated/glance_api/glance-api-ansible.conf"" owner: root group: root mode: 0644 config_overrides: DEFAULT: map_merge: - if: - glance_cache_enabled - image_cache_dir: {get_param: GlanceImageCacheDir} image_cache_max_size: {get_param: GlanceImageCacheMaxSize} image_cache_stall_time: {get_param: GlanceImageCacheStallTime} - {} - show_image_direct_url: true bind_host: if: - use_tls_proxy - ""%{hiera('localhost_address')}"" - str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, GlanceApiNetwork]} bind_port: {get_param: [EndpointMap, GlanceInternal, port]} enable_v1_api: false enable_v2_api: true log_dir: /var/log/glance log_file: /var/log/glance/api.log debug: if: - service_debug_unset - {get_param: Debug } - {get_param: GlanceDebug } show_multiple_locations: {if: [glance_multiple_locations, true, false]} image_member_quota: {get_param: GlanceImageMemberQuota} enabled_import_methods: str_replace: template: ""[METHODS]"" params: METHODS: list_join: - ',' - {get_param: GlanceEnabledImportMethods} node_staging_uri: {get_param: GlanceNodeStagingUri} workers: if: - glance_workers_unset - '' - {get_param: GlanceWorkers} oslo_middleware: enable_proxy_headers_parsing: true database: connection: make_url: scheme: {get_param: [EndpointMap, MysqlInternal, protocol]} username: glance password: {get_param: GlancePassword} host: {get_param: [EndpointMap, MysqlInternal, host]} path: /glance query: read_default_file: /etc/my.cnf.d/tripleo.cnf read_default_group: tripleo keystone_authtoken: www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } username: glance password: {get_param: GlancePassword} auth_type: password project_name: 'service' user_domain_name: 'Default' project_domain_name: 'Default' region_name: {get_param: KeystoneRegion} paste_deploy: flavor: if: - glance_cache_enabled - 'keystone+cachemanagement' - 'keystone' glance_store: map_merge: - os_region_name: {get_param: KeystoneRegion} default_store: {get_param: GlanceBackend} stores: str_replace: template: ""http,BACKEND"" params: BACKEND: {get_param: GlanceBackend } - if: - rbd_backend_enabled - rbd_store_ceph_conf: list_join: - '' - - '/etc/ceph/' - {get_param: CephClusterName} - '.conf' rbd_store_pool: {get_param: GlanceRbdPoolName} rbd_store_user: {get_param: CephClientUserName} - {} - if: - swift_backend_enabled - default_swift_reference: ref1 swift_store_config_file: /etc/glance/glance-swift.conf swift_store_endpoint_type: internalURL swift_store_create_container_on_put: true - {} - if: - file_backend_enabled - filesystem_store_datadir: /var/lib/glance/images/ - {} - if: - cinder_backend_enabled - cinder_store_auth_address: {get_param: [EndpointMap, KeystoneV3Internal, uri]} cinder_store_project_name: 'service' cinder_store_user_name: 'glance' cinder_store_password: {get_param: GlancePassword} - {} - if: - glance_netapp_nfs_enabled - filesystem_store_metadata_file: '/etc/glance/glance-metadata-file.json' filesystem_store_file_perm: '0644' - {} config_type: ini remote_src: false - name: Write Glance Image Import configuration with Ansible when: step|int == 3 # we'll use a role in tripleo-ansible later config_template: src: ""/var/lib/config-data/ansible-generated/glance_api/glance-image-import-original.conf"" dest: ""/var/lib/config-data/ansible-generated/glance_api/glance-image-import-ansible.conf"" owner: root group: root mode: 0644 config_overrides: image_import_opts: image_import_plugins: if: - enable_image_conversion - list_concat_unique: - {get_param: GlanceImageImportPlugins} - ['image_conversion'] - {get_param: GlanceImageImportPlugins} image_conversion: output_format: {get_param: GlanceImageConversionOutputFormat} inject_metadata_properties: inject: {get_param: GlanceInjectMetadataProperties} ignore_user_roles: {get_param: GlanceIgnoreUserRoles} config_type: ini remote_src: false - name: Write Glance Swift configuration with Ansible vars: swift_backend_enabled: if: - swift_backend_enabled - true - false when: - step|int == 3 - swift_backend_enabled|bool # we'll use a role in tripleo-ansible later config_template: src: ""/var/lib/config-data/ansible-generated/glance_api/glance-swift-original.conf"" dest: ""/var/lib/config-data/ansible-generated/glance_api/glance-swift-ansible.conf"" owner: root group: root mode: 0644 config_overrides: glance_swift_config: ref1: auth_address: {get_param: [EndpointMap, KeystoneV3Internal, uri] } auth_version: 3 user: service:glance key: {get_param: GlancePassword} user_domain_id: default project_domain_id: default config_type: ini remote_src: false",,197,0
openstack%2Ftripleo-heat-templates~master~I393df79922627767319a70fba0793a3c92f7fa52,openstack/tripleo-heat-templates,master,I393df79922627767319a70fba0793a3c92f7fa52,keystone: transform keystone_refresh into ansible,ABANDONED,2019-08-26 01:46:13.000000000,2020-02-24 19:49:30.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-26 01:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/192a2c3c08a7a204345cdcdefd27df36a06e0070', 'message': 'keystone: transform keystone_refresh into ansible\n\nConvert a Kolla container exec into an Ansible task, that will only run\nwhen LDAP is actually configured. Otherwise there is no need to restart\nKeystone.\n\nChange-Id: I393df79922627767319a70fba0793a3c92f7fa52\n'}, {'number': 2, 'created': '2019-08-26 03:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/339806c1e84ee578ff29ebf65a3665eeb09f133f', 'message': 'keystone: transform keystone_refresh into ansible\n\nConvert the keystone_refresh (restart keystone) from a kolla/paunch\ncontainer into an Ansible task at step 4.\n\nChange-Id: I393df79922627767319a70fba0793a3c92f7fa52\n'}, {'number': 3, 'created': '2019-08-26 04:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c1402f2a8b59000a1ccc4dbd27675f914010e20', 'message': 'keystone: transform keystone_refresh into ansible\n\nConvert the keystone_refresh (restart keystone) from a kolla/paunch\ncontainer into an Ansible task at step 4.\n\nChange-Id: I393df79922627767319a70fba0793a3c92f7fa52\n'}, {'number': 4, 'created': '2019-08-27 17:34:15.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce25357c912ef93ab8e67bdd125b0ae1991375d5', 'message': 'keystone: transform keystone_refresh into ansible\n\nConvert the keystone_refresh (restart keystone) from a kolla/paunch\ncontainer into an Ansible task at step 4.\n\nChange-Id: I393df79922627767319a70fba0793a3c92f7fa52\n'}]",4,678443,ce25357c912ef93ab8e67bdd125b0ae1991375d5,23,6,4,3153,,,0,"keystone: transform keystone_refresh into ansible

Convert the keystone_refresh (restart keystone) from a kolla/paunch
container into an Ansible task at step 4.

Change-Id: I393df79922627767319a70fba0793a3c92f7fa52
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/678443/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,192a2c3c08a7a204345cdcdefd27df36a06e0070,keystone," ContainerCli: type: string default: 'podman' description: CLI tool used to manage containers. constraints: - allowed_values: ['docker', 'podman'] docker_enabled: {equals: [{get_param: ContainerCli}, 'docker']} deploy_steps_tasks: # There are cases where we need to refresh keystone after the resource provisioning, # such as the case of using LDAP backends for domains. So we trigger a graceful # restart [1], which shouldn't cause service disruption, but will reload new # configurations for keystone. # [1] https://httpd.apache.org/docs/2.4/stopping.html#graceful - when: step|int == 4 name: restart Keystone after the resource provisioning if LDAP is enabled block: - name: Restart tripleo_keystone service service: name: tripleo_keystone state: restarted when: - keystone_ldap_domain_enabled|bool - not docker_enabled|bool - name: Restart keystone docker container command: docker restart keystone when: - keystone_ldap_domain_enabled|bool - docker_enabled|bool"," step_4: # There are cases where we need to refresh keystone after the resource provisioning, # such as the case of using LDAP backends for domains. So we trigger a graceful # restart [1], which shouldn't cause service disruption, but will reload new # configurations for keystone. # [1] https://httpd.apache.org/docs/2.4/stopping.html#graceful keystone_refresh: start_order: 1 action: exec user: root command: [ 'keystone', 'pkill', '--signal', 'USR1', 'httpd' ]",28,12
openstack%2Ftripleo-heat-templates~master~I53eaee0d809ab165b4b13481073f58683687a0e9,openstack/tripleo-heat-templates,master,I53eaee0d809ab165b4b13481073f58683687a0e9,WIP - run mistral db populate with an exec instead of run,ABANDONED,2019-11-27 14:43:10.000000000,2020-02-24 19:49:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 14:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e75370e77a1955befe73abd2964474606be4c70', 'message': 'WIP - run mistral db populat with an exec instead of run\n\nThis is a WIP attempt to make the deployment faster.\n\nChange-Id: I53eaee0d809ab165b4b13481073f58683687a0e9\n'}, {'number': 2, 'created': '2019-11-27 14:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69201d3df255b67ac86659a75a9afffb703a89ae', 'message': 'WIP - run mistral db populate with an exec instead of run\n\nThis is a WIP attempt to make the deployment faster.\n\nChange-Id: I53eaee0d809ab165b4b13481073f58683687a0e9\n'}, {'number': 3, 'created': '2019-11-29 14:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19a50bdf58e4dfd1db44735505c5279e51f5a736', 'message': 'WIP - run mistral db populate with an exec instead of run\n\nThis is a WIP attempt to make the deployment faster.\n\nDepends-On: If728788293dd64622cf95da840b60e271197e9a0\nChange-Id: I53eaee0d809ab165b4b13481073f58683687a0e9\n'}, {'number': 4, 'created': '2019-11-29 18:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8be6952c2960cd01008ff1fc08c3cd33fb7631e4', 'message': 'WIP - run mistral db populate with an exec instead of run\n\nThis is a WIP attempt to make the deployment faster.\n\nDepends-On: If728788293dd64622cf95da840b60e271197e9a0\nChange-Id: I53eaee0d809ab165b4b13481073f58683687a0e9\n'}, {'number': 5, 'created': '2019-11-30 20:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80513a274768ec6bda2dab1631e114b7a7ebb756', 'message': 'WIP - run mistral db populate with an exec instead of run\n\nThis is a WIP attempt to make the deployment faster.\n\nDepends-On: If728788293dd64622cf95da840b60e271197e9a0\nChange-Id: I53eaee0d809ab165b4b13481073f58683687a0e9\n'}, {'number': 6, 'created': '2019-11-30 20:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52f49038070af7b426ee5fef6e3726a96c43fc96', 'message': 'WIP - run mistral db populate with an exec instead of run\n\nThis is a WIP attempt to make the deployment faster.\n\nDepends-On: If728788293dd64622cf95da840b60e271197e9a0\nChange-Id: I53eaee0d809ab165b4b13481073f58683687a0e9\n'}, {'number': 7, 'created': '2019-12-02 16:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6cbea441e26df6074ccfbc55a231ebeba1d7817', 'message': 'WIP - run mistral db populate with an exec instead of run\n\nThis is a WIP attempt to make the deployment faster.\n\nDepends-On: If728788293dd64622cf95da840b60e271197e9a0\nChange-Id: I53eaee0d809ab165b4b13481073f58683687a0e9\n'}, {'number': 8, 'created': '2019-12-02 16:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/febb113d9c50aec21da781aa6725ac2219bef819', 'message': 'WIP - run mistral db populate with an exec instead of run\n\nThis is a WIP attempt to make the deployment faster.\n\nChange-Id: I53eaee0d809ab165b4b13481073f58683687a0e9\n'}, {'number': 9, 'created': '2019-12-04 03:53:41.000000000', 'files': ['deployment/mistral/mistral-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df7406c0840d9c60c6bbbd58e86c8da9f41e3396', 'message': 'WIP - run mistral db populate with an exec instead of run\n\nThis is a WIP attempt to make the deployment faster.\n\nChange-Id: I53eaee0d809ab165b4b13481073f58683687a0e9\n'}]",0,696315,df7406c0840d9c60c6bbbd58e86c8da9f41e3396,22,2,9,3153,,,0,"WIP - run mistral db populate with an exec instead of run

This is a WIP attempt to make the deployment faster.

Change-Id: I53eaee0d809ab165b4b13481073f58683687a0e9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/696315/8 && git format-patch -1 --stdout FETCH_HEAD,['deployment/mistral/mistral-api-container-puppet.yaml'],1,5e75370e77a1955befe73abd2964474606be4c70,exec," user: mistral command: [ 'mistral_api', '/usr/bin/bootstrap_host_exec', 'mistral_api', 'mistral-db-manage', '--config-file', '/etc/mistral/mistral.conf', 'populate' ]"," image: *mistral_api_image net: host privileged: false detach: false user: root volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/mistral/etc/mistral/:/etc/mistral/:ro - /var/log/containers/mistral:/var/log/mistral:z command: ""/usr/bin/bootstrap_host_exec mistral_api su mistral -s /bin/bash -c 'mistral-db-manage --config-file /etc/mistral/mistral.conf populate'""",2,12
openstack%2Ftripleo-heat-templates~master~I6c38b677496a1d2aeb37bab25f67350f3f9b7c56,openstack/tripleo-heat-templates,master,I6c38b677496a1d2aeb37bab25f67350f3f9b7c56,(PoC) Example of db_sync container for multiple releases,ABANDONED,2020-02-11 19:01:25.000000000,2020-02-24 19:49:06.000000000,,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-11 19:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f2d808e527821fc873f15dee613516eefa483ce', 'message': ""(PoC) Example of db_sync container for multiple releases\n\nThis is a PoC of one could create multiple containers and just modify a\nfew attributes, like the name, the image and the start order.\n\nIt will only create the Rocky/Stein containers if the image params are\nset; so it doesn't add time to the regular deployment.\n\nIt avoids the duplication of container configs, and just repeat the same\nconfig with a different name, image and start order, using Heat.\n\nChange-Id: I6c38b677496a1d2aeb37bab25f67350f3f9b7c56\n""}, {'number': 2, 'created': '2020-02-11 19:02:33.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1e54926df58fb17fc6d7603cf6c5474425a043c', 'message': ""(PoC) Example of db_sync container for multiple releases\n\nThis is a PoC of one could create multiple containers and just modify a\nfew attributes, like the name, the image and the start order.\n\nIt will only create the Rocky/Stein containers if the image params are\nset; so it doesn't add time to the regular deployment.\n\nIt avoids the duplication of container configs, and just repeat the same\nconfig with a different name, image and start order, using Heat.\n\nChange-Id: I6c38b677496a1d2aeb37bab25f67350f3f9b7c56\n""}]",0,707236,d1e54926df58fb17fc6d7603cf6c5474425a043c,7,7,2,3153,,,0,"(PoC) Example of db_sync container for multiple releases

This is a PoC of one could create multiple containers and just modify a
few attributes, like the name, the image and the start order.

It will only create the Rocky/Stein containers if the image params are
set; so it doesn't add time to the regular deployment.

It avoids the duplication of container configs, and just repeat the same
config with a different name, image and start order, using Heat.

Change-Id: I6c38b677496a1d2aeb37bab25f67350f3f9b7c56
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/707236/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,2f2d808e527821fc873f15dee613516eefa483ce,ffu/dbsync," # This parameter is only useful for FFU between Queens and Train. ContainerGlanceApiImageRocky: description: Rocky image for Glance API type: string default: '' # This parameter is only useful for FFU between Queens and Train. ContainerGlanceApiImageStein: description: Stein image for Glance API type: string default: '' container_glance_image_rocky_unset: {equals : [{get_param: ContainerGlanceApiImageRocky}, '']} container_glance_image_stein_unset: {equals : [{get_param: ContainerGlanceApiImageStein}, '']} repeat: for_each: $NAME: list_concat: - if: - container_glance_image_rocky_unset - - glance_api_db_sync_rocky - if: - container_glance_image_stein_unset - - glance_api_db_sync_stein - - glance_api_db_sync $IMAGE: - if: - container_glance_image_rocky_unset - [] - - {get_param: ContainerGlanceApiImageRocky} - if: - container_glance_image_stein_unset - [] - - {get_param: ContainerGlanceApiImageStein} - - {get_param: ContainerGlanceApiImage} $START_ORDER: - if: - container_glance_image_rocky_unset - [] - - 0 - if: - container_glance_image_stein_unset - [] - - 1 - - - 2 template: $NAME: image: $IMAGE start_order: $START_ORDER net: host privileged: false detach: false user: root volumes: &glance_volumes list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [GlanceLogging, volumes]} - {get_param: GlanceApiOptVolumes} - - /var/lib/kolla/config_files/glance_api.json:/var/lib/kolla/config_files/config.json - /var/lib/config-data/puppet-generated/glance_api:/var/lib/kolla/config_files/src:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /var/lib/glance:/var/lib/glance:slave - if: - cinder_backend_enabled - - /dev:/dev - /etc/iscsi:/etc/iscsi - /var/lib/iscsi:/var/lib/iscsi:z - [] - if: - cinder_multipathd_enabled - - /etc/multipath:/etc/multipath:z - /etc/multipath.conf:/etc/multipath.conf:ro - [] environment: KOLLA_BOOTSTRAP: true KOLLA_CONFIG_STRATEGY: COPY_ALWAYS TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} command: ""/usr/bin/bootstrap_host_exec glance_api su glance -s /bin/bash -c '/usr/local/bin/kolla_start'"" image: &glance_api_image {get_param: ContainerGlanceApiImage}"," glance_api_db_sync: image: &glance_api_image {get_param: ContainerGlanceApiImage} net: host privileged: false detach: false user: root volumes: &glance_volumes list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [GlanceLogging, volumes]} - {get_param: GlanceApiOptVolumes} - - /var/lib/kolla/config_files/glance_api.json:/var/lib/kolla/config_files/config.json - /var/lib/config-data/puppet-generated/glance_api:/var/lib/kolla/config_files/src:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /var/lib/glance:/var/lib/glance:slave - if: - cinder_backend_enabled - - /dev:/dev - /etc/iscsi:/etc/iscsi - /var/lib/iscsi:/var/lib/iscsi:z - if: - cinder_multipathd_enabled - - /etc/multipath:/etc/multipath:z - /etc/multipath.conf:/etc/multipath.conf:ro environment: KOLLA_BOOTSTRAP: true KOLLA_CONFIG_STRATEGY: COPY_ALWAYS TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} command: ""/usr/bin/bootstrap_host_exec glance_api su glance -s /bin/bash -c '/usr/local/bin/kolla_start'"" image: *glance_api_image",80,33
openstack%2Fnova~stable%2Fqueens~I6c7a67b23ec49aa207c33c38580acd834bb27e3c,openstack/nova,stable/queens,I6c7a67b23ec49aa207c33c38580acd834bb27e3c,Fix os-simple-tenant-usage result order,MERGED,2019-01-22 17:22:57.000000000,2020-02-24 19:48:39.000000000,2019-02-22 03:53:42.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8543}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-22 17:22:57.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/functional/api_sample_tests/api_samples/os-simple-tenant-usage/v2.40/simple-tenant-usage-get-all.json.tpl', 'nova/tests/functional/api_samples_test_base.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/unit/api_samples_test_base/test_compare_result.py', 'releasenotes/notes/fix-simple-tenant-usage-pagination-393ed6e7d0e31594.yaml', 'doc/api_samples/os-simple-tenant-usage/v2.40/simple-tenant-usage-get-all.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/70b4cdce68f9b1543c032aa700e4f0f4289d90a6', 'message': ""Fix os-simple-tenant-usage result order\n\nnova usage-list can return incorrect results, having resources counted\ntwice. This only occurs when using the 2.40 microversion or later.\n\nThis microversion introduced pagination, which doesn't work properly.\nNova API will sort the instances using the tenant id and instance uuid,\nbut 'os-simple-tenant-usage' will not preserve the order when returning\nthe results.\n\nFor this reason, subsequent API calls made by the client will use the\nwrong marker (which is supposed to be the last instance id), ending\nup counting the same instances twice.\n\nChange-Id: I6c7a67b23ec49aa207c33c38580acd834bb27e3c\nCloses-Bug: #1796689\n(cherry picked from commit afc3a16ce3364c233e6e1cffc9f38987d1d65318)\n(cherry picked from commit 133b194ba079abe84900d09a5c3c74ef9f464bab)\n""}]",0,632516,70b4cdce68f9b1543c032aa700e4f0f4289d90a6,14,10,1,17685,,,0,"Fix os-simple-tenant-usage result order

nova usage-list can return incorrect results, having resources counted
twice. This only occurs when using the 2.40 microversion or later.

This microversion introduced pagination, which doesn't work properly.
Nova API will sort the instances using the tenant id and instance uuid,
but 'os-simple-tenant-usage' will not preserve the order when returning
the results.

For this reason, subsequent API calls made by the client will use the
wrong marker (which is supposed to be the last instance id), ending
up counting the same instances twice.

Change-Id: I6c7a67b23ec49aa207c33c38580acd834bb27e3c
Closes-Bug: #1796689
(cherry picked from commit afc3a16ce3364c233e6e1cffc9f38987d1d65318)
(cherry picked from commit 133b194ba079abe84900d09a5c3c74ef9f464bab)
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/632516/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/functional/api_sample_tests/api_samples/os-simple-tenant-usage/v2.40/simple-tenant-usage-get-all.json.tpl', 'nova/tests/functional/api_samples_test_base.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/unit/api_samples_test_base/test_compare_result.py', 'releasenotes/notes/fix-simple-tenant-usage-pagination-393ed6e7d0e31594.yaml', 'doc/api_samples/os-simple-tenant-usage/v2.40/simple-tenant-usage-get-all.json']",8,70b4cdce68f9b1543c032aa700e4f0f4289d90a6,bug/1796689,"{ ""tenant_usages"": [ { ""server_usages"": [ { ""ended_at"": null, ""flavor"": ""m1.tiny"", ""hours"": 1.0, ""instance_id"": ""1f1deceb-17b5-4c04-84c7-e0d4499c8f06"", ""local_gb"": 1, ""memory_mb"": 512, ""name"": ""instance-3"", ""started_at"": ""2018-10-09T11:29:04.166194"", ""state"": ""active"", ""tenant_id"": ""0000000e737461636b20342065000000"", ""uptime"": 3600, ""vcpus"": 1 } ], ""start"": ""2018-10-09T11:29:04.166194"", ""stop"": ""2018-10-09T12:29:04.166194"", ""tenant_id"": ""0000000e737461636b20342065000000"", ""total_hours"": 1.0, ""total_local_gb_usage"": 1.0, ""total_memory_mb_usage"": 512.0, ""total_vcpus_usage"": 1.0 }, { ""server_usages"": [ { ""ended_at"": null, ""flavor"": ""m1.tiny"", ""hours"": 1.0, ""instance_id"": ""1f1deceb-17b5-4c04-84c7-e0d4499c8f00"", ""local_gb"": 1, ""memory_mb"": 512, ""name"": ""instance-1"", ""started_at"": ""2018-10-09T11:29:04.166194"", ""state"": ""active"", ""tenant_id"": ""6f70656e737461636b20342065766572"", ""uptime"": 3600, ""vcpus"": 1 }, { ""ended_at"": null, ""flavor"": ""m1.tiny"", ""hours"": 1.0, ""instance_id"": ""1f1deceb-17b5-4c04-84c7-e0d4499c8f03"", ""local_gb"": 1, ""memory_mb"": 512, ""name"": ""instance-2"", ""started_at"": ""2018-10-09T11:29:04.166194"", ""state"": ""active"", ""tenant_id"": ""6f70656e737461636b20342065766572"", ""uptime"": 3600, ""vcpus"": 1 } ], ""start"": ""2018-10-09T11:29:04.166194"", ""stop"": ""2018-10-09T12:29:04.166194"", ""tenant_id"": ""6f70656e737461636b20342065766572"", ""total_hours"": 2.0, ""total_local_gb_usage"": 2.0, ""total_memory_mb_usage"": 1024.0, ""total_vcpus_usage"": 2.0 } ] }",,204,16
openstack%2Fnova~master~Idf84ccff254d26fa13473fe9741ddac21cbcf321,openstack/nova,master,Idf84ccff254d26fa13473fe9741ddac21cbcf321,Reject boot request for unsupported images,MERGED,2020-02-13 23:08:43.000000000,2020-02-24 19:44:10.000000000,2020-02-19 04:15:19.000000000,"[{'_account_id': 5314}, {'_account_id': 5754}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-13 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/892cdfc4a217b731216d3628ee6cfbb68979e591', 'message': ""Reject boot request for unsupported images\n\nNova has never supported direct booting of an image uploaded to Glance\nvia the Cinder upload-volume-to-image process, but instead of rejecting\nthe request, an 'active' but unusable instance was created.  This patch\nallows Nova to use image metadata to detect such an image and reject the\nboot request.\n\nAdditionally, this patch introduces absolutely non-inheritable image\nproperties to address a situation that should no longer occur after the\nabove fix, but which could be re-introduced by combination of\nmisconfiguration of the non_inheritable_image_properties option and\nuser snapshots of pre-Ussuri instances.  The image properties associated\nwith cinder encryption keys and image signature validation are used\nto populate this list of absolutely non-inheritable image properties.\n\nChange-Id: Idf84ccff254d26fa13473fe9741ddac21cbcf321\nCloses-bug: #1852106\n""}, {'number': 2, 'created': '2020-02-17 14:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e4eb5a2268aa58412a962b96163f447b3236130', 'message': ""Reject boot request for unsupported images\n\nNova has never supported direct booting of an image of an encrypted\nvolume uploaded to Glance via the Cinder upload-volume-to-image\nprocess, but instead of rejecting such a request, an 'active' but\nunusable instance is created.  This patch allows Nova to use image\nmetadata to detect such an image and reject the boot request.\n\nChange-Id: Idf84ccff254d26fa13473fe9741ddac21cbcf321\nRelated-bug: #1852106\nCloses-bug: #1863611\n""}, {'number': 3, 'created': '2020-02-17 15:21:10.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'releasenotes/notes/cinder-detect-nonbootable-image-6fad7f865b45f879.yaml', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/963fd8c0f956bdf5c6c8987aa5d9f836386fd5ed', 'message': ""Reject boot request for unsupported images\n\nNova has never supported direct booting of an image of an encrypted\nvolume uploaded to Glance via the Cinder upload-volume-to-image\nprocess, but instead of rejecting such a request, an 'active' but\nunusable instance is created.  This patch allows Nova to use image\nmetadata to detect such an image and reject the boot request.\n\nChange-Id: Idf84ccff254d26fa13473fe9741ddac21cbcf321\nRelated-bug: #1852106\nCloses-bug: #1863611\n""}]",1,707738,963fd8c0f956bdf5c6c8987aa5d9f836386fd5ed,55,12,3,5314,,,0,"Reject boot request for unsupported images

Nova has never supported direct booting of an image of an encrypted
volume uploaded to Glance via the Cinder upload-volume-to-image
process, but instead of rejecting such a request, an 'active' but
unusable instance is created.  This patch allows Nova to use image
metadata to detect such an image and reject the boot request.

Change-Id: Idf84ccff254d26fa13473fe9741ddac21cbcf321
Related-bug: #1852106
Closes-bug: #1863611
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/707738/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_compute_utils.py', 'releasenotes/notes/cinder-detect-nonbootable-image-6fad7f865b45f879.yaml', 'nova/api/openstack/compute/servers.py', 'nova/compute/utils.py']",7,892cdfc4a217b731216d3628ee6cfbb68979e591,bug/1852106,"# These properties are specific to a particular image by design. It # does not make sense for them to be inherited by server snapshots. # This list is distinct from the configuration option of the same # (lowercase) name. NON_INHERITABLE_IMAGE_PROPERTIES = frozenset([ 'cinder_encryption_key_id', 'cinder_encryption_key_deletion_policy', 'img_signature', 'img_signature_hash_method', 'img_signature_key_type', 'img_signature_certificate_uuid']) keys_to_pop = set(CONF.non_inheritable_image_properties).union( NON_INHERITABLE_IMAGE_PROPERTIES) for key in keys_to_pop:", for key in CONF.non_inheritable_image_properties:,154,7
openstack%2Ftripleo-heat-templates~master~I25b9366f8a097bda89734cc27fe83b94de24507e,openstack/tripleo-heat-templates,master,I25b9366f8a097bda89734cc27fe83b94de24507e,Fix listen_on_master_ip_only,MERGED,2020-02-24 04:10:10.000000000,2020-02-24 19:42:55.000000000,2020-02-24 19:42:55.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 11082}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-24 04:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40314eabeeece9cf8b84b630cc75443e8255dd96', 'message': ""Fix listen_on_master_ip_only\n\nhttps://review.opendev.org/#/c/668902/ had\nwrongly set the value of listen_on_master_ip_only,\nit should to be 'no' when external lb VIP is used else\n'yes'.\n\nCloses-Bug: #1864409\nChange-Id: I25b9366f8a097bda89734cc27fe83b94de24507e\n""}, {'number': 2, 'created': '2020-02-24 08:54:40.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0e37c4a34ae01837a8bd83a6eb270d0a424b3a3', 'message': ""Fix listen_on_master_ip_only\n\nhttps://review.opendev.org/#/c/668902/ had\nwrongly set the value of listen_on_master_ip_only,\nit should to be 'no' when external lb VIP is used else\n'yes'.\n\nDepends-On: https://review.opendev.org/#/c/709389/\nCloses-Bug: #1864409\nChange-Id: I25b9366f8a097bda89734cc27fe83b94de24507e\n""}]",0,709404,c0e37c4a34ae01837a8bd83a6eb270d0a424b3a3,22,9,2,13861,,,0,"Fix listen_on_master_ip_only

https://review.opendev.org/#/c/668902/ had
wrongly set the value of listen_on_master_ip_only,
it should to be 'no' when external lb VIP is used else
'yes'.

Depends-On: https://review.opendev.org/#/c/709389/
Closes-Bug: #1864409
Change-Id: I25b9366f8a097bda89734cc27fe83b94de24507e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/709404/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,40314eabeeece9cf8b84b630cc75443e8255dd96,bug/1864409, - 'yes', - 'yes',1,1
openstack%2Ftripleo-heat-templates~master~I140aa8e44134130d03f6670a9314783288396dde,openstack/tripleo-heat-templates,master,I140aa8e44134130d03f6670a9314783288396dde,Fix krb-service-principals with service_net_map_replace,MERGED,2020-02-10 18:43:17.000000000,2020-02-24 19:41:32.000000000,2020-02-15 02:52:27.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-10 18:43:17.000000000', 'files': ['releasenotes/notes/fix-krb-service-principals-with-service-net-map-replace-463dd1296766cc47.yaml', 'extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0af021bc5f6bffc595d04529b3e87be4af58249d', 'message': 'Fix krb-service-principals with service_net_map_replace\n\nThe CloudNameStorageManagement property was used for almost all\nnetworks when service_net_map_replace is defined. This should\nnot be hardcoded to StorageManagement, it needs to be replaced\nby {{network.name}}.\n\nCloses-Bug: #1862679\nChange-Id: I140aa8e44134130d03f6670a9314783288396dde\n'}]",0,706953,0af021bc5f6bffc595d04529b3e87be4af58249d,24,7,1,24245,,,0,"Fix krb-service-principals with service_net_map_replace

The CloudNameStorageManagement property was used for almost all
networks when service_net_map_replace is defined. This should
not be hardcoded to StorageManagement, it needs to be replaced
by {{network.name}}.

Closes-Bug: #1862679
Change-Id: I140aa8e44134130d03f6670a9314783288396dde
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/706953/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-krb-service-principals-with-service-net-map-replace-463dd1296766cc47.yaml', 'extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml']",2,0af021bc5f6bffc595d04529b3e87be4af58249d,bug/1862679, {{network.service_net_map_replace}}: {get_param: CloudName{{network.name}}}, {{network.service_net_map_replace}}: {get_param: CloudNameStorageManagement},7,1
openstack%2Fnova~master~I4332b9c343b6c2b50226baa8f78396c2012dabd1,openstack/nova,master,I4332b9c343b6c2b50226baa8f78396c2012dabd1,Absolutely-non-inheritable image properties,MERGED,2020-02-17 13:07:17.000000000,2020-02-24 19:37:35.000000000,2020-02-19 13:58:29.000000000,"[{'_account_id': 5314}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-17 13:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b58424b9bc803cd5afb3c83338bdf32f1bf38a3a', 'message': ""Reject boot request for unsupported images\n\nNova has never supported direct booting of an image uploaded to Glance\nvia the Cinder upload-volume-to-image process, but instead of rejecting\nthe request, an 'active' but unusable instance was created.  This patch\nallows Nova to use image metadata to detect such an image and reject the\nboot request.\n\nAdditionally, this patch introduces absolutely non-inheritable image\nproperties to address a situation that should no longer occur after the\nabove fix, but which could be re-introduced by combination of\nmisconfiguration of the non_inheritable_image_properties option and\nuser snapshots of pre-Ussuri instances.  The image properties associated\nwith cinder encryption keys and image signature validation are used\nto populate this list of absolutely non-inheritable image properties.\n\nChange-Id: I4332b9c343b6c2b50226baa8f78396c2012dabd1\nCloses-bug: #1852106\n""}, {'number': 2, 'created': '2020-02-17 14:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b405a78fb40b858fa025ff0f201736c98cbbbcb', 'message': 'Absolutely-non-inheritable image properties\n\nInheritance of image properties from the image an instance was booted\nfrom to an image created from that instance is governed by the\nnon_inheritable_image_properties configuration option.  However, there\nare some image properties (for example, those used for image signature\nvalidation or to reference a cinder encryption key id) which it makes\nno sense to inherit under any circumstances.  Additionally,\nmisconfiguration of the non-inheritable properties can lead to data\nloss under the circumstances described in Bug #1852106.  So it would\nbe better if these properties were not subject to configuration.\n\nThe initial set of absolutely non-inheritable image properties\nconsists of those associated with cinder encryption keys and image\nsignature validation.\n\nChange-Id: I4332b9c343b6c2b50226baa8f78396c2012dabd1\nCloses-bug: #1852106\n'}, {'number': 3, 'created': '2020-02-17 15:14:09.000000000', 'files': ['nova/conf/compute.py', 'releasenotes/notes/absolutely-non-inheritable-image-properties-85f7f304fdc20b61.yaml', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc290840127c3179227a662584404f9c0178d588', 'message': 'Absolutely-non-inheritable image properties\n\nInheritance of image properties from the image an instance was booted\nfrom to an image created from that instance is governed by the\nnon_inheritable_image_properties configuration option.  However, there\nare some image properties (for example, those used for image signature\nvalidation or to reference a cinder encryption key id) which it makes\nno sense to inherit under any circumstances.  Additionally,\nmisconfiguration of the non-inheritable properties can lead to data\nloss under the circumstances described in Bug #1852106.  So it would\nbe better if these properties were not subject to configuration.\n\nThe initial set of absolutely non-inheritable image properties\nconsists of those associated with cinder encryption keys and image\nsignature validation.\n\nChange-Id: I4332b9c343b6c2b50226baa8f78396c2012dabd1\nCloses-bug: #1852106\n'}]",9,708126,bc290840127c3179227a662584404f9c0178d588,27,11,3,5314,,,0,"Absolutely-non-inheritable image properties

Inheritance of image properties from the image an instance was booted
from to an image created from that instance is governed by the
non_inheritable_image_properties configuration option.  However, there
are some image properties (for example, those used for image signature
validation or to reference a cinder encryption key id) which it makes
no sense to inherit under any circumstances.  Additionally,
misconfiguration of the non-inheritable properties can lead to data
loss under the circumstances described in Bug #1852106.  So it would
be better if these properties were not subject to configuration.

The initial set of absolutely non-inheritable image properties
consists of those associated with cinder encryption keys and image
signature validation.

Change-Id: I4332b9c343b6c2b50226baa8f78396c2012dabd1
Closes-bug: #1852106
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/708126/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_compute_utils.py', 'releasenotes/notes/cinder-detect-nonbootable-image-6fad7f865b45f879.yaml', 'nova/api/openstack/compute/servers.py', 'nova/compute/utils.py']",7,b58424b9bc803cd5afb3c83338bdf32f1bf38a3a,bug/1852106,"# These properties are specific to a particular image by design. It # does not make sense for them to be inherited by server snapshots. # This list is distinct from the configuration option of the same # (lowercase) name. NON_INHERITABLE_IMAGE_PROPERTIES = frozenset([ 'cinder_encryption_key_id', 'cinder_encryption_key_deletion_policy', 'img_signature', 'img_signature_hash_method', 'img_signature_key_type', 'img_signature_certificate_uuid']) keys_to_pop = set(CONF.non_inheritable_image_properties).union( NON_INHERITABLE_IMAGE_PROPERTIES) for key in keys_to_pop:", for key in CONF.non_inheritable_image_properties:,154,7
openstack%2Ftripleo-common~stable%2Ftrain~If13b6ca177d47a0af29ba5e5099e040eea62876c,openstack/tripleo-common,stable/train,If13b6ca177d47a0af29ba5e5099e040eea62876c,Make healthchecks more strict,MERGED,2020-02-18 06:05:53.000000000,2020-02-24 19:35:05.000000000,2020-02-24 19:33:13.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-02-18 06:05:53.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5a1f5dbdd18712183d44955e9125ff9a805ca97f', 'message': 'Make healthchecks more strict\n\nIt was discovered that healthchecks aren\'t really reliable because they\naren\'t strict enough.\n\nThe current patch adds the ""standard"" options in order to ensure we\nactually catch errors soon enough in order to return the actual state of\nthe checked element.\n\nIt also requires a small change for the healthcheck_port() function,\nsince the ""piping"" returned a 141 code instead of 0 due SIGPIPE being\nsent at some point[1].\n\n[1] https://stackoverflow.com/questions/19120263/why-exit-code-141-with-grep-q\n    http://www.tldp.org/LDP/lpg/node20.html\n\nChange-Id: If13b6ca177d47a0af29ba5e5099e040eea62876c\nCloses-Bug: #1860556\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1794044\n(cherry picked from commit 475368e9b7b6175f4f11d99bf7ce8f5bb89744e7)\n'}]",0,708304,5a1f5dbdd18712183d44955e9125ff9a805ca97f,15,7,1,28223,,,0,"Make healthchecks more strict

It was discovered that healthchecks aren't really reliable because they
aren't strict enough.

The current patch adds the ""standard"" options in order to ensure we
actually catch errors soon enough in order to return the actual state of
the checked element.

It also requires a small change for the healthcheck_port() function,
since the ""piping"" returned a 141 code instead of 0 due SIGPIPE being
sent at some point[1].

[1] https://stackoverflow.com/questions/19120263/why-exit-code-141-with-grep-q
    http://www.tldp.org/LDP/lpg/node20.html

Change-Id: If13b6ca177d47a0af29ba5e5099e040eea62876c
Closes-Bug: #1860556
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1794044
(cherry picked from commit 475368e9b7b6175f4f11d99bf7ce8f5bb89744e7)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/708304/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,5a1f5dbdd18712183d44955e9125ff9a805ca97f,healthchecks/strict-pipefail-stable/train,"set -euxo pipefail if [ $# == 0 ]; then echo 'healthcheck_curl: no parameter provided' return 1 fi # https://bugs.launchpad.net/tripleo/+bug/1860556 # do ot use ""-q"" option for grep, since it returns 141 for some reason with # set -o pipefail. # See https://stackoverflow.com/questions/19120263/why-exit-code-141-with-grep-q (ss -ntuap; sudo -u $puser ss -ntuap) | sort -u | grep -E "":($ports).*,pid=($pids),"">/dev/null if test -n ""${vhost_file}"" && test -r ""${vhost_file}"" ; then server_name=$(awk '/ServerName/ {print $2}' $vhost_file) ssl_enabled=$(awk '/SSLEngine/ {print $2}' $vhost_file) bind_port=$(grep -h ""<VirtualHost .*>"" $vhost_file | sed 's/<VirtualHost .*:\(.*\)>/\1/') wsgi_alias=$(awk '/WSGIScriptAlias/ {print $2}' $vhost_file) proto=http if [[ $ssl_enabled == ""on"" ]]; then proto=https fi if [[ $wsgi_alias != ""/"" ]]; then wsgi_alias=""${wsgi_alias}/"" fi echo ${proto}://${server_name}:${bind_port}${wsgi_alias} else exit 1"," (ss -ntuap; sudo -u $puser ss -ntuap) | sort -u | grep -qE "":($ports).*,pid=($pids),"" server_name=$(awk '/ServerName/ {print $2}' $vhost_file) ssl_enabled=$(awk '/SSLEngine/ {print $2}' $vhost_file) bind_port=$(grep -h ""<VirtualHost .*>"" $vhost_file | sed 's/<VirtualHost .*:\(.*\)>/\1/') wsgi_alias=$(awk '/WSGIScriptAlias/ {print $2}' $vhost_file) proto=http if [[ $ssl_enabled == ""on"" ]]; then proto=https if [[ $wsgi_alias != ""/"" ]]; then wsgi_alias=""${wsgi_alias}/"" fi echo ${proto}://${server_name}:${bind_port}${wsgi_alias}",25,12
openstack%2Ftripleo-heat-templates~master~Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b,openstack/tripleo-heat-templates,master,Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b,Disable Paunch by default Standalone/Overcloud,MERGED,2019-12-28 23:14:32.000000000,2020-02-24 19:33:16.000000000,2020-02-24 19:33:16.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-28 23:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5487b5388d9a6e275ecb9aedbb6cb3d901bde25d', 'message': 'WIP - Disable Paunch by default Standalone/Overcloud\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n'}, {'number': 2, 'created': '2019-12-30 15:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/828ba2419c7be4542ded3b2e3dd20f0c782ecf07', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 3, 'created': '2019-12-30 15:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abb5866317b2b8b4cf8e5d4043b8f935870a5f1e', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 4, 'created': '2019-12-30 15:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d1fd66084f2c9426c7bd4f34c1c15388dcdd2df', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 5, 'created': '2019-12-30 16:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0dc45d0e1109b46b91f4aeee0291b7cf277fd2d7', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 6, 'created': '2019-12-30 16:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52c4fb890c567a538cbd045ff0697786e6731ce1', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 7, 'created': '2020-01-06 22:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/379f50e96f087c1883987c3372d7891f5776442d', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 8, 'created': '2020-01-09 20:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72d5c49668ea435d912848f85a83788482486580', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 9, 'created': '2020-01-11 03:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2c97f3fa104690c923a601e31534daf92546c1f', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 10, 'created': '2020-01-14 17:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdbf332fc53366b086816c509ddafade9241c5b9', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 11, 'created': '2020-01-21 14:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/085ef38f9415d15d909d6c2adeec5c06b336b016', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 12, 'created': '2020-01-26 10:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bcfa8b011128b86a587511bb4c7bb169baf0df99', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 13, 'created': '2020-01-28 12:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd8374e965e91db54ac81b1dac8c707a1bbb1f34', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nIt also increases the concurrency which seems to be better supported by\nPodman now; it makes the deployments faster.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 14, 'created': '2020-01-28 18:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe049e86c7009d483777c21a2979f435b6dd6358', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nIt also increases the concurrency which seems to be better supported by\nPodman now; it makes the deployments faster.\n\nDepends-On: I313dc6233895f37fb7616aee730e5802c9aac3df\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 15, 'created': '2020-01-28 18:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffe9e5af153f9ba2a21eea10489e7a963b28b896', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nIt also increases the concurrency which seems to be better supported by\nPodman now; it makes the deployments faster.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 16, 'created': '2020-01-29 03:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4898be69103306e19b24823c1c396a950a4ec7fa', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nIt also increases the concurrency which seems to be better supported by\nPodman now; it makes the deployments faster.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 17, 'created': '2020-01-29 23:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33855e12fc787fa54886833b5f82f436727e424e', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nIt also increases the concurrency which seems to be better supported by\nPodman now; it makes the deployments faster.\n\nDepends-On: I8822b3515046a4263242d5e1249bb9bac8d80d91\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 18, 'created': '2020-02-04 22:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ff0b4fea9bc79bfbd2b726099d867dc40f85a45', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nIt also increases the concurrency which seems to be better supported by\nPodman now; it makes the deployments faster.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 19, 'created': '2020-02-04 22:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d591268483002661ef56fe26b459b21626f07e3', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nIt also increases the concurrency which seems to be better supported by\nPodman now; it makes the deployments faster.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 20, 'created': '2020-02-04 22:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eed3a14307e13ae6cc5e055dfbe54651be158492', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 21, 'created': '2020-02-05 02:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4ada747c43d56e6b59124c107e99eeb11c20fa0', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 22, 'created': '2020-02-05 02:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b0536c7a988fbb624b0b0f5f68f579d68971a47', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 23, 'created': '2020-02-05 13:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfb60c4acf94ce62f02d178e428429a608de6770', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 24, 'created': '2020-02-05 16:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ef5b5c56ecbf4e081ac075fb95eebf6ec97fdac', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 25, 'created': '2020-02-05 19:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47a9bf9590c3f36d136486394e931e9e4a66b31c', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 26, 'created': '2020-02-05 19:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/762d4352f06560007da6bbad84e6d1faf82dd280', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 27, 'created': '2020-02-06 18:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c854534c64fd7cc9b45bd4bb580da49efa5ac9cb', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 28, 'created': '2020-02-08 02:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8528d3991b659864d5ef36a95c390093e63a050', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 29, 'created': '2020-02-10 21:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8800966573c4985e27fdd0cbf213a6ef0e92570f', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 30, 'created': '2020-02-12 18:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9b991f02afeb3e8d98efece0534af9e80e36ea8', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 31, 'created': '2020-02-14 13:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/006066811715202f81e99c07834e1cdea962eeb7', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 32, 'created': '2020-02-14 17:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22d40ffb1dde7f98ead82393eaf57f2d8864217b', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: https://review.opendev.org/#/c/707880/\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 33, 'created': '2020-02-17 14:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ce60f05d9d8f3fbe19d5253d1f4908089461bcf', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 34, 'created': '2020-02-17 14:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b43eae454f3cc32041b9a924f171b1997cbf0d2', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 35, 'created': '2020-02-18 17:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f51e986b2584b86a65d1f830b04e681a9c4ccee', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 36, 'created': '2020-02-19 13:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c855d84b9ebc77daf2f25cf30b84deae6ae86f7', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 37, 'created': '2020-02-19 23:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a67df1d994f59e99c8f5e9786e2c5e4406892793', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 38, 'created': '2020-02-20 16:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b3059b3151a2a30d157177cdcc0224a79bf0e43', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: https://review.opendev.org/708904\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 39, 'created': '2020-02-20 16:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3fa752d1daed1659796914cf925b7a372bf8eb9', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: https://review.opendev.org/708904\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 40, 'created': '2020-02-20 21:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e32bf8236b11dc7e99f96018964599b5bc4287dc', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: https://review.opendev.org/708904\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 41, 'created': '2020-02-21 02:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ecd7618326f12147cbc6239d708f849eaeac9acb', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: https://review.opendev.org/#/c/709028\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 42, 'created': '2020-02-21 02:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/313d22c1e33e6d0a1bdac6054eb90b3b0cc823e3', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: https://review.opendev.org/#/c/709028\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 43, 'created': '2020-02-21 04:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26da0598c988752aedae1e83a02e8ed802f17460', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: https://review.opendev.org/#/c/709028\n\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 44, 'created': '2020-02-21 04:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e66e280f03a2739cbd933c5a2433dbbdada65d9c', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: https://review.opendev.org/#/c/709028\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 45, 'created': '2020-02-21 04:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbeecf732f8eb018e9ca95e47e89a53f2dad18be', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: https://review.opendev.org/#/c/709043\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}, {'number': 46, 'created': '2020-02-22 18:35:48.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'environments/docker-ha.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9018e4e42d60270a40378d792e319b7cd58302d6', 'message': ""Disable Paunch by default Standalone/Overcloud\n\nExcept for standalone004 and ovb-ha jobs which still run on Docker,\nlet's enable tripleo-ansible to manage the containers instead of paunch.\n\nDepends-On: https://review.opendev.org/#/c/709043\nChange-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b\n""}]",2,700738,9018e4e42d60270a40378d792e319b7cd58302d6,195,10,46,3153,,,0,"Disable Paunch by default Standalone/Overcloud

Except for standalone004 and ovb-ha jobs which still run on Docker,
let's enable tripleo-ansible to manage the containers instead of paunch.

Depends-On: https://review.opendev.org/#/c/709043
Change-Id: Ib29e7c9ce4028e1cb6f6ea6c0ae77890aefde93b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/700738/27 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,5487b5388d9a6e275ecb9aedbb6cb3d901bde25d,disable/paunch, default: false, default: true,1,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~I151f99bc7d98d33bf277e65df0a857aefeee80ac,openstack/tripleo-upgrade,stable/train,I151f99bc7d98d33bf277e65df0a857aefeee80ac,Correct spelling error in templates/overcloud_upgrade_run.sh.j2,MERGED,2020-02-24 11:40:08.000000000,2020-02-24 19:33:15.000000000,2020-02-24 19:33:15.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 11:40:08.000000000', 'files': ['templates/overcloud_upgrade_run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ff1b463db0e99959ead604b4cb25b5dcee0c02ef', 'message': 'Correct spelling error in templates/overcloud_upgrade_run.sh.j2\n\nIn I295f927b2e4504d0ba2bbd952021f5ef70476027 a spelling error\nwas introduced in templates/overcloud_upgrade_run.sh.j2 - this\npatch corrects that error.\n\nChange-Id: I151f99bc7d98d33bf277e65df0a857aefeee80ac\n(cherry picked from commit 458f8418b76748c882e70866a7a5da70f3c628e9)\n'}]",0,709453,ff1b463db0e99959ead604b4cb25b5dcee0c02ef,6,4,1,6816,,,0,"Correct spelling error in templates/overcloud_upgrade_run.sh.j2

In I295f927b2e4504d0ba2bbd952021f5ef70476027 a spelling error
was introduced in templates/overcloud_upgrade_run.sh.j2 - this
patch corrects that error.

Change-Id: I151f99bc7d98d33bf277e65df0a857aefeee80ac
(cherry picked from commit 458f8418b76748c882e70866a7a5da70f3c628e9)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/53/709453/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_run.sh.j2'],1,ff1b463db0e99959ead604b4cb25b5dcee0c02ef,,"echo ""[$(date)] Running major upgrade {{ playbook }} playbook for {{ item }} role""echo ""[$(date)] Running major upgrade for {{ item }} role""","echo ""[$(date)] Runing major upgrade {{ playbook }} playbook for {{ item }} role""echo ""[$(date)] Runing major upgrade for {{ item }} role""",2,2
openstack%2Fpuppet-tripleo~master~Id0825d95f1effd4091dda4a4324787762c180960,openstack/puppet-tripleo,master,Id0825d95f1effd4091dda4a4324787762c180960,Remove OpenShift API from haproxy LB configuration,MERGED,2020-02-23 14:00:35.000000000,2020-02-24 19:33:14.000000000,2020-02-24 19:33:14.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-23 14:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1cb4d07ef7097206161e258e05d756c42167edb8', 'message': ""Remove OpenShift API from haproxy LB configuration\n\nSupport for OpenShift deployment in TripleO was already removed[1],\nso remove OpenShift API from haproxy LB configuration, as we don't\nexepect anyone use that implementation.\n\n[1] c845595ba3c9f8ad88e0dad24d56c7349fbd3d1b\n\nChange-Id: Id0825d95f1effd4091dda4a4324787762c180960\n""}, {'number': 2, 'created': '2020-02-24 09:33:36.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f1a878c17728336157438d091d4f693f48e077f5', 'message': ""Remove OpenShift API from haproxy LB configuration\n\nSupport for OpenShift deployment in TripleO was already removed[1],\nso remove OpenShift API from haproxy LB configuration, as we don't\nexepect anyone use that implementation.\n\n[1] c845595ba3c9f8ad88e0dad24d56c7349fbd3d1b\n\nChange-Id: Id0825d95f1effd4091dda4a4324787762c180960\n""}]",0,709351,f1a878c17728336157438d091d4f693f48e077f5,12,5,2,9816,,,0,"Remove OpenShift API from haproxy LB configuration

Support for OpenShift deployment in TripleO was already removed[1],
so remove OpenShift API from haproxy LB configuration, as we don't
exepect anyone use that implementation.

[1] c845595ba3c9f8ad88e0dad24d56c7349fbd3d1b

Change-Id: Id0825d95f1effd4091dda4a4324787762c180960
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/51/709351/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,1cb4d07ef7097206161e258e05d756c42167edb8,openshift-removal,,"# [*openshift_master*] # (optional) Enable or not Kubernetes API binding # Defaults to hiera('openshift_master_enabled', false) ## [*openshift_master_network*] # (optional) Specify the network openshift_master is running on. # Defaults to hiera('openshift_master_network', undef) ## 'openshift_master_port' (Defaults to 6444) # 'openshift_master_ssl_port' (Defaults to 13443) $openshift_master = hiera('openshift_master_enabled', false), $openshift_master_network = hiera('openshift_master_network', undef), openshift_master_port => 8443, openshift_master_ssl_port => 18443, if $openshift_master { ::tripleo::haproxy::endpoint { 'openshift-master': public_virtual_ip => $public_virtual_ip, internal_ip => hiera('openshift_master_vip', $controller_virtual_ip), service_port => $ports[openshift_master_port], ip_addresses => hiera('openshift_master_node_ips', $controller_hosts_real), server_names => hiera('openshift_master_node_names', $controller_hosts_names_real), public_ssl_port => $ports[openshift_master_ssl_port], service_network => $openshift_master_network, listen_options => { 'balance' => 'source', } } } ",0,29
openstack%2Ftripleo-ansible~master~I0464a155232f50c85e04f0f69b9f382bf6280036,openstack/tripleo-ansible,master,I0464a155232f50c85e04f0f69b9f382bf6280036,Add undercloud-ipa-install to playbooks,ABANDONED,2020-02-24 19:11:06.000000000,2020-02-24 19:16:57.000000000,,[],"[{'number': 1, 'created': '2020-02-24 19:11:06.000000000', 'files': ['tripleo_ansible/playbooks/undercloud-ipa-install.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1121a33a5651fa3ce4681fe72b3325bb7a206e0a', 'message': 'Add undercloud-ipa-install to playbooks\n\nThis adds a play that registers the undercloud node with an existing IPA\nserver that is defined either with ansible vars or by exporting\nenvironment variables as follows:\n\n  - ipa_domain: domain of IPA server\n    ansible_var: tripleo_ipa_domain\n    environment_var: IPA_DOMAIN\n\n  - ipa_realm: realm of IPA server (defaults to uppercase ipa_domain)\n    ansible_var: tripleo_ipa_realm\n    environment_var: IPA_REALM\n\n  - ipa_server_user: username of IPA principal to use when registering\n    undercloud node\n    ansible_var: tripleo_ipa_admin_user\n    environment_var: IPA_ADMIN_USER\n\n  - ipa_server_password: password for IPA principal to use when\n    registering undercloud node\n    ansible_var: tripleo_ipa_admin_password\n    environment_var: IPA_ADMIN_PASSWORD\n\n  - ipa_server_hostname: hostname of IPA server to use\n    ansible_var: tripleo_ipa_server_hostname\n    environment_var: IPA_SERVER_HOSTNAME\n\n  - undercloud_fqdn: FQDN of undercloud node being registered\n    ansible_var: tripleo_undercloud_fqdn\n    environment_var: UNDERCLOUD_FQDN\n\n  - ansible_user: ansible user to run ipaclient tasks as, defaults to\n    current user\n    ansible_var: tripleo_ansible_user\n    environment_var: USER\n\n  - cloud_domain: domain name of the undercloud\n    ansible_var: tripleo_cloud_domain\n    environment_var: CLOUD_DOMAIN\n\nChange-Id: I0464a155232f50c85e04f0f69b9f382bf6280036\n'}]",0,709587,1121a33a5651fa3ce4681fe72b3325bb7a206e0a,2,0,1,7414,,,0,"Add undercloud-ipa-install to playbooks

This adds a play that registers the undercloud node with an existing IPA
server that is defined either with ansible vars or by exporting
environment variables as follows:

  - ipa_domain: domain of IPA server
    ansible_var: tripleo_ipa_domain
    environment_var: IPA_DOMAIN

  - ipa_realm: realm of IPA server (defaults to uppercase ipa_domain)
    ansible_var: tripleo_ipa_realm
    environment_var: IPA_REALM

  - ipa_server_user: username of IPA principal to use when registering
    undercloud node
    ansible_var: tripleo_ipa_admin_user
    environment_var: IPA_ADMIN_USER

  - ipa_server_password: password for IPA principal to use when
    registering undercloud node
    ansible_var: tripleo_ipa_admin_password
    environment_var: IPA_ADMIN_PASSWORD

  - ipa_server_hostname: hostname of IPA server to use
    ansible_var: tripleo_ipa_server_hostname
    environment_var: IPA_SERVER_HOSTNAME

  - undercloud_fqdn: FQDN of undercloud node being registered
    ansible_var: tripleo_undercloud_fqdn
    environment_var: UNDERCLOUD_FQDN

  - ansible_user: ansible user to run ipaclient tasks as, defaults to
    current user
    ansible_var: tripleo_ansible_user
    environment_var: USER

  - cloud_domain: domain name of the undercloud
    ansible_var: tripleo_cloud_domain
    environment_var: CLOUD_DOMAIN

Change-Id: I0464a155232f50c85e04f0f69b9f382bf6280036
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/709587/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/undercloud-ipa-install.yaml'],1,1121a33a5651fa3ce4681fe72b3325bb7a206e0a,undercloud-ipa-install,"--- # Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Playbook to register the undercloud host with an IPA server connection: ""{{ (tripleo_ipa_undercloud_host is defined) | ternary('ssh', 'local') }}"" hosts: ""{{ tripleo_ipa_undercloud_host | default('localhost') }}"" tasks: - name: Ensure definitions fail: msg: >- {{ item }} is undefined when: item.ansible_var == """" and item.env_var == """" with_items: - name: ipa_domain ansible_var: ""{{ tripleo_ipa_domain | default('') }}"" env_var: ""{{ lookup('env', 'IPA_DOMAIN') }}"" - name: ipa_realm ansible_var: ""{{ tripleo_ipa_realm | default('') }}"" env_var: ""{{ lookup('env', 'IPA_REALM') }}"" - name: ipa_server_user ansible_var: ""{{ tripleo_ipa_admin_user | default('') }}"" env_var: ""{{ lookup('env', 'IPA_ADMIN_USER') }}"" - name: ipa_server_password ansible_var: ""{{ tripleo_ipa_admin_password | default('') }}"" env_var: ""{{ lookup('env', 'IPA_ADMIN_PASSWORD') }}"" - name: ipa_server_hostname ansible_var: ""{{ tripleo_ipa_server_hostname | default('') }}"" env_var: ""{{ lookup('env', 'IPA_SERVER_HOSTNAME') }}"" - name: undercloud_fqdn ansible_var: ""{{ tripleo_undercloud_fqdn | default('') }}"" env_var: ""{{ lookup('env', 'UNDERCLOUD_FQDN') }}"" - name: ansible_user ansible_var: ""{{ tripleo_ansible_user | default('') }}"" env_var: ""{{ lookup('env', 'USER') }}"" - name: cloud_domain ansible_var: ""{{ tripleo_cloud_domain | default('') }}"" env_var: ""{{ lookup('env', 'CLOUD_DOMAIN') }}"" - set_fact: ipa_domain: ""{{ tripleo_ipa_domain | default(lookup('env', 'IPA_DOMAIN')) }}"" ipa_realm: ""{{ tripleo_ipa_realm | default(lookup('env', 'IPA_REALM')) }}"" ipa_server_user: ""{{ tripleo_ipa_admin_user | default(lookup('env', 'IPA_ADMIN_USER')) }}"" ipa_server_password: ""{{ tripleo_ipa_admin_password | default(lookup('env', 'IPA_ADMIN_PASSWORD')) }}"" ipa_server_hostname: ""{{ tripleo_ipa_server_hostname | default(lookup('env', 'IPA_SERVER_HOSTNAME')) }}"" undercloud_fqdn: ""{{ tripleo_undercloud_fqdn | default(lookup('env', 'UNDERCLOUD_FQDN')) }}"" undercloud_ansible_user: ""{{ tripleo_ansible_user | default(lookup('env', 'USER')) }}"" cloud_domain: ""{{ tripleo_cloud_domain | default(lookup('env', 'CLOUD_DOMAIN')) }}"" admin_keytab: ""{{ lookup('env', 'ADMIN_KEYTAB') | default('/tmp/admin.keytab') }}"" ipa_distro_packages: - http://download.eng.bos.redhat.com/brewroot/vol/rhel-8/packages/ansible-freeipa/0.1.7/1.el8/noarch/ansible-freeipa-0.1.7-1.el8.noarch.rpm - krb5-workstation - python-pip ipa_pip_packages: - urllib_gssapi - add_host: name: ""{{ undercloud_fqdn }}"" group: ipaclients state: present ipaclient_domain: ""{{ cloud_domain }}"" ipaclient_realm: ""{{ ipa_realm }}"" ipaclient_force: yes ipaadmin_principal: ""{{ ipa_server_user }}"" ipaadmin_password: ""{{ ipa_server_password }}"" ansible_user: ""{{ undercloud_ansible_user }}"" ansible_ssh_extra_args: ""-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null"" - add_host: group: ipaservers name: ""{{ ipa_server_hostname }}"" - hosts: ""{{ tripleo_ipa_undercloud_host | default('localhost') }}"" become: true tasks: - name: Install distro packages required for IPA enrollment yum: name: ""{{ ipa_distro_packages }}"" state: present - name: Install pip packages required for IPA enrollment pip: name: ""{{ ipa_pip_packages }}"" state: present - hosts: ipaclients become: true tasks: - include_role: name: ipaclient - hosts: ""{{ tripleo_ipa_undercloud_host | default('localhost') }}"" become: true tasks: - include_role: name: tripleo-create-admin - hosts: ""{{ tripleo_ipa_undercloud_host | default('localhost') }}"" become: true tasks: - name: kinit to get admin credentials command: kinit -c KEYRING:persistent:1 ""{{ ipa_server_user }}@{{ ipa_realm }}"" args: stdin: ""{{ ipa_server_password }}"" - name: ktutil to get admin keytab command: ktutil args: stdin: | addent -password -p {{ ipa_server_user }}@{{ ipa_realm }} -k 1 -e aes128-cts-hmac-sha1-96 {{ ipa_server_password }} wkt {{ admin_keytab }} quit - name: create users, perms, get keytab include_role: name: tripleo-ipa tasks_from: setup apply: environment: IPA_USER: ""{{ ipa_server_user }}"" IPA_HOST: ""{{ ipa_server_hostname }}"" KRB5CCNAME: KEYRING:persistent:1 KRB5_CLIENT_KTNAME: ""{{ admin_keytab }}"" - name: remove temporary keytab file: path: ""{{ admin_keytab }}"" state: absent ",,139,0
openstack%2Fkuryr-kubernetes~master~Ib694950c77ac7c3fd480f579b627dc79bfceac85,openstack/kuryr-kubernetes,master,Ib694950c77ac7c3fd480f579b627dc79bfceac85,Nested: Detect MTU mismatch,MERGED,2020-02-21 10:44:09.000000000,2020-02-24 19:13:29.000000000,2020-02-24 19:10:22.000000000,"[{'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-02-21 10:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b701345e38a60b59124d288568a82de6823498c4', 'message': ""Nested: Detect MTU mismatch\n\nApparently it is possible to override Neutron's MTU setting through DHCP\nagent. This may lead to a situation when node (VM) network will have a\ndifferent MTU than pod network. In such case setting pod network's MTU\non a Pod's veth pair will fail due to MTU mismatch.\n\nThis commit makes sure we detect such situation soon and produce a log\nmessage with a hint about the root cause.\n\nChange-Id: Ib694950c77ac7c3fd480f579b627dc79bfceac85\nCloses-Bug: 1863212\n""}, {'number': 2, 'created': '2020-02-21 11:03:29.000000000', 'files': ['kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/nested.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/574f5eab4be22e58ded7ab5fa491ec3dc513dee7', 'message': ""Nested: Detect MTU mismatch\n\nApparently it is possible to override Neutron's MTU setting through DHCP\nagent. This may lead to a situation when node (VM) network will have a\ndifferent MTU than pod network. In such case setting pod network's MTU\non a Pod's veth pair will fail due to MTU mismatch.\n\nThis commit makes sure we detect such situation soon and produce a log\nmessage with a hint about the root cause.\n\nChange-Id: Ib694950c77ac7c3fd480f579b627dc79bfceac85\nCloses-Bug: 1863212\n""}]",0,709096,574f5eab4be22e58ded7ab5fa491ec3dc513dee7,11,5,2,11600,,,0,"Nested: Detect MTU mismatch

Apparently it is possible to override Neutron's MTU setting through DHCP
agent. This may lead to a situation when node (VM) network will have a
different MTU than pod network. In such case setting pod network's MTU
on a Pod's veth pair will fail due to MTU mismatch.

This commit makes sure we detect such situation soon and produce a log
message with a hint about the root cause.

Change-Id: Ib694950c77ac7c3fd480f579b627dc79bfceac85
Closes-Bug: 1863212
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/96/709096/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/nested.py']",3,b701345e38a60b59124d288568a82de6823498c4,bug/1863212,from kuryr_kubernetes import exceptions mtu = h_ipdb.interfaces[vm_iface_name].mtu if mtu != vif.network.mtu: # NOTE(dulek): This might happen if Neutron and DHCP agent # have different MTU settings. See # https://bugs.launchpad.net/kuryr-kubernetes/+bug/1863212 raise exceptions.CNIBindingFailure( f'MTU of interface {vm_iface_name} ({mtu}) does not ' f'match MTU of pod network {vif.network.id} ' f'({vif.network.mtu}). Please make sure pod network ' f'has the same MTU as node (VM) network.'),,27,0
openstack%2Fkuryr-kubernetes~master~If8769f7657676d71bcf84c08108e728836071425,openstack/kuryr-kubernetes,master,If8769f7657676d71bcf84c08108e728836071425,Bump hacking to newer version,MERGED,2020-02-21 11:03:29.000000000,2020-02-24 19:12:07.000000000,2020-02-24 19:10:21.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-02-21 11:03:29.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'test-requirements.txt', 'kuryr_kubernetes/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1045bcb02a34cbc8249de8d1b3933bc08707b503', 'message': ""Bump hacking to newer version\n\nOur hacking module is ancient and makes Python 3.6's f-strings to fail\nPEP8 check. This commit bumps hacking to newer version and fixes\nviolations found by it.\n\nChange-Id: If8769f7657676d71bcf84c08108e728836071425\n""}]",0,709105,1045bcb02a34cbc8249de8d1b3933bc08707b503,14,6,1,11600,,,0,"Bump hacking to newer version

Our hacking module is ancient and makes Python 3.6's f-strings to fail
PEP8 check. This commit bumps hacking to newer version and fixes
violations found by it.

Change-Id: If8769f7657676d71bcf84c08108e728836071425
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/05/709105/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'test-requirements.txt', 'kuryr_kubernetes/utils.py']",3,1045bcb02a34cbc8249de8d1b3933bc08707b503,bug/1863212," raise exceptions.IntegrityError( f""Unsupported service link: {svc_link}"")"," raise exceptions.IntegrityError(_( ""Unsupported service link: %(link)s"") % { 'link': svc_link})",5,6
openstack%2Fneutron~stable%2Fstein~Iccc4fe4a785ee042fd76a663d0e76a27facd1809,openstack/neutron,stable/stein,Iccc4fe4a785ee042fd76a663d0e76a27facd1809,ovs agent: signal to plugin if tunnel refresh needed,MERGED,2020-02-19 21:14:04.000000000,2020-02-24 19:07:13.000000000,2020-02-24 19:04:18.000000000,"[{'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-19 21:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/533a90dfa10ea9e1cbb19903abfd4a1e82372961', 'message': 'ovs agent: signal to plugin if tunnel refresh needed\n\nPatch https://review.opendev.org/#/c/697655/ cannot be backported\nbecause it includes an RPC version change. This patch is for the\nstable branches.\n\nCurrently the ovs agent calls update_device_list with the\nagent_restarted flag set only on the first loop iteration. Then the\nserver knows to send the l2pop flooding entries for the network to\nthe agent. But when a compute node with many instances on many\nnetworks reboots, it takes time to readd all the active devices and\nsome may be readded after the first loop iteration. Then the server\ncan fail to send the flooding entries which means there will be no\nflood_to_tuns flow and broadcasts like dhcp will fail.\n\nThis patch fixes that by also setting the agent_restarted flag if\nthe agent has not received the flooding entries for a network.\n\nChange-Id: Iccc4fe4a785ee042fd76a663d0e76a27facd1809\nCloses-Bug: #1853613\n(cherry picked from commit bc0ab0fcd721d3fb01fd83291269a586f50efa0e)\n'}, {'number': 2, 'created': '2020-02-22 12:23:36.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aee87e72b1d456da66d719ccf19054ac1f285a7b', 'message': 'ovs agent: signal to plugin if tunnel refresh needed\n\nPatch https://review.opendev.org/#/c/697655/ cannot be backported\nbecause it includes an RPC version change. This patch is for the\nstable branches.\n\nCurrently the ovs agent calls update_device_list with the\nagent_restarted flag set only on the first loop iteration. Then the\nserver knows to send the l2pop flooding entries for the network to\nthe agent. But when a compute node with many instances on many\nnetworks reboots, it takes time to readd all the active devices and\nsome may be readded after the first loop iteration. Then the server\ncan fail to send the flooding entries which means there will be no\nflood_to_tuns flow and broadcasts like dhcp will fail.\n\nThis patch fixes that by also setting the agent_restarted flag if\nthe agent has not received the flooding entries for a network.\n\nChange-Id: Iccc4fe4a785ee042fd76a663d0e76a27facd1809\nCloses-Bug: #1853613\n(cherry picked from commit bc0ab0fcd721d3fb01fd83291269a586f50efa0e)\n'}]",0,708748,aee87e72b1d456da66d719ccf19054ac1f285a7b,20,7,2,9373,,,0,"ovs agent: signal to plugin if tunnel refresh needed

Patch https://review.opendev.org/#/c/697655/ cannot be backported
because it includes an RPC version change. This patch is for the
stable branches.

Currently the ovs agent calls update_device_list with the
agent_restarted flag set only on the first loop iteration. Then the
server knows to send the l2pop flooding entries for the network to
the agent. But when a compute node with many instances on many
networks reboots, it takes time to readd all the active devices and
some may be readded after the first loop iteration. Then the server
can fail to send the flooding entries which means there will be no
flood_to_tuns flow and broadcasts like dhcp will fail.

This patch fixes that by also setting the agent_restarted flag if
the agent has not received the flooding entries for a network.

Change-Id: Iccc4fe4a785ee042fd76a663d0e76a27facd1809
Closes-Bug: #1853613
(cherry picked from commit bc0ab0fcd721d3fb01fd83291269a586f50efa0e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/708748/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,533a90dfa10ea9e1cbb19903abfd4a1e82372961,bug/1853613-stable/stein, tunnels_missing = False if (not tunnels_missing and lvm.network_type in constants.TUNNEL_NETWORK_TYPES and len(lvm.tun_ofports) == 0): tunnels_missing = True agent_restarted = (self.iter_num == 0) or tunnels_missing, agent_restarted = self.iter_num == 0,6,1
openstack%2Freleases~master~I213a387ec5d262d85790425c1a1b0f5da4134d10,openstack/releases,master,I213a387ec5d262d85790425c1a1b0f5da4134d10,stable/rocky releases for keystone deliverables,MERGED,2020-02-21 15:59:46.000000000,2020-02-24 19:06:12.000000000,2020-02-24 19:06:12.000000000,"[{'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-21 15:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bbaef50134ec51d7487f0c46f94014f1b955d900', 'message': 'stable/rocky releases for keystone deliverables\n\n- keystone 14.2.0\n- keystoneauth 3.11.1\n- keystonemiddleware 5.2.2\n\nThese are likely the last releases in rocky.\n\nChange-Id: I213a387ec5d262d85790425c1a1b0f5da4134d10\n'}, {'number': 2, 'created': '2020-02-21 16:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4de32d182643a0eef7c0fe430196797743ced263', 'message': 'stable/rocky releases for keystone deliverables\n\n- keystone 14.2.0\n- keystoneauth 3.10.1\n- keystonemiddleware 5.2.2\n\nThese are likely the last releases in rocky.\n\nChange-Id: I213a387ec5d262d85790425c1a1b0f5da4134d10\n'}, {'number': 3, 'created': '2020-02-24 14:18:16.000000000', 'files': ['deliverables/rocky/keystoneauth.yaml', 'deliverables/rocky/keystone.yaml', 'deliverables/rocky/keystonemiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1c2e5222cce8e24faa00ea0bbc02a94f610074cb', 'message': 'stable/rocky releases for keystone deliverables\n\n- keystone 14.2.0\n- keystoneauth 3.10.1\n- keystonemiddleware 5.2.2\n\nThese are likely the last releases in rocky.\n\nChange-Id: I213a387ec5d262d85790425c1a1b0f5da4134d10\n'}]",1,709165,1c2e5222cce8e24faa00ea0bbc02a94f610074cb,13,4,3,16465,,,0,"stable/rocky releases for keystone deliverables

- keystone 14.2.0
- keystoneauth 3.10.1
- keystonemiddleware 5.2.2

These are likely the last releases in rocky.

Change-Id: I213a387ec5d262d85790425c1a1b0f5da4134d10
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/709165/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/keystoneauth.yaml', 'deliverables/rocky/keystone.yaml', 'deliverables/rocky/keystonemiddleware.yaml']",3,bbaef50134ec51d7487f0c46f94014f1b955d900,rocky-final, - projects: - hash: 7ab4a3e63cba8b4d94c7d8a528716532844febcb repo: openstack/keystonemiddleware version: 5.2.2,,13,0
openstack%2Fopenstack-helm-infra~master~Id62fe453846ffe6ab01198177d5d8046378d61bf,openstack/openstack-helm-infra,master,Id62fe453846ffe6ab01198177d5d8046378d61bf,Enable runtime Apparmor default for All Ceph Components,MERGED,2020-02-17 02:18:37.000000000,2020-02-24 19:05:36.000000000,2020-02-24 19:00:27.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 26686}, {'_account_id': 29131}, {'_account_id': 29974}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-17 02:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/69cb4bb0a43b0b009f1a283d84d477c48b4be90a', 'message': 'Insert the description of the change.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-02-17 02:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b056a72b634022dafc62001e0c965984ad83fac', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 3, 'created': '2020-02-17 18:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5f6981c443e3be9cd0cfbfd14850d1a9009a7be1', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 4, 'created': '2020-02-17 18:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ecd4ad553d8cfbebafd01dc84bba457ba0eff861', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 5, 'created': '2020-02-17 23:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4b4a65f4d4c3d2e193391f731a108e5e688676f3', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 6, 'created': '2020-02-18 14:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/327631d835efc8bfadd548dbeba27cd6f8b75d2e', 'message': 'Fix Apparmor for Ceph Init Containers\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 7, 'created': '2020-02-18 18:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/42147bdd4a35e9be4a773c8ada55936336b8fec8', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 8, 'created': '2020-02-18 19:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/69a02426b1626aaae5e0cb4eebdcd0b8ba7e41a7', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 9, 'created': '2020-02-18 19:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/396dadaec908431fca9687e41c5adc693e068deb', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 10, 'created': '2020-02-19 01:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e3b427fbb77c60c2a5f8f979383f07587317f54c', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 11, 'created': '2020-02-19 02:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb8c13f2367186bd38e70a93235ca210846a8598', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 12, 'created': '2020-02-19 03:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e5c16d9ba79bc7608a5d60780fa10e73d147e255', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 13, 'created': '2020-02-19 03:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cac6acd7e657df79821d4f6fc861edd0619db680', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 14, 'created': '2020-02-19 03:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8325982727229a07e7fbf90c523de2123392300f', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 15, 'created': '2020-02-19 15:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cde386e68f331002f021f83dade6eb0f520496bf', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 16, 'created': '2020-02-19 20:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fcffd8f99b2089cf8b448b1fe1aa346ea675dcca', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 17, 'created': '2020-02-20 01:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f10cc6d75321408248d914bb63a0f4fb66ccdfe', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 18, 'created': '2020-02-20 12:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5db0ff86552bece40948ef4da9eea9d498f90132', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 19, 'created': '2020-02-20 12:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d9d14d7776db4beea2c75032c6500ef14f0906c3', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 20, 'created': '2020-02-20 23:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5636e53ce925574dbb46d647328a9a08f8e9460d', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 21, 'created': '2020-02-21 04:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ebf8361155d178e696b3a2a43eba3c30433d0847', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 22, 'created': '2020-02-21 06:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5dddb6655daad2042c46995d707cdc57ee3b9e33', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 23, 'created': '2020-02-21 18:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f57099240d9b463a502bc2d4a3abf7c10c69bc0a', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 24, 'created': '2020-02-21 18:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cc8b92b379c44e9bcc40dbe9ddde6f756c5e6f63', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 25, 'created': '2020-02-21 20:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e7b973dbad7bb4c1e4be528d53e767ae70f75037', 'message': '[WIP] Fix Apparmor for Ceph Init Containers.\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 26, 'created': '2020-02-21 21:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dd198842caf0d59c4e8a7ec80a18b11b5df944ca', 'message': 'Enable  runtime Apparmor default  for  All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 27, 'created': '2020-02-21 21:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1891110d6933a504d53e4281b84fc6cd392d3c22', 'message': 'Enable  runtime Apparmor default  for  All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 28, 'created': '2020-02-22 04:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/51dcc5063e21b79c093e2b486ddfeb2c63e974f0', 'message': 'Enable  runtime Apparmor default  for  All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 29, 'created': '2020-02-22 06:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e04ccff0bff50c7cf40ef8c7d4bccd28164fd97d', 'message': 'Enable  runtime Apparmor default  for  All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 30, 'created': '2020-02-22 08:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/43455ec2b8a195a7c2de57c1c51a65dccecb9e1a', 'message': 'Enable  runtime Apparmor default for All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 31, 'created': '2020-02-22 13:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4339d830e5eaaf9e0e67e865a38e1ffd3f369a38', 'message': 'Enable  runtime Apparmor default for All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 32, 'created': '2020-02-22 14:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0819b528b36d5975aac0aa69d7f8fcc9ff7391e9', 'message': 'Enable  runtime Apparmor default  for  All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 33, 'created': '2020-02-22 14:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1abab9018731834ae1e776c58c39e8b0d858a2ce', 'message': 'Enable runtime Apparmor default for All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 34, 'created': '2020-02-24 01:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e0f2be2a1f8f62a75b9d8f00c93764e2e44b24d', 'message': 'Enable runtime Apparmor default for All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 35, 'created': '2020-02-24 03:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0147d57f13136b74af3f289cabb93e9b9bd92535', 'message': 'Enable runtime Apparmor default for All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 36, 'created': '2020-02-24 04:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/14dbbe8a5fa7d30e30096d828a7707a644a7b7e4', 'message': 'Enable runtime Apparmor default for All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 37, 'created': '2020-02-24 15:52:18.000000000', 'files': ['ceph-provisioners/values_overrides/apparmor.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml', 'ceph-client/values_overrides/apparmor.yaml', 'ceph-osd/values_overrides/apparmor.yaml', 'ceph-client/templates/deployment-checkdns.yaml', 'ceph-client/templates/job-rbd-pool.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'tools/deployment/common/get-values-overrides.sh', 'ceph-provisioners/templates/job-cephfs-client-key.yaml', 'ceph-mon/values_overrides/apparmor.yaml', 'ceph-client/templates/deployment-mds.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-provisioners/templates/deployment-cephfs-provisioner.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-client/templates/deployment-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/344c0543faf30ed3e1cf19b869545ef07d9f5d83', 'message': 'Enable runtime Apparmor default for All Ceph Components\n\nChange-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",8,708045,344c0543faf30ed3e1cf19b869545ef07d9f5d83,79,8,37,29131,,,0,"Enable runtime Apparmor default for All Ceph Components

Change-Id: Id62fe453846ffe6ab01198177d5d8046378d61bf
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/45/708045/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,69cb4bb0a43b0b009f1a283d84d477c48b4be90a,apparmor,,,0,0
openstack%2Fneutron~stable%2Frocky~Ia332421aff995f42e7a6e6e96b74be1338d54fe1,openstack/neutron,stable/rocky,Ia332421aff995f42e7a6e6e96b74be1338d54fe1,Trigger router update only when gateway port IP changed,MERGED,2020-02-03 11:31:15.000000000,2020-02-24 19:04:20.000000000,2020-02-24 19:04:20.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-03 11:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4417eb9d296721bee0c3e4bdee0dc2feb5b7cfe', 'message': 'Trigger router update only when gateway port IP changed\n\nDuring the ha router state change event, the gateway port only\nchanged the L2 binding host. So l3 agent has the entire gateway\nport information. It is not necessary to send a router_update\nmessage to l3 agent again.\n\nCloses-Bug: #1795127\nChange-Id: Ia332421aff995f42e7a6e6e96b74be1338d54fe1\n(cherry picked from commit 452b2824125641128b5297fcf84de090e0763740)\n'}, {'number': 2, 'created': '2020-02-20 09:57:52.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f7e1f6b9fa92a99d0a5df7e7440d62df3f51748', 'message': 'Trigger router update only when gateway port IP changed\n\nDuring the ha router state change event, the gateway port only\nchanged the L2 binding host. So l3 agent has the entire gateway\nport information. It is not necessary to send a router_update\nmessage to l3 agent again.\n\nDepends-On: https://review.opendev.org/708825/\nCloses-Bug: #1795127\nChange-Id: Ia332421aff995f42e7a6e6e96b74be1338d54fe1\n(cherry picked from commit 452b2824125641128b5297fcf84de090e0763740)\n'}]",0,705421,4f7e1f6b9fa92a99d0a5df7e7440d62df3f51748,36,8,2,11975,,,0,"Trigger router update only when gateway port IP changed

During the ha router state change event, the gateway port only
changed the L2 binding host. So l3 agent has the entire gateway
port information. It is not necessary to send a router_update
message to l3 agent again.

Depends-On: https://review.opendev.org/708825/
Closes-Bug: #1795127
Change-Id: Ia332421aff995f42e7a6e6e96b74be1338d54fe1
(cherry picked from commit 452b2824125641128b5297fcf84de090e0763740)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/705421/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/common/utils.py']",3,c4417eb9d296721bee0c3e4bdee0dc2feb5b7cfe,bug/1795127-stable/rocky," def get_port_fixed_ips_set(port): return set([ip[""ip_address""] for ip in port.get(""fixed_ips"", [])]) def port_ip_changed(new_port, original_port): if not new_port or not original_port: return False # Quantity is not same, so it is changed. if (len(new_port.get(""fixed_ips"", [])) != len(original_port.get(""fixed_ips"", []))): return True # IPs can be placed in any order, so use python set to verify the # fixed IP addresses. if (get_port_fixed_ips_set(new_port) != get_port_fixed_ips_set(original_port)): return True return False",,82,4
openstack%2Freleases~master~I721f3f2533e339df8b536277278d10f6981b2aee,openstack/releases,master,I721f3f2533e339df8b536277278d10f6981b2aee,Release cliff 3.0.0,MERGED,2020-02-04 16:54:03.000000000,2020-02-24 18:55:56.000000000,2020-02-24 18:55:56.000000000,"[{'_account_id': 308}, {'_account_id': 970}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-04 16:54:03.000000000', 'files': ['deliverables/ussuri/cliff.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/04ed93dbed02da6f4874f6ba63f0e92f029559f6', 'message': 'Release cliff 3.0.0\n\nThis version officially drop the python 2 support so we release a major\nversion of cliff to inform user that we break the backward compatibility.\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nComplete discussion & schedule can be found in\n-\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I721f3f2533e339df8b536277278d10f6981b2aee\n'}]",0,705762,04ed93dbed02da6f4874f6ba63f0e92f029559f6,9,4,1,28522,,,0,"Release cliff 3.0.0

This version officially drop the python 2 support so we release a major
version of cliff to inform user that we break the backward compatibility.

OpenStack is dropping the py2.7 support in ussuri cycle.

Complete discussion & schedule can be found in
-
http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I721f3f2533e339df8b536277278d10f6981b2aee
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/705762/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/cliff.yaml'],1,04ed93dbed02da6f4874f6ba63f0e92f029559f6,oslo_drop_py2_support, - version: 3.0.0 projects: - repo: openstack/cliff hash: 972410871009d44916a8857d6132dad8fbc96866,,4,0
openstack%2Freleases~master~I2f9640be40504c9dcd54c6f11f7ac1422240f7f6,openstack/releases,master,I2f9640be40504c9dcd54c6f11f7ac1422240f7f6,python-openstackclient 5.0.0 (Ussuri),MERGED,2020-02-19 13:21:34.000000000,2020-02-24 18:55:55.000000000,2020-02-24 18:55:55.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-19 13:21:34.000000000', 'files': ['deliverables/ussuri/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/84b17f611e41e817a3772c476953fdfa82f7ac83', 'message': 'python-openstackclient 5.0.0 (Ussuri)\n\nPython 2.7 support was dropped, so the major version is bumped.\n\nChange-Id: I2f9640be40504c9dcd54c6f11f7ac1422240f7f6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,708650,84b17f611e41e817a3772c476953fdfa82f7ac83,10,5,1,15334,,,0,"python-openstackclient 5.0.0 (Ussuri)

Python 2.7 support was dropped, so the major version is bumped.

Change-Id: I2f9640be40504c9dcd54c6f11f7ac1422240f7f6
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/708650/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/python-openstackclient.yaml'],1,84b17f611e41e817a3772c476953fdfa82f7ac83,openstackclient-ussuri,releases: - version: 5.0.0 projects: - repo: openstack/python-openstackclient hash: e07324e30fbb24e89fd63d1c5a5fe485f693a45c,,5,0
openstack%2Foctavia~stable%2Ftrain~Ifb6c34426e0927534d332a8bbf2c66aac6c002c5,openstack/octavia,stable/train,Ifb6c34426e0927534d332a8bbf2c66aac6c002c5,Fix uncaught DB exception when trying to get a spare amphora,MERGED,2020-02-24 13:52:02.000000000,2020-02-24 18:53:26.000000000,2020-02-24 18:49:21.000000000,"[{'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 13:52:02.000000000', 'files': ['octavia/controller/worker/v1/tasks/database_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0c1cb417e904daa75deedaabc72a20d07b138eb9', 'message': ""Fix uncaught DB exception when trying to get a spare amphora\n\nThe MapLoadbalancerToAmphora task performs some database queries but\ndoesn't catch any exception from it.\n\nIn case something goes wrong with the database or the query, this commit\ncatchs any exception from the DB call, logs it and then returns None to\nswitch to the next decider branch (boot a new amphora).\n\nStory 2007320\nTask 38831\n\nConflicts:\n\toctavia/controller/worker/v1/tasks/database_tasks.py\n\nChange-Id: Ifb6c34426e0927534d332a8bbf2c66aac6c002c5\n(cherry picked from commit 3bbd32a2a5588ab1502efdb6f9556c646d6e8f19)\n""}]",0,709531,0c1cb417e904daa75deedaabc72a20d07b138eb9,8,3,1,29244,,,0,"Fix uncaught DB exception when trying to get a spare amphora

The MapLoadbalancerToAmphora task performs some database queries but
doesn't catch any exception from it.

In case something goes wrong with the database or the query, this commit
catchs any exception from the DB call, logs it and then returns None to
switch to the next decider branch (boot a new amphora).

Story 2007320
Task 38831

Conflicts:
	octavia/controller/worker/v1/tasks/database_tasks.py

Change-Id: Ifb6c34426e0927534d332a8bbf2c66aac6c002c5
(cherry picked from commit 3bbd32a2a5588ab1502efdb6f9556c646d6e8f19)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/31/709531/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/v1/tasks/database_tasks.py'],1,0c1cb417e904daa75deedaabc72a20d07b138eb9,," try: amp = self.amphora_repo.allocate_and_associate( db_apis.get_session(), loadbalancer_id) except Exception as e: LOG.error(""Failed to get a spare amphora for "" ""loadbalancer {} due to: {}"".format( loadbalancer_id, e)) return None "," amp = self.amphora_repo.allocate_and_associate( db_apis.get_session(), loadbalancer_id)",10,3
openstack%2Fproject-config~master~I68b3ab7e597e230617ec1eaa8217d4f5f4c5fb15,openstack/project-config,master,I68b3ab7e597e230617ec1eaa8217d4f5f4c5fb15,Remove obsolete releases publishing,MERGED,2020-02-20 17:09:19.000000000,2020-02-24 18:37:58.000000000,2020-02-24 18:37:58.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-20 17:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6d82c7f801b5a98d07d6a07476dc246a5bbfd35e', 'message': ""Remove obsolete releases publishing\n\nRemove publish-tox-docs-static, the last user has been converted to AFS\npublishing.\n\nRemove the parent base-publish-tox-docs-static as well, it's not used\nanymore.\n\nRemove playbook files used by these jobs.\n\nDepends-On: https://review.opendev.org/708918\nChange-Id: I68b3ab7e597e230617ec1eaa8217d4f5f4c5fb15\n""}, {'number': 2, 'created': '2020-02-20 20:47:52.000000000', 'files': ['zuul.d/secrets.yaml', 'playbooks/publish/static-tox-docs.yaml', 'zuul.d/jobs.yaml', 'playbooks/sphinx/post-direct.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e46f938f80345e676b1c0f59edd46f99994e75ef', 'message': ""Remove obsolete releases publishing\n\nRemove publish-tox-docs-static, the last user has been converted to AFS\npublishing.\n\nRemove the parent base-publish-tox-docs-static as well, it's not used\nanymore.\n\nRemove playbook files and secrets used by these jobs.\n\nDepends-On: https://review.opendev.org/708918\nChange-Id: I68b3ab7e597e230617ec1eaa8217d4f5f4c5fb15\n""}]",0,708920,e46f938f80345e676b1c0f59edd46f99994e75ef,12,5,2,6547,,,0,"Remove obsolete releases publishing

Remove publish-tox-docs-static, the last user has been converted to AFS
publishing.

Remove the parent base-publish-tox-docs-static as well, it's not used
anymore.

Remove playbook files and secrets used by these jobs.

Depends-On: https://review.opendev.org/708918
Change-Id: I68b3ab7e597e230617ec1eaa8217d4f5f4c5fb15
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/708920/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/publish/static-tox-docs.yaml', 'zuul.d/jobs.yaml', 'playbooks/sphinx/post-direct.yaml']",3,6d82c7f801b5a98d07d6a07476dc246a5bbfd35e,releases-static,,"- hosts: all roles: - role: write-root-marker when: zuul_success | bool - role: fetch-sphinx-output sphinx_output_suffix: ""/"" zuul_executor_dest: ""{{ zuul.executor.work_root }}/artifacts"" when: zuul_success | bool ",0,56
openstack%2Fkolla-ansible~master~Ib4bd6c6dd5169dce24fa49f56d83b1e3d6806e1d,openstack/kolla-ansible,master,Ib4bd6c6dd5169dce24fa49f56d83b1e3d6806e1d,DNM: Debug virtualenv on python2 - ceph-ansible,ABANDONED,2020-02-24 15:44:06.000000000,2020-02-24 18:29:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-24 15:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/776f00c4d954f5a3d9a142c3dc842cd171d31e94', 'message': 'DNM: Debug virtualenv on python2 - ceph-ansible\n\nChange-Id: Ib4bd6c6dd5169dce24fa49f56d83b1e3d6806e1d\n'}, {'number': 2, 'created': '2020-02-24 15:45:45.000000000', 'files': ['tests/deploy-ceph-ansible.sh', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af35f0e819165dfb2e8229edec6febd224b1b8be', 'message': 'DNM: Debug virtualenv on python2 - ceph-ansible\n\nChange-Id: Ib4bd6c6dd5169dce24fa49f56d83b1e3d6806e1d\n'}]",0,709556,af35f0e819165dfb2e8229edec6febd224b1b8be,6,1,2,22629,,,0,"DNM: Debug virtualenv on python2 - ceph-ansible

Change-Id: Ib4bd6c6dd5169dce24fa49f56d83b1e3d6806e1d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/709556/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/deploy-ceph-ansible.sh', 'zuul.d/project.yaml']",2,776f00c4d954f5a3d9a142c3dc842cd171d31e94,,, templates: - check-requirements - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-ussuri-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs check: jobs: - kolla-ansible-centos-source - kolla-ansible-centos8-source - kolla-ansible-debian-source - kolla-ansible-ubuntu-source - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-bifrost-centos-source # FIXME(mgoddard): Bifrost CentOS 8 support in progress. # - kolla-ansible-centos8-source-bifrost - kolla-ansible-centos-source-zun - kolla-ansible-centos8-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos-source-swift - kolla-ansible-centos8-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos-source-scenario-nfv - kolla-ansible-centos8-source-scenario-nfv - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos-source-masakari # FIXME(mgoddard): Masakari CentOS 8 job. # - kolla-ansible-centos8-source-masakari - kolla-ansible-centos-source-ironic - kolla-ansible-centos8-source-ironic - kolla-ansible-centos-binary-ironic - kolla-ansible-centos8-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos-binary - kolla-ansible-centos8-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos-source-cells - kolla-ansible-centos8-source-cells - kolla-ansible-centos-source-mariadb - kolla-ansible-centos8-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge check-arm64: jobs: - kolla-ansible-debian-source-aarch64,1,51
openstack%2Fproject-config~master~I9e3da882425e6d1aae3d374b681e472492bee79b,openstack/project-config,master,I9e3da882425e6d1aae3d374b681e472492bee79b,Remove unused files in playbooks/publish,MERGED,2020-02-20 17:14:53.000000000,2020-02-24 18:25:33.000000000,2020-02-24 18:25:33.000000000,"[{'_account_id': 2}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-20 17:14:53.000000000', 'files': ['playbooks/publish/opendev-afs.yaml', 'playbooks/publish/static.yaml', 'playbooks/publish/zuul-afs.yaml', 'playbooks/publish/openstack-specs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/103c6388fc92e2bd30b039e828f3754d8e0921d8', 'message': 'Remove unused files in playbooks/publish\n\nWe changed a lot of jobs to promote jobs and forgot to cleanup,\nremove now unused playbook files.\n\nChange-Id: I9e3da882425e6d1aae3d374b681e472492bee79b\n'}]",0,708925,103c6388fc92e2bd30b039e828f3754d8e0921d8,7,3,1,6547,,,0,"Remove unused files in playbooks/publish

We changed a lot of jobs to promote jobs and forgot to cleanup,
remove now unused playbook files.

Change-Id: I9e3da882425e6d1aae3d374b681e472492bee79b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/708925/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/publish/opendev-afs.yaml', 'playbooks/publish/static.yaml', 'playbooks/publish/zuul-afs.yaml', 'playbooks/publish/openstack-specs.yaml']",4,103c6388fc92e2bd30b039e828f3754d8e0921d8,cleanup,,"- hosts: all roles: - role: fetch-sphinx-output sphinx_output_suffix: ""/"" zuul_executor_dest: ""{{ zuul.executor.work_root }}/artifacts"" when: zuul_success | bool - hosts: localhost roles: - role: add-fileserver fileserver: ""{{ site_specs }}"" - hosts: ""{{ site_specs.fqdn }}"" gather_facts: False tasks: - name: Upload specs to fileserver synchronize: src: ""{{ zuul.executor.work_root }}/artifacts/"" dest: ""/srv/static/specs/{{ zuul.project.name }}"" no_log: true when: zuul_success | bool ",0,60
openstack%2Fproject-config~master~Id810b151da14c0d5561dc2c219dbc255c4d0e831,openstack/project-config,master,Id810b151da14c0d5561dc2c219dbc255c4d0e831,grafana afs: add project.releases volume,MERGED,2020-02-21 05:32:10.000000000,2020-02-24 18:25:32.000000000,2020-02-24 18:25:32.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 05:32:10.000000000', 'files': ['grafana/afs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3f9abd1acbb29bafc8b6958c9bf2f79802a0fdaf', 'message': 'grafana afs: add project.releases volume\n\nChange-Id: Id810b151da14c0d5561dc2c219dbc255c4d0e831\n'}]",0,709051,3f9abd1acbb29bafc8b6958c9bf2f79802a0fdaf,7,3,1,7118,,,0,"grafana afs: add project.releases volume

Change-Id: Id810b151da14c0d5561dc2c219dbc255c4d0e831
",git fetch https://review.opendev.org/openstack/project-config refs/changes/51/709051/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/afs.yaml'],1,3f9abd1acbb29bafc8b6958c9bf2f79802a0fdaf,static-services," - title: project.releases type: graph span: 4 yaxes: - format: deckbytes min: 0 - format: deckbytes min: 0 targets: - target: ""alias(stats.gauges.afs.afs01_dfw_openstack_org.vol.project_releases.used, 'Used')"" refId: A - target: ""alias(stats.gauges.afs.afs01_dfw_openstack_org.vol.project_releases.quota, 'Quota')"" refId: B - target: ""divideSeries(stats.gauges.afs.afs01_dfw_openstack_org.vol.project_releases.used, #B)"" refId: C hide: true ",,17,0
openstack%2Fkuryr-kubernetes~master~Ib141dc6b625470d31c1527322fa22ac6629c9f07,openstack/kuryr-kubernetes,master,Ib141dc6b625470d31c1527322fa22ac6629c9f07,Enable trace on kuryr-kubernetes plugin.,MERGED,2020-02-24 07:48:13.000000000,2020-02-24 18:23:20.000000000,2020-02-24 18:19:52.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-02-24 07:48:13.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/667955879596268450e17386e15e9f3a57fd5f94', 'message': 'Enable trace on kuryr-kubernetes plugin.\n\nIn this change, we enable xtrace on devstack plugin script for\nkuryr-kubernetes. It helps with diagnose possible issues during devstack\ndeployment.\n\nChange-Id: Ib141dc6b625470d31c1527322fa22ac6629c9f07\n'}]",0,709420,667955879596268450e17386e15e9f3a57fd5f94,11,6,1,13692,,,0,"Enable trace on kuryr-kubernetes plugin.

In this change, we enable xtrace on devstack plugin script for
kuryr-kubernetes. It helps with diagnose possible issues during devstack
deployment.

Change-Id: Ib141dc6b625470d31c1527322fa22ac6629c9f07
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/20/709420/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,667955879596268450e17386e15e9f3a57fd5f94,xtrace,# Save trace setting XTRACE=$(set +o | grep xtrace) set -o xtrace # Restore xtrace $XTRACE,,7,0
openstack%2Fopenstack-helm-infra~master~I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15,openstack/openstack-helm-infra,master,I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15,Adding default apparmor profile to mariadb complete pods,MERGED,2020-02-19 16:32:30.000000000,2020-02-24 17:42:32.000000000,2020-02-24 17:39:43.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 29161}]","[{'number': 1, 'created': '2020-02-19 16:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cdf7d5c88876e4da833ff84b58400dbd62f5c87f', 'message': 'Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 2, 'created': '2020-02-19 16:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a22992deb9c841bc6b1ad53c13f577b558b53758', 'message': 'Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 3, 'created': '2020-02-19 17:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a3c192e050fc0df945249ce28cc109aee99551f1', 'message': 'Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 4, 'created': '2020-02-19 20:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2fa5beb909b72286eabae379dae0e51700810d89', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 5, 'created': '2020-02-19 21:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1119fbbac11ce9f8dc520f2079baae5720100d5e', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 6, 'created': '2020-02-19 22:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd8ed8fec56e0f2ebe2025ed22c281e4ce7c29b9', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 7, 'created': '2020-02-19 23:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0feddfc2b8c168eca3cc594ad140ceca824fa9e8', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 8, 'created': '2020-02-20 02:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65b92d69d6c89eab181c49b36be20885e345e9e7', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 9, 'created': '2020-02-20 03:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1c9f00a712d8a31ee8465c75524f4551b22663eb', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 10, 'created': '2020-02-20 04:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44bf624fd02cebe1c5853f998d07737cd4c978be', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 11, 'created': '2020-02-20 15:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ddee11bd7ac81cef66c1191f6be9335ab7242b4d', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 12, 'created': '2020-02-20 17:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d01170ccb3efc43d90e81bbdea79a16100335536', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 13, 'created': '2020-02-20 19:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9bc602461e61b1ebde16cee3ae299c03abf652c0', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 14, 'created': '2020-02-20 21:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/56d54e750cab9a9d61c8998c563ef89f89e9cd17', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 15, 'created': '2020-02-21 16:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/02ce741be211f1b9cf22730bab7a3e68080f76e9', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 16, 'created': '2020-02-21 20:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ab02a5ee337c8a9a981c7e0c80667b221c303cd', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 17, 'created': '2020-02-22 19:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19e3949f148958975722e0736af0b71cfa252bce', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 18, 'created': '2020-02-22 19:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b2b7817568e93a63f6d9507f775328e1359ec48f', 'message': '[WIP]Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}, {'number': 19, 'created': '2020-02-24 15:43:12.000000000', 'files': ['mariadb/values_overrides/apparmor.yaml', 'tools/deployment/apparmor/030-mariadb.sh', 'mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/templates/pod-test.yaml', 'mariadb/templates/monitoring/prometheus/exporter-job-create-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d50371be9b7e8b815cde706888d33de54d7b8a51', 'message': 'Adding default apparmor profile to mariadb complete pods\n\nChange-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15\n'}]",0,708684,d50371be9b7e8b815cde706888d33de54d7b8a51,43,5,19,29161,,,0,"Adding default apparmor profile to mariadb complete pods

Change-Id: I9a62b36c8cda0a6eaf8ac6b40f138b2706c63d15
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/84/708684/16 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/values_overrides/apparmor.yaml', 'mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/templates/pod-test.yaml', 'mariadb/templates/monitoring/prometheus/exporter-job-create-user.yaml']",4,cdf7d5c88876e4da833ff84b58400dbd62f5c87f,mariadb_complete," annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" | indent 8 }} {{ dict ""envAll"" $envAll ""podName"" ""prometheus-mysql-exporter"" ""containerNames"" (list ""exporter-create-sql-user"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }}",,12,0
openstack%2Fkolla~stable%2Ftrain~I92be17ef1ce0f81ab3f49433a0d1e688874ba64e,openstack/kolla,stable/train,I92be17ef1ce0f81ab3f49433a0d1e688874ba64e,nova: use proper uefi package names under CentOS/RHEL 8,MERGED,2020-02-24 13:48:18.000000000,2020-02-24 17:41:50.000000000,2020-02-24 17:39:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-02-24 13:48:18.000000000', 'files': ['docker/nova/nova-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ad00caaf9341bb58fd73969782a3f89b8189fb94', 'message': 'nova: use proper uefi package names under CentOS/RHEL 8\n\nChange-Id: I92be17ef1ce0f81ab3f49433a0d1e688874ba64e\n(cherry picked from commit a04963a6abdf34a49ecb815d97de394d8c7a152b)\n'}]",0,709530,ad00caaf9341bb58fd73969782a3f89b8189fb94,9,3,1,14826,,,0,"nova: use proper uefi package names under CentOS/RHEL 8

Change-Id: I92be17ef1ce0f81ab3f49433a0d1e688874ba64e
(cherry picked from commit a04963a6abdf34a49ecb815d97de394d8c7a152b)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/30/709530/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-base/Dockerfile.j2'],1,ad00caaf9341bb58fd73969782a3f89b8189fb94,bp/centos-rhel-8, {% else %} {% set nova_base_packages = nova_base_packages + [ 'edk2-ovmf' ] %} {% else %} {% set nova_base_packages = nova_base_packages + [ 'edk2-aarch64' ] %} {% else %} {% set nova_base_packages = nova_base_packages + [ 'edk2-ovmf' ] %} {% else %} {% set nova_base_packages = nova_base_packages + [ 'edk2-aarch64' ] %},,16,0
openstack%2Fopenstack-helm~master~I5efaab70178a12c84bf63774aa31181746f7345c,openstack/openstack-helm,master,I5efaab70178a12c84bf63774aa31181746f7345c,Enable Apparmor to Glance,MERGED,2020-02-22 05:18:54.000000000,2020-02-24 17:41:31.000000000,2020-02-24 17:38:04.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-22 05:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fab63211099e78d9ed6861e5ba6bcc0b7a5624e3', 'message': '[WIP] Enable Apparmor to Glance\n\nChange-Id: I5efaab70178a12c84bf63774aa31181746f7345c\n'}, {'number': 2, 'created': '2020-02-22 07:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d72b5bdab4e83614858fff88246fbd6875485574', 'message': 'Enable Apparmor to Glance\n\nUncommented glance_registry for enabling apparmor.\n\nChange-Id: I5efaab70178a12c84bf63774aa31181746f7345c\n'}, {'number': 3, 'created': '2020-02-22 08:08:15.000000000', 'files': ['glance/templates/deployment-registry.yaml', 'glance/values_overrides/apparmor.yaml', 'glance/templates/deployment-api.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e9cd82dc4040c0176f525ef80a9886c1ffe086f', 'message': 'Enable Apparmor to Glance\n\nUncommented glance_registry apparmor\n\nChange-Id: I5efaab70178a12c84bf63774aa31181746f7345c\n'}]",1,709276,6e9cd82dc4040c0176f525ef80a9886c1ffe086f,13,5,3,29131,,,0,"Enable Apparmor to Glance

Uncommented glance_registry apparmor

Change-Id: I5efaab70178a12c84bf63774aa31181746f7345c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/76/709276/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/deployment-registry.yaml', 'glance/values_overrides/apparmor.yaml', 'glance/templates/deployment-api.yaml', 'glance/values.yaml']",4,fab63211099e78d9ed6861e5ba6bcc0b7a5624e3,, deployment_registry: true, deployment_registry: false,13,1
openstack%2Fglance~master~Iff8c7349d2e7040bb31f146bdd119ccb6b098ec0,openstack/glance,master,Iff8c7349d2e7040bb31f146bdd119ccb6b098ec0,Use devstack ceph plugin python3 job,MERGED,2020-02-19 02:52:42.000000000,2020-02-24 17:36:41.000000000,2020-02-24 17:27:17.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 02:52:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/1a6c91ac4dc59e69f90bc8146bb4832ad00d3df4', 'message': 'Use devstack ceph plugin python3 job\n\ndevstack-plugin-ceph-tempest job is py2 job and\nnot supposed to run on master gate. We need to use\nits py3 version- devstack-plugin-ceph-tempest-py3\n\nChange-Id: Iff8c7349d2e7040bb31f146bdd119ccb6b098ec0\n'}]",0,708553,1a6c91ac4dc59e69f90bc8146bb4832ad00d3df4,10,3,1,8556,,,0,"Use devstack ceph plugin python3 job

devstack-plugin-ceph-tempest job is py2 job and
not supposed to run on master gate. We need to use
its py3 version- devstack-plugin-ceph-tempest-py3

Change-Id: Iff8c7349d2e7040bb31f146bdd119ccb6b098ec0
",git fetch https://review.opendev.org/openstack/glance refs/changes/53/708553/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1a6c91ac4dc59e69f90bc8146bb4832ad00d3df4,drop-py27-support, - devstack-plugin-ceph-tempest-py3:, - devstack-plugin-ceph-tempest: - devstack-plugin-ceph-tempest-py3: irrelevant-files: *tempest-irrelevant-files,1,3
openstack%2Fglance~master~I10e1e738aeacc708350993f05d373eaa1293fd27,openstack/glance,master,I10e1e738aeacc708350993f05d373eaa1293fd27,Document os_admin_user in Useful Image Properties,MERGED,2020-02-21 11:25:56.000000000,2020-02-24 17:34:52.000000000,2020-02-24 17:27:11.000000000,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 11:25:56.000000000', 'files': ['doc/source/admin/useful-image-properties.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/517ff4fbe4694adc95460ca209e2229a3255edb8', 'message': 'Document os_admin_user in Useful Image Properties\n\nAdd documentation of the os_admin_user property to the Useful Image Properties guide.\n\nChange-Id: I10e1e738aeacc708350993f05d373eaa1293fd27\nCloses-Bug: 1850412\n'}]",0,709109,517ff4fbe4694adc95460ca209e2229a3255edb8,7,2,1,15279,,,0,"Document os_admin_user in Useful Image Properties

Add documentation of the os_admin_user property to the Useful Image Properties guide.

Change-Id: I10e1e738aeacc708350993f05d373eaa1293fd27
Closes-Bug: 1850412
",git fetch https://review.opendev.org/openstack/glance refs/changes/09/709109/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/useful-image-properties.rst'],1,517ff4fbe4694adc95460ca209e2229a3255edb8,bug/1850412, - ``os_admin_user`` - The name of the user with admin privileges. - Valid username (defaults to ``root`` for Linux guests and ``Administrator`` for Windows guests). * - All,,4,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Iebc8278aca56f87fcf74cc2725a1ffc1197c1bf4,openstack/networking-ovn,stable/train,Iebc8278aca56f87fcf74cc2725a1ffc1197c1bf4,Fix cirros image download during resources creation for migration,MERGED,2020-02-18 18:23:02.000000000,2020-02-24 17:34:51.000000000,2020-02-24 17:29:45.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 29350}]","[{'number': 1, 'created': '2020-02-18 18:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7559622d3225101f0f650a989bc3923d33b823f4', 'message': 'Fix cirros image download during resources creation for migration\n\nThe link used for downloading cirros image is now redirecting to\nsome other location. Due to this reason the image was not downloaded\nproperly and created vm instance was not usable causing migration\nto fail. This patch adds a -L flag to curl allowing it to follow\nredirects and download the image successfully.\n\nChange-Id: Iebc8278aca56f87fcf74cc2725a1ffc1197c1bf4\n'}, {'number': 2, 'created': '2020-02-18 20:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9d3d815da4125fd50201fd398001541a4120a726', 'message': 'Fix cirros image download during resources creation for migration\n\nThe link used for downloading cirros image is now redirecting to\nsome other location. Due to this reason the image was not downloaded\nproperly and created vm instance was not usable causing migration\nto fail. This patch adds a -L flag to curl allowing it to follow\nredirects and download the image successfully.\n\nChange-Id: Iebc8278aca56f87fcf74cc2725a1ffc1197c1bf4\n'}, {'number': 3, 'created': '2020-02-19 09:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b02932793237ac349466b3802939aa4ffec0e80d', 'message': 'Fix cirros image download during resources creation for migration\n\nThe link used for downloading cirros image is now redirecting to\nsome other location. Due to this reason the image was not downloaded\nproperly and created vm instance was not usable causing migration\nto fail. This patch sets a correct link for cirros image.\n\nChange-Id: Iebc8278aca56f87fcf74cc2725a1ffc1197c1bf4\n'}, {'number': 4, 'created': '2020-02-19 12:14:24.000000000', 'files': ['migration/infrared/tripleo-ovn-migration/roles/create-resources/templates/create-resources.sh.j2', 'migration/tripleo_environment/playbooks/roles/resources/create/templates/create-resources.sh.j2'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b583f4fdddf27a820679355668e0b1426853b7cd', 'message': 'Fix cirros image download during resources creation for migration\n\nThe link used for downloading cirros image is now redirecting to\nsome other location. Due to this reason the image was not downloaded\nproperly and created vm instance was not usable causing migration\nto fail. This patch sets a correct link for cirros image. It also\nadds a -L flag to curl allowing it to follow redirects and download\nthe image successfully.\n\nChange-Id: Iebc8278aca56f87fcf74cc2725a1ffc1197c1bf4\n'}]",2,708476,b583f4fdddf27a820679355668e0b1426853b7cd,20,7,4,29350,,,0,"Fix cirros image download during resources creation for migration

The link used for downloading cirros image is now redirecting to
some other location. Due to this reason the image was not downloaded
properly and created vm instance was not usable causing migration
to fail. This patch sets a correct link for cirros image. It also
adds a -L flag to curl allowing it to follow redirects and download
the image successfully.

Change-Id: Iebc8278aca56f87fcf74cc2725a1ffc1197c1bf4
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/76/708476/2 && git format-patch -1 --stdout FETCH_HEAD,['migration/infrared/tripleo-ovn-migration/roles/create-resources/templates/create-resources.sh.j2'],1,7559622d3225101f0f650a989bc3923d33b823f4,fix_migration_cirros_image_download, curl -Lo cirros-0.4.0-x86_64-disk.img http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img, curl -o cirros-0.4.0-x86_64-disk.img http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img,1,1
openstack%2Fglance~stable%2Ftrain~I4298bb835ec60b79a0010e52318ada19eb24ad80,openstack/glance,stable/train,I4298bb835ec60b79a0010e52318ada19eb24ad80,Configure Glance TCP socket after the store initialization,MERGED,2020-02-13 14:33:37.000000000,2020-02-24 17:34:45.000000000,2020-02-24 17:27:19.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-13 14:33:37.000000000', 'files': ['glance/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/a1fd2b4de576b0bcb718a042cf257ce819543dbf', 'message': 'Configure Glance TCP socket after the store initialization\n\nWhen multiple stores are being used with rbd backend, Glance tries\nto get fsid of the cluster using rados library.\nIf even one of the rbd backends is unavailable, glance-api wsgi fails\nto start properly, but continue listening on the TCP socket and is not\nresponding at any request until the timeout.\n\nThis change moves socket configuration after the store initialization\nto make sure that failed Glance API process will not be\nconsidered as up by the haproxy TCP check.\n\nChange-Id: I4298bb835ec60b79a0010e52318ada19eb24ad80\nRelated-Bug: #1861723\n(cherry picked from commit d9902c26a1f75149793b92d92968c40288f3d9ae)\n'}]",0,707653,a1fd2b4de576b0bcb718a042cf257ce819543dbf,9,4,1,9373,,,0,"Configure Glance TCP socket after the store initialization

When multiple stores are being used with rbd backend, Glance tries
to get fsid of the cluster using rados library.
If even one of the rbd backends is unavailable, glance-api wsgi fails
to start properly, but continue listening on the TCP socket and is not
responding at any request until the timeout.

This change moves socket configuration after the store initialization
to make sure that failed Glance API process will not be
considered as up by the haproxy TCP check.

Change-Id: I4298bb835ec60b79a0010e52318ada19eb24ad80
Related-Bug: #1861723
(cherry picked from commit d9902c26a1f75149793b92d92968c40288f3d9ae)
",git fetch https://review.opendev.org/openstack/glance refs/changes/53/707653/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/wsgi.py'],1,a1fd2b4de576b0bcb718a042cf257ce819543dbf,bug/1861723-stable/train," self.configure_socket(old_conf, has_changed)"," self.configure_socket(old_conf, has_changed)",1,1
openstack%2Fdevstack~master~Ib07d9522d1cb6e288edb7f78ee1960ab48d89d76,openstack/devstack,master,Ib07d9522d1cb6e288edb7f78ee1960ab48d89d76,zuul: Add the fedora-latest-virt-preview job to the experimental queue,MERGED,2020-01-28 14:05:24.000000000,2020-02-24 17:34:45.000000000,2020-02-24 17:27:09.000000000,"[{'_account_id': 10135}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-28 14:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bb2a35630f132c844c68b193560b156c915602f6', 'message': ""zuul: Add the fedora-latest-virt-preview job to the experimental queue\n\nAllowing the job to be tested outside of openstack/nova's own\nexperimental queue.\n\nChange-Id: Ib07d9522d1cb6e288edb7f78ee1960ab48d89d76\n""}, {'number': 2, 'created': '2020-02-13 15:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4d7c4fef7333d6054732816f91c9a8a91a57aacd', 'message': ""zuul: Add the fedora-latest-virt-preview job to the experimental queue\n\nAllowing the job to be tested outside of openstack/nova's own\nexperimental queue.\n\nChange-Id: Ib07d9522d1cb6e288edb7f78ee1960ab48d89d76\n""}, {'number': 3, 'created': '2020-02-19 20:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8ba433446d06fa2f97ae885043a1bb9697d8db5c', 'message': ""zuul: Add the fedora-latest-virt-preview job to the experimental queue\n\nAllowing the job to be tested outside of openstack/nova's own\nexperimental queue.\n\nDepends-On: https://review.opendev.org/#/c/708745/\nChange-Id: Ib07d9522d1cb6e288edb7f78ee1960ab48d89d76\n""}, {'number': 4, 'created': '2020-02-20 09:24:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/96ddc69a2ef5caea7621d3b94d4fa2b0ef10977b', 'message': ""zuul: Add the fedora-latest-virt-preview job to the experimental queue\n\nAllowing the job to be tested outside of openstack/nova's own\nexperimental queue.\n\nChange-Id: Ib07d9522d1cb6e288edb7f78ee1960ab48d89d76\n""}]",1,704573,96ddc69a2ef5caea7621d3b94d4fa2b0ef10977b,30,4,4,10135,,,0,"zuul: Add the fedora-latest-virt-preview job to the experimental queue

Allowing the job to be tested outside of openstack/nova's own
experimental queue.

Change-Id: Ib07d9522d1cb6e288edb7f78ee1960ab48d89d76
",git fetch https://review.opendev.org/openstack/devstack refs/changes/73/704573/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bb2a35630f132c844c68b193560b156c915602f6,fedora-virt-preview, - devstack-platform-fedora-latest-virt-preview,,1,0
openstack%2Fneutron~stable%2Fstein~Ic821f8ca84add9c8137ef712031afb43e491591c,openstack/neutron,stable/stein,Ic821f8ca84add9c8137ef712031afb43e491591c,Re-use existing ProcessLauncher from wsgi in RPC workers,MERGED,2020-02-19 07:58:54.000000000,2020-02-24 17:34:44.000000000,2020-02-24 17:26:48.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-19 07:58:54.000000000', 'files': ['neutron/server/wsgi_eventlet.py', 'neutron/wsgi.py', 'neutron/service.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4916bbc5f3c3727a7f0ad822ec6c140b54e51271', 'message': 'Re-use existing ProcessLauncher from wsgi in RPC workers\n\nIf both are run under the same process, and api_workers >= 2, the server\nprocess will instantiate two oslo_service.ProcessLauncher instances\n\nThis should be avoided [0], and indeed causes issues on subprocess and\nsignal handling: killed RPC workers not respawning, SIGHUP on master\nprocess leading to unresponsive server, signal not properly sent to all\nchild processes, ...\n\nTo avoid this, use the wsgi ProcessLauncher instance if it exists\n\n[0] https://docs.openstack.org/oslo.service/latest/user/usage.html#launchers\n\nChange-Id: Ic821f8ca84add9c8137ef712031afb43e491591c\nCloses-Bug: #1780139\n(cherry picked from commit 13aa00026f768642f385259ba7ccddcfdad3c75f)\n'}]",0,708571,4916bbc5f3c3727a7f0ad822ec6c140b54e51271,14,6,1,21798,,,0,"Re-use existing ProcessLauncher from wsgi in RPC workers

If both are run under the same process, and api_workers >= 2, the server
process will instantiate two oslo_service.ProcessLauncher instances

This should be avoided [0], and indeed causes issues on subprocess and
signal handling: killed RPC workers not respawning, SIGHUP on master
process leading to unresponsive server, signal not properly sent to all
child processes, ...

To avoid this, use the wsgi ProcessLauncher instance if it exists

[0] https://docs.openstack.org/oslo.service/latest/user/usage.html#launchers

Change-Id: Ic821f8ca84add9c8137ef712031afb43e491591c
Closes-Bug: #1780139
(cherry picked from commit 13aa00026f768642f385259ba7ccddcfdad3c75f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/708571/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/server/wsgi_eventlet.py', 'neutron/wsgi.py', 'neutron/service.py']",3,4916bbc5f3c3727a7f0ad822ec6c140b54e51271,bug/1780139-stable/stein,"def _start_workers(workers, neutron_api=None): # Get eventual already existing instance from WSGI app worker_launcher = None if neutron_api: worker_launcher = neutron_api.wsgi_app.process_launcher if worker_launcher is None: worker_launcher = common_service.ProcessLauncher( cfg.CONF, wait_interval=1.0, restart_method='mutate' )def start_all_workers(neutron_api=None): launcher = _start_workers(workers, neutron_api)","def _start_workers(workers): worker_launcher = common_service.ProcessLauncher( cfg.CONF, wait_interval=1.0, restart_method='mutate' )def start_all_workers(): launcher = _start_workers(workers)",18,7
openstack%2Fmonasca-persister~master~Iaa6b3f2456a5ff239a06d65048b81d92c89c3397,openstack/monasca-persister,master,Iaa6b3f2456a5ff239a06d65048b81d92c89c3397,Fix program name in CLI usage info,NEW,2020-02-24 11:34:15.000000000,2020-02-24 17:34:26.000000000,,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 11:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/64b184c7f7e024712f171bede2f0b1e011882efb', 'message': 'Fix program name in CLI usage info\n\nChange-Id: Iaa6b3f2456a5ff239a06d65048b81d92c89c3397\nStory: 2007332\nTask: 38857\n'}, {'number': 2, 'created': '2020-02-24 13:50:28.000000000', 'files': ['monasca_persister/config.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/0920e455e132bc20881ed564b74febada4d89cf4', 'message': 'Fix program name in CLI usage info\n\nChange-Id: Iaa6b3f2456a5ff239a06d65048b81d92c89c3397\nStory: 2007332\nTask: 38857\n'}]",0,709452,0920e455e132bc20881ed564b74febada4d89cf4,7,3,2,16222,,,0,"Fix program name in CLI usage info

Change-Id: Iaa6b3f2456a5ff239a06d65048b81d92c89c3397
Story: 2007332
Task: 38857
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/52/709452/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_persister/config.py'],1,64b184c7f7e024712f171bede2f0b1e011882efb,," CONF(prog='monasca-persister',"," CONF(prog=sys.argv[1:],",1,1
openstack%2Fmonasca-notification~master~I327931591e72efd8890e5bb6bbe1cc6a712cb193,openstack/monasca-notification,master,I327931591e72efd8890e5bb6bbe1cc6a712cb193,Fix program name CLI usage info,NEW,2020-02-24 11:23:55.000000000,2020-02-24 17:33:57.000000000,,"[{'_account_id': 10311}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 11:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/0074211f0656507895799f3130cbb8e9f984a40b', 'message': 'Fix program name CLI usage info\n\nStory: 2007332\nTask: 38856\n\nChange-Id: I327931591e72efd8890e5bb6bbe1cc6a712cb193\nCo-authored-by: ricolin <rico.lin.guanyu@gmail.com>\n'}, {'number': 2, 'created': '2020-02-24 12:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/6c8ec9ea76623c60b112f1c0a21fd8f5aef600a6', 'message': 'Fix program name in CLI usage info\n\nStory: 2007332\nTask: 38856\n\nChange-Id: I327931591e72efd8890e5bb6bbe1cc6a712cb193\nCo-authored-by: ricolin <rico.lin.guanyu@gmail.com>\n'}, {'number': 3, 'created': '2020-02-24 13:50:07.000000000', 'files': ['monasca_notification/config.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/d8f459fca54538f85b321592669e201ea0f8b52f', 'message': 'Fix program name CLI usage info\n\nStory: 2007332\nTask: 38856\n\nChange-Id: I327931591e72efd8890e5bb6bbe1cc6a712cb193\nCo-authored-by: ricolin <rico.lin.guanyu@gmail.com>\n'}]",0,709450,d8f459fca54538f85b321592669e201ea0f8b52f,7,3,3,16222,,,0,"Fix program name CLI usage info

Story: 2007332
Task: 38856

Change-Id: I327931591e72efd8890e5bb6bbe1cc6a712cb193
Co-authored-by: ricolin <rico.lin.guanyu@gmail.com>
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/50/709450/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/config.py'],1,0074211f0656507895799f3130cbb8e9f984a40b,," prog='monasca-notification',"," prog=sys.argv[1:],",1,1
openstack%2Fglance~master~If2616c275a969cdad5649e2cb0851275e5d0c7d2,openstack/glance,master,If2616c275a969cdad5649e2cb0851275e5d0c7d2,"Multiple import fails if ""all_stores"" specified as ""true""",MERGED,2020-02-19 12:04:22.000000000,2020-02-24 17:27:16.000000000,2020-02-24 17:27:16.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 12:04:22.000000000', 'files': ['glance/tests/unit/common/test_utils.py', 'glance/common/utils.py', 'doc/source/admin/multistores.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/d7de7ccbd68a77e07cde0e3d8bb1a0874c0be903', 'message': 'Multiple import fails if ""all_stores"" specified as ""true""\n\nNewly added multiple import fails if user passes ""all_stores"" as ""true""\nin the request. The reason is if all_stores is specified then we are getting\nstores using CONF.enabled_backends and unfortunately we are injecting\nreserved stores \'os_glance_staging_store\' and \'os_glance_tasks_store\'\nruntime. As a result import job tries to import the image in the\n\'os_glance_staging_store\' store as well where it fails as that image\nis already staged in this staging store.\n\nMade a provision to exclude available reserved stores if ""all_stores""\nis specified.\n\nChange-Id: If2616c275a969cdad5649e2cb0851275e5d0c7d2\nCloses-Bug: #1863879\n'}]",2,708629,d7de7ccbd68a77e07cde0e3d8bb1a0874c0be903,14,5,1,9303,,,0,"Multiple import fails if ""all_stores"" specified as ""true""

Newly added multiple import fails if user passes ""all_stores"" as ""true""
in the request. The reason is if all_stores is specified then we are getting
stores using CONF.enabled_backends and unfortunately we are injecting
reserved stores 'os_glance_staging_store' and 'os_glance_tasks_store'
runtime. As a result import job tries to import the image in the
'os_glance_staging_store' store as well where it fails as that image
is already staged in this staging store.

Made a provision to exclude available reserved stores if ""all_stores""
is specified.

Change-Id: If2616c275a969cdad5649e2cb0851275e5d0c7d2
Closes-Bug: #1863879
",git fetch https://review.opendev.org/openstack/glance refs/changes/29/708629/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_utils.py', 'glance/common/utils.py', 'doc/source/admin/multistores.rst']",3,d7de7ccbd68a77e07cde0e3d8bb1a0874c0be903,bug/1863879,.. note:: If end user wants to retrieve all the available stores using ``CONF.enabled_backeds`` then he needs to remove reserved stores from that list explicitly. ,,42,1
openstack%2Fneutron~stable%2Fqueens~Ic821f8ca84add9c8137ef712031afb43e491591c,openstack/neutron,stable/queens,Ic821f8ca84add9c8137ef712031afb43e491591c,Re-use existing ProcessLauncher from wsgi in RPC workers,MERGED,2020-02-19 08:37:16.000000000,2020-02-24 17:26:55.000000000,2020-02-24 17:26:54.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-19 08:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/375f1c184a39c1fb8b4717f2b8b90d019627ec80', 'message': 'Re-use existing ProcessLauncher from wsgi in RPC workers\n\nIf both are run under the same process, and api_workers >= 2, the server\nprocess will instantiate two oslo_service.ProcessLauncher instances\n\nThis should be avoided [0], and indeed causes issues on subprocess and\nsignal handling: killed RPC workers not respawning, SIGHUP on master\nprocess leading to unresponsive server, signal not properly sent to all\nchild processes, ...\n\nTo avoid this, use the wsgi ProcessLauncher instance if it exists\n\n[0] https://docs.openstack.org/oslo.service/latest/user/usage.html#launchers\n\nConflicts:\n\tneutron/service.py\n\nChange-Id: Ic821f8ca84add9c8137ef712031afb43e491591c\nCloses-Bug: #1780139\n(cherry picked from commit 13aa00026f768642f385259ba7ccddcfdad3c75f)\n'}, {'number': 2, 'created': '2020-02-20 09:39:23.000000000', 'files': ['neutron/server/wsgi_eventlet.py', 'neutron/wsgi.py', 'neutron/service.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/66d45b8e91bf1263c82e636bd21498bf6de552bc', 'message': 'Re-use existing ProcessLauncher from wsgi in RPC workers\n\nIf both are run under the same process, and api_workers >= 2, the server\nprocess will instantiate two oslo_service.ProcessLauncher instances\n\nThis should be avoided [0], and indeed causes issues on subprocess and\nsignal handling: killed RPC workers not respawning, SIGHUP on master\nprocess leading to unresponsive server, signal not properly sent to all\nchild processes, ...\n\nTo avoid this, use the wsgi ProcessLauncher instance if it exists\n\n[0] https://docs.openstack.org/oslo.service/latest/user/usage.html#launchers\n\nConflicts:\n\tneutron/service.py\n\nDepends-On: https://review.opendev.org/708825/\nChange-Id: Ic821f8ca84add9c8137ef712031afb43e491591c\nCloses-Bug: #1780139\n(cherry picked from commit 13aa00026f768642f385259ba7ccddcfdad3c75f)\n'}]",0,708576,66d45b8e91bf1263c82e636bd21498bf6de552bc,29,7,2,21798,,,0,"Re-use existing ProcessLauncher from wsgi in RPC workers

If both are run under the same process, and api_workers >= 2, the server
process will instantiate two oslo_service.ProcessLauncher instances

This should be avoided [0], and indeed causes issues on subprocess and
signal handling: killed RPC workers not respawning, SIGHUP on master
process leading to unresponsive server, signal not properly sent to all
child processes, ...

To avoid this, use the wsgi ProcessLauncher instance if it exists

[0] https://docs.openstack.org/oslo.service/latest/user/usage.html#launchers

Conflicts:
	neutron/service.py

Depends-On: https://review.opendev.org/708825/
Change-Id: Ic821f8ca84add9c8137ef712031afb43e491591c
Closes-Bug: #1780139
(cherry picked from commit 13aa00026f768642f385259ba7ccddcfdad3c75f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/708576/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/server/wsgi_eventlet.py', 'neutron/wsgi.py', 'neutron/service.py']",3,375f1c184a39c1fb8b4717f2b8b90d019627ec80,bug/1780139-stable/queens,"def _start_workers(workers, neutron_api=None): # Get eventual already existing instance from WSGI app worker_launcher = None if neutron_api: worker_launcher = neutron_api.wsgi_app.process_launcher if worker_launcher is None: worker_launcher = common_service.ProcessLauncher( cfg.CONF, wait_interval=1.0 )def start_all_workers(neutron_api=None): launcher = _start_workers(workers, neutron_api)","def _start_workers(workers): worker_launcher = common_service.ProcessLauncher( cfg.CONF, wait_interval=1.0 )def start_all_workers(): launcher = _start_workers(workers)",18,7
openstack%2Fneutron~stable%2Frocky~Ic821f8ca84add9c8137ef712031afb43e491591c,openstack/neutron,stable/rocky,Ic821f8ca84add9c8137ef712031afb43e491591c,Re-use existing ProcessLauncher from wsgi in RPC workers,MERGED,2020-02-19 07:59:06.000000000,2020-02-24 17:26:52.000000000,2020-02-24 17:26:51.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-19 07:59:06.000000000', 'files': ['neutron/server/wsgi_eventlet.py', 'neutron/wsgi.py', 'neutron/service.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc68b69fc04283746518692886f386f034afc8f0', 'message': 'Re-use existing ProcessLauncher from wsgi in RPC workers\n\nIf both are run under the same process, and api_workers >= 2, the server\nprocess will instantiate two oslo_service.ProcessLauncher instances\n\nThis should be avoided [0], and indeed causes issues on subprocess and\nsignal handling: killed RPC workers not respawning, SIGHUP on master\nprocess leading to unresponsive server, signal not properly sent to all\nchild processes, ...\n\nTo avoid this, use the wsgi ProcessLauncher instance if it exists\n\n[0] https://docs.openstack.org/oslo.service/latest/user/usage.html#launchers\n\nChange-Id: Ic821f8ca84add9c8137ef712031afb43e491591c\nCloses-Bug: #1780139\n(cherry picked from commit 13aa00026f768642f385259ba7ccddcfdad3c75f)\n'}]",0,708572,dc68b69fc04283746518692886f386f034afc8f0,9,5,1,21798,,,0,"Re-use existing ProcessLauncher from wsgi in RPC workers

If both are run under the same process, and api_workers >= 2, the server
process will instantiate two oslo_service.ProcessLauncher instances

This should be avoided [0], and indeed causes issues on subprocess and
signal handling: killed RPC workers not respawning, SIGHUP on master
process leading to unresponsive server, signal not properly sent to all
child processes, ...

To avoid this, use the wsgi ProcessLauncher instance if it exists

[0] https://docs.openstack.org/oslo.service/latest/user/usage.html#launchers

Change-Id: Ic821f8ca84add9c8137ef712031afb43e491591c
Closes-Bug: #1780139
(cherry picked from commit 13aa00026f768642f385259ba7ccddcfdad3c75f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/708572/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/server/wsgi_eventlet.py', 'neutron/wsgi.py', 'neutron/service.py']",3,dc68b69fc04283746518692886f386f034afc8f0,bug/1780139-stable/rocky,"def _start_workers(workers, neutron_api=None): # Get eventual already existing instance from WSGI app worker_launcher = None if neutron_api: worker_launcher = neutron_api.wsgi_app.process_launcher if worker_launcher is None: worker_launcher = common_service.ProcessLauncher( cfg.CONF, wait_interval=1.0, restart_method='mutate' )def start_all_workers(neutron_api=None): launcher = _start_workers(workers, neutron_api)","def _start_workers(workers): worker_launcher = common_service.ProcessLauncher( cfg.CONF, wait_interval=1.0, restart_method='mutate' )def start_all_workers(): launcher = _start_workers(workers)",18,7
openstack%2Fpuppet-nova~master~I8b9d810312b1c9f74331672b346d8a30a54f79cb,openstack/puppet-nova,master,I8b9d810312b1c9f74331672b346d8a30a54f79cb,Remove compabitility code for dhcp_domain,MERGED,2020-02-24 01:46:24.000000000,2020-02-24 17:26:45.000000000,2020-02-24 17:26:45.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 01:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e903b6411808d6cf87130e0b4e5aed2843817d37', 'message': 'Remove compabitility code for dhcp_domain\n\nWe have completely remove dhcp_domain from nova::network::neutron,\nso now we can safely remove compatibility code for it.\n\nChange-Id: I8b9d810312b1c9f74331672b346d8a30a54f79cb\n'}, {'number': 2, 'created': '2020-02-24 03:39:14.000000000', 'files': ['manifests/metadata.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/267ff94094a7888f6430ef716ba25550c8faa748', 'message': 'Remove compabitility code for dhcp_domain\n\nWe have completely remove dhcp_domain from nova::network::neutron,\nso now we can safely remove compatibility code for it.\n\nChange-Id: I8b9d810312b1c9f74331672b346d8a30a54f79cb\n'}]",1,709383,267ff94094a7888f6430ef716ba25550c8faa748,10,4,2,9816,,,0,"Remove compabitility code for dhcp_domain

We have completely remove dhcp_domain from nova::network::neutron,
so now we can safely remove compatibility code for it.

Change-Id: I8b9d810312b1c9f74331672b346d8a30a54f79cb
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/83/709383/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/metadata.pp'],1,e903b6411808d6cf87130e0b4e5aed2843817d37,dhcp_domain," ensure_resource('nova_config', 'api/dhcp_domain', { value => $dhcp_domain 'api/dhcp_domain': value => $dhcp_domain; 'api/metadata_cache_expiration': value => $metadata_cache_expiration; 'api/local_metadata_per_cell': value => $local_metadata_per_cell;"," # TODO(mwhahaha): backwards compatibility until we drop it from # nova::network::network if defined('$::nova::neutron::dhcp_domain') and $::nova::neutron::dhcp_domain != undef { $dhcp_domain_real = $::nova::neutron::dhcp_domain } else { $dhcp_domain_real = $dhcp_domain } ensure_resource('nova_config', 'api/dhcp_domain', { value => $dhcp_domain_real 'api/metadata_cache_expiration': value => $metadata_cache_expiration; 'api/local_metadata_per_cell': value => $local_metadata_per_cell;",4,10
openstack%2Foslo.cache~stable%2Fqueens~I3e335261f749ad065e8abe972f4ac476d334e6b3,openstack/oslo.cache,stable/queens,I3e335261f749ad065e8abe972f4ac476d334e6b3,Pass `flush_on_reconnect` to memcache pooled backend,MERGED,2020-01-28 08:54:39.000000000,2020-02-24 17:12:41.000000000,2020-02-24 17:10:54.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-01-28 08:54:39.000000000', 'files': ['oslo_cache/_memcache_pool.py', 'releasenotes/notes/bug-1819957-ccff6b0ec9d1cbf2.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/c31dd1aaac0a1dd8ca3f77b6da911ae85de6dc7a', 'message': ""Pass `flush_on_reconnect` to memcache pooled backend\n\nIf a memcache server disappears and then reconnects when multiple memcache\nservers are used (specific to the python-memcached based backends) it is\npossible that the server will contain stale data. The default is now to\nsupply the ``flush_on_reconnect`` optional argument to the backend. This\nmeans that when the service connects to a memcache server, it will flush\nall cached data in the server. The pooled backend is more likely to\nrun into issues with this as it does not explicitly use a thread.local\nfor the client. The non-pooled backend was not touched, it is not\nthe recommended production use-case.\n\nSee the help from python-memcached:\n\n    @param flush_on_reconnect: optional flag which prevents a\n\tscenario that can cause stale data to be read: If there's more\n\tthan one memcached server and the connection to one is\n\tinterrupted, keys that mapped to that server will get\n\treassigned to another. If the first server comes back, those\n\tkeys will map to it again. If it still has its data, get()s\n\tcan read stale data that was overwritten on another\n\tserver. This flag is off by default for backwards\n\tcompatibility.\n\nChange-Id: I3e335261f749ad065e8abe972f4ac476d334e6b3\ncloses-bug: #1819957\n(cherry picked from commit 1192f185a5fd2fa6177655f157146488a3de81d1)\n""}]",0,704508,c31dd1aaac0a1dd8ca3f77b6da911ae85de6dc7a,11,4,1,28522,,,0,"Pass `flush_on_reconnect` to memcache pooled backend

If a memcache server disappears and then reconnects when multiple memcache
servers are used (specific to the python-memcached based backends) it is
possible that the server will contain stale data. The default is now to
supply the ``flush_on_reconnect`` optional argument to the backend. This
means that when the service connects to a memcache server, it will flush
all cached data in the server. The pooled backend is more likely to
run into issues with this as it does not explicitly use a thread.local
for the client. The non-pooled backend was not touched, it is not
the recommended production use-case.

See the help from python-memcached:

    @param flush_on_reconnect: optional flag which prevents a
	scenario that can cause stale data to be read: If there's more
	than one memcached server and the connection to one is
	interrupted, keys that mapped to that server will get
	reassigned to another. If the first server comes back, those
	keys will map to it again. If it still has its data, get()s
	can read stale data that was overwritten on another
	server. This flag is off by default for backwards
	compatibility.

Change-Id: I3e335261f749ad065e8abe972f4ac476d334e6b3
closes-bug: #1819957
(cherry picked from commit 1192f185a5fd2fa6177655f157146488a3de81d1)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/08/704508/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/_memcache_pool.py', 'releasenotes/notes/bug-1819957-ccff6b0ec9d1cbf2.yaml']",2,c31dd1aaac0a1dd8ca3f77b6da911ae85de6dc7a,flush_on_reconnect,"--- fixes: - | [`bug 1819957 <https://bugs.launchpad.net/keystone/+bug/1819957>`_] If a memcache server disappears and then reconnects when multiple memcache servers are used (specific to the python-memcached based backends) it is possible that the server will contain stale data. The default is now to supply the ``flush_on_reconnect`` optional argument to the backend. This means that when the service connects to a memcache server, it will flush all cached data in the server. This change only impacts the pooled backend as it is the most likely (with heavy use of greenlet) to be impacted by the problem and is the recommended production configuration. See the help from python-memcached: @param flush_on_reconnect: optional flag which prevents a scenario that can cause stale data to be read: If there's more than one memcached server and the connection to one is interrupted, keys that mapped to that server will get reassigned to another. If the first server comes back, those keys will map to it again. If it still has its data, get()s can read stale data that was overwritten on another server. This flag is off by default for backwards compatibility. ",,45,1
openstack%2Fcyborg~master~I085ef5b0197b76b7b53639610f62b615fb538983,openstack/cyborg,master,I085ef5b0197b76b7b53639610f62b615fb538983,Fix exceptions defined with improper _msg_fmt,MERGED,2020-02-19 19:05:44.000000000,2020-02-24 17:08:21.000000000,2020-02-24 17:06:09.000000000,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-02-19 19:05:44.000000000', 'files': ['cyborg/common/exception.py', 'cyborg/tests/unit/test_exception.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1e1b2693aa42bf3718ebd3d6f68c72b704b9f91b', 'message': 'Fix exceptions defined with improper _msg_fmt\n\nMany exceptions are defined in such a way that they will not render properly\nwhen stringified. This is because instead of _msg_fmt, they used msg_fmt\nor message in the class definition.\n\nThis fixes those and adds a test which I used to find all the offenders.\n\nCloses task: #38817\n\nChange-Id: I085ef5b0197b76b7b53639610f62b615fb538983\n'}]",0,708728,1e1b2693aa42bf3718ebd3d6f68c72b704b9f91b,16,7,1,4393,,,0,"Fix exceptions defined with improper _msg_fmt

Many exceptions are defined in such a way that they will not render properly
when stringified. This is because instead of _msg_fmt, they used msg_fmt
or message in the class definition.

This fixes those and adds a test which I used to find all the offenders.

Closes task: #38817

Change-Id: I085ef5b0197b76b7b53639610f62b615fb538983
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/28/708728/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/common/exception.py', 'cyborg/tests/unit/test_exception.py']",2,1e1b2693aa42bf3718ebd3d6f68c72b704b9f91b,fix-report-failed-parent,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from cyborg.common import exception from cyborg.tests import base class TestException(base.TestCase): def _get_all_exception_classes(self): classes = [] base_class = exception.CyborgException for name in dir(exception): item = getattr(exception, name) if item == base_class: continue elif type(item) != type: continue elif not issubclass(item, base_class): continue classes.append(item) return classes def test_all_exceptions(self): bad_classes = [] for cls in self._get_all_exception_classes(): parent = cls.mro()[1] if parent._msg_fmt == cls._msg_fmt: bad_classes.append(cls.__name__) self.assertEqual([], bad_classes, 'Exception classes %s do not ' 'set _msg_fmt' % ', '.join(bad_classes)) ",,96,50
openstack%2Fkolla-ansible~master~I4991d754e34ec42a4b38331839d9679b307589bd,openstack/kolla-ansible,master,I4991d754e34ec42a4b38331839d9679b307589bd,Stop using deprecated stores and default_store in glance,MERGED,2020-02-17 12:21:34.000000000,2020-02-24 16:53:29.000000000,2020-02-24 16:25:58.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-17 12:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/018c0fa02ffacd8209907331663d9b483f586ee8', 'message': 'Stop using deprecated stores and default_store in glance\n\nOption ""stores"" from group ""glance_store"" is deprecated for removal\nOption ""default_store"" from group ""glance_store"" is deprecated for removal\n\nMulti store support is available since Rocky - time to start using\nit.\n\nChange-Id: I4991d754e34ec42a4b38331839d9679b307589bd\n'}, {'number': 2, 'created': '2020-02-17 16:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f8bb020b5be675520125c37fc290dd169a36f31', 'message': 'Stop using deprecated stores and default_store in glance\n\nOption ""stores"" from group ""glance_store"" is deprecated for removal\nOption ""default_store"" from group ""glance_store"" is deprecated for removal\n\nMulti store support is available since Rocky - time to start using\nit.\n\nChange-Id: I4991d754e34ec42a4b38331839d9679b307589bd\n'}, {'number': 3, 'created': '2020-02-17 18:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/49650b578d89c9f7470aa75fac54a15f3bd48a85', 'message': 'Stop using deprecated stores and default_store in glance\n\nOption ""stores"" from group ""glance_store"" is deprecated for removal\nOption ""default_store"" from group ""glance_store"" is deprecated for removal\n\nMulti store support is available since Rocky - time to start using\nit.\n\nChange-Id: I4991d754e34ec42a4b38331839d9679b307589bd\n'}, {'number': 4, 'created': '2020-02-18 15:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/127d618c63e7022efc15b2835bde3c42e3689ae0', 'message': 'Stop using deprecated stores and default_store in glance\n\nOption ""stores"" from group ""glance_store"" is deprecated for removal\nOption ""default_store"" from group ""glance_store"" is deprecated for removal\n\nMulti store support is available since Rocky - time to start using\nit.\n\nChange-Id: I4991d754e34ec42a4b38331839d9679b307589bd\n'}, {'number': 5, 'created': '2020-02-19 08:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b4b1ebeaa8c0da40dbbba981c9d8acc6252dc63', 'message': 'Stop using deprecated stores and default_store in glance\n\nOption ""stores"" from group ""glance_store"" is deprecated for removal\nOption ""default_store"" from group ""glance_store"" is deprecated for removal\n\nMulti store support is available since Rocky - time to start using\nit.\n\nChange-Id: I4991d754e34ec42a4b38331839d9679b307589bd\n'}, {'number': 6, 'created': '2020-02-19 15:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09c7ff1e628d6a492dd38c1ba057f6fc89b8cbd2', 'message': 'Stop using deprecated stores and default_store in glance\n\nOption ""stores"" from group ""glance_store"" is deprecated for removal\nOption ""default_store"" from group ""glance_store"" is deprecated for removal\n\nMulti store support is available since Rocky - time to start using\nit.\n\nChange-Id: I4991d754e34ec42a4b38331839d9679b307589bd\n'}, {'number': 7, 'created': '2020-02-20 16:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f40a044b7107b2283671b1080f0e41e7b51f0408', 'message': 'Stop using deprecated stores and default_store in glance\n\nOption ""stores"" from group ""glance_store"" is deprecated for removal\nOption ""default_store"" from group ""glance_store"" is deprecated for removal\n\nMulti store support is available since Rocky - time to start using\nit.\n\nChange-Id: I4991d754e34ec42a4b38331839d9679b307589bd\n'}, {'number': 8, 'created': '2020-02-20 20:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa687c0477e3cdc4535be3153300878a37ae5d76', 'message': 'Stop using deprecated stores and default_store in glance\n\nOption ""stores"" from group ""glance_store"" is deprecated for removal\nOption ""default_store"" from group ""glance_store"" is deprecated for removal\n\nMulti store support is available since Rocky - time to start using\nit.\n\nChange-Id: I4991d754e34ec42a4b38331839d9679b307589bd\n'}, {'number': 9, 'created': '2020-02-21 08:48:32.000000000', 'files': ['ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/glance/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f031560fa3a7739b3879f80bfd931872863c8c2d', 'message': 'Stop using deprecated stores and default_store in glance\n\nOption ""stores"" from group ""glance_store"" is deprecated for removal\nOption ""default_store"" from group ""glance_store"" is deprecated for removal\n\nMulti store support is available since Rocky - time to start using\nit.\n\nChange-Id: I4991d754e34ec42a4b38331839d9679b307589bd\n'}]",9,708114,f031560fa3a7739b3879f80bfd931872863c8c2d,56,4,9,22629,,,0,"Stop using deprecated stores and default_store in glance

Option ""stores"" from group ""glance_store"" is deprecated for removal
Option ""default_store"" from group ""glance_store"" is deprecated for removal

Multi store support is available since Rocky - time to start using
it.

Change-Id: I4991d754e34ec42a4b38331839d9679b307589bd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/708114/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/glance/templates/glance-api.conf.j2'],1,018c0fa02ffacd8209907331663d9b483f586ee8,,"default_backend = vmwaredefault_backend = rbddefault_backend = swift+httpdefault_backend = fileenabled_backends = {% for key in glance_store_backends %}{{ key.name }}:{{ key.type }}{% if not loop.last %}, {% endif %}{% endfor %}[file] filesystem_store_datadir = /var/lib/glance/images/ [rbd][swift][vmware]","default_store = vspheredefault_store = rbddefault_store = swift+httpdefault_store = file filesystem_store_datadir = /var/lib/glance/images/stores = {{ glance_store_backends|map(attribute='name')|join(',') }}",11,6
openstack%2Foctavia-tempest-plugin~master~I487b1fc7e3de8724b16b6f8eabad5e69f5009758,openstack/octavia-tempest-plugin,master,I487b1fc7e3de8724b16b6f8eabad5e69f5009758,Fix test pool to prevent immutability state errors,MERGED,2020-01-18 07:59:19.000000000,2020-02-24 16:52:06.000000000,2020-02-24 16:50:15.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-01-18 07:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e3c11facb293249054ee8a175679162b0a3ae86e', 'message': 'Fix test pool to prevent immutability state errors\n\nWhen a test method completes it must assert its resources are in a\nmutable state or following test methods in same test class can fail to\ncreate, update and delete shared test class resources.\n\nThis problem has been recently seen in upstream CI [1]. The test method\nwas not waiting for the load balancer to come back up after a CUD\noperation in its child resources, resulting in the next test method\nexecution failing to create a pool on the test class-level load\nbalancer.\n\n[1] https://zuul.opendev.org/t/openstack/build/ \\\n    5d8eb87364c84480b54c87fd6966dbf4/log/controller/logs/tempest_log.txt#7968\n\nChange-Id: I487b1fc7e3de8724b16b6f8eabad5e69f5009758\n'}, {'number': 2, 'created': '2020-01-20 18:00:45.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_pool.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/03e35bb9af6e15c7182ac03eb55b15f9d15a5113', 'message': 'Fix test pool to prevent immutability state errors\n\nWhen a test method completes it must assert its resources are in a\nmutable state or following test methods in same test class can fail to\ncreate, update and delete shared test class resources.\n\nThis problem has been recently seen in upstream CI [1]. The test method\nwas not waiting for the load balancer to come back up after a CUD\noperation in its child resources, resulting in the next test method\nexecution failing to create a pool on the test class-level load\nbalancer.\n\n[1] https://zuul.opendev.org/t/openstack/build/ \\\n    5d8eb87364c84480b54c87fd6966dbf4/log/controller/logs/tempest_log.txt#7968\n    \nStory: 2007187\nTask: 38313\n\nChange-Id: I487b1fc7e3de8724b16b6f8eabad5e69f5009758\n'}]",1,703227,03e35bb9af6e15c7182ac03eb55b15f9d15a5113,33,6,2,6469,,,0,"Fix test pool to prevent immutability state errors

When a test method completes it must assert its resources are in a
mutable state or following test methods in same test class can fail to
create, update and delete shared test class resources.

This problem has been recently seen in upstream CI [1]. The test method
was not waiting for the load balancer to come back up after a CUD
operation in its child resources, resulting in the next test method
execution failing to create a pool on the test class-level load
balancer.

[1] https://zuul.opendev.org/t/openstack/build/ \
    5d8eb87364c84480b54c87fd6966dbf4/log/controller/logs/tempest_log.txt#7968
    
Story: 2007187
Task: 38313

Change-Id: I487b1fc7e3de8724b16b6f8eabad5e69f5009758
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/27/703227/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_pool.py'],1,e3c11facb293249054ee8a175679162b0a3ae86e,," waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout)",,7,0
openstack%2Ftripleo-heat-templates~master~I06b0ca280618877ae6d7c56e5c9b0809f98439b9,openstack/tripleo-heat-templates,master,I06b0ca280618877ae6d7c56e5c9b0809f98439b9,Use YAML anchors/aliases to reduce str_replace repetition,ABANDONED,2020-01-27 20:24:46.000000000,2020-02-24 16:48:58.000000000,,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-27 20:24:46.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18e3d8d45c35004674b810a244ca3fa3f099681e', 'message': ""Use YAML anchors/aliases to reduce str_replace repetition\n\nIt would appear that we use the same str_replace params most\nof the time, and there's no harm in using aliases where only\nsome of them are used. This way we reduce the maintenance\nburden because we only need to maintain it in one place.\n\nChange-Id: I06b0ca280618877ae6d7c56e5c9b0809f98439b9\n""}]",0,704417,18e3d8d45c35004674b810a244ca3fa3f099681e,11,9,1,6816,,,0,"Use YAML anchors/aliases to reduce str_replace repetition

It would appear that we use the same str_replace params most
of the time, and there's no harm in using aliases where only
some of them are used. This way we reduce the maintenance
burden because we only need to maintain it in one place.

Change-Id: I06b0ca280618877ae6d7c56e5c9b0809f98439b9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/704417/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,18e3d8d45c35004674b810a244ca3fa3f099681e,ffwd-upgrade2, params: &deploy_steps_str_replace_params params: *deploy_steps_str_replace_params params: *deploy_steps_str_replace_params params: *deploy_steps_str_replace_params params: *deploy_steps_str_replace_params params: *deploy_steps_str_replace_params params: *deploy_steps_str_replace_params params: *deploy_steps_str_replace_params params: *deploy_steps_str_replace_params," params: params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} ENABLE_PAUNCH: {get_param: EnablePaunch} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} ENABLE_PAUNCH: {get_param: EnablePaunch} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} CONTAINER_CLI: {get_param: ContainerCli} ENABLE_PAUNCH: {get_param: EnablePaunch} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} ENABLE_PAUNCH: {get_param: EnablePaunch} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} ENABLE_PAUNCH: {get_param: EnablePaunch} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} ENABLE_PAUNCH: {get_param: EnablePaunch} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts}",9,86
openstack%2Fopenstack-ansible~master~I08e04c198654c15fdb5e11a638da1f8626b0186c,openstack/openstack-ansible,master,I08e04c198654c15fdb5e11a638da1f8626b0186c,ci: disable upgrade jobs,MERGED,2020-02-24 10:32:55.000000000,2020-02-24 16:42:28.000000000,2020-02-24 16:36:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-24 10:32:55.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/853dec794daeb55161414c678a7775c99e411658', 'message': 'ci: disable upgrade jobs\n\nChange-Id: I08e04c198654c15fdb5e11a638da1f8626b0186c\n'}]",0,709443,853dec794daeb55161414c678a7775c99e411658,9,3,1,1004,,,0,"ci: disable upgrade jobs

Change-Id: I08e04c198654c15fdb5e11a638da1f8626b0186c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/43/709443/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,853dec794daeb55161414c678a7775c99e411658,osa/make-gates-great-again, - openstack-ansible-upgrade-aio_metal-ubuntu-bionic: voting: false - openstack-ansible-linters-ubuntu-bionic , - openstack-ansible-upgrade-aio_metal-ubuntu-bionic - openstack-ansible-upgrade-aio_metal-ubuntu-bionic - openstack-ansible-linters-ubuntu-bionic,3,3
openstack%2Fopenstacksdk~master~I7d7c540ed1bada37ebebbe305dc0e36f38cff071,openstack/openstacksdk,master,I7d7c540ed1bada37ebebbe305dc0e36f38cff071,Add method for bulk creating objects.,MERGED,2020-02-17 12:15:23.000000000,2020-02-24 16:41:28.000000000,2020-02-24 16:38:46.000000000,"[{'_account_id': 2}, {'_account_id': 11975}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-02-17 12:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4e50880a247e86e7b0280d47a0ac391b2e40aff2', 'message': 'Add method for bulk creating objects.\n\nThere are APIs (like Neutron) which provide a way for creating multiple\nobjects at once using single request. This change add possibility for\nperforming such requests using Resource objects.\n\nChange-Id: I7d7c540ed1bada37ebebbe305dc0e36f38cff071\n'}, {'number': 2, 'created': '2020-02-18 12:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f067903e85ac6c49a6a39a4a858d9fbb41ef04a0', 'message': 'Add method for bulk creating objects.\n\nThere are APIs (like Neutron) which provide a way for creating multiple\nobjects at once using single request. This change add possibility for\nperforming such requests using Resource objects.\n\nChange-Id: I7d7c540ed1bada37ebebbe305dc0e36f38cff071\n'}, {'number': 3, 'created': '2020-02-21 14:02:29.000000000', 'files': ['openstack/tests/unit/test_resource.py', 'openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ce3646fa2708cc36bda8b73b9ae0fbadf690c903', 'message': 'Add method for bulk creating objects.\n\nThere are APIs (like Neutron) which provide a way for creating multiple\nobjects at once using single request. This change add possibility for\nperforming such requests using Resource objects.\n\nChange-Id: I7d7c540ed1bada37ebebbe305dc0e36f38cff071\n'}]",1,708112,ce3646fa2708cc36bda8b73b9ae0fbadf690c903,22,7,3,13692,,,0,"Add method for bulk creating objects.

There are APIs (like Neutron) which provide a way for creating multiple
objects at once using single request. This change add possibility for
performing such requests using Resource objects.

Change-Id: I7d7c540ed1bada37ebebbe305dc0e36f38cff071
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/12/708112/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_resource.py', 'openstack/resource.py']",2,4e50880a247e86e7b0280d47a0ac391b2e40aff2,bulk-resource," @classmethod def bulk_create(cls, session, data, prepend_key=True, base_path=None, **params): """"""Bulk create a remote resource based on this instance. :param session: The session to use for making this request. :param data: list of dicts, which represent resources to create. :type session: :class:`~keystoneauth1.adapter.Adapter` :param prepend_key: A boolean indicating whether the resource_key should be prepended in a resource creation request. Default to True. :param str base_path: Base part of the URI for creating resources, if different from :data:`~openstack.resource.Resource.base_path`. :param list attrs: List of attributes to pass. :param dict params: Additional params to pass. :return: A generator of :class:`Resource` objects. :raises: :exc:`~openstack.exceptions.MethodNotSupported` if :data:`Resource.allow_create` is not set to ``True``. """""" if not cls.allow_create: raise exceptions.MethodNotSupported(cls, ""create"") if not (data and isinstance(data, list) and all([isinstance(x, dict) for x in data])): raise ValueError('Invalid data passed: %s' % data) session = cls._get_session(session) microversion = cls._get_microversion_for(session, 'create') requires_id = (cls.create_requires_id if cls.create_requires_id is not None else cls.create_method == 'PUT') if cls.create_method == 'PUT': method = session.put elif cls.create_method == 'POST': method = session.post else: raise exceptions.ResourceFailure( msg=""Invalid create method: %s"" % cls.create_method) body = [] resources = [] for attrs in data: # NOTE(gryf): we need to create resource objects, since # _prepare_request only works on instances, not classes. # Those objects will be used in case where request doesn't return # json data representing created resource, and and yet it's # required to return newly created resource objects. resource = cls.new(connection=session._get_connection(), **attrs) resources.append(resource) request = resource._prepare_request(requires_id=requires_id, base_path=base_path) body.append(request.body) if prepend_key: body = {cls.resources_key: body} response = method(request.url, json=body, headers=request.headers, microversion=microversion, params=params) exceptions.raise_from_response(response) data = response.json() if cls.resources_key: data = data[cls.resources_key] if not isinstance(data, list): data = [data] has_body = (cls.has_body if cls.create_returns_body is None else cls.create_returns_body) if has_body and cls.create_returns_body is False: return (r.fetch(session) for r in resources) else: return (cls.existing(microversion=microversion, connection=session._get_connection(), **res_dict) for res_dict in data) ",,208,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7fb132f808f29927ab4ac0bc401233bc0f596dc0,openstack/tripleo-heat-templates,stable/queens,I7fb132f808f29927ab4ac0bc401233bc0f596dc0,[Stein and older] Ensure tmpwatch installed,MERGED,2020-02-21 21:17:30.000000000,2020-02-24 16:39:46.000000000,2020-02-24 16:39:46.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 21:17:30.000000000', 'files': ['deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff2085140a796327ebd0dbf6b5c58bd67bc47bf9', 'message': '[Stein and older] Ensure tmpwatch installed\n\ntmpwatch needs to be installed in the case of deployed server. In newer\nversions this is handled by an ansible role.\n\nChange-Id: I7fb132f808f29927ab4ac0bc401233bc0f596dc0\nCloses-Bug: #1864118\n(cherry picked from commit f13000be15fb686a6316f3f037d4e2e86bca468a)\n'}]",0,709243,ff2085140a796327ebd0dbf6b5c58bd67bc47bf9,10,3,1,14985,,,0,"[Stein and older] Ensure tmpwatch installed

tmpwatch needs to be installed in the case of deployed server. In newer
versions this is handled by an ansible role.

Change-Id: I7fb132f808f29927ab4ac0bc401233bc0f596dc0
Closes-Bug: #1864118
(cherry picked from commit f13000be15fb686a6316f3f037d4e2e86bca468a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/709243/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh']",2,ff2085140a796327ebd0dbf6b5c58bd67bc47bf9,bug/1864118-stable/queens, openstack-selinux \ tmpwatch, openstack-selinux,4,2
openstack%2Fkolla-ansible~master~Ic14d565d155fda223ad2768ee6e1b3fcf85a6003,openstack/kolla-ansible,master,Ic14d565d155fda223ad2768ee6e1b3fcf85a6003,Remove useless neutron-linuxbridge-agent env vars,MERGED,2020-02-19 14:19:15.000000000,2020-02-24 16:27:26.000000000,2020-02-24 16:25:06.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-19 14:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/419b33b99a4d5d6f1e4688d8da3f0827d5f5034e', 'message': 'WIP: Remove useless neutron-linuxbridge-agent env vars\n\nDepends-on: https://review.opendev.org/708318\n\nChange-Id: Ic14d565d155fda223ad2768ee6e1b3fcf85a6003\n'}, {'number': 2, 'created': '2020-02-21 20:24:44.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0eb07ddcb5c3ded15e3babe588335368e17efe1', 'message': 'Remove useless neutron-linuxbridge-agent env vars\n\nChange-Id: Ic14d565d155fda223ad2768ee6e1b3fcf85a6003\n'}]",0,708658,c0eb07ddcb5c3ded15e3babe588335368e17efe1,16,4,2,30491,,,0,"Remove useless neutron-linuxbridge-agent env vars

Change-Id: Ic14d565d155fda223ad2768ee6e1b3fcf85a6003
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/708658/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/defaults/main.yml'],1,419b33b99a4d5d6f1e4688d8da3f0827d5f5034e,remove-useless-lb-env-vars,," KOLLA_CONFIG_STRATEGY: ""{{ config_strategy }}"" NEUTRON_BRIDGE: ""br-ex"" NEUTRON_INTERFACE: ""{{ neutron_external_interface }}""",0,3
openstack%2Fkolla-ansible~stable%2Frocky~Ifa8766d050b506708142a1970121ce5944c6bae1,openstack/kolla-ansible,stable/rocky,Ifa8766d050b506708142a1970121ce5944c6bae1,Add support for ovsdb conversion,MERGED,2020-02-24 11:29:17.000000000,2020-02-24 16:17:05.000000000,2020-02-24 16:14:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-02-24 11:29:17.000000000', 'files': ['ansible/roles/openvswitch/templates/start-ovsdb-server.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f72b8e82c29308cae3360558600d4df33807240d', 'message': ""Add support for ovsdb conversion\n\nAfter upgrade we should check if OVSDB doesn't need conversion to new\nversion - this patch adds that to ovsdb start script.\n\nChange-Id: Ifa8766d050b506708142a1970121ce5944c6bae1\nCloses-Bug: #1792496\n(cherry picked from commit 2a6070b963b99b2b0477b6352502fc3a81564989)\n""}]",0,709451,f72b8e82c29308cae3360558600d4df33807240d,8,3,1,167,,,0,"Add support for ovsdb conversion

After upgrade we should check if OVSDB doesn't need conversion to new
version - this patch adds that to ovsdb start script.

Change-Id: Ifa8766d050b506708142a1970121ce5944c6bae1
Closes-Bug: #1792496
(cherry picked from commit 2a6070b963b99b2b0477b6352502fc3a81564989)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/709451/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/openvswitch/templates/start-ovsdb-server.j2'],1,f72b8e82c29308cae3360558600d4df33807240d,bug/1792496-stable/rocky,"# NOTE(mnasiadka): ensure existing ovsdb doesn't need to be upgraded if ([ -f /var/lib/openvswitch/conf.db ] && [ `ovsdb-tool needs-conversion /var/lib/openvswitch/conf.db` == ""yes"" ]); then /usr/bin/ovsdb-tool convert /var/lib/openvswitch/conf.db fi ",,6,0
openstack%2Fkolla-ansible~master~I9cdc1ec47ad802b4d65a7b6438a335fc14639e05,openstack/kolla-ansible,master,I9cdc1ec47ad802b4d65a7b6438a335fc14639e05,[baremetal] Drop useless reboot task,MERGED,2020-02-21 12:43:37.000000000,2020-02-24 16:17:04.000000000,2020-02-24 16:14:38.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-02-21 12:43:37.000000000', 'files': ['ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9eed85c8d427b13f5c45dbc6d0e4245106151455', 'message': '[baremetal] Drop useless reboot task\n\nIt is not used for quite a time.\nSome ancient Kolla Ansible used to update host kernel.\n\nChange-Id: I9cdc1ec47ad802b4d65a7b6438a335fc14639e05\n'}]",0,709127,9eed85c8d427b13f5c45dbc6d0e4245106151455,10,4,1,30491,,,0,"[baremetal] Drop useless reboot task

It is not used for quite a time.
Some ancient Kolla Ansible used to update host kernel.

Change-Id: I9cdc1ec47ad802b4d65a7b6438a335fc14639e05
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/709127/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/post-install.yml'],1,9eed85c8d427b13f5c45dbc6d0e4245106151455,baremetal-drop-useless-reboot-task,, - name: Reboot command: reboot -f become: True when: - reboot_required is defined - reboot_required | bool,0,7
openstack%2Ftripleo-heat-templates~stable%2Fstein~I6be0056ce0096244a35355cf3ebe4901d7c6e1db,openstack/tripleo-heat-templates,stable/stein,I6be0056ce0096244a35355cf3ebe4901d7c6e1db,[Stein-only] Install more required packages during bootstrap.,ABANDONED,2020-02-05 22:50:44.000000000,2020-02-24 16:16:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 22:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7feabb4bf0eb1259c01001772836319742a75723', 'message': '[Stein-only] Install more required packages during bootstrap.\n\nbridge-utils is required for settings up the Linux Bridge\nconfiguration. rsync is used in a few of the early deployment\ntasks.\n\nChange-Id: I6be0056ce0096244a35355cf3ebe4901d7c6e1db\n'}, {'number': 2, 'created': '2020-02-05 22:52:17.000000000', 'files': ['deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a158a15bf7d02203ed15ed4a3107236aec59287f', 'message': '[Stein-only] Install more required packages during bootstrap.\n\nbridge-utils is required for settings up the Linux Bridge\nconfiguration. rsync is used in a few of the early deployment\ntasks.\n\nChange-Id: I6be0056ce0096244a35355cf3ebe4901d7c6e1db\nRelated-Change: I3a8cd498a51bd370beefb3cc53f13f92a541dc41\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,706148,a158a15bf7d02203ed15ed4a3107236aec59287f,5,2,2,25877,,,0,"[Stein-only] Install more required packages during bootstrap.

bridge-utils is required for settings up the Linux Bridge
configuration. rsync is used in a few of the early deployment
tasks.

Change-Id: I6be0056ce0096244a35355cf3ebe4901d7c6e1db
Related-Change: I3a8cd498a51bd370beefb3cc53f13f92a541dc41
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/706148/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh']",2,7feabb4bf0eb1259c01001772836319742a75723,, bridge-utils \ openstack-selinux \ rsync, openstack-selinux,6,2
openstack%2Ftripleo-ansible~master~I3a8cd498a51bd370beefb3cc53f13f92a541dc41,openstack/tripleo-ansible,master,I3a8cd498a51bd370beefb3cc53f13f92a541dc41,Install more required packages with tripleo_bootstrap.,ABANDONED,2020-02-03 22:18:19.000000000,2020-02-24 16:15:05.000000000,,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-03 22:18:19.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/fedora-28.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1275da5f4fd890ad60462a7f11f6f19197db3036', 'message': 'Install more required packages with tripleo_bootstrap.\n\nbridge-utils is required for setting up the Linux Bridge\nconfiguration. rsync is used in a few of the early deployment\ntasks.\n\nChange-Id: I3a8cd498a51bd370beefb3cc53f13f92a541dc41\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,705566,1275da5f4fd890ad60462a7f11f6f19197db3036,10,5,1,25877,,,0,"Install more required packages with tripleo_bootstrap.

bridge-utils is required for setting up the Linux Bridge
configuration. rsync is used in a few of the early deployment
tasks.

Change-Id: I3a8cd498a51bd370beefb3cc53f13f92a541dc41
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/705566/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_bootstrap/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/fedora-28.yml']",3,1275da5f4fd890ad60462a7f11f6f19197db3036,, - bridge-utils - rsync,,6,0
openstack%2Fkolla-ansible~master~I4066c9cd86ff892d78f6713589f9afffc611dcc1,openstack/kolla-ansible,master,I4066c9cd86ff892d78f6713589f9afffc611dcc1,CI: Remove useless pre task,MERGED,2020-02-21 09:38:09.000000000,2020-02-24 16:10:31.000000000,2020-02-24 16:07:57.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 09:38:09.000000000', 'files': ['tests/pre.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc0c762ab53be0ef11589da6d893dfec11dd3a38', 'message': 'CI: Remove useless pre task\n\nThis was never necessary because C7 IPv6 CI was not enabled at\nthe time and later we fixed IPv6 in C7 to avoid this issue.\nIn Ussuri C7 is going away so even more reasons to drop it. :-)\n\nChange-Id: I4066c9cd86ff892d78f6713589f9afffc611dcc1\n'}]",0,709071,dc0c762ab53be0ef11589da6d893dfec11dd3a38,11,3,1,30491,,,0,"CI: Remove useless pre task

This was never necessary because C7 IPv6 CI was not enabled at
the time and later we fixed IPv6 in C7 to avoid this issue.
In Ussuri C7 is going away so even more reasons to drop it. :-)

Change-Id: I4066c9cd86ff892d78f6713589f9afffc611dcc1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/709071/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/pre.yml'],1,dc0c762ab53be0ef11589da6d893dfec11dd3a38,ci-remove-useless-pre-task,, # NOTE(yoctozepto): CentOS 7 image uses myhostname plugin for NSS # which creates issues with IPv6-only deployment by providing # an IPv4 address for the current hostname (affects rabbitmq) - name: Disable myhostname NSS plugin become: true replace: path: /etc/nsswitch.conf regexp: ' myhostname' replace: '',0,10
openstack%2Fcyborg~master~Ied8ee91592eb0b4675f9c155e30a6c3a7df9b597,openstack/cyborg,master,Ied8ee91592eb0b4675f9c155e30a6c3a7df9b597,Avoid creating a root provider when parent is not found,MERGED,2020-02-19 18:49:47.000000000,2020-02-24 15:52:30.000000000,2020-02-24 15:50:16.000000000,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-02-19 18:49:47.000000000', 'files': ['cyborg/conductor/manager.py', 'cyborg/agent/resource_tracker.py', 'cyborg/tests/unit/agent/test_resource_tracker.py', 'cyborg/common/exception.py', 'cyborg/tests/unit/conductor/test_manager.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d279c22d1e3e1f053cd33bfb062fbaeb1f397472', 'message': 'Avoid creating a root provider when parent is not found\n\nBefore this change, when agent called to conductor to report_data(),\nif the parent provider was not found by hostname, we would log an error,\nand then continue to create the ""child"" provider with no parent. We should\nnever do this if we are supposed to have a parent. Cleanup from this\nsituation is also messy.\n\nThis makes us raise PlacementResourceProviderNotFound() in that case,\nwhich aborts the report and thus does not create the provider incorrectly.\nIt also makes the agent catch that exception and moves the log message\nto the agent where the actual problem is (i.e. likely misconfiguration).\n\nThe exception used here is actually defined incorrectly, having a message\nclass variable instead of _msg_fmt, which caused it to not render properly.\nThis fixes that along the way and adds tests for the new conductor and\nagent behaviors.\n\nCloses task: 38813\nCloses task: 38814\n\nChange-Id: Ied8ee91592eb0b4675f9c155e30a6c3a7df9b597\n'}]",13,708726,d279c22d1e3e1f053cd33bfb062fbaeb1f397472,26,9,1,4393,,,0,"Avoid creating a root provider when parent is not found

Before this change, when agent called to conductor to report_data(),
if the parent provider was not found by hostname, we would log an error,
and then continue to create the ""child"" provider with no parent. We should
never do this if we are supposed to have a parent. Cleanup from this
situation is also messy.

This makes us raise PlacementResourceProviderNotFound() in that case,
which aborts the report and thus does not create the provider incorrectly.
It also makes the agent catch that exception and moves the log message
to the agent where the actual problem is (i.e. likely misconfiguration).

The exception used here is actually defined incorrectly, having a message
class variable instead of _msg_fmt, which caused it to not render properly.
This fixes that along the way and adds tests for the new conductor and
agent behaviors.

Closes task: 38813
Closes task: 38814

Change-Id: Ied8ee91592eb0b4675f9c155e30a6c3a7df9b597
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/26/708726/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/conductor/manager.py', 'cyborg/agent/resource_tracker.py', 'cyborg/tests/unit/agent/test_resource_tracker.py', 'cyborg/common/exception.py', 'cyborg/tests/unit/conductor/test_manager.py']",5,d279c22d1e3e1f053cd33bfb062fbaeb1f397472,fix-report-failed-parent,"from cyborg.common import exception def test_get_root_provider(self): self.placement_mock.get.return_value.json.return_value = { 'resource_providers': [{'uuid': mock.sentinel.uuid}], } uuid = self.cm._get_root_provider(mock.sentinel.context, 'foo') self.assertEqual(mock.sentinel.uuid, uuid) def test_get_root_provider_not_found(self): self.placement_mock.get.return_value.json.return_value = { 'resource_providers': [], } self.assertRaises(exception.PlacementResourceProviderNotFound, self.cm._get_root_provider, mock.sentinel.context, 'foo')",,35,4
openstack%2Foslotest~master~Ia43fb5bf3c7eede7a8f1cf254cd6de8dace25bd8,openstack/oslotest,master,Ia43fb5bf3c7eede7a8f1cf254cd6de8dace25bd8,tools: Default to Python 3,MERGED,2019-12-18 14:45:42.000000000,2020-02-24 15:50:11.000000000,2020-02-24 15:47:37.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-18 14:45:42.000000000', 'files': ['tools/oslo_debug_helper', 'tools/oslo_run_cross_tests'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/90d1c481430df52df26bee3c7317aed259a99e49', 'message': ""tools: Default to Python 3\n\nIt's nearly 2020. This should be the default now.\n\nChange-Id: Ia43fb5bf3c7eede7a8f1cf254cd6de8dace25bd8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,699694,90d1c481430df52df26bee3c7317aed259a99e49,9,4,1,15334,,,0,"tools: Default to Python 3

It's nearly 2020. This should be the default now.

Change-Id: Ia43fb5bf3c7eede7a8f1cf254cd6de8dace25bd8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/94/699694/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/oslo_debug_helper', 'tools/oslo_run_cross_tests']",2,90d1c481430df52df26bee3c7317aed259a99e49,,PYTHON=${PYTHON:-python3},PYTHON=${PYTHON:-python},2,2
openstack%2Fcharm-ceph-fs~stable%2F20.02~I26895f8e2163e81f7d987e7dcda79e9628462a34,openstack/charm-ceph-fs,stable/20.02,I26895f8e2163e81f7d987e7dcda79e9628462a34,Remove note about ceph-fs being for testing,MERGED,2020-02-21 16:18:45.000000000,2020-02-24 15:40:17.000000000,2020-02-24 15:40:17.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 16:18:45.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/cd9ccf01f6ad6cbabb6dd331bd950f529cc8a63a', 'message': 'Remove note about ceph-fs being for testing\n\nChange-Id: I26895f8e2163e81f7d987e7dcda79e9628462a34\n'}]",0,709183,cd9ccf01f6ad6cbabb6dd331bd950f529cc8a63a,7,3,1,20634,,,0,"Remove note about ceph-fs being for testing

Change-Id: I26895f8e2163e81f7d987e7dcda79e9628462a34
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/83/709183/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,cd9ccf01f6ad6cbabb6dd331bd950f529cc8a63a,feature/it-is-for-production-stable/20.02,This charm exists to provide integration of CephFS.,"This charm exists to provide an example integration of CephFS, for the purpose of test and reference.",1,2
openstack%2Fcharm-ceph-fs~master~I26895f8e2163e81f7d987e7dcda79e9628462a34,openstack/charm-ceph-fs,master,I26895f8e2163e81f7d987e7dcda79e9628462a34,Remove note about ceph-fs being for testing,MERGED,2020-02-21 15:47:52.000000000,2020-02-24 15:40:16.000000000,2020-02-24 15:40:16.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 15:47:52.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/6466544b4e9ff6eeec88367ba90709ac744e14e0', 'message': 'Remove note about ceph-fs being for testing\n\nChange-Id: I26895f8e2163e81f7d987e7dcda79e9628462a34\n'}]",0,709161,6466544b4e9ff6eeec88367ba90709ac744e14e0,8,3,1,20634,,,0,"Remove note about ceph-fs being for testing

Change-Id: I26895f8e2163e81f7d987e7dcda79e9628462a34
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/61/709161/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,6466544b4e9ff6eeec88367ba90709ac744e14e0,feature/it-is-for-production,This charm exists to provide integration of CephFS.,"This charm exists to provide an example integration of CephFS, for the purpose of test and reference.",1,2
openstack%2Foslo.limit~master~I44cb645bd118c17e1f067cb617dbce845dacd5c6,openstack/oslo.limit,master,I44cb645bd118c17e1f067cb617dbce845dacd5c6,oslo.limit mistakenly released as 1.0.0 (release note),MERGED,2020-02-18 09:48:40.000000000,2020-02-24 15:36:35.000000000,2020-02-24 15:33:35.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-18 09:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/bf35bbb405eb8761ecbd6fb164d5ddab4a409d92', 'message': 'oslo.limit mistakenly released as 1.0.0 (release note)\n\nFor further reading:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-February/012606.html\n\nChange-Id: I44cb645bd118c17e1f067cb617dbce845dacd5c6\n'}, {'number': 2, 'created': '2020-02-21 09:34:12.000000000', 'files': ['releasenotes/notes/pre-stable-version-warning-83dbfc9427a22725.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/64b78b78785f132efbf43e54c2f0415bd2847c06', 'message': 'oslo.limit mistakenly released as 1.0.0 (release note)\n\nFor further reading:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-February/012606.html\n\nChange-Id: I44cb645bd118c17e1f067cb617dbce845dacd5c6\n'}]",1,708326,64b78b78785f132efbf43e54c2f0415bd2847c06,12,5,2,28522,,,0,"oslo.limit mistakenly released as 1.0.0 (release note)

For further reading:
http://lists.openstack.org/pipermail/openstack-discuss/2020-February/012606.html

Change-Id: I44cb645bd118c17e1f067cb617dbce845dacd5c6
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/26/708326/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/pre-stable-version-warning-83dbfc9427a22725.yaml'],1,bf35bbb405eb8761ecbd6fb164d5ddab4a409d92,pre-major-version-warning,--- critical: - | oslo.limit mistakenly released as 1.0.0. This library is still under heavy development and the API isn't stabilized yet so oslo.limit isn't actually ready to be consumed yet. This library is still a pre-1.0. For further reading about this issue please take a look to the mailing list discussion [1] [1] http://lists.openstack.org/pipermail/openstack-discuss/2020-February/012606.html ,,11,0
openstack%2Fkolla~master~I27c71c1237dc010531495440e6094d8b129f6c48,openstack/kolla,master,I27c71c1237dc010531495440e6094d8b129f6c48,vitrage-base: honor distro_python_version,MERGED,2019-12-21 19:53:48.000000000,2020-02-24 15:23:34.000000000,2019-12-23 13:03:52.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-21 19:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/80f12d77fc86a2b7914af54949194c1f56127a72', 'message': 'virtage-base: honor distro_python_version\n\nChange-Id: I27c71c1237dc010531495440e6094d8b129f6c48\n'}, {'number': 2, 'created': '2019-12-21 20:32:55.000000000', 'files': ['docker/vitrage/vitrage-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/90babe35d0e075ad15904bb2263e1dd019f10532', 'message': 'vitrage-base: honor distro_python_version\n\nChange-Id: I27c71c1237dc010531495440e6094d8b129f6c48\n'}]",1,700281,90babe35d0e075ad15904bb2263e1dd019f10532,19,5,2,24072,,,0,"vitrage-base: honor distro_python_version

Change-Id: I27c71c1237dc010531495440e6094d8b129f6c48
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/700281/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/vitrage/vitrage-base/Dockerfile.j2'],1,80f12d77fc86a2b7914af54949194c1f56127a72,, && cp -a /usr/lib/python{{ distro_python_version }}/site-packages/vitrage/api/app.wsgi /var/www/cgi-bin/vitrage/ \, && cp -a /usr/lib/python2.7/site-packages/vitrage/api/app.wsgi /var/www/cgi-bin/vitrage/ \,1,1
openstack%2Ftripleo-upgrade~master~Iac15672f8e7a0b6f6bbf60f91648cb5db2811006,openstack/tripleo-upgrade,master,Iac15672f8e7a0b6f6bbf60f91648cb5db2811006,Stop dnsmasq service before performig undercloud update,ABANDONED,2020-02-24 15:00:22.000000000,2020-02-24 15:16:27.000000000,,"[{'_account_id': 3153}, {'_account_id': 11166}]","[{'number': 1, 'created': '2020-02-24 15:00:22.000000000', 'files': ['tasks/common/undercloud_prerequisites.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/33ccf19af1f7e8f7c227132e078f5bcbcef65f76', 'message': 'Stop dnsmasq service before performig undercloud update\n\nIf dnsmasq is running while performing update it will cause\nopenstack-ironic-inspector-dnsmasq to fail since it tries to use\nthe same port which is already used by dnsmasq.\n\nChange-Id: Iac15672f8e7a0b6f6bbf60f91648cb5db2811006\n'}]",0,709545,33ccf19af1f7e8f7c227132e078f5bcbcef65f76,4,2,1,16615,,,0,"Stop dnsmasq service before performig undercloud update

If dnsmasq is running while performing update it will cause
openstack-ironic-inspector-dnsmasq to fail since it tries to use
the same port which is already used by dnsmasq.

Change-Id: Iac15672f8e7a0b6f6bbf60f91648cb5db2811006
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/45/709545/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_prerequisites.yaml'],1,33ccf19af1f7e8f7c227132e078f5bcbcef65f76,,- name: Ensure dnsmasq is not running service: name: dnsmasq enabled: false state: stopped ,,6,0
openstack%2Fopenstack-ansible-os_cloudkitty~master~I22459de6ef0292051c6c0423b1465559582f0b29,openstack/openstack-ansible-os_cloudkitty,master,I22459de6ef0292051c6c0423b1465559582f0b29,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:09:10.000000000,2020-02-24 15:14:55.000000000,2020-02-24 15:11:30.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 13:09:10.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/e1c35da5bfbded4d4c41e4681c739ab828c6123e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I22459de6ef0292051c6c0423b1465559582f0b29\n'}]",0,709484,e1c35da5bfbded4d4c41e4681c739ab828c6123e,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I22459de6ef0292051c6c0423b1465559582f0b29
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/84/709484/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e1c35da5bfbded4d4c41e4681c739ab828c6123e,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fnova~master~I9b9e7f947c7dfef0d8ab3d0e9be3d5fd8ef4807d,openstack/nova,master,I9b9e7f947c7dfef0d8ab3d0e9be3d5fd8ef4807d,Add new simple test base for functional tests,ABANDONED,2019-10-17 14:44:46.000000000,2020-02-24 15:11:09.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-17 14:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03cd2a68331b734dae1e6774ab0d5ff748ce5b1a', 'message': 'Add new functional test base for libvirt tests\n\nIntegratedTestBase uses integrated_helpers instead of ServersTestBase.\nWe can use either based on the requirements of the test, but both\nshare common a new common libvirt functional fixture.\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: I9b9e7f947c7dfef0d8ab3d0e9be3d5fd8ef4807d\n'}, {'number': 2, 'created': '2019-10-17 21:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be63ace625aa96aba73de5e8d7f41dc19956c391', 'message': 'Add new test base for libvirt functional tests\n\nIntegratedTestBase uses integrated_helpers instead of ServersTestBase.\nWe can use either based on the requirements of the test, but both\nshare a new common libvirt functional fixture.\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: I9b9e7f947c7dfef0d8ab3d0e9be3d5fd8ef4807d\n'}, {'number': 3, 'created': '2019-10-22 20:18:16.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7eb46c86010a4d4ee202e7d394471acf73afac65', 'message': ""Add new simple test base for functional tests\n\nProviderUsageBaseTestCase provides a new base for functional tests\nwhich, amongst other advantages, doesn't rely on fixtures.CastAsCall.\nThis patch simply pulls all the initialisation out of this class into\na new base class separate from the provider-specific test helpers. The\nresulting base class is clean and simple to use.\n\nProviderUsageBaseTestCase remains a base class, but could reasonably\nbecome a mixin along the lines of InstanceHelperMixin in the future if\ndesired.\n\nChange-Id: I9b9e7f947c7dfef0d8ab3d0e9be3d5fd8ef4807d\n""}]",2,689186,7eb46c86010a4d4ee202e7d394471acf73afac65,32,12,3,9555,,,0,"Add new simple test base for functional tests

ProviderUsageBaseTestCase provides a new base for functional tests
which, amongst other advantages, doesn't rely on fixtures.CastAsCall.
This patch simply pulls all the initialisation out of this class into
a new base class separate from the provider-specific test helpers. The
resulting base class is clean and simple to use.

ProviderUsageBaseTestCase remains a base class, but could reasonably
become a mixin along the lines of InstanceHelperMixin in the future if
desired.

Change-Id: I9b9e7f947c7dfef0d8ab3d0e9be3d5fd8ef4807d
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/689186/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/base.py'],1,03cd2a68331b734dae1e6774ab0d5ff748ce5b1a,bug/1831771,"from nova.tests.functional import integrated_helpersfrom nova.tests.unit import fake_notifier from nova.tests.unit.image import fake as fake_imageclass LibvirtFunctionalFixture(fixtures.Fixture): def __init__(self, test): self.test = test super(LibvirtFunctionalFixture, self).setUp() test = self.test test.flags(compute_driver='libvirt.LibvirtDriver') fake_notifier.stub_notifier(test) self.addCleanup(fake_notifier.reset) class IntegratedTestBase(integrated_helpers._IntegratedTestBase): api_major_version = 'v2' def setUp(self): super(IntegratedTestBase, self).setUp() self.useFixture(LibvirtFunctionalFixture(self)) self.fake_image_service = fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) self.images = self.api.get_images() self.default_image_ref = self.images[0]['id'] def _setup_compute_service(self): # We do this explicitly in tests pass def _create_active_server(self, overrides=None): basic_server = { 'flavorRef': 1, 'name': 'testserver', 'imageRef': self.default_image_ref, } if overrides: basic_server.update(overrides) server = self.api.post_server({'server': basic_server}) return self._wait_for_state_change(self.api, server, 'ACTIVE') def _start_compute(self, hostname, host_info=None): default_host_info = { 'cpu_nodes': 1, 'cpu_sockets': 1, 'cpu_cores': 4, 'kB_mem': 15740000, } if host_info: default_host_info.update(host_info) host_info_obj = fakelibvirt.HostInfo(**default_host_info) fake_connection = fakelibvirt.Connection( 'qemu:///system', version=fakelibvirt.FAKE_LIBVIRT_VERSION, hv_version=fakelibvirt.FAKE_QEMU_VERSION, host_info=host_info_obj, hostname=hostname) with mock.patch('nova.virt.libvirt.host.Host.get_connection', return_value=fake_connection): return self.start_service('compute', host=hostname) class ServersTestBase(base.ServersTestBase): ADDITIONAL_FILTERS = [] def setUp(self): super(ServersTestBase, self).setUp() self.useFixture(LibvirtFunctionalFixture(self)) pass","class ServersTestBase(base.ServersTestBase): ADDITIONAL_FILTERS = [] super(ServersTestBase, self).setUp() self.flags(compute_driver='libvirt.LibvirtDriver')",73,5
openstack%2Fmistral~master~I52fe9080c9246cbc76861f93340abc4d19537176,openstack/mistral,master,I52fe9080c9246cbc76861f93340abc4d19537176,WIP,ABANDONED,2020-02-24 15:06:58.000000000,2020-02-24 15:07:29.000000000,,[],"[{'number': 1, 'created': '2020-02-24 15:06:58.000000000', 'files': ['rally-jobs/plugins/mistral_expressions_Scenario.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/f0086a6b2097286f71d59f51a677b9084f805bbb', 'message': 'WIP\n\nChange-Id: I52fe9080c9246cbc76861f93340abc4d19537176\n'}]",0,709548,f0086a6b2097286f71d59f51a677b9084f805bbb,2,0,1,30755,,,0,"WIP

Change-Id: I52fe9080c9246cbc76861f93340abc4d19537176
",git fetch https://review.opendev.org/openstack/mistral refs/changes/48/709548/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/plugins/mistral_expressions_Scenario.py'],1,f0086a6b2097286f71d59f51a677b9084f805bbb,rally-scenario,,,0,0
openstack%2Fopenstack-ansible-lxc_container_create~master~I58636afedf51a4d82a0171bdc42c3732f528c5c5,openstack/openstack-ansible-lxc_container_create,master,I58636afedf51a4d82a0171bdc42c3732f528c5c5,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:06:11.000000000,2020-02-24 15:02:25.000000000,2020-02-24 14:59:57.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 13:06:11.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/dfb0c6dafe9ac25d10fcfc4d56c66377af67facd', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I58636afedf51a4d82a0171bdc42c3732f528c5c5\n'}]",0,709470,dfb0c6dafe9ac25d10fcfc4d56c66377af67facd,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I58636afedf51a4d82a0171bdc42c3732f528c5c5
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/70/709470/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,dfb0c6dafe9ac25d10fcfc4d56c66377af67facd,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Ftripleo-heat-templates~master~I5277d56b61f8139eb06e505b6d303dc795c73c1f,openstack/tripleo-heat-templates,master,I5277d56b61f8139eb06e505b6d303dc795c73c1f,Disable show_multiple_locations for glance rbd backend,ABANDONED,2020-02-23 13:40:02.000000000,2020-02-24 15:02:17.000000000,,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-23 13:40:02.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5250654e0fd5b0541eecfbcbfa2bcb54d97e194b', 'message': ""Disable show_multiple_locations for glance rbd backend\n\nAccoridng to the ceph documentation[1], show_multiple_location was\nnecessory for copy-on-write cloning only in Mitaka release, and we\ndon't need to enable the parameter since Newton.\nSo disable the parameter to get rid of its security concern.\n\n[1] https://github.com/ceph/ceph/commit/def903a7ef7ca7bbfb4cf119f5ac2479cfa1633c\n\nChange-Id: I5277d56b61f8139eb06e505b6d303dc795c73c1f\n""}]",1,709348,5250654e0fd5b0541eecfbcbfa2bcb54d97e194b,8,4,1,9816,,,0,"Disable show_multiple_locations for glance rbd backend

Accoridng to the ceph documentation[1], show_multiple_location was
necessory for copy-on-write cloning only in Mitaka release, and we
don't need to enable the parameter since Newton.
So disable the parameter to get rid of its security concern.

[1] https://github.com/ceph/ceph/commit/def903a7ef7ca7bbfb4cf119f5ac2479cfa1633c

Change-Id: I5277d56b61f8139eb06e505b6d303dc795c73c1f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/709348/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,5250654e0fd5b0541eecfbcbfa2bcb54d97e194b,dep-multi-location, - glance_netapp_nfs_enabled," glance_multiple_locations: or: - glance_netapp_nfs_enabled - and: # Keep this for compat, but ignore NovaEnableRbdBackend if it's a role param - equals: - get_param: GlanceBackend - rbd - equals: - get_param: NovaEnableRbdBackend - true - glance_multiple_locations",1,12
openstack%2Fopenstack-ansible-haproxy_server~master~Ib6b369c7b6e0965fd018d961e32cfee06e67a035,openstack/openstack-ansible-haproxy_server,master,Ib6b369c7b6e0965fd018d961e32cfee06e67a035,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:05:57.000000000,2020-02-24 15:00:04.000000000,2020-02-24 14:57:14.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 13:05:57.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/e76e5ced6eae17732ac49885436caa12b7db2fc3', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ib6b369c7b6e0965fd018d961e32cfee06e67a035\n'}]",0,709469,e76e5ced6eae17732ac49885436caa12b7db2fc3,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ib6b369c7b6e0965fd018d961e32cfee06e67a035
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/69/709469/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e76e5ced6eae17732ac49885436caa12b7db2fc3,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-nspawn_container_create~master~I860842433b0606f8c03b797aaefcfa5bfc34e826,openstack/openstack-ansible-nspawn_container_create,master,I860842433b0606f8c03b797aaefcfa5bfc34e826,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:06:50.000000000,2020-02-24 14:57:29.000000000,2020-02-24 14:50:59.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 13:06:50.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/f99b00e339690e8027f23dd0bd0ddb04e67c9a00', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I860842433b0606f8c03b797aaefcfa5bfc34e826\n'}]",0,709473,f99b00e339690e8027f23dd0bd0ddb04e67c9a00,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I860842433b0606f8c03b797aaefcfa5bfc34e826
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/73/709473/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,f99b00e339690e8027f23dd0bd0ddb04e67c9a00,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ib9a46f1d83a0649ab666e443d2305706668dc645,openstack/tripleo-ansible,stable/train,Ib9a46f1d83a0649ab666e443d2305706668dc645,Run standalone-upgrade job when touching container roles,MERGED,2020-02-21 16:40:07.000000000,2020-02-24 14:53:57.000000000,2020-02-24 14:53:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 16:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e4e98a50392fc79c35eca51d19709196b09eeaa5', 'message': ""Run standalone-upgrade job when touching container roles\n\ncontainer_manage and container_rm can have impact on the upgrades, so\nlet's run proper CI on it.\n\nChange-Id: Ib9a46f1d83a0649ab666e443d2305706668dc645\n(cherry picked from commit 448cc596b8ae74bda84da9569ff02ff8cf6fa35f)\n""}, {'number': 2, 'created': '2020-02-24 00:34:22.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/13cf007184693011ac0737a3a55c1b3494bc4ab3', 'message': ""Run standalone-upgrade job when touching container roles\n\ncontainer_manage and container_rm can have impact on the upgrades, so\nlet's run proper CI on it.\n\nChange-Id: Ib9a46f1d83a0649ab666e443d2305706668dc645\n(cherry picked from commit 448cc596b8ae74bda84da9569ff02ff8cf6fa35f)\n""}]",2,709188,13cf007184693011ac0737a3a55c1b3494bc4ab3,11,3,2,3153,,,0,"Run standalone-upgrade job when touching container roles

container_manage and container_rm can have impact on the upgrades, so
let's run proper CI on it.

Change-Id: Ib9a46f1d83a0649ab666e443d2305706668dc645
(cherry picked from commit 448cc596b8ae74bda84da9569ff02ff8cf6fa35f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/709188/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,e4e98a50392fc79c35eca51d19709196b09eeaa5,train/zuul, - ^tripleo_ansible/roles/tripleo-container_manage/.* - ^tripleo_ansible/roles/tripleo-container_rm/.*,,2,0
openstack%2Fopenstack-ansible-apt_package_pinning~master~I423bfced05ae5aa569d52ce716f89fdb18913139,openstack/openstack-ansible-apt_package_pinning,master,I423bfced05ae5aa569d52ce716f89fdb18913139,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:05:03.000000000,2020-02-24 14:51:06.000000000,2020-02-24 14:48:28.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 13:05:03.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/feee9e449fffb8ee279ed742ce5690cc1d2bf3f4', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I423bfced05ae5aa569d52ce716f89fdb18913139\n'}]",0,709465,feee9e449fffb8ee279ed742ce5690cc1d2bf3f4,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I423bfced05ae5aa569d52ce716f89fdb18913139
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/65/709465/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,feee9e449fffb8ee279ed742ce5690cc1d2bf3f4,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-plugins~master~I821abc2cfeacd195cd1ae01eb3239ce20d35f82a,openstack/openstack-ansible-plugins,master,I821abc2cfeacd195cd1ae01eb3239ce20d35f82a,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:16:16.000000000,2020-02-24 14:51:05.000000000,2020-02-24 14:48:37.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 13:16:16.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/42d580fb131d650c715d6887ad281acc8ae84540', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I821abc2cfeacd195cd1ae01eb3239ce20d35f82a\n'}]",0,709514,42d580fb131d650c715d6887ad281acc8ae84540,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I821abc2cfeacd195cd1ae01eb3239ce20d35f82a
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/14/709514/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,42d580fb131d650c715d6887ad281acc8ae84540,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fcharm-rabbitmq-server~master~Idd2bcf79152f8db90d674ea28fb99504536ab6cf,openstack/charm-rabbitmq-server,master,Idd2bcf79152f8db90d674ea28fb99504536ab6cf,Fix the response of convert_from_base64(),MERGED,2020-02-18 18:14:32.000000000,2020-02-24 14:45:56.000000000,2020-02-24 14:45:56.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-18 18:14:32.000000000', 'files': ['hooks/rabbitmq_context.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/64a8e48a77a6723401c1c730992885d2b5390c85', 'message': ""Fix the response of convert_from_base64()\n\nThe function takes a string, but could return a bytes in Python3.\nThis ensures that it returns a str if the b64decode() function is used.\n\nAlso, strip out the six module from rabbitmq_context.py as it's not\nneeded now the charm is py3 only.\n\nChange-Id: Idd2bcf79152f8db90d674ea28fb99504536ab6cf\n""}]",0,708472,64a8e48a77a6723401c1c730992885d2b5390c85,11,4,1,20870,,,0,"Fix the response of convert_from_base64()

The function takes a string, but could return a bytes in Python3.
This ensures that it returns a str if the b64decode() function is used.

Also, strip out the six module from rabbitmq_context.py as it's not
needed now the charm is py3 only.

Change-Id: Idd2bcf79152f8db90d674ea28fb99504536ab6cf
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/72/708472/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/rabbitmq_context.py'],1,64a8e48a77a6723401c1c730992885d2b5390c85,fix-convert-from-base64," apt_install('python3-psutil', fatal=True) """"""Speculatively convert the string `v` from base64 encoding if it is base64 encoded. Rabbit originally supported pem encoded key/cert in config, play nice on upgrades as we now expect base64 encoded key/cert/ca. :param v: the string to maybe convert :type v: str :returns: string that may have been converted from base64 encoding. :rtype: str """""" return base64.b64decode(v).decode('utf-8')","# python-six in ensured by charmhelpers import so we put this here. import six if six.PY2: apt_install('python-psutil', fatal=True) else: apt_install('python3-psutil', fatal=True) # Rabbit originally supported pem encoded key/cert in config, play # nice on upgrades as we now expect base64 encoded key/cert/ca. return base64.b64decode(v)",13,9
openstack%2Fopenstack-ansible-ops~master~Ibcf605e545ac6a41630153ef905854db457e9b93,openstack/openstack-ansible-ops,master,Ibcf605e545ac6a41630153ef905854db457e9b93,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:07:43.000000000,2020-02-24 14:44:22.000000000,2020-02-24 14:39:26.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 13:07:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1ba435f78eacc423329034d731bf7fcc233dedde', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ibcf605e545ac6a41630153ef905854db457e9b93\n'}]",0,709477,1ba435f78eacc423329034d731bf7fcc233dedde,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ibcf605e545ac6a41630153ef905854db457e9b93
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/77/709477/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,1ba435f78eacc423329034d731bf7fcc233dedde,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fkuryr-libnetwork~master~Iecd61c0ba0c9ae789b3cf771dc435d7b9513a339,openstack/kuryr-libnetwork,master,Iecd61c0ba0c9ae789b3cf771dc435d7b9513a339,Fix test_container_ipam_request_address_with_existing_port,MERGED,2020-02-22 20:07:26.000000000,2020-02-24 14:34:52.000000000,2020-02-24 14:32:41.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-22 20:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/8f6a7b9f7b0dc52b91309ca3545874905d23a7fc', 'message': '[DO NOT MERGE] Test CI - 2\n\nChange-Id: Iecd61c0ba0c9ae789b3cf771dc435d7b9513a339\n'}, {'number': 2, 'created': '2020-02-22 21:33:34.000000000', 'files': ['kuryr_libnetwork/tests/fullstack/test_ipam.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/62ff2f9f58d3dde3f66b0e96deed3f5431b32ce3', 'message': 'Fix test_container_ipam_request_address_with_existing_port\n\nCloses-Bug: #1864330\nChange-Id: Iecd61c0ba0c9ae789b3cf771dc435d7b9513a339\n'}]",0,709319,62ff2f9f58d3dde3f66b0e96deed3f5431b32ce3,10,7,2,11536,,,0,"Fix test_container_ipam_request_address_with_existing_port

Closes-Bug: #1864330
Change-Id: Iecd61c0ba0c9ae789b3cf771dc435d7b9513a339
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/19/709319/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_libnetwork/tests/fullstack/test_ipam.py'],1,8f6a7b9f7b0dc52b91309ca3545874905d23a7fc,bug/1864330," ""Gateway"": ""fe81::"""," ""Gateway"": ""fe81::1""",1,1
openstack%2Fopenstack-ansible-tests~master~I6b7a24d3edf6fe41ee222a23eaf9a4196970091e,openstack/openstack-ansible-tests,master,I6b7a24d3edf6fe41ee222a23eaf9a4196970091e,ci: restore centos-7 voting,MERGED,2020-02-24 12:35:33.000000000,2020-02-24 14:33:00.000000000,2020-02-24 14:25:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-24 12:35:33.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/690c721258ac0c4fedb1dbcda4f6e32121a9a290', 'message': 'ci: restore centos-7 voting\n\nChange-Id: I6b7a24d3edf6fe41ee222a23eaf9a4196970091e\n'}]",0,709456,690c721258ac0c4fedb1dbcda4f6e32121a9a290,8,3,1,1004,,,0,"ci: restore centos-7 voting

Change-Id: I6b7a24d3edf6fe41ee222a23eaf9a4196970091e
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/56/709456/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,690c721258ac0c4fedb1dbcda4f6e32121a9a290,osa/make-gates-great-again,, voting: false,1,1
openstack%2Ftooz~master~I9ce6c500580ba981e62886703b788ca8a005ee0e,openstack/tooz,master,I9ce6c500580ba981e62886703b788ca8a005ee0e,RECHECK,ABANDONED,2020-02-21 07:20:01.000000000,2020-02-24 14:29:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 31615}]","[{'number': 1, 'created': '2020-02-21 07:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/eb8ef9a15a2c6bef97bb55acf2c8e70f876c2ced', 'message': 'RECHECK\n\nChange-Id: I9ce6c500580ba981e62886703b788ca8a005ee0e\n'}]",0,709058,eb8ef9a15a2c6bef97bb55acf2c8e70f876c2ced,5,2,1,31615,,,0,"RECHECK

Change-Id: I9ce6c500580ba981e62886703b788ca8a005ee0e
",git fetch https://review.opendev.org/openstack/tooz refs/changes/58/709058/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,eb8ef9a15a2c6bef97bb55acf2c8e70f876c2ced,bug/1752225,,,0,0
openstack%2Ftooz~master~I9930e61867efaf43f565c3edfce49b1fe8970715,openstack/tooz,master,I9930e61867efaf43f565c3edfce49b1fe8970715,I just commited a fix to a spelling error.,ABANDONED,2020-02-21 04:36:57.000000000,2020-02-24 14:28:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31615}]","[{'number': 1, 'created': '2020-02-21 04:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/406ded50d0bb9de12330181a7bf70fc675f02bb4', 'message': 'I just commited a fix to a spelling error.\n\nChange-Id: I9930e61867efaf43f565c3edfce49b1fe8970715\n'}]",1,709045,406ded50d0bb9de12330181a7bf70fc675f02bb4,6,3,1,31615,,,0,"I just commited a fix to a spelling error.

Change-Id: I9930e61867efaf43f565c3edfce49b1fe8970715
",git fetch https://review.opendev.org/openstack/tooz refs/changes/45/709045/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,406ded50d0bb9de12330181a7bf70fc675f02bb4,bug/1752225,,,0,0
openstack%2Ftripleo-quickstart~master~I773b3cbc2b362dc89cf68c3053b4994480562fd5,openstack/tripleo-quickstart,master,I773b3cbc2b362dc89cf68c3053b4994480562fd5,DNM: Really DNM ... Testing centos 8 release files and repos,ABANDONED,2020-02-21 18:52:17.000000000,2020-02-24 13:59:18.000000000,,"[{'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 18:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9e2604d52fb7b43cd617a82b0d609a453cbecbec', 'message': 'DNM: Really DNM ... Testing centos 8 release files and repos\n\nChange-Id: I773b3cbc2b362dc89cf68c3053b4994480562fd5\n'}, {'number': 2, 'created': '2020-02-21 20:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/079362f089b0be3fcb343ef592f3bef24ae73550', 'message': 'DNM: Really DNM ... Testing centos 8 release files and repos\n\nChange-Id: I773b3cbc2b362dc89cf68c3053b4994480562fd5\n'}, {'number': 3, 'created': '2020-02-21 21:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9eb6b78236c762586a78be0ace23db3b39ef8571', 'message': 'DNM: Really DNM ... Testing centos 8 release files and repos\n\nChange-Id: I773b3cbc2b362dc89cf68c3053b4994480562fd5\n'}, {'number': 4, 'created': '2020-02-21 21:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/842507acb798cb26b5778bfdbf73de2122755119', 'message': 'DNM: Really DNM ... Testing centos 8 release files and repos\n\nChange-Id: I773b3cbc2b362dc89cf68c3053b4994480562fd5\n'}, {'number': 5, 'created': '2020-02-23 21:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4d70fea291b484a2e7da5f11e1a6affd96c08d2d', 'message': 'DNM: Really DNM ... Testing centos 8 release files and repos\n\nChange-Id: I773b3cbc2b362dc89cf68c3053b4994480562fd5\n'}, {'number': 6, 'created': '2020-02-23 21:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a66dc65f65f1f1b94c12235d071abfacea0a5d10', 'message': 'DNM: Really DNM ... Testing centos 8 release files and repos\n\nChange-Id: I773b3cbc2b362dc89cf68c3053b4994480562fd5\n'}, {'number': 7, 'created': '2020-02-23 22:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e5543410eb32a622ee85c6b3d72a8e26c62488dc', 'message': 'DNM: Really DNM ... Testing centos 8 release files and repos\n\nChange-Id: I773b3cbc2b362dc89cf68c3053b4994480562fd5\n'}, {'number': 8, 'created': '2020-02-23 23:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b16acbee5355903da28e54c10252d384a38442f7', 'message': 'DNM: Really DNM ... Testing centos 8 release files and repos\n\nChange-Id: I773b3cbc2b362dc89cf68c3053b4994480562fd5\n'}, {'number': 9, 'created': '2020-02-23 23:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dfb7adff20d9c565c618bab90e4b7eaf297bdeb2', 'message': 'DNM: Really DNM ... Testing centos 8 release files and repos\n\nChange-Id: I773b3cbc2b362dc89cf68c3053b4994480562fd5\n'}, {'number': 10, 'created': '2020-02-24 06:15:27.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d9338c4e96a90ad46cf90c3f2981fcb15e47d255', 'message': 'DNM: Really DNM ... Testing centos 8 release files and repos\n\nChange-Id: I773b3cbc2b362dc89cf68c3053b4994480562fd5\n'}]",2,709215,d9338c4e96a90ad46cf90c3f2981fcb15e47d255,35,4,10,9976,,,0,"DNM: Really DNM ... Testing centos 8 release files and repos

Change-Id: I773b3cbc2b362dc89cf68c3053b4994480562fd5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/15/709215/10 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'],1,9e2604d52fb7b43cd617a82b0d609a453cbecbec,minimal-centos-release-files, sudo curl -o https://trunk.rdoproject.org/centos8-master/tripleo-ci-testing/delorean.repo /etc/yum.repos.d/delorean.repo," if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh else # Otherwise, fallback to official mirrors provided by CentOS. export NODEPOOL_CENTOS_MIRROR={{ lookup('env','NODEPOOL_CENTOS_MIRROR')|default('http://mirror.centos.org/centos', true) }} export NODEPOOL_RDO_PROXY=https://trunk.rdoproject.org fi rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/centos8-master/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 fi export RDO_DLRN_REPO=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} repos: - type: generic reponame: delorean filename: delorean.repo priority: 20 baseurl: $RDO_DLRN_REPO - type: generic reponame: delorean-master-deps filename: delorean-master-deps.repo baseurl: ${NODEPOOL_RDO_PROXY}/centos8-master/deps/latest/ - type: generic reponame: delorean-master-build-deps filename: delorean-master-build-deps.repo baseurl: ${NODEPOOL_RDO_PROXY}/centos8-master/build-deps/latest/ enabled: 0 # CentOS related repos - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/BaseOS/x86_64/os/ - type: generic reponame: quickstart-centos-appstreams filename: quickstart-centos-appstreams.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/AppStream/x86_64/os/ - type: generic reponame: quickstart-centos-powertools filename: quickstart-centos-powertools.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/PowerTools/x86_64/os/ - type: generic reponame: quickstart-centos-highavailability filename: quickstart-centos-highavailability.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/HighAvailability/x86_64/os/ - type: generic reponame: quickstart-centos-extras filename: quickstart-centos-extras.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/extras/x86_64/ - type: generic reponame: quickstart-centos-qemu filename: quickstart-centos-qemu.repo baseurl: ${NODEPOOL_RDO_PROXY}/centos8-master/deps/advvirt/8.1/ - type: generic reponame: quickstart-centos-ceph-nautilus filename: quickstart-centos-ceph-nautilus.repo baseurl: ${NODEPOOL_RDO_PROXY}/centos8-master/deps/storage/storage8-ceph-nautilus/x86_64/ - type: generic reponame: quickstart-centos-opstools filename: quickstart-centos-opstools.repo baseurl: ${NODEPOOL_RDO_PROXY}/centos8-master/deps/opstools/collectd/x86_64/ - type: generic reponame: quickstart-centos-messaging filename: quickstart-centos-messaging.repo baseurl: ${NODEPOOL_RDO_PROXY}/centos8-master/deps/messaging/rabbitmq/x86_64/ - type: generic reponame: quickstart-centos-cr filename: quickstart-centos-cr.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/cr/x86_64/ enabled: 0 - type: generic reponame: quickstart-centos8-rt filename: quickstart-centos8-rt.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/rt/x86_64/ enabled: 0 repo_cmd_after: | {% if not enable_opstools_repo|default(false)|bool %}sudo yum-config-manager --save --setopt quickstart-centos-opstools.enabled=0; {%endif %} {% if enable_centos_cr_repo|default(false)|bool %} dnf config-manager --enable quickstart-centos-cr {% endif %} sudo dnf config-manager --disable rdo-qemu-ev; sudo rpm -e epel-release || true; sudo dnf remove -y rdo-release centos-release-ceph-* centos-release-openstack-* centos-release-qemu-ev || true; sudo rm -rf /etc/yum.repos.d/CentOS-OpenStack-*.repo /etc/yum.repos.d/CentOS-Ceph-*.repo /etc/yum.repos.d/CentOS-QEMU-EV.repo; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo dnf repolist; sudo dnf clean metadata {% if repo_setup_run_update|default(true)|bool %} sudo dnf update -y {% endif %}",2,105
openstack%2Fkolla~master~I92be17ef1ce0f81ab3f49433a0d1e688874ba64e,openstack/kolla,master,I92be17ef1ce0f81ab3f49433a0d1e688874ba64e,nova: use proper uefi package names under CentOS/RHEL 8,MERGED,2020-01-30 15:28:57.000000000,2020-02-24 13:48:18.000000000,2020-02-04 15:26:24.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-30 15:28:57.000000000', 'files': ['docker/nova/nova-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a04963a6abdf34a49ecb815d97de394d8c7a152b', 'message': 'nova: use proper uefi package names under CentOS/RHEL 8\n\nChange-Id: I92be17ef1ce0f81ab3f49433a0d1e688874ba64e\n'}]",2,705040,a04963a6abdf34a49ecb815d97de394d8c7a152b,13,4,1,24072,,,0,"nova: use proper uefi package names under CentOS/RHEL 8

Change-Id: I92be17ef1ce0f81ab3f49433a0d1e688874ba64e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/40/705040/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-base/Dockerfile.j2'],1,a04963a6abdf34a49ecb815d97de394d8c7a152b,bp/centos-rhel-8, {% else %} {% set nova_base_packages = nova_base_packages + [ 'edk2-ovmf' ] %} {% else %} {% set nova_base_packages = nova_base_packages + [ 'edk2-aarch64' ] %} {% else %} {% set nova_base_packages = nova_base_packages + [ 'edk2-ovmf' ] %} {% else %} {% set nova_base_packages = nova_base_packages + [ 'edk2-aarch64' ] %},,16,0
openstack%2Fmonasca-notification~master~I6d473d54a97abfb91e73c0e47cd7536639bb14e2,openstack/monasca-notification,master,I6d473d54a97abfb91e73c0e47cd7536639bb14e2,Declare cli.yaml_config option as not required,MERGED,2020-02-20 17:04:18.000000000,2020-02-24 13:42:43.000000000,2020-02-24 13:42:42.000000000,"[{'_account_id': 12404}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-20 17:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/f032573bc76756365e079783c3f0df1243c15b8d', 'message': ""Declare cli.yaml_config option as not required\n\nYAML configuration support has been deprecated and will be removed. We\ndon't need this option for starting the service.\n\nChange-Id: I6d473d54a97abfb91e73c0e47cd7536639bb14e2\nStory: 2007318\nTask: 38827\n""}, {'number': 2, 'created': '2020-02-24 09:58:01.000000000', 'files': ['monasca_notification/conf/cli.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/76f86ec6123f0ef3aaa75200253939340c5d03d5', 'message': ""Declare cli.yaml_config option as not required\n\nYAML configuration support has been deprecated and will be removed. We\ndon't need this option for starting the service.\n\nDepends-On: https://review.opendev.org/709389\nChange-Id: I6d473d54a97abfb91e73c0e47cd7536639bb14e2\nStory: 2007318\nTask: 38827\n""}]",0,708919,76f86ec6123f0ef3aaa75200253939340c5d03d5,16,6,2,16222,,,0,"Declare cli.yaml_config option as not required

YAML configuration support has been deprecated and will be removed. We
don't need this option for starting the service.

Depends-On: https://review.opendev.org/709389
Change-Id: I6d473d54a97abfb91e73c0e47cd7536639bb14e2
Story: 2007318
Task: 38827
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/19/708919/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/conf/cli.py'],1,f032573bc76756365e079783c3f0df1243c15b8d,," 'after PIKE release.', required=False)", 'after PIKE release.'),2,1
openstack%2Ftripleo-heat-templates~master~Id6675345f0855401b5eaf68c8d3ef26862498764,openstack/tripleo-heat-templates,master,Id6675345f0855401b5eaf68c8d3ef26862498764,Ensure rsync is present as early as possible,ABANDONED,2020-02-24 07:54:15.000000000,2020-02-24 13:28:01.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-24 07:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/144fc5ccc88f7294404337df51ce5d53c59e382f', 'message': 'Ensure rsync is present as early as possible\n\nThe previous patch[1] added rsync in an upgrade task, while we need it\nduring the install itself as well.\n\n[1] https://review.opendev.org/#/q/Ie8a1ad5e2c9e32cce1f1b8c264a8b44207d99b59\n\nChange-Id: Id6675345f0855401b5eaf68c8d3ef26862498764\nCloses-Bug: #1863216\n'}, {'number': 2, 'created': '2020-02-24 08:12:51.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ba28f77a4e37237319f5289c70530283045e2cc', 'message': 'Ensure rsync is present as early as possible\n\nThe previous patch[1] added rsync in an upgrade task, while we need it\nduring the install itself as well.\n\n[1] https://review.opendev.org/#/q/Ie8a1ad5e2c9e32cce1f1b8c264a8b44207d99b59\n\nDepends-On: https://review.opendev.org/709389\nChange-Id: Id6675345f0855401b5eaf68c8d3ef26862498764\nCloses-Bug: #1863216\n'}]",0,709421,1ba28f77a4e37237319f5289c70530283045e2cc,6,5,2,28223,,,0,"Ensure rsync is present as early as possible

The previous patch[1] added rsync in an upgrade task, while we need it
during the install itself as well.

[1] https://review.opendev.org/#/q/Ie8a1ad5e2c9e32cce1f1b8c264a8b44207d99b59

Depends-On: https://review.opendev.org/709389
Change-Id: Id6675345f0855401b5eaf68c8d3ef26862498764
Closes-Bug: #1863216
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/709421/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,144fc5ccc88f7294404337df51ce5d53c59e382f,packages/rsync, host_prep_tasks: - name: Ensure rsync is present no matter what package: name: rsync,,4,0
openstack%2Fopenstack-ansible~master~I86d8642b2cb1644f088a7b442bfa8b663422f84f,openstack/openstack-ansible,master,I86d8642b2cb1644f088a7b442bfa8b663422f84f,DNM Gather facts for the setup-hosts.yml,ABANDONED,2020-02-20 18:49:30.000000000,2020-02-24 13:24:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-20 18:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a4b97a7a0d99e263c6720da8915c35600491a349', 'message': 'DNM Gather facts for the setup-hosts.yml\n\nChange-Id: I86d8642b2cb1644f088a7b442bfa8b663422f84f\n'}, {'number': 2, 'created': '2020-02-20 22:46:36.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d126248cae10758c935f202d2ea210a002bc7ea2', 'message': 'DNM Gather facts for the setup-hosts.yml\n\nAlso test using the ansible-runtime python to drop hosts file script\n\nDepends-On: https://review.opendev.org/708989\nChange-Id: I86d8642b2cb1644f088a7b442bfa8b663422f84f\n'}]",0,708949,d126248cae10758c935f202d2ea210a002bc7ea2,5,1,2,28619,,,0,"DNM Gather facts for the setup-hosts.yml

Also test using the ansible-runtime python to drop hosts file script

Depends-On: https://review.opendev.org/708989
Change-Id: I86d8642b2cb1644f088a7b442bfa8b663422f84f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/708949/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,a4b97a7a0d99e263c6720da8915c35600491a349,, openstack-ansible setup-hosts.yml, openstack-ansible setup-hosts.yml -e osa_gather_facts=False,1,1
openstack%2Fopenstack-ansible-tests~master~Ibb48f7848c529b5fd2a41c61e28282819238fbe9,openstack/openstack-ansible-tests,master,Ibb48f7848c529b5fd2a41c61e28282819238fbe9,Switch Centos virtualenvs to python3,MERGED,2020-02-24 10:12:00.000000000,2020-02-24 13:21:22.000000000,2020-02-24 13:19:09.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-24 10:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/a9dd2aab279cda3b853675ad784724fcd41e64cb', 'message': 'Switch Centos virtualenvs to python3\n\nChange-Id: Ibb48f7848c529b5fd2a41c61e28282819238fbe9\n'}, {'number': 2, 'created': '2020-02-24 10:25:50.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/535f0bbda5ed5bb36feae3248e94916ca4a72010', 'message': 'Switch Centos virtualenvs to python3\n\nChange-Id: Ibb48f7848c529b5fd2a41c61e28282819238fbe9\n'}]",0,709442,535f0bbda5ed5bb36feae3248e94916ca4a72010,10,3,2,25023,,,0,"Switch Centos virtualenvs to python3

Change-Id: Ibb48f7848c529b5fd2a41c61e28282819238fbe9
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/42/709442/1 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,a9dd2aab279cda3b853675ad784724fcd41e64cb,osa/make-gates-great-again,"openstack_venv_python_executable: ""python3""","openstack_venv_python_executable: ""{{ (ansible_distribution == 'CentOS') | ternary('python2', 'python3') }}""",1,1
openstack%2Ftripleo-validations~master~I62bffc9ed3c0076f9a8415d00ed9b34911a7597f,openstack/tripleo-validations,master,I62bffc9ed3c0076f9a8415d00ed9b34911a7597f,Add custom ansible-lint rule for Role Names,MERGED,2020-01-20 17:31:46.000000000,2020-02-24 13:14:01.000000000,2020-02-19 15:29:24.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-20 17:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7d7ec7ddf1197e4cb3bb1511baa5c570424a7c55', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2020-01-21 13:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/257c65929726d0accecea644218eba0f2a12969a', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2020-01-22 16:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/487490e5952a6ba9a5846d2d1111f37780b420af', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2020-01-23 09:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b8ed0a426844f1b5d12a680f9ef8cdedd673a4c3', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2020-01-23 10:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4632431cc9aca798cb4b574656e68da176334fc3', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2020-01-23 16:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/329069e1de4843bd3c81938c306a2a881100c22d', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 7, 'created': '2020-01-24 09:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/69d4b02704332bb27d9de057a276026c7824a4e6', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 8, 'created': '2020-01-26 16:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/82cabc3516cc6dacad63305a4da27d9d105aa9c9', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 9, 'created': '2020-01-29 16:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/54e04e1c8644f0c63e3aacfecd4140c3d2dfdf03', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 10, 'created': '2020-01-30 11:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d4bb083a894683d5611e4e534ddab62d27d6b9f0', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 11, 'created': '2020-02-10 09:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/545c3f45fa48179f25ee2ce7910322793e68b5c3', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 12, 'created': '2020-02-11 15:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/554713a94315c38e8604b1561d3b83b1f74eeb26', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 13, 'created': '2020-02-17 05:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3d5046bd26b6dbd3a675fdb3ea6efa60a81e8b5f', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 14, 'created': '2020-02-19 08:03:47.000000000', 'files': ['.ansible-lint_rules/RoleNames.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/148199846dd5f58687793f41250da4cceca131c5', 'message': 'Add custom ansible-lint rule for Role Names\n\nRoles can no longer have a ""-"" in them according to the upstream ansible\ndocumentation[0]. This change adds a new ansible-lint rule to check if\nthe role name is respecting the Ansible recommendations.\n\n[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory\n\nChange-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,703463,148199846dd5f58687793f41250da4cceca131c5,48,8,14,11491,,,0,"Add custom ansible-lint rule for Role Names

Roles can no longer have a ""-"" in them according to the upstream ansible
documentation[0]. This change adds a new ansible-lint rule to check if
the role name is respecting the Ansible recommendations.

[0] https://docs.ansible.com/ansible/devel/dev_guide/developing_collections.html#roles-directory

Change-Id: I62bffc9ed3c0076f9a8415d00ed9b34911a7597f
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/63/703463/12 && git format-patch -1 --stdout FETCH_HEAD,['.ansible-lint_rules/RoleNames.py'],1,7d7ec7ddf1197e4cb3bb1511baa5c570424a7c55,service_status,"from ansiblelint import AnsibleLintRule class RoleNames(AnsibleLintRule): id = '751' shortdesc = ( ""Use only lowercase alphanumeric characters, plus '_' and start "" ""with an alpha character in role names"" ) description = ( ""Role names are now limited to contain only lowercase alphanumeric "" ""characters, plus '_' and start with an alpha character"" ) severity = 'HIGH' done = [] # already noticed roles list tags = ['formatting'] def match(self, file, text): # if file['type'] != 'tasks': # return False path = file['path'].split(""/"") if ""roles"" in path: role_name = path[path.index(""roles"") + 1] if role_name not in self.done: self.done.append(role_name) if role_name.isupper() or \ role_name.find(""-"") > 0: return True else: return False return False ",,32,0
openstack%2Frequirements~master~I137f121fd6614d2edee454a96c85479c66658639,openstack/requirements,master,I137f121fd6614d2edee454a96c85479c66658639,Reenable cross-horizon-npm job,ABANDONED,2020-02-24 13:00:08.000000000,2020-02-24 13:12:11.000000000,,[{'_account_id': 841}],"[{'number': 1, 'created': '2020-02-24 13:00:08.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2817f37656c0fa7d228c31eaf12d1ebed315702d', 'message': 'Reenable cross-horizon-npm job\n\nChange-Id: I137f121fd6614d2edee454a96c85479c66658639\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,709463,2817f37656c0fa7d228c31eaf12d1ebed315702d,2,1,1,11904,,,0,"Reenable cross-horizon-npm job

Change-Id: I137f121fd6614d2edee454a96c85479c66658639
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/709463/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,2817f37656c0fa7d228c31eaf12d1ebed315702d,horizon, - cross-horizon-npm - cross-horizon-npm, - cross-horizon-npm: voting: false,2,2
openstack%2Frequirements~master~I268fb7e1dc753c82983736572b3df2f152f8cf51,openstack/requirements,master,I268fb7e1dc753c82983736572b3df2f152f8cf51,"Update gitdb to 4.0.1, gitdb2 to 4.0.2",MERGED,2020-02-24 02:06:50.000000000,2020-02-24 13:10:06.000000000,2020-02-24 12:10:30.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 7166}, {'_account_id': 8037}, {'_account_id': 8449}, {'_account_id': 9708}, {'_account_id': 9816}, {'_account_id': 11491}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13692}, {'_account_id': 13861}, {'_account_id': 14288}, {'_account_id': 14807}, {'_account_id': 17669}, {'_account_id': 19134}, {'_account_id': 20363}, {'_account_id': 21767}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22629}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 27302}, {'_account_id': 28022}, {'_account_id': 28223}, {'_account_id': 29244}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-24 02:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3643ab6fea0b644e6ec8d0412bedd5e29960ca25', 'message': ""Update gitdb to 4.0.1, gitdb2 to 4.0.2\n\nThe gitdb 4.0.0 release and gitdb2 4.0.1 release has been deleted from\nPyPi and (if I'm reading [1] correctly, which is a big *if*) has been\nreplaced with 4.0.1 and 4.0.2 respectively.\n\n  gitdb v4.0.1 and gitdb2 v4.0.2 should be functionally equivalent to\n  gitdb2 v3.0.3 with gitdb v4.0.2 simply installing gitdb >= 4.0.1 and\n  with gitdb v4.0.1 requiring smmap rather than smmap2\n  (gitpython-developers/smmap#44).\n\n[1] https://github.com/gitpython-developers/gitdb/issues/59\n\nChange-Id: I268fb7e1dc753c82983736572b3df2f152f8cf51\n""}, {'number': 2, 'created': '2020-02-24 03:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9ab44f0612c7018ada076dd8b09045ec26b500e6', 'message': ""Update gitdb to 4.0.1, gitdb2 to 4.0.2\n\nThe gitdb 4.0.0 release and gitdb2 4.0.1 release has been deleted from\nPyPi and (if I'm reading [1] correctly, which is a big *if*) has been\nreplaced with 4.0.1 and 4.0.2 respectively.  [1]:\n\n  gitdb v4.0.1 and gitdb2 v4.0.2 should be functionally equivalent to\n  gitdb2 v3.0.3 with gitdb v4.0.2 simply installing gitdb >= 4.0.1 and\n  with gitdb v4.0.1 requiring smmap rather than smmap2\n  (gitpython-developers/smmap#44).\n\nAdditionally, it seems that gitdb now also requires smmap>=3.0.1.\nThis project is in a similar renaming phase, but 3.0.1 seems to be the\ncorrect place to be [2]:\n\n  v3.0.1 for both packages should be functionally equivalent to smmap2\n  v2.0.5, with smmap2 v3.0.1 simply installing smmap >= 3.0.1.\n\n[1] https://github.com/gitpython-developers/gitdb/issues/59\n[2] https://github.com/gitpython-developers/smmap/issues/44\n\nChange-Id: I268fb7e1dc753c82983736572b3df2f152f8cf51\n""}, {'number': 3, 'created': '2020-02-24 06:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7240eca5ed0a53dba7dcdb36b28f439de207373f', 'message': ""Update gitdb to 4.0.1, gitdb2 to 4.0.2\n\nThe gitdb 4.0.0 release and gitdb2 4.0.1 release has been deleted from\nPyPi and (if I'm reading [1] correctly, which is a big *if*) has been\nreplaced with 4.0.1 and 4.0.2 respectively.  [1]:\n\n  gitdb v4.0.1 and gitdb2 v4.0.2 should be functionally equivalent to\n  gitdb2 v3.0.3 with gitdb v4.0.2 simply installing gitdb >= 4.0.1 and\n  with gitdb v4.0.1 requiring smmap rather than smmap2\n  (gitpython-developers/smmap#44).\n\nAdditionally, it seems that gitdb now also requires smmap>=3.0.1.\nThis project is in a similar renaming phase, but 3.0.1 seems to be the\ncorrect place to be [2]:\n\n  v3.0.1 for both packages should be functionally equivalent to smmap2\n  v2.0.5, with smmap2 v3.0.1 simply installing smmap >= 3.0.1.\n\n[1] https://github.com/gitpython-developers/gitdb/issues/59\n[2] https://github.com/gitpython-developers/smmap/issues/44\n\nChange-Id: I268fb7e1dc753c82983736572b3df2f152f8cf51\n""}, {'number': 4, 'created': '2020-02-24 06:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/169a9860f7b3a24079721b7d48b85ee14f5f9f37', 'message': ""Update gitdb to 4.0.1, gitdb2 to 4.0.2\n\nThe gitdb 4.0.0 release and gitdb2 4.0.1 release has been deleted from\nPyPi and (if I'm reading [1] correctly, which is a big *if*) has been\nreplaced with 4.0.1 and 4.0.2 respectively.  [1]:\n\n  gitdb v4.0.1 and gitdb2 v4.0.2 should be functionally equivalent to\n  gitdb2 v3.0.3 with gitdb v4.0.2 simply installing gitdb >= 4.0.1 and\n  with gitdb v4.0.1 requiring smmap rather than smmap2\n  (gitpython-developers/smmap#44).\n\nAdditionally, it seems that gitdb now also requires smmap>=3.0.1.\nThis project is in a similar renaming phase, but 3.0.1 seems to be the\ncorrect place to be [2]:\n\n  v3.0.1 for both packages should be functionally equivalent to smmap2\n  v2.0.5, with smmap2 v3.0.1 simply installing smmap >= 3.0.1.\n\n[1] https://github.com/gitpython-developers/gitdb/issues/59\n[2] https://github.com/gitpython-developers/smmap/issues/44\n\nChange-Id: I268fb7e1dc753c82983736572b3df2f152f8cf51\n""}, {'number': 5, 'created': '2020-02-24 07:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0d112a6fd109e769ea8e85b186f087922002ec58', 'message': ""Update gitdb to 4.0.1, gitdb2 to 4.0.2\n\nThe gitdb 4.0.0 release and gitdb2 4.0.1 release has been deleted from\nPyPi and (if I'm reading [1] correctly, which is a big *if*) has been\nreplaced with 4.0.1 and 4.0.2 respectively.  [1]:\n\n  gitdb v4.0.1 and gitdb2 v4.0.2 should be functionally equivalent to\n  gitdb2 v3.0.3 with gitdb v4.0.2 simply installing gitdb >= 4.0.1 and\n  with gitdb v4.0.1 requiring smmap rather than smmap2\n  (gitpython-developers/smmap#44).\n\nAdditionally, it seems that gitdb now also requires smmap>=3.0.1.\nThis project is in a similar renaming phase, but 3.0.1 seems to be the\ncorrect place to be [2]:\n\n  v3.0.1 for both packages should be functionally equivalent to smmap2\n  v2.0.5, with smmap2 v3.0.1 simply installing smmap >= 3.0.1.\n\nAdditionally additionally, there appears to be a problem with\ncross-horizon-npm not obeying new constraints in it's job (possibly\nthis is the first time packages horizon cares about have broken?).\nSince this blocks this change from merging, set the job to non-voting\nuntil we can fix this in a follow-on.\n\n[1] https://github.com/gitpython-developers/gitdb/issues/59\n[2] https://github.com/gitpython-developers/smmap/issues/44\n\nChange-Id: I268fb7e1dc753c82983736572b3df2f152f8cf51\n""}, {'number': 6, 'created': '2020-02-24 12:02:25.000000000', 'files': ['.zuul.d/project.yaml', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7d5bea2164d74471c3cff072f73a45212b3793e9', 'message': ""Update gitdb to 4.0.1, gitdb2 to 4.0.2\n\nThe gitdb 4.0.0 release and gitdb2 4.0.1 release has been deleted from\nPyPi and (if I'm reading [1] correctly, which is a big *if*) has been\nreplaced with 4.0.1 and 4.0.2 respectively.  [1]:\n\n  gitdb v4.0.1 and gitdb2 v4.0.2 should be functionally equivalent to\n  gitdb2 v3.0.3 with gitdb v4.0.2 simply installing gitdb >= 4.0.1 and\n  with gitdb v4.0.1 requiring smmap rather than smmap2\n  (gitpython-developers/smmap#44).\n\nAdditionally, it seems that gitdb now also requires smmap>=3.0.1.\nThis project is in a similar renaming phase, but 3.0.1 seems to be the\ncorrect place to be [2]:\n\n  v3.0.1 for both packages should be functionally equivalent to smmap2\n  v2.0.5, with smmap2 v3.0.1 simply installing smmap >= 3.0.1.\n\nAdditionally additionally, there appears to be a problem with\ncross-horizon-npm not obeying new constraints in it's job (possibly\nthis is the first time packages horizon cares about have broken?).\nSince this blocks this change from merging, set the job to non-voting\nuntil we can fix this in a follow-on.\n\n[1] https://github.com/gitpython-developers/gitdb/issues/59\n[2] https://github.com/gitpython-developers/smmap/issues/44\n\nChange-Id: I268fb7e1dc753c82983736572b3df2f152f8cf51\n""}]",2,709389,7d5bea2164d74471c3cff072f73a45212b3793e9,55,31,6,7118,,,0,"Update gitdb to 4.0.1, gitdb2 to 4.0.2

The gitdb 4.0.0 release and gitdb2 4.0.1 release has been deleted from
PyPi and (if I'm reading [1] correctly, which is a big *if*) has been
replaced with 4.0.1 and 4.0.2 respectively.  [1]:

  gitdb v4.0.1 and gitdb2 v4.0.2 should be functionally equivalent to
  gitdb2 v3.0.3 with gitdb v4.0.2 simply installing gitdb >= 4.0.1 and
  with gitdb v4.0.1 requiring smmap rather than smmap2
  (gitpython-developers/smmap#44).

Additionally, it seems that gitdb now also requires smmap>=3.0.1.
This project is in a similar renaming phase, but 3.0.1 seems to be the
correct place to be [2]:

  v3.0.1 for both packages should be functionally equivalent to smmap2
  v2.0.5, with smmap2 v3.0.1 simply installing smmap >= 3.0.1.

Additionally additionally, there appears to be a problem with
cross-horizon-npm not obeying new constraints in it's job (possibly
this is the first time packages horizon cares about have broken?).
Since this blocks this change from merging, set the job to non-voting
until we can fix this in a follow-on.

[1] https://github.com/gitpython-developers/gitdb/issues/59
[2] https://github.com/gitpython-developers/smmap/issues/44

Change-Id: I268fb7e1dc753c82983736572b3df2f152f8cf51
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/709389/6 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3643ab6fea0b644e6ec8d0412bedd5e29960ca25,gitdb,gitdb===4.0.1;python_version=='3.6' gitdb===4.0.1;python_version=='3.7'gitdb2===4.0.2;python_version=='3.6' gitdb2===4.0.2;python_version=='3.7',gitdb===4.0.0;python_version=='3.6' gitdb===4.0.0;python_version=='3.7'gitdb2===4.0.1;python_version=='3.6' gitdb2===4.0.1;python_version=='3.7',4,4
openstack%2Freleases~master~I541c5f78c038733c5d96928ec44a92f903cbb1fb,openstack/releases,master,I541c5f78c038733c5d96928ec44a92f903cbb1fb,Clarify tarball-base schema use,MERGED,2020-02-20 22:46:45.000000000,2020-02-24 13:04:35.000000000,2020-02-24 13:04:35.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-20 22:46:45.000000000', 'files': ['doc/source/reference/using.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/7ce6f9bda630696ae0ab00b9683cb9a7c6a82097', 'message': 'Clarify tarball-base schema use\n\nChange-Id: I541c5f78c038733c5d96928ec44a92f903cbb1fb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,708990,7ce6f9bda630696ae0ab00b9683cb9a7c6a82097,7,3,1,11904,,,0,"Clarify tarball-base schema use

Change-Id: I541c5f78c038733c5d96928ec44a92f903cbb1fb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/708990/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/using.rst'],1,7ce6f9bda630696ae0ab00b9683cb9a7c6a82097,tarball-base," ``tarball-base`` An optional name for the base of the tarball created by the release. If no value is provided, it defaults to the repo base name or an overridden value set on a specific release entry under ``releases``. release. If no value is provided, it defaults to the ``repository-settings`` value if set, else the repo base name."," release. If no value is provided, it defaults to the repo base name.",7,1
openstack%2Fopenstack-ansible-tests~master~Iaaafb36be0ce01cde839a1e005bbdf76b98036bd,openstack/openstack-ansible-tests,master,Iaaafb36be0ce01cde839a1e005bbdf76b98036bd,bindep: add python3 to centos 7,MERGED,2020-02-24 08:30:43.000000000,2020-02-24 13:01:06.000000000,2020-02-24 12:58:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-24 08:30:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/174df6c505f7ae003a363c2ad1fba5566a6e5ff1', 'message': 'bindep: add python3 to centos 7\n\nThis will allow us to run the functional tests successfully using\nPython 3.\n\nChange-Id: Iaaafb36be0ce01cde839a1e005bbdf76b98036bd\n'}]",0,709427,174df6c505f7ae003a363c2ad1fba5566a6e5ff1,9,4,1,1004,,,0,"bindep: add python3 to centos 7

This will allow us to run the functional tests successfully using
Python 3.

Change-Id: Iaaafb36be0ce01cde839a1e005bbdf76b98036bd
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/27/709427/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,174df6c505f7ae003a363c2ad1fba5566a6e5ff1,osa/make-gates-great-again,python3-devel [platform:rpm],,1,0
openstack%2Fnetworking-bgpvpn~stable%2Ftrain~Ief198494575735c0da47dd8539dde39dd79a742f,openstack/networking-bgpvpn,stable/train,Ief198494575735c0da47dd8539dde39dd79a742f,"Revert ""[stable-only] Cap horizon to Train version""",MERGED,2020-02-20 13:00:02.000000000,2020-02-24 12:58:36.000000000,2020-02-24 12:56:10.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-20 13:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/30d103d9915707d4b11073c86442c5431089a8be', 'message': 'Revert ""[stable-only] Cap horizon to Train version""\n\nMeanwhile horizon was added to upper-constraints.txt [1] so this patch is not necessary anymore and furthermore it even causes failures in master branch [2]\n\n[1] I632e9d8ab343493d358b30163771589d35a53ca5\n[2] I04caf7278528ca8ee5f3fcb9aedd55839bc9a418\n\nThis reverts commit c1ce035f10a874f59af8c33d6eac4c0d2aa9f7d6.\n\nChange-Id: Ief198494575735c0da47dd8539dde39dd79a742f\n'}, {'number': 2, 'created': '2020-02-20 15:05:50.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/909ade03794c8dc169ff81488ba4047bc5e06262', 'message': 'Revert ""[stable-only] Cap horizon to Train version""\n\nMeanwhile horizon was added to upper-constraints.txt [1] so this patch\nis not necessary anymore and furthermore it even causes failures in\nmaster branch [2]\n\nNOTE(elod.illes): to pass requirements check two things need to be\n(re-)added:\n* sphinx requirements update (i.e. remove this part from the revert\n  patch)\n* neutron lower constraint to match in lower-constraints.txt and\n  requirements.txt\n\n[1] I632e9d8ab343493d358b30163771589d35a53ca5\n[2] I04caf7278528ca8ee5f3fcb9aedd55839bc9a418\n\nThis reverts commit c1ce035f10a874f59af8c33d6eac4c0d2aa9f7d6.\n\nChange-Id: Ief198494575735c0da47dd8539dde39dd79a742f\n'}]",0,708865,909ade03794c8dc169ff81488ba4047bc5e06262,13,7,2,17685,,,0,"Revert ""[stable-only] Cap horizon to Train version""

Meanwhile horizon was added to upper-constraints.txt [1] so this patch
is not necessary anymore and furthermore it even causes failures in
master branch [2]

NOTE(elod.illes): to pass requirements check two things need to be
(re-)added:
* sphinx requirements update (i.e. remove this part from the revert
  patch)
* neutron lower constraint to match in lower-constraints.txt and
  requirements.txt

[1] I632e9d8ab343493d358b30163771589d35a53ca5
[2] I04caf7278528ca8ee5f3fcb9aedd55839bc9a418

This reverts commit c1ce035f10a874f59af8c33d6eac4c0d2aa9f7d6.

Change-Id: Ief198494575735c0da47dd8539dde39dd79a742f
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/65/708865/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/requirements.txt']",2,30d103d9915707d4b11073c86442c5431089a8be,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",2,3
openstack%2Fdevstack~master~I543faced83a685d48706d004ae49800abfb89dc5,openstack/devstack,master,I543faced83a685d48706d004ae49800abfb89dc5,Updated from generate-devstack-plugins-list,MERGED,2019-09-24 06:18:35.000000000,2020-02-24 12:26:57.000000000,2020-02-24 12:25:12.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-24 06:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d8a0c0c3baa48da2b4e568ff42378e1e1d89e165', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I543faced83a685d48706d004ae49800abfb89dc5\n'}, {'number': 2, 'created': '2019-10-04 06:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/35013f5787e2ae3e6f204b6b818876d1d798e537', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I543faced83a685d48706d004ae49800abfb89dc5\n'}, {'number': 3, 'created': '2020-02-21 06:12:08.000000000', 'files': ['doc/source/plugin-registry.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1e6b06ede00eca1087520abae8266142573733e3', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I543faced83a685d48706d004ae49800abfb89dc5\n'}]",0,684194,1e6b06ede00eca1087520abae8266142573733e3,16,4,3,11131,,,0,"Updated from generate-devstack-plugins-list

Change-Id: I543faced83a685d48706d004ae49800abfb89dc5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/94/684194/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin-registry.rst'],1,d8a0c0c3baa48da2b4e568ff42378e1e1d89e165,openstack/devstack/plugins,,openstack/shade `https://opendev.org/openstack/shade <https://opendev.org/openstack/shade>`__,0,1
openstack%2Fkolla-ansible~stable%2Ftrain~I718fc16cde2dd177b2a1c2f79b932426034897fe,openstack/kolla-ansible,stable/train,I718fc16cde2dd177b2a1c2f79b932426034897fe,Configure Cinder to use lioadm on CentOS/RHEL 8,MERGED,2020-01-14 13:30:18.000000000,2020-02-24 11:52:19.000000000,2020-02-24 11:50:34.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-01-14 13:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5043d7e3e9455440a5982fae160663c7e409f3f3', 'message': ""Configure Cinder to use lioadm on CentOS/RHEL 8\n\nIn CentOS/RHEL 8 there is no scsi-target-utils package, nor is it\navailable in EPEL. It is removed from kolla in [1]. In RHEL 7 and beyond\nthe LIO kernel subsystem can be used instead of the tgtd daemon.\n\nThis change removes support for the SCSI target daemon on CentOS/RHEL 8.\nThe 'tgtd' image is no longer available for CentOS/RHEL 8.\n\n[1] https://review.openstack.org/#/c/613815/5\n\nChange-Id: I718fc16cde2dd177b2a1c2f79b932426034897fe\nRelated: blueprint centos-rhel-8\n(cherry picked from commit 350bb171ef6abe8412f93fc0c9a9e28ac5eaff1d)\n""}, {'number': 2, 'created': '2020-02-21 17:43:40.000000000', 'files': ['ansible/roles/iscsi/tasks/precheck.yml', 'tests/run.yml', 'ansible/group_vars/all.yml', 'releasenotes/notes/centos8-cinder-lio-3fb17ce5c88abbf1.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9770e596dd0a18d733f8682f32d7cf6b328739c5', 'message': ""Configure Cinder to use lioadm on CentOS/RHEL 8\n\nIn CentOS/RHEL 8 there is no scsi-target-utils package, nor is it\navailable in EPEL. It is removed from kolla in [1]. In RHEL 7 and beyond\nthe LIO kernel subsystem can be used instead of the tgtd daemon.\n\nThis change removes support for the SCSI target daemon on CentOS/RHEL 8.\nThe 'tgtd' image is no longer available for CentOS/RHEL 8.\n\n[1] https://review.openstack.org/#/c/613815/5\n\nChange-Id: I718fc16cde2dd177b2a1c2f79b932426034897fe\nRelated: blueprint centos-rhel-8\n(cherry picked from commit 350bb171ef6abe8412f93fc0c9a9e28ac5eaff1d)\n""}]",0,702417,9770e596dd0a18d733f8682f32d7cf6b328739c5,12,4,2,14826,,,0,"Configure Cinder to use lioadm on CentOS/RHEL 8

In CentOS/RHEL 8 there is no scsi-target-utils package, nor is it
available in EPEL. It is removed from kolla in [1]. In RHEL 7 and beyond
the LIO kernel subsystem can be used instead of the tgtd daemon.

This change removes support for the SCSI target daemon on CentOS/RHEL 8.
The 'tgtd' image is no longer available for CentOS/RHEL 8.

[1] https://review.openstack.org/#/c/613815/5

Change-Id: I718fc16cde2dd177b2a1c2f79b932426034897fe
Related: blueprint centos-rhel-8
(cherry picked from commit 350bb171ef6abe8412f93fc0c9a9e28ac5eaff1d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/702417/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/iscsi/tasks/precheck.yml', 'ansible/group_vars/all.yml', 'tests/run.yml', 'releasenotes/notes/centos8-cinder-lio-3fb17ce5c88abbf1.yaml', 'tools/setup_gate.sh']",5,5043d7e3e9455440a5982fae160663c7e409f3f3,bp/centos-rhel-8," GATE_IMAGES+="",cinder,iscsid"" if [[ $BASE_DISTRO != ""centos"" ]] || [[ $BASE_DISTRO_MAJOR_VERSION -eq 7 ]]; then GATE_IMAGES+="",tgtd"" fi"," GATE_IMAGES+="",cinder,iscsid,tgtd""",21,2
openstack%2Ftripleo-upgrade~master~I151f99bc7d98d33bf277e65df0a857aefeee80ac,openstack/tripleo-upgrade,master,I151f99bc7d98d33bf277e65df0a857aefeee80ac,Correct spelling error in templates/overcloud_upgrade_run.sh.j2,MERGED,2020-01-21 12:54:54.000000000,2020-02-24 11:40:08.000000000,2020-02-21 13:01:28.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-01-21 12:54:54.000000000', 'files': ['templates/overcloud_upgrade_run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/458f8418b76748c882e70866a7a5da70f3c628e9', 'message': 'Correct spelling error in templates/overcloud_upgrade_run.sh.j2\n\nIn I295f927b2e4504d0ba2bbd952021f5ef70476027 a spelling error\nwas introduced in templates/overcloud_upgrade_run.sh.j2 - this\npatch corrects that error.\n\nChange-Id: I151f99bc7d98d33bf277e65df0a857aefeee80ac\n'}]",0,703605,458f8418b76748c882e70866a7a5da70f3c628e9,12,5,1,6816,,,0,"Correct spelling error in templates/overcloud_upgrade_run.sh.j2

In I295f927b2e4504d0ba2bbd952021f5ef70476027 a spelling error
was introduced in templates/overcloud_upgrade_run.sh.j2 - this
patch corrects that error.

Change-Id: I151f99bc7d98d33bf277e65df0a857aefeee80ac
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/05/703605/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_run.sh.j2'],1,458f8418b76748c882e70866a7a5da70f3c628e9,,"echo ""[$(date)] Running major upgrade {{ playbook }} playbook for {{ item }} role""echo ""[$(date)] Running major upgrade for {{ item }} role""","echo ""[$(date)] Runing major upgrade {{ playbook }} playbook for {{ item }} role""echo ""[$(date)] Runing major upgrade for {{ item }} role""",2,2
openstack%2Fkolla-ansible~master~Ifa8766d050b506708142a1970121ce5944c6bae1,openstack/kolla-ansible,master,Ifa8766d050b506708142a1970121ce5944c6bae1,Add support for ovsdb conversion,MERGED,2019-03-28 19:35:08.000000000,2020-02-24 11:29:17.000000000,2019-04-04 07:46:14.000000000,"[{'_account_id': 14826}, {'_account_id': 16006}, {'_account_id': 21032}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-03-28 19:35:08.000000000', 'files': ['ansible/roles/openvswitch/templates/start-ovsdb-server.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a6070b963b99b2b0477b6352502fc3a81564989', 'message': ""Add support for ovsdb conversion\n\nAfter upgrade we should check if OVSDB doesn't need conversion to new\nversion - this patch adds that to ovsdb start script.\n\nChange-Id: Ifa8766d050b506708142a1970121ce5944c6bae1\nCloses-Bug: #1792496\n""}]",0,648516,2a6070b963b99b2b0477b6352502fc3a81564989,11,6,1,22629,,,0,"Add support for ovsdb conversion

After upgrade we should check if OVSDB doesn't need conversion to new
version - this patch adds that to ovsdb start script.

Change-Id: Ifa8766d050b506708142a1970121ce5944c6bae1
Closes-Bug: #1792496
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/648516/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/openvswitch/templates/start-ovsdb-server.j2'],1,2a6070b963b99b2b0477b6352502fc3a81564989,bug/1792496,"# NOTE(mnasiadka): ensure existing ovsdb doesn't need to be upgraded if ([ -f /var/lib/openvswitch/conf.db ] && [ `ovsdb-tool needs-conversion /var/lib/openvswitch/conf.db` == ""yes"" ]); then /usr/bin/ovsdb-tool convert /var/lib/openvswitch/conf.db fi ",,6,0
openstack%2Fdevstack~master~I94a762b6780e25c7f87f55f24c77e65e84ddddf1,openstack/devstack,master,I94a762b6780e25c7f87f55f24c77e65e84ddddf1,Ensure python scripts use python3 when enabled,ABANDONED,2020-02-16 14:50:21.000000000,2020-02-24 11:10:46.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-16 14:50:21.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cf1cd55d20db9e41eae6bc962883fe87017da420', 'message': 'Ensure python scripts use python3 when enabled\n\nWhen python3 is enabled, python2.7 is not installed\nanymore, causing python scripts to fail as the\nshebang used does not specify python3.\nThis commit fixes the issue by creating a symbolic\nlink python to python3.\n\nChange-Id: I94a762b6780e25c7f87f55f24c77e65e84ddddf1\nCloses-bug: 1863474\n'}]",0,708019,cf1cd55d20db9e41eae6bc962883fe87017da420,5,3,1,27032,,,0,"Ensure python scripts use python3 when enabled

When python3 is enabled, python2.7 is not installed
anymore, causing python scripts to fail as the
shebang used does not specify python3.
This commit fixes the issue by creating a symbolic
link python to python3.

Change-Id: I94a762b6780e25c7f87f55f24c77e65e84ddddf1
Closes-bug: 1863474
",git fetch https://review.opendev.org/openstack/devstack refs/changes/19/708019/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,cf1cd55d20db9e41eae6bc962883fe87017da420,bug/1863474,sudo ln -s python3 /usr/bin/python,,1,0
openstack%2Fneutron~master~I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde,openstack/neutron,master,I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde,[OVN] Add OVN functional tests - part 3,ABANDONED,2020-01-14 12:27:52.000000000,2020-02-24 11:01:56.000000000,,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 29874}]","[{'number': 1, 'created': '2020-01-14 12:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30c64f6e10805a96ef22a232fdc6212f31e81be9', 'message': '[OVN] Add OVN functional tests - part 3\n\nThis patch adds functional tests for:\n * OVN QoS\n * OVN DB Revision numbersa\n * OVN L3 Plugina\n * OVN Trunk driver\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_qos_driver.py ->\n  ./neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py\n./networking_ovn/tests/functional/test_revision_numbers.py ->\n  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py\n./networking_ovn/tests/functional/test_router.py ->\n  ./neutron/tests/functional/services/ovn_l3/test_plugin.py\n./networking_ovn/tests/functional/test_trunk_driver.py ->\n  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py\n\nCo-Authored-By: Boden R <bodenvmw@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Miguel Angel Ajo <majopela@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Yunxiang Tao <taoyunxiang@cmss.chinamobile.com>\nCo-Authored-By: reedip <rbanerje@redhat.com>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\n\nChange-Id: I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 2, 'created': '2020-01-14 12:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4db63185b997b391970beed93f666a2e45ff2f93', 'message': '[OVN] Add OVN functional tests - part 3\n\nThis patch adds functional tests for:\n * OVN QoS\n * OVN DB Revision numbers\n * OVN L3 Plugina\n * OVN Trunk driver\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_qos_driver.py ->\n  ./neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py\n./networking_ovn/tests/functional/test_revision_numbers.py ->\n  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py\n./networking_ovn/tests/functional/test_router.py ->\n  ./neutron/tests/functional/services/ovn_l3/test_plugin.py\n./networking_ovn/tests/functional/test_trunk_driver.py ->\n  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py\n\nCo-Authored-By: Boden R <bodenvmw@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Miguel Angel Ajo <majopela@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Yunxiang Tao <taoyunxiang@cmss.chinamobile.com>\nCo-Authored-By: reedip <rbanerje@redhat.com>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\n\nChange-Id: I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 3, 'created': '2020-01-14 13:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5af7f5b749f0f5355d129d85f8ad9ebd45debe1', 'message': '[OVN] Add OVN functional tests - part 3\n\nThis patch adds functional tests for:\n * OVN QoS\n * OVN DB Revision numbers\n * OVN L3 Plugina\n * OVN Trunk driver\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_qos_driver.py ->\n  ./neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py\n./networking_ovn/tests/functional/test_revision_numbers.py ->\n  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py\n./networking_ovn/tests/functional/test_router.py ->\n  ./neutron/tests/functional/services/ovn_l3/test_plugin.py\n./networking_ovn/tests/functional/test_trunk_driver.py ->\n  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py\n\nCo-Authored-By: Boden R <bodenvmw@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Miguel Angel Ajo <majopela@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Yunxiang Tao <taoyunxiang@cmss.chinamobile.com>\nCo-Authored-By: reedip <rbanerje@redhat.com>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\n\nChange-Id: I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 4, 'created': '2020-01-20 08:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bd940d08eba39df5ed71f94fd2474f0ba9bb3fd', 'message': '[OVN] Add OVN functional tests - part 3\n\nThis patch adds functional tests for:\n * OVN QoS\n * OVN DB Revision numbers\n * OVN L3 Plugina\n * OVN Trunk driver\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_qos_driver.py ->\n  ./neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py\n./networking_ovn/tests/functional/test_revision_numbers.py ->\n  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py\n./networking_ovn/tests/functional/test_router.py ->\n  ./neutron/tests/functional/services/ovn_l3/test_plugin.py\n./networking_ovn/tests/functional/test_trunk_driver.py ->\n  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py\n\nCo-Authored-By: Boden R <bodenvmw@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Miguel Angel Ajo <majopela@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Yunxiang Tao <taoyunxiang@cmss.chinamobile.com>\nCo-Authored-By: reedip <rbanerje@redhat.com>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\n\nChange-Id: I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 5, 'created': '2020-01-20 10:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5444120b7f514f67c9556ed58faede6b8d741719', 'message': '[OVN] Add OVN functional tests - part 3\n\nThis patch adds functional tests for:\n * OVN QoS\n * OVN DB Revision numbers\n * OVN L3 Plugina\n * OVN Trunk driver\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_qos_driver.py ->\n  ./neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py\n./networking_ovn/tests/functional/test_revision_numbers.py ->\n  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py\n./networking_ovn/tests/functional/test_router.py ->\n  ./neutron/tests/functional/services/ovn_l3/test_plugin.py\n./networking_ovn/tests/functional/test_trunk_driver.py ->\n  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py\n\nCo-Authored-By: Boden R <bodenvmw@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Miguel Angel Ajo <majopela@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Yunxiang Tao <taoyunxiang@cmss.chinamobile.com>\nCo-Authored-By: reedip <rbanerje@redhat.com>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\n\nChange-Id: I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 6, 'created': '2020-01-26 20:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28a398ca487083d9b1c3d602a126a6de48116bbb', 'message': '[OVN] Add OVN functional tests - part 3\n\nThis patch adds functional tests for:\n * OVN QoS\n * OVN DB Revision numbers\n * OVN L3 Plugina\n * OVN Trunk driver\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_qos_driver.py ->\n  ./neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py\n./networking_ovn/tests/functional/test_revision_numbers.py ->\n  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py\n./networking_ovn/tests/functional/test_router.py ->\n  ./neutron/tests/functional/services/ovn_l3/test_plugin.py\n./networking_ovn/tests/functional/test_trunk_driver.py ->\n  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py\n\nCo-Authored-By: Boden R <bodenvmw@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Miguel Angel Ajo <majopela@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Yunxiang Tao <taoyunxiang@cmss.chinamobile.com>\nCo-Authored-By: reedip <rbanerje@redhat.com>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\n\nChange-Id: I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 7, 'created': '2020-01-29 15:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b210940b6f928949b55df2bb574c4daafe8ed55', 'message': '[OVN] Add OVN functional tests - part 3\n\nThis patch adds functional tests for:\n * OVN QoS\n * OVN DB Revision numbers\n * OVN L3 Plugina\n * OVN Trunk driver\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_qos_driver.py ->\n  ./neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py\n./networking_ovn/tests/functional/test_revision_numbers.py ->\n  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py\n./networking_ovn/tests/functional/test_router.py ->\n  ./neutron/tests/functional/services/ovn_l3/test_plugin.py\n./networking_ovn/tests/functional/test_trunk_driver.py ->\n  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py\n\nCo-Authored-By: Boden R <bodenvmw@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Miguel Angel Ajo <majopela@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Yunxiang Tao <taoyunxiang@cmss.chinamobile.com>\nCo-Authored-By: reedip <rbanerje@redhat.com>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\n\nChange-Id: I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 8, 'created': '2020-01-31 08:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86d9285c7b252d4f5bfcd568c65d677d5d8780c5', 'message': '[OVN] Add OVN functional tests - part 3\n\nThis patch adds functional tests for:\n * OVN QoS\n * OVN DB Revision numbers\n * OVN L3 Plugina\n * OVN Trunk driver\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_qos_driver.py ->\n  ./neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py\n./networking_ovn/tests/functional/test_revision_numbers.py ->\n  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py\n./networking_ovn/tests/functional/test_router.py ->\n  ./neutron/tests/functional/services/ovn_l3/test_plugin.py\n./networking_ovn/tests/functional/test_trunk_driver.py ->\n  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py\n\nCo-Authored-By: Boden R <bodenvmw@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Miguel Angel Ajo <majopela@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Yunxiang Tao <taoyunxiang@cmss.chinamobile.com>\nCo-Authored-By: reedip <rbanerje@redhat.com>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\n\nChange-Id: I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 9, 'created': '2020-02-24 10:08:00.000000000', 'files': ['neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/services/trunk/drivers/ovn/__init__.py', 'neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py', 'neutron/tests/functional/services/qos/__init__.py', 'neutron/tests/functional/services/qos/drivers/__init__.py', 'neutron/tests/functional/services/qos/drivers/ovn/__init__.py', 'neutron/tests/functional/services/ovn_l3/__init__.py', 'neutron/tests/functional/db/test_ovn_revision_numbers_db.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/679329fa8d3cd2f7b4ad3f4ead3cb087fbfcdbcc', 'message': '[OVN] Add OVN functional tests - part 3\n\nThis patch adds functional tests for:\n * OVN QoS\n * OVN DB Revision numbers\n * OVN L3 Plugina\n * OVN Trunk driver\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_qos_driver.py ->\n  ./neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py\n./networking_ovn/tests/functional/test_revision_numbers.py ->\n  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py\n./networking_ovn/tests/functional/test_router.py ->\n  ./neutron/tests/functional/services/ovn_l3/test_plugin.py\n./networking_ovn/tests/functional/test_trunk_driver.py ->\n  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py\n\nCo-Authored-By: Boden R <bodenvmw@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Flavio Fernandes <flaviof@redhat.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Miguel Angel Ajo <majopela@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Yunxiang Tao <taoyunxiang@cmss.chinamobile.com>\nCo-Authored-By: reedip <rbanerje@redhat.com>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\n\nChange-Id: I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde\nRelated-Blueprint: neutron-ovn-merge\n'}]",1,702405,679329fa8d3cd2f7b4ad3f4ead3cb087fbfcdbcc,41,9,9,24791,,,0,"[OVN] Add OVN functional tests - part 3

This patch adds functional tests for:
 * OVN QoS
 * OVN DB Revision numbers
 * OVN L3 Plugina
 * OVN Trunk driver

Previous paths in networking-ovn tree:
./networking_ovn/tests/functional/test_qos_driver.py ->
  ./neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py
./networking_ovn/tests/functional/test_revision_numbers.py ->
  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py
./networking_ovn/tests/functional/test_router.py ->
  ./neutron/tests/functional/services/ovn_l3/test_plugin.py
./networking_ovn/tests/functional/test_trunk_driver.py ->
  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py

Co-Authored-By: Boden R <bodenvmw@gmail.com>
Co-Authored-By: Brian Haley <bhaley@redhat.com>
Co-Authored-By: Daniel Alvarez <dalvarez@redhat.com>
Co-Authored-By: Dong Jun <dongj@dtdream.com>
Co-Authored-By: Flavio Fernandes <flaviof@redhat.com>
Co-Authored-By: Guoshuai Li <ligs@dtdream.com>
Co-Authored-By: Jakub Libosvar <libosvar@redhat.com>
Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Co-Authored-By: Miguel Angel Ajo <majopela@redhat.com>
Co-Authored-By: Numan Siddique <nusiddiq@redhat.com>
Co-Authored-By: Terry Wilson <twilson@redhat.com>
Co-Authored-By: Yunxiang Tao <taoyunxiang@cmss.chinamobile.com>
Co-Authored-By: reedip <rbanerje@redhat.com>
Co-Authored-By: venkata anil <anilvenkata@redhat.com>

Change-Id: I18092cdd90bfc5f5d846a426f9a3e472a3fb1fde
Related-Blueprint: neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/702405/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/services/trunk/drivers/ovn/__init__.py', 'neutron/tests/functional/services/qos/__init__.py', 'neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py', 'neutron/tests/functional/services/qos/drivers/__init__.py', 'neutron/tests/functional/services/qos/drivers/ovn/__init__.py', 'neutron/tests/functional/services/ovn_l3/__init__.py', 'neutron/tests/functional/db/test_ovn_revision_numbers_db.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py']",10,30c64f6e10805a96ef22a232fdc6212f31e81be9,bp/neutron-ovn-merge,"# Copyright 2017 DT Dream Technology Co.,Ltd. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import contextlib from neutron.services.trunk import plugin as trunk_plugin from neutron.tests.functional import base from neutron_lib import constants as n_consts from neutron_lib.objects import registry as obj_reg from neutron_lib.plugins import utils from neutron_lib.services.trunk import constants as trunk_consts from oslo_utils import uuidutils class TestOVNTrunkDriver(base.TestOVNFunctionalBase): def setUp(self): super(TestOVNTrunkDriver, self).setUp() self.trunk_plugin = trunk_plugin.TrunkPlugin() self.trunk_plugin.add_segmentation_type( trunk_consts.SEGMENTATION_TYPE_VLAN, utils.is_valid_vlan_tag) @contextlib.contextmanager def trunk(self, sub_ports=None): sub_ports = sub_ports or [] with self.network() as network: with self.subnet(network=network) as subnet: with self.port(subnet=subnet) as parent_port: tenant_id = uuidutils.generate_uuid() trunk = {'trunk': { 'port_id': parent_port['port']['id'], 'tenant_id': tenant_id, 'project_id': tenant_id, 'admin_state_up': True, 'name': 'trunk', 'sub_ports': sub_ports}} trunk = self.trunk_plugin.create_trunk(self.context, trunk) yield trunk @contextlib.contextmanager def subport(self): with self.port() as port: sub_port = {'segmentation_type': 'vlan', 'segmentation_id': 1000, 'port_id': port['port']['id']} yield sub_port def _get_ovn_trunk_info(self): ovn_trunk_info = [] for row in self.nb_api.tables[ 'Logical_Switch_Port'].rows.values(): if row.parent_name and row.tag: ovn_trunk_info.append({'port_id': row.name, 'parent_port_id': row.parent_name, 'tag': row.tag}) return ovn_trunk_info def _verify_trunk_info(self, trunk, has_items): ovn_subports_info = self._get_ovn_trunk_info() neutron_subports_info = [] for subport in trunk.get('sub_ports', []): neutron_subports_info.append({'port_id': subport['port_id'], 'parent_port_id': [trunk['port_id']], 'tag': [subport['segmentation_id']]}) # Check that the subport has the binding is active. binding = obj_reg.load_class('PortBinding').get_object( self.context, port_id=subport['port_id'], host='') self.assertEqual(n_consts.PORT_STATUS_ACTIVE, binding['status']) self.assertItemsEqual(ovn_subports_info, neutron_subports_info) self.assertEqual(has_items, len(neutron_subports_info) != 0) if trunk.get('status'): self.assertEqual(trunk_consts.TRUNK_ACTIVE_STATUS, trunk['status']) def test_trunk_create(self): with self.trunk() as trunk: self._verify_trunk_info(trunk, has_items=False) def test_trunk_create_with_subports(self): with self.subport() as subport: with self.trunk([subport]) as trunk: self._verify_trunk_info(trunk, has_items=True) def test_subport_add(self): with self.subport() as subport: with self.trunk() as trunk: self.trunk_plugin.add_subports(self.context, trunk['id'], {'sub_ports': [subport]}) new_trunk = self.trunk_plugin.get_trunk(self.context, trunk['id']) self._verify_trunk_info(new_trunk, has_items=True) def test_subport_delete(self): with self.subport() as subport: with self.trunk([subport]) as trunk: self.trunk_plugin.remove_subports(self.context, trunk['id'], {'sub_ports': [subport]}) new_trunk = self.trunk_plugin.get_trunk(self.context, trunk['id']) self._verify_trunk_info(new_trunk, has_items=False) def test_trunk_delete(self): with self.trunk() as trunk: self.trunk_plugin.delete_trunk(self.context, trunk['id']) self._verify_trunk_info({}, has_items=False) ",,1005,1
openstack%2Fheat~master~Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294,openstack/heat,master,Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294,Enable auto-scaling tests with Monasca,NEW,2020-01-02 11:14:26.000000000,2020-02-24 10:58:44.000000000,,"[{'_account_id': 12404}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-02 11:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1c7566dcfa66d9a4d5560c1661f38b88bc3b32d4', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 2, 'created': '2020-01-02 13:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ba910abfe5df389f167720ede43e07626a927745', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 3, 'created': '2020-01-03 01:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/117ceaf6b9e4633daae074ab778169d2c74f35a1', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 4, 'created': '2020-01-03 02:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c0a8eddb9422880668d612df9300890de87947c5', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 5, 'created': '2020-01-06 16:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/61c3169b0e2c6f9c3cd30e8b3e67dadd5bc8d536', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 6, 'created': '2020-01-07 09:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4216ac32d80f1bde3bf90499c115e4f9fc2e91e0', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 7, 'created': '2020-01-07 11:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/98d02723b9ec55fc5258b9c2caa6903c9527bd39', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nDepends-On: https://review.opendev.org/700989\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 8, 'created': '2020-01-10 07:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dc0ca918c6a72a4eb689c847ef7947cb19fa3e2c', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nDepends-On: https://review.opendev.org/700989\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 9, 'created': '2020-01-22 10:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1086c996ca4c652f32890037ca0b0285c3b85c50', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 10, 'created': '2020-02-17 15:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/599aac935bbd253261373d781f59e4bf5f5af2ad', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 11, 'created': '2020-02-18 07:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/82ddd628d47122f8c52edf40fc8bfacbad7e1feb', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nDepends-On: https://review.opendev.org/700989\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 12, 'created': '2020-02-18 10:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/359637aa8efe2256916e8b875596519dab6fe245', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 13, 'created': '2020-02-18 13:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7aed35e2eb49d7853fc53cf4ef9df2033781442a', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 14, 'created': '2020-02-19 03:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8283e182dc8d5a8c84da263f057086a027965216', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}, {'number': 15, 'created': '2020-02-22 05:03:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/3bea82e5c3c4c60313c0e1115ca3818d4301aaaf', 'message': 'Enable auto-scaling tests with Monasca\n\nStory: 2005752\nTask: 37928\n\nDepends-On: https://review.opendev.org/700876\nDepends-On: https://review.opendev.org/708919\n\nChange-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294\n'}]",0,700886,3bea82e5c3c4c60313c0e1115ca3818d4301aaaf,40,4,15,16222,,,0,"Enable auto-scaling tests with Monasca

Story: 2005752
Task: 37928

Depends-On: https://review.opendev.org/700876
Depends-On: https://review.opendev.org/708919

Change-Id: Ib746610bc6dd0bb1948d2c7c90e8a1a846b26294
",git fetch https://review.opendev.org/openstack/heat refs/changes/86/700886/13 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1c7566dcfa66d9a4d5560c1661f38b88bc3b32d4,autoscaling-with-monasca, - openstack/monasca-agent - openstack/monasca-api - openstack/monasca-common - openstack/monasca-notification - openstack/monasca-persister - openstack/monasca-thresh - openstack/python-monascaclient horizon: false monasca-log: false monasca-api: https://opendev.org/openstack/monasca-api test_autoscaling: True,,11,0
openstack%2Fzaqar-tempest-plugin~master~I2417f29592bb87c9e3071b1918515a05f77cf8a3,openstack/zaqar-tempest-plugin,master,I2417f29592bb87c9e3071b1918515a05f77cf8a3,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-10-30 03:43:13.000000000,2020-02-24 10:56:31.000000000,2020-02-24 10:56:31.000000000,"[{'_account_id': 8556}, {'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 03:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/6bede2ade42be6dc24646b6cc7d2cedfc217dd84', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nzaqar-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I2417f29592bb87c9e3071b1918515a05f77cf8a3\n'}, {'number': 2, 'created': '2019-10-30 03:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/6df752e2c48baa81041d6f3d6206e4113c57d0ae', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nzaqar-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I2417f29592bb87c9e3071b1918515a05f77cf8a3\n'}, {'number': 3, 'created': '2020-01-22 02:52:51.000000000', 'files': ['releasenotes/notes/drop-py-2-7-8a4da4bd0e7c36f5.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/4a32739cb3bdc0aa4fa8ae21aa6a18659ecbe97d', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nzaqar-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I2417f29592bb87c9e3071b1918515a05f77cf8a3\n'}]",0,692014,4a32739cb3bdc0aa4fa8ae21aa6a18659ecbe97d,11,3,3,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

zaqar-tempest-plugin is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I2417f29592bb87c9e3071b1918515a05f77cf8a3
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/14/692014/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,6bede2ade42be6dc24646b6cc7d2cedfc217dd84,drop-py27-support,"envlist = py35,pypy,pep8","envlist = py35,py27,pypy,pep8",1,3
openstack%2Fzaqar-specs~master~I397b58c562079444553d393387d7c6323b06fba4,openstack/zaqar-specs,master,I397b58c562079444553d393387d7c6323b06fba4,Rename review.openstack.org to review.opendev.org,MERGED,2019-05-13 12:18:11.000000000,2020-02-24 10:56:08.000000000,2020-02-24 10:52:53.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-13 12:18:11.000000000', 'files': ['specs/kilo/persistent-transport.rst', 'specs/ocata/osprofiler.rst', 'specs/queens/support-redis-as-mgmt-storage-backend.rst', 'specs/kilo/fifo-optional.rst', 'specs/ocata/swift-storage.rst', 'specs/newton/mistral-notifications.rst'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/cba0a9cf8efc0ca323f92b2ecf90fbd7abb1a41e', 'message': 'Rename review.openstack.org to review.opendev.org\n\nThere are many references to review.openstack.org, and while the\nredirect should work, we can also go ahead and fix them.\n\nChange-Id: I397b58c562079444553d393387d7c6323b06fba4\n'}]",0,658799,cba0a9cf8efc0ca323f92b2ecf90fbd7abb1a41e,11,2,1,17130,,,0,"Rename review.openstack.org to review.opendev.org

There are many references to review.openstack.org, and while the
redirect should work, we can also go ahead and fix them.

Change-Id: I397b58c562079444553d393387d7c6323b06fba4
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/99/658799/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/kilo/persistent-transport.rst', 'specs/ocata/osprofiler.rst', 'specs/queens/support-redis-as-mgmt-storage-backend.rst', 'specs/kilo/fifo-optional.rst', 'specs/ocata/swift-storage.rst', 'specs/newton/mistral-notifications.rst']",6,cba0a9cf8efc0ca323f92b2ecf90fbd7abb1a41e,,https://review.opendev.org/#/c/276968/ or something equivalent merges.,https://review.openstack.org/#/c/276968/ or something equivalent merges.,6,6
openstack%2Fkolla-ansible~stable%2Frocky~I4b3bbf24c19a996e73f4b360beeb20a110907a6d,openstack/kolla-ansible,stable/rocky,I4b3bbf24c19a996e73f4b360beeb20a110907a6d,remove cinder v1 endpoint,MERGED,2020-02-24 07:13:17.000000000,2020-02-24 10:23:49.000000000,2020-02-24 10:21:24.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 22997}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-24 07:13:17.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/487a518d286957159e7beff854a15aae5b384a3b', 'message': 'remove cinder v1 endpoint\n\nnow,cinder does not support v1 endpoint,so no need to create it in\nkeystone\n\n(cherry picked from commit 4939fc28d2eeccb6da218375c74288234944ed60)\n\nCinder v1 api is removed completely at Queens[1]. So its endpoint\nshould be removed for kolla-ansible Rocky also.\n\nRelated-Bug: 1864133\n\nChange-Id: I4b3bbf24c19a996e73f4b360beeb20a110907a6d\n[1]: https://docs.openstack.org/releasenotes/cinder/queens.html#relnotes-12-0-0-stable-queens-upgrade-notes\n'}]",0,709417,487a518d286957159e7beff854a15aae5b384a3b,11,6,1,22997,,,0,"remove cinder v1 endpoint

now,cinder does not support v1 endpoint,so no need to create it in
keystone

(cherry picked from commit 4939fc28d2eeccb6da218375c74288234944ed60)

Cinder v1 api is removed completely at Queens[1]. So its endpoint
should be removed for kolla-ansible Rocky also.

Related-Bug: 1864133

Change-Id: I4b3bbf24c19a996e73f4b360beeb20a110907a6d
[1]: https://docs.openstack.org/releasenotes/cinder/queens.html#relnotes-12-0-0-stable-queens-upgrade-notes
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/709417/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/register.yml']",2,487a518d286957159e7beff854a15aae5b384a3b,bug/1864133,," - {'interface': 'admin', 'url': '{{ cinder_admin_endpoint }}', 'service_name': 'cinder', 'service_type': 'volume'} - {'interface': 'internal', 'url': '{{ cinder_internal_endpoint }}', 'service_name': 'cinder', 'service_type': 'volume'} - {'interface': 'public', 'url': '{{ cinder_public_endpoint }}', 'service_name': 'cinder', 'service_type': 'volume'}",0,6
openstack%2Frequirements~master~Id8ebe2962f3a099f343db1428dc846380f556fd9,openstack/requirements,master,Id8ebe2962f3a099f343db1428dc846380f556fd9,Bump gitdb2 upper constraint to 4.0.2,ABANDONED,2020-02-24 10:04:11.000000000,2020-02-24 10:05:34.000000000,,[],"[{'number': 1, 'created': '2020-02-24 10:04:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8782d2347f90072679e41db63cdff8f9abf6d211', 'message': 'Bump gitdb2 upper constraint to 4.0.2\n\nPer [1], 4.0.1 has been deleted because it was lacking proper signature\nkeys.\n\n[1] https://github.com/gitpython-developers/gitdb/issues/59\n\nChange-Id: Id8ebe2962f3a099f343db1428dc846380f556fd9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,709440,8782d2347f90072679e41db63cdff8f9abf6d211,2,0,1,15334,,,0,"Bump gitdb2 upper constraint to 4.0.2

Per [1], 4.0.1 has been deleted because it was lacking proper signature
keys.

[1] https://github.com/gitpython-developers/gitdb/issues/59

Change-Id: Id8ebe2962f3a099f343db1428dc846380f556fd9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/709440/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8782d2347f90072679e41db63cdff8f9abf6d211,gitdb2,gitdb2===4.0.2;python_version=='3.6' gitdb2===4.0.2;python_version=='3.7',gitdb2===4.0.1;python_version=='3.6' gitdb2===4.0.1;python_version=='3.7',2,2
openstack%2Fcompute-hyperv~master~If8e7f2721f2c6f426dce0d9278ba066fa18d7ea1,openstack/compute-hyperv,master,If8e7f2721f2c6f426dce0d9278ba066fa18d7ea1,Update hacking version,MERGED,2019-01-26 03:41:05.000000000,2020-02-24 10:04:17.000000000,2020-02-24 10:04:17.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-26 03:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/e25d8676b1b17e3eb6cf6992162643c79df95bf9', 'message': 'Update hacking version to latest\n\nChange-Id: If8e7f2721f2c6f426dce0d9278ba066fa18d7ea1\n'}, {'number': 2, 'created': '2020-02-24 09:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/c14ba608fcba75b748bdf43e8e5aaf95f9790f18', 'message': 'Update hacking version\n\nChange-Id: If8e7f2721f2c6f426dce0d9278ba066fa18d7ea1\n'}, {'number': 3, 'created': '2020-02-24 09:37:56.000000000', 'files': ['compute_hyperv/nova/cluster/livemigrationops.py', 'test-requirements.txt', 'compute_hyperv/tests/test.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/2368188b8b5855ee4e2ea75b488a8dc7f6260f62', 'message': 'Update hacking version\n\nChange-Id: If8e7f2721f2c6f426dce0d9278ba066fa18d7ea1\n'}]",0,633310,2368188b8b5855ee4e2ea75b488a8dc7f6260f62,17,6,3,29423,,,0,"Update hacking version

Change-Id: If8e7f2721f2c6f426dce0d9278ba066fa18d7ea1
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/10/633310/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e25d8676b1b17e3eb6cf6992162643c79df95bf9,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking<0.13,>=0.12.0 # Apache-2.0",1,1
openstack%2Fheat~master~I9c89ea733da86543e6d2566a10270cef09596bd4,openstack/heat,master,I9c89ea733da86543e6d2566a10270cef09596bd4,Provide default value for AZ properties.,ABANDONED,2020-02-24 07:40:53.000000000,2020-02-24 08:49:14.000000000,,[],"[{'number': 1, 'created': '2020-02-24 07:40:53.000000000', 'files': ['heat/engine/resources/openstack/nova/host_aggregate.py', 'releasenotes/notes/alias-default-availibility-zone-prperty-with-cli-0a6dc969fd02124a.yaml', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/resources/aws/ec2/volume.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/engine/resources/aws/ec2/instance.py', 'heat/engine/resources/aws/ec2/subnet.py', 'heat/engine/resources/openstack/sahara/templates.py', 'heat/engine/resources/openstack/trove/cluster.py', 'heat/engine/resources/openstack/trove/instance.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/87b09f3394d0c69e122815d85e2e5471378b0004', 'message': 'Provide default value for AZ properties.\n\nAllow resources use default Availibility Zone (or any default\nbehavior from services when AZ set to ``None``).\nThis change cover property ``availibility_zone``` for resources types\n``OS::Cinder::Volume``, ``OS::Nova::Server``, ``OS::Nova::HostAggregate``,\n``OS::Sahara::NodeGroupTemplate``, ``OS::Trove::Instance``,\n``OS::Trove::Cluster``, ``OS::Sahara::NodeGroupTemplate``,\n``AWS::EC2::Subnet``, ``AWS::EC2::Instance``, ``AWS::EC2::Volume``.\nAlso ``volumes_availability_zone`` for resource type\n``OS::Sahara::NodeGroupTemplate``.\n\nChange-Id: I9c89ea733da86543e6d2566a10270cef09596bd4\nStory: 2007330\nTask: 38853\n'}]",0,709418,87b09f3394d0c69e122815d85e2e5471378b0004,2,0,1,12404,,,0,"Provide default value for AZ properties.

Allow resources use default Availibility Zone (or any default
behavior from services when AZ set to ``None``).
This change cover property ``availibility_zone``` for resources types
``OS::Cinder::Volume``, ``OS::Nova::Server``, ``OS::Nova::HostAggregate``,
``OS::Sahara::NodeGroupTemplate``, ``OS::Trove::Instance``,
``OS::Trove::Cluster``, ``OS::Sahara::NodeGroupTemplate``,
``AWS::EC2::Subnet``, ``AWS::EC2::Instance``, ``AWS::EC2::Volume``.
Also ``volumes_availability_zone`` for resource type
``OS::Sahara::NodeGroupTemplate``.

Change-Id: I9c89ea733da86543e6d2566a10270cef09596bd4
Story: 2007330
Task: 38853
",git fetch https://review.opendev.org/openstack/heat refs/changes/18/709418/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/nova/host_aggregate.py', 'releasenotes/notes/alias-default-availibility-zone-prperty-with-cli-0a6dc969fd02124a.yaml', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/resources/aws/ec2/volume.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/engine/resources/aws/ec2/instance.py', 'heat/engine/resources/aws/ec2/subnet.py', 'heat/engine/resources/openstack/sahara/templates.py', 'heat/engine/resources/openstack/trove/cluster.py', 'heat/engine/resources/openstack/trove/instance.py']",10,87b09f3394d0c69e122815d85e2e5471378b0004,story/2007330," _('Name of the availability zone for DB instance.'), default=None", _('Name of the availability zone for DB instance.'),32,10
openstack%2Fhorizon~master~I794c3ce24cafa69943fa7b19504b623380109164,openstack/horizon,master,I794c3ce24cafa69943fa7b19504b623380109164,Don't install python dependencies in npm environment,ABANDONED,2020-02-24 06:56:19.000000000,2020-02-24 08:36:07.000000000,,"[{'_account_id': 841}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-24 06:56:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f0262386f103a3445a70c95565143e1fb075f634', 'message': 'Don\'t install python dependencies in npm environment\n\nWe are seeing a failure in a requirements update where the ""tox -e\nnpm"" in horizon\'s package.json postinstall section is not obeying the\nupdated requirements from the new change.\n\nBecause cross-horizon-npm is in the requirements gate, this blocks the\nchange from committing.\n\nDo not install the python requirements in the npm tox environment to\navoid this.\n\n[1] https://review.opendev.org/709389\n\nChange-Id: I794c3ce24cafa69943fa7b19504b623380109164\n'}]",0,709415,f0262386f103a3445a70c95565143e1fb075f634,5,3,1,7118,,,0,"Don't install python dependencies in npm environment

We are seeing a failure in a requirements update where the ""tox -e
npm"" in horizon's package.json postinstall section is not obeying the
updated requirements from the new change.

Because cross-horizon-npm is in the requirements gate, this blocks the
change from committing.

Do not install the python requirements in the npm tox environment to
avoid this.

[1] https://review.opendev.org/709389

Change-Id: I794c3ce24cafa69943fa7b19504b623380109164
",git fetch https://review.opendev.org/openstack/horizon refs/changes/15/709415/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f0262386f103a3445a70c95565143e1fb075f634,upper-constraints, !npm: -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} !npm: -r{toxinidir}/test-requirements.txt !npm: -r{toxinidir}/requirements.txt, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,3,3
openstack%2Fkolla-ansible~master~I13d32974cb5768f92c4557fb199c2d5f2f48a33d,openstack/kolla-ansible,master,I13d32974cb5768f92c4557fb199c2d5f2f48a33d,WIP: CI: test-core-openstack: add floating ip and ssh to the instance,ABANDONED,2020-02-17 20:21:18.000000000,2020-02-24 07:47:22.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-17 20:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a6923c6141af0d0ea5d6ba30d93d661f986c0e7', 'message': 'WIP: CI: test-core-openstack: add floating ip and ssh to the instance\n\nChange-Id: I13d32974cb5768f92c4557fb199c2d5f2f48a33d\n'}, {'number': 2, 'created': '2020-02-18 07:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b86deda5bd0ea2eb673aed75e36464cd9efc36b', 'message': 'WIP: CI: test-core-openstack: add floating ip and ssh to the instance\n\nChange-Id: I13d32974cb5768f92c4557fb199c2d5f2f48a33d\n'}, {'number': 3, 'created': '2020-02-22 07:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/195d265ae139b944e6c75f8307297893c343a9c0', 'message': 'WIP: CI: test-core-openstack: add floating ip and ssh to the instance\n\nChange-Id: I13d32974cb5768f92c4557fb199c2d5f2f48a33d\n'}, {'number': 4, 'created': '2020-02-22 07:04:51.000000000', 'files': ['tests/run.yml', 'tests/test-core-openstack.sh', 'tests/init-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71ef67a7e329b7cc78c762738960ce8229d1aff9', 'message': 'WIP: CI: test-core-openstack: add floating ip and ssh to the instance\n\nChange-Id: I13d32974cb5768f92c4557fb199c2d5f2f48a33d\n'}]",2,708250,71ef67a7e329b7cc78c762738960ce8229d1aff9,14,3,4,22629,,,0,"WIP: CI: test-core-openstack: add floating ip and ssh to the instance

Change-Id: I13d32974cb5768f92c4557fb199c2d5f2f48a33d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/708250/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/test-core-openstack.sh', 'tests/init-core-openstack.sh']",3,2a6923c6141af0d0ea5d6ba30d93d661f986c0e7,," export EXT_NET_CIDR='${API_NETWORK_PREFIX}.0/${API_NETWORK_PREFIX_LEN}' export EXT_NET_RANGE='start=${API_NETWORK_PREFIX}.150,end=${API_NETWORK_PREFIX}.199' export EXT_NET_GATEWAY='${API_NETWORK_PREFIX}.1'",,17,0
openstack%2Fcinder~master~I676e72d9a290808e9932dd76ffabffecf834e5b2,openstack/cinder,master,I676e72d9a290808e9932dd76ffabffecf834e5b2,Add sandstone iscsi driver.,ABANDONED,2019-09-27 09:28:01.000000000,2020-02-24 07:08:53.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30112}, {'_account_id': 30580}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-27 09:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/644a3c9fe44ead49c2fe235794226968f58f9e56', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 2, 'created': '2019-09-29 02:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02bf78a831b90206bfd4028d7eb126565ddd5495', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 3, 'created': '2019-10-08 10:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7133e828e09d269c0cfd444e28f688c64745900', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 4, 'created': '2019-10-12 08:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6de8748c3ec6db73590ced92443f8184565c8579', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 5, 'created': '2019-10-14 10:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/92e4a788dffde79b84d3d891c1fe6defc9781044', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 6, 'created': '2019-10-15 03:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3aa5ba32e0f3fc11759b2ec5772255e6aa1896c', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 7, 'created': '2019-10-16 09:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed9e72d8091725f8ba532ad7a1c286b5ce67a85f', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 8, 'created': '2019-10-17 02:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87dbaccd8fb5c62beeaa5f678b6a716aeb75efcc', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 9, 'created': '2019-10-24 02:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2267efcec7a1ed38e8a048648ecac91bfdbd8138', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 10, 'created': '2020-02-12 10:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f617bf8ac89b7de8af9728f9fb0a29d5cfc9e15e', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 11, 'created': '2020-02-13 05:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00ce123e9f08d3e6f509f83388808c80181c08cd', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 12, 'created': '2020-02-13 09:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/edc70289339f3219ac45ccce5601eb8b9c8ac721', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 13, 'created': '2020-02-18 14:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/133b924f809b028364a056aa01c9d22901bc1b2c', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}, {'number': 14, 'created': '2020-02-19 03:35:34.000000000', 'files': ['cinder/opts.py', 'cinder/tests/unit/volume/drivers/sandstone/test_sds_client.py', 'cinder/volume/drivers/sandstone/sds_driver.py', 'cinder/tests/unit/volume/drivers/sandstone/test_sds_driver.py', 'cinder/tests/unit/volume/drivers/sandstone/test_utils.py', 'cinder/volume/drivers/sandstone/sds_client.py', 'cinder/tests/unit/volume/drivers/sandstone/__init__.py', 'cinder/volume/drivers/sandstone/__init__.py', 'cinder/volume/drivers/sandstone/constants.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/32a78cca47d6d4284edc7d194ed2402819a041a6', 'message': 'Add sandstone iscsi driver.\n\nChange-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2\nSigned-off-by: yangziguan <yangziguan@szsandstone.com>\n'}]",119,685271,32a78cca47d6d4284edc7d194ed2402819a041a6,497,44,14,30590,,,0,"Add sandstone iscsi driver.

Change-Id: I676e72d9a290808e9932dd76ffabffecf834e5b2
Signed-off-by: yangziguan <yangziguan@szsandstone.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/685271/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/sandstone/test_sds_client.py', 'cinder/volume/drivers/sandstone/sds_driver.py', 'cinder/tests/unit/volume/drivers/sandstone/test_sds_driver.py', 'cinder/tests/unit/volume/drivers/sandstone/test_utils.py', 'cinder/tests/unit/volume/drivers/sandstone/__init__.py', 'cinder/volume/drivers/sandstone/sds_client.py', 'cinder/volume/drivers/sandstone/__init__.py', 'cinder/volume/drivers/sandstone/constants.py']",8,644a3c9fe44ead49c2fe235794226968f58f9e56,ussuri-drivers,"# Copyright (c) 2019 ShenZhen SandStone Data Technologies Co., Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""SandStone iSCSI Driver Const."""""" CONNECT_ERROR = 403 BASIC_URI = '/api/storage/' OM_URI = '/api/om/' CONF_PATH = ""/etc/cinder/cinder.conf"" Pagesize = 1000 ",,2177,0
openstack%2Ftripleo-heat-templates~master~I15bcfc5a2d97b403b3d05ae006fae24876bdb35c,openstack/tripleo-heat-templates,master,I15bcfc5a2d97b403b3d05ae006fae24876bdb35c,Enable external LB support with ovn,MERGED,2019-07-03 13:22:18.000000000,2020-02-24 05:55:58.000000000,2020-02-18 21:59:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 9592}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 13:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62420a7547ab21b1a175a03ae10e06c97cd58558', 'message': 'WIP external LB support with ovn\n\nChange-Id: I15bcfc5a2d97b403b3d05ae006fae24876bdb35c\n'}, {'number': 2, 'created': '2019-07-04 08:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf8224c74a332f62a13237be5f46cf0fb0608310', 'message': 'WIP external LB support with ovn\n\nChange-Id: I15bcfc5a2d97b403b3d05ae006fae24876bdb35c\n'}, {'number': 3, 'created': '2019-09-25 13:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c5451adb0290f0d95fe2f97f20698395e3aa18c', 'message': 'WIP external LB support with ovn\n\nChange-Id: I15bcfc5a2d97b403b3d05ae006fae24876bdb35c\n'}, {'number': 4, 'created': '2019-12-05 15:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97f8529a35370614f7e790b0d75fa8ecc20ddc73', 'message': 'WIP external LB support with ovn\n\nChange-Id: I15bcfc5a2d97b403b3d05ae006fae24876bdb35c\n'}, {'number': 5, 'created': '2019-12-11 08:28:55.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b0a6516e3ea6a1c778aeba69a227522434ba078', 'message': 'Enable external LB support with ovn\n\nAdd posibilities to pass listen_on_master_ip_only param\nto ovn dbs. More info:\nhttps://github.com/openvswitch/ovs/commit/33f9c9eafac30d49b4583e93f789a57dc3844523\n\nDepends-On: https://review.opendev.org/#/c/698239/\nCo-Authored-By: Kamil Sambor <ksambor@redhat.com>\n\nChange-Id: I15bcfc5a2d97b403b3d05ae006fae24876bdb35c\n'}]",2,668902,6b0a6516e3ea6a1c778aeba69a227522434ba078,49,7,5,20172,,,0,"Enable external LB support with ovn

Add posibilities to pass listen_on_master_ip_only param
to ovn dbs. More info:
https://github.com/openvswitch/ovs/commit/33f9c9eafac30d49b4583e93f789a57dc3844523

Depends-On: https://review.opendev.org/#/c/698239/
Co-Authored-By: Kamil Sambor <ksambor@redhat.com>

Change-Id: I15bcfc5a2d97b403b3d05ae006fae24876bdb35c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/668902/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,62420a7547ab21b1a175a03ae10e06c97cd58558,fix/support_external_ovn," EnableLoadBalancer: default: true description: Whether to deploy a LoadBalancer, set to false when an external load balancer is used. type: boolean use_external_load_balancer: {equals: [{get_param: EnableLoadBalancer}, false} - tripleo::haproxy::ovn_dbs_manage_lb: if: - use_external_load_balancer - true - false", - tripleo::haproxy::ovn_dbs_manage_lb: false,10,1
openstack%2Frpm-packaging~master~I24d2ce5c5c171594a36609cacfba8c22653a16d8,openstack/rpm-packaging,master,I24d2ce5c5c171594a36609cacfba8c22653a16d8,update python-barbicanclient to new release 4.10.0,MERGED,2020-02-12 06:52:29.000000000,2020-02-24 05:33:37.000000000,2020-02-24 05:33:37.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-12 06:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d33b9dad8c1a830b6f9e998279994f6c986cded3', 'message': 'update python-barbicanclient to new release 4.10.0\n\nChange-Id: I24d2ce5c5c171594a36609cacfba8c22653a16d8\n'}, {'number': 2, 'created': '2020-02-22 12:01:34.000000000', 'files': ['openstack/python-barbicanclient/python-barbicanclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9d8ef1f59c0414237130620a96072136ff7b1793', 'message': 'update python-barbicanclient to new release 4.10.0\n\nChange-Id: I24d2ce5c5c171594a36609cacfba8c22653a16d8\n'}]",0,707321,9d8ef1f59c0414237130620a96072136ff7b1793,14,5,2,30298,,,0,"update python-barbicanclient to new release 4.10.0

Change-Id: I24d2ce5c5c171594a36609cacfba8c22653a16d8
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/21/707321/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-barbicanclient/python-barbicanclient.spec.j2'],1,d33b9dad8c1a830b6f9e998279994f6c986cded3,python-barbicanclient4.10.0,{% set upstream_version = upstream_version('4.10.0') %},{% set upstream_version = upstream_version('4.9.0') %},1,1
openstack%2Fkolla-ansible~stable%2Frocky~Ifee4bec7b2e9ef4e2d624b1411f1a9e6332325c6,openstack/kolla-ansible,stable/rocky,Ifee4bec7b2e9ef4e2d624b1411f1a9e6332325c6,Change /run bind mount for neutron/openvswitch,MERGED,2020-02-13 09:56:23.000000000,2020-02-24 05:21:34.000000000,2020-02-24 05:19:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-02-13 09:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9054c054dd547166cda8fb48938860c61bff562e', 'message': 'WIP: Change /run bind mount for neutron/openvswitch\n\nChange-Id: Ifee4bec7b2e9ef4e2d624b1411f1a9e6332325c6\n(cherry picked from commit e0c66c74185076e1d49f3ede0e85584151dec68e)\n'}, {'number': 2, 'created': '2020-02-13 09:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a195aa7316c997925e358f7a4bb7ddd2891c985f', 'message': 'WIP: Change /run bind mount for neutron/openvswitch\n\nChange-Id: Ifee4bec7b2e9ef4e2d624b1411f1a9e6332325c6\n(cherry picked from commit e0c66c74185076e1d49f3ede0e85584151dec68e)\n'}, {'number': 3, 'created': '2020-02-21 19:22:18.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml', 'releasenotes/notes/bug-1861792-a44a31693b0c786f.yaml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d856317e39ef2c1ac05f7575b7110506c503f9f', 'message': 'Change /run bind mount for neutron/openvswitch\n\nCurrently we have a very wide /run mount for all Neutron/OVS services,\nwhich allows sudo/rootwrap to contact with the hosts dbus - all symptoms\nare documented in the related bug.\n\nSince we use tcp connections to OVS from Neutron agents - removing\nbind mounts.\n\nCloses-Bug: #1861792\n\nChange-Id: Ifee4bec7b2e9ef4e2d624b1411f1a9e6332325c6\n(cherry picked from commit 227008cf68aa68f340d95703e85355ae81585506)\n'}]",0,707598,4d856317e39ef2c1ac05f7575b7110506c503f9f,18,4,3,22629,,,0,"Change /run bind mount for neutron/openvswitch

Currently we have a very wide /run mount for all Neutron/OVS services,
which allows sudo/rootwrap to contact with the hosts dbus - all symptoms
are documented in the related bug.

Since we use tcp connections to OVS from Neutron agents - removing
bind mounts.

Closes-Bug: #1861792

Change-Id: Ifee4bec7b2e9ef4e2d624b1411f1a9e6332325c6
(cherry picked from commit 227008cf68aa68f340d95703e85355ae81585506)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/707598/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml']",3,9054c054dd547166cda8fb48938860c61bff562e,," - ""/run/openvswitch:/run/openvswitch:shared"" - ""/run/openvswitch:/run/openvswitch:shared"""," - ""/run:/run:shared"" - ""/run:/run:shared""",14,15
openstack%2Ftripleo-heat-templates~stable%2Frocky~I7fb132f808f29927ab4ac0bc401233bc0f596dc0,openstack/tripleo-heat-templates,stable/rocky,I7fb132f808f29927ab4ac0bc401233bc0f596dc0,[Stein and older] Ensure tmpwatch installed,MERGED,2020-02-21 21:17:19.000000000,2020-02-24 03:26:02.000000000,2020-02-24 03:26:02.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 21:17:19.000000000', 'files': ['deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd8d8b52c7702852e93498cf7551667f05cc4568', 'message': '[Stein and older] Ensure tmpwatch installed\n\ntmpwatch needs to be installed in the case of deployed server. In newer\nversions this is handled by an ansible role.\n\nChange-Id: I7fb132f808f29927ab4ac0bc401233bc0f596dc0\nCloses-Bug: #1864118\n(cherry picked from commit f13000be15fb686a6316f3f037d4e2e86bca468a)\n'}]",0,709242,dd8d8b52c7702852e93498cf7551667f05cc4568,8,3,1,14985,,,0,"[Stein and older] Ensure tmpwatch installed

tmpwatch needs to be installed in the case of deployed server. In newer
versions this is handled by an ansible role.

Change-Id: I7fb132f808f29927ab4ac0bc401233bc0f596dc0
Closes-Bug: #1864118
(cherry picked from commit f13000be15fb686a6316f3f037d4e2e86bca468a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/709242/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh']",2,dd8d8b52c7702852e93498cf7551667f05cc4568,bug/1864118, openstack-selinux \ tmpwatch, openstack-selinux,4,2
openstack%2Fpuppet-tripleo~master~I31765715d86546955ca39540d15b247bafdb403f,openstack/puppet-tripleo,master,I31765715d86546955ca39540d15b247bafdb403f,Remove k8s from haproxy,MERGED,2020-02-12 02:39:39.000000000,2020-02-24 03:26:01.000000000,2020-02-24 03:26:01.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-12 02:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d019b0f9e225f7a6c4c3d01cb1b37552c8ab933b', 'message': ""Remove k8s from haproxy\n\nk8s service has been deprecated and is being removed from THT; we don't\nneed that code anymore.\n\nChange-Id: I31765715d86546955ca39540d15b247bafdb403f\n""}, {'number': 2, 'created': '2020-02-17 20:29:47.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b82deada63f222a218dd47464966bf0e48ef70a8', 'message': ""Remove k8s from haproxy\n\nk8s service has been deprecated and is being removed from THT; we don't\nneed that code anymore.\n\nChange-Id: I31765715d86546955ca39540d15b247bafdb403f\n""}]",0,707301,b82deada63f222a218dd47464966bf0e48ef70a8,14,4,2,3153,,,0,"Remove k8s from haproxy

k8s service has been deprecated and is being removed from THT; we don't
need that code anymore.

Change-Id: I31765715d86546955ca39540d15b247bafdb403f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/01/707301/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,d019b0f9e225f7a6c4c3d01cb1b37552c8ab933b,k8s,,"# [*kubernetes_master*] # (optional) Enable or not Kubernetes API binding # Defaults to hiera('kubernetes_master_enabled', false) ## [*kubernetes_master_network*] # (optional) Specify the network kubernetes_master is running on. # Defaults to hiera('kubernetes_master_network', undef) ## 'kubernetes_master_port' (Defaults to 6443) # 'kubernetes_master_ssl_port' (Defaults to 13443) $kubernetes_master = hiera('kubernetes_master_enabled', false), $kubernetes_master_network = hiera('kubernetes_master_network', undef), kubernetes_master_port => 6443, kubernetes_master_ssl_port => 13443, if $kubernetes_master { ::tripleo::haproxy::endpoint { 'kubernetes-master': # Note we don't expose the kubernetes endpoint via public_virtual_ip internal_ip => hiera('kubernetes_master_vip', $controller_virtual_ip), service_port => $ports[kubernetes_master_port], ip_addresses => hiera('kubernetes_master_node_ips', $controller_hosts_real), server_names => hiera('kubernetes_master_node_names', $controller_hosts_names_real), public_ssl_port => $ports[kubernetes_master_ssl_port], service_network => $kubernetes_master_network, listen_options => { 'balance' => 'roundrobin', } } } ",0,29
openstack%2Frequirements~master~I35fc5f9be6e26d6aaf57af5b58b0ad249ad351cc,openstack/requirements,master,I35fc5f9be6e26d6aaf57af5b58b0ad249ad351cc,Fix broken gitdb2 constraint,ABANDONED,2020-02-24 02:43:42.000000000,2020-02-24 02:51:37.000000000,,[],"[{'number': 1, 'created': '2020-02-24 02:43:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fec5bab3d6b2ea39f48da9ad2eb6d6734b42b36e', 'message': 'Fix broken gitdb2 constraint\n\ngitdb 4.0.1 does not seem to exist anymore\nhttps://pypi.org/project/gitdb2/#history\n\nUnsatisfiable constraint is breaking tests and builds.\n\nChange-Id: I35fc5f9be6e26d6aaf57af5b58b0ad249ad351cc\n'}]",0,709392,fec5bab3d6b2ea39f48da9ad2eb6d6734b42b36e,2,0,1,30447,,,0,"Fix broken gitdb2 constraint

gitdb 4.0.1 does not seem to exist anymore
https://pypi.org/project/gitdb2/#history

Unsatisfiable constraint is breaking tests and builds.

Change-Id: I35fc5f9be6e26d6aaf57af5b58b0ad249ad351cc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/709392/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fec5bab3d6b2ea39f48da9ad2eb6d6734b42b36e,fix/gitdb2-broken-constraint,gitdb2===4.0.2;python_version=='3.6' gitdb2===4.0.2;python_version=='3.7',gitdb2===4.0.1;python_version=='3.6' gitdb2===4.0.1;python_version=='3.7',2,2
openstack%2Fzaqar-tempest-plugin~master~Ib946f57855ac22948792eaaa2bb901ad46704779,openstack/zaqar-tempest-plugin,master,Ib946f57855ac22948792eaaa2bb901ad46704779,"Revert ""Add tempest test for querying queus with count""",MERGED,2020-02-23 19:13:01.000000000,2020-02-24 02:32:10.000000000,2020-02-24 02:32:10.000000000,"[{'_account_id': 8846}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-23 19:13:01.000000000', 'files': ['zaqar_tempest_plugin/tests/v2/test_queues.py'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/56345e681f00ef91547431ace7f3c94a6f0cc92b', 'message': 'Revert ""Add tempest test for querying queus with count""\n\nThis change breaks zaqar.\nSee https://bugs.launchpad.net/puppet-openstack-integration/+bug/1863560\n\nThis reverts commit 04f720906d5b75b8efdcda29203086990efa6c75.\n\nChange-Id: Ib946f57855ac22948792eaaa2bb901ad46704779\n'}]",0,709374,56345e681f00ef91547431ace7f3c94a6f0cc92b,7,3,1,6547,,,0,"Revert ""Add tempest test for querying queus with count""

This change breaks zaqar.
See https://bugs.launchpad.net/puppet-openstack-integration/+bug/1863560

This reverts commit 04f720906d5b75b8efdcda29203086990efa6c75.

Change-Id: Ib946f57855ac22948792eaaa2bb901ad46704779
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/74/709374/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqar_tempest_plugin/tests/v2/test_queues.py'],1,56345e681f00ef91547431ace7f3c94a6f0cc92b,bp/query-queues-with-count,," @decorators.idempotent_id('9a2e9a09-5cbd-416f-a75f-fe827462aa9a') def test_list_queues_with_count(self): # Listing queues with count _, body = self.list_queues({""with_count"": True}) self.assertEqual(len(body['queues']), len(self.queues)) self.assertEqual(len(self.queues), body['count']) for item in body['queues']: self.assertIn(item['name'], self.queues) ",0,9
openstack%2Fsearchlight~master~I877bb4c5d32352514ef17ca50b66cb8b2b6f0ba9,openstack/searchlight,master,I877bb4c5d32352514ef17ca50b66cb8b2b6f0ba9,Doc cleanups,MERGED,2020-02-23 17:13:06.000000000,2020-02-24 01:37:58.000000000,2020-02-24 01:36:35.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2020-02-23 17:13:06.000000000', 'files': ['doc/source/conf.py', 'api-ref/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/7847d94554997158854edd7524f929ae7d52e7d6', 'message': 'Doc cleanups\n\nRemove settings that openstackdocstheme sets by default.\nFix logabug feature for api-ref.\n\nChange-Id: I877bb4c5d32352514ef17ca50b66cb8b2b6f0ba9\n'}]",0,709365,7847d94554997158854edd7524f929ae7d52e7d6,7,2,1,6547,,,0,"Doc cleanups

Remove settings that openstackdocstheme sets by default.
Fix logabug feature for api-ref.

Change-Id: I877bb4c5d32352514ef17ca50b66cb8b2b6f0ba9
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/65/709365/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/conf.py', 'doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,7847d94554997158854edd7524f929ae7d52e7d6,doc-cleanup,repository_name = 'openstack/searchlight' bug_project = 'searchlight' bug_tag = 'searchlight' ,"latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",10,47
openstack%2Fansible-role-collect-logs~master~Idb7645a29e23d0959f0fc94d67c595c541c3bd45,openstack/ansible-role-collect-logs,master,Idb7645a29e23d0959f0fc94d67c595c541c3bd45,Fix regex for sova helathcheck pattern,MERGED,2020-02-23 17:08:25.000000000,2020-02-24 00:12:42.000000000,2020-02-24 00:12:42.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-23 17:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/61528eba8ea99e90042f7be960f348cd66cd0b36', 'message': 'Fix regex for sova helathcheck pattern\n\nChange-Id: Idb7645a29e23d0959f0fc94d67c595c541c3bd45\n'}, {'number': 2, 'created': '2020-02-23 17:21:08.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/93d207c87dd06e229258d4cfc5f8bd9ad0585201', 'message': 'Fix regex for sova helathcheck pattern\n\nDepends-On: https://review.opendev.org/#/c/709367/\nChange-Id: Idb7645a29e23d0959f0fc94d67c595c541c3bd45\n'}]",0,709364,93d207c87dd06e229258d4cfc5f8bd9ad0585201,7,2,2,10969,,,0,"Fix regex for sova helathcheck pattern

Depends-On: https://review.opendev.org/#/c/709367/
Change-Id: Idb7645a29e23d0959f0fc94d67c595c541c3bd45
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/64/709364/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,61528eba8ea99e90042f7be960f348cd66cd0b36,," - regex: ""msg\"": \""([^\""]+) isn't working \\(healthcheck failed\\)"""," - regex: ""msg\"": \""(.*) isn't working \\(healthcheck failed\\)""",1,1
openstack%2Frequirements~master~I4c4848f8a3ca6780dc3001d01bc67e27da453b81,openstack/requirements,master,I4c4848f8a3ca6780dc3001d01bc67e27da453b81,Updated from generate-constraints,MERGED,2020-02-23 06:26:42.000000000,2020-02-23 23:56:08.000000000,2020-02-23 22:30:17.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-23 06:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6851daba0ab5763f3af12a52eda90823d95e32c0', 'message': 'Updated from generate-constraints\n\nChange-Id: I4c4848f8a3ca6780dc3001d01bc67e27da453b81\n'}, {'number': 2, 'created': '2020-02-23 19:47:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ffcbb0278fd2aa0b5559a86a3bba6aa3a6fbc94d', 'message': 'Updated from generate-constraints\n\nhold back docutils because boto likes to cap things\nhold back msgpack because salt likes to cap things\nhold back alembic because it breaks nova tests\n  - review.opendev.org/708707\n\nChange-Id: I4c4848f8a3ca6780dc3001d01bc67e27da453b81\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,709339,ffcbb0278fd2aa0b5559a86a3bba6aa3a6fbc94d,11,2,2,11131,,,0,"Updated from generate-constraints

hold back docutils because boto likes to cap things
hold back msgpack because salt likes to cap things
hold back alembic because it breaks nova tests
  - review.opendev.org/708707

Change-Id: I4c4848f8a3ca6780dc3001d01bc67e27da453b81
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/709339/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6851daba0ab5763f3af12a52eda90823d95e32c0,openstack/requirements/constraints/noclob,smmap===3.0.0os-api-ref===1.6.2;python_version=='2.7' os-api-ref===2.0.0;python_version=='3.6' os-api-ref===2.0.0;python_version=='3.7'sphinxcontrib-htmlhelp===1.0.3;python_version=='3.6' sphinxcontrib-htmlhelp===1.0.3;python_version=='3.7'soupsieve===1.9.5;python_version=='2.7' soupsieve===2.0;python_version=='3.6' soupsieve===2.0;python_version=='3.7'openstack-doc-tools===2.0.0;python_version=='2.7' openstack-doc-tools===3.0.0;python_version=='3.6' openstack-doc-tools===3.0.0;python_version=='3.7'pycryptodomex===3.9.7docutils===0.16boto3===1.12.5gitdb===4.0.0;python_version=='3.6' gitdb===4.0.0;python_version=='3.7'enum34===1.1.9msgpack===1.0.0Sphinx===2.4.3;python_version=='3.6' Sphinx===2.4.3;python_version=='3.7'openstackdocstheme===1.31.2;python_version=='2.7' openstackdocstheme===2.0.0;python_version=='3.6' openstackdocstheme===2.0.0;python_version=='3.7'botocore===1.15.5alembic===1.4.0smmap2===3.0.0;python_version=='2.7'gitdb2===4.0.1;python_version=='3.6' gitdb2===4.0.1;python_version=='3.7'virtualenv===20.0.5,os-api-ref===2.0.0sphinxcontrib-htmlhelp===1.0.2;python_version=='3.6' sphinxcontrib-htmlhelp===1.0.2;python_version=='3.7'soupsieve===1.9.5openstack-doc-tools===3.0.0pycryptodomex===3.9.6docutils===0.15.2boto3===1.12.4enum34===1.1.6msgpack===0.6.2Sphinx===2.4.2;python_version=='3.6' Sphinx===2.4.2;python_version=='3.7'openstackdocstheme===2.0.0botocore===1.15.4alembic===1.3.3smmap2===2.0.5gitdb2===3.0.2;python_version=='3.6' gitdb2===3.0.2;python_version=='3.7'virtualenv===20.0.4,30,19
openstack%2Ftripleo-ci~master~I15f60ecfbb3ea83e21b5a123be41c35ac2efb4e4,openstack/tripleo-ci,master,I15f60ecfbb3ea83e21b5a123be41c35ac2efb4e4,Don't run regular job on sova patterns,MERGED,2020-02-23 17:20:29.000000000,2020-02-23 23:20:37.000000000,2020-02-23 23:20:37.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-23 17:20:29.000000000', 'files': ['zuul.d/undercloud-jobs.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7efccd18467a820c8978643e9d5f596477a9ee02', 'message': ""Don't run regular job on sova patterns\n\nChange-Id: I15f60ecfbb3ea83e21b5a123be41c35ac2efb4e4\n""}]",0,709367,7efccd18467a820c8978643e9d5f596477a9ee02,8,4,1,10969,,,0,"Don't run regular job on sova patterns

Change-Id: I15f60ecfbb3ea83e21b5a123be41c35ac2efb4e4
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/67/709367/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/undercloud-jobs.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/multinode-jobs.yaml']",4,7efccd18467a820c8978643e9d5f596477a9ee02,, - ^vars/sova-patterns.yml$ - ^vars/sova-patterns.yml$ - ^vars/sova-patterns.yml$,,8,1
openstack%2Fzun~master~I762ac565aab039022bbe1be9c83f1b09b8f54ab1,openstack/zun,master,I762ac565aab039022bbe1be9c83f1b09b8f54ab1,Init privsep context for zun-cni-daemon,MERGED,2020-02-16 22:51:38.000000000,2020-02-23 21:51:19.000000000,2020-02-23 21:49:55.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-16 22:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5a57e1dd95fd5c91b5fcdea6db76725ce6b6c97d', 'message': 'Init privsep context for zun-cni-daemon\n\nChange-Id: I762ac565aab039022bbe1be9c83f1b09b8f54ab1\n'}, {'number': 2, 'created': '2020-02-17 00:57:48.000000000', 'files': ['zun/cni/cmd/cni_daemon.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/eb7e8015033b0afe191daedaf7a2a59de5473cba', 'message': 'Init privsep context for zun-cni-daemon\n\nChange-Id: I762ac565aab039022bbe1be9c83f1b09b8f54ab1\n'}]",0,708042,eb7e8015033b0afe191daedaf7a2a59de5473cba,16,3,2,11536,,,0,"Init privsep context for zun-cni-daemon

Change-Id: I762ac565aab039022bbe1be9c83f1b09b8f54ab1
",git fetch https://review.opendev.org/openstack/zun refs/changes/42/708042/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/cni/cmd/cni_daemon.py'],1,5a57e1dd95fd5c91b5fcdea6db76725ce6b6c97d,,import shlexfrom oslo_privsep import priv_contextfrom zun.common import utils priv_context.init(root_helper=shlex.split(utils.get_root_helper())),,4,0
openstack%2Fpython-novaclient~master~Ib0f33576e160ec842d7fc82b4fcfee99829623d7,openstack/python-novaclient,master,Ib0f33576e160ec842d7fc82b4fcfee99829623d7,Random cleanups,MERGED,2020-02-21 09:57:34.000000000,2020-02-23 19:50:17.000000000,2020-02-23 19:47:16.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 09:57:34.000000000', 'files': ['novaclient/tests/unit/v2/test_hypervisors.py', 'novaclient/tests/unit/test_utils.py', 'doc/source/conf.py', 'novaclient/tests/unit/v2/test_servers.py', 'novaclient/tests/unit/v2/test_instance_usage_audit_log.py', 'HACKING.rst', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/b9a7e03074cbaacc3f270b2b8228a5b85350a2de', 'message': ""Random cleanups\n\nRemove some cruft from Sphinx config files, drop the use of 'u' prefixed\nstrings, which are unnecessary in Python 3, and generally tidy stuff up.\n\nChange-Id: Ib0f33576e160ec842d7fc82b4fcfee99829623d7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,709081,b9a7e03074cbaacc3f270b2b8228a5b85350a2de,12,4,1,15334,,,0,"Random cleanups

Remove some cruft from Sphinx config files, drop the use of 'u' prefixed
strings, which are unnecessary in Python 3, and generally tidy stuff up.

Change-Id: Ib0f33576e160ec842d7fc82b4fcfee99829623d7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/81/709081/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/unit/v2/test_hypervisors.py', 'novaclient/tests/unit/test_utils.py', 'doc/source/conf.py', 'novaclient/tests/unit/v2/test_servers.py', 'novaclient/tests/unit/v2/test_instance_usage_audit_log.py', 'HACKING.rst', 'releasenotes/source/conf.py']",7,b9a7e03074cbaacc3f270b2b8228a5b85350a2de,drop-py27-support,# python-novaclient Release Notes documentation build configuration file,"# Nova Client Release Notes documentation build configuration file, created by # sphinx-quickstart on Mon Nov 23 20:38:38 2015. # # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. #sys.path.insert(0, os.path.abspath('.'))# If your documentation needs a minimal Sphinx version, state it here. #needs_sphinx = '1.0' # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. #source_encoding = 'utf-8-sig' # General information about the project. copyright = u'2015, Nova developers' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. #language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: #today = '' # Else, today_fmt is used as the format for a strftime call. #today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. #default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. #add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). #add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. #show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. #modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. #keep_warnings = False # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. #html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. #html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". #html_title = None # A shorter title for the navigation bar. Default is the same as html_title. #html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. #html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. #html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. #html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. #html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. #html_use_smartypants = True # Custom sidebar templates, maps document names to template names. #html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. #html_additional_pages = {} # If false, no module index is generated. #html_domain_indices = True # If false, no index is generated. #html_use_index = True # If true, the index is split into individual pages for each letter. #html_split_index = False # If true, links to the reST sources are added to the pages. #html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. #html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. #html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. #html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). #html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'NovaClientReleaseNotestdoc' # -- Options for LaTeX output --------------------------------------------- # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'PythonNovaClient.tex', u'Nova Client Release Notes Documentation', u'Nova developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. #latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. #latex_use_parts = False # If true, show page references after internal links. #latex_show_pagerefs = False # If true, show URL addresses after external links. #latex_show_urls = False # Documents to append as an appendix to all manuals. #latex_appendices = [] # If false, no module index is generated. #latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'pythonnovaclient', u'Nova Client Release Notes Documentation', [u'Nova developers'], 1) ] # If true, show URL addresses after external links. #man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'PythonNovaClient', u'Nova Client Release Notes Documentation', u'Nova developers', 'PythonNovaClient', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. #texinfo_appendices = [] # If false, no module index is generated. #texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. #texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. #texinfo_no_detailmenu = False",18,266
openstack%2Fpython-novaclient~master~Icee145f44a42c233008b3328f52a3eec933101e0,openstack/python-novaclient,master,Icee145f44a42c233008b3328f52a3eec933101e0,setup.cfg: Various Python 3 fixes,MERGED,2020-02-20 09:19:33.000000000,2020-02-23 19:48:58.000000000,2020-02-23 19:47:13.000000000,"[{'_account_id': 679}, {'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2020-02-20 09:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/624f017e5e36c5760b96a4a106a734e6ed760949', 'message': ""setup.cfg: Various Python 3 fixes\n\nNow that we've dropped py2 support we shouldn't be stating that we\nsupport universal (Python 2 and 3) wheels. We should also use the proper\nsetuptools machinery to prevent people accidentally installing\nnovalclient in a Python 2.7 environment.\n\nAn unused 'upload_sphinx' section is also removed.\n\nChange-Id: Icee145f44a42c233008b3328f52a3eec933101e0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-02-21 09:57:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/1e05dec589268fe50e15b07b788a007a5c89fc62', 'message': ""setup.cfg: Various Python 3 fixes\n\nNow that we've dropped Python 2 support, we shouldn't be stating that we\nsupport universal (Python 2 and 3) wheels. We should also use the proper\nsetuptools machinery to prevent people accidentally installing\nnovaclient in a Python 2.7 environment. Resolve both issues, removing an\nunused 'upload_sphinx' section in the process.\n\nChange-Id: Icee145f44a42c233008b3328f52a3eec933101e0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,708824,1e05dec589268fe50e15b07b788a007a5c89fc62,16,4,2,15334,,,0,"setup.cfg: Various Python 3 fixes

Now that we've dropped Python 2 support, we shouldn't be stating that we
support universal (Python 2 and 3) wheels. We should also use the proper
setuptools machinery to prevent people accidentally installing
novaclient in a Python 2.7 environment. Resolve both issues, removing an
unused 'upload_sphinx' section in the process.

Change-Id: Icee145f44a42c233008b3328f52a3eec933101e0
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/24/708824/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,624f017e5e36c5760b96a4a106a734e6ed760949,drop-py27-support,python-requires = >=3.6 Programming Language :: Python :: 3 :: Only Programming Language :: Python :: Implementation :: CPython,[upload_sphinx] upload-dir = doc/build/html [wheel] universal = 1,3,6
openstack%2Fpython-novaclient~master~I462f4242b9a5f8d8cd6b0cb3d328dfd9d93ba200,openstack/python-novaclient,master,I462f4242b9a5f8d8cd6b0cb3d328dfd9d93ba200,Bump to hacking 2.x,MERGED,2020-02-20 10:06:03.000000000,2020-02-23 19:47:15.000000000,2020-02-23 19:47:15.000000000,"[{'_account_id': 679}, {'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-20 10:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/b2e9c7ba10a9c75acf2a83dc0e68cb9e48c1ec80', 'message': 'Bump to hacking 2.x\n\nThis is compatible with Python 3-only syntax.\n\nChange-Id: I462f4242b9a5f8d8cd6b0cb3d328dfd9d93ba200\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-02-21 09:57:34.000000000', 'files': ['novaclient/tests/functional/v2/test_servers.py', 'novaclient/v2/shell.py', 'test-requirements.txt', 'novaclient/tests/unit/test_shell.py', 'novaclient/tests/unit/utils.py', 'tox.ini', 'novaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/8f50f84981f354e0dbac0af843d7d936c319b77f', 'message': 'Bump to hacking 2.x\n\nThis is compatible with Python 3-only syntax.\n\nChange-Id: I462f4242b9a5f8d8cd6b0cb3d328dfd9d93ba200\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,708832,8f50f84981f354e0dbac0af843d7d936c319b77f,14,4,2,15334,,,0,"Bump to hacking 2.x

This is compatible with Python 3-only syntax.

Change-Id: I462f4242b9a5f8d8cd6b0cb3d328dfd9d93ba200
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/32/708832/2 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/functional/v2/test_servers.py', 'novaclient/v2/shell.py', 'test-requirements.txt', 'novaclient/tests/unit/test_shell.py', 'novaclient/tests/unit/utils.py', 'tox.ini', 'novaclient/tests/unit/v2/test_shell.py']",7,b2e9c7ba10a9c75acf2a83dc0e68cb9e48c1ec80,drop-py27-support, msg = 'No Network matching blank\\..*', msg = 'No Network matching blank\..*',11,11
openstack%2Fpython-novaclient~master~I7bef9fb7c6895f746cee1aca6522786f38b9857c,openstack/python-novaclient,master,I7bef9fb7c6895f746cee1aca6522786f38b9857c,Remove six,MERGED,2020-02-20 10:06:03.000000000,2020-02-23 19:47:14.000000000,2020-02-23 19:47:14.000000000,"[{'_account_id': 679}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-20 10:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/cc93e84950f59d30b5ceaf0109f9bd1d9b9ce536', 'message': ""Remove six\n\nMostly a find-replace job. Let's do this now so we don't have to carry\nit for the next decade.\n\nChange-Id: I7bef9fb7c6895f746cee1aca6522786f38b9857c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-02-21 09:57:34.000000000', 'files': ['novaclient/base.py', 'novaclient/tests/unit/v2/test_availability_zone.py', 'novaclient/v2/versions.py', 'novaclient/utils.py', 'novaclient/tests/functional/v2/test_device_tagging.py', 'novaclient/shell.py', 'novaclient/tests/unit/v2/test_shell.py', 'requirements.txt', 'novaclient/v2/shell.py', 'novaclient/tests/unit/v2/test_volumes.py', 'novaclient/tests/functional/v2/test_instance_action.py', 'novaclient/tests/unit/fixture_data/hypervisors.py', 'novaclient/crypto.py', 'novaclient/tests/unit/v2/test_hypervisors.py', 'novaclient/v2/services.py', 'novaclient/v2/instance_usage_audit_log.py', 'novaclient/tests/unit/v2/test_usage.py', 'novaclient/tests/unit/fixture_data/base.py', 'lower-constraints.txt', 'novaclient/tests/functional/test_auth.py', 'novaclient/tests/unit/utils.py', 'novaclient/tests/unit/v2/test_migrations.py', 'novaclient/tests/unit/test_utils.py', 'novaclient/tests/unit/test_base.py', 'novaclient/tests/unit/v2/fakes.py', 'novaclient/tests/functional/v2/legacy/test_hypervisors.py', 'novaclient/v2/servers.py', 'novaclient/tests/unit/test_shell.py', 'novaclient/tests/unit/v2/test_servers.py', 'novaclient/v2/hypervisors.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c4c44bcb2df01b77089139b267b1219008f9421e', 'message': ""Remove six\n\nMostly a find-replace job. Let's do this now so we don't have to carry\nit for the next decade.\n\nChange-Id: I7bef9fb7c6895f746cee1aca6522786f38b9857c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,708831,c4c44bcb2df01b77089139b267b1219008f9421e,13,3,2,15334,,,0,"Remove six

Mostly a find-replace job. Let's do this now so we don't have to carry
it for the next decade.

Change-Id: I7bef9fb7c6895f746cee1aca6522786f38b9857c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/31/708831/2 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/base.py', 'novaclient/tests/unit/v2/test_availability_zone.py', 'novaclient/v2/versions.py', 'novaclient/utils.py', 'novaclient/tests/functional/v2/test_device_tagging.py', 'novaclient/shell.py', 'novaclient/tests/unit/v2/test_shell.py', 'requirements.txt', 'novaclient/v2/shell.py', 'novaclient/tests/unit/v2/test_volumes.py', 'novaclient/tests/functional/v2/test_instance_action.py', 'novaclient/tests/unit/fixture_data/hypervisors.py', 'novaclient/crypto.py', 'novaclient/tests/unit/v2/test_hypervisors.py', 'novaclient/v2/services.py', 'novaclient/v2/instance_usage_audit_log.py', 'novaclient/tests/unit/v2/test_usage.py', 'novaclient/tests/unit/fixture_data/base.py', 'lower-constraints.txt', 'novaclient/tests/functional/test_auth.py', 'novaclient/tests/unit/utils.py', 'novaclient/tests/unit/v2/test_migrations.py', 'novaclient/tests/unit/test_utils.py', 'novaclient/tests/unit/test_base.py', 'novaclient/tests/unit/v2/fakes.py', 'novaclient/tests/functional/v2/legacy/test_hypervisors.py', 'novaclient/v2/servers.py', 'novaclient/tests/unit/test_shell.py', 'novaclient/tests/unit/v2/test_servers.py', 'novaclient/v2/hypervisors.py']",30,cc93e84950f59d30b5ceaf0109f9bd1d9b9ce536,drop-py27-support,from urllib import parse,from oslo_utils import encodeutils import six from six.moves.urllib import parse if six.PY2: hypervisor_match = encodeutils.safe_encode(hypervisor_match),278,371
openstack%2Fpython-novaclient~master~I6f3e98cc33731f528a3a755300f1fcc65c6b53ff,openstack/python-novaclient,master,I6f3e98cc33731f528a3a755300f1fcc65c6b53ff,tox: Configure 'ignore_basepython_conflict',MERGED,2020-02-20 10:06:03.000000000,2020-02-23 19:47:13.000000000,2020-02-23 19:47:13.000000000,"[{'_account_id': 679}, {'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-20 10:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ba97d21779616af9514367cf8e98b3108a72b251', 'message': ""tox: Configure 'ignore_basepython_conflict'\n\nResolves the following warning:\n\n  UserWarning: conflicting basepython version (set 37, should be 36) for\n  env 'py36';resolve conflict or set ignore_basepython_conflict\n\nand makes sure we're testing with what we should be.\n\nSome random indentation is fixed while we're here.\n\nChange-Id: I6f3e98cc33731f528a3a755300f1fcc65c6b53ff\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-02-21 09:57:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9dee28ae6c32814494031ef503b835d4728d91dc', 'message': ""tox: Configure 'ignore_basepython_conflict'\n\nResolves the following warning:\n\n  UserWarning: conflicting basepython version (set 37, should be 36) for\n  env 'py36';resolve conflict or set ignore_basepython_conflict\n\nand makes sure we're testing with what we should be.\n\nSome random indentation is fixed while we're here.\n\nChange-Id: I6f3e98cc33731f528a3a755300f1fcc65c6b53ff\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,708830,9dee28ae6c32814494031ef503b835d4728d91dc,14,4,2,15334,,,0,"tox: Configure 'ignore_basepython_conflict'

Resolves the following warning:

  UserWarning: conflicting basepython version (set 37, should be 36) for
  env 'py36';resolve conflict or set ignore_basepython_conflict

and makes sure we're testing with what we should be.

Some random indentation is fixed while we're here.

Change-Id: I6f3e98cc33731f528a3a755300f1fcc65c6b53ff
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/30/708830/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ba97d21779616af9514367cf8e98b3108a72b251,drop-py27-support,minversion = 3.1 skipsdist = true ignore_basepython_conflict = trueusedevelop = truepassenv = ZUUL_CACHE_DIR REQUIREMENTS_PIP_LOCATION PYTHON=coverage run --source novaclient --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage reportshow-source = true,minversion = 2.0 skipsdist = Trueusedevelop = Truepassenv = ZUUL_CACHE_DIR REQUIREMENTS_PIP_LOCATION install_command = pip install {opts} {packages} PYTHON=coverage run --source novaclient --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage reportshow-source = True,14,13
openstack%2Frequirements~master~Iadc4554ba3c2d38f629ac8c80a72851aecda38d6,openstack/requirements,master,Iadc4554ba3c2d38f629ac8c80a72851aecda38d6,Updated from generate-constraints,MERGED,2020-02-22 06:29:14.000000000,2020-02-23 19:37:46.000000000,2020-02-23 19:36:15.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-22 06:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/348165a68aef00a027d714f5fd71a91ebf544076', 'message': 'Updated from generate-constraints\n\nChange-Id: Iadc4554ba3c2d38f629ac8c80a72851aecda38d6\n'}, {'number': 2, 'created': '2020-02-22 06:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/43c128fb80a5f8520a79aa5947c78f171a431d0f', 'message': 'Updated from generate-constraints\n\nhold back docutils because boto likes to cap things\nhold back msgpack because salt likes to cap things\nhold back alembic because it breaks nova tests\n  - https://review.opendev.org/708707\n\nChange-Id: Iadc4554ba3c2d38f629ac8c80a72851aecda38d6\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2020-02-22 14:28:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c15e4f22eefd91eefdd53d0eecf7023999bed3bb', 'message': 'Updated from generate-constraints\n\nhold back docutils because boto likes to cap things\nhold back msgpack because salt likes to cap things\nhold back alembic because it breaks nova tests\n  - https://review.opendev.org/708707\nhold back enum34 for https://bitbucket.org/stoneleaf/enum34/issues/27/enum34-118-broken\n  - will need to be masked\n\nChange-Id: Iadc4554ba3c2d38f629ac8c80a72851aecda38d6\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,709279,c15e4f22eefd91eefdd53d0eecf7023999bed3bb,24,3,3,11131,,,0,"Updated from generate-constraints

hold back docutils because boto likes to cap things
hold back msgpack because salt likes to cap things
hold back alembic because it breaks nova tests
  - https://review.opendev.org/708707
hold back enum34 for https://bitbucket.org/stoneleaf/enum34/issues/27/enum34-118-broken
  - will need to be masked

Change-Id: Iadc4554ba3c2d38f629ac8c80a72851aecda38d6
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/709279/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,348165a68aef00a027d714f5fd71a91ebf544076,openstack/requirements/constraints/noclob,os-api-ref===1.6.2;python_version=='2.7' os-api-ref===2.0.0;python_version=='3.6' os-api-ref===2.0.0;python_version=='3.7'sphinxcontrib-htmlhelp===1.0.3;python_version=='3.6' sphinxcontrib-htmlhelp===1.0.3;python_version=='3.7'openstack-doc-tools===2.0.0;python_version=='2.7' openstack-doc-tools===3.0.0;python_version=='3.6' openstack-doc-tools===3.0.0;python_version=='3.7'pycryptodomex===3.9.7docutils===0.16boto3===1.12.5enum34===1.1.8msgpack===1.0.0openstackdocstheme===1.31.2;python_version=='2.7' openstackdocstheme===2.0.0;python_version=='3.6' openstackdocstheme===2.0.0;python_version=='3.7'botocore===1.15.5alembic===1.4.0virtualenv===20.0.5,os-api-ref===2.0.0sphinxcontrib-htmlhelp===1.0.2;python_version=='3.6' sphinxcontrib-htmlhelp===1.0.2;python_version=='3.7'openstack-doc-tools===3.0.0pycryptodomex===3.9.6docutils===0.15.2boto3===1.12.4enum34===1.1.6msgpack===0.6.2openstackdocstheme===2.0.0botocore===1.15.4alembic===1.3.3virtualenv===20.0.4,19,13
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib398bbb5765fbe87f8e37d7a58b356f7d4670c87,openstack/tripleo-heat-templates,stable/train,Ib398bbb5765fbe87f8e37d7a58b356f7d4670c87,Add ceph_ansible_repo variable on ceph-base,MERGED,2020-02-19 17:14:29.000000000,2020-02-23 19:33:59.000000000,2020-02-23 19:33:59.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-02-19 17:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/437c4cbdc52d8c8b2c62c63d078317452c11c333', 'message': 'Add ceph_ansible_repo variable on ceph-base\n\nIn order to properly evaluate the ceph-ansible\nrepo using validations, this change adds the\n""ceph_ansible_repo"" variable to point to the\ncorrect default tripleo ceph repo.\n\nChange-Id: Ib398bbb5765fbe87f8e37d7a58b356f7d4670c87\nRelated-Bug: 1857460\n(cherry picked from commit 020ad398d5c921dbdd184a499f1214b1f15212f9)\n'}, {'number': 2, 'created': '2020-02-22 13:04:17.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml', 'ci/environments/scenario004-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc4ecf797468079747ce206c2b02433fb07c82c1', 'message': 'Add ceph_ansible_repo variable on ceph-base\n\nIn order to properly evaluate the ceph-ansible\nrepo using validations, this change adds the\n""ceph_ansible_repo"" variable to point to the\ncorrect default tripleo ceph repo.\n\nChange-Id: Ib398bbb5765fbe87f8e37d7a58b356f7d4670c87\nRelated-Bug: 1857460\n(cherry picked from commit 020ad398d5c921dbdd184a499f1214b1f15212f9)\n'}]",0,708700,dc4ecf797468079747ce206c2b02433fb07c82c1,29,7,2,25402,,,0,"Add ceph_ansible_repo variable on ceph-base

In order to properly evaluate the ceph-ansible
repo using validations, this change adds the
""ceph_ansible_repo"" variable to point to the
correct default tripleo ceph repo.

Change-Id: Ib398bbb5765fbe87f8e37d7a58b356f7d4670c87
Related-Bug: 1857460
(cherry picked from commit 020ad398d5c921dbdd184a499f1214b1f15212f9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/708700/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario000-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml', 'ci/environments/scenario004-multinode-containers.yaml']",8,437c4cbdc52d8c8b2c62c63d078317452c11c333,ceph_repo_validation," CephAnsibleRepo: ""tripleo-centos-ceph-nautilus""",,15,0
openstack%2Fzaqar-tempest-plugin~master~I0fca9cb65b65da6d8f386175fc5c29abf12c4311,openstack/zaqar-tempest-plugin,master,I0fca9cb65b65da6d8f386175fc5c29abf12c4311,Add tempest test for querying queus with count,MERGED,2020-02-12 06:59:06.000000000,2020-02-23 19:13:01.000000000,2020-02-14 07:43:53.000000000,"[{'_account_id': 8846}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-12 06:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/9f2ede84a0dafca9b3fdccbde8cd40294723ab9e', 'message': 'Add tempest test for querying queus with count\n\nChange-Id: I0fca9cb65b65da6d8f386175fc5c29abf12c4311\nImplements: blueprint query-queues-with-count\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\n'}, {'number': 2, 'created': '2020-02-12 07:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/abf80876749ca2a1aa11dbdcb2881113f3816cc5', 'message': 'Add tempest test for querying queus with count\n\nChange-Id: I0fca9cb65b65da6d8f386175fc5c29abf12c4311\nImplements: blueprint query-queues-with-count\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\n'}, {'number': 3, 'created': '2020-02-12 14:10:49.000000000', 'files': ['zaqar_tempest_plugin/tests/v2/test_queues.py'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/04f720906d5b75b8efdcda29203086990efa6c75', 'message': 'Add tempest test for querying queus with count\n\nChange-Id: I0fca9cb65b65da6d8f386175fc5c29abf12c4311\nImplements: blueprint query-queues-with-count\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\n'}]",0,707323,04f720906d5b75b8efdcda29203086990efa6c75,18,3,3,8846,,,0,"Add tempest test for querying queus with count

Change-Id: I0fca9cb65b65da6d8f386175fc5c29abf12c4311
Implements: blueprint query-queues-with-count
Signed-off-by: wanghao <sxmatch1986@gmail.com>
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/23/707323/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqar_tempest_plugin/tests/v2/test_queues.py'],1,9f2ede84a0dafca9b3fdccbde8cd40294723ab9e,bp/query-queues-with-count," @decorators.idempotent_id('8f1fec00-54fc-48b9-aa67-c10a824b768a') def test_list_queues_with_count(self): # Listing queues with count _, body = self.list_queues({""with_count"": True}) self.assertEqual(len(body['queues']), len(self.queues)) self.assertEqual(len(self.queues), body['count']) for item in body['queues']: self.assertIn(item['name'], self.queues) ",,9,0
openstack%2Fpython-novaclient~master~I546c06a3251e86f39e2e7db48e04ec382c8da854,openstack/python-novaclient,master,I546c06a3251e86f39e2e7db48e04ec382c8da854,trivial: Remove 'u' prefix from string,MERGED,2020-02-21 09:57:34.000000000,2020-02-23 19:05:34.000000000,2020-02-23 19:04:00.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 09:57:34.000000000', 'files': ['novaclient/tests/functional/v2/test_servers.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/0f7d723c462ab0c083120f811fba682057f2b081', 'message': 'trivial: Remove \'u\' prefix from string\n\nIt looks like nova is using \'repr()\' in some validation error logging.\nOn Python 2.7, this would result in unicode strings (which most web apps\nuse) being output as ""u\'foo\'"", while in Python 3 these would just be\n""\'foo\'"". Since nova only supports Python 3 now, we only have to support\nthe Python 3 string formatting variant in our tests too.\n\nChange-Id: I546c06a3251e86f39e2e7db48e04ec382c8da854\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,709080,0f7d723c462ab0c083120f811fba682057f2b081,17,4,1,15334,,,0,"trivial: Remove 'u' prefix from string

It looks like nova is using 'repr()' in some validation error logging.
On Python 2.7, this would result in unicode strings (which most web apps
use) being output as ""u'foo'"", while in Python 3 these would just be
""'foo'"". Since nova only supports Python 3 now, we only have to support
the Python 3 string formatting variant in our tests too.

Change-Id: I546c06a3251e86f39e2e7db48e04ec382c8da854
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/80/709080/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/tests/functional/v2/test_servers.py'],1,0f7d723c462ab0c083120f811fba682057f2b081,drop-py27-support," "" description. Value: %s. '%s' is too long (HTTP 400)"""," "" description. Value: %s. u\'%s\' is too long (HTTP 400)""",1,1
openstack%2Fpuppet-swift~master~Id8738a52d0ad0c6aaa4cbab70a0b3461870017dd,openstack/puppet-swift,master,Id8738a52d0ad0c6aaa4cbab70a0b3461870017dd,Deprecate swift::proxy::ceilometer::auth_uri,MERGED,2020-02-14 02:32:17.000000000,2020-02-23 18:34:17.000000000,2020-02-23 18:32:55.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-14 02:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/79a513dae328fec46565a0f8bbf949fb2dd8805d', 'message': 'Drop swift::proxy::ceilometer::auth_uri\n\nauth_uri parameter is not used in ceilometermiddleware, so deprecate\npuppet parameter according to it.\n\nChange-Id: Id8738a52d0ad0c6aaa4cbab70a0b3461870017dd\n'}, {'number': 2, 'created': '2020-02-14 02:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/5fe7731a61ff4f499686801fdb136bbb490dff66', 'message': 'Deprecate swift::proxy::ceilometer::auth_uri\n\nauth_uri parameter is not used in ceilometermiddleware, so deprecate\npuppet parameter according to it.\n\nChange-Id: Id8738a52d0ad0c6aaa4cbab70a0b3461870017dd\n'}, {'number': 3, 'created': '2020-02-17 23:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/93690c4a0dca8c1ac25b075c0a899e1a926c2e00', 'message': 'Deprecate swift::proxy::ceilometer::auth_uri\n\nauth_uri parameter is not used in ceilometermiddleware, so deprecate\npuppet parameter according to it.\n\nChange-Id: Id8738a52d0ad0c6aaa4cbab70a0b3461870017dd\n'}, {'number': 4, 'created': '2020-02-17 23:06:29.000000000', 'files': ['manifests/proxy/ceilometer.pp', 'releasenotes/notes/remove-ceilometer-auth_uri-dc349418e546cc34.yaml', 'spec/classes/swift_proxy_ceilometer_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1e57622f25b76d1ad19e2310669252ece24c0b9a', 'message': 'Deprecate swift::proxy::ceilometer::auth_uri\n\nauth_uri parameter is not used in ceilometermiddleware, so deprecate\npuppet parameter according to it.\n\nChange-Id: Id8738a52d0ad0c6aaa4cbab70a0b3461870017dd\n'}]",0,707748,1e57622f25b76d1ad19e2310669252ece24c0b9a,16,5,4,9816,,,0,"Deprecate swift::proxy::ceilometer::auth_uri

auth_uri parameter is not used in ceilometermiddleware, so deprecate
puppet parameter according to it.

Change-Id: Id8738a52d0ad0c6aaa4cbab70a0b3461870017dd
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/48/707748/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy/ceilometer.pp', 'releasenotes/notes/remove-ceilometer-auth_uri-dc349418e546cc34.yaml', 'spec/classes/swift_proxy_ceilometer_spec.rb']",3,79a513dae328fec46565a0f8bbf949fb2dd8805d,swift-ceilo-auth_uri,," :auth_uri => 'http://127.0.0.1:5000', it { is_expected.to contain_swift_proxy_config('filter:ceilometer/auth_uri').with_value('http://127.0.0.1:5000') }",17,8
openstack%2Fzun~master~I78d5ae849ea7dfec59b1524e376ee173ad85d816,openstack/zun,master,I78d5ae849ea7dfec59b1524e376ee173ad85d816,Add missing CNI config file,MERGED,2020-02-22 21:27:49.000000000,2020-02-23 18:32:28.000000000,2020-02-23 18:30:45.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-22 21:27:49.000000000', 'files': ['etc/cni/net.d/10-zun-cni.conf'], 'web_link': 'https://opendev.org/openstack/zun/commit/78365d11c42f35f4de0e6a32f901e8974de94431', 'message': 'Add missing CNI config file\n\nChange-Id: I78d5ae849ea7dfec59b1524e376ee173ad85d816\n'}]",0,709329,78365d11c42f35f4de0e6a32f901e8974de94431,13,2,1,11536,,,0,"Add missing CNI config file

Change-Id: I78d5ae849ea7dfec59b1524e376ee173ad85d816
",git fetch https://review.opendev.org/openstack/zun refs/changes/29/709329/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/cni/net.d/10-zun-cni.conf'],1,78365d11c42f35f4de0e6a32f901e8974de94431,,"{ ""cniVersion"": ""0.3.1"", ""name"": ""zun"", ""type"": ""zun-cni"", ""zun_conf"": ""/etc/zun/zun.conf"" } ",,6,0
openstack%2Fstorlets~master~I8504c19e4943c47726f50f30df4af52166dc9bc1,openstack/storlets,master,I8504c19e4943c47726f50f30df4af52166dc9bc1,Create a generic function for py2/3 compatibility,ABANDONED,2019-12-24 07:04:26.000000000,2020-02-23 18:23:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-24 07:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/94f32838fb4ed544d9ae04429cb406964feff36a', 'message': 'Create a generic function for py2/3 compatibility\n\nCreate a generic function named safe_decode so that we can gather\npy2/3 compatibility logic to the one place.\n\nChange-Id: I8504c19e4943c47726f50f30df4af52166dc9bc1\n'}, {'number': 2, 'created': '2019-12-24 08:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/b0f5ab0362dc13e8fa841be5024594d1119f4f34', 'message': 'Create a generic function for py2/3 compatibility\n\nCreate a generic function named safe_decode so that we can gather\npy2/3 compatibility logic to the one place.\n\nChange-Id: I8504c19e4943c47726f50f30df4af52166dc9bc1\n'}, {'number': 3, 'created': '2019-12-25 01:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/eec0c13cfcd23b51373bd9ebeff8c24d38aa4170', 'message': 'Create a generic function for py2/3 compatibility\n\nCreate a generic function named safe_decode so that we can gather\npy2/3 compatibility logic to the one place.\n\nChange-Id: I8504c19e4943c47726f50f30df4af52166dc9bc1\n'}, {'number': 4, 'created': '2019-12-25 02:56:16.000000000', 'files': ['storlets/common/utils.py', 'storlets/sbus/client/client.py', 'storlets/sbus/sbus.py', 'storlets/gateway/gateways/docker/runtime.py', 'storlets/common/__init__.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/4ca2f01e911b3e60c055960698eb0c149a99c0aa', 'message': 'Create a generic function for py2/3 compatibility\n\nCreate a generic function named safe_decode so that we can gather\npy2/3 compatibility logic to the one place.\n\nChange-Id: I8504c19e4943c47726f50f30df4af52166dc9bc1\n'}]",0,700486,4ca2f01e911b3e60c055960698eb0c149a99c0aa,9,1,4,9816,,,0,"Create a generic function for py2/3 compatibility

Create a generic function named safe_decode so that we can gather
py2/3 compatibility logic to the one place.

Change-Id: I8504c19e4943c47726f50f30df4af52166dc9bc1
",git fetch https://review.opendev.org/openstack/storlets refs/changes/86/700486/2 && git format-patch -1 --stdout FETCH_HEAD,"['storlets/common/utils.py', 'storlets/sbus/client/client.py', 'storlets/sbus/sbus.py', 'storlets/gateway/gateways/docker/runtime.py']",4,94f32838fb4ed544d9ae04429cb406964feff36a,safe_decode,"from storlets.common.utils import safe_decode self.logger.debug('STDOUT: %s' % safe_decode(stdout).replace('\n', '#012')) if stderr: self.logger.error('STDERR: %s' % safe_decode(stderr).replace('\n', '#012')) self.task_id = safe_decode(os.read(self.taskid_read_fd, 10))"," if not isinstance(stdout, str): stdout = stdout.decode(""utf-8"") self.logger.debug('STDOUT: %s' % stdout.replace('\n', '#012')) if stderr: if not isinstance(stderr, str): stderr = stderr.decode(""utf-8"") self.logger.error('STDERR: %s' % stderr.replace('\n', '#012')) self.task_id = os.read(self.taskid_read_fd, 10) if not isinstance(self.task_id, str): self.task_id = self.task_id.decode('utf-8')",30,21
openstack%2Fkolla~master~Ibf2848db954862f917a23eb0aa1594ccc4e7ef67,openstack/kolla,master,Ibf2848db954862f917a23eb0aa1594ccc4e7ef67,"Revert ""Upgrade virtualenv in pre""",MERGED,2020-02-13 11:32:26.000000000,2020-02-23 17:39:50.000000000,2020-02-23 17:38:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-13 11:32:26.000000000', 'files': ['tests/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c328097725790dacce5de99947654f7f765db337', 'message': 'Revert ""Upgrade virtualenv in pre""\n\nReverts temporary.\n\nThis reverts commit 063a46a7de4471504535499ca2a972a79e4ce5e5.\n\nChange-Id: Ibf2848db954862f917a23eb0aa1594ccc4e7ef67\n'}]",0,707623,c328097725790dacce5de99947654f7f765db337,16,5,1,30491,,,0,"Revert ""Upgrade virtualenv in pre""

Reverts temporary.

This reverts commit 063a46a7de4471504535499ca2a972a79e4ce5e5.

Change-Id: Ibf2848db954862f917a23eb0aa1594ccc4e7ef67
",git fetch https://review.opendev.org/openstack/kolla refs/changes/23/707623/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/pre.yml'],1,c328097725790dacce5de99947654f7f765db337,virtualenv-temporary-fix,, # TODO(mnasiadka): Remove once infra merges virtualenv fixes - name: Upgrade virtualenv package command: python3 -m pip install -U virtualenv become: True ,0,5
openstack%2Fec2-api~master~I6958cbed944de0a1eea02de10c5a4916b6a7293d,openstack/ec2-api,master,I6958cbed944de0a1eea02de10c5a4916b6a7293d,Cleanup docs building,MERGED,2020-02-23 13:01:07.000000000,2020-02-23 17:24:14.000000000,2020-02-23 17:22:51.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-23 13:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/2191e30db47e1f6e0fa7d0500ccc743a734c484d', 'message': ""Cleanup docs building\n\n* Switch to newer openstackdocstheme version and remove values that are\n  set now by openstackdocstheme.\n* Remove py2 requirments for docs, we only build with python3.\n* Update deps for docs building, we don't need the default.\n* Remove modindex, this is not build, see\n  https://docs.openstack.org/ec2-api/latest/py-modindex.html\n\nChange-Id: I6958cbed944de0a1eea02de10c5a4916b6a7293d\n""}, {'number': 2, 'created': '2020-02-23 13:18:26.000000000', 'files': ['doc/source/index.rst', 'doc/source/conf.py', 'lower-constraints.txt', 'api-ref/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/2bf5e4c0b388bf4cc42a6c49f1d48d54d21118bf', 'message': ""Cleanup docs building\n\n* Switch to newer openstackdocstheme version and remove values that are\n  set now by openstackdocstheme.\n* Remove py2 requirments for docs, we only build with python3.\n* Update deps for docs building, we don't need the default.\n* Remove modindex, this is not build, see\n  https://docs.openstack.org/ec2-api/latest/py-modindex.html\n\nChange-Id: I6958cbed944de0a1eea02de10c5a4916b6a7293d\n""}]",0,709345,2bf5e4c0b388bf4cc42a6c49f1d48d54d21118bf,12,2,2,6547,,,0,"Cleanup docs building

* Switch to newer openstackdocstheme version and remove values that are
  set now by openstackdocstheme.
* Remove py2 requirments for docs, we only build with python3.
* Update deps for docs building, we don't need the default.
* Remove modindex, this is not build, see
  https://docs.openstack.org/ec2-api/latest/py-modindex.html

Change-Id: I6958cbed944de0a1eea02de10c5a4916b6a7293d
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/45/709345/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'api-ref/source/conf.py', 'doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",6,2191e30db47e1f6e0fa7d0500ccc743a734c484d,doc-cleanup,, {[testenv]deps},9,35
openstack%2Foctavia~stable%2Fqueens~Ib3d6aa0f2fd550c3a8756c41e0159c5ae8127c7c,openstack/octavia,stable/queens,Ib3d6aa0f2fd550c3a8756c41e0159c5ae8127c7c,Fix house keeping graceful shutdown,MERGED,2020-01-31 14:07:04.000000000,2020-02-23 17:07:05.000000000,2020-02-23 17:05:20.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-01-31 14:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b8c6c0dd296e345880a642b42c70db23060f8850', 'message': 'Fix house keeping graceful shutdown\n\nSIGTERM was not caught by house keeping service, threads were not\ncorrectly terminated and spare amphora creation may have been killed\nwhen restarting the service, leaving amphorae in BOOTING status.\n\nStory: 2007008\nTask: 37788\n\nChange-Id: Ib3d6aa0f2fd550c3a8756c41e0159c5ae8127c7c\n(cherry picked from commit df0ba06c1e96dc5ad4855d24435970ee926175ca)\n'}, {'number': 2, 'created': '2020-02-03 17:09:56.000000000', 'files': ['octavia/cmd/house_keeping.py', 'octavia/tests/unit/cmd/test_house_keeping.py', 'releasenotes/notes/fix-house-keeping-shutdown-17b04417a2c4849f.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ae69762511506782b88bdef61bcf4c9561dcf740', 'message': 'Fix house keeping graceful shutdown\n\nSIGTERM was not caught by house keeping service, threads were not\ncorrectly terminated and spare amphora creation may have been killed\nwhen restarting the service, leaving amphorae in BOOTING status.\n\nStory: 2007008\nTask: 37788\n\nChange-Id: Ib3d6aa0f2fd550c3a8756c41e0159c5ae8127c7c\n(cherry picked from commit df0ba06c1e96dc5ad4855d24435970ee926175ca)\n'}]",0,705223,ae69762511506782b88bdef61bcf4c9561dcf740,30,4,2,29244,,,0,"Fix house keeping graceful shutdown

SIGTERM was not caught by house keeping service, threads were not
correctly terminated and spare amphora creation may have been killed
when restarting the service, leaving amphorae in BOOTING status.

Story: 2007008
Task: 37788

Change-Id: Ib3d6aa0f2fd550c3a8756c41e0159c5ae8127c7c
(cherry picked from commit df0ba06c1e96dc5ad4855d24435970ee926175ca)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/705223/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/cmd/house_keeping.py', 'octavia/tests/unit/cmd/test_house_keeping.py', 'releasenotes/notes/fix-house-keeping-shutdown-17b04417a2c4849f.yaml']",3,b8c6c0dd296e345880a642b42c70db23060f8850,,--- fixes: - | Fix a bug that could interrupt resource creation when performing a graceful shutdown of the house keeping service and leave resources such as amphorae in a BOOTING status. ,,28,18
openstack%2Fkolla-ansible~master~Ie4aff6123dfc7267fe78f4bd736565fb72fe135e,openstack/kolla-ansible,master,Ie4aff6123dfc7267fe78f4bd736565fb72fe135e,CI: Use auto-detected python interpreter except on CentOS 7,MERGED,2020-02-06 13:27:42.000000000,2020-02-23 17:05:46.000000000,2020-02-23 17:04:17.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-02-06 13:27:42.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b38fbfc23a8e518ccb90e71858763d3f590bedc', 'message': 'CI: Use auto-detected python interpreter except on CentOS 7\n\nThis switches to python 3 as the remote python interpreter on\nDebian/Ubuntu jobs, with CentOS 7 as the only exception using python 2.\n\nAlso switch to auto-detection of the interpeter except for CentOS 7,\nwhich should be based on the one used by ansible-playbook (python 3).\n\nChange-Id: Ie4aff6123dfc7267fe78f4bd736565fb72fe135e\nPartially-Implements: python-3\n'}]",0,706265,5b38fbfc23a8e518ccb90e71858763d3f590bedc,12,4,1,14826,,,0,"CI: Use auto-detected python interpreter except on CentOS 7

This switches to python 3 as the remote python interpreter on
Debian/Ubuntu jobs, with CentOS 7 as the only exception using python 2.

Also switch to auto-detection of the interpeter except for CentOS 7,
which should be based on the one used by ansible-playbook (python 3).

Change-Id: Ie4aff6123dfc7267fe78f4bd736565fb72fe135e
Partially-Implements: python-3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/706265/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,5b38fbfc23a8e518ccb90e71858763d3f590bedc,,"{% if ansible_os_family == 'RedHat' and ansible_distribution_major_version == '7' %} # Force the use of python2 on CentOS7 remote hosts. This is necessary for # delegate_to: localhost, which will otherwise use the local python interpreter # (python3). On CentOS 7, that fails due to a lack of python3 bindings for # SELinux. https://bugs.centos.org/view.php?id=16389 ansible_python_interpreter: /usr/bin/python2 {% endif %}","# Force the use of python2 on Ubuntu/Debian and CentOS7 remote hosts. This is # necessary for delegate_to: localhost, which will otherwise use the local # python interpreter (python3). On CentOS 7, that fails due to a lack of # python3 bindings for SELinux. https://bugs.centos.org/view.php?id=16389 ansible_python_interpreter: /usr/bin/python{{ '2' if ansible_os_family != 'RedHat' or ansible_distribution_major_version == '7' else '3' }}",7,5
openstack%2Fdevstack-plugin-container~master~I1c0e753b19289c339e44f288cae02d7ee2957da6,openstack/devstack-plugin-container,master,I1c0e753b19289c339e44f288cae02d7ee2957da6,Fix https://review.opendev.org/#/c/705361/,MERGED,2020-02-22 21:23:00.000000000,2020-02-23 16:49:30.000000000,2020-02-23 16:49:30.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-22 21:23:00.000000000', 'files': ['devstack/lib/docker'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/401029e61756bc0a8474140b95620524e475a643', 'message': 'Fix https://review.opendev.org/#/c/705361/\n\nWe need to configure CNI plugin first, then configure and restart\ncontainerd. In before, the order is reverse so the CNI config\nis not picked.\n\nChange-Id: I1c0e753b19289c339e44f288cae02d7ee2957da6\n'}]",0,709328,401029e61756bc0a8474140b95620524e475a643,6,2,1,11536,,,0,"Fix https://review.opendev.org/#/c/705361/

We need to configure CNI plugin first, then configure and restart
containerd. In before, the order is reverse so the CNI config
is not picked.

Change-Id: I1c0e753b19289c339e44f288cae02d7ee2957da6
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/28/709328/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/docker'],1,401029e61756bc0a8474140b95620524e475a643,, configure_containerd , configure_containerd ,2,2
openstack%2Fos-vif~master~I3098c1c878d44a239af7725391c3645619e462c1,openstack/os-vif,master,I3098c1c878d44a239af7725391c3645619e462c1,Add delete_netdev field in VIFPortProfileOpenVSwitch profile,NEW,2020-01-16 12:29:06.000000000,2020-02-23 15:23:53.000000000,,"[{'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 22348}, {'_account_id': 25241}, {'_account_id': 25733}, {'_account_id': 28714}]","[{'number': 1, 'created': '2020-01-16 12:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/5fbb23d00c06dda8db706760fd7593acd3474e7b', 'message': 'Add delete_netdev field in VIFPortProfileOpenVSwitch profile\n\nIn case of Smart NIC, os-vif is used to unplug the representor port from\nthe integration bridge, but this causing an issue that it also try to\ndelete the net device, so providing a field delete_netdev in\nVIFPortProfileOpenVSwitch profile to manage if we need to delete the\nnetdev or not.\n\nChange-Id: I3098c1c878d44a239af7725391c3645619e462c1\n'}, {'number': 2, 'created': '2020-01-16 12:38:14.000000000', 'files': ['os_vif/objects/vif.py', 'os_vif/tests/unit/test_objects.py', 'vif_plug_ovs/ovs.py', 'os_vif/tests/unit/test_vif.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/adb94795247f02c0879e420d812018113c1375f5', 'message': 'Add delete_netdev field in VIFPortProfileOpenVSwitch profile\n\nIn case of Smart NIC, os-vif is used to unplug the representor port from\nthe integration bridge, but this causing an issue that it also try to\ndelete the net device, so providing a field delete_netdev in\nVIFPortProfileOpenVSwitch profile to manage if we need to delete the\nnetdev or not.\n\nRelated-Bug: #1859976\nChange-Id: I3098c1c878d44a239af7725391c3645619e462c1\n'}]",13,702857,adb94795247f02c0879e420d812018113c1375f5,12,7,2,25241,,,0,"Add delete_netdev field in VIFPortProfileOpenVSwitch profile

In case of Smart NIC, os-vif is used to unplug the representor port from
the integration bridge, but this causing an issue that it also try to
delete the net device, so providing a field delete_netdev in
VIFPortProfileOpenVSwitch profile to manage if we need to delete the
netdev or not.

Related-Bug: #1859976
Change-Id: I3098c1c878d44a239af7725391c3645619e462c1
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/57/702857/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_vif/objects/vif.py', 'os_vif/tests/unit/test_objects.py', 'vif_plug_ovs/ovs.py', 'os_vif/tests/unit/test_vif.py']",4,5fbb23d00c06dda8db706760fd7593acd3474e7b,," def test_port_profile_ovs_backport_1_3(self): obj = objects.vif.VIFPortProfileOpenVSwitch( interface_id=""07bd6cea-fb37-4594-b769-90fc51854ee9"", create_port=True) primitive = obj.obj_to_primitive(target_version='1.3') self.assertEqual('1.3', primitive['versioned_object.version']) data = primitive['versioned_object.data'] self.assertEqual('07bd6cea-fb37-4594-b769-90fc51854ee9', data['interface_id']) self.assertNotIn('delete_netdev', data) ",,38,8
openstack%2Ftacker~master~I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad,openstack/tacker,master,I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad,remove external dependency from devstack,MERGED,2019-12-19 01:28:02.000000000,2020-02-23 13:29:08.000000000,2020-02-23 13:27:41.000000000,"[{'_account_id': 18955}, {'_account_id': 20191}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-12-19 01:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/faf3cb8cbf368fc4e2e24ed7fcc1131392011b34', 'message': '[WIP] remove external dependency from devstack\n\nChange-Id: I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad\n'}, {'number': 2, 'created': '2019-12-20 08:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2ae6b6015aaf714dcd07c4528b6f366ea8247a0d', 'message': 'remove external dependency from devstack\n\nCirros and OpenWRT iamges are downloaded and registered to Glance during\nTacker devstack installation. But it is better to avoid these external\ndependencies so that we can complate the installation even if image\ndownload links are broken.\n\nChange-Id: I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad\n'}, {'number': 3, 'created': '2019-12-20 08:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cdbd1f88e25d46c726fa40d3745beac886e77f20', 'message': 'remove external dependency from devstack\n\nCirros and OpenWRT iamges are downloaded and registered to Glance during\nTacker devstack installation. But it is better to avoid these external\ndependencies so that we can complate the installation even if image\ndownload links are broken.\n\nChange-Id: I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad\n'}, {'number': 4, 'created': '2019-12-23 01:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0e6f9051222adb948ad37abe8b9d1e372ed07a66', 'message': 'remove external dependency from devstack\n\nCirros and OpenWRT iamges are downloaded and registered to Glance during\nTacker devstack installation. But it is better to avoid these external\ndependencies so that we can complate the installation even if image\ndownload links are broken.\n\nChange-Id: I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad\n'}, {'number': 5, 'created': '2019-12-24 00:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/65f77c87d23796d7ba96382076d32b2b0069dd95', 'message': 'remove external dependency from devstack\n\nCirros and OpenWRT images are downloaded and registered to Glance during\nTacker devstack installation. But it is better to avoid these external\ndependencies so that we can complate the installation even if image\ndownload links are broken.\n\nChange-Id: I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad\n'}, {'number': 6, 'created': '2019-12-24 03:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9589ced74b383cdb51f1544cc67dec8333bf6e60', 'message': 'remove external dependency from devstack\n\nCirros and OpenWRT images are downloaded and registered to Glance during\nTacker devstack installation. But it is better to avoid these external\ndependencies so that we can complete the installation even if image\ndownload links are broken.\n\nChange-Id: I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad\n'}, {'number': 7, 'created': '2020-01-14 07:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/019801fff0da103746269d7f5fe9701e7fd6c3ba', 'message': 'remove external dependency from devstack\n\nCirros and OpenWRT images are downloaded and registered to Glance during\nTacker devstack installation. But it is better to avoid these external\ndependencies so that we can complete the installation even if image\ndownload links are broken.\n\nChange-Id: I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad\n'}, {'number': 8, 'created': '2020-01-14 08:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7c3f355e89c826f0267cfa43a07e085698ef4fc4', 'message': 'remove external dependency from devstack\n\nCirros and OpenWRT images are downloaded and registered to Glance during\nTacker devstack installation. But it is better to avoid these external\ndependencies so that we can complete the installation even if image\ndownload links are broken.\n\nChange-Id: I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad\n'}, {'number': 9, 'created': '2020-02-04 06:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e1461183f926f03aa7ac5e35efcb7daa6dc88703', 'message': 'remove external dependency from devstack\n\nCirros and OpenWRT images are downloaded and registered to Glance during\nTacker devstack installation. But it is better to avoid these external\ndependencies so that we can complete the installation even if image\ndownload links are broken.\n\nChange-Id: I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad\n'}, {'number': 10, 'created': '2020-02-21 06:48:46.000000000', 'files': ['devstack/lib/tacker', 'doc/source/install/deploy_openwrt.rst', 'samples/images/openwrt-x86-kvm_guest-combined-ext4.img.gz'], 'web_link': 'https://opendev.org/openstack/tacker/commit/55319282f3779e01ac882f13ff7b0b63d84866e3', 'message': 'remove external dependency from devstack\n\nCirros and OpenWRT images are downloaded and registered to Glance during\nTacker devstack installation. But it is better to avoid these external\ndependencies so that we can complete the installation even if image\ndownload links are broken.\n\nChange-Id: I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad\n'}]",13,699895,55319282f3779e01ac882f13ff7b0b63d84866e3,42,6,10,26588,,,0,"remove external dependency from devstack

Cirros and OpenWRT images are downloaded and registered to Glance during
Tacker devstack installation. But it is better to avoid these external
dependencies so that we can complete the installation even if image
download links are broken.

Change-Id: I8bd9ef27267ae2097d9cdce5d655c77d9e4a3aad
",git fetch https://review.opendev.org/openstack/tacker refs/changes/95/699895/10 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/tacker', 'devstack/plugin.sh']",2,faf3cb8cbf368fc4e2e24ed7fcc1131392011b34,remove_devstack_external_dependency,," echo_summary ""Check and download images for tacker initial"" tacker_check_and_download_images",0,44
openstack%2Fnova~master~I7be32e4fc2e69f805535e0a437931516f491e5cb,openstack/nova,master,I7be32e4fc2e69f805535e0a437931516f491e5cb,Reproduce bug 1862633,MERGED,2020-02-10 14:54:29.000000000,2020-02-23 10:17:41.000000000,2020-02-20 07:32:51.000000000,"[{'_account_id': 5754}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-10 14:54:29.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1862633.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c33ebdafbd633578a0a4b6f1b118c756510acea6', 'message': 'Reproduce bug 1862633\n\nIf port update fails during unshelve of an offloaded server then\nplacement allocation on the target host is leaked.\n\nChange-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb\nRelated-Bug: #1862633\n'}]",9,706867,c33ebdafbd633578a0a4b6f1b118c756510acea6,20,10,1,9708,,,0,"Reproduce bug 1862633

If port update fails during unshelve of an offloaded server then
placement allocation on the target host is leaked.

Change-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb
Related-Bug: #1862633
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/706867/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1862633.py'],1,c33ebdafbd633578a0a4b6f1b118c756510acea6,bug/1862633,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from neutronclient.common import exceptions as neutron_exception from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_notifier from nova.tests.unit.image import fake as fake_image class UnshelveNeutronErrorTest( test.TestCase, integrated_helpers.InstanceHelperMixin): def setUp(self): super(UnshelveNeutronErrorTest, self).setUp() # Start standard fixtures. placement = func_fixtures.PlacementFixture() self.useFixture(placement) self.placement_api = placement.api self.neutron = nova_fixtures.NeutronFixture(self) self.useFixture(self.neutron) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) # Start nova services. self.api = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')).admin_api self.api.microversion = 'latest' fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) self.start_service('conductor') self.start_service('scheduler') self.start_service('compute', host='host1') self.start_service('compute', host='host2') def test_unshelve_offloaded_fails_due_to_neutron(self): server = self._create_server( networks=[{'port': self.neutron.port_1['id']}], az='nova:host1') # with default config shelve means immediate offload as well req = { 'shelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_server_parameter( server, {'status': 'SHELVED_OFFLOADED'}) allocations = self.placement_api.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(0, len(allocations)) # disable the original host of the instance to force a port update # during unshelve source_service_id = self.api.get_services( host='host1', binary='nova-compute')[0]['id'] self.api.put_service(source_service_id, {""status"": ""disabled""}) # Simulate that port update fails during unshelve due to neutron is # unavailable with mock.patch( 'nova.tests.fixtures.NeutronFixture.' 'update_port') as mock_update_port: mock_update_port.side_effect = neutron_exception.ConnectionFailed( reason='test') req = {'unshelve': None} self.api.post_server_action(server['id'], req) fake_notifier.wait_for_versioned_notifications( 'instance.unshelve.start') self._wait_for_server_parameter( server, {'status': 'SHELVED_OFFLOADED', 'OS-EXT-STS:task_state': None}) # As the instance went back to offloaded state we expect no allocation # allocations = self.placement_api.get( # '/allocations/%s' % server['id']).body['allocations'] # self.assertEqual(0, len(allocations)) # # but the allocation is leaked this is bug 1862633 allocations = self.placement_api.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(1, len(allocations)) ",,92,0
openstack%2Fcinder~master~I07b8d3f731e8778ffae3ef9a47ec2119c07fae89,openstack/cinder,master,I07b8d3f731e8778ffae3ef9a47ec2119c07fae89,WIP: Add policy limit to volume related actions,ABANDONED,2019-04-11 09:36:24.000000000,2020-02-23 02:42:39.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15296}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-04-11 09:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/474b597083ad2da5518f961bac2d28bb86b4d1d7', 'message': 'Add policy limit to volume related actions\n\nIn volume.api or other action apis, there is a citizen authentication of\nctxt.authorize(), but the user (RULE_ADMIN_OR_OWNER or RULE_ADMIN_API)\nlimit is not added in the file corresponding to the policies, which is\nconfusing.\n\nChange-Id: I07b8d3f731e8778ffae3ef9a47ec2119c07fae89\n'}, {'number': 2, 'created': '2019-04-12 07:07:43.000000000', 'files': ['cinder/policies/volume_type.py', 'cinder/policies/volumes.py', 'cinder/policies/attachments.py', 'cinder/policies/volume_transfer.py', 'cinder/policies/backups.py', 'cinder/tests/unit/api/contrib/test_volume_type_access.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/174d2cb344a9ab24a7500031c405d352efd5479a', 'message': 'WIP: Add policy limit to volume related actions\n\nIn volume.api or other action apis, there is a citizen authentication of\nctxt.authorize(), but the user (RULE_ADMIN_OR_OWNER or RULE_ADMIN_API)\nlimit is not added in the file corresponding to the policies, which is\nconfusing.\n\nChange-Id: I07b8d3f731e8778ffae3ef9a47ec2119c07fae89\n'}]",0,651741,174d2cb344a9ab24a7500031c405d352efd5479a,32,16,2,26458,,,0,"WIP: Add policy limit to volume related actions

In volume.api or other action apis, there is a citizen authentication of
ctxt.authorize(), but the user (RULE_ADMIN_OR_OWNER or RULE_ADMIN_API)
limit is not added in the file corresponding to the policies, which is
confusing.

Change-Id: I07b8d3f731e8778ffae3ef9a47ec2119c07fae89
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/651741/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policies/volume_type.py', 'cinder/policies/volumes.py', 'cinder/policies/attachments.py', 'cinder/policies/volume_transfer.py', 'cinder/policies/backups.py']",5,474b597083ad2da5518f961bac2d28bb86b4d1d7,651741," check_str=base.RULE_ADMIN_OR_OWNER,"," check_str="""",",7,7
openstack%2Fnova-specs~master~If06bd29a8fcad322aed337bb7fdb54aae304c8dc,openstack/nova-specs,master,If06bd29a8fcad322aed337bb7fdb54aae304c8dc,Support re-configure deleted_on_termination in server,MERGED,2018-07-05 10:07:54.000000000,2020-02-23 01:23:46.000000000,2020-02-22 02:11:07.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 10608}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15888}, {'_account_id': 22348}, {'_account_id': 22378}, {'_account_id': 23312}, {'_account_id': 26458}, {'_account_id': 26490}, {'_account_id': 30077}, {'_account_id': 30200}, {'_account_id': 30380}, {'_account_id': 30384}, {'_account_id': 30395}]","[{'number': 1, 'created': '2018-07-05 10:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cb1ac04868cf9ff18f190710673ab87304a09268', 'message': 'Support deleting data volume when destroy instance\n\nThis spec proposed to add support deleting data volumes while destroying\ninstance.\n\nAPIImpact\nDocImpact\n\nbp: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 2, 'created': '2018-07-05 12:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f4d4d61360392c627d89d95b54e47644113416f6', 'message': 'Support deleting data volume when destroy instance\n\nThis spec proposed to add support deleting data volumes while destroying\ninstance.\n\nAPIImpact\nDocImpact\n\nbp: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 3, 'created': '2018-08-16 07:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ed42198b577d784d496abae95d608bc4aba804d0', 'message': 'Support deleting data volume when destroy instance\n\nThis spec proposed to add support deleting data volumes while destroying\ninstance.\n\nAPIImpact\nDocImpact\n\nbp: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 4, 'created': '2018-08-17 01:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/aea0e7bdf1c6605cf97d38cba6186406994bdeea', 'message': 'Support deleting data volume when destroy instance\n\nThis spec proposed to add support deleting data volumes while destroying\ninstance.\n\nAPIImpact\nDocImpact\n\nbp: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 5, 'created': '2018-10-24 08:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8a5f2fe7e76578994656101a4897094c5fa1b572', 'message': 'Support deleting data volume when destroy instance\n\nThis spec proposed to add support deleting data volumes while destroying\ninstance.\n\nAPIImpact\n\nbp: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 6, 'created': '2018-11-06 11:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4ae8e68e14d5e934fd603dbd3d223276a0059c7b', 'message': 'Support deleting data volume when destroy instance\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot/data volumes, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAnother change is to add the ``delete_on_termination`` request parameter\nin the attach a volume to an instance API.\n\nAPIImpact\n\nbp: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 7, 'created': '2018-11-28 11:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7ec18067b0c68a312abedc925b220065b6c21260', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot/data volumes, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAnother change is to add the ``delete_on_termination`` request parameter\nin the attach a volume to an instance API.\n\nAPIImpact\n\nbp: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 8, 'created': '2018-11-30 03:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/eafb4a5b5de8ca25d5a3abf56d82480767742b44', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot or data volume, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 9, 'created': '2018-11-30 03:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3d23d2758497af1c5dfb6a84dab6a41f4470da25', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot or data volume, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 10, 'created': '2019-03-05 00:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1557733a86378d7322798284b7ca33fc45560e3f', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot or data volume, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 11, 'created': '2019-03-05 00:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/10e2d26f7517915268713f7bdd69b7c8884e1c08', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot or data volume, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 12, 'created': '2019-03-06 00:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/351cf15f630fd53a92df7614a64533c95f2bbf0c', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot or data volume, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 13, 'created': '2019-05-20 10:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5a919476c638bd55cb247d88a4ceab9edf8590cf', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot or data volume, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 14, 'created': '2019-06-12 07:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/91730d907a4247d076069e4f5952d7e4f7fcb8fa', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot or data volume, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 15, 'created': '2019-06-25 00:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/336d10f0146533601d8385ff13f076e5d46ae662', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot or data volume, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 16, 'created': '2019-07-04 10:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4721914b792ea0d8dc5a82ac3c207d50f5a5d17d', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot or data volume, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 17, 'created': '2019-07-11 03:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/676cd0ad3e8babe18cbc3c7f7d2d263e1e03705b', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot or data volume, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 18, 'created': '2019-07-24 06:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d2ef6ba2a913ec3ab4517d27fac2ba4955ece7de', 'message': 'Support for changing deleted_on_termination after boot\n\nThis spec proposed to support configuring ``delete_on_termination`` for\nroot or data volume, if ``delete_on_termination`` is **True**, you can\ndelete the attached volume when you delete the instance.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 19, 'created': '2019-07-28 09:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2362cf227c23278549dbf3c99b73e0b88fd8ad4d', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 20, 'created': '2019-07-28 09:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/720a7145db15933068c029a3bce1f3ee569c752f', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 21, 'created': '2019-08-12 07:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/864dcfab623be101a2e2bcaec47628ffce1b0fd9', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 22, 'created': '2019-09-02 07:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/30861c947ebc827920c2809bb8e7df138952ce86', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 23, 'created': '2019-10-28 11:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5404766f61c89211e7eb5f306764bbcbf05cee65', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 24, 'created': '2019-10-30 13:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/aab2442c5161a1c977ff19b3710d27787b89aa70', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 25, 'created': '2019-10-31 03:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/00acf055d60103241aec6bbccb34b49ddeb5a482', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 26, 'created': '2019-12-04 05:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/dc6c3b9205ed934739cf0bf67120a33627f6d407', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 27, 'created': '2019-12-31 01:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3471d4d5b56d004febc7fa9811d1722519040269', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 28, 'created': '2020-01-04 06:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5f8f254b0d0bfe5c94ab6eec1c44e05912749012', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 29, 'created': '2020-02-14 15:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d4dd5b6cb99b29feacdb2dfd1f0725bc8a44da39', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 30, 'created': '2020-02-14 16:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5c71ff9a6a87024ab9d4d79878f709c358e33049', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 31, 'created': '2020-02-15 10:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/20c82a792a69c352d1646c0b4be2137e3e8d82af', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 32, 'created': '2020-02-15 10:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4209441be7ff28ee5ddef8f30eb5d0776a3f451d', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposed to changing the ``deleted_on_termination`` attribute\nafter boot an instance, that support deleting the target volumes while\nthe instance is destroyed.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 33, 'created': '2020-02-20 15:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/af4ba6138a26371bb61e7305335f44d83bd5f6ec', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposes to allow changing the ``deleted_on_termination``\nattribute of a volume after an instance is booted.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 34, 'created': '2020-02-21 02:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4f47aa9424f1663edb11ad545194996a30ee87b3', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposes to allow changing the ``deleted_on_termination``\nattribute of a volume after an instance is booted.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}, {'number': 35, 'created': '2020-02-21 02:57:11.000000000', 'files': ['specs/ussuri/approved/destroy-instance-with-datavolume.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3dbc3d940427b4d12672e34c5e2ae6f9d9f0422d', 'message': 'Support re-configure deleted_on_termination in server\n\nThis blueprint proposes to allow changing the ``deleted_on_termination``\nattribute of a volume after an instance is booted.\n\nAPIImpact\n\nBlueprint: destroy-instance-with-datavolume\nChange-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc\n'}]",120,580336,3dbc3d940427b4d12672e34c5e2ae6f9d9f0422d,162,24,35,26458,,,0,"Support re-configure deleted_on_termination in server

This blueprint proposes to allow changing the ``deleted_on_termination``
attribute of a volume after an instance is booted.

APIImpact

Blueprint: destroy-instance-with-datavolume
Change-Id: If06bd29a8fcad322aed337bb7fdb54aae304c8dc
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/36/580336/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/support-deleting-data-volume-when-destroying-instance.rst'],1,cb1ac04868cf9ff18f190710673ab87304a09268,bp/destroy-instance-with-datavolume,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================ Support for deleting data volumes while destroying instances ============================================================ https://blueprints.launchpad.net/nova/+spec/destroy-instance-with-datavolume This blueprint proposed to support deleting data volumes while destroying instances. Problem description =================== Destroy instance with data volumes for servers are supported in microversion 2.64, but currently, only the delete root disk is set when the instance is created, and the setting is not allowed to be edited after the instance is created. Additionally, If you attach data volumes to this instance, the data volume cannot be deleted when you destroy the instance. User will have to first destroy a instance and then delete the instance's data volumes with another API call. This is not friendly to the user when there are multiple instances. Use Cases --------- As an user, I would like to configure the data volume of the instance, and I can set the data volume to be deleted when the instance is destroyed. I would prefer this when there are multiple instances with data volumes and need to clear them. Proposed change =============== Add a new microversion to Servers create API to support deleting data volumes while destroying instances. Alternatives ------------ Keep the current implementation. Data model impact ----------------- None REST API impact --------------- * URL: * /v2.1/servers: * Request method: * PUT The config of delete data volumes will be able to add to request payload :: { ... ""delete_data_volume_on_termination"": [ { ""volume_id"": ""3212a5ed-46ed-47db-9a53-08296e76ba67"", ""delete_on_termination"": true },{ ""volume_id"": ""c2589a02-d584-4f8e-affe-2bfd7fb3a320"", ""delete_on_termination"": true } ], ... } The config of delete data volumes will be also be included in response if setted :: { ... ""delete_data_volume_on_termination"": [ { ""volume_id"": ""3212a5ed-46ed-47db-9a53-08296e76ba67"", ""delete_on_termination"": true },{ ""volume_id"": ""c2589a02-d584-4f8e-affe-2bfd7fb3a320"", ""delete_on_termination"": false } ], ... } ""delete_on_termination"" of data volume, the default value is set to false. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- User will be able to deleting data volumes while destroying instances using specific microversion. python-novaclient will also make modifications to support this feature. Performance Impact ------------------ None Other deployer impact --------------------- A new microversion will be added. Developer impact ---------------- Users have a convenient way for deleting data volumes while destroying instances in a single API call. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Brin Zhang Work Items ---------- * Add deleting data volumes while destroying instances * Add related tests Dependencies ============ None Testing ======= * Add related unittest * Add related functional test Documentation Impact ==================== Add docs that mention the deleting data volumes while destroying instances after the microversion. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced ",,159,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I1111d7bae065e3df58ac2e68883e5bbeff9dfd91,openstack/openstack-ansible-openstack_hosts,master,I1111d7bae065e3df58ac2e68883e5bbeff9dfd91,DNM test constraining openstackdocstheme for py2,ABANDONED,2020-02-22 09:31:34.000000000,2020-02-22 22:24:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-22 09:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/edbb2a8321c0abcfc892d502e59049f505a77fcf', 'message': 'DNM test constraining openstackdocstheme for py2\n\nChange-Id: I1111d7bae065e3df58ac2e68883e5bbeff9dfd91\n'}, {'number': 2, 'created': '2020-02-22 09:42:08.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d372b58df9d128801e49da0cfc206b1e72a51cf3', 'message': 'DNM test constraining openstackdocstheme for py2\n\nChange-Id: I1111d7bae065e3df58ac2e68883e5bbeff9dfd91\n'}]",0,709283,d372b58df9d128801e49da0cfc206b1e72a51cf3,4,1,2,25023,,,0,"DNM test constraining openstackdocstheme for py2

Change-Id: I1111d7bae065e3df58ac2e68883e5bbeff9dfd91
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/83/709283/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,edbb2a8321c0abcfc892d502e59049f505a77fcf,,"openstackdocstheme>=1.30.0,<2.0.0;python_version=='2.7 # Apache-2.0 openstackdocstheme>=2.0.0;python_version>='3.4",openstackdocstheme>=1.20.0 # Apache-2.0,2,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I81b8ddced655bf6b06addcd26b63836e46fdf687,openstack/openstack-ansible-openstack_hosts,master,I81b8ddced655bf6b06addcd26b63836e46fdf687,DNM test patch,ABANDONED,2020-02-22 09:33:24.000000000,2020-02-22 22:24:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-22 09:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6a5c12b16c45b73a3694783125edc1720a06fed5', 'message': 'DNM test patch\n\nChange-Id: I81b8ddced655bf6b06addcd26b63836e46fdf687\n'}, {'number': 2, 'created': '2020-02-22 09:51:18.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/dcbd0072f67c52b8744c374664b99ab85eee43ba', 'message': 'DNM test patch\n\nChange-Id: I81b8ddced655bf6b06addcd26b63836e46fdf687\n'}]",0,709284,dcbd0072f67c52b8744c374664b99ab85eee43ba,4,1,2,25023,,,0,"DNM test patch

Change-Id: I81b8ddced655bf6b06addcd26b63836e46fdf687
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/84/709284/2 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,6a5c12b16c45b73a3694783125edc1720a06fed5,,,,0,0
openstack%2Fopenstack-ansible-tests~master~I5ebbb19b405013cebe407d2882ff65c1da5d2d72,openstack/openstack-ansible-tests,master,I5ebbb19b405013cebe407d2882ff65c1da5d2d72,DNM test constraining openstackdocstheme for py2,ABANDONED,2020-02-22 09:29:32.000000000,2020-02-22 22:24:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-22 09:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c63b646112dccdf184d1c2a328a38cd83a3c0bc9', 'message': 'DNM test constraining openstackdocstheme for py2\n\nSee https://review.opendev.org/#/c/709222/\n\nChange-Id: I5ebbb19b405013cebe407d2882ff65c1da5d2d72\n'}, {'number': 2, 'created': '2020-02-22 11:13:00.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e264c14b4d14c9ed0f8e410b8d30e6232af334aa', 'message': 'DNM test constraining openstackdocstheme for py2\n\nSee https://review.opendev.org/#/c/709222/\n\nChange-Id: I5ebbb19b405013cebe407d2882ff65c1da5d2d72\n'}]",0,709282,e264c14b4d14c9ed0f8e410b8d30e6232af334aa,6,2,2,25023,,,0,"DNM test constraining openstackdocstheme for py2

See https://review.opendev.org/#/c/709222/

Change-Id: I5ebbb19b405013cebe407d2882ff65c1da5d2d72
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/82/709282/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,c63b646112dccdf184d1c2a328a38cd83a3c0bc9,,"openstackdocstheme>=1.30.0,<2.0.0;python_version=='2.7 # Apache-2.0 openstackdocstheme>=2.0.0;python_version>='3.4",openstackdocstheme>=1.30.0 # Apache-2.0,2,1
openstack%2Fpython-cinderclient~stable%2Ftrain~I1502e88f1cd84d225b75c07313e4eb252cc2d645,openstack/python-cinderclient,stable/train,I1502e88f1cd84d225b75c07313e4eb252cc2d645,Fix: --poll inconsistency,MERGED,2020-02-21 07:37:28.000000000,2020-02-22 22:09:01.000000000,2020-02-22 22:07:41.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 07:37:28.000000000', 'files': ['cinderclient/v3/shell.py', 'cinderclient/tests/unit/v3/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8fa0882354c589b17d4502e04344ae00b75369d5', 'message': ""Fix: --poll inconsistency\n\nWhen we use `--poll` parameter with cinder create command, it waits\nfor the volume to become available but doesn't update the data\ndisplayed to the user.\nDue to this, there are inconsistency between several parameters\nin the output after 'poll' and 'cinder show' command.\nEg: cinder create 1 --image <image-id> --poll\nshows 'bootable' flag as false\nwhereas, cinder show <vol-id>\nshows 'bootable' as true\n\nChange-Id: I1502e88f1cd84d225b75c07313e4eb252cc2d645\nCloses-Bug: #1855224\n(cherry picked from commit ceddb3cfd033661f63d1245a45e0e197561be19c)\n""}]",0,709059,8fa0882354c589b17d4502e04344ae00b75369d5,8,3,1,27615,,,0,"Fix: --poll inconsistency

When we use `--poll` parameter with cinder create command, it waits
for the volume to become available but doesn't update the data
displayed to the user.
Due to this, there are inconsistency between several parameters
in the output after 'poll' and 'cinder show' command.
Eg: cinder create 1 --image <image-id> --poll
shows 'bootable' flag as false
whereas, cinder show <vol-id>
shows 'bootable' as true

Change-Id: I1502e88f1cd84d225b75c07313e4eb252cc2d645
Closes-Bug: #1855224
(cherry picked from commit ceddb3cfd033661f63d1245a45e0e197561be19c)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/59/709059/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v3/shell.py', 'cinderclient/tests/unit/v3/test_shell.py']",2,8fa0882354c589b17d4502e04344ae00b75369d5,bug/1855224-stable/train,," info.pop('links', None)",2,1
openstack%2Fkuryr-libnetwork~master~I3ac1bb740fca7062d802279729a51a17c4cced07,openstack/kuryr-libnetwork,master,I3ac1bb740fca7062d802279729a51a17c4cced07,[DO NOT MERGE] Test CI,ABANDONED,2020-02-22 19:51:52.000000000,2020-02-22 21:32:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-22 19:51:52.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/45aef048868ff132f2281d0f6f3e7cbf3ef51fee', 'message': '[DO NOT MERGE] Test CI\n\nChange-Id: I3ac1bb740fca7062d802279729a51a17c4cced07\n'}]",0,709318,45aef048868ff132f2281d0f6f3e7cbf3ef51fee,3,1,1,11536,,,0,"[DO NOT MERGE] Test CI

Change-Id: I3ac1bb740fca7062d802279729a51a17c4cced07
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/18/709318/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,45aef048868ff132f2281d0f6f3e7cbf3ef51fee,,# test,,1,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I58eb7e8d104df0a4c608e95d9a8664e40f2bf78e,openstack/tripleo-upgrade,stable/train,I58eb7e8d104df0a4c608e95d9a8664e40f2bf78e,Configure undercloud_enable_paunch when set,MERGED,2020-02-20 02:47:33.000000000,2020-02-22 21:10:39.000000000,2020-02-22 21:10:39.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-20 02:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8e51ac9cf80e92a4cb1b01efddd2e081506f2fe7', 'message': 'Configure undercloud_enable_paunch when set\n\nSetting undercloud_enable_paunch will help us in testing the Undercloud\nupgrades without Paunch.\n\nChange-Id: I58eb7e8d104df0a4c608e95d9a8664e40f2bf78e\n(cherry picked from commit 7a176a406d14fe202e0fbbeb0fc066db51ec50f7)\n'}, {'number': 2, 'created': '2020-02-20 15:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b5ff4e58e16d3c9c1f8f40838a32d4b99d136194', 'message': 'Configure undercloud_enable_paunch when set\n\nSetting undercloud_enable_paunch will help us in testing the Undercloud\nupgrades without Paunch.\n\nDepends-On: https://review.opendev.org/#/c/708889\n\nChange-Id: I58eb7e8d104df0a4c608e95d9a8664e40f2bf78e\n(cherry picked from commit 7a176a406d14fe202e0fbbeb0fc066db51ec50f7)\n'}, {'number': 3, 'created': '2020-02-21 13:35:09.000000000', 'files': ['tasks/upgrade/configure_uc_containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3c8e6a2c1e892f101c01516d4ad48dd37d267a3e', 'message': 'Configure undercloud_enable_paunch when set\n\nSetting undercloud_enable_paunch will help us in testing the Undercloud\nupgrades without Paunch.\n\nDepends-On: https://review.opendev.org/#/c/709138\n\nChange-Id: I58eb7e8d104df0a4c608e95d9a8664e40f2bf78e\n(cherry picked from commit 7a176a406d14fe202e0fbbeb0fc066db51ec50f7)\n'}]",0,708790,3c8e6a2c1e892f101c01516d4ad48dd37d267a3e,13,4,3,3153,,,0,"Configure undercloud_enable_paunch when set

Setting undercloud_enable_paunch will help us in testing the Undercloud
upgrades without Paunch.

Depends-On: https://review.opendev.org/#/c/709138

Change-Id: I58eb7e8d104df0a4c608e95d9a8664e40f2bf78e
(cherry picked from commit 7a176a406d14fe202e0fbbeb0fc066db51ec50f7)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/90/708790/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/configure_uc_containers.yml'],1,8e51ac9cf80e92a4cb1b01efddd2e081506f2fe7,undercloud/paunch-stable/train,"- name: set undercloud_enable_paunch for undercloud ini_file: path: ""{{ undercloud_conf }}"" section: DEFAULT option: undercloud_enable_paunch value: ""{{ undercloud_enable_paunch }}"" when: undercloud_enable_paunch is defined ",,8,0
openstack%2Fkolla-ansible~stable%2Fstein~I4050c243f05571bbebab07b08c101e61879cda67,openstack/kolla-ansible,stable/stein,I4050c243f05571bbebab07b08c101e61879cda67,Openvswitch: some ovs tools require ovs daemons pidfiles,MERGED,2019-10-31 22:11:36.000000000,2020-02-22 20:47:02.000000000,2019-11-07 10:28:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28374}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-10-31 22:11:36.000000000', 'files': ['ansible/roles/openvswitch/templates/start-ovsdb-server.j2', 'ansible/roles/openvswitch/templates/start-ovs.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0f17688ac638fabef4942e78e5eed09e8d1c48db', 'message': 'Openvswitch: some ovs tools require ovs daemons pidfiles\n\nChange-Id: I4050c243f05571bbebab07b08c101e61879cda67\nCloses-Bug: 1848363\n(cherry picked from commit 492940be7b2a89b18975afa56e04a8beb4019ae2)\n'}]",0,692458,0f17688ac638fabef4942e78e5eed09e8d1c48db,13,5,1,30523,,,0,"Openvswitch: some ovs tools require ovs daemons pidfiles

Change-Id: I4050c243f05571bbebab07b08c101e61879cda67
Closes-Bug: 1848363
(cherry picked from commit 492940be7b2a89b18975afa56e04a8beb4019ae2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/692458/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/openvswitch/templates/start-ovsdb-server.j2', 'ansible/roles/openvswitch/templates/start-ovs.j2']",2,0f17688ac638fabef4942e78e5eed09e8d1c48db,685964-stable/stein,/usr/sbin/ovs-vswitchd unix:/run/openvswitch/db.sock -vconsole:emer -vsyslog:err -vfile:info --mlockall --log-file=/var/log/kolla/openvswitch/ovs-vswitchd.log --pidfile,/usr/sbin/ovs-vswitchd unix:/run/openvswitch/db.sock -vconsole:emer -vsyslog:err -vfile:info --mlockall --log-file=/var/log/kolla/openvswitch/ovs-vswitchd.log,2,2
openstack%2Ftrove~master~I09e6f00434170bbe30b98d0d95f67dab0723006d,openstack/trove,master,I09e6f00434170bbe30b98d0d95f67dab0723006d,Update hacking,ABANDONED,2020-02-22 16:52:57.000000000,2020-02-22 18:58:26.000000000,,[],"[{'number': 1, 'created': '2020-02-22 16:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/86bae194d1dcf64e68f7df6202c4e6a5a4ef6fcc', 'message': 'Update hacking\n\nUpdate hacking version for Python 3 support.\n\nChange-Id: I09e6f00434170bbe30b98d0d95f67dab0723006d\n'}, {'number': 2, 'created': '2020-02-22 17:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b216b50d9875f6a81e020c2660166860b5f426c2', 'message': 'Update hacking\n\nUpdate hacking version for Python 3 support.\n\nChange-Id: I09e6f00434170bbe30b98d0d95f67dab0723006d\n'}, {'number': 3, 'created': '2020-02-22 18:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/88e01b0f6e7d65917f8b59476844c15191efca2c', 'message': 'Update hacking\n\nUpdate hacking version for Python 3 support.\n\nChange-Id: I09e6f00434170bbe30b98d0d95f67dab0723006d\n'}, {'number': 4, 'created': '2020-02-22 18:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b9e2628d44eb07da18c0dcf4fadf4f586cffdacf', 'message': 'Update hacking\n\nUpdate hacking version for Python 3 support.\n\nChange-Id: I09e6f00434170bbe30b98d0d95f67dab0723006d\n'}, {'number': 5, 'created': '2020-02-22 18:41:42.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/2f742e455854ea2eea18a528f0719647914aae99', 'message': 'Update hacking\n\nUpdate hacking version for Python 3 support.\n\nChange-Id: I09e6f00434170bbe30b98d0d95f67dab0723006d\n'}]",0,709305,2f742e455854ea2eea18a528f0719647914aae99,6,0,5,6547,,,0,"Update hacking

Update hacking version for Python 3 support.

Change-Id: I09e6f00434170bbe30b98d0d95f67dab0723006d
",git fetch https://review.opendev.org/openstack/trove refs/changes/05/709305/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,86bae194d1dcf64e68f7df6202c4e6a5a4ef6fcc,cleanup,"hacking!=2.0.0,<2.1.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fdevstack-plugin-container~master~Ica8d5f91ae77d1d6599bfadc4031552016ad8953,openstack/devstack-plugin-container,master,Ica8d5f91ae77d1d6599bfadc4031552016ad8953,Support enabling CRI for containerd,MERGED,2020-02-02 18:24:45.000000000,2020-02-22 17:08:35.000000000,2020-02-22 17:08:35.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2020-02-02 18:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/cf29516b4134dbc5e4d45e6e8b238dbd1ca0cf3d', 'message': '[WIP] Support enabling CRI for containerd\n\nInstalling docker will install the CRI plugin for containerd.\nThis commit support enabling the CRI-containerd plugin.\nBy default, this is disabled.\n\nChange-Id: Ica8d5f91ae77d1d6599bfadc4031552016ad8953\n'}, {'number': 2, 'created': '2020-02-02 19:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/17833b92f8ddcefe6d21252d886567d249a0506d', 'message': '[WIP] Support enabling CRI for containerd\n\nInstalling docker will install the CRI plugin for containerd.\nThis commit support enabling the CRI-containerd plugin.\nBy default, this is disabled.\n\nChange-Id: Ica8d5f91ae77d1d6599bfadc4031552016ad8953\n'}, {'number': 3, 'created': '2020-02-02 19:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/377ac3457093a26c880ad713160d8df9e2952fcd', 'message': '[WIP] Support enabling CRI for containerd\n\nInstalling docker will install the CRI plugin for containerd.\nThis commit support enabling the CRI-containerd plugin.\nBy default, this is disabled.\n\nChange-Id: Ica8d5f91ae77d1d6599bfadc4031552016ad8953\n'}, {'number': 4, 'created': '2020-02-02 19:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/a3cc01ccb5f0586dcbef3ed9541a65c2992fd919', 'message': '[WIP] Support enabling CRI for containerd\n\nInstalling docker will install the CRI plugin for containerd.\nThis commit support enabling the CRI-containerd plugin.\nBy default, this is disabled.\n\nChange-Id: Ica8d5f91ae77d1d6599bfadc4031552016ad8953\n'}, {'number': 5, 'created': '2020-02-08 17:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/d112f0af641ad0e30c8cdeec27bba0d382e9bf14', 'message': '[WIP] Support enabling CRI for containerd\n\nInstalling docker will install the CRI plugin for containerd.\nThis commit support enabling the CRI-containerd plugin.\nBy default, this is disabled.\n\nChange-Id: Ica8d5f91ae77d1d6599bfadc4031552016ad8953\n'}, {'number': 6, 'created': '2020-02-08 21:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/81964f41a181b92fb64afefea096ec9a7223e193', 'message': 'Support enabling CRI for containerd\n\nInstalling docker will install the CRI plugin for containerd.\nThis commit support enabling the CRI-containerd plugin.\nBy default, this is disabled.\n\nChange-Id: Ica8d5f91ae77d1d6599bfadc4031552016ad8953\n'}, {'number': 7, 'created': '2020-02-09 00:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/7d072e94e9e61a370ac86ba6c374b25f49d12194', 'message': 'Support enabling CRI for containerd\n\nInstalling docker will install the CRI plugin for containerd.\nThis commit support enabling the CRI-containerd plugin.\nBy default, this is disabled.\n\nChange-Id: Ica8d5f91ae77d1d6599bfadc4031552016ad8953\n'}, {'number': 8, 'created': '2020-02-09 19:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/8e8bcd53c2e5a7161f30876fc74f24372a962231', 'message': 'Support enabling CRI for containerd\n\nInstalling docker will install the CRI plugin for containerd.\nThis commit support enabling the CRI-containerd plugin.\nBy default, this is disabled.\n\nChange-Id: Ica8d5f91ae77d1d6599bfadc4031552016ad8953\n'}, {'number': 9, 'created': '2020-02-10 03:31:15.000000000', 'files': ['devstack/lib/cni/plugins', 'devstack/lib/tools/crictl', 'devstack/lib/docker', 'etc/cni/net.d/10-bridge.conf', 'etc/cni/net.d/99-loopback.conf', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/d80ff940e1e54678c45f84fdf1fb745599101ff3', 'message': 'Support enabling CRI for containerd\n\nInstalling docker will install the CRI plugin for containerd.\nThis commit support enabling the CRI-containerd plugin.\nBy default, this is disabled.\n\nChange-Id: Ica8d5f91ae77d1d6599bfadc4031552016ad8953\n'}]",0,705361,d80ff940e1e54678c45f84fdf1fb745599101ff3,23,5,9,11536,,,0,"Support enabling CRI for containerd

Installing docker will install the CRI plugin for containerd.
This commit support enabling the CRI-containerd plugin.
By default, this is disabled.

Change-Id: Ica8d5f91ae77d1d6599bfadc4031552016ad8953
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/61/705361/8 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/docker', 'devstack/settings']",2,cf29516b4134dbc5e4d45e6e8b238dbd1ca0cf3d,,"ENABLE_CONTAINERD_CRI=${ENABLE_CONTAINERD_CRI:-false} # cni plugins defaults CNI_PLUGINS_VERSION=${CNI_PLUGINS_VERSION:-v0.7.1} CNI_PLUGINS_SHA256_AMD64=${CNI_PLUGINS_SHA256_AMD64:-""6ecc5c7dbb8e4296b0d0d017e5440618e19605b9aa3b146a2c29af492f299dc7""} CNI_PLUGINS_SHA256_ARM64=${CNI_PLUGINS_SHA256_ARM64:-""258080b94bfc54bd54fd0ea7494efc31806aa4b2836ba3f2d189e0fc16fab0ef""} CNI_PLUGINS_SHA256_PPC64=${CNI_PLUGINS_SHA256_PPC64:-""a515c45a52e752249bb0e9feac1654c5d38974df6a36148778f6eeab9826f706""} CNI_PLUGINS_SHA256_S390X=${CNI_PLUGINS_SHA256_S390X:-""24e31be69a012395f1026cd37d125f5f81001cfc36434d8f7a17b36bc5f1e6ad""} # Make sure CNI plugins downloads the correct architecture if is_arch ""x86_64""; then CNI_PLUGINS_ARCH=""amd64"" CNI_PLUGINS_SHA256=${CNI_PLUGINS_SHA256:-$CNI_PLUGINS_SHA256_AMD64} elif is_arch ""aarch64""; then CNI_PLUGINS_ARCH=""arm64"" CNI_PLUGINS_SHA256=${CNI_PLUGINS_SHA256:-$CNI_PLUGINS_SHA256_ARM64} elif is_arch ""ppc64le""; then CNI_PLUGINS_ARCH=""ppc64le"" CNI_PLUGINS_SHA256=${CNI_PLUGINS_SHA256:-$CNI_PLUGINS_SHA256_PPC64} elif is_arch ""s390x""; then CNI_PLUGINS_ARCH=""s390x"" CNI_PLUGINS_SHA256=${CNI_PLUGINS_SHA256:-$CNI_PLUGINS_SHA256_S390X} fi CNI_PLUGINS_DOWNLOAD_URL=${CNI_PLUGINS_DOWNLOAD_URL:-https://github.com/containernetworking/plugins/releases/download} CNI_PLUGINS_DOWNLOAD_FILE=cni-plugins-$CNI_PLUGINS_ARCH-$CNI_PLUGINS_VERSION.tgz CNI_PLUGINS_DOWNLOAD_LOCATION=$CNI_PLUGINS_DOWNLOAD_URL/$CNI_PLUGINS_VERSION/$CNI_PLUGINS_DOWNLOAD_FILE",,59,0
openstack%2Ftooz~master~I0397f128bd4cb8d5fec70b17fc3b25ff62c19a41,openstack/tooz,master,I0397f128bd4cb8d5fec70b17fc3b25ff62c19a41,Herve - anything else needed here to merge this or do we just wait for you guys to merge it?,ABANDONED,2020-02-22 15:33:11.000000000,2020-02-22 15:33:42.000000000,,[],"[{'number': 1, 'created': '2020-02-22 15:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/8bef3db770b1594c52d406af68450a8bbd843481', 'message': 'Herve - anything else needed here to merge this or do we just wait for you guys to merge it?\n\nChange-Id: I0397f128bd4cb8d5fec70b17fc3b25ff62c19a41\n'}]",0,709296,8bef3db770b1594c52d406af68450a8bbd843481,2,0,1,31615,,,0,"Herve - anything else needed here to merge this or do we just wait for you guys to merge it?

Change-Id: I0397f128bd4cb8d5fec70b17fc3b25ff62c19a41
",git fetch https://review.opendev.org/openstack/tooz refs/changes/96/709296/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,8bef3db770b1594c52d406af68450a8bbd843481,bug/1752225,,,0,0
openstack%2Fneutron-tempest-plugin~master~I8d70fd4ba1835280abd26d5ba0777a44d80e591b,openstack/neutron-tempest-plugin,master,I8d70fd4ba1835280abd26d5ba0777a44d80e591b,Add port-range remote_group security group testcase,MERGED,2019-09-16 14:09:08.000000000,2020-02-22 13:31:21.000000000,2020-02-22 13:31:21.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-16 14:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d72f5c03d0b77477a73479199eba6160f5e87225', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 2, 'created': '2019-09-17 18:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/44e73fd670e3ee3c5eb3c6439ac1ceeaa5990c48', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 3, 'created': '2019-09-18 06:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/87c647c08aa9a18e9520bfbbeafac643af3170f5', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 4, 'created': '2019-09-18 15:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bf8d487369f1e4995dc7d94b84592f209b3c9a44', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 5, 'created': '2019-09-18 15:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bab68d8c284fd8bb9b095f753aa84dc53967635c', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 6, 'created': '2019-09-19 10:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a2655a77782593324d3a8214cbf2c3a00c8a12c3', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 7, 'created': '2019-09-20 11:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ebeb8aceafae213403135c62790f2126d3ca5f4f', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 8, 'created': '2019-11-13 14:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/985447d18b83c1e301b3d1c26a730e781ba65fc0', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 9, 'created': '2019-12-09 12:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6ccd16c822a0e7df60d5e9e9938e1495eff2d12a', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nDepends-On: https://review.opendev.org/#/c/698001/\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 10, 'created': '2019-12-10 11:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5e6bbac539ab1539266c847f716019b09a5bfe84', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nDepends-On: Ia5d8af393a84bb33ef35226b3744487434412ea3\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 11, 'created': '2019-12-16 15:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dc83e1cc75b5fb1da9ee588d71b267015a5d343c', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nDepends-On: Ia5d8af393a84bb33ef35226b3744487434412ea3\nDepends-On: Id56b3dec76ce130bae58e590a859e576f4ab2f64\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 12, 'created': '2019-12-17 08:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/90ebdfb6802107eb9ee7f50f1cd87da67a9dfaf6', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nDepends-On: Ia5d8af393a84bb33ef35226b3744487434412ea3\nDepends-On: Id56b3dec76ce130bae58e590a859e576f4ab2f64\nDepends-On: If5a363cb9582b44e780165d537cebd217962db4c\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 13, 'created': '2019-12-19 11:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0eb183729d8c82cde85c1e0709d972102bdee433', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nDepends-On: Ia5d8af393a84bb33ef35226b3744487434412ea3\nDepends-On: Id56b3dec76ce130bae58e590a859e576f4ab2f64\nDepends-On: If5a363cb9582b44e780165d537cebd217962db4c\nDepends-On: Iccc47d61ccd3ce57cc1cf218217ec7a84fdc8203\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 14, 'created': '2020-01-08 08:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9c5a10b238ca8ff23ae072d1ffc561f741feb6bc', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\nDepends-On: Ia5d8af393a84bb33ef35226b3744487434412ea3\nDepends-On: Id56b3dec76ce130bae58e590a859e576f4ab2f64\nDepends-On: If5a363cb9582b44e780165d537cebd217962db4c\nDepends-On: Iccc47d61ccd3ce57cc1cf218217ec7a84fdc8203\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 15, 'created': '2020-02-12 12:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ae56800b4cbb696c02af7b69a6fea06833e326e6', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}, {'number': 16, 'created': '2020-02-12 12:50:32.000000000', 'files': ['neutron_tempest_plugin/scenario/test_qos.py', 'neutron_tempest_plugin/common/utils.py', 'neutron_tempest_plugin/scenario/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/328edc882a3debf4f1b39687dfb559d7c5c385f3', 'message': 'Add port-range remote_group security group testcase\n\nThis patch adds tests for checking remote security groups\nwith port-ranges.\n\n\nChange-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b\nRelated-Bug: #1844116\n'}]",13,682369,328edc882a3debf4f1b39687dfb559d7c5c385f3,96,6,16,24791,,,0,"Add port-range remote_group security group testcase

This patch adds tests for checking remote security groups
with port-ranges.


Change-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b
Related-Bug: #1844116
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/69/682369/16 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_security_groups.py'],1,d72f5c03d0b77477a73479199eba6160f5e87225,bug/1708092,"from tempest.lib import exceptions @staticmethod def _kill_nc_process(ssh_client): cmd = ""killall -9 -q nc"" try: ssh_client.exec_command(cmd) except exceptions.SSHExecCommandFailed: pass @staticmethod def _spawn_http_server(ssh_client, port): cmd = (""(echo -e 'HTTP/1.1 200 OK\r\n'; echo 'ok') | sudo nc -lp %d &"" % port) ssh_client.exec_command(cmd) def _test_http_server(self, ssh_client, url, should_pass=True): cmd = ""curl %s --retry 3 --connect-timeout 2"" % url try: ret = ssh_client.exec_command(cmd) if should_pass: self.assertIn('ok', ret) return self.assertNotIn('ok', ret) except Exception as e: if not should_pass: return raise e server['server']['port'] = port @decorators.idempotent_id('f07d0159-8f9e-4faa-87f5-a869ab0ad489') def test_multiple_ports_portrange_remote(self): # create a new sec group, to be used as remote remote_group_name = data_utils.rand_name('remote_secgrp') remote_group = self.os_primary.network_client.create_security_group( name=remote_group_name) # Add second security group where rules will be configured to # point first security group as a remote one. test_group_name = data_utils.rand_name('test_secgrp') test_group = self.os_primary.network_client.create_security_group( name=test_group_name) for secgroup in (remote_group, test_group): # add cleanups self.security_groups.append(secgroup['security_group']) # configure sec groups to support SSH connectivity self.create_loginable_secgroup_rule( secgroup_id=secgroup['security_group']['id']) # spawn two instances in remote group remote_server_ssh_clients, remote_fips, remote_servers = ( self.create_vm_testing_sec_grp( security_groups=[{'name': remote_group_name}])) # verify SSH functionality for i in range(2): self.check_connectivity(remote_fips[i]['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key']) # Add test server test_server_ssh_client, test_fip, test_server = ( self.create_vm_testing_sec_grp( num_servers=1, security_groups=[{'name': test_group_name}])) # Since we have only 1 test server re-write the variables test_server_ssh_client = test_server_ssh_client[0] test_fip = test_fip[0] test_server = test_server[0] test_ip = test_server['server']['port']['fixed_ips'][0]['ip_address'] # verify SSH functionality self.check_connectivity(test_fip['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key']) # test that connections are failing for port in range(80, 84): self._kill_nc_process(test_server_ssh_client) self._spawn_http_server(test_server_ssh_client, port=port) url = 'http://%s:%d' % (test_ip, port) self._test_http_server( remote_server_ssh_clients[0], url, should_pass=False) # add two remote-group rules with port-ranges rule_list = [{'protocol': constants.PROTO_NUM_TCP, 'direction': constants.INGRESS_DIRECTION, 'port_range_min': '80', 'port_range_max': '81', 'remote_group_id': remote_group['security_group']['id']}, {'protocol': constants.PROTO_NUM_TCP, 'direction': constants.INGRESS_DIRECTION, 'port_range_min': '82', 'port_range_max': '83', 'remote_group_id': remote_group['security_group']['id']}] self.create_secgroup_rules( rule_list, secgroup_id=test_group['security_group']['id']) # verify that conections work for port in range(80, 84): self._kill_nc_process(test_server_ssh_client) self._spawn_http_server(test_server_ssh_client, port=port) url = 'http://%s:%d' % (test_ip, port) self._test_http_server(remote_server_ssh_clients[0], url)",,102,0
openstack%2Frpm-packaging~master~Iea0aa5fd264896d41de03d1dfdfe0009048ded8a,openstack/rpm-packaging,master,Iea0aa5fd264896d41de03d1dfdfe0009048ded8a,update constraint for os-apply-config to new release 11.1.0,MERGED,2020-02-19 02:40:18.000000000,2020-02-22 12:03:42.000000000,2020-02-22 12:03:42.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-19 02:40:18.000000000', 'files': ['openstack/os-apply-config/os-apply-config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f45db15737c36a6f5991aec397cb2cdcb9d647bc', 'message': 'update constraint for os-apply-config to new release 11.1.0\n\nDepends-on:I3d9beed58bdf691bad524b4a6fa77df2769773c9\nChange-Id: Iea0aa5fd264896d41de03d1dfdfe0009048ded8a\n'}]",0,708549,f45db15737c36a6f5991aec397cb2cdcb9d647bc,10,6,1,26571,,,0,"update constraint for os-apply-config to new release 11.1.0

Depends-on:I3d9beed58bdf691bad524b4a6fa77df2769773c9
Change-Id: Iea0aa5fd264896d41de03d1dfdfe0009048ded8a
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/49/708549/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-apply-config/os-apply-config.spec.j2'],1,f45db15737c36a6f5991aec397cb2cdcb9d647bc,os-apply-config,{% set upstream_version = upstream_version('11.1.0') %},{% set upstream_version = upstream_version('11.0.0') %},1,1
openstack%2Fneutron~stable%2Fstein~I429edb3d2dea5fa97441909b4d2c776f97f0516f,openstack/neutron,stable/stein,I429edb3d2dea5fa97441909b4d2c776f97f0516f,Check SG members instead of ports to skip flow update,MERGED,2020-02-18 18:47:47.000000000,2020-02-22 11:59:42.000000000,2020-02-22 11:58:02.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28159}]","[{'number': 1, 'created': '2020-02-18 18:47:47.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'releasenotes/notes/fix-remote-security-group-no-port-on-host-9177e66d4b16e90c.yaml', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4193c6ca0e0165a2bcc7a11eee775df15019e755', 'message': 'Check SG members instead of ports to skip flow update\n\nSecurity group can have a state of empty ports but non-empty members. So\nwe need skip the flow update only when members dict is empty.\n\nChange-Id: I429edb3d2dea5fa97441909b4d2c776f97f0516f\nCloses-Bug: #1862703\nRelated-Bug: #1854131\n(cherry picked from commit 6dbba8d5ce18805a6f104782510c055017267435)\n'}]",0,708488,4193c6ca0e0165a2bcc7a11eee775df15019e755,26,5,1,28159,,,0,"Check SG members instead of ports to skip flow update

Security group can have a state of empty ports but non-empty members. So
we need skip the flow update only when members dict is empty.

Change-Id: I429edb3d2dea5fa97441909b4d2c776f97f0516f
Closes-Bug: #1862703
Related-Bug: #1854131
(cherry picked from commit 6dbba8d5ce18805a6f104782510c055017267435)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/708488/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'releasenotes/notes/fix-remote-security-group-no-port-on-host-9177e66d4b16e90c.yaml', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,4193c6ca0e0165a2bcc7a11eee775df15019e755,bug/1862703-stable/stein," def test_update_flows_for_vlan_no_members(self): remote_group.members = {} def test_update_flows_for_vlan_no_ports_but_members(self): remote_group = self.driver.sg_port_map.get_sg.return_value remote_group.ports = set() remote_group.members = {constants.IPv4: ['10.22.3.4']} remote_group.get_ethertype_filtered_addresses.return_value = [ '10.22.3.4'] with mock.patch.object(self.manager.conj_id_map, 'get_conj_id') as get_conj_id_mock: get_conj_id_mock.return_value = self.conj_id self.manager.add(self.vlan_tag, 'sg', 'remote_id', constants.INGRESS_DIRECTION, constants.IPv4, 0) self.manager.update_flows_for_vlan(self.vlan_tag) self.assertTrue(remote_group.get_ethertype_filtered_addresses.called) self.assertTrue(self.driver._add_flow.called) ", def test_update_flows_for_vlan_no_ports(self): remote_group.ports = {},26,3
openstack%2Frpm-packaging~master~I9f85e897bff5e9f77bf366f60e1ef5aa8c1c25ed,openstack/rpm-packaging,master,I9f85e897bff5e9f77bf366f60e1ef5aa8c1c25ed,designate: update dependencies (edgegrid-python is now needed),MERGED,2020-02-14 15:20:40.000000000,2020-02-22 11:56:19.000000000,2020-02-22 11:56:18.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-14 15:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6289d050b84d34c9816e6afcc1e7ba9a0a919e93', 'message': 'designate: update dependencies (edgegrid-python is now needed)\n\nChange-Id: I9f85e897bff5e9f77bf366f60e1ef5aa8c1c25ed\n'}, {'number': 2, 'created': '2020-02-20 13:37:35.000000000', 'files': ['openstack/designate/designate.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/04d1f9a778fe616581f6521ca79d9af29fd2c619', 'message': 'designate: update dependencies (edgegrid-python is now needed)\n\nChange-Id: I9f85e897bff5e9f77bf366f60e1ef5aa8c1c25ed\n'}]",0,707858,04d1f9a778fe616581f6521ca79d9af29fd2c619,26,7,2,6593,,,0,"designate: update dependencies (edgegrid-python is now needed)

Change-Id: I9f85e897bff5e9f77bf366f60e1ef5aa8c1c25ed
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/58/707858/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/designate/designate.spec.j2'],1,6289d050b84d34c9816e6afcc1e7ba9a0a919e93,,BuildRequires: {{ py3('edgegrid-python') }}Requires: {{ py3('edgegrid-python') }},,2,0
openstack%2Fkolla~master~Ic459561ab6ab8c62993c044c7a82d887839da289,openstack/kolla,master,Ic459561ab6ab8c62993c044c7a82d887839da289,Get rid of Python 2 support,MERGED,2019-10-25 13:54:33.000000000,2020-02-22 07:35:24.000000000,2020-02-19 18:01:39.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 13861}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-25 13:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d0a5092ec3c47db2b23fff31f24911b0e7e47036', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 2, 'created': '2019-10-25 14:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/21aa16a32cd3e0d241d868c312d9a604c881a452', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 3, 'created': '2019-10-26 17:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4a58f31205928c72ab953f451e39e0afcadedae1', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 4, 'created': '2019-10-26 17:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/940fa03962297db3968a1c27b00fbb507e602709', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth \nby the OpenStack TC [1], OpenStack Train (in our case, \nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 5, 'created': '2019-10-26 17:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fc7652f25ac1a278d06af61dd230a1b84e99951c', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 6, 'created': '2019-10-26 18:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/07dad7de3948d82f24ffb8ae17fe39125f9225b1', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nDepends-On: https://review.opendev.org/691486\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 7, 'created': '2019-10-28 09:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a097cea052e333ee67e9b90190901543f68f73d1', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nDepends-On: https://review.opendev.org/691486\nDepends-On: https://review.opendev.org/691631\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 8, 'created': '2019-11-01 13:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/75bc2b9477fcb5d3df3b4ccf21034a4b87b9bec8', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nDepends-On: https://review.opendev.org/691486\nDepends-On: https://review.opendev.org/691631\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 9, 'created': '2019-11-01 14:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/50bed347015df503dacf29d51b832f2256cdcc00', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nDepends-On: https://review.opendev.org/691486\nDepends-On: https://review.opendev.org/691631\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 10, 'created': '2019-11-20 10:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a79a2f90c862f00f66943591dbbb52fca2c96039', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nDepends-On: https://review.opendev.org/691486\nDepends-On: https://review.opendev.org/691631\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 11, 'created': '2019-11-21 11:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7ac2c8ea4557025098ce52e9e5c489aee2e6896', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nImplements: blueprint drop-py2-support\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 12, 'created': '2019-11-25 10:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b7949fc0bf3939e15a2da4cbec4e834228eaaac9', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nImplements: blueprint drop-py2-support\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 13, 'created': '2019-12-16 09:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/491e078656f095597f1388158f278b487e315835', 'message': 'Get rid of Python 2 support\n\n2020 is coming, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nImplements: blueprint drop-py2-support\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 14, 'created': '2020-01-02 09:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b599c8d92f880ff0a88981a544b9ec48c1a3a414', 'message': 'Get rid of Python 2 support\n\n2020 came, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nRelated bug: https://bugs.launchpad.net/tripleo/+bug/1856678\n\nImplements: blueprint drop-py2-support\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 15, 'created': '2020-01-02 09:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cf1566308c09273fdcfb6fc7bf472ad301ab3769', 'message': 'Get rid of Python 2 support\n\n2020 came, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nRelated bug: https://bugs.launchpad.net/tripleo/+bug/1856678\n\nDepends-on: https://review.opendev.org/#/c/699555/\n\nImplements: blueprint drop-py2-support\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 16, 'created': '2020-01-08 09:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/78381154d50124c27594195b3e324cb29c224000', 'message': 'Get rid of Python 2 support\n\n2020 came, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nRelated bug: https://bugs.launchpad.net/tripleo/+bug/1856678\n\nMerging depends on TripleO team - once they move CI job to CentOS 8 we\ncan merge.\n\nImplements: blueprint drop-py2-support\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 17, 'created': '2020-01-30 08:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7e6e08ad1b90eb6fef41ebc3068e13bec5d15c66', 'message': 'Get rid of Python 2 support\n\n2020 came, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nRelated bug: https://bugs.launchpad.net/tripleo/+bug/1856678\n\nMerging depends on TripleO team - once they move CI job to CentOS 8 we\ncan merge.\n\nImplements: blueprint drop-py2-support\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}, {'number': 18, 'created': '2020-02-17 18:01:41.000000000', 'files': ['kolla/image/build.py', 'requirements.txt', 'kolla/common/task.py', 'releasenotes/notes/drop-py27-a16f4712ac89e3a9.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ceae02f09d1c4e67013485c7323c11f8655c9c1e', 'message': 'Get rid of Python 2 support\n\n2020 came, everyone should be using Python 3 now.\n\nAs per the official python support timeline set forth\nby the OpenStack TC [1], OpenStack Train (in our case,\nkolla 9.x) is the last release that will support python2.7.\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nRelated bug: https://bugs.launchpad.net/tripleo/+bug/1856678\n\nMerging depends on TripleO team - once they move CI job to CentOS 8 we\ncan merge.\n\nImplements: blueprint drop-py2-support\n\nChange-Id: Ic459561ab6ab8c62993c044c7a82d887839da289\n'}]",6,691316,ceae02f09d1c4e67013485c7323c11f8655c9c1e,88,12,18,24072,,,0,"Get rid of Python 2 support

2020 came, everyone should be using Python 3 now.

As per the official python support timeline set forth
by the OpenStack TC [1], OpenStack Train (in our case,
kolla 9.x) is the last release that will support python2.7.

[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html

Related bug: https://bugs.launchpad.net/tripleo/+bug/1856678

Merging depends on TripleO team - once they move CI job to CentOS 8 we
can merge.

Implements: blueprint drop-py2-support

Change-Id: Ic459561ab6ab8c62993c044c7a82d887839da289
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/691316/16 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'requirements.txt', 'kolla/common/task.py']",3,d0a5092ec3c47db2b23fff31f24911b0e7e47036,drop-py27-support," class Task(object, metaclass=abc.ABCMeta):",import six @six.add_metaclass(abc.ABCMeta) class Task(object):,19,26
openstack%2Fheat~master~I6308992451c8d65fb7c1b99c73b801bbf6152999,openstack/heat,master,I6308992451c8d65fb7c1b99c73b801bbf6152999,Migrate doc path to contributor,MERGED,2019-03-28 17:40:03.000000000,2020-02-22 07:11:59.000000000,2020-02-22 07:09:53.000000000,"[{'_account_id': 4257}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-28 17:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/56eeed95eef82517d6b3e2d92df03dbf74e2cef6', 'message': 'Migrate doc path contributing to contributor\n\nChange-Id: I6308992451c8d65fb7c1b99c73b801bbf6152999\n'}, {'number': 2, 'created': '2019-04-28 20:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4b5d835548ab0282dfb12b816c87cd67e8d367b9', 'message': 'Migrate doc path contributing to contributor\n\nChange-Id: I6308992451c8d65fb7c1b99c73b801bbf6152999\n'}, {'number': 3, 'created': '2019-04-28 20:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/edb7d60b4556ef5eaddd60bf99b9fe2b47952482', 'message': 'Migrate doc path contributing to contributor\n\nChange-Id: I6308992451c8d65fb7c1b99c73b801bbf6152999\n'}, {'number': 4, 'created': '2019-04-28 22:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/70a9cef50c9dc8a1464d65dc92a66612cd545813', 'message': 'Migrate doc path contributing to contributor\n\nChange-Id: I6308992451c8d65fb7c1b99c73b801bbf6152999\n'}, {'number': 5, 'created': '2019-09-27 07:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/25f3878cdce142420967040ffc19f2cabeaf034e', 'message': 'Migrate doc path to contributor\n\nMigrate document contributing and developing_guides to\ncontributor.\n\nChange-Id: I6308992451c8d65fb7c1b99c73b801bbf6152999\n'}, {'number': 6, 'created': '2019-09-27 08:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b89da5add91c48bbbe14bde6ae76eb4caf7e6b06', 'message': 'Migrate doc path to contributor\n\nMigrate document contributing and developing_guides to\ncontributor.\n\nChange-Id: I6308992451c8d65fb7c1b99c73b801bbf6152999\n'}, {'number': 7, 'created': '2020-01-22 02:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/84954b6e98eeece89b2435e87b26bc94a6a5b57a', 'message': 'Migrate doc path to contributor\n\nMigrate document contributing and developing_guides to\ncontributor.\n\nChange-Id: I6308992451c8d65fb7c1b99c73b801bbf6152999\n'}, {'number': 8, 'created': '2020-02-22 06:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8aff93dd0d63ae8fbde64476cafc2e88b3c5f336', 'message': 'Migrate doc path to contributor\n\nMigrate document contributing and developing_guides to\ncontributor.\n\nChange-Id: I6308992451c8d65fb7c1b99c73b801bbf6152999\n'}, {'number': 9, 'created': '2020-02-22 06:17:12.000000000', 'files': ['doc/source/contributor/schedulerhints.rst', 'doc/source/contributor/blueprints.rst', 'doc/source/contributor/rally_on_gates.rst', 'doc/source/contributor/pluginguide.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/contributing/index.rst', 'doc/source/contributor/gmr.rst', 'doc/source/contributor/supportstatus.rst', 'doc/source/_extra/.htaccess', 'doc/source/developing_guides/index.rst', 'doc/source/contributor/architecture.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/c739be7645e91715eba4fdc1e6c59366fa1af36a', 'message': 'Migrate doc path to contributor\n\nMigrate document contributing and developing_guides to\ncontributor.\n\nChange-Id: I6308992451c8d65fb7c1b99c73b801bbf6152999\n'}]",7,648478,c739be7645e91715eba4fdc1e6c59366fa1af36a,28,4,9,12404,,,0,"Migrate doc path to contributor

Migrate document contributing and developing_guides to
contributor.

Change-Id: I6308992451c8d65fb7c1b99c73b801bbf6152999
",git fetch https://review.opendev.org/openstack/heat refs/changes/78/648478/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/contributor/blueprints.rst', 'doc/source/contributor/index.rst', 'doc/source/_extra/.htaccess', 'doc/source/developing_guides/index.rst']",5,56eeed95eef82517d6b3e2d92df03dbf74e2cef6,vision-reflection, ../contributor/index, ../contributing/index,5,4
openstack%2Fheat~master~Iccd1185c697d3c44c887ee69ef403c8c4c9ef6fb,openstack/heat,master,Iccd1185c697d3c44c887ee69ef403c8c4c9ef6fb,Docs: Fix links broken since Train release,MERGED,2020-01-23 04:53:55.000000000,2020-02-22 06:20:24.000000000,2020-02-22 06:14:00.000000000,"[{'_account_id': 6547}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 04:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e1fed3062f69682776c8943c7916e676ed544950', 'message': 'Docs: Fix links broken since Train release\n\nChange-Id: Iccd1185c697d3c44c887ee69ef403c8c4c9ef6fb\n'}, {'number': 2, 'created': '2020-01-23 15:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f4c9377a9e9a35171906e5a1a1b88178b1e035d2', 'message': 'Docs: Fix links broken since Train release\n\nChange-Id: Iccd1185c697d3c44c887ee69ef403c8c4c9ef6fb\n'}, {'number': 3, 'created': '2020-01-23 17:32:04.000000000', 'files': ['doc/source/template_guide/software_deployment.rst', 'doc/source/glossary.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/40ec7665687342b6c959d0d8b77aaace12b51d30', 'message': 'Docs: Fix links broken since Train release\n\nChange-Id: Iccd1185c697d3c44c887ee69ef403c8c4c9ef6fb\n'}]",0,703915,40ec7665687342b6c959d0d8b77aaace12b51d30,12,3,3,4257,,,0,"Docs: Fix links broken since Train release

Change-Id: Iccd1185c697d3c44c887ee69ef403c8c4c9ef6fb
",git fetch https://review.opendev.org/openstack/heat refs/changes/15/703915/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/template_guide/software_deployment.rst', 'doc/source/glossary.rst']",2,e1fed3062f69682776c8943c7916e676ed544950,, retrieve instance-specific data. See :nova-doc:`Nova Metadata service documentation <user/metadata.html#metadata-service>`. configure instances at boot time. See also :nova-doc:`Nova User data documentation <user/metadata.html#user-provided-data>`., retrieve instance-specific data. See :nova-doc:`Metadata service (OpenStack Administrator Guide) <admin/networking-nova.html#metadata-service>`. configure instances at boot time. See also :nova-doc:`User data (OpenStack End User Guide) <user/user-data.html>`.,5,6
openstack%2Fheat~master~If94115f87af3689413405f3283be7fb197fab058,openstack/heat,master,If94115f87af3689413405f3283be7fb197fab058,Docs: use extrefs to link to other projects' docs,MERGED,2020-01-23 03:16:54.000000000,2020-02-22 06:16:45.000000000,2020-02-22 06:11:49.000000000,"[{'_account_id': 4257}, {'_account_id': 6547}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 03:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6437213a1378fabd612957f650d8f11edc5591df', 'message': ""Docs: use extrefs to link to other projects' docs\n\nThis feature of openstackdocstheme means that we'll always link to the\ncorresponding branch of another project (i.e. latest links to latest,\nbut train links to train, &c.)\n\nhttps://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: If94115f87af3689413405f3283be7fb197fab058\n""}, {'number': 2, 'created': '2020-01-23 04:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3688882ef938e1c23b2313e1f3287af871b281af', 'message': ""Docs: use extrefs to link to other projects' docs\n\nThis feature of openstackdocstheme means that we'll always link to the\ncorresponding branch of another project (i.e. latest links to latest,\nbut train links to train, &c.)\n\nhttps://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: If94115f87af3689413405f3283be7fb197fab058\n""}, {'number': 3, 'created': '2020-01-23 15:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7067286f51fb056e4d591e16cfe198330029b7e0', 'message': ""Docs: use extrefs to link to other projects' docs\n\nThis feature of openstackdocstheme means that we'll always link to the\ncorresponding branch of another project (i.e. latest links to latest,\nbut train links to train, &c.)\n\nhttps://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: If94115f87af3689413405f3283be7fb197fab058\n""}, {'number': 4, 'created': '2020-01-23 17:32:04.000000000', 'files': ['doc/source/admin/introduction.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/conf.py', 'doc/source/install/install-rdo.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/admin/auth-model.rst', 'doc/source/index.rst', 'doc/source/template_guide/multi-clouds.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/admin/stack-domain-users.rst', 'doc/source/glossary.rst', 'doc/source/developing_guides/gmr.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/dd70d9244d5a8b8b91b3e5908b45bf5b7f6a8974', 'message': ""Docs: use extrefs to link to other projects' docs\n\nThis feature of openstackdocstheme means that we'll always link to the\ncorresponding branch of another project (i.e. latest links to latest,\nbut train links to train, &c.)\n\nhttps://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: If94115f87af3689413405f3283be7fb197fab058\n""}]",43,703912,dd70d9244d5a8b8b91b3e5908b45bf5b7f6a8974,17,4,4,4257,,,0,"Docs: use extrefs to link to other projects' docs

This feature of openstackdocstheme means that we'll always link to the
corresponding branch of another project (i.e. latest links to latest,
but train links to train, &c.)

https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper

Change-Id: If94115f87af3689413405f3283be7fb197fab058
",git fetch https://review.opendev.org/openstack/heat refs/changes/12/703912/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/introduction.rst', 'doc/source/template_guide/software_deployment.rst', 'doc/source/conf.py', 'doc/source/install/install-rdo.rst', 'doc/source/getting_started/create_a_stack.rst', 'doc/source/admin/auth-model.rst', 'doc/source/index.rst', 'doc/source/template_guide/multi-clouds.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/admin/stack-domain-users.rst', 'doc/source/glossary.rst', 'doc/source/developing_guides/gmr.rst']",12,6437213a1378fabd612957f650d8f11edc5591df,,:oslo.reports-doc:`oslo.reports`.,`oslo.reports <https://docs.openstack.org/oslo.reports/>`_,69,65
openstack%2Fheat~master~I3c9bdfe1bc40e6b96335041928aed275d1eb4958,openstack/heat,master,I3c9bdfe1bc40e6b96335041928aed275d1eb4958,Docs: Fix link broken since Stein release,MERGED,2020-01-23 04:53:55.000000000,2020-02-22 06:13:58.000000000,2020-02-22 06:13:58.000000000,"[{'_account_id': 6547}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-23 04:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d9b1d87b053a1e8a814f686f6cba8b7889398136', 'message': 'Docs: Fix link broken since Stein release\n\nChange-Id: I3c9bdfe1bc40e6b96335041928aed275d1eb4958\n'}, {'number': 2, 'created': '2020-01-23 15:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7b266b5b5e262bc43582b5e6b62bafb0cdd218b5', 'message': 'Docs: Fix link broken since Stein release\n\nChange-Id: I3c9bdfe1bc40e6b96335041928aed275d1eb4958\n'}, {'number': 3, 'created': '2020-01-23 17:32:04.000000000', 'files': ['doc/source/admin/auth-model.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/18f59964a02fa3dd00f8f250bfd00857ae9f4310', 'message': 'Docs: Fix link broken since Stein release\n\nChange-Id: I3c9bdfe1bc40e6b96335041928aed275d1eb4958\n'}]",0,703914,18f59964a02fa3dd00f8f250bfd00857ae9f4310,11,3,3,4257,,,0,"Docs: Fix link broken since Stein release

Change-Id: I3c9bdfe1bc40e6b96335041928aed275d1eb4958
",git fetch https://review.opendev.org/openstack/heat refs/changes/14/703914/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/auth-model.rst'],1,d9b1d87b053a1e8a814f686f6cba8b7889398136,,<user/trusts.html>`.,<admin/identity-use-trusts.html>`.,1,1
openstack%2Fkolla~master~Id89c0e241cde9ba0118fc5f6ed7236ddd6853b60,openstack/kolla,master,Id89c0e241cde9ba0118fc5f6ed7236ddd6853b60,Add Apache packages to glance containers,ABANDONED,2020-02-12 03:45:51.000000000,2020-02-22 06:13:03.000000000,,"[{'_account_id': 14826}, {'_account_id': 16006}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29344}]","[{'number': 1, 'created': '2020-02-12 03:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/40af1329537dd62b1573150299265a7393997ce5', 'message': 'Add Apache packages to glance containers\n\nWill add ssl for glance api and change startup from python to apache for glance api so add apache packages.\n\nChange-Id: Id89c0e241cde9ba0118fc5f6ed7236ddd6853b60\nRelated: blueprint add-ssl-internal-network\nSigned-off-by: yj.bai <bai.yongjun@99cloud.net>\n'}, {'number': 2, 'created': '2020-02-12 03:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d42e1fdae34f712ff08bec47a26a8f98a7e8e5e9', 'message': 'Add Apache packages to glance containers\n\nWill add ssl for glance api and change startup from python to apache for glance\n api so add apache packages.\n\nChange-Id: Id89c0e241cde9ba0118fc5f6ed7236ddd6853b60\nRelated: blueprint add-ssl-internal-network\nSigned-off-by: yj.bai <bai.yongjun@99cloud.net>\n'}, {'number': 3, 'created': '2020-02-12 04:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/08a2d258116641c9d274863cf2b13bd9cf08989d', 'message': 'Add Apache packages to glance containers\n\nWill add ssl for glance api and change startup from python to apache for\nglance api so add apache packages.\n\nChange-Id: Id89c0e241cde9ba0118fc5f6ed7236ddd6853b60\nRelated: blueprint add-ssl-internal-network\nSigned-off-by: yj.bai <bai.yongjun@99cloud.net>\n'}, {'number': 4, 'created': '2020-02-14 11:40:23.000000000', 'files': ['docker/glance/glance-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/47d11c88d1a90aa2ebcb918b3ff29cc4ccc5c309', 'message': 'Add Apache packages to glance containers\n\nWill add ssl for glance api and change startup from python to apache for\nglance api so add apache packages.\n\nChange-Id: Id89c0e241cde9ba0118fc5f6ed7236ddd6853b60\nRelated: blueprint add-ssl-internal-network\nSigned-off-by: yj.bai <bai.yongjun@99cloud.net>\n'}]",0,707306,47d11c88d1a90aa2ebcb918b3ff29cc4ccc5c309,21,5,4,29344,,,0,"Add Apache packages to glance containers

Will add ssl for glance api and change startup from python to apache for
glance api so add apache packages.

Change-Id: Id89c0e241cde9ba0118fc5f6ed7236ddd6853b60
Related: blueprint add-ssl-internal-network
Signed-off-by: yj.bai <bai.yongjun@99cloud.net>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/707306/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/glance/glance-base/Dockerfile.j2'],1,40af1329537dd62b1573150299265a7393997ce5,," 'httpd', 'mod_ssl', 'python3-mod_wsgi', 'mod_wsgi',{{ macros.install_packages(glance_base_packages | customizable(""packages"")) }} RUN sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf \ && sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf 'apache2',RUN echo > /etc/apache2/ports.conf {% endif %} 'httpd', 'mod_ssl', ] %}} {% if distro_python_version.startswith('3') %} {% set glance_base_packages = glance_base_packages + [ {% set glance_base_packages = glance_base_packages + [{{ macros.install_packages(glance_base_packages | customizable(""packages"")) }} RUN sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf \ && sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf 'apache2',RUN echo > /etc/apache2/ports.conf {% endif %}", {% endif %} {% if distro_python_version.startswith('3') %} {% set glance_base_packages = [ {% endif %},23,5
openstack%2Ftripleo-ci~master~I407133900657c70a7b2be8ef678c57d2e1ae90e9,openstack/tripleo-ci,master,I407133900657c70a7b2be8ef678c57d2e1ae90e9,Fix run for branched build-containers job,MERGED,2020-02-21 18:51:12.000000000,2020-02-22 05:34:57.000000000,2020-02-22 05:34:57.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 18:51:12.000000000', 'files': ['zuul.d/build-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/80adb6cfe43a74ba77953a4584023957799ea07d', 'message': 'Fix run for branched build-containers job\n\nWith https://review.opendev.org/#/c/708893/\nbranched container build jobs are not running,\nthis patch creates seperate parent with correct\nbranches setting so branched jobs runs in tripleo-ci.\n\nChange-Id: I407133900657c70a7b2be8ef678c57d2e1ae90e9\n'}]",0,709214,80adb6cfe43a74ba77953a4584023957799ea07d,9,7,1,13861,,,0,"Fix run for branched build-containers job

With https://review.opendev.org/#/c/708893/
branched container build jobs are not running,
this patch creates seperate parent with correct
branches setting so branched jobs runs in tripleo-ci.

Change-Id: I407133900657c70a7b2be8ef678c57d2e1ae90e9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/14/709214/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-containers.yaml'],1,80adb6cfe43a74ba77953a4584023957799ea07d,bug/1864018, name: tripleo-build-containers-centos-7-base parent: tripleo-build-containers-base-with-files nodeset: single-centos-7-node branches: ^(?!stable/(pike|queens)).*$ voting: true - job: parent: tripleo-build-containers-centos-7-base parent: tripleo-build-containers-centos-7-base parent: tripleo-build-containers-centos-7-base parent: tripleo-build-containers-centos-7-base use_buildah: true parent: tripleo-build-containers-centos-7-base use_buildah: true, parent: tripleo-build-containers-centos-7 parent: tripleo-build-containers-centos-7 parent: tripleo-build-containers-centos-7 parent: tripleo-build-containers-centos-7-buildah parent: tripleo-build-containers-centos-7-buildah,14,5
openstack%2Frequirements~master~Ie0a0509e0e90c61e36ad22e23859113e40e0f45f,openstack/requirements,master,Ie0a0509e0e90c61e36ad22e23859113e40e0f45f,update tinyrpc to 1.0.4,MERGED,2019-11-04 21:50:51.000000000,2020-02-22 05:05:59.000000000,2020-02-22 05:04:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 21:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bbbcc86a286989be771ce07ad55fc44ca5aa3b5c', 'message': 'DNM: update tinyrpc to 1.0.4\n\nChange-Id: Ie0a0509e0e90c61e36ad22e23859113e40e0f45f\n'}, {'number': 2, 'created': '2020-02-22 00:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/46fdd3f66fc9efc5bf9964c09f6a5bb410cae74d', 'message': 'DNM: update tinyrpc to 1.0.4\n\nChange-Id: Ie0a0509e0e90c61e36ad22e23859113e40e0f45f\n'}, {'number': 3, 'created': '2020-02-22 02:25:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/43ecce2e73f321fc20c548c2d5c9a38aeb8cd9a0', 'message': 'update tinyrpc to 1.0.4\n\nChange-Id: Ie0a0509e0e90c61e36ad22e23859113e40e0f45f\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,692915,43ecce2e73f321fc20c548c2d5c9a38aeb8cd9a0,17,2,3,14288,,,0,"update tinyrpc to 1.0.4

Change-Id: Ie0a0509e0e90c61e36ad22e23859113e40e0f45f
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/692915/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bbbcc86a286989be771ce07ad55fc44ca5aa3b5c,tinyrpc-1.0.4,tinyrpc===1.0.4,tinyrpc===1.0.3,1,1
openstack%2Fheat~master~Ieb3d8c29274275b98949cdceae328cd26b5cf305,openstack/heat,master,Ieb3d8c29274275b98949cdceae328cd26b5cf305,[TEST][DMT] debug monasca notification error,ABANDONED,2020-02-20 04:42:17.000000000,2020-02-22 05:00:10.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-20 04:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/571d19ac82d6b54462fc4f780f21a63c1c8531d4', 'message': '[TEST][DMT] debug monasca notification error\n\nDepends-On: https://review.opendev.org/708798\nChange-Id: Ieb3d8c29274275b98949cdceae328cd26b5cf305\n'}, {'number': 2, 'created': '2020-02-20 04:43:34.000000000', 'files': ['heat/engine/clients/os/monasca.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/7a3bbad9f0372d682d5035c6f18bc8ff5e1b51d7', 'message': '[TEST][DMT] debug monasca notification error\n\nDepends-On: https://review.opendev.org/708798\nChange-Id: Ieb3d8c29274275b98949cdceae328cd26b5cf305\n'}]",0,708799,7a3bbad9f0372d682d5035c6f18bc8ff5e1b51d7,14,2,2,12404,,,0,"[TEST][DMT] debug monasca notification error

Depends-On: https://review.opendev.org/708798
Change-Id: Ieb3d8c29274275b98949cdceae328cd26b5cf305
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/708799/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/os/monasca.py'],1,571d19ac82d6b54462fc4f780f21a63c1c8531d4,autoscaling-with-monasca, # We can switch back once https://review.opendev.org/#/c/700989 fixed, # We can switch back once https://review.opendev.org/#/c/700989 fixed.,1,1
openstack%2Fmonasca-notification~master~Iafb9c4baa67e26b8523f6c6c2eb3bbaf323a1a74,openstack/monasca-notification,master,Iafb9c4baa67e26b8523f6c6c2eb3bbaf323a1a74,Remove yaml_config,ABANDONED,2020-02-20 04:40:30.000000000,2020-02-22 04:59:27.000000000,,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-20 04:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/9a199c4ad3d6d3bff73f9dc51581dc8d771992b6', 'message': 'Improve debug message during loading config\n\nChange-Id: Iafb9c4baa67e26b8523f6c6c2eb3bbaf323a1a74\n'}, {'number': 2, 'created': '2020-02-20 13:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/a2f409fbcda7f2140512f6a0f3186e25a957f106', 'message': 'Improve debug message during loading config\n\nChange-Id: Iafb9c4baa67e26b8523f6c6c2eb3bbaf323a1a74\n'}, {'number': 3, 'created': '2020-02-20 16:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/1a7b5f5ed22ab8b68477d033a33e4352e5050a1a', 'message': 'Improve debug message during loading config\n\nChange-Id: Iafb9c4baa67e26b8523f6c6c2eb3bbaf323a1a74\n'}, {'number': 4, 'created': '2020-02-21 02:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/abaeb43ea4ddd30841e8b80f25c921a46cc3a159', 'message': 'Improve debug message during loading config\n\nChange-Id: Iafb9c4baa67e26b8523f6c6c2eb3bbaf323a1a74\n'}, {'number': 5, 'created': '2020-02-21 04:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/25b5c01c88e4d37ede616889b3754a36d18cbd35', 'message': 'Remove yaml_config\n\nChange-Id: Iafb9c4baa67e26b8523f6c6c2eb3bbaf323a1a74\n'}, {'number': 6, 'created': '2020-02-21 06:37:03.000000000', 'files': ['monasca_notification/config.py', 'monasca_notification/conf/__init__.py', 'monasca_notification/main.py', 'monasca_notification/conf/cli.py', 'tests/test_config.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/49f359463072b7d93712d912cea1d94c9abc746b', 'message': 'Remove yaml_config\n\nChange-Id: Iafb9c4baa67e26b8523f6c6c2eb3bbaf323a1a74\n'}]",2,708798,49f359463072b7d93712d912cea1d94c9abc746b,15,2,6,12404,,,0,"Remove yaml_config

Change-Id: Iafb9c4baa67e26b8523f6c6c2eb3bbaf323a1a74
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/98/708798/5 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_notification/config.py', 'monasca_notification/main.py']",2,9a199c4ad3d6d3bff73f9dc51581dc8d771992b6,debug-yaml-config, LOG.debug('Configuration loaded'),,8,4
openstack%2Fpython-tripleoclient~master~Ibbb3a1bf5856dbb03ecc0945893a7c50dee0d1d7,openstack/python-tripleoclient,master,Ibbb3a1bf5856dbb03ecc0945893a7c50dee0d1d7,"Revert ""Add raised exception when playbook fails""",ABANDONED,2020-02-20 17:16:34.000000000,2020-02-22 04:52:22.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-20 17:16:34.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0621ac39df87661e35c5e0ba61577febad50b306', 'message': 'Revert ""Add raised exception when playbook fails""\n\nhttps://bugs.launchpad.net/tripleo/+bug/1859182 reappears after this patch.\n\nThis reverts commit 1e8d13d96db525b11b7e615628a421d1ebe4bb5b.\n\nChange-Id: Ibbb3a1bf5856dbb03ecc0945893a7c50dee0d1d7\n'}]",0,708926,0621ac39df87661e35c5e0ba61577febad50b306,6,6,1,8833,,,0,"Revert ""Add raised exception when playbook fails""

https://bugs.launchpad.net/tripleo/+bug/1859182 reappears after this patch.

This reverts commit 1e8d13d96db525b11b7e615628a421d1ebe4bb5b.

Change-Id: Ibbb3a1bf5856dbb03ecc0945893a7c50dee0d1d7
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/26/708926/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py']",2,0621ac39df87661e35c5e0ba61577febad50b306,mistral_to_ansible, if rc == 0: LOG.info( 'Ansible execution success. playbook: {}'.format( playbook ) ) else:, if rc != 0: raise ansible_runner.AnsibleRunnerException(err_msg) LOG.info( 'Ansible execution success. playbook: {}'.format( playbook ) ),13,15
openstack%2Fnetworking-ovn~stable%2Fstein~I254f0ac28f7585b699a8238e01ffb37dd70282ef,openstack/networking-ovn,stable/stein,I254f0ac28f7585b699a8238e01ffb37dd70282ef,Centralize traffic when LB and member has FIP,MERGED,2020-02-04 15:47:30.000000000,2020-02-22 04:10:46.000000000,2020-02-22 04:09:32.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-02-04 15:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/58c5cc902f2b1c9a75251623016d6691f0413e11', 'message': 'Centralize traffic when LB and member has FIP\n\nWhen Load Balancer and its member has FIP assigned\nand environment is configured to use DVR the member\nFIP needs to be centralized. It is current core OVN\nlimitation, that should be solved in [1].\n\nThis patch adds this mechanism to OVN Client.\nIt covers cases:\n\n1) FIP association on port that is a member of\n   some LB - make it centralized.\n2) FIP association on LB VIP - find a members\n   FIPs and centralized them.\n3) The reverse of each of the above cases.\n\nRelated-Bug: #1860662\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1793897\n\nChange-Id: I254f0ac28f7585b699a8238e01ffb37dd70282ef\n(cherry picked from commit 57ac38921efa6bbf0bc4a22950355256cc3ebe6d)\n'}, {'number': 2, 'created': '2020-02-10 11:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/70634f6f0601b39585da533248cd676ae0fa42b8', 'message': 'Centralize traffic when LB and member has FIP\n\nWhen Load Balancer and its member has FIP assigned\nand environment is configured to use DVR the member\nFIP needs to be centralized. It is current core OVN\nlimitation, that should be solved in [1].\n\nThis patch adds this mechanism to OVN Client.\nIt covers cases:\n\n1) FIP association on port that is a member of\n   some LB - make it centralized.\n2) FIP association on LB VIP - find a members\n   FIPs and centralized them.\n3) The reverse of each of the above cases.\n\nRelated-Bug: #1860662\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1793897\n\nConflicts:\n    networking_ovn/common/ovn_client.py\n    networking_ovn/common/constants.py\n    networking_ovn/tests/unit/l3/test_l3_ovn.p\n\nChange-Id: I254f0ac28f7585b699a8238e01ffb37dd70282ef\n(cherry picked from commit 57ac38921efa6bbf0bc4a22950355256cc3ebe6d)\n'}, {'number': 3, 'created': '2020-02-19 14:05:09.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9c61cffb63274bdda75ede90523d4eb845b14070', 'message': 'Centralize traffic when LB and member has FIP\n\nWhen Load Balancer and its member has FIP assigned\nand environment is configured to use DVR the member\nFIP needs to be centralized. It is current core OVN\nlimitation, that should be solved in [1].\n\nThis patch adds this mechanism to OVN Client.\nIt covers cases:\n\n1) FIP association on port that is a member of\n   some LB - make it centralized.\n2) FIP association on LB VIP - find a members\n   FIPs and centralized them.\n3) The reverse of each of the above cases.\n\nRelated-Bug: #1860662\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1793897\n\nConflicts:\n    networking_ovn/common/ovn_client.py\n    networking_ovn/common/constants.py\n    networking_ovn/tests/unit/l3/test_l3_ovn.p\n\nChange-Id: I254f0ac28f7585b699a8238e01ffb37dd70282ef\n(cherry picked from commit 57ac38921efa6bbf0bc4a22950355256cc3ebe6d)\n'}]",1,705717,9c61cffb63274bdda75ede90523d4eb845b14070,27,5,3,24791,,,0,"Centralize traffic when LB and member has FIP

When Load Balancer and its member has FIP assigned
and environment is configured to use DVR the member
FIP needs to be centralized. It is current core OVN
limitation, that should be solved in [1].

This patch adds this mechanism to OVN Client.
It covers cases:

1) FIP association on port that is a member of
   some LB - make it centralized.
2) FIP association on LB VIP - find a members
   FIPs and centralized them.
3) The reverse of each of the above cases.

Related-Bug: #1860662

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1793897

Conflicts:
    networking_ovn/common/ovn_client.py
    networking_ovn/common/constants.py
    networking_ovn/tests/unit/l3/test_l3_ovn.p

Change-Id: I254f0ac28f7585b699a8238e01ffb37dd70282ef
(cherry picked from commit 57ac38921efa6bbf0bc4a22950355256cc3ebe6d)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/17/705717/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/tests/unit/fakes.py']",4,58c5cc902f2b1c9a75251623016d6691f0413e11,bug/1860662, self.db_find_rows = mock.Mock(),,320,4
openstack%2Fcinder~stable%2Frocky~I516b7c82b05b26e81195f7f106d43a9e0804082d,openstack/cinder,stable/rocky,I516b7c82b05b26e81195f7f106d43a9e0804082d,Support Incremental Backup Completion In RBD,MERGED,2020-02-04 14:54:42.000000000,2020-02-22 03:45:28.000000000,2020-02-22 03:44:05.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 8846}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2020-02-04 14:54:42.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/api.py', 'cinder/objects/base.py', 'releasenotes/notes/support-incremental-backup-completion-in-rbd-1f2165fefcc470d1.yaml', 'cinder/objects/backup.py', 'cinder/backup/drivers/ceph.py', 'cinder/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bce6d01e153100681540d29496d2332c45b53eb3', 'message': ""Support Incremental Backup Completion In RBD\n\nCeph RBD backend ignores the `--incremental` option when creating a\nvolume backup. The first backup of a given volume is always a full\nbackup, and each subsequent backup is always an incremental backup.\nThis behavior makes it impossible to remove old backups while\nkeeping at least one recent backup.\n\nSince Cinder will not find the latest_backup id as parent_id if\n'--incremental=False', so we can use the parent_id to ensure\nwhether do the full backup in rbd driver or not.\n\nIf the incremental flag '--incremental' is not specified, this\npatch will always create a new full backup for rbd volume.\n\nCloses-Bug: #1810270\nCloses-Bug: #1790713\nCo-Authored-By: Wanghao <sxmatch1986@gmail.com>\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n(cherry picked from commit 5018727f8e18992e64c55b84f0d5b39ae7c70b32)\n\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_ceph.py\nChange-Id: I516b7c82b05b26e81195f7f106d43a9e0804082d\n(cherry picked from commit 6cc8adb132b91be68c0b22c750417efb97f08ce0)\n""}]",0,705703,bce6d01e153100681540d29496d2332c45b53eb3,73,22,1,20813,,,0,"Support Incremental Backup Completion In RBD

Ceph RBD backend ignores the `--incremental` option when creating a
volume backup. The first backup of a given volume is always a full
backup, and each subsequent backup is always an incremental backup.
This behavior makes it impossible to remove old backups while
keeping at least one recent backup.

Since Cinder will not find the latest_backup id as parent_id if
'--incremental=False', so we can use the parent_id to ensure
whether do the full backup in rbd driver or not.

If the incremental flag '--incremental' is not specified, this
patch will always create a new full backup for rbd volume.

Closes-Bug: #1810270
Closes-Bug: #1790713
Co-Authored-By: Wanghao <sxmatch1986@gmail.com>
Co-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>
(cherry picked from commit 5018727f8e18992e64c55b84f0d5b39ae7c70b32)

Conflicts:
	cinder/tests/unit/backup/drivers/test_backup_ceph.py
Change-Id: I516b7c82b05b26e81195f7f106d43a9e0804082d
(cherry picked from commit 6cc8adb132b91be68c0b22c750417efb97f08ce0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/705703/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/api.py', 'cinder/objects/base.py', 'releasenotes/notes/support-incremental-backup-completion-in-rbd-1f2165fefcc470d1.yaml', 'cinder/objects/backup.py', 'cinder/backup/drivers/ceph.py', 'cinder/tests/unit/objects/test_objects.py']",7,bce6d01e153100681540d29496d2332c45b53eb3,bug/1810270," 'Backup': '1.7-fffdbcd5da3c30750916fa2cc0e8ffb5', 'BackupImport': '1.7-fffdbcd5da3c30750916fa2cc0e8ffb5',"," 'Backup': '1.6-c7ede487ba6fbcdd2a4711343cd972be', 'BackupImport': '1.6-c7ede487ba6fbcdd2a4711343cd972be',",291,207
openstack%2Ftripleo-ansible~stable%2Ftrain~I48381c2972900c52fd68885026d4e64e9663d072,openstack/tripleo-ansible,stable/train,I48381c2972900c52fd68885026d4e64e9663d072,Add tmpwatch to the bootstrap,MERGED,2020-02-21 17:08:58.000000000,2020-02-22 03:29:50.000000000,2020-02-22 03:29:50.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 17:08:58.000000000', 'files': ['tripleo_ansible/roles/tripleo-bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c1beab84071141ead28922188d6a5a88c9bb6bd3', 'message': ""Add tmpwatch to the bootstrap\n\nWe always configure a tmpwatch cron as part of the logrotate-crond\ncontainer but we need to make sure it's installed in the case of\npre-deployed servers.\n\nChange-Id: I48381c2972900c52fd68885026d4e64e9663d072\nCloses-Bug: #1864118\n(cherry picked from commit 9d00098c6a217f2cf1dc2fda93a026ecb5ffec88)\n""}]",0,709190,c1beab84071141ead28922188d6a5a88c9bb6bd3,11,4,1,14985,,,0,"Add tmpwatch to the bootstrap

We always configure a tmpwatch cron as part of the logrotate-crond
container but we need to make sure it's installed in the case of
pre-deployed servers.

Change-Id: I48381c2972900c52fd68885026d4e64e9663d072
Closes-Bug: #1864118
(cherry picked from commit 9d00098c6a217f2cf1dc2fda93a026ecb5ffec88)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/709190/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml']",2,c1beab84071141ead28922188d6a5a88c9bb6bd3,bug/1864118, - tmpwatch,,2,0
openstack%2Fos-brick~master~I3e6b8f7fffff8aa2e9d4a3009374c74baa131405,openstack/os-brick,master,I3e6b8f7fffff8aa2e9d4a3009374c74baa131405,Port the os-bricks jobs to Zuul v3,MERGED,2019-12-04 23:29:07.000000000,2020-02-22 03:15:15.000000000,2020-02-22 03:13:23.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-12-04 23:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d8583bbdb848fc404f6eae77c58b95e21646630f', 'message': 'WIP Port the os-bricks jobs to Zuul v3\n\nAll existing jobs are converted to native Zuul v3 versions.\n\nos-brick-cinder-tempest-dsvm-lvm-lio-barbican has been removed\nbecause it is a duplicate of cinder-tempest-plugin-lvm-lio-barbican\nwhich does not test against the current os-brick.\n\nos-brick-src-tempest-lvm-lio-barbican is in fact the same job,\nbut it tests against the os-brick codebase being tested.\n\nDepends-On: https://review.opendev.org/672804\nChange-Id: I3e6b8f7fffff8aa2e9d4a3009374c74baa131405\n'}, {'number': 2, 'created': '2019-12-12 13:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/179e3fd62bdb095ca5cb54c691e39fd26a2c1fe7', 'message': 'Port the os-bricks jobs to Zuul v3\n\nAll existing jobs are converted to native Zuul v3 versions.\n\nos-brick-cinder-tempest-dsvm-lvm-lio-barbican has been removed\nbecause it is a duplicate of cinder-tempest-plugin-lvm-lio-barbican\nwhich does not test against the current os-brick.\n\nos-brick-src-tempest-lvm-lio-barbican is in fact the same job,\nbut it tests against the os-brick codebase being tested.\n\nPartial-Bug: #1853372\n\nDepends-On: https://review.opendev.org/672804\nChange-Id: I3e6b8f7fffff8aa2e9d4a3009374c74baa131405\n'}, {'number': 3, 'created': '2019-12-17 14:49:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8ef7c54807dd2a877705d795999b344b113aba62', 'message': 'Port the os-bricks jobs to Zuul v3\n\nAll existing jobs are converted to native Zuul v3 versions.\n\nos-brick-cinder-tempest-dsvm-lvm-lio-barbican has been removed\nbecause it is a duplicate of cinder-tempest-plugin-lvm-lio-barbican\nwhich does not test against the current os-brick.\n\nos-brick-src-tempest-lvm-lio-barbican is in fact the same job,\nbut it tests against the os-brick codebase being tested.\n\nPartial-Bug: #1853372\n\nDepends-On: https://review.opendev.org/672804\nChange-Id: I3e6b8f7fffff8aa2e9d4a3009374c74baa131405\n'}]",1,697385,8ef7c54807dd2a877705d795999b344b113aba62,81,16,3,10459,,,0,"Port the os-bricks jobs to Zuul v3

All existing jobs are converted to native Zuul v3 versions.

os-brick-cinder-tempest-dsvm-lvm-lio-barbican has been removed
because it is a duplicate of cinder-tempest-plugin-lvm-lio-barbican
which does not test against the current os-brick.

os-brick-src-tempest-lvm-lio-barbican is in fact the same job,
but it tests against the os-brick codebase being tested.

Partial-Bug: #1853372

Depends-On: https://review.opendev.org/672804
Change-Id: I3e6b8f7fffff8aa2e9d4a3009374c74baa131405
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/85/697385/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d8583bbdb848fc404f6eae77c58b95e21646630f,zuulv3, - os-brick-src-devstack-plugin-ceph: - os-brick-src-tempest-lvm-lio-barbican - os-brick-src-tempest-lvm-lio-barbican - job: name: os-brick-src-devstack-plugin-ceph description: | Tempest job which tests os-brick from source. Former names for this job where: * legacy-tempest-dsvm-full-ceph-plugin-src-os-brick parent: cinder-plugin-ceph-tempest required-projects: - opendev.org/openstack/os-brick - job: name: os-brick-src-tempest-lvm-lio-barbican parent: cinder-tempest-plugin-lvm-lio-barbican description: | Specialized cinder-tempest-lvm-lio-barbican which runs against os-brick from sources. Former names for this job were: * legacy-tempest-dsvm-full-lio-src-os-brick required-projects: - opendev.org/openstack/os-brick, - legacy-tempest-dsvm-full-ceph-plugin-src-os-brick: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - legacy-tempest-dsvm-full-lio-src-os-brick: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - os-brick-cinder-tempest-dsvm-lvm-lio-barbican - legacy-tempest-dsvm-full-lio-src-os-brick: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - os-brick-cinder-tempest-dsvm-lvm-lio-barbican- job: name: os-brick-cinder-tempest-dsvm-lvm-lio-barbican parent: cinder-tempest-dsvm-lvm-lio-barbican required-projects: - openstack/cinder,22,17
openstack%2Fzun~master~I61878e646add132e0b685ef3b4f4393a57089bb0,openstack/zun,master,I61878e646add132e0b685ef3b4f4393a57089bb0,Add CRI to installation guide,MERGED,2020-02-15 19:49:37.000000000,2020-02-22 02:28:12.000000000,2020-02-22 02:26:48.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2020-02-15 19:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/545d8b6bc34cd524e0786787d7019f015f97dc83', 'message': '[WIP] Add CRI to installation guide\n\nChange-Id: I61878e646add132e0b685ef3b4f4393a57089bb0\n'}, {'number': 2, 'created': '2020-02-16 19:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/03f2cc96c0e87538fc9d45eca39f784afeeb5de2', 'message': '[WIP] Add CRI to installation guide\n\nChange-Id: I61878e646add132e0b685ef3b4f4393a57089bb0\n'}, {'number': 3, 'created': '2020-02-17 02:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3287497480b9ebb062874c99fcda23e61715745d', 'message': 'Add CRI to installation guide\n\nChange-Id: I61878e646add132e0b685ef3b4f4393a57089bb0\n'}, {'number': 4, 'created': '2020-02-17 02:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/499ffbe0920531974c342f24980c9726beaea3f3', 'message': 'Add CRI to installation guide\n\nChange-Id: I61878e646add132e0b685ef3b4f4393a57089bb0\n'}, {'number': 5, 'created': '2020-02-17 02:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/932128e225ec4c171ce7fd23169d8ccd12b9f3e1', 'message': 'Add CRI to installation guide\n\nImplements: blueprint add-support-cri-runtime\nChange-Id: I61878e646add132e0b685ef3b4f4393a57089bb0\n'}, {'number': 6, 'created': '2020-02-17 05:04:44.000000000', 'files': ['doc/source/install/get_started.rst', 'doc/source/install/compute-install.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/eb1c32951b0d48e5956eb80415944b5ac28fd61a', 'message': 'Add CRI to installation guide\n\nImplements: blueprint add-support-cri-runtime\nChange-Id: I61878e646add132e0b685ef3b4f4393a57089bb0\n'}]",0,707948,eb1c32951b0d48e5956eb80415944b5ac28fd61a,17,4,6,11536,,,0,"Add CRI to installation guide

Implements: blueprint add-support-cri-runtime
Change-Id: I61878e646add132e0b685ef3b4f4393a57089bb0
",git fetch https://review.opendev.org/openstack/zun refs/changes/48/707948/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/get_started.rst', 'doc/source/install/compute-install.rst']",2,545d8b6bc34cd524e0786787d7019f015f97dc83,bp/add-support-cri-runtime," * Create CNI directories: .. code-block:: console # mkdir -p /etc/cni/net.d # chown zun:zun /etc/cni/net.d # su -s /bin/sh -c ""cp etc/cni/net.d/* /etc/cni/net.d/"" zun#. Configure containerd: * Generate config file for containerd: .. code-block:: console # containerd config default > /etc/containerd/config.toml * Edit the ``/etc/containerd/config.toml``. In the ``[grpc]`` section, configure the ``gid`` as the group ID of the ``zun`` user: .. code-block:: ini [grpc] ... gid = ZUN_GROUP_ID Replace ``ZUN_GROUP_ID`` with the real group ID of ``zun`` user. You can retrieve the ID by (for example): # getent group zun | cut -d: -f3 .. note:: Make sure that ``/etc/containerd/config.toml`` still have the correct permissions. You can set the permissions again with: # chown zun:zun /etc/containerd/config.toml * Restart containerd: .. code-block:: console # systemctl restart containerd #. Configure CNI: * Download and install the standard loopback plugin: .. code-block:: console # mkdir -p /opt/cni/bin # curl -L https://github.com/containernetworking/plugins/releases/download/v0.7.1/cni-plugins-amd64-v0.7.1.tgz \ | tar -C /opt/cni/bin -xzvf - ./loopback * Install the Zun CNI plugin: .. code-block:: console # install -o zun -m 0555 -D ""$(which zun-cni)"" /opt/cni/bin/zun-cni #. Edit the ``/etc/zun/zun.conf``: #. Create an upstart config for zun compute, it could be named as#. Create an upstart config for zun cni daemon, it could be named as ``/etc/systemd/system/zun-cni-daemon.service``: .. note:: CentOS install binary files into ``/usr/bin/``, replace ``/usr/local/bin/`` directory with the correct in the following example file. .. code-block:: bash [Unit] Description = OpenStack Container Service CNI daemon [Service] ExecStart = /usr/local/bin/zun-cni-daemon User = zun [Install] WantedBy = multi-user.target # systemctl enable zun-cni-daemon # systemctl start zun-cni-daemon # systemctl status zun-cni-daemon","#. Create an upstart config, it could be named as",93,3
openstack%2Foctavia~master~Iab01faaa17507c7bea399db7ee8f27f88d8de183,openstack/octavia,master,Iab01faaa17507c7bea399db7ee8f27f88d8de183,Add diskimage-create arg for Octavia Git branch,MERGED,2019-10-02 17:55:08.000000000,2020-02-22 02:26:18.000000000,2020-02-22 02:25:00.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 17:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f1568fc33e48710739f45821b57179e01251825e', 'message': 'Add diskimage-create arg for amp branch selection\n\nUse `-g <ref>` to select a git ref/branch/tag to use for the amphora\nbuild. This has historically been confusing for people, and this should\nmake it a little easier.\n\n(Still need to add docs/releasenote)\n\nChange-Id: Iab01faaa17507c7bea399db7ee8f27f88d8de183\n'}, {'number': 2, 'created': '2019-10-02 19:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f984f336d9cb314c2eeba62a2e55d5127b7686d2', 'message': 'Add diskimage-create arg for using current ref\n\nUse `-g` to select the current git ref to use for the amphora\nbuild. This has historically been confusing for people, and this should\nmake it a little easier.\n\n(Still need to add docs/releasenote)\n\nChange-Id: Iab01faaa17507c7bea399db7ee8f27f88d8de183\n'}, {'number': 3, 'created': '2020-02-05 19:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8ec6144c777895f2d63a9b9cf2954283911f3331', 'message': 'Add diskimage-create arg for Octavia Git branch\n\nUse `-g` to select the current Git branch to use for the amphora\nbuild. This has historically been confusing for people, and this should\nmake it a little easier.\n\nChange-Id: Iab01faaa17507c7bea399db7ee8f27f88d8de183\n'}, {'number': 4, 'created': '2020-02-05 19:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5abf099b735073457c989ff00996e4b401be7800', 'message': 'Add diskimage-create arg for Octavia Git branch\n\nUse `-g` to select the current Git branch to use for the amphora\nbuild. This has historically been confusing for people, and this should\nmake it a little easier.\n\nChange-Id: Iab01faaa17507c7bea399db7ee8f27f88d8de183\n'}, {'number': 5, 'created': '2020-02-05 19:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c4f065b288c1f95cd696c0f89c9eca6784a0eff3', 'message': 'Add diskimage-create arg for Octavia Git branch\n\nUse `-g` to select the current Git branch to use for the amphora\nbuild. This has historically been confusing for people, and this should\nmake it a little easier.\n\nChange-Id: Iab01faaa17507c7bea399db7ee8f27f88d8de183\n'}, {'number': 6, 'created': '2020-02-05 20:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4f99123b47c9d1a936b517ca285c912416ac18c9', 'message': 'Add diskimage-create arg for Octavia Git branch\n\nUse `-g` to select the current Git branch to use for the amphora\nbuild. This has historically been confusing for people, and this should\nmake it a little easier.\n\nChange-Id: Iab01faaa17507c7bea399db7ee8f27f88d8de183\n'}, {'number': 7, 'created': '2020-02-05 21:14:53.000000000', 'files': ['diskimage-create/README.rst', 'releasenotes/notes/diskimage-create-git-branch-9c44e7e3fa70a985.yaml', 'diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d973322529548423a12a17e1e776455b48a78802', 'message': 'Add diskimage-create arg for Octavia Git branch\n\nUse `-g` to select the current Git branch to use for the amphora\nbuild. This has historically been confusing for people, and this should\nmake it a little easier.\n\nChange-Id: Iab01faaa17507c7bea399db7ee8f27f88d8de183\n'}]",7,686227,d973322529548423a12a17e1e776455b48a78802,23,5,7,10273,,,0,"Add diskimage-create arg for Octavia Git branch

Use `-g` to select the current Git branch to use for the amphora
build. This has historically been confusing for people, and this should
make it a little easier.

Change-Id: Iab01faaa17507c7bea399db7ee8f27f88d8de183
",git fetch https://review.opendev.org/openstack/octavia refs/changes/27/686227/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,f1568fc33e48710739f45821b57179e01251825e,octavia-DIB-branch," echo "" [-g **master** | rocky | stein | train | <git_ref> ]"" echo "" '-g' build from the specified git ref (any branch, tag, or sha)""while getopts ""a:b:c:d:efg:hi:k:l:no:pt:r:s:vw:x"" opt; do g) NEW_REPOREF=$OPTARG if [ ""$NEW_REPOREF"" == ""rocky"" ] || \ [ ""$NEW_REPOREF"" == ""stein"" ] || \ [ ""$NEW_REPOREF"" == ""train"" ]; then NEW_REPOREF=""stable/$NEW_REPOREF"" fi if [ -n ""$DIB_REPOREF_amphora_agent"" ]; then echo ""Overriding DIB_REPOREF_amphora_agent: $DIB_REPOREF_amphora_agent -> $NEW_REPOREF"" fi DIB_REPOREF_amphora_agent=$NEW_REPOREF DIB_REPOLOCATION_amphora_agent=""$(cd ""$(dirname ""${BASH_SOURCE[0]}"")/.."" >/dev/null 2>&1 && pwd)"" ;;","while getopts ""a:b:c:d:efhi:k:l:no:pt:r:s:vw:x"" opt; do",16,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I48eec3d22e5a2a018554c6864efd52e4ab3c87ce,openstack/tripleo-heat-templates,stable/train,I48eec3d22e5a2a018554c6864efd52e4ab3c87ce,NodeDataLookup utility should rely on python env,MERGED,2020-02-20 22:20:53.000000000,2020-02-22 02:24:50.000000000,2020-02-22 02:24:50.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-02-20 22:20:53.000000000', 'files': ['tools/make_ceph_disk_list.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9545cbc381b4b7ca892dad8f2cad6e22c84a4f15', 'message': ""NodeDataLookup utility should rely on python env\n\nThis change ensures that if there are several versions\nof Python installed, the interpreter used is the first\none on the environment's $PATH.\n\nChange-Id: I48eec3d22e5a2a018554c6864efd52e4ab3c87ce\nRelated-Bug: #1854214\n(cherry picked from commit a67981d1e8117c74c20adf3bc657eaf81cb8971a)\n""}]",0,708979,9545cbc381b4b7ca892dad8f2cad6e22c84a4f15,13,5,1,18002,,,0,"NodeDataLookup utility should rely on python env

This change ensures that if there are several versions
of Python installed, the interpreter used is the first
one on the environment's $PATH.

Change-Id: I48eec3d22e5a2a018554c6864efd52e4ab3c87ce
Related-Bug: #1854214
(cherry picked from commit a67981d1e8117c74c20adf3bc657eaf81cb8971a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/708979/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/make_ceph_disk_list.py'],1,9545cbc381b4b7ca892dad8f2cad6e22c84a4f15,,#!/usr/bin/env python,#!/usr/bin/env python3,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I23fc883ee243a34e1abd6914377b206160e5d52a,openstack/tripleo-heat-templates,stable/train,I23fc883ee243a34e1abd6914377b206160e5d52a,Introduce CephExternalMultiConfig,MERGED,2020-02-18 20:47:45.000000000,2020-02-22 02:24:18.000000000,2020-02-22 02:22:54.000000000,"[{'_account_id': 3153}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-18 20:47:45.000000000', 'files': ['releasenotes/notes/ceph_external_multi_config-80d707e5bf75e886.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf61541709e46e98c86b70f8277c4de89392cbc8', 'message': 'Introduce CephExternalMultiConfig\n\nAdd new parameter which may be used to configure an\novercloud to use more than one external Ceph cluster.\n\nChange-Id: I23fc883ee243a34e1abd6914377b206160e5d52a\nDepends-On: I4fd47445f012878e595649be8371ea212548cbd8\n(cherry picked from commit 39a7b6754bcf508f286a2fe916b1c5eb94be7a06)\n'}]",0,708513,bf61541709e46e98c86b70f8277c4de89392cbc8,24,5,1,18002,,,0,"Introduce CephExternalMultiConfig

Add new parameter which may be used to configure an
overcloud to use more than one external Ceph cluster.

Change-Id: I23fc883ee243a34e1abd6914377b206160e5d52a
Depends-On: I4fd47445f012878e595649be8371ea212548cbd8
(cherry picked from commit 39a7b6754bcf508f286a2fe916b1c5eb94be7a06)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/708513/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ceph_external_multi_config-80d707e5bf75e886.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml']",3,bf61541709e46e98c86b70f8277c4de89392cbc8,multiple-external-ceph-train," CephExternalMultiConfig: # create client conf and key file for two non-existent external ceph clusters - cluster: 'ceph2' fsid: 'af25554b-42f6-4d2b-9b9b-d08a1132d3e8' external_cluster_mon_ips: '172.18.0.5,172.18.0.6,172.18.0.7' keys: - name: ""client.openstack"" caps: mgr: ""allow *"" mon: ""profile rbd"" osd: ""osd: profile rbd pool=volumes, profile rbd pool=backups, profile rbd pool=vms, profile rbd pool=images"" key: ""AQCwmeRcAAAAABAA6SQU/bGqFjlfLro5KxrB1Q=="" mode: ""0600"" dashboard_enabled: false - cluster: 'ceph3' fsid: 'e2cba068-5f14-4b0f-b047-acf375c0004a' external_cluster_mon_ips: '172.18.0.8,172.18.0.9,172.18.0.10' keys: - name: ""client.openstack"" caps: mgr: ""allow *"" mon: ""profile rbd"" osd: ""osd: profile rbd pool=volumes, profile rbd pool=backups, profile rbd pool=vms, profile rbd pool=images"" key: ""AQCwmeRcAAAAABAA6SQU/bGqFjlfLro5KxrB2Q=="" mode: ""0600"" dashboard_enabled: false",,63,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0913a479e306a69391d45f917667fb170692da09,openstack/tripleo-heat-templates,stable/train,I0913a479e306a69391d45f917667fb170692da09,Fix dcn-hci resource mapping path,MERGED,2020-02-21 07:47:44.000000000,2020-02-22 02:22:52.000000000,2020-02-22 02:22:52.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 07:47:44.000000000', 'files': ['environments/dcn-hci.yaml', 'sample-env-generator/dcn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a1aeba00fc1dd371abcc455b1aeb1b81338eba4', 'message': 'Fix dcn-hci resource mapping path\n\nThis change just fix the wrong dcn-hci mapping path\non the environment file.\n\nChange-Id: I0913a479e306a69391d45f917667fb170692da09\nCloses-Bug: #1864024\n(cherry picked from commit ea9508b2fbaf13836a00f18cd51865daad51aa19)\n'}]",0,709061,0a1aeba00fc1dd371abcc455b1aeb1b81338eba4,14,6,1,25402,,,0,"Fix dcn-hci resource mapping path

This change just fix the wrong dcn-hci mapping path
on the environment file.

Change-Id: I0913a479e306a69391d45f917667fb170692da09
Closes-Bug: #1864024
(cherry picked from commit ea9508b2fbaf13836a00f18cd51865daad51aa19)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/709061/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/dcn-hci.yaml', 'sample-env-generator/dcn.yaml']",2,0a1aeba00fc1dd371abcc455b1aeb1b81338eba4,, OS::TripleO::Services::Etcd: ../deployment/etcd/etcd-container-puppet.yaml, OS::TripleO::Services::Etcd: ../../deployment/etcd/etcd-container-puppet.yaml,2,2
openstack%2Fironic~master~Ia621f38d9b6c4570ba6a62ddb8c72244ff3fe33b,openstack/ironic,master,Ia621f38d9b6c4570ba6a62ddb8c72244ff3fe33b,Start removing ipxe support from the pxe interface,MERGED,2019-11-29 08:37:51.000000000,2020-02-22 02:13:13.000000000,2020-02-21 11:58:00.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-11-29 08:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ce1d5a884ed0081015b6d286a95913940128bfff', 'message': ""Start removing ipxe support from the pxe interface\n\nWe have deprecated [pxe]ipxe_enabled for quite a time, using ipxe with\npxe interface is not recommended as we can see in this change that\nclean_up_instance of pxe doesn't count for the ipxe configuration option.\n\nThe impact by simply removing the configuration option is quite large,\nso the plan is to do it by smaller patches. This patch starts doing so\nby moving the duplicated code in clean_up_instance to the PXEBaseMixin.\n\nChange-Id: Ia621f38d9b6c4570ba6a62ddb8c72244ff3fe33b\n""}, {'number': 2, 'created': '2019-12-06 09:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c846a22623c5aa920dd08815d0c25ca5bbe51725', 'message': 'Start removing ipxe support from the pxe interface\n\nThis patch starts removing codes related to ipxe support from the pxe interface,\nand extract common logic to the PXEBaseMixin.\n\nChange-Id: Ia621f38d9b6c4570ba6a62ddb8c72244ff3fe33b\n'}, {'number': 3, 'created': '2019-12-10 11:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad58f4ddc90a533d162ca53022d560f18f1bcf57', 'message': 'Start removing ipxe support from the pxe interface\n\nThis patch starts removing codes related to ipxe support from the pxe interface,\nand extract common logic to the PXEBaseMixin.\n\nChange-Id: Ia621f38d9b6c4570ba6a62ddb8c72244ff3fe33b\n'}, {'number': 4, 'created': '2020-01-09 07:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6e9ec8d3481a54319814625b0b5a144a62173097', 'message': 'Start removing ipxe support from the pxe interface\n\nThis patch starts removing codes related to ipxe support from the pxe interface,\nand extract common logic to the PXEBaseMixin.\n\nChange-Id: Ia621f38d9b6c4570ba6a62ddb8c72244ff3fe33b\n'}, {'number': 5, 'created': '2020-02-10 04:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/77ee042679947465160186cf340e4f996a546c0c', 'message': 'Start removing ipxe support from the pxe interface\n\nThis patch starts removing codes related to ipxe support from the pxe interface,\nand extract common logic to the PXEBaseMixin.\n\nStory: 2007003\nTask: 37779\n\nChange-Id: Ia621f38d9b6c4570ba6a62ddb8c72244ff3fe33b\n'}, {'number': 6, 'created': '2020-02-18 08:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c052543b08c9826b8fe5b24a1a9ae5f1b3a1aaf9', 'message': 'Start removing ipxe support from the pxe interface\n\nThis patch starts removing codes related to ipxe support from the pxe interface,\nand extract common logic to the PXEBaseMixin.\n\nStory: 2007003\nTask: 37779\n\nChange-Id: Ia621f38d9b6c4570ba6a62ddb8c72244ff3fe33b\n'}, {'number': 7, 'created': '2020-02-20 14:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/00464bac64b6c61f9401cd3642d89c466effb233', 'message': 'Start removing ipxe support from the pxe interface\n\nThis patch starts removing codes related to ipxe support from the pxe interface,\nand extract common logic to the PXEBaseMixin.\n\nStory: 2007003\nTask: 37779\n\nChange-Id: Ia621f38d9b6c4570ba6a62ddb8c72244ff3fe33b\n'}, {'number': 8, 'created': '2020-02-21 06:24:19.000000000', 'files': ['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/drivers/modules/ipxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ba983b615a75c2be69ced795ecde3681dd8f79c', 'message': 'Start removing ipxe support from the pxe interface\n\nThis patch starts removing codes related to ipxe support from the pxe interface,\nand extract common logic to the PXEBaseMixin.\n\nStory: 2007003\nTask: 37779\n\nChange-Id: Ia621f38d9b6c4570ba6a62ddb8c72244ff3fe33b\n'}]",6,696666,6ba983b615a75c2be69ced795ecde3681dd8f79c,54,11,8,24828,,,0,"Start removing ipxe support from the pxe interface

This patch starts removing codes related to ipxe support from the pxe interface,
and extract common logic to the PXEBaseMixin.

Story: 2007003
Task: 37779

Change-Id: Ia621f38d9b6c4570ba6a62ddb8c72244ff3fe33b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/696666/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/drivers/modules/ipxe.py']",5,ce1d5a884ed0081015b6d286a95913940128bfff,start-removing-ipxe-support-from-pxe-interface,," @METRICS.timer('iPXEBoot.clean_up_instance') def clean_up_instance(self, task): """"""Cleans up the boot of instance. This method cleans up the environment that was setup for booting the instance. It unlinks the instance kernel/ramdisk in node's directory in tftproot and removes the PXE config. :param task: a task from TaskManager. :returns: None """""" node = task.node try: images_info = pxe_utils.get_instance_image_info(task, ipxe_enabled=True) except exception.MissingParameterValue as e: LOG.warning('Could not get instance image info ' 'to clean up images for node %(node)s: %(err)s', {'node': node.uuid, 'err': e}) else: pxe_utils.clean_up_pxe_env(task, images_info, ipxe_enabled=True)",30,48
openstack%2Fceilometer~stable%2Fstein~I3ca76c80b96d49d4d256110c8fca13f9365add0d,openstack/ceilometer,stable/stein,I3ca76c80b96d49d4d256110c8fca13f9365add0d,[stable-only] Cap msgpack,MERGED,2020-02-19 13:26:56.000000000,2020-02-22 02:07:24.000000000,2020-02-22 02:05:59.000000000,"[{'_account_id': 14107}, {'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 13:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b943dc9c8dc392b7c2f3104847da1691e16762d3', 'message': ""[stable-only] Cap msgpack for python 2\n\npy27 job started to fail with:\nTypeError: __init__() got an unexpected keyword argument 'encoding'\n\nThis failure comes with the new version of msgpack (1.0.0).\n\nSince ceilometer does not use global upper-constraints.txt from\nrequirements repository, msgpack has to be constrained in\nrequirements.txt\n\nChange-Id: I3ca76c80b96d49d4d256110c8fca13f9365add0d\n""}, {'number': 2, 'created': '2020-02-19 13:54:17.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f63a65acc0b70699e366f2ffe9f449835020e107', 'message': ""[stable-only] Cap msgpack\n\nperiodic job py27 started to fail with:\nTypeError: __init__() got an unexpected keyword argument 'encoding'\n\nThis failure comes with the new version of msgpack (1.0.0).\n\nSince ceilometer does not use global upper-constraints.txt from\nrequirements repository, msgpack has to be constrained in\nrequirements.txt\n\nChange-Id: I3ca76c80b96d49d4d256110c8fca13f9365add0d\n""}]",0,708651,f63a65acc0b70699e366f2ffe9f449835020e107,11,4,2,17685,,,0,"[stable-only] Cap msgpack

periodic job py27 started to fail with:
TypeError: __init__() got an unexpected keyword argument 'encoding'

This failure comes with the new version of msgpack (1.0.0).

Since ceilometer does not use global upper-constraints.txt from
requirements repository, msgpack has to be constrained in
requirements.txt

Change-Id: I3ca76c80b96d49d4d256110c8fca13f9365add0d
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/51/708651/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b943dc9c8dc392b7c2f3104847da1691e16762d3,,"msgpack>=0.4.0,<1.0.0;python_version<'3.0' # Apache-2.0 msgpack>=0.4.0;python_version>='3.0' # Apache-2.0",msgpack>=0.4.0 # Apache-2.0,2,1
openstack%2Fceilometer~stable%2Fqueens~I3ca76c80b96d49d4d256110c8fca13f9365add0d,openstack/ceilometer,stable/queens,I3ca76c80b96d49d4d256110c8fca13f9365add0d,[stable-only] Cap msgpack,MERGED,2020-02-19 14:38:50.000000000,2020-02-22 02:06:00.000000000,2020-02-22 02:06:00.000000000,"[{'_account_id': 14107}, {'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 14:38:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/273f66b8fc49e3954cfd5a1e76aba0274b2e8568', 'message': ""[stable-only] Cap msgpack\n\nperiodic job py27 started to fail with:\nTypeError: __init__() got an unexpected keyword argument 'encoding'\n\nThis failure comes with the new version of msgpack (1.0.0).\n\nSince ceilometer does not use global upper-constraints.txt from\nrequirements repository, msgpack has to be constrained in\nrequirements.txt\n\nChange-Id: I3ca76c80b96d49d4d256110c8fca13f9365add0d\n(cherry picked from commit f63a65acc0b70699e366f2ffe9f449835020e107)\n(cherry picked from commit 9923f27d24ef91f8600f428546df035214f6ec15)\n""}]",0,708662,273f66b8fc49e3954cfd5a1e76aba0274b2e8568,8,4,1,17685,,,0,"[stable-only] Cap msgpack

periodic job py27 started to fail with:
TypeError: __init__() got an unexpected keyword argument 'encoding'

This failure comes with the new version of msgpack (1.0.0).

Since ceilometer does not use global upper-constraints.txt from
requirements repository, msgpack has to be constrained in
requirements.txt

Change-Id: I3ca76c80b96d49d4d256110c8fca13f9365add0d
(cherry picked from commit f63a65acc0b70699e366f2ffe9f449835020e107)
(cherry picked from commit 9923f27d24ef91f8600f428546df035214f6ec15)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/62/708662/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,273f66b8fc49e3954cfd5a1e76aba0274b2e8568,,"msgpack>=0.4.0,<1.0.0 # Apache-2.0",msgpack>=0.4.0 # Apache-2.0,1,1
openstack%2Fceilometer~stable%2Frocky~I3ca76c80b96d49d4d256110c8fca13f9365add0d,openstack/ceilometer,stable/rocky,I3ca76c80b96d49d4d256110c8fca13f9365add0d,[stable-only] Cap msgpack,MERGED,2020-02-19 14:15:13.000000000,2020-02-22 02:05:58.000000000,2020-02-22 02:05:57.000000000,"[{'_account_id': 14107}, {'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 14:15:13.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9923f27d24ef91f8600f428546df035214f6ec15', 'message': ""[stable-only] Cap msgpack\n\nperiodic job py27 started to fail with:\nTypeError: __init__() got an unexpected keyword argument 'encoding'\n\nThis failure comes with the new version of msgpack (1.0.0).\n\nSince ceilometer does not use global upper-constraints.txt from\nrequirements repository, msgpack has to be constrained in\nrequirements.txt\n\nChange-Id: I3ca76c80b96d49d4d256110c8fca13f9365add0d\n(cherry picked from commit f63a65acc0b70699e366f2ffe9f449835020e107)\n""}]",0,708656,9923f27d24ef91f8600f428546df035214f6ec15,8,4,1,17685,,,0,"[stable-only] Cap msgpack

periodic job py27 started to fail with:
TypeError: __init__() got an unexpected keyword argument 'encoding'

This failure comes with the new version of msgpack (1.0.0).

Since ceilometer does not use global upper-constraints.txt from
requirements repository, msgpack has to be constrained in
requirements.txt

Change-Id: I3ca76c80b96d49d4d256110c8fca13f9365add0d
(cherry picked from commit f63a65acc0b70699e366f2ffe9f449835020e107)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/56/708656/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9923f27d24ef91f8600f428546df035214f6ec15,,"msgpack>=0.4.0,<1.0.0 # Apache-2.0",msgpack>=0.4.0 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8588919cecc2be06447eba2b53b79d8d7cfc6a9e,openstack/tripleo-heat-templates,stable/train,I8588919cecc2be06447eba2b53b79d8d7cfc6a9e,Remove BlockStorageCinderVolume service from certain DCN roles,MERGED,2020-02-20 13:47:47.000000000,2020-02-22 01:51:45.000000000,2020-02-22 01:51:44.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-02-20 13:47:47.000000000', 'files': ['roles/DistributedCompute.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/DistributedComputeHCIScaleOut.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f85abc14c2cdf0fb449c8a4c72f055144438178', 'message': 'Remove BlockStorageCinderVolume service from certain DCN roles\n\nThe ScaleOut roles should accompany the DistributedCompute roles\nwhich are sufficient to provide the BlockStorageCinderVolume\nservice.\n\nThe DistributedCompute role supports usecases without persistent\nstorage via Cinder while the DistributedComputeHCI supports\nusecases with persistent storage via Cinder. For those usecases\nwe want the BlockStorageCinderVolume service to be used by\nDistributedComputeHCI with Ceph but not without Ceph as that\nis presently the only Cinder backend supporting active/active.\n\nChange-Id: I8588919cecc2be06447eba2b53b79d8d7cfc6a9e\nFixes-Bug: #1863799\n(cherry picked from commit e81a3f8d36501253c925b8403d404a953a53466f)\n'}]",0,708878,5f85abc14c2cdf0fb449c8a4c72f055144438178,17,7,1,18002,,,0,"Remove BlockStorageCinderVolume service from certain DCN roles

The ScaleOut roles should accompany the DistributedCompute roles
which are sufficient to provide the BlockStorageCinderVolume
service.

The DistributedCompute role supports usecases without persistent
storage via Cinder while the DistributedComputeHCI supports
usecases with persistent storage via Cinder. For those usecases
we want the BlockStorageCinderVolume service to be used by
DistributedComputeHCI with Ceph but not without Ceph as that
is presently the only Cinder backend supporting active/active.

Change-Id: I8588919cecc2be06447eba2b53b79d8d7cfc6a9e
Fixes-Bug: #1863799
(cherry picked from commit e81a3f8d36501253c925b8403d404a953a53466f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/708878/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/DistributedCompute.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/DistributedComputeHCIScaleOut.yaml']",3,5f85abc14c2cdf0fb449c8a4c72f055144438178,bug/1863799-stable/train,, - OS::TripleO::Services::BlockStorageCinderVolume,1,4
openstack%2Fwatcher~master~Ie790277d55b3a2d93c26781f7e5e8f66b87227d8,openstack/watcher,master,Ie790277d55b3a2d93c26781f7e5e8f66b87227d8,just set necessary config options,MERGED,2020-02-13 06:50:22.000000000,2020-02-22 01:35:45.000000000,2020-02-22 01:34:24.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-02-13 06:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0a68b56d03d116730862c11c1af89792d6fb80c5', 'message': 'just set necessary config options\n\nrefer to https://docs.openstack.org/keystonemiddleware/latest/\n\nChange-Id: Ie790277d55b3a2d93c26781f7e5e8f66b87227d8\n'}, {'number': 2, 'created': '2020-02-21 01:29:53.000000000', 'files': ['watcher/api/acl.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/18a516b87a6070a1a73281218a96ebce152c25cf', 'message': 'just set necessary config options\n\nThere are many warning info in the Watcher api log file,\nthe reason is that keystonemiddleware only need config\nsection keystone_authtoken.\nrefer to https://docs.openstack.org/keystonemiddleware/latest/\nCloses-Bug: #1864129\n\nChange-Id: Ie790277d55b3a2d93c26781f7e5e8f66b87227d8\n'}]",0,707570,18a516b87a6070a1a73281218a96ebce152c25cf,19,3,2,21692,,,0,"just set necessary config options

There are many warning info in the Watcher api log file,
the reason is that keystonemiddleware only need config
section keystone_authtoken.
refer to https://docs.openstack.org/keystonemiddleware/latest/
Closes-Bug: #1864129

Change-Id: Ie790277d55b3a2d93c26781f7e5e8f66b87227d8
",git fetch https://review.opendev.org/openstack/watcher refs/changes/70/707570/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher/api/acl.py'],1,0a68b56d03d116730862c11c1af89792d6fb80c5,keystone_authtoken," conf=dict(conf.keystone_authtoken),"," conf=dict(conf),",1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I01b3055e606bbe3bad847d6a0f5ddaf44552a156,openstack/tripleo-heat-templates,stable/stein,I01b3055e606bbe3bad847d6a0f5ddaf44552a156,[Stein and older] Ensure rsync installed,MERGED,2020-02-21 18:21:36.000000000,2020-02-22 01:31:19.000000000,2020-02-22 01:31:18.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 18:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa212b703cd30550f9e36208e0c37b06cb59242b', 'message': '[Stein and older] Ensure tmpwatch installed\n\nrsync needs to be installed in the case of deployed server.\n\nChange-Id: I01b3055e606bbe3bad847d6a0f5ddaf44552a156\nCloses-Bug: #1864232\n'}, {'number': 2, 'created': '2020-02-21 18:32:51.000000000', 'files': ['deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a094a8d3938e543f36f138b2cfe758ff4a1cd904', 'message': '[Stein and older] Ensure rsync installed\n\nrsync needs to be installed in the case of deployed server.\n\nChange-Id: I01b3055e606bbe3bad847d6a0f5ddaf44552a156\nCloses-Bug: #1864232\n'}]",0,709210,a094a8d3938e543f36f138b2cfe758ff4a1cd904,8,3,2,8745,,,0,"[Stein and older] Ensure rsync installed

rsync needs to be installed in the case of deployed server.

Change-Id: I01b3055e606bbe3bad847d6a0f5ddaf44552a156
Closes-Bug: #1864232
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/709210/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh']",2,fa212b703cd30550f9e36208e0c37b06cb59242b,1864232, tmpwatch \ rsync, tmpwatch,4,2
openstack%2Ftripleo-ci~master~I576e16d32213819ddea32d701e358895f7cccb38,openstack/tripleo-ci,master,I576e16d32213819ddea32d701e358895f7cccb38,Use md5sum if baseurl shows up more than once in delorean.repo file,MERGED,2020-02-21 17:23:10.000000000,2020-02-22 01:25:47.000000000,2020-02-22 01:25:47.000000000,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 17:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5730f842d524fd0ded9b307ba0678601634620a', 'message': 'Use md5sum if baseurl shows up more than once in delorean.repo file\n\nChange-Id: I576e16d32213819ddea32d701e358895f7cccb38\n'}, {'number': 2, 'created': '2020-02-21 18:11:00.000000000', 'files': ['roles/build-containers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b2e7a0138c45b5f98629350e9c9b5bbb3ac29361', 'message': 'Use md5sum if baseurl shows up more than once in delorean.repo file\n\nChange-Id: I576e16d32213819ddea32d701e358895f7cccb38\n'}]",3,709193,b2e7a0138c45b5f98629350e9c9b5bbb3ac29361,11,6,2,9976,,,0,"Use md5sum if baseurl shows up more than once in delorean.repo file

Change-Id: I576e16d32213819ddea32d701e358895f7cccb38
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/93/709193/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/main.yaml'],1,d5730f842d524fd0ded9b307ba0678601634620a,md5-dlrn-containers,"- name: Check the contents of the openstack_repo_name repo cat /etc/yum.repos.d/{{ openstack_repo_name }}.repo |grep -o 'baseurl=' |wc -l register: number_baseurl_lines- name: Use baseurl if there is only one when: - buildcontainers_version_hash is not defined - number_baseurl_lines.stdout|int == 1 block: - name: Get contents of openstack repo baseurl for the version hash become: true shell: > set -o pipefail && cat /etc/yum.repos.d/{{ openstack_repo_name }}.repo |awk -F= '/baseurl/ {print $2}' register: baseurl - name: Set version_hash fact set_fact: version_hash: ""{{ baseurl.stdout.split('/')[-1] }}"" - name: Use the md5sum if there is more than one baseurl line when: - buildcontainers_version_hash is not defined - number_baseurl_lines.stdout|int > 1 block: - name: Get contents of openstack repo baseurl for the version hash become: true shell: md5sum /etc/yum.repos.d/{{ openstack_repo_name }}.repo | awk '{print $1}' register: md5sum_repo - name: Set version_hash fact set_fact: version_hash: ""{{ md5sum_repo.stdout }}""","- name: Get contents of openstack repo baseurl for the version hash cat /etc/yum.repos.d/{{ openstack_repo_name }}.repo |awk -F= '/baseurl/ {print $2}' register: baseurl- name: Set version_hash fact set_fact: version_hash: ""{{ baseurl.stdout.split('/')[-1] }}"" when: buildcontainers_version_hash is not defined",32,7
openstack%2Ftripleo-ci~master~I63784342843b540d48790601829da0159e1b50d9,openstack/tripleo-ci,master,I63784342843b540d48790601829da0159e1b50d9,Remove centos-7 container for U,MERGED,2020-02-20 14:55:34.000000000,2020-02-22 01:25:46.000000000,2020-02-22 01:25:46.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-20 14:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2dc3b356d30ef72eaa31ec7e94c6f24c93adaae8', 'message': 'Remove centos-7 container for U\n\nSince kolla has dropped py2 support in Usurri, we can should rely on the\ncentos-8 job from now on. This change makes the centos-7 job active only\nfor rocky, stien, and train.\n\nChange-Id: I63784342843b540d48790601829da0159e1b50d9\nRelated-Bug: #1864018\n'}, {'number': 2, 'created': '2020-02-21 15:26:31.000000000', 'files': ['zuul.d/build-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ef75d437efe85a2a86c25a10cc07dffc305c7c33', 'message': 'Remove centos-7 container for U\n\nSince kolla has dropped py2 support in Usurri, we can should rely on the\ncentos-8 job from now on. This change makes the centos-7 job active only\nfor rocky, stien, and train.\n\nChange-Id: I63784342843b540d48790601829da0159e1b50d9\nRelated-Bug: #1864018\n'}]",3,708893,ef75d437efe85a2a86c25a10cc07dffc305c7c33,24,7,2,14985,,,0,"Remove centos-7 container for U

Since kolla has dropped py2 support in Usurri, we can should rely on the
centos-8 job from now on. This change makes the centos-7 job active only
for rocky, stien, and train.

Change-Id: I63784342843b540d48790601829da0159e1b50d9
Related-Bug: #1864018
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/93/708893/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-containers.yaml'],1,2dc3b356d30ef72eaa31ec7e94c6f24c93adaae8,bug/1864018, branches: ^(stable/(rocky|stein|train)).*$, branches: ^(?!stable/(pike|queens)).*$,1,1
openstack%2Fpython-tripleoclient~master~I07c1249571e1fe989d57427412c1aaa6ea1ff165,openstack/python-tripleoclient,master,I07c1249571e1fe989d57427412c1aaa6ea1ff165,Remove mistral from the expand_roles deploy workflow,MERGED,2020-02-18 00:53:39.000000000,2020-02-22 01:09:26.000000000,2020-02-22 01:07:06.000000000,"[{'_account_id': 3153}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-18 00:53:39.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eee13397c22a0f0b4267aa5b665fe1c5136a540d', 'message': 'Remove mistral from the expand_roles deploy workflow\n\nThis change removes all of mistral from the expand_roles function\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38782\n\nChange-Id: I07c1249571e1fe989d57427412c1aaa6ea1ff165\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,708283,eee13397c22a0f0b4267aa5b665fe1c5136a540d,9,4,1,7353,,,0,"Remove mistral from the expand_roles deploy workflow

This change removes all of mistral from the expand_roles function
by calling the required functions directly.

Story: 2007212
Task: 38782

Change-Id: I07c1249571e1fe989d57427412c1aaa6ea1ff165
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/708283/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/fakes.py']",3,eee13397c22a0f0b4267aa5b665fe1c5136a540d,mistral_to_ansible,from tripleoclient import plugin from tripleoclient.tests import fakes tc = self.app.client_manager.tripleoclient = FakeClientWrapper() tc.create_mistral_context = plugin.ClientWrapper( instance=fakes.FakeInstanceData ).create_mistral_context, self.app.client_manager.tripleoclient = FakeClientWrapper(),12,37
