id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-ansible~master~Ie80e667c43fa3588f8c594dcb41aeea1aa6fd1b0,openstack/openstack-ansible,master,Ie80e667c43fa3588f8c594dcb41aeea1aa6fd1b0,Pass br-bmaas or internal container interface IP to os_ironic role,ABANDONED,2022-08-04 09:18:16.000000000,2022-08-04 12:06:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-04 09:18:16.000000000', 'files': ['playbooks/os-ironic-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a241a0f6dc0422e449a2520d544a11faad5f5b92', 'message': 'Pass br-bmaas or internal container interface IP to os_ironic role\n\nThe ironic role needs to know the IP address that it has on the\nbmaas network. This might be from a bridge on the host or be\nand interface inside an LXC container, dynamic-address-fact.yml\ncan determine this from the container_networks information.\n\nThe ironic role does not work correctly in LXC deployments\nwithout this change as the PXE and http services bind to\nansible_host on the mgmt network, rather than the bmaas network.\n\nChange-Id: Ie80e667c43fa3588f8c594dcb41aeea1aa6fd1b0\n'}]",0,852120,a241a0f6dc0422e449a2520d544a11faad5f5b92,3,1,1,25023,,,0,"Pass br-bmaas or internal container interface IP to os_ironic role

The ironic role needs to know the IP address that it has on the
bmaas network. This might be from a bridge on the host or be
and interface inside an LXC container, dynamic-address-fact.yml
can determine this from the container_networks information.

The ironic role does not work correctly in LXC deployments
without this change as the PXE and http services bind to
ansible_host on the mgmt network, rather than the bmaas network.

Change-Id: Ie80e667c43fa3588f8c594dcb41aeea1aa6fd1b0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/852120/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-ironic-install.yml'],1,a241a0f6dc0422e449a2520d544a11faad5f5b92,," - name: Determine bmaas bridge IP address include_tasks: ../common-tasks/dynamic-address-fact.yml vars: network_address: ""bmaas_address"" tags: - always ironic_bmaas_address: ""{{ bmaas_address }}"" ",,9,0
openstack%2Fproject-config~master~If042a0f92a74ea06a312aad68de21f9e44f16582,openstack/project-config,master,If042a0f92a74ea06a312aad68de21f9e44f16582,linter: use spaces between filters in jinja,MERGED,2022-07-28 02:10:22.000000000,2022-08-04 11:54:00.000000000,2022-08-04 11:54:00.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 02:10:22.000000000', 'files': ['playbooks/publish/wheel-mirror.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ae2b72853621e67818ab4b0490feb8577d93fc56', 'message': 'linter: use spaces between filters in jinja\n\nA later version of ansible-lint picks this up; fix lack of whitespace\naround filters.  No operational change.\n\nChange-Id: If042a0f92a74ea06a312aad68de21f9e44f16582\n'}]",0,851277,ae2b72853621e67818ab4b0490feb8577d93fc56,9,3,1,7118,,,0,"linter: use spaces between filters in jinja

A later version of ansible-lint picks this up; fix lack of whitespace
around filters.  No operational change.

Change-Id: If042a0f92a74ea06a312aad68de21f9e44f16582
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/851277/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish/wheel-mirror.yaml'],1,ae2b72853621e67818ab4b0490feb8577d93fc56,ansible-lint-update-6," afs_slug: ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version }}-{{ ansible_architecture }}"" afs_slug: ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version }}-{{ ansible_architecture }}"""," afs_slug: ""{{ ansible_distribution|lower }}-{{ ansible_distribution_major_version }}-{{ ansible_architecture }}"" afs_slug: ""{{ ansible_distribution|lower }}-{{ ansible_distribution_version }}-{{ ansible_architecture }}""",2,2
openstack%2Fproject-config~master~Ia87a0c21ec0ed1662e37cbc9e17a0df344b54e57,openstack/project-config,master,Ia87a0c21ec0ed1662e37cbc9e17a0df344b54e57,linter: add name to blocks,MERGED,2022-07-28 02:10:22.000000000,2022-08-04 11:53:57.000000000,2022-08-04 11:53:57.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 02:10:22.000000000', 'files': ['playbooks/translation/openstack-translation-artifacts.yaml', 'playbooks/publish/openstack-artifacts.yaml', 'playbooks/javascript/release.yaml', 'roles/test-upload-logs/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/76037c434e65cd5eb207a281eb33bce6cf771c34', 'message': 'linter: add name to blocks\n\nA later version of ansible-lint enforces names on blocks.  This is\ngenerally a good rule; fix a few missing blocks here.\n\nChange-Id: Ia87a0c21ec0ed1662e37cbc9e17a0df344b54e57\n'}]",0,851276,76037c434e65cd5eb207a281eb33bce6cf771c34,9,3,1,7118,,,0,"linter: add name to blocks

A later version of ansible-lint enforces names on blocks.  This is
generally a good rule; fix a few missing blocks here.

Change-Id: Ia87a0c21ec0ed1662e37cbc9e17a0df344b54e57
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/851276/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/translation/openstack-translation-artifacts.yaml', 'playbooks/javascript/release.yaml', 'playbooks/publish/openstack-artifacts.yaml', 'roles/test-upload-logs/tasks/main.yaml']",4,76037c434e65cd5eb207a281eb33bce6cf771c34,ansible-lint-update-6,- name: Upload logs when: zuul_site_upload_logs | default(true) | bool or,- when: zuul_site_upload_logs | default(true) | bool or,8,4
openstack%2Ftripleo-ansible~stable%2Ftrain~I38e91b68bdd53b08fa59892a81a1d9a02f8ad816,openstack/tripleo-ansible,stable/train,I38e91b68bdd53b08fa59892a81a1d9a02f8ad816,[Train-only] Add cell(s) controllers VIPs for computes /etc/hosts,ABANDONED,2022-07-29 14:01:53.000000000,2022-08-04 11:50:17.000000000,,"[{'_account_id': 6926}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2022-07-29 14:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fd7f9433c8e0ca74a42d1b62bc85480992ab22b7', 'message': '[Train-only] Add cell(s) controllers VIPs for computes /etc/hosts\n\nIn layered OSP products based on Train, we use two methods of adding\nhost entries for cell controller VIP(s) in mult-cell\nenvironments:\n\n- 16.2: I47b95ad46e2d4e5b1f370a2f840826e87da2d703 no longer\n  uses compute hosts for cell_v2 discovery. In that case, having\n  /etc/hosts entries for the Cell(s) controllers DB VIP(s) added\n  only for Central controllers is sufficient.\n- 16.1 (is in maintainance mode): it misses that backport for\n  I47b95ad46e2d4e5b1f370a2f840826e87da2d703. And for that case,\n  also compute hosts need those /etc/hosts entries added\n  for each cellX controller database VIP to run cells v2 discovery\n  from compute hostsm, omitting controllers off the cells scaling loop.\n\nAddress that requirement by making sure the task\nadd_internalapi_hosts_entries.yml is executed for Controllers and also\nComputes.\n\nChange-Id: I38e91b68bdd53b08fa59892a81a1d9a02f8ad816\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-07-29 14:10:54.000000000', 'files': ['tripleo_ansible/playbooks/create-nova-cell-v2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/06fc3feb9383420dbe1a5202cbb9683030dcf4ba', 'message': '[Train-only] Add cell(s) controllers VIPs for computes /etc/hosts\n\nIn layered OSP products based on Train, we use two methods of adding\nhost entries for cell controller VIP(s) in mult-cell\nenvironments:\n\n- 16.2: I47b95ad46e2d4e5b1f370a2f840826e87da2d703 no longer\n  uses compute hosts for cell_v2 discovery. In that case, having\n  /etc/hosts entries for the Cell(s) controllers DB VIP(s) added\n  only for Central controllers is sufficient.\n- 16.1 (is in maintainance mode): it misses that backport for\n  I47b95ad46e2d4e5b1f370a2f840826e87da2d703. And for that case,\n  also compute hosts need those /etc/hosts entries added\n  for each cellX controller database VIP to run cells v2 discovery\n  from compute hostsm, omitting controllers off the cells scaling loop.\n\nAddress that requirement by making sure the task\nadd_internalapi_hosts_entries.yml is executed for Controllers and also\nComputes.\n\nRelated: rhbz#2112371\nChange-Id: I38e91b68bdd53b08fa59892a81a1d9a02f8ad816\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",2,851522,06fc3feb9383420dbe1a5202cbb9683030dcf4ba,7,6,2,6926,,,0,"[Train-only] Add cell(s) controllers VIPs for computes /etc/hosts

In layered OSP products based on Train, we use two methods of adding
host entries for cell controller VIP(s) in mult-cell
environments:

- 16.2: I47b95ad46e2d4e5b1f370a2f840826e87da2d703 no longer
  uses compute hosts for cell_v2 discovery. In that case, having
  /etc/hosts entries for the Cell(s) controllers DB VIP(s) added
  only for Central controllers is sufficient.
- 16.1 (is in maintainance mode): it misses that backport for
  I47b95ad46e2d4e5b1f370a2f840826e87da2d703. And for that case,
  also compute hosts need those /etc/hosts entries added
  for each cellX controller database VIP to run cells v2 discovery
  from compute hostsm, omitting controllers off the cells scaling loop.

Address that requirement by making sure the task
add_internalapi_hosts_entries.yml is executed for Controllers and also
Computes.

Related: rhbz#2112371
Change-Id: I38e91b68bdd53b08fa59892a81a1d9a02f8ad816
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/22/851522/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/create-nova-cell-v2.yaml'],1,fd7f9433c8e0ca74a42d1b62bc85480992ab22b7,,- hosts: Controller:Compute,- hosts: Controller,1,1
openstack%2Fskyline-console~master~Ic0d18fe0e5b2148b78e1c7d24e1948160d1c43c5,openstack/skyline-console,master,Ic0d18fe0e5b2148b78e1c7d24e1948160d1c43c5,fix: fix the action collection of zun container,MERGED,2022-08-04 07:17:22.000000000,2022-08-04 11:21:05.000000000,2022-08-04 11:19:59.000000000,"[{'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 28706}, {'_account_id': 28743}, {'_account_id': 30434}, {'_account_id': 30597}, {'_account_id': 33196}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35160}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-08-04 07:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/904e2b2ff7b9cbf9cf772495258ae1d4b909dd73', 'message': 'fix: fix the action collection of zun container\n\n1. Put the status operations in one collection\n2. Add danger style to force delete\n\nChange-Id: Ic0d18fe0e5b2148b78e1c7d24e1948160d1c43c5\n'}, {'number': 2, 'created': '2022-08-04 07:20:02.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/pages/container-service/containers/Containers/actions/ForceDelete.jsx', 'src/pages/container-service/containers/Containers/actions/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f801b77f830fe272e1e244ddf89658276d294c18', 'message': 'fix: fix the action collection of zun container\n\n1. Put the status operations in one collection\n2. Add danger style to force delete\n\nChange-Id: Ic0d18fe0e5b2148b78e1c7d24e1948160d1c43c5\n'}]",0,852083,f801b77f830fe272e1e244ddf89658276d294c18,18,12,2,33689,,,0,"fix: fix the action collection of zun container

1. Put the status operations in one collection
2. Add danger style to force delete

Change-Id: Ic0d18fe0e5b2148b78e1c7d24e1948160d1c43c5
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/83/852083/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/pages/container-service/containers/Containers/actions/ForceDelete.jsx', 'config/webpack.dev.js', 'src/pages/container-service/containers/Containers/actions/index.jsx']",5,904e2b2ff7b9cbf9cf772495258ae1d4b909dd73,zun-sg,"const statusActions = [ StartContainer, StopContainer, RebootContainer, KillContainer, RebuildContainer, firstAction: DeleteContainer, { title: t('Container Status'), actions: [ ...statusActions, PauseContainer, UnpauseContainer, ExecuteCommandContainer, ], }, { action: EditContainer, }, { action: ForceDeleteContainer, }, firstAction: DeleteContainer, moreActions: [ { title: t('Container Status'), actions: statusActions, }, { action: EditContainer, }, { action: ForceDeleteContainer, }, ],","const moreActions = [ { action: StartContainer }, { action: StopContainer }, { action: RebootContainer }, { action: KillContainer }, { action: RebuildContainer }, { action: DeleteContainer }, { action: ForceDeleteContainer }, firstAction: EditContainer, { action: PauseContainer }, { action: UnpauseContainer }, { action: ExecuteCommandContainer }, ...moreActions, firstAction: EditContainer, moreActions,",44,16
openstack%2Ftripleo-quickstart-extras~master~I12b9f3d2ac4cba8862b4e3297c5a60f47d7185c8,openstack/tripleo-quickstart-extras,master,I12b9f3d2ac4cba8862b4e3297c5a60f47d7185c8,[ovn] Remove member_role from load_balancer config,ABANDONED,2022-07-19 10:12:46.000000000,2022-08-04 11:09:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-19 10:12:46.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9f880b55ac62b2d35a7df9f91d258ad42027c437', 'message': '[ovn] Remove member_role from load_balancer config\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/850225\nadds load_balancer.RBAC_test_type: ""keystone_default_roles"".\n\nIn order to work RBAC_test_type, we donot need member role.\nhttps://opendev.org/openinfra/python-tempestconf/src/commit/7ee63b1517b7412c8e25f2842b207339a70f62c6/config_tempest/services/octavia.py#L49\napprently addes it back.\n\nIn Order to remove the member_role from the tempestconfig,\nIt uses the python-tempestconf profile remove functionality\nand remove it after post config generation.\n\nCloses-Bug: #1981829\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I12b9f3d2ac4cba8862b4e3297c5a60f47d7185c8\n'}]",1,850304,9f880b55ac62b2d35a7df9f91d258ad42027c437,6,2,1,12393,,,0,"[ovn] Remove member_role from load_balancer config

https://review.opendev.org/c/openstack/tripleo-ci/+/850225
adds load_balancer.RBAC_test_type: ""keystone_default_roles"".

In order to work RBAC_test_type, we donot need member role.
https://opendev.org/openinfra/python-tempestconf/src/commit/7ee63b1517b7412c8e25f2842b207339a70f62c6/config_tempest/services/octavia.py#L49
apprently addes it back.

In Order to remove the member_role from the tempestconfig,
It uses the python-tempestconf profile remove functionality
and remove it after post config generation.

Closes-Bug: #1981829

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I12b9f3d2ac4cba8862b4e3297c5a60f47d7185c8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/04/850304/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,9f880b55ac62b2d35a7df9f91d258ad42027c437,bug/1981829," - name: Remove member role from loadbalancer tempest config when: - 'scenario010-ovn' in zuul.job - release not in ['train'] block: - name: Set var for member role removal set_fact: tempest_tempestconf_removal: remove: load_balancer.member_role: member - name: Merge tempest_tempestconf_profile_extras set_fact: tempest_tempestconf_profile_extras: ""{{ tempest_tempestconf_profile_extras | combine(tempest_tempestconf_removal, recursive=True) }}"" ",,15,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I75a27ca496fb7670ba22a6a22f62f001c8afe6a9,openstack/tripleo-ansible,stable/wallaby,I75a27ca496fb7670ba22a6a22f62f001c8afe6a9,Use ubi9-init image as base,MERGED,2022-07-06 06:55:55.000000000,2022-08-04 10:57:21.000000000,2022-08-04 10:53:47.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-07-06 06:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ec4cca698b00ac31f01f5a9d4fbbe39061cdca1b', 'message': 'Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n'}, {'number': 2, 'created': '2022-07-06 07:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c349fad842c7280790c9c21aff60e2230431d7c', 'message': 'Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n'}, {'number': 3, 'created': '2022-07-06 07:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/152fda14385fb24bb59f3c75f8735148f3f8f274', 'message': 'Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n'}, {'number': 4, 'created': '2022-07-06 12:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b846eab2610cfc2ec0f2e50a836dd71ebc72fc7f', 'message': 'Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n'}, {'number': 5, 'created': '2022-07-06 13:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3d85bc894af4eda711fbe57c4af082a2920575f5', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- It adds ansible-lint to molecule-requirements.yaml\n  to fix No module named 'ansiblelint.prerun'\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 6, 'created': '2022-07-07 11:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a298820f358cd1ec85fe638b3f0271e860a34404', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 7, 'created': '2022-07-07 13:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7fed6d84c2bfd73c869f37ccc90a6dfe0fe9409', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 8, 'created': '2022-07-11 15:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b6091c96d957c15331a4b57a97182fd246a62329', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 9, 'created': '2022-07-18 04:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0ee1108f584a9e749df86bfde8f737e43173f6c', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 10, 'created': '2022-07-25 10:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c0a785b915a5b8ea606622b64ade116ded11dbc', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 11, 'created': '2022-07-26 10:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/174992e98c8cfabc64bc7172a3279c00f49bb850', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 12, 'created': '2022-07-27 14:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5117d98a449e49afb925fdd5fe3592c5fa81e539', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n- This includes the commit 0bc2fa808d34235ffe7cf8d36920f6d96f0685b5\n  which fixed the issue with the original change in master.\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 13, 'created': '2022-07-28 03:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e704a9d35438b153d6ed5a5147334e34c9bbeca5', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n- This includes the commit 0bc2fa808d34235ffe7cf8d36920f6d96f0685b5\n  which fixed the issue with the original change in master.\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 14, 'created': '2022-08-01 06:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57199bd08c10972b4ccf2dd198c802828d0bfeff', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n- This includes the commit 0bc2fa808d34235ffe7cf8d36920f6d96f0685b5\n  which fixed the issue with the original change in master.\n- Used pre-tasks workaround in prepare.yml from\n  https://www.jeffgeerling.com/blog/2020/resolving-fedora-dnf-error-no-such-file-or-directory-varlibdnfrpmdblockpid\n  to fix tripleo_packages molecule job.\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 15, 'created': '2022-08-01 06:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f21c70ca4ee8e50a45b669a4aa62c1c08ba72936', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n- This includes the commit 0bc2fa808d34235ffe7cf8d36920f6d96f0685b5\n  which fixed the issue with the original change in master.\n- Used pre-tasks workaround in prepare.yml from\n  https://www.jeffgeerling.com/blog/2020/resolving-fedora-dnf-error-no-such-file-or-directory-varlibdnfrpmdblockpid\n  to fix tripleo_packages molecule job.\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 16, 'created': '2022-08-01 08:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1ede802cd1b8a694e53616bb4d892d72115e9da9', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n- This includes the commit 0bc2fa808d34235ffe7cf8d36920f6d96f0685b5\n  which fixed the issue with the original change in master.\n- Used pre-tasks workaround in prepare.yml from\n  https://www.jeffgeerling.com/blog/2020/resolving-fedora-dnf-error-no-such-file-or-directory-varlibdnfrpmdblockpid\n  to fix tripleo_packages molecule job.\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 17, 'created': '2022-08-01 08:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4936c4fa012f2708b1f0435e78a9e0a3ab368c5f', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n- This includes the commit 0bc2fa808d34235ffe7cf8d36920f6d96f0685b5\n  which fixed the issue with the original change in master.\n- Used pre-tasks workaround in prepare.yml from\n  https://www.jeffgeerling.com/blog/2020/resolving-fedora-dnf-error-no-such-file-or-directory-varlibdnfrpmdblockpid\n  to fix tripleo_packages molecule job.\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 18, 'created': '2022-08-02 08:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e591650708781d8c520b45c2019114a2a9ec8e8d', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n- This includes the commit 0bc2fa808d34235ffe7cf8d36920f6d96f0685b5\n  which fixed the issue with the original change in master.\n- Marking tripleo-ansible-centos-stream-molecule-tripleo_packages\n  to non-voting due to\n  https://bugs.launchpad.net/tripleo/+bug/1983347\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\nRelated-Bug: #1983347\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}, {'number': 19, 'created': '2022-08-03 04:46:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'tripleo_ansible/roles/test_deps/vars/redhat-9.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_validations_package/tasks/main.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/molecule.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/test_deps/vars/centos-9.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/molecule.yml', 'bindep.txt', 'tripleo_ansible/roles/tripleo_collectd/molecule/common/prepare.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/common/prepare.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pre.yaml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-edge-node/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/internal-tls/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', '_skeleton_role_/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-interior-node/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/default/molecule.yml', 'zuul.d/base.yaml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/prepare.yml', '.config/molecule/config_podman.yml', 'molecule-requirements.txt', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/molecule.yml', 'tox.ini', 'tripleo_ansible/roles/backup_and_restore/molecule/cli_undercloud_backup_db/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b666c78954fbbe7edfd50b6b949c4921fc6c5518', 'message': ""Use ubi9-init image as base\n\nCentOS-8 no longer exists and existing jobs are running\non centos-stream-8. There will be no openstack master\nrpm packages for centos-stream-8.\n\nIn order to use ubi9-init image in molecule jobs,\nwe need to include following workarounds:\n- redhat-release package(RH specific package) is installed in ubi-init\n  which does not work with centos-stream package.\n  On removing redhat-release, dnf ansible breaks as they did not find\n  --releasever during package installation.\n  - By adding releasever in the package module fixes the issue.\n- In Molecule job, we can use any hostname either of centos or ubi both\n  will work.\n- It changes the nodeset and image to ubi9.\n- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking\n  and upstream requirements file to avoid cyclic dependency\n  issue.\n- Set enable_fips: true in collectd jobs as in molecule it is not\n  needed otherwise job will enter into retry_limit.\n\nWe cannot use centos:stream9 image as, init support is removed\nfrom there.\n\nBelow is the list of following jobs marked non-voting\ndue to following bugs.\n- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo-modules\n  - https://bugs.launchpad.net/tripleo/+bug/1979807\n- tripleo-ansible-centos-stream-molecule-tripleo_container_manage\n  - https://bugs.launchpad.net/tripleo/+bug/1979810\n- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce\n  - https://bugs.launchpad.net/tripleo/+bug/1979971\n- tripleo-ansible-centos-stream-molecule-tripleo_collectd\n  - https://bugs.launchpad.net/tripleo/+bug/1979972\n- tripleo-ansible-centos-stream-molecule-backup_and_restore\n  - https://bugs.launchpad.net/tripleo/+bug/1980198\n\nNote: It is not a clean cherry pick.\n- Remove cap from molecule dependency\n  to fix No module named 'ansiblelint.prerun'\n- Populate wallaby repos using tripleo-repos tool\n- This includes the commit 0bc2fa808d34235ffe7cf8d36920f6d96f0685b5\n  which fixed the issue with the original change in master.\n- Marking tripleo-ansible-centos-stream-molecule-tripleo_packages\n  to non-voting due to\n  https://bugs.launchpad.net/tripleo/+bug/1983347\n\nRelated-Bug: #1979807\nRelated-Bug: #1979810\nRelated-Bug: #1979971\nRelated-Bug: #1979972\nRelated-Bug: #1980198\nRelated-Bug: #1983347\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9\n(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)\n""}]",8,848810,b666c78954fbbe7edfd50b6b949c4921fc6c5518,76,5,19,12393,,,0,"Use ubi9-init image as base

CentOS-8 no longer exists and existing jobs are running
on centos-stream-8. There will be no openstack master
rpm packages for centos-stream-8.

In order to use ubi9-init image in molecule jobs,
we need to include following workarounds:
- redhat-release package(RH specific package) is installed in ubi-init
  which does not work with centos-stream package.
  On removing redhat-release, dnf ansible breaks as they did not find
  --releasever during package installation.
  - By adding releasever in the package module fixes the issue.
- In Molecule job, we can use any hostname either of centos or ubi both
  will work.
- It changes the nodeset and image to ubi9.
- Install pip < 20.3.0 to avoid https://pip.pypa.io/en/stable/topics/dependency-resolution/#backtracking
  and upstream requirements file to avoid cyclic dependency
  issue.
- Set enable_fips: true in collectd jobs as in molecule it is not
  needed otherwise job will enter into retry_limit.

We cannot use centos:stream9 image as, init support is removed
from there.

Below is the list of following jobs marked non-voting
due to following bugs.
- tripleo-ansible-centos-stream-molecule-tripleo_update_trusted_cas
  - https://bugs.launchpad.net/tripleo/+bug/1979807
- tripleo-ansible-centos-stream-molecule-tripleo-modules
  - https://bugs.launchpad.net/tripleo/+bug/1979807
- tripleo-ansible-centos-stream-molecule-tripleo_container_manage
  - https://bugs.launchpad.net/tripleo/+bug/1979810
- tripleo-ansible-centos-stream-molecule-tripleo_redhat_enforce
  - https://bugs.launchpad.net/tripleo/+bug/1979971
- tripleo-ansible-centos-stream-molecule-tripleo_collectd
  - https://bugs.launchpad.net/tripleo/+bug/1979972
- tripleo-ansible-centos-stream-molecule-backup_and_restore
  - https://bugs.launchpad.net/tripleo/+bug/1980198

Note: It is not a clean cherry pick.
- Remove cap from molecule dependency
  to fix No module named 'ansiblelint.prerun'
- Populate wallaby repos using tripleo-repos tool
- This includes the commit 0bc2fa808d34235ffe7cf8d36920f6d96f0685b5
  which fixed the issue with the original change in master.
- Marking tripleo-ansible-centos-stream-molecule-tripleo_packages
  to non-voting due to
  https://bugs.launchpad.net/tripleo/+bug/1983347

Related-Bug: #1979807
Related-Bug: #1979810
Related-Bug: #1979971
Related-Bug: #1979972
Related-Bug: #1980198
Related-Bug: #1983347

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I75a27ca496fb7670ba22a6a22f62f001c8afe6a9
(cherry picked from commit 4c9233d07c0886871719b46b2801c7b0565f26cc)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/10/848810/17 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'tripleo_ansible/roles/test_deps/vars/redhat-9.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_validations_package/tasks/main.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/molecule.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/test_deps/vars/centos-9.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/molecule.yml', 'bindep.txt', 'tripleo_ansible/roles/tripleo_collectd/molecule/common/prepare.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/common/prepare.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pre.yaml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-edge-node/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/internal-tls/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', '_skeleton_role_/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-interior-node/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/default/molecule.yml', 'zuul.d/base.yaml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/molecule.yml', 'tox.ini', 'tripleo_ansible/roles/backup_and_restore/molecule/cli_undercloud_backup_db/prepare.yml']",43,ec4cca698b00ac31f01f5a9d4fbbe39061cdca1b,unified_mol_config,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all become: true gather_facts: true pre_tasks: - name: set basic user fact set_fact: ansible_user: ""{{ lookup('env', 'USER') }}"" when: - ansible_user is undefined - name: set basic home fact set_fact: ansible_user_dir: ""{{ lookup('env', 'HOME') }}"" when: - ansible_user_dir is undefined - name: Disable SELinux selinux: state: disabled roles: - role: test_deps test_deps_setup_tripleo: true test_deps_tripleo_packages: - hiera - podman test_deps_extra_packages: - rear - syslinux - genisoimage - kbd post_tasks: - name: Create hiera config file file: path: ""{{ ansible_user_dir }}/hiera.yaml"" state: touch - name: Create hieradata directory file: path: ""{{ ansible_user_dir }}/hieradata"" state: directory mode: '0755' - name: Insert some data into hiera.yaml copy: dest: ""{{ ansible_user_dir }}/hiera.yaml"" content: | --- :backends: - json :json: :datadir: {{ ansible_user_dir }}/hieradata :hierarchy: - service_configs - name: Insert some data into service_configs.json copy: dest: ""{{ ansible_user_dir }}/hieradata/service_configs.json"" content: | { ""mysql::server::root_password"": ""password"" } - name: pull some images containers.podman.podman_image: name: ""{{ item }}"" with_items: - registry.access.redhat.com/ubi9/ubi-minimal - docker.io/mysql - name: Create a data container containers.podman.podman_container: name: ""{{ item }}"" image: ubi-minimal state: started command: sleep 1d with_items: - test-container1 - test-container2 - name: Start myql container containers.podman.podman_container: name: mysql image: mysql state: started env: MYSQL_ROOT_PASSWORD: password MYSQL_PORT: 3306 - name: Wait until mysql is up shell: podman exec mysql bash -c ""find /run/mysqld/mysqld.sock -type s"" register: mysql_result until: mysql_result.rc == 0 retries: 20 delay: 5 ",,665,525
openstack%2Ftripleo-ci~master~I4b938e5b1a5107c1e225af339ee24d92122021ee,openstack/tripleo-ci,master,I4b938e5b1a5107c1e225af339ee24d92122021ee,Add tripleo-mount-image script to irrelevant files,MERGED,2022-08-04 03:11:48.000000000,2022-08-04 10:53:52.000000000,2022-08-04 10:53:52.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-04 03:11:48.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9792065c8bde1a17e7de88bdfb31e89037641374', 'message': 'Add tripleo-mount-image script to irrelevant files\n\nThis appears to be preventing [1] from merging, and these scripts do\nnot get any test coverage from openstack zuul (RDO jobs *do* use\ntripleo-mount-image, so some testing coverage comes from there)\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/828412\n\nChange-Id: I4b938e5b1a5107c1e225af339ee24d92122021ee\n'}]",1,852068,9792065c8bde1a17e7de88bdfb31e89037641374,8,6,1,4571,,,0,"Add tripleo-mount-image script to irrelevant files

This appears to be preventing [1] from merging, and these scripts do
not get any test coverage from openstack zuul (RDO jobs *do* use
tripleo-mount-image, so some testing coverage comes from there)

[1] https://review.opendev.org/c/openstack/tripleo-common/+/828412

Change-Id: I4b938e5b1a5107c1e225af339ee24d92122021ee
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/68/852068/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/upgrades-jobs-templates.yaml'],1,9792065c8bde1a17e7de88bdfb31e89037641374,irellmount, - ^scripts/tripleo-mount-image$ - ^scripts/tripleo-unmount-image$ - ^scripts/tripleo-mount-image$ - ^scripts/tripleo-unmount-image$ - ^scripts/tripleo-mount-image$ - ^scripts/tripleo-unmount-image$,,6,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id9f481f3fe75169bd4c3d721e23e847a1b6c8c43,openstack/tripleo-heat-templates,stable/wallaby,Id9f481f3fe75169bd4c3d721e23e847a1b6c8c43,Use conditions with Host prep block tasks,MERGED,2022-08-04 03:11:22.000000000,2022-08-04 10:53:43.000000000,2022-08-04 10:53:43.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-08-04 03:11:22.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/492005071abfcb010292ad464cb26ecb2babef25', 'message': ""Use conditions with Host prep block tasks\n\nAnsible free/tripleo_free strategies do not work well\nfor blocks with conditions, containing include_tasks.\nConditions ( i.e when: ) at times get mixed up resulting\nin wrong condition being evaluated. As blocks are only\nlogical entities (conditions evaluated per task), we\nshouldn't have any problem moving the conditions to tasks\nin Host prep block to avoid the issue.\n\nThis fixes intermittent chrony failures in host_prep_tasks.\n\nNote: This is a workaround as we've to backport it all\nthe way till train and has to be fixed in core ansible[1]\nin the future.\n\n[1] https://github.com/ansible/ansible/issues/60512\n\nResolves: rhbz#2084075\nResolves: rhbz#2111237\nChange-Id: Id9f481f3fe75169bd4c3d721e23e847a1b6c8c43\n(cherry picked from commit e728e8cc8e2442b092c3f4f5d6e0296a779cd3dd)\n""}]",0,851887,492005071abfcb010292ad464cb26ecb2babef25,8,4,1,8833,,,0,"Use conditions with Host prep block tasks

Ansible free/tripleo_free strategies do not work well
for blocks with conditions, containing include_tasks.
Conditions ( i.e when: ) at times get mixed up resulting
in wrong condition being evaluated. As blocks are only
logical entities (conditions evaluated per task), we
shouldn't have any problem moving the conditions to tasks
in Host prep block to avoid the issue.

This fixes intermittent chrony failures in host_prep_tasks.

Note: This is a workaround as we've to backport it all
the way till train and has to be fixed in core ansible[1]
in the future.

[1] https://github.com/ansible/ansible/issues/60512

Resolves: rhbz#2084075
Resolves: rhbz#2111237
Change-Id: Id9f481f3fe75169bd4c3d721e23e847a1b6c8c43
(cherry picked from commit e728e8cc8e2442b092c3f4f5d6e0296a779cd3dd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/851887/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,492005071abfcb010292ad464cb26ecb2babef25,, when: - tripleo_role_name == '{{role.name}}' - name: {{role.name}} Host prep tasks include_tasks: {{role.name}}/host_prep_tasks.yaml when: - tripleo_role_name == '{{role.name}}', when: - tripleo_role_name == '{{role.name}}' - include_tasks: {{role.name}}/host_prep_tasks.yaml,6,3
openstack%2Fironic~bugfix%2F18.1~I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b,openstack/ironic,bugfix/18.1,I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b,Fix Redfish RAID to update raid_config,MERGED,2022-07-29 14:13:54.000000000,2022-08-04 10:53:01.000000000,2022-08-04 10:50:39.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-29 14:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/59e1c11ab6285b1580c9c8395116c9b114a814f1', 'message': 'Fix Redfish RAID to update raid_config\n\nStory: 2003514\nTask: 41940\n\n Conflicts:\n       ironic/drivers/modules/redfish/raid.py\n       ironic/tests/unit/drivers/modules/redfish/test_raid.py\n\nChange-Id: I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b\n(cherry picked from commit 29364b7fb40327dc277c535e5b829133274ad420)\n'}, {'number': 2, 'created': '2022-08-03 14:33:01.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/fix-redfish-raid-config-9e868c3e069475a1.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c78bbef83d1e215664203698ca8b40f2653661b', 'message': 'Fix Redfish RAID to update raid_config\n\nStory: 2003514\nTask: 41940\n\n Conflicts:\n       ironic/drivers/modules/redfish/raid.py\n       ironic/tests/unit/drivers/modules/redfish/test_raid.py\n\nChange-Id: I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b\n(cherry picked from commit 29364b7fb40327dc277c535e5b829133274ad420)\n'}]",0,851527,1c78bbef83d1e215664203698ca8b40f2653661b,15,3,2,27909,,,0,"Fix Redfish RAID to update raid_config

Story: 2003514
Task: 41940

 Conflicts:
       ironic/drivers/modules/redfish/raid.py
       ironic/tests/unit/drivers/modules/redfish/test_raid.py

Change-Id: I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b
(cherry picked from commit 29364b7fb40327dc277c535e5b829133274ad420)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/851527/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/fix-redfish-raid-config-9e868c3e069475a1.yaml']",5,59e1c11ab6285b1580c9c8395116c9b114a814f1,redfish-raid,"--- fixes: - | Fixes ``redfish`` and ``idrac-redfish`` RAID ``create_configuration``, ``apply_configuration``, ``delete_configuration`` clean and deploy steps to update node's ``raid_config`` field at the end of the steps. ",,165,5
openstack%2Fproject-config~master~I4ae1d93a13c47bdc5732854ab441a88e2f4e3473,openstack/project-config,master,I4ae1d93a13c47bdc5732854ab441a88e2f4e3473,Fix mismatch for openEuler image name,MERGED,2022-08-04 09:50:10.000000000,2022-08-04 10:52:06.000000000,2022-08-04 10:13:16.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-04 09:50:10.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/277f30bdc6be49835ea6aba12c7703b1c5ed2412', 'message': 'Fix mismatch for openEuler image name\n\nOne instance was missing the -LTS suffix.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I4ae1d93a13c47bdc5732854ab441a88e2f4e3473\n'}]",1,852127,277f30bdc6be49835ea6aba12c7703b1c5ed2412,7,2,1,13252,,,0,"Fix mismatch for openEuler image name

One instance was missing the -LTS suffix.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I4ae1d93a13c47bdc5732854ab441a88e2f4e3473
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/852127/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,277f30bdc6be49835ea6aba12c7703b1c5ed2412,fix-nodepool, - name: openEuler-22-03-LTS, - name: openEuler-22-03,1,1
openstack%2Fironic~bugfix%2F18.1~Ia2ce34f09695731b0f48798f662006c4904e2223,openstack/ironic,bugfix/18.1,Ia2ce34f09695731b0f48798f662006c4904e2223,Fix Redfish RAID for non-immediate controllers,MERGED,2022-07-28 14:18:26.000000000,2022-08-04 10:51:52.000000000,2022-08-04 10:50:32.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-28 14:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ddd540141d4b6253048f17439befbee84dc47774', 'message': ""Fix Redfish RAID for non-immediate controllers\n\nFixes ``redfish`` RAID interface workflow to not create more than 1\nlogical disks per controller at the same time when controller does not\nsupport 'Immediate' application time and system needs rebooting.\n\nWith this fix virtual disks are grouped by controller and executed\nin batches when reboot is required.\n\nThis enables ``redfish`` RAID interface to be used with iDRAC systems\ndirectly as although there are many controllers that support 'Immediate'\napplication time, they do it only when system has completed loading.\nSystem intermittently completes loading after IPA starts executing\nclean or deploy steps rendering controllers not supporting 'Immediate'\napply time and requiring reboot. This fix handles such scenario\ninstead of failing to create more than 1 virtual disk.\n\nStory: 2009863\nTask: 44529\n\nConflicts:\n       ironic/drivers/modules/redfish/raid.py\n       ironic/tests/unit/drivers/modules/redfish/test_raid.py\n\nChange-Id: Ia2ce34f09695731b0f48798f662006c4904e2223\n(cherry picked from commit d7d8f8754b36af4b686ce540e699fc5cb945c10c)\n""}, {'number': 2, 'created': '2022-07-29 14:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3861d02146835a12901f4d244ec036d5faee855', 'message': ""Fix Redfish RAID for non-immediate controllers\n\nFixes ``redfish`` RAID interface workflow to not create more than 1\nlogical disks per controller at the same time when controller does not\nsupport 'Immediate' application time and system needs rebooting.\n\nWith this fix virtual disks are grouped by controller and executed\nin batches when reboot is required.\n\nThis enables ``redfish`` RAID interface to be used with iDRAC systems\ndirectly as although there are many controllers that support 'Immediate'\napplication time, they do it only when system has completed loading.\nSystem intermittently completes loading after IPA starts executing\nclean or deploy steps rendering controllers not supporting 'Immediate'\napply time and requiring reboot. This fix handles such scenario\ninstead of failing to create more than 1 virtual disk.\n\nStory: 2009863\nTask: 44529\n\n Conflicts:\n       ironic/drivers/modules/redfish/raid.py\n\nChange-Id: Ia2ce34f09695731b0f48798f662006c4904e2223\n(cherry picked from commit d7d8f8754b36af4b686ce540e699fc5cb945c10c)\n""}, {'number': 3, 'created': '2022-08-03 14:33:01.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'doc/source/admin/drivers/idrac.rst', 'releasenotes/notes/fix-redfish-raid-onreset-workflow-bfa44de6b0263a1f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/046ddf4e6a1260e96227cfe39c0ad2d29923d621', 'message': ""Fix Redfish RAID for non-immediate controllers\n\nFixes ``redfish`` RAID interface workflow to not create more than 1\nlogical disks per controller at the same time when controller does not\nsupport 'Immediate' application time and system needs rebooting.\n\nWith this fix virtual disks are grouped by controller and executed\nin batches when reboot is required.\n\nThis enables ``redfish`` RAID interface to be used with iDRAC systems\ndirectly as although there are many controllers that support 'Immediate'\napplication time, they do it only when system has completed loading.\nSystem intermittently completes loading after IPA starts executing\nclean or deploy steps rendering controllers not supporting 'Immediate'\napply time and requiring reboot. This fix handles such scenario\ninstead of failing to create more than 1 virtual disk.\n\nStory: 2009863\nTask: 44529\n\n Conflicts:\n       ironic/drivers/modules/redfish/raid.py\n\nChange-Id: Ia2ce34f09695731b0f48798f662006c4904e2223\n(cherry picked from commit d7d8f8754b36af4b686ce540e699fc5cb945c10c)\n""}]",3,851413,046ddf4e6a1260e96227cfe39c0ad2d29923d621,22,3,3,23851,,,0,"Fix Redfish RAID for non-immediate controllers

Fixes ``redfish`` RAID interface workflow to not create more than 1
logical disks per controller at the same time when controller does not
support 'Immediate' application time and system needs rebooting.

With this fix virtual disks are grouped by controller and executed
in batches when reboot is required.

This enables ``redfish`` RAID interface to be used with iDRAC systems
directly as although there are many controllers that support 'Immediate'
application time, they do it only when system has completed loading.
System intermittently completes loading after IPA starts executing
clean or deploy steps rendering controllers not supporting 'Immediate'
apply time and requiring reboot. This fix handles such scenario
instead of failing to create more than 1 virtual disk.

Story: 2009863
Task: 44529

 Conflicts:
       ironic/drivers/modules/redfish/raid.py

Change-Id: Ia2ce34f09695731b0f48798f662006c4904e2223
(cherry picked from commit d7d8f8754b36af4b686ce540e699fc5cb945c10c)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/13/851413/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'doc/source/admin/drivers/idrac.rst', 'releasenotes/notes/fix-redfish-raid-onreset-workflow-bfa44de6b0263a1f.yaml']",4,ddd540141d4b6253048f17439befbee84dc47774,redfish-raid,--- fixes: - | Fixes the ``redfish`` hardware type RAID device creation and deletion when creating or deleting more than 1 logical disk on RAID controllers that require rebooting and do not allow more than 1 running task per RAID controller. Before this fix 2nd logical disk would fail to be created or deleted. With this change it is now possible to use ``redfish`` ``raid`` interface on iDRAC systems. ,,544,155
openstack%2Fopenstack-ansible~stable%2Fyoga~I69f90cf5da035777570a733644efa95a18634039,openstack/openstack-ansible,stable/yoga,I69f90cf5da035777570a733644efa95a18634039,Correct series names for documentation.,MERGED,2022-08-03 12:20:53.000000000,2022-08-04 10:43:21.000000000,2022-08-04 10:41:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-08-03 12:20:53.000000000', 'files': ['doc/source/conf.py', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0a323c6024afa14433d9278a9608367c6ba2ba15', 'message': 'Correct series names for documentation.\n\nThe upgrade guide renders the wrong release names.\n\nChange-Id: I69f90cf5da035777570a733644efa95a18634039\n(cherry picked from commit 93b35e0b68f451b3d172ee6f3b43c906c12cde30)\n'}]",0,851882,0a323c6024afa14433d9278a9608367c6ba2ba15,8,3,1,31542,,,0,"Correct series names for documentation.

The upgrade guide renders the wrong release names.

Change-Id: I69f90cf5da035777570a733644efa95a18634039
(cherry picked from commit 93b35e0b68f451b3d172ee6f3b43c906c12cde30)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/82/851882/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'deploy-guide/source/conf.py']",2,0a323c6024afa14433d9278a9608367c6ba2ba15,,previous_series_name = 'xena' current_series_name = 'yoga',previous_series_name = 'wallaby' current_series_name = 'xena',4,4
openstack%2Fneutron-dynamic-routing~master~I15ef7ec34eeccf4dfcce94b3bca2c853c4c4a609,openstack/neutron-dynamic-routing,master,I15ef7ec34eeccf4dfcce94b3bca2c853c4c4a609,Fix missing functions in StaticScheduler,MERGED,2022-07-09 07:55:20.000000000,2022-08-04 10:42:10.000000000,2022-08-04 10:41:02.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16137}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2022-07-09 07:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/794b8af662d44cbcf7d64351442a30e49eb21607', 'message': 'Fix missing functions in StaticScheduler\n\nSeems the original approach was too simple, it is causing some\ntracebacks due to missing functions.\n\nCloses-Bug: 1980235\nChange-Id: I15ef7ec34eeccf4dfcce94b3bca2c853c4c4a609\n'}, {'number': 2, 'created': '2022-07-09 16:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/2f94fa353b698a9d3dfe82b09198172a7ad20601', 'message': 'Fix missing functions in StaticScheduler\n\nSeems the original approach was too simple, it is causing some\ntracebacks due to missing functions.\n\nCloses-Bug: 1980235\nChange-Id: I15ef7ec34eeccf4dfcce94b3bca2c853c4c4a609\n'}, {'number': 3, 'created': '2022-08-02 06:41:50.000000000', 'files': ['neutron_dynamic_routing/services/bgp/scheduler/bgp_dragent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/012f2358d23ef72518ef9bdef8a39f31b1fb86e2', 'message': 'Fix missing functions in StaticScheduler\n\nSeems the original approach was too simple, it is causing some\ntracebacks due to missing functions.\n\nCloses-Bug: 1980235\nChange-Id: I15ef7ec34eeccf4dfcce94b3bca2c853c4c4a609\n'}]",9,849178,012f2358d23ef72518ef9bdef8a39f31b1fb86e2,26,9,3,13252,,,0,"Fix missing functions in StaticScheduler

Seems the original approach was too simple, it is causing some
tracebacks due to missing functions.

Closes-Bug: 1980235
Change-Id: I15ef7ec34eeccf4dfcce94b3bca2c853c4c4a609
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/78/849178/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/services/bgp/scheduler/bgp_dragent_scheduler.py'],1,794b8af662d44cbcf7d64351442a30e49eb21607,fix-static-scheduler,"class StaticScheduler(base_scheduler.BaseScheduler, BgpDrAgentFilter): def schedule_all_unscheduled_bgp_speakers(self, context): return True def schedule_unscheduled_bgp_speakers(self, context, host): return True",class StaticScheduler(BgpDrAgentFilter):,7,1
openstack%2Fnova~master~I2dbdcbe2f462e9894c06ed7fb139d742184369dc,openstack/nova,master,I2dbdcbe2f462e9894c06ed7fb139d742184369dc,SR-IOV passthrough: Check PF only if VF is enabled,ABANDONED,2017-06-22 17:38:04.000000000,2022-08-04 10:33:25.000000000,,"[{'_account_id': 3}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 12171}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19944}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 22560}, {'_account_id': 23498}, {'_account_id': 24713}, {'_account_id': 25588}, {'_account_id': 25733}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2017-06-22 17:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f87b67a3bbe936a313f651e6466c698657c7c1a1', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 2, 'created': '2017-07-10 21:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5430d0e19d91a8ecf2ed45bcb63ce03ca490d587', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 3, 'created': '2017-08-05 20:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/540b73520a93709941075d70e8950de099e2b4c4', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 4, 'created': '2017-08-21 09:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a652d1e3f369ba21641db3f7224bd7bb8217d12', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 5, 'created': '2017-08-25 10:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eae53f9f068b6f7d5d5a0604fddc5e51f71b44ef', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 6, 'created': '2017-10-08 17:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94618a58b7381d19af583ed2243ab2248d0cb2cc', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 7, 'created': '2017-10-29 10:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96575446d4c370e95850763e822350e0ec0dc3b8', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 8, 'created': '2017-12-30 20:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/274344ea380738c589b9f86730fd0949359b81e1', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 9, 'created': '2018-03-11 20:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55c9956be2957db0accb94757da66212e1f7ab4e', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 10, 'created': '2018-04-02 10:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf6c0640847b92bc1cb65e850ab2bc9e249c63c3', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 11, 'created': '2019-01-18 14:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6752322f55744cda6008700d6627772bd3e6578b', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 12, 'created': '2019-01-25 20:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5776016bd5f5b57c323d145df9e8c626c23ea99', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 13, 'created': '2019-02-18 17:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dfb6745d619c3c358911b7388699530759ee71a', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 14, 'created': '2019-10-29 11:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fefd13ffaa2d0a7f76473c20f8adfd90d5c22e67', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 15, 'created': '2020-03-25 14:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd851cb0a582c072a9d9d8a6a0ce951258c9a801', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}, {'number': 16, 'created': '2020-05-11 13:34:23.000000000', 'files': ['nova/pci/utils.py', 'nova/tests/unit/pci/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f76bcb6248e0758013e79908afac8318fb476151', 'message': ""SR-IOV passthrough: Check PF only if VF is enabled\n\nSince change:\n 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1\n libvirt: report pci Type-PF type even when VFs are disabled\nAll devices having SR-IOV capabillity are cassified as PF\n(physical function) so they won't be used as assignable devices\neven though they don't activate any single VF (virtual function)\nat all.\n\nSome vendor's BIOS allows turn SR-IOV on/off for individual devices\nbut there are cases when this is not possible. Changes made in BIOS\nrequire far more hassle than changes in operating system. It is\npossible to set `numvfs` (number of device virtual functsions) via\nsysfs.\n https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci\n `/sys/bus/pci/devices/.../sriov_numvfs`\n\nThis patch makes `is_physical_function` decision based on `numvfs > 0`\nrather than `totalvfs`.\n\nIn such approach:\n - It is much simpler for operator to configure compute node.\n - It is possible for operator to use SR-IOV capable device as a\n   regular PCI device.\n\nChange-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc\nSigned-off-by: Minho Ban <mhban@samsung.com>\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}]",7,476642,f76bcb6248e0758013e79908afac8318fb476151,217,27,16,25588,,,0,"SR-IOV passthrough: Check PF only if VF is enabled

Since change:
 2ba4644f91aa523c2a14e32a168b853cf0b8c4e1
 libvirt: report pci Type-PF type even when VFs are disabled
All devices having SR-IOV capabillity are cassified as PF
(physical function) so they won't be used as assignable devices
even though they don't activate any single VF (virtual function)
at all.

Some vendor's BIOS allows turn SR-IOV on/off for individual devices
but there are cases when this is not possible. Changes made in BIOS
require far more hassle than changes in operating system. It is
possible to set `numvfs` (number of device virtual functsions) via
sysfs.
 https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-bus-pci
 `/sys/bus/pci/devices/.../sriov_numvfs`

This patch makes `is_physical_function` decision based on `numvfs > 0`
rather than `totalvfs`.

In such approach:
 - It is much simpler for operator to configure compute node.
 - It is possible for operator to use SR-IOV capable device as a
   regular PCI device.

Change-Id: I2dbdcbe2f462e9894c06ed7fb139d742184369dc
Signed-off-by: Minho Ban <mhban@samsung.com>
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/476642/15 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/utils.py', 'nova/tests/unit/pci/test_utils.py']",2,f87b67a3bbe936a313f651e6466c698657c7c1a1,sr-iov," numvf_path = ""/sys/class/net/{interface}/device/{attribute}"".format( interface=ifname, attribute=utils._SRIOV_NUMVFS) mock_open.assert_called_once_with(numvf_path)"," totalvf_path = ""/sys/class/net/%s/device/%s"" % (ifname, utils._SRIOV_TOTALVFS) mock_open.assert_called_once_with(totalvf_path)",10,13
openstack%2Fcharm-rabbitmq-server~master~I52674c98c97956327a98870d94493f5bb847fb73,openstack/charm-rabbitmq-server,master,I52674c98c97956327a98870d94493f5bb847fb73,Add lxd profile for nofile configuration,ABANDONED,2022-08-02 15:06:59.000000000,2022-08-04 10:27:18.000000000,,"[{'_account_id': 9247}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 15:06:59.000000000', 'files': ['lxd-profile.yaml', 'charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/8793e230d0febbbdc06620c13680a4857d7dd34f', 'message': 'Add lxd profile for nofile configuration\n\nUse the lxd-profile to up the nofile parameter to 65536, which is\nwhat the rabbitmq-server service is expecting. This defaults to\n1024, which may not be enough in large scale deployments.\n\nSigned-off-by: Arif Ali <arif.ali@canonical.com>\nChange-Id: I52674c98c97956327a98870d94493f5bb847fb73\n'}]",1,851896,8793e230d0febbbdc06620c13680a4857d7dd34f,6,3,1,9247,,,0,"Add lxd profile for nofile configuration

Use the lxd-profile to up the nofile parameter to 65536, which is
what the rabbitmq-server service is expecting. This defaults to
1024, which may not be enough in large scale deployments.

Signed-off-by: Arif Ali <arif.ali@canonical.com>
Change-Id: I52674c98c97956327a98870d94493f5bb847fb73
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/96/851896/1 && git format-patch -1 --stdout FETCH_HEAD,"['lxd-profile.yaml', 'charmcraft.yaml']",2,8793e230d0febbbdc06620c13680a4857d7dd34f,rmq_nofile_lxd, - lxd-profile.yaml,,3,0
openstack%2Fpuppet-openstack-integration~master~I20cbba28a6bb1cf0f77a87155a055c205d4b029c,openstack/puppet-openstack-integration,master,I20cbba28a6bb1cf0f77a87155a055c205d4b029c,Updated from Puppet OpenStack modules constraints,MERGED,2022-08-02 02:20:12.000000000,2022-08-04 10:21:18.000000000,2022-08-04 10:21:18.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 35162}]","[{'number': 1, 'created': '2022-08-02 02:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/43245df88c23f810cee3ad47485012f2113fc3aa', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I20cbba28a6bb1cf0f77a87155a055c205d4b029c\n'}, {'number': 2, 'created': '2022-08-04 02:22:29.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7356c53da293d447954207c6e0470079c65d35d1', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I20cbba28a6bb1cf0f77a87155a055c205d4b029c\n'}]",1,851783,7356c53da293d447954207c6e0470079c65d35d1,12,4,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I20cbba28a6bb1cf0f77a87155a055c205d4b029c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/83/851783/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,43245df88c23f810cee3ad47485012f2113fc3aa,openstack/puppet/constraints, :ref => '9.4.0', :ref => '9.3.0',1,1
openstack%2Fopenstack-ansible~stable%2Fyoga~I3dc516c7369d3bebf163f74277d2ebfbe20b15ee,openstack/openstack-ansible,stable/yoga,I3dc516c7369d3bebf163f74277d2ebfbe20b15ee,zuul: fix definition of centos 9 stream job,ABANDONED,2022-07-28 07:28:46.000000000,2022-08-04 10:17:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 07:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c94ad99e1e8fd3986cb3cd854719c88662037bed', 'message': 'zuul: fix definition of centos 9 stream job\n\nMinor typo/omission meaning some jobs are still using CentOS 8\n\nChange-Id: I3dc516c7369d3bebf163f74277d2ebfbe20b15ee\n(cherry picked from commit 25d9d01d17e3862c8174c4323d7154779b7d67a8)\n'}, {'number': 2, 'created': '2022-07-28 17:11:41.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6b7f80fccc82c193b0e65d3e269afb2eaca4b1ae', 'message': 'zuul: fix definition of centos 9 stream job\n\nMinor typo/omission meaning some jobs are still using CentOS 8\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/849227\nChange-Id: I3dc516c7369d3bebf163f74277d2ebfbe20b15ee\n(cherry picked from commit 25d9d01d17e3862c8174c4323d7154779b7d67a8)\n'}]",2,851067,6b7f80fccc82c193b0e65d3e269afb2eaca4b1ae,7,1,2,25023,,,0,"zuul: fix definition of centos 9 stream job

Minor typo/omission meaning some jobs are still using CentOS 8

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_rally/+/849227
Change-Id: I3dc516c7369d3bebf163f74277d2ebfbe20b15ee
(cherry picked from commit 25d9d01d17e3862c8174c4323d7154779b7d67a8)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/67/851067/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,c94ad99e1e8fd3986cb3cd854719c88662037bed,osa-zuul-stable/yoga, nodeset: centos-9-stream, nodeset: centos-8-stream,1,1
openstack%2Fneutron~stable%2Ftrain~I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,openstack/neutron,stable/train,I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,Add workaround for eventlet.greendns bug,MERGED,2022-07-29 16:01:22.000000000,2022-08-04 10:17:29.000000000,2022-08-04 10:15:41.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2022-07-29 16:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7c72eff0c2fa16e8199c662d09d5c190bbf4ded', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)\n'}, {'number': 2, 'created': '2022-07-29 16:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28e0b0b9397b83540fcafedafed977aadb77f087', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nConflicts:\n\tneutron/agent/common/utils.py\nConflict is due to socket.gaierror being a separate exception until\npython 3.3. After 3.3 it was subclassed under OSError. Train needs\nto support python2.7\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)\n'}, {'number': 3, 'created': '2022-07-29 22:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/977e4bb893a41ad0e51b13845226e1bb41b3cc7e', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nConflicts:\n\tneutron/agent/common/utils.py\nConflict is due to socket.gaierror being a separate exception until\npython 3.3. After 3.3 it was subclassed under OSError. Train needs\nto support python2.7\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)\n'}, {'number': 4, 'created': '2022-08-01 17:52:08.000000000', 'files': ['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c8c1cca4e1be43b1e5a86d7d72c6581e1bd76dd', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nConflicts:\n\tneutron/agent/common/utils.py\nConflict is due to socket.gaierror being a separate exception until\npython 3.3. After 3.3 it was subclassed under OSError. Train needs\nto support python2.7\n\nNOTE: I also had to change getaddrinfo arguments to positional args\nas py27 implementation does not support keyword args.\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)\n'}]",4,851537,6c8c1cca4e1be43b1e5a86d7d72c6581e1bd76dd,19,4,4,34271,,,0,"Add workaround for eventlet.greendns bug

Issue[1] workaround: A wrapper class which determines if socket module
was eventlet patched and request std lib socket module instead.
Also adding LOG.warning into the exception block so we dont miss
issues like this in the future.

Closes-Bug: #1980967
Related-Bug: #1926693

[1]https://github.com/eventlet/eventlet/issues/764

Conflicts:
	neutron/agent/common/utils.py
Conflict is due to socket.gaierror being a separate exception until
python 3.3. After 3.3 it was subclassed under OSError. Train needs
to support python2.7

NOTE: I also had to change getaddrinfo arguments to positional args
as py27 implementation does not support keyword args.

Change-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9
(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/851537/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py']",2,a7c72eff0c2fa16e8199c662d09d5c190bbf4ded,bug1980967-stable/train,"from eventlet import patcherfrom oslo_utils import eventletutilsclass _SocketWrapper(): """"""Determines if socket module is patched by eventlet and unpatches it. If python standard library socket module is patched, it will request an unpached version of the socket module. The sole purpose of this class is to workaround eventlet bug https://github.com/eventlet/eventlet/issues/764 and for the class to be used with get_hypervisor_hostname. This class also helps with socket mocks as it abstracts eventlet under the hood module imports which can be tricky to target with mocks. TODO(mtomaska): This class(workaround) can be removed once eventlet issue is resolved. """""" def __init__(self): if eventletutils.is_monkey_patched(socket.__name__): LOG.debug(""Std library socket module is patched by eventlet. "" ""Requesting std library socket module from eventlet."") self._socket = patcher.original(socket.__name__) else: LOG.debug(""Std library socket module is not patched by eventlet. "" ""Using socket module as imported from std library."") self._socket = socket def getaddrinfo(self, host, port, family, flags): return self._socket.getaddrinfo(host=host, port=port, family=family, flags=flags) _socket_wrap = _SocketWrapper() try: addrinfo = _socket_wrap.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME)<<<<<<< HEAD (01c88a [Train-only] Make neutron-granade job non-voting)======= except OSError as os_err: LOG.warning(""Error: %s, occured while querying for fqdn. "" ""get_hypervisor_hostname will just "" ""return %s"", os_err, hypervisor_hostname) >>>>>>> CHANGE (ea2230 Add workaround for eventlet.greendns bug) :param default_hypervisor: Default hypervisor hostname. If not set, it tries to default to fully qualified domain name (fqdn)"," try: addrinfo = socket.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) Default hypervisor names to socket.gethostname() unless default_hypervisor is set. :param default_hypervisor: Default hypervisor hostname.",53,14
openstack%2Fneutron~stable%2Fxena~I2707506468cb60d93a4459ea364f1e79faa83838,openstack/neutron,stable/xena,I2707506468cb60d93a4459ea364f1e79faa83838,Implement specific tracked resource count method per quota driver,MERGED,2022-08-02 16:46:00.000000000,2022-08-04 10:17:27.000000000,2022-08-04 10:15:31.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 16:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6327320ea4c977c0fbc139b30c89965a5c044039', 'message': 'Implement specific tracked resource count method per quota driver\n\nThis patch implements a new method specific for each quota driver\nclass. This method, ""get_resource_count"", returns the current number\nof resources created in a project of a tracked resource. A tracked\nresource is an instance of ``neutron.quota.resource.TrackedResource``.\nThis method does not count the current reservations, just the actual\nresources created.\n\nThis new method, ""get_resource_count"", will be added to the abstract\nclass ``neutron_lib.db.quota_api.QuotaDriverAPI``.\n\nThis patch also fixes ``TestDbQuotaDriverNoLock``, that was using a\nplugin inheriting from ``DbQuotaDriver`` instead of\n``DbQuotaNoLockDriver``.\n\nCloses-Bug: #1982962\n\nConflicts:\n  neutron/db/quota/driver_null.py\n  neutron/db/quota/driver.py\n  neutron/quota/resource.py\n\nChange-Id: I2707506468cb60d93a4459ea364f1e79faa83838\n(cherry picked from commit bd60f0833bb439192140b7d04e0b01a5d63f0bb5)\n(cherry picked from commit ca96555e8168548f7c19e853f2242f501c945ff2)\n'}, {'number': 2, 'created': '2022-08-03 08:46:05.000000000', 'files': ['neutron/db/quota/driver_nolock.py', 'neutron/tests/unit/db/quota/test_driver_nolock.py', 'neutron/quota/resource.py', 'neutron/extensions/quotasv2.py', 'neutron/db/quota/driver.py', 'neutron/tests/unit/db/quota/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ad3aab29c9bb08d9d711027eb9139ea43e90e9e', 'message': 'Implement specific tracked resource count method per quota driver\n\nThis patch implements a new method specific for each quota driver\nclass. This method, ""get_resource_count"", returns the current number\nof resources created in a project of a tracked resource. A tracked\nresource is an instance of ``neutron.quota.resource.TrackedResource``.\nThis method does not count the current reservations, just the actual\nresources created.\n\nThis new method, ""get_resource_count"", will be added to the abstract\nclass ``neutron_lib.db.quota_api.QuotaDriverAPI``.\n\nThis patch also fixes ``TestDbQuotaDriverNoLock``, that was using a\nplugin inheriting from ``DbQuotaDriver`` instead of\n``DbQuotaNoLockDriver``.\n\nCloses-Bug: #1982962\n\nConflicts:\n  neutron/db/quota/driver_null.py\n  neutron/db/quota/driver.py\n  neutron/quota/resource.py\n\nChange-Id: I2707506468cb60d93a4459ea364f1e79faa83838\n(cherry picked from commit bd60f0833bb439192140b7d04e0b01a5d63f0bb5)\n(cherry picked from commit ca96555e8168548f7c19e853f2242f501c945ff2)\n'}]",1,851918,6ad3aab29c9bb08d9d711027eb9139ea43e90e9e,14,3,2,16688,,,0,"Implement specific tracked resource count method per quota driver

This patch implements a new method specific for each quota driver
class. This method, ""get_resource_count"", returns the current number
of resources created in a project of a tracked resource. A tracked
resource is an instance of ``neutron.quota.resource.TrackedResource``.
This method does not count the current reservations, just the actual
resources created.

This new method, ""get_resource_count"", will be added to the abstract
class ``neutron_lib.db.quota_api.QuotaDriverAPI``.

This patch also fixes ``TestDbQuotaDriverNoLock``, that was using a
plugin inheriting from ``DbQuotaDriver`` instead of
``DbQuotaNoLockDriver``.

Closes-Bug: #1982962

Conflicts:
  neutron/db/quota/driver_null.py
  neutron/db/quota/driver.py
  neutron/quota/resource.py

Change-Id: I2707506468cb60d93a4459ea364f1e79faa83838
(cherry picked from commit bd60f0833bb439192140b7d04e0b01a5d63f0bb5)
(cherry picked from commit ca96555e8168548f7c19e853f2242f501c945ff2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/851918/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/quota/driver_nolock.py', 'neutron/tests/unit/db/quota/test_driver_nolock.py', 'neutron/quota/resource.py', 'neutron/extensions/quotasv2.py', 'neutron/db/quota/driver.py']",5,6327320ea4c977c0fbc139b30c89965a5c044039,bug/1982962," def get_detailed_tenant_quotas(self, context, resources, tenant_id): """"""Given a list of resources and a specific tenant, retrieve used = self.get_resource_count(context, tenant_id, resource) @staticmethod def get_resource_count(context, tenant_id, tracked_resource): return tracked_resource.count_used(context, tenant_id, resync_usage=False) "," @staticmethod def get_detailed_tenant_quotas(context, resources, tenant_id): """"""Given a list of resources and a sepecific tenant, retrieve used = resource.count_used(context, tenant_id, resync_usage=False)",93,10
openstack%2Fneutron~stable%2Fyoga~I2707506468cb60d93a4459ea364f1e79faa83838,openstack/neutron,stable/yoga,I2707506468cb60d93a4459ea364f1e79faa83838,Implement specific tracked resource count method per quota driver,MERGED,2022-08-02 16:39:39.000000000,2022-08-04 10:17:19.000000000,2022-08-04 10:15:27.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 16:39:39.000000000', 'files': ['neutron/db/quota/driver_nolock.py', 'neutron/tests/unit/db/quota/test_driver_nolock.py', 'neutron/quota/resource.py', 'neutron/extensions/quotasv2.py', 'neutron/db/quota/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca96555e8168548f7c19e853f2242f501c945ff2', 'message': 'Implement specific tracked resource count method per quota driver\n\nThis patch implements a new method specific for each quota driver\nclass. This method, ""get_resource_count"", returns the current number\nof resources created in a project of a tracked resource. A tracked\nresource is an instance of ``neutron.quota.resource.TrackedResource``.\nThis method does not count the current reservations, just the actual\nresources created.\n\nThis new method, ""get_resource_count"", will be added to the abstract\nclass ``neutron_lib.db.quota_api.QuotaDriverAPI``.\n\nThis patch also fixes ``TestDbQuotaDriverNoLock``, that was using a\nplugin inheriting from ``DbQuotaDriver`` instead of\n``DbQuotaNoLockDriver``.\n\nCloses-Bug: #1982962\n\nConflicts:\n  neutron/db/quota/driver_null.py\n\nChange-Id: I2707506468cb60d93a4459ea364f1e79faa83838\n(cherry picked from commit bd60f0833bb439192140b7d04e0b01a5d63f0bb5)\n'}]",1,851915,ca96555e8168548f7c19e853f2242f501c945ff2,10,3,1,16688,,,0,"Implement specific tracked resource count method per quota driver

This patch implements a new method specific for each quota driver
class. This method, ""get_resource_count"", returns the current number
of resources created in a project of a tracked resource. A tracked
resource is an instance of ``neutron.quota.resource.TrackedResource``.
This method does not count the current reservations, just the actual
resources created.

This new method, ""get_resource_count"", will be added to the abstract
class ``neutron_lib.db.quota_api.QuotaDriverAPI``.

This patch also fixes ``TestDbQuotaDriverNoLock``, that was using a
plugin inheriting from ``DbQuotaDriver`` instead of
``DbQuotaNoLockDriver``.

Closes-Bug: #1982962

Conflicts:
  neutron/db/quota/driver_null.py

Change-Id: I2707506468cb60d93a4459ea364f1e79faa83838
(cherry picked from commit bd60f0833bb439192140b7d04e0b01a5d63f0bb5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/851915/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/quota/driver_nolock.py', 'neutron/tests/unit/db/quota/test_driver_nolock.py', 'neutron/quota/resource.py', 'neutron/extensions/quotasv2.py', 'neutron/db/quota/driver.py']",5,ca96555e8168548f7c19e853f2242f501c945ff2,bug/1982962," def get_detailed_project_quotas(self, context, resources, project_id): used = self.get_resource_count(context, project_id, resource) @staticmethod def get_resource_count(context, project_id, tracked_resource): return tracked_resource.count_used(context, project_id, resync_usage=False) "," @staticmethod def get_detailed_project_quotas(context, resources, project_id): used = resource.count_used(context, project_id, resync_usage=False)",92,9
openstack%2Freleases~master~Iff79935d876bf7996419c13adb39a2d7c3afe5fd,openstack/releases,master,Iff79935d876bf7996419c13adb39a2d7c3afe5fd,release oslo's independent deliverables,MERGED,2022-07-21 09:47:48.000000000,2022-08-04 10:09:05.000000000,2022-08-04 10:09:05.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-07-21 09:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/aed367f4bb2689d60b5c14f44b0b68ff2b2e445d', 'message': ""release oslo's independent deliverables\n\nChange-Id: Iff79935d876bf7996419c13adb39a2d7c3afe5fd\n""}, {'number': 2, 'created': '2022-08-03 09:09:56.000000000', 'files': ['deliverables/_independent/oslo.concurrency.yaml', 'deliverables/_independent/tooz.yaml', 'deliverables/_independent/etcd3gw.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/362cd92434fcce6a6d959c52050b46b9f348143a', 'message': ""release oslo's independent deliverables\n\nChange-Id: Iff79935d876bf7996419c13adb39a2d7c3afe5fd\n""}]",3,850623,362cd92434fcce6a6d959c52050b46b9f348143a,15,4,2,28522,,,0,"release oslo's independent deliverables

Change-Id: Iff79935d876bf7996419c13adb39a2d7c3afe5fd
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/850623/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/oslo.concurrency.yaml', 'deliverables/_independent/tooz.yaml', 'deliverables/_independent/etcd3gw.yaml', 'deliverables/_independent/openstackdocstheme.yaml', 'deliverables/_independent/pbr.yaml']",5,aed367f4bb2689d60b5c14f44b0b68ff2b2e445d,oslo-independent, - version: 5.10.0 projects: - repo: openstack/pbr hash: 1eadf23b94846a0ebc8402e09190ed1de6dbffd0,,20,0
openstack%2Freleases~master~Ie5d9eda9581471e754ffda4026adde7eade5226c,openstack/releases,master,Ie5d9eda9581471e754ffda4026adde7eade5226c,Push 1.7.1 release for Validations Framework,MERGED,2022-07-15 11:55:33.000000000,2022-08-04 10:09:03.000000000,2022-08-04 10:09:03.000000000,"[{'_account_id': 308}, {'_account_id': 1955}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 15895}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28522}, {'_account_id': 32926}, {'_account_id': 35059}]","[{'number': 1, 'created': '2022-07-15 11:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/238e2b646fdf7c64502f796028003fb5d37de1cf', 'message': 'Push 1.7.1 release for Validations Framework\n\nPushed 1.7.1 release for validations framework:\n- validations-libs\n- validations-common\n\nChange-Id: Ie5d9eda9581471e754ffda4026adde7eade5226c\n'}, {'number': 2, 'created': '2022-07-25 12:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5ce946e094b1413f46ae34807b232da15dfc246f', 'message': 'Push 1.7.1 release for Validations Framework\n\nPushed 1.7.1 release for validations framework:\n- validations-libs\n- validations-common\n\nChange-Id: Ie5d9eda9581471e754ffda4026adde7eade5226c\n'}, {'number': 3, 'created': '2022-07-25 12:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b39d55ee3f9ced87dc3f5fb6bb8f92debdefaf58', 'message': 'Push 1.7.1 release for Validations Framework\n\nPushed 1.7.1 release for validations framework:\n- validations-libs\n- validations-common\n\nChange-Id: Ie5d9eda9581471e754ffda4026adde7eade5226c\n'}, {'number': 4, 'created': '2022-07-25 12:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/95318537017d1f106a7737aecb009738c4ed84a1', 'message': 'Push 1.7.1 release for Validations Framework\n\nPushed 1.7.1 release for validations framework:\n- validations-libs\n- validations-common\n\nChange-Id: Ie5d9eda9581471e754ffda4026adde7eade5226c\n'}, {'number': 5, 'created': '2022-07-25 12:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/94ebff20f1d304f786f881b022d6ee7c6af48608', 'message': 'Push 1.7.1 release for Validations Framework\n\nPushed 1.7.1 release for validations framework:\n- validations-libs\n- validations-common\n\nChange-Id: Ie5d9eda9581471e754ffda4026adde7eade5226c\n'}, {'number': 6, 'created': '2022-07-26 07:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7cddc2da83f61276a7857422e0d73c3d4108f459', 'message': 'Push 1.7.1 release for Validations Framework\n\nPushed 1.7.1 release for validations framework:\n- validations-libs\n- validations-common\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/850889\n\nChange-Id: Ie5d9eda9581471e754ffda4026adde7eade5226c\n'}, {'number': 7, 'created': '2022-08-01 09:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8048994bd536fd08b803e4636fff7e90a7de37ec', 'message': 'Push 1.7.1 release for Validations Framework\n\nPushed 1.7.1 release for validations framework:\n- validations-libs\n- validations-common\n\nChange-Id: Ie5d9eda9581471e754ffda4026adde7eade5226c\n'}, {'number': 8, 'created': '2022-08-01 09:00:55.000000000', 'files': ['deliverables/_independent/validations-common.yaml', 'deliverables/_independent/validations-libs.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/536378904f2fa4801e74a7bb07ab2f47b474942c', 'message': 'Push 1.7.1 release for Validations Framework\n\nPushed 1.7.1 release for validations framework:\n- validations-libs\n- validations-common\n\nChange-Id: Ie5d9eda9581471e754ffda4026adde7eade5226c\n'}]",17,849994,536378904f2fa4801e74a7bb07ab2f47b474942c,30,11,8,16515,,,0,"Push 1.7.1 release for Validations Framework

Pushed 1.7.1 release for validations framework:
- validations-libs
- validations-common

Change-Id: Ie5d9eda9581471e754ffda4026adde7eade5226c
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/849994/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/validations-common.yaml', 'deliverables/_independent/validations-libs.yaml']",2,238e2b646fdf7c64502f796028003fb5d37de1cf,vf/1.7.1, - version: 1.7.1 projects: - repo: openstack/validations-libs hash: b27ad5ae4270851ea80b8273cc399ba28d88feb6,,8,0
openstack%2Freleases~master~I94b81c95184dd2564ebf61aff7b8940d8a0c4776,openstack/releases,master,I94b81c95184dd2564ebf61aff7b8940d8a0c4776,release oslo's wallaby deliverables,MERGED,2022-07-21 09:51:38.000000000,2022-08-04 10:09:01.000000000,2022-08-04 10:09:01.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-07-21 09:51:38.000000000', 'files': ['deliverables/wallaby/tooz.yaml', 'deliverables/wallaby/oslo.vmware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/23a5a3eca00250603c4e297851a618080f76cf1a', 'message': ""release oslo's wallaby deliverables\n\nReleased changes are mostly related to requirements pins however\nthey fix downstream issues, so they are worth releasing.\n\nChange-Id: I94b81c95184dd2564ebf61aff7b8940d8a0c4776\n""}]",6,850624,23a5a3eca00250603c4e297851a618080f76cf1a,11,4,1,28522,,,0,"release oslo's wallaby deliverables

Released changes are mostly related to requirements pins however
they fix downstream issues, so they are worth releasing.

Change-Id: I94b81c95184dd2564ebf61aff7b8940d8a0c4776
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/850624/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/tooz.yaml', 'deliverables/wallaby/oslo.vmware.yaml']",2,23a5a3eca00250603c4e297851a618080f76cf1a,oslo-wallaby, - version: 3.8.2 projects: - repo: openstack/oslo.vmware hash: dc1a4668581ecb2724ecac007ff5baf6d47bc432,,8,0
openstack%2Freleases~master~I2b0ad4863212b010347b70bcd8ab33f4cf95b265,openstack/releases,master,I2b0ad4863212b010347b70bcd8ab33f4cf95b265,release oslo's xena deliverables,MERGED,2022-07-21 09:57:08.000000000,2022-08-04 10:08:58.000000000,2022-08-04 10:08:58.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-07-21 09:57:08.000000000', 'files': ['deliverables/xena/oslo.vmware.yaml', 'deliverables/xena/stevedore.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8d9ad9517a564098f21e85c62dd18e45a1c92587', 'message': ""release oslo's xena deliverables\n\nChange-Id: I2b0ad4863212b010347b70bcd8ab33f4cf95b265\n""}]",4,850625,8d9ad9517a564098f21e85c62dd18e45a1c92587,10,4,1,28522,,,0,"release oslo's xena deliverables

Change-Id: I2b0ad4863212b010347b70bcd8ab33f4cf95b265
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/850625/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/oslo.vmware.yaml', 'deliverables/xena/stevedore.yaml']",2,8d9ad9517a564098f21e85c62dd18e45a1c92587,oslo-xena, - version: 3.4.1 projects: - repo: openstack/stevedore hash: cb128a8abed1e05b3ff06d849dad1dcb499e75cb,,8,0
openstack%2Freleases~master~Ie80a48aa2129bc093d8311962ca9955745df47da,openstack/releases,master,Ie80a48aa2129bc093d8311962ca9955745df47da,Add venus deliverable file for zed,MERGED,2022-07-18 03:46:18.000000000,2022-08-04 10:08:56.000000000,2022-08-04 10:08:56.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2022-07-18 03:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/644b0e9c49124ba8486caf7c7002081715f3dff0', 'message': 'Add venus deliverable file for zed\n\nChange-Id: Ie80a48aa2129bc093d8311962ca9955745df47da\n'}, {'number': 2, 'created': '2022-07-26 07:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b582b0b29e2f0b8000f73d088aea6e5a53ddf27e', 'message': 'Add venus deliverable file for zed\n\nChange-Id: Ie80a48aa2129bc093d8311962ca9955745df47da\n'}, {'number': 3, 'created': '2022-07-29 06:03:33.000000000', 'files': ['deliverables/zed/venus.yaml', 'deliverables/zed/venus-tempest-plugin.yaml', 'deliverables/zed/python-venusclient.yaml', 'deliverables/zed/venus-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5ade75fd9edc530e23467dc55657aa4302b7b1e5', 'message': 'Add venus deliverable file for zed\n\nChange-Id: Ie80a48aa2129bc093d8311962ca9955745df47da\n'}]",15,850129,5ade75fd9edc530e23467dc55657aa4302b7b1e5,16,4,3,24061,,,0,"Add venus deliverable file for zed

Change-Id: Ie80a48aa2129bc093d8311962ca9955745df47da
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/850129/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/zed/venus.yaml', 'deliverables/zed/venus-tempest-plugin.yaml', 'deliverables/zed/python-venusclient.yaml', 'deliverables/zed/venus-dashboard.yaml']",4,644b0e9c49124ba8486caf7c7002081715f3dff0,,--- storyboard: openstack/venus-dashboard release-model: cycle-with-rc team: venus type: horizon-plugin repository-settings: openstack/venus-dashboard: {} ,,34,0
openstack%2Fcinder~master~Idef086c55885687684875603481582f763355885,openstack/cinder,master,Idef086c55885687684875603481582f763355885,NetApp SolidFire: Fix request errors while Element OS upgrade,MERGED,2021-07-29 20:07:21.000000000,2022-08-04 10:07:41.000000000,2022-08-03 16:05:00.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 31721}, {'_account_id': 32761}, {'_account_id': 33301}, {'_account_id': 33648}]","[{'number': 1, 'created': '2021-07-29 20:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc3846425bc251b3ff6e8d2ce27f48b610b3d6a1', 'message': 'NetApp SolidFire: Fix request errors while Element OS upgrade\n\nWhen Element OS is being upgraded, the requests received will\nget exceptions as result, but the operation will normally succeed\na few attempts after.\n\nThis patch fixes this issue by adding the following exceptions to\nour list of retryable exceptions in SolidFire driver:\n    - xDBOperationTimeout.\n    - xDBConnectionLoss.\n    - xNoHandler.\n    - xSnapshotFailed.\n    - xRecvTimeout.\n    - xDBNoSuchPath.\n    - xPermissionDenied.\n\nChange-Id: Idef086c55885687684875603481582f763355885\nCloses-Bug: #1934435\n'}, {'number': 2, 'created': '2021-10-01 18:55:26.000000000', 'files': ['releasenotes/notes/netapp-solidfire-fix-exceptions-while-eos-upgrade-1e3df89b5fb79165.yaml', 'cinder/volume/drivers/solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7b830e9ac1e58ef432edf892eb972c98817ffdf', 'message': 'NetApp SolidFire: Fix request errors while Element OS upgrade\n\nWhen Element OS is being upgraded, the requests received will\nget exceptions as result, but the operation will normally succeed\na few attempts after.\n\nThis patch fixes this issue by adding the following exceptions to\nour list of retryable exceptions in SolidFire driver:\n    - xDBOperationTimeout.\n    - xDBConnectionLoss.\n    - xNoHandler.\n    - xSnapshotFailed.\n    - xRecvTimeout.\n    - xDBNoSuchPath.\n    - xPermissionDenied.\n\nChange-Id: Idef086c55885687684875603481582f763355885\nCloses-Bug: #1934435\n'}]",15,802957,b7b830e9ac1e58ef432edf892eb972c98817ffdf,84,9,2,33431,,,0,"NetApp SolidFire: Fix request errors while Element OS upgrade

When Element OS is being upgraded, the requests received will
get exceptions as result, but the operation will normally succeed
a few attempts after.

This patch fixes this issue by adding the following exceptions to
our list of retryable exceptions in SolidFire driver:
    - xDBOperationTimeout.
    - xDBConnectionLoss.
    - xNoHandler.
    - xSnapshotFailed.
    - xRecvTimeout.
    - xDBNoSuchPath.
    - xPermissionDenied.

Change-Id: Idef086c55885687684875603481582f763355885
Closes-Bug: #1934435
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/802957/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/netapp-solidfire-fix-exceptions-while-eos-upgrade-1e3df89b5fb79165.yaml', 'cinder/volume/drivers/solidfire.py']",2,bc3846425bc251b3ff6e8d2ce27f48b610b3d6a1,bug/1934435," 2.2.3 - Fix bug #1934435 fix driver failing with multiple exceptions during Element OS upgrade by adding xDBOperationTimeout, xDBConnectionLoss, xNoHandler, xSnapshotFailed, xRecvTimeout, xDBNoSuchPath, xPermissionDenied to the retryable exception list VERSION = '2.2.3' 'xNotPrimary', 'xDBOperationTimeout', 'xDBConnectionLoss', 'xNoHandler', 'xSnapshotFailed', 'xRecvTimeout', 'xDBNoSuchPath', 'xPermissionDenied']", VERSION = '2.2.2' 'xNotPrimary'],21,2
openstack%2Fskyline-console~master~I2a55901976c827d1cd8ca1132e823872aacc33a2,openstack/skyline-console,master,I2a55901976c827d1cd8ca1132e823872aacc33a2,chore: import lodash on demand,ABANDONED,2022-08-04 10:04:22.000000000,2022-08-04 10:07:29.000000000,,[],"[{'number': 1, 'created': '2022-08-04 10:04:22.000000000', 'files': ['yarn.lock', 'package.json', '.babelrc'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a972dcd496532f5b936bc584b5bc9a6a6257ecba', 'message': 'chore: import lodash on demand\n\nadd babel-plugin-lodash package to import lodash on demand and reduce bundle size\nChange-Id: I9b64997bb3f232c9d7bd96cb0d5586b7e2733414\n\nChange-Id: I2a55901976c827d1cd8ca1132e823872aacc33a2\n'}]",0,852133,a972dcd496532f5b936bc584b5bc9a6a6257ecba,2,0,1,35161,,,0,"chore: import lodash on demand

add babel-plugin-lodash package to import lodash on demand and reduce bundle size
Change-Id: I9b64997bb3f232c9d7bd96cb0d5586b7e2733414

Change-Id: I2a55901976c827d1cd8ca1132e823872aacc33a2
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/33/852133/1 && git format-patch -1 --stdout FETCH_HEAD,"['yarn.lock', 'package.json', '.babelrc']",3,a972dcd496532f5b936bc584b5bc9a6a6257ecba,," [""lodash""],",,44,0
openstack%2Fopenstack-ansible~stable%2Fxena~I8e712ac1e812ecd70ccbd1cf59952834e519e86f,openstack/openstack-ansible,stable/xena,I8e712ac1e812ecd70ccbd1cf59952834e519e86f,Bump OpenStack-Ansible Xena,MERGED,2022-08-03 09:37:49.000000000,2022-08-04 10:01:23.000000000,2022-08-04 09:59:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-08-03 09:37:49.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/haproxy_tuning_params_released-45eb40104747561a.yaml', 'releasenotes/notes/erlang_version_redhat_xena-0699f934689c51be.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/mariadb_security_upgrade-41359dd7b59f7330.yaml', 'releasenotes/notes/rabbit_cloudsmith-36ccc2f807688f4f.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/neutron-vpnaas-custom-config-ad991bb02b9ed655.yaml', 'ansible-role-requirements.yml', 'releasenotes/notes/rally-openstack-git-121821ef54c48419.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c69a621b5e781973a5eed8f882f77df53948d52b', 'message': 'Bump OpenStack-Ansible Xena\n\nChange-Id: I8e712ac1e812ecd70ccbd1cf59952834e519e86f\n'}]",0,851974,c69a621b5e781973a5eed8f882f77df53948d52b,8,3,1,28619,,,0,"Bump OpenStack-Ansible Xena

Change-Id: I8e712ac1e812ecd70ccbd1cf59952834e519e86f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/851974/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/haproxy_tuning_params_released-45eb40104747561a.yaml', 'releasenotes/notes/erlang_version_redhat_xena-0699f934689c51be.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/mariadb_security_upgrade-41359dd7b59f7330.yaml', 'releasenotes/notes/rabbit_cloudsmith-36ccc2f807688f4f.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/neutron-vpnaas-custom-config-ad991bb02b9ed655.yaml', 'ansible-role-requirements.yml', 'releasenotes/notes/rally-openstack-git-121821ef54c48419.yaml']",10,c69a621b5e781973a5eed8f882f77df53948d52b,bump_osa,--- features: - | Implemented variables ``rally_openstack_git_repo`` and ``rally_openstack_git_install_branch`` that allow to override installation source for rally-openstack package as well as control installed version of the package. ,,150,61
openstack%2Ftripleo-validations~master~I02073c074bbe9c4aa26ded91287cc727e013a19a,openstack/tripleo-validations,master,I02073c074bbe9c4aa26ded91287cc727e013a19a,Added a new tripleo validation,ABANDONED,2022-08-04 09:51:12.000000000,2022-08-04 09:54:02.000000000,,[],"[{'number': 1, 'created': '2022-08-04 09:51:12.000000000', 'files': ['roles/check_policy_file/molecule/default/molecule.yml', 'roles/policy_file_existence/molecule/default/prepare.yml', 'playbooks/policy_file_validation.yaml', 'test/include/python3.6m', 'zuul.d/molecule.yaml', 'roles/policy_file_existence/vars/main.yml', 'test/pip-selfcheck.json', 'roles/policy_file_existence/molecule/default/molecule.yml', 'roles/check_policy_file/tasks/main.yml', 'roles/check_policy_file/defaults/main.yml', 'roles/policy_file_existence/molecule/default/converge.yml', 'roles/policy_file_existence/tasks/main.yml', 'doc/source/roles/role-check_policy_file.rst', 'roles/check_policy_file/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b9bbef8ea8d0497f50d3c1eef151dc735b8a46d3', 'message': 'Added a new tripleo validation\n\nThis validation validates:\n- Presence of the ""policy.yaml"" file in manila\'s config\n  directory.\n\nAdded files for testing the policy.yaml file validation\n\nThis are the changes:\n- Added role-check_policy_file.rst for the documentation\n- Added the molecule folder with the converge.yml file,\n that tests that the validation works when adding the policy.yaml file when it exists in the path and failes after removing the file\n\nChanged the content of a file\n\nChanged the file to be suitable for the policy file validation.\n\nCommiting file that wehere changed by tox - linters and docs\n\nChange-Id: I02073c074bbe9c4aa26ded91287cc727e013a19a\n'}]",0,852128,b9bbef8ea8d0497f50d3c1eef151dc735b8a46d3,2,0,1,32926,,,0,"Added a new tripleo validation

This validation validates:
- Presence of the ""policy.yaml"" file in manila's config
  directory.

Added files for testing the policy.yaml file validation

This are the changes:
- Added role-check_policy_file.rst for the documentation
- Added the molecule folder with the converge.yml file,
 that tests that the validation works when adding the policy.yaml file when it exists in the path and failes after removing the file

Changed the content of a file

Changed the file to be suitable for the policy file validation.

Commiting file that wehere changed by tox - linters and docs

Change-Id: I02073c074bbe9c4aa26ded91287cc727e013a19a
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/28/852128/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_policy_file/molecule/default/molecule.yml', 'roles/policy_file_existence/molecule/default/prepare.yml', 'playbooks/policy_file_validation.yaml', 'test/include/python3.6m', 'zuul.d/molecule.yaml', 'roles/policy_file_existence/vars/main.yml', 'test/pip-selfcheck.json', 'roles/policy_file_existence/molecule/default/molecule.yml', 'roles/check_policy_file/tasks/main.yml', 'roles/check_policy_file/defaults/main.yml', 'roles/policy_file_existence/molecule/default/converge.yml', 'roles/policy_file_existence/tasks/main.yml', 'doc/source/roles/role-check_policy_file.rst', 'roles/check_policy_file/molecule/default/converge.yml']",14,b9bbef8ea8d0497f50d3c1eef151dc735b8a46d3,add_a_new_triplo_validation_for_policy_file_in_manila,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all tasks: - name: Working 1 - openstack one entry in list copy: dest: /usr/bin/openstack mode: 0755 content: | #!/bin/bash echo ""{"" echo "" \""parameters\"": {},"" echo "" \""parameter_defaults\"": {"" echo "" \""DockerInsecureRegistryAddress\"": ["" echo "" \""undercloud-0.ctlplane.redhat.local:8787\"""" echo "" ]"" echo "" }"" echo ""}"" - name: Working 1 - hiera one entry in list copy: dest: /usr/bin/hiera mode: 0755 content: | #!/bin/bash echo [\""undercloud-0.ctlplane.redhat.local\""] exit 0 - name: Test Working 1 include_role: name: check_uc_hostname vars: check_uc_hostname_inventory_host: centos - name: Working 2 - openstack multiple entry in list copy: dest: /usr/bin/openstack mode: 0755 content: | #!/bin/bash echo ""{"" echo "" \""parameters\"": {},"" echo "" \""parameter_defaults\"": {"" echo "" \""DockerInsecureRegistryAddress\"": ["" echo "" \""undercloud-0.ctlplane.redhat.local:8787\"","" echo "" \""undercloud-1.ctlplane.redhat.local:8787\"","" echo "" \""undercloud-2.ctlplane.redhat.local:8787\"""" echo "" ]"" echo "" }"" echo ""}"" - name: Working 2 - hiera multiple entry in list copy: dest: /usr/bin/hiera mode: 0755 content: | #!/bin/bash echo ""["" echo "" \""undercloud-0.ctlplane.redhat.local\"","" echo "" \""undercloud-1.ctlplane.redhat.local\"","" echo "" \""undercloud-2.ctlplane.redhat.local\"""" echo ""]"" exit 0 - name: Test Working 2 include_role: name: check_uc_hostname vars: check_uc_hostname_inventory_host: centos - name: Working 3 - openstack multiple entry in list copy: dest: /usr/bin/openstack mode: 0755 content: | #!/bin/bash echo ""{"" echo "" \""parameters\"": {},"" echo "" \""parameter_defaults\"": {"" echo "" \""DockerInsecureRegistryAddress\"": ["" echo "" \""undercloud-0.ctlplane.redhat.local:8787\"","" echo "" \""redhat.registry.io:8787\"","" echo "" \""mysuper-registry.io\"","" echo "" ]"" echo "" }"" echo ""}"" - name: Working 3 - hiera single entry in list copy: dest: /usr/bin/hiera mode: 0755 content: | #!/bin/bash echo ""["" echo "" \""undercloud-0.ctlplane.redhat.local\"","" echo ""]"" exit 0 - name: Test Working 3 include_role: name: check_uc_hostname vars: check_uc_hostname_inventory_host: centos - name: Working 4 - openstack multiple entry in list copy: dest: /usr/bin/openstack mode: 0755 content: | #!/bin/bash echo ""{"" echo "" \""parameters\"": {},"" echo "" \""parameter_defaults\"": {"" echo "" \""DockerInsecureRegistryAddress\"": ["" echo "" \""BROKENCLOUD-0.ctlplane.redhat.local:8787\"","" echo "" \""redhat.registry.io:8787\"","" echo "" \""mysuper-registry.io\"","" echo "" ]"" echo "" }"" echo ""}"" - name: Working 4 - we do not fail if hiera returns empty list copy: dest: /usr/bin/hiera mode: 0755 content: | #!/bin/bash echo ""[]"" exit 0 - name: Test Working 4 include_role: name: check_uc_hostname vars: check_uc_hostname_inventory_host: centos - name: Failing 1 - we fail if DockerInsecureRegistryAddress is not found copy: dest: /usr/bin/openstack mode: 0755 content: | #!/bin/bash echo ""{"" echo "" \""parameters\"": {},"" echo "" \""parameter_defaults\"": {"" echo "" }"" echo ""}"" - name: Failing 1 - hiera no entry found copy: dest: /usr/bin/hiera mode: 0755 content: | #!/bin/bash exit 0 - name: Failing 1 block: - include_role: name: check_uc_hostname vars: check_uc_hostname_inventory_host: centos rescue: - name: Clear host errors meta: clear_host_errors - debug: msg: The validation Case Failing 1 works! Continuing playbook run... - name: Failing 2 - openstack multiple entry in list copy: dest: /usr/bin/openstack mode: 0755 content: | #!/bin/bash echo ""{"" echo "" \""parameters\"": {},"" echo "" \""parameter_defaults\"": {"" echo "" \""DockerInsecureRegistryAddress\"": ["" echo "" \""BROKENCLOUD-0.ctlplane.redhat.local:8787\"","" echo "" \""redhat.registry.io:8787\"","" echo "" \""mysuper-registry.io\"","" echo "" ]"" echo "" }"" echo ""}"" - name: Failing 2 - hiera single entry in list copy: dest: /usr/bin/hiera mode: 0755 content: | #!/bin/bash echo ""["" echo "" \""undercloud-0.ctlplane.redhat.local\"","" echo ""]"" exit 0 - name: Failing 2 block: - include_role: name: check_uc_hostname vars: check_uc_hostname_inventory_host: centos rescue: - name: Clear host errors meta: clear_host_errors - debug: msg: The validation Case Failing 2 works! Ending playbook run - name: End play meta: end_play - name: Fail the test fail: msg: | The check-uc-hostname validation failed to check that the hostnames did not match. ",,510,0
openstack%2Fpython-masakariclient~master~Ic4fa51bc96f2a669ba3bfe2a898ce5a2baf3b4c5,openstack/python-masakariclient,master,Ic4fa51bc96f2a669ba3bfe2a898ce5a2baf3b4c5,Drop Python 3.6 and 3.7 support,MERGED,2022-06-05 01:11:48.000000000,2022-08-04 09:30:23.000000000,2022-08-04 09:29:00.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-05 01:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/12de0b9fdac6637d16d226f4c928c8b9882fd10c', 'message': 'The Python 3.6 and Python 3.7 Support has been dropped since zed\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ic4fa51bc96f2a669ba3bfe2a898ce5a2baf3b4c5\n'}, {'number': 2, 'created': '2022-08-04 08:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/2a49e681412be13b77184be73f952344ec434672', 'message': 'Drop Python 3.6 and 3.7 support\n\nThe Python 3.6 and 3.7 support has been dropped in Zed. [1]\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ic4fa51bc96f2a669ba3bfe2a898ce5a2baf3b4c5\n'}, {'number': 3, 'created': '2022-08-04 09:13:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/9ddb79eaba26cf8b00b262918096ae65e2284451', 'message': 'Drop Python 3.6 and 3.7 support\n\nThe Python 3.6 and 3.7 support has been dropped in Zed. [1]\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ic4fa51bc96f2a669ba3bfe2a898ce5a2baf3b4c5\n'}]",0,844710,9ddb79eaba26cf8b00b262918096ae65e2284451,12,2,3,31827,,,0,"Drop Python 3.6 and 3.7 support

The Python 3.6 and 3.7 support has been dropped in Zed. [1]

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ic4fa51bc96f2a669ba3bfe2a898ce5a2baf3b4c5
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/10/844710/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,12de0b9fdac6637d16d226f4c928c8b9882fd10c,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Fmasakari~master~I0dc2725a5c05f14cb9e1218f7490963013c9c081,openstack/masakari,master,I0dc2725a5c05f14cb9e1218f7490963013c9c081,Replace python-dev with python3-dev in bindep,MERGED,2022-05-30 13:24:04.000000000,2022-08-04 09:14:23.000000000,2022-08-04 09:12:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-30 13:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/92377ac7715cb76b3d13298474c8b17d9c042349', 'message': 'Remove python-dev from bindep\n\nPackage ""python-dev"" is not needed for python3\n\nCloses-Bug: 1976274\nChange-Id: I0dc2725a5c05f14cb9e1218f7490963013c9c081\n'}, {'number': 2, 'created': '2022-07-13 06:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3469fa85909ca8ec913bd016e4417c9210165c8a', 'message': 'Replace python-dev with python3-dev in bindep\n\nUse ""python3-dev"" for python3.\n\nCloses-Bug: 1976274\nChange-Id: I0dc2725a5c05f14cb9e1218f7490963013c9c081\n'}, {'number': 3, 'created': '2022-07-19 09:28:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/masakari/commit/9a176f0ddab27606363cd3b7242daa7fe0441a97', 'message': 'Replace python-dev with python3-dev in bindep\n\nUse ""python3-dev"" for python3.\n\nCloses-Bug: 1976274\nChange-Id: I0dc2725a5c05f14cb9e1218f7490963013c9c081\n'}]",0,843860,9a176f0ddab27606363cd3b7242daa7fe0441a97,11,2,3,32927,,,0,"Replace python-dev with python3-dev in bindep

Use ""python3-dev"" for python3.

Closes-Bug: 1976274
Change-Id: I0dc2725a5c05f14cb9e1218f7490963013c9c081
",git fetch https://review.opendev.org/openstack/masakari refs/changes/60/843860/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,92377ac7715cb76b3d13298474c8b17d9c042349,bug/1976274,,python-dev [platform:dpkg test],0,1
openstack%2Fmasakari~master~I96dea752c8ef6ff7dddc205090d2ae7ccc4ce9ab,openstack/masakari,master,I96dea752c8ef6ff7dddc205090d2ae7ccc4ce9ab,Replace abc.abstractproperty with property and abc.abstractmethod,MERGED,2022-08-03 12:44:47.000000000,2022-08-04 09:13:19.000000000,2022-08-04 09:12:08.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-08-03 12:44:47.000000000', 'files': ['masakari/api/openstack/extensions.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/6ea71cbd556cb24bd63ed5054dcbddcc7e0bea94', 'message': 'Replace abc.abstractproperty with property and abc.abstractmethod\n\nReplace abc.abstractproperty with property and abc.abstractmethod,\nas abc.abstractproperty has been deprecated since python3.3[1]\n\n[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc\n\nChange-Id: I96dea752c8ef6ff7dddc205090d2ae7ccc4ce9ab\n'}]",1,851989,6ea71cbd556cb24bd63ed5054dcbddcc7e0bea94,7,2,1,28743,,,0,"Replace abc.abstractproperty with property and abc.abstractmethod

Replace abc.abstractproperty with property and abc.abstractmethod,
as abc.abstractproperty has been deprecated since python3.3[1]

[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc

Change-Id: I96dea752c8ef6ff7dddc205090d2ae7ccc4ce9ab
",git fetch https://review.opendev.org/openstack/masakari refs/changes/89/851989/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/api/openstack/extensions.py'],1,6ea71cbd556cb24bd63ed5054dcbddcc7e0bea94,, @property @abc.abstractmethod @property @abc.abstractmethod @property @abc.abstractmethod, @abc.abstractproperty @abc.abstractproperty @abc.abstractproperty,6,3
openstack%2Fmasakari-dashboard~master~Ie1f9792f0748a9809c73af1bd25add61ae6a91b9,openstack/masakari-dashboard,master,Ie1f9792f0748a9809c73af1bd25add61ae6a91b9,Drop Python 3.6 and 3.7 support,MERGED,2022-06-05 01:28:15.000000000,2022-08-04 09:12:00.000000000,2022-08-04 09:10:55.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-05 01:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/577b4f78f8ba0f5385268e793c25bc8e7bb2cebc', 'message': 'The Python 3.6 and Python 3.7 Support has been dropped since zed\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ie1f9792f0748a9809c73af1bd25add61ae6a91b9\n'}, {'number': 2, 'created': '2022-08-04 08:52:48.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/8985e1fa7c3dfaad562740fba88af4cd981e9861', 'message': 'Drop Python 3.6 and 3.7 support\n\nThe Python 3.6 and 3.7 support has been dropped in Zed. [1]\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ie1f9792f0748a9809c73af1bd25add61ae6a91b9\n'}]",0,844714,8985e1fa7c3dfaad562740fba88af4cd981e9861,9,2,2,31827,,,0,"Drop Python 3.6 and 3.7 support

The Python 3.6 and 3.7 support has been dropped in Zed. [1]

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ie1f9792f0748a9809c73af1bd25add61ae6a91b9
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/14/844714/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,577b4f78f8ba0f5385268e793c25bc8e7bb2cebc,,python_requires = >=3.8, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,2
openstack%2Fpuppet-ironic~master~Ic4ceaf703b897c7266d802f5394ae065ef2d11a1,openstack/puppet-ironic,master,Ic4ceaf703b897c7266d802f5394ae065ef2d11a1,conductor: Support tuning of heartbeats,MERGED,2022-07-19 09:06:35.000000000,2022-08-04 09:06:21.000000000,2022-08-04 09:05:12.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-19 09:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/2626be73fffa89ee9fa2a0ebd70b4d657b2715fe', 'message': 'conductor: Support tuning of heart beats\n\nThis change adds support for the following parameters so that users can\ntune heart beats in the ironic-conductor service.\n\n- [conductor] heartbeat_interval\n- [conductor] heartbeat_timeout\n\nChange-Id: Ic4ceaf703b897c7266d802f5394ae065ef2d11a1\n'}, {'number': 2, 'created': '2022-07-19 10:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9c7e18ab43050713fe46cfbdff4485c4ba87d7e0', 'message': 'conductor: Support tuning of heart beats\n\nThis change adds support for the following parameters so that users can\ntune heart beats in the ironic-conductor service.\n\n- [conductor] heartbeat_interval\n- [conductor] heartbeat_timeout\n\nChange-Id: Ic4ceaf703b897c7266d802f5394ae065ef2d11a1\n'}, {'number': 3, 'created': '2022-07-19 22:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3c715bb2d843178d42f62ac8fab28a0182d4287a', 'message': 'conductor: Support tuning of heart beats\n\nThis change adds support for the following parameters so that users can\ntune heart beats in the ironic-conductor service.\n\n- [conductor] heartbeat_interval\n- [conductor] heartbeat_timeout\n\nChange-Id: Ic4ceaf703b897c7266d802f5394ae065ef2d11a1\n'}, {'number': 4, 'created': '2022-07-26 08:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f42bc9806556b5071520f4dbea449b6162c90b29', 'message': 'conductor: Support tuning of heart beats\n\nThis change adds support for the following parameters so that users can\ntune heart beats in the ironic-conductor service.\n\n- [conductor] heartbeat_interval\n- [conductor] heartbeat_timeout\n\nDepends-on: https://review.opendev.org/850298\nChange-Id: Ic4ceaf703b897c7266d802f5394ae065ef2d11a1\n'}, {'number': 5, 'created': '2022-07-26 08:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/60666e5c30799be77d1c1a34456cfcb4bba959f4', 'message': 'conductor: Support tuning of heartbeats\n\nThis change adds support for the following parameters so that users can\ntune heart beats in the ironic-conductor service.\n\n- [conductor] heartbeat_interval\n- [conductor] heartbeat_timeout\n\nDepends-on: https://review.opendev.org/850298\nChange-Id: Ic4ceaf703b897c7266d802f5394ae065ef2d11a1\n'}, {'number': 6, 'created': '2022-08-01 09:27:56.000000000', 'files': ['manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'releasenotes/notes/conductor-heartbeat-d92790f3e6a59c4b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/05a1a039609a5f686a025bbbe96afe6e65bc5b68', 'message': 'conductor: Support tuning of heartbeats\n\nThis change adds support for the following parameters so that users can\ntune heart beats in the ironic-conductor service.\n\n- [conductor] heartbeat_interval\n- [conductor] heartbeat_timeout\n\nDepends-on: https://review.opendev.org/850298\nChange-Id: Ic4ceaf703b897c7266d802f5394ae065ef2d11a1\n'}]",5,850300,05a1a039609a5f686a025bbbe96afe6e65bc5b68,23,4,6,9816,,,0,"conductor: Support tuning of heartbeats

This change adds support for the following parameters so that users can
tune heart beats in the ironic-conductor service.

- [conductor] heartbeat_interval
- [conductor] heartbeat_timeout

Depends-on: https://review.opendev.org/850298
Change-Id: Ic4ceaf703b897c7266d802f5394ae065ef2d11a1
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/00/850300/6 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/conductor.pp', 'releasenotes/notes/conductor-heartbeat-d92790f3e6a59c4b.yaml']",2,2626be73fffa89ee9fa2a0ebd70b4d657b2715fe,conductor_heartbeat,--- features: - | The ``ironic::conductor`` class now supports the following two new parameters. - ``heartbeat_interval`` - ``heartbeat_timeout`` ,,21,0
openstack%2Fpython-senlinclient~master~Ie90be776cde91ca6c400bb8238462ae244fda123,openstack/python-senlinclient,master,Ie90be776cde91ca6c400bb8238462ae244fda123,Add Python3 zed unit tests,MERGED,2022-03-04 17:16:51.000000000,2022-08-04 09:03:46.000000000,2022-08-04 09:01:21.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-03-04 17:16:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/859e9ca8b399669c0ae1bef7e17fd9b9409e6b56', 'message': 'Add Python3 zed unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for zed.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ie90be776cde91ca6c400bb8238462ae244fda123\n'}]",2,832010,859e9ca8b399669c0ae1bef7e17fd9b9409e6b56,10,2,1,22816,,,0,"Add Python3 zed unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for zed.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ie90be776cde91ca6c400bb8238462ae244fda123
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/10/832010/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,859e9ca8b399669c0ae1bef7e17fd9b9409e6b56,add-zed-python-jobtemplates, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Fmasakari-dashboard~master~I4fe0d9520ad1cb4280a4f8df16fe7ee742ea420a,openstack/masakari-dashboard,master,I4fe0d9520ad1cb4280a4f8df16fe7ee742ea420a,Address RemovedInDjango40Warning,MERGED,2022-04-29 12:27:05.000000000,2022-08-04 09:03:42.000000000,2022-08-04 09:02:32.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-29 12:27:05.000000000', 'files': ['masakaridashboard/hosts/urls.py', 'masakaridashboard/segments/urls.py', 'masakaridashboard/notifications/urls.py'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/6b6f0582410d857fc0576ca4c916e3d1dc561f5f', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I4fe0d9520ad1cb4280a4f8df16fe7ee742ea420a\n'}]",1,839940,6b6f0582410d857fc0576ca4c916e3d1dc561f5f,8,2,1,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: I4fe0d9520ad1cb4280a4f8df16fe7ee742ea420a
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/40/839940/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakaridashboard/hosts/urls.py', 'masakaridashboard/segments/urls.py', 'masakaridashboard/notifications/urls.py']",3,6b6f0582410d857fc0576ca4c916e3d1dc561f5f,,"from django.urls import re_path re_path(r'^$', views.IndexView.as_view(), name='index'), re_path(NOTIFICATION % 'detail', views.DetailView.as_view(), name='detail'),","from django.conf.urls import url url(r'^$', views.IndexView.as_view(), name='index'), url(NOTIFICATION % 'detail', views.DetailView.as_view(), name='detail'),",15,14
openstack%2Fpython-masakariclient~stable%2Fyoga~I8f36023eec549ca6f8ec7c5941d066e74415da5c,openstack/python-masakariclient,stable/yoga,I8f36023eec549ca6f8ec7c5941d066e74415da5c,Update TOX_CONSTRAINTS_FILE for stable/yoga,MERGED,2022-03-04 17:16:41.000000000,2022-08-04 09:00:04.000000000,2022-08-04 08:59:05.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-03-04 17:16:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/f0ae5bf34d27d7005f094cc6253fc441e9267e2d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/yoga\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/yoga branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8f36023eec549ca6f8ec7c5941d066e74415da5c\n'}]",1,832001,f0ae5bf34d27d7005f094cc6253fc441e9267e2d,8,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/yoga

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/yoga branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8f36023eec549ca6f8ec7c5941d066e74415da5c
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/01/832001/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f0ae5bf34d27d7005f094cc6253fc441e9267e2d,create-yoga, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fpython-masakariclient~stable%2Fyoga~I5eec4fc2b25f2185dff5d72471665a26a6979278,openstack/python-masakariclient,stable/yoga,I5eec4fc2b25f2185dff5d72471665a26a6979278,Update .gitreview for stable/yoga,MERGED,2022-03-04 17:16:40.000000000,2022-08-04 08:58:21.000000000,2022-08-04 08:57:06.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-03-04 17:16:40.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/cb5aaea94be82e8a9fa887153647fa513081f06e', 'message': 'Update .gitreview for stable/yoga\n\nChange-Id: I5eec4fc2b25f2185dff5d72471665a26a6979278\n'}]",2,832000,cb5aaea94be82e8a9fa887153647fa513081f06e,9,3,1,22816,,,0,"Update .gitreview for stable/yoga

Change-Id: I5eec4fc2b25f2185dff5d72471665a26a6979278
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/00/832000/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,cb5aaea94be82e8a9fa887153647fa513081f06e,create-yoga,defaultbranch=stable/yoga,,1,0
openstack%2Fpython-masakariclient~master~Id710d6a419756c166756772dfdc4c9abc9b678d9,openstack/python-masakariclient,master,Id710d6a419756c166756772dfdc4c9abc9b678d9,Add Python3 zed unit tests,MERGED,2022-03-04 17:16:43.000000000,2022-08-04 08:57:16.000000000,2022-08-04 08:54:54.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-03-04 17:16:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/dc0762ee75ae8c0948fd4caf9534f5e0aa79e2cc', 'message': 'Add Python3 zed unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for zed.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Id710d6a419756c166756772dfdc4c9abc9b678d9\n'}]",2,832003,dc0762ee75ae8c0948fd4caf9534f5e0aa79e2cc,9,2,1,22816,,,0,"Add Python3 zed unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for zed.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Id710d6a419756c166756772dfdc4c9abc9b678d9
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/03/832003/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dc0762ee75ae8c0948fd4caf9534f5e0aa79e2cc,add-zed-python-jobtemplates, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Fsenlin-tempest-plugin~master~I550f33a18cc8318d97072115e0df1462821ecb0e,openstack/senlin-tempest-plugin,master,I550f33a18cc8318d97072115e0df1462821ecb0e,Update 'Maintained' stable branch jobs on master gate,MERGED,2022-04-15 01:42:11.000000000,2022-08-04 08:49:01.000000000,2022-08-04 08:49:01.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-04-15 01:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/0d047a4f2046e29eadd1b92f2c298fa95ca3c01f', 'message': ""Update 'Maintained' stable branch jobs on master gate\n\nWe have stable/yoga released and stable/ussuri is in\n'Extended Maintenance' state. Current 'Maintained'\nstable branches are yoga, xena, wallaby, and victoria.\n\nAs per tempest stable branch testing policy[1], adding the\nnewly released stable/yoga job and remove the EM stable/ussuri\njob.\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I550f33a18cc8318d97072115e0df1462821ecb0e\n""}, {'number': 2, 'created': '2022-05-31 21:24:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/e4829f056c58c162ca8bc78f0bca998bfee64e43', 'message': ""Update 'Maintained' stable branch jobs on master gate\n\nWe have stable/yoga released and stable/ussuri is in\n'Extended Maintenance' state. Current 'Maintained'\nstable branches are yoga, xena, wallaby, and victoria.\n\nAs per tempest stable branch testing policy[1], adding the\nnewly released stable/yoga job and remove the EM stable/ussuri\nand stable/victoria job.\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I550f33a18cc8318d97072115e0df1462821ecb0e\n""}]",0,838061,e4829f056c58c162ca8bc78f0bca998bfee64e43,9,2,2,8556,,,0,"Update 'Maintained' stable branch jobs on master gate

We have stable/yoga released and stable/ussuri is in
'Extended Maintenance' state. Current 'Maintained'
stable branches are yoga, xena, wallaby, and victoria.

As per tempest stable branch testing policy[1], adding the
newly released stable/yoga job and remove the EM stable/ussuri
and stable/victoria job.

[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I550f33a18cc8318d97072115e0df1462821ecb0e
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/61/838061/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0d047a4f2046e29eadd1b92f2c298fa95ca3c01f,yoga-stable-job, - senlin-dsvm-tempest-py3-api-yoga name: senlin-dsvm-tempest-py3-api-yoga parent: senlin-dsvm-tempest-py3-api override-checkout: stable/yoga - job:, - senlin-dsvm-tempest-py3-api-ussuri - job: name: senlin-dsvm-tempest-py3-api-ussuri parent: senlin-dsvm-tempest-py3-api override-checkout: stable/ussuri,6,6
openstack%2Fpython-masakariclient~master~I3e3ec47678d618cb5648f76a624c6b9978919c6f,openstack/python-masakariclient,master,I3e3ec47678d618cb5648f76a624c6b9978919c6f,Add Python3 zed unit tests,ABANDONED,2022-06-06 02:22:54.000000000,2022-08-04 08:48:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-06 02:22:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/24e4eec3c3df9c1b3fc1affa5f46d02d81e5e236', 'message': 'Add Python3 zed unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for zed.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I3e3ec47678d618cb5648f76a624c6b9978919c6f\n'}]",0,844759,24e4eec3c3df9c1b3fc1affa5f46d02d81e5e236,3,1,1,31827,,,0,"Add Python3 zed unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for zed.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I3e3ec47678d618cb5648f76a624c6b9978919c6f
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/59/844759/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,24e4eec3c3df9c1b3fc1affa5f46d02d81e5e236,, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Fpython-glanceclient~master~I055969c0c3fa866e6639f6b37dbffb5f9599acab,openstack/python-glanceclient,master,I055969c0c3fa866e6639f6b37dbffb5f9599acab,Specify image size to avoid glance backend resize,NEW,2018-09-14 08:59:47.000000000,2022-08-04 08:42:34.000000000,,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28948}, {'_account_id': 29048}]","[{'number': 1, 'created': '2018-09-14 08:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/a0f4073de51bd1909806700c5d4c837d82a5f8e7', 'message': ""Fix uploading cinder volumes to images\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will terribly\nimpact the performance. The patch aims to tell the image size to glance\nserver at the initial phase of uploading, so that glance backend such as\nceph can allocate an image with exact size, and don't need to resize the\nimage again and again\n\nStory: 2003774\nTask: 26466\n\nChange-Id: I055969c0c3fa866e6639f6b37dbffb5f9599acab\n""}, {'number': 2, 'created': '2018-09-15 14:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/f484a17b978252c1e033d23a331e827471b1b66e', 'message': ""Specify image size to avoid glance backend resize when uploading volume\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need to\nresize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will terribly\nimpact the performance. The patch aims to tell the image size to glance\nserver at the initial phase of uploading, so that glance backend such as\nceph can allocate an image with exact size, and don't need to resize the\nimage again and again\n\nStory: 2003774\nTask: 26466\n\nChange-Id: I055969c0c3fa866e6639f6b37dbffb5f9599acab\n""}, {'number': 3, 'created': '2018-09-17 06:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/6a10cd9b7426189af85d5c9cdb180a18e2601939', 'message': ""Specify image size to avoid glance backend resize when uploading volume\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need\nto resize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. The patch aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nPartial-Bug: #1792710\nStory: 2003774\nTask: 26466\n\nChange-Id: I055969c0c3fa866e6639f6b37dbffb5f9599acab\n""}, {'number': 4, 'created': '2018-09-18 05:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/f51d01199792ec84efb0248152d6bd3ce9ca6dc6', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need\nto resize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. The patch aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nPartial-Bug: #1792710\nStory: 2003774\nTask: 26466\n\nChange-Id: I055969c0c3fa866e6639f6b37dbffb5f9599acab\n""}, {'number': 5, 'created': '2018-09-20 01:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/db2a423e17f26fb6908d79af903edf986066d493', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need\nto resize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. The patch aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nPartial-Bug: #1792710\n\nChange-Id: I055969c0c3fa866e6639f6b37dbffb5f9599acab\n""}, {'number': 6, 'created': '2020-03-27 12:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/bcce29cc81635d38dbcb22cb7d3a57845e547c57', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need\nto resize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. The patch aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nPartial-Bug: #1792710\n\nChange-Id: I055969c0c3fa866e6639f6b37dbffb5f9599acab\n""}, {'number': 7, 'created': '2022-08-03 13:21:01.000000000', 'files': ['glanceclient/v2/images.py', 'glanceclient/tests/unit/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/99d78e53d853e7dbfe96c6eba39ddf53732012f3', 'message': ""Specify image size to avoid glance backend resize\n\nWhen uploading a volume to glance as an image, the glance server don't\nknow the image size, so the backend storage server(such as ceph) need\nto resize the image every time it received new chunk of data(by default\n64K). So there will be huge times of resize operations that will\nterribly impact the performance. The patch aims to tell the image size\nto glance server at the initial phase of uploading, so that glance\nbackend such as ceph can allocate an image with exact size, and don't\nneed to resize the image again and again\n\nPartial-Bug: #1792710\n\nChange-Id: I055969c0c3fa866e6639f6b37dbffb5f9599acab\n""}]",5,602577,99d78e53d853e7dbfe96c6eba39ddf53732012f3,28,6,7,28948,,,0,"Specify image size to avoid glance backend resize

When uploading a volume to glance as an image, the glance server don't
know the image size, so the backend storage server(such as ceph) need
to resize the image every time it received new chunk of data(by default
64K). So there will be huge times of resize operations that will
terribly impact the performance. The patch aims to tell the image size
to glance server at the initial phase of uploading, so that glance
backend such as ceph can allocate an image with exact size, and don't
need to resize the image again and again

Partial-Bug: #1792710

Change-Id: I055969c0c3fa866e6639f6b37dbffb5f9599acab
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/77/602577/5 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/v2/images.py'],1,a0f4073de51bd1909806700c5d4c837d82a5f8e7,bug/1792710," hdrs = { 'Content-Type': 'application/octet-stream', 'x-image-meta-size': str(image_size) }", hdrs = {'Content-Type': 'application/octet-stream'},4,1
openstack%2Fplacement~master~Idc367df609dc8d4874fc329f2317c582b9e06a4d,openstack/placement,master,Idc367df609dc8d4874fc329f2317c582b9e06a4d,Clarify trait filtering in the API doc,MERGED,2022-01-20 13:28:14.000000000,2022-08-04 08:33:06.000000000,2022-08-04 08:31:51.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-01-20 13:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/89603d6e4c23d68a08760e704b867b6ea9b04452', 'message': 'Clarify trait filtering in the API doc\n\nBased on the spec[1], the user doc[2] and the implementation[3][4]\nthe original intention of trait filtering during allocation\ncandidate query is that the required traits in the unnamed group\nneeds to be provided by the resource providers contributing resources\nto the candidate. So traits on RPs which are in the tree of the\ncandidate but not providing resource to the candidate should be ignored.\n\nThe current API doc is not clear on this and can be misunderstood. So\nthis patch clarifies that doc.\n\n[1] https://docs.openstack.org/placement/latest/specs/train/implemented/2005575-nested-magic-1.html\n[2] https://docs.openstack.org/placement/latest/user/provider-tree.html#filtering-by-traits\n[3] https://github.com/openstack/placement/blob/d48d22ff24535eb5ae947d60fd87a9afb2e7b45d/placement/objects/research_context.py#L745\n[4] https://github.com/openstack/placement/blob/d48d22ff24535eb5ae947d60fd87a9afb2e7b45d/placement/tests/functional/db/test_allocation_candidates.py#L817-L827\n\nStory: #2009795\nTask: #44334\nChange-Id: Idc367df609dc8d4874fc329f2317c582b9e06a4d\n'}, {'number': 2, 'created': '2022-08-03 13:22:06.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/11644979641eb98e336e0e1a40f43301ec5bcb83', 'message': 'Clarify trait filtering in the API doc\n\nBased on the spec[1], the user doc[2] and the implementation[3][4]\nthe original intention of trait filtering during allocation\ncandidate query is that the required traits in the unnamed group\nneeds to be provided by the resource providers contributing resources\nto the candidate. So traits on RPs which are in the tree of the\ncandidate but not providing resource to the candidate should be ignored.\n\nThe current API doc is not clear on this and can be misunderstood. So\nthis patch clarifies that doc.\n\n[1] https://docs.openstack.org/placement/latest/specs/train/implemented/2005575-nested-magic-1.html\n[2] https://docs.openstack.org/placement/latest/user/provider-tree.html#filtering-by-traits\n[3] https://github.com/openstack/placement/blob/d48d22ff24535eb5ae947d60fd87a9afb2e7b45d/placement/objects/research_context.py#L745\n[4] https://github.com/openstack/placement/blob/d48d22ff24535eb5ae947d60fd87a9afb2e7b45d/placement/tests/functional/db/test_allocation_candidates.py#L817-L827\n\nStory: #2009795\nTask: #44334\nChange-Id: Idc367df609dc8d4874fc329f2317c582b9e06a4d\n'}]",6,825501,11644979641eb98e336e0e1a40f43301ec5bcb83,14,4,2,9708,,,0,"Clarify trait filtering in the API doc

Based on the spec[1], the user doc[2] and the implementation[3][4]
the original intention of trait filtering during allocation
candidate query is that the required traits in the unnamed group
needs to be provided by the resource providers contributing resources
to the candidate. So traits on RPs which are in the tree of the
candidate but not providing resource to the candidate should be ignored.

The current API doc is not clear on this and can be misunderstood. So
this patch clarifies that doc.

[1] https://docs.openstack.org/placement/latest/specs/train/implemented/2005575-nested-magic-1.html
[2] https://docs.openstack.org/placement/latest/user/provider-tree.html#filtering-by-traits
[3] https://github.com/openstack/placement/blob/d48d22ff24535eb5ae947d60fd87a9afb2e7b45d/placement/objects/research_context.py#L745
[4] https://github.com/openstack/placement/blob/d48d22ff24535eb5ae947d60fd87a9afb2e7b45d/placement/tests/functional/db/test_allocation_candidates.py#L817-L827

Story: #2009795
Task: #44334
Change-Id: Idc367df609dc8d4874fc329f2317c582b9e06a4d
",git fetch https://review.opendev.org/openstack/placement refs/changes/01/825501/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,89603d6e4c23d68a08760e704b867b6ea9b04452,story/2009795," associated via aggregate as far as that provider also contributes resource to the request. **Starting from microversion 1.22** traits which are forbidden from any resource provider contributing resources to the request, may be expressed by prefixing a trait with a ``!``.", associated via aggregate. **Starting from microversion 1.22** traits which are forbidden from any resource provider may be expressed by prefixing a trait with a ``!``.,4,3
openstack%2Fproject-config~master~I5153dc998b5c5208f83f57bbe9e2a6a363502645,openstack/project-config,master,I5153dc998b5c5208f83f57bbe9e2a6a363502645,Normalize projects.yaml,MERGED,2022-08-04 02:20:30.000000000,2022-08-04 08:32:34.000000000,2022-08-04 07:59:46.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-04 02:20:30.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c95ec60d3d30f838355617a29613f3c0fe188f89', 'message': 'Normalize projects.yaml\n\nChange-Id: I5153dc998b5c5208f83f57bbe9e2a6a363502645\n'}]",0,852065,c95ec60d3d30f838355617a29613f3c0fe188f89,8,3,1,11131,,,0,"Normalize projects.yaml

Change-Id: I5153dc998b5c5208f83f57bbe9e2a6a363502645
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/852065/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,c95ec60d3d30f838355617a29613f3c0fe188f89,project-yaml-normalization,, upstream: https://github.com/openstack-charmers/charm-cinder-ceph-operator.git upstream: https://github.com/openstack-charmers/charm-cinder-operator.git upstream: https://github.com/openstack-charmers/charm-glance-operator.git upstream: https://github.com/openstack-charmers/charm-openstack-dashboard-operator.git upstream: https://github.com/openstack-charmers/charm-keystone-operator.git upstream: https://github.com/openstack-charmers/charm-neutron-operator.git upstream: https://github.com/openstack-charmers/charm-nova-operator.git upstream: https://github.com/openstack-charmers/advanced-sunbeam-openstack.git upstream: https://github.com/openstack-charmers/charm-placement-operator.git upstream: https://github.com/openstack-charmers/charm-ovn-central-operator.git upstream: https://github.com/openstack-charmers/charm-ovn-relay-operator.git,0,11
openstack%2Fpython-masakariclient~master~I5c96330f8f461d74d55b827a454935fb5270b017,openstack/python-masakariclient,master,I5c96330f8f461d74d55b827a454935fb5270b017,Update master for stable/yoga,MERGED,2022-03-04 17:16:42.000000000,2022-08-04 08:31:25.000000000,2022-08-04 08:30:09.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-03-04 17:16:42.000000000', 'files': ['releasenotes/source/yoga.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/0aa4b89d6c988646ca24b62f9a08ce86d26e7ba4', 'message': 'Update master for stable/yoga\n\nAdd file to the reno documentation build to show release notes for\nstable/yoga.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/yoga.\n\nSem-Ver: feature\nChange-Id: I5c96330f8f461d74d55b827a454935fb5270b017\n'}]",1,832002,0aa4b89d6c988646ca24b62f9a08ce86d26e7ba4,8,3,1,22816,,,0,"Update master for stable/yoga

Add file to the reno documentation build to show release notes for
stable/yoga.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/yoga.

Sem-Ver: feature
Change-Id: I5c96330f8f461d74d55b827a454935fb5270b017
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/02/832002/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/yoga.rst', 'releasenotes/source/index.rst']",2,0aa4b89d6c988646ca24b62f9a08ce86d26e7ba4,reno-yoga, yoga,,7,0
openstack%2Fopenstack-ansible-haproxy_server~master~I949960420ed5dbd6d58f0de7dae0ac629a85b7fc,openstack/openstack-ansible-haproxy_server,master,I949960420ed5dbd6d58f0de7dae0ac629a85b7fc,Don't restrict haproxy tunable options,MERGED,2022-06-18 19:05:34.000000000,2022-08-04 08:29:04.000000000,2022-06-20 12:54:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-18 19:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/35b0b1649d03bf55eb20e34604c0f046a9627a2d', 'message': ""Don't restrict haproxy tunable options\n\nInstead of hardcoding specific supported tunable options, we\njust pass key as an option to haproxy config.\n\nThis change might break deployments during upgrades, since format of\nvalues in variable has changed, but appropriate release note was written\n\nWe also increase maxrewrite by default, as otherwise usage of CSP leads\nto 500 error.\n\nChange-Id: I949960420ed5dbd6d58f0de7dae0ac629a85b7fc\nRelated-Bug: https://github.com/haproxy/haproxy/issues/1597\n""}, {'number': 2, 'created': '2022-06-18 19:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/e6c939a239f4d15b502a7a38aa8052a750a4fbeb', 'message': ""Don't restrict haproxy tunable options\n\nInstead of hardcoding specific supported tunable options, we\njust pass key as an option to haproxy config.\n\nThis change might break deployments during upgrades, since format of\nvalues in variable has changed, but appropriate release note was written\n\nWe also increase maxrewrite by default, as otherwise usage of CSP leads\nto 500 error.\n\nChange-Id: I949960420ed5dbd6d58f0de7dae0ac629a85b7fc\nRelated-Bug: https://github.com/haproxy/haproxy/issues/1597\n""}, {'number': 3, 'created': '2022-06-18 19:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/878dc6a1eb3c3d41205b5acf70362a8d62b309a5', 'message': ""Don't restrict haproxy tunable options\n\nInstead of hardcoding specific supported tunable options, we\njust pass key as an option to haproxy config.\n\nThis change might break deployments during upgrades, since format of\nvalues in variable has changed, but appropriate release note was written\n\nWe also increase maxrewrite by default, as otherwise usage of CSP leads\nto 500 error.\n\nChange-Id: I949960420ed5dbd6d58f0de7dae0ac629a85b7fc\nRelated-Bug: https://github.com/haproxy/haproxy/issues/1597\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/844815\n""}, {'number': 4, 'created': '2022-06-20 06:27:52.000000000', 'files': ['releasenotes/notes/haproxy_tuning_params_released-45eb40104747561a.yaml', 'templates/haproxy.cfg.j2', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/be9a66c2807b5e7edb4f9868c6491ce26f0b5d7f', 'message': ""Don't restrict haproxy tunable options\n\nInstead of hardcoding specific supported tunable options, we\njust pass key as an option to haproxy config.\n\nThis change might break deployments during upgrades, since format of\nvalues in variable has changed, but appropriate release note was written\n\nWe also increase maxrewrite by default, as otherwise usage of CSP leads\nto 500 error.\n\nChange-Id: I949960420ed5dbd6d58f0de7dae0ac629a85b7fc\nRelated-Bug: https://github.com/haproxy/haproxy/issues/1597\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/844815\n""}]",2,846473,be9a66c2807b5e7edb4f9868c6491ce26f0b5d7f,14,3,4,28619,,,0,"Don't restrict haproxy tunable options

Instead of hardcoding specific supported tunable options, we
just pass key as an option to haproxy config.

This change might break deployments during upgrades, since format of
values in variable has changed, but appropriate release note was written

We also increase maxrewrite by default, as otherwise usage of CSP leads
to 500 error.

Change-Id: I949960420ed5dbd6d58f0de7dae0ac629a85b7fc
Related-Bug: https://github.com/haproxy/haproxy/issues/1597
Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/844815
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/73/846473/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/haproxy_tuning_params_released-45eb40104747561a.yaml', 'vars/redhat.yml', 'vars/debian.yml', 'templates/haproxy.cfg.j2', 'defaults/main.yml']",5,35b0b1649d03bf55eb20e34604c0f046a9627a2d,846473,# tune.bufsize: 384000 # tune.chksize: 16384 # tune.comp_maxlevel: 1 # tune.http_maxhdr: 101 # tune.maxaccept: 64 # tune.ssl_cachesize: 20000 # tune.ssl_lifetime: 300 haproxy_tuning_params: {},# bufsize: 384000 # chksize: 16384 # comp_maxlevel: 1 # http_maxhdr: 101 # maxaccept: 64 # ssl_cachesize: 20000 # ssl_lifetime: 300,43,17
openstack%2Fcharm-ops-sunbeam~main~I66f0effc29d68564c01aaa0018786c9e04153552,openstack/charm-ops-sunbeam,main,I66f0effc29d68564c01aaa0018786c9e04153552,cleanup on migration to opendev,MERGED,2022-08-04 06:56:02.000000000,2022-08-04 08:23:00.000000000,2022-08-04 08:23:00.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-04 06:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/e78dcd06425285d0c89d2f1b1e0960214248c5e6', 'message': 'cleanup on migration to opendev\n\nRemove references to old repo\nCleanup tox.ini\nAdd .gitreview\n\nChange-Id: I66f0effc29d68564c01aaa0018786c9e04153552\n'}, {'number': 2, 'created': '2022-08-04 07:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/149cb6e00409ad450ab7656bc8e2e0468ee7f1b0', 'message': 'cleanup on migration to opendev\n\nRemove references to old repo\nCleanup tox.ini\nAdd .gitreview\nAdd .zuul.yaml\n\nChange-Id: I66f0effc29d68564c01aaa0018786c9e04153552\n'}, {'number': 3, 'created': '2022-08-04 07:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/37bb7706289eef3c0c9fbd3b5704b21ab47a2e1d', 'message': 'cleanup on migration to opendev\n\nRemove references to old repo\nAdd .gitreview\nAdd .zuul.yaml\n\nChange-Id: I66f0effc29d68564c01aaa0018786c9e04153552\n'}, {'number': 4, 'created': '2022-08-04 07:58:33.000000000', 'files': ['.gitreview', 'doc/writing-OS-API-charm.rst', '.zuul.yaml', 'ops_sunbeam/interfaces.py', 'shared_code/sunbeam_charm/{{cookiecutter.service_name}}/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/84e90b31c534996f44ef0f3402a88d1ee79e7fe2', 'message': 'cleanup on migration to opendev\n\nRemove references to old repo\nAdd .gitreview\nAdd .zuul.yaml\n\nChange-Id: I66f0effc29d68564c01aaa0018786c9e04153552\n'}]",0,852082,84e90b31c534996f44ef0f3402a88d1ee79e7fe2,11,2,4,10366,,,0,"cleanup on migration to opendev

Remove references to old repo
Add .gitreview
Add .zuul.yaml

Change-Id: I66f0effc29d68564c01aaa0018786c9e04153552
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/82/852082/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'doc/writing-OS-API-charm.rst', 'ops_sunbeam/interfaces.py', 'shared_code/sunbeam_charm/{{cookiecutter.service_name}}/requirements.txt', 'tox.ini']",5,e78dcd06425285d0c89d2f1b1e0960214248c5e6,opendev-migration,"envlist = pep8,py3requires = virtualenv < 20.0basepython = python3allowlist_externals = git charmcraft fetch-libs.sh deps = -r{toxinidir}/test-requirements.txt {toxinidir}/fetch-libs.sh[testenv:py3] basepython = python3 deps = {[testenv]deps} -r{toxinidir}/requirements.txt deps = {[testenv:py3]deps}deps = {[testenv:py3]deps}deps = {[testenv:py3]deps}deps = {[testenv]deps} commands = flake8 {posargs} unit_tests ops_sunbeam --exclude unit_tests/libdeps = {[testenv:py3]deps}ignore = E226,E402,ANN101,ANN003,W504","envlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOscisetenv = VIRTUAL_ENV={envdir} PYTHONHASHSEED=0 CHARM_DIR={envdir}whitelist_externals = git add-to-archive.py fetch-libs.sh bash charmcraft passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/test-requirements.txt ./fetch-libs.shdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = flake8 {posargs} src unit_tests tests ops_sunbeam --exclude unit_tests/libdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt {[testenv]setenv}# Ignore E902 because the unit_tests directory is missing in the built charm. ignore = E402,E226,E902,ANN101,ANN003,W504",32,49
openstack%2Fpython-glanceclient~master~I93917b051039506d99837028700bc03337cf68f6,openstack/python-glanceclient,master,I93917b051039506d99837028700bc03337cf68f6,Delete python bytecode before every test run,MERGED,2022-02-23 20:30:06.000000000,2022-08-04 08:07:22.000000000,2022-08-04 08:06:11.000000000,"[{'_account_id': 9303}, {'_account_id': 15334}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 33493}, {'_account_id': 33543}, {'_account_id': 34775}]","[{'number': 1, 'created': '2022-02-23 20:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/9d11eb504828cce25d3c57a4508539fc843d1954', 'message': 'Delete python bytecode before every test run\n\nBecause python creates pyc files during tox runs, certain changes in the\ntree, like branch switching or file deletion, can create spurious\nerrors.\n\nCloses-Bug: #1368661\n\nChange-Id: I93917b051039506d99837028700bc03337cf68f6\n'}, {'number': 2, 'created': '2022-08-02 16:09:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/75218d289ed27b4eddd645436275b1e51aed0fab', 'message': 'Delete python bytecode before every test run\n\nBecause python creates pyc files during tox runs, certain changes in the\ntree, like branch switching or file deletion, can create spurious\nerrors.\n\nCloses-Bug: #1368661\n\nChange-Id: I93917b051039506d99837028700bc03337cf68f6\n'}]",5,830688,75218d289ed27b4eddd645436275b1e51aed0fab,23,8,2,8122,,,0,"Delete python bytecode before every test run

Because python creates pyc files during tox runs, certain changes in the
tree, like branch switching or file deletion, can create spurious
errors.

Closes-Bug: #1368661

Change-Id: I93917b051039506d99837028700bc03337cf68f6
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/88/830688/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9d11eb504828cce25d3c57a4508539fc843d1954,bug/1368661,"commands = find . -type f -name ""*.pyc"" -delete stestr run --slowest {posargs} whitelist_externals = find",commands = stestr run --slowest {posargs},3,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iffc0c1f9cf038f20436b65bb9602f121f1c07d37,openstack/tripleo-heat-templates,stable/wallaby,Iffc0c1f9cf038f20436b65bb9602f121f1c07d37,Add credentials cache for novajoin user,MERGED,2022-07-22 10:33:01.000000000,2022-08-04 07:42:59.000000000,2022-08-04 07:42:59.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-22 10:33:01.000000000', 'files': ['deployment/ipa/ipaservices-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7cc5b3dcef9a731490aaa597f0b0a0b00b28698', 'message': 'Add credentials cache for novajoin user\n\nWith a switch to using the ansible-freeipa modules instead of the\ncommunity modules, we need to specify a credentials cache file.\nWe need to change to ansible-freeipa modules because the community\nmodules do not support FIPS.\nThis is required for the tripleo-ipa change[1].\n\n[1] https://review.opendev.org/c/x/tripleo-ipa/+/848255\n\nChange-Id: Iffc0c1f9cf038f20436b65bb9602f121f1c07d37\n(cherry picked from commit 7761fed0cb1cd0740a2c0dee128144acf053249e)\n'}]",2,850560,f7cc5b3dcef9a731490aaa597f0b0a0b00b28698,12,4,1,34120,,,0,"Add credentials cache for novajoin user

With a switch to using the ansible-freeipa modules instead of the
community modules, we need to specify a credentials cache file.
We need to change to ansible-freeipa modules because the community
modules do not support FIPS.
This is required for the tripleo-ipa change[1].

[1] https://review.opendev.org/c/x/tripleo-ipa/+/848255

Change-Id: Iffc0c1f9cf038f20436b65bb9602f121f1c07d37
(cherry picked from commit 7761fed0cb1cd0740a2c0dee128144acf053249e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/850560/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ipa/ipaservices-baremetal-ansible.yaml'],1,f7cc5b3dcef9a731490aaa597f0b0a0b00b28698,add_creds_cache-stable/wallaby," IdMNovaCredentialCache: default: '/etc/novajoin/krb5.cache' description: credential cache for nova/[host fqdn] user type: string map_merge: KRB5CCNAME: {get_param: IdMNovaCredentialCache} - if: - idm_server_provided - IPA_HOST: {get_param: [IdMServer, 0]}"," if: - idm_server_provided - IPA_HOST: {get_param: [IdMServer, 0]} IPA_USER: ""nova/{{ ansible_facts['fqdn'] }}"" KRB5_CLIENT_KTNAME: {get_param: IdMNovaKeytab}",9,5
openstack%2Fproject-config~master~I23f2b397bc7f1d8c2a959e0e90f5058cf3bf104d,openstack/project-config,master,I23f2b397bc7f1d8c2a959e0e90f5058cf3bf104d,Bump openEuler to 22.03 LTS,MERGED,2022-08-03 06:40:52.000000000,2022-08-04 07:34:31.000000000,2022-08-04 06:50:30.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-03 06:40:52.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl03.opendev.org.yaml', 'nodepool/nb03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/30fca1376d73d430049d9ffc4b4ec69125dde20f', 'message': ""Bump openEuler to 22.03 LTS\n\nopenEuler 20.03-LTS-SP2 was out of date in May 2022. 22.03 LTS\nis the newest LTS version. It was release in March 2022 and\nwill be maintained for 2 years. This patch upgrades the LTS\nversion. It'll be used in Devstack, Kolla-ansible and so on\nin CI jobs.\n\nChange-Id: I23f2b397bc7f1d8c2a959e0e90f5058cf3bf104d\n""}]",1,851957,30fca1376d73d430049d9ffc4b4ec69125dde20f,8,3,1,15054,,,0,"Bump openEuler to 22.03 LTS

openEuler 20.03-LTS-SP2 was out of date in May 2022. 22.03 LTS
is the newest LTS version. It was release in March 2022 and
will be maintained for 2 years. This patch upgrades the LTS
version. It'll be used in Devstack, Kolla-ansible and so on
in CI jobs.

Change-Id: I23f2b397bc7f1d8c2a959e0e90f5058cf3bf104d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/851957/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl03.opendev.org.yaml', 'nodepool/nb03.opendev.org.yaml']",4,30fca1376d73d430049d9ffc4b4ec69125dde20f,upgrade_openeuler_version, - name: openEuler-22-03-LTS-arm64 - name: openEuler-22-03-LTS - name: openEuler-22-03-LTS-arm64 release: 22.03-LTS env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/openeuler', - name: openEuler-20-03-LTS-SP2-arm64 - name: openEuler-20-03-LTS-SP2 - name: openEuler-20-03-LTS-SP2-arm64 release: 20.03-LTS-SP2 env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/openeuler/openEuler-20.03-LTS-SP2',20,20
openstack%2Fproject-config~master~I01d1a2874cc96926ff60746af617e75c19f99b1b,openstack/project-config,master,I01d1a2874cc96926ff60746af617e75c19f99b1b,grafana: pull grafyaml in helper script,MERGED,2022-08-04 03:44:29.000000000,2022-08-04 07:17:50.000000000,2022-08-04 05:04:55.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-04 03:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fdc72a67f8263d1a62c8e10b09ff4b6549eb6260', 'message': 'grafana: pull grafyaml in helper script\n\nMake sure before running the grafana image is pulled so we get any\nupdates before trying to load the dashboards.\n\nChange-Id: I01d1a2874cc96926ff60746af617e75c19f99b1b\n'}, {'number': 2, 'created': '2022-08-04 03:59:06.000000000', 'files': ['grafana/run-grafana.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/081f47799119a86d621456e32dfe065c944eb418', 'message': 'grafana: pull grafyaml in helper script\n\nMake sure before running the grafana image is pulled so we get any\nupdates before trying to load the dashboards.\n\nChange-Id: I01d1a2874cc96926ff60746af617e75c19f99b1b\n'}]",1,852071,081f47799119a86d621456e32dfe065c944eb418,9,2,2,7118,,,0,"grafana: pull grafyaml in helper script

Make sure before running the grafana image is pulled so we get any
updates before trying to load the dashboards.

Change-Id: I01d1a2874cc96926ff60746af617e75c19f99b1b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/852071/2 && git format-patch -1 --stdout FETCH_HEAD,['grafana/run-grafana.sh'],1,fdc72a67f8263d1a62c8e10b09ff4b6549eb6260,pull-grafyaml,"echo ""Pulling grafyaml"" ${DOCKER} pull opendevorg/grafyaml ",,3,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I2af1e5b6464c863163c969a2bc17f7997d293dbb,openstack/tripleo-heat-templates,stable/wallaby,I2af1e5b6464c863163c969a2bc17f7997d293dbb,Ensure cell0 database uri is correct,MERGED,2022-08-01 13:19:23.000000000,2022-08-04 07:10:29.000000000,2022-08-04 07:10:29.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-01 13:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/729b4f96990d7c52dea1d2b3d805738bb8e8c38d', 'message': 'Ensure cell0 database uri is correct\n\nIf cell0 was created before switching to templated uris the password\nwill be hardcoded in the database, breaking password rotation.\nIf it exists always update it to ensure it is the correct form.\n\nRelated: rhbz#2030191\nChange-Id: I2af1e5b6464c863163c969a2bc17f7997d293dbb\n'}, {'number': 2, 'created': '2022-08-01 13:21:49.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1e488d3770c0b664aa3e319c44492ebeb1632d8', 'message': 'Ensure cell0 database uri is correct\n\nIf cell0 was created before switching to templated uris the password\nwill be hardcoded in the database, breaking password rotation.\nIf it exists always update it to ensure it is the correct form.\n\nRelated: rhbz#2030191\nChange-Id: I2af1e5b6464c863163c969a2bc17f7997d293dbb\n'}]",1,851742,c1e488d3770c0b664aa3e319c44492ebeb1632d8,10,6,2,6926,,,0,"Ensure cell0 database uri is correct

If cell0 was created before switching to templated uris the password
will be hardcoded in the database, breaking password rotation.
If it exists always update it to ensure it is the correct form.

Related: rhbz#2030191
Change-Id: I2af1e5b6464c863163c969a2bc17f7997d293dbb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/851742/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-api-container-puppet.yaml'],1,729b4f96990d7c52dea1d2b3d805738bb8e8c38d,," /var/lib/kolla/config_files/nova_api_ensure_default_cells.json: command: ""/usr/bin/bootstrap_host_exec nova_api /nova_api_ensure_default_cells.sh"" nova_api_ensure_default_cells.sh: set -e CELL0_ID='00000000-0000-0000-0000-000000000000' CELL0_EXISTS=$(su nova -s /bin/bash -c ""nova-manage cell_v2 list_cells"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$4 == ""'$CELL0_ID'"" {print $4}') if [ ""$CELL0_EXISTS"" ]; then echo ""(cellv2) Updating cell_v2 cell0 database uri"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 update_cell --cell_uuid $CELL0_ID --database_connection='CELL0DB' --transport-url='none:///'"" else echo ""(cellv2) Creating cell_v2 cell0"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 map_cell0 --database_connection='CELL0DB'"" fi CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}' nova_api_ensure_default_cells: - - /var/lib/kolla/config_files/nova_api_ensure_default_cells.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/container-config-scripts/nova_api_ensure_default_cells.sh:/nova_api_ensure_default_cells.sh:ro"," /var/lib/kolla/config_files/nova_api_map_cell0.json: command: str_replace: template: ""/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c '/usr/bin/nova-manage cell_v2 map_cell0 --database_connection=\""CELL0DB\""'"" params: CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}' config_files: *nova_api_db_sync permissions: *nova_api_permissions /var/lib/kolla/config_files/nova_api_ensure_default_cell.json: command: ""/usr/bin/bootstrap_host_exec nova_api /nova_api_ensure_default_cell.sh"" nova_api_ensure_default_cell.sh: nova_api_map_cell0: user: root - - /var/lib/kolla/config_files/nova_api_map_cell0.json:/var/lib/kolla/config_files/config.json:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS nova_api_ensure_default_cell: start_order: 2 # Runs before nova-conductor dbsync image: *nova_api_image net: host detach: false volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [NovaApiLogging, volumes]} - - /var/lib/kolla/config_files/nova_api_ensure_default_cell.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova:/var/lib/kolla/config_files/src:ro - /var/lib/container-config-scripts/nova_api_ensure_default_cell.sh:/nova_api_ensure_default_cell.sh:ro",33,45
openstack%2Fskyline-console~master~Icd660776a220941b05511c4f2eef3547b7f952dc,openstack/skyline-console,master,Icd660776a220941b05511c4f2eef3547b7f952dc,feat: show action logs of a zun container,MERGED,2022-08-03 08:07:13.000000000,2022-08-04 07:09:16.000000000,2022-08-04 07:08:16.000000000,"[{'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 28706}, {'_account_id': 28743}, {'_account_id': 30434}, {'_account_id': 30597}, {'_account_id': 33196}, {'_account_id': 35102}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-08-03 08:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f7cbbe4e307d6ddc34f4b628edca1394a7f9362a', 'message': 'feat: show action logs of a zun container\n\nShow action logs of a zun container\n\nChange-Id: Icd660776a220941b05511c4f2eef3547b7f952dc\n'}, {'number': 2, 'created': '2022-08-03 08:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/47182c3e95e323b75bf7581f191933a59b299b82', 'message': 'feat: show action logs of a zun container\n\nShow action logs of a zun container\n\nChange-Id: Icd660776a220941b05511c4f2eef3547b7f952dc\n'}, {'number': 3, 'created': '2022-08-03 08:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f5009beb04ba74f51d65bd6e2b37f4596a96b21f', 'message': 'feat: show action logs of a zun container\n\nShow action logs of a zun container\n\nChange-Id: Icd660776a220941b05511c4f2eef3547b7f952dc\n'}, {'number': 4, 'created': '2022-08-03 10:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/565885f6716aba8f39f6fd422fc16ca268b9965c', 'message': 'feat: show action logs of a zun container\n\nShow action logs of a zun container\n\nChange-Id: Icd660776a220941b05511c4f2eef3547b7f952dc\n'}, {'number': 5, 'created': '2022-08-04 02:21:56.000000000', 'files': ['src/components/Popover/PopActionEvent.jsx', 'src/stores/zun/action-log.js', 'src/pages/container-service/containers/Containers/Detail/ActionLogs.jsx', 'src/pages/container-service/containers/Containers/Detail/index.jsx', 'src/client/zun/index.js', 'src/resources/zun/actions.jsx', 'src/resources/nova/instance.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/88d877cde2f507d70dcc450ef8cb2fec84005efe', 'message': 'feat: show action logs of a zun container\n\nShow action logs of a zun container\n\nChange-Id: Icd660776a220941b05511c4f2eef3547b7f952dc\n'}]",1,851965,88d877cde2f507d70dcc450ef8cb2fec84005efe,26,12,5,33689,,,0,"feat: show action logs of a zun container

Show action logs of a zun container

Change-Id: Icd660776a220941b05511c4f2eef3547b7f952dc
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/65/851965/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/stores/zun/action-log.js', 'src/pages/container-service/containers/Containers/Detail/index.jsx', 'src/client/zun/index.js', 'src/pages/container-service/containers/Containers/Detail/Actions.jsx', 'src/resources/zun/actions.jsx']",5,f7cbbe4e307d6ddc34f4b628edca1394a7f9362a,zun-log,"// Copyright 2021 99cloud // // Licensed under the Apache License, Version 2.0 (the ""License""); // you may not use this file except in compliance with the License. // You may obtain a copy of the License at // // http://www.apache.org/licenses/LICENSE-2.0 // // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an ""AS IS"" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. // See the License for the specific language governing permissions and // limitations under the License. import React, { useState, useEffect } from 'react'; import { ActionsStore } from 'src/stores/zun/action-log'; import { getLocalTimeStr } from 'utils/time'; import { Table, Popover } from 'antd'; export const actionEvent = { compute__do_container_start: t('Start Container'), compute__do_container_create: t('Create Container'), compute__do_container_stop: t('Stop Container'), compute__do_container_reboot: t('Reboot Container'), compute__do_container_restart: t('Restart Container'), compute__do_container_pause: t('Pause Container'), compute__do_container_unpause: t('Unpause Container'), compute__do_container_resize: t('Resize Container'), compute__do_container_rebuild: t('Rebuild Container'), compute__do_container_kill: t('Kill Container'), compute__do_container_delete: t('Delete Container'), }; export const actionMap = { create: t('Create'), stop: t('Stop'), reboot: t('Reboot'), start: t('Start'), restart: t('Restart'), pause: t('Pause'), unpause: t('Unpause'), resize: t('Resize'), rebuild: t('Rebuild'), kill: t('Kill'), delete: t('Delete'), }; function PopUpContent({ id, requestId }) { const [event, setEvent] = useState([]); const [loading, setLoading] = useState(false); useEffect(() => { let timeout = null; (async function () { setLoading(true); const cb = await new ActionsStore().fetchDetail({ id, requestId }); const { events = [] } = cb; timeout = setTimeout(() => { setLoading(false); setEvent(events.slice().reverse()); }, 200); })(); return () => { clearTimeout(timeout); }; }, []); const columns = [ { title: t('Operation Name'), dataIndex: 'event', key: 'event', render: (value) => actionEvent[value] || value, }, { title: t('Start Time'), dataIndex: 'start_time', key: 'start_time', render: (value) => getLocalTimeStr(value), }, { title: t('End Time'), dataIndex: 'finish_time', key: 'finish_time', render: (value) => (value ? getLocalTimeStr(value) : '-'), }, { title: t('Execution Result'), dataIndex: 'result', key: 'result', render: (value) => (value === 'Success' ? t('Success') : '-'), }, ]; const table = ( <Table columns={columns} dataSource={event} pagination={false} loading={loading} size=""small"" rowKey=""event"" /> ); return table; } export const actionColumn = (self) => { return [ { title: t('Operation Name'), dataIndex: 'action', render: (value) => actionMap[value] || value, }, { title: t('Project ID/Name'), dataIndex: 'project_name', isHideable: true, hidden: !self.isAdminPage, }, { title: t('Operation Time'), dataIndex: 'start_time', valueRender: 'toLocalTimeMoment', }, { title: t('Request ID'), dataIndex: 'request_id', isHideable: true, render: (value, record) => { const content = ( <PopUpContent id={record.container_uuid} requestId={value} /> ); return ( <> {value && ( <Popover content={content} destroyTooltipOnHide trigger=""click""> <span className=""link-class"">{value}</span> </Popover> )} </> ); }, }, { title: t('User ID'), dataIndex: 'user_id', isHideable: true, hidden: !self.isAdminPage, render: (value) => self.getLinkRender('userDetail', value, { id: value }, null), }, ]; }; ",,244,0
openstack%2Fsahara-extra~master~Iea75b3138d1ef814d32e4157e63285b9a1accce6,openstack/sahara-extra,master,Iea75b3138d1ef814d32e4157e63285b9a1accce6,setup.cfg: Replace dashes with underscores,NEW,2022-08-04 05:59:40.000000000,2022-08-04 06:30:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-04 05:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/7640b558f269d8e3dc4f88509420be4a2f41ea51', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: Iea75b3138d1ef814d32e4157e63285b9a1accce6\n'}, {'number': 2, 'created': '2022-08-04 06:10:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-extra/commit/404518cff8f3ed2e8b3cf697dd7bc96f6322496b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iea75b3138d1ef814d32e4157e63285b9a1accce6\n""}]",0,852001,404518cff8f3ed2e8b3cf697dd7bc96f6322496b,4,1,2,33881,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iea75b3138d1ef814d32e4157e63285b9a1accce6
",git fetch https://review.opendev.org/openstack/sahara-extra refs/changes/01/852001/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7640b558f269d8e3dc4f88509420be4a2f41ea51,,description_file = README.rstpython_requires = >=3.6author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/sahara/latest/,description-file = README.rstpython-requires = >=3.6author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/sahara/latest/,4,4
openstack%2Fvenus~master~I3c97324bb57e7240c5b1d335caa383c095f44cc3,openstack/venus,master,I3c97324bb57e7240c5b1d335caa383c095f44cc3,Add a use case for the test unit.,MERGED,2022-08-01 12:02:11.000000000,2022-08-04 06:28:33.000000000,2022-08-04 06:27:37.000000000,"[{'_account_id': 14151}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28743}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-08-01 12:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/2d2bfb79ebe3b342cebcb435cecd1fea80b2d703', 'message': 'Add a use case for the test unit.\n\nThis test case will output: ""\'code\': 0, \'MSG\':\n\'no data, no count data\'.\n\nChange-Id: I3c97324bb57e7240c5b1d335caa383c095f44cc3\n'}, {'number': 2, 'created': '2022-08-04 02:57:22.000000000', 'files': ['venus/tests/unit/api/test_search_action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/f305b4f9e8101913ec23cebb4f8a9f5cca871faa', 'message': 'Add a use case for the test unit.\n\nThis test case will output: ""\'code\': 0, \'MSG\':\n\'no data, no count data\'.\n\nChange-Id: I3c97324bb57e7240c5b1d335caa383c095f44cc3\n'}]",2,851636,f305b4f9e8101913ec23cebb4f8a9f5cca871faa,13,5,2,34375,,,0,"Add a use case for the test unit.

This test case will output: ""'code': 0, 'MSG':
'no data, no count data'.

Change-Id: I3c97324bb57e7240c5b1d335caa383c095f44cc3
",git fetch https://review.opendev.org/openstack/venus refs/changes/36/851636/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_search_action.py'],1,2d2bfb79ebe3b342cebcb435cecd1fea80b2d703,," @mock.patch('venus.modules.search.es_template.search_logs') @mock.patch('venus.modules.search.action.SearchCore.get_index_names') @mock.patch('venus.common.utils.request_es') def test_logs_no_count_data( self, mock_req_es, mock_get_index_names, mock_search_logs): action = SearchCore() mock_get_index_names.return_value = 'flog-2022.08.01,flog-2022.08.02' mock_req_es.return_value = (200, '{""aggregations"": {}}') result = action.logs('host', '', '', 'NO EXIST', '', '', None, None, '1659339607', '1659426007', '10', '10') expected = {""code"": 0, ""msg"": ""no data, no count data""} self.assertEqual(expected, result) ",,13,0
openstack%2Fpython-senlinclient~master~Icb778f44761b90ff551e0d1c4c2f76ba15e21f58,openstack/python-senlinclient,master,Icb778f44761b90ff551e0d1c4c2f76ba15e21f58,Imported Translations from Zanata,MERGED,2022-06-21 03:58:07.000000000,2022-08-04 06:23:36.000000000,2022-08-04 06:22:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-21 03:58:07.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/113271ff3afd6b8039d6e8db88af01f2c4894d82', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Icb778f44761b90ff551e0d1c4c2f76ba15e21f58\n'}]",0,846882,113271ff3afd6b8039d6e8db88af01f2c4894d82,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Icb778f44761b90ff551e0d1c4c2f76ba15e21f58
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/82/846882/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,113271ff3afd6b8039d6e8db88af01f2c4894d82,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""Project-Id-Version: Senlin Client Release Notes\n""""POT-Creation-Date: 2022-03-07 17:39+0000\n""""PO-Revision-Date: 2022-06-13 07:33+0000\n""msgid ""1.10.0"" msgstr ""1.10.0"" msgid ""1.8.0"" msgstr ""1.8.0"" msgid ""2.0.0"" msgstr ""2.0.0"" msgid """" ""Python 2.7 support has been dropped. Last release of python-senlinclient to "" ""support python 2.7 is OpenStack Train. The minimum version of Python now "" ""supported by python-senlinclient is Python 3.6."" msgstr """" ""Python 2.7 support has been dropped. Last release of python-senlinclient to "" ""support python 2.7 is OpenStack Train. The minimum version of Python now "" ""supported by python-senlinclient is Python 3.6."" msgid ""Rocky Series Release Notes"" msgstr ""Rocky Series Release Notes"" msgid ""Stein Series Release Notes"" msgstr ""Stein Series Release Notes"" msgid ""Train Series Release Notes"" msgstr ""Train Series Release Notes"" msgid ""Ussuri Series Release Notes"" msgstr ""Ussuri Series Release Notes"" msgid ""Victoria Series Release Notes"" msgstr ""Victoria Series Release Notes"" msgid ""Wallaby Series Release Notes"" msgstr ""Wallaby Series Release Notes"" msgid ""Xena Series Release Notes"" msgstr ""Xena Series Release Notes"" msgid ""Yoga Series Release Notes"" msgstr ""Yoga Series Release Notes"" msgid """" ""[`bug 1814171 <https://bugs.launchpad.net/senlin/+bug/1814171>`_] Fixed a "" ""bug so that cluster delete and node delete return action id associated with "" ""the delete action."" msgstr """" ""[`bug 1814171 <https://bugs.launchpad.net/senlin/+bug/1814171>`_] Fixed a "" ""bug so that cluster delete and node delete return action id associated with "" ""the delete action.""","""Project-Id-Version: python-senlinclient\n""""POT-Creation-Date: 2018-08-13 16:27+0000\n""""PO-Revision-Date: 2018-08-08 07:57+0000\n""",55,3
openstack%2Ftripleo-heat-templates~master~Id106cde205ce52a1299dc8f18ae8d59201b7499f,openstack/tripleo-heat-templates,master,Id106cde205ce52a1299dc8f18ae8d59201b7499f,Remove unused Config* parameters,MERGED,2022-07-27 04:32:56.000000000,2022-08-04 06:15:56.000000000,2022-08-04 06:15:56.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28743}]","[{'number': 1, 'created': '2022-07-27 04:32:56.000000000', 'files': ['puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a7998bfc70e1081a7cfca11fe110e468dfcf7a2', 'message': 'Remove unused Config* parameters\n\nThese parameters were used to control behavior of os-collect-config,\nwhich was already removed when we completely replaced it by config-\ndownload mechanism.\n\nChange-Id: Id106cde205ce52a1299dc8f18ae8d59201b7499f\n'}]",0,851153,1a7998bfc70e1081a7cfca11fe110e468dfcf7a2,9,6,1,9816,,,0,"Remove unused Config* parameters

These parameters were used to control behavior of os-collect-config,
which was already removed when we completely replaced it by config-
download mechanism.

Change-Id: Id106cde205ce52a1299dc8f18ae8d59201b7499f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/851153/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/role.role.j2.yaml'],1,1a7998bfc70e1081a7cfca11fe110e468dfcf7a2,,, ConfigCommand: type: string description: Command which will be run whenever configuration data changes default: os-refresh-config --timeout 14400 ConfigCollectSplay: type: number default: 30 description: | Maximum amount of time to possibly to delay configuration collection polling. Defaults to 30 seconds. Set to 0 to disable it which will cause the configuration collection to occur as soon as the collection process starts. This setting is used to prevent the configuration collection processes from polling all at the exact same time.,0,13
openstack%2Fzaqar-specs~master~Ied6d875e323cfc9b0d4803f8958c7a8ca46c67ea,openstack/zaqar-specs,master,Ied6d875e323cfc9b0d4803f8958c7a8ca46c67ea,setup.cfg: Replace dashes with underscores,NEW,2022-08-04 05:50:56.000000000,2022-08-04 06:10:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-04 05:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/f81fbd741191e49f71f1cd1bc985d4142f614e07', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: Ied6d875e323cfc9b0d4803f8958c7a8ca46c67ea\n'}, {'number': 2, 'created': '2022-08-04 05:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/2963666f177e044622ec1fdc9b69c25cf0b614e5', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ied6d875e323cfc9b0d4803f8958c7a8ca46c67ea\n""}, {'number': 3, 'created': '2022-08-04 06:01:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/145129ea989fd87323fccac2d96c563b07b3d84e', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ied6d875e323cfc9b0d4803f8958c7a8ca46c67ea\n""}]",0,852078,145129ea989fd87323fccac2d96c563b07b3d84e,5,1,3,33881,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ied6d875e323cfc9b0d4803f8958c7a8ca46c67ea
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/78/852078/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f81fbd741191e49f71f1cd1bc985d4142f614e07,,description_file =author_email = openstack-dev@lists.openstack.org home_page = https://specs.openstack.org/openstack/zaqar-specs/,description-file =author-email = openstack-dev@lists.openstack.org home-page = https://specs.openstack.org/openstack/zaqar-specs/,3,3
openstack%2Fpython-saharaclient~master~I74696d02558e0fa93ea1775057db13b4f72aed02,openstack/python-saharaclient,master,I74696d02558e0fa93ea1775057db13b4f72aed02,Remove Python 2 support,MERGED,2022-06-07 05:39:07.000000000,2022-08-04 05:59:12.000000000,2022-08-04 05:58:19.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-06-07 05:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/8819e88561a0dbd98c3925bd992b07c0f5fb20d2', 'message': 'Remove unicode literal strings\n\nChange-Id: I74696d02558e0fa93ea1775057db13b4f72aed02\n'}, {'number': 2, 'created': '2022-06-09 05:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/a92668e6db1294deb73e86d712c833a4a5a27279', 'message': 'Remove unicode literal strings\n\nChange-Id: I74696d02558e0fa93ea1775057db13b4f72aed02\n'}, {'number': 3, 'created': '2022-06-09 05:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/f2b4327958f502578e9aa60dde03cf57ceb2de18', 'message': 'Remove Python 2 support\n\nPython 2 has been deprecated. This patch removes all\ntraces of six, unicode strings and Python 2 tweaks.\n\nChange-Id: I74696d02558e0fa93ea1775057db13b4f72aed02\n'}, {'number': 4, 'created': '2022-06-09 05:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/92548d014b281f93be6d299080c963c50447a6ba', 'message': 'Remove Python 2 support\n\nPython 2 has been deprecated. This patch removes all\ntraces of six, unicode strings and Python 2 tweaks.\n\nChange-Id: I74696d02558e0fa93ea1775057db13b4f72aed02\n'}, {'number': 5, 'created': '2022-06-09 05:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/68594a340c9f43145eaa84754694f2af10366509', 'message': 'Remove Python 2 support\n\nPython 2 has been deprecated. This patch removes all\ntraces of six, unicode strings and Python 2 tweaks.\n\nChange-Id: I74696d02558e0fa93ea1775057db13b4f72aed02\n'}, {'number': 6, 'created': '2022-06-13 06:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/77e16f31dba6e9c824e872a48647ce1f403f6d97', 'message': 'Remove Python 2 support\n\nPython 2 has been deprecated. This patch removes all\ntraces of six, unicode strings and Python 2 tweaks.\n\nChange-Id: I74696d02558e0fa93ea1775057db13b4f72aed02\n'}, {'number': 7, 'created': '2022-06-13 09:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/0f9924b19cfd0726eaf6f830c196050c94ba372a', 'message': 'Remove Python 2 support\n\nPython 2 has been deprecated. This patch removes all\ntraces of six, unicode strings and Python 2 tweaks.\n\nChange-Id: I74696d02558e0fa93ea1775057db13b4f72aed02\n'}, {'number': 8, 'created': '2022-07-05 02:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/5bdbb8c9dfd661a633fcd194c6284dd7593a0033', 'message': 'Remove Python 2 support\n\nPython 2 has been deprecated. This patch removes all\ntraces of six, unicode strings and Python 2 tweaks.\n\nChange-Id: I74696d02558e0fa93ea1775057db13b4f72aed02\n'}, {'number': 9, 'created': '2022-07-07 10:46:16.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/884ed5038bd24dc0afa6a5e94086b0f2c8ae84ba', 'message': 'Remove Python 2 support\n\nPython 2 has been deprecated. This patch removes all\ntraces of six, unicode strings and Python 2 tweaks.\n\nChange-Id: I74696d02558e0fa93ea1775057db13b4f72aed02\n'}]",17,844907,884ed5038bd24dc0afa6a5e94086b0f2c8ae84ba,44,4,9,34665,,,0,"Remove Python 2 support

Python 2 has been deprecated. This patch removes all
traces of six, unicode strings and Python 2 tweaks.

Change-Id: I74696d02558e0fa93ea1775057db13b4f72aed02
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/07/844907/9 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,8819e88561a0dbd98c3925bd992b07c0f5fb20d2,,"project = 'Sahara Client' copyright = '2013, OpenStack Foundation' ('index', 'saharaclientdoc.tex', 'Sahara Client', 'OpenStack Foundation', 'manual'), ('index', 'saharaclient', 'Sahara Client', ['OpenStack Foundation'], 1) ('index', 'Sahara Client', 'Sahara Client', 'OpenStack Foundation', 'Sahara Client', 'Sahara Client',","project = u'Sahara Client' copyright = u'2013, OpenStack Foundation' ('index', 'saharaclientdoc.tex', u'Sahara Client', u'OpenStack Foundation', 'manual'), ('index', 'saharaclient', u'Sahara Client', [u'OpenStack Foundation'], 1) ('index', 'Sahara Client', u'Sahara Client', u'OpenStack Foundation', 'Sahara Client', 'Sahara Client',",8,8
openstack%2Fskyline-console~master~I6d8c0491647abc8329fa089665194da278decf46,openstack/skyline-console,master,I6d8c0491647abc8329fa089665194da278decf46,fix: fix the size quota check when create volume,MERGED,2022-08-02 09:36:03.000000000,2022-08-04 05:53:30.000000000,2022-08-03 06:42:45.000000000,"[{'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 28706}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30597}, {'_account_id': 33196}, {'_account_id': 33689}, {'_account_id': 34458}, {'_account_id': 35102}, {'_account_id': 35159}]","[{'number': 1, 'created': '2022-08-02 09:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/96cc0c5e609867505bc9a6e2cb0276f79018b478', 'message': 'fix: fix the size quota check when create volume\n\n1. Disable to click submit button when the remaining size/type size quota is 0.\n2. Update SliderInput component to onChange the right value, not the incorrect input value\n3. Add image check to the volume e2e after the volume created image successfully\n\nChange-Id: I6d8c0491647abc8329fa089665194da278decf46\n'}, {'number': 2, 'created': '2022-08-03 02:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f136ea6762606f66a8c065bfc0eaceb216dda87f', 'message': 'fix: fix the size quota check when create volume\n\n1. Disable to click submit button when the remaining size/type size quota is 0.\n2. Add image check to the volume e2e after the volume created image successfully\n\nChange-Id: I6d8c0491647abc8329fa089665194da278decf46\n'}, {'number': 3, 'created': '2022-08-03 04:10:46.000000000', 'files': ['src/resources/cinder/volume.jsx', 'test/e2e/integration/pages/storage/volume.spec.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/28846810e2aeb8c1ef0fb922911b64c60d8a6294', 'message': 'fix: fix the size quota check when create volume\n\n1. Disable to click submit button when the remaining size/type size quota is 0.\n2. Add image check to the volume e2e after the volume created image successfully\n\nChange-Id: I6d8c0491647abc8329fa089665194da278decf46\n'}]",0,851833,28846810e2aeb8c1ef0fb922911b64c60d8a6294,20,11,3,30434,,,0,"fix: fix the size quota check when create volume

1. Disable to click submit button when the remaining size/type size quota is 0.
2. Add image check to the volume e2e after the volume created image successfully

Change-Id: I6d8c0491647abc8329fa089665194da278decf46
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/33/851833/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/resources/cinder/volume.jsx', 'src/components/FormItem/SliderInput/index.jsx', 'test/e2e/integration/pages/storage/volume.spec.js']",3,96cc0c5e609867505bc9a6e2cb0276f79018b478,quota,"import { volumeListUrl, volumeTypeListUrl, imageListUrl, } from '../../../support/constants'; cy.visit(imageListUrl).tableSearchText(imageName).checkTableFirstRow(name);","import { volumeListUrl, volumeTypeListUrl } from '../../../support/constants';",33,7
openstack%2Fskyline-console~master~I703874c120189432dd3bb395923e346193cb298d,openstack/skyline-console,master,I703874c120189432dd3bb395923e346193cb298d,feat: update administrator overview page,MERGED,2022-08-02 07:45:09.000000000,2022-08-04 05:52:58.000000000,2022-08-02 10:28:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30597}, {'_account_id': 33196}, {'_account_id': 33689}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-08-02 07:45:09.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/pages/base/containers/AdminOverview/components/PlatformInfo.jsx', 'src/pages/base/containers/AdminOverview/components/VirtualResource.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1ded7c23126cd684bd00d61ac4b003b92a3ec0b6', 'message': 'feat: update administrator overview page\n\nUpdate title in the platform info card and resources use card\n\nChange-Id: I703874c120189432dd3bb395923e346193cb298d\n'}]",0,851805,1ded7c23126cd684bd00d61ac4b003b92a3ec0b6,12,7,1,30434,,,0,"feat: update administrator overview page

Update title in the platform info card and resources use card

Change-Id: I703874c120189432dd3bb395923e346193cb298d
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/05/851805/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/pages/base/containers/AdminOverview/components/PlatformInfo.jsx', 'src/pages/base/containers/AdminOverview/components/VirtualResource.jsx']",4,1ded7c23126cd684bd00d61ac4b003b92a3ec0b6,," label: t('CPU Usages (Core)'), label: t('Memory Usages (GiB)'), {`${t('Used')}: ${used}`} title={t('Virtual Resources Used')}"," label: t('CPU usage Num (Core)'), label: t('Memory usage Num (GiB)'), {`${t('Used Resource')}: ${used}`} title={t('Virtual Resource Num')}",13,17
openstack%2Fsenlin~master~I4a53dc56d8a958ab0f9c1a1cf901d06613ce5eb4,openstack/senlin,master,I4a53dc56d8a958ab0f9c1a1cf901d06613ce5eb4,Imported Translations from Zanata,MERGED,2022-08-04 03:32:57.000000000,2022-08-04 04:36:36.000000000,2022-08-04 04:34:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-08-04 03:32:57.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/senlin/commit/aee7ca33a7ebb9ae0093e98a377abcf3eb17e98b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4a53dc56d8a958ab0f9c1a1cf901d06613ce5eb4\n'}]",0,852069,aee7ca33a7ebb9ae0093e98a377abcf3eb17e98b,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4a53dc56d8a958ab0f9c1a1cf901d06613ce5eb4
",git fetch https://review.opendev.org/openstack/senlin refs/changes/69/852069/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,aee7ca33a7ebb9ae0093e98a377abcf3eb17e98b,zanata/translations,"""POT-Creation-Date: 2022-06-21 05:54+0000\n""""PO-Revision-Date: 2022-08-04 12:28+0000\n""msgid ""8.0.0"" msgstr ""8.0.0"" msgid ""9.0.0"" msgstr ""9.0.0"" msgid """" ""A ``action_purge`` subcommand is added to ``senlin-manage`` tool for purging "" ""actions from the actions table."" msgstr """" ""A ``action_purge`` subcommand is added to ``senlin-manage`` tool for purging "" ""actions from the actions table."" msgid """" ""A new \""lb_status_timeout\"" option is added to the LB policy to cope with "" ""load-balancers that are not so responsive."" msgstr """" ""A new \""lb_status_timeout\"" option is added to the LB policy to cope with "" ""load-balancers that are not so responsive."" ""With the introduction of these new services new configuration options were "" ""added to allow operators to change the number of proceses to spawn."" msgstr """" ""With the introduction of these new services, new configuration options were "" ""added to allow operators to change the number of processes to spawn."" msgid """" msgid """" ""[`blueprint action-update <https://blueprints.launchpad.net/senlin/+spec/"" ""action-update>`_] A new action update API is added to allow the action "" ""status to be updated. The only valid status value for update is CANCELLED."" msgstr """" ""[`blueprint action-update <https://blueprints.launchpad.net/senlin/+spec/"" ""action-update>`_] A new action update API is added to allow the action "" ""status to be updated. The only valid status value for the update is "" ""CANCELLED.""","""POT-Creation-Date: 2022-05-24 19:40+0000\n""""PO-Revision-Date: 2022-06-07 02:43+0000\n""",39,2
openstack%2Fsenlin~master~I253757e2035dbe667905f011f9d05cc5d94e669e,openstack/senlin,master,I253757e2035dbe667905f011f9d05cc5d94e669e,Update python testing as per zed cycle teting runtime,MERGED,2022-06-04 07:48:23.000000000,2022-08-04 04:35:49.000000000,2022-08-04 04:34:32.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-04 07:48:23.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-3a90d172a5e43660.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/57f239cc4d5af80f7b50ecf00d4b823f76d8be43', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I253757e2035dbe667905f011f9d05cc5d94e669e\n'}]",0,844689,57f239cc4d5af80f7b50ecf00d4b823f76d8be43,7,2,1,27190,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I253757e2035dbe667905f011f9d05cc5d94e669e
",git fetch https://review.opendev.org/openstack/senlin refs/changes/89/844689/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-3a90d172a5e43660.yaml', 'setup.cfg', 'tox.ini']",3,57f239cc4d5af80f7b50ecf00d4b823f76d8be43,,[testenv:debug-py38] basepython = python3.8,[testenv:debug-py36] basepython = python3.6,8,5
openstack%2Fcinder~master~I0173147f479dbbf1e9dfa5c1d730751624fb63a6,openstack/cinder,master,I0173147f479dbbf1e9dfa5c1d730751624fb63a6,DataCore: Fix disk serve failure with invalid iSCSI port state,NEW,2022-07-25 07:53:10.000000000,2022-08-04 04:10:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-25 07:53:10.000000000', 'files': ['cinder/volume/drivers/datacore/iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7104371fcf91707d9c9a798d5e3660835c6d65ae', 'message': ""DataCore: Fix disk serve failure with invalid iSCSI port state\n\nDuring the disable/enable of 'use_chap_auth', the iSCSI port on the DataCore\nServer goes into an intermidiate state, in this state we can't serve\nvirtual disks to the host. So this fix will make the request to wait for\nthe port state to become 'available'.\n\nChange-Id: I0173147f479dbbf1e9dfa5c1d730751624fb63a6\n""}]",0,850858,7104371fcf91707d9c9a798d5e3660835c6d65ae,23,1,1,34791,,,0,"DataCore: Fix disk serve failure with invalid iSCSI port state

During the disable/enable of 'use_chap_auth', the iSCSI port on the DataCore
Server goes into an intermidiate state, in this state we can't serve
virtual disks to the host. So this fix will make the request to wait for
the port state to become 'available'.

Change-Id: I0173147f479dbbf1e9dfa5c1d730751624fb63a6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/850858/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/datacore/iscsi.py'],1,7104371fcf91707d9c9a798d5e3660835c6d65ae,,"import time from oslo_service import loopingcall AWAIT_PORT_STATE_CHANGE_DELAY = 5 iscsi_targets, iscsi_initiator, virtual_disk) def _setup_iscsi_chap_authentication(self, targets, initiator, virtual_disk): self._await_iscsi_port_state_change( virtual_disk.FirstHostId) def _await_iscsi_port_state_change(self, hostId): def inner(start_time): wait_time_out = self.configuration.datacore_api_timeout if self._get_targets_state(hostId): raise loopingcall.LoopingCallDone() elif (time.time() - start_time >= wait_time_out): msg = (_(""Unable to find Node detail in Server "" ""iSCSI port for %(host)s. "") % {'HostId': hostId}) LOG.error(msg) raise cinder_exception.VolumeDriverException(message=msg) inner_loop = loopingcall.FixedIntervalLoopingCall(inner, time.time()) return inner_loop.start(self.AWAIT_PORT_STATE_CHANGE_DELAY).wait() def _get_targets_state(self, hostId): available_ports = self._api.get_ports() iscsi_target_ports = self._get_frontend_iscsi_target_ports( available_ports) if iscsi_target_ports: for target_port in iscsi_target_ports: if target_port.HostId == hostId: return True return False"," iscsi_targets, iscsi_initiator) def _setup_iscsi_chap_authentication(self, targets, initiator):",34,2
openstack%2Fopenstack-zuul-jobs~master~I270c50bd5b3ac8db583bc2ba48e254175c91db03,openstack/openstack-zuul-jobs,master,I270c50bd5b3ac8db583bc2ba48e254175c91db03,linters: update to ansible-lint 6,MERGED,2022-07-28 05:24:50.000000000,2022-08-04 03:39:59.000000000,2022-08-04 03:39:00.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 05:24:50.000000000', 'files': ['test-requirements.txt', 'tools/ansible-lint-roles-cache.sh', 'tox.ini', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/34a45ddb789b3046a01f9ba129ccce34a9f2ed04', 'message': 'linters: update to ansible-lint 6\n\nThis updates to ansible-lint 6.  Similar to\nI972f73037b9f904a555b81f3835ca5261639ed01 it provides a helper for\ninstalling required roles for linting.\n\nThere is no need for a separate syntax checking step, as that is done\nby ansible-lint.\n\nChange-Id: I270c50bd5b3ac8db583bc2ba48e254175c91db03\n'}]",3,851341,34a45ddb789b3046a01f9ba129ccce34a9f2ed04,9,3,1,7118,,,0,"linters: update to ansible-lint 6

This updates to ansible-lint 6.  Similar to
I972f73037b9f904a555b81f3835ca5261639ed01 it provides a helper for
installing required roles for linting.

There is no need for a separate syntax checking step, as that is done
by ansible-lint.

Change-Id: I270c50bd5b3ac8db583bc2ba48e254175c91db03
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/41/851341/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tools/ansible-lint-roles-cache.sh', 'tox.ini', '.ansible-lint']",4,34a45ddb789b3046a01f9ba129ccce34a9f2ed04,ansible-lint-update-6," - fqcn-builtins # needs a lot of work - yaml[line-length] # we use good taste with long lines - yaml[truthy] # ""yes"" is ok # Local variables: # mode: yaml # End:",,53,11
openstack%2Fproject-config~master~I8a7d1577d416e4833cc5925667600f7a0540fc68,openstack/project-config,master,I8a7d1577d416e4833cc5925667600f7a0540fc68,grafana: better loop for container start,MERGED,2022-08-04 01:17:15.000000000,2022-08-04 03:37:38.000000000,2022-08-04 03:23:22.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-04 01:17:15.000000000', 'files': ['grafana/run-grafana.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3bebc2d0dd268a78e730776eaf24477148d3c148', 'message': 'grafana: better loop for container start\n\nMake this more reliable by probing for the service\n\nChange-Id: I8a7d1577d416e4833cc5925667600f7a0540fc68\n'}]",1,852062,3bebc2d0dd268a78e730776eaf24477148d3c148,8,3,1,7118,,,0,"grafana: better loop for container start

Make this more reliable by probing for the service

Change-Id: I8a7d1577d416e4833cc5925667600f7a0540fc68
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/852062/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/run-grafana.sh'],1,3bebc2d0dd268a78e730776eaf24477148d3c148,," echo -n ""Waiting for startup ."" until $(curl --output /dev/null --silent --head --fail http://localhost:3000); do echo -n '.' sleep 2 done echo "". done"""," echo ""Waiting for startup ..."" sleep 5 echo "" ... done""",6,3
openstack%2Fproject-config~master~Icf0a2cfb1a0f5599704d6c8c9e85345d61884cd5,openstack/project-config,master,Icf0a2cfb1a0f5599704d6c8c9e85345d61884cd5,grafana: helper script updates,MERGED,2022-08-03 06:29:01.000000000,2022-08-04 03:26:04.000000000,2022-08-04 03:16:54.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-08-03 06:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e150b542b81bef32708485286af1b477e9ee01e1', 'message': ""grafana: helper script updates\n\nResponding to comments from Ibbc2b116d0c496655a7ce6bb6971e8270ac32647\n\nMake the script run in the grafana .yaml directory so you don't have\nworking-directory issues.\n\nPut the secrets in this directory and add them to .gitignore\n\nNo need for a tty on the loading call\n\nChange-Id: Icf0a2cfb1a0f5599704d6c8c9e85345d61884cd5\n""}, {'number': 2, 'created': '2022-08-04 00:04:22.000000000', 'files': ['.gitignore', 'grafana/run-grafana.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3dbb32adb3cd497367de171a053020971f0e8788', 'message': ""grafana: helper script updates\n\nResponding to comments from Ibbc2b116d0c496655a7ce6bb6971e8270ac32647\n\nMake the script run in the grafana .yaml directory so you don't have\nworking-directory issues.\n\nPut the secrets in this directory and add them to .gitignore\n\nNo need for a tty on the loading call\n\nAdditionally make it executable, and have a short pause to let the\ncontainer start.\n\nChange-Id: Icf0a2cfb1a0f5599704d6c8c9e85345d61884cd5\n""}]",2,851956,3dbb32adb3cd497367de171a053020971f0e8788,11,4,2,7118,,,0,"grafana: helper script updates

Responding to comments from Ibbc2b116d0c496655a7ce6bb6971e8270ac32647

Make the script run in the grafana .yaml directory so you don't have
working-directory issues.

Put the secrets in this directory and add them to .gitignore

No need for a tty on the loading call

Additionally make it executable, and have a short pause to let the
container start.

Change-Id: Icf0a2cfb1a0f5599704d6c8c9e85345d61884cd5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/56/851956/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'grafana/run-grafana.sh']",2,e150b542b81bef32708485286af1b477e9ee01e1,,SCRIPT_PATH=$(readlink -f $0) GRAFYAML_DIR=$(dirname $SCRIPT_PATH) SECRETS_DIR=${GRAFYAML_DIR}/grafana-secrets${DOCKER} run --rm --network=host \,GRAFYAML_DIR=$(pwd) SECRETS_DIR=$(pwd)/grafana-secrets${DOCKER} run --rm -t --network=host \,5,3
openstack%2Felection~master~Ib3ce7b13041c83475ba2da28c6c9eacbf5e4b37b,openstack/election,master,Ib3ce7b13041c83475ba2da28c6c9eacbf5e4b37b,remove unicode from code,ABANDONED,2022-01-10 10:55:41.000000000,2022-08-04 02:52:45.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 10:55:41.000000000', 'files': ['doc/source/conf.py', 'openstack_election/utils.py'], 'web_link': 'https://opendev.org/openstack/election/commit/4f9b7d0b48b82a12c3e2e8d5d17c014bcd44d61e', 'message': 'remove unicode from code\n\nChange-Id: Ib3ce7b13041c83475ba2da28c6c9eacbf5e4b37b\n'}]",1,823958,4f9b7d0b48b82a12c3e2e8d5d17c014bcd44d61e,4,2,1,33881,,,0,"remove unicode from code

Change-Id: Ib3ce7b13041c83475ba2da28c6c9eacbf5e4b37b
",git fetch https://review.opendev.org/openstack/election refs/changes/58/823958/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'openstack_election/utils.py']",2,4f9b7d0b48b82a12c3e2e8d5d17c014bcd44d61e,, full_name = '', full_name = u'',11,11
openstack%2Ftrove~master~I37e586a9b50e3905d2f4254ab3763668f82b5006,openstack/trove,master,I37e586a9b50e3905d2f4254ab3763668f82b5006,"remove the deprecated ""giturl"" option",NEW,2018-01-15 03:22:24.000000000,2022-08-04 01:42:54.000000000,,"[{'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 24739}, {'_account_id': 25113}, {'_account_id': 25571}]","[{'number': 1, 'created': '2018-01-15 03:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7adc74b2177e6b2fe5dd121b2c099c0c4fb39b07', 'message': 'Remove the deprecated ""giturl"" option\n\nFrom openstackdocstheme 1.18.0, valid Git URLs can be retrieved by\nopenstackdocstheme[1], we do not need giturl option anymore.\n\n[1] https://review.openstack.org/532163\n\nChange-Id: I37e586a9b50e3905d2f4254ab3763668f82b5006\n'}, {'number': 2, 'created': '2018-01-15 03:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/56d8420d843745322ab6d7c26d3b17ea3813b995', 'message': 'Remove the deprecated ""giturl"" option\n\nFrom openstackdocstheme 1.18.0, valid Git URLs can be retrieved by\nopenstackdocstheme[1], we do not need giturl option anymore.\n\n[1] https://review.openstack.org/532163\n\nChange-Id: I37e586a9b50e3905d2f4254ab3763668f82b5006\n'}, {'number': 3, 'created': '2018-02-07 10:29:41.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/3e312c4a5f253e4adc858116899da0b0cd2d32ea', 'message': 'remove the deprecated ""giturl"" option\n\nFrom openstackdocstheme 1.18.0, valid Git URLs can be retrieved by\nopenstackdocstheme[1], we do not need giturl option anymore.\n\n[1] https://review.openstack.org/532163\n\nChange-Id: I37e586a9b50e3905d2f4254ab3763668f82b5006\n'}]",1,533481,3e312c4a5f253e4adc858116899da0b0cd2d32ea,12,5,3,16523,,,0,"remove the deprecated ""giturl"" option

From openstackdocstheme 1.18.0, valid Git URLs can be retrieved by
openstackdocstheme[1], we do not need giturl option anymore.

[1] https://review.openstack.org/532163

Change-Id: I37e586a9b50e3905d2f4254ab3763668f82b5006
",git fetch https://review.opendev.org/openstack/trove refs/changes/81/533481/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,7adc74b2177e6b2fe5dd121b2c099c0c4fb39b07,giturl,,"# Config logABug feature giturl = u'http://git.openstack.org/cgit/openstack/trove/tree/api-ref/source' # source tree# Config logABug feature # source tree 'giturl': giturl,",0,6
openstack%2Ffreezer-api~master~Ic1dae4a037183ac03d4793da5aee40c48139f90f,openstack/freezer-api,master,Ic1dae4a037183ac03d4793da5aee40c48139f90f,Replace abc.abstractproperty with property and abc.abstractmethod,NEW,2022-08-04 01:08:23.000000000,2022-08-04 01:40:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-04 01:08:23.000000000', 'files': ['freezer_api/db/base.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/ebc076a4e4a1037f82e78833a83565b200c63cb0', 'message': 'Replace abc.abstractproperty with property and abc.abstractmethod\n\nReplace abc.abstractproperty with property and abc.abstractmethod,\nas abc.abstractproperty has been deprecated since python3.3[1]\n\n[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc\n\nChange-Id: Ic1dae4a037183ac03d4793da5aee40c48139f90f\n'}]",0,852060,ebc076a4e4a1037f82e78833a83565b200c63cb0,3,1,1,28743,,,0,"Replace abc.abstractproperty with property and abc.abstractmethod

Replace abc.abstractproperty with property and abc.abstractmethod,
as abc.abstractproperty has been deprecated since python3.3[1]

[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc

Change-Id: Ic1dae4a037183ac03d4793da5aee40c48139f90f
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/60/852060/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/db/base.py'],1,ebc076a4e4a1037f82e78833a83565b200c63cb0,, @property @abc.abstractmethod, @abc.abstractproperty,2,1
openstack%2Fironic~stable%2Fxena~Idaee72a53a1f33bcab940c6ebe1e7c113a1cb1ce,openstack/ironic,stable/xena,Idaee72a53a1f33bcab940c6ebe1e7c113a1cb1ce,Suppress Bandit B509 in snmp.py,MERGED,2022-08-03 16:28:26.000000000,2022-08-04 01:39:20.000000000,2022-08-03 19:51:01.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-03 16:28:26.000000000', 'files': ['ironic/drivers/modules/snmp.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7aa40c5fa165c8090c9fa58b95ed1aa2931cd2f2', 'message': ""Suppress Bandit B509 in snmp.py\n\nBandit's B509 (SNMPv3 no authentication/privacy) check is\ntriggered by our line wrapping, as the check looks at the\nnumber of arguments, and triggers if it only parses 3 arguments.\n\nIn Ironic's case, we pass five arguments. Presumably, this is due\nto the line wrapping. Ultimately this bandit check is very new\nhaving only been added with in the last few months.\n\nChange-Id: Idaee72a53a1f33bcab940c6ebe1e7c113a1cb1ce\n(cherry picked from commit e02ab89410c194faf54eaa4133e64ff24f873120)\n""}]",0,851885,7aa40c5fa165c8090c9fa58b95ed1aa2931cd2f2,9,2,1,23851,,,0,"Suppress Bandit B509 in snmp.py

Bandit's B509 (SNMPv3 no authentication/privacy) check is
triggered by our line wrapping, as the check looks at the
number of arguments, and triggers if it only parses 3 arguments.

In Ironic's case, we pass five arguments. Presumably, this is due
to the line wrapping. Ultimately this bandit check is very new
having only been added with in the last few months.

Change-Id: Idaee72a53a1f33bcab940c6ebe1e7c113a1cb1ce
(cherry picked from commit e02ab89410c194faf54eaa4133e64ff24f873120)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/851885/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/snmp.py'],1,7aa40c5fa165c8090c9fa58b95ed1aa2931cd2f2,," # NOTE(TheJulia): Ignore Bandit error B509 argument parsing as # the check is for a count of <3 arguments, however our line # wrapping causes the check to trigger. return snmp.UsmUserData( # nosec B509", return snmp.UsmUserData(,4,1
openstack%2Fmagnum~master~Id7b94d3f3c852ba85255ca0b08d2dfc275006bab,openstack/magnum,master,Id7b94d3f3c852ba85255ca0b08d2dfc275006bab,Replace abc.abstractproperty with property and abc.abstractmethod,NEW,2022-08-03 12:48:01.000000000,2022-08-04 01:32:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-03 12:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/413422b8dafb4d1549d4d4473ee69f0ce1d0c6bf', 'message': 'Replace abc.abstractproperty with property and abc.abstractmethod\n\nReplace abc.abstractproperty with property and abc.abstractmethod,\nas abc.abstractproperty has been deprecated since python3.3[1]\n\n[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc\n\nChange-Id: Id7b94d3f3c852ba85255ca0b08d2dfc275006bab\n'}, {'number': 2, 'created': '2022-08-04 00:39:38.000000000', 'files': ['magnum/conductor/monitors.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/common/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/161ec2a0033843fa6421581f25bddad50fdf61e1', 'message': 'Replace abc.abstractproperty with property and abc.abstractmethod\n\nReplace abc.abstractproperty with property and abc.abstractmethod,\nas abc.abstractproperty has been deprecated since python3.3[1]\n\n[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc\n\nChange-Id: Id7b94d3f3c852ba85255ca0b08d2dfc275006bab\n'}]",1,852010,161ec2a0033843fa6421581f25bddad50fdf61e1,4,1,2,28743,,,0,"Replace abc.abstractproperty with property and abc.abstractmethod

Replace abc.abstractproperty with property and abc.abstractmethod,
as abc.abstractproperty has been deprecated since python3.3[1]

[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc

Change-Id: Id7b94d3f3c852ba85255ca0b08d2dfc275006bab
",git fetch https://review.opendev.org/openstack/magnum refs/changes/10/852010/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/conductor/monitors.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/common/driver.py']",3,413422b8dafb4d1549d4d4473ee69f0ce1d0c6bf,, @property @abc.abstractmethod, @abc.abstractproperty,10,5
openstack%2Ftripleo-heat-templates~master~Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30,openstack/tripleo-heat-templates,master,Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30,Bind mount swtpm logs in libvirt virtqemud container,MERGED,2022-06-03 13:39:51.000000000,2022-08-04 01:08:52.000000000,2022-08-04 01:07:49.000000000,"[{'_account_id': 6926}, {'_account_id': 6962}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-03 13:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5cfc1d47dc2ff2b095b81cb506653db5519efc09', 'message': 'Bind mount swtpm logs in libvirt virtqemud container\n\nWithout this change, logs cannot be directly accessed on a host:\n\nsudo podman exec -it nova_virtqemud cat /var/log/swtpm/libvirt/qemu/...\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30\n'}, {'number': 2, 'created': '2022-06-03 13:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0fa791232e3e1b6d4a1af6808f956108fe2197d', 'message': 'Bind mount swtpm logs in libvirt virtqemud container\n\nWithout this change, logs cannot be directly accessed on a host:\n\nsudo podman exec -it nova_virtqemud cat /var/log/swtpm/libvirt/qemu/...\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30\n'}, {'number': 3, 'created': '2022-06-21 11:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a488e89062025243d11122ccfa0fd3957cc1b217', 'message': 'Bind mount swtpm logs in libvirt virtqemud container\n\nWithout this change, logs cannot be directly accessed on a host:\n\nsudo podman exec -it nova_virtqemud cat /var/log/swtpm/libvirt/qemu/...\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30\n'}, {'number': 4, 'created': '2022-06-23 13:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8229c59e75c122b5972f03ebd62f1d9e70e2c55d', 'message': 'Bind mount swtpm logs in libvirt virtqemud container\n\nWithout this change, logs cannot be directly accessed on a host:\n\nsudo podman exec -it nova_virtqemud cat /var/log/swtpm/libvirt/qemu/...\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30\n'}, {'number': 5, 'created': '2022-06-28 14:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71cc8b623634c812ead7c0c9158af0bf395fa609', 'message': 'Bind mount swtpm logs in libvirt virtqemud container\n\nWithout this change, logs cannot be directly accessed on a host:\n\nsudo podman exec -it nova_virtqemud cat /var/log/swtpm/libvirt/qemu/...\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30\n'}, {'number': 6, 'created': '2022-06-29 14:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d6eae5f9daa6db92d355479156053c669e1f311', 'message': 'Bind mount swtpm logs in libvirt virtqemud container\n\nWithout this change, logs cannot be directly accessed on a host:\n\nsudo podman exec -it nova_virtqemud cat /var/log/swtpm/libvirt/qemu/...\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30\n'}, {'number': 7, 'created': '2022-06-29 14:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a9c95fb63741d9d69ee7248abe0eef77ab61ff7', 'message': 'Bind mount swtpm logs in libvirt virtqemud container\n\nWithout this change, logs cannot be directly accessed on a host:\n\nsudo podman exec -it nova_virtqemud cat /var/log/swtpm/libvirt/qemu/...\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30\n'}, {'number': 8, 'created': '2022-07-11 15:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d39456c2b7453e8585ff915917c34c3ce966b44', 'message': 'Bind mount swtpm logs in libvirt virtqemud container\n\nWithout this change, logs cannot be directly accessed on a host:\n\nsudo podman exec -it nova_virtqemud cat /var/log/swtpm/libvirt/qemu/...\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30\n'}, {'number': 9, 'created': '2022-08-03 12:02:02.000000000', 'files': ['deployment/nova/nova-modular-libvirt-container-puppet.yaml', 'releasenotes/notes/libvirt_swtpm_logs-a3ba8c5dcbd53c8c.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef5d2f45a33fa6c785c3d6e876abd42d8ad953cd', 'message': 'Bind mount swtpm logs in libvirt virtqemud container\n\nWithout this change, logs cannot be directly accessed on a host:\n\nsudo podman exec -it nova_virtqemud cat /var/log/swtpm/libvirt/qemu/...\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30\n'}]",19,844592,ef5d2f45a33fa6c785c3d6e876abd42d8ad953cd,52,10,9,6926,,,0,"Bind mount swtpm logs in libvirt virtqemud container

Without this change, logs cannot be directly accessed on a host:

sudo podman exec -it nova_virtqemud cat /var/log/swtpm/libvirt/qemu/...

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ib7edb8c2ecbc5c44a85f4040e95be22874fa2f30
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/844592/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-modular-libvirt-container-puppet.yaml'],1,5cfc1d47dc2ff2b095b81cb506653db5519efc09,, - /var/log/containers/libvirt/swtpm:/var/log/swtpm:z,,1,0
openstack%2Fneutron~master~I98bf7a752506deb3343fca64c2e5d2427c4136f9,openstack/neutron,master,I98bf7a752506deb3343fca64c2e5d2427c4136f9,Fix return value in BaseScheduler class,MERGED,2022-08-02 06:55:07.000000000,2022-08-04 01:06:37.000000000,2022-08-04 01:05:22.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 28743}]","[{'number': 1, 'created': '2022-08-02 06:55:07.000000000', 'files': ['neutron/scheduler/base_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c3d6c414d3c0f085cae94b6f2186c4415a9298b', 'message': 'Fix return value in BaseScheduler class\n\nThe return value of BaseScheduler.schedule() is expected to be iterable,\nfix this for the special case that no resource_filter is defined.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I98bf7a752506deb3343fca64c2e5d2427c4136f9\n'}]",2,851800,7c3d6c414d3c0f085cae94b6f2186c4415a9298b,17,6,1,13252,,,0,"Fix return value in BaseScheduler class

The return value of BaseScheduler.schedule() is expected to be iterable,
fix this for the special case that no resource_filter is defined.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I98bf7a752506deb3343fca64c2e5d2427c4136f9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/851800/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/scheduler/base_scheduler.py'],1,7c3d6c414d3c0f085cae94b6f2186c4415a9298b,fix-scheduler-return, return [], return,1,1
openstack%2Fvenus~master~Ie9509e6b653236e462795e53a575e97682fac685,openstack/venus,master,Ie9509e6b653236e462795e53a575e97682fac685,Supplement a test case for 'logs'.,MERGED,2022-08-01 10:17:39.000000000,2022-08-04 01:00:39.000000000,2022-08-04 00:59:34.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-08-01 10:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/9b01a557bf52cbe1ffe0879148a80dc2e8a1ebac', 'message': ""Supplement a test case for 'logs'.\n\nAdd 'internal error, bad request' test case of logs\nto test_search_action.py.\n\nChange-Id: Ie9509e6b653236e462795e53a575e97682fac685\n""}, {'number': 2, 'created': '2022-08-01 11:36:44.000000000', 'files': ['venus/tests/unit/api/test_search_action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/498bfd54e14c050bb39b9299f3afa4fd79573766', 'message': ""Supplement a test case for 'logs'.\n\nAdd 'internal error, bad request' test case of logs\nto test_search_action.py.\n\nChange-Id: Ie9509e6b653236e462795e53a575e97682fac685\n""}]",1,851634,498bfd54e14c050bb39b9299f3afa4fd79573766,10,3,2,34375,,,0,"Supplement a test case for 'logs'.

Add 'internal error, bad request' test case of logs
to test_search_action.py.

Change-Id: Ie9509e6b653236e462795e53a575e97682fac685
",git fetch https://review.opendev.org/openstack/venus refs/changes/34/851634/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_search_action.py'],1,9b01a557bf52cbe1ffe0879148a80dc2e8a1ebac,," @mock.patch('venus.modules.search.action.SearchCore.get_index_names') @mock.patch('venus.common.utils.request_es') def test_logs_internal_error( self, mock_req_es, mock_get_index_names, mock_search_logs): action = SearchCore() mock_get_index_names.return_value = 'flog-2022.08.01,flog-2022.08.02' mock_req_es.return_value = (400, {}) result = action.logs('host', '', '', 'NO EXIST', '', '', None, None, '1659339607', '1659426007', '10', '10') expected = {""code"": -1, ""msg"": ""internal error, bad request""} self.assertEqual(expected, result) ",,12,0
openstack%2Fproject-config~master~I74822881251c627d8e783438fa82e39aeca5645e,openstack/project-config,master,I74822881251c627d8e783438fa82e39aeca5645e,grafana: update nodepool-dib status page,MERGED,2022-06-30 04:37:40.000000000,2022-08-04 00:54:58.000000000,2022-08-04 00:11:09.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 04:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ebe665985b70bfb3b59edef9a90450c2152b02b7', 'message': '[wip] update nodepool dib graph\n\nChange-Id: I74822881251c627d8e783438fa82e39aeca5645e\n'}, {'number': 2, 'created': '2022-06-30 04:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/de4bce770570207db92693f78a5e040bee8274bd', 'message': '[wip] update nodepool dib graph\n\nChange-Id: I74822881251c627d8e783438fa82e39aeca5645e\n'}, {'number': 3, 'created': '2022-06-30 05:53:53.000000000', 'files': ['grafana/nodepool-dib.image.template', 'grafana/nodepool-dib.base.template', 'grafana/create-nodepool-dib.sh', 'grafana/nodepool-dib-status.json', 'grafana/nodepool-dib.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5c57b07f96cfcf6d302c203b53453fe2f5e3cb9a', 'message': 'grafana: update nodepool-dib status page\n\nUpdate this to new panel types and modify layout a bit.  This uses a\nvariable to map over the stats, rather than the old template model.\n\nThis replaces the non-working thresholds that show the ""OK""/""FAILED""\nwith value mappings which should be more reliable.\n\nThis also includes a heatmap at the top -- it\'s a bit weird because\nit\'s mapping the return values of the builds, so can range between\n0->128.  The return code value doesn\'t really help diagnose anything,\nbut it can highlight if things are failing in the same way (i.e. with\nthe same return code).\n\nChange-Id: I74822881251c627d8e783438fa82e39aeca5645e\n'}]",3,848212,5c57b07f96cfcf6d302c203b53453fe2f5e3cb9a,14,3,3,7118,,,0,"grafana: update nodepool-dib status page

Update this to new panel types and modify layout a bit.  This uses a
variable to map over the stats, rather than the old template model.

This replaces the non-working thresholds that show the ""OK""/""FAILED""
with value mappings which should be more reliable.

This also includes a heatmap at the top -- it's a bit weird because
it's mapping the return values of the builds, so can range between
0->128.  The return code value doesn't really help diagnose anything,
but it can highlight if things are failing in the same way (i.e. with
the same return code).

Change-Id: I74822881251c627d8e783438fa82e39aeca5645e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/848212/2 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/nodepool-dib.image.template', 'grafana/nodepool-dib.base.template', 'grafana/create-nodepool-dib.sh', 'grafana/nodepool-dib-status.json']",4,ebe665985b70bfb3b59edef9a90450c2152b02b7,,"{ ""annotations"": { ""list"": [ { ""builtIn"": 1, ""datasource"": { ""type"": ""grafana"", ""uid"": ""-- Grafana --"" }, ""enable"": true, ""hide"": true, ""iconColor"": ""rgba(0, 211, 255, 1)"", ""name"": ""Annotations & Alerts"", ""target"": { ""limit"": 100, ""matchAny"": false, ""tags"": [], ""type"": ""dashboard"" }, ""type"": ""dashboard"" } ] }, ""editable"": true, ""fiscalYearStartMonth"": 0, ""graphTooltip"": 0, ""id"": 31, ""iteration"": 1656562368957, ""links"": [], ""liveNow"": false, ""panels"": [ { ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""description"": ""This shows the Unix return status of the build for each image type. Values may be a bit weird if the buckets merge together, but a non-zero value indicates an error"", ""fieldConfig"": { ""defaults"": { ""custom"": { ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""scaleDistribution"": { ""type"": ""linear"" } } }, ""overrides"": [] }, ""gridPos"": { ""h"": 12, ""w"": 24, ""x"": 0, ""y"": 0 }, ""id"": 151, ""options"": { ""calculate"": false, ""cellGap"": 1, ""color"": { ""exponent"": 0.5, ""fill"": ""dark-orange"", ""mode"": ""scheme"", ""scale"": ""exponential"", ""scheme"": ""Reds"", ""steps"": 65 }, ""exemplars"": { ""color"": ""rgba(255,0,255,0.7)"" }, ""filterValues"": { ""le"": 1e-9 }, ""legend"": { ""show"": true }, ""rowsFrame"": { ""layout"": ""auto"" }, ""tooltip"": { ""show"": true, ""yHistogram"": false }, ""yAxis"": { ""axisPlacement"": ""left"", ""reverse"": false } }, ""pluginVersion"": ""9.0.2"", ""targets"": [ { ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""refId"": ""A"", ""target"": ""aliasByNode(stats.gauges.nodepool.dib_image_build.*.status.rc, 4)"" } ], ""title"": ""Build Status Overview"", ""type"": ""heatmap-new"" }, { ""collapsed"": false, ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 12 }, ""id"": 7, ""panels"": [], ""repeat"": ""dib_image"", ""repeatDirection"": ""h"", ""targets"": [ { ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""refId"": ""A"" } ], ""title"": ""$dib_image status"", ""type"": ""row"" }, { ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [ { ""options"": { ""0"": { ""color"": ""green"", ""index"": 0, ""text"": ""OK"" } }, ""type"": ""value"" }, { ""options"": { ""from"": 0, ""result"": { ""color"": ""red"", ""index"": 1, ""text"": ""FAILED"" }, ""to"": 1 }, ""type"": ""range"" } ], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] } }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 4, ""x"": 0, ""y"": 13 }, ""id"": 3, ""maxDataPoints"": 100, ""options"": { ""colorMode"": ""background"", ""graphMode"": ""none"", ""justifyMode"": ""center"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""lastNotNull"" ], ""fields"": """", ""values"": false }, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.0.2"", ""targets"": [ { ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""refId"": ""A"", ""target"": ""stats.gauges.nodepool.dib_image_build.ubuntu-focal.status.rc"" } ], ""title"": ""Build status"", ""type"": ""stat"" }, { ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 10, ""gradientMode"": ""opacity"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""linear"", ""lineWidth"": 2, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] }, ""unit"": ""decbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 6, ""w"": 10, ""x"": 4, ""y"": 13 }, ""id"": 5, ""options"": { ""legend"": { ""calcs"": [], ""displayMode"": ""list"", ""placement"": ""bottom"" }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.0.2"", ""targets"": [ { ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""refId"": ""A"", ""target"": ""aliasByNode(stats.gauges.nodepool.dib_image_build.ubuntu-focal.*.size, 5)"" } ], ""title"": ""Image size"", ""type"": ""timeseries"" }, { ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 10, ""gradientMode"": ""opacity"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""linear"", ""lineWidth"": 2, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""ms"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 6, ""w"": 10, ""x"": 14, ""y"": 13 }, ""id"": 6, ""options"": { ""legend"": { ""calcs"": [], ""displayMode"": ""list"", ""placement"": ""bottom"" }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.0.2"", ""targets"": [ { ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""refId"": ""A"", ""target"": ""alias(keepLastValue(stats.timers.nodepool.dib_image_build.ubuntu-focal.status.duration.mean), \""Time\"")"" } ], ""title"": ""Build duration"", ""type"": ""timeseries"" }, { ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] }, ""unit"": ""dateTimeFromNow"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 4, ""x"": 0, ""y"": 16 }, ""id"": 4, ""maxDataPoints"": 100, ""options"": { ""colorMode"": ""none"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""horizontal"", ""reduceOptions"": { ""calcs"": [ ""lastNotNull"" ], ""fields"": """", ""values"": false }, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.0.2"", ""targets"": [ { ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""refId"": ""A"", ""target"": ""scale(stats.gauges.nodepool.dib_image_build.ubuntu-focal.status.last_build, 1000)"" } ], ""title"": ""Last build"", ""type"": ""stat"" } ], ""schemaVersion"": 36, ""style"": ""dark"", ""tags"": [], ""templating"": { ""list"": [ { ""current"": { ""selected"": false, ""text"": ""All"", ""value"": ""$__all"" }, ""datasource"": { ""type"": ""graphite"", ""uid"": ""d9c17c45a8"" }, ""definition"": ""stats.timers.nodepool.dib_image_build.*"", ""hide"": 0, ""includeAll"": true, ""multi"": false, ""name"": ""dib_image"", ""options"": [], ""query"": ""stats.timers.nodepool.dib_image_build.*"", ""refresh"": 1, ""regex"": """", ""skipUrlSync"": false, ""sort"": 0, ""type"": ""query"" } ] }, ""time"": { ""from"": ""now-90d"", ""to"": ""now"" }, ""timepicker"": {}, ""timezone"": ""utc"", ""title"": ""Nodepool: DIB Status"", ""uid"": ""f3089338b3"", ""version"": 5, ""weekStart"": """" }",,495,110
openstack%2Fproject-config~master~Ibbc2b116d0c496655a7ce6bb6971e8270ac32647,openstack/project-config,master,Ibbc2b116d0c496655a7ce6bb6971e8270ac32647,grafana: add helper script,MERGED,2022-03-11 01:01:43.000000000,2022-08-04 00:49:44.000000000,2022-08-04 00:11:07.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-03-11 01:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/03219c2f324761b988cb382035fdf7cd6dd13bf9', 'message': 'grafana: add helper script\n\nAdd a helper script and assocated README.rst to explain the\ninteractive development process.\n\nChange-Id: Ibbc2b116d0c496655a7ce6bb6971e8270ac32647\n'}, {'number': 2, 'created': '2022-03-11 01:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b34ecf9ca31c64302ed2e26d793f47208f37a40d', 'message': 'grafana: add helper script\n\nAdd a helper script and assocated README.rst to explain the\ninteractive development process.\n\nDepends-On: https://review.opendev.org/c/opendev/grafyaml/+/833212\nChange-Id: Ibbc2b116d0c496655a7ce6bb6971e8270ac32647\n'}, {'number': 3, 'created': '2022-03-11 02:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e5e832e808e05bda4323ae8618c7c401cb879f93', 'message': 'grafana: add helper script\n\nAdd a helper script and assocated README.rst to explain the\ninteractive development process.\n\nDepends-On: https://review.opendev.org/c/opendev/grafyaml/+/833212\nChange-Id: Ibbc2b116d0c496655a7ce6bb6971e8270ac32647\n'}, {'number': 4, 'created': '2022-06-29 04:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fb9dbd73f98ae8b29ac6a2e7741b9d2f2f83ea2b', 'message': 'grafana: add helper script\n\nAdd a helper script and assocated README.rst to explain the\ninteractive development process.\n\nDepends-On: https://review.opendev.org/c/opendev/grafyaml/+/833212\nChange-Id: Ibbc2b116d0c496655a7ce6bb6971e8270ac32647\n'}, {'number': 5, 'created': '2022-06-29 04:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c0c39ece5e76eb4728e1020c9f1547e12c1aed74', 'message': 'grafana: add helper script\n\nAdd a helper script and assocated README.rst to explain the\ninteractive development process.\n\nDepends-On: https://review.opendev.org/c/opendev/grafyaml/+/833212\nChange-Id: Ibbc2b116d0c496655a7ce6bb6971e8270ac32647\n'}, {'number': 6, 'created': '2022-06-29 05:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1f20de1ba88d446b6664e1050bd333415a5f77e9', 'message': 'grafana: add helper script\n\nAdd a helper script and assocated README.rst to explain the\ninteractive development process.\n\nDepends-On: https://review.opendev.org/c/opendev/grafyaml/+/833212\nChange-Id: Ibbc2b116d0c496655a7ce6bb6971e8270ac32647\n'}, {'number': 7, 'created': '2022-06-29 05:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e755c71fb4ba02d9e9999336877b91e975cf8465', 'message': 'grafana: add helper script\n\nAdd a helper script and assocated README.rst to explain the\ninteractive development process.\n\nDepends-On: https://review.opendev.org/c/opendev/grafyaml/+/833212\nChange-Id: Ibbc2b116d0c496655a7ce6bb6971e8270ac32647\n'}, {'number': 8, 'created': '2022-06-30 03:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e4e311566e95bcc2931a88807425e548294beb5a', 'message': 'grafana: add helper script\n\nAdd a helper script and assocated README.rst to explain the\ninteractive development process.\n\nDepends-On: https://review.opendev.org/c/opendev/grafyaml/+/833212\nChange-Id: Ibbc2b116d0c496655a7ce6bb6971e8270ac32647\n'}, {'number': 9, 'created': '2022-06-30 04:37:40.000000000', 'files': ['grafana/README.rst', 'grafana/run-grafana.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/859005d497fe14bcd7335bfd8bd95a0bdaa5e63b', 'message': 'grafana: add helper script\n\nAdd a helper script and assocated README.rst to explain the\ninteractive development process.\n\nDepends-On: https://review.opendev.org/c/opendev/grafyaml/+/833212\nChange-Id: Ibbc2b116d0c496655a7ce6bb6971e8270ac32647\n'}]",9,833214,859005d497fe14bcd7335bfd8bd95a0bdaa5e63b,28,5,9,7118,,,0,"grafana: add helper script

Add a helper script and assocated README.rst to explain the
interactive development process.

Depends-On: https://review.opendev.org/c/opendev/grafyaml/+/833212
Change-Id: Ibbc2b116d0c496655a7ce6bb6971e8270ac32647
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/833214/8 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/README.rst', 'grafana/run-grafana.sh']",2,03219c2f324761b988cb382035fdf7cd6dd13bf9,grafana-json,"#!/bin/bash DOCKER=docker GRAFYAML_DIR=$(pwd) SECRETS_DIR=$(pwd)/grafana-secrets if [ ! -d ${SECRETS_DIR} ]; then mkdir -p ${SECRETS_DIR} echo ""password"" > ${SECRETS_DIR}/admin_password echo ""admin"" > ${SECRETS_DIR}/admin_user echo ""key"" > ${SECRETS_DIR}/secret_key fi if [[ $(${DOCKER} ps -f ""name=grafana-opendev_test"" --format '{{.Names}}') \ != 'grafana-opendev_test' ]]; then echo ""Running Grafana"" ${DOCKER} run -d --rm \ --name grafana-opendev_test \ -p 3000:3000 \ -v ${SECRETS_DIR}:/etc/grafana/secrets \ -e GF_AUTH_ANONYMOUS_ENABLED=true \ -e GF_USER_ALLOW_SIGN_UP=false \ -e GF_SECURITY_ADMIN_PASSWORD__FILE=/etc/grafana/secrets/admin_password \ -e GF_SECURITY_ADMIN_USER__FILE=/etc/grafana/secrets/admin_user \ -e GF_SECURITY_SECRET_KEY__FILE=/etc/grafana/secrets/secret_key \ docker.io/grafana/grafana-oss echo ""Grafana listening on :3000"" fi echo ""Reloading dashboards"" ${DOCKER} run --rm -t --network=host \ -e 'GRAFANA_URL=http://admin:password@localhost:3000' \ -v ${GRAFYAML_DIR}:/grafana:ro \ opendevorg/grafyaml ",,54,0
openstack%2Fproject-config~master~I8b1854a0dd7ff2c6249d02e066a8df979f85c799,openstack/project-config,master,I8b1854a0dd7ff2c6249d02e066a8df979f85c799,grafana: Add infra deployment overview,MERGED,2022-03-11 01:01:43.000000000,2022-08-04 00:44:41.000000000,2022-08-04 00:11:04.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-11 01:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/190b6f3a76fca0a281ea4cd66224bb6f9fe8bada', 'message': 'grafana: Add infra deployment overview\n\nThis replaces the old bridge runtime graph with a new graph that uses\nthe stats from I90dfb7a25cb5ab08403c89ef59ea21972cf2aae2.\n\nNote this is the first use of a .json based graph; I\'ve tested it\nlocally (see follow-on Ibbc2b116d0c496655a7ce6bb6971e8270ac32647).\nThis graph uses the new ""time series"" panel [1] which has a totally\ndifferent back-end layout to the original ""Graph"" panel setup which\ngrafyaml doesn\'t support.\n\n[1] https://grafana.com/docs/grafana/latest/visualizations/time-series/\n\nChange-Id: I8b1854a0dd7ff2c6249d02e066a8df979f85c799\n'}, {'number': 2, 'created': '2022-06-29 04:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c4ad19e0e93e638d65e4bb4514c4b28c91521cae', 'message': 'grafana: Add infra deployment overview\n\nThis replaces the old bridge runtime graph with a new graph that uses\nthe stats from I90dfb7a25cb5ab08403c89ef59ea21972cf2aae2.\n\nNote this is the first use of a .json based graph; I\'ve tested it\nlocally (see follow-on Ibbc2b116d0c496655a7ce6bb6971e8270ac32647).\nThis graph uses the new ""time series"" panel [1] which has a totally\ndifferent back-end layout to the original ""Graph"" panel setup which\ngrafyaml doesn\'t support.\n\n[1] https://grafana.com/docs/grafana/latest/visualizations/time-series/\n\nDepends-On: https://review.opendev.org/c/opendev/grafyaml/+/848070\nChange-Id: I8b1854a0dd7ff2c6249d02e066a8df979f85c799\n'}, {'number': 3, 'created': '2022-06-29 04:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/11dacc86747bd11adc0829d979c72f68a27e01df', 'message': 'grafana: Add infra deployment overview\n\nThis replaces the old bridge runtime graph with a new graph that uses\nthe stats from I90dfb7a25cb5ab08403c89ef59ea21972cf2aae2.\n\nNote this is the first use of a .json based graph; I\'ve tested it\nlocally (see follow-on Ibbc2b116d0c496655a7ce6bb6971e8270ac32647).\nThis graph uses the new ""time series"" panel [1] which has a totally\ndifferent back-end layout to the original ""Graph"" panel setup which\ngrafyaml doesn\'t support.\n\n[1] https://grafana.com/docs/grafana/latest/visualizations/time-series/\n\nChange-Id: I8b1854a0dd7ff2c6249d02e066a8df979f85c799\n'}, {'number': 4, 'created': '2022-06-29 05:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6dfd198d291cf5046afc387a4aee3e0182d076ba', 'message': 'grafana: Add infra deployment overview\n\nThis replaces the old bridge runtime graph with a new graph that uses\nthe stats from I90dfb7a25cb5ab08403c89ef59ea21972cf2aae2.\n\nNote this is the first use of a .json based graph; I\'ve tested it\nlocally (see follow-on Ibbc2b116d0c496655a7ce6bb6971e8270ac32647).\nThis graph uses the new ""time series"" panel [1] which has a totally\ndifferent back-end layout to the original ""Graph"" panel setup which\ngrafyaml doesn\'t support.\n\n[1] https://grafana.com/docs/grafana/latest/visualizations/time-series/\n\nChange-Id: I8b1854a0dd7ff2c6249d02e066a8df979f85c799\n'}, {'number': 5, 'created': '2022-06-30 03:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/776f75ae5b6201449d6afb8252ca306db425c3be', 'message': 'grafana: Add infra deployment overview\n\nThis replaces the old bridge runtime graph with a new graph that uses\nthe stats from I90dfb7a25cb5ab08403c89ef59ea21972cf2aae2.\n\nNote this is the first use of a .json based graph.  This graph uses\nthe new ""time series"" panel [1].\n\n[1] https://grafana.com/docs/grafana/latest/visualizations/time-series/\n\nChange-Id: I8b1854a0dd7ff2c6249d02e066a8df979f85c799\n'}, {'number': 6, 'created': '2022-06-30 04:37:40.000000000', 'files': ['grafana/bridge.yaml', 'grafana/infra-prod-deployment.json'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1cf5b35fa00fd4790c92848367cb95c61dab54ff', 'message': 'grafana: Add infra deployment overview\n\nThis replaces the old bridge runtime graph with a new graph that uses\nthe stats from I90dfb7a25cb5ab08403c89ef59ea21972cf2aae2.\n\nNote this is the first use of a .json based graph.  This graph uses\nthe new ""time series"" panel [1].\n\n[1] https://grafana.com/docs/grafana/latest/visualizations/time-series/\n\nChange-Id: I8b1854a0dd7ff2c6249d02e066a8df979f85c799\n'}]",9,833213,1cf5b35fa00fd4790c92848367cb95c61dab54ff,30,4,6,7118,,,0,"grafana: Add infra deployment overview

This replaces the old bridge runtime graph with a new graph that uses
the stats from I90dfb7a25cb5ab08403c89ef59ea21972cf2aae2.

Note this is the first use of a .json based graph.  This graph uses
the new ""time series"" panel [1].

[1] https://grafana.com/docs/grafana/latest/visualizations/time-series/

Change-Id: I8b1854a0dd7ff2c6249d02e066a8df979f85c799
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/833213/4 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/bridge.yaml', 'grafana/infra-prod-deployment.json']",2,190b6f3a76fca0a281ea4cd66224bb6f9fe8bada,grafana-json,"{ ""annotations"": { ""list"": [ { ""builtIn"": 1, ""datasource"": ""-- Grafana --"", ""enable"": true, ""hide"": true, ""iconColor"": ""rgba(0, 211, 255, 1)"", ""name"": ""Annotations & Alerts"", ""target"": { ""limit"": 100, ""matchAny"": false, ""tags"": [], ""type"": ""dashboard"" }, ""type"": ""dashboard"" } ] }, ""editable"": true, ""fiscalYearStartMonth"": 0, ""graphTooltip"": 0, ""iteration"": 1646956311895, ""links"": [], ""liveNow"": false, ""panels"": [ { ""collapsed"": false, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 0 }, ""id"": 2, ""panels"": [], ""title"": ""Description"", ""type"": ""row"" }, { ""editable"": true, ""error"": false, ""gridPos"": { ""h"": 4, ""w"": 10, ""x"": 7, ""y"": 1 }, ""id"": 1, ""options"": { ""content"": ""# OpenDev Production Deployment Overview\n\nIf you would like to make changes to this dashboard, please see the grafana directory in [project-config](https://opendev.org/openstack/project-config/src/grafana/bridge.yaml).\n"", ""mode"": ""markdown"" }, ""pluginVersion"": ""8.3.4"", ""title"": ""Description"", ""type"": ""text"" }, { ""collapsed"": false, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 5 }, ""id"": 28, ""panels"": [], ""title"": ""Job Status Overview"", ""type"": ""row"" }, { ""description"": ""Job Status"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [ { ""options"": { ""0"": { ""color"": ""green"", ""index"": 0, ""text"": ""OK"" } }, ""type"": ""value"" }, { ""options"": { ""from"": 1, ""result"": { ""color"": ""red"", ""index"": 1, ""text"": ""FAILED"" }, ""to"": 255 }, ""type"": ""range"" } ], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] } }, ""overrides"": [] }, ""gridPos"": { ""h"": 5, ""w"": 4, ""x"": 0, ""y"": 6 }, ""id"": 8, ""links"": [ { ""targetBlank"": true, ""title"": ""Zuul Build Status"", ""url"": ""https://zuul.opendev.org/t/openstack/builds?job_name=${bridge_job_runtimes}"" } ], ""maxPerRow"": 6, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""area"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""lastNotNull"" ], ""fields"": """", ""values"": false }, ""textMode"": ""auto"" }, ""pluginVersion"": ""8.3.4"", ""repeat"": ""bridge_job_runtimes"", ""repeatDirection"": ""h"", ""targets"": [ { ""datasource"": { ""type"": ""graphite"", ""uid"": ""kfyk8CL7k"" }, ""refId"": ""A"", ""target"": ""stats.gauges.bridge.ansible.$bridge_job_runtimes.rc"" } ], ""title"": ""$bridge_job_runtimes"", ""type"": ""stat"" }, { ""collapsed"": false, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 16 }, ""id"": 4, ""panels"": [], ""repeat"": ""bridge_job_runtimes"", ""title"": ""$bridge_job_runtimes job status"", ""type"": ""row"" }, { ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 10, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""linear"", ""lineStyle"": { ""fill"": ""solid"" }, ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""always"", ""spanNulls"": true, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] }, ""unit"": ""ms"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 6, ""w"": 23, ""x"": 0, ""y"": 17 }, ""id"": 6, ""links"": [ { ""targetBlank"": true, ""title"": ""Build Results"", ""url"": ""https://zuul.opendev.org/t/openstack/builds?job_name=${bridge_job_runtimes}"" } ], ""options"": { ""legend"": { ""calcs"": [], ""displayMode"": ""list"", ""placement"": ""bottom"" }, ""tooltip"": { ""mode"": ""single"" } }, ""targets"": [ { ""datasource"": { ""type"": ""graphite"", ""uid"": ""kfyk8CL7k"" }, ""refId"": ""A"", ""target"": ""alias(stats.timers.bridge.ansible.$bridge_job_runtimes.runtime.mean, 'Runtime')"" } ], ""title"": ""Runtime for $bridge_job_runtimes"", ""type"": ""timeseries"" } ], ""refresh"": """", ""schemaVersion"": 34, ""style"": ""dark"", ""tags"": [], ""templating"": { ""list"": [ { ""current"": { ""selected"": false, ""text"": ""All"", ""value"": ""$__all"" }, ""definition"": ""stats.timers.bridge.ansible.*"", ""description"": ""Production Deployment Job"", ""hide"": 0, ""includeAll"": true, ""multi"": false, ""name"": ""bridge_job_runtimes"", ""options"": [], ""query"": ""stats.timers.bridge.ansible.*"", ""refresh"": 1, ""regex"": ""(?<value>.*)"", ""skipUrlSync"": false, ""sort"": 0, ""type"": ""query"" } ] }, ""time"": { ""from"": ""now-6h"", ""to"": ""now"" }, ""timepicker"": {}, ""timezone"": ""utc"", ""title"": ""OpenDev Infra Deployment overview"", ""version"": 1, ""weekStart"": """" } ",,304,136
openstack%2Fnova~master~Iff17f0fa023c78dcd114753c149340e1d94db1b2,openstack/nova,master,Iff17f0fa023c78dcd114753c149340e1d94db1b2,Prevent instance.save() under mutated migration context,NEW,2022-07-22 11:08:04.000000000,2022-08-04 00:16:26.000000000,,"[{'_account_id': 4393}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-22 11:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9794acfdabf1c014beb8f7d43dd6a3cee6c53f2a', 'message': 'Prevent instance.save() under mutated migration context\n\nThe doc of Instance.mutated_migration_context() already states that\ncalling instance.save() under the mutated migration context is dangerous\nand could lead to incorrect resource tracking. Now bug 1982497 showed\nthat this is danger is very much real and we are guilty of doing what we\nshould not during rollback_live_migration_at_destination RPC cast.\n\nSo this patch makes sure that Instance.save() raises if the instance is\nunder mutated migration context to prevent resource tracking corruption\nin the future.\n\nRelatad-Bug: #1982497\nChange-Id: Iff17f0fa023c78dcd114753c149340e1d94db1b2\n'}, {'number': 2, 'created': '2022-08-02 09:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d0bbf8aec8551f4b37f77f5c801da83df3da92c', 'message': 'Prevent instance.save() under mutated migration context\n\nThe doc of Instance.mutated_migration_context() already states that\ncalling instance.save() under the mutated migration context is dangerous\nand could lead to incorrect resource tracking. Now bug 1982497 showed\nthat this is danger is very much real and we are guilty of doing what we\nshould not during rollback_live_migration_at_destination RPC cast.\n\nSo this patch makes sure that Instance.save() raises if the instance is\nunder mutated migration context to prevent resource tracking corruption\nin the future.\n\nTODO:\n* this does not really work in a normal RPC env due to\n  mutated_migration_context is non remotable while save() is so they are\n  operating on two different instance\n\nRelatad-Bug: #1982497\nChange-Id: Iff17f0fa023c78dcd114753c149340e1d94db1b2\n'}, {'number': 3, 'created': '2022-08-02 11:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7c104384d857b97e388f8e280edddb468f1f165', 'message': 'Prevent instance.save() under mutated migration context\n\nThe doc of Instance.mutated_migration_context() already states that\ncalling instance.save() under the mutated migration context is dangerous\nand could lead to incorrect resource tracking. Now bug 1982497 showed\nthat this is danger is very much real and we are guilty of doing what we\nshould not during rollback_live_migration_at_destination RPC cast.\n\nSo this patch makes sure that Instance.save() raises if the instance is\nunder mutated migration context to prevent resource tracking corruption\nin the future.\n\nRelatad-Bug: #1982497\nChange-Id: Iff17f0fa023c78dcd114753c149340e1d94db1b2\n'}, {'number': 4, 'created': '2022-08-02 15:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab507e6543a389d5fecdfddd3c1dfedfb62a53e5', 'message': 'Prevent instance.save() under mutated migration context\n\nThe doc of Instance.mutated_migration_context() already states that\ncalling instance.save() under the mutated migration context is dangerous\nand could lead to incorrect resource tracking. Now bug 1982497 showed\nthat this is danger is very much real and we are guilty of doing what we\nshould not during rollback_live_migration_at_destination RPC cast.\n\nSo this patch makes sure that Instance.save() raises if the instance is\nunder mutated migration context to prevent resource tracking corruption\nin the future.\n\nRelatad-Bug: #1982497\nChange-Id: Iff17f0fa023c78dcd114753c149340e1d94db1b2\n'}, {'number': 5, 'created': '2022-08-02 15:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a506be6cd0afdf7a671912cf57de260fa46e1a7e', 'message': 'Prevent instance.save() under mutated migration context\n\nThe doc of Instance.mutated_migration_context() already states that\ncalling instance.save() under the mutated migration context is dangerous\nand could lead to incorrect resource tracking. Now bug 1982497 showed\nthat this is danger is very much real and we are guilty of doing what we\nshould not during rollback_live_migration_at_destination RPC cast.\n\nSo this patch makes sure that Instance.save() raises if the instance is\nunder mutated migration context to prevent resource tracking corruption\nin the future.\n\nThis change showed another case when we call save under a mutated\nmigration context. During rebuild the compute manager calls\ndriver.rebuild under mutation. The ironic virt driver.rebuild then saves\nthe instance. This is especially interesting as the compute manager\nexpects that the driver.rebuild call changes the task state. So I think\nin this case the compute manager should not use mutation but actually\napply the migration context before calls to the driver as the\ninstance.save is very much expected. Of course in case of error the\nmigration context needs to be reverted as well.\n\nRelatad-Bug: #1982497\nChange-Id: Iff17f0fa023c78dcd114753c149340e1d94db1b2\n'}, {'number': 6, 'created': '2022-08-03 13:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b3821f182dc80d0c73d4342c2595bd7abe83afb', 'message': 'Prevent instance.save() under mutated migration context\n\nThe doc of Instance.mutated_migration_context() already states that\ncalling instance.save() under the mutated migration context is dangerous\nand could lead to incorrect resource tracking. Now bug 1982497 showed\nthat this is danger is very much real and we are guilty of doing what we\nshould not during rollback_live_migration_at_destination RPC cast.\n\nSo this patch makes sure that Instance.save() raises if the instance is\nunder mutated migration context to prevent resource tracking corruption\nin the future.\n\nThis change showed another case when we call save under a mutated\nmigration context. During rebuild the compute manager calls\ndriver.rebuild under mutation. The ironic virt driver.rebuild then saves\nthe instance. This is especially interesting as the compute manager\nexpects that the driver.rebuild call changes the task state. So I think\nin this case the compute manager should not use mutation but actually\napply the migration context before calls to the driver as the\ninstance.save is very much expected. Of course in case of error the\nmigration context needs to be reverted as well.\n\nRelatad-Bug: #1982497\nChange-Id: Iff17f0fa023c78dcd114753c149340e1d94db1b2\n'}, {'number': 7, 'created': '2022-08-03 14:41:23.000000000', 'files': ['nova/objects/instance.py', 'nova/compute/manager.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/03d3fb1368afa948aced1deb9f0173eb58bee7b8', 'message': 'Prevent instance.save() under mutated migration context\n\nThe doc of Instance.mutated_migration_context() already states that\ncalling instance.save() under the mutated migration context is dangerous\nand could lead to incorrect resource tracking. Now bug 1982497 showed\nthat this is danger is very much real and we are guilty of doing what we\nshould not during rollback_live_migration_at_destination RPC cast.\n\nSo this patch makes sure that Instance.save() raises if the instance is\nunder mutated migration context to prevent resource tracking corruption\nin the future.\n\nThis change showed another case when we call save under a mutated\nmigration context. During rebuild the compute manager calls\ndriver.rebuild under mutation. The ironic virt driver.rebuild then saves\nthe instance. This is especially interesting as the compute manager\nexpects that the driver.rebuild call changes the task state. So I think\nin this case the compute manager should not use mutation but actually\napply the migration context before calls to the driver as the\ninstance.save is very much expected. Of course in case of error the\nmigration context needs to be reverted as well.\n\nRelatad-Bug: #1982497\nChange-Id: Iff17f0fa023c78dcd114753c149340e1d94db1b2\n'}]",12,850746,03d3fb1368afa948aced1deb9f0173eb58bee7b8,40,4,7,9708,,,0,"Prevent instance.save() under mutated migration context

The doc of Instance.mutated_migration_context() already states that
calling instance.save() under the mutated migration context is dangerous
and could lead to incorrect resource tracking. Now bug 1982497 showed
that this is danger is very much real and we are guilty of doing what we
should not during rollback_live_migration_at_destination RPC cast.

So this patch makes sure that Instance.save() raises if the instance is
under mutated migration context to prevent resource tracking corruption
in the future.

This change showed another case when we call save under a mutated
migration context. During rebuild the compute manager calls
driver.rebuild under mutation. The ironic virt driver.rebuild then saves
the instance. This is especially interesting as the compute manager
expects that the driver.rebuild call changes the task state. So I think
in this case the compute manager should not use mutation but actually
apply the migration context before calls to the driver as the
instance.save is very much expected. Of course in case of error the
migration context needs to be reverted as well.

Relatad-Bug: #1982497
Change-Id: Iff17f0fa023c78dcd114753c149340e1d94db1b2
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/850746/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/instance.py'],1,9794acfdabf1c014beb8f7d43dd6a3cee6c53f2a,bug/1982497," self._under_mutated_migration_context = False if self._under_mutated_migration_context: raise exception.ObjectActionError( action='save', reason=_( 'Cannot save instance while it is under a mutated ' 'migration context')) self._under_mutated_migration_context = True self._under_mutated_migration_context = False",,10,0
openstack%2Fdesignate~master~I79d21df7d17a2f706b8747e600e79a1ef1762e2b,openstack/designate,master,I79d21df7d17a2f706b8747e600e79a1ef1762e2b,Re-factored central and rpc decorators,MERGED,2022-07-26 06:24:08.000000000,2022-08-04 00:10:07.000000000,2022-08-04 00:08:54.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-07-26 06:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/88ddaed72be65195c6d8168297a6c1c02e28f7d3', 'message': 'Re-factored central decorators\n\nChange-Id: I79d21df7d17a2f706b8747e600e79a1ef1762e2b\n'}, {'number': 2, 'created': '2022-07-29 06:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cf8e8dbbfe38fd9dd845f267a8d0239cdb69728a', 'message': 'Re-factored central and rpc decorators\n\n- Moved central and rpc decorators to common location.\n- Cleaned up decorator code.\n\nChange-Id: I79d21df7d17a2f706b8747e600e79a1ef1762e2b\n'}, {'number': 3, 'created': '2022-07-29 08:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cba138a6f5e45b2ec9a9bca53a165dc10389b946', 'message': 'Re-factored central and rpc decorators\n\n- Moved central and rpc decorators to common location.\n- Cleaned up decorator code.\n\nChange-Id: I79d21df7d17a2f706b8747e600e79a1ef1762e2b\n'}, {'number': 4, 'created': '2022-07-31 03:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9d9de15394533a1e289fb3da57682a1a8e555f71', 'message': 'Re-factored central and rpc decorators\n\n- Moved central and rpc decorators to common location.\n- Cleaned up decorator code.\n\nChange-Id: I79d21df7d17a2f706b8747e600e79a1ef1762e2b\n'}, {'number': 5, 'created': '2022-07-31 05:14:33.000000000', 'files': ['designate/common/decorators/notification.py', 'designate/tests/unit/test_central/test_lock_decorator.py', 'designate/central/service.py', 'designate/context.py', 'designate/tests/test_central/test_decorator.py', 'designate/common/decorators/rpc.py', 'designate/common/decorators/__init__.py', 'designate/tests/unit/test_central/test_basic.py', 'designate/service.py', 'designate/rpc.py', 'designate/worker/service.py', 'designate/common/decorators/lock.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/857b4c4e63d9ff8b17174f429b7fd285fabc903a', 'message': 'Re-factored central and rpc decorators\n\n- Moved central and rpc decorators to common location.\n- Cleaned up decorator code.\n\nChange-Id: I79d21df7d17a2f706b8747e600e79a1ef1762e2b\n'}]",4,850974,857b4c4e63d9ff8b17174f429b7fd285fabc903a,20,4,5,22623,,,0,"Re-factored central and rpc decorators

- Moved central and rpc decorators to common location.
- Cleaned up decorator code.

Change-Id: I79d21df7d17a2f706b8747e600e79a1ef1762e2b
",git fetch https://review.opendev.org/openstack/designate refs/changes/74/850974/5 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/test_central/test_lock_decorator.py', 'designate/central/service.py', 'designate/central/utils/lock.py', 'designate/central/utils/notification.py', 'designate/context.py', 'designate/tests/test_central/test_decorator.py', 'designate/central/utils/__init__.py']",7,88ddaed72be65195c6d8168297a6c1c02e28f7d3,refactor_decorators,,,347,267
openstack%2Fnova~master~I65534b52abfb1c6d331c73cc40413becdf3b05b1,openstack/nova,master,I65534b52abfb1c6d331c73cc40413becdf3b05b1,Do not mutate migration context for rollback_live_migration_at_destination,NEW,2022-08-02 09:35:43.000000000,2022-08-03 23:54:01.000000000,,"[{'_account_id': 4393}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 09:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5e6a66bdc093b7ab91c2856513b915d14da0354', 'message': 'Avoid saving instance under mutated migration context\n\nDuring _rollback_live_migration there are two RPC message to the\ndestination host:\n\n* rollback_live_migration_at_destination is an RPC *cast* to clean up\n  the physically clean up the instance on the destination\n* drop_move_claim_at_destination is an RPC call to remove the resource\n  allocation of the instance from the dest\n\nThere is a bug in rollback_live_migration_at_destination. To be able to\nclean up the instance properly it temporarily applies the migration\ncontext to the instance then calls driver.destroy(). However that driver\ncall in case of libvirt driver eventually calls instance.save()\npersisting the instance pointing to the destination. This is not always\ncases a visible error as drop_move_claim_at_destination also persist the\ninstance, but with the right data, pointing to the source host. So if\nthe two RPC message handled in the order of\nrollback_live_migration_at_destination, drop_move_claim_at_destination\nthen the instance eventually get into a good state in the DB. BUT\nbecause rollback_live_migration_at_destination is an RPC cast, the\ncaller, the source host, does not wait for it to finish before\ndrop_move_claim_at_destination is called. Also\nrollback_live_migration_at_destination does IO (deletes instance disk)\nit can be delayed significantly causing an execution order of\ndrop_move_claim_at_destination then\nrollback_live_migration_at_destination. If this order happens then the\ninstance is left in an inconsistent state. In the DB it points and\nallocates from the destination node, while in reality it runs on the\nsource node. This can cause various resource allocation failures. The\none we observed happens when the instance allocates different pinned\nCPUs on the two hosts. In this case if the inconsistent instance is\ntried to be deleted the nova-compute on the source host tries to unpin\ncpus that are not pinned causing that the instance deletion fails.\n\nTo fix this we need to avoid the root cause to happen, namely the\ninstance.save() call during rollback_live_migration_at_destination\nwhile the instance in under the mutated migration context. The doc of\nthe Instance.mutated_migration_context context manager already state the\nit is dangerous to save the instance while this context is applied.\nHowever in the current case the context mutation and the instance.save\ncalls are very far from each other causing this hard to detect mistake.\nStill rollback_live_migration_at_destination needs the mutation to work\nproperly so our only option is to avoid the instance.save during\ndriver.destroy if it is called from rollback_live_migration_at_destination.\n\nOne can suggest to switch the rollback_live_migration_at_destination to\nbe an RPC call. However this would not totally remove the inconsistent\nstate, as rollback_live_migration_at_destination would still persist the\nwrong data to the DB, but only reduce the time window when such\ninconsistent state exists, and would make sure that the data is\neventually consistent. Also this would make the solution non\nbackportable due to the RPC bump requirement.\n\nSo the chosen solution is to skip instance.save() during\nrollback_live_migration_at_destination. Also we chose to do that via\nextending the mutated_migration_context context manage with an\nignore_save flag to trigger the skip. While this is less explicit than\npushing through such flag via the actual driver.destroy call, it results\nin a self contained solution that does not require a change in the virt\ndriver interface.\n\nSo what exactly we lose with the skipped instance.save() during\nrollback_live_migration_at_destination? Based on the libvirt driver code\nthe only thing that would be good to save on the instance are:\n* instance.system_metadata.clean_attempts\n* instance.cleaned\nThe rest of the changes on the instance is due to mutated migration\ncontext. The lost data is used by _run_pending_deletes() periodic. The\ngoal there is to retry failed local disk cleanups. The lost data only\nmeans that the periodic will try to clean this instance again one more\ntime unnecessarily. However the code handles the case when the instance\nis cleaned already. So the lost data does not cause any harm in this case.\n\nThis change fixes bug 1982497 fully and also fixes most of the problems\nreported in bug 1894095 but not all of them. In the latter the periodic\nrun still can re-create already freed allocation on the destination\nsomehow.\n\nTODO:\n* the solution does not work in a real RPC env as\n  mutated_migration_context is non remotable while save is so they are\n  operating on two different instance.\n\nCloses-Bug: #1982497\nRelated-Bug: #1894095\nChange-Id: I65534b52abfb1c6d331c73cc40413becdf3b05b1\n'}, {'number': 2, 'created': '2022-08-02 11:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ebb0ff5c5362581af93e48f23e7f5a2f2c829c4', 'message': 'Avoid saving instance under mutated migration context\n\nDuring _rollback_live_migration there are two RPC message to the\ndestination host:\n\n* rollback_live_migration_at_destination is an RPC *cast* to clean up\n  the physically clean up the instance on the destination\n* drop_move_claim_at_destination is an RPC call to remove the resource\n  allocation of the instance from the dest\n\nThere is a bug in rollback_live_migration_at_destination. To be able to\nclean up the instance properly it temporarily applies the migration\ncontext to the instance then calls driver.destroy(). However that driver\ncall in case of libvirt driver eventually calls instance.save()\npersisting the instance pointing to the destination. This is not always\ncases a visible error as drop_move_claim_at_destination also persist the\ninstance, but with the right data, pointing to the source host. So if\nthe two RPC message handled in the order of\nrollback_live_migration_at_destination, drop_move_claim_at_destination\nthen the instance eventually get into a good state in the DB. BUT\nbecause rollback_live_migration_at_destination is an RPC cast, the\ncaller, the source host, does not wait for it to finish before\ndrop_move_claim_at_destination is called. Also\nrollback_live_migration_at_destination does IO (deletes instance disk)\nit can be delayed significantly causing an execution order of\ndrop_move_claim_at_destination then\nrollback_live_migration_at_destination. If this order happens then the\ninstance is left in an inconsistent state. In the DB it points and\nallocates from the destination node, while in reality it runs on the\nsource node. This can cause various resource allocation failures. The\none we observed happens when the instance allocates different pinned\nCPUs on the two hosts. In this case if the inconsistent instance is\ntried to be deleted the nova-compute on the source host tries to unpin\ncpus that are not pinned causing that the instance deletion fails.\n\nTo fix this we need to avoid the root cause to happen, namely the\ninstance.save() call during rollback_live_migration_at_destination\nwhile the instance in under the mutated migration context. The doc of\nthe Instance.mutated_migration_context context manager already state the\nit is dangerous to save the instance while this context is applied.\nHowever in the current case the context mutation and the instance.save\ncalls are very far from each other causing this hard to detect mistake.\nStill rollback_live_migration_at_destination needs the mutation to work\nproperly so our only option is to avoid the instance.save during\ndriver.destroy if it is called from rollback_live_migration_at_destination.\n\nOne can suggest to switch the rollback_live_migration_at_destination to\nbe an RPC call. However this would not totally remove the inconsistent\nstate, as rollback_live_migration_at_destination would still persist the\nwrong data to the DB, but only reduce the time window when such\ninconsistent state exists, and would make sure that the data is\neventually consistent. Also this would make the solution non\nbackportable due to the RPC bump requirement.\n\nSo the chosen solution is to skip instance.save() during\nrollback_live_migration_at_destination. Also we chose to do that via\nextending the mutated_migration_context context manage with an\nignore_save flag to trigger the skip. While this is less explicit than\npushing through such flag via the actual driver.destroy call, it results\nin a self contained solution that does not require a change in the virt\ndriver interface.\n\nThe solution needs run some checks on the local side before the\ninstance.save call is remoted to the conductor. To be able to do this\nthe patch makes instance.save non-remotable that calls the remoteable\ninstance._remote_save method. This causes the Instance object hash\nchange but this change does not require a version bump as save still\nexists and callable on the remote end.\n\nSo what exactly we lose with the skipped instance.save() during\nrollback_live_migration_at_destination? Based on the libvirt driver code\nthe only thing that would be good to save on the instance are:\n* instance.system_metadata.clean_attempts\n* instance.cleaned\nThe rest of the changes on the instance is due to mutated migration\ncontext. The lost data is used by _run_pending_deletes() periodic. The\ngoal there is to retry failed local disk cleanups. The lost data only\nmeans that the periodic will try to clean this instance again one more\ntime unnecessarily. However the code handles the case when the instance\nis cleaned already. So the lost data does not cause any harm in this case.\n\nThis change fixes bug 1982497 fully and also fixes most of the problems\nreported in bug 1894095 but not all of them. In the latter the periodic\nrun still can re-create already freed allocation on the destination\nsomehow.\n\nCloses-Bug: #1982497\nRelated-Bug: #1894095\nChange-Id: I65534b52abfb1c6d331c73cc40413becdf3b05b1\n'}, {'number': 3, 'created': '2022-08-02 15:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d56d1cc085635be1c25a1b7287caa5effd80f09', 'message': ""Do not mutate migration context for rollback_live_migration_at_destination\n\nDuring _rollback_live_migration there are two RPC message to the\ndestination host:\n\n* rollback_live_migration_at_destination is an RPC *cast* to clean up\n  the physically clean up the instance on the destination\n* drop_move_claim_at_destination is an RPC call to remove the resource\n  allocation of the instance from the dest\n\nThere is a bug in rollback_live_migration_at_destination. It calls the\ndriver.destory() under a mutated migration context. Then the\ndriver._cleanup() will save the instance creating an inconsistent state\nin the DB as the instance now points to the destination host but it is\nactually running on the source host. This is not always cause a visible\nerror as drop_move_claim_at_destination also persist the\ninstance, but with the right data, pointing to the source host. So if\nthe two RPC messages handled in the order of\nrollback_live_migration_at_destination, drop_move_claim_at_destination\nthen the instance eventually get into a good state in the DB. BUT\nbecause rollback_live_migration_at_destination is an RPC cast, the\ncaller, the source host, does not wait for it to finish before\ndrop_move_claim_at_destination is called. Also\nrollback_live_migration_at_destination does IO (deletes instance disk)\nit can be delayed significantly causing an execution order of\ndrop_move_claim_at_destination then\nrollback_live_migration_at_destination. If this order happens then the\ninstance is left in an inconsistent state. In the DB it points and\nallocates from the destination node, while in reality it runs on the\nsource node. This can cause various resource allocation failures. The\none we observed happens when the instance allocates different pinned\nCPUs on the two hosts. In this case if the inconsistent instance is\ntried to be deleted the nova-compute on the source host tries to unpin\ncpus that are not pinned causing that the instance deletion fails.\n\nTo fix this bug this patch remove the migration context mutation from\nthe rollback_live_migration_at_destination code. There was a code\ncomment that such mutation needed to properly clean up vpmem resources.\n\n # NOTE(luyao): Apply migration_context temporarily since it's\n # on destination host, we rely on instance object to cleanup\n # specific resources like vpmem\n\nHowever I don't see any vpmem related cleanup in this code path neither\nnow nor in the original patches introduced the mutation. Also by\nremoving the mutation no vpmem specific unit of functional test fails.\nSo I conclude that this mutation is simply not necessary.\n\nThis change fixes bug 1982497 fully and also fixes most of the problems\nreported in bug 1894095 but not all of them. In the latter the periodic\nrun still re-creates the already freed allocation on the destination\nsomehow.\n\nCloses-Bug: #1982497\nRelated-Bug: #1894095\nChange-Id: I65534b52abfb1c6d331c73cc40413becdf3b05b1\n""}, {'number': 4, 'created': '2022-08-03 13:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5408c9b732b4bf8e80ed4cf7c9f04965548b7d90', 'message': 'Do not mutate migration context for rollback_live_migration_at_destination\n\nDuring _rollback_live_migration there are two RPC message to the\ndestination host:\n\n* rollback_live_migration_at_destination is an RPC *cast* to clean up\n  the physically clean up the instance on the destination\n* drop_move_claim_at_destination is an RPC call to remove the resource\n  allocation of the instance from the dest\n\nThere is a bug in rollback_live_migration_at_destination. It calls the\ndriver.destory() under a mutated migration context. Then the\ndriver._cleanup() will save the instance creating an inconsistent state\nin the DB as the instance now points to the destination host but it is\nactually running on the source host. This is not always cause a visible\nerror as drop_move_claim_at_destination also persist the\ninstance, but with the right data, pointing to the source host. So if\nthe two RPC messages handled in the order of\nrollback_live_migration_at_destination, drop_move_claim_at_destination\nthen the instance eventually get into a good state in the DB. BUT\nbecause rollback_live_migration_at_destination is an RPC cast, the\ncaller, the source host, does not wait for it to finish before\ndrop_move_claim_at_destination is called. Also\nrollback_live_migration_at_destination does IO (deletes instance disk)\nit can be delayed significantly causing an execution order of\ndrop_move_claim_at_destination then\nrollback_live_migration_at_destination. If this order happens then the\ninstance is left in an inconsistent state. In the DB it points and\nallocates from the destination node, while in reality it runs on the\nsource node. This can cause various resource allocation failures. The\none we observed happens when the instance allocates different pinned\nCPUs on the two hosts. In this case if the inconsistent instance is\ntried to be deleted the nova-compute on the source host tries to unpin\ncpus that are not pinned causing that the instance deletion fails.\n\nTo fix this bug this patch removes the migration context mutation from\nthe rollback_live_migration_at_destination code. The\nrollback_live_migration_at_destination eventually calls driver._cleanup\nthat queriesthe vpmem devices from instance.resources and zeroes out\nthe physical devices on the hypervisor. This is relying on\ninstance.resources to point to the vpmems on the destination host. Hence\nmutation of the migration context was required. To solve this the\nlibvirt driver code is changed not to rely on instance.resources but\nrely on the libvirt domain configuration instead. That source of\ninformation is available during cleanup and does not affect by the\nmigration context.\n\nThis change fixes bug 1982497 fully and also fixes most of the problems\nreported in bug 1894095 but not all of them. In the latter the periodic\nrun still re-creates the already freed allocation on the destination\nsomehow.\n\nCloses-Bug: #1982497\nRelated-Bug: #1894095\nChange-Id: I65534b52abfb1c6d331c73cc40413becdf3b05b1\n'}, {'number': 5, 'created': '2022-08-03 14:41:23.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1982497.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b4107029650b687f012ab9519d68bd866349b54', 'message': 'Do not mutate migration context for rollback_live_migration_at_destination\n\nDuring _rollback_live_migration there are two RPC message to the\ndestination host:\n\n* rollback_live_migration_at_destination is an RPC *cast* to clean up\n  the physically clean up the instance on the destination\n* drop_move_claim_at_destination is an RPC call to remove the resource\n  allocation of the instance from the dest\n\nThere is a bug in rollback_live_migration_at_destination. It calls the\ndriver.destory() under a mutated migration context. Then the\ndriver._cleanup() will save the instance creating an inconsistent state\nin the DB as the instance now points to the destination host but it is\nactually running on the source host. This is not always cause a visible\nerror as drop_move_claim_at_destination also persist the\ninstance, but with the right data, pointing to the source host. So if\nthe two RPC messages handled in the order of\nrollback_live_migration_at_destination, drop_move_claim_at_destination\nthen the instance eventually get into a good state in the DB. BUT\nbecause rollback_live_migration_at_destination is an RPC cast, the\ncaller, the source host, does not wait for it to finish before\ndrop_move_claim_at_destination is called. Also\nrollback_live_migration_at_destination does IO (deletes instance disk)\nit can be delayed significantly causing an execution order of\ndrop_move_claim_at_destination then\nrollback_live_migration_at_destination. If this order happens then the\ninstance is left in an inconsistent state. In the DB it points and\nallocates from the destination node, while in reality it runs on the\nsource node. This can cause various resource allocation failures. The\none we observed happens when the instance allocates different pinned\nCPUs on the two hosts. In this case if the inconsistent instance is\ntried to be deleted the nova-compute on the source host tries to unpin\ncpus that are not pinned causing that the instance deletion fails.\n\nTo fix this bug this patch removes the migration context mutation from\nthe rollback_live_migration_at_destination code. The\nrollback_live_migration_at_destination eventually calls driver._cleanup\nthat queriesthe vpmem devices from instance.resources and zeroes out\nthe physical devices on the hypervisor. This is relying on\ninstance.resources to point to the vpmems on the destination host. Hence\nmutation of the migration context was required. To solve this the\nlibvirt driver code is changed not to rely on instance.resources but\nrely on the libvirt domain configuration instead. That source of\ninformation is available during cleanup and does not affect by the\nmigration context.\n\nThis change fixes bug 1982497 fully and also fixes most of the problems\nreported in bug 1894095 but not all of them. In the latter the periodic\nrun still re-creates the already freed allocation on the destination\nsomehow.\n\nCloses-Bug: #1982497\nRelated-Bug: #1894095\nChange-Id: I65534b52abfb1c6d331c73cc40413becdf3b05b1\n'}]",18,851832,0b4107029650b687f012ab9519d68bd866349b54,36,5,5,9708,,,0,"Do not mutate migration context for rollback_live_migration_at_destination

During _rollback_live_migration there are two RPC message to the
destination host:

* rollback_live_migration_at_destination is an RPC *cast* to clean up
  the physically clean up the instance on the destination
* drop_move_claim_at_destination is an RPC call to remove the resource
  allocation of the instance from the dest

There is a bug in rollback_live_migration_at_destination. It calls the
driver.destory() under a mutated migration context. Then the
driver._cleanup() will save the instance creating an inconsistent state
in the DB as the instance now points to the destination host but it is
actually running on the source host. This is not always cause a visible
error as drop_move_claim_at_destination also persist the
instance, but with the right data, pointing to the source host. So if
the two RPC messages handled in the order of
rollback_live_migration_at_destination, drop_move_claim_at_destination
then the instance eventually get into a good state in the DB. BUT
because rollback_live_migration_at_destination is an RPC cast, the
caller, the source host, does not wait for it to finish before
drop_move_claim_at_destination is called. Also
rollback_live_migration_at_destination does IO (deletes instance disk)
it can be delayed significantly causing an execution order of
drop_move_claim_at_destination then
rollback_live_migration_at_destination. If this order happens then the
instance is left in an inconsistent state. In the DB it points and
allocates from the destination node, while in reality it runs on the
source node. This can cause various resource allocation failures. The
one we observed happens when the instance allocates different pinned
CPUs on the two hosts. In this case if the inconsistent instance is
tried to be deleted the nova-compute on the source host tries to unpin
cpus that are not pinned causing that the instance deletion fails.

To fix this bug this patch removes the migration context mutation from
the rollback_live_migration_at_destination code. The
rollback_live_migration_at_destination eventually calls driver._cleanup
that queriesthe vpmem devices from instance.resources and zeroes out
the physical devices on the hypervisor. This is relying on
instance.resources to point to the vpmems on the destination host. Hence
mutation of the migration context was required. To solve this the
libvirt driver code is changed not to rely on instance.resources but
rely on the libvirt domain configuration instead. That source of
information is available during cleanup and does not affect by the
migration context.

This change fixes bug 1982497 fully and also fixes most of the problems
reported in bug 1894095 but not all of them. In the latter the periodic
run still re-creates the already freed allocation on the destination
somehow.

Closes-Bug: #1982497
Related-Bug: #1894095
Change-Id: I65534b52abfb1c6d331c73cc40413becdf3b05b1
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/851832/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/regressions/test_bug_1982497.py', 'nova/objects/instance.py', 'nova/compute/manager.py', 'nova/tests/unit/objects/test_instance.py']",5,b5e6a66bdc093b7ab91c2856513b915d14da0354,bug/1982497," def test_mutated_migration_context_save_skipped(self): numa_topology = ( test_instance_numa.fake_obj_numa_topology.obj_clone()) numa_topology.cells[0].memory = 1024 numa_topology.cells[1].memory = 1024 pci_requests = objects.InstancePCIRequests(requests=[ objects.InstancePCIRequest(count=1, spec=[])]) pci_devices = pci_device.PciDeviceList() resources = objects.ResourceList() inst = instance.Instance(context=self.context, uuid=uuids.instance, numa_topology=numa_topology, pci_requests=pci_requests, pci_devices=pci_devices, resources=resources) expected_objs = {'numa_topology': numa_topology, 'pci_requests': pci_requests, 'pci_devices': pci_devices, 'resources': resources} inst.migration_context = test_mig_ctxt.get_fake_migration_context_obj( self.context) with inst.mutated_migration_context(ignore_save=True): for attr_name in instance._MIGRATION_CONTEXT_ATTRS: inst_value = getattr(inst, attr_name) migration_context_value = ( getattr(inst.migration_context, 'new_' + attr_name)) self.assertIs(inst_value, migration_context_value) inst.save() for attr_name in instance._MIGRATION_CONTEXT_ATTRS: inst_value = getattr(inst, attr_name) self.assertIs(expected_objs[attr_name], inst_value) ",,73,29
openstack%2Ftripleo-common~master~Icd0e1908db6dc9e3320331f0e80b5f2dee50ae4b,openstack/tripleo-common,master,Icd0e1908db6dc9e3320331f0e80b5f2dee50ae4b,Fix services associated with rsyslog container image,MERGED,2022-06-15 00:30:13.000000000,2022-08-03 23:50:41.000000000,2022-08-03 23:49:44.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-15 00:30:13.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e081e00e06c0afea52fb25a6631fb8572c74e1e7', 'message': 'Fix services associated with rsyslog container image\n\n- Swift uses rsyslog running at host, instead of containerized rsyslog.\n\n- RsyslogSidecar service requires the image.\n\nChange-Id: Icd0e1908db6dc9e3320331f0e80b5f2dee50ae4b\n'}]",0,845865,e081e00e06c0afea52fb25a6631fb8572c74e1e7,9,4,1,9816,,,0,"Fix services associated with rsyslog container image

- Swift uses rsyslog running at host, instead of containerized rsyslog.

- RsyslogSidecar service requires the image.

Change-Id: Icd0e1908db6dc9e3320331f0e80b5f2dee50ae4b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/65/845865/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,e081e00e06c0afea52fb25a6631fb8572c74e1e7,, - OS::TripleO::Services::RsyslogSidecar, - OS::TripleO::Services::SwiftProxy - OS::TripleO::Services::SwiftStorage,1,2
openstack%2Ftripleo-heat-templates~master~Id62d411aecaa117e9d63d6f51d0a8abd8c16d9a9,openstack/tripleo-heat-templates,master,Id62d411aecaa117e9d63d6f51d0a8abd8c16d9a9,Remove unused NovaPlacement service,MERGED,2022-07-01 00:23:06.000000000,2022-08-03 23:50:40.000000000,2022-08-03 23:49:41.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-01 00:23:06.000000000', 'files': ['ci/environments/scenario000-standalone.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/remove-NovaPlacement-c33569f37b788eaf.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22952c7e1785454bbcdb4e48706e9e405845be17', 'message': 'Remove unused NovaPlacement service\n\nThis service was replaced by PlacementApi when Placement was split out\nfrom Nova.\n\nChange-Id: Id62d411aecaa117e9d63d6f51d0a8abd8c16d9a9\n'}]",0,848346,22952c7e1785454bbcdb4e48706e9e405845be17,9,4,1,9816,,,0,"Remove unused NovaPlacement service

This service was replaced by PlacementApi when Placement was split out
from Nova.

Change-Id: Id62d411aecaa117e9d63d6f51d0a8abd8c16d9a9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/848346/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario000-standalone.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/remove-NovaPlacement-c33569f37b788eaf.yaml']",3,22952c7e1785454bbcdb4e48706e9e405845be17,,--- upgrade: - | The ``OS::TripleO::Services::NovaPlacement`` service has been removed. It should be removed from roles data during upgrade. ,,5,2
openstack%2Fpuppet-tripleo~master~I7213b66bd8a4feecef15e760771fff6cf960826e,openstack/puppet-tripleo,master,I7213b66bd8a4feecef15e760771fff6cf960826e,Redis: Share the same base class,MERGED,2022-05-11 02:52:04.000000000,2022-08-03 23:49:36.000000000,2022-08-03 23:49:36.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-11 02:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9df48b9f919e574711d81145d238f54f6bfea76a', 'message': 'Redis: Share the same base class\n\n... instead of maintaining the complete independent implementations for\nthe same service.\n\nChange-Id: I7213b66bd8a4feecef15e760771fff6cf960826e\n'}, {'number': 2, 'created': '2022-05-11 06:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b4863f78aac550f359e5623ff1f0e188a6fd35d0', 'message': 'Redis: Share the same base class\n\n... instead of maintaining the complete independent implementations for\nthe same service.\n\nChange-Id: I7213b66bd8a4feecef15e760771fff6cf960826e\n'}, {'number': 3, 'created': '2022-05-12 11:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1f84deb2248526d8d9dd9aed1cee3d8cfcca50d1', 'message': 'Redis: Share the same base class\n\n... instead of maintaining the complete independent implementations for\nthe same service.\n\nChange-Id: I7213b66bd8a4feecef15e760771fff6cf960826e\n'}, {'number': 4, 'created': '2022-05-12 14:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/99fe49b90733209f2ac9ba3686691484d9897455', 'message': 'Redis: Share the same base class\n\n... instead of maintaining the complete independent implementations for\nthe same service.\n\nChange-Id: I7213b66bd8a4feecef15e760771fff6cf960826e\n'}, {'number': 5, 'created': '2022-05-27 15:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/311b5b9bdaa92a0e0230ba7201584f8d3dcb38fe', 'message': 'Redis: Share the same base class\n\n... instead of maintaining the complete independent implementations for\nthe same service.\n\nChange-Id: I7213b66bd8a4feecef15e760771fff6cf960826e\n'}, {'number': 6, 'created': '2022-07-02 03:20:06.000000000', 'files': ['manifests/profile/base/database/redis.pp', 'manifests/profile/pacemaker/database/redis_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b1097f190768b00cf1b5bd0d0f086d8667eee8ec', 'message': 'Redis: Share the same base class\n\n... instead of maintaining the complete independent implementations for\nthe same service.\n\nChange-Id: I7213b66bd8a4feecef15e760771fff6cf960826e\n'}]",0,841362,b1097f190768b00cf1b5bd0d0f086d8667eee8ec,27,5,6,9816,,,0,"Redis: Share the same base class

... instead of maintaining the complete independent implementations for
the same service.

Change-Id: I7213b66bd8a4feecef15e760771fff6cf960826e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/841362/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/database/redis.pp', 'manifests/profile/pacemaker/database/redis_bundle.pp']",2,9df48b9f919e574711d81145d238f54f6bfea76a,," class { 'tripleo::profile::base::database::redis': bootstrap_node => $boostrap_node, pacmekaer_managed => true, tls_tunnel_local_name => $tls_tunnel_local_name, tls_proxy_bind_ip => $tls_proxy_bind_ip, tls_proxy_fqdn => $tls_proxy_fqdn, tls_proxy_port => $tls_proxy_port, # certificate_specs is validated by the base redis class $redis_node_names = hiera('redis_short_node_names', [$::hostname]) $redis_node_ips = hiera('redis_node_ips', [$tls_proxy_bind_ip]) # keep a mapping of [node name, node ip, replication port] $replication_tuples = zip($redis_node_names, $redis_node_ips).map |$index, $pair| { $pair.concat($tls_tunnel_base_port+$index) } else { $replication_tuples = []"," if $enable_internal_tls { if !$redis_network { fail('redis_network is not set in the hieradata.') } if !$tls_proxy_bind_ip { fail('tls_proxy_bind_ip is not set in the hieradata.') } if !$tls_proxy_fqdn { fail('tls_proxy_fqdn is required if internal TLS is enabled.') } $redis_node_names = hiera('redis_short_node_names', [$::hostname]) $redis_node_ips = hiera('redis_node_ips', [$tls_proxy_bind_ip]) # keep a mapping of [node name, node ip, replication port] $replication_tuples = zip($redis_node_names, $redis_node_ips).map |$index, $pair| { $pair.concat($tls_tunnel_base_port+$index) } } else { $replication_tuples = [] include tripleo::stunnel # encrypted endpoint for incoming redis service tripleo::stunnel::service_proxy { 'redis': accept_host => $tls_proxy_bind_ip, accept_port => $tls_proxy_port, connect_host => $tls_tunnel_local_name, connect_port => $tls_proxy_port, certificate => $tls_certfile, key => $tls_keyfile, notify => Class['redis'], } # If the old hiera key exists we use that to set the ulimit in order not to break # operators which set it. We might remove this in a later release (post pike anyway) $old_redis_file_limit = hiera('redis_file_limit', undef) if $old_redis_file_limit != undef { warning('redis_file_limit parameter is deprecated, use redis::ulimit in hiera.') class { 'redis': ulimit => $old_redis_file_limit, } } else { include redis",44,47
openstack%2Fpuppet-tripleo~master~I2b3ba503c9732800ef52287dda0f0906de65e247,openstack/puppet-tripleo,master,I2b3ba503c9732800ef52287dda0f0906de65e247,Remove puppet-tripleo/firewall,MERGED,2022-06-02 14:39:44.000000000,2022-08-03 23:49:31.000000000,2022-08-03 23:49:31.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-02 14:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9ec60ccbd31b93380a75c4d3447eb96a718071d0', 'message': ""Remove puppet-tripleo/firewall\n\nNow that all the firewall bits are in ansible, tripleo itself doesn't\nneed to use puppet.\n\nChange-Id: I2b3ba503c9732800ef52287dda0f0906de65e247\n""}, {'number': 2, 'created': '2022-06-02 14:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/40c115f1a39611bb35287461cd3e23ee3b294d9f', 'message': ""Remove puppet-tripleo/firewall\n\nNow that all the firewall bits are in ansible, tripleo itself doesn't\nneed to use puppet.\n\nChange-Id: I2b3ba503c9732800ef52287dda0f0906de65e247\n""}, {'number': 3, 'created': '2022-06-07 07:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4dbd6b980d592d9cc29c255838ecfba5c8635ec9', 'message': ""Remove puppet-tripleo/firewall\n\nNow that all the firewall bits are in ansible, tripleo itself doesn't\nneed to use puppet.\n\nChange-Id: I2b3ba503c9732800ef52287dda0f0906de65e247\n""}, {'number': 4, 'created': '2022-07-01 11:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/28d5f5b3676071049864fb3af2997cab882b18b2', 'message': ""Remove puppet-tripleo/firewall\n\nNow that all the firewall bits are in ansible, tripleo itself doesn't\nneed to use puppet.\n\nChange-Id: I2b3ba503c9732800ef52287dda0f0906de65e247\n""}, {'number': 5, 'created': '2022-07-01 14:08:19.000000000', 'files': ['spec/classes/tripleo_masquerade_networks_spec.rb', 'manifests/masquerade_networks.pp', 'manifests/firewall/rule.pp', 'spec/fixtures/hieradata/default.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c759bb471fc4656cac431e1909db8ba48fbb4a47', 'message': ""Remove puppet-tripleo/firewall\n\nNow that all the firewall bits are in ansible, tripleo itself doesn't\nneed to use puppet.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/848452\nChange-Id: I2b3ba503c9732800ef52287dda0f0906de65e247\n""}]",7,844466,c759bb471fc4656cac431e1909db8ba48fbb4a47,25,5,5,28223,,,0,"Remove puppet-tripleo/firewall

Now that all the firewall bits are in ansible, tripleo itself doesn't
need to use puppet.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/848452
Change-Id: I2b3ba503c9732800ef52287dda0f0906de65e247
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/66/844466/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_masquerade_networks_spec.rb', 'manifests/masquerade_networks.pp', 'manifests/firewall/rule.pp', 'spec/fixtures/hieradata/default.yaml', 'manifests/profile/base/pacemaker.pp']",5,9ec60ccbd31b93380a75c4d3447eb96a718071d0,firewall,, # (bandini) We want to make sure that any rule that opens up services takes place # before we invoke pcs commands (see LP#1866209) Firewall<|tag == 'tripleo-firewall-rule'|> -> Exec <|tag == 'pacemaker-auth'|> ,0,373
openstack%2Ftripleo-heat-templates~master~I53fb0229babe46c30b8ffe6b02caa43ad5294d68,openstack/tripleo-heat-templates,master,I53fb0229babe46c30b8ffe6b02caa43ad5294d68,nova-migration-target: Simplify port configuration,MERGED,2022-06-07 04:54:39.000000000,2022-08-03 23:49:28.000000000,2022-08-03 23:49:28.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-07 04:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62e8832e7d19b21a19f7133f4623615df5d91ad1', 'message': 'nova-migration-target: Simplify port configuration\n\nThis change replaces usage of -p command line option by the listen\noption in sshd_config. Now the nova migration target is decoupled from\nthe host sshd service so we can use the ssh::* parameters to customize\nonly the target service.\n\nThis change also deprecates the redundant DockerNovaMigrationSshdPort\nparameter and makes sure the MigrationSshPort parameter is globally\nused to determine the TCP port used by migration ssh.\n\nChange-Id: I53fb0229babe46c30b8ffe6b02caa43ad5294d68\n'}, {'number': 2, 'created': '2022-07-04 16:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b294e10e3932e9da116078b3a3ac8cbbbc737b08', 'message': 'nova-migration-target: Simplify port configuration\n\nThis change replaces usage of -p command line option by the listen\noption in sshd_config. Now the nova migration target is decoupled from\nthe host sshd service so we can use the ssh::* parameters to customize\nonly the target service.\n\nChange-Id: I53fb0229babe46c30b8ffe6b02caa43ad5294d68\n'}, {'number': 3, 'created': '2022-07-04 16:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b2edf8e968c0a9615cdc7c26d506e1ea8fbccbb', 'message': 'nova-migration-target: Simplify port configuration\n\nThis change replaces usage of -p command line option by the listen\noption in sshd_config. Now the nova migration target is decoupled from\nthe host sshd service so we can use the ssh::* parameters to customize\nonly the target service.\n\nChange-Id: I53fb0229babe46c30b8ffe6b02caa43ad5294d68\n'}, {'number': 4, 'created': '2022-07-04 16:31:39.000000000', 'files': ['deployment/nova/nova-migration-target-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9168ffa82ddd25183e98df41f496442ae3430704', 'message': 'nova-migration-target: Simplify port configuration\n\nThis change replaces usage of -p command line option by the listen\noption in sshd_config. Now the nova migration target is decoupled from\nthe host sshd service so we can use the ssh::* parameters to customize\nonly the target service.\n\nChange-Id: I53fb0229babe46c30b8ffe6b02caa43ad5294d68\n'}]",3,844903,9168ffa82ddd25183e98df41f496442ae3430704,17,5,4,9816,,,0,"nova-migration-target: Simplify port configuration

This change replaces usage of -p command line option by the listen
option in sshd_config. Now the nova migration target is decoupled from
the host sshd service so we can use the ssh::* parameters to customize
only the target service.

Change-Id: I53fb0229babe46c30b8ffe6b02caa43ad5294d68
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/844903/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-migration-target-container-puppet.yaml', 'releasenotes/notes/deprecate-docker-nove-migration-sshd-port-3baa5391d1a632fe.yaml']",2,62e8832e7d19b21a19f7133f4623615df5d91ad1,,--- deprecations: - | The ``DockerNovaMigrationSshdPort`` parameter has been deprecated and has no effect. Now the ``MigrationSshPort`` parameter is used to determine the tcp port the nove migration target sshd service listens to. ,,26,11
openstack%2Fironic-python-agent~master~Ibfc2e203287d92e66567c33dc48f59392852b88e,openstack/ironic-python-agent,master,Ibfc2e203287d92e66567c33dc48f59392852b88e,Use lsblk json output for safety_check_block_device,MERGED,2022-07-20 09:57:06.000000000,2022-08-03 23:48:17.000000000,2022-08-03 23:47:17.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-20 09:57:06.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b5fac66bc3ce2cd03a6561f32fb2aba31e8f9fcb', 'message': 'Use lsblk json output for safety_check_block_device\n\nChange-Id: Ibfc2e203287d92e66567c33dc48f59392852b88e\n'}]",0,850497,b5fac66bc3ce2cd03a6561f32fb2aba31e8f9fcb,9,3,1,23851,,,0,"Use lsblk json output for safety_check_block_device

Change-Id: Ibfc2e203287d92e66567c33dc48f59392852b88e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/97/850497/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,b5fac66bc3ce2cd03a6561f32fb2aba31e8f9fcb,," mock_execute.return_value = ('{""blockdevices"": [{""foo"": ""bar""}]}', '') GFS2 = '""fstype"": ""gfs2""' GPFS1 = '""uuid"": ""37AFFC90-EF7D-4E96-91C3-2D7AE055B174""' GPFS2 = '""ptuuid"": ""37AFFC90-EF7D-4E96-91C3-2D7AE055B174""' GPFS3 = '""parttype"": ""37AFFC90-EF7D-4E96-91C3-2D7AE055B174""' GPFS4 = '""partuuid"": ""37AFFC90-EF7D-4E96-91C3-2D7AE055B174""' VMFS1 = '""uuid"": ""AA31E02A-400F-11DB-9590-000C2911D1B8""' VMFS2 = '""uuid"": ""AA31E02A-400F-11DB-9590-000C2911D1B8""' VMFS3 = '""uuid"": ""AA31E02A-400F-11DB-9590-000C2911D1B8""' VMFS4 = '""uuid"": ""AA31E02A-400F-11DB-9590-000C2911D1B8""' VMFS5 = '""uuid"": ""0xfb""' VMFS6 = '""ptuuid"": ""0xfb""' VMFS7 = '""parttype"": ""0xfb""' VMFS8 = '""partuuid"": ""0xfb""' dev_failure = ('{{""blockdevices"": [{{{failure}}}]}}' .format(failure=failure)) mock_execute.return_value = (dev_failure, '')"," mock_execute.return_value = ('', '') GFS2 = 'FSTYPE=""gfs2""\n' GPFS1 = 'UUID=""37AFFC90-EF7D-4E96-91C3-2D7AE055B174""\n' GPFS2 = 'PTUUID=""37AFFC90-EF7D-4E96-91C3-2D7AE055B174""\n' GPFS3 = 'PARTTYPE=""37AFFC90-EF7D-4E96-91C3-2D7AE055B174""\n' GPFS4 = 'PARTUUID=""37AFFC90-EF7D-4E96-91C3-2D7AE055B174""\n' VMFS1 = 'UUID=""AA31E02A-400F-11DB-9590-000C2911D1B8""\n' VMFS2 = 'UUID=""AA31E02A-400F-11DB-9590-000C2911D1B8""\n' VMFS3 = 'UUID=""AA31E02A-400F-11DB-9590-000C2911D1B8""\n' VMFS4 = 'UUID=""AA31E02A-400F-11DB-9590-000C2911D1B8""\n' VMFS5 = 'UUID=""0xfb""\n' VMFS6 = 'PTUUID=""0xfb""\n' VMFS7 = 'PARTTYPE=""0xfb""\n' VMFS8 = 'PARTUUID=""0xfb""\n' mock_execute.return_value = (failure, '')",31,32
openstack%2Fironic~master~I1b6303a987a102dfbfd233334395321c25a55212,openstack/ironic,master,I1b6303a987a102dfbfd233334395321c25a55212,Exit ipxe script if enable_netboot_fallback failed,MERGED,2021-09-29 10:42:15.000000000,2022-08-03 23:30:43.000000000,2022-08-03 23:28:19.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-29 10:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d19d743a51e1acc394f3cdea96034941b411d6a', 'message': 'Exit ipxe script if enable_netboot_fallback failed\n\nThe sanboot trick to boot from local disk does not\nwork on all hardware. If it fails exit 0 from the\niPxe script so that boot continues on the next device\nwhich may be the local disk.\n\nStory: #2009258\nTask: #43470\n\nChange-Id: I1b6303a987a102dfbfd233334395321c25a55212\n'}, {'number': 2, 'created': '2021-09-29 10:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c2c46d517c9de513a08cfae7dba515ae4421d6e', 'message': 'Exit ipxe script if enable_netboot_fallback failed\n\nThe sanboot trick to boot from local disk does not\nwork on all hardware. If it fails exit 0 from the\niPxe script so that boot continues on the next device\nwhich may be the local disk.\n\nStory: #2009258\nTask: #43470\n\nChange-Id: I1b6303a987a102dfbfd233334395321c25a55212\n'}, {'number': 3, 'created': '2022-08-02 00:27:05.000000000', 'files': ['ironic/tests/unit/drivers/ipxe_config_boot_from_volume_multipath.template', 'ironic/tests/unit/drivers/ipxe_config_boot_from_ramdisk.template', 'ironic/tests/unit/drivers/boot-fallback.ipxe', 'ironic/tests/unit/drivers/boot.ipxe', 'ironic/tests/unit/drivers/ipxe_config_timeout.template', 'releasenotes/notes/version-foo-2eb39b768112547f.yaml', 'ironic/drivers/modules/boot.ipxe', 'ironic/tests/unit/drivers/ipxe_config_boot_from_iso.template', 'ironic/tests/unit/drivers/ipxe_config.template', 'ironic/tests/unit/drivers/ipxe_config_boot_from_anaconda.template', 'ironic/tests/unit/drivers/ipxe_config_boot_from_volume_no_extra_volumes.template', 'ironic/tests/unit/drivers/ipxe_config_boot_from_volume_extra_volume.template', 'ironic/drivers/modules/ipxe_config.template'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fb73bdf10501f25b8ed29c23b865c58ed4cb10b7', 'message': 'Exit ipxe script if enable_netboot_fallback failed\n\nThe sanboot trick to boot from local disk does not\nwork on all hardware. If it fails exit 0 from the\niPxe script so that boot continues on the next device\nwhich may be the local disk.\n\nStory: #2009258\nTask: #43470\n\nChange-Id: I1b6303a987a102dfbfd233334395321c25a55212\n'}]",4,811710,fb73bdf10501f25b8ed29c23b865c58ed4cb10b7,19,4,3,1926,,,0,"Exit ipxe script if enable_netboot_fallback failed

The sanboot trick to boot from local disk does not
work on all hardware. If it fails exit 0 from the
iPxe script so that boot continues on the next device
which may be the local disk.

Story: #2009258
Task: #43470

Change-Id: I1b6303a987a102dfbfd233334395321c25a55212
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/811710/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/ipxe_config.template', 'ironic/tests/unit/drivers/ipxe_config_boot_from_volume_multipath.template', 'ironic/tests/unit/drivers/boot.ipxe', 'ironic/tests/unit/drivers/ipxe_config_boot_from_volume_no_extra_volumes.template', 'ironic/tests/unit/drivers/ipxe_config_boot_from_volume_extra_volume.template', 'ironic/tests/unit/drivers/ipxe_config_timeout.template', 'ironic/drivers/modules/boot.ipxe', 'ironic/drivers/modules/ipxe_config.template', 'ironic/tests/unit/drivers/ipxe_config_boot_from_iso.template']",9,3d19d743a51e1acc394f3cdea96034941b411d6a,,sanboot --no-describe || exit 0,sanboot --no-describe,19,7
openstack%2Fironic~master~Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469,openstack/ironic,master,Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469,Modify do_node_verify to avoid state machine stuck,MERGED,2022-08-03 04:46:52.000000000,2022-08-03 23:29:27.000000000,2022-08-03 23:28:08.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-03 04:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42ca836c68ee2c29af389b1295fb123b9602f330', 'message': ""Modify do_node_verify to avoid state machine stuck\n\ndo_node_verify function runs vendor-driver-defined verify_step.\nHowever, when vendor verify_step fails, it causes stuck of state\nmachine at verifying.\nThis is because do_node_verify function tries to retrieve name\nof veirfy_step through node.verify_step but node doesn't have\nverify_step attribute and there is no way to handle exception.\n\nThis commit fixes this issue.\n\nChange-Id: Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469\nStory: 2010209\nTask: 45942\n""}, {'number': 2, 'created': '2022-08-03 05:42:16.000000000', 'files': ['ironic/conductor/verify.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f6d2b2ed930caaa1fa7a6827876845eb02610848', 'message': ""Modify do_node_verify to avoid state machine stuck\n\ndo_node_verify function runs vendor-driver-defined verify_step.\nHowever, when vendor verify_step fails, it causes stuck of state\nmachine at verifying.\nThis is because do_node_verify function tries to retrieve name\nof verify_step through node.verify_step but node doesn't have\nverify_step attribute and there is no way to handle exception.\n\nThis commit fixes this issue.\n\nChange-Id: Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469\nStory: 2010209\nTask: 45942\n""}]",2,851950,f6d2b2ed930caaa1fa7a6827876845eb02610848,16,3,2,30566,,,0,"Modify do_node_verify to avoid state machine stuck

do_node_verify function runs vendor-driver-defined verify_step.
However, when vendor verify_step fails, it causes stuck of state
machine at verifying.
This is because do_node_verify function tries to retrieve name
of verify_step through node.verify_step but node doesn't have
verify_step attribute and there is no way to handle exception.

This commit fixes this issue.

Change-Id: Ie2ec6e08214661f7dc61c92de646e2f4d5bb5469
Story: 2010209
Task: 45942
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/851950/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/verify.py'],1,42ca836c68ee2c29af389b1295fb123b9602f330,fix_vendor_verify_step_failure_stuck," {'node': node.uuid, 'step': step['step'],"," {'node': node.uuid, 'step': node.verify_step,",1,1
openstack%2Fironic~master~I57e59ac21e3327b9ad2f1d1436e184b48999006b,openstack/ironic,master,I57e59ac21e3327b9ad2f1d1436e184b48999006b,Enable the ramdisk deploy by default,MERGED,2022-08-01 14:35:34.000000000,2022-08-03 23:28:15.000000000,2022-08-03 23:28:15.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 14:35:34.000000000', 'files': ['ironic/tests/base.py', 'doc/source/admin/ramdisk-boot.rst', 'ironic/tests/unit/drivers/modules/test_ramdisk.py', 'releasenotes/notes/ramdisk-deploy-384a38c3c96059dd.yaml', 'ironic/conf/default.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f8135b22f633805ed84849dc3bf0e403966c790c', 'message': 'Enable the ramdisk deploy by default\n\nIt proved useful (supported by Metal3, used in OpenShift) and does not\nrequire any conductor-level configuration.\n\nChange-Id: I57e59ac21e3327b9ad2f1d1436e184b48999006b\n'}]",0,851751,f8135b22f633805ed84849dc3bf0e403966c790c,11,3,1,10239,,,0,"Enable the ramdisk deploy by default

It proved useful (supported by Metal3, used in OpenShift) and does not
require any conductor-level configuration.

Change-Id: I57e59ac21e3327b9ad2f1d1436e184b48999006b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/851751/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/base.py', 'doc/source/admin/ramdisk-boot.rst', 'ironic/tests/unit/drivers/modules/test_ramdisk.py', 'ironic/conf/default.py', 'releasenotes/notes/ramdisk-deploy-384a38c3c96059dd.yaml']",5,f8135b22f633805ed84849dc3bf0e403966c790c,ramdisk-deploy,"--- features: - | The ``ramdisk`` deploy interface is now enabled by default. When the default ``direct`` deploy is also enabled, the ``ramdisk`` deploy must be explicitly requested on the node level. ",,11,6
openstack%2Fnova~master~I08f2d6b54e2837e5918bf8a951794e93e4d80952,openstack/nova,master,I08f2d6b54e2837e5918bf8a951794e93e4d80952,Reproducer for bug 1982497,NEW,2022-07-21 16:02:27.000000000,2022-08-03 22:52:19.000000000,,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-21 16:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf4caef35b5e9472af73f85ed86436deaa3ae47d', 'message': 'Reproducer for bug 1982497\n\nRelated-Bug: #1982497\nChange-Id: I08f2d6b54e2837e5918bf8a951794e93e4d80952\n'}, {'number': 2, 'created': '2022-08-02 09:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/788849ee6ca2d117211caca9cadcc14e93425f7a', 'message': 'Reproducer for bug 1982497\n\nRelated-Bug: #1982497\nChange-Id: I08f2d6b54e2837e5918bf8a951794e93e4d80952\n'}, {'number': 3, 'created': '2022-08-03 14:41:23.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1982497.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/11710cd1c43d865ba5df7e02e62ea30595500aea', 'message': 'Reproducer for bug 1982497\n\nRelated-Bug: #1982497\nChange-Id: I08f2d6b54e2837e5918bf8a951794e93e4d80952\n'}]",11,850672,11710cd1c43d865ba5df7e02e62ea30595500aea,24,4,3,9708,,,0,"Reproducer for bug 1982497

Related-Bug: #1982497
Change-Id: I08f2d6b54e2837e5918bf8a951794e93e4d80952
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/850672/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1982497.py']",2,cf4caef35b5e9472af73f85ed86436deaa3ae47d,bug/1982497,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures import mock import threading from nova.tests.fixtures import libvirt as fakelibvirt from nova.tests.functional import integrated_helpers from nova.tests.functional.libvirt import base class TestLiveMigrateRollbackAtDestRaceDropClaim( base.ServersTestBase, integrated_helpers.InstanceHelperMixin ): api_major_version = 'v2.1' microversion = 'latest' ADDITIONAL_FILTERS = ['NUMATopologyFilter'] ADMIN_API = True # This is important as we need drop_move_claim_at_destination to act as a # cast, so it can be run asynchronously from the rest of the rollback flow # to reproduce the race condition CAST_AS_CALL = False def setUp(self): super().setUp() # we need the migrate call to fail to trigger a rollback self.useFixture(fixtures.MonkeyPatch( 'nova.tests.fixtures.libvirt.Domain.migrateToURI3', self._migrate_stub)) # we need to simulate that there is a need to clean up the guest # on the destination during the rollback self.useFixture(fixtures.MonkeyPatch( 'nova.compute.manager.ComputeManager.' '_live_migration_cleanup_flags', lambda *args, **kwargs: (True, True))) def _migrate_stub(self, domain, destination, params, flags): """"""Designed to stub fakelibvirt's migrateToURI3 and ""fail"" the live migration by monkeypatching jobStats() to return an error. """""" source = self.computes['host_a'] conn = source.driver._host.get_connection() dom = conn.lookupByUUIDString(self.server_a['id']) dom.fail_job() def start_computes_and_servers(self): # Start 2 computes with 4 cores each self.start_compute( hostname='host_a', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) self.start_compute( hostname='host_b', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) # Create a 2-CPU flavor extra_spec = {'hw:cpu_policy': 'dedicated'} flavor = self._create_flavor(vcpu=2, extra_spec=extra_spec) # Boot 2 servers with 2 CPUs each, one on host_a and one on host_b. # Given the cpu_dedicated_set we set earlier, they should both be on # CPUs 0,1. for server_name, host in [('server_a', 'host_a'), ('server_b', 'host_b')]: server = self._create_server( flavor_id=flavor, host=host, networks='none') server = self._wait_for_state_change(server, 'ACTIVE') setattr(self, server_name, server) self.assertEqual(host, server['OS-EXT-SRV-ATTR:host']) def test_racing_rollback_at_dest_and_drop_move_claim_at_dest(self): """"""We simulate the following sequence of events: 1) start two compute hosts (host_a, host_b) with dedicated_cpu_set 0,1 2) start an instances with two dedicated cpus on each compute: server_a on host_a, server_b on host_b 3) increase the dedicated_cpu_set to 0,1,2,3 4) trigger the live migration of server_a BUT make sure that it will fail in libvirt, so the migration is rolled back. 5) Serialize the rollback steps the following way: 5.1) source compute calls _rollback_live_migration as the migrate job failed in libvirt 5.2) _rollback_live_migration RPC *casts* rollback_live_migration_at_destination 5.3) _rollback_live_migration PRC calls drop_move_claim_at_destination 5.4) drop_move_claim_at_destination runs on dest 5.5) rollback_live_migration_at_destination runs on dest 6) Assert that the live migration failed 7) Try to delete the instance and observe that is fails as it tries to unpin the 2,3 CPUs that was never pinned on the source Note that the order of the triggering of rollback_live_migration_at_destination and drop_move_claim_at_destination from the source are different from the execution order of the two calls on the dest. This is possible because rollback_live_migration_at_destination is an RPC *cast* so the source does not wait for the dest to finish before it moves forward and calls drop_move_claim_at_destination. To force the above order we need to artifically synchronize between rollback_live_migration_at_destination and drop_move_claim_at_destination running on the dest and the instance delete running in the test code. We do that by wrapping the dest RPC calls and introducing conditions between them. """""" # Make sure instances initially land on ""overlapping"" CPUs on both # hosts and boot 2 instances. self.flags(cpu_dedicated_set='0,1', group='compute') self.start_computes_and_servers() # Increase cpu_dedicated_set to 0-3, expecting the live migrated server # to end up on 2,3. self.flags(cpu_dedicated_set='0-3', group='compute') self.computes['host_a'] = self.restart_compute_service( self.computes['host_a']) self.computes['host_b'] = self.restart_compute_service( self.computes['host_b']) host_b = self.computes['host_b'] drop_move_claim_done = threading.Condition() orig_drop_move_claim_at_destination = ( host_b.manager.drop_move_claim_at_destination) self.drop_move_claim_has_run = False def wrapped_drop_move_claim_at_dest(*args, **kwargs): res = orig_drop_move_claim_at_destination(*args, **kwargs) with drop_move_claim_done: self.drop_move_claim_has_run = True drop_move_claim_done.notify_all() return res rollback_live_migration_at_destination_done = threading.Condition() orig_rollback_at_dest = ( host_b.manager.rollback_live_migration_at_destination) self.rollback_live_migration_at_destination_run = False def wrapped_rollback_live_migration_at_destination(*args, **kwargs): with drop_move_claim_done: drop_move_claim_done.wait_for( lambda: self.drop_move_claim_has_run) res = orig_rollback_at_dest(*args, **kwargs) with rollback_live_migration_at_destination_done: self.rollback_live_migration_at_destination_run = True rollback_live_migration_at_destination_done.notify_all() return res with mock.patch.object( host_b.manager, ""drop_move_claim_at_destination"", side_effect=wrapped_drop_move_claim_at_dest, ): with mock.patch.object( host_b.manager, ""rollback_live_migration_at_destination"", side_effect=wrapped_rollback_live_migration_at_destination, ): self._live_migrate(self.server_a, 'failed') with rollback_live_migration_at_destination_done: rollback_live_migration_at_destination_done.wait_for( lambda: self.rollback_live_migration_at_destination_run) self.api.delete_server(self.server_a['id']) # This is bug 1982497 where nova tries to self._wait_for_action_fail_completion( self.server_a, ""delete"", ""compute_terminate_instance"") server = self.api.get_server(self.server_a['id']) self.assertEqual( server[""fault""][""message""], ""CPU set to unpin [2, 3] must be a subset of pinned CPU set "" ""[0, 1]"", ) ",,193,1
openstack%2Ftripleo-ansible~master~I690c32a2ed2142e4be6518ea27fa153c318c94b8,openstack/tripleo-ansible,master,I690c32a2ed2142e4be6518ea27fa153c318c94b8,Leave connection setup to THT,MERGED,2022-07-28 18:58:25.000000000,2022-08-03 22:26:41.000000000,2022-08-03 22:26:41.000000000,"[{'_account_id': 6681}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-28 18:58:25.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovn_cluster/templates/ovn_cluster.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f61fd624ba83e945c521e0447ff9447bd631bc1b', 'message': 'Leave connection setup to THT\n\nThere is currently no way to set up listening on an SSL connection\nvia ovn-ctl. To get around this, we set up the connection in THT.\nIn addition, the inactivity probe interval cannot be set via the\nCLI --remote option, meaning that for clustered ovsdb we would use\nthe too-short default of 5s.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/851450\nRelated-Bug: rhbz#2110550\nRelated-Bug: rhbz#2099805\nRelated-Bug: rhbz#2101588\nRelated-Bug: rhbz#1952038\nChange-Id: I690c32a2ed2142e4be6518ea27fa153c318c94b8\n'}]",1,851452,f61fd624ba83e945c521e0447ff9447bd631bc1b,14,5,1,5756,,,0,"Leave connection setup to THT

There is currently no way to set up listening on an SSL connection
via ovn-ctl. To get around this, we set up the connection in THT.
In addition, the inactivity probe interval cannot be set via the
CLI --remote option, meaning that for clustered ovsdb we would use
the too-short default of 5s.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/851450
Related-Bug: rhbz#2110550
Related-Bug: rhbz#2099805
Related-Bug: rhbz#2101588
Related-Bug: rhbz#1952038
Change-Id: I690c32a2ed2142e4be6518ea27fa153c318c94b8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/52/851452/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ovn_cluster/templates/ovn_cluster.j2'],1,f61fd624ba83e945c521e0447ff9447bd631bc1b,raft-probe-interval,{% if tripleo_ovn_cluster_nb_db_protocol == 'ssl' %}{% if tripleo_ovn_cluster_sb_db_protocol == 'ssl' %},{% if tripleo_ovn_cluster_nb_db_protocol == 'ssl' %}{% else %} --db-nb-create-insecure-remote=yes \{% if tripleo_ovn_cluster_sb_db_protocol == 'ssl' %}{% else %} --db-sb-create-insecure-remote=yes \,2,6
openstack%2Ftripleo-heat-templates~master~I5239558aeb42d79d12622043f2ff88f70ab35a36,openstack/tripleo-heat-templates,master,I5239558aeb42d79d12622043f2ff88f70ab35a36,Set the images_type parameter,MERGED,2021-03-29 03:11:07.000000000,2022-08-03 22:26:37.000000000,2022-08-03 22:26:37.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-29 03:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58f96733e79b3e5e73d30e6627ba66111ae8ecc8', 'message': 'Set the images_type parameter\n\nThe images_type parameter will become required to use rbd ephemeral\nstorage in a future release of puppet-nova. This change ensures that\nthe parameter is properly set when NovaEnableRbdBackend is enabled.\n\nDepends-on: https://review.opendev.org/776931\nChange-Id: I5239558aeb42d79d12622043f2ff88f70ab35a36\n'}, {'number': 2, 'created': '2021-06-07 02:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/303b8c363ce351e74799bba17803f995969ac768', 'message': 'Set the images_type parameter\n\nThe images_type parameter will become required to use rbd ephemeral\nstorage in a future release of puppet-nova. This change ensures that\nthe parameter is properly set when NovaEnableRbdBackend is enabled.\n\nDepends-on: https://review.opendev.org/776931\nChange-Id: I5239558aeb42d79d12622043f2ff88f70ab35a36\n'}, {'number': 3, 'created': '2021-07-06 01:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f96cfd017fb7ada7968c3111ae11fb7063880f7b', 'message': 'Set the images_type parameter\n\nThe images_type parameter will become required to use rbd ephemeral\nstorage in a future release of puppet-nova. This change ensures that\nthe parameter is properly set when NovaEnableRbdBackend is enabled.\n\nDepends-on: https://review.opendev.org/776931\nChange-Id: I5239558aeb42d79d12622043f2ff88f70ab35a36\n'}, {'number': 4, 'created': '2021-07-06 04:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52b8080ae3663a07e017ec71d516e99ef5a428f4', 'message': 'Set the images_type parameter\n\nThe images_type parameter will become required to use rbd ephemeral\nstorage in a future release of puppet-nova. This change ensures that\nthe parameter is properly set when NovaEnableRbdBackend is enabled.\n\nDepends-on: https://review.opendev.org/776931\nChange-Id: I5239558aeb42d79d12622043f2ff88f70ab35a36\n'}, {'number': 5, 'created': '2022-07-12 11:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e0d5b62e35fa3fb3724fc53edf366ba979c1324', 'message': 'Set the images_type parameter\n\nThe images_type parameter will become required to use rbd ephemeral\nstorage in a future release of puppet-nova. This change ensures that\nthe parameter is properly set when NovaEnableRbdBackend is enabled.\n\nDepends-on: https://review.opendev.org/776931\nChange-Id: I5239558aeb42d79d12622043f2ff88f70ab35a36\n'}, {'number': 6, 'created': '2022-07-12 14:56:00.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/10a0adee05abc7006b6d52e03f6c5c79e87aab1d', 'message': 'Set the images_type parameter\n\nThe images_type parameter will become required to use rbd ephemeral\nstorage in a future release of puppet-nova. This change ensures that\nthe parameter is properly set when NovaEnableRbdBackend is enabled.\n\nDepends-on: https://review.opendev.org/776931\nChange-Id: I5239558aeb42d79d12622043f2ff88f70ab35a36\n'}]",6,783591,10a0adee05abc7006b6d52e03f6c5c79e87aab1d,38,5,6,9816,,,0,"Set the images_type parameter

The images_type parameter will become required to use rbd ephemeral
storage in a future release of puppet-nova. This change ensures that
the parameter is properly set when NovaEnableRbdBackend is enabled.

Depends-on: https://review.opendev.org/776931
Change-Id: I5239558aeb42d79d12622043f2ff88f70ab35a36
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/783591/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,58f96733e79b3e5e73d30e6627ba66111ae8ecc8,images_type," nova_compute_rbd_ephemeral_storage: NovaEnableRbdBackend - {get_attr: [RoleParametersValue, value, nova_compute_rbd_ephemeral_storage]} - nova::compute::rbd::ephemeral_storage: true nova::compute::libvirt::images_type: 'rbd' - {} - if:", nova::compute::rbd::ephemeral_storage: NovaEnableRbdBackend,7,1
openstack%2Frequirements~master~I0be45a9617e01f41df57e67d91dc07c3f36e8d2e,openstack/requirements,master,I0be45a9617e01f41df57e67d91dc07c3f36e8d2e,update constraint for openstacksdk to new release 0.100.0,MERGED,2022-07-15 10:50:43.000000000,2022-08-03 21:46:42.000000000,2022-08-03 21:45:41.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-15 10:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c016c621d9990d981f486e1f52b96090db3b09f0', 'message': 'update constraint for openstacksdk to new release 0.100.0\n\nmeta: version: 0.100.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I7326553756adc54deafb605c2e6d0e0cc703db5c\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I0be45a9617e01f41df57e67d91dc07c3f36e8d2e\n'}, {'number': 2, 'created': '2022-08-02 16:21:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/92bce581544b27cb2ffb5e492f9a5aff7f8b854b', 'message': 'update constraint for openstacksdk to new release 0.100.0\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/851909\nmeta: version: 0.100.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I7326553756adc54deafb605c2e6d0e0cc703db5c\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I0be45a9617e01f41df57e67d91dc07c3f36e8d2e\n'}]",4,849986,92bce581544b27cb2ffb5e492f9a5aff7f8b854b,24,3,2,11131,,,0,"update constraint for openstacksdk to new release 0.100.0

Depends-On: https://review.opendev.org/c/openstack/nova/+/851909
meta: version: 0.100.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I7326553756adc54deafb605c2e6d0e0cc703db5c
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I0be45a9617e01f41df57e67d91dc07c3f36e8d2e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/849986/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c016c621d9990d981f486e1f52b96090db3b09f0,new-release,openstacksdk===0.100.0,openstacksdk===0.99.0,1,1
openstack%2Ftripleo-heat-templates~master~I24ebae79299144ab266828ed58a0b420b1695e67,openstack/tripleo-heat-templates,master,I24ebae79299144ab266828ed58a0b420b1695e67,Give uefi_pxe_bootfile_name an accurate name,MERGED,2022-05-24 02:34:09.000000000,2022-08-03 21:22:05.000000000,2022-08-03 21:22:05.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-24 02:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fbf34c0d5b29687e3b934bc84c19cc90785b5816', 'message': ""Give efi_pxe_bootfile_name an accurate name\n\nWith the puppet-ironic depends change, the shim efi binary will be\ncopied to /var/lib/ironic/tftpboot/bootx86.efi. This change will\nensure the file is called shimx64.efi to accurately reflect what the\nfile is.\n\nThis only affects UEFI boot with the pxe boot driver, the default boot\ndriver will always be ipxe so this won't affect any existing\nbehaviour.\n\nDepends-On: I59850eca971d57464efe85ffea723f19f9855353\nChange-Id: I24ebae79299144ab266828ed58a0b420b1695e67\n""}, {'number': 2, 'created': '2022-05-24 02:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b3eae87c2ab8826d3655c01c77774df9070d446', 'message': ""Give efi_pxe_bootfile_name an accurate name\n\nWith the puppet-ironic depends change, the shim efi binary will be\ncopied to /var/lib/ironic/tftpboot/bootx86.efi. This change will\nensure the file is called shimx64.efi to accurately reflect what the\nfile is.\n\nThis only affects UEFI boot with the pxe boot driver, the default boot\ndriver will always be ipxe so this won't affect any existing\nbehaviour.\n\nDepends-On: I59850eca971d57464efe85ffea723f19f9855353\nChange-Id: I24ebae79299144ab266828ed58a0b420b1695e67\n""}, {'number': 3, 'created': '2022-07-07 00:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8d228fef8131ebf72d39700c4fe18d54daaf42e', 'message': ""Give efi_pxe_bootfile_name an accurate name\n\nWith the puppet-ironic depends change, the shim efi binary will be\ncopied to /var/lib/ironic/tftpboot/bootx86.efi. This change will\nensure the file is called shimx64.efi to accurately reflect what the\nfile is.\n\nThis only affects UEFI boot with the pxe boot driver, the default boot\ndriver will always be ipxe so this won't affect any existing\nbehaviour.\n\nDepends-On: I59850eca971d57464efe85ffea723f19f9855353\nChange-Id: I24ebae79299144ab266828ed58a0b420b1695e67\n""}, {'number': 4, 'created': '2022-07-13 01:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2dec1da7b3148f1e94c9c89e7189bdaaad1f23d2', 'message': ""Give efi_pxe_bootfile_name an accurate name\n\nWith the puppet-ironic depends change, the shim efi binary will be\ncopied to /var/lib/ironic/tftpboot/bootx86.efi. This change will\nensure the file is called shimx64.efi to accurately reflect what the\nfile is.\n\nThis only affects UEFI boot with the pxe boot driver, the default boot\ndriver will always be ipxe so this won't affect any existing\nbehaviour.\n\nDepends-On: I59850eca971d57464efe85ffea723f19f9855353\nChange-Id: I24ebae79299144ab266828ed58a0b420b1695e67\n""}, {'number': 5, 'created': '2022-07-13 01:30:09.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7146d0f657eec89553f8d299d46c5691926ce929', 'message': ""Give uefi_pxe_bootfile_name an accurate name\n\nWith the puppet-ironic depends change, the shim efi binary will be\ncopied to /var/lib/ironic/tftpboot/bootx86.efi. This change will\nensure the file is called shimx64.efi to accurately reflect what the\nfile is.\n\nThis only affects UEFI boot with the pxe boot driver, the default boot\ndriver will always be ipxe so this won't affect any existing\nbehaviour.\n\nDepends-On: I59850eca971d57464efe85ffea723f19f9855353\nChange-Id: I24ebae79299144ab266828ed58a0b420b1695e67\n""}]",7,843096,7146d0f657eec89553f8d299d46c5691926ce929,26,4,5,4571,,,0,"Give uefi_pxe_bootfile_name an accurate name

With the puppet-ironic depends change, the shim efi binary will be
copied to /var/lib/ironic/tftpboot/bootx86.efi. This change will
ensure the file is called shimx64.efi to accurately reflect what the
file is.

This only affects UEFI boot with the pxe boot driver, the default boot
driver will always be ipxe so this won't affect any existing
behaviour.

Depends-On: I59850eca971d57464efe85ffea723f19f9855353
Change-Id: I24ebae79299144ab266828ed58a0b420b1695e67
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/843096/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-conductor-container-puppet.yaml'],1,fbf34c0d5b29687e3b934bc84c19cc90785b5816,secure_boot, ironic::drivers::pxe::efi_pxe_bootfile_name: shimx64.efi,,1,0
openstack%2Fmanila-tempest-plugin~master~I6cfc413b3588e5d75a6ac6c9ebe6835541d4c4bc,openstack/manila-tempest-plugin,master,I6cfc413b3588e5d75a6ac6c9ebe6835541d4c4bc,[CI] Drop stable/victoria job configuration,MERGED,2022-07-15 19:10:54.000000000,2022-08-03 21:20:21.000000000,2022-08-03 21:20:21.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-07-15 19:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ee7a3d939c2da62341efd88f122e50c9b8dbc34c', 'message': '[CI] Pin manila-tempest-plugin in stable/victoria\n\nTempest is pinned to a 26.1.0 on stable/victoria\nbranch [1]. manila-tempest-plugin in Zed requires a newer\ntempest release [2] than this one. So, pin\nmanila-tempest-plugin as well to a version that can still\nwork with the pinned version of tempest.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/838051\n[2] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/849995\n\nChange-Id: I6cfc413b3588e5d75a6ac6c9ebe6835541d4c4bc\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2022-07-15 19:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a40b395cc6a18f63c1a05feb941d58f2e456d24d', 'message': '[CI] Pin manila-tempest-plugin in stable/victoria\n\nTempest is pinned to a 26.1.0 on stable/victoria\nbranch [1]. manila-tempest-plugin in Zed requires a newer\ntempest release [2] than this one. So, pin\nmanila-tempest-plugin as well to a version that can still\nwork with the pinned version of tempest.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/838051\n[2] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/849995\n\nChange-Id: I6cfc413b3588e5d75a6ac6c9ebe6835541d4c4bc\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2022-07-19 18:33:20.000000000', 'files': ['zuul.d/manila-tempest-stable-jobs.yaml', 'zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9ac47cbab87b03e960f492b4a3a030eb068e9f23', 'message': ""[CI] Drop stable/victoria job configuration\n\nWe'll need to pin manila-tempest-plugin in stable/victoria\nwhen testing manila [1]; since the configuration is a special\nsnowflake for this branch alone, lets not carry it in this\nbranchless repository any more.\n\nDepends-On: I23827477d3c25eb2b10bea6d62885d50a28ec0a0\n[1] https://review.opendev.org/c/openstack/manila/+/850415\n\nChange-Id: I6cfc413b3588e5d75a6ac6c9ebe6835541d4c4bc\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",28,850064,9ac47cbab87b03e960f492b4a3a030eb068e9f23,20,3,3,16643,,,0,"[CI] Drop stable/victoria job configuration

We'll need to pin manila-tempest-plugin in stable/victoria
when testing manila [1]; since the configuration is a special
snowflake for this branch alone, lets not carry it in this
branchless repository any more.

Depends-On: I23827477d3c25eb2b10bea6d62885d50a28ec0a0
[1] https://review.opendev.org/c/openstack/manila/+/850415

Change-Id: I6cfc413b3588e5d75a6ac6c9ebe6835541d4c4bc
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/64/850064/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/manila-tempest-stable-jobs.yaml', 'zuul.d/manila-tempest-jobs.yaml']",2,ee7a3d939c2da62341efd88f122e50c9b8dbc34c,stable-jobs," name: manila-tempest-plugin-base abstract: true branches: stable/victoria description: Base job for devstack/tempest based manila jobs on stable/victoria. parent: devstack-tempest timeout: 10800 required-projects: *manila-tempest-required-projects - name: openstack/manila-tempest-plugin override-checkout: 1.8.0 irrelevant-files: *irrelevant-files vars: *manila-tempest-base-vars - job: name: manila-tempest-plugin-ipv6-base abstract: true branches: stable/victoria description: | Base job for devstack/tempest based manila jobs in a 4+6 (dual-stack) devstack environment with IPv6 control plane endpoints on stable/victoria parent: devstack-tempest-ipv6 timeout: 10800 irrelevant-files: *irrelevant-files required-projects: *manila-tempest-required-projects vars: <<: *manila-tempest-base-vars # NOTE(gouthamr): Disabled until https://launchpad.net/bugs/1940324 is # fixed. tempest_exclude_regex: ""(^manila_tempest_tests.tests.scenario.*IPv6.*)"" - job:",,35,2
openstack%2Ftripleo-common~master~If458c075537296ae479a2157edebee402cb9bc21,openstack/tripleo-common,master,If458c075537296ae479a2157edebee402cb9bc21,tripleo-mount-image - 'mkfs_boot' label for /boot,ABANDONED,2022-08-03 12:20:46.000000000,2022-08-03 21:11:37.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-08-03 12:20:46.000000000', 'files': ['scripts/tripleo-mount-image'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2105d49c984d38016487d6d3216795d7604116c0', 'message': ""tripleo-mount-image - 'mkfs_boot' label for /boot\n\nWhen detecting the /boot device also accept the 'mkfs_boot'\nlabel, in addition to the 'boot' label.\n\nCloses-Bug: #1983467\nChange-Id: If458c075537296ae479a2157edebee402cb9bc21\n""}]",7,851984,2105d49c984d38016487d6d3216795d7604116c0,10,4,1,24245,,,0,"tripleo-mount-image - 'mkfs_boot' label for /boot

When detecting the /boot device also accept the 'mkfs_boot'
label, in addition to the 'boot' label.

Closes-Bug: #1983467
Change-Id: If458c075537296ae479a2157edebee402cb9bc21
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/851984/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-mount-image'],1,2105d49c984d38016487d6d3216795d7604116c0,bug/1983467," if [[ ${label} == ""boot"" || ${label} == ""mkfs_boot"" ]]; thenfi "," if [[ ${label} == ""boot"" ]]; thenfi",2,2
openstack%2Fpuppet-tripleo~master~I0b99fac26b2b8eb56e3791511e7869ff8cc3492a,openstack/puppet-tripleo,master,I0b99fac26b2b8eb56e3791511e7869ff8cc3492a,auth_ed25519 passwords for database services,NEW,2022-03-11 13:35:13.000000000,2022-08-03 20:27:43.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-11 13:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9343dbc0afcb086f58ca926a2aeb296609b663b7', 'message': 'WIP auth_ed25519 for FIPS\n\nConfiguring databse URI in THT instead of puppet-tripleo\n\nChange-Id: I0b99fac26b2b8eb56e3791511e7869ff8cc3492a\n'}, {'number': 2, 'created': '2022-03-17 11:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d4bb80a6bcafdf6068bdeacf7cb79d939385583b', 'message': 'auth_ed25519 passwords for database services\n\nFor FIPS compliance, auth_ed25519 should only rely on OpenSSL and\ngenerate passwords made of 32 bytes of random data [1].\n\nWhen the DB users are configured to use auth_ed25519, the passwords\ncontain binary data. They are stored in hiera as a base64-encoded\nstring, so they must be decoded prior to being used to generate\nthe config files for mysql and clustercheck. It is also decoded\nautomatically by mysql_ed25519_password.py to generate the expected\nauth_ed25519 password string for mysql when creating users in the\ndatabase.\n\n[1] I00d3d2a43d08d3d317a25c7ecb54d197e36a8f93\n\nRelated-Bug: #1960271\nChange-Id: I0b99fac26b2b8eb56e3791511e7869ff8cc3492a\n'}, {'number': 3, 'created': '2022-06-24 06:54:36.000000000', 'files': ['files/mysql_ed25519_password.py', 'lib/puppet/functions/mysql_file_password.rb', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/clustercheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a479574741c34979b2f338390fb7119460f1cee1', 'message': 'auth_ed25519 passwords for database services\n\nFor FIPS compliance, auth_ed25519 should only rely on OpenSSL and\ngenerate passwords made of 32 bytes of random data [1].\n\nWhen the DB users are configured to use auth_ed25519, the passwords\ncontain binary data. They are stored in hiera as a base64-encoded\nstring, so they must be decoded prior to being used to generate\nthe config files for mysql and clustercheck. It is also decoded\nautomatically by mysql_ed25519_password.py to generate the expected\nauth_ed25519 password string for mysql when creating users in the\ndatabase.\n\n[1] I00d3d2a43d08d3d317a25c7ecb54d197e36a8f93\n\nRelated-Bug: #1960271\nChange-Id: I0b99fac26b2b8eb56e3791511e7869ff8cc3492a\n'}]",9,833362,a479574741c34979b2f338390fb7119460f1cee1,22,4,3,20778,,,0,"auth_ed25519 passwords for database services

For FIPS compliance, auth_ed25519 should only rely on OpenSSL and
generate passwords made of 32 bytes of random data [1].

When the DB users are configured to use auth_ed25519, the passwords
contain binary data. They are stored in hiera as a base64-encoded
string, so they must be decoded prior to being used to generate
the config files for mysql and clustercheck. It is also decoded
automatically by mysql_ed25519_password.py to generate the expected
auth_ed25519 password string for mysql when creating users in the
database.

[1] I00d3d2a43d08d3d317a25c7ecb54d197e36a8f93

Related-Bug: #1960271
Change-Id: I0b99fac26b2b8eb56e3791511e7869ff8cc3492a
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/833362/3 && git format-patch -1 --stdout FETCH_HEAD,"['files/mysql_ed25519_password.py', 'lib/puppet/functions/mysql_file_password.rb', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/pacemaker/clustercheck.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp']",5,9343dbc0afcb086f58ca926a2aeb296609b663b7,ed25519-fips," $root_password_in_mycnf = mysql_file_password($mysql_root_password)password=\""${root_password_in_mycnf}\""password=\""${root_password_in_mycnf}\"""", } if $mysql_auth_ed25519 { # when ed25519 is enabled, the password is expected to be # 32bytes of ""cryptographically secure random"" encoded in base64 $config_clustercheck_password=""\$(echo ${clustercheck_password} | base64 -d)"" }else { $config_clustercheck_password=""'${clustercheck_password}'"" }MYSQL_PASSWORD=${config_clustercheck_password}\n","password=\""${mysql_root_password}\""password=\""${mysql_root_password}\"""", } MYSQL_PASSWORD='${clustercheck_password}'\n",93,10
openstack%2Fironic~bugfix%2F19.0~I8f9a89d18d22d18a2e695fde894bcd27f18f8954,openstack/ironic,bugfix/19.0,I8f9a89d18d22d18a2e695fde894bcd27f18f8954,Fix redfish RAID failed tasks,MERGED,2022-07-04 09:48:55.000000000,2022-08-03 20:09:40.000000000,2022-08-03 18:01:59.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 32029}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-07-04 09:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d005021c7097844abf37c56e5dd1aa11770146fb', 'message': 'Fix redfish RAID failed tasks\n\nRedfish Tasks do not report failures via HTTP status codes. Instead\nhave to check TaskState and TaskStatus.\n\nStory: 2009767\nTask: 44244\n\nChange-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954\n(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)\n'}, {'number': 2, 'created': '2022-07-29 14:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/713476fb954eedaad4e6ebff0623806ca9535606', 'message': 'Fix redfish RAID failed tasks\n\nRedfish Tasks do not report failures via HTTP status codes. Instead\nhave to check TaskState and TaskStatus.\n\nStory: 2009767\nTask: 44244\n\nChange-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954\n(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)\n'}, {'number': 3, 'created': '2022-08-03 14:43:38.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'releasenotes/notes/fix-redfish-raid-failed-tasks-02487c4698dea176.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1685ef19211afc88808bc8b5826468b2cdb310e2', 'message': 'Fix redfish RAID failed tasks\n\nRedfish Tasks do not report failures via HTTP status codes. Instead\nhave to check TaskState and TaskStatus.\n\nStory: 2009767\nTask: 44244\n\nChange-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954\n(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)\n'}]",3,848592,1685ef19211afc88808bc8b5826468b2cdb310e2,31,7,3,23851,,,0,"Fix redfish RAID failed tasks

Redfish Tasks do not report failures via HTTP status codes. Instead
have to check TaskState and TaskStatus.

Story: 2009767
Task: 44244

Change-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954
(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/848592/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'releasenotes/notes/fix-redfish-raid-failed-tasks-02487c4698dea176.yaml']",3,d005021c7097844abf37c56e5dd1aa11770146fb,redfish-raid,--- fixes: - | Fixes the determination of a failed RAID configuration task in the ``redfish`` hardware type. Prior to this fix the tasks that have failed were reported as successful. ,,124,39
openstack%2Ftripleo-heat-templates~master~I7781505ed3080a4485baa83f8170eb6c361382b4,openstack/tripleo-heat-templates,master,I7781505ed3080a4485baa83f8170eb6c361382b4,Set force_config_drive only when OVNMetadata is disabled,MERGED,2022-07-28 06:39:51.000000000,2022-08-03 19:54:51.000000000,2022-08-03 19:54:51.000000000,"[{'_account_id': 7144}, {'_account_id': 8655}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-07-28 06:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afff9d877f9ee10cb2cee8af46c167c8b83d80dd', 'message': 'Set force_config_drive only when OVNMetadata is disabled\n\nIt was already done in [1] but accidently reverted in [2],\nthis patch fixes it. It got detected while investigation [3].\n\nSince the known metadata issue is now fixed in OVN, we can\nkeep the force config drive disabled when OVN metadata is\nenabled.\n\n[1] https://review.opendev.org/660689\n[2] https://review.opendev.org/791415\n[3] https://bugs.launchpad.net/tripleo/+bug/1968732\n\nRelated-Bug: #1830179\nRelated-Bug: #1968732\nDepends-On: https://review.opendev.org/851342\nChange-Id: I7781505ed3080a4485baa83f8170eb6c361382b4\n'}, {'number': 2, 'created': '2022-07-28 13:57:54.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c0410c74cee6e8809239f7a7877279723efec56', 'message': 'Set force_config_drive only when OVNMetadata is disabled\n\nIt was already done in [1] but accidently reverted in [2],\nthis patch fixes it. It got detected while investigation [3].\n\nSince the known metadata issue is now fixed in OVN, we can\nkeep the force config drive disabled when OVN metadata is\nenabled.\n\n[1] https://review.opendev.org/660689\n[2] https://review.opendev.org/791415\n[3] https://bugs.launchpad.net/tripleo/+bug/1968732\n\nRelated-Bug: #1830179\nRelated-Bug: #1968732\nDepends-On: https://review.opendev.org/851342\nChange-Id: I7781505ed3080a4485baa83f8170eb6c361382b4\n'}]",9,851345,6c0410c74cee6e8809239f7a7877279723efec56,24,7,2,13861,,,0,"Set force_config_drive only when OVNMetadata is disabled

It was already done in [1] but accidently reverted in [2],
this patch fixes it. It got detected while investigation [3].

Since the known metadata issue is now fixed in OVN, we can
keep the force config drive disabled when OVN metadata is
enabled.

[1] https://review.opendev.org/660689
[2] https://review.opendev.org/791415
[3] https://bugs.launchpad.net/tripleo/+bug/1968732

Related-Bug: #1830179
Related-Bug: #1968732
Depends-On: https://review.opendev.org/851342
Change-Id: I7781505ed3080a4485baa83f8170eb6c361382b4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/851345/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,afff9d877f9ee10cb2cee8af46c167c8b83d80dd,bug/1830179, - if: - not: {get_param: OVNMetadataEnabled} - nova::compute::force_config_drive: true - {}, nova::compute::force_config_drive: {get_param: OVNMetadataEnabled},4,1
openstack%2Fironic~bugfix%2F19.0~I4a614d7e73348bbe6c355a40881b013cbfe00b03,openstack/ironic,bugfix/19.0,I4a614d7e73348bbe6c355a40881b013cbfe00b03,Fix compatibility with jsonschema>=4.0.0,MERGED,2022-07-28 14:21:42.000000000,2022-08-03 19:23:15.000000000,2022-08-03 19:22:05.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-28 14:21:42.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'releasenotes/notes/jsonschema-966f55fc79b916fc.yaml', 'ironic/api/controllers/v1/network-data-schema.json', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b13e931eeaca1c940a88ed1d5b1f5613f4ea78ff', 'message': 'Fix compatibility with jsonschema>=4.0.0\n\nSpecify the schema version for network_data and node, otherwise the\nlatest one is used.\n\nAlso fix one test where the error messages was changed.\n\nChange-Id: I4a614d7e73348bbe6c355a40881b013cbfe00b03\n(cherry picked from commit 55b9579f14ea08a2dc732336d8f552cc14ab895d)\n'}]",2,851374,b13e931eeaca1c940a88ed1d5b1f5613f4ea78ff,16,2,1,10239,,,0,"Fix compatibility with jsonschema>=4.0.0

Specify the schema version for network_data and node, otherwise the
latest one is used.

Also fix one test where the error messages was changed.

Change-Id: I4a614d7e73348bbe6c355a40881b013cbfe00b03
(cherry picked from commit 55b9579f14ea08a2dc732336d8f552cc14ab895d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/851374/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'releasenotes/notes/jsonschema-966f55fc79b916fc.yaml', 'ironic/api/controllers/v1/network-data-schema.json', 'ironic/api/controllers/v1/node.py']",4,b13e931eeaca1c940a88ed1d5b1f5613f4ea78ff,jsonschema-bugfix/19.0," '$schema': 'http://json-schema.org/draft-07/schema#',",,12,2
openstack%2Fironic~bugfix%2F19.0~I685c5827a70df4abb358635d89b86894671ac493,openstack/ironic,bugfix/19.0,I685c5827a70df4abb358635d89b86894671ac493,Fix prepare ramdisk for 'wait' states,MERGED,2022-07-29 14:12:23.000000000,2022-08-03 19:15:42.000000000,2022-08-03 17:59:13.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-29 14:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a5e6c93caa322f5588bc9b505df10ff1c84e87f', 'message': ""Fix prepare ramdisk for 'wait' states\n\nNode can be in CLEANWAIT or DEPLOYWAIT during async step\nhandling when it needs another reboot. Without this change\nnode fails to boot back to IPA.\n\nThis unifies all occurrences and create utility method for\nreuse. All occurrences are aligned to have the same set of\nstates in case they are needed in future.\n\nChange-Id: I685c5827a70df4abb358635d89b86894671ac493\n(cherry picked from commit dd1cb46f2b0146524f0cb4d3579ac5c5b9a6fa45)\n""}, {'number': 2, 'created': '2022-08-03 14:43:38.000000000', 'files': ['ironic/drivers/utils.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/drivers/modules/irmc/boot.py', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2fefb077c83dba9ee583f3897d3365adbad59984', 'message': ""Fix prepare ramdisk for 'wait' states\n\nNode can be in CLEANWAIT or DEPLOYWAIT during async step\nhandling when it needs another reboot. Without this change\nnode fails to boot back to IPA.\n\nThis unifies all occurrences and create utility method for\nreuse. All occurrences are aligned to have the same set of\nstates in case they are needed in future.\n\nChange-Id: I685c5827a70df4abb358635d89b86894671ac493\n(cherry picked from commit dd1cb46f2b0146524f0cb4d3579ac5c5b9a6fa45)\n""}]",1,851524,2fefb077c83dba9ee583f3897d3365adbad59984,16,3,2,27909,,,0,"Fix prepare ramdisk for 'wait' states

Node can be in CLEANWAIT or DEPLOYWAIT during async step
handling when it needs another reboot. Without this change
node fails to boot back to IPA.

This unifies all occurrences and create utility method for
reuse. All occurrences are aligned to have the same set of
states in case they are needed in future.

Change-Id: I685c5827a70df4abb358635d89b86894671ac493
(cherry picked from commit dd1cb46f2b0146524f0cb4d3579ac5c5b9a6fa45)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/24/851524/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/utils.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/drivers/modules/irmc/boot.py', 'ironic/drivers/modules/redfish/boot.py']",4,9a5e6c93caa322f5588bc9b505df10ff1c84e87f,redfish-raid, if not driver_utils.need_prepare_ramdisk(node):," # NOTE(TheJulia): If this method is being called by something # aside from deployment, clean and rescue, such as conductor takeover, # we should treat this as a no-op and move on otherwise we would # modify the state of the node due to virtual media operations. if node.provision_state not in (states.DEPLOYING, states.CLEANING, states.RESCUING, states.INSPECTING):",25,31
openstack%2Fgovernance~master~I5bfe97d30661dbf0908c16f633decab40cb5edc2,openstack/governance,master,I5bfe97d30661dbf0908c16f633decab40cb5edc2,Add charmed k8s operators to OpenStack Charms,MERGED,2022-07-15 12:18:36.000000000,2022-08-03 18:57:46.000000000,2022-08-03 18:56:42.000000000,"[{'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-15 12:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/534c18a43fb5882af96e71a05ae5db04f9e7e614', 'message': 'Add charmed k8s operators to OpenStack Charms\n\nAdd the initial set of K8S charmed operators for various parts\nof the OpenStack Control Plane to the OpenStack Charms project.\n\nChange-Id: I5bfe97d30661dbf0908c16f633decab40cb5edc2\nDepends-On: I6876645221488892b826929810a16a53b846902c\n'}, {'number': 2, 'created': '2022-07-15 12:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/6928984362f4b9e995c9fb359f6de75db35e9cd0', 'message': 'Add charmed k8s operators to OpenStack Charms\n\nAdd the initial set of K8S charmed operators for various parts\nof the OpenStack Control Plane to the OpenStack Charms project.\n\nChange-Id: I5bfe97d30661dbf0908c16f633decab40cb5edc2\nDepends-On: I6876645221488892b826929810a16a53b846902c\n'}, {'number': 3, 'created': '2022-07-19 11:48:40.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/dfab714cf2f70b546412bb1091218c444f975f4d', 'message': 'Add charmed k8s operators to OpenStack Charms\n\nAdd the initial set of K8S charmed operators for various parts\nof the OpenStack Control Plane to the OpenStack Charms project.\n\nChange-Id: I5bfe97d30661dbf0908c16f633decab40cb5edc2\nDepends-On: I6876645221488892b826929810a16a53b846902c\n'}]",3,849997,dfab714cf2f70b546412bb1091218c444f975f4d,19,4,3,935,,,0,"Add charmed k8s operators to OpenStack Charms

Add the initial set of K8S charmed operators for various parts
of the OpenStack Control Plane to the OpenStack Charms project.

Change-Id: I5bfe97d30661dbf0908c16f633decab40cb5edc2
Depends-On: I6876645221488892b826929810a16a53b846902c
",git fetch https://review.opendev.org/openstack/governance refs/changes/97/849997/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,534c18a43fb5882af96e71a05ae5db04f9e7e614,project-update, charm-cinder-ceph-k8s: release-management: external repos: - openstack/charm-cinder-ceph-k8s charm-cinder-k8s: release-management: external repos: - openstack/charm-cinder-k8s charm-placement-k8s: release-management: external repos: - openstack/charm-placement-k8s charm-glance-k8s: release-management: external repos: - openstack/charm-glance-k8s charm-keystone-k8s: release-management: external repos: - openstack/charm-keystone-k8s charm-neutron-k8s: release-management: external repos: - openstack/charm-neutron-k8s charm-nova-k8s: release-management: external repos: - openstack/charm-nova-k8s,,28,0
openstack%2Fcharm-deployment-guide~master~I99b0287fcb758e1ec8fac7a8f6cf31d76f500107,openstack/charm-deployment-guide,master,I99b0287fcb758e1ec8fac7a8f6cf31d76f500107,Fix OVN redirect,MERGED,2022-07-25 21:09:29.000000000,2022-08-03 18:53:16.000000000,2022-08-03 18:52:19.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-25 21:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b8cc756b6ea3e700c29ccd4e08bffb1c31c71804', 'message': 'Fix OVN redirect\n\nChange-Id: I99b0287fcb758e1ec8fac7a8f6cf31d76f500107\n'}, {'number': 2, 'created': '2022-07-25 21:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f84b861c3dccae178dd8c564bc46e9f799fdaf68', 'message': 'Fix OVN redirect\n\nFix an HTML redirect that was recently put in place\nfor a migration of the Networking pages.\n\nChange-Id: I99b0287fcb758e1ec8fac7a8f6cf31d76f500107\n'}, {'number': 3, 'created': '2022-08-02 17:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ce0c8a3ceeb0710d1c20ba0c483ac5771a9c9547', 'message': 'Fix OVN redirect\n\nFix an HTML redirect that was recently put in place\nfor a migration of the Networking pages.\n\nChange-Id: I99b0287fcb758e1ec8fac7a8f6cf31d76f500107\n'}, {'number': 4, 'created': '2022-08-02 18:02:14.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/ovn-migration.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9e63c519573df200596f6617bf311e876efb00be', 'message': 'Fix OVN redirect\n\nFix an HTML redirect that was recently put in place\nfor a migration of the Networking pages.\n\nFix a broken link for the project to build.\n\nChange-Id: I99b0287fcb758e1ec8fac7a8f6cf31d76f500107\n'}]",0,850949,9e63c519573df200596f6617bf311e876efb00be,12,2,4,30561,,,0,"Fix OVN redirect

Fix an HTML redirect that was recently put in place
for a migration of the Networking pages.

Fix a broken link for the project to build.

Change-Id: I99b0287fcb758e1ec8fac7a8f6cf31d76f500107
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/49/850949/4 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_extra/.htaccess', 'deploy-guide/test/redirect-tests.txt']",2,b8cc756b6ea3e700c29ccd4e08bffb1c31c71804,fix-ovn-redirect,/project-deploy-guide/charm-deployment-guide/latest/app-ovn.html 301 /charm-guide/latest/admin/networking/ovn/index.html,/project-deploy-guide/charm-deployment-guide/latest/app-ovn.html 301 /charm-guide/latest/admin/networking/ovn.html,2,2
openstack%2Ftripleo-validations~stable%2Fwallaby~I084e8061523d59bb4855a0db1a19873a85fda57b,openstack/tripleo-validations,stable/wallaby,I084e8061523d59bb4855a0db1a19873a85fda57b,Fix package metadata for pypi upload,MERGED,2022-08-02 18:18:47.000000000,2022-08-03 18:43:09.000000000,2022-08-03 18:43:09.000000000,"[{'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-08-02 18:18:47.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d74d3fc952aea6eda73192eb235217c3ba1052f3', 'message': 'Fix package metadata for pypi upload\n\npypi upload is failing as now metadata check is more strict and\nformerly ignored wrong long_description_content_type (rst-x instead of\nx-rst) now results error during pypi upload. This patch sets the\nproper content type that pypi accepts.\n\nCloses-Bug: #1983405\nChange-Id: I084e8061523d59bb4855a0db1a19873a85fda57b\n(cherry picked from commit 896dcbdbc5cff78810c734f7eb39843364ef596d)\n'}]",0,851925,d74d3fc952aea6eda73192eb235217c3ba1052f3,7,4,1,17685,,,0,"Fix package metadata for pypi upload

pypi upload is failing as now metadata check is more strict and
formerly ignored wrong long_description_content_type (rst-x instead of
x-rst) now results error during pypi upload. This patch sets the
proper content type that pypi accepts.

Closes-Bug: #1983405
Change-Id: I084e8061523d59bb4855a0db1a19873a85fda57b
(cherry picked from commit 896dcbdbc5cff78810c734f7eb39843364ef596d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/25/851925/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d74d3fc952aea6eda73192eb235217c3ba1052f3,bug/1983405,long_description_content_type = text/x-rst,long_description_content_type = text/rst-x,1,1
openstack%2Ftripleo-heat-templates~master~I56767cb42a3cbe73242dddad2e6c00876e6ac448,openstack/tripleo-heat-templates,master,I56767cb42a3cbe73242dddad2e6c00876e6ac448,Redis: Switch to the new config file path,MERGED,2022-06-23 15:29:02.000000000,2022-08-03 18:43:03.000000000,2022-08-03 18:43:03.000000000,"[{'_account_id': 6926}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-23 15:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3bc1e5d00b4082168e288be5c90b732312988b5f', 'message': 'Redis: Switch to the new config file path\n\nThe redis.conf file is placed under /etc/redis, instead of /etc, in\nCentOS 9. This change completely adopts to that change because current\nmaster no longer supports CentOS 8.\n\nChange-Id: I56767cb42a3cbe73242dddad2e6c00876e6ac448\n'}, {'number': 2, 'created': '2022-08-02 15:42:54.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/redis-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5ea92a5fb0a2a85cdb664108cb36ffabc78d8bb', 'message': 'Redis: Switch to the new config file path\n\nThe redis.conf file is placed under /etc/redis, instead of /etc, in\nCentOS 9. This change completely adapts to that change because current\nmaster no longer supports CentOS 8.\n\nThis change also moves the redis-tls.conf to /etc/redis to gather all\nconfig files into the same directory.\n\nChange-Id: I56767cb42a3cbe73242dddad2e6c00876e6ac448\n'}]",4,847359,e5ea92a5fb0a2a85cdb664108cb36ffabc78d8bb,15,4,2,9816,,,0,"Redis: Switch to the new config file path

The redis.conf file is placed under /etc/redis, instead of /etc, in
CentOS 9. This change completely adapts to that change because current
master no longer supports CentOS 8.

This change also moves the redis-tls.conf to /etc/redis to gather all
config files into the same directory.

Change-Id: I56767cb42a3cbe73242dddad2e6c00876e6ac448
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/847359/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-container-puppet.yaml'],1,3bc1e5d00b4082168e288be5c90b732312988b5f,, # NOTE: we need the exec tag to copy /etc/redis/redis.conf.puppet to # /etc/redis/redis.conf command: /usr/bin/redis-server /etc/redis/redis.conf," # NOTE(tkajinam): In CentOS9, the file is placed under /etc/redis. # Redis resource agent can deal with both of # the old path and the new path, but the command # line below for standalone redis does not. # TODO(tkajinam): Remove this when we drop support for CentOS8. redis::config_file: '/etc/redis.conf' redis::config_file_orig: '/etc/redis.conf.puppet' # NOTE: we need the exec tag to copy /etc/redis.conf.puppet to # /etc/redis.conf command: /usr/bin/redis-server /etc/redis.conf",3,10
openstack%2Fironic~bugfix%2F18.1~I8f9a89d18d22d18a2e695fde894bcd27f18f8954,openstack/ironic,bugfix/18.1,I8f9a89d18d22d18a2e695fde894bcd27f18f8954,Fix redfish RAID failed tasks,MERGED,2022-07-04 09:45:21.000000000,2022-08-03 18:04:22.000000000,2022-08-03 18:02:09.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2022-07-04 09:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/61bf832e6c316ffbf25fffd259503d92d4d0745b', 'message': 'Fix redfish RAID failed tasks\n\nRedfish Tasks do not report failures via HTTP status codes. Instead\nhave to check TaskState and TaskStatus.\n\nStory: 2009767\nTask: 44244\n\nChange-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954\n(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)\n'}, {'number': 2, 'created': '2022-07-04 14:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/37066f75ed62ef997270cc4d9d2926d7f69eb9f8', 'message': 'Fix redfish RAID failed tasks\n\nRedfish Tasks do not report failures via HTTP status codes. Instead\nhave to check TaskState and TaskStatus.\n\nStory: 2009767\nTask: 44244\n\nChange-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954\n(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)\n'}, {'number': 3, 'created': '2022-07-29 14:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a84944e7d475873075f2d2f072fb8f64993c6e2', 'message': 'Fix redfish RAID failed tasks\n\nRedfish Tasks do not report failures via HTTP status codes. Instead\nhave to check TaskState and TaskStatus.\n\nStory: 2009767\nTask: 44244\n\nChange-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954\n(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)\n'}, {'number': 4, 'created': '2022-08-03 14:33:01.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'releasenotes/notes/fix-redfish-raid-failed-tasks-02487c4698dea176.yaml', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed0b22f882e97f1fcd0d8af899d0cbc79b68f207', 'message': 'Fix redfish RAID failed tasks\n\nRedfish Tasks do not report failures via HTTP status codes. Instead\nhave to check TaskState and TaskStatus.\n\nStory: 2009767\nTask: 44244\n\nChange-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954\n(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)\n'}]",1,848591,ed0b22f882e97f1fcd0d8af899d0cbc79b68f207,28,4,4,23851,,,0,"Fix redfish RAID failed tasks

Redfish Tasks do not report failures via HTTP status codes. Instead
have to check TaskState and TaskStatus.

Story: 2009767
Task: 44244

Change-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954
(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/848591/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'releasenotes/notes/fix-redfish-raid-failed-tasks-02487c4698dea176.yaml']",3,61bf832e6c316ffbf25fffd259503d92d4d0745b,redfish-raid,--- fixes: - | Fixes the determination of a failed RAID configuration task in the ``redfish`` hardware type. Prior to this fix the tasks that have failed were reported as successful. ,,124,39
openstack%2Fironic~master~I3594ac580c01454c70922a965a2a653a8b568cbb,openstack/ironic,master,I3594ac580c01454c70922a965a2a653a8b568cbb,Suppress Chassis Not Found on API Operation,MERGED,2022-08-02 01:25:12.000000000,2022-08-03 18:03:30.000000000,2022-08-03 18:02:16.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-08-02 01:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5302d40ace4a5584145ef5be948718b0abd149bc', 'message': 'Suppress Chassis Not Found on API Operation\n\nWhen you have a multi-db deployment, or even just many\ndifferent threads operating on the same server with different\ntransactions, you can run into a situation where one thread\ninitiates a transaction to get a list of nodes, and then\nanother triggers a delete of the chassis (and most likely node,\nbut hey, there is really no way to detect that and work.)\n\nSo as the API is processing the response and making the json\nresult set, the query to resolve a chassis_id on a node object\ncan begin to fail.\n\nBefore this patch, this would raise an exception to the client.\n\nNow, we just suppress the error, and return the field value\nas None.\n\nIn the grand scheme, the node is likely has also already\nbeen deleted as well.\n\nChange-Id: I3594ac580c01454c70922a965a2a653a8b568cbb\nCloses-Bug: 1508995\nStory: 1508995\nTask: 10038\n'}, {'number': 2, 'created': '2022-08-02 02:56:07.000000000', 'files': ['releasenotes/notes/suppress_chassis_not_found_error-99ee4b902d504ec7.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fb253a670fc66d6e1946f6435448d45c9c13f5dd', 'message': 'Suppress Chassis Not Found on API Operation\n\nWhen you have a multi-db deployment, or even just many\ndifferent threads operating on the same server with different\ntransactions, you can run into a situation where one thread\ninitiates a transaction to get a list of nodes, and then\nanother triggers a delete of the chassis (and most likely node,\nbut hey, there is really no way to detect that and work.)\n\nSo as the API is processing the response and making the json\nresult set, the query to resolve a chassis_id on a node object\ncan begin to fail.\n\nBefore this patch, this would raise an exception to the client.\n\nNow, we just suppress the error, and return the field value\nas None.\n\nIn the grand scheme, the node is likely has also already\nbeen deleted as well.\n\nChange-Id: I3594ac580c01454c70922a965a2a653a8b568cbb\nCloses-Bug: 1508995\nStory: 1508995\nTask: 10038\n'}]",0,851779,fb253a670fc66d6e1946f6435448d45c9c13f5dd,15,4,2,11655,,,0,"Suppress Chassis Not Found on API Operation

When you have a multi-db deployment, or even just many
different threads operating on the same server with different
transactions, you can run into a situation where one thread
initiates a transaction to get a list of nodes, and then
another triggers a delete of the chassis (and most likely node,
but hey, there is really no way to detect that and work.)

So as the API is processing the response and making the json
result set, the query to resolve a chassis_id on a node object
can begin to fail.

Before this patch, this would raise an exception to the client.

Now, we just suppress the error, and return the field value
as None.

In the grand scheme, the node is likely has also already
been deleted as well.

Change-Id: I3594ac580c01454c70922a965a2a653a8b568cbb
Closes-Bug: 1508995
Story: 1508995
Task: 10038
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/851779/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/suppress_chassis_not_found_error-99ee4b902d504ec7.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py']",3,5302d40ace4a5584145ef5be948718b0abd149bc,," try: chassis = objects.Chassis.get_by_id(api.request.context, node.chassis_id) return chassis.uuid except exception.ChassisNotFound: # NOTE(TheJulia): This is a case where multiple threads are racing # and the chassis was not found... or somebody edited the database # directly. Regardless, operationally, there is no chassis, and we # return as there is nothing to actually return to the API consumer. return"," chassis = objects.Chassis.get_by_id(api.request.context, node.chassis_id) return chassis.uuid",35,2
openstack%2Fironic~bugfix%2F18.1~I685c5827a70df4abb358635d89b86894671ac493,openstack/ironic,bugfix/18.1,I685c5827a70df4abb358635d89b86894671ac493,Fix prepare ramdisk for 'wait' states,MERGED,2022-07-29 14:13:54.000000000,2022-08-03 18:03:16.000000000,2022-08-03 18:02:07.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-29 14:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/17ed84666d847dae9f31a3c013e83f7a138f15d4', 'message': ""Fix prepare ramdisk for 'wait' states\n\nNode can be in CLEANWAIT or DEPLOYWAIT during async step\nhandling when it needs another reboot. Without this change\nnode fails to boot back to IPA.\n\nThis unifies all occurrences and create utility method for\nreuse. All occurrences are aligned to have the same set of\nstates in case they are needed in future.\n\nChange-Id: I685c5827a70df4abb358635d89b86894671ac493\n(cherry picked from commit dd1cb46f2b0146524f0cb4d3579ac5c5b9a6fa45)\n""}, {'number': 2, 'created': '2022-08-03 07:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9973be17ed8ee45bf39c3e92b7ceae37efd9b499', 'message': ""Fix prepare ramdisk for 'wait' states\n\nNode can be in CLEANWAIT or DEPLOYWAIT during async step\nhandling when it needs another reboot. Without this change\nnode fails to boot back to IPA.\n\nThis unifies all occurrences and create utility method for\nreuse. All occurrences are aligned to have the same set of\nstates in case they are needed in future.\n\nChange-Id: I685c5827a70df4abb358635d89b86894671ac493\n(cherry picked from commit dd1cb46f2b0146524f0cb4d3579ac5c5b9a6fa45)\n""}, {'number': 3, 'created': '2022-08-03 07:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6d62fcd6d3144354452ca2bae95e142bc6adf140', 'message': ""Fix prepare ramdisk for 'wait' states\n\nNode can be in CLEANWAIT or DEPLOYWAIT during async step\nhandling when it needs another reboot. Without this change\nnode fails to boot back to IPA.\n\nThis unifies all occurrences and create utility method for\nreuse. All occurrences are aligned to have the same set of\nstates in case they are needed in future.\n\nChange-Id: I685c5827a70df4abb358635d89b86894671ac493\n(cherry picked from commit dd1cb46f2b0146524f0cb4d3579ac5c5b9a6fa45)\n""}, {'number': 4, 'created': '2022-08-03 14:33:01.000000000', 'files': ['ironic/drivers/utils.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/drivers/modules/irmc/boot.py', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/91fb5746afd230a2861a259876ba65ad75303c14', 'message': ""Fix prepare ramdisk for 'wait' states\n\nNode can be in CLEANWAIT or DEPLOYWAIT during async step\nhandling when it needs another reboot. Without this change\nnode fails to boot back to IPA.\n\nThis unifies all occurrences and create utility method for\nreuse. All occurrences are aligned to have the same set of\nstates in case they are needed in future.\n\nChange-Id: I685c5827a70df4abb358635d89b86894671ac493\n(cherry picked from commit dd1cb46f2b0146524f0cb4d3579ac5c5b9a6fa45)\n""}]",2,851526,91fb5746afd230a2861a259876ba65ad75303c14,26,3,4,27909,,,0,"Fix prepare ramdisk for 'wait' states

Node can be in CLEANWAIT or DEPLOYWAIT during async step
handling when it needs another reboot. Without this change
node fails to boot back to IPA.

This unifies all occurrences and create utility method for
reuse. All occurrences are aligned to have the same set of
states in case they are needed in future.

Change-Id: I685c5827a70df4abb358635d89b86894671ac493
(cherry picked from commit dd1cb46f2b0146524f0cb4d3579ac5c5b9a6fa45)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/851526/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/utils.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/drivers/modules/irmc/boot.py', 'ironic/drivers/modules/redfish/boot.py']",4,17ed84666d847dae9f31a3c013e83f7a138f15d4,redfish-raid, if not driver_utils.need_prepare_ramdisk(node):," # NOTE(TheJulia): If this method is being called by something # aside from deployment, clean and rescue, such as conductor takeover, # we should treat this as a no-op and move on otherwise we would # modify the state of the node due to virtual media operations. if node.provision_state not in (states.DEPLOYING, states.CLEANING, states.RESCUING, states.INSPECTING):",25,31
openstack%2Fironic~bugfix%2F19.0~Ib1d415928a6555298d42e8d525f04eb1028a4bb8,openstack/ironic,bugfix/19.0,Ib1d415928a6555298d42e8d525f04eb1028a4bb8,CI: Add iweb to the use tinyipa on list,MERGED,2022-06-27 14:39:05.000000000,2022-08-03 18:00:42.000000000,2022-08-03 17:59:07.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-27 14:39:05.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ab54819331f22ac588283f0df6b779c1f495e2e6', 'message': 'CI: Add iweb to the use tinyipa on list\n\nChange-Id: Ib1d415928a6555298d42e8d525f04eb1028a4bb8\n(cherry picked from commit e0c758bb95f92081e54f3c8ed9fa95dcbe7d917e)\n'}]",0,847669,ab54819331f22ac588283f0df6b779c1f495e2e6,10,2,1,23851,,,0,"CI: Add iweb to the use tinyipa on list

Change-Id: Ib1d415928a6555298d42e8d525f04eb1028a4bb8
(cherry picked from commit e0c758bb95f92081e54f3c8ed9fa95dcbe7d917e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/847669/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,ab54819331f22ac588283f0df6b779c1f495e2e6,,"if [[ ""$hostdomain"" =~ ""rax"" ]] || [[ ""$hostdomain"" =~ ""iweb"" ]]; then # NOTE(TheJulia): This is also the case for iweb hosts. And arm64 in general.# NOTE(TheJulia): If we ever run any arm64, we will need to consider doing # the same. Nested virt is not a thing there.if [[ ""$hostdomain"" =~ ""rax"" ]] || [[ ""$hostdomain"" =~ ""iweb"" ]]; then echo ""** WARNING ** - DIB based IPA images have been defined, however we are running devstack on an environment which does not support nested VMs. Due to virtualization constraints, we are automatically falling back to TinyIPA to ensure CI job passage.""","if [[ ""$hostdomain"" =~ ""rax"" ]]; thenif [[ ""$hostdomain"" =~ ""rax"" ]]; then echo ""** WARNING ** - DIB based IPA images have been defined, however we are running devstack on RAX VM. Due to virtualization constraints, we are automatically falling back to TinyIPA to ensure CI job passage.""",6,3
openstack%2Fironic~bugfix%2F18.1~Ib1d415928a6555298d42e8d525f04eb1028a4bb8,openstack/ironic,bugfix/18.1,Ib1d415928a6555298d42e8d525f04eb1028a4bb8,CI: Add iweb to the use tinyipa on list,MERGED,2022-06-27 14:39:18.000000000,2022-08-03 18:00:40.000000000,2022-08-03 17:59:10.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-27 14:39:18.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/60883e32cb17f073188e7e4f49705b900418c56f', 'message': 'CI: Add iweb to the use tinyipa on list\n\nChange-Id: Ib1d415928a6555298d42e8d525f04eb1028a4bb8\n(cherry picked from commit e0c758bb95f92081e54f3c8ed9fa95dcbe7d917e)\n'}]",0,847810,60883e32cb17f073188e7e4f49705b900418c56f,11,2,1,23851,,,0,"CI: Add iweb to the use tinyipa on list

Change-Id: Ib1d415928a6555298d42e8d525f04eb1028a4bb8
(cherry picked from commit e0c758bb95f92081e54f3c8ed9fa95dcbe7d917e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/847810/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,60883e32cb17f073188e7e4f49705b900418c56f,,"if [[ ""$hostdomain"" =~ ""rax"" ]] || [[ ""$hostdomain"" =~ ""iweb"" ]]; then # NOTE(TheJulia): This is also the case for iweb hosts. And arm64 in general.# NOTE(TheJulia): If we ever run any arm64, we will need to consider doing # the same. Nested virt is not a thing there.if [[ ""$hostdomain"" =~ ""rax"" ]] || [[ ""$hostdomain"" =~ ""iweb"" ]]; then echo ""** WARNING ** - DIB based IPA images have been defined, however we are running devstack on an environment which does not support nested VMs. Due to virtualization constraints, we are automatically falling back to TinyIPA to ensure CI job passage.""","if [[ ""$hostdomain"" =~ ""rax"" ]]; thenif [[ ""$hostdomain"" =~ ""rax"" ]]; then echo ""** WARNING ** - DIB based IPA images have been defined, however we are running devstack on RAX VM. Due to virtualization constraints, we are automatically falling back to TinyIPA to ensure CI job passage.""",6,3
openstack%2Ftripleo-common~master~I11511db1097b7a9eee6373d0cb15fcc7835d4783,openstack/tripleo-common,master,I11511db1097b7a9eee6373d0cb15fcc7835d4783,Remove unused ironic-inspector-client,MERGED,2022-07-21 17:22:53.000000000,2022-08-03 17:52:11.000000000,2022-08-03 17:51:12.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-07-21 17:22:53.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3718ffba19255cd977fb95cb6b5e8141682c0e9', 'message': 'Remove unused ironic-inspector-client\n\nThe ironic-inspector-client library was used by a few mistral actions\nbut these were all removed.\n\nChange-Id: I11511db1097b7a9eee6373d0cb15fcc7835d4783\n'}]",1,850679,b3718ffba19255cd977fb95cb6b5e8141682c0e9,12,4,1,9816,,,0,"Remove unused ironic-inspector-client

The ironic-inspector-client library was used by a few mistral actions
but these were all removed.

Change-Id: I11511db1097b7a9eee6373d0cb15fcc7835d4783
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/79/850679/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b3718ffba19255cd977fb95cb6b5e8141682c0e9,,,python-ironic-inspector-client>=1.5.0 # Apache-2.0,0,1
openstack%2Ftripleo-ansible~master~Ib6ca01c4bf5c7f550051b91ded86e62e2345a41f,openstack/tripleo-ansible,master,Ib6ca01c4bf5c7f550051b91ded86e62e2345a41f,Add handling for distribution_version,MERGED,2022-08-01 05:40:57.000000000,2022-08-03 17:51:14.000000000,2022-08-03 17:51:14.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-08-01 05:40:57.000000000', 'files': ['tripleo_ansible/roles/tripleo_packages/tasks/update_bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/85a34be20f57f308c906225180a62268bce403fc', 'message': 'Add handling for distribution_version\n\nThis change [1] introduced to fix a bug was not\nincluded in the standalone role patch for\ntripleo_packages. This change adds the same\nconditionals to the standalone roles task\nfor ensuring the dnf streams are correct.\n\n[1] https://github.com/openstack/tripleo-heat-templates/commit/86d4a348a3c0a372154ead6e3db15e6444ffaa88\n\nChange-Id: Ib6ca01c4bf5c7f550051b91ded86e62e2345a41f\n'}]",0,851694,85a34be20f57f308c906225180a62268bce403fc,12,6,1,30073,,,0,"Add handling for distribution_version

This change [1] introduced to fix a bug was not
included in the standalone role patch for
tripleo_packages. This change adds the same
conditionals to the standalone roles task
for ensuring the dnf streams are correct.

[1] https://github.com/openstack/tripleo-heat-templates/commit/86d4a348a3c0a372154ead6e3db15e6444ffaa88

Change-Id: Ib6ca01c4bf5c7f550051b91ded86e62e2345a41f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/851694/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_packages/tasks/update_bootstrap.yml'],1,85a34be20f57f308c906225180a62268bce403fc,standalone-roles," - item.distribution_version is defined - ansible_facts['distribution_major_version'] is version(item.distribution_version, '==')"," - ansible_facts['distribution_major_version'] is version('8', '>=')",2,1
openstack%2Fnova~master~Ife4b8b42a414af281ac462faaa42c456ced13bb7,openstack/nova,master,Ife4b8b42a414af281ac462faaa42c456ced13bb7,Fix mocking SafeConnectedTestCase,MERGED,2022-08-02 16:19:39.000000000,2022-08-03 17:45:58.000000000,2022-08-03 17:44:37.000000000,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23266}]","[{'number': 1, 'created': '2022-08-02 16:19:39.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6069592bcf9853f12390140d1792a812fa616b12', 'message': 'Fix mocking SafeConnectedTestCase\n\nThe recent release of openstacksdk 0.100 showed that our testing is not\nfully mocking underlying behavior. Such behavior changed in 0.100 and\nbroke our unit test. This patch fixes the mocking to avoid the breakage.\n\nChange-Id: Ife4b8b42a414af281ac462faaa42c456ced13bb7\n'}]",2,851909,6069592bcf9853f12390140d1792a812fa616b12,15,5,1,9708,,,0,"Fix mocking SafeConnectedTestCase

The recent release of openstacksdk 0.100 showed that our testing is not
fully mocking underlying behavior. Such behavior changed in 0.100 and
broke our unit test. This patch fixes the mocking to avoid the breakage.

Change-Id: Ife4b8b42a414af281ac462faaa42c456ced13bb7
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/851909/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/scheduler/client/test_report.py'],1,6069592bcf9853f12390140d1792a812fa616b12,openstacksdk-0.100," # need to mock this globally as SchedulerReportClient._create_client # is called again when EndpointNotFound is raised self.useFixture( fixtures.MonkeyPatch( 'keystoneauth1.loading.load_auth_from_conf_options', mock.MagicMock())) self.client = report.SchedulerReportClient()", with mock.patch('keystoneauth1.loading.load_auth_from_conf_options'): self.client = report.SchedulerReportClient(),8,2
openstack%2Fplacement~master~I31431a6eb4f144135da0dc9c6d5e4c6b75d1af5d,openstack/placement,master,I31431a6eb4f144135da0dc9c6d5e4c6b75d1af5d,Func test for os-traits and os-resource-classes lib sync,MERGED,2022-08-03 08:36:28.000000000,2022-08-03 17:45:43.000000000,2022-08-03 17:44:33.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-03 08:36:28.000000000', 'files': ['placement/tests/functional/test_lib_sync.py', 'placement/tests/functional/gabbits/resource-classes.yaml', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/9c7f869b84df2dcc7c5d5644944e4452d6e5641e', 'message': 'Func test for os-traits and os-resource-classes lib sync\n\nPlacement synchronizes the content of the os-traits and\nos-resource-classes lib to its internal DB at service startup. We had\ngabbi tests to test that by asserting a hard coded number of traits and\nRCs. These test were always blocking the global version bump of such os-\nlibs as the placement test needed to be updated. This created a deadlock\nbetween the version bump in the requirements repo and the test update in\nthe placement repo. To avoid the need to always do three steps for a lib\nversion bump (turn of test, bump global req, update an re-enable the test)\nthe test logic is changed. Now these tests compares the content of the\nlib with the DB automatically instead of hard coding a number of\nexpected traits and RCs. To be able to this these tests are move from\ngabbi to python.\n\nChange-Id: I31431a6eb4f144135da0dc9c6d5e4c6b75d1af5d\n'}]",6,851966,9c7f869b84df2dcc7c5d5644944e4452d6e5641e,9,4,1,9708,,,0,"Func test for os-traits and os-resource-classes lib sync

Placement synchronizes the content of the os-traits and
os-resource-classes lib to its internal DB at service startup. We had
gabbi tests to test that by asserting a hard coded number of traits and
RCs. These test were always blocking the global version bump of such os-
libs as the placement test needed to be updated. This created a deadlock
between the version bump in the requirements repo and the test update in
the placement repo. To avoid the need to always do three steps for a lib
version bump (turn of test, bump global req, update an re-enable the test)
the test logic is changed. Now these tests compares the content of the
lib with the DB automatically instead of hard coding a number of
expected traits and RCs. To be able to this these tests are move from
gabbi to python.

Change-Id: I31431a6eb4f144135da0dc9c6d5e4c6b75d1af5d
",git fetch https://review.opendev.org/openstack/placement refs/changes/66/851966/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/test_lib_sync.py', 'placement/tests/functional/gabbits/resource-classes.yaml', 'placement/tests/functional/gabbits/traits.yaml']",3,9c7f869b84df2dcc7c5d5644944e4452d6e5641e,,,- name: what is at traits GET: /traits response_json_paths: $.traits.`len`: 344 # Number of standard traits ,47,10
openstack%2Fmanila~stable%2Fussuri~I8eda1c849d0d1916345959178f32756e8a1e9c0e,openstack/manila,stable/ussuri,I8eda1c849d0d1916345959178f32756e8a1e9c0e,Stop logging sensitive login information,MERGED,2022-07-13 16:16:42.000000000,2022-08-03 17:45:30.000000000,2022-08-03 17:44:12.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-07-13 16:16:42.000000000', 'files': ['releasenotes/notes/bug-1976370-stop-logging-login-information-b726d05ee805df27.yaml', 'manila/utils.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/321dfbc06c8a256a2945404ccc6fc642b4eb5e11', 'message': 'Stop logging sensitive login information\n\nusernames and passwords must never be logged\nby the service, even in debug mode.\n\nChange-Id: I8eda1c849d0d1916345959178f32756e8a1e9c0e\nCloses-Bug: #1976370\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 517966292af2eccb4f98520aba4374f463de21c9)\n(cherry picked from commit 48f4bf6a168a8ec59ea26e44e1bdcf262ae96e90)\n(cherry picked from commit b7190fe3e72a9f9fa4ec5adfb1842d0fd85529d0)\n(cherry picked from commit 732bf38f5d7caf00489901b0a5f09187c72f4e6d)\n(cherry picked from commit 9fe6e8094f65fc3eb800de37777be043b2771ad8)\n'}]",3,849648,321dfbc06c8a256a2945404ccc6fc642b4eb5e11,15,3,1,16643,,,0,"Stop logging sensitive login information

usernames and passwords must never be logged
by the service, even in debug mode.

Change-Id: I8eda1c849d0d1916345959178f32756e8a1e9c0e
Closes-Bug: #1976370
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 517966292af2eccb4f98520aba4374f463de21c9)
(cherry picked from commit 48f4bf6a168a8ec59ea26e44e1bdcf262ae96e90)
(cherry picked from commit b7190fe3e72a9f9fa4ec5adfb1842d0fd85529d0)
(cherry picked from commit 732bf38f5d7caf00489901b0a5f09187c72f4e6d)
(cherry picked from commit 9fe6e8094f65fc3eb800de37777be043b2771ad8)
",git fetch https://review.opendev.org/openstack/manila refs/changes/48/849648/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1976370-stop-logging-login-information-b726d05ee805df27.yaml', 'manila/utils.py']",2,321dfbc06c8a256a2945404ccc6fc642b4eb5e11,bug/1976370," LOG.debug(""ssh.connect: ip: %s, port: %s, look_for_keys: %s, """," LOG.debug(""ssh.connect: ip: %s, port: %s, username: %s, "" ""password: %s, key_filename: %s, look_for_keys: %s, "" self.login, self.password, self.path_to_private_key,",6,5
openstack%2Ftripleo-heat-templates~master~I40eb122a20bb821de978afd6af1e9db5d4b7b648,openstack/tripleo-heat-templates,master,I40eb122a20bb821de978afd6af1e9db5d4b7b648,Fix unit test discovery,MERGED,2022-08-02 22:13:05.000000000,2022-08-03 17:31:07.000000000,2022-08-03 17:31:07.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-02 22:13:05.000000000', 'files': ['.stestr.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9647167ea8900436151bd6517e7c48ffa396f85', 'message': 'Fix unit test discovery\n\nThe unit tests in container_config_scripts and tools are being skipped.\n\nI18a83ef1909e758e82f7e9d888d65363a4528249 switched from testr to stestr\nbut also set the test path to just tripleo-heat-templates/tests.\nRestore it back to ./ to discover all of the test in t-h-t.\n\nChange-Id: I40eb122a20bb821de978afd6af1e9db5d4b7b648\n'}]",0,851938,c9647167ea8900436151bd6517e7c48ffa396f85,8,4,1,23811,,,0,"Fix unit test discovery

The unit tests in container_config_scripts and tools are being skipped.

I18a83ef1909e758e82f7e9d888d65363a4528249 switched from testr to stestr
but also set the test path to just tripleo-heat-templates/tests.
Restore it back to ./ to discover all of the test in t-h-t.

Change-Id: I40eb122a20bb821de978afd6af1e9db5d4b7b648
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/851938/1 && git format-patch -1 --stdout FETCH_HEAD,['.stestr.conf'],1,c9647167ea8900436151bd6517e7c48ffa396f85,stestr_fix,test_path=${TEST_PATH:-./},test_path=${TEST_PATH:-./tripleo_heat_templates/tests},1,1
openstack%2Fnova~stable%2Fussuri~Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,openstack/nova,stable/ussuri,Ic0d6c59147abe5e094e8f13e0d3523b178daeba9,Store old_flavor already on source host during resize,NEW,2022-04-06 07:16:00.000000000,2022-08-03 16:43:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-06 07:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a74a33ac228a51720558a1db948f33aec29b21a6', 'message': ""Store old_flavor already on source host during resize\n\nDuring resize, on the source host, in resize_instance(), the instance.host\nand .node is updated to point to the destination host. This indicates to\nthe source host's resource tracker that the allocation of this instance\ndoes not need to be tracked as an instance but as an outbound migration\ninstead. However for the source host's resource tracker to do that it,\nneeds to use the instance.old_flavor. Unfortunately the\ninstance.old_flavor is only set during finish_resize() on the\ndestination host. (resize_instance cast to the finish_resize). So it is\npossible that a running resize_instance() set the instance.host to point\nto the destination and then before the finish_resize could set the\nold_flavor an update_available_resources periodic runs on the source\nhost. This causes that the allocation of this instance is not tracked as\nan instance as the instance.host point to the destination but it is not\ntracked as a migration either as the instance.old_flavor is not yet set.\nSo the allocation on the source host is simply dropped by the periodic\njob.\n\nWhen such migration is confirmed the confirm_resize() tries to drop\nthe same resource allocation again but fails as the pinned CPUs of the\ninstance already freed.\n\nWhen such migration is reverted instead, then revert succeeds but the\nsource host resource allocation will not contain the resource allocation\nof the instance until the next update_available_resources periodic runs\nand corrects it.\n\nThis does not affect resources tracked exclusively in placement (e.g.\nVCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that\nare still tracked in the resource tracker (e.g. huge pages, pinned\nCPUs).\n\nThis patch moves the instance.old_flavor setting to the source node to\nthe same transaction that sets the instance.host to point to the\ndestination host. Hence solving the race condition.\n\nChange-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9\nCloses-Bug: #1944759\n(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)\n(cherry picked from commit d4edcd62bae44c01885268a6cf7b7fae92617060)\n(cherry picked from commit c8b04d183f560a616a79577c4d4ae9465d03e541)\n(cherry picked from commit 34e0c0205b1053d3bbe064177740aba654997fe0)\n""}, {'number': 2, 'created': '2022-04-07 11:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/daf4d622e87b2d76764faedac5b4885bf810ea68', 'message': ""Store old_flavor already on source host during resize\n\nDuring resize, on the source host, in resize_instance(), the instance.host\nand .node is updated to point to the destination host. This indicates to\nthe source host's resource tracker that the allocation of this instance\ndoes not need to be tracked as an instance but as an outbound migration\ninstead. However for the source host's resource tracker to do that it,\nneeds to use the instance.old_flavor. Unfortunately the\ninstance.old_flavor is only set during finish_resize() on the\ndestination host. (resize_instance cast to the finish_resize). So it is\npossible that a running resize_instance() set the instance.host to point\nto the destination and then before the finish_resize could set the\nold_flavor an update_available_resources periodic runs on the source\nhost. This causes that the allocation of this instance is not tracked as\nan instance as the instance.host point to the destination but it is not\ntracked as a migration either as the instance.old_flavor is not yet set.\nSo the allocation on the source host is simply dropped by the periodic\njob.\n\nWhen such migration is confirmed the confirm_resize() tries to drop\nthe same resource allocation again but fails as the pinned CPUs of the\ninstance already freed.\n\nWhen such migration is reverted instead, then revert succeeds but the\nsource host resource allocation will not contain the resource allocation\nof the instance until the next update_available_resources periodic runs\nand corrects it.\n\nThis does not affect resources tracked exclusively in placement (e.g.\nVCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that\nare still tracked in the resource tracker (e.g. huge pages, pinned\nCPUs).\n\nThis patch moves the instance.old_flavor setting to the source node to\nthe same transaction that sets the instance.host to point to the\ndestination host. Hence solving the race condition.\n\nChange-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9\nCloses-Bug: #1944759\n(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)\n(cherry picked from commit d4edcd62bae44c01885268a6cf7b7fae92617060)\n(cherry picked from commit c8b04d183f560a616a79577c4d4ae9465d03e541)\n(cherry picked from commit 34e0c0205b1053d3bbe064177740aba654997fe0)\n""}, {'number': 3, 'created': '2022-08-03 13:25:09.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ea436dbad9303cdd3423afe3c8e08c6828274e2', 'message': ""Store old_flavor already on source host during resize\n\nDuring resize, on the source host, in resize_instance(), the instance.host\nand .node is updated to point to the destination host. This indicates to\nthe source host's resource tracker that the allocation of this instance\ndoes not need to be tracked as an instance but as an outbound migration\ninstead. However for the source host's resource tracker to do that it,\nneeds to use the instance.old_flavor. Unfortunately the\ninstance.old_flavor is only set during finish_resize() on the\ndestination host. (resize_instance cast to the finish_resize). So it is\npossible that a running resize_instance() set the instance.host to point\nto the destination and then before the finish_resize could set the\nold_flavor an update_available_resources periodic runs on the source\nhost. This causes that the allocation of this instance is not tracked as\nan instance as the instance.host point to the destination but it is not\ntracked as a migration either as the instance.old_flavor is not yet set.\nSo the allocation on the source host is simply dropped by the periodic\njob.\n\nWhen such migration is confirmed the confirm_resize() tries to drop\nthe same resource allocation again but fails as the pinned CPUs of the\ninstance already freed.\n\nWhen such migration is reverted instead, then revert succeeds but the\nsource host resource allocation will not contain the resource allocation\nof the instance until the next update_available_resources periodic runs\nand corrects it.\n\nThis does not affect resources tracked exclusively in placement (e.g.\nVCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that\nare still tracked in the resource tracker (e.g. huge pages, pinned\nCPUs).\n\nThis patch moves the instance.old_flavor setting to the source node to\nthe same transaction that sets the instance.host to point to the\ndestination host. Hence solving the race condition.\n\nChange-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9\nCloses-Bug: #1944759\n(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)\n(cherry picked from commit d4edcd62bae44c01885268a6cf7b7fae92617060)\n(cherry picked from commit c8b04d183f560a616a79577c4d4ae9465d03e541)\n(cherry picked from commit 34e0c0205b1053d3bbe064177740aba654997fe0)\n""}]",0,836734,9ea436dbad9303cdd3423afe3c8e08c6828274e2,9,1,3,9708,,,0,"Store old_flavor already on source host during resize

During resize, on the source host, in resize_instance(), the instance.host
and .node is updated to point to the destination host. This indicates to
the source host's resource tracker that the allocation of this instance
does not need to be tracked as an instance but as an outbound migration
instead. However for the source host's resource tracker to do that it,
needs to use the instance.old_flavor. Unfortunately the
instance.old_flavor is only set during finish_resize() on the
destination host. (resize_instance cast to the finish_resize). So it is
possible that a running resize_instance() set the instance.host to point
to the destination and then before the finish_resize could set the
old_flavor an update_available_resources periodic runs on the source
host. This causes that the allocation of this instance is not tracked as
an instance as the instance.host point to the destination but it is not
tracked as a migration either as the instance.old_flavor is not yet set.
So the allocation on the source host is simply dropped by the periodic
job.

When such migration is confirmed the confirm_resize() tries to drop
the same resource allocation again but fails as the pinned CPUs of the
instance already freed.

When such migration is reverted instead, then revert succeeds but the
source host resource allocation will not contain the resource allocation
of the instance until the next update_available_resources periodic runs
and corrects it.

This does not affect resources tracked exclusively in placement (e.g.
VCPU, MEMORY_MB, DISK_GB) but it does affect NUMA related resource that
are still tracked in the resource tracker (e.g. huge pages, pinned
CPUs).

This patch moves the instance.old_flavor setting to the source node to
the same transaction that sets the instance.host to point to the
destination host. Hence solving the race condition.

Change-Id: Ic0d6c59147abe5e094e8f13e0d3523b178daeba9
Closes-Bug: #1944759
(cherry picked from commit b841e553214be9a732703e2dfed6c97698ef9b71)
(cherry picked from commit d4edcd62bae44c01885268a6cf7b7fae92617060)
(cherry picked from commit c8b04d183f560a616a79577c4d4ae9465d03e541)
(cherry picked from commit 34e0c0205b1053d3bbe064177740aba654997fe0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/836734/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,a74a33ac228a51720558a1db948f33aec29b21a6,bug/1944759," # we have 2 cpus pinned on both computes. The source should have it # due to the outbound migration and the destination due to the # instance running there self._assert_pinned_cpus(src_host, 2) self.api.post_server_action(server['id'], post) self._wait_for_state_change(server, 'ACTIVE') # the resource allocation reflects that the VM is running on the dest # node # and running periodics does not break it either # After the revert the source host should have 2 cpus pinned due to # the instance. self._assert_pinned_cpus(src_host, 2) # running the periodic job will not break it either"," # This is a resource accounting bug, we should have 2 cpus pinned on # both computes. The source should have it due to the outbound # migration and the destination due to the instance running there self._assert_pinned_cpus(src_host, 0) # FIXME(gibi): This is bug 1944759 where during resize, on the source # node the resize_instance() call at the point of calling finish_resize # overlaps with a update_available_resources() periodic job. This # causes that the periodic job will not track the migration nor the # instance and therefore freeing the resource allocation. Then when # later the resize is confirmed the confirm_resize on the source # compute also wants to free up the resources, the pinned CPUs, and it # fails as they are already freed. exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post ) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc)) # confirm failed above but the resource allocation reflects that the # VM is running on the dest node # and such allocation situation is stable so as a recovery the VM # can be reset-state to ACTIVE without problem. # This is a resource accounting bug. After the revert the source host # should have 2 cpus pinned due to the instance. self._assert_pinned_cpus(src_host, 0) # running the periodic job will fix the resource accounting # this is now correct",25,27
openstack%2Foslo.db~master~Id90fbd2c53fd49341043bde740500a857a4339d3,openstack/oslo.db,master,Id90fbd2c53fd49341043bde740500a857a4339d3,Replace abc.abstractproperty with property and abc.abstractmethod,MERGED,2022-08-03 12:52:48.000000000,2022-08-03 16:18:46.000000000,2022-08-03 16:17:48.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-03 12:52:48.000000000', 'files': ['oslo_db/sqlalchemy/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/7f3647bf9743ddfb47abc5981fc97653d5ecf09c', 'message': 'Replace abc.abstractproperty with property and abc.abstractmethod\n\nReplace abc.abstractproperty with property and abc.abstractmethod,\nas abc.abstractproperty has been deprecated since python3.3[1]\n\n[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc\n\nChange-Id: Id90fbd2c53fd49341043bde740500a857a4339d3\n'}]",0,852017,7f3647bf9743ddfb47abc5981fc97653d5ecf09c,7,2,1,28743,,,0,"Replace abc.abstractproperty with property and abc.abstractmethod

Replace abc.abstractproperty with property and abc.abstractmethod,
as abc.abstractproperty has been deprecated since python3.3[1]

[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc

Change-Id: Id90fbd2c53fd49341043bde740500a857a4339d3
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/17/852017/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/test_migrations.py'],1,7f3647bf9743ddfb47abc5981fc97653d5ecf09c,, @property @abc.abstractmethod @property @abc.abstractmethod @property @abc.abstractmethod @property @abc.abstractmethod, @abc.abstractproperty @abc.abstractproperty @abc.abstractproperty @abc.abstractproperty,8,4
openstack%2Fkolla~master~Ibb048b879fa58b5e144ae228628b3ffaeae65bbb,openstack/kolla,master,Ibb048b879fa58b5e144ae228628b3ffaeae65bbb,Replace abc.abstractproperty with property and abc.abstractmethod,MERGED,2022-08-03 12:44:04.000000000,2022-08-03 16:09:07.000000000,2022-08-03 15:22:49.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-08-03 12:44:04.000000000', 'files': ['kolla/common/task.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/512e6aac47e1fc73837a16b24024081e1407220b', 'message': 'Replace abc.abstractproperty with property and abc.abstractmethod\n\nReplace abc.abstractproperty with property and abc.abstractmethod,\nas abc.abstractproperty has been deprecated since python3.3[1]\n\n[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc\n\nChange-Id: Ibb048b879fa58b5e144ae228628b3ffaeae65bbb\n'}]",1,851987,512e6aac47e1fc73837a16b24024081e1407220b,8,2,1,28743,,,0,"Replace abc.abstractproperty with property and abc.abstractmethod

Replace abc.abstractproperty with property and abc.abstractmethod,
as abc.abstractproperty has been deprecated since python3.3[1]

[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc

Change-Id: Ibb048b879fa58b5e144ae228628b3ffaeae65bbb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/851987/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/task.py'],1,512e6aac47e1fc73837a16b24024081e1407220b,, @property @abc.abstractmethod, @abc.abstractproperty,2,1
openstack%2Fproject-config~master~I6876645221488892b826929810a16a53b846902c,openstack/project-config,master,I6876645221488892b826929810a16a53b846902c,Add OpenStack K8S charms,MERGED,2022-07-15 12:18:33.000000000,2022-08-03 16:05:05.000000000,2022-08-03 15:47:55.000000000,"[{'_account_id': 935}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-15 12:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3ba51ec6c065079fbc84f4f54fd24c2ce2c44c53', 'message': 'Add OpenStack K8S charms\n\nSetup and import OpenStack K8S Charms for deployment of\nOpenStack with the control plane hosted in Kubernetes.\n\nChange-Id: I6876645221488892b826929810a16a53b846902c\nRequired-By: I5bfe97d30661dbf0908c16f633decab40cb5edc2\n'}, {'number': 2, 'created': '2022-07-15 12:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e67b24de8986d806369fd096e12be20dbd9a44a5', 'message': 'Add OpenStack K8S charms\n\nSetup and import OpenStack K8S Charms for deployment of\nOpenStack with the control plane hosted in Kubernetes.\n\nChange-Id: I6876645221488892b826929810a16a53b846902c\nRequired-By: I5bfe97d30661dbf0908c16f633decab40cb5edc2\n'}, {'number': 3, 'created': '2022-07-15 12:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b78067c66d349e9ba00268b38a5b77b91c23b31c', 'message': 'Add OpenStack K8S charms\n\nSetup and import OpenStack K8S Charms for deployment of\nOpenStack with the control plane hosted in Kubernetes.\n\nChange-Id: I6876645221488892b826929810a16a53b846902c\nRequired-By: I5bfe97d30661dbf0908c16f633decab40cb5edc2\n'}, {'number': 4, 'created': '2022-07-18 19:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d4646f87bea5a65bf94ab630c3c485b9902481ae', 'message': 'Add OpenStack K8S charms\n\nSetup and import OpenStack K8S Charms for deployment of\nOpenStack with the control plane hosted in Kubernetes.\n\nChange-Id: I6876645221488892b826929810a16a53b846902c\nRequired-By: I5bfe97d30661dbf0908c16f633decab40cb5edc2\n'}, {'number': 5, 'created': '2022-07-18 20:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5186756c597df94af877317102177535de363636', 'message': 'Add OpenStack K8S charms\n\nSetup and import OpenStack K8S Charms for deployment of\nOpenStack with the control plane hosted in Kubernetes.\n\nChange-Id: I6876645221488892b826929810a16a53b846902c\nRequired-By: I5bfe97d30661dbf0908c16f633decab40cb5edc2\n'}, {'number': 6, 'created': '2022-07-18 20:46:48.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6e3cf80dfd0d4453c89e7c345c4eede0aeaa725e', 'message': 'Add OpenStack K8S charms\n\nSetup and import OpenStack K8S Charms for deployment of\nOpenStack with the control plane hosted in Kubernetes.\n\nChange-Id: I6876645221488892b826929810a16a53b846902c\nRequired-By: I5bfe97d30661dbf0908c16f633decab40cb5edc2\n'}]",18,849996,6e3cf80dfd0d4453c89e7c345c4eede0aeaa725e,23,6,6,935,,,0,"Add OpenStack K8S charms

Setup and import OpenStack K8S Charms for deployment of
OpenStack with the control plane hosted in Kubernetes.

Change-Id: I6876645221488892b826929810a16a53b846902c
Required-By: I5bfe97d30661dbf0908c16f633decab40cb5edc2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/849996/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",3,3ba51ec6c065079fbc84f4f54fd24c2ce2c44c53,sunbeam, - openstack/charm-cinder-ceph-k8s - openstack/charm-cinder-k8s - openstack/charm-glance-k8s - openstack/charm-horizon-k8s - openstack/charm-keystone-k8s - openstack/charm-neutron-k8s - openstack/charm-nova-k8s - openstack/charm-placement-k8s - x/charm-ovn-central-k8s - x/charm-ovn-relay-k8s,,114,0
openstack%2Ftripleo-common~master~I61da4f85ccf88f0287886334c8a9f43e3be8ef7e,openstack/tripleo-common,master,I61da4f85ccf88f0287886334c8a9f43e3be8ef7e,Clustercheck healthcheck with socat and ipv6,MERGED,2022-08-01 13:43:34.000000000,2022-08-03 15:49:17.000000000,2022-08-03 15:48:16.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-08-01 13:43:34.000000000', 'files': ['healthcheck/mariadb'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b48d0d5758bacf5536ef973b60607818de92b2e0', 'message': 'Clustercheck healthcheck with socat and ipv6\n\nWhen clustercheck uses socat and IPv6, the healthcheck\nhas to wrap the service IP in brackets for the call\nto succeed.\n\nChange-Id: I61da4f85ccf88f0287886334c8a9f43e3be8ef7e\nCloses-Bug: #1983266\n'}]",3,851745,b48d0d5758bacf5536ef973b60607818de92b2e0,12,5,1,20778,,,0,"Clustercheck healthcheck with socat and ipv6

When clustercheck uses socat and IPv6, the healthcheck
has to wrap the service IP in brackets for the call
to succeed.

Change-Id: I61da4f85ccf88f0287886334c8a9f43e3be8ef7e
Closes-Bug: #1983266
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/851745/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/mariadb'],1,b48d0d5758bacf5536ef973b60607818de92b2e0,bug/1983266," if echo $TRIPLEO_SOCAT_BIND | grep -q '^tcp6'; then ADDR=""[${ADDR}]"" fi",,3,0
openstack%2Fironic~master~I872a0150ce684782f065251b4a9b2ae48cb1ddf1,openstack/ironic,master,I872a0150ce684782f065251b4a9b2ae48cb1ddf1,[WIP] Add verify_step to iRMC driver,NEW,2022-08-03 05:04:05.000000000,2022-08-03 15:28:50.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-03 05:04:05.000000000', 'files': ['ironic/drivers/modules/irmc/management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/178348960e9f1148492559280e360003482524a1', 'message': '[WIP] Add verify_step to iRMC driver\n\nThis commit adds verify_step to iRMC driver to determine whether\nHTTP(S) and SNMP connection can be established with configuration\nset by user.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/851802\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/851950\nChange-Id: I872a0150ce684782f065251b4a9b2ae48cb1ddf1\n'}]",2,851952,178348960e9f1148492559280e360003482524a1,6,2,1,30566,,,0,"[WIP] Add verify_step to iRMC driver

This commit adds verify_step to iRMC driver to determine whether
HTTP(S) and SNMP connection can be established with configuration
set by user.

Depends-On: https://review.opendev.org/c/openstack/ironic/+/851802
Depends-On: https://review.opendev.org/c/openstack/ironic/+/851950
Change-Id: I872a0150ce684782f065251b4a9b2ae48cb1ddf1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/851952/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/irmc/management.py'],1,178348960e9f1148492559280e360003482524a1,add_ironic_driver_verify_step,"from ironic.drivers.modules.irmc import inspect as irmc_inspect @base.verify_step(priority=15) def verify_http_https_connection(self, task): """"""Verify iRMC driver configuration related to HTTP(S) This method is called at Verifying state :param task: A task from TaskManager. :raises: IRMCOperationError if it fails to connect iRMC via HTTP(S) """""" try: irmc_common.get_irmc_report(task.node) except irmc.scci.SCCIError as e: raise exception.IRMCOperationError(operation='verify configuration' ' related to HTTP(S)', error=e) @base.verify_step(priority=10) def verify_snmp_connection(self, task): """"""Verify iRMC driver configuration related to SNMP This method is called at Verifying state :param task: A task from TaskManager. :raises: IRMCOperationError if it fails to connect iRMC via SNMP """""" try: irmc_inspect._get_mac_addresses(task.node) except exception.SNMPFailure as e: raise exception.IRMCOperationError(operation='verify configuration' ' related to SNMP', error=e)",,33,0
openstack%2Fopenstack-tempest-skiplist~master~I7a1ce9798646a50ba7544aa55599f9bce361d5a4,openstack/openstack-tempest-skiplist,master,I7a1ce9798646a50ba7544aa55599f9bce361d5a4,Revert skiplist for #1968732,MERGED,2022-07-28 06:02:07.000000000,2022-08-03 15:12:59.000000000,2022-08-03 15:11:54.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-07-28 06:02:07.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/cf97b7e758d5e1975cd3b2804d20d3a6ccee06af', 'message': 'Revert skiplist for #1968732\n\nReverts following patches which were done for the\nRelated Bug:-\n- https://review.opendev.org/837569\n- https://review.opendev.org/838292\n- https://review.opendev.org/839608\n\nThe OVN issue is fixed in ovn-2021 >= 21.12.0-68\nand ovn22.06 >= 22.06.0-4 and the fixed versions\navailable in CentOS 9 NFV SIG repos[1][2].\n\nRevert already done for rhos-17 job[3].\n\n[1] https://review.rdoproject.org/r/c/nfvinfo/+/43667\n[2] https://review.rdoproject.org/r/c/nfvinfo/+/44068\n[3] https://review.opendev.org/848844\n\nRelated-Bug: #1968732\nRelated-Bug: rbbz#2076604\nRelated-Bug: rhbz#2088454\nChange-Id: I7a1ce9798646a50ba7544aa55599f9bce361d5a4\n'}]",6,851342,cf97b7e758d5e1975cd3b2804d20d3a6ccee06af,11,5,1,13861,,,0,"Revert skiplist for #1968732

Reverts following patches which were done for the
Related Bug:-
- https://review.opendev.org/837569
- https://review.opendev.org/838292
- https://review.opendev.org/839608

The OVN issue is fixed in ovn-2021 >= 21.12.0-68
and ovn22.06 >= 22.06.0-4 and the fixed versions
available in CentOS 9 NFV SIG repos[1][2].

Revert already done for rhos-17 job[3].

[1] https://review.rdoproject.org/r/c/nfvinfo/+/43667
[2] https://review.rdoproject.org/r/c/nfvinfo/+/44068
[3] https://review.opendev.org/848844

Related-Bug: #1968732
Related-Bug: rbbz#2076604
Related-Bug: rhbz#2088454
Change-Id: I7a1ce9798646a50ba7544aa55599f9bce361d5a4
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/42/851342/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,cf97b7e758d5e1975cd3b2804d20d3a6ccee06af,bug/1968732,, - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_update_router_admin_state' deployment: - 'overcloud' releases: - name: wallaby reason: Unable to connect to port 22 lp: https://bugs.launchpad.net/tripleo/+bug/1968732 jobs: - tripleo-ci-centos-9-containers-multinode-wallaby - tripleo-ci-centos-9-containers-multinode - periodic-tripleo-ci-centos-9-containers-multinode-wallaby - periodic-tripleo-ci-centos-9-containers-multinode-network-wallaby - periodic-tripleo-ci-centos-9-standalone-tripleo-wallaby - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_update_instance_port_admin_state' deployment: - 'overcloud' releases: - name: wallaby reason: Unable to connect to port 22 lp: https://bugs.launchpad.net/tripleo/+bug/1968732 jobs: - tripleo-ci-centos-9-containers-multinode-wallaby - tripleo-ci-centos-9-containers-multinode - periodic-tripleo-ci-centos-9-containers-multinode-wallaby - periodic-tripleo-ci-centos-9-containers-multinode-network-wallaby - periodic-tripleo-ci-centos-9-standalone-tripleo-wallaby - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_mtu_sized_frames' deployment: - 'overcloud' releases: - name: wallaby reason: Unable to connect to port 22 lp: https://bugs.launchpad.net/tripleo/+bug/1968732 jobs: - tripleo-ci-centos-9-containers-multinode-wallaby - tripleo-ci-centos-9-containers-multinode - periodic-tripleo-ci-centos-9-containers-multinode-wallaby - periodic-tripleo-ci-centos-9-containers-multinode-network-wallaby - periodic-tripleo-ci-centos-9-standalone-tripleo-wallaby,0,39
openstack%2Frequirements~master~Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5,openstack/requirements,master,Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5,Updated from generate-constraints,MERGED,2022-07-26 11:29:00.000000000,2022-08-03 15:10:35.000000000,2022-08-03 15:09:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 11:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0b69204da08bba13b3ac51c82141b27eafa8ec51', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\n'}, {'number': 2, 'created': '2022-07-28 02:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6627089c1ed844584e7eec51f5e3f50317515411', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\n'}, {'number': 3, 'created': '2022-07-28 11:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3a90580d6cd0f3cd45efa36012547eb2e67bcac2', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\n'}, {'number': 4, 'created': '2022-07-28 11:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e8718122618a5c4701200935eff61767e1e2a143', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\n'}, {'number': 5, 'created': '2022-07-29 02:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/52eb8170a83836b91a7f03d014376fb5e3f2f49f', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\n'}, {'number': 6, 'created': '2022-07-30 02:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5ec5c906484b9c845fee320c594a5e22d6135e93', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\n'}, {'number': 7, 'created': '2022-07-31 02:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/100cfdf0f2d412681d427cbf054593bd27eddd0c', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\n'}, {'number': 8, 'created': '2022-08-01 02:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/45592d097f233f2a70cf9b3de3d85eae099d90c6', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\n'}, {'number': 9, 'created': '2022-08-01 17:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/53211ec43e6c33700837915674cb34175d85cf30', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 10, 'created': '2022-08-02 05:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a4528093232fbcf10ae2a7776eb20245a739b93a', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 11, 'created': '2022-08-03 07:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a6004c2b0277f78de03711f385a018ccfa4bef12', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 12, 'created': '2022-08-03 07:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2b3d42d28651e26f600f36bbf38bdc7978bea3a4', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 13, 'created': '2022-08-03 11:07:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/12b637f29da30a040027416d9599d1dd12461094', 'message': 'Updated from generate-constraints\n\nChange-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,851019,12b637f29da30a040027416d9599d1dd12461094,42,2,13,11131,,,0,"Updated from generate-constraints

Change-Id: Icdde4bc7d7cd8e923b6ce55fcabac0913a16e5e5
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/851019/7 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0b69204da08bba13b3ac51c82141b27eafa8ec51,openstack/requirements/constraints/noclob,urllib3===1.26.11cryptography===37.0.4pkg_resources===0.0.0boto3===1.24.37Sphinx===5.1.0botocore===1.27.37openstacksdk===0.100.0virtualenv===20.16.0,urllib3===1.26.10cryptography===36.0.2boto3===1.24.36Sphinx===4.5.0botocore===1.27.36openstacksdk===0.99.0virtualenv===20.15.1,8,7
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I9610ce51213ca2ad191d60914398131f11016453,openstack/python-tripleoclient,stable/wallaby,I9610ce51213ca2ad191d60914398131f11016453,Update cell export for ephemeral heat,MERGED,2022-07-27 16:37:00.000000000,2022-08-03 14:49:42.000000000,2022-08-03 14:47:30.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 16:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ff410afe1bccf0fc2e5090e69fa022c718473d1b', 'message': 'Update cell export for ephemeral heat\n\nopenstack overcloud cell export was never updated to account for\nephemeral Heat changes. This patch removes the dependency on using heat\nclient, and updates it to use the working directory instead.\n\nChange-Id: I9610ce51213ca2ad191d60914398131f11016453\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit c11228c569747a0789ef38a1e873d2749ed0321c)\n'}, {'number': 2, 'created': '2022-07-29 11:39:44.000000000', 'files': ['tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/df3f701f4dd4aec9ee56d9e6ff8ab4c1470b8883', 'message': 'Update cell export for ephemeral heat\n\nopenstack overcloud cell export was never updated to account for\nephemeral Heat changes. This patch removes the dependency on using heat\nclient, and updates it to use the working directory instead.\n\nChange-Id: I9610ce51213ca2ad191d60914398131f11016453\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit c11228c569747a0789ef38a1e873d2749ed0321c)\n'}]",3,851241,df3f701f4dd4aec9ee56d9e6ff8ab4c1470b8883,13,3,2,7144,,,0,"Update cell export for ephemeral heat

openstack overcloud cell export was never updated to account for
ephemeral Heat changes. This patch removes the dependency on using heat
client, and updates it to use the working directory instead.

Change-Id: I9610ce51213ca2ad191d60914398131f11016453
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit c11228c569747a0789ef38a1e873d2749ed0321c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/41/851241/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_cell.py'],1,ff410afe1bccf0fc2e5090e69fa022c718473d1b,,"from tripleoclient import utils as oooutils parser.add_argument('--working-dir', action='store', help=_('The working directory for the ' 'deployment where all input, output, and ' 'generated files are stored. Defaults to ' '""$HOME/overcloud-deploy/<stack>""')) 'export data. Defaults to $HOME/' 'overcloud-deploy/<stack>/config-download')) data = export.export_passwords( oooutils.get_default_working_dir(control_plane_stack), control_plane_stack) if not parsed_args.working_dir: working_dir = oooutils.get_default_working_dir(stack_to_export) else: working_dir = parsed_args.working_dir if not parsed_args.config_download_dir: download_dir = os.path.join(working_dir, 'config-download') oooutils.get_default_working_dir(stack_to_export), stack_to_export, should_filter,","from tripleoclient import constants 'export data. Defaults to ' '$HOME/config-download')) # prepare clients to access the environment clients = self.app.client_manager heat = clients.orchestration data = export.export_passwords(heat, control_plane_stack) if not parsed_args.config_download_dir: download_dir = constants.DEFAULT_WORK_DIR heat, stack_to_export, should_filter,",19,10
openstack%2Ftripleo-heat-templates~master~Id9f481f3fe75169bd4c3d721e23e847a1b6c8c43,openstack/tripleo-heat-templates,master,Id9f481f3fe75169bd4c3d721e23e847a1b6c8c43,Use conditions with Host prep block tasks,MERGED,2022-08-03 03:04:00.000000000,2022-08-03 14:47:37.000000000,2022-08-03 14:47:37.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-08-03 03:04:00.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e728e8cc8e2442b092c3f4f5d6e0296a779cd3dd', 'message': ""Use conditions with Host prep block tasks\n\nAnsible free/tripleo_free strategies do not work well\nfor blocks with conditions, containing include_tasks.\nConditions ( i.e when: ) at times get mixed up resulting\nin wrong condition being evaluated. As blocks are only\nlogical entities (conditions evaluated per task), we\nshouldn't have any problem moving the conditions to tasks\nin Host prep block to avoid the issue.\n\nThis fixes intermittent chrony failures in host_prep_tasks.\n\nNote: This is a workaround as we've to backport it all\nthe way till train and has to be fixed in core ansible[1]\nin the future.\n\n[1] https://github.com/ansible/ansible/issues/60512\n\nResolves: rhbz#2084075\nResolves: rhbz#2111237\nChange-Id: Id9f481f3fe75169bd4c3d721e23e847a1b6c8c43\n""}]",9,851944,e728e8cc8e2442b092c3f4f5d6e0296a779cd3dd,20,4,1,8833,,,0,"Use conditions with Host prep block tasks

Ansible free/tripleo_free strategies do not work well
for blocks with conditions, containing include_tasks.
Conditions ( i.e when: ) at times get mixed up resulting
in wrong condition being evaluated. As blocks are only
logical entities (conditions evaluated per task), we
shouldn't have any problem moving the conditions to tasks
in Host prep block to avoid the issue.

This fixes intermittent chrony failures in host_prep_tasks.

Note: This is a workaround as we've to backport it all
the way till train and has to be fixed in core ansible[1]
in the future.

[1] https://github.com/ansible/ansible/issues/60512

Resolves: rhbz#2084075
Resolves: rhbz#2111237
Change-Id: Id9f481f3fe75169bd4c3d721e23e847a1b6c8c43
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/851944/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,e728e8cc8e2442b092c3f4f5d6e0296a779cd3dd,, when: - tripleo_role_name == '{{role.name}}' - name: {{role.name}} Host prep tasks include_tasks: {{role.name}}/host_prep_tasks.yaml when: - tripleo_role_name == '{{role.name}}', when: - tripleo_role_name == '{{role.name}}' - include_tasks: {{role.name}}/host_prep_tasks.yaml,6,3
openstack%2Ftripleo-quickstart-extras~master~I1754111c943afc004ef3a3226f662d415f910999,openstack/tripleo-quickstart-extras,master,I1754111c943afc004ef3a3226f662d415f910999,Disable direct override using ironic_config,MERGED,2022-07-19 09:01:51.000000000,2022-08-03 14:47:34.000000000,2022-08-03 14:47:34.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-19 09:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f995c46eb39f08035eaf531ddcb8a8020988426a', 'message': 'Disable direct override using ironic_config\n\n... because it does not allow us to implement these parameters in\npuppet-ironic. We should NOT use this interface in CI but should use\nonly native puppet parameters.\n\nChange-Id: I1754111c943afc004ef3a3226f662d415f910999\n'}, {'number': 2, 'created': '2022-07-26 08:08:01.000000000', 'files': ['roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a0c94281afe9ee555ca6ae6f30cd1d9ab051dbca', 'message': 'Disable direct override using ironic_config\n\n... because it does not allow us to implement these parameters in\npuppet-ironic. We should NOT use this interface in CI but should use\nonly native puppet parameters.\n\nThis replaces usage of arbitrary interface by the native puppet\nparameters. These parameters are not yet implemented because\nthe existing override is causing duplicate definition, but will be\nadded once this change is merged.\n\nChange-Id: I1754111c943afc004ef3a3226f662d415f910999\n'}]",14,850298,a0c94281afe9ee555ca6ae6f30cd1d9ab051dbca,28,5,2,9816,,,0,"Disable direct override using ironic_config

... because it does not allow us to implement these parameters in
puppet-ironic. We should NOT use this interface in CI but should use
only native puppet parameters.

This replaces usage of arbitrary interface by the native puppet
parameters. These parameters are not yet implemented because
the existing override is causing duplicate definition, but will be
added once this change is merged.

Change-Id: I1754111c943afc004ef3a3226f662d415f910999
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/98/850298/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2'],1,f995c46eb39f08035eaf531ddcb8a8020988426a,, # NOTE(tkajinam): We should re-implement this by native puppet parameters. #ironic::config::ironic_config: # disk_utils/image_convert_memory_limit: # value: # 2048 # conductor/heartbeat_interval: # value: # 20 # conductor/heartbeat_timeout: # value: # 120, ironic::config::ironic_config: disk_utils/image_convert_memory_limit: value: 2048 conductor/heartbeat_interval: value: 20 conductor/heartbeat_timeout: value: 120,11,10
openstack%2Fansible-role-collect-logs~master~Ibb9b5e3a153c64d44ae78b304c372287d0f4cca1,openstack/ansible-role-collect-logs,master,Ibb9b5e3a153c64d44ae78b304c372287d0f4cca1,Also collect overcloud-deploy and multi-stack inventories,MERGED,2022-07-27 13:43:17.000000000,2022-08-03 14:47:32.000000000,2022-08-03 14:47:32.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31033}]","[{'number': 1, 'created': '2022-07-27 13:43:17.000000000', 'files': ['roles/collect_logs/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/dcbce1487591b4c89bdbc247e1220ab02eddae75', 'message': 'Also collect overcloud-deploy and multi-stack inventories\n\nFor newer deployments, config download stores artifacts under\n~/overcloud-deploy. Those also include mult-cell artifacts.\n\nCollect these directories, and generated static ansible inventories for\nit.\n\nChange-Id: Ibb9b5e3a153c64d44ae78b304c372287d0f4cca1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,851227,dcbce1487591b4c89bdbc247e1220ab02eddae75,9,7,1,6926,,,0,"Also collect overcloud-deploy and multi-stack inventories

For newer deployments, config download stores artifacts under
~/overcloud-deploy. Those also include mult-cell artifacts.

Collect these directories, and generated static ansible inventories for
it.

Change-Id: Ibb9b5e3a153c64d44ae78b304c372287d0f4cca1
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/27/851227/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/defaults/main.yml'],1,dcbce1487591b4c89bdbc247e1220ab02eddae75,, - /home/*/overcloud-deploy - /home/*/inventories,,2,0
openstack%2Fpbr~master~Ib9549509bfcc749740953e3769030d787b2bf251,openstack/pbr,master,Ib9549509bfcc749740953e3769030d787b2bf251,Replace deprecated readfp method with read_file,MERGED,2022-07-22 09:26:01.000000000,2022-08-03 14:38:25.000000000,2022-08-03 14:37:16.000000000,"[{'_account_id': 5263}, {'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}, {'_account_id': 33543}]","[{'number': 1, 'created': '2022-07-22 09:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/35d4f3aa8da0ec6941cda8dd1f7c7e8f6e524e9f', 'message': 'Replace deprecated readfp method with read_file\n\nThe readfp method has been deprecated since version 3.2 [1].\n\n[1] https://docs.python.org/3/library/configparser.html?highlight=deprecated#configparser.ConfigParser.readfp\n\nChange-Id: Ib9549509bfcc749740953e3769030d787b2bf251\n'}, {'number': 2, 'created': '2022-07-22 09:41:56.000000000', 'files': ['pbr/tests/test_util.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/2290f58eb93c1c0775bf6a49eb91bfa9792ca79b', 'message': 'Replace deprecated readfp method with read_file\n\nThe readfp method has been deprecated since version 3.2 [1].\n\n[1] https://docs.python.org/3/library/configparser.html?highlight=deprecated#configparser.ConfigParser.readfp\n\nChange-Id: Ib9549509bfcc749740953e3769030d787b2bf251\n'}]",4,850744,2290f58eb93c1c0775bf6a49eb91bfa9792ca79b,14,8,2,28743,,,0,"Replace deprecated readfp method with read_file

The readfp method has been deprecated since version 3.2 [1].

[1] https://docs.python.org/3/library/configparser.html?highlight=deprecated#configparser.ConfigParser.readfp

Change-Id: Ib9549509bfcc749740953e3769030d787b2bf251
",git fetch https://review.opendev.org/openstack/pbr refs/changes/44/850744/2 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/test_util.py'],1,35d4f3aa8da0ec6941cda8dd1f7c7e8f6e524e9f,, parser.read_file(io.StringIO(ini)), parser.readfp(io.StringIO(ini)),1,1
openstack%2Fneutron~stable%2Ftrain~If7990bdec435af76ad2e88fd4ea2bc24a255fd5a,openstack/neutron,stable/train,If7990bdec435af76ad2e88fd4ea2bc24a255fd5a,Port update will trigger less notifications to the DHCP agents,MERGED,2022-07-29 14:05:28.000000000,2022-08-03 14:10:57.000000000,2022-08-03 14:09:04.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 14:05:28.000000000', 'files': ['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e70ced30e6bb73ab274606008a9d100ce9d5b14', 'message': ""Port update will trigger less notifications to the DHCP agents\n\nAfter port update, DHCP agent will be notified about changes only if\none of the port's attributes related somehow to the DHCP will change.\nSuch fields are:\n* fixed_ips,\n* MAC address,\n* dns_domain,\n* dns_name,\n* dns_assignment,\n* extra_dhcp_opts.\n\nIn other cases there is no reason to send notifications to the agent.\nThis will results with less notifications to the DHCP agent and less\npossibilities to race condition between DHCP and L2 agents while\nswitching ports from the DOWN to ACTIVE status and sending notifications\nto nova.\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n\nCloses-Bug: #1982367\nChange-Id: If7990bdec435af76ad2e88fd4ea2bc24a255fd5a\n(cherry picked from commit 06ddcaf4368ce054a8d396e70880f7dd1abe0562)\n(cherry picked from commit 14ff8dca34f185eca1ffb50da7e81d7e6eccc3d8)\n""}]",1,851530,1e70ced30e6bb73ab274606008a9d100ce9d5b14,12,3,1,11975,,,0,"Port update will trigger less notifications to the DHCP agents

After port update, DHCP agent will be notified about changes only if
one of the port's attributes related somehow to the DHCP will change.
Such fields are:
* fixed_ips,
* MAC address,
* dns_domain,
* dns_name,
* dns_assignment,
* extra_dhcp_opts.

In other cases there is no reason to send notifications to the agent.
This will results with less notifications to the DHCP agent and less
possibilities to race condition between DHCP and L2 agents while
switching ports from the DOWN to ACTIVE status and sending notifications
to nova.

Conflicts:
    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1982367
Change-Id: If7990bdec435af76ad2e88fd4ea2bc24a255fd5a
(cherry picked from commit 06ddcaf4368ce054a8d396e70880f7dd1abe0562)
(cherry picked from commit 14ff8dca34f185eca1ffb50da7e81d7e6eccc3d8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/851530/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",2,1e70ced30e6bb73ab274606008a9d100ce9d5b14,bug/1982367-stable/wallaby-stable/victoria-stable/ussuri-stable/train," def test__notification_is_needed(self): 'revision_number': 1, 'fixed_ips': [{'ip_address': '10.0.0.10', 'subnet_id': 'aaa'}], 'mac_address': 'aa:bb:cc:dd:ee:ff'} self.assertFalse(self.notifier._notification_is_needed(p1, p2)) self.assertFalse(self.notifier._notification_is_needed(p1, p2)) p2.pop('name') p2['mac_address'] = '11:22:33:44:55:66' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2['mac_address'] = p1['mac_address'] p2['fixed_ips'] = [{'ip_address': '10.0.0.11', 'subnet_id': 'aaa'}] self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2['fixed_ips'] = p1['fixed_ips'] p2['extra_dhcp_opts'] = 'some-test-opt' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('extra_dhcp_opts') p2['dns_name'] = 'test-dns-name' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_name') p2['dns_assignment'] = 'test-dns-assignment' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_assignment') p2['dns_domain'] = 'test-dns-domain' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_domain')"," def test__only_status_changed(self): 'revision_number': 1} self.assertTrue(self.notifier._only_status_changed(p1, p2)) self.assertFalse(self.notifier._only_status_changed(p1, p2)) p1['name'] = 'test' self.assertTrue(self.notifier._only_status_changed(p1, p2)) p1['name'] = 'test1' self.assertFalse(self.notifier._only_status_changed(p1, p2))",44,23
openstack%2Fpython-manilaclient~master~I856531a2d50aab6ea11ebbc13b493b5d8b30d83a,openstack/python-manilaclient,master,I856531a2d50aab6ea11ebbc13b493b5d8b30d83a,Fix missing space before end quote,MERGED,2022-08-03 07:37:39.000000000,2022-08-03 14:10:36.000000000,2022-08-03 14:09:14.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-08-03 07:37:39.000000000', 'files': ['manilaclient/osc/v2/share.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/992a94247ab481da9c2f9d7762a011d45670ab07', 'message': 'Fix missing space before end quote\n\nFix missing space before end quote for log error\nof reset task state.\n\nPartial-change: #844497\nChange-Id: I856531a2d50aab6ea11ebbc13b493b5d8b30d83a\n'}]",2,851961,992a94247ab481da9c2f9d7762a011d45670ab07,8,3,1,21785,,,0,"Fix missing space before end quote

Fix missing space before end quote for log error
of reset task state.

Partial-change: #844497
Change-Id: I856531a2d50aab6ea11ebbc13b493b5d8b30d83a
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/61/851961/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/osc/v2/share.py'],1,992a94247ab481da9c2f9d7762a011d45670ab07,fix-missing-space," LOG.error(_(""Failed to update share task state """," LOG.error(_(""Failed to update share task state""",1,1
openstack%2Fansible-collections-openstack~master~Icae77a43479fb4f0bae065d1c5d7942cb0f5fd6b,openstack/ansible-collections-openstack,master,Icae77a43479fb4f0bae065d1c5d7942cb0f5fd6b,Refactored router module,MERGED,2022-07-14 08:27:37.000000000,2022-08-03 14:01:55.000000000,2022-08-03 14:01:55.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-07-14 08:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/25ee316ed2ae096cb35f28a3759391fdaac721f5', 'message': 'Refactored router module\n\nExpanded and fixed module results docs, e.g. changed module result\ntype from complex to dict because we no longer return Munch objects.\n\nMoved ext_ips_spec into the module class because global scope is not\nnecessary. Renamed it to external_fixed_ips_spec to explain its\npurpose.\n\nSorted argument_spec and attribute docs by attribute name and fixed\nindentations.\n\nDropped self.fail() calls and let openstacksdk handle missing networks,\nsubnets.. instead because less code means less code to maintain.\n\nDo not check whether self.conn.network.update_router() returned a None\nvalue because this is not possible with our input values. Actually, I\ncould not find any code path in openstacksdk 0.99.0 where this function\ncould possibly return a None value.\n\nDropped check for router is None before returning it because router\ncannot be None except if openstacksdk has a bug.\n\nReplaced self.conn.delete_router with self.conn.network.delete_router\nbecause we already have a router object.\n\nReplaced self.conn.remove_router_interface with\nself.conn.network.remove_interface_from_router because the latter simply\ncalls the former anyway.\n\nLimited line length to 80 chars to be consistent with other OpenStack\nprojects. Personally, I prefer a 120 chars limit but consistency is more\nimportant.\n\nChange-Id: Icae77a43479fb4f0bae065d1c5d7942cb0f5fd6b\n'}, {'number': 2, 'created': '2022-07-15 09:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1198b9aaa543a6fce2be19c1b45bcd3b5100b565', 'message': ""Refactored router module\n\nExpanded and fixed module results docs, e.g. changed module result\ntype from complex to dict because we no longer return Munch objects.\n\nMoved ext_ips_spec into the module class because global scope is not\nnecessary. Renamed it to external_fixed_ips_spec to explain its\npurpose.\n\nSorted argument_spec and attribute docs by attribute name and fixed\nindentations. Marked router attributes which cannot be updated.\n\nMark network attribute as required by enable_snat and interfaces\nattributes.\n\nChanged examples from deprecated ip to current ip_address attribute.\n\nDropped self.fail() calls and let openstacksdk handle missing networks,\nsubnets.. instead because less code means less code to maintain.\n\nDo not check whether self.conn.network.update_router() returned a None\nvalue because this is not possible with our input values. Actually, I\ncould not find any code path in openstacksdk 0.99.0 where this function\ncould possibly return a None value.\n\nDropped check for router is None before returning it because router\ncannot be None except if openstacksdk has a bug.\n\nReplaced self.conn.delete_router with self.conn.network.delete_router\nbecause we already have a router object.\n\nReplaced self.conn.remove_router_interface with\nself.conn.network.remove_interface_from_router because the latter simply\ncalls the former anyway.\n\nLimited line length to 80 chars to be consistent with other OpenStack\nprojects. Personally, I prefer a 120 chars limit but consistency is more\nimportant.\n\nAdded explanation in code comment why we cannot update a router's name.\n\nChange-Id: Icae77a43479fb4f0bae065d1c5d7942cb0f5fd6b\n""}, {'number': 3, 'created': '2022-07-29 07:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0efd6fdaaf320a192a13461812bf490eb8046f45', 'message': ""Refactored router module\n\nExpanded and fixed module results docs.\n\nMoved ext_ips_spec into the module class because global scope is not\nnecessary. Renamed it to external_fixed_ips_spec to explain its\npurpose.\n\nSorted argument_spec and attribute docs by attribute name and fixed\nindentations. Marked router attributes which cannot be updated.\n\nMark network attribute as required by enable_snat and interfaces\nattributes.\n\nChanged examples from deprecated ip to current ip_address attribute.\n\nDropped self.fail() calls and let openstacksdk handle missing networks,\nsubnets.. instead because less code means less code to maintain.\n\nLimited line length to 80 chars to be consistent with other OpenStack\nprojects. Personally, I prefer a 120 chars limit but consistency is more\nimportant.\n\nAdded explanation in code comment why we cannot update a router's name.\n\nMoved upfront cleanup operations in router's integration tests to the\nbeginning of the role.\n\nAssigned meaningful names to result variables\nin router's ci role to easily identify which modules produced the\ndata.\n\nAdded tests for router ids, admin state and interfaces.\n\nChange-Id: Icae77a43479fb4f0bae065d1c5d7942cb0f5fd6b\n""}, {'number': 4, 'created': '2022-07-29 10:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/22b2fe021b54282edfefaafc62a40c1494104121', 'message': ""Refactored router module\n\nExpanded and fixed module results docs.\n\nMoved ext_ips_spec into the module class because global scope is not\nnecessary. Renamed it to external_fixed_ips_spec to explain its\npurpose.\n\nSorted argument_spec and attribute docs by attribute name and fixed\nindentations. Marked router attributes which cannot be updated.\n\nMark network attribute as required by enable_snat and interfaces\nattributes.\n\nChanged examples from deprecated ip to current ip_address attribute.\n\nDropped self.fail() calls and let openstacksdk handle missing networks,\nsubnets.. instead because less code means less code to maintain.\n\nLimited line length to 80 chars to be consistent with other OpenStack\nprojects. Personally, I prefer a 120 chars limit but consistency is more\nimportant.\n\nAdded explanation in code comment why we cannot update a router's name.\n\nMoved upfront cleanup operations in router's integration tests to the\nbeginning of the role.\n\nAssigned meaningful names to result variables\nin router's ci role to easily identify which modules produced the\ndata.\n\nAdded tests for router ids, admin state and interfaces.\n\nChange-Id: Icae77a43479fb4f0bae065d1c5d7942cb0f5fd6b\n""}, {'number': 5, 'created': '2022-07-29 13:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d99d45a446250136bd3458eeac7d7508cf85bf57', 'message': ""Refactored router module\n\nExpanded and fixed module results docs.\n\nMoved ext_ips_spec into the module class because global scope is not\nnecessary. Renamed it to external_fixed_ips_spec to explain its\npurpose.\n\nSorted argument_spec and attribute docs by attribute name and fixed\nindentations. Marked router attributes which cannot be updated.\n\nMark network attribute as required by enable_snat and\nexternal_fixed_ips attributes. Fixed docstring of network attribute:\nModule attribute interfaces does not require the network attribute,\nits external_fixed_ips what requires network to be set.\n\nChanged examples from deprecated ip to current ip_address attribute.\n\nDropped self.fail() calls and let openstacksdk handle missing networks,\nsubnets.. instead because less code means less code to maintain.\n\nLimited line length to 80 chars to be consistent with other OpenStack\nprojects. Personally, I prefer a 120 chars limit but consistency is more\nimportant.\n\nAdded explanation in code comment why we cannot update a router's name.\n\nMoved upfront cleanup operations in router's integration tests to the\nbeginning of the role.\n\nAssigned meaningful names to result variables\nin router's ci role to easily identify which modules produced the\ndata.\n\nAdded tests for router ids, admin state and interfaces.\n\nChange-Id: Icae77a43479fb4f0bae065d1c5d7942cb0f5fd6b\n""}, {'number': 6, 'created': '2022-08-02 08:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/eba0de14f63b61b002976bea48459caac5539ffa', 'message': ""Refactored router module\n\nExpanded and fixed module results docs.\n\nMoved ext_ips_spec into the module class because global scope is not\nnecessary. Renamed it to external_fixed_ips_spec to explain its\npurpose.\n\nSorted argument_spec and attribute docs by attribute name and fixed\nindentations. Marked router attributes which cannot be updated.\n\nMark network attribute as required by enable_snat and\nexternal_fixed_ips attributes. Fixed docstring of network attribute:\nModule attribute interfaces does not require the network attribute,\nits external_fixed_ips what requires network to be set.\n\nChanged examples from deprecated ip to current ip_address attribute.\n\nDropped self.fail() calls and let openstacksdk handle missing networks,\nsubnets.. instead because less code means less code to maintain.\n\nLimited line length to 80 chars to be consistent with other OpenStack\nprojects. Personally, I prefer a 120 chars limit but consistency is more\nimportant.\n\nAdded explanation in code comment why we cannot update a router's name.\n\nMoved upfront cleanup operations in router's integration tests to the\nbeginning of the role.\n\nAssigned meaningful names to result variables\nin router's ci role to easily identify which modules produced the\ndata.\n\nAdded tests for router ids, admin state and interfaces.\n\nChange-Id: Icae77a43479fb4f0bae065d1c5d7942cb0f5fd6b\n""}, {'number': 7, 'created': '2022-08-03 06:16:42.000000000', 'files': ['ci/roles/router/tasks/main.yml', 'plugins/modules/router.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fdc67892e339cb0021df0458ccc8b593c46bd39c', 'message': ""Refactored router module\n\nExpanded and fixed module results docs.\n\nMoved ext_ips_spec into the module class because global scope is not\nnecessary. Renamed it to external_fixed_ips_spec to explain its\npurpose.\n\nSorted argument_spec and attribute docs by attribute name and fixed\nindentations. Marked router attributes which cannot be updated.\n\nMark network attribute as required by enable_snat and\nexternal_fixed_ips attributes. Fixed docstring of network attribute:\nModule attribute interfaces does not require the network attribute,\nits external_fixed_ips what requires network to be set.\n\nChanged examples from deprecated ip to current ip_address attribute.\n\nDropped self.fail() calls and let openstacksdk handle missing networks,\nsubnets.. instead because less code means less code to maintain.\n\nLimited line length to 80 chars to be consistent with other OpenStack\nprojects. Personally, I prefer a 120 chars limit but consistency is more\nimportant.\n\nAdded explanation in code comment why we cannot update a router's name.\n\nMoved upfront cleanup operations in router's integration tests to the\nbeginning of the role.\n\nAssigned meaningful names to result variables\nin router's ci role to easily identify which modules produced the\ndata.\n\nAdded tests for router ids, admin state and interfaces.\n\nChange-Id: Icae77a43479fb4f0bae065d1c5d7942cb0f5fd6b\n""}]",4,849793,fdc67892e339cb0021df0458ccc8b593c46bd39c,23,4,7,32962,,,0,"Refactored router module

Expanded and fixed module results docs.

Moved ext_ips_spec into the module class because global scope is not
necessary. Renamed it to external_fixed_ips_spec to explain its
purpose.

Sorted argument_spec and attribute docs by attribute name and fixed
indentations. Marked router attributes which cannot be updated.

Mark network attribute as required by enable_snat and
external_fixed_ips attributes. Fixed docstring of network attribute:
Module attribute interfaces does not require the network attribute,
its external_fixed_ips what requires network to be set.

Changed examples from deprecated ip to current ip_address attribute.

Dropped self.fail() calls and let openstacksdk handle missing networks,
subnets.. instead because less code means less code to maintain.

Limited line length to 80 chars to be consistent with other OpenStack
projects. Personally, I prefer a 120 chars limit but consistency is more
important.

Added explanation in code comment why we cannot update a router's name.

Moved upfront cleanup operations in router's integration tests to the
beginning of the role.

Assigned meaningful names to result variables
in router's ci role to easily identify which modules produced the
data.

Added tests for router ids, admin state and interfaces.

Change-Id: Icae77a43479fb4f0bae065d1c5d7942cb0f5fd6b
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/93/849793/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/router.py'],1,25ee316ed2ae096cb35f28a3759391fdaac721f5,router-refactoring," enable_snat: description: type: bool external_fixed_ips: description: type: list elements: dict suboptions: aliases: ['ip'] aliases: ['subnet'] external_gateway_info: description: - Information about the router's external gateway type: dict suboptions: network: description: - Unique name or ID of the external gateway network. - required I(interfaces) or I(enable_snat) are provided. type: str enable_snat: description: - Unique name or ID of the external gateway network. - required I(interfaces) or I(enable_snat) are provided. type: bool external_fixed_ips: description: - The IP address parameters for the external gateway network. Each is a dictionary with the subnet name or ID (subnet) and the IP address to assign on the subnet (ip). If no IP is specified, one is automatically assigned from that subnet. type: list elements: dict suboptions: ip_address: description: The fixed IP address to attempt to allocate. type: str aliases: ['ip'] subnet_id: description: The subnet to attach the IP address to. required: true type: str aliases: ['subnet'] interfaces: description: type: list elements: raw is_admin_state_up: description: - Desired admin state of the created or existing router. type: bool default: 'yes' aliases: ['admin_state_up'] name: description: - Name to be give to the router required: true type: str network: description: - Unique name or ID of the external gateway network. - required I(interfaces) or I(enable_snat) are provided. type: str project: description: - Unique name or ID of the project. type: str state: description: - Indicate desired state of the resource choices: ['present', 'absent'] default: present type: str# Create a router, not attached to a gateway or subnets for a given project.# Creates a router attached to ext_network1 on an IPv4 subnet and with one# Create a router with two internal subnet interfaces and a user defined port# Create a router with two internal subnet interface. One with user defined # port ip and and another with default gateway.# Create a router with two internal subnet interface. one with user defined # port ip and and another with default gateway. type: dict contains: availability_zones: description: Availability zones returned: success type: list availability_zone_hints: description: Availability zone hints returned: success type: list created_at: description: Date and time when the router was created returned: success description: description: Description notes of the router returned: success external_gateway_info: description: The external gateway information of the router. returned: success sample: | { ""enable_snat"": true, ""external_fixed_ips"": [ { } ] } flavor_id: description: ID of the flavor of the router returned: success type: str id: description: Unique UUID. returned: success type: str sample: ""474acfe5-be34-494c-b339-50f06aa143e4"" is_admin_state_up: description: Network administrative state returned: success type: bool is_distributed: description: Indicates a distributed router. returned: success type: bool is_ha: description: Indicates a highly-available router. returned: success type: bool name: description: Name given to the router. returned: success type: str sample: ""router1"" project_id: description: Project id associated with this router. returned: success type: str revision_number: description: Revision number returned: success type: int returned: success status: description: Router status. returned: success type: str sample: ""ACTIVE"" tags: description: List of tags returned: success type: list tenant_id: description: Owner tenant ID returned: success type: str updated_at: description: Date of last update on the router returned: success type: strclass RouterModule(OpenStackModule): external_fixed_ips_spec = dict( type='list', default=None, elements='dict', options=dict( ip_address=dict(type=""str"", default=None, aliases=[""ip""]), subnet_id=dict(type=""str"", required=True, aliases=[""subnet""]), )) external_fixed_ips=external_fixed_ips_spec, external_fixed_ips=external_fixed_ips_spec, interfaces=dict(type='list', default=None, elements='raw'), is_admin_state_up=dict(type='bool', default=True, aliases=['admin_state_up']), name=dict(required=True), network=dict(default=None), project=dict(default=None), state=dict(default='present', choices=['absent', 'present']), def _needs_update(self, router, kwargs, external_fixed_ips, to_add, to_remove, missing_port_ids): self.reason = ""mismatching ip for subnet {0}, {1}"".format( subnet, cur_fip_map) self.reason = (""removing ext ip with subnet (ip clash) {0}"" .format(subnet)) self.reason = (""removing ext ip with subnet {0} {1} {2}"" .format(subnet, ip, dict(req_fip_map))) # no external fixed ips requested but # router has several external fixed ips self.reason = (""need to change interfaces {0} {1} {2}"" .format(to_add, to_remove, missing_port_ids)) external_gateway_info['enable_snat'] = ( self.params['enable_snat']) iface['subnet'], ignore_missing=False, **filters) subnet = self.conn.network.find_subnet( iface, **filters, ignore_missing=False) subnet = self.conn.network.find_subnet( iface['subnet'], ignore_missing=False, **filters) net = self.conn.network.find_network(iface['net'], ignore_missing=False) and fixed_ip['subnet_id'] == subnet.id): internal_ifaces.append(dict( port_id=port.id, subnet_id=subnet.id)) if portip not in internal_ips: # no port with portip exists # hence create a new port self.conn.network.remove_interface_from_router( router, port_id=port.id) network_name_or_id = ( self.params['external_gateway_info']['network']) self.fail(msg='network is required when ' 'supplying external_fixed_ips') project = self.conn.identity.find_project(project_name_or_id, ignore_missing=False) network = self.conn.network.find_network(network_name_or_id, ignore_missing=False, **query_filters) router_ifs_internal = ( self.conn.list_router_interfaces(router, 'internal')) existing_subnet_ids = ( self._get_subnet_ids_from_ports(router_ifs_internal)) obsolete_subnet_ids = (set(existing_subnet_ids) - set(requested_subnet_ids)) if self._needs_update(router, kwargs, external_fixed_ips, to_add, to_remove, missing_internal_ports): router = self.conn.network.update_router(router, **kwargs) self.exit_json(changed=changed, router=router.to_dict(computed=False), reason=self.reason) self.conn.network.remove_interface_from_router( router, port_id=port.id) self.conn.network.delete_router(router) self.exit_json(changed=True)"," state: description: - Indicate desired state of the resource choices: ['present', 'absent'] default: present type: str name: description: - Name to be give to the router required: true type: str enable_snat: description: type: bool is_admin_state_up: description: - Desired admin state of the created or existing router. type: bool default: 'yes' aliases: [admin_state_up] network: description: - Unique name or ID of the external gateway network. - required I(interfaces) or I(enable_snat) are provided. type: str project: description: - Unique name or ID of the project. type: str external_gateway_info: description: - Information about the router's external gateway type: dict suboptions: network: description: - Unique name or ID of the external gateway network. - required I(interfaces) or I(enable_snat) are provided. type: str enable_snat: description: - Unique name or ID of the external gateway network. - required I(interfaces) or I(enable_snat) are provided. type: bool external_fixed_ips: description: - The IP address parameters for the external gateway network. Each is a dictionary with the subnet name or ID (subnet) and the IP address to assign on the subnet (ip). If no IP is specified, one is automatically assigned from that subnet. type: list elements: dict suboptions: ip_address: description: The fixed IP address to attempt to allocate. type: str aliases: [ip] subnet_id: description: The subnet to attach the IP address to. required: true type: str aliases: [subnet] external_fixed_ips: description: type: list elements: dict suboptions: aliases: [ip] aliases: [subnet] interfaces: description: type: list elements: raw# Create a simple router, not attached to a gateway or subnets for a given project.# Creates a router attached to ext_network1 on an IPv4 subnet and one# Create another router with two internal subnet interfaces.One with user defined port# Create another router with two internal subnet interface.One with user defined port # ip and and another with default gateway.# Create another router with two internal subnet interface. one with user defined port # ip and and another with default gateway. type: complex contains: id: description: Router ID. sample: ""474acfe5-be34-494c-b339-50f06aa143e4"" name: description: Router name. sample: ""router1"" admin_state_up: description: Administrative state of the router. type: bool sample: true status: description: The router status. type: str sample: ""ACTIVE"" tenant_id: description: The tenant ID. type: str sample: ""861174b82b43463c9edc5202aadc60ef"" external_gateway_info: description: The external gateway parameters. sample: { ""enable_snat"": true, ""external_fixed_ips"": [ { } ] }ext_ips_spec = dict(type='list', default=None, elements='dict', options=dict( ip_address=dict(type=""str"", default=None, aliases=[""ip""]), subnet_id=dict(type=""str"", required=True, aliases=[""subnet""]), )) class RouterModule(OpenStackModule): state=dict(default='present', choices=['absent', 'present']), name=dict(required=True), is_admin_state_up=dict(type='bool', default=True, aliases=['admin_state_up']), network=dict(default=None), interfaces=dict(type='list', default=None, elements='raw'), external_fixed_ips=ext_ips_spec, external_fixed_ips=ext_ips_spec, project=dict(default=None) def _needs_update(self, router, kwargs, external_fixed_ips, to_add, to_remove, missing_port_ids): self.reason = ""missmatching ip for subnet {0}, {1}"".format(subnet, cur_fip_map) self.reason = ""removing ext ip with subnet (ip clash) {0}"".format(subnet) self.reason = ""removing ext ip with subnet {0} {1} {2}"".format(subnet, ip, dict(req_fip_map)) # no external fixed ips requested but router has several external fixed ips self.reason = ""need to change interfaces {0} {1} {2}"".format(to_add, to_remove, missing_port_ids) external_gateway_info['enable_snat'] = self.params['enable_snat'] iface['subnet'], **filters) if not subnet: self.fail(msg='subnet %s not found' % iface['subnet']) subnet = self.conn.network.find_subnet(iface, **filters) if not subnet: self.fail(msg='subnet %s not found' % iface) subnet = self.conn.network.find_subnet(iface['subnet'], **filters) if not subnet: self.fail(msg='subnet %s not found' % iface['subnet']) net = self.conn.network.find_network(iface['net']) if not net: self.fail(msg='net %s not found' % iface['net']) and fixed_ip['subnet_id'] == subnet.id): internal_ifaces.append( dict(port_id=port.id, subnet_id=subnet.id)) if portip not in internal_ips: # no port with portip exists hence create a new port self.conn.network.remove_interface_from_router(router, port_id=port.id) network_name_or_id = self.params['external_gateway_info']['network'] self.fail(msg='network is required when supplying external_fixed_ips') project = self.conn.identity.find_project(project_name_or_id) if project is None: self.fail(msg='Project %s could not be found' % project_name_or_id) network = self.conn.network.find_network(network_name_or_id, **query_filters) if not network: self.fail(msg='network %s not found' % network_name_or_id) router_ifs_internal = self.conn.list_router_interfaces(router, 'internal') existing_subnet_ids = self._get_subnet_ids_from_ports(router_ifs_internal) obsolete_subnet_ids = set(existing_subnet_ids) - set(requested_subnet_ids) if self._needs_update(router, kwargs, external_fixed_ips, to_add, to_remove, missing_internal_ports): updated_router = self.conn.network.update_router(router, **kwargs) # Protect against update_router() not actually updating the router. if not updated_router: changed = False else: router = updated_router changed = True if router: router = router.to_dict(computed=False) self.exit_json(changed=changed, router=router, reason=self.reason) self.conn.remove_router_interface(router, port_id=port['id']) self.conn.delete_router(router['id']) self.exit_json(changed=True, router=router)",231,174
openstack%2Fci-log-processing~master~Ia5a5f5ae0c3e59f756b7873bdb4ff2d9bc7a4aa0,openstack/ci-log-processing,master,Ia5a5f5ae0c3e59f756b7873bdb4ff2d9bc7a4aa0,Push container images as latest tag after merge,MERGED,2022-06-28 06:27:35.000000000,2022-08-03 13:50:39.000000000,2022-08-03 13:47:45.000000000,"[{'_account_id': 5263}, {'_account_id': 6889}, {'_account_id': 9311}, {'_account_id': 11810}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-28 06:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/31497231e62a1738b36521f66afcbd67a0e24d7a', 'message': 'Change tag name to latest\n\nThe container images tag have unproper name, e.g: change_847527_latest.\nNormally, the name of that image is just ""latest"".\n\nChange-Id: Ia5a5f5ae0c3e59f756b7873bdb4ff2d9bc7a4aa0\n'}, {'number': 2, 'created': '2022-06-28 12:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/377ae1e0855a0b96674c290e454e75808f82d0fb', 'message': 'Change tag name to latest\n\nThe container images tag have unproper name, e.g: change_847527_latest.\nNormally, the name of that image is just ""latest"".\n\nChange-Id: Ia5a5f5ae0c3e59f756b7873bdb4ff2d9bc7a4aa0\n'}, {'number': 3, 'created': '2022-07-06 12:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/cb5a90abba2e0df4aa5ec49c2d9de6cd49a09e6b', 'message': 'Push container images as latest tag after merge\n\nWith this commit, on merging a change in openstack/ci-log-processing\nproject, Zuul job will build container image and push it to the\nregistry with ""latest"" tag.\n\nChange-Id: Ia5a5f5ae0c3e59f756b7873bdb4ff2d9bc7a4aa0\n'}, {'number': 4, 'created': '2022-07-06 12:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/329c75a96ef00485cddf12a3380ce81cf6ef1130', 'message': 'Push container images as latest tag after merge\n\nWith this commit, on merging a change in openstack/ci-log-processing\nproject, Zuul job will build container image and push it to the\nregistry with ""latest"" tag.\n\nChange-Id: Ia5a5f5ae0c3e59f756b7873bdb4ff2d9bc7a4aa0\n'}, {'number': 5, 'created': '2022-07-15 07:04:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/0b90a6207c7852e4ccac791a6a8b8660d0725f10', 'message': 'Push container images as latest tag after merge\n\nWith this commit, on merging a change in openstack/ci-log-processing\nproject, Zuul job will build container image and push it to the\nregistry with ""latest"" tag.\n\nChange-Id: Ia5a5f5ae0c3e59f756b7873bdb4ff2d9bc7a4aa0\n'}]",2,847880,0b90a6207c7852e4ccac791a6a8b8660d0725f10,26,5,5,20676,,,0,"Push container images as latest tag after merge

With this commit, on merging a change in openstack/ci-log-processing
project, Zuul job will build container image and push it to the
registry with ""latest"" tag.

Change-Id: Ia5a5f5ae0c3e59f756b7873bdb4ff2d9bc7a4aa0
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/80/847880/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,31497231e62a1738b36521f66afcbd67a0e24d7a,," tags: - ""latest"" tags: - ""latest""",,4,0
openstack%2Fnova~stable%2Fussuri~Icb7e3379248fe00f9a94f9860181b5de44902379,openstack/nova,stable/ussuri,Icb7e3379248fe00f9a94f9860181b5de44902379,Reproduce bug 1944759,NEW,2022-04-06 07:16:00.000000000,2022-08-03 13:47:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-06 07:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/204264590b006da003b488b32d426d481f0ee32a', 'message': 'Reproduce bug 1944759\n\nAdd functional tests to reproduce the race between resize_instance()\nand update_available_resources().\n\nRelated-Bug: #1944759\n\nChange-Id: Icb7e3379248fe00f9a94f9860181b5de44902379\n(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)\n(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)\n(cherry picked from commit 140ae45d98dabd30aef5c0ac075346de4eabcea1)\n(cherry picked from commit 0b1fa9b4ae01114299c5225d66e1f6eba25be43e)\n'}, {'number': 2, 'created': '2022-04-07 11:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da328a814453ed2eea7108a23c498c4cf3ebe438', 'message': 'Reproduce bug 1944759\n\nAdd functional tests to reproduce the race between resize_instance()\nand update_available_resources().\n\nConflict:\n  tests/functional/libvirt/test_numa_servers.py due to\n  I79a16a0a62c6060cd3062174ce68fd8cbde9f3fc missing from stable/ussuri\n\nRelated-Bug: #1944759\n\nChange-Id: Icb7e3379248fe00f9a94f9860181b5de44902379\n(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)\n(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)\n(cherry picked from commit 140ae45d98dabd30aef5c0ac075346de4eabcea1)\n(cherry picked from commit 0b1fa9b4ae01114299c5225d66e1f6eba25be43e)\n'}, {'number': 3, 'created': '2022-08-03 13:25:09.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eb1a61551cadf90186e53d710b688c7b31d4dfe5', 'message': 'Reproduce bug 1944759\n\nAdd functional tests to reproduce the race between resize_instance()\nand update_available_resources().\n\nConflict:\n  tests/functional/libvirt/test_numa_servers.py due to\n  I79a16a0a62c6060cd3062174ce68fd8cbde9f3fc missing from stable/ussuri\n\nRelated-Bug: #1944759\n\nChange-Id: Icb7e3379248fe00f9a94f9860181b5de44902379\n(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)\n(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)\n(cherry picked from commit 140ae45d98dabd30aef5c0ac075346de4eabcea1)\n(cherry picked from commit 0b1fa9b4ae01114299c5225d66e1f6eba25be43e)\n'}]",1,836733,eb1a61551cadf90186e53d710b688c7b31d4dfe5,7,1,3,9708,,,0,"Reproduce bug 1944759

Add functional tests to reproduce the race between resize_instance()
and update_available_resources().

Conflict:
  tests/functional/libvirt/test_numa_servers.py due to
  I79a16a0a62c6060cd3062174ce68fd8cbde9f3fc missing from stable/ussuri

Related-Bug: #1944759

Change-Id: Icb7e3379248fe00f9a94f9860181b5de44902379
(cherry picked from commit 3e4e4489b7a6e9cdefcc6ff02ed99a0a70420fca)
(cherry picked from commit e6c6880465824f1e327a54143f32bb5a5816ff6c)
(cherry picked from commit 140ae45d98dabd30aef5c0ac075346de4eabcea1)
(cherry picked from commit 0b1fa9b4ae01114299c5225d66e1f6eba25be43e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/836733/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,204264590b006da003b488b32d426d481f0ee32a,bug/1944759," def _assert_pinned_cpus(self, hostname, expected_number_of_pinned): numa_topology = objects.NUMATopology.obj_from_db_obj( objects.ComputeNode.get_by_nodename( self.ctxt, hostname, ).numa_topology, ) self.assertEqual( expected_number_of_pinned, len(numa_topology.cells[0].pinned_cpus)) def _create_server_and_resize_bug_1944759(self): self.flags( cpu_dedicated_set='0-3', cpu_shared_set='4-7', group='compute') self.flags(vcpu_pin_set=None) # start services self.start_compute(hostname='test_compute0') self.start_compute(hostname='test_compute1') flavor_a_id = self._create_flavor( vcpu=2, extra_spec={'hw:cpu_policy': 'dedicated'}) server = self._create_server(flavor_id=flavor_a_id) src_host = server['OS-EXT-SRV-ATTR:host'] self._assert_pinned_cpus(src_host, 2) # we don't really care what the new flavor is, so long as the old # flavor is using pinning. We use a similar flavor for simplicity. flavor_b_id = self._create_flavor( vcpu=2, extra_spec={'hw:cpu_policy': 'dedicated'}) orig_rpc_finish_resize = nova.compute.rpcapi.ComputeAPI.finish_resize # Simulate that the finish_resize call overlaps with an # update_available_resource periodic job def inject_periodic_to_finish_resize(*args, **kwargs): self._run_periodics() return orig_rpc_finish_resize(*args, **kwargs) self.stub_out( 'nova.compute.rpcapi.ComputeAPI.finish_resize', inject_periodic_to_finish_resize, ) # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}', ): post = {'resize': {'flavorRef': flavor_b_id}} self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'VERIFY_RESIZE') dst_host = server['OS-EXT-SRV-ATTR:host'] # This is a resource accounting bug, we should have 2 cpus pinned on # both computes. The source should have it due to the outbound # migration and the destination due to the instance running there self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) return server, src_host, dst_host def test_resize_confirm_bug_1944759(self): server, src_host, dst_host = ( self._create_server_and_resize_bug_1944759()) # Now confirm the resize post = {'confirmResize': None} # FIXME(gibi): This is bug 1944759 where during resize, on the source # node the resize_instance() call at the point of calling finish_resize # overlaps with a update_available_resources() periodic job. This # causes that the periodic job will not track the migration nor the # instance and therefore freeing the resource allocation. Then when # later the resize is confirmed the confirm_resize on the source # compute also wants to free up the resources, the pinned CPUs, and it # fails as they are already freed. exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post ) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc)) # confirm failed above but the resource allocation reflects that the # VM is running on the dest node self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) self._run_periodics() # and such allocation situation is stable so as a recovery the VM # can be reset-state to ACTIVE without problem. self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 2) def test_resize_revert_bug_1944759(self): server, src_host, dst_host = ( self._create_server_and_resize_bug_1944759()) # Now revert the resize post = {'revertResize': None} # reverts actually succeeds (not like confirm) but the resource # allocation is still flaky self.api.post_server_action(server['id'], post) self._wait_for_state_change(server, 'ACTIVE') # This is a resource accounting bug. After the revert the source host # should have 2 cpus pinned due to the instance. self._assert_pinned_cpus(src_host, 0) self._assert_pinned_cpus(dst_host, 0) # running the periodic job will fix the resource accounting self._run_periodics() # this is now correct self._assert_pinned_cpus(src_host, 2) self._assert_pinned_cpus(dst_host, 0) ",,121,0
openstack%2Ffreezer~master~I7a276c1c5e6719a4b0574e8e1448168650fcd57e,openstack/freezer,master,I7a276c1c5e6719a4b0574e8e1448168650fcd57e,Replace abc.abstractproperty with property and abc.abstractmethod,NEW,2022-08-03 12:40:24.000000000,2022-08-03 13:25:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-03 12:40:24.000000000', 'files': ['freezer/mode/mode.py', 'freezer/engine/engine.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/afaa3277a0cf53138cbab2fea1e2e6cc4a68d5f0', 'message': 'Replace abc.abstractproperty with property and abc.abstractmethod\n\nReplace abc.abstractproperty with property and abc.abstractmethod,\nas abc.abstractproperty has been deprecated since python3.3[1]\n\n[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc\n\nChange-Id: I7a276c1c5e6719a4b0574e8e1448168650fcd57e\n'}]",0,851985,afaa3277a0cf53138cbab2fea1e2e6cc4a68d5f0,3,1,1,28743,,,0,"Replace abc.abstractproperty with property and abc.abstractmethod

Replace abc.abstractproperty with property and abc.abstractmethod,
as abc.abstractproperty has been deprecated since python3.3[1]

[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc

Change-Id: I7a276c1c5e6719a4b0574e8e1448168650fcd57e
",git fetch https://review.opendev.org/openstack/freezer refs/changes/85/851985/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer/mode/mode.py', 'freezer/engine/engine.py']",2,afaa3277a0cf53138cbab2fea1e2e6cc4a68d5f0,, @property @abc.abstractmethod, @abc.abstractproperty,6,3
openstack%2Fmanila~master~I7812e4f1636869da6691152625192e44e9b566fc,openstack/manila,master,I7812e4f1636869da6691152625192e44e9b566fc,DNM: test master branch with NetApp,ABANDONED,2021-10-07 21:12:58.000000000,2022-08-03 13:22:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-07 21:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/989fc1795e14aea7712b96afb5fdc807ada2b987', 'message': 'DNM: test master branch with NetApp\n\nChange-Id: I7812e4f1636869da6691152625192e44e9b566fc\n'}, {'number': 2, 'created': '2021-10-15 16:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0a720e6024c430fe0a45d71390347c73877f2fa8', 'message': 'DNM: test master branch with NetApp\n\nDepends-On: Icfe49cd2303b5d7091bc1f24c09bde0bc624ab6a\n\nChange-Id: I7812e4f1636869da6691152625192e44e9b566fc\n'}, {'number': 3, 'created': '2022-02-25 16:19:26.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila/commit/c29f9f6380379a718e2b4a9d52f034d5e835b05e', 'message': 'DNM: test master branch with NetApp\n\nDepends-On: Icfe49cd2303b5d7091bc1f24c09bde0bc624ab6a\n\nChange-Id: I7812e4f1636869da6691152625192e44e9b566fc\n'}]",6,813086,c29f9f6380379a718e2b4a9d52f034d5e835b05e,45,1,3,31721,,,0,"DNM: test master branch with NetApp

Depends-On: Icfe49cd2303b5d7091bc1f24c09bde0bc624ab6a

Change-Id: I7812e4f1636869da6691152625192e44e9b566fc
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/813086/2 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,989fc1795e14aea7712b96afb5fdc807ada2b987,,,,0,0
openstack%2Ftripleo-heat-templates~master~I3545f5efe50d2134112a10c0dfcc558585f5de57,openstack/tripleo-heat-templates,master,I3545f5efe50d2134112a10c0dfcc558585f5de57,Fix conditions for libvirt_file_backed_memory_enabled,MERGED,2022-07-05 15:16:22.000000000,2022-08-03 13:17:24.000000000,2022-08-03 13:17:24.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-05 15:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d49262a74b0ee090a9510d0955db05fe7dc3ef12', 'message': 'Fix conditions for libvirt_file_backed_memory_enabled\n\nFollow up Ie16ab2ab5836ed455aeda35d2ba619633a595411\nto fix reversed logic for libvirt_file_backed_memory_enabled\n\nNovaLibvirtFileBackedMemory being 0 *or* empty means\nlibvirt_file_backed_memory_disabled.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3545f5efe50d2134112a10c0dfcc558585f5de57\n'}, {'number': 2, 'created': '2022-07-08 14:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b51ab07a273214392742c4d02091ce6242afece6', 'message': 'Fix conditions for libvirt_file_backed_memory_enabled\n\nFollow up Ie16ab2ab5836ed455aeda35d2ba619633a595411\nto fix reversed logic for libvirt_file_backed_memory_enabled\n\nNovaLibvirtFileBackedMemory being 0 *or* empty means\nlibvirt_file_backed_memory_disabled.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3545f5efe50d2134112a10c0dfcc558585f5de57\n'}, {'number': 3, 'created': '2022-07-08 14:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a64b4650c9f93a87bbb4dfbb80dc55a6884cc3fe', 'message': 'Fix conditions for libvirt_file_backed_memory_enabled\n\nFollow up Ie16ab2ab5836ed455aeda35d2ba619633a595411\nto fix reversed logic for libvirt_file_backed_memory_enabled\n\nNovaLibvirtFileBackedMemory being 0 *or* empty means\nlibvirt_file_backed_memory_disabled.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3545f5efe50d2134112a10c0dfcc558585f5de57\n'}, {'number': 4, 'created': '2022-07-15 15:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5cec85c4cb8a3dd78295b4c3e69a894171f66259', 'message': 'Fix conditions for libvirt_file_backed_memory_enabled\n\nFollow up Ie16ab2ab5836ed455aeda35d2ba619633a595411\nto fix reversed logic for libvirt_file_backed_memory_enabled\n\nR\t""\t""\t0\t0\tv\tv\nP\t0\tv\t0\tv\t0\tv\n-------------------------------------------------\nE? \tF\tT\tF\tT\tT\tT\n\nWhere, P - param, R - role param, feature gate is enabled, if:\nE? => not (P = 0 and (R = 0 or R = ""))\n\nNovaLibvirtFileBackedMemory being 0 *or* empty means\nlibvirt_file_backed_memory_disabled.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3545f5efe50d2134112a10c0dfcc558585f5de57\n'}, {'number': 5, 'created': '2022-07-25 12:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/032652dd5bfdd3ff72ed2f5b54628c3bac49cf82', 'message': 'Fix conditions for libvirt_file_backed_memory_enabled\n\nFollow up Ie16ab2ab5836ed455aeda35d2ba619633a595411\nto fix reversed logic for libvirt_file_backed_memory_enabled\n\nR\t""\t""\t0\t0\tv\tv\nP\t0\tv\t0\tv\t0\tv\n-------------------------------------------------\nE? \tF\tT\tF\tT\tT\tT\n\nWhere, P - param, R - role param, feature gate is enabled, if:\nE? => not (P = 0 and (R = 0 or R = ""))\n\nNovaLibvirtFileBackedMemory being 0 *or* empty means\nlibvirt_file_backed_memory_disabled.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3545f5efe50d2134112a10c0dfcc558585f5de57\n'}, {'number': 6, 'created': '2022-08-01 14:28:14.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9dc35e8671273fbaac1c8a3c3e84369867f4454', 'message': 'Fix conditions for libvirt_file_backed_memory_enabled\n\nFollow up Ie16ab2ab5836ed455aeda35d2ba619633a595411\nto fix reversed logic for libvirt_file_backed_memory_enabled\n\nR\t""\t""\t0\t0\tv\tv\nP\t0\tv\t0\tv\t0\tv\n-------------------------------------------------\nE? \tF\tT\tF\tT\tT\tT\n\nWhere, P - param, R - role param, feature gate is enabled, if:\nE? => not (P = 0 and (R = 0 or R = ""))\n\nNovaLibvirtFileBackedMemory being 0 *or* empty means\nlibvirt_file_backed_memory_disabled.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3545f5efe50d2134112a10c0dfcc558585f5de57\n'}]",13,848761,a9dc35e8671273fbaac1c8a3c3e84369867f4454,37,6,6,6926,,,0,"Fix conditions for libvirt_file_backed_memory_enabled

Follow up Ie16ab2ab5836ed455aeda35d2ba619633a595411
to fix reversed logic for libvirt_file_backed_memory_enabled

R	""	""	0	0	v	v
P	0	v	0	v	0	v
-------------------------------------------------
E? 	F	T	F	T	T	T

Where, P - param, R - role param, feature gate is enabled, if:
E? => not (P = 0 and (R = 0 or R = ""))

NovaLibvirtFileBackedMemory being 0 *or* empty means
libvirt_file_backed_memory_disabled.

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I3545f5efe50d2134112a10c0dfcc558585f5de57
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/848761/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,d49262a74b0ee090a9510d0955db05fe7dc3ef12,847334-patch1," or: - not: and: - equals: [{get_param: NovaLibvirtFileBackedMemory}, ''] - equals: [{get_param: [RoleParameters, NovaLibvirtFileBackedMemory]}, ''] - not: and: - equals: [{get_param: NovaLibvirtFileBackedMemory}, 0] - equals: [{get_param: [RoleParameters, NovaLibvirtFileBackedMemory]}, 0]"," not: or: - equals: [{get_param: NovaLibvirtFileBackedMemory}, ''] - equals: [{get_param: [RoleParameters, NovaLibvirtFileBackedMemory]}, ''] - equals: [{get_param: NovaLibvirtFileBackedMemory}, 0] - equals: [{get_param: [RoleParameters, NovaLibvirtFileBackedMemory]}, 0]",9,6
openstack%2Ftripleo-heat-templates~master~I7d8d0530c367708215437c9ac11a6fc17235e784,openstack/tripleo-heat-templates,master,I7d8d0530c367708215437c9ac11a6fc17235e784,Set OVSDB Connection.probe_interval,MERGED,2022-07-28 18:50:25.000000000,2022-08-03 13:13:42.000000000,2022-08-03 13:12:21.000000000,"[{'_account_id': 6681}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-28 18:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b996aae7b43ce7784becf0a8675d368c4b58b23b', 'message': 'Set OVSDB Connection.probe_interval\n\nWith ovn_cluster, connections were set with --remote on the CLI by\novn-ctl (except for a workaround for TLS connections). Via this\nmethod, there is no way to set the inactivity probe interval which\nis a regression from using non-clustered OVSDB.\n\nTo achieve setting this value, the connection must be defined in\nthe OVN Connection table. For RAFT, since each server shares the\nsame DB, this means using a single Connection entry that all\nservers use, which necessitates listening on 0.0.0.0. To make this\nsafe, the firewall_rules are adjusted to only allow OVSDB traffic\nfrom the proper subnet.\n\nA subsequent patch will be made to tripleo-ansible that removes\npassing the --create-insecure-remote options to ovn-ctl which,\nfor non-TLS, set ovsdb-server to listen on its specific address.\n\nResolves: rhbz#2110550\nRelated-Bug: rhbz#2099805\nRelated-Bug: rhbz#2101588\nRelated-Bug: rhbz#1952038\nChange-Id: I7d8d0530c367708215437c9ac11a6fc17235e784\n'}, {'number': 2, 'created': '2022-07-29 00:18:08.000000000', 'files': ['releasenotes/notes/add-param-ovn-ovsdb-probe-interval-7ec6aa7f68b9a133.yaml', 'deployment/ovn/ovn-dbs-cluster-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2c0b839131c576d7dbba8155c46b237a828c2ef', 'message': 'Set OVSDB Connection.probe_interval\n\nWith ovn_cluster, connections were set with --remote on the CLI by\novn-ctl (except for a workaround for TLS connections). Via this\nmethod, there is no way to set the inactivity probe interval which\nis a regression from using non-clustered OVSDB.\n\nTo achieve setting this value, the connection must be defined in\nthe OVN Connection table. For RAFT, since each server shares the\nsame DB, this means using a single Connection entry that all\nservers use, which necessitates listening on 0.0.0.0. To make this\nsafe, the firewall_rules are adjusted to only allow OVSDB traffic\nfrom the proper subnet.\n\nA subsequent patch will be made to tripleo-ansible that removes\npassing the --create-insecure-remote options to ovn-ctl which,\nfor non-TLS, set ovsdb-server to listen on its specific address.\n\nResolves: rhbz#2110550\nRelated-Bug: rhbz#2099805\nRelated-Bug: rhbz#2101588\nRelated-Bug: rhbz#1952038\nChange-Id: I7d8d0530c367708215437c9ac11a6fc17235e784\n'}]",9,851450,e2c0b839131c576d7dbba8155c46b237a828c2ef,20,5,2,5756,,,0,"Set OVSDB Connection.probe_interval

With ovn_cluster, connections were set with --remote on the CLI by
ovn-ctl (except for a workaround for TLS connections). Via this
method, there is no way to set the inactivity probe interval which
is a regression from using non-clustered OVSDB.

To achieve setting this value, the connection must be defined in
the OVN Connection table. For RAFT, since each server shares the
same DB, this means using a single Connection entry that all
servers use, which necessitates listening on 0.0.0.0. To make this
safe, the firewall_rules are adjusted to only allow OVSDB traffic
from the proper subnet.

A subsequent patch will be made to tripleo-ansible that removes
passing the --create-insecure-remote options to ovn-ctl which,
for non-TLS, set ovsdb-server to listen on its specific address.

Resolves: rhbz#2110550
Related-Bug: rhbz#2099805
Related-Bug: rhbz#2101588
Related-Bug: rhbz#1952038
Change-Id: I7d8d0530c367708215437c9ac11a6fc17235e784
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/851450/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-param-ovn-ovsdb-probe-interval-7ec6aa7f68b9a133.yaml', 'deployment/ovn/ovn-dbs-cluster-ansible.yaml']",2,b996aae7b43ce7784becf0a8675d368c4b58b23b,raft-probe-interval," OVNOvsdbProbeInterval: description: Probe interval in ms for the OVSDB session type: number default: 60000 map_merge: repeat: for_each: <%net_cidr%>: get_param: - ServiceData - net_cidr_map - {get_param: [ServiceNetMap, OvnDbsNetwork]} template: '121 OVN DB server and cluster ports': proto: 'tcp' source: <%net_cidr%> dport: - {get_param: OVNNorthboundServerPort} - {get_param: OVNSouthboundServerPort} - {get_param: OVNNorthboundClusterPort} - {get_param: OVNSouthboundClusterPort} - name: Set connection podman exec ovn_cluster_north_db_server bash -c ""ovn-nbctl --no-leader-only --inactivity-probe={{ tripleo_ovn_cluster_probe_interval }} set-connection p{{ tripleo_ovn_cluster_dbs_protocol }}:{{ tripleo_ovn_cluster_nb_db_port }}"" podman exec ovn_cluster_south_db_server bash -c ""ovn-sbctl --no-leader-only --inactivity-probe={{ tripleo_ovn_cluster_probe_interval }} set-connection p{{ tripleo_ovn_cluster_dbs_protocol }}:{{ tripleo_ovn_cluster_sb_db_port }}"" when: tripleo_ovn_cluster_dbs_protocol: ""{{ enable_internal_tls | ternary('ssl', 'tcp', 'tcp') }}"" tripleo_ovn_cluster_probe_interval: {get_param: OVNOvsdbProbeInterval}"," '121 OVN DB server and cluster ports': proto: 'tcp' dport: - {get_param: OVNNorthboundServerPort} - {get_param: OVNSouthboundServerPort} - {get_param: OVNNorthboundClusterPort} - {get_param: OVNSouthboundClusterPort} - name: Set connection # FIXME workaround until RHBZ #1952038 is fixed podman exec ovn_cluster_north_db_server bash -c ""ovn-nbctl -p /etc/pki/tls/private/ovn_dbs.key -c /etc/pki/tls/certs/ovn_dbs.crt -C /etc/ipa/ca.crt set-connection pssl:{{ tripleo_ovn_cluster_nb_db_port }}"" podman exec ovn_cluster_south_db_server bash -c ""ovn-sbctl -p /etc/pki/tls/private/ovn_dbs.key -c /etc/pki/tls/certs/ovn_dbs.crt -C /etc/ipa/ca.crt set-connection pssl:{{ tripleo_ovn_cluster_sb_db_port }}"" when: - enable_internal_tls | bool",34,11
openstack%2Fironic~bugfix%2F19.0~If0d08fc151afbdba8c7f65ae1fe8b1f6aa949af8,openstack/ironic,bugfix/19.0,If0d08fc151afbdba8c7f65ae1fe8b1f6aa949af8,Use yoga upper-constraints for all tests,MERGED,2022-08-02 15:24:57.000000000,2022-08-03 13:02:17.000000000,2022-08-03 12:44:18.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 15:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b44f6d418df3345cf5badca37422df7645dbcf3', 'message': 'Use yoga upper-constraints for all tests\n\nChange-Id: If0d08fc151afbdba8c7f65ae1fe8b1f6aa949af8\n'}, {'number': 2, 'created': '2022-08-02 15:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa3414a1369203f5d8f2dc2192938c0fc2b6ab23', 'message': 'Use yoga upper-constraints for all tests\n\nChange-Id: If0d08fc151afbdba8c7f65ae1fe8b1f6aa949af8\n'}, {'number': 3, 'created': '2022-08-02 15:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e1aa60ee9174472b2f45c482d60e657fd6347a63', 'message': 'Use yoga upper-constraints for all tests\n\nChange-Id: If0d08fc151afbdba8c7f65ae1fe8b1f6aa949af8\n'}, {'number': 4, 'created': '2022-08-03 07:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d9b8d376327bf1660e042e7da66292e3fcae43a', 'message': 'Use yoga upper-constraints for all tests\n\nChange-Id: If0d08fc151afbdba8c7f65ae1fe8b1f6aa949af8\n'}, {'number': 5, 'created': '2022-08-03 07:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/88c1f4c42a1a97066f54ce6e19fd370b9f3363bc', 'message': 'Use yoga upper-constraints for all tests\n\nChange-Id: If0d08fc151afbdba8c7f65ae1fe8b1f6aa949af8\n'}, {'number': 6, 'created': '2022-08-03 09:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5de619c77a75fb355d3845b7327685e82df42b08', 'message': 'Use yoga upper-constraints for all tests\n\nChange-Id: If0d08fc151afbdba8c7f65ae1fe8b1f6aa949af8\n'}, {'number': 7, 'created': '2022-08-03 09:26:25.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a20175549ab6f21cc148a03bc17c0a26faae009', 'message': 'Use yoga upper-constraints for all tests\n\nChange-Id: If0d08fc151afbdba8c7f65ae1fe8b1f6aa949af8\n'}]",1,851900,7a20175549ab6f21cc148a03bc17c0a26faae009,21,2,7,23851,,,0,"Use yoga upper-constraints for all tests

Change-Id: If0d08fc151afbdba8c7f65ae1fe8b1f6aa949af8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/851900/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,0b44f6d418df3345cf5badca37422df7645dbcf3,uc-yoga, required-projects: - name: openstack/requirements override-checkout: stable/yoga,,3,0
openstack%2Fkolla-ansible~master~I2c4a624a3d8323e464ecf93af42937fa269cb929,openstack/kolla-ansible,master,I2c4a624a3d8323e464ecf93af42937fa269cb929,ovn: use include tasks to ignore rendering loop items,NEW,2022-01-22 09:56:43.000000000,2022-08-03 12:57:20.000000000,,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-22 09:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9978ddedcb03594d5c08d84cf0db9bea52cd015', 'message': 'ovn: use include tasks to ignore rendering loop items\n\nUse ansible include tasks to ignore rendering loop items for hosts without ovn-controller (like nodes without tunnel interface)\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nCloses-Bug: #1953367\nChange-Id: I2c4a624a3d8323e464ecf93af42937fa269cb929\n'}, {'number': 2, 'created': '2022-01-22 17:15:16.000000000', 'files': ['releasenotes/notes/bug-1953367-bdc1b4686d1bad9f.yaml', 'ansible/roles/ovn/tasks/ovn-controller-bootstrap.yml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e651df7e02150b1554afdd9ae41da5faec504713', 'message': 'ovn: use include tasks to ignore rendering loop items\n\nUse ansible include tasks to ignore rendering loop items for hosts without ovn-controller (like nodes without tunnel interface)\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nCloses-Bug: #1953367\nChange-Id: I2c4a624a3d8323e464ecf93af42937fa269cb929\n'}]",6,825915,e651df7e02150b1554afdd9ae41da5faec504713,11,3,2,33826,,,0,"ovn: use include tasks to ignore rendering loop items

Use ansible include tasks to ignore rendering loop items for hosts without ovn-controller (like nodes without tunnel interface)

Signed-off-by: Seena Fallah <seenafallah@gmail.com>
Closes-Bug: #1953367
Change-Id: I2c4a624a3d8323e464ecf93af42937fa269cb929
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/825915/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1953367-bdc1b4686d1bad9f.yaml', 'ansible/roles/ovn/tasks/ovn-controller-bootstrap.yml', 'ansible/roles/ovn/tasks/bootstrap.yml']",3,b9978ddedcb03594d5c08d84cf0db9bea52cd015,configure-ovn-in-ovsdb,- name: Bootstrap OVN Controller include_tasks: ovn-controller-bootstrap.yml,"- name: Configure OVN in OVSDB vars: ovn_mappings: ""{% for bridge in neutron_bridge_name.split(',') %}physnet{{ loop.index0 + 1 }}:{{ bridge }}{% if not loop.last %},{% endif %}{% endfor %}"" ovn_macs: ""{% for bridge in neutron_bridge_name.split(',') %}physnet{{ loop.index0 + 1 }}:{{ ovn_base_mac | random_mac(seed=inventory_hostname+bridge) }}{% if not loop.last %},{% endif %}{% endfor %}"" ovn_cms_opts: ""{{ 'enable-chassis-as-gw' if inventory_hostname in groups['ovn-controller-network'] else '' }}"" become: true kolla_toolbox: user: root module_name: openvswitch_db module_args: table: Open_vSwitch record: . col: external_ids key: ""{{ item.name }}"" value: ""{{ item.value if item.state | default('present') == 'present' else omit }}"" state: ""{{ item.state | default('present') }}"" loop: - { name: ovn-encap-ip, value: ""{{ tunnel_interface_address }}"" } - { name: ovn-encap-type, value: geneve } - { name: ovn-remote, value: ""{{ ovn_sb_connection }}"" } - { name: ovn-remote-probe-interval, value: ""{{ ovn_remote_probe_interval }}"" } - { name: ovn-bridge-mappings, value: ""{{ ovn_mappings }}"", state: ""{{ 'present' if (inventory_hostname in groups['ovn-controller-network'] or computes_need_external_bridge | bool) else 'absent' }}"" } - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller-compute'] else 'absent' }}"" } - { name: ovn-cms-options, value: ""{{ ovn_cms_opts }}"", state: ""{{ 'present' if ovn_cms_opts != '' else 'absent' }}"" }",32,24
openstack%2Fdiskimage-builder~master~Id9daaa6c2e6047b3afd9254537f50141cd35208b,openstack/diskimage-builder,master,Id9daaa6c2e6047b3afd9254537f50141cd35208b,Fix build rockylinux baremetal image error,NEW,2022-07-15 07:46:39.000000000,2022-08-03 12:54:11.000000000,,"[{'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 22997}, {'_account_id': 23139}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-07-15 07:46:39.000000000', 'files': ['diskimage_builder/elements/rocky-container/element-deps', 'releasenotes/notes/fix-rockylinux-baremetal-5517034068b754df.yaml', 'diskimage_builder/elements/rocky-container/pre-install.d/02-set-machine-id'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7c1e31a8f0da730a8526bba824f6bc7375729903', 'message': 'Fix build rockylinux baremetal image error\n\n1. Remove vm element deps\n2. Set machine-id before install kernel-core\n\nCloses-Bug: #1981800\nChange-Id: Id9daaa6c2e6047b3afd9254537f50141cd35208b\n'}]",5,849947,7c1e31a8f0da730a8526bba824f6bc7375729903,12,6,1,23266,,,0,"Fix build rockylinux baremetal image error

1. Remove vm element deps
2. Set machine-id before install kernel-core

Closes-Bug: #1981800
Change-Id: Id9daaa6c2e6047b3afd9254537f50141cd35208b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/47/849947/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/rocky-container/element-deps', 'releasenotes/notes/fix-rockylinux-baremetal-5517034068b754df.yaml', 'diskimage_builder/elements/rocky-container/pre-install.d/02-set-machine-id']",3,7c1e31a8f0da730a8526bba824f6bc7375729903,bug/1981800,"#!/bin/bash if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu set -o pipefail # Set a machine-id. The .qcow2 image doesn't have one, and sometimes # one will get made (if systemd is upgraded as part of the build # process) and sometimes not. The problem is that certain kernel # install scripts bail silently without it; kernel packages end up # being installed but the initramfs etc isn't copied into place. # # Note this is cleared out in the sysprep role. # # See also: # 768c5e188c1b4bff01da14a49b96b51301db4c03 : similar thing for fedora # https://bugzilla.redhat.com/show_bug.cgi?id=1737355 : upstream bug # https://bugzilla.redhat.com/show_bug.cgi?id=1486124 : unresolved # bug about kernel install requiring machine-id systemd-machine-id-setup ",,27,1
openstack%2Fbifrost~master~Iabcb8296489b0915bdb6a2a8a0de4dfe87853482,openstack/bifrost,master,Iabcb8296489b0915bdb6a2a8a0de4dfe87853482,Repair MariaDB tables after upgrade,MERGED,2022-08-02 16:17:19.000000000,2022-08-03 12:50:39.000000000,2022-08-03 12:49:18.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-08-02 16:17:19.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/mariadb-upgrade-be88fdc90e9959c4.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/da3b67819ed8a219c4b0ca30b5a0b4a00f0027f3', 'message': ""Repair MariaDB tables after upgrade\n\nSometimes MariaDB changes the format of database tables between\nreleases. A mysql_upgrade tool is provided that will attempt to repair\nthe tables to make them compatible with the new version of MariaDB.\n\nUpgrading from Ubuntu Focal 20.04 to Ubuntu Jammy 22.04 will trigger\nsuch an issue:\n\n  TASK [bifrost-ironic-install : MySQL - Creating user for Ironic]\n  The user specified as a definer ('mariadb.sys'@'localhost') does not exist\n\nThis change runs mysql_upgrade after installing MariaDB.\n\nStory: 2010208\nTask: 45935\n\nChange-Id: Iabcb8296489b0915bdb6a2a8a0de4dfe87853482\n""}]",1,851907,da3b67819ed8a219c4b0ca30b5a0b4a00f0027f3,10,4,1,14826,,,0,"Repair MariaDB tables after upgrade

Sometimes MariaDB changes the format of database tables between
releases. A mysql_upgrade tool is provided that will attempt to repair
the tables to make them compatible with the new version of MariaDB.

Upgrading from Ubuntu Focal 20.04 to Ubuntu Jammy 22.04 will trigger
such an issue:

  TASK [bifrost-ironic-install : MySQL - Creating user for Ironic]
  The user specified as a definer ('mariadb.sys'@'localhost') does not exist

This change runs mysql_upgrade after installing MariaDB.

Story: 2010208
Task: 45935

Change-Id: Iabcb8296489b0915bdb6a2a8a0de4dfe87853482
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/07/851907/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/mariadb-upgrade-be88fdc90e9959c4.yaml']",2,da3b67819ed8a219c4b0ca30b5a0b4a00f0027f3,,--- fixes: - | Fixes an issue where the MariaDB database tables were not repaired following an upgrade of MariaDB. ,,18,0
openstack%2Fpbr~master~I532a365aa0f1a3206edf6b01e821bd83ea04ab3c,openstack/pbr,master,I532a365aa0f1a3206edf6b01e821bd83ea04ab3c,Use stdlib importlib.metadata where possible,MERGED,2022-05-18 16:42:26.000000000,2022-08-03 12:46:32.000000000,2022-08-03 12:45:16.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-05-18 16:42:26.000000000', 'files': ['pbr/version.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/6a6546a362e4a28839e642e9a8ee937191fe1d5e', 'message': ""Use stdlib importlib.metadata where possible\n\nThe importlib_metadata package isn't guaranteed to be available, but the\nstlib version will always be there (at least on Python 3.8 or later).\n\nChange-Id: I532a365aa0f1a3206edf6b01e821bd83ea04ab3c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,842410,6a6546a362e4a28839e642e9a8ee937191fe1d5e,8,4,1,15334,,,0,"Use stdlib importlib.metadata where possible

The importlib_metadata package isn't guaranteed to be available, but the
stlib version will always be there (at least on Python 3.8 or later).

Change-Id: I532a365aa0f1a3206edf6b01e821bd83ea04ab3c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/10/842410/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/version.py'],1,6a6546a362e4a28839e642e9a8ee937191fe1d5e,faster-startup,"# TODO(stephenfin): Remove this once we drop support for Python < 3.8 if sys.version_info >= (3, 8): from importlib import metadata as importlib_metadataelse: try: import importlib_metadata use_importlib = True except ImportError: use_importlib = False",try: import importlib_metadataexcept ImportError: use_importlib = False,9,4
openstack%2Foslo.cache~master~I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c,openstack/oslo.cache,master,I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c,Support SASL protocol for memcached,MERGED,2020-07-21 03:11:46.000000000,2022-08-03 12:32:49.000000000,2022-08-03 12:31:42.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 25946}, {'_account_id': 26458}, {'_account_id': 27954}, {'_account_id': 28522}, {'_account_id': 31245}, {'_account_id': 31412}, {'_account_id': 31827}]","[{'number': 1, 'created': '2020-07-21 03:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/55150e668270171d320afe0dc723851e98671bc9', 'message': 'fix the bug which the oslo.cache cannot get the access authority of memcached which sasl enabled\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n'}, {'number': 2, 'created': '2020-07-21 03:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/086de293740152b5d1cf30005851905fb8fcfc5a', 'message': 'Support SASL protocol for memcached\n\nfix the bug which the oslo.cache cannot get the access authority of memcached which sasl enabled\n\nhttps://blueprints.launchpad.net/oslo.cache/+spec/enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n'}, {'number': 3, 'created': '2020-07-21 08:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/5d10313761c9e3ff0b2a4f5afa84d00ec562ecae', 'message': 'Support SASL protocol for memcached\n\nfix the bug which the oslo.cache cannot get the access authority of memcached which sasl enabled\n\nhttps://blueprints.launchpad.net/oslo.cache/+spec/enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n'}, {'number': 4, 'created': '2020-07-21 08:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/c552389fa11e787e5831220459b0a069078fcc31', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 149c48060596de1c19fcc99e146e4b307a59aca0\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 5, 'created': '2020-07-21 11:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2fec0ab2e1b9a46690d439a6a2117c71c0e566f6', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 149c48060596de1c19fcc99e146e4b307a59aca0\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 6, 'created': '2020-07-21 11:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d8f19d0bc06f86a4407d02f776d9a5831a495271', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 149c48060596de1c19fcc99e146e4b307a59aca0\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 7, 'created': '2020-07-21 13:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a183e4d6765221a15dcafc1efb38b682bc3a8287', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 149c48060596de1c19fcc99e146e4b307a59aca0\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 8, 'created': '2020-07-22 00:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/fac477a4ce9aa087aa9c647f637a7bff074ff29d', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 149c48060596de1c19fcc99e146e4b307a59aca0\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 9, 'created': '2020-07-22 07:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/c7528dc5f662f6010a977ac27f7247444303a0f6', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 149c48060596de1c19fcc99e146e4b307a59aca0\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: 0861ce25e6c8f00b73c82ad3b31fbd9dfa872f24\n""}, {'number': 10, 'created': '2020-07-22 09:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/dcf12b9d92e88a112772c2087e0243e8aaf1c566', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 0861ce25e6c8f00b73c82ad3b31fbd9dfa872f24\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 11, 'created': '2020-07-27 07:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d4fec9c6bab72b5a9f6f113654ea860dff446a0d', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 12, 'created': '2020-07-27 09:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/30b1b89848d966c766ebb4c646b578d365fb53d4', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 13, 'created': '2020-07-28 08:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/e6a88fd45d34dc2d201b1109f13f8a5b4fe2afd3', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 14, 'created': '2020-07-28 09:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/400ca0dd4eb9de38a05c87307eb60ad62a564e47', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 15, 'created': '2020-07-29 03:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/75d0e7cd43b9fecd6cb03a916acc6fe32d311019', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 16, 'created': '2020-07-29 05:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/38b96f65d1342b8b7079fdff7973bccf56d489b3', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 17, 'created': '2020-07-31 14:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/3782223fde7ac801aa9f95104a4d0b2e547a980f', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 18, 'created': '2020-07-31 14:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f6f96d3e357cee4bbe25674f2880bf7559e1e597', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 19, 'created': '2020-08-01 01:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/40c2d72cb44a3d0e3ee61621e92234d6d512fef1', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 20, 'created': '2020-08-01 03:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/48e74220e7b86b48609494525b3fe7eaf05e9eb1', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 21, 'created': '2020-08-13 03:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/047d9ad74bb7bd9eea27fdc2a038cfafad9448c4', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 22, 'created': '2020-08-13 03:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f737ff60d588ae0864a11b037e9a24e1f6989a98', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 23, 'created': '2020-08-13 09:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a0ecf93053d040dea2145739b1917d749601aadf', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 24, 'created': '2020-08-13 09:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/b0797848b11267049f0166f28ca4d2aacff07343', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 25, 'created': '2020-08-19 13:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f8414f11dd703251cb6f23d2f7a29e72d1ab02dc', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 26, 'created': '2020-08-26 11:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/0961cce68703ae13852005221614f6d321160964', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 27, 'created': '2021-03-10 06:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a52838513d0602be8f8778f7130a671bf8ee0cd3', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 28, 'created': '2021-06-25 06:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/5ab66a81fa55e232148a4b4ab18781d62d1f7666', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 29, 'created': '2021-06-25 08:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/82e76242b8edca2314ac219a098ccb5390b512cc', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 30, 'created': '2022-01-13 07:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/56b049ab57d75aa61fe29bff7c987dc0049e3714', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 31, 'created': '2022-01-13 07:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/002c3fa5d67b5bc2551936627d7a8bc706a1c257', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 32, 'created': '2022-04-28 10:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a9e355358bbc27c5586792da1c49278a0d5d9737', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 33, 'created': '2022-04-29 01:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/c19e25d1b3c8c301c24dbb2a0220f1fd22c0e152', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}, {'number': 34, 'created': '2022-05-03 02:59:31.000000000', 'files': ['oslo_cache/backends/memcache_pool.py', 'oslo_cache/tests/functional/memcache_pool/test_cache_backend.py', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'oslo_cache/tests/unit/test_connection_pool.py', 'releasenotes/notes/enable-sasl-protocol-46d11530b87e7832.yaml', 'oslo_cache/_memcache_pool.py', 'oslo_cache/_bmemcache_pool.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d229d3edb73610137d78779b12e6dc226a3c6e61', 'message': ""Support SASL protocol for memcached\n\nAdd the SASL protocol for memcached, to improve the security of authority.\nSASL(Simple Authentication and Security Layer): is a memchanism used to\nextend the verification ability of C/S mode. SASL is only the\nauthentication process, which integrates the application layer and the\nsystem authentication mechanism. However, the current memcached hasn't\nany authenticaction mechanism to protect the user's data cached in\nmemcached server.\n\nDepends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841\n\nImplements: blueprint enable-sasl-protocol\n\nChange-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c\n""}]",64,742060,d229d3edb73610137d78779b12e6dc226a3c6e61,119,11,34,31827,,,0,"Support SASL protocol for memcached

Add the SASL protocol for memcached, to improve the security of authority.
SASL(Simple Authentication and Security Layer): is a memchanism used to
extend the verification ability of C/S mode. SASL is only the
authentication process, which integrates the application layer and the
system authentication mechanism. However, the current memcached hasn't
any authenticaction mechanism to protect the user's data cached in
memcached server.

Depends-On: 7828bed0febabfa11a0a8f6960f4c7cc8acec841

Implements: blueprint enable-sasl-protocol

Change-Id: I40b9f4eac518f34a3dfb710b5c4ab3a76da7c00c
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/60/742060/30 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/backends/memcache_pool.py', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'oslo_cache/_bmemcache_pool.py']",4,55150e668270171d320afe0dc723851e98671bc9,bp/enable-sasl-protocol,"# Copyright 2014 Mirantis Inc # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Thread-safe connection pool for python-binary-memcached."""""" import collections import contextlib import itertools import threading import time try: import eventlet except ImportError: eventlet = None import bmemcached from oslo_log import log from six.moves import queue from six.moves import zip from oslo_cache._i18n import _ from oslo_cache import exception LOG = log.getLogger(__name__) class _BMemcacheClient(bmemcached.Client): """"""Thread global memcache client As client is inherited from threading.local we have to restore object methods overloaded by threading.local so we can reuse clients in different threads """""" __delattr__ = object.__delattr__ __getattribute__ = object.__getattribute__ __setattr__ = object.__setattr__ # Hack for lp 1812935 if eventlet and eventlet.patcher.is_monkey_patched('thread'): # NOTE(bnemec): I'm not entirely sure why this works in a # monkey-patched environment and not with vanilla stdlib, but it does. def __new__(cls, *args, **kwargs): return object.__new__(cls) else: __new__ = object.__new__ def __del__(self): pass _PoolItem = collections.namedtuple('_PoolItem', ['ttl', 'connection']) class BConnectionPool(queue.Queue): """"""Base connection pool class This class implements the basic connection pool logic as an abstract base class. """""" def __init__(self, maxsize, unused_timeout, conn_get_timeout=None): """"""Initialize the connection pool. :param maxsize: maximum number of client connections for the pool :type maxsize: int :param unused_timeout: idle time to live for unused clients (in seconds). If a client connection object has been in the pool and idle for longer than the unused_timeout, it will be reaped. This is to ensure resources are released as utilization goes down. :type unused_timeout: int :param conn_get_timeout: maximum time in seconds to wait for a connection. If set to `None` timeout is indefinite. :type conn_get_timeout: int """""" # super() cannot be used here because Queue in stdlib is an # old-style class queue.Queue.__init__(self, maxsize) self._unused_timeout = unused_timeout self._connection_get_timeout = conn_get_timeout self._acquired = 0 def _create_connection(self): """"""Returns a connection instance. This is called when the pool needs another instance created. :returns: a new connection instance """""" raise NotImplementedError def _destroy_connection(self, conn): """"""Destroy and cleanup a connection instance. This is called when the pool wishes to get rid of an existing connection. This is the opportunity for a subclass to free up resources and cleanup after itself. :param conn: the connection object to destroy """""" raise NotImplementedError def _do_log(self, level, msg, *args, **kwargs): if LOG.isEnabledFor(level): thread_id = threading.current_thread().ident args = (id(self), thread_id) + args prefix = 'Memcached pool %s, thread %s: ' LOG.log(level, prefix + msg, *args, **kwargs) def _debug_logger(self, msg, *args, **kwargs): self._do_log(log.DEBUG, msg, *args, **kwargs) def _trace_logger(self, msg, *args, **kwargs): self._do_log(log.TRACE, msg, *args, **kwargs) @contextlib.contextmanager def acquire(self): self._trace_logger('Acquiring connection') self._drop_expired_connections() try: conn = self.get(timeout=self._connection_get_timeout) except queue.Empty: raise exception.QueueEmpty( _('Unable to get a connection from pool id %(id)s after ' '%(seconds)s seconds.') % {'id': id(self), 'seconds': self._connection_get_timeout}) self._trace_logger('Acquired connection %s', id(conn)) try: yield conn finally: self._trace_logger('Releasing connection %s', id(conn)) try: # super() cannot be used here because Queue in stdlib is an # old-style class queue.Queue.put(self, conn, block=False) except queue.Full: self._trace_logger('Reaping exceeding connection %s', id(conn)) self._destroy_connection(conn) def _qsize(self): if self.maxsize: return self.maxsize - self._acquired else: # A value indicating there is always a free connection # if maxsize is None or 0 return 1 # NOTE(dstanek): stdlib and eventlet Queue implementations # have different names for the qsize method. This ensures # that we override both of them. if not hasattr(queue.Queue, '_qsize'): qsize = _qsize def _get(self): try: conn = self.queue.pop().connection except IndexError: conn = self._create_connection() self._acquired += 1 return conn def _drop_expired_connections(self): """"""Drop all expired connections from the left end of the queue."""""" now = time.time() try: while self.queue[0].ttl < now: conn = self.queue.popleft().connection self._trace_logger('Reaping connection %s', id(conn)) self._destroy_connection(conn) except IndexError: # NOTE(amakarov): This is an expected excepton. so there's no # need to react. We have to handle exceptions instead of # checking queue length as IndexError is a result of race # condition too as well as of mere queue depletio of mere queue # depletionn. pass def _put(self, conn): self.queue.append(_PoolItem( ttl=time.time() + self._unused_timeout, connection=conn, )) self._acquired -= 1 class BMemcacheClientPool(BConnectionPool): def __init__(self, urls, arguments, **kwargs): # super() cannot be used here because Queue in stdlib is an # old-style class BConnectionPool.__init__(self, **kwargs) self.urls = urls self._username = arguments.pop('usrname') self._password = arguments.pop('password') self._arguments = { 'socket_timeout': arguments.get('socket_timeout', 3.0), } # NOTE(morganfainberg): The host objects expect an int for the # deaduntil value. Initialize this at 0 for each host with 0 indicating # the host is not dead. self._hosts_deaduntil = [0] * len(urls) def _create_connection(self): # NOTE(morgan): Explicitly set flush_on_reconnect for pooled # connections. This should ensure that stale data is never consumed # from a server that pops in/out due to a network partition # or disconnect. # # See the help from python-memcached: # # param flush_on_reconnect: optional flag which prevents a # scenario that can cause stale data to be read: If there's more # than one memcached server and the connection to one is # interrupted, keys that mapped to that server will get # reassigned to another. If the first server comes back, those # keys will map to it again. If it still has its data, get()s # can read stale data that was overwritten on another # server. This flag is off by default for backwards # compatibility. # # The normal non-pooled clients connect explicitly on each use and # does not need the explicit flush_on_reconnect return _BMemcacheClient(self.urls, self._username, self._password, **self._arguments) def _destroy_connection(self, conn): conn.disconnect_all() def _get(self): # super() cannot be used here because Queue in stdlib is an # old-style class conn = BConnectionPool._get(self) try: # Propagate host state known to us to this client's list now = time.time() for deaduntil, host in zip(self._hosts_deaduntil, conn.servers): if deaduntil > now and host.deaduntil <= now: host.mark_dead('propagating death mark from the pool') host.deaduntil = deaduntil except Exception: # We need to be sure that connection doesn't leak from the pool. # This code runs before we enter context manager's try-finally # block, so we need to explicitly release it here. # super() cannot be used here because Queue in stdlib is an # old-style class BConnectionPool._put(self, conn) raise return conn def _put(self, conn): try: # If this client found that one of the hosts is dead, mark it as # such in our internal list now = time.time() for i, host in zip(itertools.count(), conn.servers): deaduntil = self._hosts_deaduntil[i] # Do nothing if we already know this host is dead if deaduntil <= now: if host.deaduntil > now: self._hosts_deaduntil[i] = host.deaduntil self._debug_logger( 'Marked host %s dead until %s', self.urls[i], host.deaduntil) else: self._hosts_deaduntil[i] = 0 # If all hosts are dead we should forget that they're dead. This # way we won't get completely shut off until dead_retry seconds # pass, but will be checking servers as frequent as we can (over # way smaller socket_timeout) if all(deaduntil > now for deaduntil in self._hosts_deaduntil): self._debug_logger('All hosts are dead. Marking them as live.') self._hosts_deaduntil[:] = [0] * len(self._hosts_deaduntil) finally: # super() cannot be used here because Queue in stdlib is an # old-style class BConnectionPool._put(self, conn) ",,324,13
openstack%2Ftripleo-heat-templates~master~I535087bc5f1266d1f4fe8bb1dca7d8c355c9de9d,openstack/tripleo-heat-templates,master,I535087bc5f1266d1f4fe8bb1dca7d8c355c9de9d,Default to OVN raft clustering,MERGED,2022-04-04 15:25:59.000000000,2022-08-03 12:32:01.000000000,2022-08-03 12:30:58.000000000,"[{'_account_id': 6681}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-04-04 15:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfac5d6cdf5f1c19bc4c502966402f56227b4139', 'message': 'WIP Default to OVN raft clustering\n\nTest defaulting to OVN raft clustering\n\nChange-Id: I535087bc5f1266d1f4fe8bb1dca7d8c355c9de9d\n'}, {'number': 2, 'created': '2022-05-06 04:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8423e79aba55152a21bfac3ee93bfbd296d7f118', 'message': 'WIP Default to OVN raft clustering\n\nTest defaulting to OVN raft clustering\n\nChange-Id: I535087bc5f1266d1f4fe8bb1dca7d8c355c9de9d\n'}, {'number': 3, 'created': '2022-05-25 15:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96d7c08b4e0e5f821f7aa8a8fb8966117c8d2c0a', 'message': 'WIP Default to OVN raft clustering\n\nTest defaulting to OVN raft clustering\n\nChange-Id: I535087bc5f1266d1f4fe8bb1dca7d8c355c9de9d\n'}, {'number': 4, 'created': '2022-06-21 15:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a02d2d52d3b4fe763824aaa53d06e7cb2b273bc8', 'message': 'WIP Default to OVN raft clustering\n\nTest defaulting to OVN raft clustering\n\nChange-Id: I535087bc5f1266d1f4fe8bb1dca7d8c355c9de9d\n'}, {'number': 5, 'created': '2022-07-13 21:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8035b56feb92bb7a931e4118d399518f7ffd4c3c', 'message': 'Default to OVN raft clustering\n\nRequires OVS 2.17 to work properly (technically only python-ovs 2.17).\n\nChange-Id: I535087bc5f1266d1f4fe8bb1dca7d8c355c9de9d\n'}, {'number': 6, 'created': '2022-07-13 22:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0bb403019e9d7bc6e981a4ab376f4d8e9316eb7', 'message': 'Default to OVN raft clustering\n\nRequires OVS 2.17 to work properly (technically only python-ovs 2.17).\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/848453\nChange-Id: I535087bc5f1266d1f4fe8bb1dca7d8c355c9de9d\n'}, {'number': 7, 'created': '2022-07-14 15:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab6b72ae208adc7ebe6ec82cb2f2e6a8d20c8cff', 'message': 'Default to OVN raft clustering\n\nDefault to deploying OVN with RAFT Active/Active clustering instead\nof Pacemaker Active/Backup. The code to support RAFT has been been\nin THT since train.\n\nRequires OVS 2.17 (technically only python-ovs 2.17) to work\nproperly at scale.\n\nChange-Id: I535087bc5f1266d1f4fe8bb1dca7d8c355c9de9d\n'}, {'number': 8, 'created': '2022-07-28 23:10:52.000000000', 'files': ['sample-env-generator/standalone.yaml', 'environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'environments/docker-ha.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml', 'environments/podman-ha.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/standalone/standalone-tripleo.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'releasenotes/notes/default-ovn-to-raft-cluster-9a1fb213d28d0650.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0d98aa2fef0b24dd2f437b8cfab533214863233', 'message': 'Default to OVN raft clustering\n\nDefault to deploying OVN with RAFT Active/Active clustering instead\nof Pacemaker Active/Backup. The code to support RAFT has been been\nin THT since train.\n\nRequires OVS 2.17 (technically only python-ovs 2.17) to work\nproperly at scale.\n\nChange-Id: I535087bc5f1266d1f4fe8bb1dca7d8c355c9de9d\n'}]",12,836372,d0d98aa2fef0b24dd2f437b8cfab533214863233,44,7,8,5756,,,0,"Default to OVN raft clustering

Default to deploying OVN with RAFT Active/Active clustering instead
of Pacemaker Active/Backup. The code to support RAFT has been been
in THT since train.

Requires OVS 2.17 (technically only python-ovs 2.17) to work
properly at scale.

Change-Id: I535087bc5f1266d1f4fe8bb1dca7d8c355c9de9d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/836372/2 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/services/neutron-ovn-ha.yaml', 'environments/docker-ha.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/standalone/standalone-tripleo.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml']",8,bfac5d6cdf5f1c19bc4c502966402f56227b4139,, OS::TripleO::Services::OVNDBs: ../../deployment/ovn/ovn-dbs-cluster-ansible.yaml, OS::TripleO::Services::OVNDBs: ../../deployment/ovn/ovn-dbs-pacemaker-puppet.yaml,8,8
openstack%2Fpython-glanceclient~master~Ie97687c930345931bc53a9d695c4f5f77a20d33f,openstack/python-glanceclient,master,Ie97687c930345931bc53a9d695c4f5f77a20d33f,Global_request_id is override,ABANDONED,2018-09-10 08:53:05.000000000,2022-08-03 12:31:21.000000000,,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-10 08:53:05.000000000', 'files': ['glanceclient/common/http.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/3fd9bb98ee537b39fd4052aa67a5ba7e61c10c73', 'message': 'Global_request_id is override\n\nAccording to\nhttps://github.com/openstack/keystoneauth/blob/master/keystoneauth1/adapter.py#L140,\nglobal_request_id is override by Adapter.\nSo we need to get global_request_id rather than pop global_request_id.\n\nChange-Id: Ie97687c930345931bc53a9d695c4f5f77a20d33f\nSigned-off-by: pengdake <19921207pq@gmail.com>\n'}]",3,601225,3fd9bb98ee537b39fd4052aa67a5ba7e61c10c73,5,3,1,25167,,,0,"Global_request_id is override

According to
https://github.com/openstack/keystoneauth/blob/master/keystoneauth1/adapter.py#L140,
global_request_id is override by Adapter.
So we need to get global_request_id rather than pop global_request_id.

Change-Id: Ie97687c930345931bc53a9d695c4f5f77a20d33f
Signed-off-by: pengdake <19921207pq@gmail.com>
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/25/601225/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/common/http.py'],1,3fd9bb98ee537b39fd4052aa67a5ba7e61c10c73,fix-bug," self.global_request_id = kwargs.get('global_request_id', None)"," self.global_request_id = kwargs.pop('global_request_id', None)",1,1
openstack%2Fironic~bugfix%2F18.1~I1f41259c4d36e467f210bf7b0643225f02620395,openstack/ironic,bugfix/18.1,I1f41259c4d36e467f210bf7b0643225f02620395,Use xena upper-constraints for all tests,MERGED,2022-08-02 15:32:58.000000000,2022-08-03 12:30:48.000000000,2022-08-03 12:28:21.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 15:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/265de0f5d296fd5d1a23d610436e3b66b2b86e20', 'message': 'Use xena upper-constraints for all tests\n\nChange-Id: I1f41259c4d36e467f210bf7b0643225f02620395\n'}, {'number': 2, 'created': '2022-08-02 15:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1a7f15d259a735931a15eda7be75171ae62c3bf8', 'message': 'Use xena upper-constraints for all tests\n\nChange-Id: I1f41259c4d36e467f210bf7b0643225f02620395\n'}, {'number': 3, 'created': '2022-08-02 15:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d7363657f2966a232a39af673d0fcb0e8c427167', 'message': 'Use xena upper-constraints for all tests\n\nChange-Id: I1f41259c4d36e467f210bf7b0643225f02620395\n'}, {'number': 4, 'created': '2022-08-03 07:52:18.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2170d69a037af9442f4f8ee663e9683538b46eb0', 'message': 'Use xena upper-constraints for all tests\n\nChange-Id: I1f41259c4d36e467f210bf7b0643225f02620395\n'}]",4,851902,2170d69a037af9442f4f8ee663e9683538b46eb0,22,2,4,23851,,,0,"Use xena upper-constraints for all tests

Change-Id: I1f41259c4d36e467f210bf7b0643225f02620395
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/851902/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,265de0f5d296fd5d1a23d610436e3b66b2b86e20,uc-xena, - openstack-cover-jobs-ironic-bugfix181, - openstack-cover-jobs,19,1
openstack%2Fdevstack~master~I3b838ea741d19729d6fcf03c0478b1b4d8ec1213,openstack/devstack,master,I3b838ea741d19729d6fcf03c0478b1b4d8ec1213,Neutron: Do not set removed allow_overlapping_ips,MERGED,2022-07-13 06:59:34.000000000,2022-08-03 12:15:07.000000000,2022-08-03 12:13:54.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-07-13 06:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/037b11f501bd46dd7c99846033f98524b09e4d88', 'message': 'Neutron: Do not set removed allow_overlapping_ips\n\nThe parameter has been removed from neutron by [1].\n\n[1] fde91e8059a9a23fb7ece6e3463984329c7ea581\n\nChange-Id: I3b838ea741d19729d6fcf03c0478b1b4d8ec1213\n'}, {'number': 2, 'created': '2022-07-13 13:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9f035c2430d4539d8bd1522aeec4cfe0ba396701', 'message': 'Neutron: Do not set removed allow_overlapping_ips\n\nThe parameter has been removed from neutron by [1].\n\n[1] fde91e8059a9a23fb7ece6e3463984329c7ea581\n\nChange-Id: I3b838ea741d19729d6fcf03c0478b1b4d8ec1213\n'}, {'number': 3, 'created': '2022-07-19 13:24:38.000000000', 'files': ['lib/neutron', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/facf15626e5776bc64a2f072bdccadbda714a8f2', 'message': 'Neutron: Do not set removed allow_overlapping_ips\n\nThe parameter has been removed from neutron by [1].\n\n[1] fde91e8059a9a23fb7ece6e3463984329c7ea581\n\nChange-Id: I3b838ea741d19729d6fcf03c0478b1b4d8ec1213\n'}]",1,849619,facf15626e5776bc64a2f072bdccadbda714a8f2,12,3,3,9816,,,0,"Neutron: Do not set removed allow_overlapping_ips

The parameter has been removed from neutron by [1].

[1] fde91e8059a9a23fb7ece6e3463984329c7ea581

Change-Id: I3b838ea741d19729d6fcf03c0478b1b4d8ec1213
",git fetch https://review.opendev.org/openstack/devstack refs/changes/19/849619/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron', 'lib/neutron-legacy']",2,037b11f501bd46dd7c99846033f98524b09e4d88,,, iniset $NEUTRON_CONF DEFAULT allow_overlapping_ips $Q_ALLOW_OVERLAPPING_IP,0,2
openstack%2Ftripleo-ansible~master~I2177cb4e2e7a959be4502b5ee18f9009d2c01722,openstack/tripleo-ansible,master,I2177cb4e2e7a959be4502b5ee18f9009d2c01722,Fix nova libvirt role vars mappings and linting,ABANDONED,2022-06-24 16:40:36.000000000,2022-08-03 11:47:43.000000000,,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-24 16:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/45fd7b4a0bdbeeb6a980bfac7de5e1bd36f77d77', 'message': 'Fix nova libvirt role vars mappings and linting\n\nAlso mark new var for ansible config template to be not\ncomplained about by the validation script.\n\nChange-Id: I2177cb4e2e7a959be4502b5ee18f9009d2c01722\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-06-27 14:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/978cbd56e6fa7a3068cdd8268aad6638b6713262', 'message': 'Fix nova libvirt role vars mappings and linting\n\nAlso mark new var for ansible config template to be not\ncomplained about by the validation script.\n\nChange-Id: I2177cb4e2e7a959be4502b5ee18f9009d2c01722\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-06-27 15:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/edd54de2d74fdad613af31794bd3ffdb431424dc', 'message': 'Fix nova libvirt role vars mappings and linting\n\nAlso mark new var for ansible config template to be not\ncomplained about by the validation script.\n\nChange-Id: I2177cb4e2e7a959be4502b5ee18f9009d2c01722\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-06-28 15:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/61068d07ac8560172750482fbb69004345d46bb1', 'message': 'Fix nova libvirt role vars mappings and linting\n\nAlso mark new var for ansible config template to be not\ncomplained about by the validation script.\n\nChange-Id: I2177cb4e2e7a959be4502b5ee18f9009d2c01722\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2022-06-28 16:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f346ed25a7177e569ee325674b4f0743ff658cc', 'message': 'Fix nova libvirt role vars mappings and linting\n\nAlso mark new var for ansible config template to be not\ncomplained about by the validation script.\n\nChange-Id: I2177cb4e2e7a959be4502b5ee18f9009d2c01722\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2022-06-29 12:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e5a58b834e2c31551d824fd20b667d5ed84af06f', 'message': 'Fix nova libvirt role vars mappings and linting\n\nAlso mark new var for ansible config template to be not\ncomplained about by the validation script.\n\nChange-Id: I2177cb4e2e7a959be4502b5ee18f9009d2c01722\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2022-06-29 14:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e63e3682bdb3a0288b57f332596c9aca6ccb183', 'message': 'Fix nova libvirt role vars mappings and linting\n\nAlso mark new var for ansible config template to be not\ncomplained about by the validation script.\n\nChange-Id: I2177cb4e2e7a959be4502b5ee18f9009d2c01722\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2022-06-29 14:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10ea5636a48378ca87c76ab2ee741ba367c17401', 'message': 'Fix nova libvirt role vars mappings and linting\n\nAlso mark new var for ansible config template to be not\ncomplained about by the validation script.\n\nChange-Id: I2177cb4e2e7a959be4502b5ee18f9009d2c01722\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2022-07-06 16:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8aa956cd2be71a09eb0499ee2ee8d2b2fc8d99a8', 'message': 'Fix nova libvirt role vars mappings and linting\n\nAlso mark new var for ansible config template to be not\ncomplained about by the validation script.\n\nChange-Id: I2177cb4e2e7a959be4502b5ee18f9009d2c01722\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2022-07-15 11:04:16.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_libvirt/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_nova_libvirt/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova_libvirt/templates/nova_virtlogd_wrapper.yaml.j2', 'tripleo_ansible/roles/tripleo_nova_libvirt/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_libvirt/tasks/update.yml', 'tripleo_ansible/roles/tripleo_nova_libvirt/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_nova_libvirt/tasks/run.yml', 'tripleo_ansible/roles/tripleo_nova_libvirt/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/186b982285a673c14ceb3b438424af573bbac906', 'message': 'Fix nova libvirt role vars mappings and linting\n\nAlso mark new var for ansible config template to be not\ncomplained about by the validation script.\n\nChange-Id: I2177cb4e2e7a959be4502b5ee18f9009d2c01722\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,847594,186b982285a673c14ceb3b438424af573bbac906,30,4,10,6926,,,0,"Fix nova libvirt role vars mappings and linting

Also mark new var for ansible config template to be not
complained about by the validation script.

Change-Id: I2177cb4e2e7a959be4502b5ee18f9009d2c01722
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/847594/10 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova_libvirt/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova_libvirt/templates/nova_virtlogd_wrapper.yaml.j2', 'tripleo_ansible/roles/tripleo_nova_libvirt/tasks/main.yml']",3,45fd7b4a0bdbeeb6a980bfac7de5e1bd36f77d77,standalone-roles," tripleo_nova_libvirt_use_tls_transport_for_live_migration | bool }}"" tripleo_nova_libvirt_use_tls_for_nbd: ""{{ tripleo_nova_libvirt_enable_internal_tls | bool or tripleo_nova_libvirt_use_tls_transport_for_nbd | bool }}"" tripleo_nova_libvirt_qemu_vnc_tls: false tripleo_nova_libvirt_qemu_nbd_tls: false tripleo_nova_libvirt_qemu_vnc_tls_verify: false - name: Update facts for using TLS for VNC when: tripleo_nova_libvirt_use_tls_for_vnc set_fact: tripleo_nova_libvirt_qemu_vnc_tls: true tripleo_nova_libvirt_qemu_vnc_tls_verify: true - name: Update facts for using TLS for NBD when: tripleo_nova_libvirt_use_tls_for_nbd set_fact: tripleo_nova_libvirt_qemu_nbd_tls: true tripleo_nova_libvirt_migration_client_libvirt_tls: true - name: Update facts for using TLS for Live Migration when: tripleo_nova_libvirt_use_tls_for_live_migration set_fact: tripleo_nova_libvirt_migration_libvirt_live_migration_with_native_tls: true"," tripleo_nova_libvirt_use_tls_transport_for_live_migration | bool }}""",80,44
openstack%2Ftripleo-ansible~master~Id5db4266ad1b1bc3f93cfec6d3822847a237ed93,openstack/tripleo-ansible,master,Id5db4266ad1b1bc3f93cfec6d3822847a237ed93,Example hiera bindings fixes based on tht data,ABANDONED,2022-06-17 17:13:00.000000000,2022-08-03 11:46:37.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-17 17:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ec645f00949e1f565609ce8a635f7284b658b9bd', 'message': 'Example hiera bindings fixes based on tht data\n\nSee https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756\n\nExample run that resulted in these changes (in role default vars):\nhttps://paste.opendev.org/show/bkGO1gGkMBAaHsMVYCen/\n\nChange-Id: Id5db4266ad1b1bc3f93cfec6d3822847a237ed93\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-06-21 12:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eae3da7b0b6da6aa3cb5b618715a82b6d6883717', 'message': 'Example hiera bindings fixes based on tht data\n\nSee https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756\n\nExample run that resulted in these changes (in role default vars):\nhttps://paste.opendev.org/show/blP5i7ewre7MQHWztyrE/\n\nChange-Id: Id5db4266ad1b1bc3f93cfec6d3822847a237ed93\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-06-21 12:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5e2333cbf1e5e773f64e1a2fd1e280a19029748', 'message': 'Example hiera bindings fixes based on tht data\n\nSee https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756\n\nExample run that resulted in these changes (in role default vars):\nhttps://paste.opendev.org/show/b1oX8tptZQjKYSrvC9yw/\n\nChange-Id: Id5db4266ad1b1bc3f93cfec6d3822847a237ed93\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-06-23 13:20:01.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_compute/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6b2263576ce69472fb8c62def5b760843b329eca', 'message': 'Example hiera bindings fixes based on tht data\n\nSee https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756\n\nExample run that resulted in these changes (in role default vars):\nhttps://paste.opendev.org/show/b1oX8tptZQjKYSrvC9yw/\n\nChange-Id: Id5db4266ad1b1bc3f93cfec6d3822847a237ed93\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",7,846431,6b2263576ce69472fb8c62def5b760843b329eca,18,5,4,6926,,,0,"Example hiera bindings fixes based on tht data

See https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756

Example run that resulted in these changes (in role default vars):
https://paste.opendev.org/show/b1oX8tptZQjKYSrvC9yw/

Change-Id: Id5db4266ad1b1bc3f93cfec6d3822847a237ed93
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/846431/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova_compute/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/main.yml']",2,ec645f00949e1f565609ce8a635f7284b658b9bd,standalone-roles," tripleo_nova_compute_file_backed_memory_enabled: ""{{ tripleo_nova_compute_file_backed_memory == '' or tripleo_nova_compute_file_backed_memory == 0 }}"""," tripleo_nova_compute_libvirt_file_backed_memory_enabled: ""{{ tripleo_nova_compute_libvirt_file_backed_memory == '' or tripleo_nova_compute_libvirt_file_backed_memory == 0 }}""",15,18
openstack%2Ftripleo-ansible~master~I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd,openstack/tripleo-ansible,master,I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd,Add logging tasks for common nova services use,ABANDONED,2022-06-21 14:02:04.000000000,2022-08-03 11:45:37.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-21 14:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ffc12571a3ed7f01d6c9264d8a8eb458334411b', 'message': ""Add logging tasks for common nova services use\n\nThere is no need to introduce tripleo_nova_common role\nfor a tiny bit of logging init steps. Let's reuse the\nnova_compute role for that.\n\nChange-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2022-06-21 14:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53217b7805471aecb80bbecf7039e54283550226', 'message': ""Add logging tasks for common nova services use\n\nThere is no need to introduce tripleo_nova_common role\nfor a tiny bit of logging init steps. Let's reuse the\nnova_compute role for that.\n\nChange-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2022-06-23 13:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25d1fbae7322666117ee1e22c61d597b5ec27a70', 'message': ""Add logging tasks for common nova services use\n\nThere is no need to introduce tripleo_nova_common role\nfor a tiny bit of logging init steps. Let's reuse the\nnova_compute role for that.\n\nChange-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2022-06-27 14:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b805f64d0d79bd7a673be03da0f1e0be24090f6d', 'message': ""Add logging tasks for common nova services use\n\nThere is no need to introduce tripleo_nova_common role\nfor a tiny bit of logging init steps. Let's reuse the\nnova_compute role for that.\n\nChange-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2022-06-27 15:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a3c432c60b1ef3881696ebeffa54186ca256924e', 'message': ""Add logging tasks for common nova services use\n\nThere is no need to introduce tripleo_nova_common role\nfor a tiny bit of logging init steps. Let's reuse the\nnova_compute role for that.\n\nChange-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 6, 'created': '2022-06-28 15:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/577c80d0ac491e4057340ae4d976bc0f77bf93a6', 'message': ""Add logging tasks for common nova services use\n\nThere is no need to introduce tripleo_nova_common role\nfor a tiny bit of logging init steps. Let's reuse the\nnova_compute role for that.\n\nChange-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 7, 'created': '2022-06-28 16:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b8e497d4405b9da50a10c3ebb6f8e0b94a515563', 'message': ""Add logging tasks for common nova services use\n\nThere is no need to introduce tripleo_nova_common role\nfor a tiny bit of logging init steps. Let's reuse the\nnova_compute role for that.\n\nChange-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 8, 'created': '2022-06-29 12:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98c4d52db659dfa9bbfe665043a1e931f29b09e1', 'message': ""Add logging tasks for common nova services use\n\nThere is no need to introduce tripleo_nova_common role\nfor a tiny bit of logging init steps. Let's reuse the\nnova_compute role for that.\n\nChange-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 9, 'created': '2022-06-29 14:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/801144a5afa79efd123349d9830d34aaaf914522', 'message': ""Add logging tasks for common nova services use\n\nThere is no need to introduce tripleo_nova_common role\nfor a tiny bit of logging init steps. Let's reuse the\nnova_compute role for that.\n\nChange-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 10, 'created': '2022-07-06 15:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81eebcda206b18ae139091a6dbad1d3ff4ecb5f8', 'message': ""Add logging tasks for common nova services use\n\nThere is no need to introduce tripleo_nova_common role\nfor a tiny bit of logging init steps. Let's reuse the\nnova_compute role for that.\n\nChange-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 11, 'created': '2022-07-08 15:52:51.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_compute/tasks/logging-install.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/logging-run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/867f285a213145729db2d54e31edd3a73855b3b0', 'message': ""Add logging tasks for common nova services use\n\nThere is no need to introduce tripleo_nova_common role\nfor a tiny bit of logging init steps. Let's reuse the\nnova_compute role for that.\n\nChange-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",1,847028,867f285a213145729db2d54e31edd3a73855b3b0,29,3,11,6926,,,0,"Add logging tasks for common nova services use

There is no need to introduce tripleo_nova_common role
for a tiny bit of logging init steps. Let's reuse the
nova_compute role for that.

Change-Id: I69709d49c3d64ceb0d5b095bd9a0a6a1ebcbb0bd
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/847028/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova_compute/tasks/logging-install.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/logging-run.yml']",2,3ffc12571a3ed7f01d6c9264d8a8eb458334411b,standalone-roles," # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. --- - name: Ensure /var/lib/container-config-scripts exists file: path: /var/lib/container-config-scripts state: directory - name: Manage nova_compute_init_log container include_role: name: tripleo_container_standalone vars: tripleo_container_standalone_service: nova_compute_init_log tripleo_container_standalone_container_defs: nova_compute_init_log: ""{{ lookup('template', 'nova_compute_init_log.yaml.j2') | from_yaml }}""",,53,0
openstack%2Ftripleo-ansible~master~I43821fc83fa4af8e238d11c370dc6ef8d5619b58,openstack/tripleo-ansible,master,I43821fc83fa4af8e238d11c370dc6ef8d5619b58,Example hiera bindings fixes based on tht data,ABANDONED,2022-06-22 16:29:41.000000000,2022-08-03 11:45:26.000000000,,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-22 16:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ce0e18274f87e5e63a304a1885d92d8b47491135', 'message': 'Fix nova_compute naming, add missed hiera mappings\n\nFor nova compute role, follow the naming rules to allow the\nvalidation script to track t-h-t mappings approrpiately.\n\nAdd missing hiera mappings as role vars to be implemented later, or\nskipped, had we chosen user-provided config snippets instead of\ncustomizing role vars.\n\nRemove CP-specific configuration variables from nova compute role:\n* Leave only auth related mappings for nova::cinder that nova compute\n  role should use based on t-h-t nova-compute service. Drop/omit\n  auth params for keystone, placement and neutron. These should be\n  mapped for the control plane standalone roles only (in t-h-t its\n  hiera data is coming from puppet base service template).\n* Remove cache backend settings\n\nDrop redundant DEFAULT vars, just use role vars for it.\nFix integer values to become integers instead of strings (bad UX)\n\nChange-Id: I43821fc83fa4af8e238d11c370dc6ef8d5619b58\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-06-23 13:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad1d2bc15beaa9fc815735dc9a715d187302f760', 'message': 'Fix nova_compute naming, add missed hiera mappings\n\nFor nova compute role, follow the naming rules to allow the\nvalidation script to track t-h-t mappings approrpiately.\n\nAdd missing hiera mappings as role vars to be implemented later, or\nskipped, had we chosen user-provided config snippets instead of\ncustomizing role vars.\n\nRemove CP-specific configuration variables from nova compute role:\n* Leave only auth related mappings for nova::cinder that nova compute\n  role should use based on t-h-t nova-compute service. Drop/omit\n  auth params for keystone, placement and neutron. These should be\n  mapped for the control plane standalone roles only (in t-h-t its\n  hiera data is coming from puppet base service template).\n* Remove cache backend settings\n\nDrop redundant DEFAULT vars, just use role vars for it.\nFix integer values to become integers instead of strings (bad UX)\n\nChange-Id: I43821fc83fa4af8e238d11c370dc6ef8d5619b58\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-06-27 14:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d13f246f90cd676add1ce4bf6aa26ffb2e008967', 'message': 'Fix nova_compute naming, add missed hiera mappings\n\nFor nova compute role, follow the naming rules to allow the\nvalidation script to track t-h-t mappings approrpiately.\n\nAdd missing hiera mappings as role vars to be implemented later, or\nskipped, had we chosen user-provided config snippets instead of\ncustomizing role vars.\n\nRemove CP-specific configuration variables from nova compute role:\n* Leave only auth related mappings for nova::cinder that nova compute\n  role should use based on t-h-t nova-compute service. Drop/omit\n  auth params for keystone, placement and neutron. These should be\n  mapped for the control plane standalone roles only (in t-h-t its\n  hiera data is coming from puppet base service template).\n* Remove cache backend settings\n\nDrop redundant DEFAULT vars, just use role vars for it.\nFix integer values to become integers instead of strings (bad UX)\n\nChange-Id: I43821fc83fa4af8e238d11c370dc6ef8d5619b58\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-06-27 15:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e31b9d434caac53a72fd67f97afa9a7129d021f', 'message': 'Example hiera bindings fixes based on tht data\n\nSee https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756\n\nExample run that resulted in these changes (in role default vars):\nhttps://paste.opendev.org/show/b1oX8tptZQjKYSrvC9yw/\n\nFor nova compute role, follow the naming rules to allow the\nvalidation script to track t-h-t mappings approrpiately.\n\nAdd missing hiera mappings as role vars to be implemented later, or\nskipped, had we chosen user-provided config snippets instead of\ncustomizing role vars.\n\nRemove CP-specific configuration variables from nova compute role:\n* Leave only auth related mappings for nova::cinder that nova compute\n  role should use based on t-h-t nova-compute service. Drop/omit\n  auth params for keystone, placement and neutron. These should be\n  mapped for the control plane standalone roles only (in t-h-t its\n  hiera data is coming from puppet base service template).\n* Remove cache backend settings\n\nDrop redundant DEFAULT vars, just use role vars for it.\nFix integer values to become integers instead of strings (bad UX)\n\nChange-Id: I43821fc83fa4af8e238d11c370dc6ef8d5619b58\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2022-06-28 15:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aae03565e2f7faf7ada2329113380d378fb2b37c', 'message': 'Example hiera bindings fixes based on tht data\n\nSee https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756\n\nExample run that resulted in these changes (in role default vars):\nhttps://paste.opendev.org/show/b1oX8tptZQjKYSrvC9yw/\n\nFor nova compute role, follow the naming rules to allow the\nvalidation script to track t-h-t mappings approrpiately.\n\nAdd missing hiera mappings as role vars to be implemented later, or\nskipped, had we chosen user-provided config snippets instead of\ncustomizing role vars.\n\nRemove CP-specific configuration variables from nova compute role:\n* Leave only auth related mappings for nova::cinder that nova compute\n  role should use based on t-h-t nova-compute service. Drop/omit\n  auth params for keystone, placement and neutron. These should be\n  mapped for the control plane standalone roles only (in t-h-t its\n  hiera data is coming from puppet base service template).\n* Remove cache backend settings\n\nDrop redundant DEFAULT vars, just use role vars for it.\nFix integer values to become integers instead of strings (bad UX)\n\nChange-Id: I43821fc83fa4af8e238d11c370dc6ef8d5619b58\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2022-06-28 16:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0d0f311cf48977070237e0391b01f6909a72810', 'message': 'Example hiera bindings fixes based on tht data\n\nSee https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756\n\nExample run that resulted in these changes (in role default vars):\nhttps://paste.opendev.org/show/b1oX8tptZQjKYSrvC9yw/\n\nFor nova compute role, follow the naming rules to allow the\nvalidation script to track t-h-t mappings approrpiately.\n\nAdd missing hiera mappings as role vars to be implemented later, or\nskipped, had we chosen user-provided config snippets instead of\ncustomizing role vars.\n\nRemove CP-specific configuration variables from nova compute role:\n* Leave only auth related mappings for nova::cinder that nova compute\n  role should use based on t-h-t nova-compute service. Drop/omit\n  auth params for keystone, placement and neutron. These should be\n  mapped for the control plane standalone roles only (in t-h-t its\n  hiera data is coming from puppet base service template).\n* Remove cache backend settings\n\nDrop redundant DEFAULT vars, just use role vars for it.\nFix integer values to become integers instead of strings (bad UX)\n\nChange-Id: I43821fc83fa4af8e238d11c370dc6ef8d5619b58\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2022-06-29 12:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e30fce5a7b06303613d56e9ceba3621ae7e23621', 'message': 'Example hiera bindings fixes based on tht data\n\nSee https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756\n\nExample run that resulted in these changes (in role default vars):\nhttps://paste.opendev.org/show/b1oX8tptZQjKYSrvC9yw/\n\nFor nova compute role, follow the naming rules to allow the\nvalidation script to track t-h-t mappings approrpiately.\n\nAdd missing hiera mappings as role vars to be implemented later, or\nskipped, had we chosen user-provided config snippets instead of\ncustomizing role vars.\n\nRemove CP-specific configuration variables from nova compute role:\n* Leave only auth related mappings for nova::cinder that nova compute\n  role should use based on t-h-t nova-compute service. Drop/omit\n  auth params for keystone, placement and neutron. These should be\n  mapped for the control plane standalone roles only (in t-h-t its\n  hiera data is coming from puppet base service template).\n* Remove cache backend settings\n\nDrop redundant DEFAULT vars, just use role vars for it.\nFix integer values to become integers instead of strings (bad UX)\n\nChange-Id: I43821fc83fa4af8e238d11c370dc6ef8d5619b58\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2022-06-29 14:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e241fe8005b921a643b7afb65377210e0c6d957d', 'message': 'Example hiera bindings fixes based on tht data\n\nSee https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756\n\nExample run that resulted in these changes (in role default vars):\nhttps://paste.opendev.org/show/b1oX8tptZQjKYSrvC9yw/\n\nFor nova compute role, follow the naming rules to allow the\nvalidation script to track t-h-t mappings approrpiately.\n\nAdd missing hiera mappings as role vars to be implemented later, or\nskipped, had we chosen user-provided config snippets instead of\ncustomizing role vars.\n\nRemove CP-specific configuration variables from nova compute role:\n* Leave only auth related mappings for nova::cinder that nova compute\n  role should use based on t-h-t nova-compute service. Drop/omit\n  auth params for keystone, placement and neutron. These should be\n  mapped for the control plane standalone roles only (in t-h-t its\n  hiera data is coming from puppet base service template).\n* Remove cache backend settings\n\nDrop redundant DEFAULT vars, just use role vars for it.\nFix integer values to become integers instead of strings (bad UX)\n\nChange-Id: I43821fc83fa4af8e238d11c370dc6ef8d5619b58\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2022-07-06 15:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0658766bff6e1a06a7e3f15d55531dbda1f1a5a0', 'message': 'Example hiera bindings fixes based on tht data\n\nSee https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756\n\nExample run that resulted in these changes (in role default vars):\nhttps://paste.opendev.org/show/b1oX8tptZQjKYSrvC9yw/\n\nFor nova compute role, follow the naming rules to allow the\nvalidation script to track t-h-t mappings approrpiately.\n\nAdd missing hiera mappings as role vars to be implemented later, or\nskipped, had we chosen user-provided config snippets instead of\ncustomizing role vars.\n\nRemove CP-specific configuration variables from nova compute role:\n* Leave only auth related mappings for nova::cinder that nova compute\n  role should use based on t-h-t nova-compute service. Drop/omit\n  auth params for keystone, placement and neutron. These should be\n  mapped for the control plane standalone roles only (in t-h-t its\n  hiera data is coming from puppet base service template).\n* Remove cache backend settings\n\nDrop redundant DEFAULT vars, just use role vars for it.\nFix integer values to become integers instead of strings (bad UX)\n\nChange-Id: I43821fc83fa4af8e238d11c370dc6ef8d5619b58\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2022-07-08 15:52:51.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_compute/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova_compute/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7df1aa1e121464622d9daa4babbeaa93ce0e2d5f', 'message': 'Example hiera bindings fixes based on tht data\n\nSee https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756\n\nExample run that resulted in these changes (in role default vars):\nhttps://paste.opendev.org/show/b1oX8tptZQjKYSrvC9yw/\n\nFor nova compute role, follow the naming rules to allow the\nvalidation script to track t-h-t mappings approrpiately.\n\nAdd missing hiera mappings as role vars to be implemented later, or\nskipped, had we chosen user-provided config snippets instead of\ncustomizing role vars.\n\nRemove CP-specific configuration variables from nova compute role:\n* Leave only auth related mappings for nova::cinder that nova compute\n  role should use based on t-h-t nova-compute service. Drop/omit\n  auth params for keystone, placement and neutron. These should be\n  mapped for the control plane standalone roles only (in t-h-t its\n  hiera data is coming from puppet base service template).\n* Remove cache backend settings\n\nDrop redundant DEFAULT vars, just use role vars for it.\nFix integer values to become integers instead of strings (bad UX)\n\nChange-Id: I43821fc83fa4af8e238d11c370dc6ef8d5619b58\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,847199,7df1aa1e121464622d9daa4babbeaa93ce0e2d5f,30,6,10,6926,,,0,"Example hiera bindings fixes based on tht data

See https://gist.github.com/bogdando/ab2118f4c6fbb88c1c127fd6eb82b756

Example run that resulted in these changes (in role default vars):
https://paste.opendev.org/show/b1oX8tptZQjKYSrvC9yw/

For nova compute role, follow the naming rules to allow the
validation script to track t-h-t mappings approrpiately.

Add missing hiera mappings as role vars to be implemented later, or
skipped, had we chosen user-provided config snippets instead of
customizing role vars.

Remove CP-specific configuration variables from nova compute role:
* Leave only auth related mappings for nova::cinder that nova compute
  role should use based on t-h-t nova-compute service. Drop/omit
  auth params for keystone, placement and neutron. These should be
  mapped for the control plane standalone roles only (in t-h-t its
  hiera data is coming from puppet base service template).
* Remove cache backend settings

Drop redundant DEFAULT vars, just use role vars for it.
Fix integer values to become integers instead of strings (bad UX)

Change-Id: I43821fc83fa4af8e238d11c370dc6ef8d5619b58
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/99/847199/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova_compute/defaults/main.yml', 'tripleo_ansible/inventory/99-custom']",2,ce0e18274f87e5e63a304a1885d92d8b47491135,standalone-roles,"tripleo_nova_compute_vncproxy_host=""http://192.168.24.3:6080/vnc_auto.html""tripleo_nova_compute_vncserver_proxyclient_address=""192.168.24.2"" tripleo_nova_compute_reserved_host_memory='1024'","tripleo_nova_compute_cache_memcache_servers=""sm9.ctlplane.localdomain:11211""tripleo_nova_compute_neutron_auth_url=""http://192.168.24.3:5000/v3"" tripleo_nova_compute_neutron_password=""L1TLavUP9CynQVJghUir69aLs""tripleo_nova_compute_placement_auth_url=""http://192.168.24.3:5000"" tripleo_nova_compute_placement_password=""N0ntT1czP7PA9qXQpeDeP6bXr"" tripleo_nova_compute_service_user_auth_url=""http://192.168.24.3:5000"" tripleo_nova_compute_service_user_password=""ZCai6tz0DgrBN7p8JZG9D75sq"" tripleo_nova_compute_vnc_novncproxy_base_url=""http://192.168.24.3:6080/vnc_auto.html""tripleo_nova_compute_vnc_server_proxyclient_address=""192.168.24.2"" tripleo_nova_compute_DEFAULT_reserved_host_memory_mb='1024'",47,103
openstack%2Fmanila-ui~master~I291c7f1448afea3942db091ebc976d757934bb32,openstack/manila-ui,master,I291c7f1448afea3942db091ebc976d757934bb32,Imported Translations from Zanata,MERGED,2022-08-03 02:26:59.000000000,2022-08-03 11:42:39.000000000,2022-08-03 11:41:10.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-03 02:26:59.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/22ec4fb5aa04bdde453c86418c211bc58e841a24', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I291c7f1448afea3942db091ebc976d757934bb32\n'}]",0,851943,22ec4fb5aa04bdde453c86418c211bc58e841a24,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I291c7f1448afea3942db091ebc976d757934bb32
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/43/851943/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,22ec4fb5aa04bdde453c86418c211bc58e841a24,zanata/translations,"""POT-Creation-Date: 2022-06-28 13:12+0000\n""""PO-Revision-Date: 2022-08-02 11:25+0000\n""msgid ""7.0.0-9"" msgstr ""7.0.0-9""","""POT-Creation-Date: 2022-06-21 13:50+0000\n""""PO-Revision-Date: 2022-06-26 09:11+0000\n""msgid ""7.0.0-8"" msgstr ""7.0.0-8""",4,4
openstack%2Fnova~master~Ic1b69047b6edd4987df3191ce84658393a1cb968,openstack/nova,master,Ic1b69047b6edd4987df3191ce84658393a1cb968,[trivial] Simplify dict get call by removing unused default,MERGED,2022-07-20 05:10:44.000000000,2022-08-03 11:32:06.000000000,2022-08-03 11:30:46.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 16523}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 23266}]","[{'number': 1, 'created': '2022-07-20 05:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/866ff169ab64f59c55e9be06d159696e7b1186cc', 'message': 'Remove None for get method, the default value is None\n\nChange-Id: Ic1b69047b6edd4987df3191ce84658393a1cb968\n'}, {'number': 2, 'created': '2022-07-21 18:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/572efaf83ec287ca7339100ed52a3d0aea2acb1b', 'message': 'The default value of the dictionary get method is None,\nso remove the default value of None in the get method\n\nChange-Id: Ic1b69047b6edd4987df3191ce84658393a1cb968\n'}, {'number': 3, 'created': '2022-07-22 15:18:45.000000000', 'files': ['nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff7d9d7b7e0f3cc943310582ab29f03d94d1c348', 'message': '[trivial] Simplify dict get call by removing unused default\n\nThe default value of the dictionary get method is None,\nso remove the default value of None in the get method\n\nChange-Id: Ic1b69047b6edd4987df3191ce84658393a1cb968\n'}]",11,850450,ff7d9d7b7e0f3cc943310582ab29f03d94d1c348,103,7,3,33543,,,0,"[trivial] Simplify dict get call by removing unused default

The default value of the dictionary get method is None,
so remove the default value of None in the get method

Change-Id: Ic1b69047b6edd4987df3191ce84658393a1cb968
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/850450/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutron.py'],1,866ff169ab64f59c55e9be06d159696e7b1186cc,, if port.get('device_id'):," if port.get('device_id', None):",1,1
openstack%2Fec2-api~master~I1c9b790eb6ce3f9d4281d6b1306eed49043078f3,openstack/ec2-api,master,I1c9b790eb6ce3f9d4281d6b1306eed49043078f3,fixed customer_gateway,MERGED,2022-07-21 22:38:35.000000000,2022-08-03 11:31:10.000000000,2022-08-03 11:29:55.000000000,"[{'_account_id': 10234}, {'_account_id': 14151}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-21 22:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4aad5e69788af5ff8ca4d5cde0832949f601df3f', 'message': 'trying to find out ec2 error\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I1c9b790eb6ce3f9d4281d6b1306eed49043078f3\n'}, {'number': 2, 'created': '2022-07-22 06:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/f43a65fbbb55e543d7e32c4b939bb0e51e019b8c', 'message': 'trying to find out ec2 error\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I1c9b790eb6ce3f9d4281d6b1306eed49043078f3\n'}, {'number': 3, 'created': '2022-07-22 08:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/694a4008cb8a3ac9f91944078853a15376498134', 'message': 'trying to find out ec2 error\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I1c9b790eb6ce3f9d4281d6b1306eed49043078f3\n'}, {'number': 4, 'created': '2022-07-22 10:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a6a3559ce6daa633435080d112faee17e0dba1dd', 'message': 'trying to find out ec2 error\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I1c9b790eb6ce3f9d4281d6b1306eed49043078f3\n'}, {'number': 5, 'created': '2022-07-22 10:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/d0c20da64c36fcc86d8af36b412805ce01c43ab4', 'message': 'trying to find out ec2 error\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I1c9b790eb6ce3f9d4281d6b1306eed49043078f3\n'}, {'number': 6, 'created': '2022-07-22 10:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b27e34875c2bb2d954b2eb4793d827f8e233d097', 'message': 'trying to find out ec2 error\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I1c9b790eb6ce3f9d4281d6b1306eed49043078f3\n'}, {'number': 7, 'created': '2022-08-03 07:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b048a7ac183c0b58b5ec8a72b7eeae82625733f6', 'message': 'fixed customer_gateway\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I1c9b790eb6ce3f9d4281d6b1306eed49043078f3\n'}, {'number': 8, 'created': '2022-08-03 07:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/7d4ff8679189b5966fa13456dfc40296cd4da7f4', 'message': 'fixed customer_gateway\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I1c9b790eb6ce3f9d4281d6b1306eed49043078f3\n'}, {'number': 9, 'created': '2022-08-03 08:35:36.000000000', 'files': ['ec2api/api/cloud.py', 'ec2api/api/customer_gateway.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/77d6b2fc8ec1b2022b1cb07894bdf9bc1201f683', 'message': 'fixed customer_gateway\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I1c9b790eb6ce3f9d4281d6b1306eed49043078f3\n'}]",11,850702,77d6b2fc8ec1b2022b1cb07894bdf9bc1201f683,23,3,9,35091,,,0,"fixed customer_gateway

Signed-off-by: nik.kaluzhin <doupfish@gmail.com>
Change-Id: I1c9b790eb6ce3f9d4281d6b1306eed49043078f3
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/02/850702/9 && git format-patch -1 --stdout FETCH_HEAD,['ec2api/api/customer_gateway.py'],1,4aad5e69788af5ff8ca4d5cde0832949f601df3f,, # testing output to get ec2 failures,,1,0
openstack%2Foctavia-tempest-plugin~master~I1f466dbed1dd676df00b7d7d8fd07bdaa14257dc,openstack/octavia-tempest-plugin,master,I1f466dbed1dd676df00b7d7d8fd07bdaa14257dc,remove unicode from code,ABANDONED,2022-08-03 11:23:21.000000000,2022-08-03 11:24:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-03 11:23:21.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/067f31ff5b8596aac25b0988dbbb1d8241a0cc70', 'message': 'remove unicode from code\n\nChange-Id: I1f466dbed1dd676df00b7d7d8fd07bdaa14257dc\n'}]",0,851995,067f31ff5b8596aac25b0988dbbb1d8241a0cc70,3,1,1,35067,,,0,"remove unicode from code

Change-Id: I1f466dbed1dd676df00b7d7d8fd07bdaa14257dc
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/95/851995/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,067f31ff5b8596aac25b0988dbbb1d8241a0cc70,,"project = 'octavia-tempest-plugin' copyright = '2017-2019, OpenStack Foundation' 'Octavia Tempest Plugin Documentation', 'OpenStack Octavia Team',","project = u'octavia-tempest-plugin' copyright = u'2017-2019, OpenStack Foundation' u'Octavia Tempest Plugin Documentation', u'OpenStack Octavia Team',",4,4
openstack%2Fopenstack-ansible~master~I69f90cf5da035777570a733644efa95a18634039,openstack/openstack-ansible,master,I69f90cf5da035777570a733644efa95a18634039,Correct series names for documentation.,MERGED,2022-08-03 09:50:22.000000000,2022-08-03 11:15:06.000000000,2022-08-03 11:13:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-08-03 09:50:22.000000000', 'files': ['doc/source/conf.py', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/93b35e0b68f451b3d172ee6f3b43c906c12cde30', 'message': 'Correct series names for documentation.\n\nThe upgrade guide renders the wrong release names.\n\nChange-Id: I69f90cf5da035777570a733644efa95a18634039\n'}]",0,851975,93b35e0b68f451b3d172ee6f3b43c906c12cde30,9,4,1,25023,,,0,"Correct series names for documentation.

The upgrade guide renders the wrong release names.

Change-Id: I69f90cf5da035777570a733644efa95a18634039
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/851975/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'deploy-guide/source/conf.py']",2,93b35e0b68f451b3d172ee6f3b43c906c12cde30,,previous_series_name = 'xena' current_series_name = 'yoga',previous_series_name = 'wallaby' current_series_name = 'xena',4,4
openstack%2Ftripleo-validations~master~I084e8061523d59bb4855a0db1a19873a85fda57b,openstack/tripleo-validations,master,I084e8061523d59bb4855a0db1a19873a85fda57b,Fix package metadata for pypi upload,MERGED,2022-08-02 18:13:44.000000000,2022-08-03 11:13:38.000000000,2022-08-03 11:13:38.000000000,"[{'_account_id': 9816}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-08-02 18:13:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/896dcbdbc5cff78810c734f7eb39843364ef596d', 'message': 'Fix package metadata for pypi upload\n\npypi upload is failing as now metadata check is more strict and\nformerly ignored wrong long_description_content_type (rst-x instead of\nx-rst) now results error during pypi upload. This patch sets the\nproper content type that pypi accepts.\n\nCloses-Bug: #1983405\nChange-Id: I084e8061523d59bb4855a0db1a19873a85fda57b\n'}]",0,851923,896dcbdbc5cff78810c734f7eb39843364ef596d,8,4,1,17685,,,0,"Fix package metadata for pypi upload

pypi upload is failing as now metadata check is more strict and
formerly ignored wrong long_description_content_type (rst-x instead of
x-rst) now results error during pypi upload. This patch sets the
proper content type that pypi accepts.

Closes-Bug: #1983405
Change-Id: I084e8061523d59bb4855a0db1a19873a85fda57b
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/23/851923/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,896dcbdbc5cff78810c734f7eb39843364ef596d,bug/1983405,long_description_content_type = text/x-rst,long_description_content_type = text/rst-x,1,1
openstack%2Fnova~master~Ibf4f36136f2c65adad64f75d665c00cf2de4b400,openstack/nova,master,Ibf4f36136f2c65adad64f75d665c00cf2de4b400,Remove the PowerVM driver,MERGED,2022-07-19 12:46:21.000000000,2022-08-03 10:49:02.000000000,2022-08-03 10:47:24.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-19 12:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27ea68272af4a862d0c05ebd0cec89611ed31b76', 'message': ""Remove the PowerVM driver\n\nThis isn't as tied into the codebase as the old XenAPI driver was, so\nremoval is mostly a case of deleting large swathes of code. Lovely.\n\nChange-Id: Ibf4f36136f2c65adad64f75d665c00cf2de4b400\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2022-07-26 19:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/471c5850f2b0ef5d5aca6218afcb35a9cc99e0b7', 'message': ""Remove the PowerVM driver\n\nThis isn't as tied into the codebase as the old XenAPI driver was, so\nremoval is mostly a case of deleting large swathes of code. Lovely.\n\nChange-Id: Ibf4f36136f2c65adad64f75d665c00cf2de4b400\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2022-07-27 10:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4776cf8bc0212113fe693d2dcde2dde83ae53110', 'message': ""Remove the PowerVM driver\n\nThe PowerVM driver was deprecated in November 2021 as part of change\nIcdef0a03c3c6f56b08ec9685c6958d6917bc88cb. As noted there, all\nindications suggest that this driver is no longer maintained and may be\nabandonware. It's been some time and there's still no activity here so\nit's time to abandon this for real.\n\nThis isn't as tied into the codebase as the old XenAPI driver was, so\nremoval is mostly a case of deleting large swathes of code. Lovely.\n\nChange-Id: Ibf4f36136f2c65adad64f75d665c00cf2de4b400\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2022-08-01 15:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a17b6f108fc594a3e2171774542bea61ac9da9b', 'message': ""Remove the PowerVM driver\n\nThe PowerVM driver was deprecated in November 2021 as part of change\nIcdef0a03c3c6f56b08ec9685c6958d6917bc88cb. As noted there, all\nindications suggest that this driver is no longer maintained and may be\nabandonware. It's been some time and there's still no activity here so\nit's time to abandon this for real.\n\nThis isn't as tied into the codebase as the old XenAPI driver was, so\nremoval is mostly a case of deleting large swathes of code. Lovely.\n\nChange-Id: Ibf4f36136f2c65adad64f75d665c00cf2de4b400\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2022-08-01 15:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/000b05d3079d4810789911332ec9026203e85abf', 'message': ""Remove the PowerVM driver\n\nThe PowerVM driver was deprecated in November 2021 as part of change\nIcdef0a03c3c6f56b08ec9685c6958d6917bc88cb. As noted there, all\nindications suggest that this driver is no longer maintained and may be\nabandonware. It's been some time and there's still no activity here so\nit's time to abandon this for real.\n\nThis isn't as tied into the codebase as the old XenAPI driver was, so\nremoval is mostly a case of deleting large swathes of code. Lovely.\n\nChange-Id: Ibf4f36136f2c65adad64f75d665c00cf2de4b400\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2022-08-02 13:32:09.000000000', 'files': ['nova/virt/powervm/tasks/vm.py', 'nova/tests/unit/virt/powervm/tasks/test_storage.py', 'test-requirements.txt', 'nova/virt/powervm/tasks/image.py', 'README.rst', 'doc/source/user/feature-matrix-gp.ini', 'nova/virt/powervm/vm.py', 'nova/tests/unit/virt/powervm/tasks/test_network.py', 'nova/tests/unit/virt/powervm/test_host.py', 'nova/virt/powervm/driver.py', 'nova/tests/unit/virt/powervm/disk/test_driver.py', 'nova/tests/unit/virt/powervm/tasks/test_vm.py', 'nova/tests/unit/virt/powervm/__init__.py', 'nova/tests/unit/virt/powervm/disk/test_ssp.py', 'nova/tests/unit/virt/powervm/volume/test_fcvscsi.py', 'nova/tests/unit/objects/test_migrate_data.py', 'nova/tests/unit/virt/powervm/disk/test_localdisk.py', 'nova/api/validation/extra_specs/powervm.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/powervm/host.py', 'nova/virt/powervm/media.py', 'nova/tests/unit/virt/powervm/test_vm.py', 'nova/tests/unit/virt/powervm/tasks/test_image.py', 'doc/source/admin/configuration/hypervisor-powervm.rst', 'doc/source/user/support-matrix.ini', 'nova/objects/migrate_data.py', 'nova/virt/powervm/tasks/__init__.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'doc/source/configuration/extra-specs.rst', 'nova/conf/__init__.py', 'nova/virt/powervm/disk/__init__.py', 'setup.cfg', 'tox.ini', 'nova/virt/powervm/disk/driver.py', 'releasenotes/notes/remove-powervm-6132cc10255ca205.yaml', 'nova/conf/compute.py', 'nova/virt/powervm/disk/ssp.py', 'nova/tests/unit/virt/powervm/test_mgmt.py', 'doc/source/admin/architecture.rst', 'nova/virt/powervm/tasks/storage.py', 'nova/tests/unit/virt/powervm/test_image.py', 'doc/source/admin/config-drive.rst', 'nova/tests/unit/virt/powervm/test_vif.py', 'nova/virt/powervm/tasks/network.py', 'nova/conf/powervm.py', 'nova/virt/powervm/vif.py', 'requirements.txt', 'nova/tests/unit/api/validation/extra_specs/test_validators.py', 'nova/tests/fixtures/nova.py', 'nova/virt/powervm/volume/fcvscsi.py', 'nova/virt/powervm/disk/localdisk.py', 'doc/source/admin/configuration/hypervisors.rst', 'nova/tests/unit/virt/powervm/disk/__init__.py', 'nova/virt/powervm/tasks/base.py', 'doc/source/admin/scheduling.rst', 'nova/virt/powervm/image.py', 'nova/virt/powervm/volume/__init__.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/virt/powervm/test_media.py', 'nova/tests/unit/virt/powervm/volume/__init__.py', 'nova/virt/powervm/__init__.py', 'nova/exception.py', 'nova/tests/unit/virt/powervm/disk/fake_adapter.py', 'nova/tests/unit/virt/powervm/tasks/__init__.py', 'nova/virt/powervm/mgmt.py', 'doc/source/user/feature-matrix-hpc.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/deae81461123e7d61b3a6eca6f085a9d7ee5689e', 'message': ""Remove the PowerVM driver\n\nThe PowerVM driver was deprecated in November 2021 as part of change\nIcdef0a03c3c6f56b08ec9685c6958d6917bc88cb. As noted there, all\nindications suggest that this driver is no longer maintained and may be\nabandonware. It's been some time and there's still no activity here so\nit's time to abandon this for real.\n\nThis isn't as tied into the codebase as the old XenAPI driver was, so\nremoval is mostly a case of deleting large swathes of code. Lovely.\n\nChange-Id: Ibf4f36136f2c65adad64f75d665c00cf2de4b400\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,850346,deae81461123e7d61b3a6eca6f085a9d7ee5689e,37,3,6,15334,,,0,"Remove the PowerVM driver

The PowerVM driver was deprecated in November 2021 as part of change
Icdef0a03c3c6f56b08ec9685c6958d6917bc88cb. As noted there, all
indications suggest that this driver is no longer maintained and may be
abandonware. It's been some time and there's still no activity here so
it's time to abandon this for real.

This isn't as tied into the codebase as the old XenAPI driver was, so
removal is mostly a case of deleting large swathes of code. Lovely.

Change-Id: Ibf4f36136f2c65adad64f75d665c00cf2de4b400
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/850346/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/powervm/tasks/vm.py', 'nova/tests/unit/virt/powervm/tasks/test_storage.py', 'nova/virt/powervm/tasks/image.py', 'README.rst', 'doc/source/user/feature-matrix-gp.ini', 'nova/virt/powervm/vm.py', 'nova/tests/unit/virt/powervm/tasks/test_network.py', 'nova/tests/unit/virt/powervm/test_host.py', 'nova/virt/powervm/driver.py', 'nova/tests/unit/virt/powervm/disk/test_driver.py', 'nova/tests/unit/virt/powervm/tasks/test_vm.py', 'nova/tests/unit/virt/powervm/__init__.py', 'nova/tests/unit/virt/powervm/disk/test_ssp.py', 'nova/tests/unit/virt/powervm/volume/test_fcvscsi.py', 'nova/tests/unit/objects/test_migrate_data.py', 'nova/tests/unit/virt/powervm/disk/test_localdisk.py', 'nova/api/validation/extra_specs/powervm.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/powervm/host.py', 'nova/virt/powervm/media.py', 'nova/tests/unit/virt/powervm/test_vm.py', 'nova/tests/unit/virt/powervm/tasks/test_image.py', 'doc/source/admin/configuration/hypervisor-powervm.rst', 'doc/source/user/support-matrix.ini', 'nova/objects/migrate_data.py', 'nova/virt/powervm/tasks/__init__.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'doc/source/configuration/extra-specs.rst', 'nova/conf/__init__.py', 'nova/virt/powervm/disk/__init__.py', 'setup.cfg', 'tox.ini', 'nova/virt/powervm/disk/driver.py', 'releasenotes/notes/remove-powervm-6132cc10255ca205.yaml', 'nova/conf/compute.py', 'nova/virt/powervm/disk/ssp.py', 'nova/tests/unit/virt/powervm/test_mgmt.py', 'doc/source/admin/architecture.rst', 'nova/virt/powervm/tasks/storage.py', 'nova/tests/unit/virt/powervm/test_image.py', 'doc/source/admin/config-drive.rst', 'nova/tests/unit/virt/powervm/test_vif.py', 'nova/virt/powervm/tasks/network.py', 'nova/conf/powervm.py', 'nova/virt/powervm/vif.py', 'requirements.txt', 'nova/tests/unit/api/validation/extra_specs/test_validators.py', 'nova/tests/fixtures/nova.py', 'nova/virt/powervm/volume/fcvscsi.py', 'nova/virt/powervm/disk/localdisk.py', 'doc/source/admin/configuration/hypervisors.rst', 'nova/tests/unit/virt/powervm/disk/__init__.py', 'nova/virt/powervm/tasks/base.py', 'doc/source/admin/scheduling.rst', 'nova/virt/powervm/image.py', 'nova/virt/powervm/volume/__init__.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/virt/powervm/test_media.py', 'nova/tests/unit/virt/powervm/volume/__init__.py', 'nova/virt/powervm/__init__.py', 'nova/exception.py', 'nova/tests/unit/virt/powervm/disk/fake_adapter.py', 'nova/tests/unit/virt/powervm/tasks/__init__.py', 'nova/virt/powervm/mgmt.py', 'doc/source/user/feature-matrix-hpc.ini']",65,27ea68272af4a862d0c05ebd0cec89611ed31b76,unittest.mock,,[target.powervm] title=PowerVM CI link=https://wiki.openstack.org/wiki/ThirdPartySystems/IBM_PowerVM_CI powervm=missingpowervm=missing,16,9349
openstack%2Ftripleo-ansible~master~I90efb1639d7ffd899ab73446620354403c1ca536,openstack/tripleo-ansible,master,I90efb1639d7ffd899ab73446620354403c1ca536,Configure podman netavark network - enable IPv6,MERGED,2022-07-29 19:24:08.000000000,2022-08-03 10:47:31.000000000,2022-08-03 10:47:31.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-29 19:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3a22a38908c643edff77224b5a10ffdf600968d2', 'message': 'Configure podman netavark network - enable IPv6\n\nIn RHEL9 the default container networking used is ""netavark"".\nWith this change the default ""podman"" network is configured to\nenable IPv6 networking for containers.\n\nThe default IPv4 IP address used is updated the match the ones used\nin tripleo with ""cni"" networking.\n\nAlso, when ""netavark"" is the backend skip the tasks that do cni related\nconfiguration.\n\nCloses-Bug: #1983121\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/851597\nChange-Id: I90efb1639d7ffd899ab73446620354403c1ca536\n'}, {'number': 2, 'created': '2022-07-29 19:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/045710d93f59b4d8932bcbfdad0d139d9affdb27', 'message': 'Configure podman netavark network - enable IPv6\n\nIn RHEL9 the default container networking used is ""netavark"".\nWith this change the default ""podman"" network is configured to\nenable IPv6 networking for containers.\n\nThe default IPv4 IP address used is updated the match the ones used\nin tripleo with ""cni"" networking.\n\nAlso, when ""netavark"" is the backend skip the tasks that do cni related\nconfiguration.\n\nCloses-Bug: #1983121\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/851597\nChange-Id: I90efb1639d7ffd899ab73446620354403c1ca536\n'}, {'number': 3, 'created': '2022-07-30 13:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e2ab04e629cea19db7decd657d8a5218e71288e', 'message': 'Configure podman netavark network - enable IPv6\n\nIn RHEL9 the default container networking used is ""netavark"".\nWith this change the default ""podman"" network is configured to\nenable IPv6 networking for containers.\n\nThe default IPv4 IP address used is updated the match the ones used\nin tripleo with ""cni"" networking.\n\nAlso, when ""netavark"" is the backend skip the tasks that do cni related\nconfiguration.\n\nCloses-Bug: #1983121\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/851597\nChange-Id: I90efb1639d7ffd899ab73446620354403c1ca536\n'}, {'number': 4, 'created': '2022-07-30 13:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b9d7e97341afbda08d23f7de0a5adf756e7861b', 'message': 'Configure podman netavark network - enable IPv6\n\nIn RHEL9 the default container networking used is ""netavark"".\nWith this change the default ""podman"" network is configured to\nenable IPv6 networking for containers.\n\nThe default IPv4 IP address used is updated the match the ones used\nin tripleo with ""cni"" networking.\n\nAlso, when ""netavark"" is the backend skip the tasks that do cni related\nconfiguration.\n\nCloses-Bug: #1983121\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/851597\nChange-Id: I90efb1639d7ffd899ab73446620354403c1ca536\n'}, {'number': 5, 'created': '2022-07-30 13:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/000879f669652521ba6a741281476670e8e05541', 'message': 'Configure podman netavark network - enable IPv6\n\nIn RHEL9 the default container networking used is ""netavark"".\nWith this change the default ""podman"" network is configured to\nenable IPv6 networking for containers.\n\nThe default IPv4 IP address used is updated the match the ones used\nin tripleo with ""cni"" networking.\n\nAlso, when ""netavark"" is the backend skip the tasks that do cni related\nconfiguration.\n\nCloses-Bug: #1983121\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/851597\nChange-Id: I90efb1639d7ffd899ab73446620354403c1ca536\n'}, {'number': 6, 'created': '2022-08-01 09:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f7cf0f3ca8da6093e582653998138b44a9b12b8', 'message': 'Configure podman netavark network - enable IPv6\n\nIn RHEL9 the default container networking used is ""netavark"".\nWith this change the default ""podman"" network is configured to\nenable IPv6 networking for containers.\n\nThe default IPv4 IP address used is updated the match the ones used\nin tripleo with ""cni"" networking.\n\nAlso, when ""netavark"" is the backend skip the tasks that do cni related\nconfiguration.\n\nCloses-Bug: #1983121\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/851597\nChange-Id: I90efb1639d7ffd899ab73446620354403c1ca536\n'}, {'number': 7, 'created': '2022-08-01 09:48:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/templates/podman_network_config.j2', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a87dad727c2e9db4620cf7987762971ea176929', 'message': 'Configure podman netavark network - enable IPv6\n\nIn RHEL9 the default container networking used is ""netavark"".\nWith this change the default ""podman"" network is configured to\nenable IPv6 networking for containers.\n\nThe default IPv4 IP address used is updated the match the ones used\nin tripleo with ""cni"" networking.\n\nAlso, when ""netavark"" is the backend skip the tasks that do cni related\nconfiguration.\n\nCloses-Bug: #1983121\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/851597\nChange-Id: I90efb1639d7ffd899ab73446620354403c1ca536\n'}]",9,851608,1a87dad727c2e9db4620cf7987762971ea176929,27,5,7,24245,,,0,"Configure podman netavark network - enable IPv6

In RHEL9 the default container networking used is ""netavark"".
With this change the default ""podman"" network is configured to
enable IPv6 networking for containers.

The default IPv4 IP address used is updated the match the ones used
in tripleo with ""cni"" networking.

Also, when ""netavark"" is the backend skip the tasks that do cni related
configuration.

Closes-Bug: #1983121
Depends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/851597
Change-Id: I90efb1639d7ffd899ab73446620354403c1ca536
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/851608/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/templates/podman_network_config.j2', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml']",2,3a22a38908c643edff77224b5a10ffdf600968d2,bug/1983121, - tripleo_container_default_network_backend == 'cni' - name: Update netavark container network configuration block: - name: Make sure /etc/containers/networks exists file: path: /etc/containers/networks state: directory recurse: true mode: 0755 owner: root group: root - name: Get current network shell: | podman network inspect podman | jq --raw-output .[] register: podman_network_inspect - name: Update the default network configuration template: src: podman_network_config.j2 dest: /etc/containers/networks/podman.json mode: '0644' owner: root group: root when: - tripleo_container_default_network_backend == 'netavark',,46,0
openstack%2Fcinder~master~I69a478dc18c18e6d67be83d61c9643afab72c118,openstack/cinder,master,I69a478dc18c18e6d67be83d61c9643afab72c118,backup/swift: Add support sending service user token,MERGED,2022-05-03 13:35:16.000000000,2022-08-03 10:36:20.000000000,2022-08-02 13:06:51.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-05-03 13:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3ad301bc381f5f82dd6effe738a03984ba78933', 'message': ""backup/swift: Add support sending service user token\n\nThis adds support to the Swift backup driver to send\na service user token in the X-Service-Token header when\ntalking to Swift which will support long running processes\nto continue functioning when the user token is expired if\nthe target supports it. [1] [2]\n\nIn the patch I'm favoring passing the X-Service-Token from\nCinder as a header instead of passing the service user credentials\ndown to the python-swiftclient, it makes more sense to not hand\nit off. We already have a auth plugin for the service user which\nensures that the token is always valid, an invalid token would\ndisrupt the process and cause the long running process to fail.\n\nThe new config option to enable the service auth in the Swift\ndriver serves the purpose of not enabling the feature by default\nfor deployments already enabling service user for Nova and Glance.\n\nI'm working on implementing the X-Service-Token support\nin Ceph RadosGW's Swift API implementation [3], OpenStack Swift\nalready supports service token.\n\n[1] https://specs.openstack.org/openstack/keystone-specs/specs/keystonemiddleware/juno/service-tokens.html\n[2]\xa0https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n[3] https://github.com/ceph/ceph/pull/45395\n\nChange-Id: I69a478dc18c18e6d67be83d61c9643afab72c118\n""}, {'number': 2, 'created': '2022-05-03 13:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c55a55c97ec4cfa883c946e575b4d3473550a67e', 'message': ""backup/swift: Add support sending service user token\n\nThis adds support to the Swift backup driver to send\na service user token in the X-Service-Token header when\ntalking to Swift which will support long running processes\nto continue functioning when the user token is expired if\nthe target supports it. [1] [2]\n\nIn the patch I'm favoring passing the X-Service-Token from\nCinder as a header instead of passing the service user credentials\ndown to the python-swiftclient, it makes more sense to not hand\nit off. We already have a auth plugin for the service user which\nensures that the token is always valid, an invalid token would\ndisrupt the process and cause the long running process to fail.\n\nThe new config option to enable the service auth in the Swift\ndriver serves the purpose of not enabling the feature by default\nfor deployments already enabling service user for Nova and Glance.\n\nI'm working on implementing the X-Service-Token support\nin Ceph RadosGW's Swift API implementation [3], OpenStack Swift\nalready supports service token.\n\n[1] https://specs.openstack.org/openstack/keystone-specs/specs/keystonemiddleware/juno/service-tokens.html\n[2]\xa0https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n[3] https://github.com/ceph/ceph/pull/45395\n\nChange-Id: I69a478dc18c18e6d67be83d61c9643afab72c118\n""}, {'number': 3, 'created': '2022-05-03 13:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22f301af3f222c33274281514e51f1b2c5eec902', 'message': ""backup/swift: Add support sending service user token\n\nThis adds support to the Swift backup driver to send\na service user token in the X-Service-Token header when\ntalking to Swift which will support long running processes\nto continue functioning when the user token is expired if\nthe target supports it. [1] [2]\n\nIn the patch I'm favoring passing the X-Service-Token from\nCinder as a header instead of passing the service user credentials\ndown to the python-swiftclient, it makes more sense to not hand\nit off. We already have a auth plugin for the service user which\nensures that the token is always valid, an invalid token would\ndisrupt the process and cause the long running process to fail.\n\nThe new config option to enable the service auth in the Swift\ndriver serves the purpose of not enabling the feature by default\nfor deployments already enabling service user for Nova and Glance.\n\nI'm working on implementing the X-Service-Token support\nin Ceph RadosGW's Swift API implementation [3], OpenStack Swift\nalready supports service token.\n\n[1] https://specs.openstack.org/openstack/keystone-specs/specs/keystonemiddleware/juno/service-tokens.html\n[2]\xa0https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n[3] https://github.com/ceph/ceph/pull/45395\n\nRelated-Bug: #1298135\nChange-Id: I69a478dc18c18e6d67be83d61c9643afab72c118\n""}, {'number': 4, 'created': '2022-05-04 07:30:02.000000000', 'files': ['cinder/tests/unit/backup/fake_swift_client.py', 'cinder/tests/unit/backup/fake_swift_client2.py', 'cinder/service_auth.py', 'cinder/backup/drivers/swift.py', 'releasenotes/notes/cinder-backup-swift-service-token-9b86e8e73ebd2a22.yaml', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/77c886ab18ba241eaa7418f1e0d095fe6639ae19', 'message': ""backup/swift: Add support sending service user token\n\nThis adds support to the Swift backup driver to send\na service user token in the X-Service-Token header when\ntalking to Swift which will support long running processes\nto continue functioning when the user token is expired if\nthe target supports it. [1] [2]\n\nIn the patch I'm favoring passing the X-Service-Token from\nCinder as a header instead of passing the service user credentials\ndown to the python-swiftclient, it makes more sense to not hand\nit off. We already have a auth plugin for the service user which\nensures that the token is always valid, an invalid token would\ndisrupt the process and cause the long running process to fail.\n\nThe new config option to enable the service auth in the Swift\ndriver serves the purpose of not enabling the feature by default\nfor deployments already enabling service user for Nova and Glance.\n\nI'm working on implementing the X-Service-Token support\nin Ceph RadosGW's Swift API implementation [3], OpenStack Swift\nalready supports service token.\n\n[1] https://specs.openstack.org/openstack/keystone-specs/specs/keystonemiddleware/juno/service-tokens.html\n[2]\xa0https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n[3] https://github.com/ceph/ceph/pull/45395\n\nRelated-Bug: #1298135\nChange-Id: I69a478dc18c18e6d67be83d61c9643afab72c118\n""}]",11,840289,77c886ab18ba241eaa7418f1e0d095fe6639ae19,62,3,4,16137,,,0,"backup/swift: Add support sending service user token

This adds support to the Swift backup driver to send
a service user token in the X-Service-Token header when
talking to Swift which will support long running processes
to continue functioning when the user token is expired if
the target supports it. [1] [2]

In the patch I'm favoring passing the X-Service-Token from
Cinder as a header instead of passing the service user credentials
down to the python-swiftclient, it makes more sense to not hand
it off. We already have a auth plugin for the service user which
ensures that the token is always valid, an invalid token would
disrupt the process and cause the long running process to fail.

The new config option to enable the service auth in the Swift
driver serves the purpose of not enabling the feature by default
for deployments already enabling service user for Nova and Glance.

I'm working on implementing the X-Service-Token support
in Ceph RadosGW's Swift API implementation [3], OpenStack Swift
already supports service token.

[1] https://specs.openstack.org/openstack/keystone-specs/specs/keystonemiddleware/juno/service-tokens.html
[2]https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html
[3] https://github.com/ceph/ceph/pull/45395

Related-Bug: #1298135
Change-Id: I69a478dc18c18e6d67be83d61c9643afab72c118
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/840289/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/fake_swift_client.py', 'cinder/tests/unit/backup/fake_swift_client2.py', 'cinder/service_auth.py', 'cinder/backup/drivers/swift.py', 'releasenotes/notes/cinder-backup-swift-service-token-9b86e8e73ebd2a22.yaml', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",6,e3ad301bc381f5f82dd6effe738a03984ba78933,cinder-backup-swift-service-token,"from cinder import service_auth def _test_backup_swift_service_auth_headers_no_impact(self): service = swift_dr.SwiftBackupDriver(self.ctxt) self.assertEqual(service._headers(), None) self.assertEqual(service._headers({'some': 'header'}), {'some': 'header'}) def test_backup_swift_service_auth_headers_disabled(self): self._test_backup_swift_service_auth_headers_no_impact() def test_backup_swift_service_auth_headers_partial_enabled(self): self.override_config('send_service_user_token', True, group='service_user') self._test_backup_swift_service_auth_headers_no_impact() @mock.patch.object(service_auth, 'get_service_auth_plugin') def test_backup_swift_service_auth_headers_enabled(self, mock_plugin): class FakeServiceAuthPlugin: def get_token(self): return ""fake"" self.override_config('send_service_user_token', True, group='service_user') self.override_config('backup_swift_service_auth', True) mock_plugin.return_value = FakeServiceAuthPlugin() service = swift_dr.SwiftBackupDriver(self.ctxt) expected = {'X-Service-Token': 'fake'} self.assertEqual(service._headers(), expected) expected = {'X-Service-Token': 'fake', 'some': 'header'} self.assertEqual(service._headers({'some': 'header'}), expected) ",,102,27
openstack%2Fskyline-console~master~Ia42ac8669fadc8b6037e4adf5470d53084c6528f,openstack/skyline-console,master,Ia42ac8669fadc8b6037e4adf5470d53084c6528f,fix: fix policy map and others,MERGED,2022-07-01 02:48:23.000000000,2022-08-03 10:29:04.000000000,2022-07-01 07:28:58.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}, {'_account_id': 33196}, {'_account_id': 35102}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-07-01 02:48:23.000000000', 'files': ['src/resources/skyline/policy.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0a7e61521ea5746622f0bc101bc72312642c4927', 'message': 'fix: fix policy map and others\n\nChange the functions about check policy to get better extension\n\nChange-Id: Ia42ac8669fadc8b6037e4adf5470d53084c6528f\n'}]",0,848377,0a7e61521ea5746622f0bc101bc72312642c4927,11,7,1,33689,,,0,"fix: fix policy map and others

Change the functions about check policy to get better extension

Change-Id: Ia42ac8669fadc8b6037e4adf5470d53084c6528f
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/77/848377/1 && git format-patch -1 --stdout FETCH_HEAD,['src/resources/skyline/policy.js'],1,0a7e61521ea5746622f0bc101bc72312642c4927,open-policy," 'instance:resize',export const convertPolicyMap = (map) => { Object.entries(map).forEach(([key, value]) => {export const changeToActualPolicy = (rule, map) => { const policies = convertPolicyMap(map); const actualRule = isAliasPolicy ? rule : changeToActualPolicy(rule, policyMap);"," 'instance:delete',export const convertPolicyMap = () => { Object.entries(policyMap).forEach(([key, value]) => {export const changeToActualPolicy = (rule) => { const policies = convertPolicyMap(); const actualRule = isAliasPolicy ? rule : changeToActualPolicy(rule);",8,6
openstack%2Fnova~master~I6802e4ce4fb0e52227b1dd1f1a67c765f19d8a6d,openstack/nova,master,I6802e4ce4fb0e52227b1dd1f1a67c765f19d8a6d,Narrow mdev uuid range,ABANDONED,2022-03-08 02:48:12.000000000,2022-08-03 10:17:58.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 30498}]","[{'number': 1, 'created': '2022-03-08 02:48:12.000000000', 'files': ['nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/529c00e3185c0cc5c4b089998de004c6722d3bfd', 'message': 'Narrow mdev uuid range\n\nNarrow mdev uuid to specific bits instead using them all.\n\nCloses-bug: #1951656\n\nSigned-off-by: shenjiatong <yshxxsjt715@gmail.com>\nChange-Id: I6802e4ce4fb0e52227b1dd1f1a67c765f19d8a6d\n'}]",5,832489,529c00e3185c0cc5c4b089998de004c6722d3bfd,16,3,1,29071,,,0,"Narrow mdev uuid range

Narrow mdev uuid to specific bits instead using them all.

Closes-bug: #1951656

Signed-off-by: shenjiatong <yshxxsjt715@gmail.com>
Change-Id: I6802e4ce4fb0e52227b1dd1f1a67c765f19d8a6d
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/832489/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/utils.py'],1,529c00e3185c0cc5c4b089998de004c6722d3bfd,bug/1951656," """"""Convert an mdev name (of the form mdev_<uuid_with_underscores>_<parent_info>) to a uuid (of the form 8-4-4-4-12). return str(uuid.UUID(mdev_name[5:41].replace('_', '-')))"," """"""Convert an mdev name (of the form mdev_<uuid_with_underscores>) to a uuid (of the form 8-4-4-4-12). return str(uuid.UUID(mdev_name[5:].replace('_', '-')))",4,3
openstack%2Fkuryr-kubernetes~master~I50fa4e3cdeffba2413dd9c8c327673ba12706570,openstack/kuryr-kubernetes,master,I50fa4e3cdeffba2413dd9c8c327673ba12706570,Clean up Neutron Ports by ID,MERGED,2022-07-28 13:16:11.000000000,2022-08-03 09:53:15.000000000,2022-08-03 09:52:10.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-07-28 13:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b2f81a24a6ee33354027d9a64f2bdc8965c8b1eb', 'message': 'Clean up Neutron Ports by ID\n\nWhile parallelizing the Ports deletion, the clean up should handle\nthe list of Ports ID, instead of expect Ports objects. This commit fixes\nthat by directly calling Neutron port deletion, also it retries the\nPorts removal from Trunk in case an error occured.\n\nCloses-bug: #1983027\nChange-Id: I50fa4e3cdeffba2413dd9c8c327673ba12706570\n'}, {'number': 2, 'created': '2022-07-28 17:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/403513c649784c8b446da142b688e5cb47220b32', 'message': 'Clean up Neutron Ports by ID\n\nWhile parallelizing the Ports deletion, the clean up should handle\nthe list of Ports ID, instead of expect Ports objects. This commit fixes\nthat by directly calling Neutron port deletion, also it retries the\nPorts removal from Trunk in case an error occured.\n\nCloses-bug: #1983027\nChange-Id: I50fa4e3cdeffba2413dd9c8c327673ba12706570\n'}, {'number': 3, 'created': '2022-07-29 13:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/25cddca287942dc721c14d73e516f7dd0460f527', 'message': 'Clean up Neutron Ports by ID\n\nWhile parallelizing the Ports deletion, the clean up should handle\nthe list of Ports ID, instead of expect Ports objects. This commit fixes\nthat by directly calling Neutron port deletion, also it retries the\nPorts removal from Trunk in case an error occured.\n\nCloses-bug: #1983027\nChange-Id: I50fa4e3cdeffba2413dd9c8c327673ba12706570\n'}, {'number': 4, 'created': '2022-08-01 10:18:41.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9300fb495f0f5a6611a76c89a2969c91653bb51d', 'message': 'Clean up Neutron Ports by ID\n\nWhile parallelizing the Ports deletion, the clean up should handle\nthe list of Ports ID, instead of expect Ports objects. This commit fixes\nthat by directly calling Neutron port deletion, also it retries the\nPorts removal from Trunk in case an error occured.\n\nCloses-bug: #1983027\nChange-Id: I50fa4e3cdeffba2413dd9c8c327673ba12706570\n'}]",7,851328,9300fb495f0f5a6611a76c89a2969c91653bb51d,19,4,4,27032,,,0,"Clean up Neutron Ports by ID

While parallelizing the Ports deletion, the clean up should handle
the list of Ports ID, instead of expect Ports objects. This commit fixes
that by directly calling Neutron port deletion, also it retries the
Ports removal from Trunk in case an error occured.

Closes-bug: #1983027
Change-Id: I50fa4e3cdeffba2413dd9c8c327673ba12706570
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/28/851328/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py']",2,b2f81a24a6ee33354027d9a64f2bdc8965c8b1eb,ensure-ports-cleanup-byid," m_pool.imap.assert_called_once_with(utils.delete_neutron_port, [port_id]) m_pool.imap.assert_called_once_with(utils.delete_neutron_port, [port_id])"," m_pool.imap.assert_called_once_with(utils.delete_port, [port_id]) m_pool.imap.assert_called_once_with(utils.delete_port, [port_id])",11,6
openstack%2Fkolla-ansible~master~Ic752b981041b233ab55d5b9abef667b21b47857d,openstack/kolla-ansible,master,Ic752b981041b233ab55d5b9abef667b21b47857d,Fix nova online volume resize with multipathd,MERGED,2022-07-26 20:54:58.000000000,2022-08-03 09:41:23.000000000,2022-08-03 09:40:12.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-26 20:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/846bc75cc07b9d687877f599a8c7c50b4446b462', 'message': 'Fix user_friendly_names in multipathd conf to make able nova online volume resize\nCloses-Bug: 1982777\n\nChange-Id: Ic752b981041b233ab55d5b9abef667b21b47857d\n'}, {'number': 2, 'created': '2022-07-26 20:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a7434df64bd7ea239c7474e6fde6a38a26b71abd', 'message': 'Fix nova online volume resize with multipathd\nCloses-Bug: 1982777\n\nChange-Id: Ic752b981041b233ab55d5b9abef667b21b47857d\n'}, {'number': 3, 'created': '2022-07-27 07:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ce9b56d200d780d37045bded981dcc8bcddf8ac', 'message': 'Fix nova online volume resize with multipathd\n\nCloses-Bug: 1982777\n\nChange-Id: Ic752b981041b233ab55d5b9abef667b21b47857d\n'}, {'number': 4, 'created': '2022-07-28 18:41:54.000000000', 'files': ['releasenotes/notes/bug-1982777-0cac9753aa18a037.yaml', 'ansible/roles/multipathd/templates/multipath.conf.j2', 'ansible/roles/multipathd/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/277db5c3b7a06d554bfc8ef8cf3a3445d27e8aab', 'message': 'Fix nova online volume resize with multipathd\n\nCloses-Bug: 1982777\n\nChange-Id: Ic752b981041b233ab55d5b9abef667b21b47857d\n'}]",7,851096,277db5c3b7a06d554bfc8ef8cf3a3445d27e8aab,19,4,4,32688,,,0,"Fix nova online volume resize with multipathd

Closes-Bug: 1982777

Change-Id: Ic752b981041b233ab55d5b9abef667b21b47857d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/851096/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1982777-0cac9753aa18a037.yaml', 'ansible/roles/multipathd/templates/multipath.conf.j2', 'ansible/roles/multipathd/tasks/config.yml']",3,846bc75cc07b9d687877f599a8c7c50b4446b462,mpath-online-resize-1982777," vars: service: ""{{ multipathd_services['multipathd'] }}"" template: src: ""{{ item }}"" dest: ""{{ node_config_directory }}/multipathd/multipath.conf"" mode: ""0660"" with_first_found: - ""{{ node_custom_config }}/multipath/{{ inventory_hostname }}/multipath.conf"" - ""{{ node_custom_config }}/multipath.conf"" - ""multipath.conf.j2"" when: - inventory_hostname in groups[service.group] - service.enabled | bool"," template: src: ""multipath.conf.j2"" dest: ""{{ node_config_directory }}/{{ item.key }}/multipath.conf"" mode: ""0660"" when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool with_dict: ""{{ multipathd_services }}""",21,8
openstack%2Ftempest~master~I22a42549880de783ec1372592e0bbbe8e1004a43,openstack/tempest,master,I22a42549880de783ec1372592e0bbbe8e1004a43,Remove deprecated nova scheduler filter,NEW,2020-08-26 13:03:32.000000000,2022-08-03 09:40:11.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-08-26 13:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a820d43d454a00c905bcb8513f808d5d92b495b7', 'message': 'Remove deprecated nova scheduler filters\n\nChange-Id: I22a42549880de783ec1372592e0bbbe8e1004a43\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/#/c/745605/\n'}, {'number': 2, 'created': '2022-06-15 11:53:14.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/399af35f6da55f4581d912f501bdc9319612b9d8', 'message': 'Remove deprecated nova scheduler filter\n\nThe patch removes AvailabilityZoneFilter scheduler filter as it\ngot deprecated by the Depends-On patch.\n\nChange-Id: I22a42549880de783ec1372592e0bbbe8e1004a43\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/#/c/745605/\n'}]",5,748221,399af35f6da55f4581d912f501bdc9319612b9d8,15,6,2,15334,,,0,"Remove deprecated nova scheduler filter

The patch removes AvailabilityZoneFilter scheduler filter as it
got deprecated by the Depends-On patch.

Change-Id: I22a42549880de783ec1372592e0bbbe8e1004a43
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-On: https://review.opendev.org/#/c/745605/
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/748221/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,a820d43d454a00c905bcb8513f808d5d92b495b7,remove-deprecated-filters," default=[ ""ComputeCapabilitiesFilter"", ""ImagePropertiesFilter"", ""ServerGroupAntiAffinityFilter"", ""ServerGroupAffinityFilter"", ],"," default=[""AvailabilityZoneFilter"", ""ComputeFilter"", ""ComputeCapabilitiesFilter"", ""ImagePropertiesFilter"", ""ServerGroupAntiAffinityFilter"", ""ServerGroupAffinityFilter""],",6,4
openstack%2Fmurano-specs~master~Ifbd29e556970d18907a9c682f02afcc4b4d244b0,openstack/murano-specs,master,Ifbd29e556970d18907a9c682f02afcc4b4d244b0,Use TOX_CONSTRAINTS_FILE,NEW,2022-08-03 09:27:01.000000000,2022-08-03 09:35:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-03 09:27:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/1113f9c27c836af9c88986ad692ccf996d72f465', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Ifbd29e556970d18907a9c682f02afcc4b4d244b0\n'}]",0,851828,1113f9c27c836af9c88986ad692ccf996d72f465,2,1,1,35067,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Ifbd29e556970d18907a9c682f02afcc4b4d244b0
",git fetch https://review.opendev.org/openstack/murano-specs refs/changes/28/851828/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1113f9c27c836af9c88986ad692ccf996d72f465,, -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Fopenstack-ansible-os_manila~stable%2Fxena~I6dcbae2896668f5fbb6f09bffc94cb6e90699e92,openstack/openstack-ansible-os_manila,stable/xena,I6dcbae2896668f5fbb6f09bffc94cb6e90699e92,Create backends when running against manila_share,MERGED,2022-06-28 14:45:11.000000000,2022-08-03 09:09:51.000000000,2022-08-03 09:08:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-28 14:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/050f2d4f12ce075ac5f79b4289f48172c91441d5', 'message': ""Create backends when running against manila_share\n\nFor backends creation we verify that API is reachable. With that on real\ndeployments we disable container we're running against on haproxy.\n\nThis results in task failure. To avoid that we add backends when\nshare/data services for manila. This is done in separate play when\nall API backends should be enabled and functioning properly.\n\nChange-Id: I6dcbae2896668f5fbb6f09bffc94cb6e90699e92\nCloses-Bug: #1979209\n(cherry picked from commit c0a1f262eb21c8636a16bec573a3cf5ad6cab1a6)\n""}, {'number': 2, 'created': '2022-07-19 08:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/81d681d71ed8d2c9b5c2a6970b2b528d498e74d6', 'message': ""Create backends when running against manila_share\n\nFor backends creation we verify that API is reachable. With that on real\ndeployments we disable container we're running against on haproxy.\n\nThis results in task failure. To avoid that we add backends when\nshare/data services for manila. This is done in separate play when\nall API backends should be enabled and functioning properly.\n\nChange-Id: I6dcbae2896668f5fbb6f09bffc94cb6e90699e92\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/850233\nCloses-Bug: #1979209\n(cherry picked from commit c0a1f262eb21c8636a16bec573a3cf5ad6cab1a6)\n""}, {'number': 3, 'created': '2022-07-20 08:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/965720f86d97e203a478118f2b176001609101fe', 'message': ""Create backends when running against manila_share\n\nFor backends creation we verify that API is reachable. With that on real\ndeployments we disable container we're running against on haproxy.\n\nThis results in task failure. To avoid that we add backends when\nshare/data services for manila. This is done in separate play when\nall API backends should be enabled and functioning properly.\n\nChange-Id: I6dcbae2896668f5fbb6f09bffc94cb6e90699e92\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/850233\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/850478\nCloses-Bug: #1979209\n(cherry picked from commit c0a1f262eb21c8636a16bec573a3cf5ad6cab1a6)\n""}, {'number': 4, 'created': '2022-08-01 09:02:00.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/5aae4f2e46310d202a1e1238c037a8782498a50e', 'message': ""Create backends when running against manila_share\n\nFor backends creation we verify that API is reachable. With that on real\ndeployments we disable container we're running against on haproxy.\n\nThis results in task failure. To avoid that we add backends when\nshare/data services for manila. This is done in separate play when\nall API backends should be enabled and functioning properly.\n\nChange-Id: I6dcbae2896668f5fbb6f09bffc94cb6e90699e92\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/850233\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/850478\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846123\nCloses-Bug: #1979209\n(cherry picked from commit c0a1f262eb21c8636a16bec573a3cf5ad6cab1a6)\n""}]",2,847993,5aae4f2e46310d202a1e1238c037a8782498a50e,19,3,4,25023,,,0,"Create backends when running against manila_share

For backends creation we verify that API is reachable. With that on real
deployments we disable container we're running against on haproxy.

This results in task failure. To avoid that we add backends when
share/data services for manila. This is done in separate play when
all API backends should be enabled and functioning properly.

Change-Id: I6dcbae2896668f5fbb6f09bffc94cb6e90699e92
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/850233
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/850478
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846123
Closes-Bug: #1979209
(cherry picked from commit c0a1f262eb21c8636a16bec573a3cf5ad6cab1a6)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/93/847993/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,050f2d4f12ce075ac5f79b4289f48172c91441d5,bug/1979209-stable/xena, - _manila_share_is_first_play_host, - _manila_is_first_play_host,1,1
openstack%2Fcharm-trilio-data-mover~stable%2F4.1~Icce2f8be4d517dda0d9d9afe89f28e83cd08eca1,openstack/charm-trilio-data-mover,stable/4.1,Icce2f8be4d517dda0d9d9afe89f28e83cd08eca1,Correct bundles charm channel,MERGED,2022-07-27 19:20:46.000000000,2022-08-03 09:04:36.000000000,2022-08-03 09:04:36.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 19:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/8c2a84752a26af5ab7cb9fa1eb741bc33348aeb7', 'message': 'Correct bundles charm channel\n\nChange-Id: Icce2f8be4d517dda0d9d9afe89f28e83cd08eca1\n'}, {'number': 2, 'created': '2022-07-28 13:28:38.000000000', 'files': ['src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/bundles/focal-ussuri-41-s3.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/5526bf5d9adb7178e26f5b9ae59a2b3625707099', 'message': 'Correct bundles charm channel\n\nChange-Id: Icce2f8be4d517dda0d9d9afe89f28e83cd08eca1\n'}]",4,851252,5526bf5d9adb7178e26f5b9ae59a2b3625707099,17,3,2,12549,,,0,"Correct bundles charm channel

Change-Id: Icce2f8be4d517dda0d9d9afe89f28e83cd08eca1
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/52/851252/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/bundles/focal-ussuri-41-s3.yaml']",5,8c2a84752a26af5ab7cb9fa1eb741bc33348aeb7,fix-bundle-channel-4.1, trilio-charm-channel: &trilio-charm-channel '4.1/edge' charm: ch:trilio-dm-api charm: ch:trilio-horizon-plugin charm: ch:trilio-wlm, trilio-charm-channel: &trilio-charm-channel 'latest/stable' charm: ch:openstack-charmers-trilio-dm-api charm: ch:openstack-charmers-trilio-horizon-plugin charm: ch:openstack-charmers-trilio-wlm,20,20
openstack%2Fcharm-trilio-dm-api~stable%2F4.1~I5b8de51fb8518d1e5aa607b4f91525107aa8dcdf,openstack/charm-trilio-dm-api,stable/4.1,I5b8de51fb8518d1e5aa607b4f91525107aa8dcdf,Correct bundles charm channel,MERGED,2022-07-27 19:20:38.000000000,2022-08-03 09:03:33.000000000,2022-08-03 09:03:33.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 19:20:38.000000000', 'files': ['src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/5e4d1509ecce19676986b00d0669dcecf6b2df4f', 'message': 'Correct bundles charm channel\n\nChange-Id: I5b8de51fb8518d1e5aa607b4f91525107aa8dcdf\n'}]",0,851251,5e4d1509ecce19676986b00d0669dcecf6b2df4f,7,3,1,12549,,,0,"Correct bundles charm channel

Change-Id: I5b8de51fb8518d1e5aa607b4f91525107aa8dcdf
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/51/851251/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml']",4,5e4d1509ecce19676986b00d0669dcecf6b2df4f,fix-bundle-channel-4.1, trilio-charm-channel: &trilio-charm-channel '4.1/edge' charm: ch:trilio-data-mover charm: ch:trilio-horizon-plugin charm: ch:trilio-wlm, trilio-charm-channel: &trilio-charm-channel 'latest/stable' charm: ch:openstack-charmers-trilio-data-mover charm: ch:openstack-charmers-trilio-horizon-plugin charm: ch:openstack-charmers-trilio-wlm,16,16
openstack%2Fcharm-trilio-dm-api~master~I8d28bdf2eafafda9c99ae7086aa3c7a335a58ab5,openstack/charm-trilio-dm-api,master,I8d28bdf2eafafda9c99ae7086aa3c7a335a58ab5,Add Focal Wallaby functional test,MERGED,2022-07-28 16:12:48.000000000,2022-08-03 09:03:31.000000000,2022-08-03 09:03:31.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 16:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/6628bfbfb91bfdc7209e14a29cd8a237123109c3', 'message': 'Add Focal Wallaby functional test\n\nAdd Focal Wallaby functional test and switch bundles to use edge.\n\nChange-Id: I8d28bdf2eafafda9c99ae7086aa3c7a335a58ab5\n'}, {'number': 2, 'created': '2022-07-29 13:55:31.000000000', 'files': ['osci.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/focal-wallaby-42.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-queens-42.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/16bbea50f5937ed0365d16e79ac5804e127b6b0a', 'message': 'Add Focal Wallaby functional test\n\nAdd Focal Wallaby functional test and switch bundles to use edge.\n\nChange-Id: I8d28bdf2eafafda9c99ae7086aa3c7a335a58ab5\n'}]",3,851430,16bbea50f5937ed0365d16e79ac5804e127b6b0a,15,3,2,12549,,,0,"Add Focal Wallaby functional test

Add Focal Wallaby functional test and switch bundles to use edge.

Change-Id: I8d28bdf2eafafda9c99ae7086aa3c7a335a58ab5
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/30/851430/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/focal-wallaby-42.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-queens-42.yaml']",8,6628bfbfb91bfdc7209e14a29cd8a237123109c3,support-wallaby, trilio-charm-channel: &trilio-charm-channel 'latest/edge', trilio-charm-channel: &trilio-charm-channel 'latest/stable',334,5
openstack%2Fcharm-trilio-dm-api~stable%2F4.0~Ib103708780aa5124f0e4b2f923912e2db8057061,openstack/charm-trilio-dm-api,stable/4.0,Ib103708780aa5124f0e4b2f923912e2db8057061,Correct bundles charm channel,MERGED,2022-07-25 05:59:21.000000000,2022-08-03 09:03:28.000000000,2022-08-03 09:03:28.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-25 05:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/bafbfda6e99c3fc214ca4d992f53f228e26ba98c', 'message': 'Correct bundles charm channel\n\nChange-Id: Ib103708780aa5124f0e4b2f923912e2db8057061\n'}, {'number': 2, 'created': '2022-07-25 06:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/b14124dd51575cd12a23aeae621c0d18a650a2d2', 'message': 'Correct bundles charm channel\n\nChange-Id: Ib103708780aa5124f0e4b2f923912e2db8057061\n'}, {'number': 3, 'created': '2022-07-27 12:44:09.000000000', 'files': ['src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-train-40.yaml', 'src/tests/bundles/bionic-queens-40.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/d833120267433e346f76c9704c388b5960534617', 'message': 'Correct bundles charm channel\n\nChange-Id: Ib103708780aa5124f0e4b2f923912e2db8057061\n'}]",3,850851,d833120267433e346f76c9704c388b5960534617,19,3,3,12549,,,0,"Correct bundles charm channel

Change-Id: Ib103708780aa5124f0e4b2f923912e2db8057061
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/51/850851/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/bionic-train-40.yaml']",3,bafbfda6e99c3fc214ca4d992f53f228e26ba98c,fix-bundle-channel-4.0, trilio-charm-channel: &trilio-charm-channel '4.0/stable', trilio-charm-channel: &trilio-charm-channel 'latest/stable',3,3
openstack%2Fcharm-nova-compute~master~I7aa4862c93feb0d6be2e3080a6689d49ca756cc3,openstack/charm-nova-compute,master,I7aa4862c93feb0d6be2e3080a6689d49ca756cc3,Replace deprecated assert_ with assertTrue,MERGED,2022-07-21 04:46:33.000000000,2022-08-03 09:01:31.000000000,2022-07-25 07:49:06.000000000,"[{'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 10058}, {'_account_id': 12549}, {'_account_id': 16523}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-07-21 04:46:33.000000000', 'files': ['unit_tests/test_actions_virsh_audit.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/fadbf178fd4f27314c75ef384ff96f29fa607a41', 'message': 'Replace deprecated assert_ with assertTrue\n\nThe assert_ method alias has been deprecated in unittest since version 3.2[1].\n\n[1] https://docs.python.org/3/library/unittest.html#deprecated-aliases\n\nChange-Id: I7aa4862c93feb0d6be2e3080a6689d49ca756cc3\n'}]",4,850604,fadbf178fd4f27314c75ef384ff96f29fa607a41,16,8,1,28743,,,0,"Replace deprecated assert_ with assertTrue

The assert_ method alias has been deprecated in unittest since version 3.2[1].

[1] https://docs.python.org/3/library/unittest.html#deprecated-aliases

Change-Id: I7aa4862c93feb0d6be2e3080a6689d49ca756cc3
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/04/850604/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_actions_virsh_audit.py'],1,fadbf178fd4f27314c75ef384ff96f29fa607a41,, self.assertTrue('virsh-domains' in d), self.assert_('virsh-domains' in d),1,1
openstack%2Fcharm-trilio-horizon-plugin~master~I8e232b9b1232926560b50231fb1bfde295e7a3b0,openstack/charm-trilio-horizon-plugin,master,I8e232b9b1232926560b50231fb1bfde295e7a3b0,Add Focal Wallaby functional test,MERGED,2022-07-28 16:13:13.000000000,2022-08-03 08:58:25.000000000,2022-08-03 08:58:25.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 16:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/50cfaca6f9c8b6c9016c50cb0b1168f0ee919fee', 'message': 'Add Focal Wallaby functional test\n\nAdd Focal Wallaby functional test and switch bundles to use edge.\n\nChange-Id: I8e232b9b1232926560b50231fb1bfde295e7a3b0\n'}, {'number': 2, 'created': '2022-07-29 13:54:00.000000000', 'files': ['osci.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/focal-wallaby-42.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-queens-42.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/36075ac962eecd2fa23416eed39c2d5f59d2c865', 'message': 'Add Focal Wallaby functional test\n\nAdd Focal Wallaby functional test and switch bundles to use edge.\n\nChange-Id: I8e232b9b1232926560b50231fb1bfde295e7a3b0\n'}]",4,851432,36075ac962eecd2fa23416eed39c2d5f59d2c865,17,3,2,12549,,,0,"Add Focal Wallaby functional test

Add Focal Wallaby functional test and switch bundles to use edge.

Change-Id: I8e232b9b1232926560b50231fb1bfde295e7a3b0
",git fetch https://review.opendev.org/openstack/charm-trilio-horizon-plugin refs/changes/32/851432/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/focal-wallaby-42.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-queens-42.yaml']",8,50cfaca6f9c8b6c9016c50cb0b1168f0ee919fee,support-wallaby, trilio-charm-channel: &trilio-charm-channel 'latest/edge', trilio-charm-channel: &trilio-charm-channel 'latest/stable',334,5
openstack%2Fcharm-trilio-data-mover~master~I6319d408c3588b069a4cec953e99910844716c7a,openstack/charm-trilio-data-mover,master,I6319d408c3588b069a4cec953e99910844716c7a,Add Focal Wallaby functional test,MERGED,2022-07-28 16:12:59.000000000,2022-08-03 08:58:24.000000000,2022-08-03 08:58:24.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 16:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/20eaab64a43b263f3c44b88db164008ccf3f39af', 'message': 'Add Focal Wallaby functional test\n\nAdd Focal Wallaby functional test and switch bundles to use edge.\n\nChange-Id: I6319d408c3588b069a4cec953e99910844716c7a\n'}, {'number': 2, 'created': '2022-07-29 13:52:25.000000000', 'files': ['osci.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/focal-wallaby-42.yaml', 'src/tests/bundles/focal-ussuri-42-s3.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-queens-42.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/f13d1bf9e6d29862286488b48e18b55b798127e2', 'message': 'Add Focal Wallaby functional test\n\nAdd Focal Wallaby functional test and switch bundles to use edge.\n\nChange-Id: I6319d408c3588b069a4cec953e99910844716c7a\n'}]",4,851431,f13d1bf9e6d29862286488b48e18b55b798127e2,16,3,2,12549,,,0,"Add Focal Wallaby functional test

Add Focal Wallaby functional test and switch bundles to use edge.

Change-Id: I6319d408c3588b069a4cec953e99910844716c7a
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/31/851431/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/focal-wallaby-42.yaml', 'src/tests/bundles/focal-ussuri-42-s3.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-queens-42.yaml']",9,20eaab64a43b263f3c44b88db164008ccf3f39af,support-wallaby, trilio-charm-channel: &trilio-charm-channel 'latest/edge', trilio-charm-channel: &trilio-charm-channel 'latest/stable',336,6
openstack%2Fcharm-trilio-wlm~stable%2F4.0~Ia13b6f7ac86efe22c84b21be0bf0d263bae86225,openstack/charm-trilio-wlm,stable/4.0,Ia13b6f7ac86efe22c84b21be0bf0d263bae86225,Correct bundles charm channel,MERGED,2022-07-25 05:58:59.000000000,2022-08-03 08:56:29.000000000,2022-08-03 08:56:29.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-25 05:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/8f6189efd4d82c7b8c62f4251c6dc80570427f4a', 'message': 'Correct bundles charm channel\n\nChange-Id: Ia13b6f7ac86efe22c84b21be0bf0d263bae86225\n'}, {'number': 2, 'created': '2022-07-25 06:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/a645520839c243497d45a152d7138ca6db92d03d', 'message': 'Correct bundles charm channel\n\nChange-Id: Ia13b6f7ac86efe22c84b21be0bf0d263bae86225\n'}, {'number': 3, 'created': '2022-07-27 12:42:15.000000000', 'files': ['src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-train-40.yaml', 'src/tests/bundles/bionic-queens-40.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/eabf195e969a130e27e0e249067bdf9cdc6af21b', 'message': 'Correct bundles charm channel\n\nChange-Id: Ia13b6f7ac86efe22c84b21be0bf0d263bae86225\n'}]",2,850850,eabf195e969a130e27e0e249067bdf9cdc6af21b,16,3,3,12549,,,0,"Correct bundles charm channel

Change-Id: Ia13b6f7ac86efe22c84b21be0bf0d263bae86225
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/50/850850/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/bionic-train-40.yaml']",3,8f6189efd4d82c7b8c62f4251c6dc80570427f4a,fix-bundle-channel-4.0, trilio-charm-channel: &trilio-charm-channel '4.0/stable', trilio-charm-channel: &trilio-charm-channel 'latest/stable',3,3
openstack%2Fcharm-trilio-wlm~master~Ib8c7c711db2caa95b00cebf5e10e1680ea53790a,openstack/charm-trilio-wlm,master,Ib8c7c711db2caa95b00cebf5e10e1680ea53790a,Add Focal Wallaby functional test,MERGED,2022-07-28 16:12:12.000000000,2022-08-03 08:56:28.000000000,2022-08-03 08:56:28.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 16:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/f3473a3340dcef01b4301918a5334052eb4e42de', 'message': 'Add Focal Wallaby functional test\n\nAdd Focal Wallaby functional test and switch bundles to use edge.\n\nChange-Id: Ib8c7c711db2caa95b00cebf5e10e1680ea53790a\n'}, {'number': 2, 'created': '2022-07-29 13:57:30.000000000', 'files': ['osci.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/focal-wallaby-42.yaml', 'src/tests/bundles/focal-ussuri-42-s3.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-queens-42.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/0326cc6d60026ebfce82904de3fecba39102ee3f', 'message': 'Add Focal Wallaby functional test\n\nAdd Focal Wallaby functional test and switch bundles to use edge.\n\nChange-Id: Ib8c7c711db2caa95b00cebf5e10e1680ea53790a\n'}]",7,851429,0326cc6d60026ebfce82904de3fecba39102ee3f,23,3,2,12549,,,0,"Add Focal Wallaby functional test

Add Focal Wallaby functional test and switch bundles to use edge.

Change-Id: Ib8c7c711db2caa95b00cebf5e10e1680ea53790a
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/29/851429/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/focal-wallaby-42.yaml', 'src/tests/bundles/focal-ussuri-42-s3.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-queens-42.yaml']",9,f3473a3340dcef01b4301918a5334052eb4e42de,support-wallaby, trilio-charm-channel: &trilio-charm-channel 'latest/edge', trilio-charm-channel: &trilio-charm-channel 'latest/stable',335,6
openstack%2Fcharm-trilio-wlm~stable%2F4.1~Ibaafa47c5191ff16dddd33320f8ad4928e3326df,openstack/charm-trilio-wlm,stable/4.1,Ibaafa47c5191ff16dddd33320f8ad4928e3326df,Correct bundles charm channel,MERGED,2022-07-27 19:20:30.000000000,2022-08-03 08:56:26.000000000,2022-08-03 08:56:26.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 19:20:30.000000000', 'files': ['src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/bundles/focal-ussuri-41-s3.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/e8292135b7096fc8def988d0c07406055d47eb53', 'message': 'Correct bundles charm channel\n\nChange-Id: Ibaafa47c5191ff16dddd33320f8ad4928e3326df\n'}]",7,851250,e8292135b7096fc8def988d0c07406055d47eb53,20,3,1,12549,,,0,"Correct bundles charm channel

Change-Id: Ibaafa47c5191ff16dddd33320f8ad4928e3326df
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/50/851250/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/bundles/focal-ussuri-41-s3.yaml']",5,e8292135b7096fc8def988d0c07406055d47eb53,fix-bundle-channel-4.1, trilio-charm-channel: &trilio-charm-channel '4.1/edge' charm: ch:trilio-data-mover charm: ch:trilio-dm-api charm: ch:trilio-horizon-plugin, trilio-charm-channel: &trilio-charm-channel 'latest/stable' charm: ch:openstack-charmers-trilio-data-mover charm: ch:openstack-charmers-trilio-dm-api charm: ch:openstack-charmers-trilio-horizon-plugin,20,20
openstack%2Fcharm-trilio-data-mover~stable%2F4.0~I6a9c155c635936d3882bfbf03fbf313ca06ad66a,openstack/charm-trilio-data-mover,stable/4.0,I6a9c155c635936d3882bfbf03fbf313ca06ad66a,Correct bundles charm channel,MERGED,2022-07-25 05:59:58.000000000,2022-08-03 08:56:25.000000000,2022-08-03 08:56:25.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-25 05:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/98167b93b6910d8b8512edd827d0294c067416cb', 'message': 'Correct bundles charm channel\n\nChange-Id: I6a9c155c635936d3882bfbf03fbf313ca06ad66a\n'}, {'number': 2, 'created': '2022-07-25 06:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/0d48328c314da550afc4f8de0ca248fad7d1ba66', 'message': 'Correct bundles charm channel\n\nChange-Id: I6a9c155c635936d3882bfbf03fbf313ca06ad66a\n'}, {'number': 3, 'created': '2022-07-27 12:45:59.000000000', 'files': ['src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-train-40.yaml', 'src/tests/bundles/bionic-queens-40.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/66bef3b4aa9901c8a629e160772d0b662f29fdf9', 'message': 'Correct bundles charm channel\n\nChange-Id: I6a9c155c635936d3882bfbf03fbf313ca06ad66a\n'}]",2,850852,66bef3b4aa9901c8a629e160772d0b662f29fdf9,16,3,3,12549,,,0,"Correct bundles charm channel

Change-Id: I6a9c155c635936d3882bfbf03fbf313ca06ad66a
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/52/850852/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/bionic-train-40.yaml']",3,98167b93b6910d8b8512edd827d0294c067416cb,fix-bundle-channel-4.0, trilio-charm-channel: &trilio-charm-channel '4.0/stable', trilio-charm-channel: &trilio-charm-channel 'latest/stable',3,3
openstack%2Fkolla-ansible~master~Ibf0d612e9420b60e06722d34f648e5969b7aa4f2,openstack/kolla-ansible,master,Ibf0d612e9420b60e06722d34f648e5969b7aa4f2,"add path_grouping_policy, failback, no_path_retry default value",NEW,2022-04-27 08:27:47.000000000,2022-08-03 08:54:46.000000000,,"[{'_account_id': 16523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 08:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fa04a548f8ba6058a88a7b4882e7d5890376009', 'message': 'add path_grouping_policy, failback, no_path_retry default value\n\nno_path_retry: A numeric value for this attribute specifies the number of times\nthe system should attempt to use a failed path before disabling queuing\n\nWhen network problems occur, if no_path_retry value is set to faild,\nInput/Output Error occurs in the VM filesystem, So set the value to queue\n\nRef: - https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_linux/7/html/dm_multipath/config_file_defaults\n  - https://forum.proxmox.com/threads/problem-with-multipath-wwid-not-in-wwids-file.70198/\nChange-Id: Ibf0d612e9420b60e06722d34f648e5969b7aa4f2\n'}, {'number': 2, 'created': '2022-04-27 08:31:18.000000000', 'files': ['ansible/roles/multipathd/templates/multipath.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16e7cae01994da3e96eb2c0b9b5b4b92e4a04902', 'message': 'add path_grouping_policy, failback, no_path_retry default value\n\nno_path_retry: A numeric value for this attribute specifies the number of times\nthe system should attempt to use a failed path before disabling queuing\n\nWhen network problems occur, if no_path_retry value is set to faild,\nInput/Output Error occurs in the VM filesystem, So set the value to queue\n\nRef:\n   - https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/dm_multipath/config_file_defaults\n   - https://forum.proxmox.com/threads/problem-with-multipath-wwid-not-in-wwids-file.70198/\n\nChange-Id: Ibf0d612e9420b60e06722d34f648e5969b7aa4f2\n'}]",0,839493,16e7cae01994da3e96eb2c0b9b5b4b92e4a04902,5,2,2,23266,,,0,"add path_grouping_policy, failback, no_path_retry default value

no_path_retry: A numeric value for this attribute specifies the number of times
the system should attempt to use a failed path before disabling queuing

When network problems occur, if no_path_retry value is set to faild,
Input/Output Error occurs in the VM filesystem, So set the value to queue

Ref:
   - https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/dm_multipath/config_file_defaults
   - https://forum.proxmox.com/threads/problem-with-multipath-wwid-not-in-wwids-file.70198/

Change-Id: Ibf0d612e9420b60e06722d34f648e5969b7aa4f2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/839493/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/multipathd/templates/multipath.conf.j2'],1,4fa04a548f8ba6058a88a7b4882e7d5890376009,, path_grouping_policy multibus failback immediate no_path_retry queue,,3,0
openstack%2Fneutron-dynamic-routing~stable%2Fvictoria~I1b13f01ca47c8390f1361e01d5eb313fe2fc417f,openstack/neutron-dynamic-routing,stable/victoria,I1b13f01ca47c8390f1361e01d5eb313fe2fc417f,Consume BGP service plugin queue in RPC workers,ABANDONED,2022-08-02 10:27:18.000000000,2022-08-03 08:27:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-02 10:27:18.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/f94d3c0364d35f4d09e5f21906d42fb5e93af160', 'message': 'Consume BGP service plugin queue in RPC workers\n\nThis patch adds BGP service plugin RPC queue to RPC workers, like it is\ndone in other Neutron service plugins (l3-plugin, metering, etc.).\nWithout it some RPC requests and AMQP heartbeats are not processed in\ntime, causing AMQP connection dropping, and other unpredictable unwanted\nbehavior.\n\nCloses-Bug: #1974057\nChange-Id: I1b13f01ca47c8390f1361e01d5eb313fe2fc417f\n(cherry picked from commit b9c085b85f3f2912d77050a33667f88b8edd6ca0)\n'}]",0,851729,f94d3c0364d35f4d09e5f21906d42fb5e93af160,3,1,1,13252,,,0,"Consume BGP service plugin queue in RPC workers

This patch adds BGP service plugin RPC queue to RPC workers, like it is
done in other Neutron service plugins (l3-plugin, metering, etc.).
Without it some RPC requests and AMQP heartbeats are not processed in
time, causing AMQP connection dropping, and other unpredictable unwanted
behavior.

Closes-Bug: #1974057
Change-Id: I1b13f01ca47c8390f1361e01d5eb313fe2fc417f
(cherry picked from commit b9c085b85f3f2912d77050a33667f88b8edd6ca0)
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/29/851729/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/services/bgp/bgp_plugin.py'],1,f94d3c0364d35f4d09e5f21906d42fb5e93af160,use-rpc-workers-stable/yoga-stable/xena-stable/wallaby-stable/victoria, self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] = ( bgp_dr_rpc_agent_api.BgpDrAgentNotifyApi() ) self._bgp_rpc = self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] def start_rpc_listeners(self): return self.conn.consume_in_threads(), self._setup_rpc() def _setup_rpc(self): self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] = ( bgp_dr_rpc_agent_api.BgpDrAgentNotifyApi() ) self._bgp_rpc = self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] self.conn.consume_in_threads(),6,7
openstack%2Fpython-tripleoclient~master~Ic02839f14b7ff60d02aeb8486bbf89f78c0d1dd5,openstack/python-tripleoclient,master,Ic02839f14b7ff60d02aeb8486bbf89f78c0d1dd5,Use realpath for checking directories,MERGED,2022-07-21 01:55:15.000000000,2022-08-03 08:13:52.000000000,2022-08-03 08:12:40.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-07-21 01:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f5c9a9d812e069c7d4523cd427d8509c5aa19c74', 'message': 'Use realpath for checking directories\n\nThis patch changes the method we use to check\nfor existing paths to use the canonical path\nrather that the literal value. This is really\nmore of a quality of life change that makes\nunit tests work on multiple OS versions.\n\nNamely, it makes the unittests work on MacOS.\nBut should also be applicable to Windows should\nsomeone want to contribute from a Windows or\nMacOS based platform.\n\nChange-Id: Ic02839f14b7ff60d02aeb8486bbf89f78c0d1dd5\n'}, {'number': 2, 'created': '2022-07-21 01:55:38.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/workflows/test_deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8038c0d9d24a300675068824aa352d6c344f82cf', 'message': 'Use realpath for checking directories\n\nThis patch changes the method we use to check\nfor existing paths to use the canonical path\nrather that the literal value. This is really\nmore of a quality of life change that makes\nunit tests work on multiple OS versions.\n\nNamely, it makes the unittests work on MacOS.\nBut should also be applicable to Windows should\nsomeone want to contribute from a Windows or\nMacOS based platform.\n\nChange-Id: Ic02839f14b7ff60d02aeb8486bbf89f78c0d1dd5\n'}]",5,850596,8038c0d9d24a300675068824aa352d6c344f82cf,15,3,2,30073,,,0,"Use realpath for checking directories

This patch changes the method we use to check
for existing paths to use the canonical path
rather that the literal value. This is really
more of a quality of life change that makes
unit tests work on multiple OS versions.

Namely, it makes the unittests work on MacOS.
But should also be applicable to Windows should
someone want to contribute from a Windows or
MacOS based platform.

Change-Id: Ic02839f14b7ff60d02aeb8486bbf89f78c0d1dd5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/850596/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/workflows/test_deployment.py']",2,f5c9a9d812e069c7d4523cd427d8509c5aa19c74,use-realpath," self.assertEqual(os.path.join(os.path.realpath(new), stack), self.assertEqual(os.path.join(os.path.realpath(new), stack), self.assertEqual(os.path.join(os.path.realpath(new), stack),"," self.assertEqual(os.path.join(new, stack), self.assertEqual(os.path.join(new, stack), self.assertEqual(os.path.join(new, stack),",6,4
openstack%2Ftripleo-heat-templates~master~Ied490646298d2753726f3c17839582d189c5ff08,openstack/tripleo-heat-templates,master,Ied490646298d2753726f3c17839582d189c5ff08,Remove hieradata keys for non-bundle implementations,MERGED,2022-06-28 15:13:31.000000000,2022-08-03 08:03:34.000000000,2022-08-03 05:30:55.000000000,"[{'_account_id': 6926}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}, {'_account_id': 35158}, {'_account_id': 35159}, {'_account_id': 35161}]","[{'number': 1, 'created': '2022-06-28 15:13:31.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfbccb0b969a6311ba5f89360237552858595593', 'message': 'Remove hieradata keys for non-bundle implementations\n\n... because these implementations were already removed by [1] and these\nkeys are no longer used.\n\nDepends-on: https://review.opendev.org/798085\nChange-Id: Ied490646298d2753726f3c17839582d189c5ff08\n'}]",2,847983,dfbccb0b969a6311ba5f89360237552858595593,21,8,1,9816,,,0,"Remove hieradata keys for non-bundle implementations

... because these implementations were already removed by [1] and these
keys are no longer used.

Depends-on: https://review.opendev.org/798085
Change-Id: Ied490646298d2753726f3c17839582d189c5ff08
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/847983/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml']",2,dfbccb0b969a6311ba5f89360237552858595593,, - tripleo::profile::pacemaker::database::mysql_bundle::mysql_docker_image: &mysql_image_pcmklatest," - tripleo::profile::pacemaker::database::mysql::bind_address: str_replace: template: ""%{lookup('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]} # NOTE: bind IP is found in hiera replacing the network name with the # local node IP for the given network; replacement examples # (eg. for internal_api): # internal_api -> IP # internal_api_uri -> [IP] # internal_api_subnet - > IP/CIDR tripleo::profile::pacemaker::database::mysql::gmcast_listen_addr: str_replace: template: ""%{lookup('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MysqlNetwork]} tripleo::profile::pacemaker::database::mysql::ca_file: get_param: InternalTLSCAFile tripleo::profile::pacemaker::database::mysql_bundle::mysql_docker_image: &mysql_image_pcmklatest",1,34
openstack%2Fpuppet-openstack-integration~master~I9ae5e56b25c6f3024185834e8c2f8811ea38e28e,openstack/puppet-openstack-integration,master,I9ae5e56b25c6f3024185834e8c2f8811ea38e28e,Pinning versions of puppet-* to latest released version instead of master,ABANDONED,2022-08-02 14:16:03.000000000,2022-08-03 08:02:29.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 14:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b6c9dc3513d2e6f468bc4ab0bfaa2df3915e9c89', 'message': 'Pinning versions of puppet-* to latest released version instead of master\n\nDetails: https://bugs.launchpad.net/tripleo/+bug/1983281/comments/1\n\nRelated-Bug: 1983281\nChange-Id: I9ae5e56b25c6f3024185834e8c2f8811ea38e28e\n'}, {'number': 2, 'created': '2022-08-02 15:44:24.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d0eedccbddc0bd5fc4db877a0a135cf5b6c218c9', 'message': 'Pinning versions of puppet-* to latest released version instead of master\n\nDetails: https://bugs.launchpad.net/tripleo/+bug/1983281/comments/1\n\nRelated-Bug: 1983281\nChange-Id: I9ae5e56b25c6f3024185834e8c2f8811ea38e28e\n'}]",1,851867,d0eedccbddc0bd5fc4db877a0a135cf5b6c218c9,6,2,2,32458,,,0,"Pinning versions of puppet-* to latest released version instead of master

Details: https://bugs.launchpad.net/tripleo/+bug/1983281/comments/1

Related-Bug: 1983281
Change-Id: I9ae5e56b25c6f3024185834e8c2f8811ea38e28e
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/67/851867/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,b6c9dc3513d2e6f468bc4ab0bfaa2df3915e9c89,, :ref => '20.3.0' :ref => '20.3.0' :ref => '20.3.0' :ref => '3.1.1' :ref => '20.3.0' :ref => '93.3.0' :ref => '20.3.0' :ref => '20.3.0' :ref => '20.3.0' :ref => '20.3.0' :ref => '20.3.0' :ref => '20.3.0' :ref => '20.3.0', :ref => 'master' :ref => 'master' :ref => 'master' :ref => 'master' :ref => 'master' :ref => 'master' :ref => 'master' :ref => 'master' :ref => 'master' :ref => 'master' :ref => 'master' :ref => 'master' :ref => 'master',13,13
openstack%2Fcharm-mysql-innodb-cluster~master~If92891924ddbdce80e25df27bc307df9d3b558bf,openstack/charm-mysql-innodb-cluster,master,If92891924ddbdce80e25df27bc307df9d3b558bf,Add NRPE checks,ABANDONED,2021-11-18 15:23:58.000000000,2022-08-03 07:53:22.000000000,,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 25011}]","[{'number': 1, 'created': '2021-11-18 15:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/0a032242347cb674a36a823792c1b60b5bcd7325', 'message': 'Bring the same NRPE checks the percona-cluster charm has\n\nThese changes were inspired in charm-percona-cluster when it was\nsitting at [1], but that has been heavily modified to make explicit the\nfact that the leader first needs to create the nagios user (hence,\nsetting a password for it), and then the other units can render the\ndefaults-file for the threads check to use the user.\n\n[1] https://opendev.org/openstack/charm-percona-cluster/commit/393afdd1e7c7a07b9b0675fadb1da4fbd6fff5c1\n\nChange-Id: If92891924ddbdce80e25df27bc307df9d3b558bf\n'}, {'number': 2, 'created': '2021-11-18 15:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/38580a6b8407e3eee5c801153fbe36f13a27015c', 'message': 'Bring the same NRPE checks the percona-cluster charm has\n\nThese changes were inspired in charm-percona-cluster when it was\nsitting at [1], but that has been heavily modified to make explicit the\nfact that the leader first needs to create the nagios user (hence,\nsetting a password for it), and then the other units can render the\ndefaults-file for the threads check to use the user.\n\n[1] https://opendev.org/openstack/charm-percona-cluster/commit/393afdd1e7c7a07b9b0675fadb1da4fbd6fff5c1\n\nCloses-bug: #1864636\nChange-Id: If92891924ddbdce80e25df27bc307df9d3b558bf\n'}, {'number': 3, 'created': '2021-11-19 11:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/44774568d9ec3f2d0a1a366819f8f83d950cc2fb', 'message': 'Add NRPE checks\n\nThese are made to match the checks currently on the percona-cluster\ncharm.\n\nThese changes were inspired in charm-percona-cluster when it was\nsitting at [1], but that has been heavily modified to make explicit the\nfact that the leader first needs to create the nagios user (hence,\nsetting a password for it), and then the other units can render the\ndefaults-file for the threads check to use the user.\n\n[1] https://opendev.org/openstack/charm-percona-cluster/commit/393afdd1e7c7a07b9b0675fadb1da4fbd6fff5c1\n\nChange-Id: If92891924ddbdce80e25df27bc307df9d3b558bf\n'}, {'number': 4, 'created': '2021-11-19 14:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/00a9d4eebc7505a2b4a4259d10821fef6b4b3f99', 'message': 'Add NRPE checks\n\nThese are made to match the checks currently on the percona-cluster\ncharm.\n\nThese changes were inspired in charm-percona-cluster when it was\nsitting at [1], but that has been heavily modified to make explicit the\nfact that the leader first needs to create the nagios user (hence,\nsetting a password for it), and then the other units can render the\ndefaults-file for the threads check to use the user.\n\n[1] https://opendev.org/openstack/charm-percona-cluster/commit/393afdd1e7c7a07b9b0675fadb1da4fbd6fff5c1\n\nChange-Id: If92891924ddbdce80e25df27bc307df9d3b558bf\n'}, {'number': 5, 'created': '2021-11-19 22:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/884541f15c616b896fc650d1f55f10cbe28aeeb7', 'message': 'Add NRPE checks\n\nThese are made to match the checks currently on the percona-cluster\ncharm.\n\nThese changes were inspired in charm-percona-cluster when it was\nsitting at [1], but that has been heavily modified to make explicit the\nfact that the leader first needs to create the nagios user (hence,\nsetting a password for it), and then the other units can render the\ndefaults-file for the threads check to use the user.\n\n[1] https://opendev.org/openstack/charm-percona-cluster/commit/393afdd1e7c7a07b9b0675fadb1da4fbd6fff5c1\n\nChange-Id: If92891924ddbdce80e25df27bc307df9d3b558bf\n'}, {'number': 6, 'created': '2021-11-24 09:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/fbc481060fece9c6e7a81b95ba89ac52d21efbe4', 'message': 'Add NRPE checks\n\nThese are made to match the checks currently on the percona-cluster\ncharm.\n\nThese changes were inspired in charm-percona-cluster when it was\nsitting at [1], but that has been heavily modified to make explicit the\nfact that the leader first needs to create the nagios user (hence,\nsetting a password for it), and then the other units can render the\ndefaults-file for the threads check to use the user.\n\n[1] https://opendev.org/openstack/charm-percona-cluster/commit/393afdd1e7c7a07b9b0675fadb1da4fbd6fff5c1\n\nChange-Id: If92891924ddbdce80e25df27bc307df9d3b558bf\n'}, {'number': 7, 'created': '2022-05-11 10:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/b37ae451cf3284fa7bea84126d86613801f82cc7', 'message': 'Add NRPE checks\n\nThese are made to match the checks currently on the percona-cluster\ncharm.\n\nThese changes were inspired in charm-percona-cluster when it was\nsitting at [1], but that has been heavily modified to make explicit the\nfact that the leader first needs to create the nagios user (hence,\nsetting a password for it), and then the other units can render the\ndefaults-file for the threads check to use the user.\n\n[1] https://opendev.org/openstack/charm-percona-cluster/commit/393afdd1e7c7a07b9b0675fadb1da4fbd6fff5c1\n\nChange-Id: If92891924ddbdce80e25df27bc307df9d3b558bf\n'}, {'number': 8, 'created': '2022-05-12 01:56:27.000000000', 'files': ['src/config.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/metadata.yaml', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/reactive/mysql_innodb_cluster_handlers.py', 'src/layer.yaml', 'src/templates/nagios-my.cnf'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/fd3d90fb5abed9d5d44401107262ea4330248796', 'message': 'Add NRPE checks\n\nThese are made to match the checks currently on the percona-cluster\ncharm.\n\nThese changes were inspired in charm-percona-cluster when it was\nsitting at [1], but that has been heavily modified to make explicit the\nfact that the leader first needs to create the nagios user (hence,\nsetting a password for it), and then the other units can render the\ndefaults-file for the threads check to use the user.\n\n[1] https://opendev.org/openstack/charm-percona-cluster/commit/393afdd1e7c7a07b9b0675fadb1da4fbd6fff5c1\n\nChange-Id: If92891924ddbdce80e25df27bc307df9d3b558bf\n'}]",42,818401,fd3d90fb5abed9d5d44401107262ea4330248796,44,4,8,31836,,,0,"Add NRPE checks

These are made to match the checks currently on the percona-cluster
charm.

These changes were inspired in charm-percona-cluster when it was
sitting at [1], but that has been heavily modified to make explicit the
fact that the leader first needs to create the nagios user (hence,
setting a password for it), and then the other units can render the
defaults-file for the threads check to use the user.

[1] https://opendev.org/openstack/charm-percona-cluster/commit/393afdd1e7c7a07b9b0675fadb1da4fbd6fff5c1

Change-Id: If92891924ddbdce80e25df27bc307df9d3b558bf
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/01/818401/6 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/metadata.yaml', 'src/reactive/mysql_innodb_cluster_handlers.py', 'src/layer.yaml', 'src/templates/nagios-my.cnf']",6,0a032242347cb674a36a823792c1b60b5bcd7325,add-nrpe-checks,"[client] user=""{{ mysql_user }}"" password=""{{ mysql_passwd }}"" ",,138,10
openstack%2Fnova~master~Icb8de13f665c340cd5d863654f8ad981de21293d,openstack/nova,master,Icb8de13f665c340cd5d863654f8ad981de21293d,Updated Suspend definition in server concepts doc,MERGED,2022-07-29 11:39:22.000000000,2022-08-03 07:34:32.000000000,2022-08-03 07:33:15.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 11:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/484869b4451af040d8a23c72860fd9889844307b', 'message': 'Updated Suspend definition in server concepts doc\n\nCloses-Bug: #1943881\nChange-Id: Icb8de13f665c340cd5d863654f8ad981de21293d\n'}, {'number': 2, 'created': '2022-08-02 04:19:34.000000000', 'files': ['api-guide/source/server_concepts.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/1495d802c6a6b2ce3b92d59686e1e0e23a28c21f', 'message': 'Updated Suspend definition in server concepts doc\n\nCloses-Bug: #1943881\nChange-Id: Icb8de13f665c340cd5d863654f8ad981de21293d\n'}]",7,851511,1495d802c6a6b2ce3b92d59686e1e0e23a28c21f,19,4,2,34860,,,0,"Updated Suspend definition in server concepts doc

Closes-Bug: #1943881
Change-Id: Icb8de13f665c340cd5d863654f8ad981de21293d
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/851511/1 && git format-patch -1 --stdout FETCH_HEAD,['api-guide/source/server_concepts.rst'],1,484869b4451af040d8a23c72860fd9889844307b,bug/1943881, similar to placing a device in hibernation and its occupied resource will not be freed but rather kept for when the server is resumed., similar to placing a device in hibernation; memory and vCPUs become available to create other servers.,2,2
openstack%2Fproject-config~master~I8e70ef180006d037e405532dfbbd0ed6c2345d0e,openstack/project-config,master,I8e70ef180006d037e405532dfbbd0ed6c2345d0e,Correct openEuler mirror URL,ABANDONED,2022-03-17 01:35:07.000000000,2022-08-03 07:04:51.000000000,,"[{'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-03-17 01:35:07.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2378fac703de3a4ad41186b9de09bb5b9e20873a', 'message': ""Correct openEuler mirror URL\n\nCorrect openEuler mirror URL to let it works well.\n\nNote: openEuler mirror doesn't work until diskimage-build create\na new release withe the patch[1] merged.\n\n[1]: https://review.opendev.org/c/openstack/diskimage-builder/+/833969\n\nChange-Id: I8e70ef180006d037e405532dfbbd0ed6c2345d0e\n""}]",1,834086,2378fac703de3a4ad41186b9de09bb5b9e20873a,7,3,1,15054,,,0,"Correct openEuler mirror URL

Correct openEuler mirror URL to let it works well.

Note: openEuler mirror doesn't work until diskimage-build create
a new release withe the patch[1] merged.

[1]: https://review.opendev.org/c/openstack/diskimage-builder/+/833969

Change-Id: I8e70ef180006d037e405532dfbbd0ed6c2345d0e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/834086/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,2378fac703de3a4ad41186b9de09bb5b9e20873a,fix_openeuler_mirror, DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.opendev.org/openeuler', DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.opendev.org/openeuler/openEuler-20.03-LTS-SP2/',1,1
openstack%2Fdesignate~master~If9599c62abe05e4e7514e81acbc86318880a61ac,openstack/designate,master,If9599c62abe05e4e7514e81acbc86318880a61ac,[DNM] Testing,ABANDONED,2022-08-03 04:31:41.000000000,2022-08-03 06:38:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-03 04:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/83ea379bc5d47e6cdd0838d34bd6961008e8eebf', 'message': '[DNM] Testing\n\nChange-Id: If9599c62abe05e4e7514e81acbc86318880a61ac\n'}, {'number': 2, 'created': '2022-08-03 05:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f38e19f5e51e43a5d899ed1ac9e2e5a8efa886a8', 'message': '[DNM] Testing\n\nChange-Id: If9599c62abe05e4e7514e81acbc86318880a61ac\n'}, {'number': 3, 'created': '2022-08-03 05:35:12.000000000', 'files': ['designate/storage/impl_sqlalchemy/alembic/legacy_utils.py', '.zuul.yaml', 'designate/storage/impl_sqlalchemy/alembic/versions/b8999fd10721_support_naptr_records.py', 'designate/storage/impl_sqlalchemy/alembic/versions/91eb1eb7c882_support_caa_records.py', 'designate/storage/impl_sqlalchemy/alembic/versions/e5e2199ed76e_support_cert_records.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/29c3305cdbd0b8cef76f9fd12102786e9f549f5e', 'message': '[DNM] Testing\n\nChange-Id: If9599c62abe05e4e7514e81acbc86318880a61ac\n'}]",0,851826,29c3305cdbd0b8cef76f9fd12102786e9f549f5e,5,1,3,22623,,,0,"[DNM] Testing

Change-Id: If9599c62abe05e4e7514e81acbc86318880a61ac
",git fetch https://review.opendev.org/openstack/designate refs/changes/26/851826/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate/storage/impl_sqlalchemy/alembic/legacy_utils.py', '.zuul.yaml']",2,83ea379bc5d47e6cdd0838d34bd6961008e8eebf,testing, - designate-pdns4-postgres, - designate-bind9 - designate-bind9-centos9stream-fips: voting: false - designate-bind9-centos-9-stream: voting: false - designate-bind9-scoped-tokens - designate-pdns4 - designate-grenade-bind9 - designate-grenade-pdns4 - designate-ipv6-only-pdns4 - designate-ipv6-only-bind9,2,11
openstack%2Fskyline-console~master~I5b3972dc3de3b579aed5f3ce798cfe4449c30d1a,openstack/skyline-console,master,I5b3972dc3de3b579aed5f3ce798cfe4449c30d1a,fix: fix the size quota check when create volume,ABANDONED,2022-08-01 08:45:04.000000000,2022-08-03 06:33:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 30356}, {'_account_id': 34458}, {'_account_id': 35102}, {'_account_id': 35103}]","[{'number': 1, 'created': '2022-08-01 08:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/be945585a9715590985542eb4ab7c3be50afff2c', 'message': 'fix: fix the size quota check when create volume\n\n1. Disable to click submit button when the remaining size/type size quota is 0.\n2. Update SliderInput component to onChange the right value, not the incorrect input value\n\nChange-Id: I5b3972dc3de3b579aed5f3ce798cfe4449c30d1a\n'}, {'number': 2, 'created': '2022-08-02 05:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d62118a6f56c8895bc71873932a9911a2c31c370', 'message': 'fix: fix the size quota check when create volume\n\n1. Disable to click submit button when the remaining size/type size quota is 0.\n2. Update SliderInput component to onChange the right value, not the incorrect input value\n\nChange-Id: I5b3972dc3de3b579aed5f3ce798cfe4449c30d1a\n'}, {'number': 3, 'created': '2022-08-02 07:14:17.000000000', 'files': ['src/resources/cinder/volume.jsx', 'src/components/FormItem/SliderInput/index.jsx', 'test/e2e/integration/pages/storage/volume.spec.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/404cbeb95fb2e40ab33760f6437cb140118c7b3e', 'message': 'fix: fix the size quota check when create volume\n\n1. Disable to click submit button when the remaining size/type size quota is 0.\n2. Update SliderInput component to onChange the right value, not the incorrect input value\n3. Add image check to the volume e2e after created image successfully\n\nChange-Id: I5b3972dc3de3b579aed5f3ce798cfe4449c30d1a\n'}]",3,851703,404cbeb95fb2e40ab33760f6437cb140118c7b3e,17,6,3,30434,,,0,"fix: fix the size quota check when create volume

1. Disable to click submit button when the remaining size/type size quota is 0.
2. Update SliderInput component to onChange the right value, not the incorrect input value
3. Add image check to the volume e2e after created image successfully

Change-Id: I5b3972dc3de3b579aed5f3ce798cfe4449c30d1a
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/03/851703/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/resources/cinder/volume.jsx', 'src/components/FormItem/SliderInput/index.jsx']",2,be945585a9715590985542eb4ab7c3be50afff2c,quota," getValue = (value) => { const { inputMin, inputMax } = this.state; if (inputMin !== undefined && value < inputMin) { return inputMin; } if (inputMax !== undefined && value > inputMax) { return inputMax; } return value; }; onChange = (value) => { const realValue = this.getValue(value); this.setState({ inputValue: realValue, }); onChange && onChange(realValue);"," onChange = (value) => { this.setState({ inputValue: value, }); onChange && onChange(value);",27,6
openstack%2Fpython-swiftclient~stable%2Fyoga~Ibac2bb7e2e4c9946c7384f0aab8e43d0d79ba645,openstack/python-swiftclient,stable/yoga,Ibac2bb7e2e4c9946c7384f0aab8e43d0d79ba645,tempurl: Support sha256 and sha512 signatures,ABANDONED,2022-06-23 18:29:26.000000000,2022-08-03 06:03:50.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-23 18:29:26.000000000', 'files': ['swiftclient/shell.py', 'swiftclient/utils.py', 'test/unit/test_utils.py', 'test/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/65afa5cae4746e9530da606e2c7494d8f74aded4', 'message': 'tempurl: Support sha256 and sha512 signatures\n\nUp the default to sha256 since\n\n* the proxy has supported (and defaulted to allowing) it for four years\n  now, and\n* Rackspace has supported it for even longer.\n\nInclude a note in the --help about older clusters likely requiring sha1.\n\nChange-Id: Ibac2bb7e2e4c9946c7384f0aab8e43d0d79ba645\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nRelated-Bug: #1733634\nCloses-Bug: #1977867\n(cherry picked from commit 9eee29d2e46e774eb08acb76c3317a58856f3f71)\n'}]",3,847398,65afa5cae4746e9530da606e2c7494d8f74aded4,7,2,1,15343,,,0,"tempurl: Support sha256 and sha512 signatures

Up the default to sha256 since

* the proxy has supported (and defaulted to allowing) it for four years
  now, and
* Rackspace has supported it for even longer.

Include a note in the --help about older clusters likely requiring sha1.

Change-Id: Ibac2bb7e2e4c9946c7384f0aab8e43d0d79ba645
Related-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046
Related-Bug: #1733634
Closes-Bug: #1977867
(cherry picked from commit 9eee29d2e46e774eb08acb76c3317a58856f3f71)
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/98/847398/1 && git format-patch -1 --stdout FETCH_HEAD,"['swiftclient/shell.py', 'swiftclient/utils.py', 'test/unit/test_utils.py', 'test/unit/test_shell.py']",4,65afa5cae4746e9530da606e2c7494d8f74aded4,," iso8601=False, prefix=False, ip_range=None, digest='sha256') iso8601=False, prefix=True, ip_range=None, digest='sha256') iso8601=False, prefix=False, ip_range=None, digest='sha256') iso8601=True, prefix=False, ip_range=None, digest='sha256') iso8601=False, prefix=False, ip_range=None, digest='sha256') iso8601=False, prefix=False, ip_range='1.2.3.4', digest='sha256') ""secret_key"", ""--absolute"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--prefix"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--prefix"", '--iso8601', ""--digest"", ""sha1""] ""secret_key"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--ip-range"", ""1.2.3.4"", ""--digest"", ""sha1""] def test_temp_url_digests_output(self): argv = ["""", ""tempurl"", ""GET"", ""60"", ""/v1/a/c/o"", ""secret_key"", ""--absolute""] with CaptureOutput(suppress_systemexit=True) as output: swiftclient.shell.main(argv) s = ""db04994a589b1a2538bff694f0a4f57c7a397617ac2cb49f924d222bbe2b3e01"" expected = ""/v1/a/c/o?temp_url_sig=%s&temp_url_expires=60\n"" % s self.assertEqual(expected, output.out) argv = ["""", ""tempurl"", ""GET"", ""60"", ""/v1/a/c/o"", ""secret_key"", ""--absolute"", ""--digest"", ""sha256""] with CaptureOutput(suppress_systemexit=True) as output: swiftclient.shell.main(argv) # same signature/expectation self.assertEqual(expected, output.out) argv = ["""", ""tempurl"", ""GET"", ""60"", ""/v1/a/c/o"", ""secret_key"", ""--absolute"", ""--digest"", ""sha1""] with CaptureOutput(suppress_systemexit=True) as output: swiftclient.shell.main(argv) sig = ""63bc77a473a1c2ce956548cacf916f292eb9eac3"" expected = ""/v1/a/c/o?temp_url_sig=%s&temp_url_expires=60\n"" % sig self.assertEqual(expected, output.out) argv = ["""", ""tempurl"", ""GET"", ""60"", ""/v1/a/c/o"", ""secret_key"", ""--absolute"", ""--digest"", ""sha512""] with CaptureOutput(suppress_systemexit=True) as output: swiftclient.shell.main(argv) sig = (""sha512:nMXwEAHu3jzlCZi4wWO1juEq4DikFlX8a729PLJVvUp"" ""vg0GpgkJnX5uCG1x-v2KfTrmRtLOcT7KBK2RXLW1uKw"") expected = ""/v1/a/c/o?temp_url_sig=%s&temp_url_expires=60\n"" % sig self.assertEqual(expected, output.out) "," iso8601=False, prefix=False, ip_range=None) iso8601=False, prefix=True, ip_range=None) iso8601=False, prefix=False, ip_range=None) iso8601=True, prefix=False, ip_range=None) iso8601=False, prefix=False, ip_range=None) iso8601=False, prefix=False, ip_range='1.2.3.4') ""secret_key"", ""--absolute""] ""secret_key"", ""--absolute""] ""secret_key"", ""--absolute"", ""--prefix""] ""secret_key"", ""--absolute"", ""--prefix"", '--iso8601'] ""secret_key""] ""secret_key"", ""--absolute""] ""secret_key"", ""--absolute""] ""secret_key"", ""--absolute"", ""--ip-range"", ""1.2.3.4""]",152,48
openstack%2Fswift~master~Ib58673dc6aa80cbd107c9bed087f346591645c1f,openstack/swift,master,Ib58673dc6aa80cbd107c9bed087f346591645c1f,Imported Translations from Zanata,MERGED,2022-08-03 03:55:57.000000000,2022-08-03 04:37:36.000000000,2022-08-03 04:36:22.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-03 03:55:57.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/swift/commit/3a7b89506d4b1d5ec28c28c4edf0cfeaccf19dc6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib58673dc6aa80cbd107c9bed087f346591645c1f\n'}]",0,851949,3a7b89506d4b1d5ec28c28c4edf0cfeaccf19dc6,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib58673dc6aa80cbd107c9bed087f346591645c1f
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/851949/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,3a7b89506d4b1d5ec28c28c4edf0cfeaccf19dc6,zanata/translations,"""POT-Creation-Date: 2022-08-03 02:02+0000\n""""PO-Revision-Date: 2022-08-02 11:28+0000\n""msgid ""Added object-reconstructor stats to recon."" msgstr ""Added object-reconstructor stats to recon."" msgid ""Added stats for shard range cache hits, misses, and skips."" msgstr ""Added stats for shard range cache hits, misses, and skips."" msgid ""Added support for Python 3.9."" msgstr ""Added support for Python 3.9."" msgid ""Sharding fixes:"" msgstr ""Sharding fixes:"" ""Similar to above, ``expansion_limit`` was added as an absolute-size "" ""replacement for the now-deprecated ``shard_shrink_merge_point`` "" ""configuration option."" msgstr """" ""Similar to above, ``expansion_limit`` was added as an absolute-size "" ""replacement for the now-deprecated ``shard_shrink_merge_point`` "" ""configuration option."" msgid """" ""Some client behaviors that the proxy previously logged at warning have been "" ""lowered to info."" msgstr """" ""Some client behaviours that the proxy previously logged at warning have been "" ""lowered to info."" msgid """"msgid """" ""Staticweb correctly handles listings when paths include non-ASCII characters."" msgstr """" ""Staticweb correctly handles listings when paths include non-ASCII characters."" ""The 'compact' command now outputs the total number of compactible sequences."" msgstr """" ""The 'compact' command now outputs the total number of compactible sequences."" msgid """"""The ``StatsdClient.set_prefix`` method is now deprecated and may be removed "" ""in a future release; by extension, so is the ``LogAdapter."" ""set_statsd_prefix`` method. Middleware developers should use the "" ""``statsd_tail_prefix`` argument to ``get_logger`` instead."" msgstr """" ""The ``StatsdClient.set_prefix`` method is now deprecated and may be removed "" ""in a future release; by extension, so is the ``LogAdapter."" ""set_statsd_prefix`` method. Middleware developers should use the "" ""``statsd_tail_prefix`` argument to ``get_logger`` instead."" msgid ""The ``cname_lookup`` middleware now works with dnspython 2.0 and later."" msgstr """" ""The ``cname_lookup`` middleware now works with dnspython 2.0 and later."" msgid """"""The ``storage_domain`` option now accepts a comma-separated list of storage "" ""domains. This allows multiple storage domains to configured for use with "" ""virtual-host style addressing."" msgstr """" ""The ``storage_domain`` option now accepts a comma-separated list of storage "" ""domains. This allows multiple storage domains to be configured for use with "" ""virtual-host style addressing."" msgid """" ""The ``swift-recon`` tool now queries each object-server IP only once when "" ""reporting disk usage. Previously, each port in the ring would be queried; "" ""when using servers-per-port, this could dramatically overstate the disk "" ""capacity in the cluster."" msgstr """" ""The ``swift-recon`` tool now queries each object-server IP only once when "" ""reporting disk usage. Previously, each port in the ring would be queried; "" ""when using servers-per-port, this could dramatically overstate the disk "" ""capacity in the cluster."" msgid """"""The account and container auditors now log and update recon before going to "" ""sleep."" msgstr """" ""The account and container auditors now log and update recon before going to "" ""sleep."" msgid """"""The container-reconciler now scales out better with new ``processes``, "" ""``process``, and ``concurrency`` options, similar to the object-expirer."" msgstr """" ""The container-reconciler now scales out better with new ``processes``, "" ""``process``, and ``concurrency`` options, similar to the object-expirer."" msgid """"msgid """" ""The container-updater will quarantine container databases if all replicas "" ""for the account respond 404."" msgstr """" ""The container-updater will quarantine container databases if all replicas "" ""for the account respond 404."" ""The sharder now correctly identifies and fails audits for shard ranges that "" ""overlap exactly."" msgstr """" ""The sharder now correctly identifies and fails audits for shard ranges that "" ""overlap exactly."" msgid """" ""The sharding progress reports in recon cache now continue to be included for "" ""a period of time after sharding has completed. The time period may be "" ""configured using the ``recon_sharded_timeout`` option in the ``[container-"" ""sharder]`` section of container-server.conf, and defaults to 12 hours."" msgstr """" ""The sharding progress reports in recon cache now continue to be included for "" ""a period of time after sharding has completed. The time period may be "" ""configured using the ``recon_sharded_timeout`` option in the ``[container-"" ""sharder]`` section of container-server.conf, and defaults to 12 hours."" msgid """"","""POT-Creation-Date: 2022-08-01 17:40+0000\n""""PO-Revision-Date: 2022-08-01 10:31+0000\n""",114,2
openstack%2Fproject-config~master~Icf762f6aae68abf4e4885f7d48483d1698570706,openstack/project-config,master,Icf762f6aae68abf4e4885f7d48483d1698570706,Add Grafana dashboard for the Tobiko CI,MERGED,2022-07-25 21:57:14.000000000,2022-08-03 04:19:00.000000000,2022-08-03 04:09:56.000000000,"[{'_account_id': 7118}, {'_account_id': 16914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-25 21:57:14.000000000', 'files': ['grafana/tobiko.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6452e53157c5b59fd8e3c8afaa98bc50a3c2382f', 'message': 'Add Grafana dashboard for the Tobiko CI\n\nChange-Id: Icf762f6aae68abf4e4885f7d48483d1698570706\n'}]",0,850953,6452e53157c5b59fd8e3c8afaa98bc50a3c2382f,9,3,1,11975,,,0,"Add Grafana dashboard for the Tobiko CI

Change-Id: Icf762f6aae68abf4e4885f7d48483d1698570706
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/850953/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/tobiko.yaml'],1,6452e53157c5b59fd8e3c8afaa98bc50a3c2382f,tobiko-dashboard,"dashboard: title: Tobiko jobs failure rate time: from: ""now-7d"" to: ""now"" rows: - title: Description height: 100px panels: - title: Description content: | **This dashboard is managed by [Grafyaml](https://docs.openstack.org/infra/system-config/grafyaml.html).** If you would like to make changes to this dashboard, please see the grafana directory in [project-config](https://opendev.org/openstack/project-config/src/grafana/tobiko.yaml). NOTE - 'No datapoints' in a graph means there have been no job failures reported yet. type: text - title: Graphs height: 320px panels: - title: Devstack Tobiko jobs (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-functional.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-functional.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-functional') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-minimal.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-minimal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-minimal') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-octavia.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-octavia.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-octavia (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-neutron.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-neutron.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-neutron') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs-neutron.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs-neutron.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-ovs-neutron') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-nova.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-nova.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-nova') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-ovs') type: graph - title: Number of Devstack Tobiko jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-functional.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-minimal.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-minimal') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-octavia.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-octavia (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-neutron.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-neutron') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs-neutron.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-ovs-neutron') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-nova.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-nova') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-ovs') type: graph - title: Docker Tobiko jobs (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.tobiko-docker-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.tobiko-docker-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tobiko-docker-py3') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.tobiko-docker-functional.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.tobiko-docker-functional.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tobiko-docker-functional') type: graph - title: Number of Docker Tobiko jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.tobiko-docker-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'docker-tobiko-py3') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.tobiko-docker-functional.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'docker-tobiko-functional') type: graph - title: Infrared Tobiko jobs (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.tobiko-infrared.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.tobiko-infrared.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tobiko-infrared') type: graph - title: Number of Infrared Tobiko jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.tobiko-infrared.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tobiko-infrared') type: graph - title: Linters and Docs Tobiko jobs (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-docs.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-docs') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-linters.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-linters.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-linters') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-pep8.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-pep8') type: graph - title: Number of Linters and Docs Tobiko jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-docs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-linters.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-linters') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-pep8') type: graph - title: Unit Tests Tobiko jobs (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-py36.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-py38.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py38') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-py39.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-py39.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py39') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.requirements-check.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.requirements-check.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'requirements-check') type: graph - title: Number of Unit Tests Tobiko jobs runs (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py38') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.openstack-tox-py39.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py39') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.x_tobiko.master.job.requirements-check.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'requirements-check') type: graph - title: Graphs height: 320px panels: - title: Devstack Tobiko jobs (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-functional.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-functional.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-functional') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-minimal.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-minimal.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-minimal') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-octavia.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-octavia.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-octavia (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs-octavia.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs-octavia.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-ovs-octavia (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-neutron.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-neutron.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-neutron') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs-neutron.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs-neutron.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-ovs-neutron') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-nova.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-nova.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-nova') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-multinode-nova.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-multinode-nova.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-multinode-nova') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-ovs') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-multinode (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-heat.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-heat.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-heat') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-sanity.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-sanity.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-sanity') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-storage.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-storage.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-storage') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-storage-ceph.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-storage-ceph.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'devstack-tobiko-storage-ceph') type: graph - title: Number of Devstack Tobiko jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-functional.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-minimal.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-minimal') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-octavia.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-octavia (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs-octavia.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-ovs-octavia (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-neutron.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-neutron') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs-neutron.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-ovs-neutron') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-nova.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-nova') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-multinode (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-ovs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-ovs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-heat.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-heat') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-multinode-nova.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-multinode-nova') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-sanity.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-sanity') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-storage.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-storage') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.devstack-tobiko-storage-ceph.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'devstack-tobiko-storage-ceph') type: graph - title: Docker Tobiko jobs (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-py39.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-py39.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tobiko-docker-py39') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-py310.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-py310.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tobiko-docker-py310 (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-functional.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-functional.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tobiko-docker-functional') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-linters.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-linters.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tobiko-docker-linters') type: graph - title: Number of Docker Tobiko jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-py39.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'docker-tobiko-py39') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-py310.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'docker-tobiko-py310 (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-functional.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'docker-tobiko-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-docker-linters.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'docker-tobiko-linters') type: graph - title: Infrared Tobiko jobs (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-centos-7.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-centos-7.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tobiko-infrared-centos-7') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-centos-8.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-centos-8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tobiko-infrared-centos-8') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-centos-9.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-centos-9.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tobiko-infrared-centos-9') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-fedora.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-fedora.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tobiko-infrared-fedora') type: graph - title: Number of Infrared Tobiko jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-centos-7.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tobiko-infrared-centos-7') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-centos-8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tobiko-infrared-centos-8') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-centos-9.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tobiko-infrared-centos-9') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.tobiko-infrared-fedora.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tobiko-infrared-fedora') type: graph - title: Linters and Docs Tobiko jobs (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-docs.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-docs') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-linters.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-linters.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-linters') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-pep8.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-pep8') type: graph - title: Number of Linters and Docs Tobiko jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-docs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-linters.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-linters') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-pep8') type: graph - title: Unit Tests Tobiko jobs (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py36.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py38.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py38') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py39.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py39.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py39') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py310.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py310.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py310 (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.requirements-check.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.requirements-check.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'requirements-check') type: graph - title: Number of Unit Tests Tobiko jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py38') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py39.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py39') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.openstack-tox-py310.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py310') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.x_tobiko.master.job.requirements-check.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'requirements-check') type: graph ",,198,0
openstack%2Ftripleo-ansible~master~I7e735e09caa0f22ed204ece92d3db1395f03c021,openstack/tripleo-ansible,master,I7e735e09caa0f22ed204ece92d3db1395f03c021,tripleo_podman: update for standalone roles,MERGED,2022-05-16 21:04:05.000000000,2022-08-03 04:17:01.000000000,2022-08-03 04:17:01.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-05-16 21:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c213601c4a750726d6fa8d77deaad3af1625db0', 'message': ""Add tripleo_podman role to operating system configure and install playbooks\n\nAlso adds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 2, 'created': '2022-05-17 15:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6bbc45b66c9f5693dc61c1c8d5bba143f981f345', 'message': ""Add tripleo_podman role to operating system configure and install playbooks\n\nAlso adds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 3, 'created': '2022-05-18 21:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fefa1862b9031166cdb3b2427fb96acfd2999527', 'message': ""Add tripleo_podman role to operating system configure and install playbooks\n\nAlso adds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 4, 'created': '2022-05-18 21:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e3c6f5064c0aa64b37707d1a78299174e9d04296', 'message': ""Add tripleo_podman role to operating system configure and install playbooks\n\nAlso adds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 5, 'created': '2022-05-19 20:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ef8a6b5ddce83556a9b6ee51fa86243583967a8', 'message': ""Add tripleo_podman role to operating system configure and install playbooks\n\nAlso adds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 6, 'created': '2022-05-25 02:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ff094edd367a8615dcd079a0563723d5e646f65', 'message': ""Add tripleo_podman role to operating system configure and install playbooks\n\nAlso adds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 7, 'created': '2022-05-31 20:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7d44e1323202616d8e781e98c03ded2d22b4d8dd', 'message': ""Add tripleo_podman role to operating system configure and install playbooks\n\nAlso adds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 8, 'created': '2022-06-01 13:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d604720254474698d97e6b68921b546ef7b3f8a', 'message': ""Add tripleo_podman role to operating system configure and install playbooks\n\nAlso adds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 9, 'created': '2022-06-09 21:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7aaacd6a2391071c6534a2a7840f7bf13fbb96fc', 'message': ""Add tripleo_podman role to operating system configure and install playbooks\n\nAlso adds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 10, 'created': '2022-06-21 12:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2d3c57abf6de8a6f59b1b895e1a2ecc3e6c4709e', 'message': ""Add tripleo_podman role to operating system configure and install playbooks\n\nAlso adds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 11, 'created': '2022-06-23 13:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17828728a1ea47fbf05a384f72fa1ec3033e1458', 'message': ""Add tripleo_podman role to operating system configure and install playbooks\n\nAlso adds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 12, 'created': '2022-07-06 15:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/01bfab2f8375d6aa3ac76827a90dd48efa69d7e9', 'message': ""tripleo_podman: update for standalone roles\n\nAdds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 13, 'created': '2022-07-08 15:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5f629366e2ed8b7af222b7520b4d01ca2fdc628', 'message': ""tripleo_podman: update for standalone roles\n\nAdds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 14, 'created': '2022-07-08 16:03:16.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_configure.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/72f55d7b1b381b69eff56cfa461e4f858146cca2', 'message': ""tripleo_podman: update for standalone roles\n\nAdds configuration tasks for podman that were defined in\ntripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml\nto a new tripleo_podman_configure.yml tasks file.\n\nChange-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}]",2,841996,72f55d7b1b381b69eff56cfa461e4f858146cca2,48,5,14,7144,,,0,"tripleo_podman: update for standalone roles

Adds configuration tasks for podman that were defined in
tripleo-heat-template's deployment/podman/podman-baremetal-ansible.yaml
to a new tripleo_podman_configure.yml tasks file.

Change-Id: I7e735e09caa0f22ed204ece92d3db1395f03c021
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/841996/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/playbooks/deploy-tripleo-os-configure.yaml', 'tripleo_ansible/playbooks/deploy-tripleo-os-install.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_configure.yml']",4,7c213601c4a750726d6fa8d77deaad3af1625db0,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Import tripleo_podman_login.yml tasks import_tasks: tripleo_podman_login.yml - name: Configure tripleo_container_manage to generate systemd drop-in dependencies copy: dest: /etc/sysconfig/podman_drop_in content: | This file makes tripleo_container_manage generate additional systemd dependencies for containers that have special start/stop ordering constraints. It ensures that those constraints are enforced on reboot/shutdown. when: tripleo_podman_systemd_drop_in_dependencies|bool - name: Configure tripleo_container_manage to not generate drop-in dependencies file: path: /etc/sysconfig/podman_drop_in state: absent when: not tripleo_podman_systemd_drop_in_dependencies|bool ",,46,1
openstack%2Fdesignate-dashboard~master~I7d58880dafe04df8a1b3416b9274f3eb03c1723f,openstack/designate-dashboard,master,I7d58880dafe04df8a1b3416b9274f3eb03c1723f,Imported Translations from Zanata,MERGED,2022-08-03 03:49:26.000000000,2022-08-03 04:10:19.000000000,2022-08-03 04:09:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-08-03 03:49:26.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/30a9bd74f0155713b91b02e6949d4129a5b8cd15', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7d58880dafe04df8a1b3416b9274f3eb03c1723f\n'}]",0,851948,30a9bd74f0155713b91b02e6949d4129a5b8cd15,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7d58880dafe04df8a1b3416b9274f3eb03c1723f
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/48/851948/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,30a9bd74f0155713b91b02e6949d4129a5b8cd15,zanata/translations,"""POT-Creation-Date: 2022-07-28 14:39+0000\n""""PO-Revision-Date: 2022-08-02 08:42+0000\n""msgid ""14.0.0-18"" msgstr ""14.0.0-18""","""POT-Creation-Date: 2022-06-30 19:57+0000\n""""PO-Revision-Date: 2022-07-19 09:55+0000\n""msgid ""14.0.0-16"" msgstr ""14.0.0-16""",4,4
openstack%2Fec2api-tempest-plugin~master~I13208e368bbc381d8cbd20c739571b3aee521568,openstack/ec2api-tempest-plugin,master,I13208e368bbc381d8cbd20c739571b3aee521568,test_tag_customer_gw and fixed jobs for zed redefined ssh.Client locally to use disabled_algo,MERGED,2022-07-22 10:03:05.000000000,2022-08-03 02:49:57.000000000,2022-08-03 02:49:57.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-22 10:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/ae8c5e059184109535bea4b880894ede4c165e6d', 'message': 'test_tag_customer_gw\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 2, 'created': '2022-07-22 11:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/06f06a4129818ef163ba0d75af4e65356eb213d3', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 3, 'created': '2022-07-22 13:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/be1f52017f4fc2a62f7c4ec3400cc30d37d83ff4', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 4, 'created': '2022-07-22 13:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/acb6e612c5e43de2d2cfa485ffbaa0c5a95fa989', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nand trying to solve paramiko? problem\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 5, 'created': '2022-07-22 15:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/946d1c6e8d3b09427d1eb8b114634753b9721f23', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nand trying to solve paramiko? problem\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 6, 'created': '2022-07-26 08:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/e8a62b7dc5bfc0cc117ec2648c7e6b817098ddc6', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nand trying to solve paramiko? problem\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 7, 'created': '2022-07-26 08:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/d9a61e6cd24340d1e4b5a1e9a56f4122ce7adbd6', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nand trying to solve paramiko? problem\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 8, 'created': '2022-07-27 11:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/0a4851728b3938be2f1afb1fee71659e68f9f994', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 9, 'created': '2022-07-27 13:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/6277a87d0b60ae9090610af82540c80fd22fb089', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\nalso bug - botocore offers rsa|ed25519\ntempest offers rsa|ecdsa\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 10, 'created': '2022-07-27 14:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/9bafd975250edc06eba7ed37c358d9e91b3eb913', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\nalso bug - botocore offers rsa|ed25519\ntempest offers rsa|ecdsa\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 11, 'created': '2022-07-27 14:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/7beafb5d9b9dbcf236bb5a7d76afb0850c8d3ff8', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\nalso bug - botocore offers rsa|ed25519\ntempest offers rsa|ecdsa\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 12, 'created': '2022-07-27 15:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/df0e37a6ddbbd0c53017141e5409ae8bc2b6daa7', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\nalso bug - botocore offers rsa|ed25519\ntempest offers rsa|ecdsa\nredefined ssh.Client locally\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 13, 'created': '2022-07-27 16:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/9252d4038a78b25d5998a3868bdeba52e048b056', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\nalso bug - botocore offers rsa|ed25519\ntempest offers rsa|ecdsa\nredefined ssh.Client locally\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 14, 'created': '2022-07-27 17:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/53ce170d605a1949c317bd8bac174f7179b2706c', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\nalso bug - botocore offers rsa|ed25519\ntempest offers rsa|ecdsa\nredefined ssh.Client locally\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 15, 'created': '2022-07-27 17:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/0ff300f50b1a6ebe5eaa8fee0a6cfcfa40fe7115', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\nalso bug - botocore offers rsa|ed25519\ntempest offers rsa|ecdsa\nredefined ssh.Client locally\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 16, 'created': '2022-07-27 18:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/a0192684c2774cb1560ca0a637acd156a3014651', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\nalso bug - botocore offers rsa|ed25519\ntempest offers rsa|ecdsa\nredefined ssh.Client locally\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 17, 'created': '2022-07-27 18:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/1028c85ed17eefc7fde3f07626b0f06a7d074542', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\nalso bug - botocore offers rsa|ed25519\ntempest offers rsa|ecdsa\nredefined ssh.Client locally\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 18, 'created': '2022-07-27 18:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/35c219c66a02a29b28e0892e2d2238471cb9417c', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\nalso bug - botocore offers rsa|ed25519\ntempest offers rsa|ecdsa\nredefined ssh.Client locally\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 19, 'created': '2022-07-27 19:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/391caa840a161bcf89cb99c61fd6d8e1a09552e9', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nchanged rsa to ecdsa keys\nalso bug - botocore offers rsa|ed25519\ntempest offers rsa|ecdsa\nredefined ssh.Client locally\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 20, 'created': '2022-07-28 08:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/eef5d2d373dcddb7b6a5b4fc12233b973859a175', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally\nto add disabled_algorithms param\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 21, 'created': '2022-07-28 09:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/a878e4c9930e6571afa299bf22c6e0162a32f10f', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 22, 'created': '2022-07-28 09:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/19ff92c776165dbd4e89954c3e5e44963bbdd425', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 23, 'created': '2022-07-28 09:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/229c88c5e7a164ac993b135b53da06da4ca5be1d', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 24, 'created': '2022-07-28 09:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/d583508f83986c0916b46bfe4acca8eaf37b6a11', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 25, 'created': '2022-07-28 09:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/505432d5bde144f14534bab6d0fca88792b6ca58', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 26, 'created': '2022-07-28 09:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/219475d2ab3e94d7de7f5fb200f6a4841661a00d', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 27, 'created': '2022-07-28 12:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/708eec0c0e74dbaffe4955edb7ac2bf4113100ae', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 28, 'created': '2022-07-28 12:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/e89ce90e425d40e67a16914427ac7f975540520e', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 29, 'created': '2022-07-28 13:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/d20ebbe9c532b2f96e408184db63760ce00de4ed', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 30, 'created': '2022-07-28 14:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/4f58b6c6d5e8315982d67069e9d8188074892906', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 31, 'created': '2022-07-29 07:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/4ae177b424d4675117e596d3de7b49f5dff3cc35', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 32, 'created': '2022-07-29 09:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/cbc76e9b5a9dbe4ac73659e389eda28b811526f3', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 33, 'created': '2022-07-29 11:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/c8622745d3280c4ce28f6893a8ec6b4adaf29047', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 34, 'created': '2022-07-29 12:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/7fa5c826c22e1514c7145be0737f5391f5db09d5', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 35, 'created': '2022-08-02 12:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/d0a8761c31a3ff27d121144bec38daef262da351', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 36, 'created': '2022-08-02 12:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/9d0bf55fded28da0745248e06d3eb58c7b61e5e7', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 37, 'created': '2022-08-02 13:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/a32404360782d1679906f4a15eb332851bc73a78', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}, {'number': 38, 'created': '2022-08-02 14:26:11.000000000', 'files': ['ec2api_tempest_plugin/scenario/test_instances.py', 'ec2api_tempest_plugin/ssh.py', 'ec2api_tempest_plugin/scenario/test_vpn.py', '.zuul.yaml', 'ec2api_tempest_plugin/scenario/test_instances_in_vpc.py', 'ec2api_tempest_plugin/api/test_tags.py', 'ec2api_tempest_plugin/scenario/test_instance_restart.py'], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/f444d2e82bc3c2de4466cb49f6d68e17aa2929df', 'message': 'test_tag_customer_gw\nand fixed jobs for zed\nredefined ssh.Client locally to use disabled_algo\n\nSigned-off-by: nik.kaluzhin <doupfish@gmail.com>\nChange-Id: I13208e368bbc381d8cbd20c739571b3aee521568\n'}]",26,850745,f444d2e82bc3c2de4466cb49f6d68e17aa2929df,69,2,38,35091,,,0,"test_tag_customer_gw
and fixed jobs for zed
redefined ssh.Client locally to use disabled_algo

Signed-off-by: nik.kaluzhin <doupfish@gmail.com>
Change-Id: I13208e368bbc381d8cbd20c739571b3aee521568
",git fetch https://review.opendev.org/openstack/ec2api-tempest-plugin refs/changes/45/850745/34 && git format-patch -1 --stdout FETCH_HEAD,['ec2api_tempest_plugin/api/test_tags.py'],1,ae8c5e059184109535bea4b880894ede4c165e6d,," Type='ipsec.1', IpAddress='198.51.100.77', BgpAsn=65000)"," Type='ipsec.1', PublicIp='198.51.100.77', BgpAsn=65000)",1,1
openstack%2Fopenstack-ansible~stable%2Fxena~If55df8a00da912b76656f797e3650adb465fdf2d,openstack/openstack-ansible,stable/xena,If55df8a00da912b76656f797e3650adb465fdf2d,Increase manila flavor size,MERGED,2022-06-16 10:04:48.000000000,2022-08-03 02:33:28.000000000,2022-08-03 02:30:11.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-16 10:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2146d01352e0b72de7c6c32c2517df14880b297b', 'message': 'Increase manila flavor size\n\nWe backport it for upgrade jobs mainly, that would fail otherwise\n\nChange-Id: If55df8a00da912b76656f797e3650adb465fdf2d\n(cherry picked from commit 7976439d5fa987a818169a7e7603e7c76525cac1)\n'}, {'number': 2, 'created': '2022-07-21 09:38:10.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e3df7b7f7bea493d90539e7212c54a7ceca13ec8', 'message': 'Increase manila flavor size\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/847993/3/tasks/main.yml\nChange-Id: If55df8a00da912b76656f797e3650adb465fdf2d\n(cherry picked from commit 7976439d5fa987a818169a7e7603e7c76525cac1)\n'}]",5,846123,e3df7b7f7bea493d90539e7212c54a7ceca13ec8,27,3,2,28619,,,0,"Increase manila flavor size

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/847993/3/tasks/main.yml
Change-Id: If55df8a00da912b76656f797e3650adb465fdf2d
(cherry picked from commit 7976439d5fa987a818169a7e7603e7c76525cac1)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/23/846123/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'],1,2146d01352e0b72de7c6c32c2517df14880b297b,, ram: 350, ram: 320,1,1
openstack%2Fswift~master~I8ce6749c3d634c68e5d4a15d812a046514cc35f5,openstack/swift,master,I8ce6749c3d634c68e5d4a15d812a046514cc35f5,Stop using unicode literals in docs conf.py,MERGED,2022-08-02 08:25:32.000000000,2022-08-03 01:51:52.000000000,2022-08-03 01:50:48.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 08:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a1bd2192092b9ce6d18d14481e79c8aa200d3554', 'message': 'remove unicode from code\n\nChange-Id: I8ce6749c3d634c68e5d4a15d812a046514cc35f5\n'}, {'number': 2, 'created': '2022-08-03 00:01:30.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3a71df133556060bfa3e981d9e678253b8f145f4', 'message': 'Stop using unicode literals in docs conf.py\n\nChange-Id: I8ce6749c3d634c68e5d4a15d812a046514cc35f5\n'}]",2,851818,3a71df133556060bfa3e981d9e678253b8f145f4,11,2,2,35067,,,0,"Stop using unicode literals in docs conf.py

Change-Id: I8ce6749c3d634c68e5d4a15d812a046514cc35f5
",git fetch https://review.opendev.org/openstack/swift refs/changes/18/851818/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a1bd2192092b9ce6d18d14481e79c8aa200d3554,,"project = 'Swift'copyright = '%d, OpenStack Foundation' % now.year ('index', 'doc-swift.tex', 'Swift Documentation', 'Swift Team', 'manual'),","project = u'Swift'copyright = u'%d, OpenStack Foundation' % now.year ('index', 'doc-swift.tex', u'Swift Documentation', u'Swift Team', 'manual'),",4,4
openstack%2Ftripleo-common~master~I6d0cb5d532903200431e7a5cdd16ae05497ec096,openstack/tripleo-common,master,I6d0cb5d532903200431e7a5cdd16ae05497ec096,WIP Improve tripleo-mount-image unmount cleanup,NEW,2022-07-04 04:28:26.000000000,2022-08-03 01:47:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-04 04:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b084f5349c6273b555dee62d6d7749a2f6202770', 'message': 'WIP Improve tripleo-mount-image unmount cleanup\n\nChange-Id: I6d0cb5d532903200431e7a5cdd16ae05497ec096\n'}, {'number': 2, 'created': '2022-08-02 22:50:44.000000000', 'files': ['scripts/tripleo-mount-image'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d3764c4836e00474fb1314b2dc48aef7da578623', 'message': 'WIP Improve tripleo-mount-image unmount cleanup\n\nChange-Id: I6d0cb5d532903200431e7a5cdd16ae05497ec096\n'}]",0,848560,d3764c4836e00474fb1314b2dc48aef7da578623,6,2,2,4571,,,0,"WIP Improve tripleo-mount-image unmount cleanup

Change-Id: I6d0cb5d532903200431e7a5cdd16ae05497ec096
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/60/848560/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-mount-image'],1,b084f5349c6273b555dee62d6d7749a2f6202770,partitions," if [ -d $MOUNT_DIR/dev ]; then mount -o bind /dev $MOUNT_DIR/dev/ EACTION=""umount $MOUNT_DIR/dev/; $EACTION"" if [ -w $MOUNT_DIR ]; then resolv=$MOUNT_DIR/etc/resolv.conf if [ -e $resolv ] || [ -L $resolv ]; then mv $resolv $resolv.tmi EACTION=""mv $resolv.tmi $resolv; $EACTION"" trap ""$EACTION"" EXIT fi cp /etc/resolv.conf $resolv EACTION=""rm $resolv; $EACTION"" trap ""$EACTION"" EXIT fi root_fstype="""" devices=(${NBD_DEVICE}p*) if [[ ""${#devices[@]}"" == ""1"" ]]; then if [[ ""${devices[0]}"" == ""${NBD_DEVICE}p*"" ]]; then # if wildcard didn't expand to paths then there are no partition devices, assume one root device root_device=${NBD_DEVICE} devices=() else # if there is one partition device, assume it is the root device root_device=${devices[0]} devices=() fi for device in ${devices[@]}; do root_fstype=$fstype if [[ ""$root_fstype"" == ""btrfs"" ]]; then # Fedora has a btrfs filesystem with a subvolume called root. # For now assume there will be a 'root' subvolume, but in the # future the subvolume layout may need to be discovered for different # images mount -o subvol=root $root_device $MOUNT_DIR else # a simple root partition mount $root_device $MOUNT_DIR fi"," mount -o bind /dev $MOUNT_DIR/dev/ EACTION=""umount $MOUNT_DIR/dev/; $EACTION"" trap ""$EACTION"" EXIT if [ -a $MOUNT_DIR/etc/resolv.conf ]; then mv $MOUNT_DIR/etc/resolv.conf $MOUNT_DIR/etc/resolv.conf.tmi EACTION=""mv $MOUNT_DIR/etc/resolv.conf.tmi $MOUNT_DIR/etc/resolv.conf; $EACTION"" cp /etc/resolv.conf $MOUNT_DIR/etc/resolv.conf EACTION=""rm $MOUNT_DIR/etc/resolv.conf; $EACTION"" trap ""$EACTION"" EXIT devices=""${NBD_DEVICE}p*"" if [[ ""$devices"" == *""*""* ]]; then # if wildcard didn't expand to paths then there are no partition devices, assume one root device root_device=${NBD_DEVICE} devices="""" elif ! [[ ""$devices"" == *"" ""* ]]; then # if there is one partition device, assume it is the root device root_device=${devices} devices="""" for device in ${devices}; do # a simple root partition mount $root_device $MOUNT_DIR",39,22
openstack%2Ftripleo-common~master~Ib10ea85adf74cf5ad04705d114137031be616318,openstack/tripleo-common,master,Ib10ea85adf74cf5ad04705d114137031be616318,WIP improved cleanup on tripleo-mount-image failure,NEW,2022-07-04 04:28:26.000000000,2022-08-03 01:45:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-04 04:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7ed893c80aba902f71e7ba01f4548dce2973e616', 'message': 'WIP improved cleanup on tripleo-mount-image failure\n\nChange-Id: Ib10ea85adf74cf5ad04705d114137031be616318\n'}, {'number': 2, 'created': '2022-08-02 22:50:44.000000000', 'files': ['scripts/tripleo-mount-image'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aa6c8ffe5e4667eac2b4ae26eb2edeb352b22b22', 'message': 'WIP improved cleanup on tripleo-mount-image failure\n\nChange-Id: Ib10ea85adf74cf5ad04705d114137031be616318\n'}]",0,848559,aa6c8ffe5e4667eac2b4ae26eb2edeb352b22b22,6,2,2,4571,,,0,"WIP improved cleanup on tripleo-mount-image failure

Change-Id: Ib10ea85adf74cf5ad04705d114137031be616318
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/59/848559/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-mount-image'],1,7ed893c80aba902f71e7ba01f4548dce2973e616,partitions,"EACTION="""" dmsetup remove $(basename $1) EACTION=""echo Exited chroot, unmounting $MOUNT_DIR ; $EACTION"" EACTION=""unmount_image; $EACTION"" trap ""$EACTION"" EXIT timeout 2 sh -c ""while ! ls ${NBD_DEVICE}p* ; do sleep 1; done"" || true devices=""${NBD_DEVICE}p*"" if [[ ""$devices"" == *""*""* ]]; then # if wildcard didn't expand to paths then there are no partition devices, assume one root device devices="""" elif ! [[ ""$devices"" == *"" ""* ]]; then echo ""The image is mounted to $MOUNT_DIR"" set +e remove_device /dev/mapper/vg-lv_root if [ -n ""$CHROOT"" ]; then else # Clear any cleanup commands, the image should remain mounted trap """" EXIT echo ""Unmount with: tripleo-unmount-image -m $MOUNT_DIR"""," dmsetup remove $1 EACTION=""echo Exited chroot, unmounting $MOUNT_DIR ; unmount_image"" timeout 5 sh -c ""while ! ls ${NBD_DEVICE}p* ; do sleep 1; done"" || true set +e devices=$(ls ${NBD_DEVICE}p*) set -e device_count=$(echo $devices | wc -w) if [ $device_count == ""0"" ]; then # if there are no partition devices, assume one root device elif [ $device_count == ""1"" ]; then remove_device vg-lv_root if [ -n $CHROOT ]; then",20,12
openstack%2Fcharm-ceph-rbd-mirror~stable%2F21.10~I4e5506b5108fcdb8fbb9d982d6d12567b21b2e41,openstack/charm-ceph-rbd-mirror,stable/21.10,I4e5506b5108fcdb8fbb9d982d6d12567b21b2e41,Migrate ceph-rbd-mirror to charmhub (luminous),ABANDONED,2022-07-11 20:40:46.000000000,2022-08-03 00:50:22.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-11 20:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/c84ca99feab68bc2f5f27c66c9bdf5349828d8bd', 'message': 'Migrate ceph-rbd-mirror to charmhub (luminous)\n\nThis is the stable/luminous branch of ceph-rbd-mirror. It tests\nagainst bionic-queens, bionic-rocky and bionic-train.\n\nChange-Id: I4e5506b5108fcdb8fbb9d982d6d12567b21b2e41\n'}, {'number': 2, 'created': '2022-07-12 00:33:58.000000000', 'files': ['osci.yaml', 'src/tests/bundles/groovy-victoria-image-mirroring.yaml', 'test-requirements.txt', 'src/tests/bundles/bionic-queens-e2e.yaml', 'src/tests/bundles/bionic-rocky-site-b.yaml', 'src/tests/bundles/bionic-queens-e2e-lxd.yaml', 'src/test-requirements.txt', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/bundles/hirsute-wallaby-image-mirroring.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/focal-ussuri-image-mirroring.yaml', 'src/tests/bundles/xenial-pike.yaml', 'build-requirements.txt', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-wallaby-image-mirroring.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/bionic-ussuri-image-mirroring.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria-image-mirroring.yaml', 'rename.sh', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/bundles/bionic-rocky-site-a.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/c7711a79243b2e5bb54aea7e436e5b62ed06ada2', 'message': 'Migrate ceph-rbd-mirror to charmhub (luminous)\n\nThis is the stable/luminous branch of ceph-rbd-mirror. It tests\nagainst bionic-queens, bionic-rocky and bionic-train.\n\nChange-Id: I4e5506b5108fcdb8fbb9d982d6d12567b21b2e41\n'}]",1,849439,c7711a79243b2e5bb54aea7e436e5b62ed06ada2,7,3,2,33717,,,0,"Migrate ceph-rbd-mirror to charmhub (luminous)

This is the stable/luminous branch of ceph-rbd-mirror. It tests
against bionic-queens, bionic-rocky and bionic-train.

Change-Id: I4e5506b5108fcdb8fbb9d982d6d12567b21b2e41
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/39/849439/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/groovy-victoria-image-mirroring.yaml', 'test-requirements.txt', 'src/tests/bundles/bionic-queens-e2e.yaml', 'src/tests/bundles/bionic-rocky-site-b.yaml', 'src/tests/bundles/bionic-queens-e2e-lxd.yaml', 'src/test-requirements.txt', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/bundles/hirsute-wallaby-image-mirroring.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/focal-ussuri-image-mirroring.yaml', 'src/tests/bundles/xenial-pike.yaml', 'build-requirements.txt', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-wallaby-image-mirroring.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/bionic-ussuri-image-mirroring.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria-image-mirroring.yaml', 'rename.sh', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/bundles/bionic-rocky-site-a.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini']",29,c84ca99feab68bc2f5f27c66c9bdf5349828d8bd,stable-luminous,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:py39] basepython = python3.9 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,88,2954
openstack%2Ftripleo-heat-templates~master~I571b401ab2ca3c77352f4849eb2b99de20292032,openstack/tripleo-heat-templates,master,I571b401ab2ca3c77352f4849eb2b99de20292032,Remove parameters/resources for undercloud Nova,MERGED,2022-07-05 07:19:56.000000000,2022-08-03 00:38:49.000000000,2022-08-03 00:37:45.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-07-05 07:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/509a8654a9c79eaea49cdcd6c09fc5a6c5d74411', 'message': 'Get rid of Flavor parameters\n\n... because these are unused since we removed Nova from undercloud.\n\nChange-Id: I571b401ab2ca3c77352f4849eb2b99de20292032\n'}, {'number': 2, 'created': '2022-07-05 07:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/489e18f25231df53e8b349e3be2f0ead8b2c3ef9', 'message': 'Remove parameters for undercloud Nova\n\nThis change removes the following parameters, which were used by\nundercloud Nova.\n - Keyname\n - Overcloud{{role.name}}Flavor\n - {{role.name}}SchedulerHints\n\nChange-Id: I571b401ab2ca3c77352f4849eb2b99de20292032\n'}, {'number': 3, 'created': '2022-07-05 07:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f8d9864822fa693b5a12ea50f4f2eb55daf6651', 'message': 'Remove parameters for undercloud Nova\n\nThis change removes the following parameters, which were used by\nundercloud Nova.\n - KeyName\n - Overcloud{{role.name}}Flavor\n - {{role.name}}SchedulerHints\n\nChange-Id: I571b401ab2ca3c77352f4849eb2b99de20292032\n'}, {'number': 4, 'created': '2022-07-05 07:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0ebbf846a0058b09c165a64d70249c6122cdcb5', 'message': 'Remove parameters for undercloud Nova\n\nThis change removes the following parameters, which were used by\nundercloud Nova.\n - KeyName\n - Overcloud{{role.name}}Flavor\n - {{role.name}}SchedulerHints\n\nChange-Id: I571b401ab2ca3c77352f4849eb2b99de20292032\n'}, {'number': 5, 'created': '2022-07-05 07:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28ff85ce037a3f055fad04d15382c4ec0eb0fcd1', 'message': 'Remove parameters for undercloud Nova\n\nThis change removes the following parameters, which were used by\nundercloud Nova.\n - KeyName\n - Overcloud{{role.name}}Flavor\n - {{role.name}}SchedulerHints\n - {{role.name}}Image\n\nChange-Id: I571b401ab2ca3c77352f4849eb2b99de20292032\n'}, {'number': 6, 'created': '2022-07-05 08:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/690999226877135cb307dfb64780014cbe0769ab', 'message': 'Remove parameters for undercloud Nova\n\nThis change removes the following parameters, which were used by\nundercloud Nova.\n - KeyName\n - Overcloud{{role.name}}Flavor\n - {{role.name}}SchedulerHints\n - {{role.name}}Image\n\nChange-Id: I571b401ab2ca3c77352f4849eb2b99de20292032\n'}, {'number': 7, 'created': '2022-07-05 09:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f41bac26fef1b8ee4f3d8a97e42eefc537c4d027', 'message': 'Remove parameters for undercloud Nova\n\nThis change removes the following parameters, which were used by\nundercloud Nova.\n - KeyName\n - Overcloud{{role.name}}Flavor\n - {{role.name}}SchedulerHints\n - {{role.name}}Image\n\nChange-Id: I571b401ab2ca3c77352f4849eb2b99de20292032\n'}, {'number': 8, 'created': '2022-07-05 12:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62933c8b1a2a7a10517b1783f585b8cf89c2c9fa', 'message': 'Remove parameters for undercloud Nova\n\nThis change removes the following parameters, which were used by\nundercloud Nova.\n - KeyName\n - Overcloud{{role.name}}Flavor\n - {{role.name}}SchedulerHints\n - {{role.name}}Image\n\nChange-Id: I571b401ab2ca3c77352f4849eb2b99de20292032\n'}, {'number': 9, 'created': '2022-07-06 04:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9683100a2baf7b9dbabc1ebca9621b3b8b8094de', 'message': 'Remove parameters/resources for undercloud Nova\n\nThis change removes the following parameters, which were used by\nundercloud Nova.\n - KeyName\n - Overcloud{{role.name}}Flavor\n - {{role.name}}SchedulerHints\n - {{role.name}}Image\n\nThis also removes the NodeUserData resource because it depends on\ncloud-init and nova metadata and is no longer used since Nova was\nremoved from baremetal node provisioning.\n\nFinally, this change makes deployed server method used by default, and\nremoves remaining implementation to keep the resource compatible with\nOS::Nova::Server.\n\nChange-Id: I571b401ab2ca3c77352f4849eb2b99de20292032\n'}, {'number': 10, 'created': '2022-07-07 04:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30083de9f4048cc1ca31326b0ed081dd7ec29268', 'message': 'Remove parameters/resources for undercloud Nova\n\nThis change removes the following parameters, which were used by\nundercloud Nova.\n - KeyName\n - Overcloud{{role.name}}Flavor\n - {{role.name}}SchedulerHints\n - {{role.name}}Image\n\nThis also removes the NodeUserData resource because it depends on\ncloud-init and nova metadata and is no longer used since Nova was\nremoved from baremetal node provisioning.\n\nFinally, this change makes deployed server method used by default, and\nremoves remaining implementation to keep the resource compatible with\nOS::Nova::Server.\n\nChange-Id: I571b401ab2ca3c77352f4849eb2b99de20292032\n'}, {'number': 11, 'created': '2022-07-07 11:34:26.000000000', 'files': ['firstboot/userdata_heat_admin.yaml', 'sample-env-generator/composable-roles.yaml', 'environments/deployed-server-noop-ctlplane.yaml', 'firstboot/os-net-config-mappings.yaml', 'firstboot/nvidia_firstboot.yaml', 'puppet/role.role.j2.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'environments/composable-roles/standalone.yaml', 'firstboot/userdata_root_password.yaml', 'environments/composable-roles/monolithic-ha.yaml', 'firstboot/userdata_dev_rsync.yaml', 'firstboot/userdata_example.yaml', 'roles/Controller.yaml', 'tools/yaml-validate.py', 'sample-env-generator/standalone.yaml', 'releasenotes/notes/remove-uc-nova-params-edff776d30992aa3.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/composable-roles/monolithic-nonha.yaml', 'firstboot/conntectx3_streering.yaml', 'overcloud.j2.yaml', 'firstboot/.gitkeep', 'roles/Compute.yaml', 'deployed-server/deployed-server.yaml', 'environments/deployed-server-environment.j2.yaml', 'roles/ControllerNoCeph.yaml', 'firstboot/userdata_timesync.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'firstboot/userdata_default.yaml', 'roles/ObjectStorage.yaml', 'ci/custom_ci_roles_data.yaml', 'environments/standalone/standalone-overcloud.yaml', 'roles/ControllerSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34a2e1ebc9f5b71937277184e4b4b3d5004082a0', 'message': 'Remove parameters/resources for undercloud Nova\n\nThis change removes the following parameters, which were used by\nundercloud Nova.\n - KeyName\n - Overcloud{{role.name}}Flavor\n - {{role.name}}SchedulerHints\n - {{role.name}}Image\n\nThis also removes the NodeUserData resource because it depends on\ncloud-init and nova metadata and is no longer used since Nova was\nremoved from baremetal node provisioning.\n\nFinally, this change makes deployed server method used by default, and\nremoves remaining implementation to keep the resource compatible with\nOS::Nova::Server.\n\nChange-Id: I571b401ab2ca3c77352f4849eb2b99de20292032\n'}]",12,848695,34a2e1ebc9f5b71937277184e4b4b3d5004082a0,41,8,11,9816,,,0,"Remove parameters/resources for undercloud Nova

This change removes the following parameters, which were used by
undercloud Nova.
 - KeyName
 - Overcloud{{role.name}}Flavor
 - {{role.name}}SchedulerHints
 - {{role.name}}Image

This also removes the NodeUserData resource because it depends on
cloud-init and nova metadata and is no longer used since Nova was
removed from baremetal node provisioning.

Finally, this change makes deployed server method used by default, and
removes remaining implementation to keep the resource compatible with
OS::Nova::Server.

Change-Id: I571b401ab2ca3c77352f4849eb2b99de20292032
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/848695/5 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/composable-roles/monolithic-nonha.yaml', 'sample-env-generator/composable-roles.yaml', 'puppet/role.role.j2.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'environments/composable-roles/standalone.yaml', 'releasenotes/notes/remove-flavor-params-3a39d73400b4535d.yaml', 'roles/ControllerNoCeph.yaml', 'environments/composable-roles/monolithic-ha.yaml', 'roles/Controller.yaml', 'roles/ObjectStorage.yaml', 'roles/ControllerSriov.yaml']",14,509a8654a9c79eaea49cdcd6c09fc5a6c5d74411,uc-nova-rsc-cleanup,, deprecated_param_flavor: 'OvercloudControlFlavor',6,144
openstack%2Fopenstack-ansible~master~I2ac022a85683c76410b3eb6ee12e9e59f4b0340d,openstack/openstack-ansible,master,I2ac022a85683c76410b3eb6ee12e9e59f4b0340d,Allow to provide serial for lxc_hosts,MERGED,2022-07-26 16:17:45.000000000,2022-08-02 23:42:14.000000000,2022-08-02 23:40:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-07-26 16:17:45.000000000', 'files': ['playbooks/containers-lxc-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f29db95faa2e1f959d58e9b451059de88a0e1bb8', 'message': 'Allow to provide serial for lxc_hosts\n\nThere might be cases, where you intentionally want to run playbooks\nagainst lxc_hosts but in a serial manner.\nAs example, when you want to update packages and restart LXC containers\nbut only host-by-host.\n\nChange-Id: I2ac022a85683c76410b3eb6ee12e9e59f4b0340d\n'}]",1,851049,f29db95faa2e1f959d58e9b451059de88a0e1bb8,10,3,1,28619,,,0,"Allow to provide serial for lxc_hosts

There might be cases, where you intentionally want to run playbooks
against lxc_hosts but in a serial manner.
As example, when you want to update packages and restart LXC containers
but only host-by-host.

Change-Id: I2ac022a85683c76410b3eb6ee12e9e59f4b0340d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/851049/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/containers-lxc-host.yml'],1,f29db95faa2e1f959d58e9b451059de88a0e1bb8,," serial: ""{{ lxc_hosts_serial | default(['100%']) }}""",,1,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2e328a5f738bd248f8d365c1b53a12af698c3cd8,openstack/python-tripleoclient,stable/wallaby,I2e328a5f738bd248f8d365c1b53a12af698c3cd8,"Revert ""Mark centos-8-9-multinode-mixed-os non voting for tripleoclient"".",MERGED,2022-07-29 13:53:29.000000000,2022-08-02 23:10:54.000000000,2022-08-02 23:08:38.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-07-29 13:53:29.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3c01ec4eeee0a02304b1a6daabf35437d3d6803b', 'message': 'Revert ""Mark centos-8-9-multinode-mixed-os non voting for tripleoclient"".\n\nThis reverts commit 5437906929059d4844fbcc4e04a7dac70621d0cb.\n\nChange-Id: I2e328a5f738bd248f8d365c1b53a12af698c3cd8\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/851516\nRelated-Bug: 1983004\n'}]",2,851384,3c01ec4eeee0a02304b1a6daabf35437d3d6803b,11,6,1,8449,,,0,"Revert ""Mark centos-8-9-multinode-mixed-os non voting for tripleoclient"".

This reverts commit 5437906929059d4844fbcc4e04a7dac70621d0cb.

Change-Id: I2e328a5f738bd248f8d365c1b53a12af698c3cd8
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/851516
Related-Bug: 1983004
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/851384/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,3c01ec4eeee0a02304b1a6daabf35437d3d6803b,oooci_mixed_rhel,, - tripleo-ci-centos-8-9-multinode-mixed-os: &multinode_mixed_os voting: false vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-9-content-provider gate: jobs: - tripleo-ci-centos-8-content-provider: *content_provider_deps - tripleo-ci-centos-9-content-provider: *content_provider_deps - tripleo-ci-centos-8-9-multinode-mixed-os: *multinode_mixed_os,0,15
openstack%2Fwhitebox-tempest-plugin~master~I43b6988dda75e74b78bc5ae44439b0e92a0397d1,openstack/whitebox-tempest-plugin,master,I43b6988dda75e74b78bc5ae44439b0e92a0397d1,Add tests for disk encryption,NEW,2022-07-30 02:29:24.000000000,2022-08-02 22:56:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-30 02:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/803b5463debe0f58318ef8f0c676f9add967e762', 'message': 'Add tests for disk encryption\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/772273\n\nChange-Id: I43b6988dda75e74b78bc5ae44439b0e92a0397d1\n'}, {'number': 2, 'created': '2022-07-30 04:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/40059e48b021acc10910fae22af690929ac58a26', 'message': 'Add tests for disk encryption\n\nThese tests are copied from test_volume_encryption.py\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/772273\n\nChange-Id: I43b6988dda75e74b78bc5ae44439b0e92a0397d1\n'}, {'number': 3, 'created': '2022-08-02 04:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/e10808369f7097b4608a75166a80eeff0f5a55d0', 'message': 'Add tests for disk encryption\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/772273\n\nChange-Id: I43b6988dda75e74b78bc5ae44439b0e92a0397d1\n'}, {'number': 4, 'created': '2022-08-02 18:01:00.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_disk_encryption.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/593d393ccb37a39b4ee010dadc8f48e13e5502b1', 'message': 'Add tests for disk encryption\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/772273\n\nChange-Id: I43b6988dda75e74b78bc5ae44439b0e92a0397d1\n'}]",5,851621,593d393ccb37a39b4ee010dadc8f48e13e5502b1,16,1,4,4690,,,0,"Add tests for disk encryption

Depends-On: https://review.opendev.org/c/openstack/nova/+/772273

Change-Id: I43b6988dda75e74b78bc5ae44439b0e92a0397d1
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/21/851621/4 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_disk_encryption.py'],1,803b5463debe0f58318ef8f0c676f9add967e762,specs/yoga/approved/ephemeral-encryption-libvirt,"# Copyright 2022 Red Hat # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tempest import config from whitebox_tempest_plugin.api.compute import base from whitebox_tempest_plugin.services.clients import QEMUImgClient from whitebox_tempest_plugin.utils import get_ctlplane_address CONF = config.CONF LOG = logging.getLogger(__name__) class TestQEMUDiskEncryption(base.BaseWhiteboxComputeTest): '''Test which validates encryption. The test performs the following: 1. Create a VM requesting disk encryption in the flavor or image 2. Gather all xml disk elements from guest 3. Search all xml disk elements for the disks containing the encryption element 4. Validate the xml disk(s) encryption format is luks 5. Create disk path(s) based on the 'source/file' 6. From the returned info confirm the disks are encrypted and the format is luks ''' @classmethod def skip_checks(cls): super(TestQEMUDiskEncryption, cls).skip_checks() # FIXME(melwitt): Create a tempest # CONF.compute_feature_enabled.disk_encryption and raise if not # supported def test_qemu_disk_encryption_with_flavor(self): flavor = self.create_flavor( ephemeral=1, swap=1, extra_specs={ 'hw:ephemeral_encryption': True, 'hw:ephemeral_encryption_format': 'luks', } ) server = self.create_test_server( flavor=flavor['id'], wait_until=""ACTIVE"") self._test_qemu_disk_encryption(server) def test_qemu_disk_encryption_with_image(self): flavor = self.create_flavor( ephemeral=1, swap=1, ) image_id = self.copy_default_image( hw_ephemeral_encryption=True, hw_ephemeral_encryption_format='luks' ) server = self.create_test_server( flavor=flavor['id'], image_id=image_id, wait_until=""ACTIVE"") self._test_qemu_disk_encryption(server) def _test_qemu_disk_encryption(self, server): # Gather instance XML to ensure the encrypted volume is attached to the # instance xml = self.get_server_xml(server['id']) # Create a list of all disks on the instance disks = xml.findall('.//disk') # Search the list of disks for the encrypted disks by querying that # they contain the 'encryption/secret' elements xml_disk_elements = [x for x in disks if x.find(""./encryption/secret"") is not None] # There should be two disk elements (root disk and ephemeral disk) # present in the instance xml that matches search criteria xml_disk_count = len(xml_disk_elements) self.assertEqual( 2, xml_disk_count, 'Expected to find two xml disk elements ' 'matching search criteria but instead found %s' % xml_disk_count) for encrypted_disk_xml_element in xml_disk_elements: # Confirm encryption format is luks encryption_format = encrypted_disk_xml_element.find( './encryption').get('format') self.assertEqual( 'luks', encryption_format, 'Expected encryption type luks but ' 'found %s' % encryption_format) # Determine the encrypted disk's protocol. If RBD then gather user # and disk name to generate path, otherwise just use 'source/file' # for disk path protocol = encrypted_disk_xml_element.find( './source').get('protocol') if protocol and protocol == 'rbd': disk = encrypted_disk_xml_element.find('./source').get('name') user = encrypted_disk_xml_element.find( './auth').get('username') if user: path = f""rbd:{disk}:id={user}"" else: path = f""rbd:{disk}"" else: path = encrypted_disk_xml_element.find('./source').get('file') LOG.info(f'Verifying encryption format of {path}') # Get disk details from qemu-img info with the previously generated # disk path host = get_ctlplane_address(self.get_host_for_server(server['id'])) qemu_img_client = QEMUImgClient(host) qemu_info = qemu_img_client.info(path) # Check reported qemu-img info that disk is encrypted and the # format is luks self.assertTrue( qemu_info.get('encrypted'), 'qemu-img did not report that the ' 'disk was encrypted') qemu_info_encrypt_format = qemu_info.get('format') self.assertEqual( 'luks', qemu_info_encrypt_format, 'Expected disk format to be ' 'luks but instead found %s' % qemu_info_encrypt_format) ",,135,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I9140b7ab9f9266fcf4fe800e4610497f2324df4e,openstack/openstack-ansible-lxc_hosts,master,I9140b7ab9f9266fcf4fe800e4610497f2324df4e,Prevent lxc.service from being restarted on package update,MERGED,2022-07-26 16:29:33.000000000,2022-08-02 22:51:36.000000000,2022-08-02 22:50:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-07-26 16:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/17e1bfb8106f95354e4adec88adb22a096125b80', 'message': ""Prevent lxc.service from being restarted on package update\n\nAs of today, each lxc-utils update would lead to restart of all\ncontainers. At the same time this might be unwanted behaviour, as\nif it's run without limit, all cluster members inside containers can\ngo down at the same time.\n\nIn order to prevent that, we place policy-rc.d file that will simply\nquit with 101 code `action forbidden by policy` on service restart\nattempt.\n\nChange-Id: I9140b7ab9f9266fcf4fe800e4610497f2324df4e\n""}, {'number': 2, 'created': '2022-07-28 09:40:05.000000000', 'files': ['tasks/lxc_install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f8594d335f0ec70768d7bccd9ba13d84a6f65151', 'message': ""Prevent lxc.service from being restarted on package update\n\nAs of today, each lxc-utils update would lead to restart of all\ncontainers. At the same time this might be unwanted behaviour, as\nif it's run without limit, all cluster members inside containers can\ngo down at the same time.\n\nIn order to prevent that, we place policy-rc.d file that will simply\nquit with 101 code `action forbidden by policy` on service restart\nattempt.\n\nChange-Id: I9140b7ab9f9266fcf4fe800e4610497f2324df4e\n""}]",0,851071,f8594d335f0ec70768d7bccd9ba13d84a6f65151,10,3,2,28619,,,0,"Prevent lxc.service from being restarted on package update

As of today, each lxc-utils update would lead to restart of all
containers. At the same time this might be unwanted behaviour, as
if it's run without limit, all cluster members inside containers can
go down at the same time.

In order to prevent that, we place policy-rc.d file that will simply
quit with 101 code `action forbidden by policy` on service restart
attempt.

Change-Id: I9140b7ab9f9266fcf4fe800e4610497f2324df4e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/71/851071/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_install_apt.yml'],1,17e1bfb8106f95354e4adec88adb22a096125b80,,"- name: Prevent lxc from starting on install copy: content: | #!/bin/bash exit 101 dest: ""/usr/sbin/policy-rc.d"" mode: ""0755"" backup: yes changed_when: false - name: Remove policy-rc now that the package install/upgrade is complete file: path: ""/usr/sbin/policy-rc.d"" state: absent changed_when: false ",,16,0
openstack%2Freleases~master~Iade172d851b33394a801ca48a608a35e39d01a81,openstack/releases,master,Iade172d851b33394a801ca48a608a35e39d01a81,Release hacking 4.1.1,ABANDONED,2022-03-25 10:59:59.000000000,2022-08-02 22:18:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-03-25 10:59:59.000000000', 'files': ['deliverables/_independent/hacking.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0d6c4e91dae82b56b226fb53e8d951394b953141', 'message': 'Release hacking 4.1.1\n\nChange-Id: Iade172d851b33394a801ca48a608a35e39d01a81\n'}]",1,835205,0d6c4e91dae82b56b226fb53e8d951394b953141,5,2,1,22873,,,0,"Release hacking 4.1.1

Change-Id: Iade172d851b33394a801ca48a608a35e39d01a81
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/835205/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/hacking.yaml'],1,0d6c4e91dae82b56b226fb53e8d951394b953141,, - version: 4.1.1 projects: - repo: openstack/hacking hash: e3071cdc4ba1e2f20757dd0c242abb1f0370e0d1,,4,0
openstack%2Fopenstack-zuul-jobs~master~I2bd97c294fd5c83f83ed30f57a9e9c265ab4c8ac,openstack/openstack-zuul-jobs,master,I2bd97c294fd5c83f83ed30f57a9e9c265ab4c8ac,linters: fix yaml whitespace,MERGED,2022-07-28 05:24:50.000000000,2022-08-02 22:03:51.000000000,2022-08-02 22:01:25.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 05:24:50.000000000', 'files': ['playbooks/grafana/main.yaml', 'roles/infra-deb-package-build/tasks/main.yaml', 'roles/openafs-rpm-package-build/tasks/main.yaml', 'playbooks/vhd-util-deb-package-build/run.yaml', 'playbooks/tox-molecule/post.yaml', 'playbooks/tox-docs/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9815c29cd8b993e9a9157fedc206b1e5b9f64b08', 'message': 'linters: fix yaml whitespace\n\nFix whitespace issues revealed by yamllint with a later ansible-lint\n\nChange-Id: I2bd97c294fd5c83f83ed30f57a9e9c265ab4c8ac\n'}]",0,851340,9815c29cd8b993e9a9157fedc206b1e5b9f64b08,8,3,1,7118,,,0,"linters: fix yaml whitespace

Fix whitespace issues revealed by yamllint with a later ansible-lint

Change-Id: I2bd97c294fd5c83f83ed30f57a9e9c265ab4c8ac
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/40/851340/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/grafana/main.yaml', 'roles/infra-deb-package-build/tasks/main.yaml', 'roles/openafs-rpm-package-build/tasks/main.yaml', 'playbooks/vhd-util-deb-package-build/run.yaml', 'playbooks/tox-molecule/post.yaml', 'playbooks/tox-docs/run.yaml']",6,9815c29cd8b993e9a9157fedc206b1e5b9f64b08,ansible-lint-update-6,,,2,6
openstack%2Fopenstack-zuul-jobs~master~Iaaeca20d53a927fab660f45b5bb9b552a15146e2,openstack/openstack-zuul-jobs,master,Iaaeca20d53a927fab660f45b5bb9b552a15146e2,linters: minor cosmetic updates,MERGED,2022-07-28 05:24:50.000000000,2022-08-02 21:48:24.000000000,2022-08-02 21:46:23.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 05:24:50.000000000', 'files': ['roles/build-pdf-docs/tasks/main.yaml', 'roles/configure-swap/tasks/root.yaml', 'roles/set-service-type-data-fact/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/3d766af7e901818d42c295f919a0fa2e9008347d', 'message': 'linters: minor cosmetic updates\n\nMake sure all blocks are named, and fix up whitespace around jinja\nfilters.\n\nChange-Id: Iaaeca20d53a927fab660f45b5bb9b552a15146e2\n'}]",0,851339,3d766af7e901818d42c295f919a0fa2e9008347d,8,3,1,7118,,,0,"linters: minor cosmetic updates

Make sure all blocks are named, and fix up whitespace around jinja
filters.

Change-Id: Iaaeca20d53a927fab660f45b5bb9b552a15146e2
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/39/851339/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-pdf-docs/tasks/main.yaml', 'roles/configure-swap/tasks/root.yaml', 'roles/set-service-type-data-fact/tasks/main.yaml']",3,3d766af7e901818d42c295f919a0fa2e9008347d,ansible-lint-update-6,- name: Set service_type_data fact block:,- block:,5,3
openstack%2Fproject-config~master~I7bcde4942c97cfe743e8aba74833aeb5844c8290,openstack/project-config,master,I7bcde4942c97cfe743e8aba74833aeb5844c8290,linter: update some YAML whitespace issues,MERGED,2022-07-28 02:10:22.000000000,2022-08-02 21:39:00.000000000,2022-08-02 21:39:00.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 02:10:22.000000000', 'files': ['playbooks/pti-python-tarball/pre.yaml', 'playbooks/javascript/publish.yaml', 'roles/configure-git/defaults/main.yaml', 'roles/configure-git/tasks/main.yaml', 'playbooks/javascript/release.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8cdf719bb3f97779af56db4167718dde76d1d8e9', 'message': 'linter: update some YAML whitespace issues\n\nThese were found by a later version of ansible-lint.  This should have\nno effect, but just fixes some inconsistent whitespace issues.\n\nChange-Id: I7bcde4942c97cfe743e8aba74833aeb5844c8290\n'}]",0,851275,8cdf719bb3f97779af56db4167718dde76d1d8e9,9,3,1,7118,,,0,"linter: update some YAML whitespace issues

These were found by a later version of ansible-lint.  This should have
no effect, but just fixes some inconsistent whitespace issues.

Change-Id: I7bcde4942c97cfe743e8aba74833aeb5844c8290
",git fetch https://review.opendev.org/openstack/project-config refs/changes/75/851275/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/pti-python-tarball/pre.yaml', 'playbooks/javascript/publish.yaml', 'roles/configure-git/defaults/main.yaml', 'playbooks/javascript/release.yaml', 'roles/configure-git/tasks/main.yaml']",5,8cdf719bb3f97779af56db4167718dde76d1d8e9,ansible-lint-update-6," with_dict: ""{{ git_config }}"" "," with_dict: ""{{ git_config }}""",5,7
openstack%2Fproject-config~master~Ibe6fa9296041af54f39a3ef69957d0e8a0df0259,openstack/project-config,master,Ibe6fa9296041af54f39a3ef69957d0e8a0df0259,trigger-rtd: fix role syntax,MERGED,2022-07-28 02:10:22.000000000,2022-08-02 21:38:56.000000000,2022-08-02 21:38:56.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 02:10:22.000000000', 'files': ['playbooks/publish/trigger-rtd.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3bcb5fca7901df23ec71a6ef9566f0d59a9e57ca', 'message': ""trigger-rtd: fix role syntax\n\nThis doesn't need a name: when included like this.  I guess Ansible\naccepts it, but it doesn't document this working anywhere.\n\nChange-Id: Ibe6fa9296041af54f39a3ef69957d0e8a0df0259\n""}]",0,851274,3bcb5fca7901df23ec71a6ef9566f0d59a9e57ca,9,3,1,7118,,,0,"trigger-rtd: fix role syntax

This doesn't need a name: when included like this.  I guess Ansible
accepts it, but it doesn't document this working anywhere.

Change-Id: Ibe6fa9296041af54f39a3ef69957d0e8a0df0259
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/851274/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish/trigger-rtd.yaml'],1,3bcb5fca7901df23ec71a6ef9566f0d59a9e57ca,ansible-lint-update-6, - trigger-readthedocs, - name: trigger-readthedocs,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,openstack/tripleo-heat-templates,stable/train,Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,Add ovn_chassis_mac_map to ExtraConfig role,MERGED,2022-01-31 16:19:25.000000000,2022-08-02 21:38:22.000000000,2022-08-02 21:38:22.000000000,"[{'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-31 16:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e6377eba86dba01245f2484ff9c2a5063c883e6', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827145\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)\n'}, {'number': 2, 'created': '2022-02-02 15:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/667bc809c09650dacb1a9ea02c9924fd9ecc4c0d', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827145\n\nRelated-Bug: #1881593\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)\n'}, {'number': 3, 'created': '2022-07-15 01:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b25e9b48d114bf4e73414c4febef07e3bf5968c', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nNote: this patch includes a fix for the standalone role cases where\nthere OVNMacAddressPorts are not created for the OVNBridgeMappings.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827145\n\nRelated-Bug: #1881593\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)\n'}, {'number': 4, 'created': '2022-07-15 10:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9aa8f155901e2d4cb77b1d446f48879177ffa660', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nNote: this patch includes a fix for the standalone role cases where\nthere OVNMacAddressPorts are not created for the OVNBridgeMappings.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827145\n\nRelated-Bug: #1881593\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)\n'}, {'number': 5, 'created': '2022-07-15 10:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5545b5867eba80362b80d0603fa5cc9c6f6c1e6', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nNote: this patch includes a fix for the standalone role cases where\nthere OVNMacAddressPorts are not created for the OVNBridgeMappings.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827145\n\nRelated-Bug: #1881593\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)\n'}, {'number': 6, 'created': '2022-07-15 11:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03e0e89b23259d3169d182fdf597fc1e642050c4', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nNote: this patch includes a fix for the standalone role cases where\nthere OVNMacAddressPorts are not created for the OVNBridgeMappings.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827145\n\nRelated-Bug: #1881593\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)\n'}, {'number': 7, 'created': '2022-07-15 15:44:52.000000000', 'files': ['overcloud.j2.yaml', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4690cab2d46731a2c44d46330219e5cb4c9dd920', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nNote: this patch includes a fix for the standalone role cases where\nthere OVNMacAddressPorts are not created for the OVNBridgeMappings.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827145\n\nRelated-Bug: #1881593\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)\n'}]",11,827146,4690cab2d46731a2c44d46330219e5cb4c9dd920,47,8,7,6681,,,0,"Add ovn_chassis_mac_map to ExtraConfig role

Note: this patch includes a fix for the standalone role cases where
there OVNMacAddressPorts are not created for the OVNBridgeMappings.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827145

Related-Bug: #1881593

Change-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4
(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/827146/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,3e6377eba86dba01245f2484ff9c2a5063c883e6,train, - ovn_chassis_mac_map # provided by tripleo_hieradata,,1,0
openstack%2Fdiskimage-builder~master~I01233ce27cc4558270b2f41fae36b46a17f56e52,openstack/diskimage-builder,master,I01233ce27cc4558270b2f41fae36b46a17f56e52,Add Rockylinux 9 build configuration and update jobs for 8 and 9,MERGED,2022-07-06 19:42:17.000000000,2022-08-02 21:10:40.000000000,2022-08-02 21:08:18.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 23266}]","[{'number': 1, 'created': '2022-07-06 19:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3668f475864d5ad89cb998da55ebabf7688b1214', 'message': 'Add Rockylinux 9 build configuration and update jobs for 8 and 9\n\n* Force DIB_RELEASE=8 for the v8 build\n\nChange-Id: I01233ce27cc4558270b2f41fae36b46a17f56e52\n'}, {'number': 2, 'created': '2022-07-15 00:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b29e127bdb9350142c344026be09cf7c7c7856f6', 'message': 'Add Rockylinux 9 build configuration and update jobs for 8 and 9\n\n* Force DIB_RELEASE=8 for the v8 build\n\nChange-Id: I01233ce27cc4558270b2f41fae36b46a17f56e52\n'}, {'number': 3, 'created': '2022-07-25 00:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eb331fdd48c9b9e9286e1393dcf86c3bd4232e0d', 'message': 'Add Rockylinux 9 build configuration and update jobs for 8 and 9\n\n* Force DIB_RELEASE=8 for the v8 build\n\nChange-Id: I01233ce27cc4558270b2f41fae36b46a17f56e52\n'}, {'number': 4, 'created': '2022-08-02 18:07:35.000000000', 'files': ['diskimage_builder/elements/rocky-container/containerfiles/9', 'diskimage_builder/elements/rocky-container/environment.d/10-01-rocky-distro-name.bash', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6b42cb23eef0ca921ca933f354238f83a45229d8', 'message': 'Add Rockylinux 9 build configuration and update jobs for 8 and 9\n\n* Add note in Rocky Linux 9 containerfile to explain not needing to run\n  systemd-machine-setup-id\n\nChange-Id: I01233ce27cc4558270b2f41fae36b46a17f56e52\n'}]",8,848901,6b42cb23eef0ca921ca933f354238f83a45229d8,38,5,4,34411,,,0,"Add Rockylinux 9 build configuration and update jobs for 8 and 9

* Add note in Rocky Linux 9 containerfile to explain not needing to run
  systemd-machine-setup-id

Change-Id: I01233ce27cc4558270b2f41fae36b46a17f56e52
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/01/848901/4 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/rocky-container/containerfiles/9', 'diskimage_builder/elements/rocky-container/environment.d/10-01-rocky-distro-name.bash', '.zuul.d/jobs.yaml']",3,3668f475864d5ad89cb998da55ebabf7688b1214,rockylinux/9, env-vars: DIB_RELEASE: '8' - job: name: dib-nodepool-functional-openstack-rockylinux-9-containerfile-src description: | Test building and booting a Rocky Linux image from a containerfile with Nodepool and OpenStack (using released libraries) parent: dib-nodepool-functional-src-base vars: nodepool_debug: true nodepool_diskimage: base_element: rocky-container release: '9',,23,1
openstack%2Fplacement~master~If5c07703d7c236c9fe0eb70e31ef1afb1d3c7a3d,openstack/placement,master,If5c07703d7c236c9fe0eb70e31ef1afb1d3c7a3d,Update placement for os-traits 2.8.0 release,MERGED,2022-08-02 05:07:49.000000000,2022-08-02 21:05:50.000000000,2022-08-02 21:04:49.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 05:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/cbc8cb8fa818a333c68e1cd924b755cff0bcd19d', 'message': 'Update placement for os-traits 2.8.0 release\n\nThis change re enables checking the standard\ntrait count and updates placement to require\nos-traits 2.8.0\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/851423\nChange-Id: If5c07703d7c236c9fe0eb70e31ef1afb1d3c7a3d\n'}, {'number': 2, 'created': '2022-08-02 07:53:00.000000000', 'files': ['requirements.txt', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/c4e89253a52839a514bd87fdebc4785fe0e64146', 'message': 'Update placement for os-traits 2.8.0 release\n\nThis change re enables checking the standard\ntrait count and updates placement to require\nos-traits 2.8.0\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/851423\nChange-Id: If5c07703d7c236c9fe0eb70e31ef1afb1d3c7a3d\n'}]",1,851793,c4e89253a52839a514bd87fdebc4785fe0e64146,10,3,2,12898,,,0,"Update placement for os-traits 2.8.0 release

This change re enables checking the standard
trait count and updates placement to require
os-traits 2.8.0

Depends-on: https://review.opendev.org/c/openstack/requirements/+/851423
Change-Id: If5c07703d7c236c9fe0eb70e31ef1afb1d3c7a3d
",git fetch https://review.opendev.org/openstack/placement refs/changes/93/851793/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'placement/tests/functional/gabbits/traits.yaml']",2,cbc8cb8fa818a333c68e1cd924b755cff0bcd19d,os-traits-2.8.0,tests: - name: what is at traits GET: /traits response_json_paths: $.traits.`len`: 344 # Number of standard traits,# FIXME(tonyb): commnet out to allow os-traits 2.8.0 # tests: # - name: what is at traits # GET: /traits # response_json_paths: # $.traits.`len`: 335 # Number of standard traits,6,7
openstack%2Frequirements~master~If25722efc71a1bb8c3f1d7a5e35040903ae9a31f,openstack/requirements,master,If25722efc71a1bb8c3f1d7a5e35040903ae9a31f,update constraint for os-traits to new release 2.8.0,MERGED,2022-07-28 15:24:45.000000000,2022-08-02 21:05:42.000000000,2022-08-02 21:04:45.000000000,"[{'_account_id': 11604}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-28 15:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/363b2b04d5de4574780586ff61585a23ead00d10', 'message': 'update constraint for os-traits to new release 2.8.0\n\nmeta: version: 2.8.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Balazs Gibizer <gibi@redhat.com>\nmeta: release:Commit: Balazs Gibizer <gibi@redhat.com>\nmeta: release:Change-Id: I98e9a116f3f520d2083e0fb164c5cd39fde3188e\nmeta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>\nmeta: release:Code-Review+1: sean mooney <smooney@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: If25722efc71a1bb8c3f1d7a5e35040903ae9a31f\n'}, {'number': 2, 'created': '2022-08-02 05:08:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4c0259330081dfb6b8611cba825594448c9ef02e', 'message': 'update constraint for os-traits to new release 2.8.0\n\nmeta: version: 2.8.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Balazs Gibizer <gibi@redhat.com>\nmeta: release:Commit: Balazs Gibizer <gibi@redhat.com>\nmeta: release:Change-Id: I98e9a116f3f520d2083e0fb164c5cd39fde3188e\nmeta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>\nmeta: release:Code-Review+1: sean mooney <smooney@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\n\nDepends-on: https://review.opendev.org/c/openstack/placement/+/851792\nChange-Id: If25722efc71a1bb8c3f1d7a5e35040903ae9a31f\n'}]",3,851423,4c0259330081dfb6b8611cba825594448c9ef02e,25,4,2,11131,,,0,"update constraint for os-traits to new release 2.8.0

meta: version: 2.8.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Balazs Gibizer <gibi@redhat.com>
meta: release:Commit: Balazs Gibizer <gibi@redhat.com>
meta: release:Change-Id: I98e9a116f3f520d2083e0fb164c5cd39fde3188e
meta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>
meta: release:Code-Review+1: sean mooney <smooney@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>

Depends-on: https://review.opendev.org/c/openstack/placement/+/851792
Change-Id: If25722efc71a1bb8c3f1d7a5e35040903ae9a31f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/851423/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,363b2b04d5de4574780586ff61585a23ead00d10,new-release,os-traits===2.8.0,os-traits===2.7.0,1,1
openstack%2Ftripleo-ansible~master~I70bfb00a704a1dba15be766e3a33d97f83912d6d,openstack/tripleo-ansible,master,I70bfb00a704a1dba15be766e3a33d97f83912d6d,Support auto-revert of all the snapshots,MERGED,2022-07-14 10:42:12.000000000,2022-08-02 20:30:40.000000000,2022-08-02 20:30:40.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-07-14 10:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/370b15d884883bbaa4230eeb2e932fa1160eb9c2', 'message': 'Support auto-revert of all the snapshots\n\nThere should be an action to revert all the snapshots at the same time\nto provide a quick revert action, specially if something has gone\nwrong during an upgrade.\n\nAt the same time, we divide the whole process into different tasks that\ncan be chosen to be executed via tags.\n\nChange-Id: I70bfb00a704a1dba15be766e3a33d97f83912d6d\n'}, {'number': 2, 'created': '2022-07-14 14:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/650d93347a7e418dbd874cdc004fdc9a849b63e5', 'message': 'Support auto-revert of all the snapshots\n\nThere should be an action to revert all the snapshots at the same time\nto provide a quick revert action, specially if something has gone\nwrong during an upgrade.\n\nAt the same time, we divide the whole process into different tasks that\ncan be chosen to be executed via tags.\n\nChange-Id: I70bfb00a704a1dba15be766e3a33d97f83912d6d\n'}, {'number': 3, 'created': '2022-07-14 15:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/47a2173f69cae8ca8997b3cee2be88bf91a99919', 'message': 'Support auto-revert of all the snapshots\n\nThere should be an action to revert all the snapshots at the same time\nto provide a quick revert action, specially if something has gone\nwrong during an upgrade.\n\nAt the same time, we divide the whole process into different tasks that\ncan be chosen to be executed via tags.\n\nChange-Id: I70bfb00a704a1dba15be766e3a33d97f83912d6d\n'}, {'number': 4, 'created': '2022-07-15 08:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aaabfa699ebc1000de05c0d74a4dc262b38f6cd9', 'message': 'Support auto-revert of all the snapshots\n\nThere should be an action to revert all the snapshots at the same time\nto provide a quick revert action, specially if something has gone\nwrong during an upgrade.\n\nAt the same time, we divide the whole process into different tasks that\ncan be chosen to be executed via tags.\n\nChange-Id: I70bfb00a704a1dba15be766e3a33d97f83912d6d\n'}, {'number': 5, 'created': '2022-07-15 08:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/38b7072ac00663b79b0229eeac7435b2d76dcdc3', 'message': 'Support auto-revert of all the snapshots\n\nThere should be an action to revert all the snapshots at the same time\nto provide a quick revert action, specially if something has gone\nwrong during an upgrade.\n\nAt the same time, we divide the whole process into different tasks that\ncan be chosen to be executed via tags.\n\nChange-Id: I70bfb00a704a1dba15be766e3a33d97f83912d6d\n'}, {'number': 6, 'created': '2022-07-15 10:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/574abeeec2330e826dc95a6ea0632c51ef600707', 'message': 'Support auto-revert of all the snapshots\n\nThere should be an action to revert all the snapshots at the same time\nto provide a quick revert action, specially if something has gone\nwrong during an upgrade.\n\nAt the same time, we divide the whole process into different tasks that\ncan be chosen to be executed via tags.\n\nChange-Id: I70bfb00a704a1dba15be766e3a33d97f83912d6d\n'}, {'number': 7, 'created': '2022-07-19 10:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/36254d32ae268a0912b7017832351a66152c74dc', 'message': 'Support auto-revert of all the snapshots\n\nThere should be an action to revert all the snapshots at the same time\nto provide a quick revert action, specially if something has gone\nwrong during an upgrade.\n\nAt the same time, we divide the whole process into different tasks that\ncan be chosen to be executed via tags.\n\nChange-Id: I70bfb00a704a1dba15be766e3a33d97f83912d6d\n'}, {'number': 8, 'created': '2022-07-20 12:05:53.000000000', 'files': ['tripleo_ansible/roles/snapshot_and_revert/tasks/main.yml', 'tripleo_ansible/playbooks/cli-overcloud-snapshot.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29dfc54c6bcd1425e3fe2264e5a80ed701d86545', 'message': 'Support auto-revert of all the snapshots\n\nThere should be an action to revert all the snapshots at the same time\nto provide a quick revert action, specially if something has gone\nwrong during an upgrade.\n\nAt the same time, we divide the whole process into different tasks that\ncan be chosen to be executed via tags.\n\nChange-Id: I70bfb00a704a1dba15be766e3a33d97f83912d6d\n'}]",9,849802,29dfc54c6bcd1425e3fe2264e5a80ed701d86545,35,6,8,32968,,,0,"Support auto-revert of all the snapshots

There should be an action to revert all the snapshots at the same time
to provide a quick revert action, specially if something has gone
wrong during an upgrade.

At the same time, we divide the whole process into different tasks that
can be chosen to be executed via tags.

Change-Id: I70bfb00a704a1dba15be766e3a33d97f83912d6d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/849802/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/snapshot_and_revert/tasks/main.yml'],1,370b15d884883bbaa4230eeb2e932fa1160eb9c2,auto_revert,- name: Delete the lv_snapshot volume if it exists command: lvremove -f /dev/vg/lv_snapshot when: - ansible_facts.lvm is defined - ansible_facts.lvm.lvs is defined - ansible_facts.lvm.vgs is defined - ansible_facts.lvm.vgs.vg is defined - ansible_facts.lvm.lvs.lv_snapshot is defined - ansible_facts.lvm.lvs.lv_snapshot.size_g|float >= 8.00 tags: - create_snapshots - remove_lv_snapshot - name: Remove LVM snapshots - name: Clean audit snapshot volume command: lvremove -f /dev/vg/ss_audit when: ansible_facts.lvm.lvs.ss_audit is defined tags: - create_snapshots - remove_snapshots - name: Create lvm snapshot if there are at least 8GB of free space in the vg volumegroup when: - ansible_facts.lvm is defined - ansible_facts.lvm.lvs is defined - ansible_facts.lvm.vgs is defined - ansible_facts.lvm.vgs.vg is defined - ansible_facts.lvm.vgs.vg.free_g|float >= 8.00 block: - name: Create audit snapshot volume command: lvcreate -s -n ss_audit -L {{ tripleo_snapshot_revert_audit_size }} /dev/vg/lv_audit when: ansible_facts.lvm.lvs.lv_audit is defined - name: Create home snapshot volume command: lvcreate -s -n ss_home -L {{ tripleo_snapshot_revert_home_size }} /dev/vg/lv_home when: ansible_facts.lvm.lvs.lv_home is defined - name: Create log snapshot volume command: lvcreate -s -n ss_log -L {{ tripleo_snapshot_revert_log_size }} /dev/vg/lv_log when: ansible_facts.lvm.lvs.lv_log is defined - name: Create root snapshot volume command: lvcreate -s -n ss_root -L {{ tripleo_snapshot_revert_root_size }} /dev/vg/lv_root when: ansible_facts.lvm.lvs.lv_root is defined - name: Create srv snapshot volume command: lvcreate -s -n ss_srv -L {{ tripleo_snapshot_revert_srv_size }} /dev/vg/lv_srv when: ansible_facts.lvm.lvs.lv_srv is defined - name: Create var snapshot volume command: lvcreate -s -n ss_var -L {{ tripleo_snapshot_revert_var_size }} /dev/vg/lv_var when: ansible_facts.lvm.lvs.lv_var is defined tags: - create_snapshots - name: Revert LVM snapshots to main disks when: - ansible_facts.lvm is defined - ansible_facts.lvm.lvs is defined - ansible_facts.lvm.vgs is defined - ansible_facts.lvm.vgs.vg is defined block: - name: Revert audit snapshot volume command: lvconvert --merge /dev/vg/ss_audit when: ansible_facts.lvm.lvs.ss_audit is defined - name: Revert home snapshot volume command: lvconvert --merge /dev/vg/ss_home when: ansible_facts.lvm.lvs.ss_home is defined - name: Revert log snapshot volume command: lvconvert --merge /dev/vg/ss_log when: ansible_facts.lvm.lvs.ss_log is defined - name: Revert root snapshot volume command: lvconvert --merge /dev/vg/ss_root when: ansible_facts.lvm.lvs.ss_root is defined - name: Revert srv snapshot volume command: lvconvert --merge /dev/vg/ss_srv when: ansible_facts.lvm.lvs.ss_srv is defined - name: Revert var snapshot volume command: lvconvert --merge /dev/vg/ss_var when: ansible_facts.lvm.lvs.ss_var is defined tags: - revert_snapshots,- name: Use LVM snapshots if LVM is defined - name: Delete the lv_snapshot volume if it exists command: lvremove -f /dev/vg/lv_snapshot when: - ansible_facts.lvm.lvs.lv_snapshot is defined - ansible_facts.lvm.lvs.lv_snapshot.size_g|float >= 8.00 - name: Clean audit snapshot volume command: lvremove -f /dev/vg/ss_audit when: ansible_facts.lvm.lvs.ss_audit is defined - name: Create lvm snapshot if there are at least 8GB of free space in the vg volumegroup when: - ansible_facts.lvm.vgs.vg.free_g|float >= 8.00 block: - name: Create audit snapshot volume command: lvcreate -s -n ss_audit -L {{ tripleo_snapshot_revert_audit_size }} /dev/vg/lv_audit when: ansible_facts.lvm.lvs.lv_audit is defined - name: Create home snapshot volume command: lvcreate -s -n ss_home -L {{ tripleo_snapshot_revert_home_size }} /dev/vg/lv_home when: ansible_facts.lvm.lvs.lv_home is defined - name: Create log snapshot volume command: lvcreate -s -n ss_log -L {{ tripleo_snapshot_revert_log_size }} /dev/vg/lv_log when: ansible_facts.lvm.lvs.lv_log is defined - name: Create root snapshot volume command: lvcreate -s -n ss_root -L {{ tripleo_snapshot_revert_root_size }} /dev/vg/lv_root when: ansible_facts.lvm.lvs.lv_root is defined - name: Create srv snapshot volume command: lvcreate -s -n ss_srv -L {{ tripleo_snapshot_revert_srv_size }} /dev/vg/lv_srv when: ansible_facts.lvm.lvs.lv_srv is defined - name: Create var snapshot volume command: lvcreate -s -n ss_var -L {{ tripleo_snapshot_revert_var_size }} /dev/vg/lv_var when: ansible_facts.lvm.lvs.lv_var is defined,82,33
openstack%2Fnova~master~I71439580e80d33cff62aba807df2b35164a47cbe,openstack/nova,master,I71439580e80d33cff62aba807df2b35164a47cbe,hacking: force explicit import of python's mock,MERGED,2020-02-20 00:09:58.000000000,2022-08-02 20:27:13.000000000,2022-08-02 20:25:02.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-02-20 00:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dd5df5c49bdff9767fc4aa682d70e33b429f321', 'message': ""hacking: force explicit import of python's mock\n\nSince we dropped support for python 2 [1], we no longer need to use the\nmock library, which existed to backport py3 functionality into py2.\nChange Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing\nthe stock mock, which must be done by saying::\n\n    from unittest import mock\n\n...because if you say::\n\n    import mock\n\n...you may be getting the stock mock; or, due to transitive dependencies in\nthe environment, the library mock.\n\nThis commit adds hacking check N366 to enforce the former.\n\nThis check can be removed in the future (and we can start saying\n``import mock`` again) if we manage to purge these transitive\ndependencies. I'm not holding my breath.\n\n[1] https://review.opendev.org/#/c/687954/\n\nChange-Id: I71439580e80d33cff62aba807df2b35164a47cbe\n""}, {'number': 2, 'created': '2020-04-02 09:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6c41ddabebda75a3305de47ed35f6c70ad209f5', 'message': ""hacking: force explicit import of python's mock\n\nSince we dropped support for python 2 [1], we no longer need to use the\nmock library, which existed to backport py3 functionality into py2.\nChange Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing\nthe stock mock, which must be done by saying::\n\n    from unittest import mock\n\n...because if you say::\n\n    import mock\n\n...you may be getting the stock mock; or, due to transitive dependencies in\nthe environment, the library mock.\n\nThis commit adds hacking check N366 to enforce the former.\n\nThis check can be removed in the future (and we can start saying\n``import mock`` again) if we manage to purge these transitive\ndependencies. I'm not holding my breath.\n\n[1] https://review.opendev.org/#/c/687954/\n\nChange-Id: I71439580e80d33cff62aba807df2b35164a47cbe\n""}, {'number': 3, 'created': '2020-05-01 11:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f74899a9d3d1e9963c8e6cd0dad686fbfbb93ad', 'message': ""hacking: force explicit import of python's mock\n\nSince we dropped support for python 2 [1], we no longer need to use the\nmock library, which existed to backport py3 functionality into py2.\nChange Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing\nthe stock mock, which must be done by saying::\n\n    from unittest import mock\n\n...because if you say::\n\n    import mock\n\n...you may be getting the stock mock; or, due to transitive dependencies in\nthe environment, the library mock.\n\nThis commit adds hacking check N366 to enforce the former.\n\nThis check can be removed in the future (and we can start saying\n``import mock`` again) if we manage to purge these transitive\ndependencies. I'm not holding my breath.\n\n[1] https://review.opendev.org/#/c/687954/\n\nChange-Id: I71439580e80d33cff62aba807df2b35164a47cbe\n""}, {'number': 4, 'created': '2020-06-17 12:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/860e0dd951f2745f7e53a7e04bd8a03f2ff741b9', 'message': ""hacking: force explicit import of python's mock\n\nSince we dropped support for python 2 [1], we no longer need to use the\nmock library, which existed to backport py3 functionality into py2.\nChange Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing\nthe stock mock, which must be done by saying::\n\n    from unittest import mock\n\n...because if you say::\n\n    import mock\n\n...you may be getting the stock mock; or, due to transitive dependencies in\nthe environment, the library mock.\n\nThis commit adds hacking check N366 to enforce the former.\n\nThis check can be removed in the future (and we can start saying\n``import mock`` again) if we manage to purge these transitive\ndependencies. I'm not holding my breath.\n\n[1] https://review.opendev.org/#/c/687954/\n\nChange-Id: I71439580e80d33cff62aba807df2b35164a47cbe\n""}, {'number': 5, 'created': '2020-07-07 15:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4335b88e15e5b674bfbf970266b9d81f014aa52', 'message': ""hacking: force explicit import of python's mock\n\nSince we dropped support for python 2 [1], we no longer need to use the\nmock library, which existed to backport py3 functionality into py2.\nChange Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing\nthe stock mock, which must be done by saying::\n\n    from unittest import mock\n\n...because if you say::\n\n    import mock\n\n...you may be getting the stock mock; or, due to transitive dependencies in\nthe environment, the library mock.\n\nThis commit adds hacking check N366 to enforce the former.\n\nThis check can be removed in the future (and we can start saying\n``import mock`` again) if we manage to purge these transitive\ndependencies. I'm not holding my breath.\n\n[1] https://review.opendev.org/#/c/687954/\n\nChange-Id: I71439580e80d33cff62aba807df2b35164a47cbe\n""}, {'number': 6, 'created': '2020-07-07 15:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b143dfff3525fd8d10244e87779665d06de5ddb', 'message': ""hacking: force explicit import of python's mock\n\nSince we dropped support for python 2 [1], we no longer need to use the\nmock library, which existed to backport py3 functionality into py2.\nChange Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing\nthe stock mock, which must be done by saying::\n\n    from unittest import mock\n\n...because if you say::\n\n    import mock\n\n...you will be using the third party mock library instead, which may or\nmay not be installed.\n\nThis commit adds hacking check N366 to enforce the former.\n\n[1] https://review.opendev.org/#/c/687954/\n\nChange-Id: I71439580e80d33cff62aba807df2b35164a47cbe\n""}, {'number': 7, 'created': '2022-07-26 17:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e572730c1dac9f42567b8af6f2635582916d84bb', 'message': ""hacking: force explicit import of python's mock\n\nSince we dropped support for python 2 [1], we no longer need to use the\nmock library, which existed to backport py3 functionality into py2.\nChange Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing\nthe stock mock, which must be done by saying::\n\n    from unittest import mock\n\n...because if you say::\n\n    import mock\n\n...you will be using the third party mock library instead, which may or\nmay not be installed.\n\nThis commit adds hacking check N366 to enforce the former.\n\n[1] https://review.opendev.org/#/c/687954/\n\nChange-Id: I71439580e80d33cff62aba807df2b35164a47cbe\n""}, {'number': 8, 'created': '2022-07-26 18:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cc6c57313a45e31cc569d00dceefabb9c613507', 'message': ""hacking: force explicit import of python's mock\n\nSince we dropped support for python 2 [1], we no longer need to use the\nmock library, which existed to backport py3 functionality into py2.\nChange Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing\nthe stock mock, which must be done by saying::\n\n    from unittest import mock\n\n...because if you say::\n\n    import mock\n\n...you will be using the third party mock library instead, which may or\nmay not be installed.\n\nThis commit adds hacking check N371 to enforce the former.\n\n[1] https://review.opendev.org/#/c/687954/\n\nChange-Id: I71439580e80d33cff62aba807df2b35164a47cbe\n""}, {'number': 9, 'created': '2022-08-01 15:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40e7c1907bf46782b0e7ba0f0534d097bb66d13f', 'message': ""hacking: force explicit import of python's mock\n\nSince we dropped support for python 2 [1], we no longer need to use the\nmock library, which existed to backport py3 functionality into py2.\nChange Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing\nthe stock mock, which must be done by saying::\n\n    from unittest import mock\n\n...because if you say::\n\n    import mock\n\n...you will be using the third party mock library instead, which may or\nmay not be installed.\n\nThis commit adds hacking check N371 to enforce the former.\n\n[1] https://review.opendev.org/#/c/687954/\n\nChange-Id: I71439580e80d33cff62aba807df2b35164a47cbe\n""}, {'number': 10, 'created': '2022-08-01 15:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/948eabd38d0475e53497ca7d6a4cb5c0a5627084', 'message': ""hacking: force explicit import of python's mock\n\nSince we dropped support for python 2 [1], we no longer need to use the\nmock library, which existed to backport py3 functionality into py2.\nChange Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing\nthe stock mock, which must be done by saying::\n\n    from unittest import mock\n\n...because if you say::\n\n    import mock\n\n...you will be using the third party mock library instead, which may or\nmay not be installed.\n\nThis commit adds hacking check N371 to enforce the former.\n\n[1] https://review.opendev.org/#/c/687954/\n\nChange-Id: I71439580e80d33cff62aba807df2b35164a47cbe\n""}, {'number': 11, 'created': '2022-08-02 13:32:09.000000000', 'files': ['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/c36782a96a96ecfc35f8af750c29741c769ed515', 'message': ""hacking: force explicit import of python's mock\n\nSince we dropped support for python 2 [1], we no longer need to use the\nmock library, which existed to backport py3 functionality into py2.\nChange Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing\nthe stock mock, which must be done by saying::\n\n    from unittest import mock\n\n...because if you say::\n\n    import mock\n\n...you will be using the third party mock library instead, which may or\nmay not be installed.\n\nThis commit adds hacking check N371 to enforce the former.\n\n[1] https://review.opendev.org/#/c/687954/\n\nChange-Id: I71439580e80d33cff62aba807df2b35164a47cbe\n""}]",11,708768,c36782a96a96ecfc35f8af750c29741c769ed515,73,12,11,14070,,,0,"hacking: force explicit import of python's mock

Since we dropped support for python 2 [1], we no longer need to use the
mock library, which existed to backport py3 functionality into py2.
Change Ib44b5bff657c8e76c4f701e14d51a4efda3f6d32 cut over to importing
the stock mock, which must be done by saying::

    from unittest import mock

...because if you say::

    import mock

...you will be using the third party mock library instead, which may or
may not be installed.

This commit adds hacking check N371 to enforce the former.

[1] https://review.opendev.org/#/c/687954/

Change-Id: I71439580e80d33cff62aba807df2b35164a47cbe
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/708768/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'tox.ini']",3,4dd5df5c49bdff9767fc4aa682d70e33b429f321,unittest.mock, N366 = checks:import_stock_mock,,41,0
openstack%2Fnova~master~I5540df6c7497956219c06cff6f15b51c2c8bc299,openstack/nova,master,I5540df6c7497956219c06cff6f15b51c2c8bc299,add regression test case for bug 1978983,MERGED,2022-07-08 12:49:53.000000000,2022-08-02 20:26:08.000000000,2022-08-02 20:24:47.000000000,"[{'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-08 12:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a34eb2deee5a028ce9fbac2f982db1f07f12e95c', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n'}, {'number': 2, 'created': '2022-07-08 15:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cc60169f5e6e05e1b282af8f3274c3874701e54', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n'}, {'number': 3, 'created': '2022-07-12 08:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7dceb2487452320bfb9d12a5c90cf69e49c21fb', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n'}, {'number': 4, 'created': '2022-07-12 11:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e880c45308f9a68094b343a68cab51f15b48a084', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n'}, {'number': 5, 'created': '2022-07-12 12:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/199ae7c910a4711eab7f3faee238201d40a80f0b', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n'}, {'number': 6, 'created': '2022-07-20 19:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffff53ad8f59f604fdc4857e5c0f3deebebd440c', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n'}, {'number': 7, 'created': '2022-07-21 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a6547129fe33f1654f274d40a46d28b850da7e9', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n'}, {'number': 8, 'created': '2022-07-25 09:06:05.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1978983.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5904c7f993ac737d68456fc05adf0aaa7a6f3018', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n'}]",41,849104,5904c7f993ac737d68456fc05adf0aaa7a6f3018,63,6,8,34860,,,0,"add regression test case for bug 1978983

This change add a repoducer test for evacuating
a vm in the powering-off state

Related-Bug: #1978983
Change-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/849104/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1978983.py']",2,a34eb2deee5a028ce9fbac2f982db1f07f12e95c,bug/1978983-patch3,"# Copyright 2017 Ericsson # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from asyncio import wait_for from multiprocessing.connection import wait from nova import context from nova import objects from nova import test from nova.tests.functional.api import client from nova.tests import fixtures as nova_fixtures from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers class EvacuateServerWithTaskState( test.TestCase, integrated_helpers.InstanceHelperMixin, ): """"""Regression test for bug 1978983 On instance task state is powering-off or not None if admin set compute service force_down, instance should be allowed to evacuate """""" def setUp(self): super().setUp() # Stub out external dependencies. self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.GlanceFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.HostNameWeigherFixture()) # Start nova controller services. self.start_service('conductor') self.start_service('scheduler') api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.src = self._start_compute(host='host1') self.dest = self._start_compute(host='host2') def test_evacuate_instance(self): """"""Evacuating a server """""" body = {'server': self._build_server()} server = self.api.post_server(body) server = self._wait_for_state_change(server, 'ACTIVE') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) self.api.microversion = 'latest' # stop host1 compute service self.src.stop() # poweroff instance self._stop_server(server, wait_for_stop=False) server = self._wait_for_server_parameter( server, {'OS-EXT-STS:task_state': 'powering-off'}) self.assertEqual('powering-off', server['OS-EXT-STS:task_state']) # FIXME(auniyal): As compute service is down in source node # instance is stuck at powering-off, evacuation fails with # msg: Cannot 'evacuate' instance <instance-id> while it is in # task_state powering-off (HTTP 409) ex = self.assertRaises( client.OpenStackApiException, self._evacuate_server, server, expected_host=self.dest.host) self.assertEqual(409, ex.response.status_code)",,91,2
openstack%2Fneutron~stable%2Fvictoria~If7990bdec435af76ad2e88fd4ea2bc24a255fd5a,openstack/neutron,stable/victoria,If7990bdec435af76ad2e88fd4ea2bc24a255fd5a,Port update will trigger less notifications to the DHCP agents,MERGED,2022-07-29 14:04:53.000000000,2022-08-02 20:26:05.000000000,2022-08-02 20:24:31.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 14:04:53.000000000', 'files': ['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0613b1ab2c50fe9c173e3fd26cf7e9457cd96f10', 'message': ""Port update will trigger less notifications to the DHCP agents\n\nAfter port update, DHCP agent will be notified about changes only if\none of the port's attributes related somehow to the DHCP will change.\nSuch fields are:\n* fixed_ips,\n* MAC address,\n* dns_domain,\n* dns_name,\n* dns_assignment,\n* extra_dhcp_opts.\n\nIn other cases there is no reason to send notifications to the agent.\nThis will results with less notifications to the DHCP agent and less\npossibilities to race condition between DHCP and L2 agents while\nswitching ports from the DOWN to ACTIVE status and sending notifications\nto nova.\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n\nCloses-Bug: #1982367\nChange-Id: If7990bdec435af76ad2e88fd4ea2bc24a255fd5a\n(cherry picked from commit 06ddcaf4368ce054a8d396e70880f7dd1abe0562)\n(cherry picked from commit 14ff8dca34f185eca1ffb50da7e81d7e6eccc3d8)\n""}]",0,851388,0613b1ab2c50fe9c173e3fd26cf7e9457cd96f10,8,3,1,11975,,,0,"Port update will trigger less notifications to the DHCP agents

After port update, DHCP agent will be notified about changes only if
one of the port's attributes related somehow to the DHCP will change.
Such fields are:
* fixed_ips,
* MAC address,
* dns_domain,
* dns_name,
* dns_assignment,
* extra_dhcp_opts.

In other cases there is no reason to send notifications to the agent.
This will results with less notifications to the DHCP agent and less
possibilities to race condition between DHCP and L2 agents while
switching ports from the DOWN to ACTIVE status and sending notifications
to nova.

Conflicts:
    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1982367
Change-Id: If7990bdec435af76ad2e88fd4ea2bc24a255fd5a
(cherry picked from commit 06ddcaf4368ce054a8d396e70880f7dd1abe0562)
(cherry picked from commit 14ff8dca34f185eca1ffb50da7e81d7e6eccc3d8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/851388/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",2,0613b1ab2c50fe9c173e3fd26cf7e9457cd96f10,bug/1982367-stable/wallaby-stable/victoria," def test__notification_is_needed(self): 'revision_number': 1, 'fixed_ips': [{'ip_address': '10.0.0.10', 'subnet_id': 'aaa'}], 'mac_address': 'aa:bb:cc:dd:ee:ff'} self.assertFalse(self.notifier._notification_is_needed(p1, p2)) self.assertFalse(self.notifier._notification_is_needed(p1, p2)) p2.pop('name') p2['mac_address'] = '11:22:33:44:55:66' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2['mac_address'] = p1['mac_address'] p2['fixed_ips'] = [{'ip_address': '10.0.0.11', 'subnet_id': 'aaa'}] self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2['fixed_ips'] = p1['fixed_ips'] p2['extra_dhcp_opts'] = 'some-test-opt' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('extra_dhcp_opts') p2['dns_name'] = 'test-dns-name' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_name') p2['dns_assignment'] = 'test-dns-assignment' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_assignment') p2['dns_domain'] = 'test-dns-domain' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_domain')"," def test__only_status_changed(self): 'revision_number': 1} self.assertTrue(self.notifier._only_status_changed(p1, p2)) self.assertFalse(self.notifier._only_status_changed(p1, p2)) p1['name'] = 'test' self.assertTrue(self.notifier._only_status_changed(p1, p2)) p1['name'] = 'test1' self.assertFalse(self.notifier._only_status_changed(p1, p2))",44,23
openstack%2Fswift~master~I130b44f0f17eddc5e3df4e4be2b886ba009b95b3,openstack/swift,master,I130b44f0f17eddc5e3df4e4be2b886ba009b95b3,Imported Translations from Zanata,MERGED,2022-08-02 04:22:22.000000000,2022-08-02 20:26:02.000000000,2022-08-02 20:24:40.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 04:22:22.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/swift/commit/91cfb0d6d99ca6148495f5966c1b762a1579029b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I130b44f0f17eddc5e3df4e4be2b886ba009b95b3\n'}]",0,851788,91cfb0d6d99ca6148495f5966c1b762a1579029b,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I130b44f0f17eddc5e3df4e4be2b886ba009b95b3
",git fetch https://review.opendev.org/openstack/swift refs/changes/88/851788/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,91cfb0d6d99ca6148495f5966c1b762a1579029b,zanata/translations,"""POT-Creation-Date: 2022-08-01 17:40+0000\n""""PO-Revision-Date: 2022-08-01 10:31+0000\n""""Added a new optional proxy-logging field ``{wire_status_int}`` for the "" ""status code returned to the client. For more information, see `the "" ""documentation <https://docs.openstack.org/swift/latest/logs.html#proxy-"" ""logs>`__."" msgstr """" ""Added a new optional proxy-logging field ``{wire_status_int}`` for the "" ""status code returned to the client. For more information, see `the "" ""documentation <https://docs.openstack.org/swift/latest/logs.html#proxy-"" ""logs>`__."" msgid """"msgid ""Added an option to drop privileges when running the relinker as root."" msgstr ""Added an option to drop privileges when running the relinker as root."" msgid """" ""Added an option to rate-limit how quickly data files are relinked or cleaned "" ""up. This may be used to reduce I/O load during partition power increases, "" ""improving end-user performance."" msgstr """" ""Added an option to rate-limit how quickly data files are relinked or cleaned "" ""up. This may be used to reduce I/O load during partition power increases, "" ""improving end-user performance."" msgid """" ""Added an option to write EC fragments with legacy CRC to ensure a smooth "" ""upgrade from liberasurecode<=1.5.0 to >=1.6.2. For more information, see "" ""`bug 1886088 <https://bugs.launchpad.net/liberasurecode/+bug/1886088>`__."" msgstr """" ""Added an option to write EC fragments with legacy CRC to ensure a smooth "" ""upgrade from liberasurecode<=1.5.0 to >=1.6.2. For more information, see "" ""`bug 1886088 <https://bugs.launchpad.net/liberasurecode/+bug/1886088>`__."" msgid """" ""Added an option, ``ratelimit_as_client_error``, to return 429s for rate-"" ""limited responses. Several clients/SDKs have seem to support retries with "" ""backoffs on 429, and having it as a client error cleans up logging and "" ""metrics. By default, Swift will respond 503, matching AWS documentation."" msgstr """" ""Added an option, ``ratelimit_as_client_error``, to return 429s for rate-"" ""limited responses. Several clients/SDKs have seem to support retries with "" ""backoffs on 429, and having it as a client error cleans up logging and "" ""metrics. By default, Swift will respond 503, matching AWS documentation."" ","""POT-Creation-Date: 2022-07-05 05:36+0000\n""""PO-Revision-Date: 2022-07-02 10:12+0000\n""",45,2
openstack%2Fneutron~stable%2Fwallaby~If7990bdec435af76ad2e88fd4ea2bc24a255fd5a,openstack/neutron,stable/wallaby,If7990bdec435af76ad2e88fd4ea2bc24a255fd5a,Port update will trigger less notifications to the DHCP agents,MERGED,2022-07-29 14:03:56.000000000,2022-08-02 20:25:57.000000000,2022-08-02 20:24:36.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 14:03:56.000000000', 'files': ['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/301c4cdbed8b5f777226f1501618747f790bac23', 'message': ""Port update will trigger less notifications to the DHCP agents\n\nAfter port update, DHCP agent will be notified about changes only if\none of the port's attributes related somehow to the DHCP will change.\nSuch fields are:\n* fixed_ips,\n* MAC address,\n* dns_domain,\n* dns_name,\n* dns_assignment,\n* extra_dhcp_opts.\n\nIn other cases there is no reason to send notifications to the agent.\nThis will results with less notifications to the DHCP agent and less\npossibilities to race condition between DHCP and L2 agents while\nswitching ports from the DOWN to ACTIVE status and sending notifications\nto nova.\n\nConflicts:\n    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n\nCloses-Bug: #1982367\nChange-Id: If7990bdec435af76ad2e88fd4ea2bc24a255fd5a\n(cherry picked from commit 06ddcaf4368ce054a8d396e70880f7dd1abe0562)\n(cherry picked from commit 14ff8dca34f185eca1ffb50da7e81d7e6eccc3d8)\n""}]",1,851523,301c4cdbed8b5f777226f1501618747f790bac23,10,3,1,11975,,,0,"Port update will trigger less notifications to the DHCP agents

After port update, DHCP agent will be notified about changes only if
one of the port's attributes related somehow to the DHCP will change.
Such fields are:
* fixed_ips,
* MAC address,
* dns_domain,
* dns_name,
* dns_assignment,
* extra_dhcp_opts.

In other cases there is no reason to send notifications to the agent.
This will results with less notifications to the DHCP agent and less
possibilities to race condition between DHCP and L2 agents while
switching ports from the DOWN to ACTIVE status and sending notifications
to nova.

Conflicts:
    neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1982367
Change-Id: If7990bdec435af76ad2e88fd4ea2bc24a255fd5a
(cherry picked from commit 06ddcaf4368ce054a8d396e70880f7dd1abe0562)
(cherry picked from commit 14ff8dca34f185eca1ffb50da7e81d7e6eccc3d8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/851523/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",2,301c4cdbed8b5f777226f1501618747f790bac23,bug/1982367-stable/wallaby," def test__notification_is_needed(self): 'revision_number': 1, 'fixed_ips': [{'ip_address': '10.0.0.10', 'subnet_id': 'aaa'}], 'mac_address': 'aa:bb:cc:dd:ee:ff'} self.assertFalse(self.notifier._notification_is_needed(p1, p2)) self.assertFalse(self.notifier._notification_is_needed(p1, p2)) p2.pop('name') p2['mac_address'] = '11:22:33:44:55:66' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2['mac_address'] = p1['mac_address'] p2['fixed_ips'] = [{'ip_address': '10.0.0.11', 'subnet_id': 'aaa'}] self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2['fixed_ips'] = p1['fixed_ips'] p2['extra_dhcp_opts'] = 'some-test-opt' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('extra_dhcp_opts') p2['dns_name'] = 'test-dns-name' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_name') p2['dns_assignment'] = 'test-dns-assignment' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_assignment') p2['dns_domain'] = 'test-dns-domain' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_domain')"," def test__only_status_changed(self): 'revision_number': 1} self.assertTrue(self.notifier._only_status_changed(p1, p2)) self.assertFalse(self.notifier._only_status_changed(p1, p2)) p1['name'] = 'test' self.assertTrue(self.notifier._only_status_changed(p1, p2)) p1['name'] = 'test1' self.assertFalse(self.notifier._only_status_changed(p1, p2))",44,23
openstack%2Fplacement~master~I406afae77def90d6f8b20dc3a72310a81fee7910,openstack/placement,master,I406afae77def90d6f8b20dc3a72310a81fee7910,disable traits count check to allow os-traits 2.8.0,MERGED,2022-08-02 05:07:49.000000000,2022-08-02 20:25:54.000000000,2022-08-02 20:24:43.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 05:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4f44c2cc2b6d105c6064440dd7ce0fe1f24b9681', 'message': 'disable traits count check to allow os-traits 2.8.0\n\nThis is a workaound to unblock the requirements repo.\n\nLonger term, we probably need to work out a way for this test to pass\nwith multiple versions of os-traits.\n\nThis change follows the same format as:\n    I5aed5674975529b32390d3e216423cba8d501bc5 ; and\n    I3685c3caac3be4754d1f9e8479d8a047eaf8f3e8\n\nChange-Id: I406afae77def90d6f8b20dc3a72310a81fee7910\n'}, {'number': 2, 'created': '2022-08-02 07:53:00.000000000', 'files': ['placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/cbd0198b3eda5c01ebea7c1ffbc27b28dbc5404c', 'message': 'disable traits count check to allow os-traits 2.8.0\n\nThis is a workaound to unblock the requirements repo.\n\nLonger term, we probably need to work out a way for this test to pass\nwith multiple versions of os-traits.\n\nThis change follows the same format as:\n    I5aed5674975529b32390d3e216423cba8d501bc5 ; and\n    I3685c3caac3be4754d1f9e8479d8a047eaf8f3e8\n\nChange-Id: I406afae77def90d6f8b20dc3a72310a81fee7910\n'}]",1,851792,cbd0198b3eda5c01ebea7c1ffbc27b28dbc5404c,12,3,2,12898,,,0,"disable traits count check to allow os-traits 2.8.0

This is a workaound to unblock the requirements repo.

Longer term, we probably need to work out a way for this test to pass
with multiple versions of os-traits.

This change follows the same format as:
    I5aed5674975529b32390d3e216423cba8d501bc5 ; and
    I3685c3caac3be4754d1f9e8479d8a047eaf8f3e8

Change-Id: I406afae77def90d6f8b20dc3a72310a81fee7910
",git fetch https://review.opendev.org/openstack/placement refs/changes/92/851792/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/functional/gabbits/traits.yaml'],1,4f44c2cc2b6d105c6064440dd7ce0fe1f24b9681,os-traits-2.8.0,# FIXME(tonyb): commnet out to allow os-traits 2.8.0 # tests: # - name: what is at traits # GET: /traits # response_json_paths: # $.traits.`len`: 335 # Number of standard traits,tests: - name: what is at traits GET: /traits response_json_paths: $.traits.`len`: 335 # Number of standard traits,6,5
openstack%2Fnova~master~I3998d0d49583806ac1c3ae64f1b1fe343cefd20d,openstack/nova,master,I3998d0d49583806ac1c3ae64f1b1fe343cefd20d,Remove double mocking,MERGED,2022-07-28 17:53:21.000000000,2022-08-02 20:24:55.000000000,2022-08-02 20:24:55.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 17:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/528e813eb4cbf09fbde9ed094dbe21a9aa350543', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n'}, {'number': 2, 'created': '2022-08-01 14:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1e4c849d5bb430d67135780ba5ff6dd60ddf84e', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n'}, {'number': 3, 'created': '2022-08-01 15:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33a3cca7f4f1ae9318865ef2bd1749e10786984a', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n'}, {'number': 4, 'created': '2022-08-01 15:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4508609e84ad5645c3d84fb809b358ff6764168b', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n'}, {'number': 5, 'created': '2022-08-02 13:32:09.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/unit/virt/libvirt/volume/test_lightos.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/test.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/test_test.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/tests/functional/libvirt/test_vtpm.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f8cf050a1380ae844e0184ed45f4a04fde3b07a9', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n'}]",12,851445,f8cf050a1380ae844e0184ed45f4a04fde3b07a9,34,5,5,9708,,,0,"Remove double mocking

In py310 unittest.mock does not allow to mock the same function twice as
the second mocking will fail to autospec the Mock object created by the
first mocking.

This patch manually fixes the double mocking.

Fixed cases:
1) one of the mock was totally unnecessary so it was removed
2) the second mock specialized the behavior of the first generic mock.
   In this case the second mock is replaced with the configuration of
   the first mock
3) a test case with two test steps mocked the same function for each
   step with overlapping mocks. Here the overlap was removed to have
   the two mock exists independently

The get_connection injection in the libvirt functional test needed a
further tweak (yeah I know it has many already) to act like a single
mock (basically case #2) instead of a temporary re-mocking. Still the
globalness of the get_connection mocking warrant the special set / reset
logic there.

Change-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/851445/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/test.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,528e813eb4cbf09fbde9ed094dbe21a9aa350543,unittest.mock," @test.patch_exists(SEV_KERNEL_PARAM_FILE, result=False, other=True) def test_get_guest_config_with_rng_backend(self): @test.patch_exists(SEV_KERNEL_PARAM_FILE, result=False, other=True) def test_get_guest_config_aarch64(self, mock_numa, mock_storage): @test.patch_exists(SEV_KERNEL_PARAM_FILE, result=False, other=True) self, mock_numa, mock_storage, mock_check, mock_shared_block, mock_disk_check): def test_create_image_resize_snap_backend(self): def test_migrate_disk_and_power_off_resize_error_eph(self, mock_get): def test_get_gpu_inventories_with_two_types(self): mock_convert_image):"," @mock.patch('nova.virt.libvirt.driver.os.path.exists') @test.patch_exists(SEV_KERNEL_PARAM_FILE, False) def test_get_guest_config_with_rng_backend(self, mock_path): mock_path.return_value = True @mock.patch('os.path.exists', return_value=True) @test.patch_exists(SEV_KERNEL_PARAM_FILE, False) def test_get_guest_config_aarch64( self, mock_path_exists, mock_numa, mock_storage, ): self.assertTrue(mock_path_exists.called) @mock.patch('os.path.exists', return_value=True) @test.patch_exists(SEV_KERNEL_PARAM_FILE, False) self, mock_path_exists, mock_numa, mock_storage, self.assertTrue(mock_path_exists.called) '_assert_dest_node_has_enough_disk') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' mock_check, mock_shared_block, mock_enough, mock_disk_check): @mock.patch.object(nova.virt.libvirt.imagebackend.Image, 'cache') def test_create_image_resize_snap_backend(self, mock_cache): @mock.patch('nova.virt.libvirt.driver.LibvirtDriver' '._get_instance_disk_info') def test_migrate_disk_and_power_off_resize_error_eph(self, mock_get, mock_get_disk_info): mock_get_disk_info.return_value = fake_disk_info_json(instance) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver' '._get_mdev_capable_devices') def test_get_gpu_inventories_with_two_types(self, get_mdev_capable_devs): @mock.patch('nova.virt.libvirt.utils.file_open', side_effect=[io.BytesIO(b''), io.BytesIO(b'')]) mock_convert_image, mock_file_open):",194,234
openstack%2Fnova~master~Iee9c027aa4d99e6ded68488f2722b259c02aabee,openstack/nova,master,Iee9c027aa4d99e6ded68488f2722b259c02aabee,Add support for sync writes with block migration,NEW,2022-08-02 14:39:58.000000000,2022-08-02 20:22:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-02 14:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4963e7a4c97faad47946affcfda9ff488684b148', 'message': ""Add support for sync writes with block migration\n\nNew configuration option [libvirt]/live_migration_permit_sync_writes\nis introduced to enable synchronous writes during block migrations,\nenabling this option will instruct hypervisors to synchronize local\nI/O writes with the writes to remote storage used for migration so\nthat the guest can't overwhelm the migration.\n\nImplements: migrate-non-shared-sync-writes\nChange-Id: Iee9c027aa4d99e6ded68488f2722b259c02aabee\n""}, {'number': 2, 'created': '2022-08-02 17:42:43.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bp-migrate-non-shared-sync-writes-4594f3543f03be04.yaml', 'nova/conf/libvirt.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d79667a0adc0442a1eb77936e72749156d1d36d5', 'message': ""Add support for sync writes with block migration\n\nNew configuration option [libvirt]/live_migration_permit_sync_writes\nis introduced to enable synchronous writes during block migrations,\nenabling this option will instruct hypervisors to synchronize local\nI/O writes with the writes to remote storage used for migration so\nthat the guest can't overwhelm the migration.\n\nImplements: migrate-non-shared-sync-writes\nChange-Id: Iee9c027aa4d99e6ded68488f2722b259c02aabee\n""}]",0,851892,d79667a0adc0442a1eb77936e72749156d1d36d5,12,1,2,30609,,,0,"Add support for sync writes with block migration

New configuration option [libvirt]/live_migration_permit_sync_writes
is introduced to enable synchronous writes during block migrations,
enabling this option will instruct hypervisors to synchronize local
I/O writes with the writes to remote storage used for migration so
that the guest can't overwhelm the migration.

Implements: migrate-non-shared-sync-writes
Change-Id: Iee9c027aa4d99e6ded68488f2722b259c02aabee
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/851892/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bp-migrate-non-shared-sync-writes-4594f3543f03be04.yaml', 'nova/conf/libvirt.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,4963e7a4c97faad47946affcfda9ff488684b148,non-shared-sync-writes," def test_live_migration_permit_sync_writes_true(self): self.flags(live_migration_permit_sync_writes=True, group='libvirt') self._do_test_parse_migration_flags( lm_expected=(libvirt_driver.libvirt.VIR_MIGRATE_UNDEFINE_SOURCE | libvirt_driver.libvirt.VIR_MIGRATE_PERSIST_DEST | libvirt_driver.libvirt.VIR_MIGRATE_PEER2PEER | libvirt_driver.libvirt.VIR_MIGRATE_LIVE), bm_expected=( libvirt_driver.libvirt.VIR_MIGRATE_UNDEFINE_SOURCE | libvirt_driver.libvirt.VIR_MIGRATE_PERSIST_DEST | libvirt_driver.libvirt.VIR_MIGRATE_PEER2PEER | libvirt_driver.libvirt.VIR_MIGRATE_LIVE | libvirt_driver.libvirt.VIR_MIGRATE_NON_SHARED_INC | libvirt_driver.libvirt.VIR_MIGRATE_NON_SHARED_SYNCHRONOUS_WRITES )) def test_live_migration_permit_sync_writes_false(self): self.flags(live_migration_permit_sync_writes=False, group='libvirt') self._do_test_parse_migration_flags( lm_expected=(libvirt_driver.libvirt.VIR_MIGRATE_UNDEFINE_SOURCE | libvirt_driver.libvirt.VIR_MIGRATE_PERSIST_DEST | libvirt_driver.libvirt.VIR_MIGRATE_PEER2PEER | libvirt_driver.libvirt.VIR_MIGRATE_LIVE), bm_expected=(libvirt_driver.libvirt.VIR_MIGRATE_UNDEFINE_SOURCE | libvirt_driver.libvirt.VIR_MIGRATE_PERSIST_DEST | libvirt_driver.libvirt.VIR_MIGRATE_PEER2PEER | libvirt_driver.libvirt.VIR_MIGRATE_LIVE | libvirt_driver.libvirt.VIR_MIGRATE_NON_SHARED_INC)) ",,70,0
openstack%2Fproject-config~master~Ifbfdeb4d31d198ce0f551529dd2fb0a1b828f8ce,openstack/project-config,master,Ifbfdeb4d31d198ce0f551529dd2fb0a1b828f8ce,"Revert ""Temporarily turn on console logs for rocky in iweb""",MERGED,2022-07-29 13:59:19.000000000,2022-08-02 20:07:09.000000000,2022-08-02 19:55:52.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 13:59:19.000000000', 'files': ['nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/147ecf5b23b624699f95a610d404b93c2190557f', 'message': 'Revert ""Temporarily turn on console logs for rocky in iweb""\n\nMerge once investigation into rockylinux-8 boot problems has\nconcluded.\n\nThis reverts commit 1a58f0f325958c9525d4e6759118b7021b5b99b2.\n\nChange-Id: Ifbfdeb4d31d198ce0f551529dd2fb0a1b828f8ce\n'}]",0,851520,147ecf5b23b624699f95a610d404b93c2190557f,9,2,1,5263,,,0,"Revert ""Temporarily turn on console logs for rocky in iweb""

Merge once investigation into rockylinux-8 boot problems has
concluded.

This reverts commit 1a58f0f325958c9525d4e6759118b7021b5b99b2.

Change-Id: Ifbfdeb4d31d198ce0f551529dd2fb0a1b828f8ce
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/851520/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.opendev.org.yaml'],1,147ecf5b23b624699f95a610d404b93c2190557f,rockylinux-8,, console-log: true,0,1
openstack%2Fpuppet-tripleo~master~I5719d06464ba2c1d37898b44f70ac5521ceaaf7e,openstack/puppet-tripleo,master,I5719d06464ba2c1d37898b44f70ac5521ceaaf7e,Remove implementations for Docker support,MERGED,2022-05-30 02:58:32.000000000,2022-08-02 20:00:12.000000000,2022-08-02 20:00:12.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-05-30 02:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3726bdfb96d4f7cf83f15cb1e419e0550903b7b8', 'message': 'Remove implementations for Docker support\n\n... because Docker support has been removed from tht and these are no\nlonger used.\n\nDepends-on: https://review.opendev.org/843755\nChange-Id: I5719d06464ba2c1d37898b44f70ac5521ceaaf7e\n'}, {'number': 2, 'created': '2022-05-30 05:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b78af77c9034db88ea9ba917f60bfcb086bad781', 'message': 'Remove implementations for Docker support\n\n... because Docker support has been removed from tht and these are no\nlonger used.\n\nDepends-on: https://review.opendev.org/843755\nChange-Id: I5719d06464ba2c1d37898b44f70ac5521ceaaf7e\n'}, {'number': 3, 'created': '2022-06-20 08:29:18.000000000', 'files': ['templates/neutron/keepalived.epp', 'manifests/profile/pacemaker/haproxy_bundle.pp', 'manifests/profile/base/neutron.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/base/pacemaker.pp', 'templates/neutron/dnsmasq.epp', 'manifests/profile/base/pacemaker_remote.pp', 'manifests/profile/base/neutron/wrappers/radvd.pp', 'templates/neutron/dibbler-client.epp', 'manifests/profile/base/nova/virtlogd_wrapper.pp', 'manifests/profile/base/neutron/wrappers/haproxy.pp', 'manifests/profile/base/nova/wrappers/virtlogd.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_keepalived_state_change_spec.rb', 'manifests/profile/base/neutron/ovn_metadata_agent_wrappers.pp', 'manifests/profile/base/neutron/wrappers/dnsmasq.pp', 'templates/neutron/haproxy.epp', 'manifests/profile/base/neutron/wrappers/keepalived_state_change.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_haproxy_spec.rb', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp', 'manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_keepalived_spec.rb', 'manifests/profile/base/neutron/wrappers/keepalived.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_dibbler_client_spec.rb', 'manifests/profile/base/neutron/dhcp_agent_wrappers.pp', 'templates/neutron/neutron-keepalived-state-change.epp', 'spec/defines/tripleo_profile_base_neutron_wrappers_dnsmasq_spec.rb', 'manifests/profile/base/neutron/l3_agent_wrappers.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_radvd_spec.rb', 'lib/facter/docker_group_gid.rb', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'templates/neutron/radvd.epp', 'manifests/profile/base/neutron/wrappers/dibbler_client.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ef041632ea2e4ce9241460bce95ef4a90c8f65bc', 'message': 'Remove implementations for Docker support\n\n... because Docker support has been removed from tht and these are no\nlonger used.\n\nDepends-on: https://review.opendev.org/843755\nChange-Id: I5719d06464ba2c1d37898b44f70ac5521ceaaf7e\n'}]",12,843756,ef041632ea2e4ce9241460bce95ef4a90c8f65bc,24,8,3,9816,,,0,"Remove implementations for Docker support

... because Docker support has been removed from tht and these are no
longer used.

Depends-on: https://review.opendev.org/843755
Change-Id: I5719d06464ba2c1d37898b44f70ac5521ceaaf7e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/56/843756/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron/keepalived.epp', 'manifests/profile/pacemaker/haproxy_bundle.pp', 'manifests/profile/base/neutron.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/base/pacemaker.pp', 'templates/neutron/dnsmasq.epp', 'manifests/profile/base/pacemaker_remote.pp', 'manifests/profile/base/neutron/wrappers/radvd.pp', 'templates/neutron/dibbler-client.epp', 'manifests/profile/base/nova/virtlogd_wrapper.pp', 'manifests/profile/base/neutron/wrappers/haproxy.pp', 'manifests/profile/base/nova/wrappers/virtlogd.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_keepalived_state_change_spec.rb', 'manifests/profile/base/neutron/ovn_metadata_agent_wrappers.pp', 'manifests/profile/base/neutron/wrappers/dnsmasq.pp', 'templates/neutron/haproxy.epp', 'manifests/profile/base/neutron/wrappers/keepalived_state_change.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_haproxy_spec.rb', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp', 'manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_keepalived_spec.rb', 'manifests/profile/base/neutron/wrappers/keepalived.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_dibbler_client_spec.rb', 'manifests/profile/base/neutron/dhcp_agent_wrappers.pp', 'templates/neutron/neutron-keepalived-state-change.epp', 'spec/defines/tripleo_profile_base_neutron_wrappers_dnsmasq_spec.rb', 'manifests/profile/base/neutron/l3_agent_wrappers.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_radvd_spec.rb', 'lib/facter/docker_group_gid.rb', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'templates/neutron/radvd.epp', 'manifests/profile/base/neutron/wrappers/dibbler_client.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp']",35,3726bdfb96d4f7cf83f15cb1e419e0550903b7b8,remove-docker,"# Defaults to 'podman'# (optional) Container log driver to use. # Defaults to 'k8s-file' $container_backend = 'podman', $log_driver = 'k8s-file', if $log_driver == 'k8s-file' { options => ""--ipc=host --privileged=true --user=${bundle_user} --log-driver=${log_driver}${log_file_real} ${docker_env}${tls_priorities_real}"",","# Defaults to 'docker'# (optional) Container log driver to use. When set to undef it uses 'k8s-file' # when container_cli is set to podman and 'journald' when it is set to docker. # Defaults to undef $container_backend = 'docker', $log_driver = undef, if $log_driver == undef { if hiera('container_cli', 'docker') == 'podman' { $log_driver_real = 'k8s-file' } else { $log_driver_real = 'journald' } } else { $log_driver_real = $log_driver } if $log_driver_real == 'k8s-file' { options => ""--ipc=host --privileged=true --user=${bundle_user} --log-driver=${log_driver_real}${log_file_real} ${docker_env}${tls_priorities_real}"",",102,560
openstack%2Fkayobe~master~Ib1a41a2e679e5559389a4cfee7e0938c66c1a907,openstack/kayobe,master,Ib1a41a2e679e5559389a4cfee7e0938c66c1a907,DNM: Test MariaDB upgrade in seed upgrade,ABANDONED,2022-08-02 15:53:50.000000000,2022-08-02 19:02:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-02 15:53:50.000000000', 'files': ['ansible/seed-service-upgrade-prep.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f6f0171ce839975e3f6af6bb1b7ea567a70bf28f', 'message': 'DNM: Test MariaDB upgrade in seed upgrade\n\nChange-Id: Ib1a41a2e679e5559389a4cfee7e0938c66c1a907\n'}]",0,851905,f6f0171ce839975e3f6af6bb1b7ea567a70bf28f,3,1,1,14826,,,0,"DNM: Test MariaDB upgrade in seed upgrade

Change-Id: Ib1a41a2e679e5559389a4cfee7e0938c66c1a907
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/05/851905/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/seed-service-upgrade-prep.yml', 'zuul.d/project.yaml']",2,f6f0171ce839975e3f6af6bb1b7ea567a70bf28f,,, templates: - openstack-cover-jobs - openstack-python3-zed-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - kayobe-tox-ansible-syntax - kayobe-tox-ansible - kayobe-tox-molecule - kayobe-overcloud-centos8s - kayobe-overcloud-rocky8 - kayobe-overcloud-ubuntu-focal - kayobe-overcloud-tls-centos8s - kayobe-overcloud-host-configure-centos8s - kayobe-overcloud-host-configure-rocky8 - kayobe-overcloud-host-configure-ubuntu-focal - kayobe-overcloud-upgrade-centos8s - kayobe-overcloud-upgrade-ubuntu-focal - kayobe-seed-centos8s - kayobe-seed-rocky8 - kayobe-seed-ubuntu-focal - kayobe-seed-images-centos8s - kayobe-seed-vm-centos8s - kayobe-seed-vm-rocky8 - kayobe-seed-vm-ubuntu-focal - kayobe-infra-vm-centos8s - kayobe-infra-vm-rocky8 - kayobe-infra-vm-ubuntu-focal,8,27
openstack%2Fcharm-guide~master~I751f0406085b0df5f0cfe0e0deec53cdc89b4281,openstack/charm-guide,master,I751f0406085b0df5f0cfe0e0deec53cdc89b4281,remove unicode literal from code,MERGED,2022-07-28 01:06:24.000000000,2022-08-02 18:53:54.000000000,2022-08-02 18:52:46.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-07-28 01:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/157f6b68b62e700f1328547d7115b556183e766c', 'message': 'remove unicode from code\n\nChange-Id: I751f0406085b0df5f0cfe0e0deec53cdc89b4281\n'}, {'number': 2, 'created': '2022-07-30 06:45:29.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/0b8487446dd6b329c4b66ce23ebb3ef72a154fd4', 'message': 'remove unicode literal from code\n\nChange-Id: I751f0406085b0df5f0cfe0e0deec53cdc89b4281\n'}]",0,851189,0b8487446dd6b329c4b66ce23ebb3ef72a154fd4,9,2,2,35058,,,0,"remove unicode literal from code

Change-Id: I751f0406085b0df5f0cfe0e0deec53cdc89b4281
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/89/851189/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,157f6b68b62e700f1328547d7115b556183e766c,,"copyright = '2016, OpenStack contributors' ('index', 'CharmGuide.tex', 'Charm Guide', 'OpenStack contributors', 'manual'),","copyright = u'2016, OpenStack contributors' ('index', 'CharmGuide.tex', u'Charm Guide', u'OpenStack contributors', 'manual'),",3,3
openstack%2Fcinder~master~I7b25597be4cf262a4fa236c72563f980a1ea37ae,openstack/cinder,master,I7b25597be4cf262a4fa236c72563f980a1ea37ae,Imported Translations from Zanata,MERGED,2022-06-21 02:19:44.000000000,2022-08-02 18:37:04.000000000,2022-07-21 12:51:26.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-21 02:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9fafbdb6fcbf4308e33d3ccdbdc7ca6ca4ea08e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae\n'}, {'number': 2, 'created': '2022-06-22 02:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2502215208f370f897a7a837a3464020cf046c5f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae\n'}, {'number': 3, 'created': '2022-06-24 02:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/816143fa45f657d3010bdbe33df0929b3c91ed87', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae\n'}, {'number': 4, 'created': '2022-06-26 02:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2844e971e0cd7f0245ab67c5348ce95b5e8e7f26', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae\n'}, {'number': 5, 'created': '2022-06-28 02:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87e6b5e7b39d4ca61a0863f5db15274f735ef78c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae\n'}, {'number': 6, 'created': '2022-06-29 02:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8562a22296db24835af3931d62d22506eca16c75', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae\n'}, {'number': 7, 'created': '2022-06-30 02:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9369d6ce03abd77b548d6554443d3f547020f514', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae\n'}, {'number': 8, 'created': '2022-07-01 02:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10c42a16ab5a6a25bcd2dae17dcf7deafddd6bf8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae\n'}, {'number': 9, 'created': '2022-07-02 02:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea99473c0388d17d78dcc15f83e305123c472c0c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae\n'}, {'number': 10, 'created': '2022-07-05 02:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1328dcdea0c150d671a8ff30ca8baf561ea4f59a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae\n'}, {'number': 11, 'created': '2022-07-07 02:34:28.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7bd5f899ffbefe5e73d0c910afcc791240d9e918', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae\n'}]",0,846842,7bd5f899ffbefe5e73d0c910afcc791240d9e918,190,2,11,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7b25597be4cf262a4fa236c72563f980a1ea37ae
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/846842/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,d9fafbdb6fcbf4308e33d3ccdbdc7ca6ca4ea08e,zanata/translations,"""POT-Creation-Date: 2022-05-28 17:02+0000\n""""PO-Revision-Date: 2022-06-20 10:56+0000\n""msgid ""18.2.0-2"" msgstr ""18.2.0-2"" msgid ""19.1.0-7"" msgstr ""19.1.0-7"" msgid ""20.0.0-6"" msgstr ""20.0.0-6"" msgid ""20.0.0.0rc1-120"" msgstr ""20.0.0.0rc1-120"" ""A new API microversion V3.67 is introduced to inform clients when inclusion "" ""of a project_id in API URLs is optional. The V3.67 microversion is only used "" ""as an indicator that the API accepts a URL without a project_id, and this "" ""applies to all requests regardless of the microversion in the request. For "" ""example, an API node serving V3.67 or greater will accept a URL without a "" ""project_id even if the request asks for V3.0. Likewise, it will accept a URL "" ""containing a project_id even if the request asks for V3.67."" msgstr """" ""A new API microversion V3.67 is introduced to inform clients when inclusion "" ""of a project_id in API URLs is optional. The V3.67 microversion is only used "" ""as an indicator that the API accepts a URL without a project_id, and this "" ""applies to all requests regardless of the microversion in the request. For "" ""example, an API node serving V3.67 or greater will accept a URL without a "" ""project_id even if the request asks for V3.0. Likewise, it will accept a URL "" ""containing a project_id even if the request asks for V3.67."" msgid """"""A new policy was introduced as part of the feature described in the `User "" ""visible extra specs <https://docs.openstack.org/cinder/xena/admin/"" ""blockstorage-user-visible-extra-specs.html>`_ section of the `Cinder "" ""Administration Guide`:"" msgstr """" ""A new policy was introduced as part of the feature described in the `User "" ""visible extra specs <https://docs.openstack.org/cinder/xena/admin/"" ""blockstorage-user-visible-extra-specs.html>`_ section of the `Cinder "" ""Administration Guide`:"" msgid """" ""A new policy was introduced to govern an operation previously controlled by "" ""a policy that is not being removed, but whose other governed actions are "" ""conceptually different:"" msgstr """" ""A new policy was introduced to govern an operation previously controlled by "" ""a policy that is not being removed, but whose other governed actions are "" ""conceptually different:"" msgid """"""A similar situation can arise when a user creates a volume of an encrypted "" ""volume type from an image in Glance. If the image happens to be sized very "" ""close to the gibibyte boundary given by the requested volume size, the "" ""operation may fail if the image data plus the encryption metadata exceeds "" ""the requested volume size."" msgstr """" ""A similar situation can arise when a user creates a volume of an encrypted "" ""volume type from an image in Glance. If the image happens to be sized very "" ""close to the gibibyte boundary given by the requested volume size, the "" ""operation may fail if the image data plus the encryption metadata exceeds "" ""the requested volume size."" msgid """" ""A small list of volume type extra specs are now visible to regular users, "" ""and not just to cloud administrators. Cloud administrators that wish to opt "" ""out of this feature should consult the \""Security considerations\"" portion "" ""of the \""User visible extra specs\"" section in the Cinder Administration "" ""guide."" msgstr """" ""A small list of volume type extra specs are now visible to regular users, "" ""and not just to cloud administrators. Cloud administrators that wish to opt "" ""out of this feature should consult the \""Security considerations\"" portion "" ""of the \""User visible extra specs\"" section in the Cinder Administration "" ""guide."" msgid """" ""A small list of volume type extra specs are now visible to regular users, "" ""and not just to cloud administrators. This allows users to see non-senstive "" ""extra specs, which may help them choose a particular volume type when "" ""creating volumes. Sensitive extra specs are still only visible to cloud "" ""administrators. See the \""User visible extra specs\"" section in the Cinder "" ""Administration guide for more information."" msgstr """" ""A small list of volume type extra specs are now visible to regular users, "" ""and not just to cloud administrators. This allows users to see non-sensitive "" ""extra specs, which may help them choose a particular volume type when "" ""creating volumes. Sensitive extra specs are still only visible to cloud "" ""administrators. See the \""User visible extra specs\"" section in the Cinder "" ""Administration guide for more information."" msgid """" ""A volume in ``available`` or ``error`` status can be re-imaged directly. To "" ""re-image a volume in ``reserved`` status, you must include the "" ""``reimage_reserved`` parameter set to ``true``. When reimaging a volume, the "" ""volume state will be changed to ``downloading`` first."" msgstr """" ""A volume in ``available`` or ``error`` status can be re-imaged directly. To "" ""re-image a volume in ``reserved`` status, you must include the "" ""``reimage_reserved`` parameter set to ``true``. When reimaging a volume, the "" ""volume state will be changed to ``downloading`` first."" msgid """"msgid """" ""Add microversion 3.68 to support the ability to re-image a volume with a "" ""specific image. Specify the ``os-reimage`` action in the request body."" msgstr """" ""Add microversion 3.68 to support the ability to re-image a volume with a "" ""specific image. Specify the ``os-reimage`` action in the request body."" msgid ""Added backend FC and iSCSI drivers for NEC V series Storage."" msgstr ""Added backend FC and iSCSI drivers for NEC V series Storage."" ""Added user messages for backup operations that a user can query through the "" ""`Messages API <https://docs.openstack.org/api-ref/block-storage/v3/#messages-"" ""messages>`_. These allow users to retrieve error messages for asynchronous "" ""failures in backup operations like create, delete, and restore."" msgstr """" ""Added user messages for backup operations that a user can query through the "" ""`Messages API <https://docs.openstack.org/api-ref/block-storage/v3/#messages-"" ""messages>`_. These allow users to retrieve error messages for asynchronous "" ""failures in backup operations like create, delete, and restore."" msgid """"msgid """" ""Additionally, ``consumes_quota`` can be used as a listing filter for volumes "" ""and snapshots. Its availability is controlled by its inclusion in ``etc/"" ""cinder/resource_filters.json``, where it is included by default. The "" ""default listing behavior is not to use this filter."" msgstr """" ""Additionally, ``consumes_quota`` can be used as a listing filter for volumes "" ""and snapshots. Its availability is controlled by its inclusion in ``etc/"" ""cinder/resource_filters.json``, where it is included by default. The "" ""default listing behaviour is not to use this filter."" ""Although the encryption metadata consumes less than 1% of the volume, "" ""suppose that a user wants to retype a volume of a non-encrypted type to an "" ""encrypted type of the same size. If the non-encrypted volume is \""full\"", "" ""we are in the position of trying to fit 101% of its capacity into the "" ""encrypted volume, which is not possible under the current laws of physics, "" ""and the retype should fail (see `Known Issues <https://docs.openstack.org/"" ""cinder/wallaby/configuration/block-storage/volume-encryption.html>`_ for "" ""volume encryption in the cinder documentation)."" msgstr """" ""Although the encryption metadata consumes less than 1% of the volume, "" ""suppose that a user wants to retype a volume of a non-encrypted type to an "" ""encrypted type of the same size. If the non-encrypted volume is \""full\"", "" ""we are in the position of trying to fit 101% of its capacity into the "" ""encrypted volume, which is not possible under the current laws of physics, "" ""and the retype should fail (see `Known Issues <https://docs.openstack.org/"" ""cinder/wallaby/configuration/block-storage/volume-encryption.html>`_ for "" ""volume encryption in the cinder documentation)."" msgid """"""As of API version 3.66, volume snapshots of in-use volumes can be created "" ""without passing the 'force' flag, and the 'force' flag is considered invalid "" ""for this request. For backward compatability, however, when the 'force' "" ""flag is passed with a value evaluating to True, it is silently ignored."" msgstr """" ""As of API version 3.66, volume snapshots of in-use volumes can be created "" ""without passing the 'force' flag, and the 'force' flag is considered invalid "" ""for this request. For backward compatibility, however, when the 'force' "" ""flag is passed with a value evaluating to True, it is silently ignored."" msgid """"""Cinder and Nova use the os-brick library to facilitate connections to "" ""volumes. The ``nvmeof`` os-brick connector has been refactored over the "" ""past few development cycles. In between the time of the Yoga os-brick "" ""release (os-brick 5.2.0) and this cinder release, several bugs were "" ""discovered in this connector. You can find these in the bug tracker with "" ""this query:"" msgstr """" ""Cinder and Nova use the os-brick library to facilitate connections to "" ""volumes. The ``nvmeof`` os-brick connector has been refactored over the "" ""past few development cycles. In between the time of the Yoga os-brick "" ""release (os-brick 5.2.0) and this cinder release, several bugs were "" ""discovered in this connector. You can find these in the bug tracker with "" ""this query:"" msgid """"msgid """" ""Creating a volume of an encrypted volume type from an image in the Image "" ""service (Glance) using the generic NFS driver results in an unusable "" ""volume. The cinder team is working on a solution which is expected to be "" ""backported to a future release in the Xena series. The issue is being "" ""tracked as `Bug #1888680 <https://bugs.launchpad.net/cinder/+bug/1888680>`_."" msgstr """" ""Creating a volume of an encrypted volume type from an image in the Image "" ""service (Glance) using the generic NFS driver results in an unusable "" ""volume. The Cinder team is working on a solution which is expected to be "" ""backported to a future release in the Xena series. The issue is being "" ""tracked as `Bug #1888680 <https://bugs.launchpad.net/cinder/+bug/1888680>`_."" ""`Bug #1898075 <https://bugs.launchpad.net/cinder/+bug/1898075>`_: When "" ""Glance added support for multiple cinder stores, Images API version 2.11 "" ""modified the format of the image location URI, which Cinder reads in order "" ""to try to use an optimized data path when creating a volume from an image. "" ""Unfortunately, Cinder did not understand the new format and when Glance "" ""multiple cinder stores were used, Cinder could not use the optimized data "" ""path, and instead downloaded image data from the Image service. Cinder now "" ""supports Images API version 2.11."" msgstr """" ""`Bug #1898075 <https://bugs.launchpad.net/cinder/+bug/1898075>`_: When "" ""Glance added support for multiple Cinder stores, Images API version 2.11 "" ""modified the format of the image location URI, which Cinder reads in order "" ""to try to use an optimised data path when creating a volume from an image. "" ""Unfortunately, Cinder did not understand the new format and when Glance "" ""multiple Cinder stores were used, Cinder could not use the optimised data "" ""path, and instead downloaded image data from the Image service. Cinder now "" ""supports Images API version 2.11."" msgid """"""`Bug #1901188 <https://bugs.launchpad.net/cinder/+bug/1901188>`_: Fix "" ""unnecessary migration on retype when QoS has the same elements in both types."" msgstr """" ""`Bug #1901188 <https://bugs.launchpad.net/cinder/+bug/1901188>`_: Fix "" ""unnecessary migration on retype when QoS has the same elements in both types."" msgid """"""`Bug #1950474 <https://bugs.launchpad.net/cinder/+bug/1950474>`_: Fixed "" ""policy authorization for transfer accept API. Previously, if an operator had "" ""overridden the default transfer accept policy to something project specific "" ""in policy.yaml file, it would break the transfer accept API which is fixed "" ""in this release."" msgstr """" ""`Bug #1950474 <https://bugs.launchpad.net/cinder/+bug/1950474>`_: Fixed "" ""policy authorization for transfer accept API. Previously, if an operator had "" ""overridden the default transfer accept policy to something project specific "" ""in policy.yaml file, it would break the transfer accept API which is fixed "" ""in this release."" msgid """" ""`Bug #1950474 <https://bugs.launchpad.net/cinder/+bug/1950474>`_: Fixed "" ""policy authorization for transfer accept API. Previously, setting "" ""``enforce_new_defaults=True`` in oslo_policy section would break the "" ""transfer accept API which is fixed in this release."" msgstr """" ""`Bug #1950474 <https://bugs.launchpad.net/cinder/+bug/1950474>`_: Fixed "" ""policy authorization for transfer accept API. Previously, setting "" ""``enforce_new_defaults=True`` in oslo_policy section would break the "" ""transfer accept API which is fixed in this release."" msgid """" ""`Bug #1953168 <https://bugs.launchpad.net/cinder/+bug/1953168>`_: Fixed "" ""missing parameter in the capacity filter log message."" msgstr """" ""`Bug #1953168 <https://bugs.launchpad.net/cinder/+bug/1953168>`_: Fixed "" ""missing parameter in the capacity filter log message."" msgid """" ""`Bug #1960019 <https://bugs.launchpad.net/cinder/+bug/1960019>`_: Fixed "" ""value of the x-openstack-request-id header when Cinder is using noauth."" msgstr """" ""`Bug #1960019 <https://bugs.launchpad.net/cinder/+bug/1960019>`_: Fixed "" ""value of the x-openstack-request-id header when Cinder is using noauth."" msgid """" ""`Bug #1960020 <https://bugs.launchpad.net/cinder/+bug/1960020>`_: Fixed "" ""duplicated request-id values in logs for different requests, happens only on "" ""request to / to get available api versions."" msgstr """" ""`Bug #1960020 <https://bugs.launchpad.net/cinder/+bug/1960020>`_: Fixed "" ""duplicated request-id values in logs for different requests, happens only on "" ""request to / to get available API versions."" msgid """" ""`Bug #1960329 <https://bugs.launchpad.net/cinder/+bug/1960329>`_: Fixed "" ""wrong request ID on middleware filters."" msgstr """" ""`Bug #1960329 <https://bugs.launchpad.net/cinder/+bug/1960329>`_: Fixed "" ""wrong request ID on middleware filters."" msgid """" ""`Bug #1965847 <https://bugs.launchpad.net/cinder/+bug/1965847>`_: Fixed "" ""issue where importing a backup record for a backup_id that currently existed "" ""had the unfortunate side effect of deleting the existing backup record."" msgstr """" ""`Bug #1965847 <https://bugs.launchpad.net/cinder/+bug/1965847>`_: Fixed "" ""issue where importing a backup record for a backup_id that currently existed "" ""had the unfortunate side effect of deleting the existing backup record."" msgid """" ""`Bug #1966103 <https://bugs.launchpad.net/cinder/+bug/1966103>`_: Fixed "" ""inconsistent behavior of ``storage_protocol`` among different backends that "" ""report variants of the protocol name, such as FC, fc, fibre_channel."" msgstr """" ""`Bug #1966103 <https://bugs.launchpad.net/cinder/+bug/1966103>`_: Fixed "" ""inconsistent behaviour of ``storage_protocol`` among different backends that "" ""report variants of the protocol name, such as FC, fc, fibre_channel."" msgid """" ""`Bug #1968170 <https://bugs.launchpad.net/cinder/+bug/1968170>`_: Fixed the "" ""message created when nova fails to reimage the volume."" msgstr """" ""`Bug #1968170 <https://bugs.launchpad.net/cinder/+bug/1968170>`_: Fixed the "" ""message created when Nova fails to reimage the volume."" msgid """" ""`Bug #1969366 <https://bugs.launchpad.net/cinder/+bug/1969366>`_: Fixed "" ""reporting of cacheable capability by drivers."" msgstr """" ""`Bug #1969366 <https://bugs.launchpad.net/cinder/+bug/1969366>`_: Fixed "" ""reporting of cacheable capability by drivers."" msgid """" ""`Bug #1970768 <https://bugs.launchpad.net/cinder/+bug/1970768>`_: Fixed "" ""status of temporary volumes when creating backups and reverting to a "" ""snapshot, preventing accidental manual deletion of those resources."" msgstr """" ""`Bug #1970768 <https://bugs.launchpad.net/cinder/+bug/1970768>`_: Fixed "" ""status of temporary volumes when creating backups and reverting to a "" ""snapshot, preventing accidental manual deletion of those resources."" msgid """"","""POT-Creation-Date: 2022-05-27 18:50+0000\n""""PO-Revision-Date: 2022-05-25 08:41+0000\n""",314,2
openstack%2Ftripleo-common~master~I80a8557cd22deedab1c4aaa440120e8a9dc232ac,openstack/tripleo-common,master,I80a8557cd22deedab1c4aaa440120e8a9dc232ac,DNM: removing rm - rf to debug common failure,NEW,2022-08-02 15:28:13.000000000,2022-08-02 18:27:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-02 15:28:13.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/476634e7e73bca817a1378c19d27378ad840f3a7', 'message': 'DNM: removing rm - rf to debug common failure\n\nChange-Id: I80a8557cd22deedab1c4aaa440120e8a9dc232ac\n'}]",0,851901,476634e7e73bca817a1378c19d27378ad840f3a7,3,2,1,32458,,,0,"DNM: removing rm - rf to debug common failure

Change-Id: I80a8557cd22deedab1c4aaa440120e8a9dc232ac
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/851901/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,476634e7e73bca817a1378c19d27378ad840f3a7,,"- run: if [ -f ""/etc/yum.repos.d/ubi.repo"" ]; then rm -f /etc/yum.repos.d/ubi.repo && dnf clean all; fi","- run: if [ -f ""/etc/yum.repos.d/ubi.repo"" ]; then rm -f /etc/yum.repos.d/ubi.repo && dnf clean all && rm -rf /var/cache/dnf; fi",1,1
openstack%2Fansible-collections-openstack~master~I2b07b58c8b068d7f18db9862fcecb4088328ac74,openstack/ansible-collections-openstack,master,I2b07b58c8b068d7f18db9862fcecb4088328ac74,Update baremetal_inspect to be compatible with new sdk,MERGED,2022-05-25 18:48:07.000000000,2022-08-02 17:58:39.000000000,2022-08-02 17:58:39.000000000,"[{'_account_id': 8367}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-25 18:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1a16cebfef8d77781fe060be1252cd16083bf40b', 'message': 'Update baremetal_inspect to be compatible with new sdk\n\n- Updates module to be based off OpenstackModule\n- Uses proxy layer where possible\n- Make sure value returned is a dict\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n'}, {'number': 2, 'created': '2022-05-25 19:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7e11cbcfda8c055da21b750d5a56b6bb2d3afb63', 'message': 'Update baremetal_inspect to be compatible with new sdk\n\n- Updates module to be based off OpenstackModule\n- Uses proxy layer where possible\n- Make sure value returned is a dict\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n'}, {'number': 3, 'created': '2022-05-25 19:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f3bb70400c6ed20bb4409b7b356aaab9463c99f0', 'message': 'Update baremetal_inspect to be compatible with new sdk\n\n- Updates module to be based off OpenstackModule\n- Uses proxy layer where possible\n- Make sure value returned is a dict\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n'}, {'number': 4, 'created': '2022-05-26 04:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/96bc2b0532e23b1c6bd2a457c3e6f5cebcc76ae1', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\n- Updates module to be based off OpenstackModule\n- Uses proxy layer where possible\n- Make sure value returned is a dict\n- Adds a simple role to run the module\n\nThe test role can't be in run-collection.yml as of now as we don't have\nthe ironic-inspector plugin in our devstack jobs.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 5, 'created': '2022-05-26 05:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/64bc99be2dbc1c20eb750442c43787b2d0456e41', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\n- Updates module to be based off OpenstackModule\n- Uses proxy layer where possible\n- Make sure value returned is a dict\n- Adds a simple role to run the module\n\nThe test role can't be in run-collection.yml as of now as we don't have\nthe ironic-inspector plugin in our devstack jobs.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 6, 'created': '2022-07-15 18:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ccd9ae7401d850499993d7cb933ba59f1aab0e4f', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\n- Updates module to be based off OpenstackModule\n- Uses proxy layer where possible\n- Make sure value returned is a dict\n- Adds a simple role to run the module\n- Remove ironic_url param\n\nThe test role can't be in run-collection.yml as of now as we don't have\nthe ironic-inspector plugin in our devstack jobs.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 7, 'created': '2022-07-15 20:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/26d0dd01cc276668447bff2d9292d69e7160c312', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\n- Updates module to be based off OpenstackModule\n- Uses proxy layer where possible\n- Make sure value returned is a dict\n- Adds a simple role to run the module\n- Remove ironic_url param\n\nThe test role can't be in run-collection.yml as of now as we don't have\nthe ironic-inspector plugin in our devstack jobs.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 8, 'created': '2022-07-26 15:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/eba3d3378531a01fd0c9c68fd99b3d781fc44598', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\nRefactors the module to be based off OpenstackModule.\n\nChanges sdk calls to use the proxy layer where appropriate. The\ninspection itself stays at the cloud layer to support waiting.\n\nMake sure we convert returned resource objects to dict\n\nAdds a barebones role to test the module. This won't run in CI, since\nwe don't have the ironic plugin configured in devstack.\n\nChanges the return value of the module to be the entire node, instead of\njust the properties that resulted from inspection. Return docs were\nupdated to reflect this.\n\nUpdate module params to use `node` as the identifier for the node,\naliasing it to the previous supported values of `name` and `uuid`.\n\nUse module kwargs to specify mutually exclusive params.\n\nStop catching exceptions and instead let them bubble up so ansible\nhandles them.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 9, 'created': '2022-07-26 15:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1b66878adef3a403095abc70669eb5abc2f9e2b8', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\nRefactors the module to be based off OpenstackModule.\n\nChanges sdk calls to use the proxy layer where appropriate. The\ninspection itself stays at the cloud layer to support waiting.\n\nMake sure we convert returned resource objects to dict\n\nAdds a barebones role to test the module. This won't run in CI, since\nwe don't have the ironic plugin configured in devstack.\n\nChanges the return value of the module to be the entire node, instead of\njust the properties that resulted from inspection. Return docs were\nupdated to reflect this.\n\nUpdate module params to use `node` as the identifier for the node,\naliasing it to the previous supported values of `name` and `uuid`.\n\nUse module kwargs to specify mutually exclusive params.\n\nStop catching exceptions and instead let them bubble up so ansible\nhandles them.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 10, 'created': '2022-07-26 16:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/eedb2112e88d65bc67e729ea667e6c6b43bbe004', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\nRefactors the module to be based off OpenstackModule.\n\nChanges sdk calls to use the proxy layer where appropriate. The\ninspection itself stays at the cloud layer to support waiting.\n\nMake sure we convert returned resource objects to dict\n\nAdds a barebones role to test the module. This won't run in CI, since\nwe don't have the ironic plugin configured in devstack.\n\nChanges the return value of the module to be the entire node, instead of\njust the properties that resulted from inspection. Return docs were\nupdated to reflect this.\n\nUpdate module params to use `node` as the identifier for the node,\naliasing it to the previous supported values of `name` and `uuid`.\n\nUse module kwargs to specify mutually exclusive params.\n\nStop catching exceptions and instead let them bubble up so ansible\nhandles them.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 11, 'created': '2022-07-27 18:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b1f080c005a17e5216de21628680526b4aa4a8b7', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\nRefactors the module to be based off OpenstackModule.\n\nChanges sdk calls to use the proxy layer where appropriate. The\ninspection itself stays at the cloud layer to support waiting.\n\nMake sure we convert returned resource objects to dict\n\nAdds a barebones role to test the module. This won't run in CI, since\nwe don't have the ironic plugin configured in devstack.\n\nChanges the return value of the module to be the entire node, instead of\njust the properties that resulted from inspection. Return docs were\nupdated to reflect this.\n\nUpdate module params to use `node` as the identifier for the node,\naliasing it to the previous supported values of `name` and `uuid`.\n\nUse module kwargs to specify mutually exclusive params.\n\nStop catching exceptions and instead let them bubble up so ansible\nhandles them.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 12, 'created': '2022-08-01 11:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/029e95b41c58821f4a8f1a968a6ab616f82dace0', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\nRefactors the module to be based off OpenstackModule.\n\nChanges sdk calls to use the proxy layer where appropriate. The\ninspection itself stays at the cloud layer to support waiting.\n\nMake sure we convert returned resource objects to dict\n\nAdds a barebones role to test the module. This won't run in CI, since\nwe don't have the ironic plugin configured in devstack.\n\nChanges the return value of the module to be the entire node, instead of\njust the properties that resulted from inspection. Return docs were\nupdated to reflect this.\n\nUpdate module params to use `node` as the identifier for the node,\naliasing it to the previous supported values of `name` and `uuid`.\n\nUse module kwargs to specify mutually exclusive params.\n\nStop catching exceptions and instead let them bubble up so ansible\nhandles them.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 13, 'created': '2022-08-01 11:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/67fc5dfbce62a2d80562a01f4dfdf9d32e61e7a5', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\nRefactors the module to be based off OpenstackModule.\n\nChanges sdk calls to use the proxy layer where appropriate. The\ninspection itself stays at the cloud layer to support waiting.\n\nMake sure we convert returned resource objects to dict\n\nAdds a barebones role to test the module. This won't run in CI, since\nwe don't have the ironic plugin configured in devstack.\n\nChanges the return value of the module to be the entire node, instead of\njust the properties that resulted from inspection. Return docs were\nupdated to reflect this.\n\nUpdate module params to use `node` as the identifier for the node,\naliasing it to the previous supported values of `name` and `uuid`.\n\nUse module kwargs to specify mutually exclusive params.\n\nStop catching exceptions and instead let them bubble up so ansible\nhandles them.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 14, 'created': '2022-08-01 15:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/07c56ac6f75ec20cc6416bdeb7b4992378803f8a', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\nRefactors the module to be based off OpenstackModule.\n\nChanges sdk calls to use the proxy layer where appropriate. The\ninspection itself stays at the cloud layer to support waiting.\n\nMake sure we convert returned resource objects to dict\n\nAdds a barebones role to test the module. This won't run in CI, since\nwe don't have the ironic plugin configured in devstack.\n\nChanges the return value of the module to be the entire node, instead of\njust the properties that resulted from inspection. Return docs were\nupdated to reflect this.\n\nUpdate module params to use `node` as the identifier for the node,\naliasing it to the previous supported values of `name` and `uuid`.\n\nUse module kwargs to specify mutually exclusive params.\n\nStop catching exceptions and instead let them bubble up so ansible\nhandles them.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 15, 'created': '2022-08-02 08:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1728cd56e36187a2ff9d5e6dbbb21c6e6da22440', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\nRefactors the module to be based off OpenstackModule.\n\nChanges sdk calls to use the proxy layer where appropriate. The\ninspection itself stays at the cloud layer to support waiting.\n\nMake sure we convert returned resource objects to dict\n\nAdds a barebones role to test the module. This won't run in CI, since\nwe don't have the ironic plugin configured in devstack.\n\nChanges the return value of the module to be the entire node, instead of\njust the properties that resulted from inspection. Return docs were\nupdated to reflect this.\n\nUpdate module params to use `node` as the identifier for the node,\naliasing it to the previous supported values of `name` and `uuid`.\n\nUse module kwargs to specify mutually exclusive params.\n\nStop catching exceptions and instead let them bubble up so ansible\nhandles them.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}, {'number': 16, 'created': '2022-08-02 08:11:36.000000000', 'files': ['plugins/modules/baremetal_inspect.py', 'ci/roles/baremetal_inspect/tasks/main.yml', 'ci/roles/baremetal_inspect/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d2eb98d04800bcfa180ae459483ddcb8a52497ec', 'message': ""Update baremetal_inspect to be compatible with new sdk\n\nRefactors the module to be based off OpenstackModule.\n\nChanges sdk calls to use the proxy layer where appropriate. The\ninspection itself stays at the cloud layer to support waiting.\n\nMake sure we convert returned resource objects to dict\n\nAdds a barebones role to test the module. This won't run in CI, since\nwe don't have the ironic plugin configured in devstack.\n\nChanges the return value of the module to be the entire node, instead of\njust the properties that resulted from inspection. Return docs were\nupdated to reflect this.\n\nUpdate module params to use `name` as the identifier for the node,\naliasing it to the previous supported values of `id` and `uuid`.\n\nUse module kwargs to specify mutually exclusive params.\n\nStop catching exceptions and instead let them bubble up so ansible\nhandles them.\n\nChange-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74\n""}]",39,843334,d2eb98d04800bcfa180ae459483ddcb8a52497ec,47,7,16,34208,,,0,"Update baremetal_inspect to be compatible with new sdk

Refactors the module to be based off OpenstackModule.

Changes sdk calls to use the proxy layer where appropriate. The
inspection itself stays at the cloud layer to support waiting.

Make sure we convert returned resource objects to dict

Adds a barebones role to test the module. This won't run in CI, since
we don't have the ironic plugin configured in devstack.

Changes the return value of the module to be the entire node, instead of
just the properties that resulted from inspection. Return docs were
updated to reflect this.

Update module params to use `name` as the identifier for the node,
aliasing it to the previous supported values of `id` and `uuid`.

Use module kwargs to specify mutually exclusive params.

Stop catching exceptions and instead let them bubble up so ansible
handles them.

Change-Id: I2b07b58c8b068d7f18db9862fcecb4088328ac74
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/34/843334/16 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/baremetal_inspect.py'],1,1a16cebfef8d77781fe060be1252cd16083bf40b,baremetal-inspect," wait: description: - Indicates whether to wait or not for the inspection to complete default: true type: bool type: dict OpenstackModuleclass BaremetalInspectModule(OpenstackModule): argument_spec = dict( wait=dict(default=True, type='bool', required=False), _argument_spec_builder = ironic_argument_spec def _update_auth(self): IronicModule._update_ironic_auth(self) def _choose_id_value(self): if self.params['uuid']: return self.params['uuid'] if self.params['name']: return self.params['name'] return None def get_node_by_mac(self, address): ports = self.conn.baremetal.ports(address=address) ports = list(ports) if not ports: self.fail_json(msg='The baremetal port was not found') port = ports[0] return self.conn.find_node(port.node_id) def introspect_node(self): node = None if self.params['name'] or self.params['uuid']: node = self.conn.baremetal.find_machine(self._choose_id_value()) elif self.params['mac']: node = self.get_node_by_mac(self.params['mac']) else: self.fail_json(msg=""The worlds did not align, "" if not node: self.fail_json(msg=""node not found."") self.conn.inspect_machine(node.uuid, self.params['wait'], self.params['timeout']) # retrieve node with updated properties node = self.conn.baremetal.find_machine(node.uuid) node = node.to_dict(computed=False) # TODO(TheJulia): diff properties, ?and ports? and determine # if a change occurred. In theory, the node is always changed # if introspection is able to update the record. self.exit_json(changed=True, ansible_facts=node['properties']) def run(self): try: self.introspect_node() except self.sdk.exceptions.OpenStackCloudException as e: self.fail_json(msg=str(e)) def main(): module = BaremetalInspectModule() module() "," type: complex openstack_module_kwargs, openstack_cloud_from_moduledef _choose_id_value(module): if module.params['uuid']: return module.params['uuid'] if module.params['name']: return module.params['name'] return None def main(): argument_spec = ironic_argument_spec( module_kwargs = openstack_module_kwargs() module = IronicModule(argument_spec, **module_kwargs) sdk, cloud = openstack_cloud_from_module(module) try: if module.params['name'] or module.params['uuid']: server = cloud.get_machine(_choose_id_value(module)) elif module.params['mac']: server = cloud.get_machine_by_mac(module.params['mac']) else: module.fail_json(msg=""The worlds did not align, "" if server: cloud.inspect_machine(server['uuid'], module.params['wait']) # TODO(TheJulia): diff properties, ?and ports? and determine # if a change occurred. In theory, the node is always changed # if introspection is able to update the record. module.exit_json(changed=True, ansible_facts=server['properties']) else: module.fail_json(msg=""node not found."") except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e)) ",57,33
openstack%2Fansible-role-tripleo-modify-image~master~Ib2b7fd2f557d4743efd2eaca18474fb45b91cbcf,openstack/ansible-role-tripleo-modify-image,master,Ib2b7fd2f557d4743efd2eaca18474fb45b91cbcf,Add some notes about SELinux and limitations,MERGED,2022-07-12 09:16:54.000000000,2022-08-02 17:43:45.000000000,2022-08-02 17:43:45.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-12 09:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/425a0742b4a74719ede237a08cf04efccb74f24a', 'message': ""Add some notes about SELinux and limitations\n\nWith newer podman and container-selinux, we may face some issues\ndepending on where directories are located. The way we're running the\nrole is also important - being launched as root or as a user makes a big\ndifference, especially with the user's home content.\n\nChange-Id: Ib2b7fd2f557d4743efd2eaca18474fb45b91cbcf\n""}, {'number': 2, 'created': '2022-07-12 09:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/5aea24664d1c5981180d354244b144f0e48ecb3a', 'message': ""Add some notes about SELinux and limitations\n\nWith newer podman and container-selinux, we may face some issues\ndepending on where directories are located. The way we're running the\nrole is also important - being launched as root or as a user makes a big\ndifference, especially with the user's home content.\n\nIt also updates the setup.cfg content to match new format requirements\n\nChange-Id: Ib2b7fd2f557d4743efd2eaca18474fb45b91cbcf\n""}, {'number': 3, 'created': '2022-07-12 09:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/50846038ff1433b4f60dd0b5ec9169a4ac0335bb', 'message': ""Add some notes about SELinux and limitations\n\nWith newer podman and container-selinux, we may face some issues\ndepending on where directories are located. The way we're running the\nrole is also important - being launched as root or as a user makes a big\ndifference, especially with the user's home content.\n\nIt also updates the setup.cfg content to match new format requirements\n\nChange-Id: Ib2b7fd2f557d4743efd2eaca18474fb45b91cbcf\n""}, {'number': 4, 'created': '2022-07-14 13:46:56.000000000', 'files': ['README.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/a09c8af2fbbf4e13f15cfab117e319b4ee6d4660', 'message': ""Add some notes about SELinux and limitations\n\nWith newer podman and container-selinux, we may face some issues\ndepending on where directories are located. The way we're running the\nrole is also important - being launched as root or as a user makes a big\ndifference, especially with the user's home content.\n\nIt also updates the setup.cfg content to match new format requirements\n\nChange-Id: Ib2b7fd2f557d4743efd2eaca18474fb45b91cbcf\n""}]",3,849471,a09c8af2fbbf4e13f15cfab117e319b4ee6d4660,16,5,4,28223,,,0,"Add some notes about SELinux and limitations

With newer podman and container-selinux, we may face some issues
depending on where directories are located. The way we're running the
role is also important - being launched as root or as a user makes a big
difference, especially with the user's home content.

It also updates the setup.cfg content to match new format requirements

Change-Id: Ib2b7fd2f557d4743efd2eaca18474fb45b91cbcf
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/71/849471/4 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,425a0742b4a74719ede237a08cf04efccb74f24a,doc/selinux,"Warnings -------- On-disk repositories .................... Please ensure the SELinux label for the on-disk repositories are correct. Depending on your container-selinux (and podman) version, you may face issues. An example of a correct type: ```system_u:object_r:rpm_var_cache_t``` This matches the one of /var/cache/dnf, and is accessible from within a container Directories located in the user's home ...................................... You may want to avoid pointing to directories in your $HOME when running this role, especially when it's running from within TripleO client (for instance with the ```openstack tripleo container image prepare``` command). Doing so may break due to the SELinux labels and permissions associated to your home directory. Please use another location, such as /opt, or even /tmp - and double-check the SELinux labels therein. rpms_path: /opt/rpms rpms_path: /opt/rpms/ rpms_path: /opt/rpmsNote: here, we can use a directory located in the user's home because it's probably launched by the user. ", rpms_path: /home/stack/rpms rpms_path: /home/stack/rpms/ rpms_path: /home/stack/rpms,31,3
openstack%2Ftripleo-puppet-elements~master~Iad70ba42408aa9ac1db882ab41347ae48e378167,openstack/tripleo-puppet-elements,master,Iad70ba42408aa9ac1db882ab41347ae48e378167,Remove overcloud-agent element,MERGED,2022-04-20 05:41:18.000000000,2022-08-02 17:43:42.000000000,2022-08-02 17:43:42.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-20 05:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/39d22536e46440d3bdc1307c01de11d7c6a8df60', 'message': 'Remove overcloud-agent element\n\nThis element is not needed since ansible is used for all\nconfiguration.\n\nChange-Id: Iad70ba42408aa9ac1db882ab41347ae48e378167\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/838633\n'}, {'number': 2, 'created': '2022-07-26 23:54:30.000000000', 'files': ['elements/overcloud-agent/README.md', 'elements/overcloud-agent/element-deps', 'elements/overcloud-agent/pkg-map', 'elements/overcloud-agent/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/af810d5e2901cc49e8907ae9f361a41d3013f60b', 'message': 'Remove overcloud-agent element\n\nThis element is not needed since ansible is used for all\nconfiguration.\n\nChange-Id: Iad70ba42408aa9ac1db882ab41347ae48e378167\n'}]",2,838635,af810d5e2901cc49e8907ae9f361a41d3013f60b,16,4,2,4571,,,0,"Remove overcloud-agent element

This element is not needed since ansible is used for all
configuration.

Change-Id: Iad70ba42408aa9ac1db882ab41347ae48e378167
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/35/838635/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-agent/README.md', 'elements/overcloud-agent/element-deps', 'elements/overcloud-agent/pkg-map', 'elements/overcloud-agent/package-installs.yaml']",4,39d22536e46440d3bdc1307c01de11d7c6a8df60,image-refactor,,os-collect-config: python-heat-agent: ,0,131
openstack%2Ftripleo-ansible~stable%2Fwallaby~I5dad962a9e014380d90377a241ef090a61c873bd,openstack/tripleo-ansible,stable/wallaby,I5dad962a9e014380d90377a241ef090a61c873bd,tripleo_ovs_dpdk: tripleo_ovs_dpdk_socket_memory is now optional,MERGED,2022-06-22 09:22:43.000000000,2022-08-02 17:39:22.000000000,2022-08-02 17:39:22.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30229}]","[{'number': 1, 'created': '2022-06-22 09:22:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/tests/test_positive.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20a90b257adec184f051b99a656ed672e4fa459e', 'message': 'tripleo_ovs_dpdk: tripleo_ovs_dpdk_socket_memory is now optional\n\nWith ovs2.16, ""dpdk-socket-limit"" is not automatically set to the same\nvalue as ""dpdk-socket-mem"".\ndpdk-socket-mem is also optional as ovs will use hugepages as needed.\nYet, we dpdk-socket-mem is defined, the allocator may not use the\npre-allocated hugepages and use additional hugepages, that\'s why we\nneed to set dpdk-socket-limit as well.\n\nSetting ""tripleo_ovs_dpdk_socket_memory"" keeps the behaviour\nfrom ovs2.15.\n\nRHBZ: 1985506\nChange-Id: I5dad962a9e014380d90377a241ef090a61c873bd\nSigned-off-by: Christophe Fontaine <cfontain@redhat.com>\n(cherry picked from commit 3fec8ec53ad37bee3419ff356977c0c15551008c)\n'}]",0,846949,20a90b257adec184f051b99a656ed672e4fa459e,9,5,1,23618,,,0,"tripleo_ovs_dpdk: tripleo_ovs_dpdk_socket_memory is now optional

With ovs2.16, ""dpdk-socket-limit"" is not automatically set to the same
value as ""dpdk-socket-mem"".
dpdk-socket-mem is also optional as ovs will use hugepages as needed.
Yet, we dpdk-socket-mem is defined, the allocator may not use the
pre-allocated hugepages and use additional hugepages, that's why we
need to set dpdk-socket-limit as well.

Setting ""tripleo_ovs_dpdk_socket_memory"" keeps the behaviour
from ovs2.15.

RHBZ: 1985506
Change-Id: I5dad962a9e014380d90377a241ef090a61c873bd
Signed-off-by: Christophe Fontaine <cfontain@redhat.com>
(cherry picked from commit 3fec8ec53ad37bee3419ff356977c0c15551008c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/846949/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/tests/test_positive.py']",4,20a90b257adec184f051b99a656ed672e4fa459e,," socket_mem = other_config['dpdk-socket-mem'].replace('""', '') socket_limit = other_config['dpdk-socket-limit'].replace('""', '') assert socket_mem == ""1024,1024"" assert socket_limit == ""1024,1024"""," dpdk_extra = other_config['dpdk-socket-mem'].replace('""', '') assert dpdk_extra == ""1024,1024""",41,19
openstack%2Frequirements~master~I5575d79d2a17a9c699f678a8e7fbe15e9a261d56,openstack/requirements,master,I5575d79d2a17a9c699f678a8e7fbe15e9a261d56,update constraint for openstackdocstheme to new release 3.0.0,MERGED,2022-08-02 10:22:37.000000000,2022-08-02 17:33:34.000000000,2022-08-02 17:31:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-08-02 10:22:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bbbc8728879f8ef63df446bb54e1137805d0f588', 'message': 'update constraint for openstackdocstheme to new release 3.0.0\n\nmeta: version: 3.0.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Thierry Carrez <thierry@openstack.org>\nmeta: release:Change-Id: I37aa44c9cc8a9df90ebc2d98c6313b1edc0c7f0c\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I5575d79d2a17a9c699f678a8e7fbe15e9a261d56\n'}]",0,851835,bbbc8728879f8ef63df446bb54e1137805d0f588,9,3,1,11131,,,0,"update constraint for openstackdocstheme to new release 3.0.0

meta: version: 3.0.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Thierry Carrez <thierry@openstack.org>
meta: release:Change-Id: I37aa44c9cc8a9df90ebc2d98c6313b1edc0c7f0c
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I5575d79d2a17a9c699f678a8e7fbe15e9a261d56
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/851835/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bbbc8728879f8ef63df446bb54e1137805d0f588,new-release,openstackdocstheme===3.0.0,openstackdocstheme===2.4.0,1,1
openstack%2Frequirements~master~I8614a6a6d4db1c4994c7dea1fe4f4cb31bdfe25e,openstack/requirements,master,I8614a6a6d4db1c4994c7dea1fe4f4cb31bdfe25e,Use TOX_CONSTRAINTS_FILE,MERGED,2022-07-26 03:08:03.000000000,2022-08-02 17:32:46.000000000,2022-08-02 17:31:43.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 03:08:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/38f5ef60740e474d1bbe24f0ffffb46f4052ebac', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I8614a6a6d4db1c4994c7dea1fe4f4cb31bdfe25e\n'}]",1,850971,38f5ef60740e474d1bbe24f0ffffb46f4052ebac,9,3,1,35058,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I8614a6a6d4db1c4994c7dea1fe4f4cb31bdfe25e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/850971/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,38f5ef60740e474d1bbe24f0ffffb46f4052ebac,,deps = -c{env:TOX_CONSTRAINTS_FILE:{toxinidir}/upper-constraints.txt},deps = -c{env:UPPER_CONSTRAINTS_FILE:{toxinidir}/upper-constraints.txt},1,1
openstack%2Fmanila~stable%2Fwallaby~Ife023187f307f1190d5e76daf644db0b5cd55d38,openstack/manila,stable/wallaby,Ife023187f307f1190d5e76daf644db0b5cd55d38,Define queues at project level,MERGED,2022-06-24 16:45:46.000000000,2022-08-02 17:03:48.000000000,2022-08-02 17:01:06.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 32411}]","[{'number': 1, 'created': '2022-06-24 16:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/81ebef714a3f55e826293ee72f1d24ab499bd1bc', 'message': 'Define queues at project level\n\nDefining queues at project.pipeline level was deprecated in release\n4.1.0 of Zuul [1] and support for it will (probably) be dropped in\nrelease 7.0.0. [2][3]\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nSigned-off-by: Eduardo Santos <eduardo.experimental@gmail.com>\nChange-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38\n(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)\n(cherry picked from commit ad6874141de3637c2200315e95f51242b070b0e7)\n(cherry picked from commit a4c8caf84347315a443184d8df3ed295eaa4fe39)\n'}, {'number': 2, 'created': '2022-07-05 14:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/862271d764b23737ea54ea05aa6c4cc7d6140461', 'message': 'Define queues at project level\n\nDefining queues at project.pipeline level was deprecated in release\n4.1.0 of Zuul [1] and support for it will (probably) be dropped in\nrelease 7.0.0. [2][3]\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nSigned-off-by: Eduardo Santos <eduardo.experimental@gmail.com>\nChange-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38\n(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)\n(cherry picked from commit ad6874141de3637c2200315e95f51242b070b0e7)\n(cherry picked from commit a4c8caf84347315a443184d8df3ed295eaa4fe39)\n'}, {'number': 3, 'created': '2022-07-05 14:36:40.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/2eb644d6bdbf56f7b963008bb3616b5afde9f917', 'message': 'Define queues at project level\n\nDefining queues at project.pipeline level was deprecated in release\n4.1.0 of Zuul [1] and support for it will (probably) be dropped in\nrelease 7.0.0. [2][3]\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nSigned-off-by: Eduardo Santos <eduardo.experimental@gmail.com>\nChange-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38\n(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)\n(cherry picked from commit ad6874141de3637c2200315e95f51242b070b0e7)\n(cherry picked from commit b06cc4b8cbbb8bd80134eecdd5f14095d512cbb0)\n'}]",4,847443,2eb644d6bdbf56f7b963008bb3616b5afde9f917,26,4,3,30002,,,0,"Define queues at project level

Defining queues at project.pipeline level was deprecated in release
4.1.0 of Zuul [1] and support for it will (probably) be dropped in
release 7.0.0. [2][3]

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html
[3] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Signed-off-by: Eduardo Santos <eduardo.experimental@gmail.com>
Change-Id: Ife023187f307f1190d5e76daf644db0b5cd55d38
(cherry picked from commit 441d6470ca3a24f29f60494ed31755d2842b2fa3)
(cherry picked from commit ad6874141de3637c2200315e95f51242b070b0e7)
(cherry picked from commit b06cc4b8cbbb8bd80134eecdd5f14095d512cbb0)
",git fetch https://review.opendev.org/openstack/manila refs/changes/43/847443/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,81ebef714a3f55e826293ee72f1d24ab499bd1bc,fix-queue-config, queue: manila, queue: manila,1,1
openstack%2Fcharm-guide~master~Ie55e52754e5b8f6d421f7326a123c56d4e2946b0,openstack/charm-guide,master,Ie55e52754e5b8f6d421f7326a123c56d4e2946b0,Refactor OVN documentation,MERGED,2022-07-25 21:03:50.000000000,2022-08-02 16:59:01.000000000,2022-08-02 16:57:29.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2022-07-25 21:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/17c6abb767d5a97d383683f5fbe36642b3b75c16', 'message': 'Refactor OVN documentation\n\nThe OVN documentation consists of a single 17-page\npage. This PR refactors it.\n\nA content review of these pages will constitute a\nseparate PR and will occur soon after.\n\nCloses-Bug: #1976367\nChange-Id: Ie55e52754e5b8f6d421f7326a123c56d4e2946b0\n'}, {'number': 2, 'created': '2022-07-25 21:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2df2c32b160d1c6277953ae8f0a61b69cbb073d2', 'message': 'Refactor OVN documentation\n\nThe OVN documentation consists of a single 17-page\npage. This PR refactors it.\n\nA content review of these pages will constitute a\nseparate PR and will occur soon after.\n\nCloses-Bug: #1976367\nChange-Id: Ie55e52754e5b8f6d421f7326a123c56d4e2946b0\n'}, {'number': 3, 'created': '2022-07-25 21:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/3bd06fbd011e61848040b9053f9216e2e4915861', 'message': ""Refactor OVN documentation\n\nThe OVN documentation consists of a single 17-page\npage. This PR refactors it.\n\nA subdirectory ('ovn') was created and the existing main\npage ('ovn.rst') was renamed to 'index.rst' .\n\nA content review of these pages will constitute a\nseparate PR and will occur soon after.\n\nCloses-Bug: #1976367\nChange-Id: Ie55e52754e5b8f6d421f7326a123c56d4e2946b0\n""}, {'number': 4, 'created': '2022-07-27 18:44:22.000000000', 'files': ['doc/source/admin/networking/ovn/sriov.rst', 'doc/source/admin/index.rst', 'doc/source/admin/networking/ovn.rst', 'doc/source/admin/networking/ovn/external-connect.rst', 'doc/source/admin/ha.rst', 'doc/source/admin/networking/ovn/queries.rst', 'doc/source/admin/networking/hardware-offloading.rst', 'doc/source/admin/networking/ovn/internal-dns.rst', 'doc/source/admin/networking/ovn/index.rst', 'doc/source/admin/networking/ovn/dpdk.rst', 'doc/source/admin/networking/ovn/hardware-offload.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/548aafcaa6eeaf83616768b81d81db11cfbf5b22', 'message': ""Refactor OVN documentation\n\nThe OVN documentation consists of a single 17-page\npage. This PR refactors it.\n\nA subdirectory ('ovn') was created and the existing main\npage ('ovn.rst') was renamed to 'index.rst' .\n\nA content review of these pages will constitute a\nseparate PR and will occur soon after.\n\nCloses-Bug: #1976367\nChange-Id: Ie55e52754e5b8f6d421f7326a123c56d4e2946b0\n""}]",0,850948,548aafcaa6eeaf83616768b81d81db11cfbf5b22,11,3,4,30561,,,0,"Refactor OVN documentation

The OVN documentation consists of a single 17-page
page. This PR refactors it.

A subdirectory ('ovn') was created and the existing main
page ('ovn.rst') was renamed to 'index.rst' .

A content review of these pages will constitute a
separate PR and will occur soon after.

Closes-Bug: #1976367
Change-Id: Ie55e52754e5b8f6d421f7326a123c56d4e2946b0
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/48/850948/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/networking/ovn/sriov.rst', 'doc/source/admin/index.rst', 'doc/source/admin/networking/ovn.rst', 'doc/source/admin/networking/ovn/external-connect.rst', 'doc/source/admin/ha.rst', 'doc/source/admin/networking/hardware-offloading.rst', 'doc/source/admin/networking/ovn/queries.rst', 'doc/source/admin/networking/ovn/internal-dns.rst', 'doc/source/admin/networking/ovn/index.rst', 'doc/source/admin/networking/ovn/dpdk.rst', 'doc/source/admin/networking/ovn/hardware-offload.rst']",11,17c6abb767d5a97d383683f5fbe36642b3b75c16,ovn-refactor,"========================================= Implementing hardware offloading with OVN ========================================= It is possible to configure chassis to prepare network interface cards (NICs) for use with hardware offloading and make them available to OpenStack. .. note:: Please see the :doc:`index` page for general information on using OVN with Charmed OpenStack. .. caution:: This feature is to be considered Tech Preview. OVN has more stringent requirements for match/action support in the hardware than for example Neutron ML2+OVS. Make sure to acquire hardware with appropriate support. Depending on hardware vendor, it may be required to install third party drivers (DKMS) in order to successfully use this feature. Hardware offload support makes use of SR-IOV as an underlying mechanism to accelerate the data path between a virtual machine instance and the NIC hardware. But as opposed to traditional SR-IOV support the accelerated ports can be connected to the Open vSwitch integration bridge which allows instances to take part in regular tenant networks. The NIC also supports hardware offloading of tunnel encapsulation and decapsulation. With OVN the Layer3 routing features are implemented as flow rules in Open vSwitch. This in turn may allow Layer 3 routing to also be offloaded to NICs with appropriate driver and firmware support. Prerequisites ^^^^^^^^^^^^^ * Ubuntu 22.04 LTS or later * Linux kernel >= 5.15 * Open vSwitch 2.17 * OVN 22.03 * OpenStack Yoga or later Please refer to the :doc:`sriov` page for information on kernel configuration. Charm configuration ^^^^^^^^^^^^^^^^^^^ The below example bundle excerpt will enable hardware offloading for an OVN deployment. .. code-block:: yaml applications: ovn-chassis: charm: cs:ovn-chassis options: enable-hardware-offload: true sriov-numvfs: ""enp3s0f0:32 enp3s0f1:32"" neutron-api: charm: cs:neutron-api options: enable-hardware-offload: true nova-compute: charm: cs:nova-compute options: pci-passthrough-whitelist: '{""address"": ""*:03:*"", ""physical_network"": null}' .. caution:: After deploying the above example the machines hosting ovn-chassis units must be rebooted for the changes to take effect. Boot an instance ^^^^^^^^^^^^^^^^ Now we can tell OpenStack to boot an instance and attach it to an hardware offloaded port. This must be done in two stages, first we create a port with ``vnic-type`` 'direct' and ``binding-profile`` with 'switchdev' capabilities. Then we create an instance connected to the newly created port: .. code-block:: none openstack port create --network my-network --vnic-type direct \ --binding-profile '{""capabilities"": [""switchdev""]}' direct_port1 openstack server create --flavor my-flavor --key-name my-key \ --nic port-id=direct_port1 my-instance Validate that traffic is offloaded ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The `traffic control monitor`_ command can be used to observe updates to filters which is one of the mechanisms used to program the NIC switch hardware. Look for the 'in_hw' and 'not_in_hw' labels. .. code-block:: none sudo tc monitor .. code-block:: console replaced filter dev eth62 ingress protocol ip pref 3 flower chain 0 handle 0x9 dst_mac fa:16:3e:b2:20:82 src_mac fa:16:3e:b9:db:c8 eth_type ipv4 ip_proto tcp ip_tos 67deeb90 dst_ip 10.42.0.17/28 tcp_flags 22 ip_flags nofrag in_hw action order 1: tunnel_key set src_ip 0.0.0.0 dst_ip 10.6.12.8 key_id 4 dst_port 6081 csum pipe index 15 ref 1 bind 1 action order 2: mirred (Egress Redirect to device genev_sys_6081) stolen index 18 ref 1 bind 1 cookie d4885b4d38419f7fd7ae77a11bc78b0b Open vSwitch has a rich set of tools to monitor traffic flows and you can use the `data path control tools`_ to monitor offloaded flows. .. code-block:: none sudo ovs-appctl dpctl/dump-flows type=offloaded .. code-block:: console tunnel(tun_id=0x4,src=10.6.12.3,dst=10.6.12.7,tp_dst=6081,geneve({class=0x102,type=0x80,len=4,0x20007/0x7fffffff}),flags(+key)),recirc_id(0),in_port(2),eth(src=fa:16:3e:f8:52:5c,dst=00:00:00:00:00:00/01:00:00:00:00:00),eth_type(0x0800),ipv4(proto=6,frag=no),tcp_flags(psh|ack), packets:2, bytes:204, used:5.710s, actions:7 tunnel(tun_id=0x4,src=10.6.12.3,dst=10.6.12.7,tp_dst=6081,geneve({class=0x102,type=0x80,len=4,0x20007/0x7fffffff}),flags(+key)),recirc_id(0),in_port(2),eth(src=fa:16:3e:f8:52:5c,dst=00:00:00:00:00:00/01:00:00:00:00:00),eth_type(0x0800),ipv4(proto=6,frag=no),tcp_flags(ack), packets:3, bytes:230, used:5.710s, actions:7 tunnel(tun_id=0x4,src=10.6.12.8,dst=10.6.12.7,tp_dst=6081,geneve({class=0x102,type=0x80,len=4,0x60007/0x7fffffff}),flags(+key)),recirc_id(0),in_port(2),eth(src=fa:16:3e:b2:20:82,dst=00:00:00:00:00:00/01:00:00:00:00:00),eth_type(0x0800),ipv4(proto=6,frag=no),tcp_flags(syn|ack), packets:0, bytes:0, used:6.740s, actions:7 tunnel(tun_id=0x4,src=10.6.12.8,dst=10.6.12.7,tp_dst=6081,geneve({class=0x102,type=0x80,len=4,0x60007/0x7fffffff}),flags(+key)),recirc_id(0),in_port(2),eth(src=fa:16:3e:b2:20:82,dst=00:00:00:00:00:00/01:00:00:00:00:00),eth_type(0x0800),ipv4(proto=6,frag=no),tcp_flags(ack), packets:180737, bytes:9400154, used:0.000s, actions:7 recirc_id(0),in_port(6),eth(src=26:8a:07:82:a7:2f,dst=01:80:c2:00:00:0e),eth_type(0x88cc), packets:5, bytes:990, used:14.340s, actions:drop recirc_id(0),in_port(7),eth(src=fa:16:3e:b9:db:c8,dst=fa:16:3e:b2:20:82),eth_type(0x0800),ipv4(dst=10.42.0.16/255.255.255.240,proto=6,tos=0/0x3,frag=no),tcp_flags(syn), packets:0, bytes:0, used:6.910s, actions:set(tunnel(tun_id=0x4,dst=10.6.12.8,ttl=64,tp_dst=6081,key6(bad key length 1, expected 0)(01)geneve({class=0x102,type=0x80,len=4,0x70006}),flags(key))),2 recirc_id(0),in_port(7),eth(src=fa:16:3e:b9:db:c8,dst=fa:16:3e:b2:20:82),eth_type(0x0800),ipv4(dst=10.42.0.16/255.255.255.240,proto=6,tos=0/0x3,frag=no),tcp_flags(ack), packets:935904, bytes:7504070178, used:0.590s, actions:set(tunnel(tun_id=0x4,dst=10.6.12.8,ttl=64,tp_dst=6081,key6(bad key length 1, expected 0)(01)geneve({class=0x102,type=0x80,len=4,0x70006}),flags(key))),2 recirc_id(0),in_port(7),eth(src=fa:16:3e:b9:db:c8,dst=fa:16:3e:b2:20:82),eth_type(0x0800),ipv4(dst=10.42.0.16/255.255.255.240,proto=6,tos=0/0x3,frag=no),tcp_flags(psh|ack), packets:3873, bytes:31053714, used:0.590s, actions:set(tunnel(tun_id=0x4,dst=10.6.12.8,ttl=64,tp_dst=6081,key6(bad key length 1, expected 0)(01)geneve({class=0x102,type=0x80,len=4,0x70006}),flags(key))),2 .. LINKS .. _traffic control monitor: http://manpages.ubuntu.com/manpages/focal/man8/tc.8.html#monitor .. _data path control tools: http://manpages.ubuntu.com/manpages/focal/man8/ovs-dpctl.8.html ",,794,746
openstack%2Fopenstack-helm-images~master~I1531ae005e0a961c3d3f2c82dae02c6da404d6b5,openstack/openstack-helm-images,master,I1531ae005e0a961c3d3f2c82dae02c6da404d6b5,Change the periodic builds to weekly,MERGED,2022-07-25 17:06:51.000000000,2022-08-02 16:53:04.000000000,2022-08-02 16:46:57.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-07-25 17:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f44358e004940157aa977998f9f2ec042743fc84', 'message': 'Change the periodic builds to weekly\n\nCurrently we run image building every night. Moving the image building\nto be weekly should fit our current needs.\n\nChange-Id: I1531ae005e0a961c3d3f2c82dae02c6da404d6b5\n'}, {'number': 2, 'created': '2022-07-29 14:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/41bd3d77a2799bc472dfb4b7dcf3b6784a633734', 'message': 'Change the periodic builds to weekly\n\nCurrently we run image building every night. Moving the image building\nto be weekly should fit our current needs.\n\nChange-Id: I1531ae005e0a961c3d3f2c82dae02c6da404d6b5\n'}, {'number': 3, 'created': '2022-08-01 14:13:41.000000000', 'files': ['zuul.d/calicoctl-utility.yaml', 'zuul.d/fluentd.yaml', 'zuul.d/ospurge.yaml', 'zuul.d/ceph-utility.yaml', 'zuul.d/gate-utils.yaml', 'zuul.d/tempest.yaml', 'zuul.d/ceph-daemon.yaml', 'zuul.d/libvirt.yaml', 'zuul.d/base.yaml', 'zuul.d/ceph-config-helper.yaml', 'zuul.d/ceph-rbd-provisioner.yaml', 'zuul.d/osh-selenium.yaml', 'zuul.d/nagios.yaml', 'zuul.d/vbmc.yaml', 'zuul.d/prometheus-openstack-exporter.yaml', 'zuul.d/node-problem-detector.yaml', 'zuul.d/ceph-cephfs-provisioner.yaml', 'zuul.d/elasticsearch-s3.yaml', 'zuul.d/nova-ssh.yaml', 'zuul.d/openstack-loci.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1072f9de5ca0b30a343208142905c002d77f2a1a', 'message': 'Change the periodic builds to weekly\n\nCurrently we run image building every night. Moving the image building\nto be weekly should fit our current needs.\n\nChange-Id: I1531ae005e0a961c3d3f2c82dae02c6da404d6b5\n'}]",2,850936,1072f9de5ca0b30a343208142905c002d77f2a1a,20,3,3,21420,,,0,"Change the periodic builds to weekly

Currently we run image building every night. Moving the image building
to be weekly should fit our current needs.

Change-Id: I1531ae005e0a961c3d3f2c82dae02c6da404d6b5
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/36/850936/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/calicoctl-utility.yaml', 'zuul.d/fluentd.yaml', 'zuul.d/ospurge.yaml', 'zuul.d/ceph-utility.yaml', 'zuul.d/gate-utils.yaml', 'zuul.d/tempest.yaml', 'zuul.d/ceph-daemon.yaml', 'zuul.d/libvirt.yaml', 'zuul.d/base.yaml', 'zuul.d/ceph-config-helper.yaml', 'zuul.d/ceph-rbd-provisioner.yaml', 'zuul.d/osh-selenium.yaml', 'zuul.d/nagios.yaml', 'zuul.d/vbmc.yaml', 'zuul.d/prometheus-openstack-exporter.yaml', 'zuul.d/node-problem-detector.yaml', 'zuul.d/ceph-cephfs-provisioner.yaml', 'zuul.d/elasticsearch-s3.yaml', 'zuul.d/nova-ssh.yaml', 'zuul.d/openstack-loci.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml']",22,f44358e004940157aa977998f9f2ec042743fc84,periodic-change, periodic-weekly:, periodic:,22,22
openstack%2Fpython-novaclient~master~I03570d0a49b73021de91dc50b65b1bbf5d4b878b,openstack/python-novaclient,master,I03570d0a49b73021de91dc50b65b1bbf5d4b878b,Add support for 2.92 : keypair import mandatory,MERGED,2022-07-27 14:12:57.000000000,2022-08-02 16:05:04.000000000,2022-08-02 16:03:40.000000000,"[{'_account_id': 679}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-07-27 14:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/2e406d9c00bbe11197b093111564c7b90582dc4e', 'message': ""Add support for 2.92 : keypair import mandatory\n\nNow, when creating a keypair, the 'public_key' parameter is now mandatory.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/849133\nImplements: blueprint keypair-generation-removal\n\nChange-Id: I03570d0a49b73021de91dc50b65b1bbf5d4b878b\n""}, {'number': 2, 'created': '2022-07-27 14:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/1d23a31a10aeb0bb4fd4b72c8a57d99882a4ea53', 'message': ""Add support for 2.92 : keypair import mandatory\n\nNow, when creating a keypair, the 'public_key' parameter is now mandatory.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/849133\nImplements: blueprint keypair-generation-removal\n\nChange-Id: I03570d0a49b73021de91dc50b65b1bbf5d4b878b\n""}, {'number': 3, 'created': '2022-07-28 13:01:27.000000000', 'files': ['novaclient/v2/keypairs.py', 'releasenotes/notes/bp-keypair-generation-removal-1b5d84a8906d3918.yaml', 'novaclient/tests/unit/v2/fakes.py', 'novaclient/__init__.py', 'novaclient/tests/unit/v2/test_keypairs.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/2b5d989990b14ef81e3ca2a48df8e43b6b205d0e', 'message': ""Add support for 2.92 : keypair import mandatory\n\nNow, when creating a keypair, the 'public_key' parameter is now mandatory.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/849133\nImplements: blueprint keypair-generation-removal\n\nChange-Id: I03570d0a49b73021de91dc50b65b1bbf5d4b878b\n""}]",7,851231,2b5d989990b14ef81e3ca2a48df8e43b6b205d0e,21,7,3,7166,,,0,"Add support for 2.92 : keypair import mandatory

Now, when creating a keypair, the 'public_key' parameter is now mandatory.

Depends-On: https://review.opendev.org/c/openstack/nova/+/849133
Implements: blueprint keypair-generation-removal

Change-Id: I03570d0a49b73021de91dc50b65b1bbf5d4b878b
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/31/851231/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v2/keypairs.py', 'novaclient/tests/unit/v2/fakes.py', 'releasenotes/notes/bp-keypair-generation-removal-1b5d84a8906d3918.yaml', 'novaclient/__init__.py', 'novaclient/tests/unit/v2/test_keypairs.py']",5,2e406d9c00bbe11197b093111564c7b90582dc4e,bp/keypair-generation-removal," class KeypairsV92TestCase(KeypairsTest): def setUp(self): super(KeypairsV92TestCase, self).setUp() self.cs.api_version = api_versions.APIVersion(""2.92"") def test_create_keypair(self): name = ""foo"" key_type = ""some_type"" public_key = ""fake-public-key"" kp = self.cs.keypairs.create(name, public_key=public_key, key_type=key_type) self.assert_request_id(kp, fakes.FAKE_REQUEST_ID_LIST) self.assert_called('POST', '/%s' % self.keypair_prefix, body={'keypair': {'name': name, 'public_key': public_key, 'type': key_type}}) self.assertIsInstance(kp, keypairs.Keypair) def test_create_keypair_without_pubkey(self): name = ""foo"" key_type = ""some_type"" self.assertRaises(TypeError, self.cs.keypairs.create, name, key_type=key_type)",,58,3
openstack%2Fpython-novaclient~master~I7efc8f0b0ef159e16cefee761bff5d7e90d0c427,openstack/python-novaclient,master,I7efc8f0b0ef159e16cefee761bff5d7e90d0c427,Microversion 2.91: Support specifying destination host to unshelve,MERGED,2022-03-03 10:25:50.000000000,2022-08-02 15:49:07.000000000,2022-08-02 15:47:54.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-03-03 10:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c08703c0ebf28c207fe48c12926af0b57bc6a95d', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``destination_host`` to novaclient api.\nThis can help administrators to specify a ``destination_host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 2, 'created': '2022-03-03 13:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/712cbf8f361e9550a697e69d0fa456b8dfec4869', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``destination_host`` to novaclient api.\nThis can help administrators to specify a ``destination_host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 3, 'created': '2022-03-03 15:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/541510d5ec9c267ceda5aa43eb8d956fb8396668', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``destination_host`` to novaclient api.\nThis can help administrators to specify a ``destination_host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 4, 'created': '2022-03-08 18:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/91c0918f611eb7ec6174b513409d8b78bdbcfc20', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``destination_host`` to novaclient api.\nThis can help administrators to specify a ``destination_host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 5, 'created': '2022-03-09 17:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/69cad8cf3772e1dcfd195f0517bf593fe9cbe0c1', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``destination_host`` to novaclient api.\nThis can help administrators to specify a ``destination_host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 6, 'created': '2022-05-06 15:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6c99d74a557c7dfd0f118c88b8c23213f99c58cd', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``destination_host`` to novaclient api.\nThis can help administrators to specify a ``destination_host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 7, 'created': '2022-05-09 16:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/baa6d28f9cf4db8a0569403c4ee623654d113cab', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``host`` to novaclient api.\nThis can help administrators to specify a ``host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 8, 'created': '2022-05-16 09:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ecd6f625bb877a968dd063d40f5390ce1f8c60bd', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``host`` to novaclient api.\nThis can help administrators to specify a ``host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 9, 'created': '2022-05-17 12:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/fc83d2b4a43cbda4e4a4f3bf03027a78d878e674', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``host`` to novaclient api.\nThis can help administrators to specify a ``host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 10, 'created': '2022-05-30 16:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/f2115967d7a8860ec87465b899a9047162e8612f', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``host`` to novaclient api.\nThis can help administrators to specify a ``host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 11, 'created': '2022-05-31 12:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/d827d7a4233f25b993dabe668ed125f7da2ba04c', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``host`` to novaclient api.\nThis can help administrators to specify a ``host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 12, 'created': '2022-07-28 12:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/497dcd08c9614a022b102bfd7791a55e658bfa8d', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``host`` to novaclient api.\nThis can help administrators to specify a ``host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}, {'number': 13, 'created': '2022-07-28 12:50:05.000000000', 'files': ['novaclient/tests/unit/v2/fakes.py', 'novaclient/__init__.py', 'novaclient/v2/servers.py', 'novaclient/tests/unit/fixture_data/servers.py', 'releasenotes/notes/bp-unshelve-to-host-b220131a00dff8a2.yaml', 'novaclient/tests/unit/v2/test_servers.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ee9b277c5f442f299b853118c900c3ee2996c67a', 'message': 'Microversion 2.91: Support specifying destination host to unshelve\n\nThis patch adds ``host`` to novaclient api.\nThis can help administrators to specify a ``host``\nto unshelve a shelve offloaded server from 2.91 microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/831507\nImplements: blueprint unshelve-to-host\nChange-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427\n'}]",68,831651,ee9b277c5f442f299b853118c900c3ee2996c67a,45,7,13,16207,,,0,"Microversion 2.91: Support specifying destination host to unshelve

This patch adds ``host`` to novaclient api.
This can help administrators to specify a ``host``
to unshelve a shelve offloaded server from 2.91 microversion.

Depends-On: https://review.opendev.org/c/openstack/nova/+/831507
Implements: blueprint unshelve-to-host
Change-Id: I7efc8f0b0ef159e16cefee761bff5d7e90d0c427
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/51/831651/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/unit/v2/fakes.py', 'novaclient/__init__.py', 'novaclient/exceptions.py', 'novaclient/v2/servers.py', 'releasenotes/notes/bp-unshelve-to-host-b220131a00dff8a2.yaml', 'novaclient/tests/unit/v2/test_servers.py']",6,c08703c0ebf28c207fe48c12926af0b57bc6a95d,bp/unshelve-to-host," class ServersV291Test(ServersV290Test): api_version = ""2.91"" def test_unshelve_with_az(self): s = self.cs.servers.get(1234) # Test going through the Server object. ret = s.unshelve(availability_zone='foo-az') self.assert_request_id(ret, fakes.FAKE_REQUEST_ID_LIST) self.assert_called('POST', '/servers/1234/action', {'unshelve': { 'availability_zone': 'foo-az'}}) # Test going through the ServerManager directly. ret = self.cs.servers.unshelve(s, availability_zone='foo-az') self.assert_request_id(ret, fakes.FAKE_REQUEST_ID_LIST) self.assert_called('POST', '/servers/1234/action', {'unshelve': { 'availability_zone': 'foo-az'}}) def test_unshelve_with_destination_host(self): s = self.cs.servers.get(1234) # Test going through the Server object. ret = s.unshelve(destination_host='server1') self.assert_request_id(ret, fakes.FAKE_REQUEST_ID_LIST) self.assert_called('POST', '/servers/1234/action', {'unshelve': { 'destination_host': 'server1'}}) # Test going through the ServerManager directly. ret = self.cs.servers.unshelve(s, destination_host='server1') self.assert_request_id(ret, fakes.FAKE_REQUEST_ID_LIST) self.assert_called('POST', '/servers/1234/action', {'unshelve': { 'destination_host': 'server1'}}) def test_unshelve_server_pre_277_fails_with_specified_az(self): self.cs.api_version = api_versions.APIVersion('2.76') s = self.cs.servers.get(1234) # Test going through the Server object. ex = self.assertRaises(TypeError, s.unshelve, availability_zone='foo-az') self.assertIn(""unexpected keyword argument 'availability_zone'"", str(ex)) # Test going through the ServerManager directly. ex = self.assertRaises(TypeError, self.cs.servers.unshelve, s, availability_zone='foo-az') self.assertIn(""unexpected keyword argument 'availability_zone'"", str(ex)) def test_unshelve_server_fails_with_az_and_dst_host(self): s = self.cs.servers.get(1234) # Test going through the Server object. ex = self.assertRaises(exceptions.ParametersMutuallyExclusive, s.unshelve, availability_zone='foo-az', destination_host='server1') self.assertIn(""The 'unshelve' method input parameters are mutually exclusive."", str(ex)) # Test going through the ServerManager directly. ex = self.assertRaises(exceptions.ParametersMutuallyExclusive, s.unshelve, availability_zone='foo-az', destination_host='server1') self.assertIn(""The 'unshelve' method input parameters are mutually exclusive."", str(ex))",,143,5
openstack%2Freleases~master~I451f672504ccb6a8d1c883020e5ee493a9580692,openstack/releases,master,I451f672504ccb6a8d1c883020e5ee493a9580692,Releasing tripleo-validations for wallaby,MERGED,2022-07-27 09:23:54.000000000,2022-08-02 15:36:22.000000000,2022-08-02 15:36:22.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28522}, {'_account_id': 35059}]","[{'number': 1, 'created': '2022-07-27 09:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1d91a413bd9afa6477aac55ef8fa3b3fac20fe48', 'message': 'Releasing tripleo-validations for wallaby\n\nIncludes backwards compatible metadata expansion and numerous bugfixes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I451f672504ccb6a8d1c883020e5ee493a9580692\n'}, {'number': 2, 'created': '2022-08-01 08:34:44.000000000', 'files': ['deliverables/wallaby/tripleo-validations.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/984d87aaab7926a4dbc51a8ada277a7a500b728b', 'message': 'Releasing tripleo-validations for wallaby\n\nIncludes backwards compatible metadata expansion and numerous bugfixes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I451f672504ccb6a8d1c883020e5ee493a9580692\n'}]",5,851199,984d87aaab7926a4dbc51a8ada277a7a500b728b,13,9,2,32926,,,0,"Releasing tripleo-validations for wallaby

Includes backwards compatible metadata expansion and numerous bugfixes.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I451f672504ccb6a8d1c883020e5ee493a9580692
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/851199/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/tripleo-validations.yaml'],1,1d91a413bd9afa6477aac55ef8fa3b3fac20fe48,, - version: 14.3.0 projects: - repo: openstack/tripleo-validations hash: d322fc96090dd0af61afbbcaf6de0944e381856a,,4,0
openstack%2Fnova~master~Ice821f9068d7f8d1d9d2938b5d4dd498921ff798,openstack/nova,master,Ice821f9068d7f8d1d9d2938b5d4dd498921ff798,use force down to stabilize the test,ABANDONED,2022-07-28 10:38:03.000000000,2022-08-02 15:36:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 10:38:03.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1978983.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/68283478545469e44b6eaa2bbc1cee0fc798f52a', 'message': 'use force down to stabilize the test\n\nFeel free to squash this into the previous patch\n\nChange-Id: Ice821f9068d7f8d1d9d2938b5d4dd498921ff798\n'}]",0,851368,68283478545469e44b6eaa2bbc1cee0fc798f52a,8,1,1,9708,,,0,"use force down to stabilize the test

Feel free to squash this into the previous patch

Change-Id: Ice821f9068d7f8d1d9d2938b5d4dd498921ff798
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/851368/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1978983.py'],1,68283478545469e44b6eaa2bbc1cee0fc798f52a,," self.api.microversion = 'latest' self.api.put_service_force_down(self.src.service_ref.uuid, True)"," # report_interval defines how frequently # nova computes sends a status report self.flags(report_interval=1) self.flags(service_down_time=2) self.api.microversion = 'latest' self._wait_for_service_parameter( self.src.host, 'nova-compute', {'state': 'down'}) self._wait_for_service_parameter( self.dest.host, 'nova-compute', {'state': 'up'})",2,9
openstack%2Fdevstack-plugin-ceph~master~Iecd949ef2258ae8a6ded596219bb993aeff20de5,openstack/devstack-plugin-ceph,master,Iecd949ef2258ae8a6ded596219bb993aeff20de5,Remove pg_num and pgp_num config from bootstrap_ceph,MERGED,2022-07-29 14:01:18.000000000,2022-08-02 15:23:26.000000000,2022-08-02 15:22:13.000000000,"[{'_account_id': 8056}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 14:01:18.000000000', 'files': ['devstack/lib/cephadm'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/22d94f462eb11f27f1ba134b0e089305069a0b08', 'message': 'Remove pg_num and pgp_num config from bootstrap_ceph\n\nThe configuration that we are using by default that\nsets pg_num and pgp_num values in bootstrap_ceph\nbreaks devstack-plugin-ceph when using the latest Ceph version (quincy).\n\nThis patch sets removes the config for pg_num and pgp_num,\nso we delegate to Ceph the pools autoscaling.\n\nCloses-Bug: #1983107\nChange-Id: Iecd949ef2258ae8a6ded596219bb993aeff20de5\n'}]",3,851521,22d94f462eb11f27f1ba134b0e089305069a0b08,9,3,1,6413,,,0,"Remove pg_num and pgp_num config from bootstrap_ceph

The configuration that we are using by default that
sets pg_num and pgp_num values in bootstrap_ceph
breaks devstack-plugin-ceph when using the latest Ceph version (quincy).

This patch sets removes the config for pg_num and pgp_num,
so we delegate to Ceph the pools autoscaling.

Closes-Bug: #1983107
Change-Id: Iecd949ef2258ae8a6ded596219bb993aeff20de5
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/21/851521/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/cephadm'],1,22d94f462eb11f27f1ba134b0e089305069a0b08,bug/1983107,,osd_pool_default_pg_num = 8 osd_pool_default_pgp_num = 8,0,2
openstack%2Ftripleo-docs~master~I314712aaac8de21a4272eb96dcec069baa3dc898,openstack/tripleo-docs,master,I314712aaac8de21a4272eb96dcec069baa3dc898,"Fix typos of ""available"" and ""command""",MERGED,2022-07-20 06:46:41.000000000,2022-08-02 15:14:15.000000000,2022-08-02 15:12:44.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 29759}]","[{'number': 1, 'created': '2022-07-20 06:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a63848a2e971865298d65dbec2855f124f8008a3', 'message': 'Changed available and command spelling typo\n\nChange-Id: I314712aaac8de21a4272eb96dcec069baa3dc898\n'}, {'number': 2, 'created': '2022-07-20 07:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/136b0e55645b1813b97bc467a5ecb5a1cb0d85bc', 'message': 'Changed available and command spelling typo\n\nChange-Id: I314712aaac8de21a4272eb96dcec069baa3dc898\n'}, {'number': 3, 'created': '2022-07-27 10:04:35.000000000', 'files': ['doc/source/developer/tripleoclient_primer.rst', 'doc/source/developer/release.rst', 'doc/source/ci/content_provider_jobs.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/de002a06a5bf76ceba267fad52d541cb4858d49d', 'message': 'Fix typos of ""available"" and ""command""\n\nChange-Id: I314712aaac8de21a4272eb96dcec069baa3dc898\n'}]",4,850454,de002a06a5bf76ceba267fad52d541cb4858d49d,19,4,3,28743,,,0,"Fix typos of ""available"" and ""command""

Change-Id: I314712aaac8de21a4272eb96dcec069baa3dc898
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/54/850454/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/developer/tripleoclient_primer.rst', 'doc/source/developer/release.rst', 'doc/source/ci/content_provider_jobs.rst']",3,a63848a2e971865298d65dbec2855f124f8008a3,,provider job. This `makes the repo available via a HTTP server`_ on the,provider job. This `makes the repo availabe via a HTTP server`_ on the,3,3
openstack%2Fpuppet-neutron~master~If1ea40d783ac852865f6de00ddb2a1da090ca846,openstack/puppet-neutron,master,If1ea40d783ac852865f6de00ddb2a1da090ca846,Deprecate support for linuxbridge mechanism driver,MERGED,2022-07-07 13:22:09.000000000,2022-08-02 14:56:50.000000000,2022-08-02 14:55:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-07 13:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/138e309f8c54cccf53f5857ffc213f8026fc56c2', 'message': 'Deprecate support for linuxbridge mechanism driver\n\n... and disables it by default. The neutron team decided to make it\nexperimental[1] and now the plugin is not loaded unless the user\nexplicitly enables the experimental flag.\n\n[1] https://review.opendev.org/845181\n\nChange-Id: If1ea40d783ac852865f6de00ddb2a1da090ca846\n'}, {'number': 2, 'created': '2022-08-01 07:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3612ec9c0b534210be66520a848f90b8621ee3c9', 'message': 'Deprecate support for linuxbridge mechanism driver\n\n... and disables it by default. The neutron team decided to make it\nexperimental[1] and now the plugin is not loaded unless the user\nexplicitly enables the experimental flag.\n\n[1] https://review.opendev.org/845181\n\nChange-Id: If1ea40d783ac852865f6de00ddb2a1da090ca846\n'}, {'number': 3, 'created': '2022-08-01 10:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/33cca9ba41c7af06219cdc7c871a8d9450dd0172', 'message': 'Deprecate support for linuxbridge mechanism driver\n\n... and disables it by default. The neutron team decided to make it\nexperimental[1] and now the plugin is not loaded unless the user\nexplicitly enables the experimental flag.\n\n[1] https://review.opendev.org/845181\n\nChange-Id: If1ea40d783ac852865f6de00ddb2a1da090ca846\n'}, {'number': 4, 'created': '2022-08-01 10:20:35.000000000', 'files': ['manifests/agents/ml2/linuxbridge.pp', 'releasenotes/notes/deprecate-linuxbridge-c70a64f210cca859.yaml', 'spec/classes/neutron_plugins_ml2_spec.rb', 'manifests/plugins/ml2.pp', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9aa343f754e4f2837bc78027a39f1a7877b970d0', 'message': 'Deprecate support for linuxbridge mechanism driver\n\n... and disables it by default. The neutron team decided to make it\nexperimental[1] and now the plugin is not loaded unless the user\nexplicitly enables the experimental flag.\n\n[1] https://review.opendev.org/845181\n\nChange-Id: If1ea40d783ac852865f6de00ddb2a1da090ca846\n'}]",2,848958,9aa343f754e4f2837bc78027a39f1a7877b970d0,16,3,4,9816,,,0,"Deprecate support for linuxbridge mechanism driver

... and disables it by default. The neutron team decided to make it
experimental[1] and now the plugin is not loaded unless the user
explicitly enables the experimental flag.

[1] https://review.opendev.org/845181

Change-Id: If1ea40d783ac852865f6de00ddb2a1da090ca846
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/58/848958/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/linuxbridge.pp', 'releasenotes/notes/deprecate-linuxbridge-c70a64f210cca859.yaml', 'spec/classes/neutron_plugins_ml2_spec.rb', 'manifests/plugins/ml2.pp', 'manifests/config.pp']",5,138e309f8c54cccf53f5857ffc213f8026fc56c2,,"# [*linuxbridge_agent_config*] # (optional) Manage configuration of linuxbridge_agent.ini # $linuxbridge_agent_config = undef, if $linuxbridge_agent_config != undef { warning('The linuxbridge_agent_config parameter is deprecated.') validate_legacy(Hash, 'validate_hash', $linuxbridge_agent_config) create_resources('neutron_agent_linuxbridge', $linuxbridge_agent_config) } ","# [*linuxbridge_agent_config*] # (optional) Manage configuration of linuxbridge_agent.ini # $linuxbridge_agent_config = {}, validate_legacy(Hash, 'validate_hash', $linuxbridge_agent_config) create_resources('neutron_agent_linuxbridge', $linuxbridge_agent_config)",26,9
openstack%2Ftripleo-ansible~master~Icc8b833dc10f360a875e5c19bc1c5f85e0837d69,openstack/tripleo-ansible,master,Icc8b833dc10f360a875e5c19bc1c5f85e0837d69,Actually accept all on lo and ipv6-icmp,MERGED,2022-07-21 09:33:18.000000000,2022-08-02 14:46:33.000000000,2022-08-02 14:46:33.000000000,"[{'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-21 09:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f4ab6c0cdf4c751a71138b8e3464828dda8baac', 'message': 'Actually accept all on lo and ipv6-icmp\n\nBy default, when we don\'t pass any ""state"", ansible iptables module uses\nNEW - this is also done within the tripleo_nftables role.\n\nIn order to actually match *all* of lo and ipv6-icmp state, we have to\npass an empty list. This will allow to match the RST state among things.\n\nChange-Id: Icc8b833dc10f360a875e5c19bc1c5f85e0837d69\n'}, {'number': 2, 'created': '2022-07-22 09:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31412e5a4e88f1c89e1ea0fd9be3ab361291be09', 'message': 'Actually accept all on lo and ipv6-icmp\n\nBy default, when we don\'t pass any ""state"", ansible iptables module uses\nNEW - this is also done within the tripleo_nftables role.\n\nIn order to actually match *all* of lo and ipv6-icmp state, we have to\npass an empty list. This will allow to match the RST state among things.\n\nChange-Id: Icc8b833dc10f360a875e5c19bc1c5f85e0837d69\n'}, {'number': 3, 'created': '2022-07-22 09:45:32.000000000', 'files': ['tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nftables/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fea220321b5bd668573f069001001aaae20c5b0f', 'message': 'Actually accept all on lo and ipv6-icmp\n\nBy default, when we don\'t pass any ""state"", ansible iptables module uses\nNEW - this is also done within the tripleo_nftables role.\n\nIn order to actually match *all* of lo and ipv6-icmp state, we have to\npass an empty list. This will allow to match the RST state among things.\n\nChange-Id: Icc8b833dc10f360a875e5c19bc1c5f85e0837d69\n'}]",4,850620,fea220321b5bd668573f069001001aaae20c5b0f,16,4,3,28223,,,0,"Actually accept all on lo and ipv6-icmp

By default, when we don't pass any ""state"", ansible iptables module uses
NEW - this is also done within the tripleo_nftables role.

In order to actually match *all* of lo and ipv6-icmp state, we have to
pass an empty list. This will allow to match the RST state among things.

Change-Id: Icc8b833dc10f360a875e5c19bc1c5f85e0837d69
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/850620/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nftables/defaults/main.yml']",2,3f4ab6c0cdf4c751a71138b8e3464828dda8baac,nftables/logging, state: [] state: [],,4,0
openstack%2Fkayobe~master~I7a04d7e7c40a8a1c68044ee3eda83db64093fd6d,openstack/kayobe,master,I7a04d7e7c40a8a1c68044ee3eda83db64093fd6d,DNM: Test Bifrost + TLS,ABANDONED,2022-08-02 12:16:53.000000000,2022-08-02 14:46:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-02 12:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e84bb2e6cb6d01456621d25eb86a096164922e3e', 'message': 'DNM: Test Bifrost + TLS\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851838\n\nChange-Id: I7a04d7e7c40a8a1c68044ee3eda83db64093fd6d\n'}, {'number': 2, 'created': '2022-08-02 13:54:50.000000000', 'files': ['zuul.d/project.yaml', 'ansible/seed-credentials.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d3f48df26eef0bc33bffea1f3dd2b105c414faf4', 'message': 'DNM: Test Bifrost + TLS\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851838\n\nChange-Id: I7a04d7e7c40a8a1c68044ee3eda83db64093fd6d\n'}]",0,851851,d3f48df26eef0bc33bffea1f3dd2b105c414faf4,5,1,2,14826,,,0,"DNM: Test Bifrost + TLS

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851838

Change-Id: I7a04d7e7c40a8a1c68044ee3eda83db64093fd6d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/51/851851/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'ansible/seed-credentials.yml']",2,e84bb2e6cb6d01456621d25eb86a096164922e3e,,# TEST ME,,1,25
openstack%2Foslo.config~stable%2Fwallaby~I66d54512ea3be308867d41317be2363fe70c5c6b,openstack/oslo.config,stable/wallaby,I66d54512ea3be308867d41317be2363fe70c5c6b,[DNM] try to reproduce a CI issue,ABANDONED,2022-07-22 08:44:20.000000000,2022-08-02 14:45:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-22 08:44:20.000000000', 'files': ['oslo_config/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/7ffb9969683b0224f3fce02d21e96726d7e6e8da', 'message': '[DNM] try to reproduce a CI issue\n\nChange-Id: I66d54512ea3be308867d41317be2363fe70c5c6b\n'}]",0,850733,7ffb9969683b0224f3fce02d21e96726d7e6e8da,3,1,1,28522,,,0,"[DNM] try to reproduce a CI issue

Change-Id: I66d54512ea3be308867d41317be2363fe70c5c6b
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/33/850733/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/generator.py'],1,7ffb9969683b0224f3fce02d21e96726d7e6e8da,OSP17,,,1,0
openstack%2Fpython-openstackclient~master~I1436a6c1bdd881890e015cf0f1829c38378b36fa,openstack/python-openstackclient,master,I1436a6c1bdd881890e015cf0f1829c38378b36fa,Update the Nova CLI Mapping Guide,MERGED,2021-10-13 11:03:17.000000000,2022-08-02 14:45:02.000000000,2022-08-02 14:43:34.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-13 11:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/73dad0761efd6d147a0f2382a6552cd9a6966f1f', 'message': '[Doc] Update the Nova CLI Mapping Guide\n\nIn this patch, Update missing command in Mapping Guide.\n\nChange-Id: I1436a6c1bdd881890e015cf0f1829c38378b36fa\n'}, {'number': 2, 'created': '2021-10-14 01:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/25b36dc83367f3219d9eeb09660328f6feac3838', 'message': 'Update the Nova CLI Mapping Guide\n\nIn this patch, Update missing command in Mapping Guide.\n\nList of updated commands\nNova CLI\ninstance-action-list / server event list\n\nChange-Id: I1436a6c1bdd881890e015cf0f1829c38378b36fa\n'}, {'number': 3, 'created': '2021-10-14 02:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e16700081f4b53090df43286ac31981ee5b091e8', 'message': 'Update the Nova CLI Mapping Guide\n\nIn this patch, Update missing command in Mapping Guide.\n\nList of updated commands\nNova CLI\ninstance-action-list / server event list\n\nChange-Id: I1436a6c1bdd881890e015cf0f1829c38378b36fa\n'}, {'number': 4, 'created': '2021-10-14 02:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/41f5935572949422d139c9da6585fc4e100aaeac', 'message': 'Update the Nova CLI Mapping Guide\n\nUpdate missing command in Mapping Guide.\n\nList of updated command\n[Nova CLI / OSC]\ninstance-action-list / server event list\n\nChange-Id: I1436a6c1bdd881890e015cf0f1829c38378b36fa\n'}, {'number': 5, 'created': '2022-07-31 05:26:40.000000000', 'files': ['doc/source/cli/data/nova.csv'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e6adf37d12baa9d211eee71cb618d8ff327d3143', 'message': 'Update the Nova CLI Mapping Guide\n\nUpdate missing command in Mapping Guide.\n\nList of updated command\n[Nova CLI / OSC]\ninstance-action-list / server event list\n\nChange-Id: I1436a6c1bdd881890e015cf0f1829c38378b36fa\n'}]",5,813798,e6adf37d12baa9d211eee71cb618d8ff327d3143,23,2,5,33859,,,0,"Update the Nova CLI Mapping Guide

Update missing command in Mapping Guide.

List of updated command
[Nova CLI / OSC]
instance-action-list / server event list

Change-Id: I1436a6c1bdd881890e015cf0f1829c38378b36fa
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/98/813798/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/data/nova.csv'],1,73dad0761efd6d147a0f2382a6552cd9a6966f1f,I1436a6c1bdd881890e015cf0f1829c38378b36fa,"instance-action-list,server event list,List actions on a server.","instance-action-list,,List actions on a server.",1,1
openstack%2Fplacement~master~I072bb023fe3c197b757d3ea4232cefc1b27bb615,openstack/placement,master,I072bb023fe3c197b757d3ea4232cefc1b27bb615,doc: Comment out language option,MERGED,2022-06-06 15:33:58.000000000,2022-08-02 14:45:02.000000000,2022-08-02 14:43:32.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 15:33:58.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/19315d2132be150d0f024a4fa8473c7a7800a60c', 'message': ""doc: Comment out language option\n\n... because explicit language=None causes the below warning since\nSphinx 5.0.0.\n\nInvalid configuration value found: 'language = None'. Update your\nconfiguration to a valid language code. Falling back to 'en' (English).\n\nChange-Id: I072bb023fe3c197b757d3ea4232cefc1b27bb615\n""}]",2,844855,19315d2132be150d0f024a4fa8473c7a7800a60c,9,3,1,9816,,,0,"doc: Comment out language option

... because explicit language=None causes the below warning since
Sphinx 5.0.0.

Invalid configuration value found: 'language = None'. Update your
configuration to a valid language code. Falling back to 'en' (English).

Change-Id: I072bb023fe3c197b757d3ea4232cefc1b27bb615
",git fetch https://review.opendev.org/openstack/placement refs/changes/55/844855/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,19315d2132be150d0f024a4fa8473c7a7800a60c,doc-lang,# language = None,language = None,1,1
openstack%2Fglance~master~Id77010aac04aa9a4961c5bcafbf12694a0fe17c6,openstack/glance,master,Id77010aac04aa9a4961c5bcafbf12694a0fe17c6,Update exception for property protection file,MERGED,2021-11-26 06:28:18.000000000,2022-08-02 14:44:59.000000000,2022-08-02 14:43:28.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-26 06:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c8ad30356a0d78e2d21226db97b41c967d0b3038', 'message': 'Update exception for property protection file\n\nNon existing property protection file raises 500 Internal server\nerror. If admin/operator specifies non existing property protection\nfile in glance-api.conf. For example:\n    [Default]\n    property_protection_file = non_existing_file.yaml\n    property_protection_rule_format = policies\nThen create or update image. The 500 Internal server error wil be\nraised. But the expected result is 400 Bad Request.\n\nAdd the except of InavlidPropertyProtectionConfiguration exception,\nand return 400 Bad Request.\n\nThe previous code lacks the specific process of\nPropertyProtectionConfiguration exception, so it returned the common\n500 error. Now, it returns 400 Bad Request.\n\nChange-Id: Id77010aac04aa9a4961c5bcafbf12694a0fe17c6\n'}, {'number': 2, 'created': '2021-11-26 06:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e29a9884e3cc21a5ff45af43480337d7fa627f1c', 'message': 'Update exception for property protection file\n\nNon existing property protection file raises 500 Internal server\nerror. If admin/operator specifies non existing property protection\nfile in glance-api.conf. For example:\n    [Default]\n    property_protection_file = non_existing_file.yaml\n    property_protection_rule_format = policies\nThen create or update image. The 500 Internal server error wil be\nraised. But the expected result is 400 Bad Request.\n\nAdd the except of InavlidPropertyProtectionConfiguration exception,\nand return 400 Bad Request.\n\nThe previous code lacks the specific process of\nPropertyProtectionConfiguration exception, so it returned the common\n500 error. Now, it returns 400 Bad Request.\n\nCloses-Bug: #1905672\nChange-Id: Id77010aac04aa9a4961c5bcafbf12694a0fe17c6\n'}, {'number': 3, 'created': '2022-07-25 09:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a41328640a63c8364708425386629640586681d9', 'message': 'Update exception for property protection file\n\nNon existing property protection file raises 500 Internal server\nerror. If admin/operator specifies non existing property protection\nfile in glance-api.conf. For example:\n    [Default]\n    property_protection_file = non_existing_file.yaml\n    property_protection_rule_format = policies\nThen create or update image. The 500 Internal server error wil be\nraised. But the expected result is 400 Bad Request.\n\nAdd the except of InavlidPropertyProtectionConfiguration exception,\nand return 400 Bad Request.\n\nThe previous code lacks the specific process of\nPropertyProtectionConfiguration exception, so it returned the common\n500 error. Now, it returns 400 Bad Request.\n\nCloses-Bug: #1905672\nChange-Id: Id77010aac04aa9a4961c5bcafbf12694a0fe17c6\n'}, {'number': 4, 'created': '2022-07-25 09:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0f19adbbc2d6eb16012f3934d4ecc199322cb7f5', 'message': 'Update exception for property protection file\n\nNon existing property protection file raises 500 Internal server\nerror. If admin/operator specifies non existing property protection\nfile in glance-api.conf. For example:\n    [Default]\n    property_protection_file = non_existing_file.yaml\n    property_protection_rule_format = policies\nThen create or update image. The 500 Internal server error wil be\nraised. But the expected result is 400 Bad Request.\n\nAdd the except of InavlidPropertyProtectionConfiguration exception,\nand return 400 Bad Request.\n\nThe previous code lacks the specific process of\nPropertyProtectionConfiguration exception, so it returned the common\n500 error. Now, it returns 400 Bad Request.\n\nCloses-Bug: #1905672\nChange-Id: Id77010aac04aa9a4961c5bcafbf12694a0fe17c6\n'}, {'number': 5, 'created': '2022-08-01 17:38:52.000000000', 'files': ['glance/tests/unit/common/test_wsgi.py', 'glance/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4e59a04d27175533d7ae91b9acd23ffe32a5917a', 'message': 'Update exception for property protection file\n\nNon existing property protection file raises 500 Internal server\nerror. If admin/operator specifies non existing property protection\nfile in glance-api.conf. For example:\n    [Default]\n    property_protection_file = non_existing_file.yaml\n    property_protection_rule_format = policies\nThen create or update image. The 500 Internal server error will be\nraised. But the expected result is 400 Bad Request.\n\nAdd the except of InavlidPropertyProtectionConfiguration exception,\nand return 400 Bad Request.\n\nThe previous code lacks the specific process of\nPropertyProtectionConfiguration exception, so it returned the common\n500 error. Now, it returns 400 Bad Request.\n\nCloses-Bug: #1905672\nChange-Id: Id77010aac04aa9a4961c5bcafbf12694a0fe17c6\n'}]",13,819399,4e59a04d27175533d7ae91b9acd23ffe32a5917a,27,3,5,33786,,,0,"Update exception for property protection file

Non existing property protection file raises 500 Internal server
error. If admin/operator specifies non existing property protection
file in glance-api.conf. For example:
    [Default]
    property_protection_file = non_existing_file.yaml
    property_protection_rule_format = policies
Then create or update image. The 500 Internal server error will be
raised. But the expected result is 400 Bad Request.

Add the except of InavlidPropertyProtectionConfiguration exception,
and return 400 Bad Request.

The previous code lacks the specific process of
PropertyProtectionConfiguration exception, so it returned the common
500 error. Now, it returns 400 Bad Request.

Closes-Bug: #1905672
Change-Id: Id77010aac04aa9a4961c5bcafbf12694a0fe17c6
",git fetch https://review.opendev.org/openstack/glance refs/changes/99/819399/5 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/wsgi.py'],1,c8ad30356a0d78e2d21226db97b41c967d0b3038,bug/1905672," except exception.InvalidPropertyProtectionConfiguration as e: LOG.exception(_LE(""Caught error: %s""), encodeutils.exception_to_unicode(e)) raise webob.exc.HTTPBadRequest(explanation=e.msg)",,4,0
openstack%2Fnova~stable%2Fussuri~Ie904d1513b5cf76d6d5f6877545e8eb378dd5499,openstack/nova,stable/ussuri,Ie904d1513b5cf76d6d5f6877545e8eb378dd5499,Add a WA flag waiting for vif-plugged event during reboot,NEW,2021-11-19 15:33:13.000000000,2022-08-02 14:27:16.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-19 15:33:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1946729-wait-for-vif-plugged-event-during-hard-reboot-fb491f6a68370bab.yaml', '.zuul.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35e071470e2c5597444a7b85211a01e7fbc7c68b', 'message': 'Add a WA flag waiting for vif-plugged event during reboot\n\nThe libvirt driver power on and hard reboot destroys the domain first\nand unplugs the vifs then recreate the domain and replug the vifs.\nHowever nova does not wait for the network-vif-plugged event before\nunpause the domain. This can cause that the domain starts running and\nrequesting IP via DHCP before the networking backend finished plugging\nthe vifs.\n\nSo this patch adds a workaround config option to nova to wait for\nnetwork-vif-plugged events during hard reboot the same way as nova waits\nfor this event during new instance spawn.\n\nThis logic cannot be enabled unconditionally as not all neutron\nnetworking backend sending plug time events to wait for. Also the logic\nneeds to be vnic_type dependent as ml2/ovs and the in tree sriov backend\noften deployed together on the same compute. While ml2/ovs sends plug\ntime event the sriov backend does not send it reliably. So the\nconfiguration is not just a boolean flag but a list of vnic_types\ninstead. This way the waiting for the plug time event for a vif that is\nhandled by ml2/ovs is possible while the instance has other vifs handled\nby the sriov backend where no event can be expected.\n\nConflicts:\n      nova/tests/unit/virt/libvirt/test_driver.py\n      nova/virt/libvirt/driver.py\n\nBoth conflict is due to I2489bf16dabc8a83b2044139247f4245ae29adb1 not in\nstable/ussuri\n\nChange-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499\nCloses-Bug: #1946729\n(cherry picked from commit 68c970ea9915a95f9828239006559b84e4ba2581)\n(cherry picked from commit 0c41bfb8c5c60f1cc930ae432e6be460ee2e97ac)\n(cherry picked from commit 89c4ff5f7b45f1a5bed8b6b9b4586fceaa391bfb)\n(cherry picked from commit c531fdcc192afb5af628ac567cb0ff8aa3eab052)\n'}]",3,818564,35e071470e2c5597444a7b85211a01e7fbc7c68b,5,2,1,9708,,,0,"Add a WA flag waiting for vif-plugged event during reboot

The libvirt driver power on and hard reboot destroys the domain first
and unplugs the vifs then recreate the domain and replug the vifs.
However nova does not wait for the network-vif-plugged event before
unpause the domain. This can cause that the domain starts running and
requesting IP via DHCP before the networking backend finished plugging
the vifs.

So this patch adds a workaround config option to nova to wait for
network-vif-plugged events during hard reboot the same way as nova waits
for this event during new instance spawn.

This logic cannot be enabled unconditionally as not all neutron
networking backend sending plug time events to wait for. Also the logic
needs to be vnic_type dependent as ml2/ovs and the in tree sriov backend
often deployed together on the same compute. While ml2/ovs sends plug
time event the sriov backend does not send it reliably. So the
configuration is not just a boolean flag but a list of vnic_types
instead. This way the waiting for the plug time event for a vif that is
handled by ml2/ovs is possible while the instance has other vifs handled
by the sriov backend where no event can be expected.

Conflicts:
      nova/tests/unit/virt/libvirt/test_driver.py
      nova/virt/libvirt/driver.py

Both conflict is due to I2489bf16dabc8a83b2044139247f4245ae29adb1 not in
stable/ussuri

Change-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499
Closes-Bug: #1946729
(cherry picked from commit 68c970ea9915a95f9828239006559b84e4ba2581)
(cherry picked from commit 0c41bfb8c5c60f1cc930ae432e6be460ee2e97ac)
(cherry picked from commit 89c4ff5f7b45f1a5bed8b6b9b4586fceaa391bfb)
(cherry picked from commit c531fdcc192afb5af628ac567cb0ff8aa3eab052)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/818564/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1946729-wait-for-vif-plugged-event-during-hard-reboot-fb491f6a68370bab.yaml', '.zuul.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,35e071470e2c5597444a7b85211a01e7fbc7c68b,bug/1946729," block_device_info=block_device_info, vifs_already_plugged=True, external_events=[]) @mock.patch('oslo_utils.fileutils.ensure_tree', new=mock.Mock()) @mock.patch('nova.virt.libvirt.LibvirtDriver.get_info') @mock.patch('nova.virt.libvirt.LibvirtDriver._create_domain_and_network') @mock.patch('nova.virt.libvirt.LibvirtDriver._get_guest_xml') @mock.patch('nova.virt.libvirt.LibvirtDriver.destroy', new=mock.Mock()) @mock.patch( 'nova.virt.libvirt.LibvirtDriver._get_all_assigned_mediated_devices', new=mock.Mock(return_value={})) def test_hard_reboot_wait_for_plug( self, mock_get_guest_xml, mock_create_domain_and_network, mock_get_info ): self.flags( group=""workarounds"", wait_for_vif_plugged_event_during_hard_reboot=[""normal""]) self.context.auth_token = None instance = objects.Instance(**self.test_instance) network_info = _fake_network_info(self, num_networks=4) network_info[0][""vnic_type""] = ""normal"" network_info[1][""vnic_type""] = ""direct"" network_info[2][""vnic_type""] = ""normal"" network_info[3][""vnic_type""] = ""direct-physical"" block_device_info = None return_values = [hardware.InstanceInfo(state=power_state.SHUTDOWN), hardware.InstanceInfo(state=power_state.RUNNING)] mock_get_info.side_effect = return_values mock_get_guest_xml.return_value = mock.sentinel.xml drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._hard_reboot( self.context, instance, network_info, block_device_info) mock_create_domain_and_network.assert_called_once_with( self.context, mock.sentinel.xml, instance, network_info, block_device_info=block_device_info, vifs_already_plugged=False, external_events=[ ('network-vif-plugged', uuids.vif1), ('network-vif-plugged', uuids.vif3), ] )"," block_device_info=block_device_info, vifs_already_plugged=True)",145,9
openstack%2Ftripleo-image-elements~master~I27be9c3e82ed20dcfc7a6f7dcb992006d44f933f,openstack/tripleo-image-elements,master,I27be9c3e82ed20dcfc7a6f7dcb992006d44f933f,Add a separate /boot partition,MERGED,2022-06-20 23:03:46.000000000,2022-08-02 14:25:52.000000000,2022-08-02 14:24:46.000000000,"[{'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 8833}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30750}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-06-20 23:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/96a74af88c4b432152d55f50203e37a6dc44f742', 'message': ""WIP Add a separate /boot partition\n\nThe overcloud-hardened-uefi-full image now has a separate partition\nmounted to /boot. This means grub no longer needs to mount the root\npartition. This will allow trying layouts which grub doesn't support,\nsuch as LVM thin-provisioning. Since grub now uses the common path of\nloading an ext4 /boot partition, early boot may now be more robust, or\nhave better error messages for incorrectly built images.\n\nWIP, there needs to be a script which fixes the /boot/loader/entries\nfile paths based on whether there is a /boot partition.\n\nChange-Id: I27be9c3e82ed20dcfc7a6f7dcb992006d44f933f\n""}, {'number': 2, 'created': '2022-06-21 02:06:47.000000000', 'files': ['releasenotes/notes/boot-partition-6ad1ce7255b1715e.yaml', 'elements/overcloud-partition-uefi/block-device-default.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/e57e998b0e8069aba4ce1a2082389105e750c05e', 'message': ""Add a separate /boot partition\n\nThe overcloud-hardened-uefi-full image now has a separate partition\nmounted to /boot. This means grub no longer needs to mount the root\npartition. This will allow trying layouts which grub doesn't support,\nsuch as LVM thin-provisioning. Since grub now uses the common path of\nloading an ext4 /boot partition, early boot may now be more robust, or\nhave better error messages for incorrectly built images.\n\nChange-Id: I27be9c3e82ed20dcfc7a6f7dcb992006d44f933f\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/846838\n""}]",3,846807,e57e998b0e8069aba4ce1a2082389105e750c05e,22,9,2,4571,,,0,"Add a separate /boot partition

The overcloud-hardened-uefi-full image now has a separate partition
mounted to /boot. This means grub no longer needs to mount the root
partition. This will allow trying layouts which grub doesn't support,
such as LVM thin-provisioning. Since grub now uses the common path of
loading an ext4 /boot partition, early boot may now be more robust, or
have better error messages for incorrectly built images.

Change-Id: I27be9c3e82ed20dcfc7a6f7dcb992006d44f933f
Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/846838
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/07/846807/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/boot-partition-6ad1ce7255b1715e.yaml', 'elements/overcloud-partition-uefi/block-device-default.yaml']",2,96a74af88c4b432152d55f50203e37a6dc44f742,bootpart," - name: boot type: 'BC13C2FF-59E6-4262-A352-B275FD6F7172' size: 500MB mkfs: type: ext4 mount: mount_point: /boot fstab: options: ""defaults"" fsck-passno: 1 size: 5500MB", size: 6G,20,1
openstack%2Ftripleo-image-elements~master~I990493b51d87a40140c1648f2b04c982ce959b1d,openstack/tripleo-image-elements,master,I990493b51d87a40140c1648f2b04c982ce959b1d,Delete unused elements,MERGED,2022-04-20 01:19:49.000000000,2022-08-02 14:24:44.000000000,2022-08-02 14:24:44.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-20 01:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/d0ed6eeab7d2904bc86a865e3ed4220eebd2a799', 'message': ""Delete unused elements\n\ndelorean-repo:\nreplaced by tripleo-repos and other repo setup approaches\n\nhosts:\nheat hasn't manage hosts file for many releases\n\nlocalboot:\nreplaced by diskimage-builder grub2, bootloader elements\n\nntp:\nreplaced by installing chrony package\n\nos-net-config:\nthe package is installed by other elements, and the script is now\ncalled from ansible\n\novercloud-dracut:\nreplaced by diskimage-builder dracut-regenerate element\n\novercloud-partition:\nno image now uses this, overcloud-hardened-uefi-full uses\novercloud-partition-uefi\n\nChange-Id: I990493b51d87a40140c1648f2b04c982ce959b1d\n""}, {'number': 2, 'created': '2022-07-04 04:23:33.000000000', 'files': ['elements/delorean-repo/pre-install.d/01-delorean-repo', 'elements/localboot/cleanup.d/99-adjust-grub-conf', 'elements/hosts/element-deps', 'elements/localboot/element-deps', 'elements/overcloud-partition/environment.d/15-block-device.bash', 'elements/overcloud-dracut/package-installs.yaml', 'elements/os-net-config/environment.d/10-os-net-config-venv-dir.bash', 'elements/ntp/os-refresh-config/configure.d/50-ntp', 'elements/overcloud-partition/README.rst', 'elements/localboot/os-refresh-config/configure.d/01-bootable', 'elements/ntp/element-deps', 'elements/overcloud-dracut/finalise.d/98-regenerate-initramfs', 'elements/os-net-config/element-deps', 'elements/hosts/os-refresh-config/configure.d/51-hosts', 'elements/delorean-repo/element-deps', 'elements/os-net-config/README.md', 'elements/os-net-config/package-installs.yaml', 'elements/overcloud-dracut/element-deps', 'elements/delorean-repo/README.md', 'elements/overcloud-partition/element-deps', 'elements/os-net-config/pkg-map', 'elements/overcloud-dracut/README.rst', 'elements/overcloud-partition/block-device-default.yaml', 'elements/localboot/README.md', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/localboot/install.d/99-boot-helpers', 'elements/os-net-config/os-refresh-config/configure.d/20-os-net-config', 'elements/delorean-repo/pre-install.d/01-delorean-clean-metadata', 'elements/hosts/package-installs.yaml', 'elements/ntp/README.md', 'elements/overcloud-partition/post-install.d/99-enable-tmp-mount', 'elements/overcloud-partition/element-provides', 'elements/os-net-config/os-apply-config/etc/os-net-config/element_config.json', 'elements/hosts/pkg-map', 'elements/ntp/install.d/50-ntp', 'elements/ntp/os-apply-config/etc/ntp.conf', 'elements/ntp/svc-map', 'elements/hosts/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/44abab621f427924766149dd53db81374cd8bcd6', 'message': ""Delete unused elements\n\ndelorean-repo:\nreplaced by tripleo-repos and other repo setup approaches\n\nhosts:\nheat hasn't manage hosts file for many releases\n\nlocalboot:\nreplaced by diskimage-builder grub2, bootloader elements\n\nntp:\nreplaced by installing chrony package\n\nos-net-config:\nthe package is installed by other elements, and the script is now\ncalled from ansible\n\novercloud-dracut:\nreplaced by diskimage-builder dracut-regenerate element\n\novercloud-partition:\nno image now uses this, overcloud-hardened-uefi-full uses\novercloud-partition-uefi\n\nChange-Id: I990493b51d87a40140c1648f2b04c982ce959b1d\n""}]",0,838617,44abab621f427924766149dd53db81374cd8bcd6,14,5,2,4571,,,0,"Delete unused elements

delorean-repo:
replaced by tripleo-repos and other repo setup approaches

hosts:
heat hasn't manage hosts file for many releases

localboot:
replaced by diskimage-builder grub2, bootloader elements

ntp:
replaced by installing chrony package

os-net-config:
the package is installed by other elements, and the script is now
called from ansible

overcloud-dracut:
replaced by diskimage-builder dracut-regenerate element

overcloud-partition:
no image now uses this, overcloud-hardened-uefi-full uses
overcloud-partition-uefi

Change-Id: I990493b51d87a40140c1648f2b04c982ce959b1d
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/17/838617/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/delorean-repo/pre-install.d/01-delorean-repo', 'elements/localboot/cleanup.d/99-adjust-grub-conf', 'elements/hosts/element-deps', 'elements/localboot/element-deps', 'elements/overcloud-partition/environment.d/15-block-device.bash', 'elements/overcloud-dracut/package-installs.yaml', 'elements/os-net-config/environment.d/10-os-net-config-venv-dir.bash', 'elements/ntp/os-refresh-config/configure.d/50-ntp', 'elements/overcloud-partition/README.rst', 'elements/localboot/os-refresh-config/configure.d/01-bootable', 'elements/ntp/element-deps', 'elements/overcloud-dracut/finalise.d/98-regenerate-initramfs', 'elements/os-net-config/element-deps', 'elements/hosts/os-refresh-config/configure.d/51-hosts', 'elements/delorean-repo/element-deps', 'elements/os-net-config/README.md', 'elements/os-net-config/package-installs.yaml', 'elements/overcloud-dracut/element-deps', 'elements/delorean-repo/README.md', 'elements/overcloud-partition/element-deps', 'elements/os-net-config/pkg-map', 'elements/overcloud-dracut/README.rst', 'elements/overcloud-partition/block-device-default.yaml', 'elements/localboot/README.md', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/localboot/install.d/99-boot-helpers', 'elements/os-net-config/os-refresh-config/configure.d/20-os-net-config', 'elements/delorean-repo/pre-install.d/01-delorean-clean-metadata', 'elements/hosts/package-installs.yaml', 'elements/ntp/README.md', 'elements/overcloud-partition/post-install.d/99-enable-tmp-mount', 'elements/overcloud-partition/element-provides', 'elements/os-net-config/os-apply-config/etc/os-net-config/element_config.json', 'elements/hosts/pkg-map', 'elements/ntp/install.d/50-ntp', 'elements/ntp/os-apply-config/etc/ntp.conf', 'elements/ntp/svc-map', 'elements/hosts/README.md']",38,d0ed6eeab7d2904bc86a865e3ed4220eebd2a799,image-refactor,,Permit injecting content into /etc/hosts from heat # Configuration hosts: '192.0.2.1 my-host.example.com' ,0,742
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I899edff51233e61609071b340ab9eb05ed6e398a,openstack/tripleo-heat-templates,stable/wallaby,I899edff51233e61609071b340ab9eb05ed6e398a,[Wallaby-Only]Fix glance SRBAC policies,MERGED,2022-07-26 10:03:43.000000000,2022-08-02 14:24:41.000000000,2022-08-02 14:24:41.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-26 10:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d88414d22a23b6883a2361ba37e6fa0008e0a422', 'message': ""[Wallaby-Only]Modify glance default THT policies as per core glance policies\n\nThis change[1] had added some default policies for all the services,\nand backported as it is in Wallaby including the glance policies for\nthose apis as well which doesn't have project-persona support implemented\nin Wallaby. In glance, SRBAC project-persona support for few apis was\nadded/updated in Xena cycle, ex. metadef apis & modify_image.\n\nModifying the glance default policies for metadef apis & modify image in\nenable-secure-rbac.yaml according to the core glance policies there\nin wallaby.\n\n[1]: https://review.opendev.org/q/I9957243d307758f56b84cde3a408006d8161fa41\n\nChange-Id: I899edff51233e61609071b340ab9eb05ed6e398a\n""}, {'number': 2, 'created': '2022-07-26 10:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ffc1367a01047531aae7b2204cac0e494b1f194', 'message': ""[Wallaby-Only]Modify glance default THT policies as per core glance policies\n\nThis change[1] had added some default policies for all the services,\nand backported as it is in Wallaby including the glance policies for\nthose apis as well which doesn't have project-persona support implemented\nin Wallaby. In glance, SRBAC project-persona support for few apis was\nadded/updated in Xena cycle, ex. metadef apis & modify_image.\n\nModifying the glance default policies for metadef apis & modify image in\nenable-secure-rbac.yaml according to the core glance policies there\nin wallaby.\n\n[1]: https://review.opendev.org/q/I9957243d307758f56b84cde3a408006d8161fa41\n\nChange-Id: I899edff51233e61609071b340ab9eb05ed6e398a\n""}, {'number': 3, 'created': '2022-07-26 10:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d9f1c17ab183ae842d3e367fe8e65e38e0de68c', 'message': ""[Wallaby-Only]Modify glance default THT policies as per core glance policies\n\nThis change[1] had added some default policies for all the services,\nand backported as it is in Wallaby including the glance policies for\nthose apis as well which doesn't have project-persona support implemented\nin Wallaby. In glance, SRBAC project-persona support for few apis was\nadded/updated in Xena cycle, ex. metadef apis & modify_member.\n\nModifying the glance default policies for metadef apis & modify image in\nenable-secure-rbac.yaml according to the core glance policies there\nin wallaby.\n\n[1]: https://review.opendev.org/q/I9957243d307758f56b84cde3a408006d8161fa41\n\nChange-Id: I899edff51233e61609071b340ab9eb05ed6e398a\n""}, {'number': 4, 'created': '2022-07-29 11:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b0af35af2bb2013c616537983f8abc0829cb77f', 'message': '[Wallaby-Only]Fix glance SRBAC policies\n\nThe change[1] had added some default policies for all the services,\nand backported as it is in Wallaby, but in glance, SRBAC\nproject-persona support for few apis was added/updated in Xena\ncycle.\n\nThis commit fixes secure-rbac policy overrides so that they work\nwith wallaby glance policies.\n\n[1]: I9957243d307758f56b84cde3a408006d8161fa41\n\nChange-Id: I899edff51233e61609071b340ab9eb05ed6e398a\n'}, {'number': 5, 'created': '2022-08-01 06:20:22.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b12b608af218105f5f9e21a055ba04b893e6bdf', 'message': '[Wallaby-Only]Fix glance SRBAC policies\n\nThe change[1] had added some default policies for all the services,\nand backported as it is in Wallaby, but in glance, SRBAC\nproject-persona support for few apis was added/updated in Xena\ncycle.\n\nThis commit fixes secure-rbac policy overrides so that they work\nwith wallaby glance policies.\n\n[1]: I9957243d307758f56b84cde3a408006d8161fa41\n\nChange-Id: I899edff51233e61609071b340ab9eb05ed6e398a\n'}]",24,851009,4b12b608af218105f5f9e21a055ba04b893e6bdf,35,9,5,19138,,,0,"[Wallaby-Only]Fix glance SRBAC policies

The change[1] had added some default policies for all the services,
and backported as it is in Wallaby, but in glance, SRBAC
project-persona support for few apis was added/updated in Xena
cycle.

This commit fixes secure-rbac policy overrides so that they work
with wallaby glance policies.

[1]: I9957243d307758f56b84cde3a408006d8161fa41

Change-Id: I899edff51233e61609071b340ab9eb05ed6e398a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/851009/4 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,d88414d22a23b6883a2361ba37e6fa0008e0a422,," value: ""role:admin or (role:member and project_id:%(project_id)s)"" value: ""rule:metadef_default"" value: ""rule:metadef_default"" value: ""rule:metadef_default"" value: ""rule:metadef_default"" value: ""rule:metadef_default"" value: ""rule:metadef_default"" value: ""rule:metadef_default"" value: ""rule:metadef_default"" value: ""rule:metadef_default"" value: ""rule:metadef_default"""," # The glance policies in Xena implement project-personas by default, so these # policies do not need to change. However, keeping them defined here with # GlanceApiPolicies will put them in /etc/glance/policy.yaml which will be # redundant with the defaults. This may change in the future as glance # evolves it's policies in Yoga to consume system scope. value: ""role:admin or (role:member and project_id:%(member_id)s)"" value: ""role:admin or (role:reader and (project_id:%(project_id)s or 'public':%(visibility)s))"" value: ""role:admin or (role:reader and project_id:%(project_id)s)"" value: ""role:admin or (role:reader and (project_id:%(project_id)s or 'public':%(visibility)s))"" value: ""role:admin or (role:reader and (project_id:%(project_id)s or 'public':%(visibility)s))"" value: ""role:admin or (role:reader and (project_id:%(project_id)s or 'public':%(visibility)s))"" value: ""role:admin or (role:reader and (project_id:%(project_id)s or 'public':%(visibility)s))"" value: ""role:admin or (role:reader and (project_id:%(project_id)s or 'public':%(visibility)s))"" value: ""role:admin or (role:reader and (project_id:%(project_id)s or 'public':%(visibility)s))"" value: ""role:admin or (role:reader and (project_id:%(project_id)s or 'public':%(visibility)s))"" value: ""role:admin or (role:reader and (project_id:%(project_id)s or 'public':%(visibility)s))""",11,16
openstack%2Fpuppet-ironic~stable%2Fxena~I34cff90cbeba1b9b3d043386ee1b47e7039588c2,openstack/puppet-ironic,stable/xena,I34cff90cbeba1b9b3d043386ee1b47e7039588c2,Add support for [disk_utils] parameters,MERGED,2022-07-19 09:08:38.000000000,2022-08-02 14:23:04.000000000,2022-08-02 14:21:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-19 09:08:38.000000000', 'files': ['manifests/disk_utils.pp', 'spec/classes/ironic_disk_utils_spec.rb', 'releasenotes/notes/disk_utils-ff85c8b00595d8b8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/6aa42e8486bb8e944d1cbdd1f025950605673bef', 'message': 'Add support for [disk_utils] parameters\n\nChange-Id: I34cff90cbeba1b9b3d043386ee1b47e7039588c2\n(cherry picked from commit ba8ff2980f4d8858f35fc2560be8592db17fa45d)\n'}]",0,850038,6aa42e8486bb8e944d1cbdd1f025950605673bef,9,4,1,9816,,,0,"Add support for [disk_utils] parameters

Change-Id: I34cff90cbeba1b9b3d043386ee1b47e7039588c2
(cherry picked from commit ba8ff2980f4d8858f35fc2560be8592db17fa45d)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/38/850038/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/disk_utils.pp', 'spec/classes/ironic_disk_utils_spec.rb', 'releasenotes/notes/disk_utils-ff85c8b00595d8b8.yaml']",3,6aa42e8486bb8e944d1cbdd1f025950605673bef,disk_utils-stable/xena,--- features: - | The new ``ironic::disk_utils`` class has been added. ,,125,0
openstack%2Fpuppet-openstack-integration~master~I22d48bc7616caf66157110d6f3f5d66d943aee43,openstack/puppet-openstack-integration,master,I22d48bc7616caf66157110d6f3f5d66d943aee43,Glance: Test cinder backend,MERGED,2022-06-06 07:00:55.000000000,2022-08-02 14:23:01.000000000,2022-08-02 14:23:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 07:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9149149d461d037de74014f8e883876ed27e3aff', 'message': 'Glance: Test cinder backend\n\nChange-Id: I22d48bc7616caf66157110d6f3f5d66d943aee43\n'}, {'number': 2, 'created': '2022-06-06 11:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/451fd2a24c46fb6f2bfee1998e654fb404f03e6d', 'message': 'Glance: Test cinder backend\n\nChange-Id: I22d48bc7616caf66157110d6f3f5d66d943aee43\n'}, {'number': 3, 'created': '2022-06-06 11:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c42844b13fb928d578018e1fe7b9fc05fa067815', 'message': 'Glance: Test cinder backend\n\nThis enables cinder backend in Glance in scenario 005 job so that we\ncan test the deployment architecture as part of integration jobs.\n\nChange-Id: I22d48bc7616caf66157110d6f3f5d66d943aee43\n'}, {'number': 4, 'created': '2022-06-06 11:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/83aeb9e3ec74b1125bb675b29b7af7c28d81b8cf', 'message': 'Glance: Test cinder backend\n\nThis enables cinder backend in Glance in scenario 005 job so that we\ncan test the deployment architecture as part of integration jobs.\n\nDepends-on: https://review.opendev.org/844813\nChange-Id: I22d48bc7616caf66157110d6f3f5d66d943aee43\n'}, {'number': 5, 'created': '2022-06-06 14:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/053251cea37ec18c83467684d1d7ab8e29eaecd9', 'message': 'Glance: Test cinder backend\n\nThis enables cinder backend in Glance in scenario 005 job so that we\ncan test the deployment architecture as part of integration jobs.\n\nDepends-on: https://review.opendev.org/844813\nChange-Id: I22d48bc7616caf66157110d6f3f5d66d943aee43\n'}, {'number': 6, 'created': '2022-06-06 15:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d3400279917797c5b7f996f06bd8f134cdd90f0a', 'message': 'Glance: Test cinder backend\n\nThis enables cinder backend in Glance in scenario 005 job so that we\ncan test the deployment architecture as part of integration jobs.\n\nDepends-on: https://review.opendev.org/844813\nChange-Id: I22d48bc7616caf66157110d6f3f5d66d943aee43\n'}, {'number': 7, 'created': '2022-08-01 11:22:23.000000000', 'files': ['manifests/glance.pp', 'run_tests.sh', 'fixtures/scenario001.pp', 'fixtures/scenario005.pp', 'manifests/tempest.pp', 'playbooks/prepare-node-integration.yaml', 'manifests/provision.pp', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b89202e26758c8682b58723786acba0606e57769', 'message': 'Glance: Test cinder backend\n\nThis enables cinder backend in Glance in scenario 005 job so that we\ncan test the deployment architecture as part of integration jobs.\n\nDepends-on: https://review.opendev.org/844813\nChange-Id: I22d48bc7616caf66157110d6f3f5d66d943aee43\n'}]",2,844781,b89202e26758c8682b58723786acba0606e57769,23,3,7,9816,,,0,"Glance: Test cinder backend

This enables cinder backend in Glance in scenario 005 job so that we
can test the deployment architecture as part of integration jobs.

Depends-on: https://review.opendev.org/844813
Change-Id: I22d48bc7616caf66157110d6f3f5d66d943aee43
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/81/844781/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/glance.pp', 'fixtures/scenario005.pp', 'README.md']",3,9149149d461d037de74014f8e883876ed27e3aff,,| glance | | rbd | swift | file | swift+rgw | cinder | file || cinder | | rbd | iscsi | | | iscsi | iscsi |,| glance | | rbd | swift | file | swift+rgw | file | file || cinder | | rbd | iscsi | | | | iscsi |,17,4
openstack%2Fpuppet-openstack-integration~master~Ie54427cf00292cb7225cdfa7a62a3b3e0eb2b7fb,openstack/puppet-openstack-integration,master,Ie54427cf00292cb7225cdfa7a62a3b3e0eb2b7fb,Test deployment of Octavia dashboard,MERGED,2022-07-04 00:29:25.000000000,2022-08-02 13:59:47.000000000,2022-08-02 13:59:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 00:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9feec833037e36489ae484b2319137ad3e7bac11', 'message': 'Test deployment of Octavia dashboard\n\nThis change enables horizon and its octavia dashboard plugin in\nscenario 004 to test that deployment pattern.\n\nChange-Id: Ie54427cf00292cb7225cdfa7a62a3b3e0eb2b7fb\n'}, {'number': 2, 'created': '2022-07-31 06:31:54.000000000', 'files': ['fixtures/scenario004.pp', 'README.md', 'manifests/horizon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/25ad653e67f2c1e1c40868cb9b4ae13fe070c717', 'message': 'Test deployment of Octavia dashboard\n\nThis change enables horizon and its octavia dashboard plugin in\nscenario 004 to test that deployment pattern.\n\nChange-Id: Ie54427cf00292cb7225cdfa7a62a3b3e0eb2b7fb\n'}]",0,848552,25ad653e67f2c1e1c40868cb9b4ae13fe070c717,10,3,2,9816,,,0,"Test deployment of Octavia dashboard

This change enables horizon and its octavia dashboard plugin in
scenario 004 to test that deployment pattern.

Change-Id: Ie54427cf00292cb7225cdfa7a62a3b3e0eb2b7fb
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/52/848552/2 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario004.pp', 'README.md', 'manifests/horizon.pp']",3,9feec833037e36489ae484b2319137ad3e7bac11,octavia-ui-test,"# [*octavia_enabled*] # (optional) Flag to enable octavia dashboard # Defaults to false. # $heat_enabled = false, $octavia_enabled = false, if $octavia_enabled { class { 'horizon::dashboards::octavia': } }"," $heat_enabled = false,",14,2
openstack%2Fpuppet-openstack-integration~master~I30dd59631cc8a8ae5345c537058d8e08ed827ad3,openstack/puppet-openstack-integration,master,I30dd59631cc8a8ae5345c537058d8e08ed827ad3,Enable dashboard scenario tests,MERGED,2022-03-23 10:17:02.000000000,2022-08-02 13:59:45.000000000,2022-08-02 13:59:45.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-23 10:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9ed078823dedcd5876962b042d6931343313ad16', 'message': ""Enable dashboard scenario tests\n\nCurrently there is no test to check functionality of Horizon, and\nbecause of this missing test coverage we didn't notice a syntax error.\n\nThis change attempts to re-enable the dashboard scenario test to ensure\nhorizon configurations can be loaded without error.\n\nChange-Id: I30dd59631cc8a8ae5345c537058d8e08ed827ad3\n""}, {'number': 2, 'created': '2022-03-24 16:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/199a7c059cc35da6683e12eed1e951a5666b802f', 'message': ""Enable dashboard scenario tests\n\nCurrently there is no test to check functionality of Horizon, and\nbecause of this missing test coverage we didn't notice a syntax error.\n\nThis change attempts to re-enable the dashboard scenario test to ensure\nhorizon configurations can be loaded without error.\n\nRelated-Bug: #1965970\nDepeneds-on: https://review.opendev.org/834745\nChange-Id: I30dd59631cc8a8ae5345c537058d8e08ed827ad3\n""}, {'number': 3, 'created': '2022-03-24 23:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6beed5bf1b47a9cfaac40940bbfb7f0d02253842', 'message': ""Enable dashboard scenario tests\n\nCurrently there is no test to check functionality of Horizon, and\nbecause of this missing test coverage we didn't notice a syntax error.\n\nThis change attempts to re-enable the dashboard scenario test to ensure\nhorizon configurations can be loaded without error.\n\nRelated-Bug: #1965970\nDepeneds-on: https://review.opendev.org/834745\nChange-Id: I30dd59631cc8a8ae5345c537058d8e08ed827ad3\n""}, {'number': 4, 'created': '2022-03-25 00:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/98b0d44784f5d60d181c86fa5ed69f1dbe2cc447', 'message': ""Enable dashboard scenario tests\n\nCurrently there is no test to check functionality of Horizon, and\nbecause of this missing test coverage we didn't notice a syntax error.\n\nThis change attempts to re-enable the dashboard scenario test to ensure\nhorizon configurations can be loaded without error.\n\nRelated-Bug: #1965970\nDepeneds-on: https://review.opendev.org/834745\nChange-Id: I30dd59631cc8a8ae5345c537058d8e08ed827ad3\n""}, {'number': 5, 'created': '2022-07-30 15:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/42abf230152ffb460e622692270bb6995519fe3b', 'message': ""Enable dashboard scenario tests\n\nCurrently there is no test to check functionality of Horizon, and\nbecause of this missing test coverage we didn't notice a syntax error.\n\nThis change attempts to re-enable the dashboard scenario test to ensure\nhorizon configurations can be loaded without error.\n\nRelated-Bug: #1965970\nChange-Id: I30dd59631cc8a8ae5345c537058d8e08ed827ad3\n""}, {'number': 6, 'created': '2022-07-30 15:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a99e10391aac2cefbd652c7d3ff4f4f0663acb5f', 'message': ""Enable dashboard scenario tests\n\nCurrently there is no test to check functionality of Horizon, and\nbecause of this missing test coverage we didn't notice a syntax error.\n\nThis change attempts to re-enable the dashboard scenario test to ensure\nhorizon configurations can be loaded without error.\n\nRelated-Bug: #1965970\nChange-Id: I30dd59631cc8a8ae5345c537058d8e08ed827ad3\n""}, {'number': 7, 'created': '2022-07-30 15:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7633f31cd2714faa8691242bc8bbf54c6cfd937c', 'message': ""Enable dashboard scenario tests\n\nCurrently there is no test to check functionality of Horizon, and\nbecause of this missing test coverage we didn't notice a syntax error.\n\nThis change attempts to re-enable the dashboard scenario test to ensure\nhorizon configurations can be loaded without error.\n\nRelated-Bug: #1965970\nChange-Id: I30dd59631cc8a8ae5345c537058d8e08ed827ad3\n""}, {'number': 8, 'created': '2022-07-30 17:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c9f090aa0888633cfa80346d0f369f04a7f2e1be', 'message': ""Enable dashboard scenario tests\n\nCurrently there is no test to check functionality of Horizon, and\nbecause of this missing test coverage we didn't notice a syntax error.\n\nThis change attempts to re-enable the dashboard scenario test to ensure\nhorizon configurations can be loaded without error.\n\nRelated-Bug: #1965970\nDepends-on: https://review.opendev.org/851668\nChange-Id: I30dd59631cc8a8ae5345c537058d8e08ed827ad3\n""}, {'number': 9, 'created': '2022-07-30 17:16:51.000000000', 'files': ['run_tests.sh', 'manifests/tempest.pp', 'manifests/horizon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/69f7ee3189f8b42a00aaa55fc6297f1cfaa2d71a', 'message': ""Enable dashboard scenario tests\n\nCurrently there is no test to check functionality of Horizon, and\nbecause of this missing test coverage we didn't notice a syntax error.\n\nThis change attempts to re-enable the dashboard scenario test to ensure\nhorizon configurations can be loaded without error.\n\nRelated-Bug: #1965970\nChange-Id: I30dd59631cc8a8ae5345c537058d8e08ed827ad3\n""}]",0,834838,69f7ee3189f8b42a00aaa55fc6297f1cfaa2d71a,20,3,9,9816,,,0,"Enable dashboard scenario tests

Currently there is no test to check functionality of Horizon, and
because of this missing test coverage we didn't notice a syntax error.

This change attempts to re-enable the dashboard scenario test to ensure
horizon configurations can be loaded without error.

Related-Bug: #1965970
Change-Id: I30dd59631cc8a8ae5345c537058d8e08ed827ad3
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/38/834838/9 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,9ed078823dedcd5876962b042d6931343313ad16,," EXCLUDES=""--exclude-regex=^telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration"""," # Note(chandankumar): exclude-list tempest_horizon.tests.scenario.test_dashboard_basic_ops test as they are currently flacky in CI on CentOS # Adding it to skip list will help till we find the correct solution EXCLUDES=""--exclude-regex=^tempest.*.scenario.test_dashboard_basic_ops|telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration""",1,3
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ida6d59e1e1b795aef38716dad803b13b787a203d,openstack/puppet-tripleo,stable/train,Ida6d59e1e1b795aef38716dad803b13b787a203d,WIP: generate a file with the templated nova transport_url to pass to cell create,ABANDONED,2022-08-01 14:38:52.000000000,2022-08-02 13:53:36.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-01 14:38:52.000000000', 'files': ['manifests/profile/base/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0e1ddaf0d66f3b7d516c5a711c2add01ee5f02f2', 'message': 'WIP: generate a file with the templated nova transport_url to pass to cell create\n\nChange-Id: Ida6d59e1e1b795aef38716dad803b13b787a203d\n(cherry picked from commit 78fe4732395302866798e94107f473eab76fbba6)\n(cherry picked from commit 010fe73edb195d8e800d0dcd4a585d8c5abc356a)\n'}]",1,851753,0e1ddaf0d66f3b7d516c5a711c2add01ee5f02f2,6,3,1,6926,,,0,"WIP: generate a file with the templated nova transport_url to pass to cell create

Change-Id: Ida6d59e1e1b795aef38716dad803b13b787a203d
(cherry picked from commit 78fe4732395302866798e94107f473eab76fbba6)
(cherry picked from commit 010fe73edb195d8e800d0dcd4a585d8c5abc356a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/53/851753/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova.pp'],1,0e1ddaf0d66f3b7d516c5a711c2add01ee5f02f2,," file { '/etc/nova/transport_url_template': content => os_transport_url({ 'transport' => $oslomsg_rpc_proto, 'hosts' => $oslomsg_rpc_hosts_real, 'port' => $oslomsg_rpc_port, 'username' => $oslomsg_rpc_username, 'password' => '{password}', 'ssl' => $oslomsg_rpc_use_ssl_real, }), mode => '0600', owner => 'nova', group => 'nova' }",,14,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7ee51b330f180348a115c5a4e3826fd2e750a730,openstack/tripleo-heat-templates,stable/train,I7ee51b330f180348a115c5a4e3826fd2e750a730,WIP: only template password in nova cell urls,ABANDONED,2022-08-01 13:33:19.000000000,2022-08-02 13:52:42.000000000,,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-01 13:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/421916425f903dada12d79018c04fd80a22afbc4', 'message': 'WIP: only template password in nova cell urls\n\nDepends-On: Ida6d59e1e1b795aef38716dad803b13b787a203d\nChange-Id: I7ee51b330f180348a115c5a4e3826fd2e750a730\n(cherry picked from commit feb54facf83f41ff8d505b18d2146fae3325fa1f)\n(cherry picked from commit 26a024af8f274aedbb748f939d21a6a959a6046b)\n'}, {'number': 2, 'created': '2022-08-01 13:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/860485df7c0c0e946aa1f807591711e81cb76778', 'message': 'WIP: only template password in nova cell urls\n\nDepends-On: Ida6d59e1e1b795aef38716dad803b13b787a203d\nChange-Id: I7ee51b330f180348a115c5a4e3826fd2e750a730\n(cherry picked from commit feb54facf83f41ff8d505b18d2146fae3325fa1f)\n(cherry picked from commit 26a024af8f274aedbb748f939d21a6a959a6046b)\n'}, {'number': 3, 'created': '2022-08-01 13:49:45.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-cell0db-client-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9cdda8b15e66dedc486bb7372e224f9fedabff8', 'message': 'WIP: only template password in nova cell urls\n\nDepends-On: Ida6d59e1e1b795aef38716dad803b13b787a203d\nChange-Id: I7ee51b330f180348a115c5a4e3826fd2e750a730\n(cherry picked from commit feb54facf83f41ff8d505b18d2146fae3325fa1f)\n(cherry picked from commit 26a024af8f274aedbb748f939d21a6a959a6046b)\n'}]",2,851744,e9cdda8b15e66dedc486bb7372e224f9fedabff8,10,4,3,6926,,,0,"WIP: only template password in nova cell urls

Depends-On: Ida6d59e1e1b795aef38716dad803b13b787a203d
Change-Id: I7ee51b330f180348a115c5a4e3826fd2e750a730
(cherry picked from commit feb54facf83f41ff8d505b18d2146fae3325fa1f)
(cherry picked from commit 26a024af8f274aedbb748f939d21a6a959a6046b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/851744/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-cell0db-client-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml']",3,421916425f903dada12d79018c04fd80a22afbc4,," nova_database_template: make_url: scheme: {get_param: [EndpointMap, MysqlCellInternal, protocol]} username: nova password: '{password}' host: {get_param: [EndpointMap, MysqlCellInternal, host]} path: '/nova?{query}'",,78,55
openstack%2Fcharms.openstack~stable%2Ftrain~I9b119ba6848923c27844a2f758ae9e3c34c7722d,openstack/charms.openstack,stable/train,I9b119ba6848923c27844a2f758ae9e3c34c7722d,Ensure that the _resolved_cluster member is set,MERGED,2022-08-02 09:18:30.000000000,2022-08-02 13:46:45.000000000,2022-08-02 13:46:45.000000000,"[{'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 09:18:30.000000000', 'files': ['charms_openstack/adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/40b616ef1cac12967f40303118c839acf163b380', 'message': ""Ensure that the _resolved_cluster member is set\n\nIn the OpenStackAPIRelationAdapters class, the _resolved_cluster member\nis used to determine the cluster relation had been resolved.  However,\nit's possible that it is accessed prior to be used as it was originally\nan dunderscored method (__method).  This patch makes it more robust by\nswitching to a single-underscore (which is inherited and not class-\nmangled) and that it is always set to None initially in the __init__\nmethod.\n\nChange-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d\nCloses-Bug: #1981736\n(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)\n""}]",0,851728,40b616ef1cac12967f40303118c839acf163b380,7,3,1,20870,,,0,"Ensure that the _resolved_cluster member is set

In the OpenStackAPIRelationAdapters class, the _resolved_cluster member
is used to determine the cluster relation had been resolved.  However,
it's possible that it is accessed prior to be used as it was originally
an dunderscored method (__method).  This patch makes it more robust by
switching to a single-underscore (which is inherited and not class-
mangled) and that it is always set to None initially in the __init__
method.

Change-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d
Closes-Bug: #1981736
(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/28/851728/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/adapters.py'],1,40b616ef1cac12967f40303118c839acf163b380,bug/1981736-stable/train, self._resolved_cluster = None property(lambda x: x._cluster())) def _cluster(self): if not self._resolved_cluster: self._resolved_cluster = self._resolve_cluster() return self._resolved_cluster def _resolve_cluster(self):, self.__resolved_cluster = None property(lambda x: x.__cluster())) def __cluster(self): if not self.__resolved_cluster: self.__resolved_cluster = self.__resolve_cluster() return self.__resolved_cluster def __resolve_cluster(self):,7,7
openstack%2Fcharms.openstack~stable%2Fussuri~I9b119ba6848923c27844a2f758ae9e3c34c7722d,openstack/charms.openstack,stable/ussuri,I9b119ba6848923c27844a2f758ae9e3c34c7722d,Ensure that the _resolved_cluster member is set,MERGED,2022-08-02 09:18:14.000000000,2022-08-02 13:46:44.000000000,2022-08-02 13:46:44.000000000,"[{'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 09:18:14.000000000', 'files': ['charms_openstack/adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/0f2a9c2d2385fbc3cc68856172230572b180b8de', 'message': ""Ensure that the _resolved_cluster member is set\n\nIn the OpenStackAPIRelationAdapters class, the _resolved_cluster member\nis used to determine the cluster relation had been resolved.  However,\nit's possible that it is accessed prior to be used as it was originally\nan dunderscored method (__method).  This patch makes it more robust by\nswitching to a single-underscore (which is inherited and not class-\nmangled) and that it is always set to None initially in the __init__\nmethod.\n\nChange-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d\nCloses-Bug: #1981736\n(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)\n""}]",0,851727,0f2a9c2d2385fbc3cc68856172230572b180b8de,7,3,1,20870,,,0,"Ensure that the _resolved_cluster member is set

In the OpenStackAPIRelationAdapters class, the _resolved_cluster member
is used to determine the cluster relation had been resolved.  However,
it's possible that it is accessed prior to be used as it was originally
an dunderscored method (__method).  This patch makes it more robust by
switching to a single-underscore (which is inherited and not class-
mangled) and that it is always set to None initially in the __init__
method.

Change-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d
Closes-Bug: #1981736
(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/27/851727/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/adapters.py'],1,0f2a9c2d2385fbc3cc68856172230572b180b8de,bug/1981736-stable/ussuri, self._resolved_cluster = None property(lambda x: x._cluster())) def _cluster(self): if not self._resolved_cluster: self._resolved_cluster = self._resolve_cluster() return self._resolved_cluster def _resolve_cluster(self):, self.__resolved_cluster = None property(lambda x: x.__cluster())) def __cluster(self): if not self.__resolved_cluster: self.__resolved_cluster = self.__resolve_cluster() return self.__resolved_cluster def __resolve_cluster(self):,7,7
openstack%2Fcharms.openstack~stable%2Fvictoria~I9b119ba6848923c27844a2f758ae9e3c34c7722d,openstack/charms.openstack,stable/victoria,I9b119ba6848923c27844a2f758ae9e3c34c7722d,Ensure that the _resolved_cluster member is set,MERGED,2022-08-02 09:18:02.000000000,2022-08-02 13:46:42.000000000,2022-08-02 13:46:42.000000000,"[{'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 09:18:02.000000000', 'files': ['charms_openstack/adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/93460fb6fcef56e83428cfb04f033ec63e52990c', 'message': ""Ensure that the _resolved_cluster member is set\n\nIn the OpenStackAPIRelationAdapters class, the _resolved_cluster member\nis used to determine the cluster relation had been resolved.  However,\nit's possible that it is accessed prior to be used as it was originally\nan dunderscored method (__method).  This patch makes it more robust by\nswitching to a single-underscore (which is inherited and not class-\nmangled) and that it is always set to None initially in the __init__\nmethod.\n\nChange-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d\nCloses-Bug: #1981736\n(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)\n""}]",0,851726,93460fb6fcef56e83428cfb04f033ec63e52990c,7,3,1,20870,,,0,"Ensure that the _resolved_cluster member is set

In the OpenStackAPIRelationAdapters class, the _resolved_cluster member
is used to determine the cluster relation had been resolved.  However,
it's possible that it is accessed prior to be used as it was originally
an dunderscored method (__method).  This patch makes it more robust by
switching to a single-underscore (which is inherited and not class-
mangled) and that it is always set to None initially in the __init__
method.

Change-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d
Closes-Bug: #1981736
(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/26/851726/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/adapters.py'],1,93460fb6fcef56e83428cfb04f033ec63e52990c,bug/1981736-stable/victoria, self._resolved_cluster = None property(lambda x: x._cluster())) def _cluster(self): if not self._resolved_cluster: self._resolved_cluster = self._resolve_cluster() return self._resolved_cluster def _resolve_cluster(self):, self.__resolved_cluster = None property(lambda x: x.__cluster())) def __cluster(self): if not self.__resolved_cluster: self.__resolved_cluster = self.__resolve_cluster() return self.__resolved_cluster def __resolve_cluster(self):,7,7
openstack%2Fpuppet-designate~stable%2Fyoga~Ided1306c3c7154861c7c55257ea2bdd35fa6b370,openstack/puppet-designate,stable/yoga,Ided1306c3c7154861c7c55257ea2bdd35fa6b370,Enable policy settings in designate-api,MERGED,2022-08-01 10:23:15.000000000,2022-08-02 13:44:49.000000000,2022-08-02 13:44:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 10:23:15.000000000', 'files': ['manifests/api.pp', 'spec/classes/designate_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/2d8e5950f241fad16ca2ab16cba68a8761b3b288', 'message': 'Enable policy settings in designate-api\n\nThis change makes designate::policy included by the api class\nautomatically to enable oslo.policy settings automatically in\nthe designate service.\n\nCloses-Bug: #1980698\nChange-Id: Ided1306c3c7154861c7c55257ea2bdd35fa6b370\n(cherry picked from commit 7ff495ca7dcec5323139ec4da27358fbb83ea219)\n'}]",0,851716,2d8e5950f241fad16ca2ab16cba68a8761b3b288,7,3,1,9816,,,0,"Enable policy settings in designate-api

This change makes designate::policy included by the api class
automatically to enable oslo.policy settings automatically in
the designate service.

Closes-Bug: #1980698
Change-Id: Ided1306c3c7154861c7c55257ea2bdd35fa6b370
(cherry picked from commit 7ff495ca7dcec5323139ec4da27358fbb83ea219)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/16/851716/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/designate_api_spec.rb']",2,2d8e5950f241fad16ca2ab16cba68a8761b3b288,bug/1980698-stable/yoga, it 'includes the dependent classes' do is_expected.to contain_class('designate::deps') is_expected.to contain_class('designate::policy') end ,,6,0
openstack%2Fcharms.openstack~stable%2Fwallaby~I9b119ba6848923c27844a2f758ae9e3c34c7722d,openstack/charms.openstack,stable/wallaby,I9b119ba6848923c27844a2f758ae9e3c34c7722d,Ensure that the _resolved_cluster member is set,MERGED,2022-08-02 09:17:46.000000000,2022-08-02 13:43:18.000000000,2022-08-02 13:43:18.000000000,"[{'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 09:17:46.000000000', 'files': ['charms_openstack/adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/35a914fdc4d7efab23b8fbefea2fb58642e66afd', 'message': ""Ensure that the _resolved_cluster member is set\n\nIn the OpenStackAPIRelationAdapters class, the _resolved_cluster member\nis used to determine the cluster relation had been resolved.  However,\nit's possible that it is accessed prior to be used as it was originally\nan dunderscored method (__method).  This patch makes it more robust by\nswitching to a single-underscore (which is inherited and not class-\nmangled) and that it is always set to None initially in the __init__\nmethod.\n\nChange-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d\nCloses-Bug: #1981736\n(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)\n""}]",0,851725,35a914fdc4d7efab23b8fbefea2fb58642e66afd,7,3,1,20870,,,0,"Ensure that the _resolved_cluster member is set

In the OpenStackAPIRelationAdapters class, the _resolved_cluster member
is used to determine the cluster relation had been resolved.  However,
it's possible that it is accessed prior to be used as it was originally
an dunderscored method (__method).  This patch makes it more robust by
switching to a single-underscore (which is inherited and not class-
mangled) and that it is always set to None initially in the __init__
method.

Change-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d
Closes-Bug: #1981736
(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/25/851725/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/adapters.py'],1,35a914fdc4d7efab23b8fbefea2fb58642e66afd,bug/1981736-stable/wallaby, self._resolved_cluster = None property(lambda x: x._cluster())) def _cluster(self): if not self._resolved_cluster: self._resolved_cluster = self._resolve_cluster() return self._resolved_cluster def _resolve_cluster(self):, self.__resolved_cluster = None property(lambda x: x.__cluster())) def __cluster(self): if not self.__resolved_cluster: self.__resolved_cluster = self.__resolve_cluster() return self.__resolved_cluster def __resolve_cluster(self):,7,7
openstack%2Fcharms.openstack~stable%2Fxena~I9b119ba6848923c27844a2f758ae9e3c34c7722d,openstack/charms.openstack,stable/xena,I9b119ba6848923c27844a2f758ae9e3c34c7722d,Ensure that the _resolved_cluster member is set,MERGED,2022-08-02 09:17:28.000000000,2022-08-02 13:43:16.000000000,2022-08-02 13:43:16.000000000,"[{'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 09:17:28.000000000', 'files': ['charms_openstack/adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/e88f8efb084ca3e936cfdba40df0451bf53a64a6', 'message': ""Ensure that the _resolved_cluster member is set\n\nIn the OpenStackAPIRelationAdapters class, the _resolved_cluster member\nis used to determine the cluster relation had been resolved.  However,\nit's possible that it is accessed prior to be used as it was originally\nan dunderscored method (__method).  This patch makes it more robust by\nswitching to a single-underscore (which is inherited and not class-\nmangled) and that it is always set to None initially in the __init__\nmethod.\n\nChange-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d\nCloses-Bug: #1981736\n(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)\n""}]",0,851724,e88f8efb084ca3e936cfdba40df0451bf53a64a6,7,3,1,20870,,,0,"Ensure that the _resolved_cluster member is set

In the OpenStackAPIRelationAdapters class, the _resolved_cluster member
is used to determine the cluster relation had been resolved.  However,
it's possible that it is accessed prior to be used as it was originally
an dunderscored method (__method).  This patch makes it more robust by
switching to a single-underscore (which is inherited and not class-
mangled) and that it is always set to None initially in the __init__
method.

Change-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d
Closes-Bug: #1981736
(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/24/851724/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/adapters.py'],1,e88f8efb084ca3e936cfdba40df0451bf53a64a6,bug/1981736-stable/xena, self._resolved_cluster = None property(lambda x: x._cluster())) def _cluster(self): if not self._resolved_cluster: self._resolved_cluster = self._resolve_cluster() return self._resolved_cluster def _resolve_cluster(self):, self.__resolved_cluster = None property(lambda x: x.__cluster())) def __cluster(self): if not self.__resolved_cluster: self.__resolved_cluster = self.__resolve_cluster() return self.__resolved_cluster def __resolve_cluster(self):,7,7
openstack%2Fcharms.openstack~stable%2Fyoga~I9b119ba6848923c27844a2f758ae9e3c34c7722d,openstack/charms.openstack,stable/yoga,I9b119ba6848923c27844a2f758ae9e3c34c7722d,Ensure that the _resolved_cluster member is set,MERGED,2022-08-02 09:17:05.000000000,2022-08-02 13:36:52.000000000,2022-08-02 13:36:52.000000000,"[{'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 09:17:05.000000000', 'files': ['charms_openstack/adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/ae6018c09aaf44cdcde66de7aa038635b9b248e1', 'message': ""Ensure that the _resolved_cluster member is set\n\nIn the OpenStackAPIRelationAdapters class, the _resolved_cluster member\nis used to determine the cluster relation had been resolved.  However,\nit's possible that it is accessed prior to be used as it was originally\nan dunderscored method (__method).  This patch makes it more robust by\nswitching to a single-underscore (which is inherited and not class-\nmangled) and that it is always set to None initially in the __init__\nmethod.\n\nChange-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d\nCloses-Bug: #1981736\n(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)\n""}]",0,851723,ae6018c09aaf44cdcde66de7aa038635b9b248e1,7,3,1,20870,,,0,"Ensure that the _resolved_cluster member is set

In the OpenStackAPIRelationAdapters class, the _resolved_cluster member
is used to determine the cluster relation had been resolved.  However,
it's possible that it is accessed prior to be used as it was originally
an dunderscored method (__method).  This patch makes it more robust by
switching to a single-underscore (which is inherited and not class-
mangled) and that it is always set to None initially in the __init__
method.

Change-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d
Closes-Bug: #1981736
(cherry picked from commit c924762a9c92bd97dcb61d1d9e16f41c961ef9db)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/23/851723/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/adapters.py'],1,ae6018c09aaf44cdcde66de7aa038635b9b248e1,bug/1981736-stable/yoga, self._resolved_cluster = None property(lambda x: x._cluster())) def _cluster(self): if not self._resolved_cluster: self._resolved_cluster = self._resolve_cluster() return self._resolved_cluster def _resolve_cluster(self):, self.__resolved_cluster = None property(lambda x: x.__cluster())) def __cluster(self): if not self.__resolved_cluster: self.__resolved_cluster = self.__resolve_cluster() return self.__resolved_cluster def __resolve_cluster(self):,7,7
openstack%2Fosc-lib~master~Ib48278aa7e995477b5d3f970fa9234274d4f4556,openstack/osc-lib,master,Ib48278aa7e995477b5d3f970fa9234274d4f4556,doc: Comment out language option,MERGED,2022-06-06 15:35:41.000000000,2022-08-02 13:07:38.000000000,2022-08-02 13:06:35.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 15:35:41.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/bf47118a1297080bb2ef117ced8dc4e021900a98', 'message': ""doc: Comment out language option\n\n... because explicit language=None causes the below warning since\nSphinx 5.0.0.\n\nInvalid configuration value found: 'language = None'. Update your\nconfiguration to a valid language code. Falling back to 'en' (English).\n\nChange-Id: Ib48278aa7e995477b5d3f970fa9234274d4f4556\n""}]",0,844856,bf47118a1297080bb2ef117ced8dc4e021900a98,7,2,1,9816,,,0,"doc: Comment out language option

... because explicit language=None causes the below warning since
Sphinx 5.0.0.

Invalid configuration value found: 'language = None'. Update your
configuration to a valid language code. Falling back to 'en' (English).

Change-Id: Ib48278aa7e995477b5d3f970fa9234274d4f4556
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/56/844856/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,bf47118a1297080bb2ef117ced8dc4e021900a98,doc-lang,# language = None,language = None,1,1
openstack%2Fneutron~stable%2Fyoga~If7990bdec435af76ad2e88fd4ea2bc24a255fd5a,openstack/neutron,stable/yoga,If7990bdec435af76ad2e88fd4ea2bc24a255fd5a,Port update will trigger less notifications to the DHCP agents,MERGED,2022-07-29 13:59:26.000000000,2022-08-02 12:58:00.000000000,2022-08-02 12:54:55.000000000,"[{'_account_id': 7730}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-07-29 13:59:26.000000000', 'files': ['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6eaa8276e1b1b850ef5278ba54d3c44c0129e0f', 'message': ""Port update will trigger less notifications to the DHCP agents\n\nAfter port update, DHCP agent will be notified about changes only if\none of the port's attributes related somehow to the DHCP will change.\nSuch fields are:\n* fixed_ips,\n* MAC address,\n* dns_domain,\n* dns_name,\n* dns_assignment,\n* extra_dhcp_opts.\n\nIn other cases there is no reason to send notifications to the agent.\nThis will results with less notifications to the DHCP agent and less\npossibilities to race condition between DHCP and L2 agents while\nswitching ports from the DOWN to ACTIVE status and sending notifications\nto nova.\n\nCloses-Bug: #1982367\nChange-Id: If7990bdec435af76ad2e88fd4ea2bc24a255fd5a\n(cherry picked from commit 06ddcaf4368ce054a8d396e70880f7dd1abe0562)\n""}]",1,851385,c6eaa8276e1b1b850ef5278ba54d3c44c0129e0f,12,5,1,11975,,,0,"Port update will trigger less notifications to the DHCP agents

After port update, DHCP agent will be notified about changes only if
one of the port's attributes related somehow to the DHCP will change.
Such fields are:
* fixed_ips,
* MAC address,
* dns_domain,
* dns_name,
* dns_assignment,
* extra_dhcp_opts.

In other cases there is no reason to send notifications to the agent.
This will results with less notifications to the DHCP agent and less
possibilities to race condition between DHCP and L2 agents while
switching ports from the DOWN to ACTIVE status and sending notifications
to nova.

Closes-Bug: #1982367
Change-Id: If7990bdec435af76ad2e88fd4ea2bc24a255fd5a
(cherry picked from commit 06ddcaf4368ce054a8d396e70880f7dd1abe0562)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/851385/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",2,c6eaa8276e1b1b850ef5278ba54d3c44c0129e0f,bug/1982367-stable/yoga," def test__notification_is_needed(self): 'revision_number': 1, 'fixed_ips': [{'ip_address': '10.0.0.10', 'subnet_id': 'aaa'}], 'mac_address': 'aa:bb:cc:dd:ee:ff'} self.assertFalse(self.notifier._notification_is_needed(p1, p2)) self.assertFalse(self.notifier._notification_is_needed(p1, p2)) p2.pop('name') p2['mac_address'] = '11:22:33:44:55:66' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2['mac_address'] = p1['mac_address'] p2['fixed_ips'] = [{'ip_address': '10.0.0.11', 'subnet_id': 'aaa'}] self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2['fixed_ips'] = p1['fixed_ips'] p2['extra_dhcp_opts'] = 'some-test-opt' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('extra_dhcp_opts') p2['dns_name'] = 'test-dns-name' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_name') p2['dns_assignment'] = 'test-dns-assignment' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_assignment') p2['dns_domain'] = 'test-dns-domain' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2.pop('dns_domain')"," def test__only_status_changed(self): 'revision_number': 1} self.assertTrue(self.notifier._only_status_changed(p1, p2)) self.assertFalse(self.notifier._only_status_changed(p1, p2)) p1['name'] = 'test' self.assertTrue(self.notifier._only_status_changed(p1, p2)) p1['name'] = 'test1' self.assertFalse(self.notifier._only_status_changed(p1, p2))",44,23
openstack%2Fnova~master~Icf9576b75bd006ba65484b9232e85d8b748458f1,openstack/nova,master,Icf9576b75bd006ba65484b9232e85d8b748458f1,[docs] Fix mention of custom scheduling after Wallaby,MERGED,2022-08-02 08:15:54.000000000,2022-08-02 12:56:56.000000000,2022-08-02 12:55:00.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 08:15:54.000000000', 'files': ['doc/source/admin/scheduling.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b351f0b848b5e489d31a912e49ae25ea2b38b76c', 'message': '[docs] Fix mention of custom scheduling after Wallaby\n\nCustom filters are still supported. Custom schedulers / scheduler\ndrivers are what is not. This patch fixes the wording.\n\nChange-Id: Icf9576b75bd006ba65484b9232e85d8b748458f1\n'}]",2,851807,b351f0b848b5e489d31a912e49ae25ea2b38b76c,11,5,1,30491,,,0,"[docs] Fix mention of custom scheduling after Wallaby

Custom filters are still supported. Custom schedulers / scheduler
drivers are what is not. This patch fixes the wording.

Change-Id: Icf9576b75bd006ba65484b9232e85d8b748458f1
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/851807/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/scheduling.rst'],1,b351f0b848b5e489d31a912e49ae25ea2b38b76c,docs-only-filter-scheduler, Support for custom scheduler drivers was removed. Only the filter scheduler is now supported by nova., Support for custom filters was removed. Only the filter scheduler is now supported by nova.,2,2
openstack%2Fneutron~stable%2Fussuri~I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,openstack/neutron,stable/ussuri,I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,Add workaround for eventlet.greendns bug,MERGED,2022-07-29 15:32:18.000000000,2022-08-02 12:56:56.000000000,2022-08-02 12:54:50.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 15:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9b085b051660ca4e332b409f6c156591c082ad6', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)\n'}, {'number': 2, 'created': '2022-07-29 22:54:17.000000000', 'files': ['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8efb736df12b0b0d349f597bd124b0cbad96be00', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)\n'}]",1,851536,8efb736df12b0b0d349f597bd124b0cbad96be00,10,3,2,34271,,,0,"Add workaround for eventlet.greendns bug

Issue[1] workaround: A wrapper class which determines if socket module
was eventlet patched and request std lib socket module instead.
Also adding LOG.warning into the exception block so we dont miss
issues like this in the future.

Closes-Bug: #1980967
Related-Bug: #1926693

[1]https://github.com/eventlet/eventlet/issues/764

Change-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9
(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/851536/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py']",2,e9b085b051660ca4e332b409f6c156591c082ad6,bug1980967-stable/ussuri,"from eventlet import patcherfrom oslo_utils import eventletutilsclass _SocketWrapper(): """"""Determines if socket module is patched by eventlet and unpatches it. If python standard library socket module is patched, it will request an unpached version of the socket module. The sole purpose of this class is to workaround eventlet bug https://github.com/eventlet/eventlet/issues/764 and for the class to be used with get_hypervisor_hostname. This class also helps with socket mocks as it abstracts eventlet under the hood module imports which can be tricky to target with mocks. TODO(mtomaska): This class(workaround) can be removed once eventlet issue is resolved. """""" def __init__(self): if eventletutils.is_monkey_patched(socket.__name__): LOG.debug(""Std library socket module is patched by eventlet. "" ""Requesting std library socket module from eventlet."") self._socket = patcher.original(socket.__name__) else: LOG.debug(""Std library socket module is not patched by eventlet. "" ""Using socket module as imported from std library."") self._socket = socket def getaddrinfo(self, host, port, family, flags): return self._socket.getaddrinfo(host=host, port=port, family=family, flags=flags) _socket_wrap = _SocketWrapper() try: addrinfo = _socket_wrap.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) except OSError as os_err: LOG.warning(""Error: %s, occured while querying for fqdn. "" ""get_hypervisor_hostname will just "" ""return %s"", os_err, hypervisor_hostname) :param default_hypervisor: Default hypervisor hostname. If not set, it tries to default to fully qualified domain name (fqdn)"," try: addrinfo = socket.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) except OSError: pass Default hypervisor names to socket.gethostname() unless default_hypervisor is set. :param default_hypervisor: Default hypervisor hostname.",50,16
openstack%2Fneutron~stable%2Fvictoria~I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,openstack/neutron,stable/victoria,I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,Add workaround for eventlet.greendns bug,MERGED,2022-07-29 15:31:58.000000000,2022-08-02 12:56:41.000000000,2022-08-02 12:54:46.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 15:31:58.000000000', 'files': ['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3f28b32337e0419dd43118608a6ab959f99bdeb', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)\n'}]",0,851535,f3f28b32337e0419dd43118608a6ab959f99bdeb,8,3,1,34271,,,0,"Add workaround for eventlet.greendns bug

Issue[1] workaround: A wrapper class which determines if socket module
was eventlet patched and request std lib socket module instead.
Also adding LOG.warning into the exception block so we dont miss
issues like this in the future.

Closes-Bug: #1980967
Related-Bug: #1926693

[1]https://github.com/eventlet/eventlet/issues/764

Change-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9
(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/851535/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py']",2,f3f28b32337e0419dd43118608a6ab959f99bdeb,bug1980967-stable/victoria,"from eventlet import patcherfrom oslo_utils import eventletutilsclass _SocketWrapper(): """"""Determines if socket module is patched by eventlet and unpatches it. If python standard library socket module is patched, it will request an unpached version of the socket module. The sole purpose of this class is to workaround eventlet bug https://github.com/eventlet/eventlet/issues/764 and for the class to be used with get_hypervisor_hostname. This class also helps with socket mocks as it abstracts eventlet under the hood module imports which can be tricky to target with mocks. TODO(mtomaska): This class(workaround) can be removed once eventlet issue is resolved. """""" def __init__(self): if eventletutils.is_monkey_patched(socket.__name__): LOG.debug(""Std library socket module is patched by eventlet. "" ""Requesting std library socket module from eventlet."") self._socket = patcher.original(socket.__name__) else: LOG.debug(""Std library socket module is not patched by eventlet. "" ""Using socket module as imported from std library."") self._socket = socket def getaddrinfo(self, host, port, family, flags): return self._socket.getaddrinfo(host=host, port=port, family=family, flags=flags) _socket_wrap = _SocketWrapper() try: addrinfo = _socket_wrap.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) except OSError as os_err: LOG.warning(""Error: %s, occured while querying for fqdn. "" ""get_hypervisor_hostname will just "" ""return %s"", os_err, hypervisor_hostname) :param default_hypervisor: Default hypervisor hostname. If not set, it tries to default to fully qualified domain name (fqdn)"," try: addrinfo = socket.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) except OSError: pass Default hypervisor names to socket.gethostname() unless default_hypervisor is set. :param default_hypervisor: Default hypervisor hostname.",50,16
openstack%2Fneutron~stable%2Fwallaby~I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,openstack/neutron,stable/wallaby,I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,Add workaround for eventlet.greendns bug,MERGED,2022-07-29 15:31:39.000000000,2022-08-02 12:56:38.000000000,2022-08-02 12:54:42.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-07-29 15:31:39.000000000', 'files': ['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9fb76e57fe072daeff1997c69e9907eeaffec94', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)\n'}]",1,851534,b9fb76e57fe072daeff1997c69e9907eeaffec94,11,4,1,34271,,,0,"Add workaround for eventlet.greendns bug

Issue[1] workaround: A wrapper class which determines if socket module
was eventlet patched and request std lib socket module instead.
Also adding LOG.warning into the exception block so we dont miss
issues like this in the future.

Closes-Bug: #1980967
Related-Bug: #1926693

[1]https://github.com/eventlet/eventlet/issues/764

Change-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9
(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/851534/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py']",2,b9fb76e57fe072daeff1997c69e9907eeaffec94,bug1980967-stable/wallaby,"from eventlet import patcherfrom oslo_utils import eventletutilsclass _SocketWrapper(): """"""Determines if socket module is patched by eventlet and unpatches it. If python standard library socket module is patched, it will request an unpached version of the socket module. The sole purpose of this class is to workaround eventlet bug https://github.com/eventlet/eventlet/issues/764 and for the class to be used with get_hypervisor_hostname. This class also helps with socket mocks as it abstracts eventlet under the hood module imports which can be tricky to target with mocks. TODO(mtomaska): This class(workaround) can be removed once eventlet issue is resolved. """""" def __init__(self): if eventletutils.is_monkey_patched(socket.__name__): LOG.debug(""Std library socket module is patched by eventlet. "" ""Requesting std library socket module from eventlet."") self._socket = patcher.original(socket.__name__) else: LOG.debug(""Std library socket module is not patched by eventlet. "" ""Using socket module as imported from std library."") self._socket = socket def getaddrinfo(self, host, port, family, flags): return self._socket.getaddrinfo(host=host, port=port, family=family, flags=flags) _socket_wrap = _SocketWrapper() try: addrinfo = _socket_wrap.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) except OSError as os_err: LOG.warning(""Error: %s, occured while querying for fqdn. "" ""get_hypervisor_hostname will just "" ""return %s"", os_err, hypervisor_hostname) :param default_hypervisor: Default hypervisor hostname. If not set, it tries to default to fully qualified domain name (fqdn)"," try: addrinfo = socket.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) except OSError: pass Default hypervisor names to socket.gethostname() unless default_hypervisor is set. :param default_hypervisor: Default hypervisor hostname.",50,16
openstack%2Fneutron~stable%2Fyoga~I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,openstack/neutron,stable/yoga,I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,Add workaround for eventlet.greendns bug,MERGED,2022-07-29 15:30:50.000000000,2022-08-02 12:56:38.000000000,2022-08-02 12:54:34.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-07-29 15:30:50.000000000', 'files': ['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/363f0a972e7821740a8ffb1e85b97ba001cff77c', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)\n'}]",3,851532,363f0a972e7821740a8ffb1e85b97ba001cff77c,15,4,1,34271,,,0,"Add workaround for eventlet.greendns bug

Issue[1] workaround: A wrapper class which determines if socket module
was eventlet patched and request std lib socket module instead.
Also adding LOG.warning into the exception block so we dont miss
issues like this in the future.

Closes-Bug: #1980967
Related-Bug: #1926693

[1]https://github.com/eventlet/eventlet/issues/764

Change-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9
(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/851532/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py']",2,363f0a972e7821740a8ffb1e85b97ba001cff77c,bug1980967-stable/yoga,"from eventlet import patcherfrom oslo_utils import eventletutilsclass _SocketWrapper(): """"""Determines if socket module is patched by eventlet and unpatches it. If python standard library socket module is patched, it will request an unpached version of the socket module. The sole purpose of this class is to workaround eventlet bug https://github.com/eventlet/eventlet/issues/764 and for the class to be used with get_hypervisor_hostname. This class also helps with socket mocks as it abstracts eventlet under the hood module imports which can be tricky to target with mocks. TODO(mtomaska): This class(workaround) can be removed once eventlet issue is resolved. """""" def __init__(self): if eventletutils.is_monkey_patched(socket.__name__): LOG.debug(""Std library socket module is patched by eventlet. "" ""Requesting std library socket module from eventlet."") self._socket = patcher.original(socket.__name__) else: LOG.debug(""Std library socket module is not patched by eventlet. "" ""Using socket module as imported from std library."") self._socket = socket def getaddrinfo(self, host, port, family, flags): return self._socket.getaddrinfo(host=host, port=port, family=family, flags=flags) _socket_wrap = _SocketWrapper() try: addrinfo = _socket_wrap.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) except OSError as os_err: LOG.warning(""Error: %s, occured while querying for fqdn. "" ""get_hypervisor_hostname will just "" ""return %s"", os_err, hypervisor_hostname) :param default_hypervisor: Default hypervisor hostname. If not set, it tries to default to fully qualified domain name (fqdn)"," try: addrinfo = socket.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) except OSError: pass Default hypervisor names to socket.gethostname() unless default_hypervisor is set. :param default_hypervisor: Default hypervisor hostname.",50,16
openstack%2Fneutron~stable%2Fxena~I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,openstack/neutron,stable/xena,I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,Add workaround for eventlet.greendns bug,MERGED,2022-07-29 15:31:10.000000000,2022-08-02 12:56:35.000000000,2022-08-02 12:54:38.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-07-29 15:31:10.000000000', 'files': ['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec831cdf124dff1a15b1a64ff3992a822348bc50', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)\n'}]",0,851533,ec831cdf124dff1a15b1a64ff3992a822348bc50,11,4,1,34271,,,0,"Add workaround for eventlet.greendns bug

Issue[1] workaround: A wrapper class which determines if socket module
was eventlet patched and request std lib socket module instead.
Also adding LOG.warning into the exception block so we dont miss
issues like this in the future.

Closes-Bug: #1980967
Related-Bug: #1926693

[1]https://github.com/eventlet/eventlet/issues/764

Change-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9
(cherry picked from commit ea223072841adc3fb88b840b5f8018bff60c8aa7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/851533/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py']",2,ec831cdf124dff1a15b1a64ff3992a822348bc50,bug1980967-stable/xena,"from eventlet import patcherfrom oslo_utils import eventletutilsclass _SocketWrapper(): """"""Determines if socket module is patched by eventlet and unpatches it. If python standard library socket module is patched, it will request an unpached version of the socket module. The sole purpose of this class is to workaround eventlet bug https://github.com/eventlet/eventlet/issues/764 and for the class to be used with get_hypervisor_hostname. This class also helps with socket mocks as it abstracts eventlet under the hood module imports which can be tricky to target with mocks. TODO(mtomaska): This class(workaround) can be removed once eventlet issue is resolved. """""" def __init__(self): if eventletutils.is_monkey_patched(socket.__name__): LOG.debug(""Std library socket module is patched by eventlet. "" ""Requesting std library socket module from eventlet."") self._socket = patcher.original(socket.__name__) else: LOG.debug(""Std library socket module is not patched by eventlet. "" ""Using socket module as imported from std library."") self._socket = socket def getaddrinfo(self, host, port, family, flags): return self._socket.getaddrinfo(host=host, port=port, family=family, flags=flags) _socket_wrap = _SocketWrapper() try: addrinfo = _socket_wrap.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) except OSError as os_err: LOG.warning(""Error: %s, occured while querying for fqdn. "" ""get_hypervisor_hostname will just "" ""return %s"", os_err, hypervisor_hostname) :param default_hypervisor: Default hypervisor hostname. If not set, it tries to default to fully qualified domain name (fqdn)"," try: addrinfo = socket.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) except OSError: pass Default hypervisor names to socket.gethostname() unless default_hypervisor is set. :param default_hypervisor: Default hypervisor hostname.",50,16
openstack%2Ftripleo-ci~master~Ic77a58ce04153d9ee70772284a13fe1c37d9350f,openstack/tripleo-ci,master,Ic77a58ce04153d9ee70772284a13fe1c37d9350f,Fix gating repo for mixed OS content providers,MERGED,2022-07-29 13:50:34.000000000,2022-08-02 12:32:52.000000000,2022-08-02 12:32:52.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-07-29 13:50:34.000000000', 'files': ['playbooks/tripleo-ci/install-built-repo.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/666d7332138eda7eead158f21353706f168dce42', 'message': 'Fix gating repo for mixed OS content providers\n\nThis is not taking into account the mixed OS job where we\nneed to use registry_ip_address_distro instead of\nregistry_ip_address_branch.\n\nThe _branch is still default, and we override with _distro when\nit is in use (i.e. when it has more than one key). The current\ncode causes related-bug because we end up trying to install\ntripleoclient from the *8* content provider for the *9*\nundercloud.\n\nRelated-Bug: 1983004\nChange-Id: Ic77a58ce04153d9ee70772284a13fe1c37d9350f\n'}]",9,851516,666d7332138eda7eead158f21353706f168dce42,12,6,1,8449,,,0,"Fix gating repo for mixed OS content providers

This is not taking into account the mixed OS job where we
need to use registry_ip_address_distro instead of
registry_ip_address_branch.

The _branch is still default, and we override with _distro when
it is in use (i.e. when it has more than one key). The current
code causes related-bug because we end up trying to install
tripleoclient from the *8* content provider for the *9*
undercloud.

Related-Bug: 1983004
Change-Id: Ic77a58ce04153d9ee70772284a13fe1c37d9350f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/16/851516/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/install-built-repo.yml'],1,666d7332138eda7eead158f21353706f168dce42,oooci_mixed_rhel," vars: gating_repo_loop_input: ""{{ dict(registry_ip_address_branch|default({})) }}"" tasks: - name: override gating_repo_loop_input if we have distro.keys when: - registry_ip_address_distro is defined - registry_ip_address_distro.keys() | length > 1 set_fact: gating_repo_loop_input: ""{{ dict(registry_ip_address_distro) }}"" host: '{{ gating_repo_loop_input[item.key] }}' loop: '{{ gating_repo_loop_input | dict2items }}'", tasks: host: '{{ registry_ip_address_branch[item.key] }}' loop: '{{ registry_ip_address_branch | dict2items }}',10,3
openstack%2Fplacement~master~I254ba33e5662ab5bd0663a717b68202b081194a1,openstack/placement,master,I254ba33e5662ab5bd0663a717b68202b081194a1,docs: Unset 'language',ABANDONED,2022-07-20 10:29:38.000000000,2022-08-02 12:26:09.000000000,,"[{'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-20 10:29:38.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/8f1c97132a0aef95bc447525b187906d7f154d15', 'message': ""docs: Unset 'language'\n\nFix compatibility with Sphinx 5.x\n\nWhile we're here, remove a whole load more cruft too.\n\nChange-Id: I254ba33e5662ab5bd0663a717b68202b081194a1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,850505,8f1c97132a0aef95bc447525b187906d7f154d15,5,2,1,15334,,,0,"docs: Unset 'language'

Fix compatibility with Sphinx 5.x

While we're here, remove a whole load more cruft too.

Change-Id: I254ba33e5662ab5bd0663a717b68202b081194a1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/05/850505/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,8f1c97132a0aef95bc447525b187906d7f154d15,sphinx-5.x,"version = ''release = ''project = 'Placement Release Notes' copyright = '2018-, Placement developers' author = 'OpenStack' # openstackdocstheme options openstackdocs_repo_name = 'openstack/placement' openstackdocs_auto_name = False openstackdocs_use_storyboard = True","# -*- coding: utf-8 -*- ## # This file does only contain a selection of the most common options. For a # full list see the documentation: # http://www.sphinx-doc.org/en/master/config # -- Path setup -------------------------------------------------------------- # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # # import os # import sys # sys.path.insert(0, os.path.abspath('.')) version = u''release = u''# If your documentation needs a minimal Sphinx version, state it here. # # needs_sphinx = '1.0' project = u'Placement Release Notes' copyright = u'2018, Placement developers' author = u'OpenStack' # openstackdocstheme options openstackdocs_repo_name = 'openstack/placement' openstackdocs_auto_name = False openstackdocs_use_storyboard = True # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # # This is also used if you do content translation via gettext catalogs. # Usually you set ""language"" from the command line for these cases. language = None # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. # This pattern also affects html_static_path and html_extra_path . exclude_patterns = []",11,43
openstack%2Ftripleo-ansible~stable%2Fwallaby~I2e4aa150268118085d99502e931fe0b42cc54a9a,openstack/tripleo-ansible,stable/wallaby,I2e4aa150268118085d99502e931fe0b42cc54a9a,Support amphora log offloading over TCP,MERGED,2022-07-18 10:29:08.000000000,2022-08-02 12:22:40.000000000,2022-08-02 12:21:36.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-18 10:29:08.000000000', 'files': ['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_common/defaults/main.yml', 'tripleo_ansible/roles/octavia_controller_post_config/templates/10-octavia.conf.j2', 'releasenotes/notes/add-octavia-log-offload-protocol-parameter-a94d54c405f55096.yaml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1389f8a39dfc72277730cff03526068db2c0e9a4', 'message': ""Support amphora log offloading over TCP\n\nAdd new log_offload_protocol parameter that sets the\n[amphora_agent]/log_protocol setting in Octavia's configuration.\n\nChange-Id: I2e4aa150268118085d99502e931fe0b42cc54a9a\n(cherry picked from commit d98bdb10663d7c6cd1d6c5be1f91bb75f8096969)\n""}]",3,850150,1389f8a39dfc72277730cff03526068db2c0e9a4,20,4,1,34429,,,0,"Support amphora log offloading over TCP

Add new log_offload_protocol parameter that sets the
[amphora_agent]/log_protocol setting in Octavia's configuration.

Change-Id: I2e4aa150268118085d99502e931fe0b42cc54a9a
(cherry picked from commit d98bdb10663d7c6cd1d6c5be1f91bb75f8096969)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/850150/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_common/defaults/main.yml', 'tripleo_ansible/roles/octavia_controller_post_config/templates/10-octavia.conf.j2', 'releasenotes/notes/add-octavia-log-offload-protocol-parameter-a94d54c405f55096.yaml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml']",5,1389f8a39dfc72277730cff03526068db2c0e9a4,," protocol: ""{{ log_offload_protocol }}""", protocol: udp,24,5
openstack%2Ftripleo-docs~stable%2Fwallaby~Id17920902028841b951f77a3d262e99d5250ec0d,openstack/tripleo-docs,stable/wallaby,Id17920902028841b951f77a3d262e99d5250ec0d,Remove --standalone from tripleo deploy command,MERGED,2022-04-26 13:07:47.000000000,2022-08-02 12:10:07.000000000,2022-08-02 12:08:42.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-04-26 13:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/dfa6b69f85c71e1b77a2ea924b70b48b6af80a00', 'message': 'Removed `--standalone` option from deploy command of standalone\nOpenStack in stable/Wallaby. This option is deprecated as of Victoria. See\nhttps://bugs.launchpad.net/tripleo/+bug/1969644\n\nChange-Id: Id17920902028841b951f77a3d262e99d5250ec0d\n'}, {'number': 2, 'created': '2022-07-05 23:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/549e8c8390e7e52bbe653be1d30a7a2cf8ec0f74', 'message': 'Remove --standalone from tripleo deploy command\n\nThis option was deprecated during Victoria cycle[1] and was removed\nduring Wallaby cycle[2].\n\n[1] a5381b21694ef8c0ca2f587ea2e58a24a57736e5\n[2] 5cbc2b8ef154b269bad8491e7d469c6094514335\n\nConflicts:\n\tdeploy-guide/source/deployment/standalone.rst\n\nResolved conflict caused by 27b3c1f5997eedad9b8c21db415d5452c785a171 .\n\nCloses-Bug: #1969644\nChange-Id: Id17920902028841b951f77a3d262e99d5250ec0d\n(cherry picked from commit e81263a3dab3901ef39022e95a07ba5fdd844d58)\n'}, {'number': 3, 'created': '2022-07-08 15:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8d44f77a689e5591cc8f6bebeff7622997238f05', 'message': 'Remove --standalone from tripleo deploy command\n\nThis option was deprecated during Victoria cycle[1] and was removed\nduring Wallaby cycle[2].\n\n[1] a5381b21694ef8c0ca2f587ea2e58a24a57736e5\n[2] 5cbc2b8ef154b269bad8491e7d469c6094514335\n\nConflicts:\n\tdeploy-guide/source/deployment/standalone.rst\n\nResolved conflict caused by 27b3c1f5997eedad9b8c21db415d5452c785a171 .\n\nCloses-Bug: #1969644\nChange-Id: Id17920902028841b951f77a3d262e99d5250ec0d\n(cherry picked from commit 8860eae11331229d8495a33320d52f034313de07)\n'}, {'number': 4, 'created': '2022-08-02 04:45:37.000000000', 'files': ['deploy-guide/source/deployment/standalone.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d1410686bf4490dbc50b46688502f76b93c08474', 'message': 'Remove --standalone from tripleo deploy command\n\nThis option was deprecated during Victoria cycle[1] and was removed\nduring Wallaby cycle[2].\n\n[1] a5381b21694ef8c0ca2f587ea2e58a24a57736e5\n[2] 5cbc2b8ef154b269bad8491e7d469c6094514335\n\nConflicts:\n\tdeploy-guide/source/deployment/standalone.rst\n\nFixed the conflict caused by 27b3c1f5997eedad9b8c21db415d5452c785a171 .\n\nCloses-Bug: #1969644\nChange-Id: Id17920902028841b951f77a3d262e99d5250ec0d\n(cherry picked from commit 8860eae11331229d8495a33320d52f034313de07)\n'}]",3,839375,d1410686bf4490dbc50b46688502f76b93c08474,18,4,4,31906,,,0,"Remove --standalone from tripleo deploy command

This option was deprecated during Victoria cycle[1] and was removed
during Wallaby cycle[2].

[1] a5381b21694ef8c0ca2f587ea2e58a24a57736e5
[2] 5cbc2b8ef154b269bad8491e7d469c6094514335

Conflicts:
	deploy-guide/source/deployment/standalone.rst

Fixed the conflict caused by 27b3c1f5997eedad9b8c21db415d5452c785a171 .

Closes-Bug: #1969644
Change-Id: Id17920902028841b951f77a3d262e99d5250ec0d
(cherry picked from commit 8860eae11331229d8495a33320d52f034313de07)
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/75/839375/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/standalone.rst'],1,dfa6b69f85c71e1b77a2ea924b70b48b6af80a00,bug/1969644, --output-dir $HOME, --output-dir $HOME \ --standalone --standalone,1,3
openstack%2Fneutron~stable%2Ftrain~Iaa42e0d3020c67d22583ed70e624c401b192dc93,openstack/neutron,stable/train,Iaa42e0d3020c67d22583ed70e624c401b192dc93,[stable/train] Convert neutron-grenade job to the zuul v3 job,MERGED,2022-07-29 10:43:36.000000000,2022-08-02 12:10:06.000000000,2022-08-02 12:07:41.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 10:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cc03f4ad5cc1c535ef52809847974894e5aba0e', 'message': ""[stable/train] Convert neutron-grenade job to the zuul v3 job\n\nOther grenade jobs, like neutron-grenade-multinode are already converted\nto the native zuul v3 definitions but neutron-grenade job wasn't and it\nseems that as it is using devstack-gate project to provision vm, for\nsome reason it stucks now and job fails with timeout.\nTo avoid that lets convert that job to the native Zuul v3 syntax.\n\nThis patch is needed only for stable/train as in newer branches we don't\nhave that single node job anymore.\n\nCloses-bug: #1982720\nChange-Id: Iaa42e0d3020c67d22583ed70e624c401b192dc93\n""}, {'number': 2, 'created': '2022-07-29 10:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bce2061d213a1e5c2e8f7ed8af16bbfb3e5c8b93', 'message': ""[stable/train] Convert neutron-grenade job to the zuul v3 job\n\nOther grenade jobs, like neutron-grenade-multinode are already converted\nto the native zuul v3 definitions but neutron-grenade job wasn't and it\nseems that as it is using devstack-gate project to provision vm, for\nsome reason it stucks now and job fails with timeout.\nTo avoid that lets convert that job to the native Zuul v3 syntax.\n\nThis patch is needed only for stable/train as in newer branches we don't\nhave that single node job anymore.\n\nCloses-bug: #1982720\nChange-Id: Iaa42e0d3020c67d22583ed70e624c401b192dc93\n""}, {'number': 3, 'created': '2022-07-29 12:32:48.000000000', 'files': ['playbooks/legacy/neutron-grenade/run.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-grenade/post.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5bd813e328f5b7f2f057c41d6e188b1bfc11ee55', 'message': ""[stable/train] Convert neutron-grenade job to the zuul v3 job\n\nOther grenade jobs, like neutron-grenade-multinode are already converted\nto the native zuul v3 definitions but neutron-grenade job wasn't and it\nseems that as it is using devstack-gate project to provision vm, for\nsome reason it stucks now and job fails with timeout.\nTo avoid that lets convert that job to the native Zuul v3 syntax.\n\nThis patch is needed only for stable/train as in newer branches we don't\nhave that single node job anymore.\n\nThis patch also switches neutron-grenade job to be voting in the check queue\nand to be run in the gate queue. It was made non-voting and no gating with\nthe patch https://review.opendev.org/c/openstack/neutron/+/851330 to\nworkaround the issue which this patch fixes.\n\nCloses-bug: #1982720\nChange-Id: Iaa42e0d3020c67d22583ed70e624c401b192dc93\n""}]",7,851506,5bd813e328f5b7f2f057c41d6e188b1bfc11ee55,16,3,3,11975,,,0,"[stable/train] Convert neutron-grenade job to the zuul v3 job

Other grenade jobs, like neutron-grenade-multinode are already converted
to the native zuul v3 definitions but neutron-grenade job wasn't and it
seems that as it is using devstack-gate project to provision vm, for
some reason it stucks now and job fails with timeout.
To avoid that lets convert that job to the native Zuul v3 syntax.

This patch is needed only for stable/train as in newer branches we don't
have that single node job anymore.

This patch also switches neutron-grenade job to be voting in the check queue
and to be run in the gate queue. It was made non-voting and no gating with
the patch https://review.opendev.org/c/openstack/neutron/+/851330 to
workaround the issue which this patch fixes.

Closes-bug: #1982720
Change-Id: Iaa42e0d3020c67d22583ed70e624c401b192dc93
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/851506/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron/ovn.ini.sample', 'playbooks/legacy/neutron-grenade/run.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-grenade/post.yaml']",4,8cc03f4ad5cc1c535ef52809847974894e5aba0e,bug/1982720,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,362,77
openstack%2Fpython-tripleoclient~master~I9610ce51213ca2ad191d60914398131f11016453,openstack/python-tripleoclient,master,I9610ce51213ca2ad191d60914398131f11016453,Update cell export for ephemeral heat,MERGED,2022-06-03 18:51:28.000000000,2022-08-02 12:06:13.000000000,2022-07-13 20:57:33.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-03 18:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bf9d73d507c8901226de92e682a48894e84b392b', 'message': 'Update cell export for ephemeral heat\n\nopenstack overcloud cell export was never updated to account for\nephemeral Heat changes. This patch removes the dependency on using heat\nclient, and updates it to use the working directory instead.\n\nChange-Id: I9610ce51213ca2ad191d60914398131f11016453\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-06-03 21:00:20.000000000', 'files': ['tripleoclient/tests/v1/test_overcloud_cell.py', 'tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c11228c569747a0789ef38a1e873d2749ed0321c', 'message': 'Update cell export for ephemeral heat\n\nopenstack overcloud cell export was never updated to account for\nephemeral Heat changes. This patch removes the dependency on using heat\nclient, and updates it to use the working directory instead.\n\nChange-Id: I9610ce51213ca2ad191d60914398131f11016453\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",13,844636,c11228c569747a0789ef38a1e873d2749ed0321c,23,8,2,7144,,,0,"Update cell export for ephemeral heat

openstack overcloud cell export was never updated to account for
ephemeral Heat changes. This patch removes the dependency on using heat
client, and updates it to use the working directory instead.

Change-Id: I9610ce51213ca2ad191d60914398131f11016453
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/844636/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_overcloud_cell.py', 'tripleoclient/v1/overcloud_cell.py']",2,bf9d73d507c8901226de92e682a48894e84b392b,,"from tripleoclient import utils as oooutils parser.add_argument('--working-dir', action='store', help=_('The working directory for the ' 'deployment where all input, output, and ' 'generated files are stored. Defaults to ' '""$HOME/overcloud-deploy/<stack>""')) 'export data. Defaults to $HOME/' 'overcloud-deploy/<stack>/config-download')) data = export.export_passwords( oooutils.get_default_working_dir(control_plane_stack), control_plane_stack) if not parsed_args.working_dir: working_dir = oooutils.get_default_working_dir(stack_to_export) else: working_dir = parsed_args.working_dir if not parsed_args.config_download_dir: download_dir = os.path.join(working_dir, 'config-download') oooutils.get_default_working_dir(stack_to_export), stack_to_export, should_filter,"," 'export data. Defaults to ' '$HOME/config-download')) # prepare clients to access the environment clients = self.app.client_manager heat = clients.orchestration data = export.export_passwords(heat, control_plane_stack) if not parsed_args.config_download_dir: download_dir = constants.DEFAULT_WORK_DIR heat, stack_to_export, should_filter,",28,14
openstack%2Fopenstack-ansible-openstack_hosts~master~I89f8cdebf9322c0451b5600b073c82b7773af164,openstack/openstack-ansible-openstack_hosts,master,I89f8cdebf9322c0451b5600b073c82b7773af164,Allow to add extra records to /etc/hosts,MERGED,2022-07-28 15:57:48.000000000,2022-08-02 12:00:51.000000000,2022-08-02 11:59:43.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-07-28 15:57:48.000000000', 'files': ['releasenotes/notes/custom_hosts_records-06236cf62a238fc2.yaml', 'defaults/main.yml', 'tasks/openstack_update_hosts_file.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/f26fbe4c6aef11cc17c4a9e7be37a7b89ae74326', 'message': 'Allow to add extra records to /etc/hosts\n\nAdd variable, that would allow to provide extra records for /etc/hosts\nfile. That might be useful for ppl who still have not adopted proper\nDNS or want to do DNS RR, but not for internal VIP and manage internal\nVIP with /etc/hosts file, where each host group would resolve FQDN to\na local address.\n\nChange-Id: I89f8cdebf9322c0451b5600b073c82b7773af164\n'}]",2,851428,f26fbe4c6aef11cc17c4a9e7be37a7b89ae74326,14,5,1,28619,,,0,"Allow to add extra records to /etc/hosts

Add variable, that would allow to provide extra records for /etc/hosts
file. That might be useful for ppl who still have not adopted proper
DNS or want to do DNS RR, but not for internal VIP and manage internal
VIP with /etc/hosts file, where each host group would resolve FQDN to
a local address.

Change-Id: I89f8cdebf9322c0451b5600b073c82b7773af164
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/28/851428/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/custom_hosts_records-06236cf62a238fc2.yaml', 'defaults/main.yml', 'tasks/openstack_update_hosts_file.yml']",3,f26fbe4c6aef11cc17c4a9e7be37a7b89ae74326,, {% set records = openstack_host_custom_hosts_records %}, {% set records = [] %},14,1
openstack%2Ftooz~master~Ie63625d79dff284ce985e1fad8c487e5281fbbb4,openstack/tooz,master,Ie63625d79dff284ce985e1fad8c487e5281fbbb4,remove unicode from code,MERGED,2022-08-02 08:11:47.000000000,2022-08-02 11:55:56.000000000,2022-08-02 11:54:41.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 08:11:47.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/00972f3b09f57d1c715facacf3dd945c0608ebac', 'message': 'remove unicode from code\n\nChange-Id: Ie63625d79dff284ce985e1fad8c487e5281fbbb4\n'}]",0,851816,00972f3b09f57d1c715facacf3dd945c0608ebac,7,2,1,35067,,,0,"remove unicode from code

Change-Id: Ie63625d79dff284ce985e1fad8c487e5281fbbb4
",git fetch https://review.opendev.org/openstack/tooz refs/changes/16/851816/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,00972f3b09f57d1c715facacf3dd945c0608ebac,,"project = 'tooz' copyright = '%s, OpenStack Foundation' % datetime.date.today().year ('index', 'tooz', 'tooz Documentation', 'OpenStack Foundation', 'tooz', 'One line description of project.',","project = u'tooz' copyright = u'%s, OpenStack Foundation' % datetime.date.today().year ('index', 'tooz', u'tooz Documentation', u'OpenStack Foundation', 'tooz', 'One line description of project.',",4,4
openstack%2Fopenstack-doc-tools~master~Ic897d7d55331fa81819f2e92aa3cc12e5661ce54,openstack/openstack-doc-tools,master,Ic897d7d55331fa81819f2e92aa3cc12e5661ce54,remove unicode literal from code,MERGED,2022-07-28 07:19:06.000000000,2022-08-02 11:54:49.000000000,2022-08-02 11:53:46.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 07:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/44460fbc37887ed076b0b2bbdce19d0dfb87a0df', 'message': 'remove unicode from code\n\nChange-Id: Ic897d7d55331fa81819f2e92aa3cc12e5661ce54\n'}, {'number': 2, 'created': '2022-07-30 07:31:38.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/47788ab5b5b8270177a66bcc6a9cc10f50c6ac66', 'message': 'remove unicode literal from code\n\nChange-Id: Ic897d7d55331fa81819f2e92aa3cc12e5661ce54\n'}]",0,851320,47788ab5b5b8270177a66bcc6a9cc10f50c6ac66,9,2,2,35058,,,0,"remove unicode literal from code

Change-Id: Ic897d7d55331fa81819f2e92aa3cc12e5661ce54
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/20/851320/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,44460fbc37887ed076b0b2bbdce19d0dfb87a0df,,"project = 'OpenStack-doc-tools' copyright = '2017, OpenStack Foundation' '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'OpenStack-doc-tools' copyright = u'2017, OpenStack Foundation' u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Fneutron-dynamic-routing~stable%2Fwallaby~I1b13f01ca47c8390f1361e01d5eb313fe2fc417f,openstack/neutron-dynamic-routing,stable/wallaby,I1b13f01ca47c8390f1361e01d5eb313fe2fc417f,Consume BGP service plugin queue in RPC workers,MERGED,2022-07-12 11:02:29.000000000,2022-08-02 11:44:46.000000000,2022-08-02 11:43:33.000000000,"[{'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-12 11:02:29.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ed1ffb194921285fb89d92a35ffbc04cc2610861', 'message': 'Consume BGP service plugin queue in RPC workers\n\nThis patch adds BGP service plugin RPC queue to RPC workers, like it is\ndone in other Neutron service plugins (l3-plugin, metering, etc.).\nWithout it some RPC requests and AMQP heartbeats are not processed in\ntime, causing AMQP connection dropping, and other unpredictable unwanted\nbehavior.\n\nCloses-Bug: #1974057\nChange-Id: I1b13f01ca47c8390f1361e01d5eb313fe2fc417f\n(cherry picked from commit b9c085b85f3f2912d77050a33667f88b8edd6ca0)\n'}]",1,849512,ed1ffb194921285fb89d92a35ffbc04cc2610861,10,3,1,13252,,,0,"Consume BGP service plugin queue in RPC workers

This patch adds BGP service plugin RPC queue to RPC workers, like it is
done in other Neutron service plugins (l3-plugin, metering, etc.).
Without it some RPC requests and AMQP heartbeats are not processed in
time, causing AMQP connection dropping, and other unpredictable unwanted
behavior.

Closes-Bug: #1974057
Change-Id: I1b13f01ca47c8390f1361e01d5eb313fe2fc417f
(cherry picked from commit b9c085b85f3f2912d77050a33667f88b8edd6ca0)
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/12/849512/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/services/bgp/bgp_plugin.py'],1,ed1ffb194921285fb89d92a35ffbc04cc2610861,use-rpc-workers-stable/yoga-stable/xena-stable/wallaby, self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] = ( bgp_dr_rpc_agent_api.BgpDrAgentNotifyApi() ) self._bgp_rpc = self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] def start_rpc_listeners(self): return self.conn.consume_in_threads(), self._setup_rpc() def _setup_rpc(self): self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] = ( bgp_dr_rpc_agent_api.BgpDrAgentNotifyApi() ) self._bgp_rpc = self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] self.conn.consume_in_threads(),6,7
openstack%2Fneutron-dynamic-routing~stable%2Fxena~I1b13f01ca47c8390f1361e01d5eb313fe2fc417f,openstack/neutron-dynamic-routing,stable/xena,I1b13f01ca47c8390f1361e01d5eb313fe2fc417f,Consume BGP service plugin queue in RPC workers,MERGED,2022-07-12 11:02:07.000000000,2022-08-02 11:44:45.000000000,2022-08-02 11:43:31.000000000,"[{'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-12 11:02:07.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/b515ce43b8396cdcd68787e7a1ae4708dcd0da27', 'message': 'Consume BGP service plugin queue in RPC workers\n\nThis patch adds BGP service plugin RPC queue to RPC workers, like it is\ndone in other Neutron service plugins (l3-plugin, metering, etc.).\nWithout it some RPC requests and AMQP heartbeats are not processed in\ntime, causing AMQP connection dropping, and other unpredictable unwanted\nbehavior.\n\nCloses-Bug: #1974057\nChange-Id: I1b13f01ca47c8390f1361e01d5eb313fe2fc417f\n(cherry picked from commit b9c085b85f3f2912d77050a33667f88b8edd6ca0)\n'}]",1,849511,b515ce43b8396cdcd68787e7a1ae4708dcd0da27,10,3,1,13252,,,0,"Consume BGP service plugin queue in RPC workers

This patch adds BGP service plugin RPC queue to RPC workers, like it is
done in other Neutron service plugins (l3-plugin, metering, etc.).
Without it some RPC requests and AMQP heartbeats are not processed in
time, causing AMQP connection dropping, and other unpredictable unwanted
behavior.

Closes-Bug: #1974057
Change-Id: I1b13f01ca47c8390f1361e01d5eb313fe2fc417f
(cherry picked from commit b9c085b85f3f2912d77050a33667f88b8edd6ca0)
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/11/849511/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/services/bgp/bgp_plugin.py'],1,b515ce43b8396cdcd68787e7a1ae4708dcd0da27,use-rpc-workers-stable/yoga-stable/xena, self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] = ( bgp_dr_rpc_agent_api.BgpDrAgentNotifyApi() ) self._bgp_rpc = self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] def start_rpc_listeners(self): return self.conn.consume_in_threads(), self._setup_rpc() def _setup_rpc(self): self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] = ( bgp_dr_rpc_agent_api.BgpDrAgentNotifyApi() ) self._bgp_rpc = self.agent_notifiers[bgp_consts.AGENT_TYPE_BGP_ROUTING] self.conn.consume_in_threads(),6,7
openstack%2Fdevstack~master~I42b270749f057c5751e809aba282112b990b9f38,openstack/devstack,master,I42b270749f057c5751e809aba282112b990b9f38,remove duplicate line of REGION_NAME,MERGED,2022-08-02 07:42:48.000000000,2022-08-02 11:26:45.000000000,2022-08-02 11:25:40.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-02 07:42:48.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/79bef068b69c7e97a63aaa3e7fae13bcbc649ebd', 'message': 'remove duplicate line of REGION_NAME\n\nChange-Id: I42b270749f057c5751e809aba282112b990b9f38\n'}]",1,851804,79bef068b69c7e97a63aaa3e7fae13bcbc649ebd,8,3,1,13114,,,0,"remove duplicate line of REGION_NAME

Change-Id: I42b270749f057c5751e809aba282112b990b9f38
",git fetch https://review.opendev.org/openstack/devstack refs/changes/04/851804/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,79bef068b69c7e97a63aaa3e7fae13bcbc649ebd,fix_typo,,REGION_NAME=${REGION_NAME:-RegionOne} ,0,2
openstack%2Fdiskimage-builder~master~Iba38570d96374226b924db3aca305f7571643823,openstack/diskimage-builder,master,Iba38570d96374226b924db3aca305f7571643823,Upgrade openEuler to 22.03 LTS,MERGED,2022-07-05 02:08:22.000000000,2022-08-02 11:24:28.000000000,2022-08-02 11:21:59.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 22997}]","[{'number': 1, 'created': '2022-07-05 02:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9738a07e4cc95ab3e2013511c35ca35ec1793c81', 'message': ""[WIP]Add openEuler 22.02 LTS support\n\n22.03 LTS is the newest LTS version for openEuler distro. It was\nrelease in March 2022 and will be maintained for 2 years. This\npatch adds this distro support. It'll be used in Devstack,\nKolla-ansible and so on in CI jobs.\n\nThis patch also enables the YUM mirror to speed up the package\ndownload cost.\n\nChange-Id: Iba38570d96374226b924db3aca305f7571643823\n""}, {'number': 2, 'created': '2022-07-05 08:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4c0f39b649207c83d9778b5df67e57bb7f5df32f', 'message': ""[WIP]Upgrade openEuler to 22.02 LTS\n\nopenEuler 20.03-LTS-SP2 was out of date in May 2022. 22.03 LTS\nis the newest LTS version. It was release in March 2022 and\nwill be maintained for 2 years. This patch upgrades the LTS\nversion. It'll be used in Devstack, Kolla-ansible and so on\nin CI jobs.\n\nThis patch also enables the YUM mirror to speed up the package\ndownload.\n\nChange-Id: Iba38570d96374226b924db3aca305f7571643823\n""}, {'number': 3, 'created': '2022-07-12 01:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f17a0c42c9e498017e6f35b66bf414908916a0f5', 'message': ""[WIP]Upgrade openEuler to 22.02 LTS\n\nopenEuler 20.03-LTS-SP2 was out of date in May 2022. 22.03 LTS\nis the newest LTS version. It was release in March 2022 and\nwill be maintained for 2 years. This patch upgrades the LTS\nversion. It'll be used in Devstack, Kolla-ansible and so on\nin CI jobs.\n\nThis patch also enables the YUM mirror to speed up the package\ndownload.\n\nChange-Id: Iba38570d96374226b924db3aca305f7571643823\n""}, {'number': 4, 'created': '2022-07-12 07:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/606103dde67f8dc617bf669f86808116160fa438', 'message': ""Upgrade openEuler to 22.02 LTS\n\nopenEuler 20.03-LTS-SP2 was out of date in May 2022. 22.03 LTS\nis the newest LTS version. It was release in March 2022 and\nwill be maintained for 2 years. This patch upgrades the LTS\nversion. It'll be used in Devstack, Kolla-ansible and so on\nin CI jobs.\n\nThis patch also enables the YUM mirror to speed up the package\ndownload.\n\nChange-Id: Iba38570d96374226b924db3aca305f7571643823\n""}, {'number': 5, 'created': '2022-08-01 07:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fed03468a36f7db0352ef842d9644cce114e9089', 'message': ""Upgrade openEuler to 22.03 LTS\n\nopenEuler 20.03-LTS-SP2 was out of date in May 2022. 22.03 LTS\nis the newest LTS version. It was release in March 2022 and\nwill be maintained for 2 years. This patch upgrades the LTS\nversion. It'll be used in Devstack, Kolla-ansible and so on\nin CI jobs.\n\nThis patch also enables the YUM mirror to speed up the package\ndownload.\n\nChange-Id: Iba38570d96374226b924db3aca305f7571643823\n""}, {'number': 6, 'created': '2022-08-01 11:23:24.000000000', 'files': ['diskimage_builder/elements/openeuler-minimal/test-elements/22.03-LTS-build-succeeds/test-output-formats', 'roles/dib-setup-gate-mirrors/templates/openeuler-minimal/20.03-LTS-SP2/openEuler.repo.j2', 'diskimage_builder/elements/openeuler-minimal/test-elements/22.03-LTS-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/openeuler-minimal/root.d/00-00-generate-repo', 'diskimage_builder/elements/openeuler-minimal/test-elements/22.03-LTS-build-succeeds/element-deps', 'roles/dib-setup-gate-mirrors/templates/openeuler-minimal/22.03-LTS/openEuler.repo.j2', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/openeuler-minimal/test-elements/22.03-LTS-build-succeeds/README.rst', 'doc/source/user_guide/supported_distros.rst', 'diskimage_builder/elements/openeuler-minimal/environment.d/10-openeuler-distro-name.bash', 'roles/dib-setup-gate-mirrors/tasks/main.yaml', 'diskimage_builder/elements/openeuler-minimal/pre-install.d/00-setup-mirror.bash', 'releasenotes/notes/upgrade_openeuler_to_22.03-d67d9bb3c5c97749.yaml', 'diskimage_builder/elements/openeuler-minimal/test-elements/20.03-LTS-SP2-build-succeeds/README.rst', 'diskimage_builder/elements/openeuler-minimal/README.rst', 'diskimage_builder/elements/openeuler-minimal/test-elements/20.03-LTS-SP2-build-succeeds/environment.d/10-set-distro.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/934a65bc3415a49a8b41ea59258e0a84a49e004e', 'message': ""Upgrade openEuler to 22.03 LTS\n\nopenEuler 20.03-LTS-SP2 was out of date in May 2022. 22.03 LTS\nis the newest LTS version. It was release in March 2022 and\nwill be maintained for 2 years. This patch upgrades the LTS\nversion. It'll be used in Devstack, Kolla-ansible and so on\nin CI jobs.\n\nThis patch also enables the YUM mirror to speed up the package\ndownload.\n\nChange-Id: Iba38570d96374226b924db3aca305f7571643823\n""}]",11,848680,934a65bc3415a49a8b41ea59258e0a84a49e004e,53,3,6,15054,,,0,"Upgrade openEuler to 22.03 LTS

openEuler 20.03-LTS-SP2 was out of date in May 2022. 22.03 LTS
is the newest LTS version. It was release in March 2022 and
will be maintained for 2 years. This patch upgrades the LTS
version. It'll be used in Devstack, Kolla-ansible and so on
in CI jobs.

This patch also enables the YUM mirror to speed up the package
download.

Change-Id: Iba38570d96374226b924db3aca305f7571643823
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/80/848680/3 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/openeuler-minimal/test-elements/22.03-LTS-build-succeeds/test-output-formats', 'diskimage_builder/elements/openeuler-minimal/test-elements/22.03-LTS-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/openeuler-minimal/root.d/00-00-generate-repo', 'diskimage_builder/elements/openeuler-minimal/test-elements/22.03-LTS-build-succeeds/element-deps', 'roles/dib-setup-gate-mirrors/templates/openeuler-minimal/22.03-LTS/openEuler.repo.j2', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/openeuler-minimal/test-elements/22.03-LTS-build-succeeds/README.rst', 'doc/source/user_guide/supported_distros.rst', 'diskimage_builder/elements/openeuler-minimal/environment.d/10-openeuler-distro-name.bash', 'roles/dib-setup-gate-mirrors/tasks/main.yaml', 'diskimage_builder/elements/openeuler-minimal/README.rst']",12,9738a07e4cc95ab3e2013511c35ca35ec1793c81,add_openeuler_22.03_lts_support, Set ``DIB_DISTRIBUTION_MIRROR`` to the mirror URL use a openEuler Yum mirror. This URL should point to the directory containing the ``DIB_RELEASE`` directories.,,70,7
openstack%2Fnova~stable%2Fvictoria~I92f35514efddcb071c7094370b79d91d34c5bc72,openstack/nova,stable/victoria,I92f35514efddcb071c7094370b79d91d34c5bc72,compute: Avoid duplicate BDMs during reserve_block_device_name,NEW,2021-08-06 10:03:26.000000000,2022-08-02 11:20:59.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29074}]","[{'number': 1, 'created': '2021-08-06 10:03:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1937375.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/303c7a7c35044240f1546a5f960c1a4e6482f385', 'message': 'compute: Avoid duplicate BDMs during reserve_block_device_name\n\nWhen attaching a volume to a running instance the nova-api validates\nthat the volume is not already attached to the instance. However\nnova-compute is responsible for actually creating the BDM entry in the\ndatabase. If sending attach requests fast enough it can be possible\nthat the same ""attach_volume"" request can be sent to nova-compute for\nthe same volume/instance combination.\n\nTo work around this we add a check in nova-compute to validate that\nthe volume has not been attached in the mean time.\n\nCloses-Bug: #1937375\nChange-Id: I92f35514efddcb071c7094370b79d91d34c5bc72\n(cherry picked from commit 2209b0007fe85d7c5439e0bfdfe2120c63898fa2)\n(cherry picked from commit 2bee83b8a980b2bd9e276b75aa74253f8c0d0a70)\n'}]",1,803721,303c7a7c35044240f1546a5f960c1a4e6482f385,17,3,1,10135,,,0,"compute: Avoid duplicate BDMs during reserve_block_device_name

When attaching a volume to a running instance the nova-api validates
that the volume is not already attached to the instance. However
nova-compute is responsible for actually creating the BDM entry in the
database. If sending attach requests fast enough it can be possible
that the same ""attach_volume"" request can be sent to nova-compute for
the same volume/instance combination.

To work around this we add a check in nova-compute to validate that
the volume has not been attached in the mean time.

Closes-Bug: #1937375
Change-Id: I92f35514efddcb071c7094370b79d91d34c5bc72
(cherry picked from commit 2209b0007fe85d7c5439e0bfdfe2120c63898fa2)
(cherry picked from commit 2bee83b8a980b2bd9e276b75aa74253f8c0d0a70)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/803721/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1937375.py', 'nova/compute/manager.py']",3,303c7a7c35044240f1546a5f960c1a4e6482f385,bug/1937375," # Now that we have the lock check that we haven't raced another # request and ensure there is no existing attachment if any(b for b in bdms if b.volume_id == volume_id): msg = _(""volume %s already attached"") % volume_id raise exception.InvalidVolume(reason=msg) ",,41,6
openstack%2Fnova~stable%2Fvictoria~I332d4f33ea6b9506cc24ac12e5c0994f208a3107,openstack/nova,stable/victoria,I332d4f33ea6b9506cc24ac12e5c0994f208a3107,Add functional test for bug 1937375,NEW,2021-08-06 10:03:26.000000000,2022-08-02 11:20:06.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29074}]","[{'number': 1, 'created': '2021-08-06 10:03:26.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1937375.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/68b2d5f797896768229db1cf28feb22a984daf81', 'message': 'Add functional test for bug 1937375\n\nRelated-Bug: #1937375\nChange-Id: I332d4f33ea6b9506cc24ac12e5c0994f208a3107\n(cherry picked from commit 2ffd9738602531e93495a1feca76bbb687c3e72c)\n(cherry picked from commit 7a9e3dcd172f187cf93f406b09f49d2ded9bd90d)\n'}]",1,803720,68b2d5f797896768229db1cf28feb22a984daf81,6,3,1,10135,,,0,"Add functional test for bug 1937375

Related-Bug: #1937375
Change-Id: I332d4f33ea6b9506cc24ac12e5c0994f208a3107
(cherry picked from commit 2ffd9738602531e93495a1feca76bbb687c3e72c)
(cherry picked from commit 7a9e3dcd172f187cf93f406b09f49d2ded9bd90d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/803720/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1937375.py'],1,68b2d5f797896768229db1cf28feb22a984daf81,bug/1937375,"# Copyright 2020, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import time from nova import context from nova import objects from nova.tests.functional import integrated_helpers class TestDuplicateVolAttachRace(integrated_helpers._IntegratedTestBase): """"""Regression test for bug #1937375 A regression test to assert the behaviour of bug #1937375 where calls to reserve_block_device_name can race and create duplicate bdm records. As we can't recreate the race with pure API driven requests in our functional tests this instead makes duplicate calls to reserve_block_device_name during an attach to mimic the behaviour. """""" microversion = 'latest' # TODO(lyarwood): Copied from test_bug_1675570.py, move both into # _IntegratedTestBase. def _wait_for_volume_attach(self, server_id, volume_id): timeout = 0.0 server = self.api.get_server(server_id) attached_vols = [vol['id'] for vol in server['os-extended-volumes:volumes_attached']] while volume_id not in attached_vols and timeout < 10.0: time.sleep(.1) timeout += .1 server = self.api.get_server(server_id) attached_vols = [vol['id'] for vol in server['os-extended-volumes:volumes_attached']] if volume_id not in attached_vols: self.fail('Timed out waiting for volume %s to be attached to ' 'server %s. Currently attached volumes: %s' % (volume_id, server_id, attached_vols)) def test_duplicate_volume_attach_race(self): ctxt = context.get_admin_context() volume_id = self.cinder.IMAGE_BACKED_VOL server_id = self._create_server(networks='none')['id'] original_reserve_name = self.compute.manager.reserve_block_device_name def wrap_reserve_block_device_name(*args, **kwargs): # We can't cause a race with duplicate API requests as functional # tests are single threaded and the first would always complete # before the second was serviced. Instead we can wrap # reserve_block_device_name on the compute manager and call it # twice to mimic two callers racing each other after the checks on # the api. original_bdm = original_reserve_name(*args, **kwargs) original_reserve_name(*args, **kwargs) return original_bdm with mock.patch.object( self.compute.manager, 'reserve_block_device_name', wrap_reserve_block_device_name ): self.api.post_server_volume( server_id, {'volumeAttachment': {'volumeId': volume_id}}) # Wait for a volume to be attached self._wait_for_volume_attach(server_id, volume_id) # Fetch all bdms for the instance to assert what we have bdms = objects.BlockDeviceMappingList.get_by_instance_uuid( ctxt, server_id) # FIXME(lyarwood): This is bug #1937375, we now have 3 bdms for the # instance, the original root disk and two duplicate volume bdms for # the same volume attachment. self.assertEqual(3, len(bdms)) self.assertEqual(volume_id, bdms[2].volume_id) self.assertEqual(volume_id, bdms[1].volume_id) self.assertEqual('local', bdms[0].destination_type) ",,95,0
openstack%2Fsushy-tools~master~I53703f067fb41c27e42a107883ad2562c6be4edb,openstack/sushy-tools,master,I53703f067fb41c27e42a107883ad2562c6be4edb,remove unicode from code,MERGED,2022-08-02 08:26:58.000000000,2022-08-02 11:15:08.000000000,2022-08-02 11:14:04.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-08-02 08:26:58.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d576943e056b2ca37e1fe0bbce1d1587705ac704', 'message': 'remove unicode from code\n\nChange-Id: I53703f067fb41c27e42a107883ad2562c6be4edb\n'}]",1,851819,d576943e056b2ca37e1fe0bbce1d1587705ac704,7,2,1,35067,,,0,"remove unicode from code

Change-Id: I53703f067fb41c27e42a107883ad2562c6be4edb
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/19/851819/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,d576943e056b2ca37e1fe0bbce1d1587705ac704,,"copyright = '2016, OpenStack Foundation' 'Sushy Tools Documentation', 'OpenStack Foundation', 'manual'),","copyright = u'2016, OpenStack Foundation' u'Sushy Tools Documentation', u'OpenStack Foundation', 'manual'),",3,3
openstack%2Fdevstack-plugin-ceph~master~I54380f1cb905dfa5ab287ba423561aa75bc1d2f4,openstack/devstack-plugin-ceph,master,I54380f1cb905dfa5ab287ba423561aa75bc1d2f4,Set default value for MANILA_CEPH_GANESHA_RADOS_STORE,MERGED,2022-07-18 19:37:56.000000000,2022-08-02 10:49:23.000000000,2022-08-02 10:48:19.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-07-18 19:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/9b16cf5200bb3ef31725c20312bb8bcd01a8b184', 'message': ""Set default value for MANILA_CEPH_GANESHA_RADOS_STORE\n\nIt's not a required configuration item; and its not required\nwith cephadm deployed NFS-Ganesha daemon/s.\n\nChange-Id: I54380f1cb905dfa5ab287ba423561aa75bc1d2f4\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2022-07-18 19:47:06.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ed3c978f11f36250845d43c462d625637c889c13', 'message': ""Set default value for MANILA_CEPH_GANESHA_RADOS_STORE\n\nIt's not a required configuration item; and its not required\nwith cephadm deployed NFS-Ganesha daemon/s.\n\nChange-Id: I54380f1cb905dfa5ab287ba423561aa75bc1d2f4\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",2,850250,ed3c978f11f36250845d43c462d625637c889c13,9,3,2,16643,,,0,"Set default value for MANILA_CEPH_GANESHA_RADOS_STORE

It's not a required configuration item; and its not required
with cephadm deployed NFS-Ganesha daemon/s.

Change-Id: I54380f1cb905dfa5ab287ba423561aa75bc1d2f4
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/50/850250/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,9b16cf5200bb3ef31725c20312bb8bcd01a8b184,bp/cephadm_deploy, MANILA_OPTGROUP_cephfsnfs1_ganesha_rados_store_enable=${MANILA_CEPH_GANESHA_RADOS_STORE:-False}, MANILA_OPTGROUP_cephfsnfs1_ganesha_rados_store_enable=${MANILA_CEPH_GANESHA_RADOS_STORE},1,1
openstack%2Fopenstack-ansible~master~I290240412853c80d4e3e0babb6d5a4e833f6849d,openstack/openstack-ansible,master,I290240412853c80d4e3e0babb6d5a4e833f6849d,Add networking-baremetal repo overrides,MERGED,2022-07-29 15:47:54.000000000,2022-08-02 10:26:31.000000000,2022-08-02 10:25:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-07-29 15:47:54.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/91492021ad1200b8e72e697bc1e044ddcba70056', 'message': 'Add networking-baremetal repo overrides\n\nThis patch adds networking-baremetal to the openstack services\nto be tracked for installation.\n\nChange-Id: I290240412853c80d4e3e0babb6d5a4e833f6849d\n'}]",2,851558,91492021ad1200b8e72e697bc1e044ddcba70056,10,3,1,16011,,,0,"Add networking-baremetal repo overrides

This patch adds networking-baremetal to the openstack services
to be tracked for installation.

Change-Id: I290240412853c80d4e3e0babb6d5a4e833f6849d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/851558/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,91492021ad1200b8e72e697bc1e044ddcba70056,,networking_baremetal_git_repo: https://opendev.org/openstack/networking-baremetal networking_baremetal_git_install_branch: 9468d6ec601f3cc0c375fbdb94a30c60c449e39f networking_baremetal_git_track_branch: master ,,4,0
openstack%2Fopenstack-ansible~master~I54a9e637c9575c32429d28b89541ba026580e511,openstack/openstack-ansible,master,I54a9e637c9575c32429d28b89541ba026580e511,Increase ControlPersist timeout to 300 seconds,MERGED,2022-07-28 15:48:28.000000000,2022-08-02 10:25:16.000000000,2022-08-02 10:23:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-07-28 15:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/265cb5f37af27fa53190e4ca2402c6b03c928f80', 'message': 'Increase ControlPersist timeout to 300 seconds\n\nThis ControlPersist socket periodically closing seems to be the\ncause of intermittemt MODULE FAULIRE particularly in zuul CI\njobs. Extend the timout to make this less likley to happen.\n\nSee https://github.com/ansible/ansible/issues/78344\n\nChange-Id: I54a9e637c9575c32429d28b89541ba026580e511\n'}, {'number': 2, 'created': '2022-07-29 07:19:21.000000000', 'files': ['scripts/openstack-ansible.rc'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cbdba67ad0b5a3e29db390c8e6b66721719184c0', 'message': 'Increase ControlPersist timeout to 300 seconds\n\nThis ControlPersist socket periodically closing seems to be the\ncause of intermittemt MODULE FAULIRE particularly in zuul CI\njobs. Extend the timout to make this less likley to happen.\n\nSee https://github.com/ansible/ansible/issues/78344\n\nChange-Id: I54a9e637c9575c32429d28b89541ba026580e511\n'}]",1,851426,cbdba67ad0b5a3e29db390c8e6b66721719184c0,12,3,2,25023,,,0,"Increase ControlPersist timeout to 300 seconds

This ControlPersist socket periodically closing seems to be the
cause of intermittemt MODULE FAULIRE particularly in zuul CI
jobs. Extend the timout to make this less likley to happen.

See https://github.com/ansible/ansible/issues/78344

Change-Id: I54a9e637c9575c32429d28b89541ba026580e511
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/851426/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/openstack-ansible.rc'],1,265cb5f37af27fa53190e4ca2402c6b03c928f80,,"export ANSIBLE_SSH_ARGS=""${ANSIBLE_SSH_ARGS:-C -o ControlMaster=auto -o ControlPersist=300}""",,1,0
openstack%2Fkolla-ansible~stable%2Fwallaby~Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2,openstack/kolla-ansible,stable/wallaby,Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2,haproxy-config: Drop project_name variable,MERGED,2022-08-01 08:37:25.000000000,2022-08-02 10:08:10.000000000,2022-08-02 10:06:54.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-08-01 08:37:25.000000000', 'files': ['ansible/roles/haproxy-config/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c7c9c98c48063f499eda69885a71e5e01896dbc', 'message': 'haproxy-config: Drop project_name variable\n\nThis variable shadows the name of the actual project that calls this\nrole, so we end up with the following nonsense:\n\n  TASK [haproxy-config : Copying over haproxy-config haproxy config]\n\nChange-Id: Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2\n(cherry picked from commit 5439189932aee995e4b02e4bda3035908f03878c)\n'}]",0,851714,1c7c9c98c48063f499eda69885a71e5e01896dbc,10,4,1,14826,,,0,"haproxy-config: Drop project_name variable

This variable shadows the name of the actual project that calls this
role, so we end up with the following nonsense:

  TASK [haproxy-config : Copying over haproxy-config haproxy config]

Change-Id: Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2
(cherry picked from commit 5439189932aee995e4b02e4bda3035908f03878c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/851714/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy-config/vars/main.yml'],1,1c7c9c98c48063f499eda69885a71e5e01896dbc,,,"--- project_name: ""haproxy-config"" ",0,2
openstack%2Fkolla-ansible~stable%2Fyoga~Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2,openstack/kolla-ansible,stable/yoga,Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2,haproxy-config: Drop project_name variable,MERGED,2022-08-01 08:37:05.000000000,2022-08-02 10:08:05.000000000,2022-08-02 10:06:49.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-08-01 08:37:05.000000000', 'files': ['ansible/roles/haproxy-config/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cbaf7a2afe2247f9a5bbc0dbd78db88af7a0c91b', 'message': 'haproxy-config: Drop project_name variable\n\nThis variable shadows the name of the actual project that calls this\nrole, so we end up with the following nonsense:\n\n  TASK [haproxy-config : Copying over haproxy-config haproxy config]\n\nChange-Id: Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2\n(cherry picked from commit 5439189932aee995e4b02e4bda3035908f03878c)\n'}]",0,851712,cbaf7a2afe2247f9a5bbc0dbd78db88af7a0c91b,10,4,1,14826,,,0,"haproxy-config: Drop project_name variable

This variable shadows the name of the actual project that calls this
role, so we end up with the following nonsense:

  TASK [haproxy-config : Copying over haproxy-config haproxy config]

Change-Id: Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2
(cherry picked from commit 5439189932aee995e4b02e4bda3035908f03878c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/851712/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy-config/vars/main.yml'],1,cbaf7a2afe2247f9a5bbc0dbd78db88af7a0c91b,,,"--- project_name: ""haproxy-config"" ",0,2
openstack%2Fkolla-ansible~stable%2Fxena~Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2,openstack/kolla-ansible,stable/xena,Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2,haproxy-config: Drop project_name variable,MERGED,2022-08-01 08:37:15.000000000,2022-08-02 10:07:57.000000000,2022-08-02 10:06:51.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-08-01 08:37:15.000000000', 'files': ['ansible/roles/haproxy-config/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bbfa6bbceea3fb77d3a22bdd04e3eb46bd99784a', 'message': 'haproxy-config: Drop project_name variable\n\nThis variable shadows the name of the actual project that calls this\nrole, so we end up with the following nonsense:\n\n  TASK [haproxy-config : Copying over haproxy-config haproxy config]\n\nChange-Id: Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2\n(cherry picked from commit 5439189932aee995e4b02e4bda3035908f03878c)\n'}]",0,851713,bbfa6bbceea3fb77d3a22bdd04e3eb46bd99784a,10,4,1,14826,,,0,"haproxy-config: Drop project_name variable

This variable shadows the name of the actual project that calls this
role, so we end up with the following nonsense:

  TASK [haproxy-config : Copying over haproxy-config haproxy config]

Change-Id: Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2
(cherry picked from commit 5439189932aee995e4b02e4bda3035908f03878c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/851713/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy-config/vars/main.yml'],1,bbfa6bbceea3fb77d3a22bdd04e3eb46bd99784a,,,"--- project_name: ""haproxy-config"" ",0,2
openstack%2Freleases~master~I37aa44c9cc8a9df90ebc2d98c6313b1edc0c7f0c,openstack/releases,master,I37aa44c9cc8a9df90ebc2d98c6313b1edc0c7f0c,Release openstackdocstheme 3.0.0,MERGED,2022-06-08 14:26:01.000000000,2022-08-02 10:04:45.000000000,2022-08-02 10:04:45.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-06-08 14:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9a74736faaa48cb2f3ea45176f6eb3bb656ae041', 'message': 'Release openstackdocstheme 2.4.1\n\nChange-Id: I37aa44c9cc8a9df90ebc2d98c6313b1edc0c7f0c\n'}, {'number': 2, 'created': '2022-06-13 09:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/99a5898f221a439e96507639b4785e20fb572b8a', 'message': 'Release openstackdocstheme 2.4.1\n\nChange-Id: I37aa44c9cc8a9df90ebc2d98c6313b1edc0c7f0c\n'}, {'number': 3, 'created': '2022-06-17 09:50:46.000000000', 'files': ['deliverables/_independent/openstackdocstheme.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/61757927a5dd8c31ac7e04d8c75121e29c8b480a', 'message': 'Release openstackdocstheme 3.0.0\n\nChange-Id: I37aa44c9cc8a9df90ebc2d98c6313b1edc0c7f0c\n'}]",3,845142,61757927a5dd8c31ac7e04d8c75121e29c8b480a,15,4,3,28522,,,0,"Release openstackdocstheme 3.0.0

Change-Id: I37aa44c9cc8a9df90ebc2d98c6313b1edc0c7f0c
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/845142/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstackdocstheme.yaml'],1,9a74736faaa48cb2f3ea45176f6eb3bb656ae041,oslo-independent, - version: 2.4.1 projects: - repo: openstack/openstackdocstheme hash: dd04d50dcb2c24f33ff3b3ce28d4545d83bdeaf4,,4,0
openstack%2Ftripleo-ci~master~I425c111238768163ed237d57e16c68f391b0f41c,openstack/tripleo-ci,master,I425c111238768163ed237d57e16c68f391b0f41c,Do not trigger functional jobs for unit test changes,MERGED,2021-11-29 02:29:38.000000000,2022-08-02 09:58:24.000000000,2022-08-02 09:58:24.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22318}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-11-29 02:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8313c9f1f2f329841cd9efc5b585c41ea9416b25', 'message': 'Do not trigger deployment jobs for change in unit tests\n\nChange-Id: I425c111238768163ed237d57e16c68f391b0f41c\n'}, {'number': 2, 'created': '2022-01-05 15:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/272d37d3aedc511a161301287e604f51f826bb0f', 'message': 'Do not trigger deployment jobs for change in unit tests\n\nChange-Id: I425c111238768163ed237d57e16c68f391b0f41c\n'}, {'number': 3, 'created': '2022-07-26 07:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f93715a972fbe4370ac8872cdce3fb404c7be077', 'message': ""Do not trigger functional jobs for unit test changes\n\nCodes under the test directory are not used by actual functionality but\nonly by unit tests. Thus we don't need to run functional jobs in case\nonly these test codes are updated.\n\nChange-Id: I425c111238768163ed237d57e16c68f391b0f41c\n""}, {'number': 4, 'created': '2022-07-27 04:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bc6d6fe9e9dd2d69facb57d8c74cf1aa6912cad1', 'message': ""Do not trigger functional jobs for unit test changes\n\nCodes under the test directory are not used by actual functionality but\nonly by unit tests. Thus we don't need to run functional jobs in case\nonly these test codes are updated.\n\nChange-Id: I425c111238768163ed237d57e16c68f391b0f41c\n""}, {'number': 5, 'created': '2022-08-01 07:47:09.000000000', 'files': ['zuul.d/base-upstream.yaml', 'zuul.d/undercloud-jobs.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/upgrades-jobs-templates.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f522ba52bbe19bf79f33a21ce7deec16d173a406', 'message': ""Do not trigger functional jobs for unit test changes\n\nCodes under the test directory are not used by actual functionality but\nonly by unit tests. Thus we don't need to run functional jobs in case\nonly these test codes are updated.\n\nChange-Id: I425c111238768163ed237d57e16c68f391b0f41c\n""}]",10,819556,f522ba52bbe19bf79f33a21ce7deec16d173a406,29,9,5,9816,,,0,"Do not trigger functional jobs for unit test changes

Codes under the test directory are not used by actual functionality but
only by unit tests. Thus we don't need to run functional jobs in case
only these test codes are updated.

Change-Id: I425c111238768163ed237d57e16c68f391b0f41c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/56/819556/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/undercloud-jobs.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/upgrades-jobs-templates.yaml', 'zuul.d/multinode-jobs.yaml']",5,8313c9f1f2f329841cd9efc5b585c41ea9416b25,, # unit tests - ^tripleoclient/tests/.* - ^tripleo_common/tests/.*,,31,0
openstack%2Freleases~master~I3e0d8b39cf1cd63ad5c7a0447583c52d1afab729,openstack/releases,master,I3e0d8b39cf1cd63ad5c7a0447583c52d1afab729,release new version of vitrage and vitrage-dashboard,MERGED,2022-08-02 05:15:11.000000000,2022-08-02 09:56:40.000000000,2022-08-02 09:56:40.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-08-02 05:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7a4eeb2da3a2f7cfd0f541ba594ebdedf35ddb5a', 'message': 'release new version of vitrage and vitrage-dashboard\n\nChange-Id: I3e0d8b39cf1cd63ad5c7a0447583c52d1afab729\n'}, {'number': 2, 'created': '2022-08-02 08:52:53.000000000', 'files': ['deliverables/zed/vitrage.yaml', 'deliverables/zed/vitrage-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1e6dceb634da87e934c4fe62665dfcec84b8685a', 'message': 'release new version of vitrage and vitrage-dashboard\n\nChange-Id: I3e0d8b39cf1cd63ad5c7a0447583c52d1afab729\n'}]",7,851794,1e6dceb634da87e934c4fe62665dfcec84b8685a,14,3,2,19134,,,0,"release new version of vitrage and vitrage-dashboard

Change-Id: I3e0d8b39cf1cd63ad5c7a0447583c52d1afab729
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/851794/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/zed/vitrage.yaml', 'deliverables/zed/vitrage-dashboard.yaml']",2,7a4eeb2da3a2f7cfd0f541ba594ebdedf35ddb5a,new_release,releases: - version: 3.6.0 projects: - repo: openstack/vitrage-dashboard hash: 3025f2b4f01e86e8585c5a951467d32f347842a0,,10,0
openstack%2Ftripleo-quickstart~master~Id6bd1afc3120a703af8a8189381922542f3a2abc,openstack/tripleo-quickstart,master,Id6bd1afc3120a703af8a8189381922542f3a2abc,DNM: Testing workaround for the openstack-selinux issue,ABANDONED,2022-08-01 11:49:37.000000000,2022-08-02 09:48:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-01 11:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5a9d28f3c25bf5632200348f539105d7f0e41965', 'message': 'DNM: Testing workaround for the openstack-selinux issue\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1982744/\nChange-Id: Id6bd1afc3120a703af8a8189381922542f3a2abc\n'}, {'number': 2, 'created': '2022-08-01 15:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2953731f179e925af3ad5d192928bbd2a0290234', 'message': 'DNM: Testing workaround for the openstack-selinux issue\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1982744/\nChange-Id: Id6bd1afc3120a703af8a8189381922542f3a2abc\n'}, {'number': 3, 'created': '2022-08-01 16:09:27.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/wallaby.yml', 'config/release/tripleo-ci/CentOS-9/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/afe2d200467b091be3e59d8f9a38fe86a499e380', 'message': 'DNM: Testing workaround for the openstack-selinux issue\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1982744/\nChange-Id: Id6bd1afc3120a703af8a8189381922542f3a2abc\n'}]",0,851735,afe2d200467b091be3e59d8f9a38fe86a499e380,13,2,3,32458,,,0,"DNM: Testing workaround for the openstack-selinux issue

Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1982744/
Change-Id: Id6bd1afc3120a703af8a8189381922542f3a2abc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/35/851735/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/wallaby.yml', 'config/release/tripleo-ci/CentOS-9/master.yml']",2,5a9d28f3c25bf5632200348f539105d7f0e41965,, sudo dnf reinstall openstack-selinux container-selinux sudo rpm -V openstack-selinux,,4,0
openstack%2Fcharm-vault~master~I4854839b5278d1b4db325e44b78b1815b2751728,openstack/charm-vault,master,I4854839b5278d1b4db325e44b78b1815b2751728,"Revert ""Implement cert cache for vault units (v2)""",MERGED,2022-08-01 13:54:48.000000000,2022-08-02 09:44:35.000000000,2022-08-02 09:44:35.000000000,"[{'_account_id': 10366}, {'_account_id': 12549}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 13:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1dd8a303f3a7f3cb4ea6b28490d632eddd313b99', 'message': 'Revert ""Implement cert cache for vault units (v2)""\n\nThis reverts commit f55055b8783ca6f3f569209b4f82285377f5ac64.\n\nReason for revert:\n\nThis patch breaks when issuing many certificates in large models due to CLI leader-set being overwhelmed: https://bugs.launchpad.net/vault-charm/+bug/1983269\n\nChange-Id: I4854839b5278d1b4db325e44b78b1815b2751728\n'}, {'number': 2, 'created': '2022-08-01 14:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/94931c5326f0f7de5bf5bb4c944a0814ada9fdcd', 'message': 'Revert ""Implement cert cache for vault units (v2)""\n\nThis reverts commit f55055b8783ca6f3f569209b4f82285377f5ac64.\n\nReason for revert:\n\nThis patch breaks when issuing many certificates in large models due to CLI leader-set being overwhelmed: https://bugs.launchpad.net/vault-charm/+bug/1983269\n\nChange-Id: I4854839b5278d1b4db325e44b78b1815b2751728\n'}, {'number': 3, 'created': '2022-08-01 17:08:43.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/9bf2a4cb3c8933ad2f60443c8e5f45a9e69c3531', 'message': 'Revert ""Implement cert cache for vault units (v2)""\n\nThis reverts commit f55055b8783ca6f3f569209b4f82285377f5ac64.\n\nReason for revert:\n\nThis patch breaks when issuing many certificates in large models due to CLI leader-set being overwhelmed: https://bugs.launchpad.net/vault-charm/+bug/1983269\n\nChange-Id: I4854839b5278d1b4db325e44b78b1815b2751728\n'}]",2,851718,9bf2a4cb3c8933ad2f60443c8e5f45a9e69c3531,13,5,3,20870,,,0,"Revert ""Implement cert cache for vault units (v2)""

This reverts commit f55055b8783ca6f3f569209b4f82285377f5ac64.

Reason for revert:

This patch breaks when issuing many certificates in large models due to CLI leader-set being overwhelmed: https://bugs.launchpad.net/vault-charm/+bug/1983269

Change-Id: I4854839b5278d1b4db325e44b78b1815b2751728
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/18/851718/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py']",4,1dd8a303f3a7f3cb4ea6b28490d632eddd313b99,bug/1970888,from unittest.mock import patch,"from unittest.mock import call, patch, MagicMockimport json @patch.object(vault_pki.hookenv, 'leader_get') def test_get_pki_cache(self, leader_get): """"""Test retrieving PKI from cache."""""" expected_pki = { ""client_unit_0"": { vault_pki.TOP_LEVEL_CERT_KEY: { ""client_unit_0.server.cert"": ""cert_data"", ""client_unit_0.server.key"": ""key_data"", } } } leader_get.return_value = json.dumps(expected_pki) pki = vault_pki.get_pki_cache() self.assertEqual(pki, expected_pki) # test retrieval if the PKI is not set leader_get.return_value = None pki = vault_pki.get_pki_cache() self.assertEqual(pki, {}) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_no_ca(self, get_ca, get_chain, get_pki_cache): """"""Test getting cert from cache when CA is missing."""""" get_ca.return_value = None get_chain.return_value = None cert, key = vault_pki.find_cert_in_cache(MagicMock()) # assert that CA cert or chain was retrieved get_ca.assert_called_once_with() get_chain.assert_called_once_with() # assert that function does not proceed due to the missing CA get_pki_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_missing(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test use case when searched certificate is not in cache."""""" request = MagicMock() request.unit_name = ""client_unit_0"" request._is_top_level_server_cert = True get_ca.return_value = MagicMock() get_pki_cache.return_value = {} cert, key = vault_pki.find_cert_in_cache(request) # assert that verification of cert is not attempted when # cert is not found verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) # Same scenario, but with non-top-level certificate request._is_top_level_server_cert = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI cache content pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: expected_cert, key_name: expected_key } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_not_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching non-top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI cache content pki = { client_name: { publish_key: { common_name: { ""cert"": expected_cert, ""key"": expected_key, } } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request.common_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI structure initial_pki = {} expected_pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: cert_data, key_name: key_data } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_non_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing non-top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI structure initial_pki = {} expected_pki = { client_name: { publish_key: { common_name: { ""cert"": cert_data, ""key"": key_data, } } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_remove_unit_from_cache(self, leader_set, get_pki_cache): """"""Test removing unit certificates from cache."""""" remaining_unit = ""client/0"" removed_unit = ""client/1"" pki = { remaining_unit: ""Unit certificates"", removed_unit: ""Unit certificates"", } expected_pki = { remaining_unit: ""Unit certificates"" } get_pki_cache.return_value = pki vault_pki.remove_unit_from_cache(removed_unit) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'update_cert_cache') def test_populate_cert_cache(self, update_cert_cache): # Define data for top level certificate and key top_level_cert_name = ""server.crt"" top_level_key_name = ""server.key"" top_level_cert_data = ""top level cert"" top_level_key_data = ""top level key"" # Define data for non-top level certificate processed_request_cn = ""juju_unit_service.crt"" processed_request_publish_key = ""juju_unit_service.processed"" processed_cert_data = ""processed cert"" processed_key_data = ""processed key"" # Mock request for top level certificate top_level_request = MagicMock() top_level_request._is_top_level_server_cert = True top_level_request._server_cert_key = top_level_cert_name top_level_request._server_key_key = top_level_key_name top_level_request._unit.relation.to_publish_raw = { top_level_cert_name: top_level_cert_data, top_level_key_name: top_level_key_data, } # Mock request for non-top level certificate processed_request = MagicMock() processed_request._is_top_level_server_cert = False processed_request.common_name = processed_request_cn processed_request._publish_key = processed_request_publish_key processed_request._unit.relation.to_publish = { processed_request_publish_key: {processed_request_cn: { ""cert"": processed_cert_data, ""key"": processed_key_data }} } tls_endpoint = MagicMock() tls_endpoint.all_requests = [top_level_request, processed_request] vault_pki.populate_cert_cache(tls_endpoint) expected_update_calls = [ call(top_level_request, top_level_cert_data, top_level_key_data), call(processed_request, processed_cert_data, processed_key_data), ] update_cert_cache.assert_has_calls(expected_update_calls)",22,799
openstack%2Ftripleo-heat-templates~master~I2906e37991443ecacb1557de1618bb5f8f135b1f,openstack/tripleo-heat-templates,master,I2906e37991443ecacb1557de1618bb5f8f135b1f,Remove leftover of xinetd service support,MERGED,2022-07-12 13:01:14.000000000,2022-08-02 09:34:41.000000000,2022-08-02 09:33:32.000000000,"[{'_account_id': 6926}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-12 13:01:14.000000000', 'files': ['ci/environments/scenario000-standalone.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/cleanup-xinetd-e2f59fda914b32d9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e7a44d59c22f322437dbd7683ecef7e704434a6', 'message': 'Remove leftover of xinetd service support\n\nSupport for xinetd service was deprecated long ago[1] and actual\nimplementation was removed at that time.\n\nThis change removes the remaining service type.\n\n[1] 78f1901da4717901bf49ffc3bda321c1650aba19\n\nChange-Id: I2906e37991443ecacb1557de1618bb5f8f135b1f\n'}]",0,849509,4e7a44d59c22f322437dbd7683ecef7e704434a6,9,4,1,9816,,,0,"Remove leftover of xinetd service support

Support for xinetd service was deprecated long ago[1] and actual
implementation was removed at that time.

This change removes the remaining service type.

[1] 78f1901da4717901bf49ffc3bda321c1650aba19

Change-Id: I2906e37991443ecacb1557de1618bb5f8f135b1f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/849509/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario000-standalone.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/cleanup-xinetd-e2f59fda914b32d9.yaml']",3,4e7a44d59c22f322437dbd7683ecef7e704434a6,,--- upgrade: - | The ``OS::TripleO::Services::Xinetd`` service has been removed. Its actual implementation was already removed several cycles ago. Please remove this from roles data during upgrade. ,,6,3
openstack%2Freleases~master~I2569151aec6d9bf4f248908c8a5d618462dbb7f3,openstack/releases,master,I2569151aec6d9bf4f248908c8a5d618462dbb7f3,[tripleo] Transition Pike to End of Life,ABANDONED,2022-07-29 16:04:30.000000000,2022-08-02 09:29:50.000000000,,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 16:04:30.000000000', 'files': ['deliverables/pike/tripleo-quickstart.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/459986a88085ee71d19cf00b4bf48f81478b40bc', 'message': ""[tripleo] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I2569151aec6d9bf4f248908c8a5d618462dbb7f3\n""}]",4,851588,459986a88085ee71d19cf00b4bf48f81478b40bc,6,3,1,17685,,,0,"[tripleo] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I2569151aec6d9bf4f248908c8a5d618462dbb7f3
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/851588/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/tripleo-quickstart.yaml'],1,459986a88085ee71d19cf00b4bf48f81478b40bc,pike-eol, - version: pike-eol projects: - repo: openstack/tripleo-quickstart hash: 875002cf644c9eead2bec28956d5374602f27be3 - repo: openstack/tripleo-quickstart-extras hash: cf338f21b62a8d53c8cf8a35bb674039cdfb569a,,6,0
openstack%2Fdiskimage-builder~master~I07e8262102d4e76c861667a98ded9fc3f4f4b82d,openstack/diskimage-builder,master,I07e8262102d4e76c861667a98ded9fc3f4f4b82d,rockylinux : create machine-id early,MERGED,2022-08-01 02:56:32.000000000,2022-08-02 09:28:40.000000000,2022-08-02 09:27:37.000000000,"[{'_account_id': 4571}, {'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 16068}, {'_account_id': 22348}, {'_account_id': 34411}]","[{'number': 1, 'created': '2022-08-01 02:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/23d071ed6857c9cb211d798ba2dbf4501bb0b604', 'message': '[wip] rockylinux : make /boot directory\n\nChange-Id: I07e8262102d4e76c861667a98ded9fc3f4f4b82d\n'}, {'number': 2, 'created': '2022-08-01 04:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/94b8b7c04bf16f9dcdaa72ca949673bb0bf19525', 'message': '[wip] rockylinux : make /boot directory\n\nChange-Id: I07e8262102d4e76c861667a98ded9fc3f4f4b82d\n'}, {'number': 3, 'created': '2022-08-01 05:58:26.000000000', 'files': ['diskimage_builder/elements/rocky-container/containerfiles/8'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/99f10f9380ccebfdf9bd1758464f24d449323cc3', 'message': ""rockylinux : create machine-id early\n\nSomewhere between the upstream container\nrockylinux/rockylinux:8.6.20220515 and the latest release, systemd\nstarted to be pre-installed in the container.\n\nWith <= 20220515 installing the kernel-core package would end up\npulling in systemd.  As part of the systemd package installation, the\n/etc/machine-id file is created and populated.\n\nThe kernel package post-install steps install the kernel with\n/bin/kernel-install; this is responsible for copying the kernel\nbinaries into /boot.  It does this based on the machine-id, and it\nseems its failure case with a blank machine-id is to simply skip\ncopying the kernels into /boot.  To compound this problem, it seems\nour bootloader installation doesn't notice that we don't have a kernel\ninstalled, so we end up building an unbootable image.\n\nTesting is/was showing us this; but as rocky is non-voting and this\noccured at a random time (rather than in response to a dib change) I\nthink it slipped by us.\n\nTo work around this, create the machine-id early in the container.  We\nalready have paths that remove the machine-id from final images.\n\nChange-Id: I07e8262102d4e76c861667a98ded9fc3f4f4b82d\n""}]",3,851687,99f10f9380ccebfdf9bd1758464f24d449323cc3,33,6,3,7118,,,0,"rockylinux : create machine-id early

Somewhere between the upstream container
rockylinux/rockylinux:8.6.20220515 and the latest release, systemd
started to be pre-installed in the container.

With <= 20220515 installing the kernel-core package would end up
pulling in systemd.  As part of the systemd package installation, the
/etc/machine-id file is created and populated.

The kernel package post-install steps install the kernel with
/bin/kernel-install; this is responsible for copying the kernel
binaries into /boot.  It does this based on the machine-id, and it
seems its failure case with a blank machine-id is to simply skip
copying the kernels into /boot.  To compound this problem, it seems
our bootloader installation doesn't notice that we don't have a kernel
installed, so we end up building an unbootable image.

Testing is/was showing us this; but as rocky is non-voting and this
occured at a random time (rather than in response to a dib change) I
think it slipped by us.

To work around this, create the machine-id early in the container.  We
already have paths that remove the machine-id from final images.

Change-Id: I07e8262102d4e76c861667a98ded9fc3f4f4b82d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/87/851687/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/rocky-container/containerfiles/8'],1,23d071ed6857c9cb211d798ba2dbf4501bb0b604,rocky-mk-boot, RUN mkdir -p /boot,,2,0
openstack%2Frequirements~stable%2Fqueens~I94e4cc4a17a9a85ff53cbc5030d6f2c472265bc2,openstack/requirements,stable/queens,I94e4cc4a17a9a85ff53cbc5030d6f2c472265bc2,WIP Bump outdated upper constraints versions,ABANDONED,2020-11-06 21:13:09.000000000,2022-08-02 09:25:09.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 30998}]","[{'number': 1, 'created': '2020-11-06 21:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/15c1371e4a5230f3c5bb835da9e74eb14e8e0f60', 'message': ""WIP Bump outdated upper constraints versions\n\nsetuptools 46 broke old MarkupSafe and pyScss installation.\nBumping their versions to address this.\nAlso, trollius is deprecated, so had to explicitly append 'post2' to\nits name.\n\nChange-Id: I94e4cc4a17a9a85ff53cbc5030d6f2c472265bc2\n""}, {'number': 2, 'created': '2020-11-24 14:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b0157eaf1f3dcc5368551178a3a447fc2ff66736', 'message': ""WIP Bump outdated upper constraints versions\n\nsetuptools 46 broke old MarkupSafe and pyScss installation.\nBumping their versions to address this.\nAlso, trollius is deprecated, so had to explicitly append 'post2' to\nits name.\n\nChange-Id: I94e4cc4a17a9a85ff53cbc5030d6f2c472265bc2\n""}, {'number': 3, 'created': '2020-11-24 17:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/cbf9bf373b37f19fcd525da8c5e1689318f07a69', 'message': ""WIP Bump outdated upper constraints versions\n\nsetuptools 46 broke old MarkupSafe and pyScss installation.\nBumping their versions to address this.\nAlso, trollius is deprecated, so had to explicitly append 'post2' to\nits name.\n\nChange-Id: I94e4cc4a17a9a85ff53cbc5030d6f2c472265bc2\n""}, {'number': 4, 'created': '2020-11-26 21:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bc5105a6bd74a6fc11e0d51505350f3125f2e947', 'message': ""WIP Bump outdated upper constraints versions\n\nsetuptools 46 broke old MarkupSafe and pyScss installation.\nBumping their versions to address this.\nAlso, trollius is deprecated, so had to explicitly append 'post2' to\nits name.\n\nChange-Id: I94e4cc4a17a9a85ff53cbc5030d6f2c472265bc2\n""}, {'number': 5, 'created': '2020-11-27 13:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e1ec563b0ca1cb01c5d22ef1ae12850c78392daf', 'message': ""WIP Bump outdated upper constraints versions\n\nsetuptools 46 broke old MarkupSafe and pyScss installation.\nBumping their versions to address this.\nAlso, trollius is deprecated, so had to explicitly append 'post2' to\nits name.\n\nChange-Id: I94e4cc4a17a9a85ff53cbc5030d6f2c472265bc2\n""}, {'number': 6, 'created': '2020-11-27 19:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0160fa1e23971379b2c826e62315e50547b9b494', 'message': ""WIP Bump outdated upper constraints versions\n\nsetuptools 46 broke old MarkupSafe and pyScss installation.\nBumping their versions to address this.\nAlso, trollius is deprecated, so had to explicitly append 'post2' to\nits name.\n\nChange-Id: I94e4cc4a17a9a85ff53cbc5030d6f2c472265bc2\n""}, {'number': 7, 'created': '2020-12-14 17:39:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/aca9dd9dc2e45364129d79d512283303c4b108d4', 'message': ""WIP Bump outdated upper constraints versions\n\nsetuptools 46 broke old MarkupSafe and pyScss installation.\nBumping their versions to address this.\nAlso, trollius is deprecated, so had to explicitly append 'post2' to\nits name.\n\nChange-Id: I94e4cc4a17a9a85ff53cbc5030d6f2c472265bc2\n""}]",1,761793,aca9dd9dc2e45364129d79d512283303c4b108d4,17,3,7,18058,,,0,"WIP Bump outdated upper constraints versions

setuptools 46 broke old MarkupSafe and pyScss installation.
Bumping their versions to address this.
Also, trollius is deprecated, so had to explicitly append 'post2' to
its name.

Change-Id: I94e4cc4a17a9a85ff53cbc5030d6f2c472265bc2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/761793/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,15c1371e4a5230f3c5bb835da9e74eb14e8e0f60,bump_uc_versions,pyScss===1.3.7MarkupSafe===1.1.0trollius===2.2.post1,pyScss===1.3.4MarkupSafe===1.0trollius===2.1,3,3
openstack%2Frequirements~stable%2Fvictoria~Ic800d4f93cc324787fe22e27a25411e1565185d5,openstack/requirements,stable/victoria,Ic800d4f93cc324787fe22e27a25411e1565185d5,Pin kombu and amqp requirements due to incompatibility,ABANDONED,2021-03-08 11:19:32.000000000,2022-08-02 09:25:03.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 11:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e8c161e058bbd9bfcb3d956fe46b1c0062069bbf', 'message': 'Pin kombu and amqp requirements due to incompatibility\n\nkombu 5.0.2 bumped the amqp dependency from 2.6.1 to 5.0 but amqp 5.0\nremoved ca_certs ssl parameter from the connect call path. The\noslo.messaging still passes that parameter making nova fail if ssl is\nconfigured for RPC.\n\nLater amqp 5.0.2 reintroduced the ca_certs parameter but kolla now fails\nwith\n\nValueError: check_hostname needs a SSL context with either CERT_OPTIONAL or CERT_REQUIRED\n\nTo keep the resulting constraints consistent the vine constraint moved\nback to 1.3.0 from 5.0.0\n\nThis patch partially reverts I1bc1fe988e3cfd4824dd7b4a9327a67db46c1533\n\nRelated-Bug: #1902696\nChange-Id: Ic800d4f93cc324787fe22e27a25411e1565185d5\n'}, {'number': 2, 'created': '2021-03-08 11:22:00.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/02299afcfa9005122a20031dc1d45d6302eb0dd5', 'message': 'Pin kombu and amqp requirements due to incompatibility\n\nkombu 5.0.2 bumped the amqp dependency from 2.6.1 to 5.0 but amqp 5.0\nremoved ca_certs ssl parameter from the connect call path. The\noslo.messaging still passes that parameter making nova fail if ssl is\nconfigured for RPC.\n\nLater amqp 5.0.2 reintroduced the ca_certs parameter but kolla now fails\nwith\n\nValueError: check_hostname needs a SSL context with either CERT_OPTIONAL or CERT_REQUIRED\n\nTo keep the resulting constraints consistent the vine constraint moved\nback to 1.3.0 from 5.0.0\n\nThis patch partially reverts I1bc1fe988e3cfd4824dd7b4a9327a67db46c1533\n\nRelated-Bug: #1902696\nChange-Id: Ic800d4f93cc324787fe22e27a25411e1565185d5\n'}]",1,779146,02299afcfa9005122a20031dc1d45d6302eb0dd5,9,2,2,14826,,,0,"Pin kombu and amqp requirements due to incompatibility

kombu 5.0.2 bumped the amqp dependency from 2.6.1 to 5.0 but amqp 5.0
removed ca_certs ssl parameter from the connect call path. The
oslo.messaging still passes that parameter making nova fail if ssl is
configured for RPC.

Later amqp 5.0.2 reintroduced the ca_certs parameter but kolla now fails
with

ValueError: check_hostname needs a SSL context with either CERT_OPTIONAL or CERT_REQUIRED

To keep the resulting constraints consistent the vine constraint moved
back to 1.3.0 from 5.0.0

This patch partially reverts I1bc1fe988e3cfd4824dd7b4a9327a67db46c1533

Related-Bug: #1902696
Change-Id: Ic800d4f93cc324787fe22e27a25411e1565185d5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/46/779146/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,e8c161e058bbd9bfcb3d956fe46b1c0062069bbf,bug/1902696,vine===1.3.0<<<<<<< HEAD (8a4d1b update constraint for oslo.cache to new release 2.6.2)======= amqp===2.6.1 >>>>>>> CHANGE (e6c457 Pin kombu and amqp requirements due to incompatibility)kombu===5.0.1,vine===5.0.0kombu===5.0.2,10,4
openstack%2Frequirements~master~I4755aff1d3852281cdc8d0582a2a51f95e61b03b,openstack/requirements,master,I4755aff1d3852281cdc8d0582a2a51f95e61b03b,Revert 'Revert update constraint for selenium to new release 4.0.0',ABANDONED,2021-10-20 17:31:32.000000000,2022-08-02 09:24:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-20 17:31:32.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9e817d9564bb25d0d979162fb61c6fe94588246f', 'message': ""Revert 'Revert update constraint for selenium to new release 4.0.0'\n\nThis patch revert I461ab4189fb652c78bc11d0a9283d98948c2725c.\nIt is for testing horizon with selenium version 4.0.0.\n\nChange-Id: I4755aff1d3852281cdc8d0582a2a51f95e61b03b\n""}]",0,814816,9e817d9564bb25d0d979162fb61c6fe94588246f,6,1,1,29313,,,0,"Revert 'Revert update constraint for selenium to new release 4.0.0'

This patch revert I461ab4189fb652c78bc11d0a9283d98948c2725c.
It is for testing horizon with selenium version 4.0.0.

Change-Id: I4755aff1d3852281cdc8d0582a2a51f95e61b03b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/814816/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,9e817d9564bb25d0d979162fb61c6fe94588246f,,selenium===3.141.0;python_version=='3.6' selenium===4.0.0;python_version=='3.8',selenium===3.141.0,3,2
openstack%2Fkolla-ansible~master~I0edae33d982c2e3f3b5f34b3d5ad07a431162844,openstack/kolla-ansible,master,I0edae33d982c2e3f3b5f34b3d5ad07a431162844,Add proxysql support for database,MERGED,2021-01-11 23:39:18.000000000,2022-08-02 09:08:09.000000000,2022-07-29 18:04:31.000000000,"[{'_account_id': 167}, {'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-11 23:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d1e45b7ba4f17f7a19c7164875a5509a5a1586f', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n'}, {'number': 2, 'created': '2021-01-12 08:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d26cc4c2f72c67fa2c93def2b1baca703245ec2', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 3, 'created': '2021-01-12 10:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fe514f83d9cb4b79b7f5f68064dc3085e1bb356', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 4, 'created': '2021-01-12 11:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dfcde7c44967ef518d5c19af5fcb833621937cb2', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 5, 'created': '2021-01-12 12:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/48aa56a94193b39f3cd241cec3d4406453e7e887', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 6, 'created': '2021-01-12 21:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4979dfd22b77b3fe6645049371aa8e95679ffc2d', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 7, 'created': '2021-01-13 00:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/035262b612d46378269a96138cf74f65cb5b2433', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 8, 'created': '2021-01-13 00:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/775bf7213a5502057426aeea32435a8dd32d8b08', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 9, 'created': '2021-01-13 13:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56d9806032b94a09c2a665235c99bb478bd59a01', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 10, 'created': '2021-01-13 15:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f13e3136c557c8f0d970c6d9e551efcc4fea6365', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 11, 'created': '2021-01-13 15:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0abef8fdd6672e3ff3d0b29a70f75dfee3a90177', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 12, 'created': '2021-01-13 22:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86261878359788212e48bb26bbbc47176b6d6106', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 13, 'created': '2021-01-14 00:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2420f481610d92dd452054c21cea8a02f3ca6fa', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 14, 'created': '2021-01-14 10:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/43c260db3d6cf4084502c150d24cb1765a9140be', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 15, 'created': '2021-01-14 10:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b9e00ec88c02885946d80508f8a72e76b8f788a', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 16, 'created': '2021-01-14 23:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8cc4e013987c968837030b79b0bbccc880b6acb6', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 17, 'created': '2021-01-18 11:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a41543a7fe75f52eaca7f0f3199aa80523d5a5a', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 18, 'created': '2021-01-20 00:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac7eae8e2a49d03f6939ea4eaf0abafeb1affd36', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 19, 'created': '2021-01-20 09:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/36904743d2ea4d8f7282da107019ce018e27d5e6', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 20, 'created': '2021-01-26 20:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1694a2b1c9573edbd226a6bce909105007639523', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 21, 'created': '2021-02-01 12:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54851b72796272d1c0057402412bad3f856d9cb6', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 22, 'created': '2021-02-02 19:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57551ee607306ffeb964698381ff8dc8494b47c0', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 23, 'created': '2021-02-09 11:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e0066b69aae28a2cf3586095a65bf0f75edbc2e', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 24, 'created': '2021-02-09 12:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef2f1b43a5006a100b44fb4d8248d101dc413951', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 25, 'created': '2021-02-10 11:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ed6ac38cb2dbff717094e9e0ef573dc2d5aca34', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 26, 'created': '2021-02-10 12:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/963f925e1fa2c6805328b5cb78ca44ee37381730', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 27, 'created': '2021-02-11 13:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/acf0d0ffa7e3d49fad4dc7cb1a0114de43218b4c', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 28, 'created': '2021-02-15 18:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b73c3a516b07b308552cb5299e23a75d571126e5', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 29, 'created': '2021-02-26 11:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/439258bfe705093983dc7f0d7a5bd03146419a09', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 30, 'created': '2021-03-16 12:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/432ad4918a3bd829d0abfb8a02d78636a3cdf9bd', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 31, 'created': '2021-03-17 23:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc27c9c75ccecdf5023e1613ea1583ca4ea9dd5c', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 32, 'created': '2021-03-18 14:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ef29b46ea26d028129db55872482d81ca549f1b', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 33, 'created': '2021-03-18 19:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c7ba46d9296586acd554af10936d7d7b07687b8', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 34, 'created': '2021-03-18 19:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d41d27f9647bb37fdf17aac5b2eaf9589c701538', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 35, 'created': '2021-03-19 14:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6260c304f1eecd90014e9883c9a034d7f897ba1c', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 36, 'created': '2021-03-19 16:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e457430fe386f2c27ee55547161e2f89b31d3b35', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 37, 'created': '2021-03-20 07:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06a1f67f2e4b20c69e81bd96e0f808867a1035d7', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 38, 'created': '2021-03-23 15:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e4e5e06e5d099e17c0e121f127ad195656fd2c5', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 39, 'created': '2021-03-24 19:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/317ffa73aca78cf44809a41c646db13bdfaa944d', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 40, 'created': '2021-03-27 18:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b5afb1ee4157509e751bf6c09a89ee9431c548f2', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 41, 'created': '2021-03-28 22:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15f46a61937b1b07686c72707ab2543cb2b309f6', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 42, 'created': '2021-03-29 10:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d312897dc6e56f8253a39aae74d85ddb9dfacd50', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 43, 'created': '2021-03-29 11:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3b1743c19fd7ed86331a8523799ba4ac8347b9e4', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 44, 'created': '2021-04-07 12:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b3c919dd79a8c32470f01690a619738258ab608', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 45, 'created': '2021-04-07 12:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/99cc9158fc23134fbdf96cbe08f7386bf9413d48', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 46, 'created': '2021-04-07 21:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1999423094f4ed3c6cbc23f5b10d4ed8db671705', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 47, 'created': '2021-04-10 07:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aee4a46005b7c891b00662f8325b481c41f3b029', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 48, 'created': '2021-04-10 07:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a211668240fcf2d5d47475098188273edb2d7d9', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 49, 'created': '2021-04-14 14:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7562d34176c141cc261f5442903aa7b3e88e591c', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 50, 'created': '2021-04-19 16:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a66575687a5197e7ff80481a30ba7cc2ef46a05', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 51, 'created': '2021-06-24 10:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2bb07673f016c1564331d61c4786d226bf70d92f', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 52, 'created': '2021-06-24 13:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e371a3ba5db50029ba1512e71f278dc919369c60', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 53, 'created': '2021-07-09 10:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be2bcd536ef49ef4fc098fff447195694baa88c0', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 54, 'created': '2021-08-02 09:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3d1b80053f5a5544419d3c2d1f70e4b2b8a4408b', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 55, 'created': '2021-08-02 10:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea68850762bc64f5f7d57e6506d99b773e893b07', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 56, 'created': '2021-08-17 15:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/39162ffb77d76d6c5a23d85bf924a63ad1e22363', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 57, 'created': '2021-08-17 21:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/157a78561e40b1ee3838c9da2819de42f3e4aeee', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 58, 'created': '2021-08-19 10:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15d2b2a84da8f38304b71b6489606f7a2188aa17', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 59, 'created': '2021-08-19 19:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3aaa3dcdb976a50ae71a302ae3ed8dd09f399737', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 60, 'created': '2021-09-15 19:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/49f0447359990f217fb12beb39dea89e259c73db', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 61, 'created': '2021-09-21 15:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b8661bccb02037ea02666538c17834fdc4b445a', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 62, 'created': '2021-10-01 14:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/040b06ddbc4449759ddcdf13363fd9efe38f0019', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 63, 'created': '2021-10-22 11:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a76261cc1d324e19428e334fd872cc6d45f6775b', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 64, 'created': '2021-10-22 13:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b60950afe4b7bc4f6a6a8cbb5fdeb2df13bbf7ac', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 65, 'created': '2022-01-11 14:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce08b925c061fcbfe3e3704169905a56b5a414e2', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 66, 'created': '2022-01-11 15:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84cfcfd9ca9e62abe4841aebf0b19f0e75f0bfc0', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 67, 'created': '2022-01-11 15:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6caf649c660d80518371f0057bc6a22c014f83c7', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 68, 'created': '2022-01-11 15:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8c41a8987f16f9c9bdd1443071c1f1e313d3de3d', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 69, 'created': '2022-01-13 14:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/82f0250ae9dfafa1de7e0c0f1d7edcb4de395aea', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 70, 'created': '2022-01-20 08:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58325b59e6b5041d839d7f69b165c279af6e1300', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 71, 'created': '2022-01-28 09:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/231b0fb99afdd27760f70a78095ba1ecd7650dea', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 72, 'created': '2022-02-01 08:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d3cdd70f239376692403699d236f04063f337e9', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 73, 'created': '2022-02-07 12:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b79783b0d4ee39faf97b635abcd7c3cb735e3fcc', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 74, 'created': '2022-02-07 12:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/61ce44c523bfbea651126219bdb13b70e679741b', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 75, 'created': '2022-03-11 09:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a8fd91a3c0b3e474b1be899dd60c2e1641d9d7d', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 76, 'created': '2022-03-15 17:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5aa0bf2196c5cf6a1a3703cdd1451352914ee63f', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 77, 'created': '2022-03-18 08:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15cc703b9cdc3a6d5aa9685ebbeeb7cc40ff5b12', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 78, 'created': '2022-03-18 10:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/916e44822f3125fde576876ed99f79bf2b8faece', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 79, 'created': '2022-04-21 12:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9915aacaf9038f8b3428f5a6f3e7c4c75f75f513', 'message': 'Add proxysql support for database\n\nKolla environment currently using haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 80, 'created': '2022-04-21 12:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0137a6edbaab06fbd19250ffc7527355f76b7626', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 81, 'created': '2022-04-21 16:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e0d5cacb4727211aec6558058c0dcbdeee7c9ed', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 82, 'created': '2022-04-21 16:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9734b5dacc2019d7af4ca377b074affc355eeef', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 83, 'created': '2022-04-21 17:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c260213956e4fbfb683060a03c0dfe40c988d39', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 84, 'created': '2022-05-02 11:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9cf3308e4891b81f6def109c247d680c0ccea420', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 85, 'created': '2022-05-04 09:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fac98883c0031f448fba913b9b34417fb1e09be1', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 86, 'created': '2022-05-04 09:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59d3a2b8f1071400907fab1aa600a17c6728f5e8', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 87, 'created': '2022-05-04 09:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3020c7f08f5dd9958601673574101f56789132e2', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 88, 'created': '2022-05-31 09:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/17c19d7dd4a3375528bde4b7502437272338aaed', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 89, 'created': '2022-05-31 10:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9d95c42e382a96cdde2631565f4cafa2cc81e27', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 90, 'created': '2022-05-31 12:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b4ed15b343cd8b600d891ee091b68ed6161781b', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 91, 'created': '2022-06-01 11:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5320d74439c7c6dc23f6d2244886668bb1bb5091', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 92, 'created': '2022-06-02 12:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e01fdc11ec0bc69539e8875d2509860a9a9944a7', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 93, 'created': '2022-06-03 09:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/842637a29b06f06acfd7d15055bc17b150c36e6b', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 94, 'created': '2022-06-13 17:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/690a9b8944d0919a79626154eb563fc6d67a0079', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 95, 'created': '2022-06-17 17:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d207bbaed13053855e14f19600752361842fa03', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 96, 'created': '2022-07-04 16:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63108cc84ba720632a7c4ce744e9b4ee2691c281', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 97, 'created': '2022-07-04 18:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ab39f003e200ee62c4f73455f9a0af27d391b43', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 98, 'created': '2022-07-05 21:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/690899b28e16d7f224fba98fa5c838a0f2cc7327', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 99, 'created': '2022-07-06 14:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/69bcc4ab963087da57f1c722990b509c639cd325', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 100, 'created': '2022-07-06 15:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc2629dc0566be330c98b8d9c1eb9db83dbd5392', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 101, 'created': '2022-07-06 16:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b2a04f09a61d9ca975850f193021b80d1889a735', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 102, 'created': '2022-07-12 16:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a867200674d35e4a0d28b040e6d29ff8e3610024', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 103, 'created': '2022-07-12 16:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e76cadc91412c2098cf759b4c88dcbf0f74c1739', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 104, 'created': '2022-07-12 17:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac3aaea3bb996c2012652dd60a50f579e692929b', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 105, 'created': '2022-07-13 14:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/784a21dbc5da2e3dc5728d0f0561d42b2553dea2', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 106, 'created': '2022-07-13 16:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/34c9d8be6d1a76d7e69e567f7afcc34b5a1a07e0', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 107, 'created': '2022-07-13 16:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1837ea93b545b135a71177d847c3493cab3f21fa', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 108, 'created': '2022-07-13 16:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/adcbfcd161a7e8c67b2fe20b9d62e272b0153eff', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 109, 'created': '2022-07-13 19:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52768d7cbfda53b7cf013ead7b702ed3ffe8f773', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 110, 'created': '2022-07-21 14:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/39ada77b7a3004726123d08e3a5090577d6c1e07', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/850656\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 111, 'created': '2022-07-21 14:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dfab2e2b5d5ff0312a650b6a296af900cbfb0c99', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/850656\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 112, 'created': '2022-07-26 09:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2399451ad8894abbe4035fb70c08ac0b6833dcab', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/850656\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 113, 'created': '2022-07-28 14:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/faf70253d795e964700c98c04405dd7266818449', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/850656\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 114, 'created': '2022-07-28 15:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/69115f44b263e937291f13fa204a19cb084dd850', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/850656\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 115, 'created': '2022-07-28 17:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/965790774c5297d81d7eb7e6e887ec2eb429b5ce', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/850656\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 116, 'created': '2022-07-29 09:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac40b25f32e4bcc646353c7cbdcdf95d0eb932b2', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/850656\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}, {'number': 117, 'created': '2022-07-29 13:07:34.000000000', 'files': ['ansible/roles/proxysql-config/tasks/main.yml', 'ansible/roles/proxysql-config/templates/rules.yaml.j2', 'ansible/roles/loadbalancer/handlers/main.yml', 'ansible/roles/loadbalancer/tasks/precheck.yml', 'ansible/filter_plugins/database.py', 'ansible/roles/loadbalancer/templates/proxysql/proxysql_run.sh.j2', 'ansible/roles/loadbalancer/templates/keepalived/check_alive_haproxy.sh.j2', 'ansible/roles/loadbalancer/templates/keepalived/check_alive_proxysql.sh.j2', 'etc/kolla/passwords.yml', 'ansible/roles/mariadb/tasks/loadbalancer.yml', 'kolla_ansible/tests/unit/test_database_filters.py', 'ansible/roles/loadbalancer/templates/proxysql/proxysql.json.j2', 'ansible/roles/proxysql-config/defaults/main.yml', 'ansible/roles/mariadb/tasks/register.yml', 'ansible/roles/proxysql-config/templates/users.yaml.j2', 'ansible/roles/loadbalancer/tasks/config.yml', 'ansible/roles/loadbalancer/templates/keepalived/keepalived.json.j2', 'ansible/group_vars/all.yml', 'kolla_ansible/database_shards.py', 'ansible/roles/mariadb/defaults/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/loadbalancer/templates/proxysql/proxysql.yaml.j2', 'ansible/roles/loadbalancer/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de973b81fae3f74bc624f22166f8d2ec9a4a5e38', 'message': 'Add proxysql support for database\n\nKolla environment currently uses haproxy\nto fullfill HA in mariadb. This patch\nis switching haproxy to proxysql if enabled.\n\nThis patch is also replacing mariadb\'s user\n\'haproxy\' with user \'monitor\'. This replacement\nhas two reasons:\n  - Use better name to ""monitor"" galera claster\n    as there are two services using this user\n    (HAProxy, ProxySQL)\n  - Set password for monitor user as it\'s\n    always better to use password then not use.\n    Previous haproxy user didn\'t use password\n    as it was historically not possible with\n    haproxy and mariadb-clustercheck wasn\'t\n    implemented.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/769385\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/765781\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/850656\n\nChange-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844\n'}]",242,770215,de973b81fae3f74bc624f22166f8d2ec9a4a5e38,471,8,117,27339,,,0,"Add proxysql support for database

Kolla environment currently uses haproxy
to fullfill HA in mariadb. This patch
is switching haproxy to proxysql if enabled.

This patch is also replacing mariadb's user
'haproxy' with user 'monitor'. This replacement
has two reasons:
  - Use better name to ""monitor"" galera claster
    as there are two services using this user
    (HAProxy, ProxySQL)
  - Set password for monitor user as it's
    always better to use password then not use.
    Previous haproxy user didn't use password
    as it was historically not possible with
    haproxy and mariadb-clustercheck wasn't
    implemented.

Depends-On: https://review.opendev.org/c/openstack/kolla/+/769385
Depends-On: https://review.opendev.org/c/openstack/kolla/+/765781
Depends-On: https://review.opendev.org/c/openstack/kolla/+/850656

Change-Id: I0edae33d982c2e3f3b5f34b3d5ad07a431162844
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/770215/50 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/loadbalancer/tasks/check-containers.yml', 'ansible/roles/proxysql-config/tasks/main.yml', 'ansible/roles/loadbalancer/handlers/main.yml', 'ansible/roles/loadbalancer/tasks/pull.yml', 'ansible/roles/prechecks/tasks/database_checks.yml', 'ansible/roles/haproxy/handlers/main.yml', 'ansible/roles/loadbalancer/templates/keepalived/check_alive_proxysql.sh.j2', 'ansible/roles/neutron/defaults/main.yml', 'ansible/site.yml', 'ansible/roles/loadbalancer/templates/proxysql/proxysql.json.j2', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/loadbalancer/templates/haproxy/haproxy.json.j2', 'ansible/roles/proxysql-config/defaults/main.yml', 'ansible/roles/loadbalancer/templates/proxysql/backup.yaml', 'ansible/inventory/all-in-one', 'ansible/roles/loadbalancer/templates/haproxy/haproxy_main.cfg.j2', 'ansible/roles/loadbalancer/tasks/check.yml', 'ansible/roles/loadbalancer/templates/keepalived/keepalived.conf.j2', 'ansible/roles/loadbalancer/templates/proxysql/proxysql.cnf.j2', 'etc/kolla/globals.yml', 'ansible/roles/loadbalancer/tasks/deploy.yml', 'ansible/roles/loadbalancer/templates/haproxy/haproxy_run.sh.j2', 'ansible/roles/loadbalancer/templates/proxysql/proxysql.yaml.j2', 'ansible/roles/loadbalancer/defaults/main.yml', 'ansible/roles/loadbalancer/tasks/deploy-containers.yml', 'ansible/roles/loadbalancer/tasks/copy-certs.yml', 'ansible/roles/loadbalancer/templates/proxysql/proxysqladmin.yaml.j2', 'ansible/roles/proxysql-config/templates/rules.yaml.j2', 'ansible/roles/loadbalancer/tasks/config-host.yml', 'ansible/roles/loadbalancer/tasks/precheck.yml', 'ansible/roles/loadbalancer/tasks/reconfigure.yml', 'ansible/roles/loadbalancer/templates/keepalived/check_alive_haproxy.sh.j2', 'ansible/roles/telegraf/templates/telegraf.conf.j2', 'etc/kolla/passwords.yml', 'ansible/roles/loadbalancer/tasks/upgrade.yml', 'ansible/roles/mariadb/tasks/loadbalancer.yml', 'ansible/roles/haproxy/tasks/main.yml', 'ansible/roles/haproxy/tasks/config.yml', 'ansible/roles/proxysql-config/templates/users.yaml.j2', 'ansible/roles/loadbalancer/tasks/config.yml', 'ansible/roles/loadbalancer/templates/keepalived/keepalived.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/loadbalancer/tasks/main.yml', 'ansible/roles/loadbalancer/tasks/stop.yml', 'tests/templates/inventory.j2']",46,4d1e45b7ba4f17f7a19c7164875a5509a5a1586f,proxysql,[loadbalancer:children][proxysql:children] loadbalancer [keepalived:children] loadbalancer [haproxy:children] loadbalancer ,[haproxy:children],1206,491
openstack%2Ftenks~master~I2cedb7f1b649ee3b82e0c6d4a7f0ede87ff3cc1b,openstack/tenks,master,I2cedb7f1b649ee3b82e0c6d4a7f0ede87ff3cc1b,Remove py2 unicode markers,MERGED,2022-08-02 08:13:09.000000000,2022-08-02 09:03:07.000000000,2022-08-02 09:02:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-08-02 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/99b91ea3f820d15243ca4b283f21c58752bfbee8', 'message': 'remove unicode from code\n\nChange-Id: I2cedb7f1b649ee3b82e0c6d4a7f0ede87ff3cc1b\n'}, {'number': 2, 'created': '2022-08-02 08:16:46.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tenks/commit/c13f3c212ee83a97319b92205b1e1175dd44da50', 'message': 'Remove py2 unicode markers\n\nChange-Id: I2cedb7f1b649ee3b82e0c6d4a7f0ede87ff3cc1b\n'}]",1,851817,c13f3c212ee83a97319b92205b1e1175dd44da50,9,3,2,35067,,,0,"Remove py2 unicode markers

Change-Id: I2cedb7f1b649ee3b82e0c6d4a7f0ede87ff3cc1b
",git fetch https://review.opendev.org/openstack/tenks refs/changes/17/851817/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,99b91ea3f820d15243ca4b283f21c58752bfbee8,,"copyright = 'OpenStack Foundation' 'Tenks Documentation', 'OpenStack Foundation',","copyright = u'OpenStack Foundation' u'Tenks Documentation', u'OpenStack Foundation',",3,3
openstack%2Fheat-tempest-plugin~master~Ib3752e0165c296d7e052ebe02381c448a233c628,openstack/heat-tempest-plugin,master,Ib3752e0165c296d7e052ebe02381c448a233c628,setup.cfg: Replace dashes with underscores,MERGED,2021-05-18 01:48:43.000000000,2022-08-02 07:45:32.000000000,2022-08-02 07:45:32.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-05-18 01:48:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/c28006b30199e582477333d6ff76fb58c4dbcf54', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Ib3752e0165c296d7e052ebe02381c448a233c628\n""}]",2,791860,c28006b30199e582477333d6ff76fb58c4dbcf54,12,3,1,32921,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Ib3752e0165c296d7e052ebe02381c448a233c628
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/60/791860/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c28006b30199e582477333d6ff76fb58c4dbcf54,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://docs.openstack.org/developer/heat-tempest-plugin,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://docs.openstack.org/developer/heat-tempest-plugin,3,3
openstack%2Fcinder~master~I6e74848d550b683ab928ef29c93799b30c2bc337,openstack/cinder,master,I6e74848d550b683ab928ef29c93799b30c2bc337,Add volume status rollback in reimage API,ABANDONED,2022-07-27 03:11:10.000000000,2022-08-02 07:38:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-07-27 03:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/afc09f67fa556602ea22255dfc85762599b93d0e', 'message': 'reimage api image  invalid,volume status should be collback\n\nChange-Id: I6e74848d550b683ab928ef29c93799b30c2bc337\n'}, {'number': 2, 'created': '2022-07-27 03:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c3545e007c851f6aa5846cf1dc1a9255b99c841', 'message': 'Add volume status rollback in reimage API\n\nCloses-Bug: #1982436\n\nChange-Id: I6e74848d550b683ab928ef29c93799b30c2bc337\n'}, {'number': 3, 'created': '2022-07-27 06:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8c06d2204c1c594c22dcce47079321fc6688c84', 'message': 'Add volume status rollback in reimage API\n\nChange-Id: I6e74848d550b683ab928ef29c93799b30c2bc337\n'}, {'number': 4, 'created': '2022-07-27 06:02:24.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6dba6e74251fc8d6fe18f06f33ad21a5f04f918', 'message': 'Add volume status rollback in reimage API\n\nCloses-Bug: #1982436\n\nChange-Id: I6e74848d550b683ab928ef29c93799b30c2bc337\n'}]",2,850989,b6dba6e74251fc8d6fe18f06f33ad21a5f04f918,41,2,4,34934,,,0,"Add volume status rollback in reimage API

Closes-Bug: #1982436

Change-Id: I6e74848d550b683ab928ef29c93799b30c2bc337
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/850989/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,afc09f67fa556602ea22255dfc85762599b93d0e,topic:bp/add-volume-re-image-api," previous_status = volume.model.status 'previous_status': previous_status} try: image_meta = self.image_service.show(context, image_id) volume_utils.check_image_metadata(image_meta, volume['size']) except Exception as err: rollback_status = {'status': previous_status, 'previous_status': 'downloading'} expected_rollback = {'status': 'downloading'} result = volume.conditional_update(rollback_status, expected_rollback) if not result: msg = (_('Volume %(vol_id)s status must be %(statuses)s, but ' 'current status is %(status)s.') % {'vol_id': volume.id, 'statuses': 'downloading', 'status': volume.status}) raise exception.InvalidVolume(reason=msg) raise exception.InvalidVolume(err) "," 'previous_status': volume.model.status} image_meta = self.image_service.show(context, image_id) volume_utils.check_image_metadata(image_meta, volume['size'])",21,3
openstack%2Fpymod2pkg~master~I73a49916e2b2898cb31d8cfd68e25b94d39b1934,openstack/pymod2pkg,master,I73a49916e2b2898cb31d8cfd68e25b94d39b1934,Add python2 and python3 return values,MERGED,2022-07-26 07:46:52.000000000,2022-08-02 07:29:32.000000000,2022-08-02 07:28:34.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-26 07:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/40f2a949035c46df4d8f310b56f1f589da51af56', 'message': 'Add python2 and python3 return values\n\nThe generic translation rules\n def openstack_prefix_tr(mod):\n def rdo_horizon_plugins_tr(mod):\n def suse_horizon_plugins_tr(mod):\n\nOnly have return values for pyvers=py, Update the rules to return the\nsame pkg regardless of pyversion.\n\nThis way:\nfor pyver in py py2 py3 ; do\n   pymod2pkg --dist xx --pyver $pyver Tempest\ndone\n\nreturns openstack-tempest for all python versions\n\nChange-Id: I73a49916e2b2898cb31d8cfd68e25b94d39b1934\n'}, {'number': 2, 'created': '2022-07-27 10:04:16.000000000', 'files': ['tests.py', 'pymod2pkg/__init__.py'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/3edbe8484cdf4a3cb9d7215e20fa9e5619ab9140', 'message': 'Add python2 and python3 return values\n\nThe generic translation rules\n def openstack_prefix_tr(mod):\n def rdo_horizon_plugins_tr(mod):\n def suse_horizon_plugins_tr(mod):\n\nOnly have return values for pyvers=py, Update the rules to return the\nsame pkg regardless of pyversion.\n\nThis way:\nfor pyver in py py2 py3 ; do\n   pymod2pkg --dist xx --pyver $pyver Tempest\ndone\n\nreturns openstack-tempest for all python versions\n\nChange-Id: I73a49916e2b2898cb31d8cfd68e25b94d39b1934\n'}]",0,850993,3edbe8484cdf4a3cb9d7215e20fa9e5619ab9140,12,3,2,12898,,,0,"Add python2 and python3 return values

The generic translation rules
 def openstack_prefix_tr(mod):
 def rdo_horizon_plugins_tr(mod):
 def suse_horizon_plugins_tr(mod):

Only have return values for pyvers=py, Update the rules to return the
same pkg regardless of pyversion.

This way:
for pyver in py py2 py3 ; do
   pymod2pkg --dist xx --pyver $pyver Tempest
done

returns openstack-tempest for all python versions

Change-Id: I73a49916e2b2898cb31d8cfd68e25b94d39b1934
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/93/850993/2 && git format-patch -1 --stdout FETCH_HEAD,['pymod2pkg/__init__.py'],1,40f2a949035c46df4d8f310b56f1f589da51af56,," return (pkg, pkg, pkg) return (pkg, pkg, pkg) return (pkg, pkg, pkg)"," return (pkg, '', '') return (pkg, '', '') return (pkg, '', '')",3,3
openstack%2Fopenstack-ansible~master~I678c7c8ea895d5723a6cd485c1cb3cc3c0b14490,openstack/openstack-ansible,master,I678c7c8ea895d5723a6cd485c1cb3cc3c0b14490,Imported Translations from Zanata,MERGED,2022-08-02 02:39:02.000000000,2022-08-02 07:29:16.000000000,2022-08-02 07:27:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-08-02 02:39:02.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e2e372fd667d2845b6e63cf79f4b5701b5d35aa2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I678c7c8ea895d5723a6cd485c1cb3cc3c0b14490\n'}]",0,851786,e2e372fd667d2845b6e63cf79f4b5701b5d35aa2,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I678c7c8ea895d5723a6cd485c1cb3cc3c0b14490
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/86/851786/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-admin.po']",3,e2e372fd667d2845b6e63cf79f4b5701b5d35aa2,zanata/translations,"""Project-Id-Version: openstack-ansible 25.1.0.dev25\n""""POT-Creation-Date: 2022-07-29 10:34+0000\n""""PO-Revision-Date: 2022-08-01 11:09+0000\n""""Make sure that containers from new infra host *does not* appear in inventory "" ""as first one for groups ``galera_all``, ``rabbitmq_all`` and ``repo_all``. "" ""You can varify that with ad-hoc commands:"" msgstr """" ""Make sure that containers from the new infra host *does not* appear in "" ""inventory as the first one for groups ``galera_all``, ``rabbitmq_all`` and "" ""``repo_all``. You can verify that with ad-hoc commands:"" msgid """"msgid """" ""Next we need to expand galera/rabbitmq clusters, which is done during "" ""``setup-infrastructure.yml``. So we will run this playbook without limits."" msgstr """" ""Next, we need to expand galera/rabbitmq clusters, which is done during "" ""``setup-infrastructure.yml``. So we will run this playbook without limits."" ""Once infrastructure playboks are done, it's turn of openstack services to be "" ""deployed. Most of the services are fine to be ran with limits, but some, "" ""like keystone, are not. So we run keystone playbook separately from all "" ""others:"" msgstr """" ""Once infrastructure playbooks are done, it's the turn of OpenStack services "" ""to be deployed. Most of the services are fine to be run with limits, but "" ""some, like Keystone, are not. So we run the Keystone playbook separately "" ""from all others:"" msgid """"""Operating systems with experimental support are marked with ``E`` in the "" ""table."" msgstr """" ""Operating systems with experimental support are marked with ``E`` in the "" ""table."" msgid """"""To prepare new hosts and deploy containers on them run ``setup-hosts.yml`` "" ""playbook with the ``limit`` argument."" msgstr """" ""To prepare new hosts and deploy containers on them run ``setup-hosts.yml`` "" ""playbook with the ``limit`` argument."" msgid """"","""Project-Id-Version: openstack-ansible 24.1.0.dev221\n""""POT-Creation-Date: 2022-05-27 20:22+0000\n""""PO-Revision-Date: 2022-06-13 07:44+0000\n""",65,125
openstack%2Fglance~master~I785a402c48ed41ce14f95f02f82c1c70fc38fd9e,openstack/glance,master,I785a402c48ed41ce14f95f02f82c1c70fc38fd9e,Remove unused pylintrc,MERGED,2016-11-09 07:41:28.000000000,2022-08-02 07:26:09.000000000,2022-08-02 07:25:01.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 12000}, {'_account_id': 22348}, {'_account_id': 23733}]","[{'number': 1, 'created': '2016-11-09 07:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/49c4ed108ed27ac6756f74709b372c1efc42772c', 'message': ""Remove unused pylintrc\n\nWe didn't use it in the gate and it's unmaintained. Clean that.\n\nChange-Id: I785a402c48ed41ce14f95f02f82c1c70fc38fd9e\n""}, {'number': 2, 'created': '2022-08-01 18:17:50.000000000', 'files': ['pylintrc'], 'web_link': 'https://opendev.org/openstack/glance/commit/db916163381b7c2470fea280916a70829a80547f', 'message': ""Remove unused pylintrc\n\nWe didn't use it in the gate and it's unmaintained. Clean that.\n\nChange-Id: I785a402c48ed41ce14f95f02f82c1c70fc38fd9e\n""}]",1,395441,db916163381b7c2470fea280916a70829a80547f,16,5,2,23733,,,0,"Remove unused pylintrc

We didn't use it in the gate and it's unmaintained. Clean that.

Change-Id: I785a402c48ed41ce14f95f02f82c1c70fc38fd9e
",git fetch https://review.opendev.org/openstack/glance refs/changes/41/395441/2 && git format-patch -1 --stdout FETCH_HEAD,"['pylintrc', 'MANIFEST.in']",2,49c4ed108ed27ac6756f74709b372c1efc42772c,remove_pylintrc,,include MANIFEST.in pylintrc,0,28
openstack%2Fheat~master~Id8f678dfd504ff27d6fdb86011129d353a31f3cf,openstack/heat,master,Id8f678dfd504ff27d6fdb86011129d353a31f3cf,Remove CloudWatch cleanup tasks,MERGED,2022-07-21 03:40:11.000000000,2022-08-02 07:19:54.000000000,2022-08-02 07:18:48.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-07-21 03:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/75062dae34a297ae265eca8a954c8e5a27647a1f', 'message': ""Fix some of the todo's\n\nThere are some TODO's that should\nbe removed after Queens. This change\nremoves those items as part of a\ngeneral house cleaning.\n\nChange-Id: Id8f678dfd504ff27d6fdb86011129d353a31f3cf\n""}, {'number': 2, 'created': '2022-07-21 23:34:28.000000000', 'files': ['devstack/upgrade/shutdown.sh', 'devstack/lib/heat'], 'web_link': 'https://opendev.org/openstack/heat/commit/7787140214b4e0338cdf35a1bba722e13bc04427', 'message': 'Remove CloudWatch cleanup tasks\n\nThis change removes the cloud watch cleanup tasks\nas part of general housecleaning.\n\nChange-Id: Id8f678dfd504ff27d6fdb86011129d353a31f3cf\n'}]",10,850603,7787140214b4e0338cdf35a1bba722e13bc04427,31,4,2,30073,,,0,"Remove CloudWatch cleanup tasks

This change removes the cloud watch cleanup tasks
as part of general housecleaning.

Change-Id: Id8f678dfd504ff27d6fdb86011129d353a31f3cf
",git fetch https://review.opendev.org/openstack/heat refs/changes/03/850603/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/upgrade/shutdown.sh', 'devstack/lib/heat']",2,75062dae34a297ae265eca8a954c8e5a27647a1f,address-todos,,# TODO(ramishra): Remove after Queens function stop_cw_service { if $SYSTEMCTL is-enabled devstack@h-api-cw.service; then $SYSTEMCTL stop devstack@h-api-cw.service $SYSTEMCTL disable devstack@h-api-cw.service fi } ,0,12
openstack%2Fzaqar-ui~master~I15d640e38cd68da6870f20006dc7ce333f4f2a11,openstack/zaqar-ui,master,I15d640e38cd68da6870f20006dc7ce333f4f2a11,Drop python3.6 support in testing runtime,NEW,2022-08-02 06:58:52.000000000,2022-08-02 07:13:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-02 06:58:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/630556903afdd6a470c35c7bec1d6488e5789cb1', 'message': 'Drop python3.6 support in testing runtime\n\nIn Zed cycle testing runtime, we are targetting to drop the python 3.6 support, project started adding python 3.8 as minimum, example nova: -\nhttps://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13\n\nChange-Id: I15d640e38cd68da6870f20006dc7ce333f4f2a11\n'}]",0,851643,630556903afdd6a470c35c7bec1d6488e5789cb1,2,1,1,35067,,,0,"Drop python3.6 support in testing runtime

In Zed cycle testing runtime, we are targetting to drop the python 3.6 support, project started adding python 3.8 as minimum, example nova: -
https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13

Change-Id: I15d640e38cd68da6870f20006dc7ce333f4f2a11
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/43/851643/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,630556903afdd6a470c35c7bec1d6488e5789cb1,,, Programming Language :: Python :: 3.6,0,1
openstack%2Fdevstack~master~I9e9a06eadc1604214c627bd3bda010cc00aaf83d,openstack/devstack,master,I9e9a06eadc1604214c627bd3bda010cc00aaf83d,Add NEUTRON_ENDPOINT_SERVICE_NAME variable to set service name,MERGED,2022-07-08 20:00:03.000000000,2022-08-02 07:10:20.000000000,2022-08-02 00:06:56.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-07-08 20:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9e01e1095091999d4dd98b6e1ce31782c197d51c', 'message': 'Add NEUTRON_ENDPOINT_SERVICE_NAME variable to set service name\n\nThis option can be used to set name of the service used in the\nnetworking service endpoint URL.\n\nChange-Id: I9e9a06eadc1604214c627bd3bda010cc00aaf83d\n'}, {'number': 2, 'created': '2022-07-19 10:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4caa9c8cdb55e716ec404c8a82834ee562e50109', 'message': 'Add NEUTRON_ENDPOINT_SERVICE_NAME variable to set service name\n\nThis option can be used to set name of the service used in the\nnetworking service endpoint URL.\n\nChange-Id: I9e9a06eadc1604214c627bd3bda010cc00aaf83d\n'}, {'number': 3, 'created': '2022-07-19 10:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/279b447887971de8123ed50f6aebf01ccd190aaa', 'message': 'Add NEUTRON_ENDPOINT_SERVICE_NAME variable to set service name\n\nThis option can be used to set name of the service used in the\nnetworking service endpoint URL.\n\nChange-Id: I9e9a06eadc1604214c627bd3bda010cc00aaf83d\n'}, {'number': 4, 'created': '2022-07-19 10:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8bb6a930e4feecf85191f16257180c0fc2f99761', 'message': 'Add NEUTRON_ENDPOINT_SERVICE_NAME variable to set service name\n\nThis option can be used to set name of the service used in the\nnetworking service endpoint URL.\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/850306\n\nChange-Id: I9e9a06eadc1604214c627bd3bda010cc00aaf83d\n'}, {'number': 5, 'created': '2022-07-19 12:51:38.000000000', 'files': ['lib/neutron', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1a21ccbdf8eb66582a06f181f8c9af1f43bd52f5', 'message': 'Add NEUTRON_ENDPOINT_SERVICE_NAME variable to set service name\n\nThis option can be used to set name of the service used in the\nnetworking service endpoint URL.\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/850306\n\nChange-Id: I9e9a06eadc1604214c627bd3bda010cc00aaf83d\n'}]",12,849145,1a21ccbdf8eb66582a06f181f8c9af1f43bd52f5,21,5,5,11975,,,0,"Add NEUTRON_ENDPOINT_SERVICE_NAME variable to set service name

This option can be used to set name of the service used in the
networking service endpoint URL.

Depends-On: https://review.opendev.org/c/openstack/grenade/+/850306

Change-Id: I9e9a06eadc1604214c627bd3bda010cc00aaf83d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/45/849145/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron', 'lib/neutron-legacy']",2,9e01e1095091999d4dd98b6e1ce31782c197d51c,neutron_endpoint_name,"# The name of the service in the endpoint URL NEUTRON_ENDPOINT_SERVICE_NAME=${NEUTRON_ENDPOINT_SERVICE_NAME:-""networking""} neutron_url=$Q_PROTOCOL://$SERVICE_HOST/${NEUTRON_ENDPOINT_SERVICE_NAME} neutron_url=$Q_PROTOCOL://$SERVICE_HOST:$Q_PORT/${NEUTRON_ENDPOINT_SERVICE_NAME}/ neutron_url=$Q_PROTOCOL://$Q_HOST/${NEUTRON_ENDPOINT_SERVICE_NAME} neutron_url=$service_protocol://$Q_HOST:$service_port/${NEUTRON_ENDPOINT_SERVICE_NAME}function _replace_api_paste_composite { local sep sep=$(echo -ne ""\x01"") # Replace it $sudo sed -i -e ""s/\/\: neutronversions_composite/\/""${NEUTRON_ENDPOINT_SERVICE_NAME}""\/\: neutronversions_composite/"" ""$Q_API_PASTE_FILE"" $sudo sed -i -e ""s/\/healthcheck\: healthcheck/\/""${NEUTRON_ENDPOINT_SERVICE_NAME}""\/healthcheck\: healthcheck/"" ""$Q_API_PASTE_FILE"" $sudo sed -i -e ""s/\/v2.0\: neutronapi_v2_0/\/""${NEUTRON_ENDPOINT_SERVICE_NAME}""\/v2.0\: neutronapi_v2_0/"" ""$Q_API_PASTE_FILE"" } if [[ -n ""$NEUTRON_ENDPOINT_SERVICE_NAME"" ]]; then _replace_api_paste_composite fi ", neutron_url=$Q_PROTOCOL://$SERVICE_HOST/networking/ neutron_url=$Q_PROTOCOL://$SERVICE_HOST:$Q_PORT/ neutron_url=$Q_PROTOCOL://$Q_HOST/networking/ neutron_url=$service_protocol://$Q_HOST:$service_port,27,8
openstack%2Fdiskimage-builder~master~Ic849f5b2afa488d9518065084112f8fc6e3083b2,openstack/diskimage-builder,master,Ic849f5b2afa488d9518065084112f8fc6e3083b2,Disable the opensuse functest,MERGED,2022-08-01 16:36:14.000000000,2022-08-02 06:48:27.000000000,2022-08-02 06:46:42.000000000,"[{'_account_id': 4571}, {'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 34411}]","[{'number': 1, 'created': '2022-08-01 16:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fcf7751d81068ab636a5885cb8f425afcd2c8b89', 'message': 'Disable the opensuse functest\n\nThe opensuse qcow2 image seems to regularly have a mismatch with its\nsha256sum file. Possibly because these are being served by different\nmirrors and are out of sync with each other? I have been able to\nreproduce this locally downloading each file and comparing the resutling\nhash.\n\nChange-Id: Ic849f5b2afa488d9518065084112f8fc6e3083b2\n'}, {'number': 2, 'created': '2022-08-01 23:51:39.000000000', 'files': ['.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/df7e05ee3b74cd4521dcd088c0ab3ba9e4819c89', 'message': 'Disable the opensuse functest\n\nThe opensuse qcow2 image seems to regularly have a mismatch with its\nsha256sum file. Possibly because these are being served by different\nmirrors and are out of sync with each other? I have been able to\nreproduce this locally downloading each file and comparing the resutling\nhash.\n\nChange-Id: Ic849f5b2afa488d9518065084112f8fc6e3083b2\n'}]",1,851759,df7e05ee3b74cd4521dcd088c0ab3ba9e4819c89,21,4,2,4146,,,0,"Disable the opensuse functest

The opensuse qcow2 image seems to regularly have a mismatch with its
sha256sum file. Possibly because these are being served by different
mirrors and are out of sync with each other? I have been able to
reproduce this locally downloading each file and comparing the resutling
hash.

Change-Id: Ic849f5b2afa488d9518065084112f8fc6e3083b2
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/59/851759/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,fcf7751d81068ab636a5885cb8f425afcd2c8b89,disable-opensuse-functest,, - opensuse/build-succeeds,0,1
openstack%2Fheat-tempest-plugin~master~I56aaabe6d4a228dfc9434e9d0c163251ff64c279,openstack/heat-tempest-plugin,master,I56aaabe6d4a228dfc9434e9d0c163251ff64c279,Update stable branches jobs on master gate,MERGED,2022-04-15 02:04:50.000000000,2022-08-02 06:32:30.000000000,2022-08-02 06:32:30.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-04-15 02:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/d9c1c9eb7862f1780a95184b33d3c1a622f97e2a', 'message': 'Add stable/yoga jobs on master gate\n\nWe have stable/yoga released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nThis also removes the stable/ussuri job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I56aaabe6d4a228dfc9434e9d0c163251ff64c279\n'}, {'number': 2, 'created': '2022-05-31 21:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/0ab2e8d48bf46a72790e15587a859ad729b307ed', 'message': 'Add stable/yoga jobs on master gate\n\nWe have stable/yoga released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nThis also removes the stable/ussuri and stable/victoria\njob as they are in EM state now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I56aaabe6d4a228dfc9434e9d0c163251ff64c279\n'}, {'number': 3, 'created': '2022-05-31 23:55:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/f1fb7f2beb23cd13e2bc3e21874c4b013c84c5d3', 'message': 'Update stable branches jobs on master gate\n\nwe have stable/xena and stable/yoga also present\nand supported so we should add their job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nThis also removes the old EM stable branches which are\ntrain, ussuri, and victoria jobs.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I56aaabe6d4a228dfc9434e9d0c163251ff64c279\n'}]",1,838069,f1fb7f2beb23cd13e2bc3e21874c4b013c84c5d3,14,4,3,8556,,,0,"Update stable branches jobs on master gate

we have stable/xena and stable/yoga also present
and supported so we should add their job on master
gate to keep branchless tempest plugins compatible
to stable branch.

This also removes the old EM stable branches which are
train, ussuri, and victoria jobs.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I56aaabe6d4a228dfc9434e9d0c163251ff64c279
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/69/838069/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d9c1c9eb7862f1780a95184b33d3c1a622f97e2a,yoga-stable-job,- job: name: heat-functional-yoga parent: heat-functional override-checkout: stable/yoga - heat-functional-yoga, name: heat-functional-ussuri parent: heat-functional nodeset: openstack-single-node-bionic override-checkout: stable/ussuri - job: - heat-functional-ussuri,6,7
openstack%2Fheat-tempest-plugin~master~I46522cb94072d3c5d6f137187a7769ce05430c29,openstack/heat-tempest-plugin,master,I46522cb94072d3c5d6f137187a7769ce05430c29,zuul: Declare queue at top level,MERGED,2022-06-13 00:52:47.000000000,2022-08-02 06:32:29.000000000,2022-08-02 06:32:29.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-13 00:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/268c171b87ac9b7f821656d2c2479b3e0007aeb2', 'message': 'zuul: Declare queue at top level\n\nZuul deprecated declaring shared queues at a pipeline level with\nrelease 4.1.0[1]. This updates the job definition to use the top level\ndeclaration instead.\n\nSee [2] for details.\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I46522cb94072d3c5d6f137187a7769ce05430c29\n'}, {'number': 2, 'created': '2022-08-01 14:22:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/ce99ab5de6e0041a929f801bdf5342b111432e54', 'message': 'zuul: Declare queue at top level\n\nZuul deprecated declaring shared queues at a pipeline level with\nrelease 4.1.0[1]. This updates the job definition to use the top level\ndeclaration instead.\n\nSee [2] for details.\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I46522cb94072d3c5d6f137187a7769ce05430c29\n'}]",2,845515,ce99ab5de6e0041a929f801bdf5342b111432e54,13,3,2,9816,,,0,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I46522cb94072d3c5d6f137187a7769ce05430c29
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/15/845515/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,268c171b87ac9b7f821656d2c2479b3e0007aeb2,fix-queue-config, queue: heat, queue: heat,1,1
openstack%2Ftacker~master~If6dba04300f0c0d95970a20234e01262bbb2204d,openstack/tacker,master,If6dba04300f0c0d95970a20234e01262bbb2204d,Imported Translations from Zanata,MERGED,2022-08-02 04:37:25.000000000,2022-08-02 06:29:30.000000000,2022-08-02 06:28:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-08-02 04:37:25.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/tacker/commit/3a7fa3d9473cea521c5277d5539c5cf196561aaf', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If6dba04300f0c0d95970a20234e01262bbb2204d\n'}]",0,851790,3a7fa3d9473cea521c5277d5539c5cf196561aaf,9,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If6dba04300f0c0d95970a20234e01262bbb2204d
",git fetch https://review.opendev.org/openstack/tacker refs/changes/90/851790/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,3a7fa3d9473cea521c5277d5539c5cf196561aaf,zanata/translations,"""POT-Creation-Date: 2022-07-07 03:03+0000\n""""PO-Revision-Date: 2022-08-01 10:49+0000\n""msgid ""7.0.0.0rc1-44"" msgstr ""7.0.0.0rc1-44""msgid """" ""Add the Version \""2.0.0\"" of Modify VNF Information API based on ETSI NFV "" ""specifications."" msgstr """" ""Add the Version \""2.0.0\"" of Modify VNF Information API based on ETSI NFV "" ""specifications."" msgid """" ""Add the Version \""2.0.0\"" of Retry operation API based on ETSI NFV "" ""specifications."" msgstr """" ""Add the Version \""2.0.0\"" of Retry operation API based on ETSI NFV "" ""specifications."" msgid """" ""Add the Version \""2.0.0\"" of Rollback operation API based on ETSI NFV "" ""specifications."" msgstr """" ""Add the Version \""2.0.0\"" of Rollback operation API based on ETSI NFV "" ""specifications."" msgid """" ""Add the Version \""2.0.0\"" of Scale VNF API based on ETSI NFV specifications."" msgstr """" ""Add the Version \""2.0.0\"" of Scale VNF API based on ETSI NFV specifications."" msgid """" ""Add the following new version of RESTful APIs based on ETSI NFV "" ""specifications. Version \""2.0.0\"" API of Create VNF, Delete VNF, Instantiate "" ""VNF, Terminate VNF, List VNF, Show VNF, List VNF LCM operation occurrence, "" ""Show VNF LCM operation occurrence, Create subscription, List subscription, "" ""and Show subscription are added."" msgstr """" ""Add the following new version of RESTful APIs based on ETSI NFV "" ""specifications. Version \""2.0.0\"" API of Create VNF, Delete VNF, Instantiate "" ""VNF, Terminate VNF, List VNF, Show VNF, List VNF LCM operation occurrence, "" ""Show VNF LCM operation occurrence, Create subscription, List subscription, "" ""and Show subscription are added."" msgid ""Added `Getting Started with ETSI NFV-SOL Tacker`."" msgstr ""Added `Getting Started with ETSI NFV-SOL Tacker`."" ""Added a table that shows hardware requirements to `ETSI Install via "" ""Devstack`."" msgstr """" ""Added a table that shows hardware requirements to `ETSI Install via "" ""Devstack`."" msgid ""Added diagrams and overviews of the `ETSI NFV-SOL Tacker Use Cases`."" msgstr ""Added diagrams and overviews of the `ETSI NFV-SOL Tacker Use Cases`."" msgid """"msgid """" ""Change default network backend driver to OVN in ``tacker/devstack`` for "" ""installation and ``.zuul.yaml`` for functional tests."" msgstr """" ""Change default network backend driver to OVN in ``tacker/devstack`` for "" ""installation and ``.zuul.yaml`` for functional tests."" msgid """" ""Change scale operation of CNF that is instantiated with Helm chart to "" ""perform using Helm cli by specifying replica count parameters for each "" ""aspect_id at instantiation in advance. This change makes that upgrading the "" ""Helm values (e.g. nodeSelector or tolerations) directly in Kubernetes VIM "" ""after a scale operation from Tacker does not change the number of replicas."" msgstr """" ""Change scale operation of CNF that is instantiated with Helm chart to "" ""perform using Helm CLI by specifying replica count parameters for each "" ""aspect_id at instantiation in advance. This change makes that upgrading the "" ""Helm values (e.g. nodeSelector or tolerations) directly in Kubernetes VIM "" ""after a scale operation from Tacker does not change the number of replicas."" msgid ""Classified Legacy Tacker documents and ETSI NFV-SOL Tacker documents."" msgstr ""Classified Legacy Tacker documents and ETSI NFV-SOL Tacker documents."" msgid ""Create a storage server VM with Cinder volume."" msgstr ""Create a storage server VM with Cinder volume."" msgid """" ""Day2 operations for Cloud-native Network Function (CNF). `Scale operation "" ""for CNF`_ and `Heal operation for CNF`_ with ETSI NFV-SOL003 v2.6.1 are "" ""supported."" msgstr """" ""Day2 operations for Cloud-native Network Function (CNF). `Scale operation "" ""for CNF`_ and `Heal operation for CNF`_ with ETSI NFV-SOL003 v2.6.1 is "" ""supported."" ""Drop sqlalchemy-filters from tacker. We've been depending on sqlalchemy-"" ""filters a little, but it can be replaced with original code in tacker as "" ""alternative. We can catch up with a change in SQLAlchemy without waiting for "" ""a update sqlalchemy-filters after then, update our code instead quickly."" msgstr """" ""Drop sqlalchemy-filters from tacker. We've been depending on sqlalchemy-"" ""filters a little, but it can be replaced with original code in tacker as an "" ""alternative. We can catch up with a change in SQLAlchemy without waiting for "" ""an update sqlalchemy-filters after then, update our code instead quickly."" msgid """" ""ETSI NFV-SOL003 v2.6.1: VNF Lifecycle Management(Scale VNF, Update VNF and "" ""Rollback VNF)"" msgstr """" ""ETSI NFV-SOL003 v2.6.1: VNF Lifecycle Management(Scale VNF, Update VNF and "" ""Rollback VNF)"" msgid ""ETSI NFV-SOL005 v2.6.1: Fetch VNF Package Artifacts"" msgstr ""ETSI NFV-SOL005 v2.6.1: Fetch VNF Package Artifacts"" msgid """"""Instantiate multi-master nodes kubernetes cluster: A Kubenrnetes cluster "" ""with a high availability (HA) configuration can be deployed."" msgstr """" ""Instantiate multi-master nodes Kubernetes cluster: A Kubernetes cluster with "" ""a high availability (HA) configuration can be deployed."" msgid """" ""Instantiate operation for Kubernetes cluster with MgmtDriver: MgmtDriver "" ""configures connections with Docker private registries on newly created all "" ""Master/Worker VMs."" msgstr """" ""Instantiate operation for Kubernetes cluster with MgmtDriver: MgmtDriver "" ""configures connections with Docker private registries on newly created all "" ""Master/Worker VMs."" msgid """" ""Instantiate single master node kubernetes cluster: The Kubernetes cluster "" ""can be instantiated with VNF Lifecycle Management Interface in ETSI NFV-SOL "" ""003 v2.6.1."" msgstr """" ""Instantiate single master node Kubernetes cluster: The Kubernetes cluster "" ""can be instantiated with VNF Lifecycle Management Interface in ETSI NFV-SOL "" ""003 v2.6.1."" msgid """"""Kubernetes VIM is extended to use ETSI NFV-SOL based operations. The major "" ""version of resources such as Deployment, DaemonSet, StatefulSet, and "" ""ReplicaSet can be deployed as VNF with Instantiate VNF operation."" msgstr """" ""Kubernetes VIM is extended to use ETSI NFV-SOL based operations. The major "" ""version of resources such as Deployment, DaemonSet, StatefulSet, and "" ""ReplicaSet can be deployed as VNF with Instantiate VNF operation."" msgid """"""MgmtDriver function configures applications provided by VNF vendors. VNF "" ""vendors can customize configuration methods for applications via MgmtDriver. "" ""These customizations are specified by \""interface\"" definition in ETSI NFV-"" ""SOL001 v2.6.1. We provide the sample of MgmtDriver and scripts which can be "" ""used to deploy a Kubernetes cluster. The sample script for deploying "" ""Kubernetes cluster can be used in two cases. One is to deploy one master "" ""node with worker nodes. Under this case, it supports to scale worker node "" ""and heal worker node. The other is to deploy a high availability cluster, "" ""there are three(or more) master nodes with worker nodes. Under this case, it "" ""supports to scale worker node and to heal worker node and master node. In "" ""all the above cases, kubeadm is used for deploying Kubernetes in the sample "" ""script. We also provide a user guide to help users understand how to use "" ""this feature."" msgstr """" ""MgmtDriver function configures applications provided by VNF vendors. VNF "" ""vendors can customize configuration methods for applications via MgmtDriver. "" ""These customizations are specified by \""interface\"" definition in ETSI NFV-"" ""SOL001 v2.6.1. We provide the sample of MgmtDriver and scripts which can be "" ""used to deploy a Kubernetes cluster. The sample script for deploying "" ""Kubernetes cluster can be used in two cases. One is to deploy one master "" ""node with worker nodes. Under this case, it supports to scale worker node "" ""and heal worker node. The other is to deploy a high availability cluster, "" ""there are three(or more) master nodes with worker nodes. Under this case, it "" ""supports to scale worker node and to heal worker node and master node. In "" ""all the above cases, kubeadm is used for deploying Kubernetes in the sample "" ""script. We also provide a user guide to help users understand how to use "" ""this feature."" msgid """"""Support deploying Kubernetes cluster VNF which has a storage server with "" ""Cinder volume. This feature enables users to deploy CNF which has "" ""PersistentVolume on it. The following changes are added for MgmtDriver."" msgstr """" ""Support deploying Kubernetes cluster VNF which has a storage server with "" ""Cinder volume. This feature enables users to deploy CNF which has "" ""PersistentVolume on it. The following changes are added for MgmtDriver."" msgid """"msgid """" ""`Error handling of VNF instance`__ is enhanced to support Retry, Rollback, "" ""and Fail operations."" msgstr """" ""`Error handling of VNF instance`__ is enhanced to support Retry, Rollback, "" ""and Fail operations."" msgid """" ""`Sample MgmtDriver for Kubernetes cluster VNF`__ is provided to manage on-"" ""premise Kubernetes. HA Master nodes, Scaling Worker nodes, and Healing "" ""Master/Worker nodes are possible with Kube-adm."" msgstr """" ""`Sample MgmtDriver for Kubernetes cluster VNF`__ is provided to manage on-"" ""premise Kubernetes. HA Master nodes, Scaling Worker nodes, and Healing "" ""Master/Worker nodes are possible with Kube-adm."" ","""POT-Creation-Date: 2022-07-01 07:57+0000\n""""PO-Revision-Date: 2022-07-02 10:14+0000\n""msgid ""7.0.0.0rc1-41"" msgstr ""7.0.0.0rc1-41""",200,4
openstack%2Ftacker-specs~master~I8cb4e925bd937d79bebaa346dd7dcc634355c97d,openstack/tacker-specs,master,I8cb4e925bd937d79bebaa346dd7dcc634355c97d,A DB migration tool for API version update,MERGED,2022-07-01 08:11:02.000000000,2022-08-02 06:25:23.000000000,2022-08-02 06:24:21.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 32736}, {'_account_id': 33455}]","[{'number': 1, 'created': '2022-07-01 08:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/09c1b5498f9c6258954be2c07239c067e1b5a919', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 2, 'created': '2022-07-01 08:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/59eee01c43946b492099792d489b7c4df8158510', 'message': '[WIP] A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 3, 'created': '2022-07-05 01:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4bc3637d146a74b44aed09d5c1fcff085082f158', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 4, 'created': '2022-07-05 02:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/86fa170c6dd2a550542b55d20bfdf89f26ac8e5a', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 5, 'created': '2022-07-05 02:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b6918a6ea81c71f555150999ba6f944281ed76a6', 'message': '[WIP]A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 6, 'created': '2022-07-05 02:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/2f8b5a50b4b6e30a62d9f68410b6d657b548f393', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 7, 'created': '2022-07-22 06:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6adbb762cd2e001386a6441571dabe84edcb541a', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 8, 'created': '2022-07-22 06:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/62f565a4d1ccd1c4ed123983c4a5679a9ed08119', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 9, 'created': '2022-07-22 06:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6a0957d561d63b7000587e5d647232ec0bf92fd5', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 10, 'created': '2022-07-22 08:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/3b2dba70a46cc28fd543d2f672981c732b071b79', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 11, 'created': '2022-07-26 08:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/fdc169410c7fcd5d5aa25a859c944d6f3bc5cb85', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 12, 'created': '2022-07-26 09:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/521e41267ec48132274f64e0fb624317a761a9db', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 13, 'created': '2022-07-29 09:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/ce756fcfbfe9050f6c480f9c682ccce313bb6384', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 14, 'created': '2022-07-29 10:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/a57221cfcaea122262409219839133b3436db73d', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 15, 'created': '2022-08-01 02:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8fdd5074ff1ee0b0ed9e437055fbcebb1fc43eb6', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 16, 'created': '2022-08-01 04:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/11e5e92d7242a3a80b339a37593581cc3922daf9', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 17, 'created': '2022-08-01 05:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/ee36cdaa768e7b55165f17edd8c572393d270df0', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}, {'number': 18, 'created': '2022-08-02 05:58:15.000000000', 'files': ['specs/zed/db-migration-tool.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/5d0d1e6ac17fb1d8a518c61e003e6e3a05af12df', 'message': 'A DB migration tool for API version update\n\nThe DB migration tool migrates DB from v1 API to v2 API\nwithout service outage of the VNF, which would be implemented by\nadding the functionality to the tacker-db-manage command.\n\nImplements: blueprint db-migration-tool\nChange-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d\n'}]",119,848410,5d0d1e6ac17fb1d8a518c61e003e6e3a05af12df,63,7,18,35043,,,0,"A DB migration tool for API version update

The DB migration tool migrates DB from v1 API to v2 API
without service outage of the VNF, which would be implemented by
adding the functionality to the tacker-db-manage command.

Implements: blueprint db-migration-tool
Change-Id: I8cb4e925bd937d79bebaa346dd7dcc634355c97d
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/10/848410/18 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/db-migration-tool.rst'],1,09c1b5498f9c6258954be2c07239c067e1b5a919,bp/db-migration-tool,"========================================== DB Migration Tool ========================================== Blueprints: https://blueprints.launchpad.net/tacker/+spec/db-migration-tool This specification describes a tool to perform DB migration from v1 API to v2 API. Problem description =================== Tacker supports multi-version API: v1 API based on SOL 003 v2.6.1 [#ETSI-NFV-SOL003-v2.6.1]_ and v2 API based on v3.3.1 [#ETSI-NFV-SOL003-v3.3.1]_. Since v2 API doesn't have backward compatibility for v1 API, the v1 API users who want to shift from v1 API to v2 API have to terminate their VNF once and re-instantiate them with v2 API. However, this will incur a service outage and thus not realistic. Moreover, some VNFs run for more than 5 years, which consequently means that Tacker cannot deprecate an old API version for more than 5 years. This can be a barrier to the future update roadmap of Tacker when it plans to implement a new ETSI SOL release, e.g., Rel. 4. This is simply because, without the deprecation of an old API, the maintenance cost increases as the supported versions increase. Therefore, a means of migrating from v1 API to v2 API without service outage of the VNF is necessary. This specification proposes a DB migration tool for API version update. Proposed change =============== We would implement a DB migration tool by adding DB migration functionality to the tacker-db-manage command. Details are described below. 1) Target tables of migration: ------------------------------ Target tables to be migrated - VnfInstanceV2 - VnfLcmOpOccV2 Source tables to be migrated - vnf - vnf_attribute - vnf_instancesS - vnf_instantiated_info - vnf_lcm_op_occs 2) Target VNFs: ----------------- One of the following can be selected when executing the command. - The VNF that specified by vnfID - All VNFs that their records in the vnf_instances table for which the delete field is not 1 3) Tool execution method: ---------------------------- - Execute the following command. - --vnfId: The specific VNF will be migrated - --all: Migrate all VNFs on vnf_instances that are not deleted=1 - --keep-original-records: Keep v1 records without erasing them (Erasing them is default) .. code-block:: bash $ tacker-db-manage migrate-to-v2 { --vnfId <uuid> | --all } [--keep-original-records] 4) Sequence of tool execution: -------------------------------- When the command contains ""--vnfId"": .. seqdiag:: seqdiag { User -> Tacker-db-manage [label = ""tacker-db-manage migrate-to-v2 --vnfId <uuid>""]; Tacker-db-manage -> SQL_Alchemy [label = ""Define VnfInstanceV2 Object""]; Tacker-db-manage <-- SQL_Alchemy === Repeat every field === Tacker-db-manage -> SQL_Alchemy [label = ""Search for objects with the specified VNFID as a foreign key""]; Tacker-db-manage <- SQL_Alchemy [label = ""Get object""]; Tacker-db-manage -> SQL_Alchemy [label = ""Refer to the field of gotten object and update the field of VNFInstanceV2""]; Tacker-db-manage <-- SQL_Alchemy === End line of ""Repeat every field"" === Tacker-db-manage -> SQL_Alchemy [label = ""Create VnfInstanceV2 Object""]; SQL_Alchemy -> Tacker_DB [label = ""Insert record""]; SQL_Alchemy <-- Tacker_DB; Tacker-db-manage <-- SQL_Alchemy; === Skip if the keep original records flag is ON === Tacker-db-manage -> SQL_Alchemy [label = ""Search for objects with the specified VNFID as a foreign key""]; Tacker-db-manage <- SQL_Alchemy [label = ""Get object""]; Tacker-db-manage -> SQL_Alchemy [label = ""Delete object""]; SQL_Alchemy -> Tacker_DB [label = ""Delete record""]; SQL_Alchemy <-- Tacker_DB; Tacker-db-manage <-- SQL_Alchemy; === End line of ""Skip if the keep original records flag is ON"" === ... ... Tacker-db-manage -> SQL_Alchemy [label = ""Define VnfLcmOpOccV2 Object""]; Tacker-db-manage <-- SQL_Alchemy; === Repeat every field === Tacker-db-manage -> SQL_Alchemy [label = ""Search for objects with the specified VNFID as a foreign key""]; Tacker-db-manage <- SQL_Alchemy [label = ""Get object""]; Tacker-db-manage -> SQL_Alchemy [label = ""Refer to the field of gotten object and update the field of VnfLcmOpOccV2""]; Tacker-db-manage <-- SQL_Alchemy; === End line of ""Repeat every field"" === Tacker-db-manage -> SQL_Alchemy [label = ""Create VnfLcmOpOccV2 Object""]; SQL_Alchemy -> Tacker_DB [label = ""Insert record""]; SQL_Alchemy <-- Tacker_DB; Tacker-db-manage <-- SQL_Alchemy; === Skip if the keep original records flag is ON === Tacker-db-manage -> SQL_Alchemy [label = ""Search for objects with the specified VNFID as a foreign key""]; Tacker-db-manage <- SQL_Alchemy [label = ""Get object""]; Tacker-db-manage -> SQL_Alchemy [label = ""Delete object""]; SQL_Alchemy -> Tacker_DB [label = ""Delete record""]; SQL_Alchemy <-- Tacker_DB; Tacker-db-manage <-- SQL_Alchemy; === End line of ""Skip if the keep original records flag is ON"" === User <-- Tacker-db-manage; } When the command contains ""--all"": .. seqdiag:: seqdiag { User -> Tacker-db-manage [label = ""tacker-db-manage migrate-to-v2 --all""]; Tacker-db-manage -> SQL_Alchemy [label = ""Search for objects with deleted=0 from Vnf_instances""]; Tacker-db-manage <- SQL_Alchemy [label = ""Get Vnf_instances objects""]; === Repeat every Vnf_instances object === Tacker-db-manage -> SQL_Alchemy [label = ""Define VnfInstanceV2 Object""]; Tacker-db-manage <-- SQL_Alchemy === Repeat every field === Tacker-db-manage -> SQL_Alchemy [label = ""Search for objects with the specified VNFID as a foreign key""]; Tacker-db-manage <- SQL_Alchemy [label = ""Get object""]; Tacker-db-manage -> SQL_Alchemy [label = ""Refer to the field of gotten object and update the field of VNFInstanceV2""]; Tacker-db-manage <-- SQL_Alchemy === End line of ""Repeat every field"" === Tacker-db-manage -> SQL_Alchemy [label = ""Create VnfInstanceV2 Object""]; SQL_Alchemy -> Tacker_DB [label = ""Insert record""]; SQL_Alchemy <-- Tacker_DB; Tacker-db-manage <-- SQL_Alchemy; === Skip if the keep original records flag is ON === Tacker-db-manage -> SQL_Alchemy [label = ""Search for objects with the specified VNFID as a foreign key""]; Tacker-db-manage <- SQL_Alchemy [label = ""Get object""]; Tacker-db-manage -> SQL_Alchemy [label = ""Delete object""]; SQL_Alchemy -> Tacker_DB [label = ""Delete record""]; SQL_Alchemy <-- Tacker_DB; Tacker-db-manage <-- SQL_Alchemy; === End line of ""Skip if the keep original records flag is ON"" === === End line of ""Repeat every Vnf_instances object"" === ... ... === Repeat every Vnf_instances object === Tacker-db-manage -> SQL_Alchemy [label = ""Define VnfLcmOpOccV2 Object""]; Tacker-db-manage <-- SQL_Alchemy; === Repeat every field === Tacker-db-manage -> SQL_Alchemy [label = ""Search for objects with the specified VNFID as a foreign key""]; Tacker-db-manage <- SQL_Alchemy [label = ""Get object""]; Tacker-db-manage -> SQL_Alchemy [label = ""Refer to the field of gotten object and update the field of VnfLcmOpOccV2""]; Tacker-db-manage <-- SQL_Alchemy; === End line of ""Repeat every field"" === Tacker-db-manage -> SQL_Alchemy [label = ""Create VnfLcmOpOccV2 Object""]; SQL_Alchemy -> Tacker_DB [label = ""Insert record""]; SQL_Alchemy <-- Tacker_DB; Tacker-db-manage <-- SQL_Alchemy; === Skip if the keep original records flag is ON === Tacker-db-manage -> SQL_Alchemy [label = ""Search for objects with the specified VNFID as a foreign key""]; Tacker-db-manage <- SQL_Alchemy [label = ""Get object""]; Tacker-db-manage -> SQL_Alchemy [label = ""Delete object""]; SQL_Alchemy -> Tacker_DB [label = ""Delete record""]; SQL_Alchemy <-- Tacker_DB; Tacker-db-manage <-- SQL_Alchemy; === End line of ""Skip if the keep original records flag is ON"" === === End line of ""Repeat every Vnf_instances object"" === User <-- Tacker-db-manage; } Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Masaki Oyama <ma-ooyama@kddi.com> Other contributors: Kinjou Yukihiro <yu-kinjou@kddi.com> Xu Hongjin <ho-xu@kddi.com> Work Items ---------- * Implement migration function to tacker-db-manage command * Add unit test * Add functional test * Add user document Dependencies ============ None Testing ======= Unit test and functional test will be added. Documentation Impact ==================== Documentation about tool usage will be added. References ========== .. [#ETSI-NFV-SOL003-v2.6.1] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_nfv-sol003v020601p.pdf .. [#ETSI-NFV-SOL003-v3.3.1] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf ",,268,0
openstack%2Fheat-tempest-plugin~master~I5211a236492910d759f3c4beb04d9ffa156007ae,openstack/heat-tempest-plugin,master,I5211a236492910d759f3c4beb04d9ffa156007ae,Use LOG.warning instead of deprecated LOG.warn,MERGED,2022-01-19 04:32:18.000000000,2022-08-02 06:18:17.000000000,2022-08-02 06:18:17.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-01-19 04:32:18.000000000', 'files': ['heat_tempest_plugin/tests/api/test_heat_api.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/e44722f005dfed40dd02aa7cb9e973bd55653b4b', 'message': 'Use LOG.warning instead of deprecated LOG.warn\n\nThe LOG.warn method is deprecated[1] and the LOG.warning method should\nbe used instead.\n\n[1] https://docs.python.org/3/library/logging.html#logging.warning\n\nChange-Id: I5211a236492910d759f3c4beb04d9ffa156007ae\n'}]",5,825250,e44722f005dfed40dd02aa7cb9e973bd55653b4b,16,4,1,9816,,,0,"Use LOG.warning instead of deprecated LOG.warn

The LOG.warn method is deprecated[1] and the LOG.warning method should
be used instead.

[1] https://docs.python.org/3/library/logging.html#logging.warning

Change-Id: I5211a236492910d759f3c4beb04d9ffa156007ae
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/50/825250/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_tempest_plugin/tests/api/test_heat_api.py'],1,e44722f005dfed40dd02aa7cb9e973bd55653b4b,log-warn," LOG.warning(""Keystone auth exception: %s: %s"" % (sys.exc_info()[0], sys.exc_info()[1]))"," LOG.warn(""Keystone auth exception: %s: %s"" % (sys.exc_info()[0], sys.exc_info()[1]))",2,2
openstack%2Frequirements~master~Idecb6a2517689678009cbab717820c76aba35ff9,openstack/requirements,master,Idecb6a2517689678009cbab717820c76aba35ff9,Temporally reverting Sphinx 4.4.0,ABANDONED,2022-05-31 17:46:58.000000000,2022-08-02 05:22:47.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 17:46:58.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b86b399b314816a99b30e9bc1b70ff45b0fa5b38', 'message': 'Temporally reverting Sphinx 4.4.0\n\nRecent Sphinx 4.5.0 causes compatibility issues\nso temporally reverting to Sphinx 4.4.0\n\nSee error logs at https://zuul.opendev.org/t/openstack/builds?job_name=propose-translation-update&skip=0\n\nChange-Id: Idecb6a2517689678009cbab717820c76aba35ff9\n'}]",2,844118,b86b399b314816a99b30e9bc1b70ff45b0fa5b38,6,2,1,14482,,,0,"Temporally reverting Sphinx 4.4.0

Recent Sphinx 4.5.0 causes compatibility issues
so temporally reverting to Sphinx 4.4.0

See error logs at https://zuul.opendev.org/t/openstack/builds?job_name=propose-translation-update&skip=0

Change-Id: Idecb6a2517689678009cbab717820c76aba35ff9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/844118/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,b86b399b314816a99b30e9bc1b70ff45b0fa5b38,fix-sphinx-build-issues,Sphinx===4.4.0,Sphinx===4.5.0,2,2
openstack%2Frequirements~master~I6ccbcb6c79d6d5a83b422692fcfd4811a3cb09ae,openstack/requirements,master,I6ccbcb6c79d6d5a83b422692fcfd4811a3cb09ae,Add ntplib,ABANDONED,2022-03-03 15:41:10.000000000,2022-08-02 05:22:18.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-03-03 15:41:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7db76f726987b1c9d85440f521578c0c4218eb02', 'message': 'Add ntplib\n\nUsed in monasca-agent\n\nChange-Id: I6ccbcb6c79d6d5a83b422692fcfd4811a3cb09ae\n'}]",3,831799,7db76f726987b1c9d85440f521578c0c4218eb02,7,3,1,31746,,,0,"Add ntplib

Used in monasca-agent

Change-Id: I6ccbcb6c79d6d5a83b422692fcfd4811a3cb09ae
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/831799/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7db76f726987b1c9d85440f521578c0c4218eb02,,ntplib===0.3.4,,1,0
openstack%2Frequirements~stable%2Fussuri~I5d226f032d6ea2056d2b31cdc0f02f156159b043,openstack/requirements,stable/ussuri,I5d226f032d6ea2056d2b31cdc0f02f156159b043,"Pin setuptools <58.0.0, as existing deps need use_2to3",ABANDONED,2021-09-24 11:22:07.000000000,2022-08-02 05:21:26.000000000,,"[{'_account_id': 8863}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-24 11:22:07.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/22e969e411cfa23bdc8299345145c14d940b473b', 'message': 'Pin setuptools <58.0.0, as existing deps need use_2to3\n\nChange-Id: I5d226f032d6ea2056d2b31cdc0f02f156159b043\n'}]",2,810859,22e969e411cfa23bdc8299345145c14d940b473b,6,2,1,13734,,,0,"Pin setuptools <58.0.0, as existing deps need use_2to3

Change-Id: I5d226f032d6ea2056d2b31cdc0f02f156159b043
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/810859/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,22e969e411cfa23bdc8299345145c14d940b473b,pin-setuptools,"setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,<58.0.0;python_version>='3.5' # PSF/ZPL","setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0;python_version>='3.5' # PSF/ZPL",1,1
openstack%2Frequirements~master~Iafdb19b0a394e908d2faa72dfd387746b2c97f3b,openstack/requirements,master,Iafdb19b0a394e908d2faa72dfd387746b2c97f3b,WIP Updates global-requirements for tripleo-ansible,ABANDONED,2021-05-26 13:57:02.000000000,2022-08-02 05:20:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-26 13:57:02.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ab2626a06b1116b3acbff7a7b5189f84a5203099', 'message': 'WIP Updates global-requirements for tripleo-ansible\n\nIn [1] which depends-on this patch we are trying to re-enable the\nmissing requirements-check job. This adds the missing ansi2html\nrequirement and updates the specifiers for python-ironicclient\n\n[1] I88b61a716593be3c47f0fe7713bfd327ae0584bf\n\nChange-Id: Iafdb19b0a394e908d2faa72dfd387746b2c97f3b\n'}]",1,793161,ab2626a06b1116b3acbff7a7b5189f84a5203099,5,1,1,8449,,,0,"WIP Updates global-requirements for tripleo-ansible

In [1] which depends-on this patch we are trying to re-enable the
missing requirements-check job. This adds the missing ansi2html
requirement and updates the specifiers for python-ironicclient

[1] I88b61a716593be3c47f0fe7713bfd327ae0584bf

Change-Id: Iafdb19b0a394e908d2faa72dfd387746b2c97f3b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/793161/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,ab2626a06b1116b3acbff7a7b5189f84a5203099,,"ansi2html # LGPLv3+python-ironicclient!=2.5.2,!=2.7.1,!=3.0.0,>=2.3.0,<4.0.0;python_version=='2.7' # Apache-2.0 python-ironicclient!=2.5.2,!=2.7.1,!=3.0.0,>=2.3.0;python_version>='3.6' # Apache-2.0","python-ironicclient!=2.5.2,!=2.7.1,!=3.0.0 # Apache-2.0",3,1
openstack%2Frequirements~master~Id5759fcc7e856c2acab8f0f4214017e7d344c0f1,openstack/requirements,master,Id5759fcc7e856c2acab8f0f4214017e7d344c0f1,"Revert ""Ban pecan 1.4.0""",ABANDONED,2020-08-21 13:58:57.000000000,2022-08-02 05:20:31.000000000,,"[{'_account_id': 308}, {'_account_id': 5792}, {'_account_id': 8313}, {'_account_id': 8833}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 14107}, {'_account_id': 14288}, {'_account_id': 19134}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-21 13:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e1f41534f5553d74b79c87bbb0b21eb016a457b4', 'message': 'Revert ""Ban pecan 1.4.0""\n\nThis reverts commit 570307ea8f569fa73445b745325e9245dd7b42b0.\n\nChange-Id: Id5759fcc7e856c2acab8f0f4214017e7d344c0f1\nDepends-On: Ida2cdc401def97bd5be10018e309e0ce72beb972\n'}, {'number': 2, 'created': '2021-07-19 15:18:06.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/05af4367c05f6b25b30dddfc460740114ca44c08', 'message': 'Revert ""Ban pecan 1.4.0""\n\nThis reverts commit 570307ea8f569fa73445b745325e9245dd7b42b0.\n\nChange-Id: Id5759fcc7e856c2acab8f0f4214017e7d344c0f1\nDepends-On: Ida2cdc401def97bd5be10018e309e0ce72beb972\n'}]",3,747419,05af4367c05f6b25b30dddfc460740114ca44c08,38,12,2,5792,,,0,"Revert ""Ban pecan 1.4.0""

This reverts commit 570307ea8f569fa73445b745325e9245dd7b42b0.

Change-Id: Id5759fcc7e856c2acab8f0f4214017e7d344c0f1
Depends-On: Ida2cdc401def97bd5be10018e309e0ce72beb972
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/747419/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,e1f41534f5553d74b79c87bbb0b21eb016a457b4,,pecan===1.4.0,pecan===1.3.3,2,2
openstack%2Frequirements~stable%2Ftrain~I140f89beb2e73740d9c56d090fc8a6b1b32b3c81,openstack/requirements,stable/train,I140f89beb2e73740d9c56d090fc8a6b1b32b3c81,Bump up pifpaf version for train,ABANDONED,2020-09-22 07:25:34.000000000,2022-08-02 05:19:07.000000000,,"[{'_account_id': 8770}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}, {'_account_id': 29071}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-09-22 07:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1442eebf0e059816a7cf52a9095c230da0dc6309', 'message': 'Bump up pifpaf version for train\n\nThis ps bumps up pifpaf version to be same\nas stable/ussuri.\n\nChange-Id: I140f89beb2e73740d9c56d090fc8a6b1b32b3c81\n'}, {'number': 2, 'created': '2020-09-23 09:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/efd58d3f0001b76dcce5785167fbd57a659dc4f2', 'message': 'Bump up pifpaf version for train\n\nThis ps bumps up pifpaf version to be same\nas stable/ussuri.\n\nPlease take a look this issue [1] which is\nfixed after 2.4.0.\n\n[1] https://github.com/jd/pifpaf/pull/124\n\nChange-Id: I140f89beb2e73740d9c56d090fc8a6b1b32b3c81\n'}, {'number': 3, 'created': '2020-09-24 00:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/32273399eda3074044820cdda57c87836ce262e2', 'message': 'Bump up pifpaf version for train\n\nFuntional test of oslo.messaging [1] kept\nfailing. looks like it is related to issue [2]\nwhich fails to clean up rabbitmq cluster when\none unittest done. It is fixed after 2.4.0.\n\nThis ps bumps up pifpaf version to be same\nas stable/ussuri.\n\n[1] https://review.opendev.org/#/c/747892/\n[2] https://github.com/jd/pifpaf/pull/124\n\nChange-Id: I140f89beb2e73740d9c56d090fc8a6b1b32b3c81\n'}, {'number': 4, 'created': '2020-10-02 00:40:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d811cc3746dbf2c35c696f1dd6a9b760c72722e9', 'message': 'Bump up pifpaf version for train\n\nFuntional test of oslo.messaging [1] kept\nfailing. By looking at the unittest log [2],\nit kept failing because pifpaf fixtures fails\nkilling the cluster after one unitext completes.\nIt is related to issue [3]\nwhich fails to clean up rabbitmq cluster when\none unittest done. It is fixed after 2.4.0.\n\nThis ps bumps up pifpaf version to be same\nas stable/ussuri.\n\n[1] https://review.opendev.org/#/c/747892/\n[2] https://zuul.opendev.org/t/openstack/build/3512e9c53b59406abaf5e5aa15531d12/console\n[3] https://github.com/jd/pifpaf/pull/124\n\nChange-Id: I140f89beb2e73740d9c56d090fc8a6b1b32b3c81\n'}]",1,753239,d811cc3746dbf2c35c696f1dd6a9b760c72722e9,37,7,4,29071,,,0,"Bump up pifpaf version for train

Funtional test of oslo.messaging [1] kept
failing. By looking at the unittest log [2],
it kept failing because pifpaf fixtures fails
killing the cluster after one unitext completes.
It is related to issue [3]
which fails to clean up rabbitmq cluster when
one unittest done. It is fixed after 2.4.0.

This ps bumps up pifpaf version to be same
as stable/ussuri.

[1] https://review.opendev.org/#/c/747892/
[2] https://zuul.opendev.org/t/openstack/build/3512e9c53b59406abaf5e5aa15531d12/console
[3] https://github.com/jd/pifpaf/pull/124

Change-Id: I140f89beb2e73740d9c56d090fc8a6b1b32b3c81
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/753239/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1442eebf0e059816a7cf52a9095c230da0dc6309,bump-up-pifpaf,pifpaf===2.4.0,pifpaf===2.2.2,1,1
openstack%2Frequirements~master~I3d7cbb6066f8a8bda6d63e66d47571da0e2233e1,openstack/requirements,master,I3d7cbb6066f8a8bda6d63e66d47571da0e2233e1,Add autopep8 to the global reqs,ABANDONED,2022-05-31 11:27:09.000000000,2022-08-02 05:13:14.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 11:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ff00e75b1081f6fd039616c23891314a474e1139', 'message': 'Add autopep8 to the global reqs\n\nAlso pin it in upper constraints to 1.5.5 due to bug 1975711\n\nCo-Authored-By: Miguel Garcia <mgarciac@redhat.com>\n\nRelated-Bug: #1975711\nChange-Id: I3d7cbb6066f8a8bda6d63e66d47571da0e2233e1\n'}, {'number': 2, 'created': '2022-05-31 18:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ffadfd8eb27705f2c109bbd654127835ec3feaa8', 'message': 'Add autopep8 to the global reqs\n\nAlso pin it in upper constraints to 1.5.5 due to bug 1975711\n\nCo-Authored-By: Miguel Garcia <mgarciac@redhat.com>\n\nRelated-Bug: #1975711\nChange-Id: I3d7cbb6066f8a8bda6d63e66d47571da0e2233e1\n'}, {'number': 3, 'created': '2022-06-02 09:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c9fda75d645d320c4f524259ba39af541753ab60', 'message': 'Add autopep8 to the global reqs\n\nAlso pin it in upper constraints to 1.5.5 due to bug 1975711\n\nCo-Authored-By: Miguel Garcia <mgarciac@redhat.com>\n\nRelated-Bug: #1975711\nChange-Id: I3d7cbb6066f8a8bda6d63e66d47571da0e2233e1\n'}, {'number': 4, 'created': '2022-06-02 09:41:25.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/34a0b62525357696dbaea9735e80018aeabdf6af', 'message': 'Add autopep8 to the global reqs\n\nAlso pin it in upper constraints to 1.5.5 due to bug 1975711\n\nCo-Authored-By: Miguel Garcia <mgarciac@redhat.com>\n\nRelated-Bug: #1975711\nChange-Id: I3d7cbb6066f8a8bda6d63e66d47571da0e2233e1\n'}]",11,844038,34a0b62525357696dbaea9735e80018aeabdf6af,23,4,4,9708,,,0,"Add autopep8 to the global reqs

Also pin it in upper constraints to 1.5.5 due to bug 1975711

Co-Authored-By: Miguel Garcia <mgarciac@redhat.com>

Related-Bug: #1975711
Change-Id: I3d7cbb6066f8a8bda6d63e66d47571da0e2233e1
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/844038/4 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,ff00e75b1081f6fd039616c23891314a474e1139,bug/1975711,# It is pinned due to https://bugs.launchpad.net/nova/+bug/1975711 autopep8===1.5.5,,3,0
openstack%2Fpuppet-neutron~master~If959e3751f881107bf5e697f044df99406677bd2,openstack/puppet-neutron,master,If959e3751f881107bf5e697f044df99406677bd2,Remove unused resrouce type to manage ml2_conf_sriov.ini,MERGED,2022-07-09 14:59:49.000000000,2022-08-02 05:01:23.000000000,2022-08-02 05:00:18.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-09 14:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/659d68ea2fecad263025bca058561c5e40d85201', 'message': 'Remove unused resrouce type to manage ml2_conf_sriov.ini\n\nThe ml2_conf_sriov.ini file was removed during Ocata cycle by [1], and\nnow no additional file is required by neutron-server. This change\nremoves the resource type because it is not used in any manifest files.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/413439\n\nChange-Id: If959e3751f881107bf5e697f044df99406677bd2\n'}, {'number': 2, 'created': '2022-08-01 09:43:38.000000000', 'files': ['releasenotes/notes/remove-neutron_plugin_sriov-6cb0ac14f025cdf8.yaml', 'lib/puppet/type/neutron_plugin_sriov.rb', 'lib/puppet/provider/neutron_plugin_sriov/ini_setting.rb', 'spec/acceptance/99_neutron_config_spec.rb', 'manifests/deps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/717436ecab47ce2a21d492775229b944a202e3c0', 'message': 'Remove unused resrouce type to manage ml2_conf_sriov.ini\n\nThe ml2_conf_sriov.ini file was removed during Ocata cycle by [1], and\nnow no additional file is required by neutron-server. This change\nremoves the resource type because it is not used in any manifest files.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/413439\n\nChange-Id: If959e3751f881107bf5e697f044df99406677bd2\n'}]",3,849201,717436ecab47ce2a21d492775229b944a202e3c0,18,4,2,9816,,,0,"Remove unused resrouce type to manage ml2_conf_sriov.ini

The ml2_conf_sriov.ini file was removed during Ocata cycle by [1], and
now no additional file is required by neutron-server. This change
removes the resource type because it is not used in any manifest files.

[1] https://review.opendev.org/c/openstack/neutron/+/413439

Change-Id: If959e3751f881107bf5e697f044df99406677bd2
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/01/849201/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-neutron_plugin_sriov-6cb0ac14f025cdf8.yaml', 'lib/puppet/type/neutron_plugin_sriov.rb', 'lib/puppet/provider/neutron_plugin_sriov/ini_setting.rb', 'manifests/deps.pp', 'spec/acceptance/neutron_config_spec.rb']",5,659d68ea2fecad263025bca058561c5e40d85201,sriov-plugin-config,," '/etc/neutron/plugins/ml2/ml2_conf_sriov.ini', File <||> -> Neutron_plugin_sriov <||> '/etc/neutron/plugins/ml2/ml2_conf_sriov.ini', neutron_plugin_sriov { 'DEFAULT/thisshouldexist' : value => 'foo', } neutron_plugin_sriov { 'DEFAULT/thisshouldnotexist' : value => '<SERVICE DEFAULT>', } neutron_plugin_sriov { 'DEFAULT/thisshouldexist2' : value => '<SERVICE DEFAULT>', ensure_absent_val => 'toto', } neutron_plugin_sriov { 'DEFAULT/thisshouldnotexist2' : value => 'toto', ensure_absent_val => 'toto', } 'neutron_plugin_sriov',",4,65
openstack%2Ftripleo-upgrade~master~I40e50948961cfbd6eb1dae1a05154c408cc15513,openstack/tripleo-upgrade,master,I40e50948961cfbd6eb1dae1a05154c408cc15513,Changed minversion in tox to 3.18.0.,MERGED,2022-03-24 10:04:14.000000000,2022-08-02 03:33:15.000000000,2022-08-02 03:33:15.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-24 10:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cdcfc7043cb19410cebc23143eea3fe3f6d7e704', 'message': ""Changed minversion in tox to 3.18.0.\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals[1] by allowlist_externals option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I40e50948961cfbd6eb1dae1a05154c408cc15513\n""}, {'number': 2, 'created': '2022-04-19 12:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3a8b6ac3025d318bd50b90c4b55465f313306314', 'message': ""Changed minversion in tox to 3.18.0.\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals[1] by allowlist_externals option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I40e50948961cfbd6eb1dae1a05154c408cc15513\n""}, {'number': 3, 'created': '2022-04-21 13:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8dabc9654d5aae851195068a07f0dce5a6ec3955', 'message': ""Changed minversion in tox to 3.18.0.\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals[1] by allowlist_externals option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I40e50948961cfbd6eb1dae1a05154c408cc15513\n""}, {'number': 4, 'created': '2022-05-12 14:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f13939b6b53cb7dd4ae4f9d00a76cc8ed4a61a6a', 'message': ""Changed minversion in tox to 3.18.0.\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals[1] by allowlist_externals option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I40e50948961cfbd6eb1dae1a05154c408cc15513\n""}, {'number': 5, 'created': '2022-06-16 11:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e080613fa8daf34d063f5c383d98e7880fdf86a1', 'message': ""Changed minversion in tox to 3.18.0.\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals[1] by allowlist_externals option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I40e50948961cfbd6eb1dae1a05154c408cc15513\n""}, {'number': 6, 'created': '2022-07-21 09:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d65d2f1f9cc57046320ac352c11de2ecdb6a74a9', 'message': ""Changed minversion in tox to 3.18.0.\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals[1] by allowlist_externals option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I40e50948961cfbd6eb1dae1a05154c408cc15513\n""}, {'number': 7, 'created': '2022-08-01 10:44:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/583bed082ee6fdfad9635a1d39501cb273b71d14', 'message': ""Changed minversion in tox to 3.18.0.\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals[1] by allowlist_externals option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I40e50948961cfbd6eb1dae1a05154c408cc15513\n""}]",0,835028,583bed082ee6fdfad9635a1d39501cb273b71d14,22,3,7,31245,,,0,"Changed minversion in tox to 3.18.0.

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals[1] by allowlist_externals option.

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I40e50948961cfbd6eb1dae1a05154c408cc15513
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/28/835028/6 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cdcfc7043cb19410cebc23143eea3fe3f6d7e704,,minversion = 3.18.0allowlist_externals = bashallowlist_externals = bash,minversion = 3.8whitelist_externals = bashwhitelist_externals = bash,3,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1eb6c77ea3cbdfaaa2b2a3fec0e6b8d2a71aae95,openstack/tripleo-heat-templates,stable/train,I1eb6c77ea3cbdfaaa2b2a3fec0e6b8d2a71aae95,[ovn] Don't add conntrack entries for Geneve,MERGED,2022-07-06 22:49:05.000000000,2022-08-02 03:33:12.000000000,2022-08-02 03:33:12.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-06 22:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/804f49f58b523483be6d1f740eb7eb3198406c1c', 'message': ""[ovn] Don't add conntrack entries for Geneve\n\nAs Geneve UDP traffic is allowed, there's no reason to create\nconntrack entries as it may result in a performance hit.\n\nThis patch is preventing Geneve traffic to be sent to conntrack.\n\nConflicts:\n       deployment/ovn/ovn-controller-container-puppet.yaml\n\nCloses-Bug: #1885551\nChange-Id: I1eb6c77ea3cbdfaaa2b2a3fec0e6b8d2a71aae95\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit a9e95b26bc87c35f8efe54243fee8dcb4089f9b2)\n""}, {'number': 2, 'created': '2022-07-11 16:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a357a7ee1501b17b09cbf5b3ace2ec92ae3f96a5', 'message': ""[ovn] Don't add conntrack entries for Geneve\n\nAs Geneve UDP traffic is allowed, there's no reason to create\nconntrack entries as it may result in a performance hit.\n\nThis patch is preventing Geneve traffic to be sent to conntrack.\n\nConflicts:\n       deployment/ovn/ovn-controller-container-puppet.yaml\n\nFixed conflict caused by switch from puppet-firewall to tripleo-ansible\nfor firewall rule management.\n\nCloses-Bug: #1885551\nChange-Id: I1eb6c77ea3cbdfaaa2b2a3fec0e6b8d2a71aae95\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit a9e95b26bc87c35f8efe54243fee8dcb4089f9b2)\n""}, {'number': 3, 'created': '2022-07-27 22:03:20.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/359e6b066115c43853af8e9ac2399c5e49118480', 'message': ""[ovn] Don't add conntrack entries for Geneve\n\nAs Geneve UDP traffic is allowed, there's no reason to create\nconntrack entries as it may result in a performance hit.\n\nThis patch is preventing Geneve traffic to be sent to conntrack.\n\nConflicts:\n       deployment/ovn/ovn-controller-container-puppet.yaml\n\nFixed conflict caused by switch from puppet-firewall to tripleo-ansible\nfor firewall rule management.\n\nCloses-Bug: #1885551\nChange-Id: I1eb6c77ea3cbdfaaa2b2a3fec0e6b8d2a71aae95\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit a9e95b26bc87c35f8efe54243fee8dcb4089f9b2)\n""}]",5,848907,359e6b066115c43853af8e9ac2399c5e49118480,19,6,3,4694,,,0,"[ovn] Don't add conntrack entries for Geneve

As Geneve UDP traffic is allowed, there's no reason to create
conntrack entries as it may result in a performance hit.

This patch is preventing Geneve traffic to be sent to conntrack.

Conflicts:
       deployment/ovn/ovn-controller-container-puppet.yaml

Fixed conflict caused by switch from puppet-firewall to tripleo-ansible
for firewall rule management.

Closes-Bug: #1885551
Change-Id: I1eb6c77ea3cbdfaaa2b2a3fec0e6b8d2a71aae95
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit a9e95b26bc87c35f8efe54243fee8dcb4089f9b2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/848907/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,804f49f58b523483be6d1f740eb7eb3198406c1c,no-conntrack-geneve, firewall_rules: '118 neutron vxlan networks': proto: 'udp' dport: 4789 '119 neutron geneve networks': proto: 'udp' dport: 6081 '120 neutron geneve networks no conntrack': proto: 'udp' dport: 6081 table: 'raw' chain: 'OUTPUT' jump: 'NOTRACK' action: 'append' state: [] '121 neutron geneve networks no conntrack': proto: 'udp' dport: 6081 table: 'raw' chain: 'PREROUTING' jump: 'NOTRACK' action: 'append' state: [],,23,0
openstack%2Fdevstack~master~Ice82a391cda9eb0193f23e6794be7ab3df12c40b,openstack/devstack,master,Ice82a391cda9eb0193f23e6794be7ab3df12c40b,Neutron: Set experimental option to use linuxbridge agent,MERGED,2022-07-13 13:36:31.000000000,2022-08-01 23:37:23.000000000,2022-08-01 23:36:22.000000000,"[{'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-07-13 13:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e6b39fe9cee8270de61cee48148179d3b0ead111', 'message': 'Neutron: Set experimental option to use linuxbridge agent\n\nRecently the experimental mechanism has been added to Neutron and now\nit requires the [experimental] linuxbridge option when the linuxbridge\nmechanism driver is used.\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/845181\nChange-Id: Ice82a391cda9eb0193f23e6794be7ab3df12c40b\n'}, {'number': 2, 'created': '2022-07-19 10:46:20.000000000', 'files': ['lib/neutron', 'lib/neutron_plugins/ml2'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cf0bf746e996b780714a085b0e6f38899c2c832e', 'message': 'Neutron: Set experimental option to use linuxbridge agent\n\nRecently the experimental mechanism has been added to Neutron and now\nit requires the [experimental] linuxbridge option when the linuxbridge\nmechanism driver is used.\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/845181\nChange-Id: Ice82a391cda9eb0193f23e6794be7ab3df12c40b\n'}]",2,849678,cf0bf746e996b780714a085b0e6f38899c2c832e,12,4,2,9816,,,0,"Neutron: Set experimental option to use linuxbridge agent

Recently the experimental mechanism has been added to Neutron and now
it requires the [experimental] linuxbridge option when the linuxbridge
mechanism driver is used.

Depends-on: https://review.opendev.org/c/openstack/neutron/+/845181
Change-Id: Ice82a391cda9eb0193f23e6794be7ab3df12c40b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/78/849678/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,e6b39fe9cee8270de61cee48148179d3b0ead111,, iniset $NEUTRON_CONF experimental linuxbridge True,,1,0
openstack%2Fcharm-ceph-fs~master~I4d7920d13615934f9fc40cfccc88b701eb57807b,openstack/charm-ceph-fs,master,I4d7920d13615934f9fc40cfccc88b701eb57807b,Guard updating Ceph keyring on presence of the key.,NEW,2021-10-22 14:50:43.000000000,2022-08-01 23:30:04.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-22 14:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/b93a1a74271e67cb89c71f2e4e9b2a2630f8f667', 'message': 'Guard updating Ceph keyring on presence of the key.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/657\nCloses-Bug: #1929537\nChange-Id: I4d7920d13615934f9fc40cfccc88b701eb57807b\n'}, {'number': 2, 'created': '2021-11-04 16:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/924081f1e857c109d4f6e94873c9c495fd4be3dc', 'message': 'Guard updating Ceph keyring on presence of the key.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/657\nCloses-Bug: #1929537\nChange-Id: I4d7920d13615934f9fc40cfccc88b701eb57807b\n'}, {'number': 3, 'created': '2021-12-07 13:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/7530a43ab60a3bd424d5c99c180ffa79e83277e3', 'message': 'Guard updating Ceph keyring on presence of the key.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/657\nCloses-Bug: #1929537\nChange-Id: I4d7920d13615934f9fc40cfccc88b701eb57807b\n'}, {'number': 4, 'created': '2022-04-13 14:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/1c34f8aed856c2c400a3b2ee606f76ffa349d511', 'message': 'Guard updating Ceph keyring on presence of the key.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/657\nCloses-Bug: #1929537\nChange-Id: I4d7920d13615934f9fc40cfccc88b701eb57807b\n'}, {'number': 5, 'created': '2022-08-01 22:33:42.000000000', 'files': ['src/reactive/ceph_fs.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/271d7ac077f3bf2ca691b1adadebb72a58aaa531', 'message': 'Guard updating Ceph keyring on presence of the key.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/657\nCloses-Bug: #1929537\nChange-Id: I4d7920d13615934f9fc40cfccc88b701eb57807b\n'}]",0,815124,271d7ac077f3bf2ca691b1adadebb72a58aaa531,14,2,5,20634,,,0,"Guard updating Ceph keyring on presence of the key.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/657
Closes-Bug: #1929537
Change-Id: I4d7920d13615934f9fc40cfccc88b701eb57807b
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/24/815124/4 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/ceph_fs.py'],1,b93a1a74271e67cb89c71f2e4e9b2a2630f8f667,bug/1929537," mds_key = ceph_mds.mds_key() if mds_key is None: ch_core.hookenv.log('No MDS key is available, bailing') return cephfs_charm.configure_ceph_keyring(mds_key)", cephfs_charm.configure_ceph_keyring(ceph_mds.mds_key()),5,1
openstack%2Fcharms.openstack~master~I9b119ba6848923c27844a2f758ae9e3c34c7722d,openstack/charms.openstack,master,I9b119ba6848923c27844a2f758ae9e3c34c7722d,Ensure that the _resolved_cluster member is set,MERGED,2022-08-01 18:11:24.000000000,2022-08-01 23:17:37.000000000,2022-08-01 23:17:37.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 18:11:24.000000000', 'files': ['charms_openstack/adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/c924762a9c92bd97dcb61d1d9e16f41c961ef9db', 'message': ""Ensure that the _resolved_cluster member is set\n\nIn the OpenStackAPIRelationAdapters class, the _resolved_cluster member\nis used to determine the cluster relation had been resolved.  However,\nit's possible that it is accessed prior to be used as it was originally\nan dunderscored method (__method).  This patch makes it more robust by\nswitching to a single-underscore (which is inherited and not class-\nmangled) and that it is always set to None initially in the __init__\nmethod.\n\nChange-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d\nCloses-Bug: #1981736\n""}]",1,851765,c924762a9c92bd97dcb61d1d9e16f41c961ef9db,6,2,1,20870,,,0,"Ensure that the _resolved_cluster member is set

In the OpenStackAPIRelationAdapters class, the _resolved_cluster member
is used to determine the cluster relation had been resolved.  However,
it's possible that it is accessed prior to be used as it was originally
an dunderscored method (__method).  This patch makes it more robust by
switching to a single-underscore (which is inherited and not class-
mangled) and that it is always set to None initially in the __init__
method.

Change-Id: I9b119ba6848923c27844a2f758ae9e3c34c7722d
Closes-Bug: #1981736
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/65/851765/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/adapters.py'],1,c924762a9c92bd97dcb61d1d9e16f41c961ef9db,bug/1981736, self._resolved_cluster = None property(lambda x: x._cluster())) def _cluster(self): if not self._resolved_cluster: self._resolved_cluster = self._resolve_cluster() return self._resolved_cluster def _resolve_cluster(self):, self.__resolved_cluster = None property(lambda x: x.__cluster())) def __cluster(self): if not self.__resolved_cluster: self.__resolved_cluster = self.__resolve_cluster() return self.__resolved_cluster def __resolve_cluster(self):,7,7
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I37fda2aa161120369d0e3734b9485c27cb59846c,openstack/python-tripleoclient,stable/wallaby,I37fda2aa161120369d0e3734b9485c27cb59846c,Heat Launcher - bracket IPv6 in db connection URI,MERGED,2022-08-01 09:15:47.000000000,2022-08-01 22:40:51.000000000,2022-08-01 22:39:45.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 09:15:47.000000000', 'files': ['tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/edaeefac655ae87c7cee3bcdad490200b7151e68', 'message': ""Heat Launcher - bracket IPv6 in db connection URI\n\nIn the database connection URI ensure IPv6 address is wrapped in\nbrackets. Without this a port number is assumed and error is raised:\n  ERROR: invalid literal for int() with base 10: 'dead:beef:4::3'\n\nRelated-Bug: #1983121\nChange-Id: I37fda2aa161120369d0e3734b9485c27cb59846c\n(cherry picked from commit ec8e13423449841ec701086d50e7414afc7792bf)\n""}]",0,851715,edaeefac655ae87c7cee3bcdad490200b7151e68,7,2,1,24245,,,0,"Heat Launcher - bracket IPv6 in db connection URI

In the database connection URI ensure IPv6 address is wrapped in
brackets. Without this a port number is assumed and error is raised:
  ERROR: invalid literal for int() with base 10: 'dead:beef:4::3'

Related-Bug: #1983121
Change-Id: I37fda2aa161120369d0e3734b9485c27cb59846c
(cherry picked from commit ec8e13423449841ec701086d50e7414afc7792bf)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/15/851715/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py']",2,edaeefac655ae87c7cee3bcdad490200b7151e68,bug/1983121-stable/wallaby, self.bracket_ipv6 = mock.patch( 'tripleoclient.utils.bracket_ipv6').start() self.bracket_ipv6.return_value = '1.1.1.1',,5,1
openstack%2Fmanila~master~I33cbb3edf3f5d834a4540b4f30928c250288b8d2,openstack/manila,master,I33cbb3edf3f5d834a4540b4f30928c250288b8d2,Add generic driver scenario job to manila,ABANDONED,2022-06-13 17:13:27.000000000,2022-08-01 20:53:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-13 17:13:27.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/8a0230836abdf0508d3443ca644a739232ba8fd8', 'message': 'Add generic driver scenario job to manila\n\nWe recently introduced a change where we splitted the API and\nscenario tests for the generic driver [1]. So now as these jobs are\nseparate, in order to have the scenario tests being run in the\npatches submitted in the Manila repository, we need to add the\nscenario jobs to this repo as well.\n\n[1] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/845057\n\nChange-Id: I33cbb3edf3f5d834a4540b4f30928c250288b8d2\n'}]",1,845611,8a0230836abdf0508d3443ca644a739232ba8fd8,11,1,1,29632,,,0,"Add generic driver scenario job to manila

We recently introduced a change where we splitted the API and
scenario tests for the generic driver [1]. So now as these jobs are
separate, in order to have the scenario tests being run in the
patches submitted in the Manila repository, we need to add the
scenario jobs to this repo as well.

[1] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/845057

Change-Id: I33cbb3edf3f5d834a4540b4f30928c250288b8d2
",git fetch https://review.opendev.org/openstack/manila refs/changes/11/845611/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8a0230836abdf0508d3443ca644a739232ba8fd8,, - manila-tempest-plugin-generic-scenario: voting: false,,2,0
openstack%2Fcharm-deployment-guide~master~I12b892ca0f558ad461435d3bb6c16e52c1d1c6e2,openstack/charm-deployment-guide,master,I12b892ca0f558ad461435d3bb6c16e52c1d1c6e2,Un-orphan pages,MERGED,2022-07-26 20:24:23.000000000,2022-08-01 20:30:58.000000000,2022-08-01 20:29:55.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 20:24:23.000000000', 'files': ['deploy-guide/source/upgrade-newton-to-ocata.rst', 'deploy-guide/source/charmhub-migration.rst', 'deploy-guide/source/ceph-charm-migration.rst', 'deploy-guide/source/ovn-migration.rst', 'deploy-guide/source/upgrade-queens-to-rocky.rst', 'deploy-guide/source/cinder-lvm-migration.rst', 'deploy-guide/source/upgrade-ussuri-to-victoria.rst', 'deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/percona-series-upgrade-to-focal.rst', 'deploy-guide/source/upgrade-stein-to-train.rst', 'deploy-guide/source/upgrade-special.rst', 'deploy-guide/source/upgrade-mitaka-to-newton.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a8f31fc1ac4fcdcab2e87949f6fb028d4b6ef3ba', 'message': 'Un-orphan pages\n\nThe practice of orphaning pages should be an exception.\nDoing so removes build checks (e.g. link checking).\n\nChange-Id: I12b892ca0f558ad461435d3bb6c16e52c1d1c6e2\n'}]",1,851092,a8f31fc1ac4fcdcab2e87949f6fb028d4b6ef3ba,7,2,1,30561,,,0,"Un-orphan pages

The practice of orphaning pages should be an exception.
Doing so removes build checks (e.g. link checking).

Change-Id: I12b892ca0f558ad461435d3bb6c16e52c1d1c6e2
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/92/851092/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/upgrade-newton-to-ocata.rst', 'deploy-guide/source/charmhub-migration.rst', 'deploy-guide/source/ceph-charm-migration.rst', 'deploy-guide/source/ovn-migration.rst', 'deploy-guide/source/upgrade-queens-to-rocky.rst', 'deploy-guide/source/cinder-lvm-migration.rst', 'deploy-guide/source/upgrade-ussuri-to-victoria.rst', 'deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/percona-series-upgrade-to-focal.rst', 'deploy-guide/source/upgrade-stein-to-train.rst', 'deploy-guide/source/upgrade-special.rst', 'deploy-guide/source/upgrade-mitaka-to-newton.rst']",12,a8f31fc1ac4fcdcab2e87949f6fb028d4b6ef3ba,unorphan-pages,,:orphan: ,19,32
openstack%2Ftripleo-quickstart~master~I56862e191ebdbced6f8d68448bbe0febffeed18d,openstack/tripleo-quickstart,master,I56862e191ebdbced6f8d68448bbe0febffeed18d,Enable nova local meta data per cell,NEW,2020-04-23 02:16:23.000000000,2022-08-01 20:21:56.000000000,,"[{'_account_id': 3153}, {'_account_id': 4393}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-04-23 02:16:23.000000000', 'files': ['roles/common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f1188c01417200278793c635587152900ead789c', 'message': 'Enable nova local meta data per cell\n\nAdd the config variable to enable nova meta data\nper cell in the jobs\n\nDepends-On: https://review.opendev.org/#/c/675103\nChange-Id: I56862e191ebdbced6f8d68448bbe0febffeed18d\n'}]",2,722182,f1188c01417200278793c635587152900ead789c,13,12,1,31239,,,0,"Enable nova local meta data per cell

Add the config variable to enable nova meta data
per cell in the jobs

Depends-On: https://review.opendev.org/#/c/675103
Change-Id: I56862e191ebdbced6f8d68448bbe0febffeed18d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/82/722182/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/common/defaults/main.yml'],1,f1188c01417200278793c635587152900ead789c,,# Enable local meta data per cell NovaLocalMetadataPerCell: true ,,3,0
openstack%2Fgrenade~master~I2de65d4764f23ae85a086d4d09ed80c81777434b,openstack/grenade,master,I2de65d4764f23ae85a086d4d09ed80c81777434b,Define NEUTRON_ENDPOINT_SERVICE_NAME variable as empty string,MERGED,2022-07-19 10:30:56.000000000,2022-08-01 20:18:59.000000000,2022-08-01 20:17:23.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-07-19 10:30:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/793f553bddfb74394f9d98eb5f1618b0caf2f9c3', 'message': ""Define NEUTRON_ENDPOINT_SERVICE_NAME variable as empty string\n\nThis new Devstack's variable is introduced by patch [1] but as it's not\nin the stable branches of Devstack yet, it can't be used in Grenade jobs\nwith default setting.\nSo lets set it to the emtpy string to make it working as it was before\n[1].\n\n[1] https://review.opendev.org/c/openstack/devstack/+/849145\n\nChange-Id: I2de65d4764f23ae85a086d4d09ed80c81777434b\n""}]",1,850306,793f553bddfb74394f9d98eb5f1618b0caf2f9c3,8,3,1,11975,,,0,"Define NEUTRON_ENDPOINT_SERVICE_NAME variable as empty string

This new Devstack's variable is introduced by patch [1] but as it's not
in the stable branches of Devstack yet, it can't be used in Grenade jobs
with default setting.
So lets set it to the emtpy string to make it working as it was before
[1].

[1] https://review.opendev.org/c/openstack/devstack/+/849145

Change-Id: I2de65d4764f23ae85a086d4d09ed80c81777434b
",git fetch https://review.opendev.org/openstack/grenade refs/changes/06/850306/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,793f553bddfb74394f9d98eb5f1618b0caf2f9c3,neutron_endpoint_name," # TODO(slaweq): It can be removed when devstack patch # https://review.opendev.org/c/openstack/devstack/+/849145 will be # merged in master and last stable branch NEUTRON_ENDPOINT_SERVICE_NAME: """"",,4,0
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I76bbe10b850c38a3fbb38c4a2f5ee17ca5b91b4e,openstack/ansible-collections-openstack,stable/1.0.0,I76bbe10b850c38a3fbb38c4a2f5ee17ca5b91b4e,Fixed code violating Flake8 rule E275,MERGED,2022-08-01 15:03:32.000000000,2022-08-01 19:58:44.000000000,2022-08-01 19:58:44.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-08-01 15:03:32.000000000', 'files': ['tests/unit/modules/cloud/openstack/test_server.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b579d03968e9f33a838fd41d6cd5ff887ab5aae6', 'message': 'Fixed code violating Flake8 rule E275\n\nassert [1] is a Python keyword hence Flake8 raised an error:\n""E275 missing whitespace after keyword"" [2].\n\n[1] https://docs.python.org/3/reference/lexical_analysis.html#keywords\n[2] https://www.flake8rules.com/rules/E275.html\n\nChange-Id: I76bbe10b850c38a3fbb38c4a2f5ee17ca5b91b4e\n(cherry picked from commit 1bf22feb2dd9f7e88ff6722ed10257d87ac5d4c5)\n'}]",0,851721,b579d03968e9f33a838fd41d6cd5ff887ab5aae6,7,3,1,32962,,,0,"Fixed code violating Flake8 rule E275

assert [1] is a Python keyword hence Flake8 raised an error:
""E275 missing whitespace after keyword"" [2].

[1] https://docs.python.org/3/reference/lexical_analysis.html#keywords
[2] https://www.flake8rules.com/rules/E275.html

Change-Id: I76bbe10b850c38a3fbb38c4a2f5ee17ca5b91b4e
(cherry picked from commit 1bf22feb2dd9f7e88ff6722ed10257d87ac5d4c5)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/21/851721/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/modules/cloud/openstack/test_server.py'],1,b579d03968e9f33a838fd41d6cd5ff887ab5aae6,fix-assert-stable/1.0.0, assert args[0]['net-id'] == '1234' assert args[0]['net-id'] == '1234' assert args[1]['net-id'] == '4321' assert args[0]['port-id'] == '1234' assert args[0]['net-id'] == '5678' assert args[0]['port-id'] == '1234' assert args[0]['net-id'] == '1234' assert args[0]['net-id'] == '1234' assert args[1]['port-id'] == '1234' assert args[2]['net-id'] == '5678' assert args[3]['port-id'] == '4321' assert self.cloud.create_server.call_count == 1 assert self.cloud.create_server.call_args[1]['image'] == self.cloud.get_image_id('cirros') assert self.cloud.create_server.call_args[1]['flavor'] == self.cloud.get_flavor('m1.tiny')['id'] assert self.cloud.create_server.call_args[1]['nics'][0]['net-id'] == self.cloud.get_network('network1')['id'] assert 'missing_flavor' in self.module.fail_json.call_args[1]['msg'] assert 'missing_network' in self.module.fail_json.call_args[1]['msg'], assert(args[0]['net-id'] == '1234') assert(args[0]['net-id'] == '1234') assert(args[1]['net-id'] == '4321') assert(args[0]['port-id'] == '1234') assert(args[0]['net-id'] == '5678') assert(args[0]['port-id'] == '1234') assert(args[0]['net-id'] == '1234') assert(args[0]['net-id'] == '1234') assert(args[1]['port-id'] == '1234') assert(args[2]['net-id'] == '5678') assert(args[3]['port-id'] == '4321') assert(self.cloud.create_server.call_count == 1) assert(self.cloud.create_server.call_args[1]['image'] == self.cloud.get_image_id('cirros')) assert(self.cloud.create_server.call_args[1]['flavor'] == self.cloud.get_flavor('m1.tiny')['id']) assert(self.cloud.create_server.call_args[1]['nics'][0]['net-id'] == self.cloud.get_network('network1')['id']) assert('missing_flavor' in self.module.fail_json.call_args[1]['msg']) assert('missing_network' in self.module.fail_json.call_args[1]['msg']),17,19
openstack%2Fnova~master~Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc,openstack/nova,master,Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc,Use unittest.mock instead of third party mock,MERGED,2020-03-24 15:17:54.000000000,2022-08-01 19:09:27.000000000,2022-08-01 19:07:43.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31706}]","[{'number': 1, 'created': '2020-03-24 15:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adab37061f870abc8c70150800006f307678e541', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nThis was auto-generated with the following (hacky) script:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n\n      if 'import mock\\n' not in lines:\n          continue\n\n      import_group_found = False\n\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-03-31 17:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b91f52c21bc1e63a63f69a126486cb1d333ef6a5', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are two manual changes\nnecessary:\n\nnova/tests/unit/scheduler/test_filter_scheduler.py\n  You can't pass both the 'new' and 'autospec' arguments to 'mock.patch'\n\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn't appear to have 'args' and 'kwargs'\n  properties, so we must use indices instead\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if 'import mock\\n' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              for lib in (\n                  'ddt', 'six', 'webob', 'fixtures', 'testtools'\n                  'neutron', 'cinder', 'keystone', 'oslo',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, 'from unittest import mock\\n\\n')\n      else:\n          lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-04-02 09:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/483cabd1b90cad466d458a9a5e21b10222b98ca2', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are three manual changes\nnecessary:\n\nnova/tests/unit/scheduler/test_filter_scheduler.py\n  You can't pass both the 'new' and 'autospec' arguments to 'mock.patch'\n\nnova/tests/unit/accelerator/test_cyborg.py\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn't have 'args' and 'kwargs' properties\n  until Python 3.8 [1], so we must use indices instead\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if 'import mock\\n' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              for lib in (\n                  'ddt', 'six', 'webob', 'fixtures', 'testtools'\n                  'neutron', 'cinder', 'ironic', 'keystone', 'oslo',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, 'from unittest import mock\\n\\n')\n      else:\n          lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\n[1] https://bugs.python.org/issue21269\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-05-01 11:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/feda6789182cfa172b46b6eb7ce32ed472dbbf8f', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are a few manual changes\nnecessary:\n\nnova/tests/unit/scheduler/test_filter_scheduler.py\n  You can't pass both the 'new' and 'autospec' arguments to 'mock.patch'\n\nnova/tests/unit/accelerator/test_cyborg.py\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn't have 'args' and 'kwargs' properties\n  until Python 3.8 [1], so we must use indices instead\n\nnova/tests/unit/test_versions.py\n  We have to partially revert I19f49c923d2c41eab0c7b4cab28c50498dc07046\n  since the version of mock on Python 3.6 doesn't include the fixes\n  mentioned in that change.\n\nnova/tests/unit/virt/libvirt/test_driver.py\n  We need to explicitly set a return value for a mock otherwise\n  'os.path.join' complains about not accepting MagicMock.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if 'import mock\\n' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              for lib in (\n                  'ddt', 'six', 'webob', 'fixtures', 'testtools'\n                  'neutron', 'cinder', 'ironic', 'keystone', 'oslo',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, 'from unittest import mock\\n\\n')\n      else:\n          lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\n[1] https://bugs.python.org/issue21269\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-06-17 12:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cbebc45e4ca303d3a2c037f9d818c6b9a9c429a', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are a few manual changes\nnecessary:\n\nnova/tests/unit/scheduler/test_filter_scheduler.py\n  You can't pass both the 'new' and 'autospec' arguments to 'mock.patch'\n\nnova/tests/unit/accelerator/test_cyborg.py\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn't have 'args' and 'kwargs' properties\n  until Python 3.8 [1], so we must use indices instead\n\nnova/tests/unit/test_versions.py\n  We have to partially revert I19f49c923d2c41eab0c7b4cab28c50498dc07046\n  since the version of mock on Python 3.6 doesn't include the fixes\n  mentioned in that change.\n\nnova/tests/unit/virt/libvirt/test_driver.py\n  We need to explicitly set a return value for a mock otherwise\n  'os.path.join' complains about not accepting MagicMock.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if 'import mock\\n' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              for lib in (\n                  'ddt', 'six', 'webob', 'fixtures', 'testtools'\n                  'neutron', 'cinder', 'ironic', 'keystone', 'oslo',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, 'from unittest import mock\\n\\n')\n      else:\n          lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://bugs.python.org/issue21269\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-06-17 17:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/450195665747b78fd8f20b2f3bf3b1d5550e3384', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are a few manual changes\nnecessary:\n\nnova/tests/unit/scheduler/test_filter_scheduler.py\n  You can't pass both the 'new' and 'autospec' arguments to 'mock.patch'\n\nnova/tests/unit/accelerator/test_cyborg.py\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn't have 'args' and 'kwargs' properties\n  until Python 3.8 [1], so we must use indices instead\n\nnova/tests/unit/test_versions.py\n  We have to partially revert I19f49c923d2c41eab0c7b4cab28c50498dc07046\n  since the version of mock on Python 3.6 doesn't include the fixes\n  mentioned in that change.\n\nnova/tests/unit/virt/libvirt/test_driver.py\n  We need to explicitly set a return value for a mock otherwise\n  'os.path.join' complains about not accepting MagicMock.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if 'import mock\\n' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              for lib in (\n                  'ddt', 'six', 'webob', 'fixtures', 'testtools'\n                  'neutron', 'cinder', 'ironic', 'keystone', 'oslo',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, 'from unittest import mock\\n\\n')\n      else:\n          lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://bugs.python.org/issue21269\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-07-07 15:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3de8c1308131dee422ad1d9cd7608cb112fcdc25', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are a few manual changes\nnecessary:\n\nnova/tests/unit/scheduler/test_filter_scheduler.py\n  You can't pass both the 'new' and 'autospec' arguments to 'mock.patch'\n\nnova/tests/unit/accelerator/test_cyborg.py\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn't have 'args' and 'kwargs' properties\n  until Python 3.8 [1], so we must use indices instead\n\nnova/tests/unit/test_versions.py\n  We have to partially revert I19f49c923d2c41eab0c7b4cab28c50498dc07046\n  since the version of mock on Python 3.6 doesn't include the fixes\n  mentioned in that change.\n\nnova/tests/unit/virt/libvirt/test_driver.py\n  We need to explicitly set a return value for a mock otherwise\n  'os.path.join' complains about not accepting MagicMock.\n\nnova/tests/unit/console/test_websocketproxy.py\n  Removed test_tcp_rst_no_compute_rpcapi test case. This test was not\n  correct. The self.wh object is set to a proxy class that we mock to\n  inherit from a Mock object, so unset variables are returned as mocked\n  values, so this doesn't appear to have been testing what it was\n  expected to be testing. Along with a subtle change in py3.8 to how\n  this is mocked, the only way to get the test to pass would be to mock\n  the return value we are checking, so we would just be testing that\n  mocking works. This should probably be reimplemented as a functional\n  test since it tries to reach into external code to manipulate results.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if 'import mock\\n' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              for lib in (\n                  'ddt', 'six', 'webob', 'fixtures', 'testtools'\n                  'neutron', 'cinder', 'ironic', 'keystone', 'oslo',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, 'from unittest import mock\\n\\n')\n      else:\n          lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://bugs.python.org/issue21269\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2020-07-15 20:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/638965e83db92b1ce31a2f07df97f096425387ee', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are a few manual changes\nnecessary:\n\nnova/tests/unit/scheduler/test_filter_scheduler.py\n  You can't pass both the 'new' and 'autospec' arguments to 'mock.patch'\n\nnova/tests/unit/accelerator/test_cyborg.py\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn't have 'args' and 'kwargs' properties\n  until Python 3.8 [1], so we must use indices instead\n\nnova/tests/unit/test_versions.py\n  We have to partially revert I19f49c923d2c41eab0c7b4cab28c50498dc07046\n  since the version of mock on Python 3.6 doesn't include the fixes\n  mentioned in that change.\n\nnova/tests/unit/virt/libvirt/test_driver.py\n  We need to explicitly set a return value for a mock otherwise\n  'os.path.join' complains about not accepting MagicMock.\n\nnova/tests/unit/console/test_websocketproxy.py\n  Removed test_tcp_rst_no_compute_rpcapi test case. This test was not\n  correct. The self.wh object is set to a proxy class that we mock to\n  inherit from a Mock object, so unset variables are returned as mocked\n  values, so this doesn't appear to have been testing what it was\n  expected to be testing. Along with a subtle change in py3.8 to how\n  this is mocked, the only way to get the test to pass would be to mock\n  the return value we are checking, so we would just be testing that\n  mocking works. This should probably be reimplemented as a functional\n  test since it tries to reach into external code to manipulate results.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if 'import mock\\n' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              for lib in (\n                  'ddt', 'six', 'webob', 'fixtures', 'testtools'\n                  'neutron', 'cinder', 'ironic', 'keystone', 'oslo',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, 'from unittest import mock\\n\\n')\n      else:\n          lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://bugs.python.org/issue21269\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2020-09-08 23:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e01162d8f1f7fc610be6f9893c6365867db4f477', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are a few manual changes\nnecessary:\n\nnova/tests/unit/scheduler/test_filter_scheduler.py\n  You can't pass both the 'new' and 'autospec' arguments to 'mock.patch'\n\nnova/tests/unit/accelerator/test_cyborg.py\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn't have 'args' and 'kwargs' properties\n  until Python 3.8 [1], so we must use indices instead\n\nnova/tests/unit/test_versions.py\n  We have to partially revert I19f49c923d2c41eab0c7b4cab28c50498dc07046\n  since the version of mock on Python 3.6 doesn't include the fixes\n  mentioned in that change.\n\nnova/tests/unit/virt/libvirt/test_driver.py\n  We need to explicitly set a return value for a mock otherwise\n  'os.path.join' complains about not accepting MagicMock.\n\nnova/tests/unit/console/test_websocketproxy.py\n  Removed test_tcp_rst_no_compute_rpcapi test case. This test was not\n  correct. The self.wh object is set to a proxy class that we mock to\n  inherit from a Mock object, so unset variables are returned as mocked\n  values, so this doesn't appear to have been testing what it was\n  expected to be testing. Along with a subtle change in py3.8 to how\n  this is mocked, the only way to get the test to pass would be to mock\n  the return value we are checking, so we would just be testing that\n  mocking works. This should probably be reimplemented as a functional\n  test since it tries to reach into external code to manipulate results.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if 'import mock\\n' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              for lib in (\n                  'ddt', 'six', 'webob', 'fixtures', 'testtools'\n                  'neutron', 'cinder', 'ironic', 'keystone', 'oslo',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, 'from unittest import mock\\n\\n')\n      else:\n          lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://bugs.python.org/issue21269\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2021-11-09 17:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1ec5351802fe92280171292882daa75cf8c3be0', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are a few manual changes\nnecessary:\n\nnova/tests/unit/accelerator/test_cyborg.py\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn't have 'args' and 'kwargs' properties\n  until Python 3.8 [1], so we must use indices instead\n\nnova/tests/unit/test_versions.py\n  We have to partially revert I19f49c923d2c41eab0c7b4cab28c50498dc07046\n  since the version of mock on Python 3.6 doesn't include the fixes\n  mentioned in that change.\n\nnova/tests/unit/virt/libvirt/test_driver.py\n  We need to explicitly set a return value for a mock otherwise\n  'os.path.join' complains about not accepting MagicMock.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if 'import mock\\n' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              for lib in (\n                  'ddt', 'six', 'webob', 'fixtures', 'testtools'\n                  'neutron', 'cinder', 'ironic', 'keystone', 'oslo',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, 'from unittest import mock\\n\\n')\n      else:\n          lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://bugs.python.org/issue21269\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 11, 'created': '2021-11-10 15:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d7bde10fa1e2c5071ff1b9da1aa8027c3ab2cec', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are a few manual changes\nnecessary:\n\nnova/tests/unit/accelerator/test_cyborg.py\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn't have 'args' and 'kwargs' properties\n  until Python 3.8 [1], so we must use indices instead\n\nnova/tests/unit/test_versions.py\n  We have to partially revert I19f49c923d2c41eab0c7b4cab28c50498dc07046\n  since the version of mock on Python 3.6 doesn't include the fixes\n  mentioned in that change.\n\nnova/tests/unit/virt/libvirt/test_driver.py\n  We need to explicitly set a return value for a mock otherwise\n  'os.path.join' complains about not accepting MagicMock.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if 'import mock\\n' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              for lib in (\n                  'ddt', 'six', 'webob', 'fixtures', 'testtools'\n                  'neutron', 'cinder', 'ironic', 'keystone', 'oslo',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, 'from unittest import mock\\n\\n')\n      else:\n          lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://bugs.python.org/issue21269\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 12, 'created': '2021-11-19 16:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f00032ab63d9a14e621fbe6e53bb2ff6a88fb035', 'message': ""Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are a few manual changes\nnecessary:\n\nnova/tests/unit/accelerator/test_cyborg.py\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn't have 'args' and 'kwargs' properties\n  until Python 3.8 [1], so we must use indices instead\n\nnova/tests/unit/test_versions.py\n  We have to partially revert I19f49c923d2c41eab0c7b4cab28c50498dc07046\n  since the version of mock on Python 3.6 doesn't include the fixes\n  mentioned in that change.\n\nnova/tests/unit/virt/libvirt/test_driver.py\n  We need to explicitly set a return value for a mock otherwise\n  'os.path.join' complains about not accepting MagicMock.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob('nova/tests/**/*.py', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if 'import mock\\n' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              for lib in (\n                  'ddt', 'six', 'webob', 'fixtures', 'testtools'\n                  'neutron', 'cinder', 'ironic', 'keystone', 'oslo',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith('import ') or line.startswith('from '):\n              tokens = line.split()\n              if tokens[1] > 'unittest':\n                  break\n              elif tokens[1] == 'unittest' and (\n                  len(tokens) == 2 or tokens[4] > 'mock'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, 'from unittest import mock\\n\\n')\n      else:\n          lines.insert(num, 'from unittest import mock\\n')\n      del lines[lines.index('import mock\\n')]\n      with open(path, 'w+') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://bugs.python.org/issue21269\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 13, 'created': '2022-01-28 19:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0d1013eb9487e3574eebc64398fbe0326886d47', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there are a few manual changes\nnecessary:\n\nnova/tests/unit/accelerator/test_cyborg.py\nnova/tests/unit/virt/libvirt/test_driver.py\n  The mock.call() argument doesn\'t have \'args\' and \'kwargs\' properties\n  until Python 3.8 [1], so we must use indices instead\n\nnova/tests/unit/test_versions.py\n  We have to partially revert I19f49c923d2c41eab0c7b4cab28c50498dc07046\n  since the version of mock on Python 3.6 doesn\'t include the fixes\n  mentioned in that change.\n\nnova/tests/unit/virt/libvirt/test_driver.py\nnova/tests/unit/api/openstack/test_wsgi_app.py\n  We need to explicitly set a return value for mocks that are used for a\n  call to an \'os.path\' function since the version of mock on Python 3.6\n  and 3.7 doesn\'t support \'__fspath__\' [2].\n\nnova/tests/functional/regressions/test_bug_1781286.py\n  We need to avoid using \'fixtures.MockPatch\' since fixtures is using\n  \'mock\' (the library) under the hood [3] and a call to\n  \'mock.patch.stop\' found in that test will now ""stop"" mocks from the\n  wrong library.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob(\'nova/tests/**/*.py\', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if \'import mock\\n\' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith(\'import \') or line.startswith(\'from \'):\n              tokens = line.split()\n              for lib in (\n                  \'ddt\', \'six\', \'webob\', \'fixtures\', \'testtools\'\n                  \'neutron\', \'cinder\', \'ironic\', \'keystone\', \'oslo\',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith(\'import \') or line.startswith(\'from \'):\n              tokens = line.split()\n              if tokens[1] > \'unittest\':\n                  break\n              elif tokens[1] == \'unittest\' and (\n                  len(tokens) == 2 or tokens[4] > \'mock\'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, \'from unittest import mock\\n\\n\')\n      else:\n          lines.insert(num, \'from unittest import mock\\n\')\n      del lines[lines.index(\'import mock\\n\')]\n      with open(path, \'w+\') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://bugs.python.org/issue21269\n[2] https://bugs.python.org/issue35022\n[3] https://github.com/testing-cabal/fixtures/pull/49\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 14, 'created': '2022-07-19 12:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfbda3d845de285ec05ed20586450c037addd7d5', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there is one manual change\nnecessary:\n\nnova/tests/functional/regressions/test_bug_1781286.py\n  We need to avoid using \'fixtures.MockPatch\' since fixtures is using\n  \'mock\' (the library) under the hood and a call to \'mock.patch.stop\'\n  found in that test will now ""stop"" mocks from the wrong library. We\n  have discussed making this configurable but the option proposed isn\'t\n  that pretty [1] so this is better.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob(\'nova/tests/**/*.py\', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if \'import mock\\n\' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith(\'import \') or line.startswith(\'from \'):\n              tokens = line.split()\n              for lib in (\n                  \'ddt\', \'six\', \'webob\', \'fixtures\', \'testtools\'\n                  \'neutron\', \'cinder\', \'ironic\', \'keystone\', \'oslo\',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith(\'import \') or line.startswith(\'from \'):\n              tokens = line.split()\n              if tokens[1] > \'unittest\':\n                  break\n              elif tokens[1] == \'unittest\' and (\n                  len(tokens) == 2 or tokens[4] > \'mock\'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, \'from unittest import mock\\n\\n\')\n      else:\n          lines.insert(num, \'from unittest import mock\\n\')\n      del lines[lines.index(\'import mock\\n\')]\n      with open(path, \'w+\') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://github.com/testing-cabal/fixtures/pull/49\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 15, 'created': '2022-08-01 15:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1ab27716ea13419fe50c97498d26cb45ae2e0de', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there is one manual change\nnecessary:\n\nnova/tests/functional/regressions/test_bug_1781286.py\n  We need to avoid using \'fixtures.MockPatch\' since fixtures is using\n  \'mock\' (the library) under the hood and a call to \'mock.patch.stop\'\n  found in that test will now ""stop"" mocks from the wrong library. We\n  have discussed making this configurable but the option proposed isn\'t\n  that pretty [1] so this is better.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob(\'nova/tests/**/*.py\', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if \'import mock\\n\' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith(\'import \') or line.startswith(\'from \'):\n              tokens = line.split()\n              for lib in (\n                  \'ddt\', \'six\', \'webob\', \'fixtures\', \'testtools\'\n                  \'neutron\', \'cinder\', \'ironic\', \'keystone\', \'oslo\',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith(\'import \') or line.startswith(\'from \'):\n              tokens = line.split()\n              if tokens[1] > \'unittest\':\n                  break\n              elif tokens[1] == \'unittest\' and (\n                  len(tokens) == 2 or tokens[4] > \'mock\'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, \'from unittest import mock\\n\\n\')\n      else:\n          lines.insert(num, \'from unittest import mock\\n\')\n      del lines[lines.index(\'import mock\\n\')]\n      with open(path, \'w+\') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://github.com/testing-cabal/fixtures/pull/49\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 16, 'created': '2022-08-01 15:47:23.000000000', 'files': ['nova/tests/unit/policies/test_flavor_manage.py', 'nova/tests/unit/policies/test_floating_ips.py', 'nova/tests/unit/virt/powervm/tasks/test_storage.py', 'nova/tests/unit/cmd/test_scheduler.py', 'nova/tests/functional/api_sample_tests/test_networks.py', 'nova/tests/functional/db/test_host_mapping.py', 'nova/tests/functional/regressions/test_bug_1849165.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/functional/api_sample_tests/test_server_password.py', 'nova/tests/unit/db/test_migration.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/functional/api_sample_tests/test_evacuate.py', 'nova/tests/functional/regressions/test_bug_1879878.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py', 'nova/tests/unit/virt/powervm/volume/test_fcvscsi.py', 'nova/tests/unit/api/openstack/compute/test_server_migrations.py', 'nova/tests/unit/virt/libvirt/volume/test_mount.py', 'nova/tests/unit/policies/test_assisted_volume_snapshots.py', 'nova/tests/unit/scheduler/filters/test_aggregate_multitenancy_isolation_filters.py', 'nova/tests/unit/cmd/test_compute.py', 'nova/tests/unit/virt/powervm/test_vm.py', 'nova/tests/unit/virt/zvm/test_guest.py', 'nova/tests/unit/objects/test_console_auth_token.py', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/unit/virt/hyperv/test_snapshotops.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/scheduler/filters/test_affinity_filters.py', 'nova/tests/unit/test_hacking.py', 'nova/tests/unit/objects/test_instance_action.py', 'nova/tests/unit/virt/powervm/test_image.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/functional/regressions/test_bug_1554631.py', 'nova/tests/unit/virt/hyperv/test_migrationops.py', 'nova/tests/unit/virt/libvirt/volume/test_net.py', 'nova/tests/unit/objects/test_external_event.py', 'nova/tests/unit/api/openstack/test_common.py', 'nova/tests/unit/compute/monitors/test_monitors.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/tests/unit/scheduler/filters/test_num_instances_filters.py', 'nova/tests/unit/virt/libvirt/volume/test_storpool.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'nova/tests/unit/api/openstack/compute/test_quota_classes.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/tests/functional/regressions/test_bug_1889108.py', 'nova/tests/unit/scheduler/test_manager.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/unit/policies/test_floating_ip_pools.py', 'nova/tests/unit/scheduler/filters/test_type_filters.py', 'nova/tests/unit/virt/hyperv/test_serialconsolehandler.py', 'nova/tests/unit/objects/test_instance_mapping.py', 'nova/tests/unit/policies/test_baremetal_nodes.py', 'nova/tests/unit/virt/test_virt.py', 'nova/tests/unit/pci/test_manager.py', 'nova/tests/functional/test_servers_resource_request.py', 'nova/tests/functional/db/test_instance_group.py', 'nova/tests/functional/test_boot_from_volume.py', 'nova/tests/unit/virt/test_imagecache.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/policies/test_attach_interfaces.py', 'nova/tests/unit/policies/test_server_metadata.py', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/tests/unit/policies/test_suspend_server.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/functional/db/test_compute_api.py', 'nova/tests/unit/objects/test_instance_numa.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/tests/unit/notifications/objects/test_flavor.py', 'nova/tests/unit/compute/test_keypairs.py', 'nova/tests/functional/test_compute_mgr.py', 'nova/tests/unit/objects/test_fields.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/tests/functional/regressions/test_bug_1843090.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/privsep/test_utils.py', 'nova/tests/unit/virt/hyperv/test_vif.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py', 'nova/tests/unit/scheduler/filters/test_io_ops_filters.py', 'nova/test.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/tests/unit/policies/test_remote_consoles.py', 'nova/tests/unit/virt/disk/mount/test_nbd.py', 'nova/tests/unit/console/rfb/test_authnone.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/tests/unit/api/openstack/compute/test_multinic.py', 'nova/tests/unit/scheduler/weights/test_weights_affinity.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py', 'nova/tests/unit/cmd/test_nova_api.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/tests/unit/virt/zvm/test_hypervisor.py', 'nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/virt/hyperv/test_livemigrationops.py', 'nova/tests/unit/test_availability_zones.py', 'nova/tests/unit/virt/hyperv/test_eventhandler.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py', 'nova/tests/unit/test_json_ref.py', 'nova/tests/functional/regressions/test_bug_1862633.py', 'nova/tests/unit/test_policy.py', 'nova/tests/unit/api/openstack/compute/admin_only_action_common.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/tests/unit/virt/hyperv/test_base.py', 'nova/tests/unit/virt/powervm/disk/test_ssp.py', 'nova/tests/unit/api/openstack/compute/test_tenant_networks.py', 'nova/tests/functional/db/test_quota.py', 'nova/tests/unit/storage/test_rbd.py', 'nova/tests/unit/api/openstack/compute/test_simple_tenant_usage.py', 'nova/tests/unit/network/test_security_group.py', 'nova/tests/unit/policies/test_tenant_networks.py', 'nova/tests/unit/pci/test_request.py', 'nova/tests/unit/policies/test_quota_sets.py', 'nova/tests/unit/api/openstack/compute/test_image_metadata.py', 'nova/tests/unit/notifications/objects/test_service.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/tests/unit/test_cache.py', 'nova/tests/unit/virt/libvirt/volume/test_nfs.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/test_block_device.py', 'nova/tests/unit/test_service_auth.py', 'nova/tests/unit/scheduler/filters/test_pci_passthrough_filters.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/tests/fixtures/libvirt_imagebackend.py', 'nova/tests/unit/virt/libvirt/volume/test_volume.py', 'nova/tests/fixtures/os_brick.py', 'nova/tests/unit/privsep/test_libvirt.py', 'nova/tests/unit/virt/zvm/test_utils.py', 'nova/tests/unit/test_wsgi.py', 'nova/tests/unit/virt/test_images.py', 'nova/tests/unit/test_quota.py', 'nova/tests/unit/scheduler/client/test_query.py', 'nova/tests/unit/virt/hyperv/test_rdpconsoleops.py', 'nova/tests/unit/virt/hyperv/test_block_device_manager.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/policies/test_server_diagnostics.py', 'nova/tests/unit/policies/test_migrate_server.py', 'nova/tests/unit/scheduler/filters/test_compute_filters.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_pools.py', 'nova/tests/unit/virt/powervm/tasks/test_network.py', 'nova/tests/unit/virt/powervm/disk/test_driver.py', 'nova/tests/unit/compute/monitors/cpu/test_virt_driver.py', 'nova/tests/unit/policies/test_server_groups.py', 'nova/tests/unit/cmd/test_baseproxy.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/policies/test_quota_class_sets.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'nova/tests/unit/objects/test_build_request.py', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'nova/tests/unit/policies/test_instance_usage_audit_log.py', 'nova/tests/unit/privsep/test_idmapshift.py', 'nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/cmd/test_status.py', 'nova/tests/unit/policies/test_networks.py', 'nova/tests/unit/policies/test_pause_server.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'nova/tests/unit/virt/libvirt/volume/test_fibrechannel.py', 'nova/tests/unit/virt/vmwareapi/test_session.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/compute/test_init_host.py', 'nova/tests/unit/policies/test_flavor_access.py', 'nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/scheduler/test_filters.py', 'nova/tests/unit/privsep/test_qemu.py', 'nova/tests/unit/test_weights.py', 'nova/tests/unit/test_service.py', 'nova/tests/functional/test_report_client.py', 'nova/tests/unit/virt/libvirt/storage/test_lvm.py', 'nova/tests/unit/virt/disk/mount/test_loop.py', 'nova/tests/unit/virt/vmwareapi/test_vif.py', 'nova/tests/unit/objects/test_cell_mapping.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/objects/test_volume_usage.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/tests/unit/policies/test_rescue.py', 'nova/tests/unit/objects/test_resource.py', 'nova/tests/unit/test_conf.py', 'nova/tests/unit/api/openstack/compute/test_server_password.py', 'nova/tests/unit/policies/test_shelve.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/unit/virt/powervm/test_media.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/unit/virt/hyperv/test_driver.py', 'nova/tests/functional/db/test_instance_mapping.py', 'nova/tests/unit/test_cinder.py', 'nova/tests/unit/test_exception_wrapper.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/tests/unit/limit/test_placement.py', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py', 'nova/tests/unit/policies/test_migrations.py', 'nova/tests/unit/virt/powervm/tasks/test_vm.py', 'nova/tests/unit/virt/libvirt/volume/test_iscsi.py', 'nova/tests/unit/api/openstack/compute/test_images.py', 'nova/tests/unit/api/openstack/compute/test_lock_server.py', 'nova/tests/unit/api/openstack/compute/test_server_diagnostics.py', 'nova/tests/unit/policies/test_hypervisors.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/tests/unit/db/api/test_api.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/tests/unit/objects/test_service.py', 'nova/tests/unit/policies/test_instance_actions.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_quotas.py', 'nova/tests/unit/fixtures/test_libvirt.py', 'nova/tests/functional/notification_sample_tests/test_libvirt.py', 'nova/tests/unit/test_context.py', 'nova/tests/unit/virt/zvm/test_driver.py', 'nova/tests/functional/regressions/test_bug_1944619.py', 'nova/tests/unit/policies/test_server_tags.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/virt/powervm/test_mgmt.py', 'nova/tests/unit/policies/test_admin_password.py', 'nova/tests/unit/virt/libvirt/volume/test_smbfs.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/api_sample_tests/test_baremetal_nodes.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/hyperv/test_hostops.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/policies/test_server_password.py', 'nova/tests/unit/scheduler/filters/test_aggregate_instance_extra_specs_filters.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/console/rfb/test_auth.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/test_utils.py', 'nova/tests/functional/regressions/test_bug_1845291.py', 'nova/tests/functional/api_sample_tests/test_create_backup.py', 'nova/tests/functional/db/test_virtual_interface.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/disk/test_api.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/compute/test_virtapi.py', 'nova/tests/unit/api/openstack/compute/test_server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/notifications/test_base.py', 'nova/tests/unit/virt/hyperv/test_serialproxy.py', 'nova/tests/unit/policies/test_volumes.py', 'nova/tests/unit/api/openstack/compute/test_server_topology.py', 'nova/tests/unit/policies/test_console_auth_tokens.py', 'nova/tests/unit/accelerator/test_cyborg.py', 'nova/tests/unit/virt/powervm/test_host.py', 'nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/tests/unit/scheduler/test_request_filter.py', 'nova/tests/unit/scheduler/filters/test_availability_zone_filters.py', 'nova/tests/unit/servicegroup/test_db_servicegroup.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/utils.py', 'nova/tests/unit/test_crypto.py', 'nova/tests/unit/virt/hyperv/test_serialconsoleops.py', 'nova/tests/unit/objects/test_host_mapping.py', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/objects/test_task_log.py', 'nova/tests/unit/virt/libvirt/test_machine_type_utils.py', 'nova/tests/unit/virt/libvirt/volume/test_remotefs.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py', 'nova/tests/unit/policies/test_simple_tenant_usage.py', 'nova/tests/unit/compute/test_utils.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/conductor/tasks/test_base.py', 'nova/tests/unit/api/openstack/compute/test_console_auth_tokens.py', 'nova/tests/unit/api/openstack/compute/test_server_start_stop.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/test_osinfo.py', 'nova/tests/unit/objects/test_tag.py', 'nova/tests/unit/virt/powervm/test_vif.py', 'nova/tests/functional/test_instance_actions.py', 'nova/tests/functional/test_server_faults.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/fixtures/nova.py', 'nova/tests/unit/api/openstack/compute/test_snapshots.py', 'nova/tests/unit/objects/test_virtual_interface.py', 'nova/tests/unit/policies/test_create_backup.py', 'nova/tests/unit/privsep/test_linux_net.py', 'nova/tests/unit/api/openstack/compute/test_baremetal_nodes.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/api_sample_tests/test_migrate_server.py', 'nova/tests/unit/policies/test_multinic.py', 'nova/tests/unit/objects/test_trusted_certs.py', 'nova/tests/unit/api/openstack/compute/test_server_group_quotas.py', 'nova/tests/unit/cmd/test_policy.py', 'nova/tests/unit/api/openstack/compute/test_server_tags.py', 'nova/tests/unit/policies/test_admin_actions.py', 'nova/tests/unit/policies/test_aggregates.py', 'nova/tests/unit/objects/test_keypair.py', 'nova/tests/unit/pci/fakes.py', 'nova/tests/unit/privsep/test_fs.py', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py', 'nova/tests/unit/pci/test_utils.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/functional/regressions/test_bug_1899835.py', 'nova/tests/functional/test_cold_migrate.py', 'nova/tests/unit/policies/test_console_output.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/privsep/test_path.py', 'nova/tests/unit/pci/test_devspec.py', 'nova/tests/unit/scheduler/filters/test_aggregate_image_properties_isolation_filters.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/tests/functional/libvirt/test_vtpm.py', 'nova/tests/functional/regressions/test_bug_1830747.py', 'nova/tests/unit/objects/test_instance_device_metadata.py', 'nova/tests/unit/notifications/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_suspend_server.py', 'nova/tests/unit/virt/powervm/tasks/test_image.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/api_sample_tests/test_compare_result.py', 'nova/tests/unit/scheduler/test_rpcapi.py', 'nova/tests/unit/test_test.py', 'nova/tests/unit/api/openstack/compute/test_server_external_events.py', 'nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/tests/unit/policies/test_hosts.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/test_rpc.py', 'nova/tests/unit/test_identity.py', 'nova/tests/functional/regressions/test_bug_1853009.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/unit/objects/test_ec2.py', 'nova/tests/unit/virt/libvirt/volume/test_lightos.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'nova/tests/unit/policies/test_lock_server.py', 'nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/tests/unit/api/test_wsgi.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/tests/unit/api/openstack/test_wsgi.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/cmd/test_common.py', 'nova/tests/unit/policies/test_services.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/unit/policies/test_availability_zone.py', 'nova/tests/unit/api/openstack/compute/test_admin_password.py', 'nova/tests/unit/api/openstack/compute/test_console_output.py', 'nova/tests/unit/api/openstack/compute/test_flavors_extra_specs.py', 'nova/tests/unit/api/openstack/test_faults.py', 'nova/tests/unit/policies/test_flavor_extra_specs.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/tests/unit/servicegroup/test_api.py', 'nova/tests/unit/objects/test_aggregate.py', 'nova/tests/unit/test_notifier.py', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py', 'nova/tests/unit/api/openstack/compute/test_keypairs.py', 'nova/tests/unit/compute/test_instance_list.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/virt/powervm/disk/test_localdisk.py', 'nova/tests/functional/regressions/test_bug_1937084.py', 'nova/tests/unit/policies/test_evacuate.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/tests/unit/objects/test_instance_fault.py', 'nova/tests/functional/regressions/test_bug_1831771.py', 'nova/tests/unit/policies/test_security_groups.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'nova/tests/functional/regressions/test_bug_1914777.py', 'nova/tests/unit/objects/test_instance_info_cache.py', 'nova/tests/unit/policies/test_keypairs.py', 'nova/tests/unit/test_configdrive2.py', 'nova/tests/unit/policies/test_server_migrations.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/console/test_serial.py', 'nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/tests/unit/policies/test_limits.py', 'nova/tests/unit/servicegroup/test_mc_servicegroup.py', 'nova/tests/unit/api/openstack/test_requestlog.py', 'nova/tests/functional/regressions/test_bug_1928063.py', 'nova/tests/unit/policies/test_deferred_delete.py', 'nova/tests/functional/regressions/test_bug_1937375.py', 'nova/tests/unit/api/test_auth.py', 'nova/tests/unit/virt/hyperv/test_pathutils.py', 'nova/tests/unit/policies/test_server_external_events.py', 'nova/tests/unit/limit/test_local.py', 'nova/tests/unit/api/openstack/compute/test_attach_interfaces.py', 'nova/tests/unit/virt/libvirt/storage/test_dmcrypt.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/libvirt/volume/test_fs.py', 'nova/tests/unit/compute/test_multi_cell_list.py', 'nova/tests/unit/console/rfb/test_authvencrypt.py', 'nova/tests/unit/console/securityproxy/test_rfb.py', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/tests/unit/virt/vmwareapi/test_network_util.py', 'nova/tests/unit/virt/hyperv/test_imagecache.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/api/openstack/compute/test_server_reset_state.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/virt/libvirt/volume/test_quobyte.py', 'nova/tests/functional/test_routed_networks.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/89ef050b8c049b9a6f0e2c70408fc93c826c55e0', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib. Most of this\nis autogenerated, as described below, but there is one manual change\nnecessary:\n\nnova/tests/functional/regressions/test_bug_1781286.py\n  We need to avoid using \'fixtures.MockPatch\' since fixtures is using\n  \'mock\' (the library) under the hood and a call to \'mock.patch.stop\'\n  found in that test will now ""stop"" mocks from the wrong library. We\n  have discussed making this configurable but the option proposed isn\'t\n  that pretty [1] so this is better.\n\nThe remainder was auto-generated with the following (hacky) script, with\none or two manual tweaks after the fact:\n\n  import glob\n\n  for path in glob.glob(\'nova/tests/**/*.py\', recursive=True):\n      with open(path) as fh:\n          lines = fh.readlines()\n      if \'import mock\\n\' not in lines:\n          continue\n      import_group_found = False\n      create_first_party_group = False\n      for num, line in enumerate(lines):\n          line = line.strip()\n          if line.startswith(\'import \') or line.startswith(\'from \'):\n              tokens = line.split()\n              for lib in (\n                  \'ddt\', \'six\', \'webob\', \'fixtures\', \'testtools\'\n                  \'neutron\', \'cinder\', \'ironic\', \'keystone\', \'oslo\',\n              ):\n                  if lib in tokens[1]:\n                      create_first_party_group = True\n                      break\n              if create_first_party_group:\n                  break\n              import_group_found = True\n          if not import_group_found:\n              continue\n          if line.startswith(\'import \') or line.startswith(\'from \'):\n              tokens = line.split()\n              if tokens[1] > \'unittest\':\n                  break\n              elif tokens[1] == \'unittest\' and (\n                  len(tokens) == 2 or tokens[4] > \'mock\'\n              ):\n                  break\n          elif not line:\n              break\n      if create_first_party_group:\n          lines.insert(num, \'from unittest import mock\\n\\n\')\n      else:\n          lines.insert(num, \'from unittest import mock\\n\')\n      del lines[lines.index(\'import mock\\n\')]\n      with open(path, \'w+\') as fh:\n          fh.writelines(lines)\n\nNote that we cannot remove mock from our requirements files yet due to\nimporting pypowervm unit test code in nova unit tests. This library\nstill uses the mock lib, and since we are importing test code and that\nlib (correctly) only declares mock in its test-requirements.txt, mock\nwould not otherwise be installed and would cause errors while loading\nnova unit test code.\n\n[1] https://github.com/testing-cabal/fixtures/pull/49\n\nChange-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",87,714676,89ef050b8c049b9a6f0e2c70408fc93c826c55e0,183,18,16,15334,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib. Most of this
is autogenerated, as described below, but there is one manual change
necessary:

nova/tests/functional/regressions/test_bug_1781286.py
  We need to avoid using 'fixtures.MockPatch' since fixtures is using
  'mock' (the library) under the hood and a call to 'mock.patch.stop'
  found in that test will now ""stop"" mocks from the wrong library. We
  have discussed making this configurable but the option proposed isn't
  that pretty [1] so this is better.

The remainder was auto-generated with the following (hacky) script, with
one or two manual tweaks after the fact:

  import glob

  for path in glob.glob('nova/tests/**/*.py', recursive=True):
      with open(path) as fh:
          lines = fh.readlines()
      if 'import mock\n' not in lines:
          continue
      import_group_found = False
      create_first_party_group = False
      for num, line in enumerate(lines):
          line = line.strip()
          if line.startswith('import ') or line.startswith('from '):
              tokens = line.split()
              for lib in (
                  'ddt', 'six', 'webob', 'fixtures', 'testtools'
                  'neutron', 'cinder', 'ironic', 'keystone', 'oslo',
              ):
                  if lib in tokens[1]:
                      create_first_party_group = True
                      break
              if create_first_party_group:
                  break
              import_group_found = True
          if not import_group_found:
              continue
          if line.startswith('import ') or line.startswith('from '):
              tokens = line.split()
              if tokens[1] > 'unittest':
                  break
              elif tokens[1] == 'unittest' and (
                  len(tokens) == 2 or tokens[4] > 'mock'
              ):
                  break
          elif not line:
              break
      if create_first_party_group:
          lines.insert(num, 'from unittest import mock\n\n')
      else:
          lines.insert(num, 'from unittest import mock\n')
      del lines[lines.index('import mock\n')]
      with open(path, 'w+') as fh:
          fh.writelines(lines)

Note that we cannot remove mock from our requirements files yet due to
importing pypowervm unit test code in nova unit tests. This library
still uses the mock lib, and since we are importing test code and that
lib (correctly) only declares mock in its test-requirements.txt, mock
would not otherwise be installed and would cause errors while loading
nova unit test code.

[1] https://github.com/testing-cabal/fixtures/pull/49

Change-Id: Id5b04cf2f6ca24af8e366d23f15cf0e5cac8e1cc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/714676/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/powervm/tasks/test_storage.py', 'nova/tests/unit/cmd/test_scheduler.py', 'nova/tests/functional/api_sample_tests/test_networks.py', 'nova/tests/functional/db/test_host_mapping.py', 'nova/tests/functional/regressions/test_bug_1849165.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/functional/api_sample_tests/test_server_password.py', 'nova/tests/functional/api_sample_tests/test_evacuate.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py', 'nova/tests/unit/virt/powervm/volume/test_fcvscsi.py', 'nova/tests/unit/api/openstack/compute/test_server_migrations.py', 'nova/tests/unit/virt/libvirt/volume/test_mount.py', 'nova/tests/unit/policies/test_assisted_volume_snapshots.py', 'nova/tests/unit/scheduler/filters/test_aggregate_multitenancy_isolation_filters.py', 'nova/tests/unit/virt/powervm/test_vm.py', 'nova/tests/unit/virt/zvm/test_guest.py', 'nova/tests/unit/objects/test_console_auth_token.py', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/unit/virt/xenapi/image/test_vdi_stream.py', 'nova/tests/unit/virt/hyperv/test_snapshotops.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/virt/xenapi/test_network_utils.py', 'nova/tests/unit/scheduler/filters/test_affinity_filters.py', 'nova/tests/unit/test_hacking.py', 'nova/tests/unit/objects/test_instance_action.py', 'nova/tests/unit/virt/powervm/test_image.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/functional/regressions/test_bug_1554631.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/virt/hyperv/test_migrationops.py', 'nova/tests/unit/virt/libvirt/volume/test_net.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/tests/unit/objects/test_external_event.py', 'nova/tests/unit/api/openstack/test_common.py', 'nova/tests/unit/compute/monitors/test_monitors.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/tests/unit/scheduler/filters/test_num_instances_filters.py', 'nova/tests/unit/virt/libvirt/volume/test_storpool.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/tests/unit/scheduler/test_manager.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/unit/scheduler/filters/test_type_filters.py', 'nova/tests/unit/virt/hyperv/test_serialconsolehandler.py', 'nova/tests/unit/objects/test_instance_mapping.py', 'nova/tests/unit/virt/xenapi/image/test_utils.py', 'nova/tests/unit/virt/test_virt.py', 'nova/tests/unit/pci/test_manager.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/tests/unit/api/openstack/compute/test_hypervisor_status.py', 'nova/tests/functional/db/test_instance_group.py', 'nova/tests/functional/test_boot_from_volume.py', 'nova/tests/unit/virt/test_imagecache.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/policies/test_attach_interfaces.py', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/tests/functional/db/test_compute_api.py', 'nova/tests/unit/objects/test_instance_numa.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/tests/unit/notifications/objects/test_flavor.py', 'nova/tests/unit/objects/test_bandwidth_usage.py', 'nova/tests/unit/compute/test_keypairs.py', 'nova/tests/functional/test_compute_mgr.py', 'nova/tests/unit/objects/test_fields.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/tests/functional/regressions/test_bug_1843090.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/privsep/test_utils.py', 'nova/tests/unit/scheduler/filters/test_core_filters.py', 'nova/tests/unit/virt/hyperv/test_vif.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/virt/xenapi/stubs.py', 'nova/tests/unit/virt/xenapi/test_vif.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py', 'nova/tests/unit/scheduler/filters/test_io_ops_filters.py', 'nova/tests/unit/api/openstack/compute/test_extension_info.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/tests/unit/virt/disk/mount/test_nbd.py', 'nova/tests/unit/virt/libvirt/volume/test_disco.py', 'nova/tests/unit/console/rfb/test_authnone.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/tests/unit/api/openstack/compute/test_multinic.py', 'nova/tests/unit/scheduler/weights/test_weights_affinity.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py', 'nova/tests/unit/cmd/test_nova_api.py', 'nova/tests/unit/virt/xenapi/image/test_glance.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/tests/unit/virt/zvm/test_hypervisor.py', 'nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/virt/hyperv/test_livemigrationops.py', 'nova/tests/unit/test_availability_zones.py', 'nova/tests/unit/virt/hyperv/test_eventhandler.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py', 'nova/tests/unit/test_json_ref.py', 'nova/tests/functional/regressions/test_bug_1862633.py', 'nova/tests/unit/test_policy.py', 'nova/tests/unit/api/openstack/compute/admin_only_action_common.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/tests/unit/virt/hyperv/test_base.py', 'nova/tests/unit/virt/powervm/disk/test_ssp.py', 'nova/tests/unit/api/openstack/compute/test_tenant_networks.py', 'nova/tests/functional/db/test_quota.py', 'nova/tests/unit/api/openstack/compute/test_simple_tenant_usage.py', 'nova/tests/unit/network/test_security_group.py', 'nova/tests/unit/pci/test_request.py', 'nova/tests/unit/api/openstack/compute/test_image_metadata.py', 'nova/tests/unit/notifications/objects/test_service.py', 'nova/tests/unit/test_cache.py', 'nova/tests/unit/objects/test_agent.py', 'nova/tests/unit/virt/xenapi/test_driver.py', 'nova/tests/unit/virt/libvirt/volume/test_drbd.py', 'nova/tests/unit/virt/libvirt/volume/test_nfs.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/scheduler/filters/test_disk_filters.py', 'nova/tests/unit/test_service_auth.py', 'nova/tests/unit/scheduler/filters/test_pci_passthrough_filters.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/tests/unit/virt/libvirt/volume/test_volume.py', 'nova/tests/unit/privsep/test_libvirt.py', 'nova/tests/unit/virt/zvm/test_utils.py', 'nova/tests/unit/test_wsgi.py', 'nova/tests/unit/virt/test_images.py', 'nova/tests/fixtures.py', 'nova/tests/unit/test_quota.py', 'nova/tests/unit/scheduler/client/test_query.py', 'nova/tests/unit/virt/hyperv/test_rdpconsoleops.py', 'nova/tests/unit/virt/hyperv/test_block_device_manager.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/compute/test_compute_xen.py', 'nova/tests/unit/db/test_migrations.py', 'nova/tests/unit/scheduler/filters/test_compute_filters.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_pools.py', 'nova/tests/unit/virt/powervm/tasks/test_network.py', 'nova/tests/unit/virt/powervm/disk/test_driver.py', 'nova/tests/unit/compute/monitors/cpu/test_virt_driver.py', 'nova/tests/unit/cmd/test_baseproxy.py', 'nova/tests/unit/virt/xenapi/test_volume_utils.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'nova/tests/unit/objects/test_build_request.py', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'nova/tests/unit/privsep/test_idmapshift.py', 'nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/api/openstack/compute/test_agents.py', 'nova/tests/unit/cmd/test_status.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'nova/tests/unit/virt/libvirt/volume/test_fibrechannel.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/compute/test_init_host.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/policies/test_flavor_access.py', 'nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/scheduler/test_filters.py', 'nova/tests/unit/privsep/test_qemu.py', 'nova/tests/unit/test_weights.py', 'nova/tests/unit/virt/xenapi/test_vmops.py', 'nova/tests/unit/test_service.py', 'nova/tests/functional/test_report_client.py', 'nova/tests/unit/virt/libvirt/storage/test_lvm.py', 'nova/tests/unit/virt/disk/mount/test_loop.py', 'nova/tests/unit/virt/libvirt/volume/test_aoe.py', 'nova/tests/unit/virt/vmwareapi/test_vif.py', 'nova/tests/unit/objects/test_cell_mapping.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/objects/test_volume_usage.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/tests/unit/objects/test_resource.py', 'nova/tests/unit/test_conf.py', 'nova/tests/unit/api/openstack/compute/test_server_password.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/unit/virt/powervm/test_media.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/tests/unit/virt/hyperv/test_driver.py', 'nova/tests/functional/db/test_instance_mapping.py', 'nova/tests/unit/test_cinder.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/tests/unit/virt/libvirt/fake_imagebackend.py', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py', 'nova/tests/unit/policies/test_agents.py', 'nova/tests/unit/virt/powervm/tasks/test_vm.py', 'nova/tests/unit/virt/libvirt/volume/test_iscsi.py', 'nova/tests/unit/api/openstack/compute/test_images.py', 'nova/tests/unit/virt/xenapi/test_volumeops.py', 'nova/tests/unit/api/openstack/compute/test_lock_server.py', 'nova/tests/unit/api/openstack/compute/test_server_diagnostics.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/tests/unit/objects/test_service.py', 'nova/tests/unit/policies/test_instance_actions.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_quotas.py', 'nova/tests/unit/virt/xenapi/image/test_vdi_through_dev.py', 'nova/tests/functional/notification_sample_tests/test_libvirt.py', 'nova/tests/unit/test_context.py', 'nova/tests/unit/virt/zvm/test_driver.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/virt/powervm/test_mgmt.py', 'nova/tests/unit/policies/test_admin_password.py', 'nova/tests/unit/virt/libvirt/volume/test_smbfs.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/api_sample_tests/test_baremetal_nodes.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/hyperv/test_hostops.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/scheduler/filters/test_aggregate_instance_extra_specs_filters.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/console/rfb/test_auth.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_pause_server.py', 'nova/tests/unit/virt/libvirt/volume/test_vrtshyperscale.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/test_utils.py', 'nova/tests/functional/regressions/test_bug_1845291.py', 'nova/tests/functional/api_sample_tests/test_create_backup.py', 'nova/tests/functional/db/test_virtual_interface.py', 'nova/tests/unit/virt/xenapi/test_vgpu.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/disk/test_api.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/compute/test_virtapi.py', 'nova/tests/unit/api/openstack/compute/test_server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/notifications/test_base.py', 'nova/tests/unit/virt/hyperv/test_serialproxy.py', 'nova/tests/unit/policies/test_volumes.py', 'nova/tests/unit/api/openstack/compute/test_server_topology.py', 'nova/tests/unit/policies/test_console_auth_tokens.py', 'nova/tests/unit/virt/powervm/test_host.py', 'nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/tests/unit/scheduler/test_request_filter.py', 'nova/tests/unit/scheduler/filters/test_availability_zone_filters.py', 'nova/tests/unit/servicegroup/test_db_servicegroup.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/utils.py', 'nova/tests/unit/test_crypto.py', 'nova/tests/unit/virt/hyperv/test_serialconsoleops.py', 'nova/tests/unit/objects/test_host_mapping.py', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/objects/test_task_log.py', 'nova/tests/unit/virt/libvirt/volume/test_remotefs.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py', 'nova/tests/unit/cmd/test_cmd_db_blocks.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/virt/xenapi/test_agent.py', 'nova/tests/unit/conductor/tasks/test_base.py', 'nova/tests/unit/api/openstack/compute/test_console_auth_tokens.py', 'nova/tests/unit/api/openstack/compute/test_server_start_stop.py', 'nova/tests/unit/api/openstack/compute/test_extended_hypervisors.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/test_osinfo.py', 'nova/tests/unit/objects/test_tag.py', 'nova/tests/unit/virt/powervm/test_vif.py', 'nova/tests/functional/test_server_faults.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/unit/api/openstack/compute/test_snapshots.py', 'nova/tests/unit/objects/test_virtual_interface.py', 'nova/tests/unit/policies/test_create_backup.py', 'nova/tests/unit/privsep/test_linux_net.py', 'nova/tests/unit/api/openstack/compute/test_baremetal_nodes.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/api_sample_tests/test_migrate_server.py', 'nova/tests/unit/objects/test_trusted_certs.py', 'nova/tests/unit/api/openstack/compute/test_server_group_quotas.py', 'nova/tests/unit/cmd/test_policy.py', 'nova/tests/unit/api/openstack/compute/test_server_tags.py', 'nova/tests/unit/policies/test_admin_actions.py', 'nova/tests/unit/policies/test_aggregates.py', 'nova/tests/unit/objects/test_keypair.py', 'nova/tests/unit/pci/fakes.py', 'nova/tests/unit/privsep/test_fs.py', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py', 'nova/tests/unit/scheduler/filters/test_ram_filters.py', 'nova/tests/unit/pci/test_utils.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/functional/test_cold_migrate.py', 'nova/tests/unit/policies/test_console_output.py', 'nova/tests/unit/test_exception.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/privsep/test_path.py', 'nova/tests/unit/pci/test_devspec.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/unit/scheduler/filters/test_aggregate_image_properties_isolation_filters.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/tests/functional/regressions/test_bug_1830747.py', 'nova/tests/unit/objects/test_instance_device_metadata.py', 'nova/tests/unit/notifications/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_suspend_server.py', 'nova/tests/unit/virt/powervm/tasks/test_image.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/api_sample_tests/test_compare_result.py', 'nova/tests/unit/scheduler/test_rpcapi.py', 'nova/tests/unit/test_test.py', 'nova/tests/unit/api/openstack/compute/test_server_external_events.py', 'nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/test_rpc.py', 'nova/tests/unit/test_identity.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/unit/objects/test_ec2.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/tests/unit/api/openstack/test_wsgi.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/cmd/test_common.py', 'nova/tests/unit/policies/test_services.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/unit/policies/test_availability_zone.py', 'nova/tests/unit/virt/disk/vfs/test_localfs.py', 'nova/tests/unit/api/openstack/compute/test_admin_password.py', 'nova/tests/unit/api/openstack/compute/test_console_output.py', 'nova/tests/unit/api/openstack/compute/test_flavors_extra_specs.py', 'nova/tests/unit/api/openstack/test_faults.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/tests/unit/servicegroup/test_api.py', 'nova/tests/unit/objects/test_aggregate.py', 'nova/tests/unit/test_notifier.py', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py', 'nova/tests/unit/api/openstack/compute/test_keypairs.py', 'nova/tests/unit/compute/test_instance_list.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/virt/powervm/disk/test_localdisk.py', 'nova/tests/unit/policies/test_evacuate.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/tests/unit/virt/libvirt/volume/test_hgst.py', 'nova/tests/unit/objects/test_instance_fault.py', 'nova/tests/functional/regressions/test_bug_1831771.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'nova/tests/unit/objects/test_instance_info_cache.py', 'nova/tests/unit/test_configdrive2.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/console/test_serial.py', 'nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/tests/unit/servicegroup/test_mc_servicegroup.py', 'nova/tests/unit/api/openstack/test_requestlog.py', 'nova/tests/unit/policies/test_deferred_delete.py', 'nova/tests/unit/api/test_auth.py', 'nova/tests/unit/virt/hyperv/test_pathutils.py', 'nova/tests/unit/api/openstack/compute/test_attach_interfaces.py', 'nova/tests/unit/virt/libvirt/storage/test_dmcrypt.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/libvirt/volume/test_fs.py', 'nova/tests/unit/compute/test_multi_cell_list.py', 'nova/tests/unit/console/rfb/test_authvencrypt.py', 'nova/tests/unit/console/securityproxy/test_rfb.py', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/tests/unit/virt/vmwareapi/test_network_util.py', 'nova/tests/unit/virt/hyperv/test_imagecache.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/api/openstack/compute/test_server_reset_state.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/virt/libvirt/volume/test_quobyte.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py']",387,adab37061f870abc8c70150800006f307678e541,unittest.mock,from unittest import mock,import mock,387,387
openstack%2Ftripleo-ansible~master~I97c4fa8684d7298a6a1a60bfda61e7746c51b660,openstack/tripleo-ansible,master,I97c4fa8684d7298a6a1a60bfda61e7746c51b660,Remove unnecessary designate worker conditional,MERGED,2022-07-26 11:28:38.000000000,2022-08-01 19:05:10.000000000,2022-08-01 19:05:10.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-07-26 11:28:38.000000000', 'files': ['tripleo_ansible/roles/designate_rndc_config/templates/rndc.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b7fee3e1db48f505dea010e4284066017eb9d93f', 'message': 'Remove unnecessary designate worker conditional\n\nThe designate worker network should now always be defined removing the\nneed for the if/elifs.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/850943\nChange-Id: I97c4fa8684d7298a6a1a60bfda61e7746c51b660\n'}]",0,851018,b7fee3e1db48f505dea010e4284066017eb9d93f,9,5,1,6681,,,0,"Remove unnecessary designate worker conditional

The designate worker network should now always be defined removing the
need for the if/elifs.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/850943
Change-Id: I97c4fa8684d7298a6a1a60bfda61e7746c51b660
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/851018/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/designate_rndc_config/templates/rndc.conf.j2'],1,b7fee3e1db48f505dea010e4284066017eb9d93f,,,{% if designate_worker_network is defined %}{% elif 'internal_api_ip' in hostvars[inventory_hostname] %} {% set designate_worker_source_address = hostvars[inventory_hostname]['internal_api_ip'] %} {% else %} {% set designate_worker_source_address = hostvars[inventory_hostname]['ctlplane_ip'] %} {% endif %},1,6
openstack%2Fpython-manilaclient~master~I288661b4294561a1a52411a0cb0fdfd1f82021ed,openstack/python-manilaclient,master,I288661b4294561a1a52411a0cb0fdfd1f82021ed,[OSC] Implement Share Migration show and add argument to Share Set Command,MERGED,2022-06-02 16:13:31.000000000,2022-08-01 18:56:50.000000000,2022-08-01 18:54:51.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2022-06-02 16:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/076ff8a886bcfc6fc6b6c4bcad74c70a829fff62', 'message': ""[OSC] Implement Share Migration show and task-state Command\n\nThis commit adds 'openstack share migration show' and\n'openstack share migration task-state' command, that implement the\nsame functionality as 'manila migration-get-progress'and manila\nreset-task-state command.\n\nChange-Id: I288661b4294561a1a52411a0cb0fdfd1f82021ed\n""}, {'number': 2, 'created': '2022-06-02 16:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/582ee72a4ae9cd5eba32149ea2d16fcbe6fb659e', 'message': ""[OSC] Implement Share Migration show and task-state Command\n\nThis commit adds 'openstack share migration show' and\n'openstack share migration task-state' command, that implement the\nsame functionality as 'manila migration-get-progress'and manila\nreset-task-state command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I288661b4294561a1a52411a0cb0fdfd1f82021ed\n""}, {'number': 3, 'created': '2022-06-05 05:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ea116f61ccc937d990ed3e419a72cdc85841a94a', 'message': ""[OSC] Implement Share Migration show and add task-state argument to Share Set Command\n\nThis commit adds 'openstack share migration show' and\nadd argument '--task-state' to 'openstack share set' command,\nthat implement the same functionality as 'manila migration-get-progress'and manila\nreset-task-state command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I288661b4294561a1a52411a0cb0fdfd1f82021ed\n""}, {'number': 4, 'created': '2022-06-29 08:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f0dbed3431aa6637bd3de17e798638976bab2b0b', 'message': ""[OSC] Implement Share Migration show and add task-state argument to Share Set Command\n\nThis commit adds 'openstack share migration show' and\nadd argument '--task-state' to 'openstack share set' command,\nthat implement the same functionality as 'manila migration-get-progress'and manila\nreset-task-state command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I288661b4294561a1a52411a0cb0fdfd1f82021ed\n""}, {'number': 5, 'created': '2022-07-01 14:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/24348c7ecb9157d10e6a9865a468b033078a4e7c', 'message': ""[OSC] Implement Share Migration show and add task-state argument to Share Set Command\n\nThis commit adds 'openstack share migration show' and\nadd argument '--task-state' to 'openstack share set' command,\nthat implement the same functionality as 'manila migration-get-progress'and manila\nreset-task-state command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I288661b4294561a1a52411a0cb0fdfd1f82021ed\n""}, {'number': 6, 'created': '2022-07-28 17:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3ebed8895e16104081ce85a0402ef474df1bd4d1', 'message': ""[OSC] Implement Share Migration show and add task-state argument to\nShare Set Command\n\nThis commit adds 'openstack share migration show' and\nadd argument '--task-state' to 'openstack share set' command,\nthat implement the same functionality as 'manila migration-get-progress'and manila\nreset-task-state command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I288661b4294561a1a52411a0cb0fdfd1f82021ed\n""}, {'number': 7, 'created': '2022-07-28 17:19:42.000000000', 'files': ['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'doc/source/cli/osc/v2/index.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8fedd08b278fd012c42b718a0bed502e5551dde0', 'message': ""[OSC] Implement Share Migration show and add argument to Share Set Command\n\nThis commit adds 'openstack share migration show' and\nadd argument '--task-state' to 'openstack share set' command,\nthat implement the same functionality as 'manila migration-get-progress'and manila\nreset-task-state command.\n\nPartially-implements: bp openstack-client-support\nChange-Id: I288661b4294561a1a52411a0cb0fdfd1f82021ed\n""}]",13,844497,8fedd08b278fd012c42b718a0bed502e5551dde0,22,4,7,21785,,,0,"[OSC] Implement Share Migration show and add argument to Share Set Command

This commit adds 'openstack share migration show' and
add argument '--task-state' to 'openstack share set' command,
that implement the same functionality as 'manila migration-get-progress'and manila
reset-task-state command.

Partially-implements: bp openstack-client-support
Change-Id: I288661b4294561a1a52411a0cb0fdfd1f82021ed
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/97/844497/3 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'doc/source/cli/osc/v2/index.rst', 'setup.cfg']",4,076ff8a886bcfc6fc6b6c4bcad74c70a829fff62,bp/openstack-client-support, share_migration_show = manilaclient.osc.v2.share:ShareMigrationShow share_migration_task-state = manilaclient.osc.v2.share:ShareMigrationTaskState,,151,4
openstack%2Fglance~master~I2b5aa82788024cc6c92dccc839682a92d9b26ac5,openstack/glance,master,I2b5aa82788024cc6c92dccc839682a92d9b26ac5,Deport 'show_multiple_locations' and enable RBAC,ABANDONED,2017-03-10 23:41:40.000000000,2022-08-01 18:35:49.000000000,,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5314}, {'_account_id': 8158}, {'_account_id': 12807}, {'_account_id': 21722}]","[{'number': 1, 'created': '2017-03-10 23:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1ba73e56831cc60c2ae02b39ef7084ce60764298', 'message': ""[WIP] Deport 'show_multiple_locations ectomy'\n\nThe configuration option ``show_multiple_locations`` has been deprecated\nsince Newton in favor of the existing Role Based Access Control (RBAC)\nfor Image locations which uses ``policy.json`` file to define the\nappropriate rules.\n\nThis patch work removes ``show_multiple_locations`` from code base.\nThe following policies have been made 'admin' only with respect to\nthis:\n1. delete_image_location\n2. get_image_location\n3. set_image_location\n\nGlance v2 api will now proceed with policy checks while serving image\nlocation related requests.\n\nChange-Id: I2b5aa82788024cc6c92dccc839682a92d9b26ac5\n""}, {'number': 2, 'created': '2017-03-11 21:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f768991a87093dc8cfb33fbacdffeb29b449f818', 'message': ""[WIP] Deport 'show_multiple_locations'\n\nThe configuration option ``show_multiple_locations`` has been deprecated\nsince Newton in favor of the existing Role Based Access Control (RBAC)\nfor Image locations which uses ``policy.json`` file to define the\nappropriate rules.\n\nThis patch work removes ``show_multiple_locations`` from code base.\nGlance v2 api will now proceed with policy checks while serving image\nlocation related requests.\n\nChange-Id: I2b5aa82788024cc6c92dccc839682a92d9b26ac5\n""}, {'number': 3, 'created': '2017-03-13 22:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/caa7ff2bb8197f8a257325290f8433b2ac1fff65', 'message': ""Deport 'show_multiple_locations' and enable RBAC\n\nThe configuration option ``show_multiple_locations`` has been deprecated\nsince Newton in favor of the existing Role Based Access Control (RBAC)\nfor Image locations which uses ``policy.json`` file to define the\nappropriate rules.\n\nThis patch work removes ``show_multiple_locations`` from code base.\nGlance v2 api will now proceed with policy checks while serving image\nlocation related requests.\n\nChange-Id: I2b5aa82788024cc6c92dccc839682a92d9b26ac5\n""}, {'number': 4, 'created': '2017-03-15 00:09:39.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/api/v2/images.py', 'glance/common/config.py', 'glance/tests/unit/v1/test_api.py', 'glance/tests/functional/__init__.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/etc/policy.json', 'etc/policy.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/1e5e5800e9b8f3d8dca5e7222f5cc844fe364c7c', 'message': ""Deport 'show_multiple_locations' and enable RBAC\n\nThe configuration option ``show_multiple_locations`` has been deprecated\nsince Newton in favor of the existing Role Based Access Control (RBAC)\nfor Image locations which uses ``policy.json`` file to define the\nappropriate rules.\n\nThis patch work removes ``show_multiple_locations`` from code base.\nGlance v2 api will now proceed with policy checks while serving image\nlocation related requests.\n\nChange-Id: I2b5aa82788024cc6c92dccc839682a92d9b26ac5\n""}]",25,444540,1e5e5800e9b8f3d8dca5e7222f5cc844fe364c7c,17,6,4,21722,,,0,"Deport 'show_multiple_locations' and enable RBAC

The configuration option ``show_multiple_locations`` has been deprecated
since Newton in favor of the existing Role Based Access Control (RBAC)
for Image locations which uses ``policy.json`` file to define the
appropriate rules.

This patch work removes ``show_multiple_locations`` from code base.
Glance v2 api will now proceed with policy checks while serving image
location related requests.

Change-Id: I2b5aa82788024cc6c92dccc839682a92d9b26ac5
",git fetch https://review.opendev.org/openstack/glance refs/changes/40/444540/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/common/config.py', 'glance/tests/unit/v1/test_api.py', 'glance/tests/unit/v2/test_images_resource.py', 'etc/policy.json']",5,1ba73e56831cc60c2ae02b39ef7084ce60764298,remove-deprecated-opts-pike," ""delete_image_location"": ""role:admin"", ""get_image_location"": ""role:admin"", ""set_image_location"": ""role:admin"","," ""delete_image_location"": """", ""get_image_location"": """", ""set_image_location"": """",",127,168
openstack%2Fironic~master~Ic7adb755f47ea65fe975dfbc7cca905a376d728e,openstack/ironic,master,Ic7adb755f47ea65fe975dfbc7cca905a376d728e,Add audit middleware options to ironic.conf,MERGED,2022-07-07 15:47:26.000000000,2022-08-01 18:31:57.000000000,2022-08-01 18:30:32.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-07 15:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/60d1d0d7784fe6e5a609785f86f1300df49fc4cf', 'message': 'Add audit middleware options to ironic.conf\n\nIronic supports enabling the audit middleware. This change adds\nthe option for the middleware to the ironic.conf file generated by\noslo-config-generator.\n\nChange-Id: Ic7adb755f47ea65fe975dfbc7cca905a376d728e\n'}, {'number': 2, 'created': '2022-07-07 15:51:07.000000000', 'files': ['requirements.txt', 'tools/config/ironic-config-generator.conf'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f0935c182e3ef98e21b00a3da5f7af3aa22c2034', 'message': 'Add audit middleware options to ironic.conf\n\nIronic supports enabling the audit middleware. This change adds\nthe option for the middleware to the ironic.conf file generated by\noslo-config-generator.\n\nDepends-on: https://review.opendev.org/804316\nChange-Id: Ic7adb755f47ea65fe975dfbc7cca905a376d728e\n'}]",0,848978,f0935c182e3ef98e21b00a3da5f7af3aa22c2034,15,4,2,9816,,,0,"Add audit middleware options to ironic.conf

Ironic supports enabling the audit middleware. This change adds
the option for the middleware to the ironic.conf file generated by
oslo-config-generator.

Depends-on: https://review.opendev.org/804316
Change-Id: Ic7adb755f47ea65fe975dfbc7cca905a376d728e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/848978/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tools/config/ironic-config-generator.conf']",2,60d1d0d7784fe6e5a609785f86f1300df49fc4cf,audit-opts,namespace = keystonemiddleware.audit,,2,1
openstack%2Fneutron-specs~master~I220e655bf8a9b8185f8d50a1662d6136de30506e,openstack/neutron-specs,master,I220e655bf8a9b8185f8d50a1662d6136de30506e,FWaaS Group Ordering Spec,ABANDONED,2022-08-01 17:14:09.000000000,2022-08-01 18:11:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-01 17:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ce278006b1f8d62498db1ae9746e1ba4f4e677cd', 'message': ""Add 'Data Model Impact' and 'REST API Impact' sections\n\nChange-Id: I220e655bf8a9b8185f8d50a1662d6136de30506e\n""}, {'number': 2, 'created': '2022-08-01 18:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9cb4fa7ffce968deaa71a968feb5807002e3e1ff', 'message': ""FWaaS Group Ordering Spec\n\nChange-Id: I9a2a6d59d6c446f42189f90bb8c79223d8874670\n\nAdd 'Data Model Impact' and 'REST API Impact' sections\n\nChange-Id: I220e655bf8a9b8185f8d50a1662d6136de30506e\n""}, {'number': 3, 'created': '2022-08-01 18:06:42.000000000', 'files': ['specs/zed/fwaas-group-ordering.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/aa02c927ca8c114c2c0b8b9e15c22bc10e9be4ad', 'message': ""FWaaS Group Ordering Spec\n\nChange-Id: I9a2a6d59d6c446f42189f90bb8c79223d8874670\n\nAdd 'Data Model Impact' and 'REST API Impact' sections\n\nChange-Id: I220e655bf8a9b8185f8d50a1662d6136de30506e\n""}]",0,851762,aa02c927ca8c114c2c0b8b9e15c22bc10e9be4ad,7,1,3,33525,,,0,"FWaaS Group Ordering Spec

Change-Id: I9a2a6d59d6c446f42189f90bb8c79223d8874670

Add 'Data Model Impact' and 'REST API Impact' sections

Change-Id: I220e655bf8a9b8185f8d50a1662d6136de30506e
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/62/851762/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/fwaas-group-ordering.rst'],1,ce278006b1f8d62498db1ae9746e1ba4f4e677cd,FWaaS,"In iptables, this is typically referred to as `HEAD` and `TAIL` rules. All `HEAD` groups should be applied first, in order. All `TAIL` groups should be applied last,openstack administrators should have access to the `HEAD` and `TAIL` tiers.| da4be831-907b-43d9-86e0-b14a3bd391fc | efb7d60e-d3fc-4f97-91ed-ca71d930bb7c | 1 | HEAD || 0814e179-d2be-464a-a9d4-e13c94451532 | efb7d60e-d3fc-4f97-91ed-ca71d930bb7c | 2 | HEAD || 70a7087e-c6ae-4cef-9b30-35e702746b68 | efb7d60e-d3fc-4f97-91ed-ca71d930bb7c | 1 | TAIL || ff1e5eda-c285-4ec2-80f8-49f1a6d77347 | efb7d60e-d3fc-4f97-91ed-ca71d930bb7c | 2 | TAIL |`Position` should auto-increment if the `position` keyword is not specified. If the `position` keyword is specified, and that number is available, that number is used. If the number is already used, the existing groups are shifted downward from that point, and the new group is applied in its place. For example, if positions 1-5 are in use, and position 2 is added, the table would be updated as follows: ``` 1 --> 1 2 --> New Group (2) 2 --> 3 3 --> 4 4 --> 5 5 --> 6 ``` REST API Impact =============== `PUT` and `POST` types for `/v2.0/fw/address_groups` will be updated to support the addition of `position` and `tier.` 1. Response bodies should include the new fields. .. code-block:: python # Create (POST) { ""firewall_rule"": { ""ports"":[ ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"" ], ""name"": ""FW_GROUP_1"", ""position"": 2, ""tier"": ""HEAD"" } } # Update (PUT) { ""firewall_rule"": { ""ports"":[ ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"" ], ""name"": ""FW_GROUP_1"", ""position"": 3, ""tier"": ""TAIL"" } } 2. `GET` requests for both list and show methods should include the new values in their responses. .. code-block:: python # List/Show (GET) Response { ""firewall_groups"": [ { ""description"": """", ""ingress_firewall_policy_id"": null, ""egress_firewall_policy_id"": null, ""id"": ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"", ""name"": ""FW_GROUP_1"", ""project_id"": ""45977fa2dbd7482098dd68d0d8970117"", ""ports"":[ ""8722e0e0-9cc9-4490-9660-8c9a5732fbb0"" ], ""position"": 3, ""tier"": ""TAIL"" } ] } Data Model Impact ================= `position` and `tier` are to be added to the `firewall_group_port_associations_v2` table. Existing entries should be assigned consecutive `position` numbers starting at 1, and the default `tier` value of `null.` **Firewall Group Port associations** +--------------------------------------+------------------------------------------------------------+ | Attribute | Type | Req | CRUD | Description | +--------------------------------------+------------------------------------------------------------+ | position | integer | Y | CRU | Position at which this firewall group is evaluated | +--------------------------------------+--------------------------------------+----------+----------+ | tier | String | Y | CRU | Tier at which this firewall group exists (HEAD, TAIL, null)| | | | | | Default: null | +---------------------------------------------------------------------------------------------------+ https://specs.openstack.org/openstack/neutron-specs/specs/newton/fwaas-api-2.0.html","In iptables, this is typically referred to as `Head` and `Tail` rules. All `Head` groups should be applied first, in order. All `Tail` groups should be applied last,openstack administrators should have access to the `Head` and `Tail` tiers.| da4be831-907b-43d9-86e0-b14a3bd391fc | efb7d60e-d3fc-4f97-91ed-ca71d930bb7c | 1 | head || 0814e179-d2be-464a-a9d4-e13c94451532 | efb7d60e-d3fc-4f97-91ed-ca71d930bb7c | 2 | head || 70a7087e-c6ae-4cef-9b30-35e702746b68 | efb7d60e-d3fc-4f97-91ed-ca71d930bb7c | 1 | tail || ff1e5eda-c285-4ec2-80f8-49f1a6d77347 | efb7d60e-d3fc-4f97-91ed-ca71d930bb7c | 2 | tail |",99,7
openstack%2Ftripleo-quickstart-extras~master~Iab4776bb71e37bacae77e678484b2a1f308573db,openstack/tripleo-quickstart-extras,master,Iab4776bb71e37bacae77e678484b2a1f308573db,Remove podman_version fact and conditional from undercloud-deploy,MERGED,2022-07-28 15:49:42.000000000,2022-08-01 17:43:32.000000000,2022-08-01 17:43:32.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-07-28 15:49:42.000000000', 'files': ['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/undercloud-deploy/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b1685977ef47cc0d3f59e92ce2df1402b11e273c', 'message': 'Remove podman_version fact and conditional from undercloud-deploy\n\nThis was added in [1] but no longer needed. The fact is not consumed\nanywhere else [2], the branches mentioned are EOL and podman is now\non v3.0 in train e.g. [3].\n\nThe conditional is causing problems for the mixed os job in [4]\nbecause we include_tasks and not the whole undercloud-deploy role to\nregenerate the containers prepare file.\n\n[1] https://opendev.org/openstack/tripleo-quickstart-extras/commit/9d31d8996cb8a92bf9b30e90096c4222c1ca0779\n[2] https://codesearch.opendev.org/?q=podman_version\n[3] https://logserver.rdoproject.org/openstack-periodic-integration-stable4/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-centos-8-containers-multinode-train/5dc578c/logs/undercloud/var/log/extra/package-list-installed.txt.gz\n[4] https://logserver.rdoproject.org/34/44234/1/check/periodic-tripleo-ci-centos-8-9-multinode-mixed-os/2892353/job-output.txt\n\nChange-Id: Iab4776bb71e37bacae77e678484b2a1f308573db\n'}]",4,851427,b1685977ef47cc0d3f59e92ce2df1402b11e273c,19,4,1,8449,,,0,"Remove podman_version fact and conditional from undercloud-deploy

This was added in [1] but no longer needed. The fact is not consumed
anywhere else [2], the branches mentioned are EOL and podman is now
on v3.0 in train e.g. [3].

The conditional is causing problems for the mixed os job in [4]
because we include_tasks and not the whole undercloud-deploy role to
regenerate the containers prepare file.

[1] https://opendev.org/openstack/tripleo-quickstart-extras/commit/9d31d8996cb8a92bf9b30e90096c4222c1ca0779
[2] https://codesearch.opendev.org/?q=podman_version
[3] https://logserver.rdoproject.org/openstack-periodic-integration-stable4/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-centos-8-containers-multinode-train/5dc578c/logs/undercloud/var/log/extra/package-list-installed.txt.gz
[4] https://logserver.rdoproject.org/34/44234/1/check/periodic-tripleo-ci-centos-8-9-multinode-mixed-os/2892353/job-output.txt

Change-Id: Iab4776bb71e37bacae77e678484b2a1f308573db
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/27/851427/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/undercloud-deploy/tasks/main.yml']",2,b1685977ef47cc0d3f59e92ce2df1402b11e273c,oooci_mixed_rhel,,"- name: Run podman --version command: podman --version ignore_errors: true register: podman_ver tags: - undercloud-install changed_when: false - name: Set fact for podman version set_fact: podman_version: >- {%- if podman_ver is success -%} {{ podman_ver.stdout | replace(""podman version "", """") }} {%- else -%}0.0 {%- endif -%} tags: - undercloud-install ",0,22
openstack%2Fswift~master~I124c1957264c80d28a6b3e852d042cbc8468939c,openstack/swift,master,I124c1957264c80d28a6b3e852d042cbc8468939c,py310: Fix formatdate() call,MERGED,2022-07-26 00:26:07.000000000,2022-08-01 17:21:41.000000000,2022-08-01 17:20:40.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2022-07-26 00:26:07.000000000', 'files': ['test/functional/s3api/test_object.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bc3625142cccd1af00ef0394e3abba1db6764acc', 'message': ""py310: Fix formatdate() call\n\nPreviously, this would trip TypeErrors on py310:\n\n    TypeError: 'S3Timestamp' object cannot be interpreted as an integer\n\nChange-Id: I124c1957264c80d28a6b3e852d042cbc8468939c\n""}]",5,850958,bc3625142cccd1af00ef0394e3abba1db6764acc,12,3,1,15343,,,0,"py310: Fix formatdate() call

Previously, this would trip TypeErrors on py310:

    TypeError: 'S3Timestamp' object cannot be interpreted as an integer

Change-Id: I124c1957264c80d28a6b3e852d042cbc8468939c
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/850958/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/s3api/test_object.py'],1,bc3625142cccd1af00ef0394e3abba1db6764acc,," # Make sure there's no fractions of a second self.assertEqual(int(listing_datetime), float(listing_datetime)) header_datetime = formatdate(int(listing_datetime)) headers = {'If-Unmodified-Since': header_datetime} headers = {'If-Modified-Since': header_datetime}", headers = \ {'If-Unmodified-Since': formatdate(listing_datetime)} headers = \ {'If-Modified-Since': formatdate(listing_datetime)},6,4
openstack%2Fpython-manilaclient~master~I621a02166af0956a610c8306859d60a056789c3c,openstack/python-manilaclient,master,I621a02166af0956a610c8306859d60a056789c3c,[OSC] Fix typos in help messages for security services command,MERGED,2022-08-01 13:07:19.000000000,2022-08-01 17:00:45.000000000,2022-08-01 16:59:40.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 13:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7d8bda092b379de1d1deea81ae184e9cb7cc18d8', 'message': ""[OSC] Fix typos in help messages for security services commands\n\nFix typos in help messages for the 'share security service create'\ncommand.\n\nChange-Id: I621a02166af0956a610c8306859d60a056789c3c\n""}, {'number': 2, 'created': '2022-08-01 13:08:41.000000000', 'files': ['manilaclient/osc/v2/security_services.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/51154c443fbc89165976a64f9dd185c134f85765', 'message': ""[OSC] Fix typos in help messages for security services command\n\nFix typos in help messages for the 'share security service create'\ncommand.\n\nChange-Id: I621a02166af0956a610c8306859d60a056789c3c\n""}]",1,851740,51154c443fbc89165976a64f9dd185c134f85765,8,2,2,31213,,,0,"[OSC] Fix typos in help messages for security services command

Fix typos in help messages for the 'share security service create'
command.

Change-Id: I621a02166af0956a610c8306859d60a056789c3c
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/40/851740/2 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/osc/v2/security_services.py'],1,7d8bda092b379de1d1deea81ae184e9cb7cc18d8,bp/openstack-client-support," help=_(""Security service type. Possible options are: "" help=_(""DNS IP address of the security service used "" ""inside project's network."")"," help=_(""Security service type. Possible options are:"" help=_(""DNS IP address used inside project's network."")",3,2
openstack%2Fpuppet-horizon~master~Iea01d1c5202890110c33341cedee4b5bc1ba324c,openstack/puppet-horizon,master,Iea01d1c5202890110c33341cedee4b5bc1ba324c,Accept array for cache_server_url,MERGED,2022-07-30 15:09:28.000000000,2022-08-01 16:55:01.000000000,2022-08-01 16:55:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-30 15:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/42929d7b79d9c302dfd2b2bfa7f4e5697ba61e9e', 'message': 'Accept array for cache_server_url\n\n... so that we can specify multiple backend servers.\n\nChange-Id: Iea01d1c5202890110c33341cedee4b5bc1ba324c\n'}, {'number': 2, 'created': '2022-07-31 05:11:19.000000000', 'files': ['templates/local_settings.py.erb', 'spec/classes/horizon_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/8b268d75cea23667ae5bf666cfa35c7ee606bea7', 'message': 'Accept array for cache_server_url\n\n... so that we can specify multiple backend servers.\n\nChange-Id: Iea01d1c5202890110c33341cedee4b5bc1ba324c\n'}]",0,851667,8b268d75cea23667ae5bf666cfa35c7ee606bea7,9,3,2,9816,,,0,"Accept array for cache_server_url

... so that we can specify multiple backend servers.

Change-Id: Iea01d1c5202890110c33341cedee4b5bc1ba324c
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/67/851667/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,42929d7b79d9c302dfd2b2bfa7f4e5697ba61e9e,," <%- if @cache_server_url.kind_of?(Array) -%> 'LOCATION': ['<%= @cache_server_url.join(""','"") %>'], <%- else -%> <%- end -%>",,4,0
openstack%2Fnova~stable%2Fyoga~I444991584118a969e9ea04d352821b07ec0ba88d,openstack/nova,stable/yoga,I444991584118a969e9ea04d352821b07ec0ba88d,libvirt: Add a workaround to skip compareCPU() on destination,MERGED,2022-06-08 16:44:08.000000000,2022-08-01 16:54:29.000000000,2022-08-01 16:53:05.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-08 16:44:08.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/skip-compare-cpu-on-dest-6ae419ddd61fd0f8.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/277f88e3872ea41bce02d09c4537946a74d74533', 'message': ""libvirt: Add a workaround to skip compareCPU() on destination\n\nNova's use of libvirt's compareCPU() API served its purpose\nover the years, but its design limitations break live migration in\nsubtle ways.  For example, the compareCPU() API compares against the\nhost physical CPUID.  Some of the features from this CPUID aren not\nexposed by KVM, and then there are some features that KVM emulates that\nare not in the host CPUID.  The latter can cause bogus live migration\nfailures.\n\nWith QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in\nterms of CPU compatibility checks on the destination host during live\nmigration.  Nova satisfies these minimum version requirements by a good\nmargin.  So, provide a workaround to skip the CPU comparison check on\nthe destination host before migrating a guest, and let libvirt handle it\ncorrectly.  This workaround will be removed once Nova replaces the older\nlibvirt APIs with their newer and improved counterparts[1][2].\n\n                - - -\n\nNote that Nova's libvirt driver calls compareCPU() in another method,\n_check_cpu_compatibility(); I did not remove its usage yet.  As it needs\nmore careful combing of the code, and then:\n\n  - where possible, remove the usage of compareCPU() altogether, and\n    rely on libvirt doing the right thing under the hood; or\n\n  - where Nova _must_ do the CPU comparison checks, switch to the better\n    libvirt CPU APIs -- baselineHypervisorCPU() and\n    compareHypervisorCPU() -- that are described here[1].  This is work\n    in progress[2].\n\n[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27\n[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration\n\nChange-Id: I444991584118a969e9ea04d352821b07ec0ba88d\nCloses-Bug: #1913716\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nSigned-off-by: Balazs Gibizer <bgibizer@redhat.com>\n(cherry picked from commit 267a40663cd8d0b94bbc5ebda4ece55a45753b64)\n""}]",3,845045,277f88e3872ea41bce02d09c4537946a74d74533,20,4,1,32553,,,0,"libvirt: Add a workaround to skip compareCPU() on destination

Nova's use of libvirt's compareCPU() API served its purpose
over the years, but its design limitations break live migration in
subtle ways.  For example, the compareCPU() API compares against the
host physical CPUID.  Some of the features from this CPUID aren not
exposed by KVM, and then there are some features that KVM emulates that
are not in the host CPUID.  The latter can cause bogus live migration
failures.

With QEMU >=2.9 and libvirt >= 4.4.0, libvirt will do the right thing in
terms of CPU compatibility checks on the destination host during live
migration.  Nova satisfies these minimum version requirements by a good
margin.  So, provide a workaround to skip the CPU comparison check on
the destination host before migrating a guest, and let libvirt handle it
correctly.  This workaround will be removed once Nova replaces the older
libvirt APIs with their newer and improved counterparts[1][2].

                - - -

Note that Nova's libvirt driver calls compareCPU() in another method,
_check_cpu_compatibility(); I did not remove its usage yet.  As it needs
more careful combing of the code, and then:

  - where possible, remove the usage of compareCPU() altogether, and
    rely on libvirt doing the right thing under the hood; or

  - where Nova _must_ do the CPU comparison checks, switch to the better
    libvirt CPU APIs -- baselineHypervisorCPU() and
    compareHypervisorCPU() -- that are described here[1].  This is work
    in progress[2].

[1] https://opendev.org/openstack/nova-specs/commit/70811da221035044e27
[2] https://review.opendev.org/q/topic:bp%252Fcpu-selection-with-hypervisor-consideration

Change-Id: I444991584118a969e9ea04d352821b07ec0ba88d
Closes-Bug: #1913716
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Signed-off-by: Balazs Gibizer <bgibizer@redhat.com>
(cherry picked from commit 267a40663cd8d0b94bbc5ebda4ece55a45753b64)
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/845045/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/skip-compare-cpu-on-dest-6ae419ddd61fd0f8.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,277f88e3872ea41bce02d09c4537946a74d74533,skip_compareCPU_on_dest," def test_check_can_live_migrate_guest_cpu_none_model_skip_compare( self, mock_cpu, mock_test_file): self.flags(group='workarounds', skip_cpu_compare_on_dest=True) instance_ref = objects.Instance(**self.test_instance) instance_ref.vcpu_model = test_vcpu_model.fake_vcpumodel instance_ref.vcpu_model.model = None drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) compute_info = {'cpu_info': 'asdf', 'disk_available_least': 1} drvr.check_can_live_migrate_destination( self.context, instance_ref, compute_info, compute_info) mock_cpu.assert_not_called() @mock.patch( 'nova.network.neutron.API.has_port_binding_extension', new=mock.Mock(return_value=False)) @mock.patch.object(libvirt_driver.LibvirtDriver, '_create_shared_storage_test_file', return_value='fake') @mock.patch.object(libvirt_driver.LibvirtDriver, '_compare_cpu')",,61,9
openstack%2Fdevstack~master~I05f5dae37104ee4d174ee7cdbec3d9d30a0824d9,openstack/devstack,master,I05f5dae37104ee4d174ee7cdbec3d9d30a0824d9,Configure cinder to use custom auth_strategy,NEW,2017-05-11 09:59:47.000000000,2022-08-01 16:50:07.000000000,,"[{'_account_id': 1653}, {'_account_id': 6593}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 16376}, {'_account_id': 18781}, {'_account_id': 20813}]","[{'number': 1, 'created': '2017-05-11 09:59:47.000000000', 'files': ['lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/09441f800eceac45d7781dbf968bd62829f8bdee', 'message': ""Configure cinder to use custom auth_strategy\n\nCinder is always configured to use keystone as it's auth_strategy.\nSince cinder also can support noauth this should be configurable\nnow.\n\nChange-Id: I05f5dae37104ee4d174ee7cdbec3d9d30a0824d9\nCloses-Bug: #1690104\n""}]",4,463960,09441f800eceac45d7781dbf968bd62829f8bdee,20,8,1,18781,,,0,"Configure cinder to use custom auth_strategy

Cinder is always configured to use keystone as it's auth_strategy.
Since cinder also can support noauth this should be configurable
now.

Change-Id: I05f5dae37104ee4d174ee7cdbec3d9d30a0824d9
Closes-Bug: #1690104
",git fetch https://review.opendev.org/openstack/devstack refs/changes/60/463960/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,09441f800eceac45d7781dbf968bd62829f8bdee,bug/1690104,CINDER_AUTH_STRATEGY=${CINDER_AUTH_STRATEGY:-keystone} iniset $CINDER_CONF DEFAULT auth_strategy $CINDER_AUTH_STRATEGY, iniset $CINDER_CONF DEFAULT auth_strategy keystone,2,1
openstack%2Fsushy~master~Id070b2e9916ca3102d708d23dc1594df27523e93,openstack/sushy,master,Id070b2e9916ca3102d708d23dc1594df27523e93,Handle mismatch between registry Identity and the way it's referred to,MERGED,2022-07-28 12:03:15.000000000,2022-08-01 16:30:50.000000000,2022-08-01 16:29:48.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-28 12:03:15.000000000', 'files': ['sushy/tests/unit/resources/system/test_bios.py', 'sushy/resources/system/bios.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/f804e954963446984a57c35d010011449669f67e', 'message': 'Handle mismatch between registry Identity and the way it\'s referred to\n\nSeen on some SuperMicro hardware: the Identity is\nBiosAttributeRegistry.1_0_0, but it\'s referred to as\nBiosAttributeRegistry.v1_0_0 (note the ""v"").\n\nIn my opinion, it\'s a firmware issue, but it\'s easy to work around.\n\nChange-Id: Id070b2e9916ca3102d708d23dc1594df27523e93\n'}]",1,851392,f804e954963446984a57c35d010011449669f67e,13,3,1,10239,,,0,"Handle mismatch between registry Identity and the way it's referred to

Seen on some SuperMicro hardware: the Identity is
BiosAttributeRegistry.1_0_0, but it's referred to as
BiosAttributeRegistry.v1_0_0 (note the ""v"").

In my opinion, it's a firmware issue, but it's easy to work around.

Change-Id: Id070b2e9916ca3102d708d23dc1594df27523e93
",git fetch https://review.opendev.org/openstack/sushy refs/changes/92/851392/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/resources/system/test_bios.py', 'sushy/resources/system/bios.py']",2,f804e954963446984a57c35d010011449669f67e,reg-name," if (registry and self._attribute_registry in (key, registry.identity)):", if registry and self._attribute_registry == registry.identity:,12,3
openstack%2Frequestsexceptions~stable%2Fpike~I8a6becf1fdd4a31fce0dec3800655816b8d17042,openstack/requestsexceptions,stable/pike,I8a6becf1fdd4a31fce0dec3800655816b8d17042,Update .gitreview for stable/pike,ABANDONED,2017-07-28 21:08:36.000000000,2022-08-01 16:28:28.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-07-28 21:08:36.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/requestsexceptions/commit/c3edaaf0d4aab96bc3a09012b6ea6988fbde60fa', 'message': 'Update .gitreview for stable/pike\n\nChange-Id: I8a6becf1fdd4a31fce0dec3800655816b8d17042\n'}]",0,488828,c3edaaf0d4aab96bc3a09012b6ea6988fbde60fa,3,1,1,22816,,,0,"Update .gitreview for stable/pike

Change-Id: I8a6becf1fdd4a31fce0dec3800655816b8d17042
",git fetch https://review.opendev.org/openstack/requestsexceptions refs/changes/28/488828/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c3edaaf0d4aab96bc3a09012b6ea6988fbde60fa,create-pike,defaultbranch=stable/pike,,1,0
openstack%2Fzun~stable%2Fpike~If987b7034c98eeee3c69f65d9e0b047d26ec0dc4,openstack/zun,stable/pike,If987b7034c98eeee3c69f65d9e0b047d26ec0dc4,Add installation guide for Zun,ABANDONED,2018-11-19 23:31:26.000000000,2022-08-01 16:19:12.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-11-19 23:31:26.000000000', 'files': ['doc/source/install/index.rst', 'doc/source/install/launch-container.rst', 'doc/source/install/overview.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/verify.rst', 'doc/source/install/controller-install.rst', 'doc/source/install/next-steps.rst', 'doc/source/install/get_started.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/compute-install.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/4210a053a259079fda71bd089b4de29e809b6ec1', 'message': 'Add installation guide for Zun\n\nDepends-On: Id4f234068600564fa18e73aba08f6e43893456ee\nImplements: blueprint zun-installation-guide\nChange-Id: If987b7034c98eeee3c69f65d9e0b047d26ec0dc4\n(cherry picked from commit 3c462b9dd14e712edec745f7f161d824ad7f6934)\n'}]",0,618908,4210a053a259079fda71bd089b4de29e809b6ec1,5,3,1,11536,,,0,"Add installation guide for Zun

Depends-On: Id4f234068600564fa18e73aba08f6e43893456ee
Implements: blueprint zun-installation-guide
Change-Id: If987b7034c98eeee3c69f65d9e0b047d26ec0dc4
(cherry picked from commit 3c462b9dd14e712edec745f7f161d824ad7f6934)
",git fetch https://review.opendev.org/openstack/zun refs/changes/08/618908/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index.rst', 'doc/source/install/launch-container.rst', 'doc/source/install/overview.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/verify.rst', 'doc/source/install/controller-install.rst', 'doc/source/install/next-steps.rst', 'doc/source/install/get_started.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/compute-install.rst']",10,4210a053a259079fda71bd089b4de29e809b6ec1,bp/zun-installation-guide-stable/pike,"Install and configure a compute node ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This section describes how to install and configure the Compute service on a compute node. .. note:: This section assumes that you are following the instructions in this guide step-by-step to configure the first compute node. If you want to configure additional compute nodes, prepare them in a similar fashion. Each additional compute node requires a unique IP address. .. toctree:: :glob: compute-install-ubuntu.rst ",,751,2
openstack%2Fpython-troveclient~stable%2Fpike~I8aa738c3522ac0265311af2f1719a0e91fc69ef8,openstack/python-troveclient,stable/pike,I8aa738c3522ac0265311af2f1719a0e91fc69ef8,Updated from global requirements,ABANDONED,2017-09-21 01:07:11.000000000,2022-08-01 16:18:41.000000000,,"[{'_account_id': 6873}, {'_account_id': 9664}, {'_account_id': 13562}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-21 01:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/9e64f1fdd70377cec5ca6f7fdf76f148a8425828', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 2, 'created': '2017-09-27 14:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/a48ce94dec6be135d1b327c375c96c85a86b52dd', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 3, 'created': '2017-09-27 14:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/76de77e6190bb83a56c40060d9abc3599eed40c6', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 4, 'created': '2017-09-27 14:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/56f29cc091c2d9f98e0177d87c658d57edd855a8', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 5, 'created': '2017-09-27 15:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/afa4476b4f1871838707cbe4fe669ff8ac6479eb', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 6, 'created': '2017-09-27 15:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/012c7b318bfdf8708c0ee1c12cf4414f760c0fa6', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 7, 'created': '2017-09-27 17:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/bc61f938ae68a8ccdc7c4de4142dcdd021f85ab4', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 8, 'created': '2017-09-28 06:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/757d484bc6b0351abd87dc5fd7bc897bf053d106', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 9, 'created': '2017-09-28 06:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/e98652e28e13f28cee2a3e689d5b26e4c13ba8c5', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 10, 'created': '2017-10-04 22:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/eafb70c482bf78eb90f67c6de6baa6b8be1d3572', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 11, 'created': '2017-10-04 23:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/b828270f4215cb20fdc4bc82be8bc0179098376e', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 12, 'created': '2017-10-05 05:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/4b2b804522b0c9348c87ea3ca486db324d83ee4e', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 13, 'created': '2017-10-05 06:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/b882b6c21e72a0cec165e91cae415a8368cb6290', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 14, 'created': '2017-10-10 20:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/05f4f06ca79e8013a8d71fcfb190b7089103a11e', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 15, 'created': '2017-10-11 00:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/53af3adfa863206d2e66c62355ae36300370ac77', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 16, 'created': '2017-10-11 00:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/f995b1230fadb8283dd3461c22cc8c206e0238d2', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 17, 'created': '2017-10-11 00:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/4d7747fa81b2dc5c9ea370f182e4736cbbc1d743', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 18, 'created': '2017-10-27 13:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/1b0f181186d89788879acbbb50bc2472026aa236', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 19, 'created': '2017-10-27 22:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/eb654bec46fd8f6612b5ec6540d7ce3be62502b8', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 20, 'created': '2017-11-02 04:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/807f480594a3b6e2d3fe2c5f20e2781ab8f6df7d', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 21, 'created': '2017-11-06 03:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/12ef06b2b12055e3312ff4a7d9adb0176adb2661', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 22, 'created': '2017-11-06 03:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/6b96a16f53d698fe76adf4998487595232c34e81', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 23, 'created': '2017-11-06 03:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/6e5df401db0e97f109cd173a8e8cb6c9205fda30', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 24, 'created': '2017-11-06 03:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/b651648cd1ae7e62c5232a9f0eb9b50c622a2e28', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 25, 'created': '2017-11-06 04:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/f3c95753d886ade623d076c196ad12f4ed86a57f', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 26, 'created': '2017-11-14 21:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/2007886efd6a338d7a2f98a05dccd16e7b2d2eec', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}, {'number': 27, 'created': '2017-11-15 01:53:03.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/970aaf8fd6ab4685e88dc1402fbde2c5c28d9b8f', 'message': 'Updated from global requirements\n\nChange-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8\n'}]",0,505886,970aaf8fd6ab4685e88dc1402fbde2c5c28d9b8f,58,4,27,11131,,,0,"Updated from global requirements

Change-Id: I8aa738c3522ac0265311af2f1719a0e91fc69ef8
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/86/505886/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9e64f1fdd70377cec5ca6f7fdf76f148a8425828,openstack/requirements,python-openstackclient>=3.11.0 # Apache-2.0,"python-openstackclient!=3.10.0,>=3.3.0 # Apache-2.0",1,1
openstack%2Fpython-troveclient~stable%2Fpike~I94c688967bfc8c1665b47c8403621865c88ddcd7,openstack/python-troveclient,stable/pike,I94c688967bfc8c1665b47c8403621865c88ddcd7,Update UPPER_CONSTRAINTS_FILE for stable/pike,ABANDONED,2017-07-28 21:08:20.000000000,2022-08-01 16:18:12.000000000,,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 6873}, {'_account_id': 9664}, {'_account_id': 13157}, {'_account_id': 13562}, {'_account_id': 22608}, {'_account_id': 22694}, {'_account_id': 22818}, {'_account_id': 24739}, {'_account_id': 24791}, {'_account_id': 25113}, {'_account_id': 26895}, {'_account_id': 28646}, {'_account_id': 28695}]","[{'number': 1, 'created': '2017-07-28 21:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/2f73ff5399ff782b570ede16d8729a23ed8f10b1', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/pike\n\nChange-Id: I94c688967bfc8c1665b47c8403621865c88ddcd7\n'}, {'number': 2, 'created': '2018-08-29 12:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/c352043ff812bc17b4b2a69faa93a13f1947770b', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/pike\n\nChange-Id: I94c688967bfc8c1665b47c8403621865c88ddcd7\n'}, {'number': 3, 'created': '2018-08-29 12:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/1574133986b695e1d951a178474e2a69705ecc26', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/pike\n\nChange-Id: I94c688967bfc8c1665b47c8403621865c88ddcd7\n'}, {'number': 4, 'created': '2018-08-30 14:34:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/d5a57576d85e0a1508dab6c6e4ff43bc4d0a352a', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/pike\n\nChange-Id: I94c688967bfc8c1665b47c8403621865c88ddcd7\n'}]",0,488819,d5a57576d85e0a1508dab6c6e4ff43bc4d0a352a,17,15,4,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/pike

Change-Id: I94c688967bfc8c1665b47c8403621865c88ddcd7
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/19/488819/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2f73ff5399ff782b570ede16d8729a23ed8f10b1,create-pike, {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} \, {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} \,1,1
openstack%2Fpython-troveclient~stable%2Fpike~I02270bb3424fb7ce52eef5b88e1f0c353192cf52,openstack/python-troveclient,stable/pike,I02270bb3424fb7ce52eef5b88e1f0c353192cf52,Update .gitreview for stable/pike,ABANDONED,2017-07-28 21:08:20.000000000,2022-08-01 16:18:01.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9664}, {'_account_id': 13157}, {'_account_id': 13562}, {'_account_id': 16237}, {'_account_id': 22348}, {'_account_id': 22818}, {'_account_id': 24739}]","[{'number': 1, 'created': '2017-07-28 21:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/191936b21056b231a53e2ad65ef27b4366af79b6', 'message': 'Update .gitreview for stable/pike\n\nChange-Id: I02270bb3424fb7ce52eef5b88e1f0c353192cf52\n'}, {'number': 2, 'created': '2018-08-29 12:52:01.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/7fe99340bbbdfb34f76722ed7d8689b476ede568', 'message': 'Update .gitreview for stable/pike\n\nDepends-On: https://review.openstack.org/#/c/488819/\nChange-Id: I02270bb3424fb7ce52eef5b88e1f0c353192cf52\n'}]",0,488818,7fe99340bbbdfb34f76722ed7d8689b476ede568,26,9,2,22816,,,0,"Update .gitreview for stable/pike

Depends-On: https://review.openstack.org/#/c/488819/
Change-Id: I02270bb3424fb7ce52eef5b88e1f0c353192cf52
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/18/488818/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,191936b21056b231a53e2ad65ef27b4366af79b6,create-pike,defaultbranch=stable/pike,,1,0
openstack%2Fceilometer~stable%2Fpike~I2398247270217759c876ab5a9b60038dad79a9d3,openstack/ceilometer,stable/pike,I2398247270217759c876ab5a9b60038dad79a9d3,use hashmap to quickly find matching resource def,ABANDONED,2018-12-12 15:54:51.000000000,2022-08-01 16:16:46.000000000,,"[{'_account_id': 6537}, {'_account_id': 7488}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 29360}]","[{'number': 1, 'created': '2018-12-12 15:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e0f6bff719edb888da4981ad3950dfc7a169d33e', 'message': ""use hashmap to quickly find matching resource def\n\nwe shouldn't waste our time looping through resources and searching\nmetrics to find a match. just build hashmap and find the resource\nbased on metric.\n\nthis removes fnmatch functionality because we don't match on\nwildcards and the code itself actually requires metric names to be\nexplicit to create_metrics\n\nChange-Id: I2398247270217759c876ab5a9b60038dad79a9d3\n(cherry picked from commit 8099a9491cba2f018d85cda9f296d7bf3d475fb2)\n""}, {'number': 2, 'created': '2018-12-13 02:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4c95ac43172418afad1a215b017c9e0bb8a8fb54', 'message': ""use hashmap to quickly find matching resource def\n\nwe shouldn't waste our time looping through resources and searching\nmetrics to find a match. just build hashmap and find the resource\nbased on metric.\n\nthis removes fnmatch functionality because we don't match on\nwildcards and the code itself actually requires metric names to be\nexplicit to create_metrics\n\nChange-Id: I2398247270217759c876ab5a9b60038dad79a9d3\n(cherry picked from commit 8099a9491cba2f018d85cda9f296d7bf3d475fb2)\n""}, {'number': 3, 'created': '2018-12-13 06:27:29.000000000', 'files': ['ceilometer/tests/unit/dispatcher/test_gnocchi.py', 'ceilometer/dispatcher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c2362ded3465b3943c1296488546ed59d247e6de', 'message': ""use hashmap to quickly find matching resource def\n\nwe shouldn't waste our time looping through resources and searching\nmetrics to find a match. just build hashmap and find the resource\nbased on metric.\n\nthis removes fnmatch functionality because we don't match on\nwildcards and the code itself actually requires metric names to be\nexplicit to create_metrics\n\nChange-Id: I2398247270217759c876ab5a9b60038dad79a9d3\n(cherry picked from commit 8099a9491cba2f018d85cda9f296d7bf3d475fb2)\n""}]",0,624746,c2362ded3465b3943c1296488546ed59d247e6de,22,6,3,7488,,,0,"use hashmap to quickly find matching resource def

we shouldn't waste our time looping through resources and searching
metrics to find a match. just build hashmap and find the resource
based on metric.

this removes fnmatch functionality because we don't match on
wildcards and the code itself actually requires metric names to be
explicit to create_metrics

Change-Id: I2398247270217759c876ab5a9b60038dad79a9d3
(cherry picked from commit 8099a9491cba2f018d85cda9f296d7bf3d475fb2)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/46/624746/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/unit/dispatcher/test_gnocchi.py', 'ceilometer/dispatcher/gnocchi.py']",2,e0f6bff719edb888da4981ad3950dfc7a169d33e,," self.metric_map = dict((metric, rd) for rd in self.resources_definition for metric in rd.metrics) try: return (self.metric_map[sample.name].cfg['resource_type'] == 'swift_account') except KeyError: return False rd = self.metric_map.get(metric_name)"," def metric_match(self, metric_name): for t in self.cfg['metrics']: if fnmatch.fnmatch(metric_name, t): return True return False return bool([rd for rd in self.resources_definition if rd.cfg['resource_type'] == 'swift_account' and rd.metric_match(sample['counter_name'])]) def _get_resource_definition_from_metric(self, metric_name): for rd in self.resources_definition: if rd.metric_match(metric_name): return rd rd = self._get_resource_definition_from_metric(metric_name)",15,16
openstack%2Fceilometer~stable%2Fpike~Ia0d4b2c3d46764315b02e7fb2ade17a73a46f4b7,openstack/ceilometer,stable/pike,Ia0d4b2c3d46764315b02e7fb2ade17a73a46f4b7,[stable-only] Add confluent-kafka to test-requirements,ABANDONED,2020-05-30 11:35:22.000000000,2022-08-01 16:15:24.000000000,,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-05-30 11:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8769996ecaa014c44cbb172ff5116150e3acd097', 'message': ""[stable-only] Add confluent-kafka to test-requirements\n\nAs confluent-kafka 1.4.2 was released, which is based on librdkafka\nv1.4.2, which drops python 2 support, the py27 tox job started to\nfail with the following error:\n\n[..]/confluent_kafka/cimpl.so: undefined symbol: PyUnicodeUCS2_FromObject\n\nconfluent-kafka is pulled in by an extra with oslo.messaging. In\noslo.messaging's setup.cfg kafka is lower constrained only [1].\noslo.messaging uses global upper-constraints.txt which constrain\nconfluent-kafka to version 0.11.6.\n\nCeilometer however does not use global upper-constraints.txt, so when\ninstalling oslo.message[kafka] it pulls in latest confluent-kafka.\n\nTo avoid failure of py27 tox target, this patch introduces explicit\nrequirement of confluent-kafka, with an upper constraint for python 2.\n\nNOTE(elod.illes): this patch is only needed in Stein and older stable\nbranches, as from Train ceilometer uses global upper-constraints.txt.\n\nConflicts:\n    test-requirements.txt\n\n[1] https://opendev.org/openstack/oslo.messaging/src/branch/stable/stein/setup.cfg#L28\n\nChange-Id: Ia0d4b2c3d46764315b02e7fb2ade17a73a46f4b7\n(cherry picked from commit 41428813d89c000c1d05718e4fb73cea6f02c88c)\n(cherry picked from commit 93baa22645d5ba64fa8b1d44cc97525437312256)\n(cherry picked from commit c5baae119598b7a626c1419f2485fc3f014362db)\n""}, {'number': 2, 'created': '2020-06-08 03:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8a83b9c4667b47a1c088ed5913b0ef0f98c09421', 'message': ""[stable-only] Add confluent-kafka to test-requirements\n\nAs confluent-kafka 1.4.2 was released, which is based on librdkafka\nv1.4.2, which drops python 2 support, the py27 tox job started to\nfail with the following error:\n\n[..]/confluent_kafka/cimpl.so: undefined symbol: PyUnicodeUCS2_FromObject\n\nconfluent-kafka is pulled in by an extra with oslo.messaging. In\noslo.messaging's setup.cfg kafka is lower constrained only [1].\noslo.messaging uses global upper-constraints.txt which constrain\nconfluent-kafka to version 0.11.6.\n\nCeilometer however does not use global upper-constraints.txt, so when\ninstalling oslo.message[kafka] it pulls in latest confluent-kafka.\n\nTo avoid failure of py27 tox target, this patch introduces explicit\nrequirement of confluent-kafka, with an upper constraint for python 2.\n\nNOTE(elod.illes): this patch is only needed in Stein and older stable\nbranches, as from Train ceilometer uses global upper-constraints.txt.\n\nConflicts:\n    test-requirements.txt\n\n[1] https://opendev.org/openstack/oslo.messaging/src/branch/stable/stein/setup.cfg#L28\n\nChange-Id: Ia0d4b2c3d46764315b02e7fb2ade17a73a46f4b7\n(cherry picked from commit 41428813d89c000c1d05718e4fb73cea6f02c88c)\n(cherry picked from commit 93baa22645d5ba64fa8b1d44cc97525437312256)\n(cherry picked from commit c5baae119598b7a626c1419f2485fc3f014362db)\n""}, {'number': 3, 'created': '2020-06-08 08:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a39b6d67f82e47e4ed4dbbefe519d70736b994eb', 'message': ""[stable-only] Add confluent-kafka to test-requirements\n\nAs confluent-kafka 1.4.2 was released, which is based on librdkafka\nv1.4.2, which drops python 2 support, the py27 tox job started to\nfail with the following error:\n\n[..]/confluent_kafka/cimpl.so: undefined symbol: PyUnicodeUCS2_FromObject\n\nconfluent-kafka is pulled in by an extra with oslo.messaging. In\noslo.messaging's setup.cfg kafka is lower constrained only [1].\noslo.messaging uses global upper-constraints.txt which constrain\nconfluent-kafka to version 0.11.6.\n\nCeilometer however does not use global upper-constraints.txt, so when\ninstalling oslo.message[kafka] it pulls in latest confluent-kafka.\n\nTo avoid failure of py27 tox target, this patch introduces explicit\nrequirement of confluent-kafka, with an upper constraint for python 2.\n\nNOTE(elod.illes): this patch is only needed in Stein and older stable\nbranches, as from Train ceilometer uses global upper-constraints.txt.\n\nConflicts:\n    test-requirements.txt\n\n[1] https://opendev.org/openstack/oslo.messaging/src/branch/stable/stein/setup.cfg#L28\n\nChange-Id: Ia0d4b2c3d46764315b02e7fb2ade17a73a46f4b7\n(cherry picked from commit 41428813d89c000c1d05718e4fb73cea6f02c88c)\n(cherry picked from commit 93baa22645d5ba64fa8b1d44cc97525437312256)\n(cherry picked from commit c5baae119598b7a626c1419f2485fc3f014362db)\n""}, {'number': 4, 'created': '2020-07-27 16:56:54.000000000', 'files': ['test-requirements.txt', 'ceilometer/storage/sqlalchemy/utils.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1edc056fe2468c4019fedaff00fe8612f2ac2ed5', 'message': ""[stable-only] Add confluent-kafka to test-requirements\n\nAs confluent-kafka 1.4.2 was released, which is based on librdkafka\nv1.4.2, which drops python 2 support, the py27 tox job started to\nfail with the following error:\n\n[..]/confluent_kafka/cimpl.so: undefined symbol: PyUnicodeUCS2_FromObject\n\nconfluent-kafka is pulled in by an extra with oslo.messaging. In\noslo.messaging's setup.cfg kafka is lower constrained only [1].\noslo.messaging uses global upper-constraints.txt which constrain\nconfluent-kafka to version 0.11.6.\n\nCeilometer however does not use global upper-constraints.txt, so when\ninstalling oslo.message[kafka] it pulls in latest confluent-kafka.\n\nTo avoid failure of py27 tox target, this patch introduces explicit\nrequirement of confluent-kafka, with an upper constraint for python 2.\n\nNOTE(elod.illes): this patch is only needed in Stein and older stable\nbranches, as from Train ceilometer uses global upper-constraints.txt.\nAlso additional changes needed:\n- soupsieve is somehow not constrained in py27-<extra> jobs\n- a code part that is protected with six.PY2 is giving error with pep8\n  however it is only a problem with python 3, so a noqa is added\n\nConflicts:\n    test-requirements.txt\n\n[1] https://opendev.org/openstack/oslo.messaging/src/branch/stable/stein/setup.cfg#L28\n\nChange-Id: Ia0d4b2c3d46764315b02e7fb2ade17a73a46f4b7\n(cherry picked from commit 41428813d89c000c1d05718e4fb73cea6f02c88c)\n(cherry picked from commit 93baa22645d5ba64fa8b1d44cc97525437312256)\n(cherry picked from commit c5baae119598b7a626c1419f2485fc3f014362db)\n""}]",0,731939,1edc056fe2468c4019fedaff00fe8612f2ac2ed5,20,5,4,17685,,,0,"[stable-only] Add confluent-kafka to test-requirements

As confluent-kafka 1.4.2 was released, which is based on librdkafka
v1.4.2, which drops python 2 support, the py27 tox job started to
fail with the following error:

[..]/confluent_kafka/cimpl.so: undefined symbol: PyUnicodeUCS2_FromObject

confluent-kafka is pulled in by an extra with oslo.messaging. In
oslo.messaging's setup.cfg kafka is lower constrained only [1].
oslo.messaging uses global upper-constraints.txt which constrain
confluent-kafka to version 0.11.6.

Ceilometer however does not use global upper-constraints.txt, so when
installing oslo.message[kafka] it pulls in latest confluent-kafka.

To avoid failure of py27 tox target, this patch introduces explicit
requirement of confluent-kafka, with an upper constraint for python 2.

NOTE(elod.illes): this patch is only needed in Stein and older stable
branches, as from Train ceilometer uses global upper-constraints.txt.
Also additional changes needed:
- soupsieve is somehow not constrained in py27-<extra> jobs
- a code part that is protected with six.PY2 is giving error with pep8
  however it is only a problem with python 3, so a noqa is added

Conflicts:
    test-requirements.txt

[1] https://opendev.org/openstack/oslo.messaging/src/branch/stable/stein/setup.cfg#L28

Change-Id: Ia0d4b2c3d46764315b02e7fb2ade17a73a46f4b7
(cherry picked from commit 41428813d89c000c1d05718e4fb73cea6f02c88c)
(cherry picked from commit 93baa22645d5ba64fa8b1d44cc97525437312256)
(cherry picked from commit c5baae119598b7a626c1419f2485fc3f014362db)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/39/731939/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8769996ecaa014c44cbb172ff5116150e3acd097,fix-ceilometer-gate,"confluent-kafka>=0.11.6,<1.4.2; python_version<'3.0' # Apache-2.0 confluent-kafka>=0.11.6; python_version>='3.0' # Apache-2.0",,2,0
openstack%2Foslo.service~stable%2Fpike~Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e,openstack/oslo.service,stable/pike,Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e,[StableOnly] Reset eventlet hub after patching,ABANDONED,2020-11-02 07:52:26.000000000,2022-08-01 16:14:14.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-02 07:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/9bf4355daf6397a2c35d411121e31f8c6dfd42bf', 'message': ""Reset eventlet hub after patching\n\nPatching the eventlet hub by setting the environment variable will not be\neffective if hub singleton was already set by some imported module.\nCalling `use_hub()` will reset it's value based on the current overrides.\n\nChange-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e\nCloses-Bug: #1897877\n""}, {'number': 2, 'created': '2020-11-02 10:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/49e5b84f24aa0219fc11434b109b95520cf66f5b', 'message': ""Reset eventlet hub after patching\n\nPatching the eventlet hub by setting the environment variable will not be\neffective if hub singleton was already set by some imported module.\nCalling `use_hub()` will reset it's value based on the current overrides.\n\nChange-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e\nCloses-Bug: #1897877\nDepends-On: https://review.opendev.org/755245\nDepends-On: https://review.opendev.org/760773\nDepends-On: https://review.opendev.org/760774\nDepends-On: https://review.opendev.org/760775\nDepends-On: https://review.opendev.org/760777\nDepends-On: https://review.opendev.org/760778\nDepends-On: https://review.opendev.org/760779\n(cherry picked from commit 338fd2c3f114f35f5cee07027d3322e70ba8ecf6)\n(cherry picked from commit 041c6f0ad655c2315e688ede4213ea41a9fdcae0)\n(cherry picked from commit 55157381f1d1bfb80b5213527721cec5a21c8049)\n(cherry picked from commit 4eef912a33e4939566aeaf6740731c04ea8924cb)\n(cherry picked from commit d2c84624e3a1b276096d9ccaa985ab60ad23763a)\n(cherry picked from commit aa1400cb61bd4b8ea698e16358e372fb2109ca17)\n(cherry picked from commit 6e312615fb39f2519615c5ecbce030024706f437)\n""}, {'number': 3, 'created': '2022-04-05 09:55:27.000000000', 'files': ['oslo_service/__init__.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/8df443fa747e7dd9f795fcb5413fd3db4ae3f3b8', 'message': ""[StableOnly] Reset eventlet hub after patching\n\nPatching the eventlet hub by setting the environment variable will not be\neffective if hub singleton was already set by some imported module.\nCalling `use_hub()` will reset it's value based on the current overrides.\n\nChange-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e\nCloses-Bug: #1897877\n(cherry picked from commit 7f75fc1d4e7116b954db8924374e39c9fa8d9f6e)\n(cherry picked from commit 5b35903e145a0a1b8c64b7f4ba71fa98ea1d935b)\n(cherry picked from commit f22fe54a9e6c7e719f58eefefc0a44b9e3575eb4)\n(cherry picked from commit 288e5164d9ec239f47e4c6dafd27e9172ee9aa47)\n(cherry picked from commit 780fa35a684f205ad9237a851da2bf7c57fdceef)\n(cherry picked from commit 43d13d20b4bcf93d659cfabab425b1735c75fc46)\n""}]",0,760780,8df443fa747e7dd9f795fcb5413fd3db4ae3f3b8,11,2,3,20312,,,0,"[StableOnly] Reset eventlet hub after patching

Patching the eventlet hub by setting the environment variable will not be
effective if hub singleton was already set by some imported module.
Calling `use_hub()` will reset it's value based on the current overrides.

Change-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e
Closes-Bug: #1897877
(cherry picked from commit 7f75fc1d4e7116b954db8924374e39c9fa8d9f6e)
(cherry picked from commit 5b35903e145a0a1b8c64b7f4ba71fa98ea1d935b)
(cherry picked from commit f22fe54a9e6c7e719f58eefefc0a44b9e3575eb4)
(cherry picked from commit 288e5164d9ec239f47e4c6dafd27e9172ee9aa47)
(cherry picked from commit 780fa35a684f205ad9237a851da2bf7c57fdceef)
(cherry picked from commit 43d13d20b4bcf93d659cfabab425b1735c75fc46)
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/80/760780/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_service/__init__.py'],1,9bf4355daf6397a2c35d411121e31f8c6dfd42bf,bug/1897877,# reset hub in case it was initialized already by some imported module eventlet.hubs.use_hub(os.environ['EVENTLET_HUB']),,2,0
openstack%2Fceilometer~stable%2Fpike~I5fe0364553ccb0904f6fb8cb2aae84a20abdd998,openstack/ceilometer,stable/pike,I5fe0364553ccb0904f6fb8cb2aae84a20abdd998,Remove jobs corresponds to obselete featuresets,ABANDONED,2021-09-14 12:45:44.000000000,2022-08-01 16:13:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-14 12:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ba17d84fd519e37ec99c2f6d30c990c3a174a4e7', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\nChange-Id: I5fe0364553ccb0904f6fb8cb2aae84a20abdd998\n'}, {'number': 2, 'created': '2021-09-14 12:47:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e73a03cb1f004ad671800e28340b99ef61206752', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\nChange-Id: I5fe0364553ccb0904f6fb8cb2aae84a20abdd998\n'}]",0,808857,e73a03cb1f004ad671800e28340b99ef61206752,7,1,2,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts

Change-Id: I5fe0364553ccb0904f6fb8cb2aae84a20abdd998
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/57/808857/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ba17d84fd519e37ec99c2f6d30c990c3a174a4e7,cleanup_featuresets_from_old_branches-stable/stein-stable/queens-stable/pike,"<<<<<<< HEAD (4a82ac Merge ""[stable-only] Fix sphinx requirement"" into stable/pik)======= gate: queue: telemetry jobs: - grenade-dsvm-ceilometer: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - telemetry-dsvm-integration >>>>>>> CHANGE (a12034 Remove jobs corresponds to obselete featuresets)",,11,0
openstack%2Fpanko~stable%2Fpike~I959ca9795e753051e03be1f9000e50b13517ee72,openstack/panko,stable/pike,I959ca9795e753051e03be1f9000e50b13517ee72,Remove jobs corresponds to obselete featuresets,ABANDONED,2021-09-17 09:44:22.000000000,2022-08-01 16:12:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-17 09:44:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/panko/commit/c3a02e7dbb76e925ed04d1deaece8e556e426c20', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this project is no longer maintained.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I959ca9795e753051e03be1f9000e50b13517ee72\n'}]",0,809559,c3a02e7dbb76e925ed04d1deaece8e556e426c20,5,1,1,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts.
And this project is no longer maintained.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I959ca9795e753051e03be1f9000e50b13517ee72
",git fetch https://review.opendev.org/openstack/panko refs/changes/59/809559/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c3a02e7dbb76e925ed04d1deaece8e556e426c20,remove-c7-tripleo-jobs-stable/stein-stable/rocky-stable/queens-stable/pike,," # TripleO jobs that deploy Telemetry. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-scenario001-multinode-oooq: voting: false - tripleo-ci-centos-7-scenario001-multinode-oooq-container: voting: false - tripleo-ci-centos-7-scenario002-multinode-oooq: voting: false - tripleo-ci-centos-7-scenario002-multinode-oooq-container: voting: false",0,16
openstack%2Fzaqar~stable%2Fpike~Id434fc1f2b7746d9d25991d38a7dc0a8d4f64986,openstack/zaqar,stable/pike,Id434fc1f2b7746d9d25991d38a7dc0a8d4f64986,Remove jobs corresponds to obselete featuresets,ABANDONED,2021-09-17 12:37:29.000000000,2022-08-01 16:12:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-17 12:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/7a965151193029427b2bb84be5ac0f3d7aac19c0', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Id434fc1f2b7746d9d25991d38a7dc0a8d4f64986\n'}, {'number': 2, 'created': '2021-09-17 12:38:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/a4f79d191b089087bf12c7fc364e55883b40c1b0', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Id434fc1f2b7746d9d25991d38a7dc0a8d4f64986\n'}]",0,809653,a4f79d191b089087bf12c7fc364e55883b40c1b0,5,1,2,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Id434fc1f2b7746d9d25991d38a7dc0a8d4f64986
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/53/809653/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7a965151193029427b2bb84be5ac0f3d7aac19c0,remove-c7-jobs-stable/queens-stable/pike,<<<<<<< HEAD (251e17 Import legacy-rally-dsvm-zaqar-zaqar)======= - zaqar-tox-integration - zaqar-tempest-redis - zaqar-tempest-swift - zaqar-tempest-mongodb - zaqar-grenade-mongodb - zaqar-grenade-redis - zaqar-grenade-swift # Heat job that deploy Zaqar - heat-functional-convg-mysql-lbaasv2 >>>>>>> CHANGE (054de6 Remove jobs corresponds to obselete featuresets)<<<<<<< HEAD (251e17 Import legacy-rally-dsvm-zaqar-zaqar)======= - zaqar-tox-integration - zaqar-tempest-mongodb - zaqar-tempest-redis - zaqar-tempest-swift - heat-functional-convg-mysql-lbaasv2 >>>>>>> CHANGE (054de6 Remove jobs corresponds to obselete featuresets),,20,0
openstack%2Foslo.messaging~stable%2Fpike~Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6,openstack/oslo.messaging,stable/pike,Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6,Use default exchange for direct messaging,ABANDONED,2020-05-15 09:24:03.000000000,2022-08-01 16:11:28.000000000,,"[{'_account_id': 1916}, {'_account_id': 22348}, {'_account_id': 22595}]","[{'number': 1, 'created': '2020-05-15 09:24:03.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2a971972e46533a9c3af26bde1c85d8dacf36ad5', 'message': 'Use default exchange for direct messaging\n\nLots of exchanges create problems during failover under high\nload. Please see bug report for details.\n\nThis is step 1 in the process: only using default exchange\nwhen publishing. Consumers will still consume on separate\nexchanges (and on default exchange by default) so this\nshould be (and tested to be) a non-breaking and\nupgrade-friendly change.\n\nStep 2 is to update consumers to only listen on default exchange,\nto happen in T release.\n\nChange-Id: Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6\nCloses-Bug: #1789177\n(cherry picked from commit b67a457e4fa71e9220c149087dce013c7f81144f)\n'}]",0,728396,2a971972e46533a9c3af26bde1c85d8dacf36ad5,9,3,1,22595,,,0,"Use default exchange for direct messaging

Lots of exchanges create problems during failover under high
load. Please see bug report for details.

This is step 1 in the process: only using default exchange
when publishing. Consumers will still consume on separate
exchanges (and on default exchange by default) so this
should be (and tested to be) a non-breaking and
upgrade-friendly change.

Step 2 is to update consumers to only listen on default exchange,
to happen in T release.

Change-Id: Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6
Closes-Bug: #1789177
(cherry picked from commit b67a457e4fa71e9220c149087dce013c7f81144f)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/96/728396/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,2a971972e46533a9c3af26bde1c85d8dacf36ad5,bug/1789177-stable/rocky-stable/pike," # TODO(obondarev): use default exchange since T release exchange = kombu.entity.Exchange(name='', # using default exchange"," exchange = kombu.entity.Exchange(name=msg_id,",2,1
openstack%2Fzaqar~stable%2Fpike~I4ff9cf8b6645aabe54b93e4cfea869e42859213c,openstack/zaqar,stable/pike,I4ff9cf8b6645aabe54b93e4cfea869e42859213c,Remove neutron-lbaas from the CI jobs requirements,ABANDONED,2022-01-03 13:38:43.000000000,2022-08-01 16:11:06.000000000,,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 13:38:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/ba60b22bf9cd9025c75888a3d17928f4aacef5b9', 'message': ""Remove neutron-lbaas from the CI jobs requirements\n\nNeutron-lbaas was retired some time ago [1] so there's no need\nto keep it in the requirements of the CI jobs.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n\nChange-Id: I4ff9cf8b6645aabe54b93e4cfea869e42859213c\n""}]",0,823297,ba60b22bf9cd9025c75888a3d17928f4aacef5b9,3,2,1,11975,,,0,"Remove neutron-lbaas from the CI jobs requirements

Neutron-lbaas was retired some time ago [1] so there's no need
to keep it in the requirements of the CI jobs.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html

Change-Id: I4ff9cf8b6645aabe54b93e4cfea869e42859213c
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/97/823297/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ba60b22bf9cd9025c75888a3d17928f4aacef5b9,remove-neutron-lbaas-stable/rocky-stable/queens-stable/pike,, - openstack/neutron-lbaas,0,1
openstack%2Fnova~stable%2Fpike~Id3e4452883f6a3cf44ff58b39ded82e882e28c23,openstack/nova,stable/pike,Id3e4452883f6a3cf44ff58b39ded82e882e28c23,"Move 'check-cherry-picks' test to gate, n-v check",ABANDONED,2021-08-16 12:02:37.000000000,2022-08-01 16:09:09.000000000,,"[{'_account_id': 7166}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 12:02:37.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1be964185ee2b61809cb908f727aa94d4b77203', 'message': ""Move 'check-cherry-picks' test to gate, n-v check\n\nThis currently runs in the 'check' pipeline, as part of the pep8 job,\nwhich causes otherwise perfectly valid backports to report as failing\nCI. There's no reason a stable core shouldn't be encouraged to review\nthese patches: we simply want to prevent them *merging* before their\nparent(s). Resolve this conflict by moving the check to separate voting\njob in the 'gate' pipeline as well as a non-voting job in the 'check'\npipeline to catch more obvious issues.\n\nConflicts:\n    .zuul.yaml\n\nNOTE(elod.illes): conflict is due to following patches are only present\nin Queens: I25c87f27c69e0cdb74e8553305a09cb85f43d87e and\nIe59006dbcebc1c9395cbe356202eb314f90dce2b\n\nChange-Id: Id3e4452883f6a3cf44ff58b39ded82e882e28c23\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 98b01c9a59df4912f5a162c2c52d1f00c84d24c2)\n(cherry picked from commit fef0305abefbf165fecb883f03bce97f525a790a)\n(cherry picked from commit b7677ae08ae151858ecb0e67039e54bb3df89700)\n(cherry picked from commit 91314f7fbba312d4438fa446804f692d316512a8)\n(cherry picked from commit de94f429474713a68d5efc53677bc468f02dc112)\n(cherry picked from commit 1960b50f0d9646e12a8e8849579fab8c047885a8)\n(cherry picked from commit e9442f36d5aa0d0d2410315d3a6681d9e3a14ec5)\n(cherry picked from commit 2c4703d4c79820d0596b7e09a5a291099d464dac)\n""}]",0,804731,a1be964185ee2b61809cb908f727aa94d4b77203,5,3,1,17685,,,0,"Move 'check-cherry-picks' test to gate, n-v check

This currently runs in the 'check' pipeline, as part of the pep8 job,
which causes otherwise perfectly valid backports to report as failing
CI. There's no reason a stable core shouldn't be encouraged to review
these patches: we simply want to prevent them *merging* before their
parent(s). Resolve this conflict by moving the check to separate voting
job in the 'gate' pipeline as well as a non-voting job in the 'check'
pipeline to catch more obvious issues.

Conflicts:
    .zuul.yaml

NOTE(elod.illes): conflict is due to following patches are only present
in Queens: I25c87f27c69e0cdb74e8553305a09cb85f43d87e and
Ie59006dbcebc1c9395cbe356202eb314f90dce2b

Change-Id: Id3e4452883f6a3cf44ff58b39ded82e882e28c23
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 98b01c9a59df4912f5a162c2c52d1f00c84d24c2)
(cherry picked from commit fef0305abefbf165fecb883f03bce97f525a790a)
(cherry picked from commit b7677ae08ae151858ecb0e67039e54bb3df89700)
(cherry picked from commit 91314f7fbba312d4438fa446804f692d316512a8)
(cherry picked from commit de94f429474713a68d5efc53677bc468f02dc112)
(cherry picked from commit 1960b50f0d9646e12a8e8849579fab8c047885a8)
(cherry picked from commit e9442f36d5aa0d0d2410315d3a6681d9e3a14ec5)
(cherry picked from commit 2c4703d4c79820d0596b7e09a5a291099d464dac)
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/804731/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,a1be964185ee2b61809cb908f727aa94d4b77203,cherry-pick-in-gate-queue,[testenv:validate-backport] description = Determine whether a backport is ready to be merged by checking whether it has already been merged to master or more recent stable branches. deps = skipsdist = true commands = bash tools/check-cherry-picks.sh , bash tools/check-cherry-picks.sh,23,1
openstack%2Fnova~stable%2Fpike~I1c62a0a5be6c44176b5714af00cc181eb5437585,openstack/nova,stable/pike,I1c62a0a5be6c44176b5714af00cc181eb5437585,Add functional regression test for bug 1778305,ABANDONED,2019-07-31 14:31:07.000000000,2022-08-01 16:09:03.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-31 14:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/167364398ba4d552380cb5ec4d6dcf2a32a73315', 'message': 'Add functional regression test for bug 1778305\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has old, deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceTooOld is raised when we try to generate a UUID for the old,\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1778305\n\nChange-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585\n(cherry picked from commit 1d9aaef3d1c880b02d6b7c186e8de79cbaac9ae0)\n(cherry picked from commit 06ae1ff21495a51d24376c457f51162e17ae3235)\n(cherry picked from commit 36246000949f29036ed5b9eed563975d063b29c9)\n(cherry picked from commit 57538f0d8d11189b348c5820e88169862e25800a)\n'}, {'number': 2, 'created': '2020-04-18 16:24:22.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1778305.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0658cfd05e84d83a77746ad4b0eb60ac09500242', 'message': 'Add functional regression test for bug 1778305\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has old, deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceTooOld is raised when we try to generate a UUID for the old,\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1778305\n\nChange-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585\n(cherry picked from commit 1d9aaef3d1c880b02d6b7c186e8de79cbaac9ae0)\n(cherry picked from commit 06ae1ff21495a51d24376c457f51162e17ae3235)\n(cherry picked from commit 36246000949f29036ed5b9eed563975d063b29c9)\n(cherry picked from commit 57538f0d8d11189b348c5820e88169862e25800a)\n'}]",0,673832,0658cfd05e84d83a77746ad4b0eb60ac09500242,8,4,2,6873,,,0,"Add functional regression test for bug 1778305

This tests the scenario where an operator has upgraded from Ocata =>
Pike but has old, deleted services that share the same hostname with
currently existing, running services. The current behavior is that
ServiceTooOld is raised when we try to generate a UUID for the old,
deleted service while querying for a list of instances. After the bug
is fixed, we should be able to successfully query for a list of
instances.

Related-Bug: #1778305

Change-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585
(cherry picked from commit 1d9aaef3d1c880b02d6b7c186e8de79cbaac9ae0)
(cherry picked from commit 06ae1ff21495a51d24376c457f51162e17ae3235)
(cherry picked from commit 36246000949f29036ed5b9eed563975d063b29c9)
(cherry picked from commit 57538f0d8d11189b348c5820e88169862e25800a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/673832/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1778305.py'],1,167364398ba4d552380cb5ec4d6dcf2a32a73315,bug/1764556,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import nova.context from nova.db import api as db from nova import objects from nova import test class InstanceListWithOldDeletedServiceTestCase(test.TestCase): def setUp(self): super(InstanceListWithOldDeletedServiceTestCase, self).setUp() self.context = nova.context.RequestContext('fake-user', 'fake-project') def test_instance_list_old_deleted_service_with_no_uuid(self): # Create a nova-compute service record with a host that will match the # instance's host, with no uuid. We can't do this through the # Service object because it will automatically generate a uuid. # Use service version 9, which is too old compared to the minimum # version in the rest of the deployment. service = db.service_create(self.context, {'host': 'fake-host', 'binary': 'nova-compute', 'version': 9}) self.assertIsNone(service['uuid']) # Now delete it. db.service_destroy(self.context, service['id']) # Create a new service with the same host name that has a UUID and a # current version. new_service = objects.Service(context=self.context, host='fake-host', binary='nova-compute') new_service.create() # Create an instance whose host will match both services, including the # deleted one. inst = objects.Instance(context=self.context, project_id=self.context.project_id, host='fake-host') inst.create() # TODO(melwitt): Remove this assert when the bug is fixed. self.assertRaises(nova.exception.ServiceTooOld, objects.InstanceList.get_by_filters, self.context, {}, expected_attrs=['services']) # TODO(melwitt): Uncomment these asserts when the bug is fixed. # insts = objects.InstanceList.get_by_filters( # self.context, {}, expected_attrs=['services']) # self.assertEqual(1, len(insts)) # self.assertEqual(2, len(insts[0].services)) # Deleted service should not have a UUID # for service in insts[0].services: # if service.deleted: # self.assertNotIn('uuid', service) # else: # self.assertIsNotNone(service.uuid) ",,67,0
openstack%2Fnova~stable%2Fpike~Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900,openstack/nova,stable/pike,Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900,Add functional recreate test for regression bug 1825537,ABANDONED,2019-09-17 19:31:41.000000000,2022-08-01 16:08:57.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-17 19:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8918a39261bb21322991770e045dd04318cca8b3', 'message': ""Add functional recreate test for regression bug 1825537\n\nChange I2d9ab06b485f76550dbbff46f79f40ff4c97d12f in Rocky\n(and backported through to Pike) added error handling to\nthe resize_instance and finish_resize methods to revert\nallocations in placement when a failure occurs.\n\nThis is OK for resize_instance, which runs on the source\ncompute, as long as the instance.host/node values have not\nyet been changed to the dest host/node before RPC casting\nto the finish_resize method on the dest compute. It's OK\nbecause the instance is still on the source compute and the\nDB says so, so any attempt to recover the instance via hard\nreboot or rebuild will be on the source host.\n\nThis is not OK for finish_resize because if we fail there\nand revert the allocations, the instance host/node values\nare already pointing at the dest compute and by reverting\nthe allocations in placement, placement will be incorrectly\ntracking the instance usage with the old flavor against the\nsource node resource provider rather than the new flavor\nagainst the dest node resource provider - where the instance\nis actually running and the nova DB says the instance lives.\n\nThis change adds a simple functional regression test to\nrecreate the bug with a multi-host resize. There is already\na same-host resize functional test marked here which will\nneed to be fixed as well.\n\nChange-Id: Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900\nRelated-Bug: #1825537\n(cherry picked from commit f4bb67210602914e1b9a678419cf22cfbeaf1431)\n(cherry picked from commit eaa1fc6159ca4437a1e0cbaa77a3da779afb8cb2)\n(cherry picked from commit 9a977cb28c1c4f2e8d950476fa373326f636dfd6)\n(cherry picked from commit 1bb555c4c981d33de03cf70dfd73cc391d36cb89)\n""}, {'number': 2, 'created': '2020-04-18 16:24:09.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1825537.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/94a9046975ebf0581adea9fa5c2dc169c73bb7e3', 'message': ""Add functional recreate test for regression bug 1825537\n\nChange I2d9ab06b485f76550dbbff46f79f40ff4c97d12f in Rocky\n(and backported through to Pike) added error handling to\nthe resize_instance and finish_resize methods to revert\nallocations in placement when a failure occurs.\n\nThis is OK for resize_instance, which runs on the source\ncompute, as long as the instance.host/node values have not\nyet been changed to the dest host/node before RPC casting\nto the finish_resize method on the dest compute. It's OK\nbecause the instance is still on the source compute and the\nDB says so, so any attempt to recover the instance via hard\nreboot or rebuild will be on the source host.\n\nThis is not OK for finish_resize because if we fail there\nand revert the allocations, the instance host/node values\nare already pointing at the dest compute and by reverting\nthe allocations in placement, placement will be incorrectly\ntracking the instance usage with the old flavor against the\nsource node resource provider rather than the new flavor\nagainst the dest node resource provider - where the instance\nis actually running and the nova DB says the instance lives.\n\nThis change adds a simple functional regression test to\nrecreate the bug with a multi-host resize. There is already\na same-host resize functional test marked here which will\nneed to be fixed as well.\n\nChange-Id: Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900\nRelated-Bug: #1825537\n(cherry picked from commit f4bb67210602914e1b9a678419cf22cfbeaf1431)\n(cherry picked from commit eaa1fc6159ca4437a1e0cbaa77a3da779afb8cb2)\n(cherry picked from commit 9a977cb28c1c4f2e8d950476fa373326f636dfd6)\n(cherry picked from commit 1bb555c4c981d33de03cf70dfd73cc391d36cb89)\n""}]",0,682725,94a9046975ebf0581adea9fa5c2dc169c73bb7e3,12,5,2,6873,,,0,"Add functional recreate test for regression bug 1825537

Change I2d9ab06b485f76550dbbff46f79f40ff4c97d12f in Rocky
(and backported through to Pike) added error handling to
the resize_instance and finish_resize methods to revert
allocations in placement when a failure occurs.

This is OK for resize_instance, which runs on the source
compute, as long as the instance.host/node values have not
yet been changed to the dest host/node before RPC casting
to the finish_resize method on the dest compute. It's OK
because the instance is still on the source compute and the
DB says so, so any attempt to recover the instance via hard
reboot or rebuild will be on the source host.

This is not OK for finish_resize because if we fail there
and revert the allocations, the instance host/node values
are already pointing at the dest compute and by reverting
the allocations in placement, placement will be incorrectly
tracking the instance usage with the old flavor against the
source node resource provider rather than the new flavor
against the dest node resource provider - where the instance
is actually running and the nova DB says the instance lives.

This change adds a simple functional regression test to
recreate the bug with a multi-host resize. There is already
a same-host resize functional test marked here which will
need to be fixed as well.

Change-Id: Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900
Related-Bug: #1825537
(cherry picked from commit f4bb67210602914e1b9a678419cf22cfbeaf1431)
(cherry picked from commit eaa1fc6159ca4437a1e0cbaa77a3da779afb8cb2)
(cherry picked from commit 9a977cb28c1c4f2e8d950476fa373326f636dfd6)
(cherry picked from commit 1bb555c4c981d33de03cf70dfd73cc391d36cb89)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/682725/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1825537.py']",3,8918a39261bb21322991770e045dd04318cca8b3,bug/1825537,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.functional import test_servers class FinishResizeErrorAllocationCleanupTestCase( test_servers.ProviderUsageBaseTestCase): """"""Test for bug 1825537 introduced in Rocky and backported down to Pike. Tests a scenario where finish_resize fails on the dest compute during a resize and ensures resource provider allocations are properly cleaned up in placement. """""" compute_driver = 'fake.FakeFinishMigrationFailDriver' def setUp(self): super(FinishResizeErrorAllocationCleanupTestCase, self).setUp() # Get the flavors we're going to use. flavors = self.api.get_flavors() self.flavor1 = flavors[0] self.flavor2 = flavors[1] def _resize_and_assert_error(self, server, dest_host): # Now resize the server and wait for it to go to ERROR status because # the finish_migration virt driver method in host2 should fail. req = {'resize': {'flavorRef': self.flavor2['id']}} self.api.post_server_action(server['id'], req) # The instance is set to ERROR status before the fault is recorded so # to avoid a race we need to wait for the task_state to change # to None which happens after the fault is recorded. server = self._wait_for_server_parameter( self.admin_api, server, {'status': 'ERROR', 'OS-EXT-STS:task_state': None}) # The server should be pointing at $dest_host because resize_instance # will have updated the host/node value on the instance before casting # to the finish_resize method on the dest compute. self.assertEqual(dest_host, server['OS-EXT-SRV-ATTR:host']) # In this case the FakeFinishMigrationFailDriver.finish_migration # method raises VirtualInterfaceCreateException. self.assertIn('Virtual Interface creation failed', server['fault']['message']) def test_finish_resize_fails_allocation_cleanup(self): # Start two computes so we can resize across hosts. self._start_compute('host1') self._start_compute('host2') # Create a server on host1. server = self._boot_and_check_allocations(self.flavor1, 'host1') # Resize to host2 which should fail. self._resize_and_assert_error(server, 'host2') # Check the resource provider allocations. Since the server is pointed # at the dest host in the DB now, the dest node resource provider # allocations should still exist with the new flavor. source_rp_uuid = self._get_provider_uuid_by_host('host1') dest_rp_uuid = self._get_provider_uuid_by_host('host2') # FIXME(mriedem): This is bug 1825537 where the allocations are # reverted when finish_resize fails so the dest node resource provider # does not have any allocations and the instance allocations are for # the old flavor on the source node resource provider even though the # instance is not running on the source host nor pointed at the source # host in the DB. # self.assertFlavorMatchesAllocation( # self.flavor2, server['id'], dest_rp_uuid) dest_rp_usages = self._get_provider_usages(dest_rp_uuid) no_usage = {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0} self.assertEqual(no_usage, dest_rp_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) ",,90,0
openstack%2Fnova~stable%2Fpike~I4d60da26fcf0a77628d1fdf4e818884614fa4f02,openstack/nova,stable/pike,I4d60da26fcf0a77628d1fdf4e818884614fa4f02,Add functional recreate test for bug 1764556,ABANDONED,2019-07-31 14:19:59.000000000,2022-08-01 16:08:52.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-31 14:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/615f8eff457f64a2357a23d80b713b5229599d9a', 'message': 'Add functional recreate test for bug 1764556\n\nThis attempts to recreate the following scenario:\n\n1) boot instance on ocata host where the compute service\n   does not have a uuid\n2) migrate instance\n3) delete the ocata service (thus deleting the compute node)\n4) start compute service with the same name\n5) migrate instance to newly-created compute node\n6) upgrade to pike where services.uuid data migration happens\n7) list instances as admin to join on the services table\n\nThe failure occurs when listing instances because the deleted\nservice with the same name as the compute host that the instance\nis running on gets pulled from the DB and the Service object\nattempts to set a uuid on it, which fails since it\'s not using\na read_deleted=""yes"" context.\n\nWhile working on this, the service_get_all_by_binary DB API\nmethod had to be fixed to not hard-code read_deleted=""no"" since\nthe test needs to be able to read deleted services, which it can\ncontrol via its own context object (note that\nRequestContext.read_deleted already defaults to ""no"" so the\nhard-coding in the DB API is unnecessarily restrictive).\n\nNOTE(mriedem): This backport has to account for not having change\nI17f67a02b27a90658df48856963ea3fb327e81dc in Pike and start the\nhost1 compute service without the restart_compute_service method.\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n(cherry picked from commit 81f05f53d357a546c7f9a53cae6ef45b92e28bc1)\n(cherry picked from commit 44709cfb5cfa6a8a384eb391ad520de55b2fa247)\n(cherry picked from commit eadd78efe39e1958d14319cfcdbda15862485845)\n(cherry picked from commit de035bbfccbfd5a3e7516434171e89e9df7d08fa)\n'}, {'number': 2, 'created': '2020-04-18 16:24:13.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1764556.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7fb71f0665de3658284bb97febacbddfae08e64f', 'message': 'Add functional recreate test for bug 1764556\n\nThis attempts to recreate the following scenario:\n\n1) boot instance on ocata host where the compute service\n   does not have a uuid\n2) migrate instance\n3) delete the ocata service (thus deleting the compute node)\n4) start compute service with the same name\n5) migrate instance to newly-created compute node\n6) upgrade to pike where services.uuid data migration happens\n7) list instances as admin to join on the services table\n\nThe failure occurs when listing instances because the deleted\nservice with the same name as the compute host that the instance\nis running on gets pulled from the DB and the Service object\nattempts to set a uuid on it, which fails since it\'s not using\na read_deleted=""yes"" context.\n\nWhile working on this, the service_get_all_by_binary DB API\nmethod had to be fixed to not hard-code read_deleted=""no"" since\nthe test needs to be able to read deleted services, which it can\ncontrol via its own context object (note that\nRequestContext.read_deleted already defaults to ""no"" so the\nhard-coding in the DB API is unnecessarily restrictive).\n\nNOTE(mriedem): This backport has to account for not having change\nI17f67a02b27a90658df48856963ea3fb327e81dc in Pike and start the\nhost1 compute service without the restart_compute_service method.\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n(cherry picked from commit 81f05f53d357a546c7f9a53cae6ef45b92e28bc1)\n(cherry picked from commit 44709cfb5cfa6a8a384eb391ad520de55b2fa247)\n(cherry picked from commit eadd78efe39e1958d14319cfcdbda15862485845)\n(cherry picked from commit de035bbfccbfd5a3e7516434171e89e9df7d08fa)\n'}]",0,673830,7fb71f0665de3658284bb97febacbddfae08e64f,15,6,2,6873,,,0,"Add functional recreate test for bug 1764556

This attempts to recreate the following scenario:

1) boot instance on ocata host where the compute service
   does not have a uuid
2) migrate instance
3) delete the ocata service (thus deleting the compute node)
4) start compute service with the same name
5) migrate instance to newly-created compute node
6) upgrade to pike where services.uuid data migration happens
7) list instances as admin to join on the services table

The failure occurs when listing instances because the deleted
service with the same name as the compute host that the instance
is running on gets pulled from the DB and the Service object
attempts to set a uuid on it, which fails since it's not using
a read_deleted=""yes"" context.

While working on this, the service_get_all_by_binary DB API
method had to be fixed to not hard-code read_deleted=""no"" since
the test needs to be able to read deleted services, which it can
control via its own context object (note that
RequestContext.read_deleted already defaults to ""no"" so the
hard-coding in the DB API is unnecessarily restrictive).

NOTE(mriedem): This backport has to account for not having change
I17f67a02b27a90658df48856963ea3fb327e81dc in Pike and start the
host1 compute service without the restart_compute_service method.

Change-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02
Related-Bug: #1764556
(cherry picked from commit 81f05f53d357a546c7f9a53cae6ef45b92e28bc1)
(cherry picked from commit 44709cfb5cfa6a8a384eb391ad520de55b2fa247)
(cherry picked from commit eadd78efe39e1958d14319cfcdbda15862485845)
(cherry picked from commit de035bbfccbfd5a3e7516434171e89e9df7d08fa)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/673830/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1764556.py', 'nova/db/sqlalchemy/api.py']",2,615f8eff457f64a2357a23d80b713b5229599d9a,bug/1764556," query = model_query(context, models.Service).filter_by(binary=binary)"," query = model_query(context, models.Service, read_deleted=""no"").\ filter_by(binary=binary)",164,2
openstack%2Fnova~stable%2Fpike~I347096a527c257075cefe7b81210622f6cd87daf,openstack/nova,stable/pike,I347096a527c257075cefe7b81210622f6cd87daf,Don't generate service UUID for deleted services,ABANDONED,2019-07-31 14:33:52.000000000,2022-08-01 16:08:45.000000000,,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-31 14:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70e705646f6e65f09a5ac2ca19ac48e75b0f8203', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n(cherry picked from commit 16e163053ca39886f11fdb8a3af10a28619fc105)\n(cherry picked from commit 8601ca75b1515e7434f1d3c563a0e65458c8c86a)\n(cherry picked from commit d9094e54fbb6a25c8cf189c4fd9fbb8d66cec145)\n(cherry picked from commit 97e78f8cc194c60d06a37b11c9c09405bf87b295)\n""}, {'number': 2, 'created': '2020-04-18 16:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/096146a776fbe78d2886eda11bb0d47a8265c785', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n(cherry picked from commit 16e163053ca39886f11fdb8a3af10a28619fc105)\n(cherry picked from commit 8601ca75b1515e7434f1d3c563a0e65458c8c86a)\n(cherry picked from commit d9094e54fbb6a25c8cf189c4fd9fbb8d66cec145)\n(cherry picked from commit 97e78f8cc194c60d06a37b11c9c09405bf87b295)\n""}, {'number': 3, 'created': '2020-10-07 09:31:13.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1778305.py', 'nova/objects/service.py', 'nova/tests/functional/regressions/test_bug_1764556.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ceb34dcb41c7c46444b37ad04151782e5914214a', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n(cherry picked from commit 16e163053ca39886f11fdb8a3af10a28619fc105)\n(cherry picked from commit 11fde850e6163b68e006e746406e6c5e6ac980e0)\n(cherry picked from commit 72f9aa720f9137a35d55b9f96e2220d2d0e5588d)\n(cherry picked from commit 97e78f8cc194c60d06a37b11c9c09405bf87b295)\n""}]",0,673833,ceb34dcb41c7c46444b37ad04151782e5914214a,21,7,3,6873,,,0,"Don't generate service UUID for deleted services

In Pike, we added a UUID field to services and during an upgrade from
Ocata => Pike, when instances are accessed joined with their associated
services, we generate a UUID for the services on-the-fly.

This causes a problem in the scenario where an operator upgrades their
cluster and has old, deleted services with hostnames matching existing
services associated with instances. When we go to generate the service
UUID for the old, deleted service, we hit a ServiceTooOld exception.

This addresses the problem by not bothering to generate a UUID for a
deleted service. One alternative would be to exclude deleted services
when we join the 'instances' and 'services' tables, but I'm not sure
whether that approach might cause unintended effects where service
information that used to be viewable for instances becomes hidden.

Closes-Bug: #1778305
Closes-Bug: #1764556

Change-Id: I347096a527c257075cefe7b81210622f6cd87daf
(cherry picked from commit 16e163053ca39886f11fdb8a3af10a28619fc105)
(cherry picked from commit 11fde850e6163b68e006e746406e6c5e6ac980e0)
(cherry picked from commit 72f9aa720f9137a35d55b9f96e2220d2d0e5588d)
(cherry picked from commit 97e78f8cc194c60d06a37b11c9c09405bf87b295)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/673833/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1778305.py', 'nova/objects/service.py', 'nova/tests/functional/regressions/test_bug_1764556.py']",3,70e705646f6e65f09a5ac2ca19ac48e75b0f8203,bug/1764556," servers = self.admin_api.get_servers(detail=True) for server in servers: self.assertEqual('UP', server['host_status'])","import six from nova.tests.functional.api import client as api_client # FIXME(mriedem): This is bug 1764556 where the join on the services # table also pulls the deleted service that doesn't have a uuid and # attempts to migrate that service to have a uuid, which fails because # it's not using a read_deleted='yes' context. ex = self.assertRaises(api_client.OpenStackApiException, self.admin_api.get_servers, detail=True) self.assertIn('ServiceNotFound', six.text_type(ex))",13,26
openstack%2Fnova~stable%2Fpike~Ie18676dd609fd0c2de4b17dbb81947a870df650f,openstack/nova,stable/pike,Ie18676dd609fd0c2de4b17dbb81947a870df650f,Fixed multipath residue when evacuating the VM,ABANDONED,2020-12-11 06:58:59.000000000,2022-08-01 16:08:40.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-11 06:58:59.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/262e85b83912ba42c9912551cddbbfd07246286a', 'message': 'Fixed multipath residue when evacuating the VM\n\nEvacuation results in multipath residue when the back-end storage uses FC and NOVA to configure multipath, this is part of patch and the other part is in os-brick. its function is to remove local multipath residues.\n\nCloses-Bug: #1906768\nChange-Id: Ie18676dd609fd0c2de4b17dbb81947a870df650f\n'}]",0,766675,262e85b83912ba42c9912551cddbbfd07246286a,7,2,1,20252,,,0,"Fixed multipath residue when evacuating the VM

Evacuation results in multipath residue when the back-end storage uses FC and NOVA to configure multipath, this is part of patch and the other part is in os-brick. its function is to remove local multipath residues.

Closes-Bug: #1906768
Change-Id: Ie18676dd609fd0c2de4b17dbb81947a870df650f
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/766675/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/compute/manager.py']",2,262e85b83912ba42c9912551cddbbfd07246286a,bug/1906768," bdi, destroy_disks,destroy_local_fc_path=True)"," bdi, destroy_disks)",6,4
openstack%2Fnova~stable%2Fpike~I83817f7301680801beaee375825f02eda526eda1,openstack/nova,stable/pike,I83817f7301680801beaee375825f02eda526eda1,Validate id as integer for os-aggregates,ABANDONED,2020-11-27 17:15:45.000000000,2022-08-01 16:08:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 26250}]","[{'number': 1, 'created': '2020-11-27 17:15:45.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b69910b5e47178b51bd9316264c562e659aa2e7b', 'message': ""Validate id as integer for os-aggregates\n\nAccording to the api-ref, the id passed to calls in os-aggregates is\nsupposed to be an integer. No function validated this, so any value\npassed to these functions would directly reach the DB. While this is\nfine for SQLite, making a query with a string for an integer column on\nother databases like PostgreSQL results in a DBError exception and thus\na HTTP 500 instead of 400 or 404.\n\nThis commit adds validation for the id parameter the same way it's\nalready done for other endpoints.\n\nConflicts:\n  nova/api/openstack/compute/aggregates.py\n\nNOTE(elod.illes): the conflict is due to patch\nI4802c5b38001a756448d4feb9ca336908821f591 (Remove extensions module) is\nmissing from stable/pike\n\nChange-Id: I83817f7301680801beaee375825f02eda526eda1\nCloses-Bug: 1865040\n(cherry picked from commit 2e70a1717f25652912886cbefa3f40e6df908c00)\n(cherry picked from commit 4653245ddcf989ebac4b964a41d881d78cf9ae2c)\n(cherry picked from commit 9448291d8f3ff6bef85d3bca4aa21c1e6036b3f1)\n(cherry picked from commit ad8aca7965dd7cc95e151056a74b63deecbe90a1)\n(cherry picked from commit 3d691d948e8d2c61a76602ad18f61475c0437a09)\n""}]",0,764479,b69910b5e47178b51bd9316264c562e659aa2e7b,9,2,1,17685,,,0,"Validate id as integer for os-aggregates

According to the api-ref, the id passed to calls in os-aggregates is
supposed to be an integer. No function validated this, so any value
passed to these functions would directly reach the DB. While this is
fine for SQLite, making a query with a string for an integer column on
other databases like PostgreSQL results in a DBError exception and thus
a HTTP 500 instead of 400 or 404.

This commit adds validation for the id parameter the same way it's
already done for other endpoints.

Conflicts:
  nova/api/openstack/compute/aggregates.py

NOTE(elod.illes): the conflict is due to patch
I4802c5b38001a756448d4feb9ca336908821f591 (Remove extensions module) is
missing from stable/pike

Change-Id: I83817f7301680801beaee375825f02eda526eda1
Closes-Bug: 1865040
(cherry picked from commit 2e70a1717f25652912886cbefa3f40e6df908c00)
(cherry picked from commit 4653245ddcf989ebac4b964a41d881d78cf9ae2c)
(cherry picked from commit 9448291d8f3ff6bef85d3bca4aa21c1e6036b3f1)
(cherry picked from commit ad8aca7965dd7cc95e151056a74b63deecbe90a1)
(cherry picked from commit 3d691d948e8d2c61a76602ad18f61475c0437a09)
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/764479/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/aggregates.py']",2,b69910b5e47178b51bd9316264c562e659aa2e7b,bug/1865040,"from nova import utils @extensions.expected_errors((400, 404)) try: utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) try: try: utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) @extensions.expected_errors((400, 404, 409)) try: utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) @extensions.expected_errors((400, 404, 409)) try: utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) try: utils.validate_integer(id, 'id') except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) "," @extensions.expected_errors(404) @extensions.expected_errors((404, 409)) @extensions.expected_errors((404, 409))",85,21
openstack%2Fnova~stable%2Fpike~Id4ebb06e634a612c8be4be6c678d8265e0b99730,openstack/nova,stable/pike,Id4ebb06e634a612c8be4be6c678d8265e0b99730,Update pci stat pools based on PCI device changes,ABANDONED,2021-06-28 15:36:00.000000000,2022-08-01 16:08:28.000000000,,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-28 15:36:00.000000000', 'files': ['nova/pci/manager.py', 'nova/tests/unit/pci/test_stats.py', 'releasenotes/notes/bug-1892361-pci-deivce-type-update-c407a66fd37f6405.yaml', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/37d0a4f7d2a4fa28f15dc2ce064c91c767fbcdd8', 'message': 'Update pci stat pools based on PCI device changes\n\nAt start up of nova-compute service, the PCI stat pools are\npopulated based on information in pci_devices table in Nova\ndatabase. The pools are updated only when new device is added\nor removed but not on any device changes like device type.\n\nIf an existing device is configured as SRIOV and nova-compute\nis restarted, the pci_devices table gets updated but the device\nis still listed under the old pool in pci_tracker.stats.pool\n(in-memory object).\n\nThis patch looks for device type updates in existing devices\nand updates the pools accordingly.\n\nChange-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730\nCloses-Bug: #1892361\n(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)\n(cherry picked from commit d8b8a8193b6b8228f6e7d6bde68b5ea6bb53dd8b)\n(cherry picked from commit f58399cf496566e39d11f82a61e0b47900f2eafa)\n(cherry picked from commit 8378785f995dd4bec2a5a20f7bf5946b3075120d)\n(cherry picked from commit 73e631862a81e85fdf9305f3d15b201d780c8743)\n(cherry picked from commit 1fb4cc03e315f5b4dbebc521f0d1299273c7c396)\n(cherry picked from commit 420df86e23acf050e78b64315f1058ae9704c6d0)\n'}]",0,798345,37d0a4f7d2a4fa28f15dc2ce064c91c767fbcdd8,5,2,1,17685,,,0,"Update pci stat pools based on PCI device changes

At start up of nova-compute service, the PCI stat pools are
populated based on information in pci_devices table in Nova
database. The pools are updated only when new device is added
or removed but not on any device changes like device type.

If an existing device is configured as SRIOV and nova-compute
is restarted, the pci_devices table gets updated but the device
is still listed under the old pool in pci_tracker.stats.pool
(in-memory object).

This patch looks for device type updates in existing devices
and updates the pools accordingly.

Change-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730
Closes-Bug: #1892361
(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)
(cherry picked from commit d8b8a8193b6b8228f6e7d6bde68b5ea6bb53dd8b)
(cherry picked from commit f58399cf496566e39d11f82a61e0b47900f2eafa)
(cherry picked from commit 8378785f995dd4bec2a5a20f7bf5946b3075120d)
(cherry picked from commit 73e631862a81e85fdf9305f3d15b201d780c8743)
(cherry picked from commit 1fb4cc03e315f5b4dbebc521f0d1299273c7c396)
(cherry picked from commit 420df86e23acf050e78b64315f1058ae9704c6d0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/798345/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'nova/tests/unit/pci/test_stats.py', 'releasenotes/notes/bug-1892361-pci-deivce-type-update-c407a66fd37f6405.yaml', 'nova/pci/stats.py']",4,37d0a4f7d2a4fa28f15dc2ce064c91c767fbcdd8,bug/1892361," def _get_pool_with_device_type_mismatch(self, dev): """"""Check for device type mismatch in the pools for a given device. Return (pool, device) if device type does not match or a single None if the device type matches. """""" for pool in self.pools: for device in pool['devices']: if device.address == dev.address: if dev.dev_type != pool[""dev_type""]: return pool, device return None return None def update_device(self, dev): """"""Update a device to its matching pool."""""" pool_device_info = self._get_pool_with_device_type_mismatch(dev) if pool_device_info is None: return pool, device = pool_device_info pool['devices'].remove(device) self._decrease_pool_count(self.pools, pool) self.add_device(dev) ",,63,0
openstack%2Fnova~stable%2Fpike~I5c071f70f669966e9807b38e99077c1cae5b4606,openstack/nova,stable/pike,I5c071f70f669966e9807b38e99077c1cae5b4606,Use subqueryload() instead of joinedload() for (system_)metadata,ABANDONED,2021-07-05 17:24:20.000000000,2022-08-01 16:08:23.000000000,,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 17:24:20.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/514e8db346b783c3c68829092d60913440a033cf', 'message': 'Use subqueryload() instead of joinedload() for (system_)metadata\n\nCurrently, when we ""get"" a single instance from the database and we\nload metadata and system_metadata, we do so using a joinedload() which\ndoes JOINs with the respective tables. Because of the one-to-many\nrelationship between an instance and (system_)metadata records, doing\nthe database query this way can result in a large number of additional\nrows being returned unnecessarily and cause a large data transfer.\n\nThis is similar to the problem addressed by change\nI0610fb16ccce2ee95c318589c8abcc30613a3fe9 which added separate queries\nfor (system_)metadata when we ""get"" multiple instances. We don\'t,\nhowever, reuse the same code for this change because\n_instances_fill_metadata converts the instance database object to a\ndict, and some callers of _instance_get_by_uuid need to be able to\naccess an instance database object attached to the session (example:\ninstance_update_and_get_original).\n\nBy using subqueryload() [1], we can perform the additional queries for\n(system_)metadata to solve the problem with a similar approach.\n\nCloses-Bug: #1799298\n\n[1] https://docs.sqlalchemy.org/en/13/orm/loading_relationships.html#subquery-eager-loading\n\nChange-Id: I5c071f70f669966e9807b38e99077c1cae5b4606\n(cherry picked from commit e728fe668a6de886455f2dbaf655c8a151462c8c)\n(cherry picked from commit 63d2e62c3a223f883ca810f4c66a2a236cf3d483)\n(cherry picked from commit e7a45e0335e4cf44fec7f7b8d2505f5b95445cf9)\n(cherry picked from commit 4350074029ffbc03ab238c442ec86fab6560e365)\n(cherry picked from commit ad7e4fb8f4ea6c458af00ec7aa0b321dc37c097c)\n(cherry picked from commit 68f80d201310dcaf688d8437a46c8d272ead317d)\n(cherry picked from commit c1de4fb13e4c7d220ff2e42f24f06b4bbe53521f)\n'}]",0,799533,514e8db346b783c3c68829092d60913440a033cf,6,3,1,17685,,,0,"Use subqueryload() instead of joinedload() for (system_)metadata

Currently, when we ""get"" a single instance from the database and we
load metadata and system_metadata, we do so using a joinedload() which
does JOINs with the respective tables. Because of the one-to-many
relationship between an instance and (system_)metadata records, doing
the database query this way can result in a large number of additional
rows being returned unnecessarily and cause a large data transfer.

This is similar to the problem addressed by change
I0610fb16ccce2ee95c318589c8abcc30613a3fe9 which added separate queries
for (system_)metadata when we ""get"" multiple instances. We don't,
however, reuse the same code for this change because
_instances_fill_metadata converts the instance database object to a
dict, and some callers of _instance_get_by_uuid need to be able to
access an instance database object attached to the session (example:
instance_update_and_get_original).

By using subqueryload() [1], we can perform the additional queries for
(system_)metadata to solve the problem with a similar approach.

Closes-Bug: #1799298

[1] https://docs.sqlalchemy.org/en/13/orm/loading_relationships.html#subquery-eager-loading

Change-Id: I5c071f70f669966e9807b38e99077c1cae5b4606
(cherry picked from commit e728fe668a6de886455f2dbaf655c8a151462c8c)
(cherry picked from commit 63d2e62c3a223f883ca810f4c66a2a236cf3d483)
(cherry picked from commit e7a45e0335e4cf44fec7f7b8d2505f5b95445cf9)
(cherry picked from commit 4350074029ffbc03ab238c442ec86fab6560e365)
(cherry picked from commit ad7e4fb8f4ea6c458af00ec7aa0b321dc37c097c)
(cherry picked from commit 68f80d201310dcaf688d8437a46c8d272ead317d)
(cherry picked from commit c1de4fb13e4c7d220ff2e42f24f06b4bbe53521f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/799533/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,514e8db346b783c3c68829092d60913440a033cf,bug/1799298,"from sqlalchemy.orm import subqueryload elif column in ['metadata', 'system_metadata']: # NOTE(melwitt): We use subqueryload() instead of joinedload() for # metadata and system_metadata because of the one-to-many # relationship of the data. Directly joining these columns can # result in a large number of additional rows being queried if an # instance has a large number of (system_)metadata items, resulting # in a large data transfer. Instead, the subqueryload() will # perform additional queries to obtain metadata and system_metadata # for the instance. query = query.options(subqueryload(column)) # NOTE(melwitt): We need to use order_by(<unique column>) so that the # additional queries emitted by subqueryload() include the same ordering as # used by the parent query. # https://docs.sqlalchemy.org/en/13/orm/loading_relationships.html#the-importance-of-ordering return query.order_by(models.Instance.id)", return query,24,1
openstack%2Fnova~stable%2Fpike~Ie904d1513b5cf76d6d5f6877545e8eb378dd5499,openstack/nova,stable/pike,Ie904d1513b5cf76d6d5f6877545e8eb378dd5499,Add a WA flag waiting for vif-plugged event during reboot,ABANDONED,2021-10-11 14:02:05.000000000,2022-08-01 16:08:18.000000000,,"[{'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-11 14:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82821545791ba8c304f1d47d21d1fb7739987c7c', 'message': 'Add a WA flag waiting for vif-plugged event during reboot\n\nThe libvirt driver power on and hard reboot destroys the domain first\nand unplugs the vifs then recreate the domain and replug the vifs.\nHowever nova does not wait for the network-vif-plugged event before\nunpause the domain. This can cause that the domain starts running and\nrequesting IP via DHCP before the networking backend finished plugging\nthe vifs.\n\nSo this patch adds a workaround flag to nova to wait for\nnetwork-vif-plugged events during hard reboot the same way as nova waits\nfor this event during new instance spawn.\n\nThis logic cannot be enable unconditionally as not all neutron\nnetworking backend sending plug time events to wait for.\n\nstable/pike:\n* resolved conflict due to refactorings on newer branches in\n  _create_domain_and_network\n* moved testing this from nova-next to nova-live-migration as nova-next\n  does not exists on pike yet\n\nChange-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499\nCloses-Bug: XXX\n'}, {'number': 2, 'created': '2021-10-22 08:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/beb7fd3f2bfb7f3a6f7c371cd158c96bae085d39', 'message': 'Add a WA flag waiting for vif-plugged event during reboot\n\nThe libvirt driver power on and hard reboot destroys the domain first\nand unplugs the vifs then recreate the domain and replug the vifs.\nHowever nova does not wait for the network-vif-plugged event before\nunpause the domain. This can cause that the domain starts running and\nrequesting IP via DHCP before the networking backend finished plugging\nthe vifs.\n\nSo this patch adds a workaround flag to nova to wait for\nnetwork-vif-plugged events during hard reboot the same way as nova waits\nfor this event during new instance spawn.\n\nThis logic cannot be enable unconditionally as not all neutron\nnetworking backend sending plug time events to wait for.\n\nstable/pike:\n* resolved conflict due to refactorings on newer branches in\n  _create_domain_and_network\n* moved testing this from nova-next to nova-live-migration as nova-next\n  does not exists on pike yet\n\nChange-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499\nCloses-Bug: #1946729\n'}, {'number': 3, 'created': '2021-10-22 13:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/178b883bda449aefe831543802cb6ed7d334877e', 'message': 'Add a WA flag waiting for vif-plugged event during reboot\n\nThe libvirt driver power on and hard reboot destroys the domain first\nand unplugs the vifs then recreate the domain and replug the vifs.\nHowever nova does not wait for the network-vif-plugged event before\nunpause the domain. This can cause that the domain starts running and\nrequesting IP via DHCP before the networking backend finished plugging\nthe vifs.\n\nSo this patch adds a workaround flag to nova to wait for\nnetwork-vif-plugged events during hard reboot the same way as nova waits\nfor this event during new instance spawn.\n\nThis logic cannot be enable unconditionally as not all neutron\nnetworking backend sending plug time events to wait for.\n\nstable/pike:\n* resolved conflict due to refactorings on newer branches in\n  _create_domain_and_network\n* moved testing this from nova-next to nova-live-migration as nova-next\n  does not exists on pike yet\n\nChange-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499\nCloses-Bug: #1946729\n'}, {'number': 4, 'created': '2021-10-27 15:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21f1e9ce56ab369221c6f33ffc8e5363aa4f0cf2', 'message': 'Add a WA flag waiting for vif-plugged event during reboot\n\nThe libvirt driver power on and hard reboot destroys the domain first\nand unplugs the vifs then recreate the domain and replug the vifs.\nHowever nova does not wait for the network-vif-plugged event before\nunpause the domain. This can cause that the domain starts running and\nrequesting IP via DHCP before the networking backend finished plugging\nthe vifs.\n\nSo this patch adds a workaround flag to nova to wait for\nnetwork-vif-plugged events during hard reboot the same way as nova waits\nfor this event during new instance spawn.\n\nThis logic cannot be enable unconditionally as not all neutron\nnetworking backend sending plug time events to wait for.\n\nstable/pike:\n* resolved conflict due to refactorings on newer branches in\n  _create_domain_and_network\n* moved testing this from nova-next to nova-live-migration as nova-next\n  does not exists on pike yet\n\nChange-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499\nCloses-Bug: #1946729\n'}, {'number': 5, 'created': '2021-10-28 10:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/734145f1c37b0f540cd5ad7003f1a96be81f3f0d', 'message': 'Add a WA flag waiting for vif-plugged event during reboot\n\nThe libvirt driver power on and hard reboot destroys the domain first\nand unplugs the vifs then recreate the domain and replug the vifs.\nHowever nova does not wait for the network-vif-plugged event before\nunpause the domain. This can cause that the domain starts running and\nrequesting IP via DHCP before the networking backend finished plugging\nthe vifs.\n\nSo this patch adds a workaround flag to nova to wait for\nnetwork-vif-plugged events during hard reboot the same way as nova waits\nfor this event during new instance spawn.\n\nThis logic cannot be enable unconditionally as not all neutron\nnetworking backend sending plug time events to wait for.\n\nstable/pike:\n* resolved conflict due to refactorings on newer branches in\n  _create_domain_and_network\n* moved testing this from nova-next to nova-live-migration as nova-next\n  does not exists on pike yet\n\nChange-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499\nCloses-Bug: #1946729\n'}, {'number': 6, 'created': '2021-10-28 11:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ecac2f62ec68692fbd04212bfac0ad0af03f850', 'message': 'Add a WA flag waiting for vif-plugged event during reboot\n\nThe libvirt driver power on and hard reboot destroys the domain first\nand unplugs the vifs then recreate the domain and replug the vifs.\nHowever nova does not wait for the network-vif-plugged event before\nunpause the domain. This can cause that the domain starts running and\nrequesting IP via DHCP before the networking backend finished plugging\nthe vifs.\n\nSo this patch adds a workaround flag to nova to wait for\nnetwork-vif-plugged events during hard reboot the same way as nova waits\nfor this event during new instance spawn.\n\nThis logic cannot be enable unconditionally as not all neutron\nnetworking backend sending plug time events to wait for.\n\nstable/pike:\n* resolved conflict due to refactorings on newer branches in\n  _create_domain_and_network\n* moved testing this from nova-next to nova-live-migration as nova-next\n  does not exists on pike yet\n\nChange-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499\nCloses-Bug: #1946729\n'}, {'number': 7, 'created': '2021-11-12 09:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e13c7b6db1b6b90c9fc829a1db2705940be7dbe', 'message': 'Add a WA flag waiting for vif-plugged event during reboot\n\nThe libvirt driver power on and hard reboot destroys the domain first\nand unplugs the vifs then recreate the domain and replug the vifs.\nHowever nova does not wait for the network-vif-plugged event before\nunpause the domain. This can cause that the domain starts running and\nrequesting IP via DHCP before the networking backend finished plugging\nthe vifs.\n\nSo this patch adds a workaround flag to nova to wait for\nnetwork-vif-plugged events during hard reboot the same way as nova waits\nfor this event during new instance spawn.\n\nThis logic cannot be enable unconditionally as not all neutron\nnetworking backend sending plug time events to wait for.\n\nstable/pike:\n* resolved conflict due to refactorings on newer branches in\n  _create_domain_and_network\n* moved testing this from nova-next to nova-live-migration as nova-next\n  does not exists on pike yet\n* updated the accepted vnic_type based on what exists in pike in neutron\n\nChange-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499\nCloses-Bug: #1946729\n'}, {'number': 8, 'created': '2021-11-19 17:13:14.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1946729-wait-for-vif-plugged-event-during-hard-reboot-fb491f6a68370bab.yaml', '.zuul.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/384877663261be0763135e41402f355af0a83db3', 'message': 'Add a WA flag waiting for vif-plugged event during reboot\n\nThe libvirt driver power on and hard reboot destroys the domain first\nand unplugs the vifs then recreate the domain and replug the vifs.\nHowever nova does not wait for the network-vif-plugged event before\nunpause the domain. This can cause that the domain starts running and\nrequesting IP via DHCP before the networking backend finished plugging\nthe vifs.\n\nSo this patch adds a workaround config option to nova to wait for\nnetwork-vif-plugged events during hard reboot the same way as nova waits\nfor this event during new instance spawn.\n\nThis logic cannot be enabled unconditionally as not all neutron\nnetworking backend sending plug time events to wait for. Also the logic\nneeds to be vnic_type dependent as ml2/ovs and the in tree sriov backend\noften deployed together on the same compute. While ml2/ovs sends plug\ntime event the sriov backend does not send it reliably. So the\nconfiguration is not just a boolean flag but a list of vnic_types\ninstead. This way the waiting for the plug time event for a vif that is\nhandled by ml2/ovs is possible while the instance has other vifs handled\nby the sriov backend where no event can be expected.\n\nConflicts:\n      .zuul.yaml: moved testing this patch from nova-next to\n      nova-live-migration as nova-next does not exists on pike yet.\n\nChange-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499\nCloses-Bug: #1946729\n(cherry picked from commit 68c970ea9915a95f9828239006559b84e4ba2581)\n(cherry picked from commit 0c41bfb8c5c60f1cc930ae432e6be460ee2e97ac)\n(cherry picked from commit 89c4ff5f7b45f1a5bed8b6b9b4586fceaa391bfb)\n(cherry picked from commit c531fdcc192afb5af628ac567cb0ff8aa3eab052)\n(cherry picked from commit 35e071470e2c5597444a7b85211a01e7fbc7c68b)\n(cherry picked from commit 870d8148ef1fc0c72554f24a20aec091e69a5656)\n(cherry picked from commit 3afb13a205d2424022beb6a8e538da383abdd06f)\n(cherry picked from commit 75e48ce99938c9803efb15ab639b1adee9e3ebb3)\n(cherry picked from commit b214f5bed0abbf265aa9e2efe2d7ce4fda955a41)\n'}]",6,813437,384877663261be0763135e41402f355af0a83db3,30,2,8,9708,,,0,"Add a WA flag waiting for vif-plugged event during reboot

The libvirt driver power on and hard reboot destroys the domain first
and unplugs the vifs then recreate the domain and replug the vifs.
However nova does not wait for the network-vif-plugged event before
unpause the domain. This can cause that the domain starts running and
requesting IP via DHCP before the networking backend finished plugging
the vifs.

So this patch adds a workaround config option to nova to wait for
network-vif-plugged events during hard reboot the same way as nova waits
for this event during new instance spawn.

This logic cannot be enabled unconditionally as not all neutron
networking backend sending plug time events to wait for. Also the logic
needs to be vnic_type dependent as ml2/ovs and the in tree sriov backend
often deployed together on the same compute. While ml2/ovs sends plug
time event the sriov backend does not send it reliably. So the
configuration is not just a boolean flag but a list of vnic_types
instead. This way the waiting for the plug time event for a vif that is
handled by ml2/ovs is possible while the instance has other vifs handled
by the sriov backend where no event can be expected.

Conflicts:
      .zuul.yaml: moved testing this patch from nova-next to
      nova-live-migration as nova-next does not exists on pike yet.

Change-Id: Ie904d1513b5cf76d6d5f6877545e8eb378dd5499
Closes-Bug: #1946729
(cherry picked from commit 68c970ea9915a95f9828239006559b84e4ba2581)
(cherry picked from commit 0c41bfb8c5c60f1cc930ae432e6be460ee2e97ac)
(cherry picked from commit 89c4ff5f7b45f1a5bed8b6b9b4586fceaa391bfb)
(cherry picked from commit c531fdcc192afb5af628ac567cb0ff8aa3eab052)
(cherry picked from commit 35e071470e2c5597444a7b85211a01e7fbc7c68b)
(cherry picked from commit 870d8148ef1fc0c72554f24a20aec091e69a5656)
(cherry picked from commit 3afb13a205d2424022beb6a8e538da383abdd06f)
(cherry picked from commit 75e48ce99938c9803efb15ab639b1adee9e3ebb3)
(cherry picked from commit b214f5bed0abbf265aa9e2efe2d7ce4fda955a41)
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/813437/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', '.zuul.yaml', 'nova/conf/workarounds.py']",3,82821545791ba8c304f1d47d21d1fb7739987c7c,bug/1946729," cfg.BoolOpt('wait_for_vif_plugged_event_during_hard_reboot', default=False, help="""""" The libvirt virt driver implements power on and hard reboot by tearing down every vif of the instance being rebooted then plug them again. By default nova does not wait for network-vif-plugged event from neutron before let the instance run. This can cause that the instance requests the IP via DHCP before the neutron backend has a chance to set up the networking backend after the vif plug. By setting this flag to True nova will wait for network-vif-plugged event for each vif of the instance before unpause the instance. Similarly how it is done during new instance creation. Please note that not all neutron networking backend sends plug time events therefore this flag False by default. The ml2/ovs backend is known to send plug time events so it is safe to set this flag to True if you are using that backend. Related options: * :oslo.config:option:`DEFAULT.vif_plugging_timeout` """"""),",,58,5
openstack%2Fnova~stable%2Fpike~I50477b0ac43adff9e9b0220bd7c48d6ebb6471b3,openstack/nova,stable/pike,I50477b0ac43adff9e9b0220bd7c48d6ebb6471b3,[stable-only] Fix sphinx doc job,ABANDONED,2022-03-14 17:07:06.000000000,2022-08-01 16:07:47.000000000,,"[{'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-14 17:07:06.000000000', 'files': ['doc/ext/feature_matrix.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/a93edb256fe864289b9f4734ef163cd950cd0ef8', 'message': ""[stable-only] Fix sphinx doc job\n\nThis is a combination of 2 commits to fix gate failure due to recent\nfailure of build-sphinx-docs-job since python 2 was replaced in it to\npython 3.\n\n1. tox: Make everything work with Python 3\n\nNothing too fancy here except that we've to work around a really ugly\nside-effect of blockdiag.\n\nConflicts:\n  tox.ini\n\nChange-Id: Ibd32d30aacae65702d0ccbdb8a02b1667ec4e8ee\n(cherry picked from commit b862f6ff35d1611d0d63623a6254fc889012bfb9)\n\n2. Python 3 fix for sphinx doc\n\nIn Python 3, dict methods dict.keys() return views instead of lists.\nTherefore, the code:\n\n    impls = sorted(matrix.targets.keys())\n    impls.sort()\n\nshould be replaced by:\n\n    impls = sorted(matrix.targets.keys())\n\nto be Python 3 compatible.\n\nConflicts:\n  doc/source/conf.py\n\nNOTE(elod.illes): conflict is due to following patch is not present in\nstable/pike: Iac2f8cadc688334e07ad46c5af1870b568c56e73\n\nChange-Id: I50477b0ac43adff9e9b0220bd7c48d6ebb6471b3\n(cherry picked from commit 8ca01a3abbeb088cab618e856e1d3cddfc5f0d35)\n(cherry picked from commit 6d7646be5319d724a22aa76a6abe2d092de53ec7)\n""}]",1,833666,a93edb256fe864289b9f4734ef163cd950cd0ef8,4,2,1,17685,,,0,"[stable-only] Fix sphinx doc job

This is a combination of 2 commits to fix gate failure due to recent
failure of build-sphinx-docs-job since python 2 was replaced in it to
python 3.

1. tox: Make everything work with Python 3

Nothing too fancy here except that we've to work around a really ugly
side-effect of blockdiag.

Conflicts:
  tox.ini

Change-Id: Ibd32d30aacae65702d0ccbdb8a02b1667ec4e8ee
(cherry picked from commit b862f6ff35d1611d0d63623a6254fc889012bfb9)

2. Python 3 fix for sphinx doc

In Python 3, dict methods dict.keys() return views instead of lists.
Therefore, the code:

    impls = sorted(matrix.targets.keys())
    impls.sort()

should be replaced by:

    impls = sorted(matrix.targets.keys())

to be Python 3 compatible.

Conflicts:
  doc/source/conf.py

NOTE(elod.illes): conflict is due to following patch is not present in
stable/pike: Iac2f8cadc688334e07ad46c5af1870b568c56e73

Change-Id: I50477b0ac43adff9e9b0220bd7c48d6ebb6471b3
(cherry picked from commit 8ca01a3abbeb088cab618e856e1d3cddfc5f0d35)
(cherry picked from commit 6d7646be5319d724a22aa76a6abe2d092de53ec7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/833666/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/ext/feature_matrix.py', 'tox.ini']",2,a93edb256fe864289b9f4734ef163cd950cd0ef8,,,# TODO(melwitt): This can be removed when the docs target can be run # with python 3.x basepython = python2.7,2,7
openstack%2Fpuppet-vswitch~master~Ic57f7956c13d9ea3b157e68ad0e84631a10c0fae,openstack/puppet-vswitch,master,Ic57f7956c13d9ea3b157e68ad0e84631a10c0fae,Use kmod module from voxpupil,MERGED,2022-07-30 14:27:59.000000000,2022-08-01 16:07:18.000000000,2022-08-01 16:07:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-30 14:27:59.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/365865c9fec3097c950917aefe6c79f600eb4463', 'message': 'Use kmod module from voxpupil\n\ncamptocamp/kmod[1] was deprecated in favor of voxpupil/puppet-kmod[2].\n\n[1] https://forge.puppet.com/modules/camptocamp/kmod\n[2] https://forge.puppet.com/modules/puppet/kmod\n\nChange-Id: Ic57f7956c13d9ea3b157e68ad0e84631a10c0fae\n'}]",0,851666,365865c9fec3097c950917aefe6c79f600eb4463,7,3,1,9816,,,0,"Use kmod module from voxpupil

camptocamp/kmod[1] was deprecated in favor of voxpupil/puppet-kmod[2].

[1] https://forge.puppet.com/modules/camptocamp/kmod
[2] https://forge.puppet.com/modules/puppet/kmod

Change-Id: Ic57f7956c13d9ea3b157e68ad0e84631a10c0fae
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/66/851666/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,365865c9fec3097c950917aefe6c79f600eb4463,," ""name"": ""puppet/kmod"","," ""name"": ""camptocamp/kmod"",",1,1
openstack%2Fpuppet-vswitch~master~Id4133d74bfed217ca8a58f136d665d76cc233fb0,openstack/puppet-vswitch,master,Id4133d74bfed217ca8a58f136d665d76cc233fb0,Remove unused ovs_dkms_package_name,MERGED,2022-07-28 12:46:52.000000000,2022-08-01 16:07:16.000000000,2022-08-01 16:07:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 12:46:52.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/d46e4588870a33d5c3b1bc4288f5049b9dc44dcb', 'message': 'Remove unused ovs_dkms_package_name\n\nThis was used when Debian required the openvswitch-datapath-dkms\npackage but the package was removed long time ago.\n\nInstallation of that package was disabled by [1]. The logic to install\nthe package was completely removed by [2] and now it is no longer used.\n\n[1] f4d19a7a07eb71034f92d283b598f753fc5ec560\n[2] 3ff72b5736d94ff32535ab345df4cb588c95286f\n\nChange-Id: Id4133d74bfed217ca8a58f136d665d76cc233fb0\n'}]",1,851396,d46e4588870a33d5c3b1bc4288f5049b9dc44dcb,9,3,1,9816,,,0,"Remove unused ovs_dkms_package_name

This was used when Debian required the openvswitch-datapath-dkms
package but the package was removed long time ago.

Installation of that package was disabled by [1]. The logic to install
the package was completely removed by [2] and now it is no longer used.

[1] f4d19a7a07eb71034f92d283b598f753fc5ec560
[2] 3ff72b5736d94ff32535ab345df4cb588c95286f

Change-Id: Id4133d74bfed217ca8a58f136d665d76cc233fb0
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/96/851396/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,d46e4588870a33d5c3b1bc4288f5049b9dc44dcb,,, $ovs_dkms_package_name = undef $ovs_dkms_package_name = 'openvswitch-datapath-dkms',0,2
openstack%2Fpuppet-vswitch~master~Ie295a8207fdac4afb4eff37fe4eb49b3c942ea77,openstack/puppet-vswitch,master,Ie295a8207fdac4afb4eff37fe4eb49b3c942ea77,Add support for other_config:vhost-postcopy-support,MERGED,2022-07-28 23:30:55.000000000,2022-08-01 16:07:14.000000000,2022-08-01 16:07:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 23:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/c5fa11dbcf18c27cc2b66bc2e22b505e76b61198', 'message': 'Add support for other_config:vhost-postcopy-support\n\nChange-Id: Ie295a8207fdac4afb4eff37fe4eb49b3c942ea77\n'}, {'number': 2, 'created': '2022-07-28 23:35:38.000000000', 'files': ['releasenotes/notes/vhost-postcopy-support-268a206b8ab7bc1f.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/28031fa70052a93d505d5239f8fb6a348386d8cc', 'message': 'Add support for other_config:vhost-postcopy-support\n\novs v2.12.0 introduced the option to enable postcopy support[1]. This\nadds the capability to manage the option.\n\n[1] https://github.com/openvswitch/ovs/commit/30e834dcb5\nChange-Id: Ie295a8207fdac4afb4eff37fe4eb49b3c942ea77\n'}]",0,851476,28031fa70052a93d505d5239f8fb6a348386d8cc,8,3,2,9816,,,0,"Add support for other_config:vhost-postcopy-support

ovs v2.12.0 introduced the option to enable postcopy support[1]. This
adds the capability to manage the option.

[1] https://github.com/openvswitch/ovs/commit/30e834dcb5
Change-Id: Ie295a8207fdac4afb4eff37fe4eb49b3c942ea77
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/76/851476/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vhost-postcopy-support-268a206b8ab7bc1f.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/dpdk.pp']",3,c5fa11dbcf18c27cc2b66bc2e22b505e76b61198,postcopy,"# [*vhost_postcopy_support*] # (Optional) Allow switching live migration of VM attached to # dpdkvhostuserclient port to post-copy mode. # Defaults to false # $vhost_postcopy_support = false, value => true, if $vhost_postcopy_support { vs_config { 'other_config:vhost-postcopy-support': value => true, wait => false } } else { vs_config { 'other_config:vhost-postcopy-support': ensure => absent, wait => false } } "," value => $enable_tso,",31,1
openstack%2Fpuppet-vswitch~master~Idec390b4b01a2f79cbd885fd83c8bf902c9816e7,openstack/puppet-vswitch,master,Idec390b4b01a2f79cbd885fd83c8bf902c9816e7,Allow configuring PMD Auto Load Balancing,MERGED,2022-07-28 00:54:16.000000000,2022-08-01 16:07:11.000000000,2022-08-01 16:07:11.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 00:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/1027fa6b4e1525bd32d2baa9de113c176777fb27', 'message': 'Allow configuring PMD Auto Load Balancing\n\nThis change introduces a few parameters to enable and configure PMD\nAuto Load Balancing feature in ovs-dpdk.\n\nChange-Id: Idec390b4b01a2f79cbd885fd83c8bf902c9816e7\n'}, {'number': 2, 'created': '2022-07-28 02:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/3f6ab3994cf1f378febeb2391bb2e27e3d4fb5da', 'message': 'Allow configuring PMD Auto Load Balancing\n\nThis change introduces a few parameters to enable and configure PMD\nAuto Load Balancing feature in ovs-dpdk.\n\nChange-Id: Idec390b4b01a2f79cbd885fd83c8bf902c9816e7\n'}, {'number': 3, 'created': '2022-07-28 02:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/779e0029fc114658db4593b231b0caee1eff0762', 'message': 'Allow configuring PMD Auto Load Balancing\n\nThis change introduces a few parameters to enable and configure PMD\nAuto Load Balancing feature in ovs-dpdk.\n\nChange-Id: Idec390b4b01a2f79cbd885fd83c8bf902c9816e7\n'}, {'number': 4, 'created': '2022-07-28 02:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/a6f281ceca0767b614c8695b9b4ed8ae9c8fcd03', 'message': 'Allow configuring PMD Auto Load Balancing\n\nThis change introduces a few parameters to enable and configure PMD\nAuto Load Balancing feature in ovs-dpdk.\n\nChange-Id: Idec390b4b01a2f79cbd885fd83c8bf902c9816e7\n'}, {'number': 5, 'created': '2022-07-28 14:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/cf398f92b8b8f0c6a1f7174c16ed717d1f7e1567', 'message': 'Allow configuring PMD Auto Load Balancing\n\nThis change introduces a few parameters to enable and configure PMD\nAuto Load Balancing feature in ovs-dpdk.\n\nChange-Id: Idec390b4b01a2f79cbd885fd83c8bf902c9816e7\n'}, {'number': 6, 'created': '2022-07-28 23:18:00.000000000', 'files': ['releasenotes/notes/pmd-auto-lb-2cc96b8c12678785.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/9d5c61630a53192000b68d3548b6c0c64dae8baf', 'message': 'Allow configuring PMD Auto Load Balancing\n\nThis change introduces a few parameters to enable and configure PMD\nAuto Load Balancing feature in ovs-dpdk.\n\nChange-Id: Idec390b4b01a2f79cbd885fd83c8bf902c9816e7\n'}]",0,851271,9d5c61630a53192000b68d3548b6c0c64dae8baf,16,4,6,9816,,,0,"Allow configuring PMD Auto Load Balancing

This change introduces a few parameters to enable and configure PMD
Auto Load Balancing feature in ovs-dpdk.

Change-Id: Idec390b4b01a2f79cbd885fd83c8bf902c9816e7
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/71/851271/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pmd-auto-lb-2cc96b8c12678785.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/dpdk.pp']",3,1027fa6b4e1525bd32d2baa9de113c176777fb27,pmd-auto-lb,"# [*pmd_auto_lb*] # (Optional) Configures PMD Auto Load Balancing # Defaults to false. # # [*pmd_auto_lb_rebal_interval*] # (Optional) The minimum time (in minutes) 2 consecutive PMD Auto Load # Balancing iterations. # Defaults to undef. # # [*pmd_auto_lb_load_threshold*] # (Optional) Specifies the minimum PMD thread load threshold of any # non-isolated PMD threads when a PMD Auto Load Balance may be triggered. # Defaults to undef. # # [*pmd_auto_lb_improvement_threshold*] # (Optional) Specifies the minimum evaluated % improvement in load # distribution across the non-isolated PMD threads that will allow a PMD Auto # Load Balance to occur. # Defaults to undef. # $memory_channels = undef, $host_core_list = undef, $package_ensure = 'present', $pmd_core_list = undef, $socket_mem = undef, $socket_limit = undef, $enable_hw_offload = false, $disable_emc = false, $vlan_limit = undef, $revalidator_cores = undef, $handler_cores = undef, $enable_tso = false, $pmd_auto_lb = false, $pmd_auto_lb_rebal_interval = undef, $pmd_auto_lb_load_threshold = undef, $pmd_auto_lb_improvement_threshold = undef, $vs_config = {}, validate_legacy(Boolean, 'validate_bool', $pmd_auto_lb) if $pmd_auto_lb { vs_config { 'other_config:pmd-auto-lb': ensure => absent, wait => false, } } else { vs_config { 'other_config:pmd-auto-lb': value => true, wait => false, } } vs_config { 'other_config:pmd-auto-lb-rebal-interval': value => $pmd_auto_lb_rebal_interval; 'other_config:pmd-auto-lb-load-threshold': value => $pmd_auto_lb_load_threshold; 'other_config:pmd-auto-lb-improvement-threshold': value => $pmd_auto_lb_improvement_threshold; } "," $memory_channels = undef, $host_core_list = undef, $package_ensure = 'present', $pmd_core_list = undef, $socket_mem = undef, $socket_limit = undef, $enable_hw_offload = false, $disable_emc = false, $vlan_limit = undef, $revalidator_cores = undef, $handler_cores = undef, $enable_tso = false, $vs_config = {},",104,22
openstack%2Fpuppet-vswitch~master~I5eb4a151c74011c7ad451675bdfd8f9616d0770c,openstack/puppet-vswitch,master,I5eb4a151c74011c7ad451675bdfd8f9616d0770c,Ensure boolean values,MERGED,2022-07-28 00:36:40.000000000,2022-08-01 16:07:09.000000000,2022-08-01 16:07:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 00:36:40.000000000', 'files': ['manifests/ovs.pp', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/0dd46d61652afe1e3492ea50bdb208b0d84b7c92', 'message': 'Ensure boolean values\n\nThe current logic to handle the following three parameters expect\nthese accept boolean values and can misbehave if non-boolean value is\npassed.\n - enable_hw_offload\n - disable_emc\n - enable_tso\n\nThis change introduces additional validation to ensure boolean values\nare passed.\n\nChange-Id: I5eb4a151c74011c7ad451675bdfd8f9616d0770c\n'}]",0,851270,0dd46d61652afe1e3492ea50bdb208b0d84b7c92,7,3,1,9816,,,0,"Ensure boolean values

The current logic to handle the following three parameters expect
these accept boolean values and can misbehave if non-boolean value is
passed.
 - enable_hw_offload
 - disable_emc
 - enable_tso

This change introduces additional validation to ensure boolean values
are passed.

Change-Id: I5eb4a151c74011c7ad451675bdfd8f9616d0770c
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/70/851270/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ovs.pp', 'manifests/dpdk.pp']",2,0dd46d61652afe1e3492ea50bdb208b0d84b7c92,," validate_legacy(Boolean, 'validate_bool', $enable_hw_offload) validate_legacy(Boolean, 'validate_bool', $disable_emc) validate_legacy(Boolean, 'validate_bool', $enable_tso)",,6,0
openstack%2Fpuppet-keystone~stable%2Fxena~Ic0398cfbb14782ce16710a838e5428be50f2a0b3,openstack/puppet-keystone,stable/xena,Ic0398cfbb14782ce16710a838e5428be50f2a0b3,Ensure key contents are hidden,MERGED,2022-08-01 07:29:31.000000000,2022-08-01 16:04:24.000000000,2022-08-01 16:03:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 07:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e096b7f6b252078570dbf4af1d1a50905aa6a7f7', 'message': 'Ensure key contents are hidden\n\nBy default, the file resource shows differences when the file changes.\nThis change disables that for the key files so that key contents are\nnot displayed in output.\n\nCloses-Bug: #1979672\nChange-Id: Ic0398cfbb14782ce16710a838e5428be50f2a0b3\n(cherry picked from commit c76bfbe41f7bdc37a50893609cd4d70a2a7e1a75)\n'}, {'number': 2, 'created': '2022-08-01 07:35:18.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/bug-1979672-003a5939f3bd6f67.yaml', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f5d1daf0b7485b11abf1f372d0d2e9f4910c777d', 'message': 'Ensure key contents are hidden\n\nBy default, the file resource shows differences when the file changes.\nThis change disables that for the key files so that key contents are\nnot displayed in output.\n\nCloses-Bug: #1979672\nChange-Id: Ic0398cfbb14782ce16710a838e5428be50f2a0b3\n(cherry picked from commit c76bfbe41f7bdc37a50893609cd4d70a2a7e1a75)\n(cherry picked from commit 6a0ca3f0f5730aa5cca683c62117c3f1568ca535)\n'}]",0,851710,f5d1daf0b7485b11abf1f372d0d2e9f4910c777d,11,3,2,16137,,,0,"Ensure key contents are hidden

By default, the file resource shows differences when the file changes.
This change disables that for the key files so that key contents are
not displayed in output.

Closes-Bug: #1979672
Change-Id: Ic0398cfbb14782ce16710a838e5428be50f2a0b3
(cherry picked from commit c76bfbe41f7bdc37a50893609cd4d70a2a7e1a75)
(cherry picked from commit 6a0ca3f0f5730aa5cca683c62117c3f1568ca535)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/10/851710/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/bug-1979672-003a5939f3bd6f67.yaml', 'spec/classes/keystone_init_spec.rb']",3,e096b7f6b252078570dbf4af1d1a50905aa6a7f7,bug/1979672," :show_diff => false, :show_diff => false,",,9,0
openstack%2Fpuppet-swift~stable%2Fyoga~Ifdf86a6310fa8f8405579bd181e2070aa93d0b23,openstack/puppet-swift,stable/yoga,Ifdf86a6310fa8f8405579bd181e2070aa93d0b23,Fix typo in parameter name,MERGED,2022-07-29 03:33:57.000000000,2022-08-01 15:54:37.000000000,2022-08-01 15:54:37.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 03:33:57.000000000', 'files': ['manifests/params.pp', 'manifests/proxy/cname_lookup.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/9cc8b8d2d4d81041e2bff664c0555d149a1e02a1', 'message': 'Fix typo in parameter name\n\nThis change fixes typo in parameter name from\n`dnspython_pakage_name` to `dnspython_package_name`.\n\nThe tests were using correct parameter name but in manifests\nincorrect name was used.\n\nChange-Id: Ifdf86a6310fa8f8405579bd181e2070aa93d0b23\n(cherry picked from commit 814ec2de3617bde1a0423e39ef1ee987c2acc415)\n'}]",1,851378,9cc8b8d2d4d81041e2bff664c0555d149a1e02a1,9,3,1,20733,,,0,"Fix typo in parameter name

This change fixes typo in parameter name from
`dnspython_pakage_name` to `dnspython_package_name`.

The tests were using correct parameter name but in manifests
incorrect name was used.

Change-Id: Ifdf86a6310fa8f8405579bd181e2070aa93d0b23
(cherry picked from commit 814ec2de3617bde1a0423e39ef1ee987c2acc415)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/78/851378/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'manifests/proxy/cname_lookup.pp']",2,9cc8b8d2d4d81041e2bff664c0555d149a1e02a1,trivial-fix-stable/yoga," name => $::swift::params::dnspython_package_name,"," name => $::swift::params::dnspython_pakage_name,",6,6
openstack%2Fpuppet-openstack-integration~master~I18d0037c5bdc2a68704402c2dc05a4e67bb8d6f6,openstack/puppet-openstack-integration,master,I18d0037c5bdc2a68704402c2dc05a4e67bb8d6f6,Use kmod module from voxpupil,MERGED,2022-07-30 14:24:28.000000000,2022-08-01 15:50:01.000000000,2022-08-01 15:50:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-30 14:24:28.000000000', 'files': ['Puppetfile', 'external_modules.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f5c147311ca7aa86465626c4db3ea4244e2ed430', 'message': 'Use kmod module from voxpupil\n\ncamptocamp/kmod[1] was deprecated in favor of voxpupil/puppet-kmod[2].\n\n[1] https://forge.puppet.com/modules/camptocamp/kmod\n[2] https://forge.puppet.com/modules/puppet/kmod\n\nChange-Id: I18d0037c5bdc2a68704402c2dc05a4e67bb8d6f6\n'}]",0,851665,f5c147311ca7aa86465626c4db3ea4244e2ed430,7,3,1,9816,,,0,"Use kmod module from voxpupil

camptocamp/kmod[1] was deprecated in favor of voxpupil/puppet-kmod[2].

[1] https://forge.puppet.com/modules/camptocamp/kmod
[2] https://forge.puppet.com/modules/puppet/kmod

Change-Id: I18d0037c5bdc2a68704402c2dc05a4e67bb8d6f6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/65/851665/1 && git format-patch -1 --stdout FETCH_HEAD,"['Puppetfile', 'external_modules.txt']",2,f5c147311ca7aa86465626c4db3ea4244e2ed430,,voxpupuli/puppet-kmod,camptocamp/puppet-kmod,2,2
openstack%2Fcharm-vault~stable%2F1.7~Ic6e047ef034de79cc171453158bb7bc209f6fbcc,openstack/charm-vault,stable/1.7,Ic6e047ef034de79cc171453158bb7bc209f6fbcc,"Revert ""Implement cert cache for vault units (v2)""",MERGED,2022-08-01 13:55:59.000000000,2022-08-01 15:45:36.000000000,2022-08-01 14:40:13.000000000,"[{'_account_id': 2424}, {'_account_id': 10366}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 13:55:59.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/820b94da23619ef8587abfb763bf938241867c49', 'message': 'Revert ""Implement cert cache for vault units (v2)""\n\nThis reverts commit 2ff5f1110ce2013f49fe72cfb3628b97b1b39d26.\n\nReason for revert:\n\nReverting cherry-pick as it breaks with large models: See bug: https://bugs.launchpad.net/vault-charm/+bug/1983269\n\nChange-Id: Ic6e047ef034de79cc171453158bb7bc209f6fbcc\n'}]",0,851719,820b94da23619ef8587abfb763bf938241867c49,8,5,1,20870,,,0,"Revert ""Implement cert cache for vault units (v2)""

This reverts commit 2ff5f1110ce2013f49fe72cfb3628b97b1b39d26.

Reason for revert:

Reverting cherry-pick as it breaks with large models: See bug: https://bugs.launchpad.net/vault-charm/+bug/1983269

Change-Id: Ic6e047ef034de79cc171453158bb7bc209f6fbcc
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/19/851719/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py']",4,820b94da23619ef8587abfb763bf938241867c49,bug/1970888,from unittest.mock import patch,"from unittest.mock import call, patch, MagicMockimport json @patch.object(vault_pki.hookenv, 'leader_get') def test_get_pki_cache(self, leader_get): """"""Test retrieving PKI from cache."""""" expected_pki = { ""client_unit_0"": { vault_pki.TOP_LEVEL_CERT_KEY: { ""client_unit_0.server.cert"": ""cert_data"", ""client_unit_0.server.key"": ""key_data"", } } } leader_get.return_value = json.dumps(expected_pki) pki = vault_pki.get_pki_cache() self.assertEqual(pki, expected_pki) # test retrieval if the PKI is not set leader_get.return_value = None pki = vault_pki.get_pki_cache() self.assertEqual(pki, {}) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_no_ca(self, get_ca, get_chain, get_pki_cache): """"""Test getting cert from cache when CA is missing."""""" get_ca.return_value = None get_chain.return_value = None cert, key = vault_pki.find_cert_in_cache(MagicMock()) # assert that CA cert or chain was retrieved get_ca.assert_called_once_with() get_chain.assert_called_once_with() # assert that function does not proceed due to the missing CA get_pki_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_missing(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test use case when searched certificate is not in cache."""""" request = MagicMock() request.unit_name = ""client_unit_0"" request._is_top_level_server_cert = True get_ca.return_value = MagicMock() get_pki_cache.return_value = {} cert, key = vault_pki.find_cert_in_cache(request) # assert that verification of cert is not attempted when # cert is not found verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) # Same scenario, but with non-top-level certificate request._is_top_level_server_cert = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI cache content pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: expected_cert, key_name: expected_key } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_not_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching non-top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI cache content pki = { client_name: { publish_key: { common_name: { ""cert"": expected_cert, ""key"": expected_key, } } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request.common_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI structure initial_pki = {} expected_pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: cert_data, key_name: key_data } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_non_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing non-top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI structure initial_pki = {} expected_pki = { client_name: { publish_key: { common_name: { ""cert"": cert_data, ""key"": key_data, } } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_remove_unit_from_cache(self, leader_set, get_pki_cache): """"""Test removing unit certificates from cache."""""" remaining_unit = ""client/0"" removed_unit = ""client/1"" pki = { remaining_unit: ""Unit certificates"", removed_unit: ""Unit certificates"", } expected_pki = { remaining_unit: ""Unit certificates"" } get_pki_cache.return_value = pki vault_pki.remove_unit_from_cache(removed_unit) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'update_cert_cache') def test_populate_cert_cache(self, update_cert_cache): # Define data for top level certificate and key top_level_cert_name = ""server.crt"" top_level_key_name = ""server.key"" top_level_cert_data = ""top level cert"" top_level_key_data = ""top level key"" # Define data for non-top level certificate processed_request_cn = ""juju_unit_service.crt"" processed_request_publish_key = ""juju_unit_service.processed"" processed_cert_data = ""processed cert"" processed_key_data = ""processed key"" # Mock request for top level certificate top_level_request = MagicMock() top_level_request._is_top_level_server_cert = True top_level_request._server_cert_key = top_level_cert_name top_level_request._server_key_key = top_level_key_name top_level_request._unit.relation.to_publish_raw = { top_level_cert_name: top_level_cert_data, top_level_key_name: top_level_key_data, } # Mock request for non-top level certificate processed_request = MagicMock() processed_request._is_top_level_server_cert = False processed_request.common_name = processed_request_cn processed_request._publish_key = processed_request_publish_key processed_request._unit.relation.to_publish = { processed_request_publish_key: {processed_request_cn: { ""cert"": processed_cert_data, ""key"": processed_key_data }} } tls_endpoint = MagicMock() tls_endpoint.all_requests = [top_level_request, processed_request] vault_pki.populate_cert_cache(tls_endpoint) expected_update_calls = [ call(top_level_request, top_level_cert_data, top_level_key_data), call(processed_request, processed_cert_data, processed_key_data), ] update_cert_cache.assert_has_calls(expected_update_calls)",22,799
openstack%2Fpuppet-octavia~stable%2Fyoga~Ida326ccb72759d843cff95ffc72f7ffb9c4cf71a,openstack/puppet-octavia,stable/yoga,Ida326ccb72759d843cff95ffc72f7ffb9c4cf71a,Do not show passphrase even if it is invalid,MERGED,2022-08-01 07:41:57.000000000,2022-08-01 15:45:02.000000000,2022-08-01 15:45:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 07:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/91ec0761831988648e916e69edab56d4ca2fcd6e', 'message': 'Do not show passphrase even if it is invalid\n\n... even when validation fails. Showing the invalid passphrase might\nallow people to guess the correct one.\n\nChange-Id: Ida326ccb72759d843cff95ffc72f7ffb9c4cf71a\n'}, {'number': 2, 'created': '2022-08-01 07:49:38.000000000', 'files': ['manifests/certificates.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c24f796402a7e3af59b6dcf109040d17f3c31122', 'message': 'Do not show passphrase even if it is invalid\n\n... even when validation fails. Showing the invalid passphrase might\nallow people to guess the correct one.\n\nChange-Id: Ida326ccb72759d843cff95ffc72f7ffb9c4cf71a\n(cherry picked from commit 314bfff89c38a8b669aa07947501a6054105c8ff)\n'}]",0,851711,c24f796402a7e3af59b6dcf109040d17f3c31122,10,3,2,16137,,,0,"Do not show passphrase even if it is invalid

... even when validation fails. Showing the invalid passphrase might
allow people to guess the correct one.

Change-Id: Ida326ccb72759d843cff95ffc72f7ffb9c4cf71a
(cherry picked from commit 314bfff89c38a8b669aa07947501a6054105c8ff)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/11/851711/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/certificates.pp'],1,91ec0761831988648e916e69edab56d4ca2fcd6e,, if length($server_certs_key_passphrase)!=32 { fail('server_certs_key_passphrase must be 32 characters long.') } ," if length($server_certs_key_passphrase)!=32 { fail(""The passphrase '${server_certs_key_passphrase}' is invalid for server_certs_key_passphrase. Please provide a 32 characters passphrase."") }",4,2
openstack%2Ftripleo-upgrade~master~I57d6680f16b2bdc9026a3f8175470f35611a6b45,openstack/tripleo-upgrade,master,I57d6680f16b2bdc9026a3f8175470f35611a6b45,Add additional tags to update validations tasks,MERGED,2022-07-11 10:46:13.000000000,2022-08-01 15:32:32.000000000,2022-08-01 15:32:32.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-11 10:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cd070ce7f51f94ebb558637f5cf3854f72ef7b36', 'message': 'Add additional tags to update validations tasks\n\nTo be able to run selectable validations ansible tasks, additional tags\nare added to all update related validations tasks.\nBy introducing this change one can run only specific validations with\nansible tags mechanism.\n\nThese new tags are introduced:\n- pre_update_validations\n- pre_update_prepare_validations\n- pre_update_run_validations\n- post_update_validations\n\nChange-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45\n'}, {'number': 2, 'created': '2022-07-18 20:20:41.000000000', 'files': ['tasks/update/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fff4372fb3ffba17be83cb4de7083c1385d43524', 'message': 'Add additional tags to update validations tasks\n\nTo be able to run selectable validations ansible tasks, additional tags\nare added to all update related validations tasks.\nBy introducing this change one can run only specific validations with\nansible tags mechanism.\n\nThese new tags are introduced:\n- pre_update_validations\n- pre_update_prepare_validations\n- pre_update_run_validations\n- post_update_validations\n\nChange-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45\n'}]",2,849306,fff4372fb3ffba17be83cb4de7083c1385d43524,14,4,2,33080,,,0,"Add additional tags to update validations tasks

To be able to run selectable validations ansible tasks, additional tags
are added to all update related validations tasks.
By introducing this change one can run only specific validations with
ansible tags mechanism.

These new tags are introduced:
- pre_update_validations
- pre_update_prepare_validations
- pre_update_run_validations
- post_update_validations

Change-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/06/849306/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/main.yml'],1,cd070ce7f51f94ebb558637f5cf3854f72ef7b36,update-validations-tags, - pre_update_validations - pre_update_prepare_validations - pre_update_run_validations - post_update_validations,,4,0
openstack%2Fpuppet-swift~stable%2Fxena~Ibad7afb29007109a683e22a1119b5b5fbdb1c130,openstack/puppet-swift,stable/xena,Ibad7afb29007109a683e22a1119b5b5fbdb1c130,Use the root user to generate ring builder files,ABANDONED,2022-08-01 15:25:34.000000000,2022-08-01 15:29:57.000000000,,[],"[{'number': 1, 'created': '2022-08-01 15:25:34.000000000', 'files': ['spec/defines/swift_ringbuilder_create_spec.rb', 'releasenotes/notes/bug-1980613-b2e589f74602f11f.yaml', 'manifests/ringbuilder/create.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/f0b4b7c4dc34b2283571d83e3fcbcc5848754de1', 'message': 'Use the root user to generate ring builder files\n\nIn Ubuntu, the swift user does not have write access to the /etc/swift\ndirectory, so generating a ring builder file by the swift user fails\nwith Permission Error.\n\nThis change switches the execution user to root to avoid the error.\n\nCloses-Bug: #1980613\nChange-Id: Ibad7afb29007109a683e22a1119b5b5fbdb1c130\n(cherry picked from commit d443048fae953e03e4a9db53d5b5f518e6a17d2f)\n(cherry picked from commit 0abf25d1bf3a91b1c69576e7a27a36e23a73b1bd)\n'}]",0,851754,f0b4b7c4dc34b2283571d83e3fcbcc5848754de1,2,0,1,9816,,,0,"Use the root user to generate ring builder files

In Ubuntu, the swift user does not have write access to the /etc/swift
directory, so generating a ring builder file by the swift user fails
with Permission Error.

This change switches the execution user to root to avoid the error.

Closes-Bug: #1980613
Change-Id: Ibad7afb29007109a683e22a1119b5b5fbdb1c130
(cherry picked from commit d443048fae953e03e4a9db53d5b5f518e6a17d2f)
(cherry picked from commit 0abf25d1bf3a91b1c69576e7a27a36e23a73b1bd)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/54/851754/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/swift_ringbuilder_create_spec.rb', 'releasenotes/notes/bug-1980613-b2e589f74602f11f.yaml', 'manifests/ringbuilder/create.pp']",3,f0b4b7c4dc34b2283571d83e3fcbcc5848754de1,bug/1980613-stable/xena,"# Optional. Defaults to 'root'# user => 'root', $part_power = 18, $replicas = 3, $user = 'root'","# Optional. Defaults to 'swift'# user => 'swift', $part_power = 18, $replicas = 3, $user = 'swift'",13,7
openstack%2Fpuppet-swift~stable%2Fwallaby~Ibad7afb29007109a683e22a1119b5b5fbdb1c130,openstack/puppet-swift,stable/wallaby,Ibad7afb29007109a683e22a1119b5b5fbdb1c130,Use the root user to generate ring builder files,ABANDONED,2022-08-01 15:25:59.000000000,2022-08-01 15:29:53.000000000,,[],"[{'number': 1, 'created': '2022-08-01 15:25:59.000000000', 'files': ['spec/defines/swift_ringbuilder_create_spec.rb', 'releasenotes/notes/bug-1980613-b2e589f74602f11f.yaml', 'manifests/ringbuilder/create.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/8582adcdb4051a9fd250f8b603c1328ea871380a', 'message': 'Use the root user to generate ring builder files\n\nIn Ubuntu, the swift user does not have write access to the /etc/swift\ndirectory, so generating a ring builder file by the swift user fails\nwith Permission Error.\n\nThis change switches the execution user to root to avoid the error.\n\nCloses-Bug: #1980613\nChange-Id: Ibad7afb29007109a683e22a1119b5b5fbdb1c130\n(cherry picked from commit d443048fae953e03e4a9db53d5b5f518e6a17d2f)\n(cherry picked from commit 0abf25d1bf3a91b1c69576e7a27a36e23a73b1bd)\n(cherry picked from commit f0b4b7c4dc34b2283571d83e3fcbcc5848754de1)\n'}]",0,851755,8582adcdb4051a9fd250f8b603c1328ea871380a,2,0,1,9816,,,0,"Use the root user to generate ring builder files

In Ubuntu, the swift user does not have write access to the /etc/swift
directory, so generating a ring builder file by the swift user fails
with Permission Error.

This change switches the execution user to root to avoid the error.

Closes-Bug: #1980613
Change-Id: Ibad7afb29007109a683e22a1119b5b5fbdb1c130
(cherry picked from commit d443048fae953e03e4a9db53d5b5f518e6a17d2f)
(cherry picked from commit 0abf25d1bf3a91b1c69576e7a27a36e23a73b1bd)
(cherry picked from commit f0b4b7c4dc34b2283571d83e3fcbcc5848754de1)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/55/851755/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/swift_ringbuilder_create_spec.rb', 'releasenotes/notes/bug-1980613-b2e589f74602f11f.yaml', 'manifests/ringbuilder/create.pp']",3,8582adcdb4051a9fd250f8b603c1328ea871380a,bug/1980613-stable/wallaby,"# Optional. Defaults to 'root'# user => 'root', $part_power = 18, $replicas = 3, $user = 'root'","# Optional. Defaults to 'swift'# user => 'swift', $part_power = 18, $replicas = 3, $user = 'swift'",13,7
openstack%2Fpython-manilaclient~master~I24d27a7789f7be4f250b6b4d14a7c03acd2474bb,openstack/python-manilaclient,master,I24d27a7789f7be4f250b6b4d14a7c03acd2474bb,[OSC] Implement security services commands,MERGED,2021-11-02 19:57:46.000000000,2022-08-01 15:16:15.000000000,2022-07-28 20:04:11.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-11-02 19:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/95426d4678e4767b0f923bdcb52661511a2d2963', 'message': '[OSC] WIP: Implement security services commands\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 2, 'created': '2021-11-02 19:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/eb8c5216eef7a2a0749b44de4b484ae632d242f2', 'message': '[OSC] WIP: Implement security services commands\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 3, 'created': '2021-11-02 20:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6f404103b30cbbb23802fd95ca4c3b83330addde', 'message': '[OSC] WIP: Implement security services commands\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 4, 'created': '2021-11-04 18:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9b2f87cc5b26d754e44c13b2dc1463bc85c1d072', 'message': '[OSC] WIP: Implement security services commands\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 5, 'created': '2021-11-04 18:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3850e84a5e919e8ed6b587ba1f2400f1a974b6c2', 'message': '[OSC] WIP: Implement security services commands\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 6, 'created': '2021-11-15 19:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5b3b0352fed06b6b68e2fa8db3d9a53410a50a17', 'message': '[OSC] WIP: Implement security services commands\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 7, 'created': '2021-11-26 15:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/96a4f683df729bcb1492ddb2f0c5e3cd55a6e974', 'message': '[OSC] WIP: Implement security services commands\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 8, 'created': '2022-01-03 13:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/40578e51f2212f48ee67674c20cba7bad58f22e2', 'message': '[OSC] WIP: Implement security services commands\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 9, 'created': '2022-01-03 16:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4ef0c72feb75a354d5aca42540068ca441bfb07f', 'message': '[OSC] Implement security services commands\n\nIn this patch we add the following openstack share commands:\nshare security service create\nshare security service delete\nshare security service list\nshare security service show\nshare security service set\nshare security service unset\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 10, 'created': '2022-01-04 20:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/994b59fb20c85763769f48d38aa070a24e5f6d71', 'message': '[OSC] Implement security services commands\n\nIn this patch we add the following openstack share commands:\nshare security service create\nshare security service delete\nshare security service list\nshare security service show\nshare security service set\nshare security service unset\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 11, 'created': '2022-03-09 09:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/629cf0de11e95b4d7790213d3b22ed8e4858db42', 'message': '[OSC] Implement security services commands\n\nIn this patch we add the following openstack share commands:\nshare security service create\nshare security service delete\nshare security service list\nshare security service show\nshare security service set\nshare security service unset\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 12, 'created': '2022-03-09 09:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/415c54b27e05fd2b87210097f0570dac0b0de4e7', 'message': '[OSC] Implement security services commands\n\nIn this patch we add the following openstack share commands:\nshare security service create\nshare security service delete\nshare security service list\nshare security service show\nshare security service set\nshare security service unset\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 13, 'created': '2022-06-03 19:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e5a5472dca20ab376f90043a60001123c5058aaf', 'message': '[OSC] Implement security services commands\n\nIn this patch we add the following openstack share commands:\nshare security service create\nshare security service delete\nshare security service list\nshare security service show\nshare security service set\nshare security service unset\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 14, 'created': '2022-07-01 08:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ad0be33c1dda9f902fa9be61b7ba9cc0eda88e88', 'message': '[OSC] Implement security services commands\n\nIn this patch we add the following openstack share commands:\nshare security service create\nshare security service delete\nshare security service list\nshare security service show\nshare security service set\nshare security service unset\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 15, 'created': '2022-07-01 11:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a4437a9daef65d33f421792805709813c945ade8', 'message': '[OSC] Implement security services commands\n\nIn this patch we add the following openstack share commands:\nshare security service create\nshare security service delete\nshare security service list\nshare security service show\nshare security service set\nshare security service unset\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 16, 'created': '2022-07-13 16:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b8b9feba19fbcf1455c3c6c05ac7111055c88fc7', 'message': '[OSC] Implement security services commands\n\nIn this patch we add the following openstack share commands:\nshare security service create\nshare security service delete\nshare security service list\nshare security service show\nshare security service set\nshare security service unset\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 17, 'created': '2022-07-14 06:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c2a323402086a652b9035907ed2e9156d3a1f517', 'message': '[OSC] Implement security services commands\n\nIn this patch we add the following openstack share commands:\nshare security service create\nshare security service delete\nshare security service list\nshare security service show\nshare security service set\nshare security service unset\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}, {'number': 18, 'created': '2022-07-26 10:17:31.000000000', 'files': ['manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_security_services.py', 'doc/source/cli/osc/v2/index.rst', 'manilaclient/osc/v2/security_services.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8873dc20e909d9367498d9cbe0024b334ef00b9d', 'message': '[OSC] Implement security services commands\n\nIn this patch we add the following openstack share commands:\nshare security service create\nshare security service delete\nshare security service list\nshare security service show\nshare security service set\nshare security service unset\n\nPartially-implements: bp openstack-client-support\nChange-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb\n'}]",17,816401,8873dc20e909d9367498d9cbe0024b334ef00b9d,50,6,18,31213,,,0,"[OSC] Implement security services commands

In this patch we add the following openstack share commands:
share security service create
share security service delete
share security service list
share security service show
share security service set
share security service unset

Partially-implements: bp openstack-client-support
Change-Id: I24d27a7789f7be4f250b6b4d14a7c03acd2474bb
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/01/816401/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,95426d4678e4767b0f923bdcb52661511a2d2963,bp/openstack-client-support, share_security_service_create = manilaclient.osc.v2.security_services:CreateShareSecurityService,,1,0
openstack%2Fansible-collections-openstack~master~I76bbe10b850c38a3fbb38c4a2f5ee17ca5b91b4e,openstack/ansible-collections-openstack,master,I76bbe10b850c38a3fbb38c4a2f5ee17ca5b91b4e,Fixed code violating Flake8 rule E275,MERGED,2022-08-01 12:33:03.000000000,2022-08-01 14:58:43.000000000,2022-08-01 14:58:43.000000000,"[{'_account_id': 8367}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-08-01 12:33:03.000000000', 'files': ['tests/unit/modules/cloud/openstack/test_server.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1bf22feb2dd9f7e88ff6722ed10257d87ac5d4c5', 'message': 'Fixed code violating Flake8 rule E275\n\nassert [1] is a Python keyword hence Flake8 raised an error:\n""E275 missing whitespace after keyword"" [2].\n\n[1] https://docs.python.org/3/reference/lexical_analysis.html#keywords\n[2] https://www.flake8rules.com/rules/E275.html\n\nChange-Id: I76bbe10b850c38a3fbb38c4a2f5ee17ca5b91b4e\n'}]",0,851736,1bf22feb2dd9f7e88ff6722ed10257d87ac5d4c5,10,5,1,32962,,,0,"Fixed code violating Flake8 rule E275

assert [1] is a Python keyword hence Flake8 raised an error:
""E275 missing whitespace after keyword"" [2].

[1] https://docs.python.org/3/reference/lexical_analysis.html#keywords
[2] https://www.flake8rules.com/rules/E275.html

Change-Id: I76bbe10b850c38a3fbb38c4a2f5ee17ca5b91b4e
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/36/851736/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/modules/cloud/openstack/test_server.py'],1,1bf22feb2dd9f7e88ff6722ed10257d87ac5d4c5,fix-assert, assert args[0]['net-id'] == '1234' assert args[0]['net-id'] == '1234' assert args[1]['net-id'] == '4321' assert args[0]['port-id'] == '1234' assert args[0]['net-id'] == '5678' assert args[0]['port-id'] == '1234' assert args[0]['net-id'] == '1234' assert args[0]['net-id'] == '1234' assert args[1]['port-id'] == '1234' assert args[2]['net-id'] == '5678' assert args[3]['port-id'] == '4321' assert self.cloud.create_server.call_count == 1 assert self.cloud.create_server.call_args[1]['image'] == self.cloud.get_image_id('cirros') assert self.cloud.create_server.call_args[1]['flavor'] == self.cloud.get_flavor('m1.tiny')['id'] assert self.cloud.create_server.call_args[1]['nics'][0]['net-id'] == self.cloud.get_network('network1')['id'] assert 'missing_flavor' in self.module.fail_json.call_args[1]['msg'] assert 'missing_network' in self.module.fail_json.call_args[1]['msg'], assert(args[0]['net-id'] == '1234') assert(args[0]['net-id'] == '1234') assert(args[1]['net-id'] == '4321') assert(args[0]['port-id'] == '1234') assert(args[0]['net-id'] == '5678') assert(args[0]['port-id'] == '1234') assert(args[0]['net-id'] == '1234') assert(args[0]['net-id'] == '1234') assert(args[1]['port-id'] == '1234') assert(args[2]['net-id'] == '5678') assert(args[3]['port-id'] == '4321') assert(self.cloud.create_server.call_count == 1) assert(self.cloud.create_server.call_args[1]['image'] == self.cloud.get_image_id('cirros')) assert(self.cloud.create_server.call_args[1]['flavor'] == self.cloud.get_flavor('m1.tiny')['id']) assert(self.cloud.create_server.call_args[1]['nics'][0]['net-id'] == self.cloud.get_network('network1')['id']) assert('missing_flavor' in self.module.fail_json.call_args[1]['msg']) assert('missing_network' in self.module.fail_json.call_args[1]['msg']),17,19
openstack%2Fdiskimage-builder~master~Ibfebced7058ed8c9170c6146a00bc337071d0e67,openstack/diskimage-builder,master,Ibfebced7058ed8c9170c6146a00bc337071d0e67,Add download of manifest file.,ABANDONED,2022-07-28 19:22:21.000000000,2022-08-01 14:55:20.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 32053}]","[{'number': 1, 'created': '2022-07-28 19:22:21.000000000', 'files': ['diskimage_builder/elements/ubuntu/root.d/10-cache-ubuntu-tarball'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/88e4a228feebd727cb10a18d49a128c34ac8996e', 'message': 'Add download of manifest file.\n\nSince some time manifest file become required.\nThe problem is described at\nhttps://bugs.launchpad.net/diskimage-builder/+bug/1981436\n\nThis patch introduce caching of manifest file for\nubuntu cloud images\n\nChange-Id: Ibfebced7058ed8c9170c6146a00bc337071d0e67\n'}]",2,851462,88e4a228feebd727cb10a18d49a128c34ac8996e,7,3,1,32053,,,0,"Add download of manifest file.

Since some time manifest file become required.
The problem is described at
https://bugs.launchpad.net/diskimage-builder/+bug/1981436

This patch introduce caching of manifest file for
ubuntu cloud images

Change-Id: Ibfebced7058ed8c9170c6146a00bc337071d0e67
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/62/851462/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/ubuntu/root.d/10-cache-ubuntu-tarball'],1,88e4a228feebd727cb10a18d49a128c34ac8996e,,DIB_CLOUD_IMAGE_MANIFEST=${DIB_CLOUD_IMAGE_MANIFEST:-https://${DIB_CLOUD_IMAGES##http?(s)://}/${BASE_IMAGE_FILE}.manifest}CACHED_MANIFEST=$DIB_IMAGE_CACHE/$BASE_IMAGE_FILE.manifest $TMP_HOOKS_PATH/bin/cache-url \ $DIB_CLOUD_IMAGE_MANIFEST $CACHED_MANIFEST,,4,0
openstack%2Fcharm-guide~master~Id541bf291170a2318e3bea18b86e6138494746bf,openstack/charm-guide,master,Id541bf291170a2318e3bea18b86e6138494746bf,Improve charms page,MERGED,2022-07-26 19:19:58.000000000,2022-08-01 14:54:44.000000000,2022-08-01 14:53:32.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 19:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/37613c6124f5d61006735d2b359334b11923e71d', 'message': 'Improve charms page\n\nAdd a reference to the release schedule to make the table\nof charms more meaningful.\n\nChange wording of a paragraph in order to accommodate\nchannel charms.\n\nTwo broken links needed to be fixed in order for the\nproject to build.\n\nChange-Id: Id541bf291170a2318e3bea18b86e6138494746bf\n'}, {'number': 2, 'created': '2022-07-29 16:08:17.000000000', 'files': ['doc/source/project/openstack-charms.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7073aedbd420057c93b85201570d70359bc578a4', 'message': 'Improve charms page\n\nAdd a reference to the release schedule to make the table\nof charms more meaningful.\n\nChange wording of a paragraph in order to accommodate\nchannel charms.\n\nTwo broken links needed to be fixed in order for the\nproject to build.\n\nChange-Id: Id541bf291170a2318e3bea18b86e6138494746bf\n'}]",0,851083,7073aedbd420057c93b85201570d70359bc578a4,9,2,2,30561,,,0,"Improve charms page

Add a reference to the release schedule to make the table
of charms more meaningful.

Change wording of a paragraph in order to accommodate
channel charms.

Two broken links needed to be fixed in order for the
project to build.

Change-Id: Id541bf291170a2318e3bea18b86e6138494746bf
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/83/851083/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/networking/ovn.rst', 'doc/source/admin/networking/load-balancing.rst', 'doc/source/project/openstack-charms.rst']",3,37613c6124f5d61006735d2b359334b11923e71d,improve-charms-page,"This page lists the charms that make up the OpenStack Charms project. The version of OpenStack Charms when a charm first appeared is provided (see :doc:`release-schedule` for details of release times). Read :ref:`cdg:charm_types` in the upgrade documentation to understand charm support in terms of Ubuntu series and OpenStack release.These charms do not have stable releases. Regardless of any maintenance and testing that these charms may receive, some work (major bugs, payload packaging issues, project issues, general QA) is still required before the charms are ready for production use (promoted to Stable).","This page lists the charms that make up the OpenStack Charms project. Each stable release of OpenStack Charms is backwards-compatible to cover all currently-supported combinations of Ubuntu and OpenStack, relative to the specific payload of each charm.These charms do not have stable releases, even though they may technically have ""stable/yy.mm"" branches. Regardless of any maintenance and testing that these charms may receive, some work (major bugs, payload packaging issues, project issues, general QA) is still required before the charms are ready for production use (promoted to Stable).",11,13
openstack%2Fcharm-guide~master~I2cabc001f58b384ba8efcebc52f0c6c162aeeaba,openstack/charm-guide,master,I2cabc001f58b384ba8efcebc52f0c6c162aeeaba,Improve software bug page,MERGED,2022-07-26 17:15:49.000000000,2022-08-01 14:50:03.000000000,2022-08-01 14:48:42.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 17:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ada4fa3cc72e88923185d1f0a0d5099b3ce65fac', 'message': 'Improve software bug page\n\nAdd supporting text for filing a bug against a\nparticular charm.\n\nSubtly change some wording to accommodate Charmhub\nchannels with respect to upgrading charms.\n\nMiscellaneous minor word improvements.\n\nChange-Id: I2cabc001f58b384ba8efcebc52f0c6c162aeeaba\n'}, {'number': 2, 'created': '2022-07-29 16:07:18.000000000', 'files': ['doc/source/community/software-bug.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8bdb3245f8653db5c4da6e8dece1744cc184313e', 'message': 'Improve software bug page\n\nAdd supporting text for filing a bug against a\nparticular charm.\n\nSubtly change some wording to accommodate Charmhub\nchannels with respect to upgrading charms.\n\nMiscellaneous minor word improvements.\n\nChange-Id: I2cabc001f58b384ba8efcebc52f0c6c162aeeaba\n'}]",0,851074,8bdb3245f8653db5c4da6e8dece1744cc184313e,9,2,2,30561,,,0,"Improve software bug page

Add supporting text for filing a bug against a
particular charm.

Subtly change some wording to accommodate Charmhub
channels with respect to upgrading charms.

Miscellaneous minor word improvements.

Change-Id: I2cabc001f58b384ba8efcebc52f0c6c162aeeaba
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/74/851074/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/community/software-bug.rst'],1,ada4fa3cc72e88923185d1f0a0d5099b3ce65fac,improve-software-bug-page,"The observed issue may already be fixed. Ideally, upgrade to the most recent revision available and confirm whether the problem persists. See the `Charms upgrade`_ documentation.and charm revision/channel.cause may reside in any one of its layers:When `filing the bug`_, select the charm (from the 'Project' dropdown menu) that you think is most closely related to your problem. For example, if the problem seems related to a malfunctioning hypervisor, select **OpenStack Nova Compute Charm** (i.e. the nova-compute charm). .. _filing the bug: https://bugs.launchpad.net/openstack-charms/+filebug","The latest release of the OpenStack Charms contain the latest fixes. Ideally, upgrade to latest stable charms and confirm whether the problem persists. See the `Charms upgrade`_ documentation.and charm revision.cause may reside at any one of its layers:",11,5
openstack%2Fdiskimage-builder~master~I7c662e13cdbc19b3935f66ed422f15c2de53e525,openstack/diskimage-builder,master,I7c662e13cdbc19b3935f66ed422f15c2de53e525,opensuse: better report checksum errors,MERGED,2022-07-12 02:41:56.000000000,2022-08-01 14:46:13.000000000,2022-08-01 14:44:36.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-12 02:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c8ae397fadf871ffc66ff81daae9d323734e5e73', 'message': 'opensuse: better report checksum errors\n\nReport the checksums and size to make it clearer what is failing.\n\nChange-Id: I7c662e13cdbc19b3935f66ed422f15c2de53e525\n'}, {'number': 2, 'created': '2022-07-12 02:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/41aaa9a3828366f61ff509d001c2fa694baf4f70', 'message': 'opensuse: better report checksum errors\n\nReport the checksums and size to make it clearer what is failing.\n\nChange-Id: I7c662e13cdbc19b3935f66ed422f15c2de53e525\n'}, {'number': 3, 'created': '2022-07-12 04:03:24.000000000', 'files': ['diskimage_builder/elements/opensuse/root.d/10-opensuse-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0abf65eaf7a86fca3f55a70f2721f7aed700b161', 'message': 'opensuse: better report checksum errors\n\nReport the checksums and size to make it clearer what is failing.\n\nChange-Id: I7c662e13cdbc19b3935f66ed422f15c2de53e525\n'}]",2,849445,0abf65eaf7a86fca3f55a70f2721f7aed700b161,17,2,3,7118,,,0,"opensuse: better report checksum errors

Report the checksums and size to make it clearer what is failing.

Change-Id: I7c662e13cdbc19b3935f66ed422f15c2de53e525
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/45/849445/3 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/opensuse/root.d/10-opensuse-cloud-image'],1,c8ae397fadf871ffc66ff81daae9d323734e5e73,suse-checksum,"if [ ${DIB_DEBUG_TRACE:-0} -gt 1 ]; then echo ""Fetching Base Image ${BASE_IMAGE_FILE}"" SIZE=$(stat -c%s ${BASE_IMAGE_FILE} echo ""Base image has sha256sum:${SHA256SUM} size:${SIZE}"" if grep -q $SHA256SUM SHA256SUMS.$BASE_IMAGE_FILE; then echo ""Image downloaded successfully"" else echo ""*** Checksum mismatch"" cat SHA256SUMS.$BASE_IMAGE_FILE exit 1 fi","if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then echo ""Fetching Base Image"" grep -q $SHA256SUM SHA256SUMS.$BASE_IMAGE_FILE",12,3
openstack%2Felection~master~Iefad15950a14a3985877b72ffb7d5789f3a12f92,openstack/election,master,Iefad15950a14a3985877b72ffb7d5789f3a12f92,"Improve ""How to submit a candidacy"" formatting",MERGED,2022-07-29 22:21:17.000000000,2022-08-01 14:45:17.000000000,2022-08-01 14:43:43.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 22:21:17.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/cee56ea7c23f94952b75b2374185f792676a018e', 'message': 'Improve ""How to submit a candidacy"" formatting\n\nChange-Id: Iefad15950a14a3985877b72ffb7d5789f3a12f92\n'}]",2,851617,cee56ea7c23f94952b75b2374185f792676a018e,8,3,1,15343,,,0,"Improve ""How to submit a candidacy"" formatting

Change-Id: Iefad15950a14a3985877b72ffb7d5789f3a12f92
",git fetch https://review.opendev.org/openstack/election refs/changes/17/851617/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,cee56ea7c23f94952b75b2374185f792676a018e,,"* Clone the election repository:: git clone https://opendev.org/openstack/election ; cd election * Commit the candidacy:: git add candidates/<cycle>/*/* git commit -m ""Adding <your_name> candidacy for <project_name>"" * Submit your candidacy:: git review","* Clone the election repository: git clone https://opendev.org/openstack/election ; cd election* Commit the candidacy: git add candidates/<cycle>/\*/\*; git commit -m ""Adding <your_name> candidacy for <project_name>"" * Submit your candidacy: git review",12,5
openstack%2Fpuppet-tempest~master~I8026a4cef6cf2975733539c13be3f7d11d8c65f8,openstack/puppet-tempest,master,I8026a4cef6cf2975733539c13be3f7d11d8c65f8,Bump upper version of puppetlabs-vcsrepo,MERGED,2022-07-30 14:19:07.000000000,2022-08-01 14:41:27.000000000,2022-08-01 14:41:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-30 14:19:07.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/d5ecf3fede2e3152ec2df2b48b5f18bac82e24e9', 'message': ""Bump upper version of puppetlabs-vcsrepo\n\nNow we are using puppetlabs-vcsrepo v5.2.0 in our CI.\n\nLet's bump the upper version so that the constraint include that tested\nversion.\n\nChange-Id: I8026a4cef6cf2975733539c13be3f7d11d8c65f8\n""}]",0,851664,d5ecf3fede2e3152ec2df2b48b5f18bac82e24e9,7,3,1,9816,,,0,"Bump upper version of puppetlabs-vcsrepo

Now we are using puppetlabs-vcsrepo v5.2.0 in our CI.

Let's bump the upper version so that the constraint include that tested
version.

Change-Id: I8026a4cef6cf2975733539c13be3f7d11d8c65f8
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/64/851664/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d5ecf3fede2e3152ec2df2b48b5f18bac82e24e9,," ""version_requirement"": "">=2.4.0 <6.0.0"""," ""version_requirement"": "">=2.4.0 <5.0.0""",1,1
openstack%2Fpuppet-qdr~master~I4e6307db454618cd8d12ca0ec2ad7ca1265e439e,openstack/puppet-qdr,master,I4e6307db454618cd8d12ca0ec2ad7ca1265e439e,Bump upper version of puppetlabs-apt,MERGED,2022-07-30 14:15:33.000000000,2022-08-01 14:41:19.000000000,2022-08-01 14:41:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-30 14:15:33.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/9235117810a2678538ea07ddbcb9e3a26994f7bd', 'message': ""Bump upper version of puppetlabs-apt\n\nNow we are using puppetlabs-apt v8.4.1 in our CI. Let's bump the upper\nversion so that the constraint include that tested version.\n\nChange-Id: I4e6307db454618cd8d12ca0ec2ad7ca1265e439e\n""}]",0,851663,9235117810a2678538ea07ddbcb9e3a26994f7bd,7,3,1,9816,,,0,"Bump upper version of puppetlabs-apt

Now we are using puppetlabs-apt v8.4.1 in our CI. Let's bump the upper
version so that the constraint include that tested version.

Change-Id: I4e6307db454618cd8d12ca0ec2ad7ca1265e439e
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/63/851663/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,9235117810a2678538ea07ddbcb9e3a26994f7bd,," ""version_requirement"": "">=1.8.0 <9.0.0"""," ""version_requirement"": "">=1.8.0 <4.0.0""",1,1
openstack%2Fpuppet-openstack_extras~master~Idbc63ce76287da4a1eb843112f64a46874b82142,openstack/puppet-openstack_extras,master,Idbc63ce76287da4a1eb843112f64a46874b82142,Bump upper version of puppetlabs-apt,MERGED,2022-07-30 14:14:26.000000000,2022-08-01 14:41:13.000000000,2022-08-01 14:41:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-30 14:14:26.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/19645041ce947382ab724dcdbd738ec640171f61', 'message': ""Bump upper version of puppetlabs-apt\n\nNow we are using puppetlabs-apt v8.4.1 in our CI. Let's bump the upper\nversion so that the constraint include that tested version.\n\nChange-Id: Idbc63ce76287da4a1eb843112f64a46874b82142\n""}]",0,851661,19645041ce947382ab724dcdbd738ec640171f61,7,3,1,9816,,,0,"Bump upper version of puppetlabs-apt

Now we are using puppetlabs-apt v8.4.1 in our CI. Let's bump the upper
version so that the constraint include that tested version.

Change-Id: Idbc63ce76287da4a1eb843112f64a46874b82142
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/61/851661/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,19645041ce947382ab724dcdbd738ec640171f61,," ""version_requirement"": "">=1.8.0 <9.0.0"""," ""version_requirement"": "">=1.8.0 <4.0.0""",1,1
openstack%2Fpuppet-ceph~master~I3f51e95d0dd891b70be461e120d58cd32afa192c,openstack/puppet-ceph,master,I3f51e95d0dd891b70be461e120d58cd32afa192c,Bump upper version of puppetlabs-apt,MERGED,2022-07-30 14:14:51.000000000,2022-08-01 14:37:57.000000000,2022-08-01 14:37:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-30 14:14:51.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/0d28ee1e2fef555e0383cda227fd6842fd082c18', 'message': ""Bump upper version of puppetlabs-apt\n\nNow we are using puppetlabs-apt v8.4.1 in our CI. Let's bump the upper\nversion so that the constraint include that tested version.\n\nChange-Id: I3f51e95d0dd891b70be461e120d58cd32afa192c\n""}]",0,851662,0d28ee1e2fef555e0383cda227fd6842fd082c18,7,3,1,9816,,,0,"Bump upper version of puppetlabs-apt

Now we are using puppetlabs-apt v8.4.1 in our CI. Let's bump the upper
version so that the constraint include that tested version.

Change-Id: I3f51e95d0dd891b70be461e120d58cd32afa192c
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/62/851662/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,0d28ee1e2fef555e0383cda227fd6842fd082c18,," ""version_requirement"": "">=2.0.0 <9.0.0"""," ""version_requirement"": "">=2.0.0 <4.0.0""",1,1
openstack%2Fopenstack-ansible~stable%2Fxena~I94a5eb8388c690ee593771815c92e6fada6fb0f4,openstack/openstack-ansible,stable/xena,I94a5eb8388c690ee593771815c92e6fada6fb0f4,Let git choose the branch when cloning a repo,MERGED,2022-07-29 14:47:50.000000000,2022-08-01 14:27:28.000000000,2022-08-01 14:26:02.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-07-29 14:47:50.000000000', 'files': ['playbooks/library/git_requirements.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b8429d28d0d40a0304174ca20ad74f969622814b', 'message': ""Let git choose the branch when cloning a repo\n\nIn this path of the code we clone then checkout the required refspec.\nThe branch name used during the initial clone does not affect the\ncheckout to the required refspec.\n\nHardcoding the initial clone to master has worked when the default\nbranch name for repos has been 'master'. The migration of default\nbranch names to 'main' breaks this assumption.\n\nBy not specifying a branch name in the initial clone we avoid\nproblems with master/main migration, or with a repo which legitimately\nuses a non standard default branch name.\n\nCherry-Picked from https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/846440\n\nChange-Id: I94a5eb8388c690ee593771815c92e6fada6fb0f4\n""}]",2,851552,b8429d28d0d40a0304174ca20ad74f969622814b,11,3,1,28619,,,0,"Let git choose the branch when cloning a repo

In this path of the code we clone then checkout the required refspec.
The branch name used during the initial clone does not affect the
checkout to the required refspec.

Hardcoding the initial clone to master has worked when the default
branch name for repos has been 'master'. The migration of default
branch names to 'main' breaks this assumption.

By not specifying a branch name in the initial clone we avoid
problems with master/main migration, or with a repo which legitimately
uses a non standard default branch name.

Cherry-Picked from https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/846440

Change-Id: I94a5eb8388c690ee593771815c92e6fada6fb0f4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/52/851552/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/library/git_requirements.py'],1,b8429d28d0d40a0304174ca20ad74f969622814b,,," branch='master',",0,1
openstack%2Fironic-inspector~master~Ice7e9499fbb2585d353ece7c5fa30e425e92d362,openstack/ironic-inspector,master,Ice7e9499fbb2585d353ece7c5fa30e425e92d362,Remove the incorrect hack for Werkzeug 2.2.0,MERGED,2022-07-29 09:41:22.000000000,2022-08-01 14:21:18.000000000,2022-08-01 14:19:05.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-29 09:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6079e9ba18f68db8d125a8755aa8537422b9de59', 'message': 'Remove the incorrect hack for Werkzeug 2.2.0\n\nWhat hit us was a regression in 2.2.0. The hack we landed only fixes one\nURL (e.g. /v1/rules/ is still broken) and leaves some redundant code in place\naround path handling. Werkzeug 2.2.1 fixes our problems.\n\nReverts commit 97f4e98d0b8bd9b508be495eb6f636a736fe4d36.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/851500\nChange-Id: Ice7e9499fbb2585d353ece7c5fa30e425e92d362\n'}, {'number': 2, 'created': '2022-07-29 09:42:56.000000000', 'files': ['ironic_inspector/main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8467209ec118b7d1a3197bad7233d9aed5615fc0', 'message': 'Remove the incorrect hack for Werkzeug 2.2.0\n\nWhat hit us was a regression in 2.2.0. The hack we landed only fixes one\nURL (e.g. /v1/rules/ is still broken) and leaves some redundant code in place\naround path handling. Werkzeug 2.2.1 fixes our problems.\n\nReverts commit 97f4e98d0b8bd9b508be495eb6f636a736fe4d36.\n\nStory: #2010193\nTask: #45904\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/851500\nChange-Id: Ice7e9499fbb2585d353ece7c5fa30e425e92d362\n'}]",2,851501,8467209ec118b7d1a3197bad7233d9aed5615fc0,13,3,2,10239,,,0,"Remove the incorrect hack for Werkzeug 2.2.0

What hit us was a regression in 2.2.0. The hack we landed only fixes one
URL (e.g. /v1/rules/ is still broken) and leaves some redundant code in place
around path handling. Werkzeug 2.2.1 fixes our problems.

Reverts commit 97f4e98d0b8bd9b508be495eb6f636a736fe4d36.

Story: #2010193
Task: #45904
Depends-On: https://review.opendev.org/c/openstack/requirements/+/851500
Change-Id: Ice7e9499fbb2585d353ece7c5fa30e425e92d362
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/01/851501/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/main.py'],1,6079e9ba18f68db8d125a8755aa8537422b9de59,Werkzeug-2.2.0,"_app.url_map.strict_slashes = False@api('/', rule='introspection', is_public_api=True, methods=['GET']) methods=['GET'])"," if (not path.endswith('/') and path == '' and 'endpoint' not in flask_kwargs): # NOTE(TheJulia): With rule matching changes in later # versions of Werkzeug, we don't need to add slashes # to the end of every path. Some explicitly don't need # slashes to properly match. Where as if your using an # endpoint to support other rules, you explicitly cannot # add a tailing slash because the rule needs to be able # to match in both possible ways the URL may be requested. path = path + '/' flask_kwargs['strict_slashes'] = False @api('', rule='introspection', is_public_api=True, methods=['GET'])# NOTE(TheJulia): We need routes registered for with, and without # a slash on this special endpoint because it is used in other # requests. methods=['GET'], endpoint='/<version>') @api('/<version>/', rule='introspection:version', is_public_api=True, methods=['GET'], endpoint='/<version>/')",3,21
openstack%2Fheat-tempest-plugin~master~I9a83d4d7c906e89be93d441a44cd159aa6d694a3,openstack/heat-tempest-plugin,master,I9a83d4d7c906e89be93d441a44cd159aa6d694a3,Make master jobs voting again,MERGED,2022-07-30 16:30:12.000000000,2022-08-01 14:20:01.000000000,2022-08-01 14:20:01.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-30 16:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/0b8d0871fe807e4bcbecef9b751937629ff297a1', 'message': 'Make master jobs voting again\n\n... because the broken integration job in master has been fixed.\n\nDepends-on: https://review.opendev.org/851670\nChange-Id: I9a83d4d7c906e89be93d441a44cd159aa6d694a3\n'}, {'number': 2, 'created': '2022-07-30 17:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/656822f9d8a6672bf65e9f4cae5827e2a376635f', 'message': 'Make master jobs voting again\n\n... because the broken integration job in master has been fixed.\n\nDepends-on: https://review.opendev.org/851670\nChange-Id: I9a83d4d7c906e89be93d441a44cd159aa6d694a3\n'}, {'number': 3, 'created': '2022-07-31 00:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/bfade78fa7d00f6fb6d1f2226c28ee978a93a238', 'message': 'Make master jobs voting again\n\n... because the broken integration job in master has been fixed.\n\nDepends-on: https://review.opendev.org/851670\nChange-Id: I9a83d4d7c906e89be93d441a44cd159aa6d694a3\n'}, {'number': 4, 'created': '2022-07-31 03:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/688616378a64a22c6c86acb95d9cea7a9830761c', 'message': 'Make master jobs voting again\n\n... because the broken integration job in master has been fixed.\n\nDepends-on: https://review.opendev.org/851670\nChange-Id: I9a83d4d7c906e89be93d441a44cd159aa6d694a3\n'}, {'number': 5, 'created': '2022-07-31 04:20:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/111afa34bdb13e382b12d0ed2dd0751675315dc9', 'message': 'Make master jobs voting again\n\n... because the broken integration job in master has been fixed.\n\nDepends-on: https://review.opendev.org/851670\nChange-Id: I9a83d4d7c906e89be93d441a44cd159aa6d694a3\n'}]",0,851671,111afa34bdb13e382b12d0ed2dd0751675315dc9,15,2,5,9816,,,0,"Make master jobs voting again

... because the broken integration job in master has been fixed.

Depends-on: https://review.opendev.org/851670
Change-Id: I9a83d4d7c906e89be93d441a44cd159aa6d694a3
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/71/851671/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0b8d0871fe807e4bcbecef9b751937629ff297a1,story/2010201, - heat-functional - heat-functional-legacy - heat-functional - heat-functional-legacy, - heat-functional: voting: false - heat-functional-legacy: voting: false - heat-functional: voting: false - heat-functional-legacy: voting: false,4,8
openstack%2Fneutron~master~I2707506468cb60d93a4459ea364f1e79faa83838,openstack/neutron,master,I2707506468cb60d93a4459ea364f1e79faa83838,Implement specific tracked resource count method per quota driver,MERGED,2022-07-28 08:40:37.000000000,2022-08-01 14:14:14.000000000,2022-08-01 14:12:52.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 08:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c14a98428cdda984e09b02f2aa0b306daa4ebd0', 'message': '[DNM] Implement specific tracked resource count method per quota driver\n\nThis patch implements a new method specific for each quota driver\nclass. This method, ""get_resource_count"", returns the current number\nof resources created in a project of a tracked resource. A tracked\nresource is an instance of ``neutron.quota.resource.TrackedResource``.\nThis method does not count the current reservations, just the actual\nresources created.\n\nThis new method, ""get_resource_count"", will be added to the abstract\nclass ``neutron_lib.db.quota_api.QuotaDriverAPI``.\n\nTODO: testing!!!\n\nCloses-Bug: #1982962\n\nChange-Id: I2707506468cb60d93a4459ea364f1e79faa83838\n'}, {'number': 2, 'created': '2022-07-28 10:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cad82a7140861ddace0a120314b9c45c0e6d2111', 'message': 'Implement specific tracked resource count method per quota driver\n\nThis patch implements a new method specific for each quota driver\nclass. This method, ""get_resource_count"", returns the current number\nof resources created in a project of a tracked resource. A tracked\nresource is an instance of ``neutron.quota.resource.TrackedResource``.\nThis method does not count the current reservations, just the actual\nresources created.\n\nThis new method, ""get_resource_count"", will be added to the abstract\nclass ``neutron_lib.db.quota_api.QuotaDriverAPI``.\n\nThis patch also fixes ``TestDbQuotaDriverNoLock``, that was using a\nplugin inheriting from ``DbQuotaDriver`` instead of\n``DbQuotaNoLockDriver``.\n\nCloses-Bug: #1982962\n\nChange-Id: I2707506468cb60d93a4459ea364f1e79faa83838\n'}, {'number': 3, 'created': '2022-07-28 10:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b90b5d4537bec763e4a427d3ea56f272959e5b3', 'message': 'Implement specific tracked resource count method per quota driver\n\nThis patch implements a new method specific for each quota driver\nclass. This method, ""get_resource_count"", returns the current number\nof resources created in a project of a tracked resource. A tracked\nresource is an instance of ``neutron.quota.resource.TrackedResource``.\nThis method does not count the current reservations, just the actual\nresources created.\n\nThis new method, ""get_resource_count"", will be added to the abstract\nclass ``neutron_lib.db.quota_api.QuotaDriverAPI``.\n\nThis patch also fixes ``TestDbQuotaDriverNoLock``, that was using a\nplugin inheriting from ``DbQuotaDriver`` instead of\n``DbQuotaNoLockDriver``.\n\nCloses-Bug: #1982962\n\nChange-Id: I2707506468cb60d93a4459ea364f1e79faa83838\n'}, {'number': 4, 'created': '2022-07-29 10:11:15.000000000', 'files': ['neutron/db/quota/driver_nolock.py', 'neutron/db/quota/driver_null.py', 'neutron/tests/unit/db/quota/test_driver_nolock.py', 'neutron/quota/resource.py', 'neutron/extensions/quotasv2.py', 'neutron/db/quota/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd60f0833bb439192140b7d04e0b01a5d63f0bb5', 'message': 'Implement specific tracked resource count method per quota driver\n\nThis patch implements a new method specific for each quota driver\nclass. This method, ""get_resource_count"", returns the current number\nof resources created in a project of a tracked resource. A tracked\nresource is an instance of ``neutron.quota.resource.TrackedResource``.\nThis method does not count the current reservations, just the actual\nresources created.\n\nThis new method, ""get_resource_count"", will be added to the abstract\nclass ``neutron_lib.db.quota_api.QuotaDriverAPI``.\n\nThis patch also fixes ``TestDbQuotaDriverNoLock``, that was using a\nplugin inheriting from ``DbQuotaDriver`` instead of\n``DbQuotaNoLockDriver``.\n\nCloses-Bug: #1982962\n\nChange-Id: I2707506468cb60d93a4459ea364f1e79faa83838\n'}]",1,851357,bd60f0833bb439192140b7d04e0b01a5d63f0bb5,21,4,4,16688,,,0,"Implement specific tracked resource count method per quota driver

This patch implements a new method specific for each quota driver
class. This method, ""get_resource_count"", returns the current number
of resources created in a project of a tracked resource. A tracked
resource is an instance of ``neutron.quota.resource.TrackedResource``.
This method does not count the current reservations, just the actual
resources created.

This new method, ""get_resource_count"", will be added to the abstract
class ``neutron_lib.db.quota_api.QuotaDriverAPI``.

This patch also fixes ``TestDbQuotaDriverNoLock``, that was using a
plugin inheriting from ``DbQuotaDriver`` instead of
``DbQuotaNoLockDriver``.

Closes-Bug: #1982962

Change-Id: I2707506468cb60d93a4459ea364f1e79faa83838
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/851357/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/quota/driver_nolock.py', 'neutron/db/quota/driver_null.py', 'neutron/quota/resource.py', 'neutron/db/quota/driver.py']",4,7c14a98428cdda984e09b02f2aa0b306daa4ebd0,bug/1982962," def get_detailed_project_quotas(self, context, resources, project_id): used = self.get_resource_count(context, project_id, resource) @staticmethod def get_resource_count(context, project_id, tracked_resource): return tracked_resource.count_used(context, project_id, resync_usage=False) "," @staticmethod def get_detailed_project_quotas(context, resources, project_id): used = resource.count_used(context, project_id, resync_usage=False)",21,6
openstack%2Fopenstack-helm-images~master~I56ec9bc170413129f4fded4cae42edcfb6d851a8,openstack/openstack-helm-images,master,I56ec9bc170413129f4fded4cae42edcfb6d851a8,Update ceph version to 16.2.10,MERGED,2022-07-29 15:46:38.000000000,2022-08-01 14:08:34.000000000,2022-08-01 14:07:16.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 28701}, {'_account_id': 29974}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-07-29 15:46:38.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_bionic', 'ceph-rbd-provisioner/Dockerfile.ubuntu_bionic', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_bionic', 'ceph-daemon/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f5c29777c55514a5f97c9b6a69dfecf302a71a4b', 'message': ""Update ceph version to 16.2.10\n\nCurrently the ceph image build jobs are failing due to version\n16.2.9 not existing in the remote repo. A check there looks like\nthey've updated the pacific version to 16.2.10, so this change\nbumps the version up to the latest.\n\nChange-Id: I56ec9bc170413129f4fded4cae42edcfb6d851a8\n""}]",0,851557,f5c29777c55514a5f97c9b6a69dfecf302a71a4b,11,5,1,21420,,,0,"Update ceph version to 16.2.10

Currently the ceph image build jobs are failing due to version
16.2.9 not existing in the remote repo. A check there looks like
they've updated the pacific version to 16.2.10, so this change
bumps the version up to the latest.

Change-Id: I56ec9bc170413129f4fded4cae42edcfb6d851a8
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/57/851557/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-config-helper/Dockerfile.ubuntu_bionic', 'ceph-rbd-provisioner/Dockerfile.ubuntu_bionic', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_bionic', 'ceph-daemon/Dockerfile.ubuntu_bionic']",4,f5c29777c55514a5f97c9b6a69dfecf302a71a4b,update-ceph,# Pacific 16.2.10ARG CEPH_RELEASE_TAG=16.2.10-1bionic,# Pacific 16.2.9ARG CEPH_RELEASE_TAG=16.2.9-1bionic,8,8
openstack%2Fopenstack-helm~master~Idbc72ad447ca410b23f7436637ae4ff9f0a7cb23,openstack/openstack-helm,master,Idbc72ad447ca410b23f7436637ae4ff9f0a7cb23,DNM: Lint test for openstack-helm-infra change,ABANDONED,2022-07-22 20:25:06.000000000,2022-08-01 14:06:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-22 20:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c2d4d4fafa78547edbe11ac37e5878cae92d82b8', 'message': 'DNM: Lint test for openstack-helm-infra change\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/850775\nChange-Id: Idbc72ad447ca410b23f7436637ae4ff9f0a7cb23\n'}, {'number': 2, 'created': '2022-07-22 21:52:01.000000000', 'files': ['tools/pull-images.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/096d3b7360ad8b05a12eb7fe6b49ac046ecb4c9e', 'message': 'DNM: Lint test for openstack-helm-infra change\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/850775\n\nChange-Id: Idbc72ad447ca410b23f7436637ae4ff9f0a7cb23\n'}]",0,850776,096d3b7360ad8b05a12eb7fe6b49ac046ecb4c9e,5,1,2,35024,,,0,"DNM: Lint test for openstack-helm-infra change

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/850775

Change-Id: Idbc72ad447ca410b23f7436637ae4ff9f0a7cb23
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/76/850776/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values.yaml'],1,c2d4d4fafa78547edbe11ac37e5878cae92d82b8,helm-toolkit-rm,# TEST,,1,0
openstack%2Fneutron~master~I3e72d6bc871c2cb54fc2f479e67cc222a397394c,openstack/neutron,master,I3e72d6bc871c2cb54fc2f479e67cc222a397394c,ovs: add fdb_entries details to the logs,MERGED,2022-07-18 14:14:48.000000000,2022-08-01 14:06:38.000000000,2022-08-01 14:04:51.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-07-18 14:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a2a657c6c76c7b2892b35c9009b0204e128985d', 'message': 'ovs: add fdb_entries details to the logs\n\nThis is adding fdb entries in log add/dev/upt log messages.\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3e72d6bc871c2cb54fc2f479e67cc222a397394c\n'}, {'number': 2, 'created': '2022-07-19 20:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0037ff78166805951ac8f7ceae8c108855c241f', 'message': 'ovs: add fdb_entries details to the logs\n\nThis is adding fdb entries in log add/dev/upt log messages.\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3e72d6bc871c2cb54fc2f479e67cc222a397394c\n'}, {'number': 3, 'created': '2022-07-20 05:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e25717790f8b06ef75331a44e2c7e1cda9a4c189', 'message': 'ovs: add fdb_entries details to the logs\n\nThis is adding fdb entries in log add/dev/upt log messages.\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3e72d6bc871c2cb54fc2f479e67cc222a397394c\n'}, {'number': 4, 'created': '2022-07-21 06:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6b7856fe20e7bd97318603665f47cca6350589c', 'message': 'ovs: add fdb_entries details to the logs\n\nThis is adding fdb entries in log add/dev/upt log messages.\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3e72d6bc871c2cb54fc2f479e67cc222a397394c\n'}, {'number': 5, 'created': '2022-07-21 10:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a905173c0dc3337baf7e93a9f989799ec3860d63', 'message': 'ovs: add fdb_entries details to the logs\n\nThis is adding fdb entries in log add/dev/upt log messages.\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3e72d6bc871c2cb54fc2f479e67cc222a397394c\n'}, {'number': 6, 'created': '2022-07-25 13:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b042605ce33b6811998ac5f2e99f0dd0e632895b', 'message': 'ovs: add fdb_entries details to the logs\n\nThis is adding fdb entries in log add/dev/upt log messages.\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3e72d6bc871c2cb54fc2f479e67cc222a397394c\n'}, {'number': 7, 'created': '2022-08-01 08:33:33.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/672f949d9512d257d0c41e5aa982fe18e2680057', 'message': 'ovs: add fdb_entries details to the logs\n\nThis is adding fdb entries in log add/dev/upt log messages.\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I3e72d6bc871c2cb54fc2f479e67cc222a397394c\n'}]",4,850226,672f949d9512d257d0c41e5aa982fe18e2680057,48,6,7,7730,,,0,"ovs: add fdb_entries details to the logs

This is adding fdb entries in log add/dev/upt log messages.

Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: I3e72d6bc871c2cb54fc2f479e67cc222a397394c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/850226/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,3a2a657c6c76c7b2892b35c9009b0204e128985d,segments," LOG.debug(""fdb_add received, fdb_entries=%s"", fdb_entries) LOG.debug(""fdb_remove received, fdb_entries=%s"", fdb_entries) LOG.debug(""update chg_ip received, fdb_entries=%s"", fdb_entries"," LOG.debug(""fdb_add received"") LOG.debug(""fdb_remove received"") LOG.debug(""update chg_ip received"")",3,3
openstack%2Fpython-manilaclient~master~Ifeeb948dd96b9230a22b291816ce245b9c18a764,openstack/python-manilaclient,master,Ifeeb948dd96b9230a22b291816ce245b9c18a764,[OSC] Add OSC Functional Tests Export Location,MERGED,2022-06-22 12:21:59.000000000,2022-08-01 13:59:54.000000000,2022-08-01 13:58:48.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}, {'_account_id': 31213}, {'_account_id': 32594}]","[{'number': 1, 'created': '2022-06-22 12:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6cbed5c0f63f2ba6e908ad8ce8a5435830e98904', 'message': '[OSC] Add OSC Functional Tests Export Location\n\nAdds osc functional tests for share export location\nlist and show\n\nDepends-On: #842429\nPartially-implements: bp openstack-client-support\nChange-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764\n'}, {'number': 2, 'created': '2022-06-22 12:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/19df2bf524d392c1550712baef677f098d68813d', 'message': '[OSC] Add OSC Functional Tests Export Location\n\nAdds osc functional tests for share export location\nlist and show\n\nDepends-On: #Ibaad237187882e313044a50e2dd38f91abfb05ee\nPartially-implements: bp openstack-client-support\nChange-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764\n'}, {'number': 3, 'created': '2022-06-25 09:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/12c3c86d9d30ceb083d8af531fb4f540bf1cee14', 'message': '[OSC] Add OSC Functional Tests Export Location\n\nAdds osc functional tests for share export location\nlist and show\n\nPartially-implements: bp openstack-client-support\nChange-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764\n'}, {'number': 4, 'created': '2022-06-25 10:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ffa4c2747dfdb329270b5db93ffe9cfa2939f895', 'message': '[OSC] Add OSC Functional Tests Export Location\n\nAdds osc functional tests for share export location\nlist and show\n\nPartially-implements: bp openstack-client-support\nChange-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764\n'}, {'number': 5, 'created': '2022-06-30 05:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7d58cc76fcf83eaa2223acc13b51a50f60fda3a6', 'message': '[OSC] Add OSC Functional Tests Export Location\n\nAdds osc functional tests for share export location\nlist and show\n\nPartially-implements: bp openstack-client-support\nChange-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764\n'}, {'number': 6, 'created': '2022-07-01 17:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ebede3f4c18a279e8c07622fe8981e1811f8f460', 'message': '[OSC] Add OSC Functional Tests Export Location\n\nAdds osc functional tests for share export location\nlist and show\n\nPartially-implements: bp openstack-client-support\nChange-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764\n'}, {'number': 7, 'created': '2022-07-08 09:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9f3ac29e201d1522390ac8c09d8d99b495777cca', 'message': '[OSC] Add OSC Functional Tests Export Location\n\nAdds osc functional tests for share export location\nlist and show\n\nPartially-implements: bp openstack-client-support\nChange-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764\n'}, {'number': 8, 'created': '2022-07-08 09:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e01e2f23d7714a989e56cf82edb0d42061ad2c6a', 'message': '[OSC] Add OSC Functional Tests Export Location\n\nAdds osc functional tests for share export location\nlist and show\n\nPartially-implements: bp openstack-client-support\nChange-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764\n'}, {'number': 9, 'created': '2022-07-19 14:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9099226dfdc87560bca30b88261494a3054561e8', 'message': '[OSC] Add OSC Functional Tests Export Location\n\nAdds osc functional tests for share export location\nlist and show\n\nPartially-implements: bp openstack-client-support\nChange-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764\n'}, {'number': 10, 'created': '2022-07-26 08:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e42729e84475d9dec1cd76cc386c93ab5921f4f1', 'message': '[OSC] Add OSC Functional Tests Export Location\n\nAdds osc functional tests for share export location\nlist and show\n\nPartially-implements: bp openstack-client-support\nChange-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764\n'}, {'number': 11, 'created': '2022-07-29 10:25:44.000000000', 'files': ['manilaclient/tests/functional/osc/test_shares.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/df9af53b58b758b102766b6017aab81d8e02a977', 'message': '[OSC] Add OSC Functional Tests Export Location\n\nAdds osc functional tests for share export location\nlist and show\n\nPartially-implements: bp openstack-client-support\nChange-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764\n'}]",20,847146,df9af53b58b758b102766b6017aab81d8e02a977,41,5,11,34123,,,0,"[OSC] Add OSC Functional Tests Export Location

Adds osc functional tests for share export location
list and show

Partially-implements: bp openstack-client-support
Change-Id: Ifeeb948dd96b9230a22b291816ce245b9c18a764
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/46/847146/2 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/functional/osc/test_shares.py'],1,6cbed5c0f63f2ba6e908ad8ce8a5435830e98904,bp/openstack-client-support," def test_openstack_share_export_location_show(self): share = self.create_share() share_export_locations = self.get_share_export_locations(share) export_location = self.listing_result( 'share', f'export location show{share[""id""]} ' f'share_export_locations[0]') self.assertEqual(share_export_locations[0], export_location) def test_openstack_share_export_location_list(self): share = self.create_share() share_export_locations = self.get_share_export_locations(share) result_export_locations = self.listing_result( 'share', f'export location list {share[""id""]}') share_export_locations.sort() result_export_locations.sort() self.assertEqual(share_export_locations, result_export_locations)",,17,0
openstack%2Fapi-sig~master~I44e71499b52873a2350194081f352c12b871c592,openstack/api-sig,master,I44e71499b52873a2350194081f352c12b871c592,remove unicode literal from code,MERGED,2022-07-28 01:26:44.000000000,2022-08-01 13:57:22.000000000,2022-08-01 13:56:07.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 01:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-sig/commit/11e8d57a8ca317ea42435365ba4c68ec03212d67', 'message': 'remove unicode from code\n\nChange-Id: I44e71499b52873a2350194081f352c12b871c592\n'}, {'number': 2, 'created': '2022-07-30 06:35:25.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/91f190cd6ad63ee28ea55d6d7a1532ca91acb8ce', 'message': 'remove unicode literal from code\n\nChange-Id: I44e71499b52873a2350194081f352c12b871c592\n'}]",0,851292,91f190cd6ad63ee28ea55d6d7a1532ca91acb8ce,9,2,2,35058,,,0,"remove unicode literal from code

Change-Id: I44e71499b52873a2350194081f352c12b871c592
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/92/851292/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,11e8d57a8ca317ea42435365ba4c68ec03212d67,,"project = 'API Special Interest Group' copyright = '%s, OpenStack API Special Interest Group Team' % datetime.date.today().year ('index', 'api-sig.tex', 'API Special Interest Group', 'OpenStack API Special Interest Group Team', 'manual'),","project = u'API Special Interest Group' copyright = u'%s, OpenStack API Special Interest Group Team' % datetime.date.today().year ('index', 'api-sig.tex', u'API Special Interest Group', u'OpenStack API Special Interest Group Team', 'manual'),",4,4
openstack%2Fcharm-vault~stable%2F1.6~I85c7ec0496de7626f0edcdb779fd41149111ce28,openstack/charm-vault,stable/1.6,I85c7ec0496de7626f0edcdb779fd41149111ce28,Implement cert cache for vault units (v2),ABANDONED,2022-06-30 12:33:31.000000000,2022-08-01 13:56:52.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 12:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/8ccc83b3506455488b52118ebb1ed71eff69d266', 'message': 'Implement cert cache for vault units (v2)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is the same as\n1159e547dd755af97d5eab578cdfe90abad93843\nbut improved to avoid LP#1970888\n\nChange-Id: Ic4dd009cc18c52e1667391b00ebba9928acc5937\nCloses-Bug: #1940549\nCloses-Bug: #1970888\n\n(cherry-picked from f55055b8783ca6f3f569209b4f82285377f5ac64)\n(cherry picked from commit 2ff5f1110ce2013f49fe72cfb3628b97b1b39d26)\nChange-Id: I85c7ec0496de7626f0edcdb779fd41149111ce28\n'}, {'number': 2, 'created': '2022-07-08 13:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ab90e0399fb56ed06dbe02ea74b76811a92817b0', 'message': 'Implement cert cache for vault units (v2)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is the same as\n1159e547dd755af97d5eab578cdfe90abad93843\nbut improved to avoid LP#1970888\n\nChange-Id: Ic4dd009cc18c52e1667391b00ebba9928acc5937\nCloses-Bug: #1940549\nCloses-Bug: #1970888\n\n(cherry-picked from f55055b8783ca6f3f569209b4f82285377f5ac64)\n(cherry picked from commit 2ff5f1110ce2013f49fe72cfb3628b97b1b39d26)\nChange-Id: I85c7ec0496de7626f0edcdb779fd41149111ce28\n'}, {'number': 3, 'created': '2022-07-11 08:30:26.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f32157f3af9d4ebd948ac80179e2602e717b2ea0', 'message': 'Implement cert cache for vault units (v2)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is the same as\n1159e547dd755af97d5eab578cdfe90abad93843\nbut improved to avoid LP#1970888\n\nChange-Id: Ic4dd009cc18c52e1667391b00ebba9928acc5937\nCloses-Bug: #1940549\nCloses-Bug: #1970888\n\n(cherry-picked from f55055b8783ca6f3f569209b4f82285377f5ac64)\n(cherry picked from commit 2ff5f1110ce2013f49fe72cfb3628b97b1b39d26)\nChange-Id: I85c7ec0496de7626f0edcdb779fd41149111ce28\n'}]",6,848265,f32157f3af9d4ebd948ac80179e2602e717b2ea0,20,3,3,10058,,,0,"Implement cert cache for vault units (v2)

This cache is used to store certificates and keys
issued by the leader unit. Non-leader units read
these certificates and keep data in their
""tls-certificates"" relations up to date.
This ensures that charm units that receive certs
from vault can read from relation data of any
vault unit and receive correct data.

This patch is the same as
1159e547dd755af97d5eab578cdfe90abad93843
but improved to avoid LP#1970888

Change-Id: Ic4dd009cc18c52e1667391b00ebba9928acc5937
Closes-Bug: #1940549
Closes-Bug: #1970888

(cherry-picked from f55055b8783ca6f3f569209b4f82285377f5ac64)
(cherry picked from commit 2ff5f1110ce2013f49fe72cfb3628b97b1b39d26)
Change-Id: I85c7ec0496de7626f0edcdb779fd41149111ce28
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/65/848265/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py']",4,8ccc83b3506455488b52118ebb1ed71eff69d266,bug/1970888,"from unittest.mock import call, patch, MagicMockimport json @patch.object(vault_pki.hookenv, 'leader_get') def test_get_pki_cache(self, leader_get): """"""Test retrieving PKI from cache."""""" expected_pki = { ""client_unit_0"": { vault_pki.TOP_LEVEL_CERT_KEY: { ""client_unit_0.server.cert"": ""cert_data"", ""client_unit_0.server.key"": ""key_data"", } } } leader_get.return_value = json.dumps(expected_pki) pki = vault_pki.get_pki_cache() self.assertEqual(pki, expected_pki) # test retrieval if the PKI is not set leader_get.return_value = None pki = vault_pki.get_pki_cache() self.assertEqual(pki, {}) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_no_ca(self, get_ca, get_chain, get_pki_cache): """"""Test getting cert from cache when CA is missing."""""" get_ca.return_value = None get_chain.return_value = None cert, key = vault_pki.find_cert_in_cache(MagicMock()) # assert that CA cert or chain was retrieved get_ca.assert_called_once_with() get_chain.assert_called_once_with() # assert that function does not proceed due to the missing CA get_pki_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_missing(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test use case when searched certificate is not in cache."""""" request = MagicMock() request.unit_name = ""client_unit_0"" request._is_top_level_server_cert = True get_ca.return_value = MagicMock() get_pki_cache.return_value = {} cert, key = vault_pki.find_cert_in_cache(request) # assert that verification of cert is not attempted when # cert is not found verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) # Same scenario, but with non-top-level certificate request._is_top_level_server_cert = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI cache content pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: expected_cert, key_name: expected_key } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_not_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching non-top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI cache content pki = { client_name: { publish_key: { common_name: { ""cert"": expected_cert, ""key"": expected_key, } } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request.common_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI structure initial_pki = {} expected_pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: cert_data, key_name: key_data } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_non_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing non-top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI structure initial_pki = {} expected_pki = { client_name: { publish_key: { common_name: { ""cert"": cert_data, ""key"": key_data, } } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_remove_unit_from_cache(self, leader_set, get_pki_cache): """"""Test removing unit certificates from cache."""""" remaining_unit = ""client/0"" removed_unit = ""client/1"" pki = { remaining_unit: ""Unit certificates"", removed_unit: ""Unit certificates"", } expected_pki = { remaining_unit: ""Unit certificates"" } get_pki_cache.return_value = pki vault_pki.remove_unit_from_cache(removed_unit) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'update_cert_cache') def test_populate_cert_cache(self, update_cert_cache): # Define data for top level certificate and key top_level_cert_name = ""server.crt"" top_level_key_name = ""server.key"" top_level_cert_data = ""top level cert"" top_level_key_data = ""top level key"" # Define data for non-top level certificate processed_request_cn = ""juju_unit_service.crt"" processed_request_publish_key = ""juju_unit_service.processed"" processed_cert_data = ""processed cert"" processed_key_data = ""processed key"" # Mock request for top level certificate top_level_request = MagicMock() top_level_request._is_top_level_server_cert = True top_level_request._server_cert_key = top_level_cert_name top_level_request._server_key_key = top_level_key_name top_level_request._unit.relation.to_publish_raw = { top_level_cert_name: top_level_cert_data, top_level_key_name: top_level_key_data, } # Mock request for non-top level certificate processed_request = MagicMock() processed_request._is_top_level_server_cert = False processed_request.common_name = processed_request_cn processed_request._publish_key = processed_request_publish_key processed_request._unit.relation.to_publish = { processed_request_publish_key: {processed_request_cn: { ""cert"": processed_cert_data, ""key"": processed_key_data }} } tls_endpoint = MagicMock() tls_endpoint.all_requests = [top_level_request, processed_request] vault_pki.populate_cert_cache(tls_endpoint) expected_update_calls = [ call(top_level_request, top_level_cert_data, top_level_key_data), call(processed_request, processed_cert_data, processed_key_data), ] update_cert_cache.assert_has_calls(expected_update_calls)",from unittest.mock import patch,799,22
openstack%2Fcharm-vault~stable%2F1.7~Ic4dd009cc18c52e1667391b00ebba9928acc5937,openstack/charm-vault,stable/1.7,Ic4dd009cc18c52e1667391b00ebba9928acc5937,Implement cert cache for vault units (v2),MERGED,2022-05-17 15:49:43.000000000,2022-08-01 13:55:59.000000000,2022-06-02 14:47:12.000000000,"[{'_account_id': 2424}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 15:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/57ac9b0d29954c14c1c3249b702b75b3b17b1baa', 'message': 'Implement cert cache for vault units (v2)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is the same as\n1159e547dd755af97d5eab578cdfe90abad93843\nbut improved to avoid LP#1970888\n\nChange-Id: Ic4dd009cc18c52e1667391b00ebba9928acc5937\nCloses-Bug: #1940549\nCloses-Bug: #1970888\n'}, {'number': 2, 'created': '2022-05-17 15:50:29.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2ff5f1110ce2013f49fe72cfb3628b97b1b39d26', 'message': 'Implement cert cache for vault units (v2)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is the same as\n1159e547dd755af97d5eab578cdfe90abad93843\nbut improved to avoid LP#1970888\n\n(cherry-picked from f55055b8783ca6f3f569209b4f82285377f5ac64)\nChange-Id: Ic4dd009cc18c52e1667391b00ebba9928acc5937\nCloses-Bug: #1940549\nCloses-Bug: #1970888\n'}]",4,842144,2ff5f1110ce2013f49fe72cfb3628b97b1b39d26,19,4,2,14567,,,0,"Implement cert cache for vault units (v2)

This cache is used to store certificates and keys
issued by the leader unit. Non-leader units read
these certificates and keep data in their
""tls-certificates"" relations up to date.
This ensures that charm units that receive certs
from vault can read from relation data of any
vault unit and receive correct data.

This patch is the same as
1159e547dd755af97d5eab578cdfe90abad93843
but improved to avoid LP#1970888

(cherry-picked from f55055b8783ca6f3f569209b4f82285377f5ac64)
Change-Id: Ic4dd009cc18c52e1667391b00ebba9928acc5937
Closes-Bug: #1940549
Closes-Bug: #1970888
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/44/842144/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py']",4,57ac9b0d29954c14c1c3249b702b75b3b17b1baa,bug/1970888,"from unittest.mock import call, patch, MagicMockimport json @patch.object(vault_pki.hookenv, 'leader_get') def test_get_pki_cache(self, leader_get): """"""Test retrieving PKI from cache."""""" expected_pki = { ""client_unit_0"": { vault_pki.TOP_LEVEL_CERT_KEY: { ""client_unit_0.server.cert"": ""cert_data"", ""client_unit_0.server.key"": ""key_data"", } } } leader_get.return_value = json.dumps(expected_pki) pki = vault_pki.get_pki_cache() self.assertEqual(pki, expected_pki) # test retrieval if the PKI is not set leader_get.return_value = None pki = vault_pki.get_pki_cache() self.assertEqual(pki, {}) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_no_ca(self, get_ca, get_chain, get_pki_cache): """"""Test getting cert from cache when CA is missing."""""" get_ca.return_value = None get_chain.return_value = None cert, key = vault_pki.find_cert_in_cache(MagicMock()) # assert that CA cert or chain was retrieved get_ca.assert_called_once_with() get_chain.assert_called_once_with() # assert that function does not proceed due to the missing CA get_pki_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_missing(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test use case when searched certificate is not in cache."""""" request = MagicMock() request.unit_name = ""client_unit_0"" request._is_top_level_server_cert = True get_ca.return_value = MagicMock() get_pki_cache.return_value = {} cert, key = vault_pki.find_cert_in_cache(request) # assert that verification of cert is not attempted when # cert is not found verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) # Same scenario, but with non-top-level certificate request._is_top_level_server_cert = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI cache content pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: expected_cert, key_name: expected_key } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_not_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching non-top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI cache content pki = { client_name: { publish_key: { common_name: { ""cert"": expected_cert, ""key"": expected_key, } } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request.common_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI structure initial_pki = {} expected_pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: cert_data, key_name: key_data } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_non_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing non-top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI structure initial_pki = {} expected_pki = { client_name: { publish_key: { common_name: { ""cert"": cert_data, ""key"": key_data, } } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_remove_unit_from_cache(self, leader_set, get_pki_cache): """"""Test removing unit certificates from cache."""""" remaining_unit = ""client/0"" removed_unit = ""client/1"" pki = { remaining_unit: ""Unit certificates"", removed_unit: ""Unit certificates"", } expected_pki = { remaining_unit: ""Unit certificates"" } get_pki_cache.return_value = pki vault_pki.remove_unit_from_cache(removed_unit) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'update_cert_cache') def test_populate_cert_cache(self, update_cert_cache): # Define data for top level certificate and key top_level_cert_name = ""server.crt"" top_level_key_name = ""server.key"" top_level_cert_data = ""top level cert"" top_level_key_data = ""top level key"" # Define data for non-top level certificate processed_request_cn = ""juju_unit_service.crt"" processed_request_publish_key = ""juju_unit_service.processed"" processed_cert_data = ""processed cert"" processed_key_data = ""processed key"" # Mock request for top level certificate top_level_request = MagicMock() top_level_request._is_top_level_server_cert = True top_level_request._server_cert_key = top_level_cert_name top_level_request._server_key_key = top_level_key_name top_level_request._unit.relation.to_publish_raw = { top_level_cert_name: top_level_cert_data, top_level_key_name: top_level_key_data, } # Mock request for non-top level certificate processed_request = MagicMock() processed_request._is_top_level_server_cert = False processed_request.common_name = processed_request_cn processed_request._publish_key = processed_request_publish_key processed_request._unit.relation.to_publish = { processed_request_publish_key: {processed_request_cn: { ""cert"": processed_cert_data, ""key"": processed_key_data }} } tls_endpoint = MagicMock() tls_endpoint.all_requests = [top_level_request, processed_request] vault_pki.populate_cert_cache(tls_endpoint) expected_update_calls = [ call(top_level_request, top_level_cert_data, top_level_key_data), call(processed_request, processed_cert_data, processed_key_data), ] update_cert_cache.assert_has_calls(expected_update_calls)",from unittest.mock import patch,799,22
openstack%2Fcharm-vault~master~Ic4dd009cc18c52e1667391b00ebba9928acc5937,openstack/charm-vault,master,Ic4dd009cc18c52e1667391b00ebba9928acc5937,Implement cert cache for vault units (v2),MERGED,2022-05-05 16:54:03.000000000,2022-08-01 13:54:48.000000000,2022-05-17 06:17:30.000000000,"[{'_account_id': 12549}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 16:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/22faae43cbaad027427f7d8cc4819ec3b7e606b2', 'message': 'Implement cert cache for vault units (v2)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is the same as\n1159e547dd755af97d5eab578cdfe90abad93843\nbut improved to avoid LP#1970888\n\nChange-Id: Ic4dd009cc18c52e1667391b00ebba9928acc5937\nCloses-Bug: #1940549\nCloses-Bug: #1970888\n'}, {'number': 2, 'created': '2022-05-09 15:36:49.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f55055b8783ca6f3f569209b4f82285377f5ac64', 'message': 'Implement cert cache for vault units (v2)\n\nThis cache is used to store certificates and keys\nissued by the leader unit. Non-leader units read\nthese certificates and keep data in their\n""tls-certificates"" relations up to date.\nThis ensures that charm units that receive certs\nfrom vault can read from relation data of any\nvault unit and receive correct data.\n\nThis patch is the same as\n1159e547dd755af97d5eab578cdfe90abad93843\nbut improved to avoid LP#1970888\n\nChange-Id: Ic4dd009cc18c52e1667391b00ebba9928acc5937\nCloses-Bug: #1940549\nCloses-Bug: #1970888\n'}]",4,840710,f55055b8783ca6f3f569209b4f82285377f5ac64,14,4,2,14567,,,0,"Implement cert cache for vault units (v2)

This cache is used to store certificates and keys
issued by the leader unit. Non-leader units read
these certificates and keep data in their
""tls-certificates"" relations up to date.
This ensures that charm units that receive certs
from vault can read from relation data of any
vault unit and receive correct data.

This patch is the same as
1159e547dd755af97d5eab578cdfe90abad93843
but improved to avoid LP#1970888

Change-Id: Ic4dd009cc18c52e1667391b00ebba9928acc5937
Closes-Bug: #1940549
Closes-Bug: #1970888
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/10/840710/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py']",4,22faae43cbaad027427f7d8cc4819ec3b7e606b2,bug/1970888,"from unittest.mock import call, patch, MagicMockimport json @patch.object(vault_pki.hookenv, 'leader_get') def test_get_pki_cache(self, leader_get): """"""Test retrieving PKI from cache."""""" expected_pki = { ""client_unit_0"": { vault_pki.TOP_LEVEL_CERT_KEY: { ""client_unit_0.server.cert"": ""cert_data"", ""client_unit_0.server.key"": ""key_data"", } } } leader_get.return_value = json.dumps(expected_pki) pki = vault_pki.get_pki_cache() self.assertEqual(pki, expected_pki) # test retrieval if the PKI is not set leader_get.return_value = None pki = vault_pki.get_pki_cache() self.assertEqual(pki, {}) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_no_ca(self, get_ca, get_chain, get_pki_cache): """"""Test getting cert from cache when CA is missing."""""" get_ca.return_value = None get_chain.return_value = None cert, key = vault_pki.find_cert_in_cache(MagicMock()) # assert that CA cert or chain was retrieved get_ca.assert_called_once_with() get_chain.assert_called_once_with() # assert that function does not proceed due to the missing CA get_pki_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_missing(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test use case when searched certificate is not in cache."""""" request = MagicMock() request.unit_name = ""client_unit_0"" request._is_top_level_server_cert = True get_ca.return_value = MagicMock() get_pki_cache.return_value = {} cert, key = vault_pki.find_cert_in_cache(request) # assert that verification of cert is not attempted when # cert is not found verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) # Same scenario, but with non-top-level certificate request._is_top_level_server_cert = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_not_called() self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI cache content pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: expected_cert, key_name: expected_key } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'verify_cert') @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki, 'get_chain') @patch.object(vault_pki, 'get_ca') def test_find_cert_in_cache_not_top_level(self, get_ca, get_chain, get_pki_cache, verify_cache): """"""Test fetching non-top level cert from cache. Additional test scenario: Test that nothing is returned if cert fails CA verification. """""" ca_cert = ""CA cert data"" expected_cert = ""cert data"" expected_key = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI cache content pki = { client_name: { publish_key: { common_name: { ""cert"": expected_cert, ""key"": expected_key, } } } } get_ca.return_value = ca_cert get_chain.return_value = ca_cert get_pki_cache.return_value = pki verify_cache.return_value = True cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertEqual(cert, expected_cert) self.assertEqual(key, expected_key) # Additional test: Nothing should be returned if cert failed # CA verification. verify_cache.reset_mock() verify_cache.return_value = False cert, key = vault_pki.find_cert_in_cache(request) verify_cache.assert_called_once_with(ca_cert, expected_cert) self.assertIsNone(cert) self.assertIsNone(key) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" cert_name = ""server.cert"" key_name = ""server.key"" client_name = ""client_unit_0"" # setup cert request request = MagicMock() request.unit_name = client_name request.common_name = client_name request._is_top_level_server_cert = True request._server_cert_key = cert_name request._server_key_key = key_name # PKI structure initial_pki = {} expected_pki = { client_name: { vault_pki.TOP_LEVEL_CERT_KEY: { cert_name: cert_data, key_name: key_data } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_update_cert_cache_non_top_level_cert(self, leader_set, get_pki_cache): """"""Test storing non-top-level cert in cache."""""" cert_data = ""cert data"" key_data = ""key data"" client_name = ""client_unit_0"" publish_key = client_name + "".processed_client_requests"" common_name = ""client.0"" # setup cert request request = MagicMock() request.unit_name = client_name request._is_top_level_server_cert = False request._publish_key = publish_key request.common_name = common_name # PKI structure initial_pki = {} expected_pki = { client_name: { publish_key: { common_name: { ""cert"": cert_data, ""key"": key_data, } } } } get_pki_cache.return_value = initial_pki vault_pki.update_cert_cache(request, cert_data, key_data) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'get_pki_cache') @patch.object(vault_pki.hookenv, 'leader_set') def test_remove_unit_from_cache(self, leader_set, get_pki_cache): """"""Test removing unit certificates from cache."""""" remaining_unit = ""client/0"" removed_unit = ""client/1"" pki = { remaining_unit: ""Unit certificates"", removed_unit: ""Unit certificates"", } expected_pki = { remaining_unit: ""Unit certificates"" } get_pki_cache.return_value = pki vault_pki.remove_unit_from_cache(removed_unit) leader_set.assert_called_once_with( {vault_pki.PKI_CACHE_KEY: json.dumps(expected_pki)} ) @patch.object(vault_pki, 'update_cert_cache') def test_populate_cert_cache(self, update_cert_cache): # Define data for top level certificate and key top_level_cert_name = ""server.crt"" top_level_key_name = ""server.key"" top_level_cert_data = ""top level cert"" top_level_key_data = ""top level key"" # Define data for non-top level certificate processed_request_cn = ""juju_unit_service.crt"" processed_request_publish_key = ""juju_unit_service.processed"" processed_cert_data = ""processed cert"" processed_key_data = ""processed key"" # Mock request for top level certificate top_level_request = MagicMock() top_level_request._is_top_level_server_cert = True top_level_request._server_cert_key = top_level_cert_name top_level_request._server_key_key = top_level_key_name top_level_request._unit.relation.to_publish_raw = { top_level_cert_name: top_level_cert_data, top_level_key_name: top_level_key_data, } # Mock request for non-top level certificate processed_request = MagicMock() processed_request._is_top_level_server_cert = False processed_request.common_name = processed_request_cn processed_request._publish_key = processed_request_publish_key processed_request._unit.relation.to_publish = { processed_request_publish_key: {processed_request_cn: { ""cert"": processed_cert_data, ""key"": processed_key_data }} } tls_endpoint = MagicMock() tls_endpoint.all_requests = [top_level_request, processed_request] vault_pki.populate_cert_cache(tls_endpoint) expected_update_calls = [ call(top_level_request, top_level_cert_data, top_level_key_data), call(processed_request, processed_cert_data, processed_key_data), ] update_cert_cache.assert_has_calls(expected_update_calls)",from unittest.mock import patch,797,22
openstack%2Ftripleo-quickstart~master~I06a1784931abb7eb1bab7fc9dcd8be2cc14cfb66,openstack/tripleo-quickstart,master,I06a1784931abb7eb1bab7fc9dcd8be2cc14cfb66,Use nodepool_rdo_proxy url instead of rdo trunk url,MERGED,2022-07-27 12:02:42.000000000,2022-08-01 13:38:07.000000000,2022-08-01 13:36:56.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31075}]","[{'number': 1, 'created': '2022-07-27 12:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/20c94d5b9c87d734f46d78a6c2f8edec950285a7', 'message': '[DNM] use nodepool_rdo_proxy\n\nCloses-Bug: #1982942\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I06a1784931abb7eb1bab7fc9dcd8be2cc14cfb66\n'}, {'number': 2, 'created': '2022-07-27 12:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/01b788056b8030304e00218e86068c05f0672c6f', 'message': '[DNM] use nodepool_rdo_proxy\n\nCloses-Bug: #1982942\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I06a1784931abb7eb1bab7fc9dcd8be2cc14cfb66\n'}, {'number': 3, 'created': '2022-07-28 06:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6923020562f8b529dbead503666b92d6fc34ddcd', 'message': 'Use nodepool_rdo_proxy url instead of rdo trunk url\n\nCurrently in release file, we have rdo trunk url to lay\ndown dlrn and dlrn-deps repo.\n\nIn a restricted environment having network instability,\ncurl fails with `could not connect to rdo trunk url error`\nwhile laying down the repo.\n\nRDO trunk contents are already mirrored on different\ncloud AFS mirror which are easily accessible.\nLet use that one and avoid these errors.\n\nThis issue is seen in IBM cloud. Using nodepool_rdo_proxy\nurl exists with in the cloud fixes the issue.\n\nHere is the testproject:\nhttps://review.rdoproject.org/r/c/testproject/+/44235/2#message-09494ed17f2f9404b1bac0166ce45514d7ba8d12\n\nCloses-Bug: #1982942\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I06a1784931abb7eb1bab7fc9dcd8be2cc14cfb66\n'}, {'number': 4, 'created': '2022-07-28 08:10:10.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-9/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f50d529ccafd173bec580d806b171ffffacd564a', 'message': 'Use nodepool_rdo_proxy url instead of rdo trunk url\n\nCurrently in release file, we have rdo trunk url to lay\ndown dlrn and dlrn-deps repo.\n\nIn a restricted environment having network instability,\ncurl fails with `could not connect to rdo trunk url error`\nwhile laying down the repo.\n\nRDO trunk contents are already mirrored on different\ncloud AFS mirror which are easily accessible.\nLet use that one and avoid these errors.\n\nThis issue is seen in IBM cloud. Using nodepool_rdo_proxy\nurl exists with in the cloud fixes the issue.\n\nHere is the testproject:\nhttps://review.rdoproject.org/r/c/testproject/+/44235/2#message-09494ed17f2f9404b1bac0166ce45514d7ba8d12\n\nCloses-Bug: #1982942\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I06a1784931abb7eb1bab7fc9dcd8be2cc14cfb66\n'}]",8,851214,f50d529ccafd173bec580d806b171ffffacd564a,28,6,4,12393,,,0,"Use nodepool_rdo_proxy url instead of rdo trunk url

Currently in release file, we have rdo trunk url to lay
down dlrn and dlrn-deps repo.

In a restricted environment having network instability,
curl fails with `could not connect to rdo trunk url error`
while laying down the repo.

RDO trunk contents are already mirrored on different
cloud AFS mirror which are easily accessible.
Let use that one and avoid these errors.

This issue is seen in IBM cloud. Using nodepool_rdo_proxy
url exists with in the cloud fixes the issue.

Here is the testproject:
https://review.rdoproject.org/r/c/testproject/+/44235/2#message-09494ed17f2f9404b1bac0166ce45514d7ba8d12

Closes-Bug: #1982942

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I06a1784931abb7eb1bab7fc9dcd8be2cc14cfb66
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/14/851214/4 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/master.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml']",2,20c94d5b9c87d734f46d78a6c2f8edec950285a7,ibm_cloud," down_url: ""${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG}/delorean.repo down_url: ""${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/delorean-deps.repo"""," down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG}/delorean.repo"" down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/delorean-deps.repo""",4,4
openstack%2Fzun~master~Id1032709f6e3b11b718b3df6a6ac3531a9c99824,openstack/zun,master,Id1032709f6e3b11b718b3df6a6ac3531a9c99824,Regenerate protobuf files,MERGED,2022-07-27 08:45:29.000000000,2022-08-01 13:28:39.000000000,2022-08-01 13:27:12.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 08:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d73579389f7126a8d682c679ba93dbf00a01f142', 'message': 'Regenerate protobuf files\n\ntools/gen-criapi was used with the latest protobuf dependencies\nto generate compatible files. This makes Zun Compute work again\nwith the current implementation of protobuf.\n\nCloses-Bug: #1982924\nChange-Id: Id1032709f6e3b11b718b3df6a6ac3531a9c99824\n'}, {'number': 2, 'created': '2022-07-31 15:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6b5617887b07d6811f7a97451b5b5929ec14cfb5', 'message': 'Regenerate protobuf files\n\ntools/gen-criapi was used with the latest protobuf dependencies\nto generate compatible files. This makes Zun Compute work again\nwith the current implementation of protobuf.\n\nIn addition, fix two issues that causes gate failure.\n\nCloses-Bug: #1982924\nChange-Id: Id1032709f6e3b11b718b3df6a6ac3531a9c99824\n'}, {'number': 3, 'created': '2022-08-01 06:36:24.000000000', 'files': ['zun/criapi/api_pb2.py', 'zun/criapi/gogo_pb2.py', 'test-requirements.txt', 'zun/criapi/api_pb2_grpc.py', 'zun/common/context.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/40dd541bb1dfcaf69d058054f35c8fc1e7cee19b', 'message': 'Regenerate protobuf files\n\ntools/gen-criapi was used with the latest protobuf dependencies\nto generate compatible files. This makes Zun Compute work again\nwith the current implementation of protobuf.\n\nIn addition, fix two issues that causes gate failure.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-libnetwork/+/851549\nCloses-Bug: #1982924\nChange-Id: Id1032709f6e3b11b718b3df6a6ac3531a9c99824\n'}]",2,851196,40dd541bb1dfcaf69d058054f35c8fc1e7cee19b,13,2,3,30491,,,0,"Regenerate protobuf files

tools/gen-criapi was used with the latest protobuf dependencies
to generate compatible files. This makes Zun Compute work again
with the current implementation of protobuf.

In addition, fix two issues that causes gate failure.

Depends-On: https://review.opendev.org/c/openstack/kuryr-libnetwork/+/851549
Closes-Bug: #1982924
Change-Id: Id1032709f6e3b11b718b3df6a6ac3531a9c99824
",git fetch https://review.opendev.org/openstack/zun refs/changes/96/851196/3 && git format-patch -1 --stdout FETCH_HEAD,"['zun/criapi/api_pb2.py', 'zun/criapi/gogo_pb2.py', 'zun/criapi/api_pb2_grpc.py']",3,d73579389f7126a8d682c679ba93dbf00a01f142,bug/1982924,"""""""Client and server classes corresponding to protobuf-defined services."""""" """"""Runtime service defines the public APIs for remote container runtimes def __init__(self, channel): """"""Constructor. Args: channel: A grpc.Channel. """""" self.Version = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/Version', request_serializer=zun_dot_criapi_dot_api__pb2.VersionRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.VersionResponse.FromString, ) self.RunPodSandbox = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/RunPodSandbox', request_serializer=zun_dot_criapi_dot_api__pb2.RunPodSandboxRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.RunPodSandboxResponse.FromString, ) self.StopPodSandbox = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/StopPodSandbox', request_serializer=zun_dot_criapi_dot_api__pb2.StopPodSandboxRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.StopPodSandboxResponse.FromString, ) self.RemovePodSandbox = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/RemovePodSandbox', request_serializer=zun_dot_criapi_dot_api__pb2.RemovePodSandboxRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.RemovePodSandboxResponse.FromString, ) self.PodSandboxStatus = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/PodSandboxStatus', request_serializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatusRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatusResponse.FromString, ) self.ListPodSandbox = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ListPodSandbox', request_serializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxResponse.FromString, ) self.CreateContainer = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/CreateContainer', request_serializer=zun_dot_criapi_dot_api__pb2.CreateContainerRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.CreateContainerResponse.FromString, ) self.StartContainer = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/StartContainer', request_serializer=zun_dot_criapi_dot_api__pb2.StartContainerRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.StartContainerResponse.FromString, ) self.StopContainer = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/StopContainer', request_serializer=zun_dot_criapi_dot_api__pb2.StopContainerRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.StopContainerResponse.FromString, ) self.RemoveContainer = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/RemoveContainer', request_serializer=zun_dot_criapi_dot_api__pb2.RemoveContainerRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.RemoveContainerResponse.FromString, ) self.ListContainers = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ListContainers', request_serializer=zun_dot_criapi_dot_api__pb2.ListContainersRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ListContainersResponse.FromString, ) self.ContainerStatus = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ContainerStatus', request_serializer=zun_dot_criapi_dot_api__pb2.ContainerStatusRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ContainerStatusResponse.FromString, ) self.UpdateContainerResources = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/UpdateContainerResources', request_serializer=zun_dot_criapi_dot_api__pb2.UpdateContainerResourcesRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.UpdateContainerResourcesResponse.FromString, ) self.ReopenContainerLog = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ReopenContainerLog', request_serializer=zun_dot_criapi_dot_api__pb2.ReopenContainerLogRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ReopenContainerLogResponse.FromString, ) self.ExecSync = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ExecSync', request_serializer=zun_dot_criapi_dot_api__pb2.ExecSyncRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ExecSyncResponse.FromString, ) self.Exec = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/Exec', request_serializer=zun_dot_criapi_dot_api__pb2.ExecRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ExecResponse.FromString, ) self.Attach = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/Attach', request_serializer=zun_dot_criapi_dot_api__pb2.AttachRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.AttachResponse.FromString, ) self.PortForward = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/PortForward', request_serializer=zun_dot_criapi_dot_api__pb2.PortForwardRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.PortForwardResponse.FromString, ) self.ContainerStats = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ContainerStats', request_serializer=zun_dot_criapi_dot_api__pb2.ContainerStatsRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ContainerStatsResponse.FromString, ) self.ListContainerStats = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ListContainerStats', request_serializer=zun_dot_criapi_dot_api__pb2.ListContainerStatsRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ListContainerStatsResponse.FromString, ) self.PodSandboxStats = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/PodSandboxStats', request_serializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatsRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatsResponse.FromString, ) self.ListPodSandboxStats = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ListPodSandboxStats', request_serializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxStatsRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxStatsResponse.FromString, ) self.UpdateRuntimeConfig = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/UpdateRuntimeConfig', request_serializer=zun_dot_criapi_dot_api__pb2.UpdateRuntimeConfigRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.UpdateRuntimeConfigResponse.FromString, ) self.Status = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/Status', request_serializer=zun_dot_criapi_dot_api__pb2.StatusRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.StatusResponse.FromString, ) """"""Runtime service defines the public APIs for remote container runtimes def Version(self, request, context): """"""Version returns the runtime name, runtime version, and runtime API version. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def RunPodSandbox(self, request, context): """"""RunPodSandbox creates and starts a pod-level sandbox. Runtimes must ensure the sandbox is in the ready state on success. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def StopPodSandbox(self, request, context): """"""StopPodSandbox stops any running process that is part of the sandbox and reclaims network resources (e.g., IP addresses) allocated to the sandbox. If there are any running containers in the sandbox, they must be forcibly terminated. This call is idempotent, and must not return an error if all relevant resources have already been reclaimed. kubelet will call StopPodSandbox at least once before calling RemovePodSandbox. It will also attempt to reclaim resources eagerly, as soon as a sandbox is not needed. Hence, multiple StopPodSandbox calls are expected. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def RemovePodSandbox(self, request, context): """"""RemovePodSandbox removes the sandbox. If there are any running containers in the sandbox, they must be forcibly terminated and removed. This call is idempotent, and must not return an error if the sandbox has already been removed. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def PodSandboxStatus(self, request, context): """"""PodSandboxStatus returns the status of the PodSandbox. If the PodSandbox is not present, returns an error. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ListPodSandbox(self, request, context): """"""ListPodSandbox returns a list of PodSandboxes. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def CreateContainer(self, request, context): """"""CreateContainer creates a new container in specified PodSandbox """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def StartContainer(self, request, context): """"""StartContainer starts the container. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def StopContainer(self, request, context): """"""StopContainer stops a running container with a grace period (i.e., timeout). This call is idempotent, and must not return an error if the container has already been stopped. The runtime must forcibly kill the container after the grace period is reached. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def RemoveContainer(self, request, context): """"""RemoveContainer removes the container. If the container is running, the container must be forcibly removed. This call is idempotent, and must not return an error if the container has already been removed. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ListContainers(self, request, context): """"""ListContainers lists all containers by filters. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ContainerStatus(self, request, context): """"""ContainerStatus returns status of the container. If the container is not present, returns an error. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def UpdateContainerResources(self, request, context): """"""UpdateContainerResources updates ContainerConfig of the container. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ReopenContainerLog(self, request, context): """"""ReopenContainerLog asks runtime to reopen the stdout/stderr log file for the container. This is often called after the log file has been rotated. If the container is not running, container runtime can choose to either create a new log file and return nil, or return an error. Once it returns error, new container log file MUST NOT be created. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ExecSync(self, request, context): """"""ExecSync runs a command in a container synchronously. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def Exec(self, request, context): """"""Exec prepares a streaming endpoint to execute a command in the container. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def Attach(self, request, context): """"""Attach prepares a streaming endpoint to attach to a running container. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def PortForward(self, request, context): """"""PortForward prepares a streaming endpoint to forward ports from a PodSandbox. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ContainerStats(self, request, context): """"""ContainerStats returns stats of the container. If the container does not exist, the call returns an error. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ListContainerStats(self, request, context): """"""ListContainerStats returns stats of all running containers. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def PodSandboxStats(self, request, context): """"""PodSandboxStats returns stats of the pod sandbox. If the pod sandbox does not exist, the call returns an error. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ListPodSandboxStats(self, request, context): """"""ListPodSandboxStats returns stats of the pod sandboxes matching a filter. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def UpdateRuntimeConfig(self, request, context): """"""UpdateRuntimeConfig updates the runtime configuration based on the given request. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def Status(self, request, context): """"""Status returns the status of the runtime. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') rpc_method_handlers = { 'Version': grpc.unary_unary_rpc_method_handler( servicer.Version, request_deserializer=zun_dot_criapi_dot_api__pb2.VersionRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.VersionResponse.SerializeToString, ), 'RunPodSandbox': grpc.unary_unary_rpc_method_handler( servicer.RunPodSandbox, request_deserializer=zun_dot_criapi_dot_api__pb2.RunPodSandboxRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.RunPodSandboxResponse.SerializeToString, ), 'StopPodSandbox': grpc.unary_unary_rpc_method_handler( servicer.StopPodSandbox, request_deserializer=zun_dot_criapi_dot_api__pb2.StopPodSandboxRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.StopPodSandboxResponse.SerializeToString, ), 'RemovePodSandbox': grpc.unary_unary_rpc_method_handler( servicer.RemovePodSandbox, request_deserializer=zun_dot_criapi_dot_api__pb2.RemovePodSandboxRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.RemovePodSandboxResponse.SerializeToString, ), 'PodSandboxStatus': grpc.unary_unary_rpc_method_handler( servicer.PodSandboxStatus, request_deserializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatusRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatusResponse.SerializeToString, ), 'ListPodSandbox': grpc.unary_unary_rpc_method_handler( servicer.ListPodSandbox, request_deserializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxResponse.SerializeToString, ), 'CreateContainer': grpc.unary_unary_rpc_method_handler( servicer.CreateContainer, request_deserializer=zun_dot_criapi_dot_api__pb2.CreateContainerRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.CreateContainerResponse.SerializeToString, ), 'StartContainer': grpc.unary_unary_rpc_method_handler( servicer.StartContainer, request_deserializer=zun_dot_criapi_dot_api__pb2.StartContainerRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.StartContainerResponse.SerializeToString, ), 'StopContainer': grpc.unary_unary_rpc_method_handler( servicer.StopContainer, request_deserializer=zun_dot_criapi_dot_api__pb2.StopContainerRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.StopContainerResponse.SerializeToString, ), 'RemoveContainer': grpc.unary_unary_rpc_method_handler( servicer.RemoveContainer, request_deserializer=zun_dot_criapi_dot_api__pb2.RemoveContainerRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.RemoveContainerResponse.SerializeToString, ), 'ListContainers': grpc.unary_unary_rpc_method_handler( servicer.ListContainers, request_deserializer=zun_dot_criapi_dot_api__pb2.ListContainersRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ListContainersResponse.SerializeToString, ), 'ContainerStatus': grpc.unary_unary_rpc_method_handler( servicer.ContainerStatus, request_deserializer=zun_dot_criapi_dot_api__pb2.ContainerStatusRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ContainerStatusResponse.SerializeToString, ), 'UpdateContainerResources': grpc.unary_unary_rpc_method_handler( servicer.UpdateContainerResources, request_deserializer=zun_dot_criapi_dot_api__pb2.UpdateContainerResourcesRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.UpdateContainerResourcesResponse.SerializeToString, ), 'ReopenContainerLog': grpc.unary_unary_rpc_method_handler( servicer.ReopenContainerLog, request_deserializer=zun_dot_criapi_dot_api__pb2.ReopenContainerLogRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ReopenContainerLogResponse.SerializeToString, ), 'ExecSync': grpc.unary_unary_rpc_method_handler( servicer.ExecSync, request_deserializer=zun_dot_criapi_dot_api__pb2.ExecSyncRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ExecSyncResponse.SerializeToString, ), 'Exec': grpc.unary_unary_rpc_method_handler( servicer.Exec, request_deserializer=zun_dot_criapi_dot_api__pb2.ExecRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ExecResponse.SerializeToString, ), 'Attach': grpc.unary_unary_rpc_method_handler( servicer.Attach, request_deserializer=zun_dot_criapi_dot_api__pb2.AttachRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.AttachResponse.SerializeToString, ), 'PortForward': grpc.unary_unary_rpc_method_handler( servicer.PortForward, request_deserializer=zun_dot_criapi_dot_api__pb2.PortForwardRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.PortForwardResponse.SerializeToString, ), 'ContainerStats': grpc.unary_unary_rpc_method_handler( servicer.ContainerStats, request_deserializer=zun_dot_criapi_dot_api__pb2.ContainerStatsRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ContainerStatsResponse.SerializeToString, ), 'ListContainerStats': grpc.unary_unary_rpc_method_handler( servicer.ListContainerStats, request_deserializer=zun_dot_criapi_dot_api__pb2.ListContainerStatsRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ListContainerStatsResponse.SerializeToString, ), 'PodSandboxStats': grpc.unary_unary_rpc_method_handler( servicer.PodSandboxStats, request_deserializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatsRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatsResponse.SerializeToString, ), 'ListPodSandboxStats': grpc.unary_unary_rpc_method_handler( servicer.ListPodSandboxStats, request_deserializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxStatsRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxStatsResponse.SerializeToString, ), 'UpdateRuntimeConfig': grpc.unary_unary_rpc_method_handler( servicer.UpdateRuntimeConfig, request_deserializer=zun_dot_criapi_dot_api__pb2.UpdateRuntimeConfigRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.UpdateRuntimeConfigResponse.SerializeToString, ), 'Status': grpc.unary_unary_rpc_method_handler( servicer.Status, request_deserializer=zun_dot_criapi_dot_api__pb2.StatusRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.StatusResponse.SerializeToString, ), } generic_handler = grpc.method_handlers_generic_handler( 'runtime.v1alpha2.RuntimeService', rpc_method_handlers) server.add_generic_rpc_handlers((generic_handler,)) # This class is part of an EXPERIMENTAL API. class RuntimeService(object): """"""Runtime service defines the public APIs for remote container runtimes """""" @staticmethod def Version(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/Version', zun_dot_criapi_dot_api__pb2.VersionRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.VersionResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def RunPodSandbox(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/RunPodSandbox', zun_dot_criapi_dot_api__pb2.RunPodSandboxRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.RunPodSandboxResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def StopPodSandbox(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/StopPodSandbox', zun_dot_criapi_dot_api__pb2.StopPodSandboxRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.StopPodSandboxResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def RemovePodSandbox(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/RemovePodSandbox', zun_dot_criapi_dot_api__pb2.RemovePodSandboxRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.RemovePodSandboxResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def PodSandboxStatus(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/PodSandboxStatus', zun_dot_criapi_dot_api__pb2.PodSandboxStatusRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.PodSandboxStatusResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def ListPodSandbox(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/ListPodSandbox', zun_dot_criapi_dot_api__pb2.ListPodSandboxRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ListPodSandboxResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def CreateContainer(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/CreateContainer', zun_dot_criapi_dot_api__pb2.CreateContainerRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.CreateContainerResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def StartContainer(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/StartContainer', zun_dot_criapi_dot_api__pb2.StartContainerRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.StartContainerResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def StopContainer(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/StopContainer', zun_dot_criapi_dot_api__pb2.StopContainerRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.StopContainerResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def RemoveContainer(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/RemoveContainer', zun_dot_criapi_dot_api__pb2.RemoveContainerRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.RemoveContainerResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def ListContainers(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/ListContainers', zun_dot_criapi_dot_api__pb2.ListContainersRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ListContainersResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def ContainerStatus(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/ContainerStatus', zun_dot_criapi_dot_api__pb2.ContainerStatusRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ContainerStatusResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def UpdateContainerResources(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/UpdateContainerResources', zun_dot_criapi_dot_api__pb2.UpdateContainerResourcesRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.UpdateContainerResourcesResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def ReopenContainerLog(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/ReopenContainerLog', zun_dot_criapi_dot_api__pb2.ReopenContainerLogRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ReopenContainerLogResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def ExecSync(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/ExecSync', zun_dot_criapi_dot_api__pb2.ExecSyncRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ExecSyncResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def Exec(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/Exec', zun_dot_criapi_dot_api__pb2.ExecRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ExecResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def Attach(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/Attach', zun_dot_criapi_dot_api__pb2.AttachRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.AttachResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def PortForward(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/PortForward', zun_dot_criapi_dot_api__pb2.PortForwardRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.PortForwardResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def ContainerStats(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/ContainerStats', zun_dot_criapi_dot_api__pb2.ContainerStatsRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ContainerStatsResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def ListContainerStats(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/ListContainerStats', zun_dot_criapi_dot_api__pb2.ListContainerStatsRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ListContainerStatsResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def PodSandboxStats(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/PodSandboxStats', zun_dot_criapi_dot_api__pb2.PodSandboxStatsRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.PodSandboxStatsResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def ListPodSandboxStats(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/ListPodSandboxStats', zun_dot_criapi_dot_api__pb2.ListPodSandboxStatsRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ListPodSandboxStatsResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def UpdateRuntimeConfig(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/UpdateRuntimeConfig', zun_dot_criapi_dot_api__pb2.UpdateRuntimeConfigRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.UpdateRuntimeConfigResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def Status(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.RuntimeService/Status', zun_dot_criapi_dot_api__pb2.StatusRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.StatusResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) """"""ImageService defines the public APIs for managing images. def __init__(self, channel): """"""Constructor. Args: channel: A grpc.Channel. """""" self.ListImages = channel.unary_unary( '/runtime.v1alpha2.ImageService/ListImages', request_serializer=zun_dot_criapi_dot_api__pb2.ListImagesRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ListImagesResponse.FromString, ) self.ImageStatus = channel.unary_unary( '/runtime.v1alpha2.ImageService/ImageStatus', request_serializer=zun_dot_criapi_dot_api__pb2.ImageStatusRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ImageStatusResponse.FromString, ) self.PullImage = channel.unary_unary( '/runtime.v1alpha2.ImageService/PullImage', request_serializer=zun_dot_criapi_dot_api__pb2.PullImageRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.PullImageResponse.FromString, ) self.RemoveImage = channel.unary_unary( '/runtime.v1alpha2.ImageService/RemoveImage', request_serializer=zun_dot_criapi_dot_api__pb2.RemoveImageRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.RemoveImageResponse.FromString, ) self.ImageFsInfo = channel.unary_unary( '/runtime.v1alpha2.ImageService/ImageFsInfo', request_serializer=zun_dot_criapi_dot_api__pb2.ImageFsInfoRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ImageFsInfoResponse.FromString, ) """"""ImageService defines the public APIs for managing images. def ListImages(self, request, context): """"""ListImages lists existing images. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ImageStatus(self, request, context): """"""ImageStatus returns the status of the image. If the image is not present, returns a response with ImageStatusResponse.Image set to nil. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def PullImage(self, request, context): """"""PullImage pulls an image with authentication config. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def RemoveImage(self, request, context): """"""RemoveImage removes the image. This call is idempotent, and must not return an error if the image has already been removed. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ImageFsInfo(self, request, context): """"""ImageFSInfo returns information of the filesystem that is used to store images. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') rpc_method_handlers = { 'ListImages': grpc.unary_unary_rpc_method_handler( servicer.ListImages, request_deserializer=zun_dot_criapi_dot_api__pb2.ListImagesRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ListImagesResponse.SerializeToString, ), 'ImageStatus': grpc.unary_unary_rpc_method_handler( servicer.ImageStatus, request_deserializer=zun_dot_criapi_dot_api__pb2.ImageStatusRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ImageStatusResponse.SerializeToString, ), 'PullImage': grpc.unary_unary_rpc_method_handler( servicer.PullImage, request_deserializer=zun_dot_criapi_dot_api__pb2.PullImageRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.PullImageResponse.SerializeToString, ), 'RemoveImage': grpc.unary_unary_rpc_method_handler( servicer.RemoveImage, request_deserializer=zun_dot_criapi_dot_api__pb2.RemoveImageRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.RemoveImageResponse.SerializeToString, ), 'ImageFsInfo': grpc.unary_unary_rpc_method_handler( servicer.ImageFsInfo, request_deserializer=zun_dot_criapi_dot_api__pb2.ImageFsInfoRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ImageFsInfoResponse.SerializeToString, ), } generic_handler = grpc.method_handlers_generic_handler( 'runtime.v1alpha2.ImageService', rpc_method_handlers) server.add_generic_rpc_handlers((generic_handler,)) # This class is part of an EXPERIMENTAL API. class ImageService(object): """"""ImageService defines the public APIs for managing images. """""" @staticmethod def ListImages(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.ImageService/ListImages', zun_dot_criapi_dot_api__pb2.ListImagesRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ListImagesResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def ImageStatus(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.ImageService/ImageStatus', zun_dot_criapi_dot_api__pb2.ImageStatusRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ImageStatusResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def PullImage(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.ImageService/PullImage', zun_dot_criapi_dot_api__pb2.PullImageRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.PullImageResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def RemoveImage(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.ImageService/RemoveImage', zun_dot_criapi_dot_api__pb2.RemoveImageRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.RemoveImageResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata) @staticmethod def ImageFsInfo(request, target, options=(), channel_credentials=None, call_credentials=None, insecure=False, compression=None, wait_for_ready=None, timeout=None, metadata=None): return grpc.experimental.unary_unary(request, target, '/runtime.v1alpha2.ImageService/ImageFsInfo', zun_dot_criapi_dot_api__pb2.ImageFsInfoRequest.SerializeToString, zun_dot_criapi_dot_api__pb2.ImageFsInfoResponse.FromString, options, channel_credentials, insecure, call_credentials, compression, wait_for_ready, timeout, metadata)"," """"""Runtime service defines the public APIs for remote container runtimes """""" def __init__(self, channel): """"""Constructor. Args: channel: A grpc.Channel. self.Version = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/Version', request_serializer=zun_dot_criapi_dot_api__pb2.VersionRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.VersionResponse.FromString, ) self.RunPodSandbox = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/RunPodSandbox', request_serializer=zun_dot_criapi_dot_api__pb2.RunPodSandboxRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.RunPodSandboxResponse.FromString, ) self.StopPodSandbox = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/StopPodSandbox', request_serializer=zun_dot_criapi_dot_api__pb2.StopPodSandboxRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.StopPodSandboxResponse.FromString, ) self.RemovePodSandbox = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/RemovePodSandbox', request_serializer=zun_dot_criapi_dot_api__pb2.RemovePodSandboxRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.RemovePodSandboxResponse.FromString, ) self.PodSandboxStatus = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/PodSandboxStatus', request_serializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatusRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatusResponse.FromString, ) self.ListPodSandbox = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ListPodSandbox', request_serializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxResponse.FromString, ) self.CreateContainer = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/CreateContainer', request_serializer=zun_dot_criapi_dot_api__pb2.CreateContainerRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.CreateContainerResponse.FromString, ) self.StartContainer = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/StartContainer', request_serializer=zun_dot_criapi_dot_api__pb2.StartContainerRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.StartContainerResponse.FromString, ) self.StopContainer = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/StopContainer', request_serializer=zun_dot_criapi_dot_api__pb2.StopContainerRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.StopContainerResponse.FromString, ) self.RemoveContainer = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/RemoveContainer', request_serializer=zun_dot_criapi_dot_api__pb2.RemoveContainerRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.RemoveContainerResponse.FromString, ) self.ListContainers = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ListContainers', request_serializer=zun_dot_criapi_dot_api__pb2.ListContainersRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ListContainersResponse.FromString, ) self.ContainerStatus = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ContainerStatus', request_serializer=zun_dot_criapi_dot_api__pb2.ContainerStatusRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ContainerStatusResponse.FromString, ) self.UpdateContainerResources = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/UpdateContainerResources', request_serializer=zun_dot_criapi_dot_api__pb2.UpdateContainerResourcesRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.UpdateContainerResourcesResponse.FromString, ) self.ReopenContainerLog = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ReopenContainerLog', request_serializer=zun_dot_criapi_dot_api__pb2.ReopenContainerLogRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ReopenContainerLogResponse.FromString, ) self.ExecSync = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ExecSync', request_serializer=zun_dot_criapi_dot_api__pb2.ExecSyncRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ExecSyncResponse.FromString, ) self.Exec = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/Exec', request_serializer=zun_dot_criapi_dot_api__pb2.ExecRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ExecResponse.FromString, ) self.Attach = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/Attach', request_serializer=zun_dot_criapi_dot_api__pb2.AttachRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.AttachResponse.FromString, ) self.PortForward = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/PortForward', request_serializer=zun_dot_criapi_dot_api__pb2.PortForwardRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.PortForwardResponse.FromString, ) self.ContainerStats = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ContainerStats', request_serializer=zun_dot_criapi_dot_api__pb2.ContainerStatsRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ContainerStatsResponse.FromString, ) self.ListContainerStats = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/ListContainerStats', request_serializer=zun_dot_criapi_dot_api__pb2.ListContainerStatsRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ListContainerStatsResponse.FromString, ) self.UpdateRuntimeConfig = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/UpdateRuntimeConfig', request_serializer=zun_dot_criapi_dot_api__pb2.UpdateRuntimeConfigRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.UpdateRuntimeConfigResponse.FromString, ) self.Status = channel.unary_unary( '/runtime.v1alpha2.RuntimeService/Status', request_serializer=zun_dot_criapi_dot_api__pb2.StatusRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.StatusResponse.FromString, ) """"""Runtime service defines the public APIs for remote container runtimes """""" def Version(self, request, context): """"""Version returns the runtime name, runtime version, and runtime API version. context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def RunPodSandbox(self, request, context): """"""RunPodSandbox creates and starts a pod-level sandbox. Runtimes must ensure the sandbox is in the ready state on success. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def StopPodSandbox(self, request, context): """"""StopPodSandbox stops any running process that is part of the sandbox and reclaims network resources (e.g., IP addresses) allocated to the sandbox. If there are any running containers in the sandbox, they must be forcibly terminated. This call is idempotent, and must not return an error if all relevant resources have already been reclaimed. kubelet will call StopPodSandbox at least once before calling RemovePodSandbox. It will also attempt to reclaim resources eagerly, as soon as a sandbox is not needed. Hence, multiple StopPodSandbox calls are expected. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def RemovePodSandbox(self, request, context): """"""RemovePodSandbox removes the sandbox. If there are any running containers in the sandbox, they must be forcibly terminated and removed. This call is idempotent, and must not return an error if the sandbox has already been removed. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def PodSandboxStatus(self, request, context): """"""PodSandboxStatus returns the status of the PodSandbox. If the PodSandbox is not present, returns an error. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ListPodSandbox(self, request, context): """"""ListPodSandbox returns a list of PodSandboxes. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def CreateContainer(self, request, context): """"""CreateContainer creates a new container in specified PodSandbox """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def StartContainer(self, request, context): """"""StartContainer starts the container. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def StopContainer(self, request, context): """"""StopContainer stops a running container with a grace period (i.e., timeout). This call is idempotent, and must not return an error if the container has already been stopped. TODO: what must the runtime do after the grace period is reached? """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def RemoveContainer(self, request, context): """"""RemoveContainer removes the container. If the container is running, the container must be forcibly removed. This call is idempotent, and must not return an error if the container has already been removed. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ListContainers(self, request, context): """"""ListContainers lists all containers by filters. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ContainerStatus(self, request, context): """"""ContainerStatus returns status of the container. If the container is not present, returns an error. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def UpdateContainerResources(self, request, context): """"""UpdateContainerResources updates ContainerConfig of the container. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ReopenContainerLog(self, request, context): """"""ReopenContainerLog asks runtime to reopen the stdout/stderr log file for the container. This is often called after the log file has been rotated. If the container is not running, container runtime can choose to either create a new log file and return nil, or return an error. Once it returns error, new container log file MUST NOT be created. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ExecSync(self, request, context): """"""ExecSync runs a command in a container synchronously. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def Exec(self, request, context): """"""Exec prepares a streaming endpoint to execute a command in the container. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def Attach(self, request, context): """"""Attach prepares a streaming endpoint to attach to a running container. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def PortForward(self, request, context): """"""PortForward prepares a streaming endpoint to forward ports from a PodSandbox. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ContainerStats(self, request, context): """"""ContainerStats returns stats of the container. If the container does not exist, the call returns an error. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ListContainerStats(self, request, context): """"""ListContainerStats returns stats of all running containers. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def UpdateRuntimeConfig(self, request, context): """"""UpdateRuntimeConfig updates the runtime configuration based on the given request. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def Status(self, request, context): """"""Status returns the status of the runtime. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') rpc_method_handlers = { 'Version': grpc.unary_unary_rpc_method_handler( servicer.Version, request_deserializer=zun_dot_criapi_dot_api__pb2.VersionRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.VersionResponse.SerializeToString, ), 'RunPodSandbox': grpc.unary_unary_rpc_method_handler( servicer.RunPodSandbox, request_deserializer=zun_dot_criapi_dot_api__pb2.RunPodSandboxRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.RunPodSandboxResponse.SerializeToString, ), 'StopPodSandbox': grpc.unary_unary_rpc_method_handler( servicer.StopPodSandbox, request_deserializer=zun_dot_criapi_dot_api__pb2.StopPodSandboxRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.StopPodSandboxResponse.SerializeToString, ), 'RemovePodSandbox': grpc.unary_unary_rpc_method_handler( servicer.RemovePodSandbox, request_deserializer=zun_dot_criapi_dot_api__pb2.RemovePodSandboxRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.RemovePodSandboxResponse.SerializeToString, ), 'PodSandboxStatus': grpc.unary_unary_rpc_method_handler( servicer.PodSandboxStatus, request_deserializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatusRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.PodSandboxStatusResponse.SerializeToString, ), 'ListPodSandbox': grpc.unary_unary_rpc_method_handler( servicer.ListPodSandbox, request_deserializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ListPodSandboxResponse.SerializeToString, ), 'CreateContainer': grpc.unary_unary_rpc_method_handler( servicer.CreateContainer, request_deserializer=zun_dot_criapi_dot_api__pb2.CreateContainerRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.CreateContainerResponse.SerializeToString, ), 'StartContainer': grpc.unary_unary_rpc_method_handler( servicer.StartContainer, request_deserializer=zun_dot_criapi_dot_api__pb2.StartContainerRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.StartContainerResponse.SerializeToString, ), 'StopContainer': grpc.unary_unary_rpc_method_handler( servicer.StopContainer, request_deserializer=zun_dot_criapi_dot_api__pb2.StopContainerRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.StopContainerResponse.SerializeToString, ), 'RemoveContainer': grpc.unary_unary_rpc_method_handler( servicer.RemoveContainer, request_deserializer=zun_dot_criapi_dot_api__pb2.RemoveContainerRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.RemoveContainerResponse.SerializeToString, ), 'ListContainers': grpc.unary_unary_rpc_method_handler( servicer.ListContainers, request_deserializer=zun_dot_criapi_dot_api__pb2.ListContainersRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ListContainersResponse.SerializeToString, ), 'ContainerStatus': grpc.unary_unary_rpc_method_handler( servicer.ContainerStatus, request_deserializer=zun_dot_criapi_dot_api__pb2.ContainerStatusRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ContainerStatusResponse.SerializeToString, ), 'UpdateContainerResources': grpc.unary_unary_rpc_method_handler( servicer.UpdateContainerResources, request_deserializer=zun_dot_criapi_dot_api__pb2.UpdateContainerResourcesRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.UpdateContainerResourcesResponse.SerializeToString, ), 'ReopenContainerLog': grpc.unary_unary_rpc_method_handler( servicer.ReopenContainerLog, request_deserializer=zun_dot_criapi_dot_api__pb2.ReopenContainerLogRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ReopenContainerLogResponse.SerializeToString, ), 'ExecSync': grpc.unary_unary_rpc_method_handler( servicer.ExecSync, request_deserializer=zun_dot_criapi_dot_api__pb2.ExecSyncRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ExecSyncResponse.SerializeToString, ), 'Exec': grpc.unary_unary_rpc_method_handler( servicer.Exec, request_deserializer=zun_dot_criapi_dot_api__pb2.ExecRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ExecResponse.SerializeToString, ), 'Attach': grpc.unary_unary_rpc_method_handler( servicer.Attach, request_deserializer=zun_dot_criapi_dot_api__pb2.AttachRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.AttachResponse.SerializeToString, ), 'PortForward': grpc.unary_unary_rpc_method_handler( servicer.PortForward, request_deserializer=zun_dot_criapi_dot_api__pb2.PortForwardRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.PortForwardResponse.SerializeToString, ), 'ContainerStats': grpc.unary_unary_rpc_method_handler( servicer.ContainerStats, request_deserializer=zun_dot_criapi_dot_api__pb2.ContainerStatsRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ContainerStatsResponse.SerializeToString, ), 'ListContainerStats': grpc.unary_unary_rpc_method_handler( servicer.ListContainerStats, request_deserializer=zun_dot_criapi_dot_api__pb2.ListContainerStatsRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ListContainerStatsResponse.SerializeToString, ), 'UpdateRuntimeConfig': grpc.unary_unary_rpc_method_handler( servicer.UpdateRuntimeConfig, request_deserializer=zun_dot_criapi_dot_api__pb2.UpdateRuntimeConfigRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.UpdateRuntimeConfigResponse.SerializeToString, ), 'Status': grpc.unary_unary_rpc_method_handler( servicer.Status, request_deserializer=zun_dot_criapi_dot_api__pb2.StatusRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.StatusResponse.SerializeToString, ), } generic_handler = grpc.method_handlers_generic_handler( 'runtime.v1alpha2.RuntimeService', rpc_method_handlers) server.add_generic_rpc_handlers((generic_handler,)) """"""ImageService defines the public APIs for managing images. """""" def __init__(self, channel): """"""Constructor. Args: channel: A grpc.Channel. self.ListImages = channel.unary_unary( '/runtime.v1alpha2.ImageService/ListImages', request_serializer=zun_dot_criapi_dot_api__pb2.ListImagesRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ListImagesResponse.FromString, ) self.ImageStatus = channel.unary_unary( '/runtime.v1alpha2.ImageService/ImageStatus', request_serializer=zun_dot_criapi_dot_api__pb2.ImageStatusRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ImageStatusResponse.FromString, ) self.PullImage = channel.unary_unary( '/runtime.v1alpha2.ImageService/PullImage', request_serializer=zun_dot_criapi_dot_api__pb2.PullImageRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.PullImageResponse.FromString, ) self.RemoveImage = channel.unary_unary( '/runtime.v1alpha2.ImageService/RemoveImage', request_serializer=zun_dot_criapi_dot_api__pb2.RemoveImageRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.RemoveImageResponse.FromString, ) self.ImageFsInfo = channel.unary_unary( '/runtime.v1alpha2.ImageService/ImageFsInfo', request_serializer=zun_dot_criapi_dot_api__pb2.ImageFsInfoRequest.SerializeToString, response_deserializer=zun_dot_criapi_dot_api__pb2.ImageFsInfoResponse.FromString, ) """"""ImageService defines the public APIs for managing images. """""" def ListImages(self, request, context): """"""ListImages lists existing images. context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ImageStatus(self, request, context): """"""ImageStatus returns the status of the image. If the image is not present, returns a response with ImageStatusResponse.Image set to nil. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def PullImage(self, request, context): """"""PullImage pulls an image with authentication config. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def RemoveImage(self, request, context): """"""RemoveImage removes the image. This call is idempotent, and must not return an error if the image has already been removed. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') def ImageFsInfo(self, request, context): """"""ImageFSInfo returns information of the filesystem that is used to store images. """""" context.set_code(grpc.StatusCode.UNIMPLEMENTED) context.set_details('Method not implemented!') raise NotImplementedError('Method not implemented!') rpc_method_handlers = { 'ListImages': grpc.unary_unary_rpc_method_handler( servicer.ListImages, request_deserializer=zun_dot_criapi_dot_api__pb2.ListImagesRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ListImagesResponse.SerializeToString, ), 'ImageStatus': grpc.unary_unary_rpc_method_handler( servicer.ImageStatus, request_deserializer=zun_dot_criapi_dot_api__pb2.ImageStatusRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ImageStatusResponse.SerializeToString, ), 'PullImage': grpc.unary_unary_rpc_method_handler( servicer.PullImage, request_deserializer=zun_dot_criapi_dot_api__pb2.PullImageRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.PullImageResponse.SerializeToString, ), 'RemoveImage': grpc.unary_unary_rpc_method_handler( servicer.RemoveImage, request_deserializer=zun_dot_criapi_dot_api__pb2.RemoveImageRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.RemoveImageResponse.SerializeToString, ), 'ImageFsInfo': grpc.unary_unary_rpc_method_handler( servicer.ImageFsInfo, request_deserializer=zun_dot_criapi_dot_api__pb2.ImageFsInfoRequest.FromString, response_serializer=zun_dot_criapi_dot_api__pb2.ImageFsInfoResponse.SerializeToString, ), } generic_handler = grpc.method_handlers_generic_handler( 'runtime.v1alpha2.ImageService', rpc_method_handlers) server.add_generic_rpc_handlers((generic_handler,))",1898,7091
openstack%2Fpuppet-swift~master~Ibad7afb29007109a683e22a1119b5b5fbdb1c130,openstack/puppet-swift,master,Ibad7afb29007109a683e22a1119b5b5fbdb1c130,Use the root user to generate ring builder files,MERGED,2022-07-04 01:12:06.000000000,2022-08-01 13:26:32.000000000,2022-08-01 13:25:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 01:12:06.000000000', 'files': ['spec/defines/swift_ringbuilder_create_spec.rb', 'releasenotes/notes/bug-1980613-b2e589f74602f11f.yaml', 'manifests/ringbuilder/create.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/d443048fae953e03e4a9db53d5b5f518e6a17d2f', 'message': 'Use the root user to generate ring builder files\n\nIn Ubuntu, the swift user does not have write access to the /etc/swift\ndirectory, so generating a ring builder file by the swift user fails\nwith Permission Error.\n\nThis change switches the execution user to root to avoid the error.\n\nCloses-Bug: #1980613\nChange-Id: Ibad7afb29007109a683e22a1119b5b5fbdb1c130\n'}]",1,848554,d443048fae953e03e4a9db53d5b5f518e6a17d2f,12,3,1,9816,,,0,"Use the root user to generate ring builder files

In Ubuntu, the swift user does not have write access to the /etc/swift
directory, so generating a ring builder file by the swift user fails
with Permission Error.

This change switches the execution user to root to avoid the error.

Closes-Bug: #1980613
Change-Id: Ibad7afb29007109a683e22a1119b5b5fbdb1c130
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/54/848554/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/swift_ringbuilder_create_spec.rb', 'releasenotes/notes/bug-1980613-b2e589f74602f11f.yaml', 'manifests/ringbuilder/create.pp']",3,d443048fae953e03e4a9db53d5b5f518e6a17d2f,bug/1980613,"# Optional. Defaults to 'root'# user => 'root', $part_power = 18, $replicas = 3, $user = 'root'","# Optional. Defaults to 'swift'# user => 'swift', $part_power = 18, $replicas = 3, $user = 'swift'",13,7
openstack%2Ftripleo-ci~master~Ia3461036a0672d201d0ed5c9932475c5d42a8761,openstack/tripleo-ci,master,Ia3461036a0672d201d0ed5c9932475c5d42a8761,Add cloud config for IBM cloud,MERGED,2022-07-25 06:59:03.000000000,2022-08-01 13:10:03.000000000,2022-08-01 13:10:03.000000000,"[{'_account_id': 1955}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 11810}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31075}]","[{'number': 1, 'created': '2022-07-25 06:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8e2c224bc319b30a15110490c23acbf6fd4d7913', 'message': 'Add cloud config for IBM cloud\n\nIt contains config for standalone, multinode and OVB jobs.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia3461036a0672d201d0ed5c9932475c5d42a8761\n'}, {'number': 2, 'created': '2022-07-25 06:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c58f2958d60ca5d5d53208524a063abff53acc49', 'message': 'Add cloud config for IBM cloud\n\nIt contains config for standalone, multinode and OVB jobs.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia3461036a0672d201d0ed5c9932475c5d42a8761\n'}, {'number': 3, 'created': '2022-07-25 07:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/27dc05759f48243e7ac13f05eeccf1020549f7cd', 'message': 'Add cloud config for IBM cloud\n\nIt contains config for standalone, multinode and OVB jobs.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia3461036a0672d201d0ed5c9932475c5d42a8761\n'}, {'number': 4, 'created': '2022-07-25 09:38:35.000000000', 'files': ['toci-quickstart/config/testenv/singlenode-ibm.yml', 'roles/ci-common-vars/vars/main.yaml', 'toci-quickstart/config/testenv/ovb-ibm.yml', 'toci-quickstart/config/testenv/standalone-ibm.yml', 'toci-quickstart/config/testenv/multinode-ibm.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e348fd9eb74f79bfddf8f1dde32436737d0e020', 'message': 'Add cloud config for IBM cloud\n\nIt contains config for standalone, multinode and OVB jobs.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia3461036a0672d201d0ed5c9932475c5d42a8761\n'}]",12,850856,4e348fd9eb74f79bfddf8f1dde32436737d0e020,18,9,4,12393,,,0,"Add cloud config for IBM cloud

It contains config for standalone, multinode and OVB jobs.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ia3461036a0672d201d0ed5c9932475c5d42a8761
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/56/850856/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ci-common-vars/vars/main.yaml', 'toci-quickstart/config/testenv/ovb-ibm.yml', 'toci-quickstart/config/testenv/standalone-ibm.yml', 'toci-quickstart/config/testenv/multinode-ibm.yml']",4,8e2c224bc319b30a15110490c23acbf6fd4d7913,ibm_cloud,"--- # TRIPLEO-CI environment settings cloudenv: ""ibm"" undercloud_user: ""{{ lookup('env','USER') }}"" non_root_user: ""{{ undercloud_user }}"" workers_args: > -e {{ tripleo_root }}/tripleo-ci/test-environments/worker-config.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/debug.yaml --overcloud-ssh-user {{ undercloud_user }} # ara install and config undercloud_ansible_cfg: false toci_vxlan_networking: true toci_vxlan_networking_multinode: true vxlan_mtu: 1350 hostname_correction: true # workaround restriction on toci images mtu: ""{{ vxlan_mtu }}"" undercloud_local_mtu: ""{{ mtu }}"" minion_local_mtu: ""{{ mtu }}"" overcloud_neutron_global_physnet_mtu: ""{{ mtu }}"" ceph_use_fqdn: true # environment settings, not TRIPLEO-CI specific undercloud_local_interface: ""br-ex"" # related to osinfra network configuration minion_local_interface: ""br-ex"" # related to osinfra network configuration flavor_args: """" undercloud_conf_extras: ""net_config_override = /opt/stack/new/tripleo-ci/undercloud-configs/net-config-multinode.json.template"" generate_pingtest_subunit: true # Images settings image_cache_dir_cleanup: true # user home (working_dir default) is the base dir for all images operations # if it's changed, nothing will work build_image_isolated: false build_undercloud: false # Rely on RDO registry instead of docker.io due to rate limit # job.build_container_images is defined in zuul as a # direct var. adding build_container_images as tqe # var so that we can turn this on/off per release w/o # changing zuul and breaking jobs via inheritance. docker_registry_host: >- {% if job is defined and job.build_container_images is defined and job.build_container_images|default(false)|bool or build_container_images|default(false)|bool -%} 127.0.0.1:5001 {%- elif job.consumer_job | default(false) | bool -%} {{ job.registry_ip_address_branch[release] }}:5001 {%- else -%} {%- if (release not in [""victoria""] and ansible_distribution|lower in [""centos""]) -%} quay.rdoproject.org {%- else -%} trunk.registry.rdoproject.org {%- endif -%} {%- endif -%} # Container update settings update_containers: >- {% if containerized_overcloud|bool or containerized_undercloud|bool -%} true {%- endif -%} # build-test packages artg_repos_dir: ""{{ tripleo_root }}"" # disable disk cleaning before starting installation undercloud_clean_nodes: false # InfluxDB module settings influxdb_only_successful_tasks: true influxdb_measurement: job influxdb_url: https://influxdb.review.rdoproject.org influxdb_port: 8086 influxdb_user: tripleo_ci influxdb_password: influxdb_dbname: tripleo_ci influxdb_data_file_path: ""{{ artcl_collect_dir }}/influxdb_data"" influxdb_create_data_file: true ",,154,0
openstack%2Ftripleo-heat-templates~master~I93ad750ffb1677145d6f0954d9e4e0c000d2b41e,openstack/tripleo-heat-templates,master,I93ad750ffb1677145d6f0954d9e4e0c000d2b41e,Remove ctlplane-subnet from example file.,MERGED,2022-08-01 05:10:15.000000000,2022-08-01 13:10:00.000000000,2022-08-01 13:10:00.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-08-01 05:10:15.000000000', 'files': ['baremetal-samples/baremetal_deployment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/10e29261326a2ab2ab4ab30c8c1a729e83653de9', 'message': 'Remove ctlplane-subnet from example file.\n\nThe check expects that we have the ctlplane network.\nIncluding the subnet as well might cause issues with\nthe current check implementation:\n\nhttps://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_expand_roles.py#L95-L102\n\nFull discussion is on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841114\n\nChange-Id: I93ad750ffb1677145d6f0954d9e4e0c000d2b41e\n'}]",0,851693,10e29261326a2ab2ab4ab30c8c1a729e83653de9,7,3,1,30073,,,0,"Remove ctlplane-subnet from example file.

The check expects that we have the ctlplane network.
Including the subnet as well might cause issues with
the current check implementation:

https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_expand_roles.py#L95-L102

Full discussion is on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/841114

Change-Id: I93ad750ffb1677145d6f0954d9e4e0c000d2b41e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/851693/1 && git format-patch -1 --stdout FETCH_HEAD,['baremetal-samples/baremetal_deployment.yaml'],1,10e29261326a2ab2ab4ab30c8c1a729e83653de9,baremetal-sample,, subnet: ctlplane_subnet subnet: ctlplane_subnet subnet: ctlplane_subnet subnet: ctlplane_subnet subnet: ctlplane_subnet subnet: ctlplane_subnet,0,6
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I0b59053618247d2a6d62d1c9e69173f3ff1d2922,openstack/puppet-tripleo,stable/wallaby,I0b59053618247d2a6d62d1c9e69173f3ff1d2922,Change neutron backend's timeout in haproxy to 10 minutes,MERGED,2022-07-29 14:52:32.000000000,2022-08-01 13:09:56.000000000,2022-08-01 13:09:56.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-29 14:52:32.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/47e76e9d6e16028c0e45f84f5741fb480d81e7ae', 'message': ""Change neutron backend's timeout in haproxy to 10 minutes\n\nWhen client makes some heavy API requests to the Neutron API, like\ne.g. some bulk request to create many ports at once it may happen that\nNeutron will process the request for much longer than 2 minutes, which\nis default server timeout in the haproxy's configuration for backends.\nIt happens e.g. with Kuryr.\n\nBecause of that, haproxy returns to the client HTTP 504 but Neutron API\nis still processing API requests and finally it finishes properly.\nBut client may then try to retry to request which failed with 504 error\nthus finally it may end up with duplicated resources created.\n\nTo avoid that, this patch increases server timeout for the neutron api\nbackend to 10 minutes.\n\nCloses: rhbz#2083245\nChange-Id: I0b59053618247d2a6d62d1c9e69173f3ff1d2922\n(cherry picked from commit bb002c9d972411dc9baff0556c0810a3003b8d78)\n""}]",1,851531,47e76e9d6e16028c0e45f84f5741fb480d81e7ae,12,5,1,11975,,,0,"Change neutron backend's timeout in haproxy to 10 minutes

When client makes some heavy API requests to the Neutron API, like
e.g. some bulk request to create many ports at once it may happen that
Neutron will process the request for much longer than 2 minutes, which
is default server timeout in the haproxy's configuration for backends.
It happens e.g. with Kuryr.

Because of that, haproxy returns to the client HTTP 504 but Neutron API
is still processing API requests and finally it finishes properly.
But client may then try to retry to request which failed with 504 error
thus finally it may end up with duplicated resources created.

To avoid that, this patch increases server timeout for the neutron api
backend to 10 minutes.

Closes: rhbz#2083245
Change-Id: I0b59053618247d2a6d62d1c9e69173f3ff1d2922
(cherry picked from commit bb002c9d972411dc9baff0556c0810a3003b8d78)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/31/851531/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,47e76e9d6e16028c0e45f84f5741fb480d81e7ae,bz/2083245-stable/wallaby," 'timeout client' => '10m', 'option' => [ 'httplog', 'forwardfor' ] 'timeout server' => '10m', 'balance' => $haproxy_lb_mode_longrunning, 'option' => [ 'httpchk GET /healthcheck' ]"," 'option' => [ 'httplog', 'forwardfor' ] 'balance' => $haproxy_lb_mode_longrunning, 'option' => [ 'httpchk GET /healthcheck' ]",5,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I0c3d426aa78e631f477dfb8ad80129a0f51307bf,openstack/python-tripleoclient,stable/wallaby,I0c3d426aa78e631f477dfb8ad80129a0f51307bf,Remove specific python version classifiers in setup.cfg,ABANDONED,2022-07-28 09:58:02.000000000,2022-08-01 13:05:19.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 09:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9720c15d4d3591ea920662160638d2e8f54dc986', 'message': 'DNM testing https://bugs.launchpad.net/tripleo/+bug/1983004\n\nChange-Id: I0c3d426aa78e631f477dfb8ad80129a0f51307bf\n'}, {'number': 2, 'created': '2022-07-28 10:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0290621c318710638475823f395b90ebaa89b794', 'message': 'DNM testing https://bugs.launchpad.net/tripleo/+bug/1983004\n\nChange-Id: I0c3d426aa78e631f477dfb8ad80129a0f51307bf\n'}, {'number': 3, 'created': '2022-07-28 11:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d1eab4f350e4fc28d200f7bdf578834018e0e111', 'message': 'DNM testing https://bugs.launchpad.net/tripleo/+bug/1983004\n\nChange-Id: I0c3d426aa78e631f477dfb8ad80129a0f51307bf\n'}, {'number': 4, 'created': '2022-07-29 11:10:07.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ff847020f323aa84d900e96dec88632c3bd346d8', 'message': 'Remove specific python version classifiers in setup.cfg\n\nWe think this is causing related-bug and should not be needed\nas the jobs are already using 3.9. In [1] this was bumped for\nmaster to use 3.8 and 3.9 but lets not carry specific classifier\nif not needed.\n\n[1] https://opendev.org/openstack/python-tripleoclient/commit/7e380a525b202362e1cf03f966836642762c27a5\nRelated-Bug: 1983004\nChange-Id: I0c3d426aa78e631f477dfb8ad80129a0f51307bf\n'}]",4,851366,ff847020f323aa84d900e96dec88632c3bd346d8,14,2,4,8449,,,0,"Remove specific python version classifiers in setup.cfg

We think this is causing related-bug and should not be needed
as the jobs are already using 3.9. In [1] this was bumped for
master to use 3.8 and 3.9 but lets not carry specific classifier
if not needed.

[1] https://opendev.org/openstack/python-tripleoclient/commit/7e380a525b202362e1cf03f966836642762c27a5
Related-Bug: 1983004
Change-Id: I0c3d426aa78e631f477dfb8ad80129a0f51307bf
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/66/851366/4 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9720c15d4d3591ea920662160638d2e8f54dc986,oooci_mixed_rhel,python-requires = >=3.8 Programming Language :: Python :: 3.8,python-requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,2,3
openstack%2Fheat~master~Iec6f1c570ec3bb19ca58b336e6e3401cc11c4c33,openstack/heat,master,Iec6f1c570ec3bb19ca58b336e6e3401cc11c4c33,OS::Nova::KeyPair: Require public_key when api version >= 2.92,MERGED,2022-07-31 03:06:47.000000000,2022-08-01 12:53:47.000000000,2022-08-01 12:51:41.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-31 03:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/51680a354bc8159f413c874660c816f15916ace6', 'message': 'OS::Nova::KeyPair: Require public_key when api version >= 2.92\n\n... because Nova requires the public_key property when creating\na keypair since api microversion 2.92.\n\nStory: 2010201\nTask: 45920\nChange-Id: Iec6f1c570ec3bb19ca58b336e6e3401cc11c4c33\n'}, {'number': 2, 'created': '2022-07-31 03:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/741a624715aa08f7d85c60f22c77e554b97d68fc', 'message': 'OS::Nova::KeyPair: Require public_key when api version >= 2.92\n\n... because Nova requires the public_key property when creating\na keypair since api microversion 2.92.\n\nStory: 2010201\nTask: 45920\nChange-Id: Iec6f1c570ec3bb19ca58b336e6e3401cc11c4c33\n'}, {'number': 3, 'created': '2022-07-31 04:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9a7ab6332f43371c357edf94e4b09704cf58f0af', 'message': 'OS::Nova::KeyPair: Require public_key when api version >= 2.92\n\n... because Nova requires the public_key property when creating\na keypair since api microversion 2.92.\n\nStory: 2010201\nTask: 45920\nChange-Id: Iec6f1c570ec3bb19ca58b336e6e3401cc11c4c33\n'}, {'number': 4, 'created': '2022-08-01 01:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5f04c14c5dc8151679ae67b766e264955c5585bf', 'message': 'OS::Nova::KeyPair: Require public_key when api version >= 2.92\n\n... because Nova requires the public_key property when creating\na keypair since api microversion 2.92.\n\nStory: 2010201\nTask: 45920\nChange-Id: Iec6f1c570ec3bb19ca58b336e6e3401cc11c4c33\n'}, {'number': 5, 'created': '2022-08-01 01:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ccae601f69140c76c1fe06e30f31704eb4d312f1', 'message': 'OS::Nova::KeyPair: Require public_key when api version >= 2.92\n\n... because Nova requires the public_key property when creating\na keypair since api microversion 2.92.\n\nStory: 2010201\nTask: 45920\nChange-Id: Iec6f1c570ec3bb19ca58b336e6e3401cc11c4c33\n'}, {'number': 6, 'created': '2022-08-01 01:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/93056a9a614165c193c9eb368f7c81571831f418', 'message': 'OS::Nova::KeyPair: Require public_key when api version >= 2.92\n\n... because Nova requires the public_key property when creating\na keypair since api microversion 2.92.\n\nStory: 2010201\nTask: 45920\nChange-Id: Iec6f1c570ec3bb19ca58b336e6e3401cc11c4c33\n'}, {'number': 7, 'created': '2022-08-01 05:18:38.000000000', 'files': ['heat/engine/resources/openstack/nova/keypair.py', 'heat/tests/openstack/nova/test_keypair.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f8426b0f0b44c72172c292631d8f2a83486e2cea', 'message': 'OS::Nova::KeyPair: Require public_key when api version >= 2.92\n\n... because Nova requires the public_key property when creating\na keypair since api microversion 2.92.\n\nStory: 2010201\nTask: 45920\nChange-Id: Iec6f1c570ec3bb19ca58b336e6e3401cc11c4c33\n'}]",13,851675,f8426b0f0b44c72172c292631d8f2a83486e2cea,35,3,7,9816,,,0,"OS::Nova::KeyPair: Require public_key when api version >= 2.92

... because Nova requires the public_key property when creating
a keypair since api microversion 2.92.

Story: 2010201
Task: 45920
Change-Id: Iec6f1c570ec3bb19ca58b336e6e3401cc11c4c33
",git fetch https://review.opendev.org/openstack/heat refs/changes/75/851675/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/nova/keypair.py', 'heat/tests/openstack/nova/test_keypair.py']",2,51680a354bc8159f413c874660c816f15916ace6,story/2010201," def test_validate_public_key(self): self.patchobject(nova.NovaClientPlugin, 'get_max_microversion', return_value='2.92') template = copy.deepcopy(self.kp_template) template['resources']['kp']['properties']['public_key'] = 'dummy' stack = utils.parse_stack(template) definition = stack.t.resource_definitions(stack)['kp'] kp_res = keypair.KeyPair('kp', definition, stack) kp_res.validate() def test_validate_public_key_fail(self): self.patchobject(nova.NovaClientPlugin, 'get_max_microversion', return_value='2.92') template = copy.deepcopy(self.kp_template) stack = utils.parse_stack(template) definition = stack.t.resource_definitions(stack)['kp'] kp_res = keypair.KeyPair('kp', definition, stack) error = self.assertRaises(exception.StackValidationFailed, kp_res.validate) msg=('The public_key property is required by the current Nova api ' 'microversion.') self.assertIn(msg, str(error)) ",,35,4
openstack%2Fheat~master~If651dbe34792c8ec72320a6d389a1bc1f2d23d13,openstack/heat,master,If651dbe34792c8ec72320a6d389a1bc1f2d23d13,Replace KeyPair resource by TestResource,MERGED,2022-07-30 16:28:50.000000000,2022-08-01 12:52:50.000000000,2022-08-01 12:51:34.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-30 16:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e5c667cb927b71041a9706f1c3fc29ee0445b787', 'message': 'Create a keypair with public_key\n\nNova requires the public_key element when creating a keypair since\nversion 2.92. This change ensures the element is passed when creating\na OS::Nova::KeyPair resource.\n\nDepends-on: https://review.opendev.org/851669\nStory: 2010201\nTask: 45918\nChange-Id: If651dbe34792c8ec72320a6d389a1bc1f2d23d13\n'}, {'number': 2, 'created': '2022-07-30 17:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b4c1758bcde3e97781ebcdd6c7a9360e4b24d080', 'message': 'Create a keypair with public_key\n\nNova requires the public_key element when creating a keypair since\nversion 2.92. This change ensures the element is passed when creating\na OS::Nova::KeyPair resource.\n\nDepends-on: https://review.opendev.org/851669\nStory: 2010201\nTask: 45918\nChange-Id: If651dbe34792c8ec72320a6d389a1bc1f2d23d13\n'}, {'number': 3, 'created': '2022-07-31 03:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ba1ee7d82f4d168214972f6c305cd8b7918111fd', 'message': 'Create a keypair with public_key\n\nNova requires the public_key element when creating a keypair since api\nversion 2.92. This change ensures the element is passed when creating\na OS::Nova::KeyPair resource.\n\nDepends-on: https://review.opendev.org/851669\nStory: 2010201\nTask: 45918\nChange-Id: If651dbe34792c8ec72320a6d389a1bc1f2d23d13\n'}, {'number': 4, 'created': '2022-08-01 03:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9a80960486353eb214f4a75b828ca6da8b4ffa2d', 'message': 'Create a keypair with public_key\n\nNova requires the public_key element when creating a keypair since api\nversion 2.92. This change ensures the element is passed when creating\na OS::Nova::KeyPair resource.\n\nDepends-on: https://review.opendev.org/851669\nStory: 2010201\nTask: 45918\nChange-Id: If651dbe34792c8ec72320a6d389a1bc1f2d23d13\n'}, {'number': 5, 'created': '2022-08-01 03:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a20a6a3ff626bdfa146a6885b48791eb45803dc1', 'message': ""Replace KeyPair resource by TestResource\n\n... because we don't really intend to test the actual resource logic\nbut behavior of the engine logic to manage resources.\n\nDepends-on: https://review.opendev.org/851669\nStory: 2010201\nTask: 45918\nChange-Id: If651dbe34792c8ec72320a6d389a1bc1f2d23d13\n""}, {'number': 6, 'created': '2022-08-01 04:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6b2ed59076f6ce3d9f9d04a26e965c75641ad54d', 'message': ""Replace KeyPair resource by TestResource\n\n... because we don't really intend to test the actual resource logic\nbut behavior of the engine logic to manage resources.\n\nDepends-on: https://review.opendev.org/851669\nStory: 2010201\nTask: 45918\nChange-Id: If651dbe34792c8ec72320a6d389a1bc1f2d23d13\n""}, {'number': 7, 'created': '2022-08-01 05:12:39.000000000', 'files': ['heat_integrationtests/functional/test_template_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d361aec71bd8f47945b0f98ec769422c5b2ddf07', 'message': ""Replace KeyPair resource by TestResource\n\n... because we don't really intend to test the actual resource logic\nbut behavior of the engine logic to manage resources.\n\nDepends-on: https://review.opendev.org/851669\nStory: 2010201\nTask: 45918\nChange-Id: If651dbe34792c8ec72320a6d389a1bc1f2d23d13\n""}]",8,851670,d361aec71bd8f47945b0f98ec769422c5b2ddf07,36,3,7,9816,,,0,"Replace KeyPair resource by TestResource

... because we don't really intend to test the actual resource logic
but behavior of the engine logic to manage resources.

Depends-on: https://review.opendev.org/851669
Story: 2010201
Task: 45918
Change-Id: If651dbe34792c8ec72320a6d389a1bc1f2d23d13
",git fetch https://review.opendev.org/openstack/heat refs/changes/70/851670/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/functional/test_template_resource.py'],1,e5c667cb927b71041a9706f1c3fc29ee0445b787,story/2010201, public_key: dummykey,,1,0
openstack%2Fpuppet-nova~master~I13540f2d252db42d000995853e9827cf5a66cf7f,openstack/puppet-nova,master,I13540f2d252db42d000995853e9827cf5a66cf7f,Remove old workaround to fix wrong owner of nova-manage.log,MERGED,2022-06-23 16:28:24.000000000,2022-08-01 12:51:55.000000000,2022-08-01 12:51:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-23 16:28:24.000000000', 'files': ['manifests/logging.pp', 'spec/classes/nova_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/84aca00e031a88e2ad3863d39d37e9bc8afa091a', 'message': 'Remove old workaround to fix wrong owner of nova-manage.log\n\nNow the nova-maange command are executed by the nova user in all\nmanifests, thus the log file is created/owned by the nova user.\n\nChange-Id: I13540f2d252db42d000995853e9827cf5a66cf7f\n'}]",1,847379,84aca00e031a88e2ad3863d39d37e9bc8afa091a,11,3,1,9816,,,0,"Remove old workaround to fix wrong owner of nova-manage.log

Now the nova-maange command are executed by the nova user in all
manifests, thus the log file is created/owned by the nova user.

Change-Id: I13540f2d252db42d000995853e9827cf5a66cf7f
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/79/847379/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'spec/classes/nova_logging_spec.rb']",2,84aca00e031a88e2ad3863d39d37e9bc8afa091a,,," is_expected.to contain_file('/var/log/nova/nova-manage.log').with( :owner => 'nova', ) is_expected.to contain_file('/var/log/foo/nova-manage.log').with( :owner => 'nova', ) is_expected.to contain_file('/var/log/foo/nova-manage.log').with( :owner => 'nova', )",0,19
openstack%2Fpuppet-ironic~stable%2Fxena~Ibb1d9b232303c536019e95fc17b3619c791553d4,openstack/puppet-ironic,stable/xena,Ibb1d9b232303c536019e95fc17b3619c791553d4,Refactor unit tests of ironic::pxe,MERGED,2022-06-25 02:33:23.000000000,2022-08-01 12:49:23.000000000,2022-08-01 12:49:23.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-25 02:33:23.000000000', 'files': ['spec/classes/ironic_pxe_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/d30bb0e790150f296db8e5096556f07b6695ca8e', 'message': ""Refactor unit tests of ironic::pxe\n\nThis refactors unit tests of the ironic::pxe class according to\nthe following points.\n\n- Chainload image resource should be tested with default parameters\n\n- Make sure package resources are included\n\n- The resource title for syslinux-tftpboot package is syslinux, instead\n  of syslinux-tftpboot.\n\n- 'default_params' and 'p' are not used\n\nChange-Id: Ibb1d9b232303c536019e95fc17b3619c791553d4\n(cherry picked from commit aab3ad2630034e0478aefc23588166b7678eb077)\n(cherry picked from commit f511f93fac870cd5828eab24ffe30073a4191b75)\n""}]",1,847626,d30bb0e790150f296db8e5096556f07b6695ca8e,7,3,1,9816,,,0,"Refactor unit tests of ironic::pxe

This refactors unit tests of the ironic::pxe class according to
the following points.

- Chainload image resource should be tested with default parameters

- Make sure package resources are included

- The resource title for syslinux-tftpboot package is syslinux, instead
  of syslinux-tftpboot.

- 'default_params' and 'p' are not used

Change-Id: Ibb1d9b232303c536019e95fc17b3619c791553d4
(cherry picked from commit aab3ad2630034e0478aefc23588166b7678eb077)
(cherry picked from commit f511f93fac870cd5828eab24ffe30073a4191b75)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/26/847626/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ironic_pxe_spec.rb'],1,d30bb0e790150f296db8e5096556f07b6695ca8e,," it 'should contain syslinux package' do is_expected.to contain_package('syslinux').with( :ensure => 'present', :name => platform_params[:syslinux_package], :tag => ['openstack', 'ironic-ipxe', 'ironic-support-package'], ) end it 'should contain ipxe package' do is_expected.to contain_package('ipxe').with( :ensure => 'present', :name => platform_params[:ipxe_package], :tag => ['openstack', 'ironic-ipxe', 'ironic-support-package'], ) end it 'should contain iPXE chainload images' do is_expected.to contain_file('/tftpboot/undionly.kpxe').with( 'owner' => 'ironic', 'group' => 'ironic', 'require' => 'Anchor[ironic-inspector::install::end]', 'seltype' => 'tftpdir_t', 'ensure' => 'file', 'backup' => false, ) end it 'should contain iPXE UEFI chainload image' do is_expected.to contain_file('/tftpboot/snponly.efi').with( 'owner' => 'ironic', 'group' => 'ironic', 'require' => 'Anchor[ironic-inspector::install::end]', 'seltype' => 'tftpdir_t', 'ensure' => 'file', 'backup' => false, ) end it 'should not contain syslinux package' do is_expected.not_to contain_package('syslinux') { :ipxe_package => 'ipxe', :syslinux_package => 'syslinux-common', } { :dnsmasq_tftp_package => 'openstack-ironic-dnsmasq-tftp-server', :dnsmasq_tftp_service => 'openstack-ironic-dnsmasq-tftp-server', :ipxe_package => 'ipxe-bootimgs', :syslinux_package => 'syslinux-tftpboot', }"," let :default_params do { :package_ensure => 'present', :tftp_root => '/tftpboot', :http_root => '/httpboot', :ipxe_timeout => 0, :http_port => 8088, } end let :p do default_params.merge(params) end it 'should not contain package syslinux-tftpboot' do is_expected.not_to contain_package('syslinux-tftpboot') let :p do default_params.merge(params) end let :p do default_params.merge(params) end {} { :dnsmasq_tftp_package => 'openstack-ironic-dnsmasq-tftp-server', :dnsmasq_tftp_service => 'openstack-ironic-dnsmasq-tftp-server' }",49,25
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3529a841d9c302a9b1cc7e91e866588602f9a912,openstack/tripleo-ansible,stable/wallaby,I3529a841d9c302a9b1cc7e91e866588602f9a912,Restart tuned service to set tuned kernel_agrs params,ABANDONED,2022-07-27 12:48:26.000000000,2022-08-01 12:45:50.000000000,,"[{'_account_id': 4571}, {'_account_id': 9816}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 23618}]","[{'number': 1, 'created': '2022-07-27 12:48:26.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c3803efd00928c4de9d732298ab529ab058c38bc', 'message': 'Restart tuned service to set tuned kernel_agrs params\n\nTuned service is enabled for NFV usescase during node provisioning.\nIn OSP17, only one final node reboot happens after all configs\nare applied. The ""tuned_params=..."" are not getting set to /proc/cmdline,\nbecuase the ""tuned_initrd=..."" location is not set to the proper LVMID.\nAdding tuned service restart during kernelarg application, becuase the\nLVMID is known to tuned(00_tuned) only after linux(10_linux) systemd is run\n\nChange-Id: I3529a841d9c302a9b1cc7e91e866588602f9a912\n'}]",4,851217,c3803efd00928c4de9d732298ab529ab058c38bc,12,8,1,33688,,,0,"Restart tuned service to set tuned kernel_agrs params

Tuned service is enabled for NFV usescase during node provisioning.
In OSP17, only one final node reboot happens after all configs
are applied. The ""tuned_params=..."" are not getting set to /proc/cmdline,
becuase the ""tuned_initrd=..."" location is not set to the proper LVMID.
Adding tuned service restart during kernelarg application, becuase the
LVMID is known to tuned(00_tuned) only after linux(10_linux) systemd is run

Change-Id: I3529a841d9c302a9b1cc7e91e866588602f9a912
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/851217/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,c3803efd00928c4de9d732298ab529ab058c38bc,tuned_fix,# Restart tuned service to apply kernel args # BZ: bugzilla.redhat.com/show_bug.cgi?id=2107896 - name: Restart tuned become: true systemd: name: tuned state: restarted enabled: true ,,9,0
openstack%2Freleases~master~I5a3d03af75205dab471327ac4630bac0fdcad8b8,openstack/releases,master,I5a3d03af75205dab471327ac4630bac0fdcad8b8,[trove] Transition Pike to End of Life,MERGED,2022-07-29 15:57:25.000000000,2022-08-01 12:38:38.000000000,2022-08-01 12:38:38.000000000,"[{'_account_id': 6732}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 15:57:25.000000000', 'files': ['deliverables/pike/trove.yaml', 'deliverables/pike/trove-dashboard.yaml', 'deliverables/pike/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ff2c8b1353e0bcab9b8e2b94c23d5d9d5e59041a', 'message': ""[trove] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I5a3d03af75205dab471327ac4630bac0fdcad8b8\n""}]",1,851564,ff2c8b1353e0bcab9b8e2b94c23d5d9d5e59041a,9,5,1,17685,,,0,"[trove] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I5a3d03af75205dab471327ac4630bac0fdcad8b8
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/851564/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/trove.yaml', 'deliverables/pike/trove-dashboard.yaml', 'deliverables/pike/python-troveclient.yaml']",3,ff2c8b1353e0bcab9b8e2b94c23d5d9d5e59041a,pike-eol, - version: pike-eol projects: - repo: openstack/python-troveclient hash: 301cdb7d00c1f536150382a6a603ca8870484494,,12,0
openstack%2Freleases~master~Iee7e7b748eb4a39afc41d2f5679d177a5a891243,openstack/releases,master,Iee7e7b748eb4a39afc41d2f5679d177a5a891243,[kuryr] Transition Pike to End of Life,MERGED,2022-07-29 15:55:24.000000000,2022-08-01 12:36:15.000000000,2022-08-01 12:36:15.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 15:55:24.000000000', 'files': ['deliverables/pike/fuxi.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/56ebcb410e7787048140ef329e80d6c96f9362dc', 'message': ""[kuryr] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Iee7e7b748eb4a39afc41d2f5679d177a5a891243\n""}]",1,851562,56ebcb410e7787048140ef329e80d6c96f9362dc,8,4,1,17685,,,0,"[kuryr] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Iee7e7b748eb4a39afc41d2f5679d177a5a891243
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/851562/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/fuxi.yaml'],1,56ebcb410e7787048140ef329e80d6c96f9362dc,pike-eol, - version: pike-eol projects: - repo: openstack/fuxi hash: 58418bee97b1aed30eeae9f6fbff11188ece7054,,4,0
openstack%2Fansible-collections-openstack~master~I4be9efed4b359bc747a981667f8967fc487e2a37,openstack/ansible-collections-openstack,master,I4be9efed4b359bc747a981667f8967fc487e2a37,Fix linting issues,ABANDONED,2022-08-01 12:35:42.000000000,2022-08-01 12:35:58.000000000,,[],"[{'number': 1, 'created': '2022-08-01 12:35:42.000000000', 'files': ['tests/unit/modules/cloud/openstack/test_server.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/39db3bcb27d1a735980a0e2d82a49b093b382273', 'message': 'Fix linting issues\n\nChange-Id: I4be9efed4b359bc747a981667f8967fc487e2a37\n'}]",0,851737,39db3bcb27d1a735980a0e2d82a49b093b382273,2,0,1,34208,,,0,"Fix linting issues

Change-Id: I4be9efed4b359bc747a981667f8967fc487e2a37
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/37/851737/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/modules/cloud/openstack/test_server.py'],1,39db3bcb27d1a735980a0e2d82a49b093b382273,, assert args[0]['net-id'] == '1234' assert args[0]['net-id'] == '1234' assert args[1]['net-id'] == '4321' assert args[0]['port-id'] == '1234' assert args[0]['net-id'] == '5678' assert args[0]['port-id'] == '1234' assert args[0]['net-id'] == '1234' assert args[0]['net-id'] == '1234' assert args[1]['port-id'] == '1234' assert args[2]['net-id'] == '5678' assert args[3]['port-id'] == '4321' assert self.cloud.create_server.call_count == 1 assert self.cloud.create_server.call_args[1]['image'] == self.cloud.get_image_id('cirros') assert self.cloud.create_server.call_args[1]['flavor'] == self.cloud.get_flavor('m1.tiny')['id'] assert self.cloud.create_server.call_args[1]['nics'][0]['net-id'] == self.cloud.get_network('network1')['id'] assert ('missing_flavor' in self.module.fail_json.call_args[1]['msg']) assert ('missing_network' in self.module.fail_json.call_args[1]['msg']), assert(args[0]['net-id'] == '1234') assert(args[0]['net-id'] == '1234') assert(args[1]['net-id'] == '4321') assert(args[0]['port-id'] == '1234') assert(args[0]['net-id'] == '5678') assert(args[0]['port-id'] == '1234') assert(args[0]['net-id'] == '1234') assert(args[0]['net-id'] == '1234') assert(args[1]['port-id'] == '1234') assert(args[2]['net-id'] == '5678') assert(args[3]['port-id'] == '4321') assert(self.cloud.create_server.call_count == 1) assert(self.cloud.create_server.call_args[1]['image'] == self.cloud.get_image_id('cirros')) assert(self.cloud.create_server.call_args[1]['flavor'] == self.cloud.get_flavor('m1.tiny')['id']) assert(self.cloud.create_server.call_args[1]['nics'][0]['net-id'] == self.cloud.get_network('network1')['id']) assert('missing_flavor' in self.module.fail_json.call_args[1]['msg']) assert('missing_network' in self.module.fail_json.call_args[1]['msg']),19,19
openstack%2Fkuryr-libnetwork~master~Ibbe1bdc19dceb1e6fbbf467bfd44aa18f0a7cb78,openstack/kuryr-libnetwork,master,Ibbe1bdc19dceb1e6fbbf467bfd44aa18f0a7cb78,"Revert ""Fix the bindir path""",MERGED,2022-08-01 06:35:35.000000000,2022-08-01 11:53:50.000000000,2022-08-01 11:52:41.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 06:35:35.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/3035d43c789fff0d0acbb97fb2a8c6a53209c059', 'message': 'Revert ""Fix the bindir path""\n\nThis reverts commit 9cc51ae2c8b8064c3d9ae5f23c121215dd0b4ff6.\n\nReason for revert: it seems distutils has fixed the path so we revert our fix\n\nChange-Id: Ibbe1bdc19dceb1e6fbbf467bfd44aa18f0a7cb78\n'}]",1,851549,3035d43c789fff0d0acbb97fb2a8c6a53209c059,10,2,1,11536,,,0,"Revert ""Fix the bindir path""

This reverts commit 9cc51ae2c8b8064c3d9ae5f23c121215dd0b4ff6.

Reason for revert: it seems distutils has fixed the path so we revert our fix

Change-Id: Ibbe1bdc19dceb1e6fbbf467bfd44aa18f0a7cb78
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/49/851549/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,3035d43c789fff0d0acbb97fb2a8c6a53209c059,bug/1970217," DISTRO_DISTUTILS_DATA_PATH=$(python3 -c ""import distutils.dist;import distutils.command.install;inst = distutils.command.install.install(distutils.dist.Distribution());inst.finalize_options();print(inst.install_data)"")"," DISTRO_DISTUTILS_DATA_PATH=$(python3 -c ""import distutils.dist;import distutils.command.install;inst = distutils.command.install.install(distutils.dist.Distribution());inst.finalize_options();print(inst.install_data)"")/local",1,1
openstack%2Fpython-tripleoclient~master~Ic89cf11bac2954d6d133aa3806647b74ecd9e2fc,openstack/python-tripleoclient,master,Ic89cf11bac2954d6d133aa3806647b74ecd9e2fc,DNM sanity testing openstack/tripleo-ci/+/851516,NEW,2022-08-01 09:28:12.000000000,2022-08-01 11:53:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-01 09:28:12.000000000', 'files': ['tripleoclient/v1/undercloud.py', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ffeb173919b04c7f17c442d2277af27622c974e', 'message': 'DNM sanity testing openstack/tripleo-ci/+/851516\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/851516\nChange-Id: Ic89cf11bac2954d6d133aa3806647b74ecd9e2fc\n'}]",0,851705,4ffeb173919b04c7f17c442d2277af27622c974e,2,1,1,8449,,,0,"DNM sanity testing openstack/tripleo-ci/+/851516

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/851516
Change-Id: Ic89cf11bac2954d6d133aa3806647b74ecd9e2fc
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/05/851705/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud.py', 'zuul.d/layout.yaml']",2,4ffeb173919b04c7f17c442d2277af27622c974e,,, - tripleo-buildimage-jobs - tripleo-multinode-container-minimal-pipeline - tripleo-standalone-scenarios-pipeline,1,3
openstack%2Freleases~master~If71fbdd1cbc2d5c1d2a3d60d44cb69d70ddb6542,openstack/releases,master,If71fbdd1cbc2d5c1d2a3d60d44cb69d70ddb6542,[oslo] Transition Pike to End of Life,MERGED,2022-07-29 16:00:45.000000000,2022-08-01 11:53:00.000000000,2022-08-01 11:53:00.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-07-29 16:00:45.000000000', 'files': ['deliverables/pike/castellan.yaml', 'deliverables/pike/oslo.i18n.yaml', 'deliverables/pike/oslo.cache.yaml', 'deliverables/pike/oslo.messaging.yaml', 'deliverables/pike/oslo.middleware.yaml', 'deliverables/pike/oslo.config.yaml', 'deliverables/pike/oslo.vmware.yaml', 'deliverables/pike/oslotest.yaml', 'deliverables/pike/oslo.context.yaml', 'deliverables/pike/taskflow.yaml', 'deliverables/pike/oslo.utils.yaml', 'deliverables/pike/oslo.log.yaml', 'deliverables/pike/oslo.policy.yaml', 'deliverables/pike/oslo.privsep.yaml', 'deliverables/pike/oslo.serialization.yaml', 'deliverables/pike/oslo.rootwrap.yaml', 'deliverables/pike/automaton.yaml', 'deliverables/pike/oslo.service.yaml', 'deliverables/pike/oslo.reports.yaml', 'deliverables/pike/oslo.db.yaml', 'deliverables/pike/oslo.versionedobjects.yaml', 'deliverables/pike/osprofiler.yaml', 'deliverables/pike/futurist.yaml', 'deliverables/pike/oslo.concurrency.yaml', 'deliverables/pike/oslosphinx.yaml', 'deliverables/pike/tooz.yaml', 'deliverables/pike/debtcollector.yaml', 'deliverables/pike/stevedore.yaml', 'deliverables/pike/mox3.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4ddeefa0ffcbb914202d17c97524b954fe629a1a', 'message': ""[oslo] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: If71fbdd1cbc2d5c1d2a3d60d44cb69d70ddb6542\n""}]",2,851575,4ddeefa0ffcbb914202d17c97524b954fe629a1a,7,4,1,17685,,,0,"[oslo] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: If71fbdd1cbc2d5c1d2a3d60d44cb69d70ddb6542
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/851575/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/castellan.yaml', 'deliverables/pike/oslo.i18n.yaml', 'deliverables/pike/oslo.cache.yaml', 'deliverables/pike/oslo.messaging.yaml', 'deliverables/pike/oslo.middleware.yaml', 'deliverables/pike/oslo.config.yaml', 'deliverables/pike/oslo.vmware.yaml', 'deliverables/pike/oslotest.yaml', 'deliverables/pike/oslo.context.yaml', 'deliverables/pike/taskflow.yaml', 'deliverables/pike/oslo.utils.yaml', 'deliverables/pike/oslo.log.yaml', 'deliverables/pike/oslo.policy.yaml', 'deliverables/pike/oslo.privsep.yaml', 'deliverables/pike/oslo.serialization.yaml', 'deliverables/pike/oslo.rootwrap.yaml', 'deliverables/pike/automaton.yaml', 'deliverables/pike/oslo.service.yaml', 'deliverables/pike/oslo.reports.yaml', 'deliverables/pike/oslo.db.yaml', 'deliverables/pike/oslo.versionedobjects.yaml', 'deliverables/pike/osprofiler.yaml', 'deliverables/pike/futurist.yaml', 'deliverables/pike/oslo.concurrency.yaml', 'deliverables/pike/oslosphinx.yaml', 'deliverables/pike/tooz.yaml', 'deliverables/pike/debtcollector.yaml', 'deliverables/pike/stevedore.yaml', 'deliverables/pike/mox3.yaml']",29,4ddeefa0ffcbb914202d17c97524b954fe629a1a,pike-eol, - version: pike-eol projects: - repo: openstack/mox3 hash: daca408ac76135dca66f1cfde5d2107b14ca562a,,117,1
openstack%2Fironic~master~I3b6a4d80bf2f35bac4d33e15e3ab0d913bdeac71,openstack/ironic,master,I3b6a4d80bf2f35bac4d33e15e3ab0d913bdeac71,Imported Translations from Zanata,MERGED,2022-08-01 03:53:37.000000000,2022-08-01 11:40:41.000000000,2022-08-01 11:39:06.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-08-01 03:53:37.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c870b5525ceb9f46ca76640f43bb001316a2fbcb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3b6a4d80bf2f35bac4d33e15e3ab0d913bdeac71\n'}]",1,851691,c870b5525ceb9f46ca76640f43bb001316a2fbcb,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3b6a4d80bf2f35bac4d33e15e3ab0d913bdeac71
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/851691/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,c870b5525ceb9f46ca76640f43bb001316a2fbcb,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-07-06 13:27+0000\n""""PO-Revision-Date: 2022-07-24 12:21+0000\n""""Ironic 13.0.0. This release brings the long-desired feature of software RAID ""msgid ""/v1/drivers/<driver name>/properties"" msgstr ""/v1/drivers/<driver name>/properties"" msgid ""/v1/nodes/<UUID or logical name>/states"" msgstr ""/v1/nodes/<UUID or logical name>/states"" msgid """" ""1.12 allows setting RAID properties for a node; however support for putting "" ""this configuration on a node is not yet implemented for in-tree drivers; "" ""this will be added in a future release."" msgstr """" ""1.12 allows setting RAID properties for a node; however support for putting "" ""this configuration on a node is not yet implemented for in-tree drivers; "" ""this will be added in a future release."" msgid """" ""1.13 adds a new 'abort' verb to the provision state API. This may be used to "" ""abort cleaning for nodes in the CLEANWAIT state."" msgstr """" ""1.13 adds a new 'abort' verb to the provision state API. This may be used to "" ""abort cleaning for nodes in the CLEANWAIT state."" msgid ""1.14 makes the following endpoints discoverable in the API:"" msgstr ""1.14 makes the following endpoints discoverable in the API:"" msgid ""10.1.10-11"" msgstr ""10.1.10-11""msgid ""11.1.4-12"" msgstr ""11.1.4-12"" msgid ""12.1.6-3"" msgstr ""12.1.6-3"" msgid ""13.0.7"" msgstr ""13.0.7"" msgid ""13.0.7-24"" msgstr ""13.0.7-24"" msgid ""15.0.2"" msgstr ""15.0.2"" msgid ""15.0.2-16"" msgstr ""15.0.2-16"" msgid ""16.0.3"" msgstr ""16.0.3"" msgid ""16.0.4"" msgstr ""16.0.4"" msgid ""16.0.5"" msgstr ""16.0.5"" msgid ""16.1.0"" msgstr ""16.1.0"" msgid ""16.2.0"" msgstr ""16.2.0"" msgid ""17.0.0"" msgstr ""17.0.0"" msgid ""17.0.2"" msgstr ""17.0.2"" msgid ""17.0.3"" msgstr ""17.0.3"" msgid ""17.0.4"" msgstr ""17.0.4"" msgid ""17.0.4-27"" msgstr ""17.0.4-27"" msgid ""18.0.0"" msgstr ""18.0.0"" msgid ""18.1.0"" msgstr ""18.1.0"" msgid ""18.2.0"" msgstr ""18.2.0"" msgid ""18.2.1"" msgstr ""18.2.1"" msgid ""18.2.1-17"" msgstr ""18.2.1-17"" msgid ""19.0.0"" msgstr ""19.0.0"" msgid ""20.0.0"" msgstr ""20.0.0"" msgid ""20.1.0"" msgstr ""20.1.0"" msgid ""20.1.0-12"" msgstr ""20.1.0-12"" msgid ""20.2.0"" msgstr ""20.2.0"" msgid ""20.2.0-21"" msgstr ""20.2.0-21"" msgid ""4.0.0 First semver release"" msgstr ""4.0.0 First semver release"" ""A new @passthru decorator was introduced to the driver API in a previous "" ""release. In this release, support for vendor_passthru and "" ""driver_vendor_passthru methods has been removed. All in-tree drivers have "" ""been updated. Any out of tree drivers which did not update to the @passthru "" ""decorator during the previous release will need to do so to be compatible "" ""with this release."" msgstr """" ""A new @passthru decorator was introduced to the driver API in a previous "" ""release. In this release, support for vendor_passthru and "" ""driver_vendor_passthru methods has been removed. All in-tree drivers have "" ""been updated. Any out-of-tree drivers which did not update to the @passthru "" ""decorator during the previous release will need to do so to be compatible "" ""with this release."" msgid """"msgid ""Add OCS Driver"" msgstr ""Add OCS Driver"" msgid ""Added CORS support"" msgstr ""Added CORS support"" msgid """" ""After a deprecation period, the scripts and support for migrating from the "" ""old Nova \""baremetal\"" driver to the new Nova \""ironic\"" driver have been "" ""removed from Ironic's tree."" msgstr """" ""After a deprecation period, the scripts and support for migrating from the "" ""old Nova \""baremetal\"" driver to the new Nova \""ironic\"" driver have been "" ""removed from Ironic's tree."" msgid """" ""Beginning with API v1.11, newly created Nodes begin in the ENROLL state, and "" ""must be \""managed\"" and \""provided\"" before they are made available for "" ""provisioning. API clients must be updated to handle the new workflow when "" ""they begin sending the X-OpenStack-Ironic-API-Version header with a value >= "" ""1.11."" msgstr """" ""Beginning with API v1.11, newly created Nodes begin in the ENROLL state and "" ""must be \""managed\"" and \""provided\"" before they are made available for "" ""provisioning. API clients must be updated to handle the new workflow when "" ""they begin sending the X-OpenStack-Ironic-API-Version header with a value >= "" ""1.11."" msgid ""Deprecated the 'parallel' option to periodic task decorator"" msgstr ""Deprecated the 'parallel' option to periodic task decorator"" msgid """" ""Drivers may optionally add a new BootInterface. This is merely a refactoring "" ""of the Driver API to support future improvements."" msgstr """" ""Drivers may optionally add a new BootInterface. This is merely a refactoring "" ""of the Driver API to support future improvements."" msgid ""Implemented a new Boot interface for drivers"" msgstr ""Implemented a new Boot interface for drivers"" msgid ""Introduce new BootInterface to the Driver API"" msgstr ""Introduce new BootInterface to the Driver API"" msgid ""Migrations from Nova \""baremetal\"" have been removed"" msgstr ""Migrations from Nova \""baremetal\"" have been removed"" msgid ""Raised API version to 1.11"" msgstr ""Raised API version to 1.11"" msgid ""Raised API version to 1.14"" msgstr ""Raised API version to 1.14"" msgid ""Removal of deprecated vendor driver methods"" msgstr ""Removal of deprecated vendor driver methods"" msgid ""Removed deprecated 'admin_api' policy rule"" msgstr ""Removed deprecated 'admin_api' policy rule"" msgid ""Rocky Series (11.0.0 - 11.1.x) Release Notes"" msgstr ""Rocky Series (11.0.0 - 11.1.x) Release Notes"" msgid ""Several hardware drivers have been added or enhanced"" msgstr ""Several hardware drivers have been added or enhanced"" msgid ""Stein Series (12.0.0 - 12.1.x) Release Notes"" msgstr ""Stein Series (12.0.0 - 12.1.x) Release Notes"" msgid """" ""The Ironic API now has support for CORS requests, that may be used by, for "" ""example, web browser-based clients. This is configured in the [cors] section "" ""of ironic.conf."" msgstr """" ""The Ironic API now has support for CORS requests, that may be used by, for "" ""example, web browser-based clients. This is configured in the [cors] section "" ""of ironic.conf."" msgid """" ""This change enhances the driver interface for driver authors, and should not "" ""affect users of Ironic, by splitting control of booting a server from the "" ""DeployInterface. The BootInterface is responsible for booting an image on a "" ""server, while the DeployInterface is responsible for deploying a tenant "" ""image to a server."" msgstr """" ""This change enhances the driver interface for driver authors, and should not "" ""affect users of Ironic, by splitting control of booting a server from the "" ""DeployInterface. The BootInterface is responsible for booting an image on a "" ""server, while the DeployInterface is responsible for deploying a tenant "" ""image to a server."" msgid """" ""This is the first semver-versioned release of Ironic, created during the "" ""OpenStack \""Liberty\"" development cycle. It marks a pivot in our versioning "" ""schema from date-based versioning; the previous released version was 2015.1. "" ""Full release details are available on Launchpad: https://launchpad.net/"" ""ironic/liberty/4.0.0."" msgstr """" ""This is the first semver-versioned release of Ironic, created during the "" ""OpenStack \""Liberty\"" development cycle. It marks a pivot in our versioning "" ""schema from date-based versioning; the previously released version was "" ""2015.1. Full release details are available on Launchpad: https://launchpad."" ""net/ironic/liberty/4.0.0."" msgid ""Train Series (12.2.0 - 13.0.x) Release Notes"" msgstr ""Train Series (12.2.0 - 13.0.x) Release Notes"" msgid ""Ussuri Series (14.0.0 - 15.0.x) Release Notes"" msgstr ""Ussuri Series (14.0.0 - 15.0.x) Release Notes"" msgid ""Victoria Series (15.1.0 - 16.0.x) Release Notes"" msgstr ""Victoria Series (15.1.0 - 16.0.x) Release Notes"" msgid ""Wallaby Series (16.1.0 - 17.0.x) Release Notes"" msgstr ""Wallaby Series (16.1.0 - 17.0.x) Release Notes"" msgid ""Xena Series (18.0.0 - 18.2.x) Release Notes"" msgstr ""Xena Series (18.0.0 - 18.2.x) Release Notes"" msgid ""Yoga Series Release Notes"" msgstr ""Yoga Series Release Notes"" msgid """" ""v1.10 fixes Node logical names to support all `RFC 3986`_ unreserved "" ""characters"" msgstr """" ""v1.10 fixes Node logical names to support all `RFC 3986`_ unreserved "" ""characters"" msgid """" ""v1.11 changes the default state of newly created Nodes from AVAILABLE to "" ""ENROLL"" msgstr """" ""v1.11 changes the default state of newly created Nodes from AVAILABLE to "" ""ENROLL"" msgid ""v1.7 exposes a new 'clean_step' property on the Node resource."" msgstr ""v1.7 exposes a new 'clean_step' property on the Node resource."" msgid ""v1.8 and v1.9 improve query and filter support"" msgstr ""v1.8 and v1.9 improve query and filter support""","""POT-Creation-Date: 2021-04-04 18:36+0000\n""""PO-Revision-Date: 2020-12-19 01:42+0000\n""""Ironic 13.0.0. This release brings the long desired feature of software RAID ""msgid ""10.1.10-10"" msgstr ""10.1.10-10""",271,164
openstack%2Freleases~master~Ia5a2ca94a81afbe012016debb6c03c31e4ec9d10,openstack/releases,master,Ia5a2ca94a81afbe012016debb6c03c31e4ec9d10,[monasca] Transition Pike to End of Life,MERGED,2022-07-29 15:58:39.000000000,2022-08-01 11:36:05.000000000,2022-08-01 11:36:05.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 15:58:39.000000000', 'files': ['deliverables/pike/monasca-api.yaml', 'deliverables/pike/monasca-ceilometer.yaml', 'deliverables/pike/monasca-persister.yaml', 'deliverables/pike/monasca-common.yaml', 'deliverables/pike/monasca-notification.yaml', 'deliverables/pike/monasca-log-api.yaml', 'deliverables/pike/monasca-ui.yaml', 'deliverables/pike/monasca-statsd.yaml', 'deliverables/pike/python-monascaclient.yaml', 'deliverables/pike/monasca-thresh.yaml', 'deliverables/pike/monasca-kibana-plugin.yaml', 'deliverables/pike/monasca-agent.yaml', 'deliverables/pike/monasca-transform.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e6b9d2f6288bdfdfe800b273dea30941677755f8', 'message': ""[monasca] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ia5a2ca94a81afbe012016debb6c03c31e4ec9d10\n""}]",1,851568,e6b9d2f6288bdfdfe800b273dea30941677755f8,9,4,1,17685,,,0,"[monasca] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ia5a2ca94a81afbe012016debb6c03c31e4ec9d10
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/851568/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/monasca-api.yaml', 'deliverables/pike/monasca-ceilometer.yaml', 'deliverables/pike/monasca-persister.yaml', 'deliverables/pike/monasca-common.yaml', 'deliverables/pike/monasca-notification.yaml', 'deliverables/pike/monasca-log-api.yaml', 'deliverables/pike/monasca-ui.yaml', 'deliverables/pike/monasca-statsd.yaml', 'deliverables/pike/python-monascaclient.yaml', 'deliverables/pike/monasca-thresh.yaml', 'deliverables/pike/monasca-kibana-plugin.yaml', 'deliverables/pike/monasca-agent.yaml', 'deliverables/pike/monasca-transform.yaml']",13,e6b9d2f6288bdfdfe800b273dea30941677755f8,pike-eol, - version: pike-eol projects: - repo: openstack/monasca-transform hash: 1620165048b7b7b7aee9601323e0ba6586e2aba0,,52,0
openstack%2Freleases~master~Icb8d042aeaf5e83cab587ff3f60af6b0f2c275b6,openstack/releases,master,Icb8d042aeaf5e83cab587ff3f60af6b0f2c275b6,[ironic] Transition Pike to End of Life,MERGED,2022-07-29 15:55:12.000000000,2022-08-01 11:29:11.000000000,2022-08-01 11:29:11.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 15:55:12.000000000', 'files': ['deliverables/pike/bifrost.yaml', 'deliverables/pike/python-ironic-inspector-client.yaml', 'deliverables/pike/sushy.yaml', 'deliverables/pike/ironic-lib.yaml', 'deliverables/pike/ironic-ui.yaml', 'deliverables/pike/ironic.yaml', 'deliverables/pike/networking-baremetal.yaml', 'deliverables/pike/ironic-inspector.yaml', 'deliverables/pike/python-ironicclient.yaml', 'deliverables/pike/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4a374066a955cd8cc9eaad90b77018ee906d2d89', 'message': ""[ironic] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Icb8d042aeaf5e83cab587ff3f60af6b0f2c275b6\n""}]",1,851561,4a374066a955cd8cc9eaad90b77018ee906d2d89,9,6,1,17685,,,0,"[ironic] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Icb8d042aeaf5e83cab587ff3f60af6b0f2c275b6
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/851561/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/bifrost.yaml', 'deliverables/pike/python-ironic-inspector-client.yaml', 'deliverables/pike/sushy.yaml', 'deliverables/pike/ironic-lib.yaml', 'deliverables/pike/ironic-ui.yaml', 'deliverables/pike/ironic.yaml', 'deliverables/pike/networking-baremetal.yaml', 'deliverables/pike/ironic-inspector.yaml', 'deliverables/pike/python-ironicclient.yaml', 'deliverables/pike/ironic-python-agent.yaml']",10,4a374066a955cd8cc9eaad90b77018ee906d2d89,pike-eol, - version: pike-eol projects: - repo: openstack/ironic-python-agent hash: a48a585c9be9341c3847095ed88c724e79bebab0,,40,0
openstack%2Fpuppet-ovn~master~Ic9ed651720dc6089cb81a6b303695e62883ad7bd,openstack/puppet-ovn,master,Ic9ed651720dc6089cb81a6b303695e62883ad7bd,Use native property to set mac table size,MERGED,2022-07-16 13:47:08.000000000,2022-08-01 11:20:40.000000000,2022-08-01 11:20:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-16 13:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/26654b1728d78201fc1a97d3cadd7c1719def83c', 'message': 'Use native property to set mac table size\n\nDepends-on: https://review.opendev.org/850086\nChange-Id: Ic9ed651720dc6089cb81a6b303695e62883ad7bd\n'}, {'number': 2, 'created': '2022-07-18 17:14:48.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'manifests/controller/bridge.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/289fa3955634aa8a9607484c77d1c343592874c9', 'message': 'Use native property to set mac table size\n\nRelated-Bug: #1958873\nDepends-on: https://review.opendev.org/850086\nChange-Id: Ic9ed651720dc6089cb81a6b303695e62883ad7bd\n'}]",6,850088,289fa3955634aa8a9607484c77d1c343592874c9,26,3,2,9816,,,0,"Use native property to set mac table size

Related-Bug: #1958873
Depends-on: https://review.opendev.org/850086
Change-Id: Ic9ed651720dc6089cb81a6b303695e62883ad7bd
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/88/850088/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'manifests/controller/bridge.pp']",3,26654b1728d78201fc1a97d3cadd7c1719def83c,bug/1958873,"# === Parameters: # # [*mac_table_size*] # Set the mac table size for the provider bridges # Defaults to undef # define ovn::controller::bridge( $mac_table_size = undef, ){ vs_bridge { $bridge: ensure => present, mac_table_size => $mac_table_size, external_ids => ""bridge-id=${bridge}""","define ovn::controller::bridge { vs_bridge { $bridge: ensure => present, external_ids => ""bridge-id=${bridge}""",23,50
openstack%2Fopenstack-ansible~stable%2Fxena~I71173689a5cb3274124c50e1909a55d2644618da,openstack/openstack-ansible,stable/xena,I71173689a5cb3274124c50e1909a55d2644618da,Set minimum and maximum microversions for manila api,MERGED,2022-07-20 08:23:07.000000000,2022-08-01 11:20:34.000000000,2022-08-01 11:18:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-07-20 08:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3767e5c32baad5b06147a4d09b485b3ee11d3b7d', 'message': 'Set minimum and maximum microversions for manila api\n\nThe manila tempest plugin is branchless and needs the minimum\nand maxium microversion setting depending on the version of\nmanila being tested. See [1] [2]\n\n[1] https://github.com/openstack/manila/blob/master/devstack/plugin.sh#L968-L977\n[2] https://docs.openstack.org/manila/latest/contributor/api_microversion_history.html\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/848063/\nChange-Id: I71173689a5cb3274124c50e1909a55d2644618da\n(cherry picked from commit b3680f47086ff2027af4676fe1c1520ff0dc5528)\n'}, {'number': 2, 'created': '2022-07-20 08:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/06708259f98ea64f731486bd0962119f78e39487', 'message': 'Set minimum and maximum microversions for manila api\n\nThe manila tempest plugin is branchless and needs the minimum\nand maxium microversion setting depending on the version of\nmanila being tested. See [1] [2]\n\n[1] https://github.com/openstack/manila/blob/master/devstack/plugin.sh#L968-L977\n[2] https://docs.openstack.org/manila/latest/contributor/api_microversion_history.html\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/848063/\nChange-Id: I71173689a5cb3274124c50e1909a55d2644618da\n(cherry picked from commit b3680f47086ff2027af4676fe1c1520ff0dc5528)\n'}, {'number': 3, 'created': '2022-07-21 09:39:19.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e7462f3c4f264e36d7f3b5da903f5b6e84d9662d', 'message': 'Set minimum and maximum microversions for manila api\n\nThe manila tempest plugin is branchless and needs the minimum\nand maxium microversion setting depending on the version of\nmanila being tested. See [1] [2]\n\n[1] https://github.com/openstack/manila/blob/master/devstack/plugin.sh#L968-L977\n[2] https://docs.openstack.org/manila/latest/contributor/api_microversion_history.html\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/847993\nChange-Id: I71173689a5cb3274124c50e1909a55d2644618da\n(cherry picked from commit b3680f47086ff2027af4676fe1c1520ff0dc5528)\n'}]",2,850478,e7462f3c4f264e36d7f3b5da903f5b6e84d9662d,14,4,3,28619,,,0,"Set minimum and maximum microversions for manila api

The manila tempest plugin is branchless and needs the minimum
and maxium microversion setting depending on the version of
manila being tested. See [1] [2]

[1] https://github.com/openstack/manila/blob/master/devstack/plugin.sh#L968-L977
[2] https://docs.openstack.org/manila/latest/contributor/api_microversion_history.html

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_manila/+/847993
Change-Id: I71173689a5cb3274124c50e1909a55d2644618da
(cherry picked from commit b3680f47086ff2027af4676fe1c1520ff0dc5528)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/850478/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'],1,3767e5c32baad5b06147a4d09b485b3ee11d3b7d,osa/manila-uversion-stable/xena," # The first version of manila api which supports microversions min_api_microversion: ""2.0"" # Set this to the highest microversion supported by the openstack release max_api_microversion: ""2.67""",,4,0
openstack%2Ftripleo-ci~master~Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30,openstack/tripleo-ci,master,Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30,Move Victoria for Tripleo Repos to End Of Life,ABANDONED,2022-06-13 13:30:16.000000000,2022-08-01 11:14:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-13 13:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e32dfb8b53fb27c5eb9480e5d08319a69a40fdf', 'message': 'WIP : Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/845148\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}, {'number': 2, 'created': '2022-06-16 08:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2bde4181858e1250cca1dfe0dd09895a5e952276', 'message': 'Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/845148\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}, {'number': 3, 'created': '2022-06-16 08:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dd5024c78998dcdae0d291cd114ee2c6dce61473', 'message': 'Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/845148\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}, {'number': 4, 'created': '2022-06-16 09:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/824251251b5a9f7a36930ebf41c78531c83c3830', 'message': 'Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/845148\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}, {'number': 5, 'created': '2022-06-16 09:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7b55a6ed2fbe2359802535f1bcdb8007f99c461b', 'message': 'Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/845148\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}, {'number': 6, 'created': '2022-06-16 09:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/798156ab7de9a1afa489a1136e503282e818e93c', 'message': 'Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/845148\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}, {'number': 7, 'created': '2022-06-16 09:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cf8d33333756aba45ae7ceca4833d762cf65ab3e', 'message': 'Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/845148\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}, {'number': 8, 'created': '2022-06-16 09:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4410d4a5446fd8f21c90dbd73cff0748219d34f1', 'message': 'Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/845148\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}, {'number': 9, 'created': '2022-06-27 10:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/64127b4ff4184f1c93688d2fc40f37ed68efc9a1', 'message': 'Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/845148\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}, {'number': 10, 'created': '2022-06-27 10:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a5a588976e9e59eecf701dfd778db33778e16c2c', 'message': 'Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/847762\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}, {'number': 11, 'created': '2022-06-27 11:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/74d605bf8239e04a86629e697679eac47a4ae4ee', 'message': 'Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/847762\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/847766\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}, {'number': 12, 'created': '2022-06-27 13:41:40.000000000', 'files': ['zuul.d/content-provider.yaml', 'scripts/emit_releases_file/test_release_name.py', 'zuul.d/undercloud-jobs.yaml', 'scripts/emit_releases_file/emit_releases_file.py', 'zuul.d/standalone-jobs.yaml', 'roles/build-containers/templates/tripleo-build.sh.j2', 'zuul.d/periodic.yaml', 'zuul.d/upgrades-jobs-templates.yaml', 'zuul.d/multinode-jobs.yaml', 'roles/build-containers/vars/main.yaml', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e0539ca4912b55e856fb9f187ca39cd8b98ad08', 'message': 'Move Victoria for Tripleo Repos to End Of Life\n\nAs proposed at [1] this proposes to move the stable/victoria\nbranch for all tripleo related repos to end of life.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/847762\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/847766\nDepends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/847788\nChange-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30\n'}]",63,845587,4e0539ca4912b55e856fb9f187ca39cd8b98ad08,42,2,12,31075,,,0,"Move Victoria for Tripleo Repos to End Of Life

As proposed at [1] this proposes to move the stable/victoria
branch for all tripleo related repos to end of life.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-June/028829.html

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/847762
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/847766
Depends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/847788
Change-Id: Ie322d2ba178b4c7a38df32bcfe06f807e5c44b30
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/87/845587/9 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/emit_releases_file/test_release_name.py', 'scripts/emit_releases_file/emit_releases_file.py', 'roles/build-containers/templates/tripleo-build.sh.j2', 'roles/build-containers/vars/main.yaml', 'zuul.d/build-image.yaml']",5,2e32dfb8b53fb27c5eb9480e5d08319a69a40fdf,tripleo_victoria_eol, branches: &c9_branches ^(?!stable/(train)).*$ branches: ^(stable/(train|wallaby)).*$ branches: ^(stable/(train|wallaby)).*$ branches: ^(stable/(train)).*$, - tripleo-buildimage-overcloud-full-centos-8-victoria: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-8-victoria: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8-victoria: files: &build_images_hardened_files - ^image-yaml/.*hardened.* - ^elements/overcloud-secure - ^elements/overcloud-partition - ^diskimage_builder/elements/modprobe - tripleo-buildimage-overcloud-full-centos-8-victoria: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-8-victoria: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8-victoria: files: *build_images_hardened_files branches: &c9_branches ^(?!stable/(train|victoria)).*$ branches: ^(stable/(train|victoria|wallaby)).*$ branches: ^(stable/(train|victoria|wallaby)).*$ branches: ^(stable/(train|victoria)).*$- job: name: tripleo-buildimage-ironic-python-agent-centos-8-victoria parent: tripleo-buildimage-ironic-python-agent-centos-8 branches: master override-checkout: stable/victoria vars: branch_override: stable/victoria name: tripleo-buildimage-overcloud-full-centos-8-victoria parent: tripleo-buildimage-overcloud-full-centos-8 branches: master override-checkout: stable/victoria vars: branch_override: stable/victoria # Branchful job to run on CI branchless repos which have master only - job:- job: name: tripleo-buildimage-overcloud-hardened-full-centos-8-victoria parent: tripleo-buildimage-overcloud-hardened-full-centos-8 branches: master override-checkout: stable/victoria vars: branch_override: stable/victoria,5,203
openstack%2Freleases~master~I89a0998be74f9c11634cfef977710a380d6d8fa2,openstack/releases,master,I89a0998be74f9c11634cfef977710a380d6d8fa2,[blazar] Transition Pike to End of Life,ABANDONED,2022-07-29 16:06:00.000000000,2022-08-01 11:12:53.000000000,,"[{'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 16:06:00.000000000', 'files': ['deliverables/pike/python-blazarclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0787a46d54ef627ede6ac7a50ceb7b3712d9141c', 'message': ""[blazar] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I89a0998be74f9c11634cfef977710a380d6d8fa2\n""}]",3,851593,0787a46d54ef627ede6ac7a50ceb7b3712d9141c,9,4,1,17685,,,0,"[blazar] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I89a0998be74f9c11634cfef977710a380d6d8fa2
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/851593/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/python-blazarclient.yaml'],1,0787a46d54ef627ede6ac7a50ceb7b3712d9141c,pike-eol, - version: pike-eol projects: - repo: openstack/python-blazarclient hash: dc240878576ee783ea701719acd09503a0d44ce3,,4,0
openstack%2Fpuppet-swift~master~I3666c5b3d45ba99a5716cfbe5174202b53ad4950,openstack/puppet-swift,master,I3666c5b3d45ba99a5716cfbe5174202b53ad4950,Remove unnecessary group assignment,MERGED,2022-07-03 16:56:34.000000000,2022-08-01 11:09:10.000000000,2022-08-01 11:08:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-03 16:56:34.000000000', 'files': ['manifests/proxy/ceilometer.pp', 'spec/classes/swift_spec.rb', 'manifests/init.pp', 'spec/classes/swift_proxy_ceilometer_spec.rb', 'releasenotes/notes/deprecate-ceilometer-group-81408169438202b6.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/152587fd2a1d0c0bc7ad67585fe2ecdd6abde995', 'message': ""Remove unnecessary group assignment\n\nceilometermiddleware does not require access to local resources owned\nby the ceilometer group but communicate with ceilometer over rpc.\nThus we don't need to add the swift user to the ceilometer group.\n\nChange-Id: I3666c5b3d45ba99a5716cfbe5174202b53ad4950\n""}]",0,848544,152587fd2a1d0c0bc7ad67585fe2ecdd6abde995,8,3,1,9816,,,0,"Remove unnecessary group assignment

ceilometermiddleware does not require access to local resources owned
by the ceilometer group but communicate with ceilometer over rpc.
Thus we don't need to add the swift user to the ceilometer group.

Change-Id: I3666c5b3d45ba99a5716cfbe5174202b53ad4950
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/44/848544/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy/ceilometer.pp', 'spec/classes/swift_spec.rb', 'manifests/init.pp', 'spec/classes/swift_proxy_ceilometer_spec.rb', 'releasenotes/notes/deprecate-ceilometer-group-81408169438202b6.yaml']",5,152587fd2a1d0c0bc7ad67585fe2ecdd6abde995,,--- deprecations: - | The ``swift::proxy::ceilometer::group`` parameter has been deprecated and has no effect now. ,,16,25
openstack%2Fpuppet-swift~master~I4f462027417369d8666bf55c7564cf5df2452995,openstack/puppet-swift,master,I4f462027417369d8666bf55c7564cf5df2452995,Use p-o-i manifest to deploy memcached,MERGED,2022-07-08 04:25:47.000000000,2022-08-01 11:08:23.000000000,2022-08-01 11:08:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-08 04:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/79f299761390cd741f419496f252c930727fe122', 'message': 'Use p-o-i manifest to deploy memcached\n\n... instead of own implementation locally managed in this repo.\n\nChange-Id: I4f462027417369d8666bf55c7564cf5df2452995\n'}, {'number': 2, 'created': '2022-08-01 09:45:19.000000000', 'files': ['spec/acceptance/10_basic_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/0439bd22d6d0aeeeb2092d2056162e8c89cf5c4b', 'message': 'Use p-o-i manifest to deploy memcached\n\n... instead of own implementation locally managed in this repo.\n\nChange-Id: I4f462027417369d8666bf55c7564cf5df2452995\n'}]",1,849063,0439bd22d6d0aeeeb2092d2056162e8c89cf5c4b,11,4,2,9816,,,0,"Use p-o-i manifest to deploy memcached

... instead of own implementation locally managed in this repo.

Change-Id: I4f462027417369d8666bf55c7564cf5df2452995
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/63/849063/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_swift_spec.rb'],1,79f299761390cd741f419496f252c930727fe122,memcached, include openstack_integration::memcached include openstack_integration::memcached," class { 'memcached': listen_ip => '127.0.0.1', } class { 'memcached': listen_ip => '127.0.0.1', } ",2,8
openstack%2Fpuppet-swift~master~Icedace16756158498d5199285ec775095636980b,openstack/puppet-swift,master,Icedace16756158498d5199285ec775095636980b,swiftinit: Remove support for upstrart,MERGED,2022-06-28 13:26:57.000000000,2022-08-01 11:08:21.000000000,2022-08-01 11:08:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-28 13:26:57.000000000', 'files': ['lib/puppet/provider/service/swiftinit.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/41b842c7de7d75239b505d7e7de59cb57c63e099', 'message': 'swiftinit: Remove support for upstrart\n\n... because it was used in Ubuntu < 16.04 which is no longer supported.\n\nChange-Id: Icedace16756158498d5199285ec775095636980b\n'}]",0,847971,41b842c7de7d75239b505d7e7de59cb57c63e099,7,3,1,9816,,,0,"swiftinit: Remove support for upstrart

... because it was used in Ubuntu < 16.04 which is no longer supported.

Change-Id: Icedace16756158498d5199285ec775095636980b
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/71/847971/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/service/swiftinit.rb'],1,41b842c7de7d75239b505d7e7de59cb57c63e099,," systemctl_run('stop', [resource[:pattern]], false) systemctl_run('disable', [resource[:pattern]], false) if Puppet::FileSystem.exist?(""/etc/systemd/system/#{resource[:pattern]}.service"") File.open(""/etc/systemd/system/#{resource[:pattern]}.service"", 'w') { |file| file.write(systemd_template) } systemctl_run('daemon-reload', nil, true) systemctl_run('enable', [resource[:pattern]], false) systemctl_run('disable', [resource[:pattern]], false) File.delete(""/etc/systemd/system/#{resource[:pattern]}.service"") systemctl_run('daemon-reload', nil, true)"," if !default_provider_upstart? systemctl_run('stop', [resource[:pattern]], false) systemctl_run('disable', [resource[:pattern]], false) end if default_provider_upstart? if Puppet::FileSystem.exist?(""/etc/init/#{resource[:pattern]}.conf"") current_conf = File.read(""/etc/init/#{resource[:pattern]}.conf"") if current_conf.eql? upstart_template return :true end else return :false end elsif Puppet::FileSystem.exist?(""/etc/systemd/system/#{resource[:pattern]}.service"") if default_provider_upstart? File.open(""/etc/init/#{resource[:pattern]}.conf"", 'w') { |file| file.write(upstart_template) } else File.open(""/etc/systemd/system/#{resource[:pattern]}.service"", 'w') { |file| file.write(systemd_template) } systemctl_run('daemon-reload', nil, true) systemctl_run('enable', [resource[:pattern]], false) end if default_provider_upstart? File.delete(""/etc/init/#{resource[:pattern]}.conf"") else systemctl_run('disable', [resource[:pattern]], false) File.delete(""/etc/systemd/system/#{resource[:pattern]}.service"") systemctl_run('daemon-reload', nil, true) end # If OS is ubuntu and < 16 then assume upstart default provider. def default_provider_upstart? if Facter.value(:operatingsystem) == 'Ubuntu' && Facter.value(:operatingsystemmajrelease) < '16' return true else return false end end # Begin service template boot section. def upstart_template %(# swift-#{type}-#{subtype} # # Starts the swift-#{type}-#{subtype}. description ""SWIFT #{type} #{subtype}"" author ""Puppet"" start on runlevel [2345] stop on runlevel [016] pre-start script if [ -f /etc/swift/#{resource[:manifest]} ]; then exec /usr/bin/swift-init #{type}-#{subtype} start else exit 1 fi end script post-stop exec /usr/bin/swift-init #{type}-#{subtype} stop) end ",9,60
openstack%2Fpuppet-swift~master~Ia990bffee54f6c0344060f16cf418a6c39ee81fc,openstack/puppet-swift,master,Ia990bffee54f6c0344060f16cf418a6c39ee81fc,Remove deprecated swift::test_file,MERGED,2022-06-28 13:35:38.000000000,2022-08-01 11:08:19.000000000,2022-08-01 11:08:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-28 13:35:38.000000000', 'files': ['releasenotes/notes/remove-test_file-b6297826dcc22267.yaml', 'templates/swift_keystone_test.erb', 'manifests/test_file.pp', 'spec/classes/swift_test_file_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1414bd7d85f0efddc96ba3c0b2355fada2943a8e', 'message': 'Remove deprecated swift::test_file\n\n... because it was deprecated during Yoga cycle[1].\n\n[1] dd3a5bbf0dfd98fe9bf27e130a317640a1621bf5\n\nChange-Id: Ia990bffee54f6c0344060f16cf418a6c39ee81fc\n'}]",0,847974,1414bd7d85f0efddc96ba3c0b2355fada2943a8e,7,3,1,9816,,,0,"Remove deprecated swift::test_file

... because it was deprecated during Yoga cycle[1].

[1] dd3a5bbf0dfd98fe9bf27e130a317640a1621bf5

Change-Id: Ia990bffee54f6c0344060f16cf418a6c39ee81fc
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/74/847974/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-test_file-b6297826dcc22267.yaml', 'templates/swift_keystone_test.erb', 'manifests/test_file.pp', 'spec/classes/swift_test_file_spec.rb']",4,1414bd7d85f0efddc96ba3c0b2355fada2943a8e,,,"require 'spec_helper' describe 'swift::test_file' do let :default_params do {:password => 'foo'} end shared_examples 'swift::test_file' do describe 'with defaults' do let :params do default_params end it 'should create a reasonable test file' do verify_contents(catalogue, '/tmp/swift_test_file.rb', [ 'proxy_local_net_ip=""127.0.0.1""', ""user='openstack:admin'"", ""password='foo'"" ] ) end end describe 'when overriding' do let :params do default_params.merge({ :auth_server => '127.0.0.2', :tenant => 'tenant', :user => 'user', :password => 'password' }) end it 'should create a configured test file' do verify_contents(catalogue, '/tmp/swift_test_file.rb', [ 'proxy_local_net_ip=""127.0.0.2""', ""user='tenant:user'"", ""password='password'"" ] ) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge(OSDefaults.get_facts()) end it_configures 'swift::test_file' end end end ",4,224
openstack%2Fpuppet-swift~master~I202a8044797bb3f315e2e4da7e412a0ee5b1349a,openstack/puppet-swift,master,I202a8044797bb3f315e2e4da7e412a0ee5b1349a,Deprecate support for swauth,MERGED,2022-07-04 00:59:12.000000000,2022-08-01 11:02:28.000000000,2022-08-01 11:01:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 00:59:12.000000000', 'files': ['manifests/proxy/swauth.pp', 'releasenotes/notes/deprecate-swauth-6fa98d40e43dfe63.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/0eda2a0a50e57d3183ef4d70ee6ce9d257d59bb3', 'message': 'Deprecate support for swauth\n\n... because the swauth project[1] has been already retired.\n\n[1] https://opendev.org/x/swauth\n\nChange-Id: I202a8044797bb3f315e2e4da7e412a0ee5b1349a\n'}]",0,848553,0eda2a0a50e57d3183ef4d70ee6ce9d257d59bb3,8,3,1,9816,,,0,"Deprecate support for swauth

... because the swauth project[1] has been already retired.

[1] https://opendev.org/x/swauth

Change-Id: I202a8044797bb3f315e2e4da7e412a0ee5b1349a
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/53/848553/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy/swauth.pp', 'releasenotes/notes/deprecate-swauth-6fa98d40e43dfe63.yaml']",2,0eda2a0a50e57d3183ef4d70ee6ce9d257d59bb3,swauth,"--- deprecations: - | The ``swift::proxy::swauth`` class, which configures the ``swauth`` middleware, has been deprecated and will be removed in a future release, because the middleware is no longer maintained. ",,8,0
openstack%2Freleases~master~I53f175106f81c3e757899ece83b3aaf037cc172a,openstack/releases,master,I53f175106f81c3e757899ece83b3aaf037cc172a,[zaqar] Transition Pike to End of Life,MERGED,2022-07-29 15:57:40.000000000,2022-08-01 11:00:36.000000000,2022-08-01 11:00:36.000000000,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 15:57:40.000000000', 'files': ['deliverables/pike/zaqar.yaml', 'deliverables/pike/zaqar-ui.yaml', 'deliverables/pike/python-zaqarclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4e2e7e48fb823eeccb97a8117ba3a95b1ad8001c', 'message': ""[zaqar] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I53f175106f81c3e757899ece83b3aaf037cc172a\n""}]",2,851565,4e2e7e48fb823eeccb97a8117ba3a95b1ad8001c,9,5,1,17685,,,0,"[zaqar] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I53f175106f81c3e757899ece83b3aaf037cc172a
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/851565/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/zaqar.yaml', 'deliverables/pike/zaqar-ui.yaml', 'deliverables/pike/python-zaqarclient.yaml']",3,4e2e7e48fb823eeccb97a8117ba3a95b1ad8001c,pike-eol, - version: pike-eol projects: - repo: openstack/python-zaqarclient hash: bdb9615c018d9b9af0d93e7ff6843469b2a82d7b,,12,0
openstack%2Freleases~master~Idc9d27bded151a00b6388c780fb3ba5091916add,openstack/releases,master,Idc9d27bded151a00b6388c780fb3ba5091916add,[nova] Transition Pike to End of Life,MERGED,2022-07-29 15:59:37.000000000,2022-08-01 10:59:13.000000000,2022-08-01 10:59:13.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 15:59:37.000000000', 'files': ['deliverables/pike/python-novaclient.yaml', 'deliverables/pike/nova.yaml', 'deliverables/pike/os-traits.yaml', 'deliverables/pike/os-vif.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b63da22eea6ef858f7d41e2093f916757d434e8f', 'message': ""[nova] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Idc9d27bded151a00b6388c780fb3ba5091916add\n""}]",1,851571,b63da22eea6ef858f7d41e2093f916757d434e8f,9,5,1,17685,,,0,"[nova] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Idc9d27bded151a00b6388c780fb3ba5091916add
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/851571/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/python-novaclient.yaml', 'deliverables/pike/nova.yaml', 'deliverables/pike/os-traits.yaml', 'deliverables/pike/os-vif.yaml']",4,b63da22eea6ef858f7d41e2093f916757d434e8f,pike-eol, - version: pike-eol projects: - repo: openstack/os-vif hash: 5b4db2087a0f44fc5d5a951663f620cc24940df3,,16,0
openstack%2Freleases~master~Icc38f4ee117c1fc08f07a5c8a266c8f831c60014,openstack/releases,master,Icc38f4ee117c1fc08f07a5c8a266c8f831c60014,[tacker] Transition Pike to End of Life,MERGED,2022-07-29 16:02:36.000000000,2022-08-01 10:50:46.000000000,2022-08-01 10:50:46.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 16:02:36.000000000', 'files': ['deliverables/pike/tacker-horizon.yaml', 'deliverables/pike/python-tackerclient.yaml', 'deliverables/pike/tacker.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bcea38c28be97235a67e92585980c32758395940', 'message': ""[tacker] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Icc38f4ee117c1fc08f07a5c8a266c8f831c60014\n""}]",1,851582,bcea38c28be97235a67e92585980c32758395940,9,4,1,17685,,,0,"[tacker] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Icc38f4ee117c1fc08f07a5c8a266c8f831c60014
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/851582/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/tacker-horizon.yaml', 'deliverables/pike/python-tackerclient.yaml', 'deliverables/pike/tacker.yaml']",3,bcea38c28be97235a67e92585980c32758395940,pike-eol, - version: pike-eol projects: - repo: openstack/tacker hash: 159d30af57da24d71d2cc1f3cf921cf7b6935c58,,12,0
openstack%2Fpuppet-ironic~master~I41caaa22dd0f7879acac757bf695935714318fa3,openstack/puppet-ironic,master,I41caaa22dd0f7879acac757bf695935714318fa3,Debian/Ubuntu: Validate inspector in acceptance test,MERGED,2022-07-02 17:18:40.000000000,2022-08-01 10:40:58.000000000,2022-08-01 10:40:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-02 17:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/be0deca8e706026ec7534ac459817bb5845aa700', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 2, 'created': '2022-07-02 18:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9cf829be14abe47f69b948ce86534dfa35694447', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 3, 'created': '2022-07-03 13:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4143b7435a3b5266998981c20f2f11fe0b7f1415', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 4, 'created': '2022-07-03 13:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b77ae5fe6354a98b1b82e7cb3b235056ced90d75', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 5, 'created': '2022-07-03 13:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/85b3e9fac837c38c81641c24b4467d8e3e42b98c', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 6, 'created': '2022-07-03 13:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b0cd680e5fef7a6c662f650cf15d65dd153101b3', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 7, 'created': '2022-07-03 14:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/793c71af2a1866518ca7a449ed517db467a62805', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 8, 'created': '2022-07-03 14:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3e0ab835dd61f648f42c7b0e28f2437d058de21e', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 9, 'created': '2022-07-03 14:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/2dc48a5e417c97c9de6679d2b4456afbde069f63', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 10, 'created': '2022-07-03 15:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/abdab87ffdb127425f6c5e2d6f0bd18100f33361', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 11, 'created': '2022-07-03 16:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/21eb5c948c442a6e001736c231e1103fceb66f72', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 12, 'created': '2022-07-03 17:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/5afa7e1f71a6a7493b05e051f9b0dc403c549f86', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 13, 'created': '2022-07-03 18:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9d0305f492eff3e63f74f263c15af7f3340524f6', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}, {'number': 14, 'created': '2022-07-15 21:35:13.000000000', 'files': ['spec/acceptance/10_basic_ironic_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/dc470d82372474b91f600d202970d31a39224a7e', 'message': 'Debian/Ubuntu: Validate inspector in acceptance test\n\n... because now the service is enabled.\n\nDepends-on: https://review.opendev.org/848512/\nChange-Id: I41caaa22dd0f7879acac757bf695935714318fa3\n'}]",1,848514,dc470d82372474b91f600d202970d31a39224a7e,34,3,14,9816,,,0,"Debian/Ubuntu: Validate inspector in acceptance test

... because now the service is enabled.

Depends-on: https://review.opendev.org/848512/
Change-Id: I41caaa22dd0f7879acac757bf695935714318fa3
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/14/848514/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/ironic_wsgi_apache_spec.rb'],1,be0deca8e706026ec7534ac459817bb5845aa700,debian-ironic-inspector, # Ironic API port describe port(6385) do it { is_expected.to be_listening } end # Inspector API port describe port(5050) do it { is_expected.to be_listening.with('tcp') }," if os[:family].casecmp('RedHat') == 0 # Ironic API port describe port(6385) do it { is_expected.to be_listening } end # Inspector API port describe port(5050) do it { is_expected.to be_listening.with('tcp') } end else # Inspector is not packaged, so only test Ironic # Ironic API port describe port(6385) do it { is_expected.to be_listening } end",7,14
openstack%2Freleases~master~I7b23f64caba852eb7e28611da8a200753499cab3,openstack/releases,master,I7b23f64caba852eb7e28611da8a200753499cab3,Fixing Marios email address,MERGED,2022-08-01 09:04:23.000000000,2022-08-01 10:34:03.000000000,2022-08-01 10:34:03.000000000,"[{'_account_id': 8449}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-08-01 09:04:23.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e9c0be11349b5c0858fb6ca8aea921083395ec54', 'message': 'Fixing Marios email address\n\nMarios is using the newly set email address on gerrit, thus that is\nneeded for our tools to accept his approval.\n\nChange-Id: I7b23f64caba852eb7e28611da8a200753499cab3\n'}]",2,851704,e9c0be11349b5c0858fb6ca8aea921083395ec54,8,4,1,17685,,,0,"Fixing Marios email address

Marios is using the newly set email address on gerrit, thus that is
needed for our tools to accept his approval.

Change-Id: I7b23f64caba852eb7e28611da8a200753499cab3
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/851704/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,e9c0be11349b5c0858fb6ca8aea921083395ec54,, email: marios@redhat.com, email: mandreou@redhat.com,1,1
openstack%2Fpuppet-neutron~master~I7d9511455174830c801277d760ccf95e43d6cd29,openstack/puppet-neutron,master,I7d9511455174830c801277d760ccf95e43d6cd29,Deprecate support for networking-vpp,MERGED,2022-07-09 14:03:57.000000000,2022-08-01 10:28:56.000000000,2022-08-01 10:27:57.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-09 14:03:57.000000000', 'files': ['releasenotes/notes/deprecate-networking-vpp-aafae2fdafa2d896.yaml', 'manifests/agents/ml2/vpp.pp', 'manifests/plugins/ml2/vpp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7a47c5a29d530982ed85e5976de7b95992b9ed93', 'message': 'Deprecate support for networking-vpp\n\nThe networking-vpp[1] project has been unmaintained. The code has not\nbeen updated for 1.5 year and its CI has been broken for a while.\n\n[1] https://opendev.org/x/networking-vpp\n\nChange-Id: I7d9511455174830c801277d760ccf95e43d6cd29\n'}]",1,849194,7a47c5a29d530982ed85e5976de7b95992b9ed93,10,4,1,9816,,,0,"Deprecate support for networking-vpp

The networking-vpp[1] project has been unmaintained. The code has not
been updated for 1.5 year and its CI has been broken for a while.

[1] https://opendev.org/x/networking-vpp

Change-Id: I7d9511455174830c801277d760ccf95e43d6cd29
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/94/849194/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-networking-vpp-aafae2fdafa2d896.yaml', 'manifests/agents/ml2/vpp.pp', 'manifests/plugins/ml2/vpp.pp']",3,7a47c5a29d530982ed85e5976de7b95992b9ed93,deprecte-vpp,# == Class: neutron::plugins::ml2::vpp# DEPRECATED !! warning('Support for the networking-vpp plugin has been deprecated.') ,,12,0
openstack%2Fpuppet-neutron~master~I7ea03ae1fa6c65cea7138c71540aee1ca29fb3cb,openstack/puppet-neutron,master,I7ea03ae1fa6c65cea7138c71540aee1ca29fb3cb,Remove example manifest to use networking-cisco,MERGED,2022-07-07 14:54:10.000000000,2022-08-01 10:27:59.000000000,2022-08-01 10:27:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-07 14:54:10.000000000', 'files': ['examples/cisco_ml2.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/10e6ab52d7e4be0868173c5743630e88c6c7eaff', 'message': 'Remove example manifest to use networking-cisco\n\n... because the plugin is no longer supported[1].\n\n[1] a6c4ba2c2b1b99e885813dc201c4608152d724da\n\nChange-Id: I7ea03ae1fa6c65cea7138c71540aee1ca29fb3cb\n'}]",0,848970,10e6ab52d7e4be0868173c5743630e88c6c7eaff,11,3,1,9816,,,0,"Remove example manifest to use networking-cisco

... because the plugin is no longer supported[1].

[1] a6c4ba2c2b1b99e885813dc201c4608152d724da

Change-Id: I7ea03ae1fa6c65cea7138c71540aee1ca29fb3cb
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/70/848970/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/cisco_ml2.pp'],1,10e6ab52d7e4be0868173c5743630e88c6c7eaff,,,"class { 'neutron': enabled => true, bind_host => '127.0.0.1', default_transport_url => 'rabbit://guest:password@localhost:5672/neutron', debug => true, } class { 'neutron::server': www_authenticate_uri => 'http://127.0.0.1:5000', auth_password => 'keystone_secret', } class { 'neutron::plugins::ml2': type_drivers => ['vlan', 'nexus_vxlan'], tenant_network_types => ['nexus_vxlan'], network_vlan_ranges => ['physnet:2000:2020'], mechanism_drivers => ['openvswitch', 'cisco_ucsm', 'cisco_nexus'], } class {'neutron::plugins::ml2::cisco::ucsm': ucsm_ip => '127.0.0.1', ucsm_username => 'admin', ucsm_password => 'password', ucsm_host_list => 'host1:profile1, host2:profile2', } class {'neutron::plugins::ml2::cisco::nexus': managed_physical_network => 'physnet', nexus_config => { 'n9372-1' => { 'username' => 'admin', 'password' => 'password', 'ip_address' => '127.0.0.1', 'nve_src_intf' => 1, 'physnet' => 'physnet', 'servers' => { 'control1' => { 'ports' => 'ethernet:1/1', }, 'control2' => { 'ports' => 'ethernet:1/2', }, } }, 'n9372-2' => { 'username' => 'admin', 'password' => 'password', 'ip_address' => '127.0.0.2', 'nve_src_intf' => 1, 'physnet' => 'physnet', 'servers' => { 'compute1' => { 'ports' => 'ethernet:1/1', }, 'compute2' => { 'ports' => 'ethernet:1/2', }, } } }, } class {'neutron::plugins::ml2::cisco::type_nexus_vxlan': vni_ranges => '20000:22000', mcast_ranges => '224.0.0.1:224.0.0.4', } ",0,67
openstack%2Fpuppet-glance~stable%2Ftrain~I5ea6766656f4227a1c514777c03bbf78d4ac59cd,openstack/puppet-glance,stable/train,I5ea6766656f4227a1c514777c03bbf78d4ac59cd,Configure the oslo.concurrency lock_path,MERGED,2022-07-27 13:18:54.000000000,2022-08-01 10:16:24.000000000,2022-08-01 10:15:23.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29759}]","[{'number': 1, 'created': '2022-07-27 13:18:54.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/add-concurrency-lock_path-666f5836ec062c5a.yaml', 'spec/classes/glance_api_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d54e9429410bc763d16b63a4cd19148e181558df', 'message': 'Configure the oslo.concurrency lock_path\n\nA recent change in os-brick [1], which is used by cinder backends,\nrequires external file locks. This patch adds support for configuring\nthe lock path, with a default value that matches the corresponding\nlock paths used by other services that use os-brick (namely cinder\nand nova).\n\n[1] I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n\nCloses-Bug: #1980539\nChange-Id: I5ea6766656f4227a1c514777c03bbf78d4ac59cd\n(cherry picked from commit 6f61ecd9c5b030817d0255fd8fd485722f9556f4)\n(cherry picked from commit ba4ada0c70b31277b8569b71d40692b17c2a632b)\n(cherry picked from commit 1d37e5400aa1731e28a39ee9bfcbb84173d0690a)\n(cherry picked from commit 4ab30d3bc60c29c2d489c8b9a61b9080f1f6c829)\n(cherry picked from commit 8ce29aa7c543f33fff41f3100b1255fe6468cf80)\n(cherry picked from commit b3964a75ba9fb1ede8725c3146ca052ed589b940)\n'}]",1,851222,d54e9429410bc763d16b63a4cd19148e181558df,10,5,1,21129,,,0,"Configure the oslo.concurrency lock_path

A recent change in os-brick [1], which is used by cinder backends,
requires external file locks. This patch adds support for configuring
the lock path, with a default value that matches the corresponding
lock paths used by other services that use os-brick (namely cinder
and nova).

[1] I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68

Closes-Bug: #1980539
Change-Id: I5ea6766656f4227a1c514777c03bbf78d4ac59cd
(cherry picked from commit 6f61ecd9c5b030817d0255fd8fd485722f9556f4)
(cherry picked from commit ba4ada0c70b31277b8569b71d40692b17c2a632b)
(cherry picked from commit 1d37e5400aa1731e28a39ee9bfcbb84173d0690a)
(cherry picked from commit 4ab30d3bc60c29c2d489c8b9a61b9080f1f6c829)
(cherry picked from commit 8ce29aa7c543f33fff41f3100b1255fe6468cf80)
(cherry picked from commit b3964a75ba9fb1ede8725c3146ca052ed589b940)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/22/851222/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/add-concurrency-lock_path-666f5836ec062c5a.yaml', 'spec/classes/glance_api_spec.rb', 'manifests/params.pp']",4,d54e9429410bc763d16b63a4cd19148e181558df,bug/1980539, $lock_path = '/var/lib/glance/tmp' $lock_path = '/var/lock/glance',,50,0
openstack%2Ftripleo-ci~master~I8fa6e69b01ea557d200ea0208f35e6c204eedc13,openstack/tripleo-ci,master,I8fa6e69b01ea557d200ea0208f35e6c204eedc13,Add missing undercloud configuration for working psi reproducer.,ABANDONED,2022-05-04 15:38:44.000000000,2022-08-01 10:14:12.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-04 15:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/54d2845809004e7c63aa9b5feef4f7d944c5a62c', 'message': 'Add missing undercloud configuration for working psi reproducer.\n\nCloses-Bug: #1971605\nChange-Id: I8fa6e69b01ea557d200ea0208f35e6c204eedc13\n'}, {'number': 2, 'created': '2022-05-04 20:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3b4e50be45b8c1a3b2e80c5caf6c17d1b1f61394', 'message': 'Add missing undercloud configuration for working psi reproducer.\n\nCloses-Bug: #1971605\nChange-Id: I8fa6e69b01ea557d200ea0208f35e6c204eedc13\n'}, {'number': 3, 'created': '2022-06-21 10:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ef4fa4c37865513ce1751a67668d85a9dc4dcba', 'message': 'Add missing undercloud configuration for working psi reproducer.\n\nCloses-Bug: #1971605\nChange-Id: I8fa6e69b01ea557d200ea0208f35e6c204eedc13\n'}, {'number': 4, 'created': '2022-07-29 17:32:34.000000000', 'files': ['toci-quickstart/config/testenv/multinode-psi.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e46ff7e4bbc04c2fd6bec036712b1abf2ead1588', 'message': 'Add missing undercloud configuration for working psi reproducer.\n\nCloses-Bug: #1971605\nChange-Id: I8fa6e69b01ea557d200ea0208f35e6c204eedc13\n'}]",4,840506,e46ff7e4bbc04c2fd6bec036712b1abf2ead1588,17,3,4,8297,,,0,"Add missing undercloud configuration for working psi reproducer.

Closes-Bug: #1971605
Change-Id: I8fa6e69b01ea557d200ea0208f35e6c204eedc13
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/06/840506/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/multinode-psi.yml'],1,54d2845809004e7c63aa9b5feef4f7d944c5a62c,,undercloud_undercloud_nameservers: - 10.11.5.19 - 10.10.160.2 - 10.5.30.160 - 8.8.8.7 - 8.8.8.8 undercloud_undercloud_ntp_servers: - 10.5.26.10 - clock.redhat.com undercloud_undercloud_debug: true ,,11,0
openstack%2Fpuppet-ovn~master~I3c38f570741819455d6808dcf36c5988ad5ffac3,openstack/puppet-ovn,master,I3c38f570741819455d6808dcf36c5988ad5ffac3,Use the common manifest in acceptance tests,MERGED,2022-07-02 16:54:52.000000000,2022-08-01 10:07:36.000000000,2022-08-01 10:07:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-02 16:54:52.000000000', 'files': ['spec/acceptance/basic_ovn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/1459b8bbb88cd45a792b7cbeb4ebc4c049cc4988', 'message': 'Use the common manifest in acceptance tests\n\nDepends-on: https://review.opendev.org/848488\nChange-Id: I3c38f570741819455d6808dcf36c5988ad5ffac3\n'}]",1,848489,1459b8bbb88cd45a792b7cbeb4ebc4c049cc4988,11,3,1,9816,,,0,"Use the common manifest in acceptance tests

Depends-on: https://review.opendev.org/848488
Change-Id: I3c38f570741819455d6808dcf36c5988ad5ffac3
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/89/848489/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_ovn_spec.rb'],1,1459b8bbb88cd45a792b7cbeb4ebc4c049cc4988,ovn-manifest, include openstack_integration::ovn command('ovn-sbctl show') do |r| expect(r.exit_code).to eq 0 end," include ovn::northd class { 'ovn::controller': ovn_remote => 'tcp:127.0.0.1:6642', ovn_encap_ip => '127.0.0.1', }",4,5
openstack%2Fpuppet-neutron~master~I4cfd26bb39155f74008640094585a8328f8a7bca,openstack/puppet-neutron,master,I4cfd26bb39155f74008640094585a8328f8a7bca,Deprecate support for NSX plugin,MERGED,2022-06-25 08:02:18.000000000,2022-08-01 10:05:56.000000000,2022-08-01 10:05:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-25 08:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/848b482fd57d350238af7acab8af9029e4043f10', 'message': ""Deprecate support for NSX plugin\n\nThe NSX plugin repo looks unmaintained. No release was created since\nVictoria and the repository does not have a few stable branches\n(wallaby and xena). Master has not been updated for a while but only\na few stable branches are maintained. (eg. [1])\n\nWe asked project status in the mailing list[2] and I also tried to\ndirectly reach out to the maintainer but we haven't heard any response.\n\nAlso, VMWare already announced that NSX-T 3.y will be the last release\nseries which supports KVM based OpenStack and they support only their\nown OpenStack distribution (VIO)[3].\n\nBased on the above items, we assume there would be no user interested\nin using puppet-neutron to deploy RHEL/Ubuntu based OpenStack with\nNSX-T integrated, and deprecate support for the plugin, so that we can\nremove the unused implementation completely after the Zed release.\n\n[1]\ne5b7a2f680604244a800e329d9afbbaedc4097e9 was merged in xena but has\nnever been proposed or merged to master.\n\n[2]\nhttp://lists.openstack.org/pipermail/openstack-discuss/2022-May/028573.html\n\n[3]\nhttps://docs.vmware.com/en/VMware-NSX-T-Data-Center/3.2/rn/vmware-nsxt-data-center-32-release-notes/index.html#feature--api-deprecations-and-behavior-changes\n\nChange-Id: I4cfd26bb39155f74008640094585a8328f8a7bca\n""}, {'number': 2, 'created': '2022-06-25 09:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/60278f03792d2b5c470b3060f409d20f1790e010', 'message': ""Deprecate support for NSX plugin\n\nThe NSX plugin repo looks unmaintained. No release was created since\nVictoria and the repository does not have a few stable branches\n(wallaby and xena). Master has not been updated for a while but only\na few stable branches are maintained. (eg. [1])\n\nWe asked project status in the mailing list[2] and I also tried to\ndirectly reach out to the maintainer but we haven't heard any response.\n\nAlso, VMWare already announced that NSX-T 3.y will be the last release\nseries which supports KVM based OpenStack and they support only their\nown OpenStack distribution (VIO)[3].\n\nBased on the above items, we assume there would be no user interested\nin using puppet-neutron to deploy RHEL/Ubuntu based OpenStack with\nNSX-T integrated, and deprecate support for the plugin, so that we can\nremove the unused implementation completely after the Zed release.\n\n[1]\ne5b7a2f680604244a800e329d9afbbaedc4097e9 was merged in xena but has\nnever been proposed or merged to master.\n\n[2]\nhttp://lists.openstack.org/pipermail/openstack-discuss/2022-May/028573.html\n\n[3]\nhttps://docs.vmware.com/en/VMware-NSX-T-Data-Center/3.2/rn/vmware-nsxt-data-center-32-release-notes/index.html#feature--api-deprecations-and-behavior-changes\n\nChange-Id: I4cfd26bb39155f74008640094585a8328f8a7bca\n""}, {'number': 3, 'created': '2022-06-28 22:55:05.000000000', 'files': ['manifests/plugins/nsx.pp', 'lib/puppet/type/neutron_plugin_nsx.rb', 'releasenotes/notes/deprecate-nsx-039f4a3daaf6e56b.yaml', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c148a64307582445f7b1b6b3ae2cee4c7c6c0ea1', 'message': ""Deprecate support for NSX plugin\n\nThe NSX plugin repo looks unmaintained. No release was created since\nVictoria and the repository does not have a few stable branches\n(wallaby and xena). Master has not been updated for a while but only\na few stable branches are maintained. (eg. [1])\n\nWe asked project status in the mailing list[2] and I also tried to\ndirectly reach out to the maintainer but we haven't heard any response.\n\nAlso, VMWare already announced that NSX-T 3.y will be the last release\nseries which supports KVM based OpenStack and they support only their\nown OpenStack distribution (VIO)[3].\n\nBased on the above items, we assume there would be no user interested\nin using puppet-neutron to deploy RHEL/Ubuntu based OpenStack with\nNSX-T integrated, and deprecate support for the plugin, so that we can\nremove the unused implementation completely after the Zed release.\n\n[1]\ne5b7a2f680604244a800e329d9afbbaedc4097e9 was merged in xena but has\nnever been proposed or merged to master.\n\n[2]\nhttp://lists.openstack.org/pipermail/openstack-discuss/2022-May/028573.html\n\n[3]\nhttps://docs.vmware.com/en/VMware-NSX-T-Data-Center/3.2/rn/vmware-nsxt-data-center-32-release-notes/index.html#feature--api-deprecations-and-behavior-changes\n\nChange-Id: I4cfd26bb39155f74008640094585a8328f8a7bca\n""}]",0,847628,c148a64307582445f7b1b6b3ae2cee4c7c6c0ea1,13,3,3,9816,,,0,"Deprecate support for NSX plugin

The NSX plugin repo looks unmaintained. No release was created since
Victoria and the repository does not have a few stable branches
(wallaby and xena). Master has not been updated for a while but only
a few stable branches are maintained. (eg. [1])

We asked project status in the mailing list[2] and I also tried to
directly reach out to the maintainer but we haven't heard any response.

Also, VMWare already announced that NSX-T 3.y will be the last release
series which supports KVM based OpenStack and they support only their
own OpenStack distribution (VIO)[3].

Based on the above items, we assume there would be no user interested
in using puppet-neutron to deploy RHEL/Ubuntu based OpenStack with
NSX-T integrated, and deprecate support for the plugin, so that we can
remove the unused implementation completely after the Zed release.

[1]
e5b7a2f680604244a800e329d9afbbaedc4097e9 was merged in xena but has
never been proposed or merged to master.

[2]
http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028573.html

[3]
https://docs.vmware.com/en/VMware-NSX-T-Data-Center/3.2/rn/vmware-nsxt-data-center-32-release-notes/index.html#feature--api-deprecations-and-behavior-changes

Change-Id: I4cfd26bb39155f74008640094585a8328f8a7bca
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/28/847628/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/nsx.pp', 'releasenotes/notes/deprecate-nsx-039f4a3daaf6e56b.yaml', 'manifests/config.pp']",3,848b482fd57d350238af7acab8af9029e4043f10,deprecate-nsx,"# [*plugin_nsx_config*] # (optional) Manage configuration of plugins/vmware/nsx.ini # $plugin_nsx_config = undef, if $plugin_nsx_config != undef { warning('The plugin_nsx_config parameter is deprecated.') plugin_nsx_config_real = $plugin_nsx_config } else { plugin_nsx_config_real = {} } validate_legacy(Hash, 'validate_hash', $plugin_nsx_config_real) create_resources('neutron_plugin_nsx', $plugin_nsx_config_real)","# [*plugin_nsx_config*] # (optional) Manage configuration of plugins/vmware/nsx.ini # $plugin_nsx_config = {}, validate_legacy(Hash, 'validate_hash', $plugin_nsx_config) create_resources('neutron_plugin_nsx', $plugin_nsx_config)",21,6
openstack%2Fpuppet-tempest~stable%2Fyoga~Ife2c563213b9b4118d3925192a2ff45253bcee2b,openstack/puppet-tempest,stable/yoga,Ife2c563213b9b4118d3925192a2ff45253bcee2b,Allow arbitrary section name for *_id_setter,MERGED,2022-06-21 01:26:58.000000000,2022-08-01 10:01:39.000000000,2022-08-01 09:59:31.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-21 01:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/585d19bcbe4d0be5aed83493c9c9a3fdfb06b953', 'message': 'Allow arbitrary section name for *_id_setter\n\n... so that we can set the parameters in different sections.\n(eg. [database] db_flavor_ref instead of [compute] db_flavor_ref )\n\nImplementation to inject parameters to tempset.conf is replaced by\nthe tempest_config type and the ini_setting provider, so that we can\nuse the consistent implementation to modify tempest.conf .\n\nThis change also fixes ""flapping"" of database/db_flavor_ref. Now\nthe parameter is removed by the initial tempest_config resource then\nset by the tempest_glance_id_setter, when db_flavor_name is used.\n\nCloses-Bug: #1978848\nChange-Id: Ife2c563213b9b4118d3925192a2ff45253bcee2b\n(cherry picked from commit affbcb0cc621a11aab7ff342f0d9bc965cd0d7b3)\n'}, {'number': 2, 'created': '2022-07-04 00:08:42.000000000', 'files': ['lib/puppet/provider/tempest_neutron_net_id_setter/openstack.rb', 'lib/puppet/type/tempest_glance_id_setter.rb', 'lib/puppet/type/tempest_neutron_net_id_setter.rb', 'releasenotes/notes/bug-1978848-c1f78da88d406f98.yaml', 'lib/puppet/provider/tempest_glance_id_setter/openstack.rb', 'manifests/init.pp', 'lib/puppet/type/tempest_flavor_id_setter.rb', 'spec/unit/puppet/provider/ruby_spec.rb', 'lib/puppet/provider/tempest_flavor_id_setter/openstack.rb', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/e95a5feb9feaf86e4842ed8deb855b8e751195b3', 'message': 'Allow arbitrary section name for *_id_setter\n\n... so that we can set the parameters in different sections.\n(eg. [database] db_flavor_ref instead of [compute] db_flavor_ref )\n\nImplementation to inject parameters to tempset.conf is replaced by\nthe tempest_config type and the ini_setting provider, so that we can\nuse the consistent implementation to modify tempest.conf .\n\nThis change also fixes ""flapping"" of database/db_flavor_ref. Now\nthe parameter is removed by the initial tempest_config resource then\nset by the tempest_glance_id_setter, when db_flavor_name is used.\n\nCloses-Bug: #1978848\nChange-Id: Ife2c563213b9b4118d3925192a2ff45253bcee2b\n(cherry picked from commit affbcb0cc621a11aab7ff342f0d9bc965cd0d7b3)\n'}]",1,846812,e95a5feb9feaf86e4842ed8deb855b8e751195b3,12,4,2,9816,,,0,"Allow arbitrary section name for *_id_setter

... so that we can set the parameters in different sections.
(eg. [database] db_flavor_ref instead of [compute] db_flavor_ref )

Implementation to inject parameters to tempset.conf is replaced by
the tempest_config type and the ini_setting provider, so that we can
use the consistent implementation to modify tempest.conf .

This change also fixes ""flapping"" of database/db_flavor_ref. Now
the parameter is removed by the initial tempest_config resource then
set by the tempest_glance_id_setter, when db_flavor_name is used.

Closes-Bug: #1978848
Change-Id: Ife2c563213b9b4118d3925192a2ff45253bcee2b
(cherry picked from commit affbcb0cc621a11aab7ff342f0d9bc965cd0d7b3)
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/12/846812/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/tempest_neutron_net_id_setter/openstack.rb', 'lib/puppet/type/tempest_glance_id_setter.rb', 'lib/puppet/type/tempest_neutron_net_id_setter.rb', 'releasenotes/notes/bug-1978848-c1f78da88d406f98.yaml', 'lib/puppet/provider/tempest_glance_id_setter/openstack.rb', 'manifests/init.pp', 'lib/puppet/type/tempest_flavor_id_setter.rb', 'spec/unit/puppet/provider/ruby_spec.rb', 'lib/puppet/provider/tempest_flavor_id_setter/openstack.rb', 'spec/classes/tempest_init_spec.rb']",10,585d19bcbe4d0be5aed83493c9c9a3fdfb06b953,bug/1978848-stable/yoga, is_expected.to contain_tempest_glance_id_setter('compute/image_ref').with_image_name('cirros') is_expected.to contain_tempest_neutron_net_id_setter('network/public_network_id').with_network_name('public') is_expected.to contain_tempest_config('database/db_flavor_ref').with(:value => nil) is_expected.to contain_tempest_glance_id_setter('compute/image_ref').with( is_expected.to contain_tempest_glance_id_setter('compute/image_ref_alt').with( is_expected.to contain_tempest_neutron_net_id_setter('network/public_network_id').with( is_expected.to contain_tempest_flavor_id_setter('compute/flavor_ref').with( is_expected.to contain_tempest_flavor_id_setter('compute/flavor_ref_alt').with( is_expected.to contain_tempest_flavor_id_setter('database/db_flavor_ref').with(, is_expected.to contain_tempest_glance_id_setter('image_ref').with_image_name('cirros') is_expected.to contain_tempest_neutron_net_id_setter('public_network_id').with_network_name('public') is_expected.to contain_tempest_config('database/db_flavor_ref').with_value('<SERVICE DEFAULT>') is_expected.to contain_tempest_glance_id_setter('image_ref').with( is_expected.to contain_tempest_glance_id_setter('image_ref_alt').with( is_expected.to contain_tempest_neutron_net_id_setter('public_network_id').with( is_expected.to contain_tempest_flavor_id_setter('flavor_ref').with( is_expected.to contain_tempest_flavor_id_setter('flavor_ref_alt').with( is_expected.to contain_tempest_flavor_id_setter('db_flavor_ref').with(,119,195
openstack%2Fpuppet-neutron~master~I6ed1cc97cb7115bedcf0ee3204396828e8913835,openstack/puppet-neutron,master,I6ed1cc97cb7115bedcf0ee3204396828e8913835,Remove transformer to set [DEFAULT] router_id,MERGED,2022-07-07 14:59:09.000000000,2022-08-01 09:54:32.000000000,2022-08-01 09:53:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-07 14:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/d83e4bb749c5001020979b10f1a9cee4a2e692ab', 'message': 'Remove transformer to set [DEFAULT] router_id\n\n... because the parameter was removed from Neutron long ago[1] and it\nis no longer used since then.\n\n[1] 448bc8e5220d3633f9c9ee804de0a38c2d829d78\n\nChange-Id: I6ed1cc97cb7115bedcf0ee3204396828e8913835\n'}, {'number': 2, 'created': '2022-07-07 16:19:24.000000000', 'files': ['lib/puppet/type/neutron_l3_agent_config.rb', 'examples/neutron_l3_with_to_uuid.pp', 'releasenotes/notes/l3_agent_config-remove-transformer-4f61140e9c3df043.yaml', 'lib/puppet/provider/neutron_l3_agent_config/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/44d61b4d292b32373a73b5b481f133d911761a4c', 'message': 'Remove transformer to set [DEFAULT] router_id\n\nThe router_id parameter was removed from Neutron[1] and its support was\nremoved from puppet-neutron long ago[2]. The transformer has not been\nused since then.\n\n[1] 448bc8e5220d3633f9c9ee804de0a38c2d829d78\n[2] a30d2e7d77d78ada7cf25da18d6b04ce5d66f5ea\n\nChange-Id: I6ed1cc97cb7115bedcf0ee3204396828e8913835\n'}]",0,848971,44d61b4d292b32373a73b5b481f133d911761a4c,9,3,2,9816,,,0,"Remove transformer to set [DEFAULT] router_id

The router_id parameter was removed from Neutron[1] and its support was
removed from puppet-neutron long ago[2]. The transformer has not been
used since then.

[1] 448bc8e5220d3633f9c9ee804de0a38c2d829d78
[2] a30d2e7d77d78ada7cf25da18d6b04ce5d66f5ea

Change-Id: I6ed1cc97cb7115bedcf0ee3204396828e8913835
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/71/848971/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/neutron_l3_agent_config.rb', 'examples/neutron_l3_with_to_uuid.pp', 'releasenotes/notes/l3_agent_config-remove-transformer-4f61140e9c3df043.yaml', 'lib/puppet/provider/neutron_l3_agent_config/ini_setting.rb']",4,d83e4bb749c5001020979b10f1a9cee4a2e692ab,,," def to_uuid(name) neutron = Puppet::Provider::Neutron.new neutron.auth_neutron('router-show', ""#{name}"", '--format=value', '--column=id').chop end def from_uuid(uuid) neutron = Puppet::Provider::Neutron.new neutron.auth_neutron('router-show', ""#{uuid}"", '--format=value', '--column=name').chop end ",5,43
openstack%2Fpuppet-openstacklib~master~Idcdef57891491b31d8d85c1c08e91952b8f65f92,openstack/puppet-openstacklib,master,Idcdef57891491b31d8d85c1c08e91952b8f65f92,Remove unused os_package_type fact,MERGED,2022-06-21 00:54:34.000000000,2022-08-01 09:52:31.000000000,2022-08-01 09:51:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-21 00:54:34.000000000', 'files': ['lib/facter/os_package_type.rb', 'releasenotes/notes/remove-os_package_type-fact-9de4c7060b735a62.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/366b14128779b2799ffa998dfbe7dc2054243c18', 'message': 'Remove unused os_package_type fact\n\nWe removed usage of this fact from individual modules during Yoga, so\nare now ready to remove this fact.\n\nChange-Id: Idcdef57891491b31d8d85c1c08e91952b8f65f92\n'}]",3,846832,366b14128779b2799ffa998dfbe7dc2054243c18,14,3,1,9816,,,0,"Remove unused os_package_type fact

We removed usage of this fact from individual modules during Yoga, so
are now ready to remove this fact.

Change-Id: Idcdef57891491b31d8d85c1c08e91952b8f65f92
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/32/846832/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/facter/os_package_type.rb', 'releasenotes/notes/remove-os_package_type-fact-9de4c7060b735a62.yaml']",2,366b14128779b2799ffa998dfbe7dc2054243c18,,--- upgrade: - | The ``os_package_type`` fact has been removed. ,,4,39
openstack%2Fcharms.openstack~stable%2Fxena~I8ed6e2dfc7ce83c2e56fd072458e2ef189968e41,openstack/charms.openstack,stable/xena,I8ed6e2dfc7ce83c2e56fd072458e2ef189968e41,Fix use of ``openstack-release`` to determine codename,MERGED,2022-08-01 05:48:50.000000000,2022-08-01 09:44:34.000000000,2022-08-01 09:44:34.000000000,"[{'_account_id': 12549}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 05:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/528c6ed41baa8a5cf63ccf5db981392eec129d12', 'message': 'Fix use of ``openstack-release`` to determine codename\n\nThe current code will oportunisticly attempt to install the\n``openstack-release`` package, but it does so without configuring\nthe UCA sources.\n\nAttempt to configure sources to avoid charms getting stuck in a\nchicken and egg situation.\n\nCloses-Bug: #1951462\nChange-Id: I8ed6e2dfc7ce83c2e56fd072458e2ef189968e41\n(cherry picked from commit 55cc044ea8a3e15cc87cdef132d852f0f2c98e97)\n'}, {'number': 2, 'created': '2022-08-01 06:26:08.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/6d3722c2e9857a738e5b0f07172052d92b83f771', 'message': 'Fix use of ``openstack-release`` to determine codename\n\nThe current code will oportunisticly attempt to install the\n``openstack-release`` package, but it does so without configuring\nthe UCA sources.\n\nAttempt to configure sources to avoid charms getting stuck in a\nchicken and egg situation.\n\nCloses-Bug: #1951462\nChange-Id: I8ed6e2dfc7ce83c2e56fd072458e2ef189968e41\n(cherry picked from commit 55cc044ea8a3e15cc87cdef132d852f0f2c98e97)\n'}]",1,851539,6d3722c2e9857a738e5b0f07172052d92b83f771,9,3,2,13686,,,0,"Fix use of ``openstack-release`` to determine codename

The current code will oportunisticly attempt to install the
``openstack-release`` package, but it does so without configuring
the UCA sources.

Attempt to configure sources to avoid charms getting stuck in a
chicken and egg situation.

Closes-Bug: #1951462
Change-Id: I8ed6e2dfc7ce83c2e56fd072458e2ef189968e41
(cherry picked from commit 55cc044ea8a3e15cc87cdef132d852f0f2c98e97)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/39/851539/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py']",2,528c6ed41baa8a5cf63ccf5db981392eec129d12,bug/1951462-stable/xena," self.patch_object(self.target, 'configure_source') self.configure_source.assert_called_once()",,12,4
openstack%2Fcharms.openstack~stable%2Fxena~If42ad980ff2b0430eba24531eae9a80204768388,openstack/charms.openstack,stable/xena,If42ad980ff2b0430eba24531eae9a80204768388,core: Move package version helpers to BaseOpenStackCharmActions,MERGED,2022-08-01 05:48:21.000000000,2022-08-01 09:44:32.000000000,2022-08-01 09:44:32.000000000,"[{'_account_id': 12549}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 05:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/6118b89420b81be4c75b152a3fecd50dab21e672', 'message': 'core: Move package version helpers to BaseOpenStackCharmActions\n\nTo resolve a inter-dependency issue between the various package\nversion helpers and the UCA ``configure_source`` method, co-locate\nall of them in ``BaseOpenStackCharmActions``.\n\nPartial-Bug: #1951462\nChange-Id: If42ad980ff2b0430eba24531eae9a80204768388\n(cherry picked from commit dda431eaf92c3acae4f279a2ed0bf074a394f697)\n'}, {'number': 2, 'created': '2022-08-01 06:25:43.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/c0326dacc3ea05ebe46f52b4d62e7d3314776854', 'message': 'core: Move package version helpers to BaseOpenStackCharmActions\n\nTo resolve a inter-dependency issue between the various package\nversion helpers and the UCA ``configure_source`` method, co-locate\nall of them in ``BaseOpenStackCharmActions``.\n\nPartial-Bug: #1951462\nChange-Id: If42ad980ff2b0430eba24531eae9a80204768388\n(cherry picked from commit dda431eaf92c3acae4f279a2ed0bf074a394f697)\n'}]",1,851538,c0326dacc3ea05ebe46f52b4d62e7d3314776854,9,3,2,13686,,,0,"core: Move package version helpers to BaseOpenStackCharmActions

To resolve a inter-dependency issue between the various package
version helpers and the UCA ``configure_source`` method, co-locate
all of them in ``BaseOpenStackCharmActions``.

Partial-Bug: #1951462
Change-Id: If42ad980ff2b0430eba24531eae9a80204768388
(cherry picked from commit dda431eaf92c3acae4f279a2ed0bf074a394f697)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/38/851538/2 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py']",2,6118b89420b81be4c75b152a3fecd50dab21e672,bug/1951462-stable/xena, self.target.get_os_codename_package( self.target.get_os_codename_package( self.target.get_os_codename_package( self.target.get_os_codename_package( self.target.get_os_codename_package( self.target.get_os_codename_package(, chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package( chm_core.BaseOpenStackCharm.get_os_codename_package(,185,186
openstack%2Fcharm-vault~master~I46b93457c8a757189802ca2c2cdf31cc9c5a9516,openstack/charm-vault,master,I46b93457c8a757189802ca2c2cdf31cc9c5a9516,Fix use of get_chain,MERGED,2022-07-14 19:06:58.000000000,2022-08-01 09:44:13.000000000,2022-08-01 09:44:13.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-14 19:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/27ffaa6eb7dd95194849ff5def90bf86e7c2dad8', 'message': ""Fix use of get_chain\n\nA recent change[1] switched to the newer methods in\nhvac 11.2, but unfortunately the semantics between\nclient.secrets.pki.read_certificate() and client.read() are different,\nin that the latter returns None on InvalidPath, whereas the former\nallow the exception to bubble up.\n\nThis means that for the call sites here, we need to catch InvalidPath,\ninstead of the TypeError.\nThe original reason for TypeError was that the function\nwould end up calling None['key'] if read_certificate failed.\n\n[1]: https://review.opendev.org/c/openstack/charm-vault/+/848205\n\nChange-Id: I46b93457c8a757189802ca2c2cdf31cc9c5a9516\n""}, {'number': 2, 'created': '2022-07-14 19:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/eee9328f7a9f8273014e2ccc70396ddbdc985455', 'message': ""Fix use of get_chain\n\nA recent change[1] switched to the newer methods in\nhvac 11.2, but unfortunately the semantics between\nclient.secrets.pki.read_certificate() and client.read() are different,\nin that the latter returns None on InvalidPath, whereas the former\nallow the exception to bubble up.\n\nThis means that for the call sites here, we need to catch InvalidPath,\ninstead of the TypeError.\nThe original reason for TypeError was that the function\nwould end up calling None['key'] if read_certificate failed.\n\n[1]: https://review.opendev.org/c/openstack/charm-vault/+/848205\n\nChange-Id: I46b93457c8a757189802ca2c2cdf31cc9c5a9516\n""}, {'number': 3, 'created': '2022-07-28 01:11:50.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/212d2a7dba4ed5c13b53b5f4c264704abc4f2b2d', 'message': ""Fix use of get_chain\n\nA recent change[1] switched to the newer methods in\nhvac 11.2, but unfortunately the semantics between\nclient.secrets.pki.read_certificate() and client.read() are different,\nin that the latter returns None on InvalidPath, whereas the former\nallow the exception to bubble up.\n\nThis means that for the call sites here, we need to catch InvalidPath,\ninstead of the TypeError.\nThe original reason for TypeError was that the function\nwould end up calling None['key'] if read_certificate failed.\n\n[1]: https://review.opendev.org/c/openstack/charm-vault/+/848205\n\nChange-Id: I46b93457c8a757189802ca2c2cdf31cc9c5a9516\n""}]",7,849892,212d2a7dba4ed5c13b53b5f4c264704abc4f2b2d,19,3,3,34352,,,0,"Fix use of get_chain

A recent change[1] switched to the newer methods in
hvac 11.2, but unfortunately the semantics between
client.secrets.pki.read_certificate() and client.read() are different,
in that the latter returns None on InvalidPath, whereas the former
allow the exception to bubble up.

This means that for the call sites here, we need to catch InvalidPath,
instead of the TypeError.
The original reason for TypeError was that the function
would end up calling None['key'] if read_certificate failed.

[1]: https://review.opendev.org/c/openstack/charm-vault/+/848205

Change-Id: I46b93457c8a757189802ca2c2cdf31cc9c5a9516
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/92/849892/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/vault_pki.py', 'src/reactive/vault_handlers.py']",2,27ffaa6eb7dd95194849ff5def90bf86e7c2dad8,fix-get-chain," except ( vault.hvac.exceptions.VaultDown, vault.hvac.exceptions.InvalidPath, ):"," except (vault.hvac.exceptions.VaultDown, TypeError):",8,5
openstack%2Fpuppet-neutron~stable%2Fyoga~Ibc5cac99ebb1f23de08591c7ead4eff9225a7413,openstack/puppet-neutron,stable/yoga,Ibc5cac99ebb1f23de08591c7ead4eff9225a7413,Refactor unit tests for neutron::plugins::ml2::ovn,MERGED,2022-07-11 10:33:46.000000000,2022-08-01 09:41:37.000000000,2022-08-01 09:41:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-11 10:33:46.000000000', 'files': ['spec/classes/neutron_plugins_ml2_ovn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5b8072577ac9c93d83d159015f114d9bdbce85ef', 'message': 'Refactor unit tests for neutron::plugins::ml2::ovn\n\n... so that we can test both default values and overrides.\n\nChange-Id: Ibc5cac99ebb1f23de08591c7ead4eff9225a7413\n(cherry picked from commit bc4495ef32c18e7444dadb0b10b56500e802aad0)\n'}]",0,849217,5b8072577ac9c93d83d159015f114d9bdbce85ef,7,3,1,9816,,,0,"Refactor unit tests for neutron::plugins::ml2::ovn

... so that we can test both default values and overrides.

Change-Id: Ibc5cac99ebb1f23de08591c7ead4eff9225a7413
(cherry picked from commit bc4495ef32c18e7444dadb0b10b56500e802aad0)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/17/849217/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/neutron_plugins_ml2_ovn_spec.rb'],1,5b8072577ac9c93d83d159015f114d9bdbce85ef,," :ovn_nb_connection => '<SERVICE DEFAULT>', :ovn_sb_connection => '<SERVICE DEFAULT>', :ovn_nb_private_key => '<SERVICE DEFAULT>', :ovn_nb_certificate => '<SERVICE DEFAULT>', :ovn_nb_ca_cert => '<SERVICE DEFAULT>', :ovn_sb_private_key => '<SERVICE DEFAULT>', :ovn_sb_certificate => '<SERVICE DEFAULT>', :ovn_sb_ca_cert => '<SERVICE DEFAULT>', :ovsdb_connection_timeout => '<SERVICE DEFAULT>', :ovsdb_retry_max_interval => '<SERVICE DEFAULT>', :ovsdb_probe_interval => '<SERVICE DEFAULT>', :neutron_sync_mode => '<SERVICE DEFAULT>', :dvr_enabled => '<SERVICE DEFAULT>', :dns_servers => '<SERVICE DEFAULT>', :vhostuser_socket_dir => '<SERVICE DEFAULT>', :ovn_emit_need_to_frag => '<SERVICE DEFAULT>', :network_log_rate_limit => '<SERVICE DEFAULT>', :network_log_burst_limit => '<SERVICE DEFAULT>', :network_log_local_output_log_base => '<SERVICE DEFAULT>', shared_examples 'neutron::plugins::ml2::ovn' do let :p do default_params.merge(params) context 'with defaults' do it 'should configure defaults' do should contain_neutron_plugin_ml2('ovn/ovn_nb_connection').with_value(p[:ovn_nb_connection]) should contain_neutron_plugin_ml2('ovn/ovn_sb_connection').with_value(p[:ovn_sb_connection]) should contain_neutron_plugin_ml2('ovn/ovn_nb_private_key').with_value(p[:ovn_nb_private_key]) should contain_neutron_plugin_ml2('ovn/ovn_nb_certificate').with_value(p[:ovn_nb_certificate]) should contain_neutron_plugin_ml2('ovn/ovn_nb_ca_cert').with_value(p[:ovn_nb_ca_cert]) should contain_neutron_plugin_ml2('ovn/ovn_sb_private_key').with_value(p[:ovn_sb_private_key]) should contain_neutron_plugin_ml2('ovn/ovn_sb_certificate').with_value(p[:ovn_sb_certificate]) should contain_neutron_plugin_ml2('ovn/ovn_sb_ca_cert').with_value(p[:ovn_sb_ca_cert]) should contain_neutron_plugin_ml2('ovn/ovsdb_connection_timeout').with_value(p[:ovsdb_connection_timeout]) should contain_neutron_plugin_ml2('ovn/ovsdb_retry_max_interval').with_value(p[:ovsdb_retry_max_interval]) should contain_neutron_plugin_ml2('ovn/ovsdb_probe_interval').with_value(p[:ovsdb_probe_interval]) should contain_neutron_plugin_ml2('ovn/neutron_sync_mode').with_value(p[:neutron_sync_mode]) should contain_neutron_plugin_ml2('ovn/enable_distributed_floating_ip').with_value(p[:dvr_enabled]) should contain_neutron_plugin_ml2('ovn/dns_servers').with_value(p[:dns_servers]) should contain_neutron_plugin_ml2('ovn/vhost_sock_dir').with_value(p[:vhostuser_socket_dir]) should contain_neutron_plugin_ml2('ovn/ovn_emit_need_to_frag').with_value(p[:ovn_emit_need_to_frag]) should contain_neutron_plugin_ml2('network_log/rate_limit').with_value(p[:network_log_rate_limit]) should contain_neutron_plugin_ml2('network_log/burst_limit').with_value(p[:network_log_burst_limit]) should contain_neutron_plugin_ml2('network_log/local_output_log_base').with_value(p[:network_log_local_output_log_base]) context 'with parameters' do let :params do { :ovn_nb_connection => 'tcp:127.0.0.1:6641', :ovn_sb_connection => 'tcp:127.0.0.1:6642', :ovn_nb_private_key => 'nb_key', :ovn_nb_certificate => 'nb_cert', :ovn_nb_ca_cert => 'nb_ca_cert', :ovn_sb_private_key => 'sb_key', :ovn_sb_certificate => 'sb_cert', :ovn_sb_ca_cert => 'sb_ca_cert', :ovsdb_connection_timeout => 60, :ovsdb_retry_max_interval => 180, :ovsdb_probe_interval => 60000, :neutron_sync_mode => 'log', :dvr_enabled => false, :dns_servers => '8.8.8.8,10.10.10.10', :ovn_emit_need_to_frag => false, } it 'should configure given values' do should contain_neutron_plugin_ml2('ovn/ovn_nb_connection').with_value(p[:ovn_nb_connection]) should contain_neutron_plugin_ml2('ovn/ovn_sb_connection').with_value(p[:ovn_sb_connection]) should contain_neutron_plugin_ml2('ovn/ovn_nb_private_key').with_value(p[:ovn_nb_private_key]) should contain_neutron_plugin_ml2('ovn/ovn_nb_certificate').with_value(p[:ovn_nb_certificate]) should contain_neutron_plugin_ml2('ovn/ovn_nb_ca_cert').with_value(p[:ovn_nb_ca_cert]) should contain_neutron_plugin_ml2('ovn/ovn_sb_private_key').with_value(p[:ovn_sb_private_key]) should contain_neutron_plugin_ml2('ovn/ovn_sb_certificate').with_value(p[:ovn_sb_certificate]) should contain_neutron_plugin_ml2('ovn/ovn_sb_ca_cert').with_value(p[:ovn_sb_ca_cert]) should contain_neutron_plugin_ml2('ovn/ovsdb_connection_timeout').with_value(p[:ovsdb_connection_timeout]) should contain_neutron_plugin_ml2('ovn/ovsdb_retry_max_interval').with_value(p[:ovsdb_retry_max_interval]) should contain_neutron_plugin_ml2('ovn/ovsdb_probe_interval').with_value(p[:ovsdb_probe_interval]) should contain_neutron_plugin_ml2('ovn/neutron_sync_mode').with_value(p[:neutron_sync_mode]) should contain_neutron_plugin_ml2('ovn/enable_distributed_floating_ip').with_value(p[:dvr_enabled]) should contain_neutron_plugin_ml2('ovn/dns_servers').with_value(p[:dns_servers]) should contain_neutron_plugin_ml2('ovn/vhost_sock_dir').with_value(p[:vhostuser_socket_dir]) should contain_neutron_plugin_ml2('ovn/ovn_emit_need_to_frag').with_value(p[:ovn_emit_need_to_frag]) should contain_neutron_plugin_ml2('network_log/rate_limit').with_value(p[:network_log_rate_limit]) should contain_neutron_plugin_ml2('network_log/burst_limit').with_value(p[:network_log_burst_limit]) should contain_neutron_plugin_ml2('network_log/local_output_log_base').with_value(p[:network_log_local_output_log_base]) end end context 'with invalid neutron_sync_mode' do let :params do { :neutron_sync_mode => 'invalid' } end it { should raise_error(Puppet::Error, /Invalid value for neutron_sync_mode parameter/) } end context 'with parameters set by arrays' do let :params do { :dns_servers => ['8.8.8.8', '10.10.10.10'], } end it 'should configure comma-separated strings' do should contain_neutron_plugin_ml2('ovn/dns_servers').with_value(p[:dns_servers].join(',')) facts.merge(OSDefaults.get_facts()) it_behaves_like 'neutron::plugins::ml2::ovn'"," :ovn_nb_connection => 'tcp:127.0.0.1:6641', :ovn_sb_connection => 'tcp:127.0.0.1:6642', :ovn_nb_private_key => 'nb_key', :ovn_nb_certificate => 'nb_cert', :ovn_nb_ca_cert => 'nb_ca_cert', :ovn_sb_private_key => 'sb_key', :ovn_sb_certificate => 'sb_cert', :ovn_sb_ca_cert => 'sb_ca_cert', :ovsdb_connection_timeout => 60, :ovsdb_retry_max_interval => 180, :ovsdb_probe_interval => 60000, :neutron_sync_mode => 'log', :dvr_enabled => false, :dns_servers => ['8.8.8.8', '10.10.10.10'], :ovn_emit_need_to_frag => false, shared_examples 'neutron ovn plugin' do before do params.merge!(default_params) it 'should perform default configuration of' do should contain_neutron_plugin_ml2('ovn/ovn_nb_connection').with_value(params[:ovn_nb_connection]) should contain_neutron_plugin_ml2('ovn/ovn_sb_connection').with_value(params[:ovn_sb_connection]) should contain_neutron_plugin_ml2('ovn/ovn_nb_private_key').with_value(params[:ovn_nb_private_key]) should contain_neutron_plugin_ml2('ovn/ovn_nb_certificate').with_value(params[:ovn_nb_certificate]) should contain_neutron_plugin_ml2('ovn/ovn_nb_ca_cert').with_value(params[:ovn_nb_ca_cert]) should contain_neutron_plugin_ml2('ovn/ovn_sb_private_key').with_value(params[:ovn_sb_private_key]) should contain_neutron_plugin_ml2('ovn/ovn_sb_certificate').with_value(params[:ovn_sb_certificate]) should contain_neutron_plugin_ml2('ovn/ovn_sb_ca_cert').with_value(params[:ovn_sb_ca_cert]) should contain_neutron_plugin_ml2('ovn/ovsdb_connection_timeout').with_value(params[:ovsdb_connection_timeout]) should contain_neutron_plugin_ml2('ovn/ovsdb_retry_max_interval').with_value(params[:ovsdb_retry_max_interval]) should contain_neutron_plugin_ml2('ovn/ovsdb_probe_interval').with_value(params[:ovsdb_probe_interval]) should contain_neutron_plugin_ml2('ovn/neutron_sync_mode').with_value(params[:neutron_sync_mode]) should contain_neutron_plugin_ml2('ovn/enable_distributed_floating_ip').with_value(params[:dvr_enabled]) should contain_neutron_plugin_ml2('ovn/dns_servers').with_value(params[:dns_servers].join(',')) should contain_neutron_plugin_ml2('ovn/vhost_sock_dir').with_value('<SERVICE DEFAULT>') should contain_neutron_plugin_ml2('ovn/ovn_emit_need_to_frag').with_value(params[:ovn_emit_need_to_frag]) should contain_neutron_plugin_ml2('network_log/rate_limit').with_value('<SERVICE DEFAULT>') should contain_neutron_plugin_ml2('network_log/burst_limit').with_value('<SERVICE DEFAULT>') should contain_neutron_plugin_ml2('network_log/local_output_log_base').with_value('<SERVICE DEFAULT>') end end shared_examples 'Validating parameters' do let :params do {} end before :each do params.clear params.merge!(default_params) params.merge!(:vhostuser_socket_dir => 'test') end it 'should fail with invalid neutron_sync_mode' do params[:neutron_sync_mode] = 'invalid' should raise_error(Puppet::Error, /Invalid value for neutron_sync_mode parameter/) end it 'should contain valid vhostuser socket dir' do should contain_neutron_plugin_ml2('ovn/vhost_sock_dir').with_value('test') end context 'with DVR' do before :each do params.merge!(:dvr_enabled => true) end it 'should enable DVR mode' do should contain_neutron_plugin_ml2('ovn/enable_distributed_floating_ip').with_value(params[:dvr_enabled]) context 'with emit need to fragment enabled' do before :each do params.merge!(:ovn_emit_need_to_frag => true) it 'should enable emit need to fragment option' do should contain_neutron_plugin_ml2('ovn/ovn_emit_need_to_frag').with_value(params[:ovn_emit_need_to_frag]) facts.merge(OSDefaults.get_facts({:processorcount => 8})) it_behaves_like 'neutron ovn plugin' it_behaves_like 'Validating parameters'",109,75
openstack%2Fpuppet-neutron~master~I52a107dccedae266c312c938203d3facfea83a14,openstack/puppet-neutron,master,I52a107dccedae266c312c938203d3facfea83a14,Rename acceptance spec files to explain order,MERGED,2022-07-10 04:14:54.000000000,2022-08-01 09:41:34.000000000,2022-08-01 09:41:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-10 04:14:54.000000000', 'files': ['spec/acceptance/99_neutron_config_spec.rb', 'spec/acceptance/10_basic_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/666e2b3e3aa865119321807e018f8ceb3e4c8dc0', 'message': 'Rename acceptance spec files to explain order\n\nThe acceptance tests for config resources should be executed AFTER\ndeployment scenario tests, otherwise the deployment scenario tests can\nfail because of incomplete file contents left.\n\nThis change ensures that ordering by adding the prefix. Currently this\ndoes not cause any change but allows us to avoid undesired swap which\nis likely to cause test failure.\n\nChange-Id: I52a107dccedae266c312c938203d3facfea83a14\n'}]",0,849231,666e2b3e3aa865119321807e018f8ceb3e4c8dc0,7,3,1,9816,,,0,"Rename acceptance spec files to explain order

The acceptance tests for config resources should be executed AFTER
deployment scenario tests, otherwise the deployment scenario tests can
fail because of incomplete file contents left.

This change ensures that ordering by adding the prefix. Currently this
does not cause any change but allows us to avoid undesired swap which
is likely to cause test failure.

Change-Id: I52a107dccedae266c312c938203d3facfea83a14
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/31/849231/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/99_neutron_config_spec.rb', 'spec/acceptance/10_basic_neutron_spec.rb']",2,666e2b3e3aa865119321807e018f8ceb3e4c8dc0,,,,0,0
openstack%2Fpuppet-neutron~master~I77bd90ad2384f8649f744aa2750591cafdff0498,openstack/puppet-neutron,master,I77bd90ad2384f8649f744aa2750591cafdff0498,ovn: Accept arrays for ovn_*_connection parameters,MERGED,2022-06-16 01:05:44.000000000,2022-08-01 09:41:31.000000000,2022-08-01 09:41:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 01:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5a136f9aba6448a1136f4441e8066c517e3a31a8', 'message': 'ovn: Accept arrays for ovn_*_connection parameters\n\nThese parameters are regarded as StrOpt, but can accept comma-seprated\nstrings.\n\nChange-Id: I77bd90ad2384f8649f744aa2750591cafdff0498\n'}, {'number': 2, 'created': '2022-06-16 01:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/202102e1c74b50fc881511bd1a1a0bbc3e81ed1a', 'message': 'ovn: Accept arrays for ovn_*_connection parameters\n\nThese parameters are regarded as StrOpt, but can accept comma-seprated\nstrings.\n\nChange-Id: I77bd90ad2384f8649f744aa2750591cafdff0498\n'}, {'number': 3, 'created': '2022-06-16 01:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/014d2755d06c1d10081903500d25f864f33a9334', 'message': 'ovn: Accept arrays for ovn_*_connection parameters\n\nThese parameters are regarded as StrOpt, but can accept comma-seprated\nstrings.\n\nChange-Id: I77bd90ad2384f8649f744aa2750591cafdff0498\n'}, {'number': 4, 'created': '2022-06-16 04:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/673bf4c27c96a1c5e356c56a079593594b44b8fa', 'message': 'ovn: Accept arrays for ovn_*_connection parameters\n\nThese parameters are regarded as StrOpt, but can accept comma-seprated\nstrings.\n\nChange-Id: I77bd90ad2384f8649f744aa2750591cafdff0498\n'}, {'number': 5, 'created': '2022-06-16 05:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c81189f83e12d69dec30df90476aa147dd820d65', 'message': 'ovn: Accept arrays for ovn_*_connection parameters\n\nThese parameters are regarded as StrOpt, but can accept comma-seprated\nstrings.\n\nChange-Id: I77bd90ad2384f8649f744aa2750591cafdff0498\n'}, {'number': 6, 'created': '2022-07-11 10:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/aeacd86a312930fb04348d25eacc1c12912110c6', 'message': 'ovn: Accept arrays for ovn_*_connection parameters\n\nThese parameters are regarded as StrOpt, but can accept comma-seprated\nstrings.\n\nChange-Id: I77bd90ad2384f8649f744aa2750591cafdff0498\n'}, {'number': 7, 'created': '2022-07-26 15:02:07.000000000', 'files': ['spec/classes/neutron_plugins_ml2_ovn_spec.rb', 'manifests/agents/ovn_metadata.pp', 'manifests/plugins/ml2/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8d07b67026f5807b30cb5982b13a754d760b05c8', 'message': 'ovn: Accept arrays for ovn_*_connection parameters\n\nThese parameters are regarded as StrOpt, but can accept comma-seprated\nstrings.\n\nChange-Id: I77bd90ad2384f8649f744aa2750591cafdff0498\n'}]",0,846076,8d07b67026f5807b30cb5982b13a754d760b05c8,17,3,7,9816,,,0,"ovn: Accept arrays for ovn_*_connection parameters

These parameters are regarded as StrOpt, but can accept comma-seprated
strings.

Change-Id: I77bd90ad2384f8649f744aa2750591cafdff0498
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/76/846076/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_ml2_ovn_spec.rb', 'manifests/plugins/ml2/ovn.pp']",2,5a136f9aba6448a1136f4441e8066c517e3a31a8,ovn-conns-list," 'ovn/ovn_nb_connection' : value => any2array($ovn_nb_connection, ','); 'ovn/ovn_sb_connection' : value => any2array($ovn_sb_connection, ',');", 'ovn/ovn_nb_connection' : value => $ovn_nb_connection; 'ovn/ovn_sb_connection' : value => $ovn_sb_connection;,16,2
openstack%2Fpuppet-swift~master~I804367f36e5f9b80fc9c43078135420e8241f129,openstack/puppet-swift,master,I804367f36e5f9b80fc9c43078135420e8241f129,Remove warning about old incoming/outcoming chmod,MERGED,2022-07-07 16:03:12.000000000,2022-08-01 09:41:09.000000000,2022-08-01 09:41:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-07 16:03:12.000000000', 'files': ['manifests/storage/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/15054948ed77b0ce92e2eaa88cf21a41e6f0ce98', 'message': 'Remove warning about old incoming/outcoming chmod\n\nThis removes the warning messages to prepare changing the default\nvalues. These should have been removed when we made actual change[1].\n\n[1] e52ebb053b62b61bfe26cdf338d71a2f47d2d0e9\n\nChange-Id: I804367f36e5f9b80fc9c43078135420e8241f129\n'}]",1,848981,15054948ed77b0ce92e2eaa88cf21a41e6f0ce98,9,3,1,9816,,,0,"Remove warning about old incoming/outcoming chmod

This removes the warning messages to prepare changing the default
values. These should have been removed when we made actual change[1].

[1] e52ebb053b62b61bfe26cdf338d71a2f47d2d0e9

Change-Id: I804367f36e5f9b80fc9c43078135420e8241f129
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/81/848981/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/storage/server.pp'],1,15054948ed77b0ce92e2eaa88cf21a41e6f0ce98,,, if ($incoming_chmod == '0644') { warning('The default incoming_chmod set to 0644 may yield in error prone directories and will be changed in a later release.') } if ($outgoing_chmod == '0644') { warning('The default outgoing_chmod set to 0644 may yield in error prone directories and will be changed in a later release.') } ,0,8
openstack%2Fpuppet-swift~master~Ic9ca9fb952e4a678deeb1b8e04c09ba620b8ae20,openstack/puppet-swift,master,Ic9ca9fb952e4a678deeb1b8e04c09ba620b8ae20,Fix deprecation warning by validate_legacy,MERGED,2022-07-08 05:17:08.000000000,2022-08-01 09:41:06.000000000,2022-08-01 09:41:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-08 05:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/2b1551730e374fcfacc7e7ada590f7fb6b18d1d4', 'message': 'Fix deprecatuion warning caused by wrong type in validate_legacy\n\nCurrently the swift::storage::node defined type shows the following\nwarning when zone parameter is set by a string value.\n\n~~~\nWarning: validate_legacy(validate_re) expects an Integer value, got\nString at ...\n~~~\n\nThis change fixes usage of the validate_legacy function to avoid\nthat warning.\n\nChange-Id: Ic9ca9fb952e4a678deeb1b8e04c09ba620b8ae20\n'}, {'number': 2, 'created': '2022-07-08 05:22:15.000000000', 'files': ['manifests/storage/node.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4be2336843bf293d44bf8aa9bf9a5b5af583797c', 'message': 'Fix deprecation warning by validate_legacy\n\nCurrently the swift::storage::node defined type shows the warning\nmessage below, followed by huge call trace log, when zone parameter is\nset by a string value.\n\n~~~\nWarning: validate_legacy(validate_re) expects an Integer value, got\nString at ...\n~~~\n\nThis change fixes usage of the validate_legacy function to avoid\nthat warning.\n\nChange-Id: Ic9ca9fb952e4a678deeb1b8e04c09ba620b8ae20\n'}]",0,849064,4be2336843bf293d44bf8aa9bf9a5b5af583797c,8,3,2,9816,,,0,"Fix deprecation warning by validate_legacy

Currently the swift::storage::node defined type shows the warning
message below, followed by huge call trace log, when zone parameter is
set by a string value.

~~~
Warning: validate_legacy(validate_re) expects an Integer value, got
String at ...
~~~

This change fixes usage of the validate_legacy function to avoid
that warning.

Change-Id: Ic9ca9fb952e4a678deeb1b8e04c09ba620b8ae20
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/64/849064/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/storage/node.pp'],1,2b1551730e374fcfacc7e7ada590f7fb6b18d1d4,type-warning," if ! $zone =~ Integer { validate_legacy(Pattern[/^\d+$/], 'validate_re', $zone, ['^\d+$', 'The zone parameter must be an integer']) }"," validate_legacy(Integer, 'validate_re', $zone, ['^\d+$', 'The zone parameter must be an integer'])",4,2
openstack%2Fpuppet-oslo~stable%2Fwallaby~Id183859e7cb936e1f70abb1bb26e071dd19b82a5,openstack/puppet-oslo,stable/wallaby,Id183859e7cb936e1f70abb1bb26e071dd19b82a5,Do not convert policy_dirs to comma-separated list,MERGED,2022-06-24 12:42:41.000000000,2022-08-01 09:33:52.000000000,2022-08-01 09:33:52.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-24 12:42:41.000000000', 'files': ['spec/defines/oslo_policy_spec.rb', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/4f7a3b68c9c580cafc3142c7887df934bfa7f1ce', 'message': 'Do not convert policy_dirs to comma-separated list\n\nThe oslo_policy/policy_dirs parameter is not ListOpt but MultiStrOpt,\nthus it expects multi line configruation instead of a comma separeted\nlist.\n\nCloses-Bug: #1922044\nChange-Id: Id183859e7cb936e1f70abb1bb26e071dd19b82a5\n(cherry picked from commit 3ae2625ea803b9d8d2522819323a61abd4d67435)\n'}]",0,847440,4f7a3b68c9c580cafc3142c7887df934bfa7f1ce,9,4,1,9816,,,0,"Do not convert policy_dirs to comma-separated list

The oslo_policy/policy_dirs parameter is not ListOpt but MultiStrOpt,
thus it expects multi line configruation instead of a comma separeted
list.

Closes-Bug: #1922044
Change-Id: Id183859e7cb936e1f70abb1bb26e071dd19b82a5
(cherry picked from commit 3ae2625ea803b9d8d2522819323a61abd4d67435)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/40/847440/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_policy_spec.rb', 'manifests/policy.pp']",2,4f7a3b68c9c580cafc3142c7887df934bfa7f1ce,bug/1922044-stable/wallaby," 'oslo_policy/policy_dirs' => { value => $policy_dirs },"," if !is_service_default($policy_dirs) { $policy_dirs_orig = join(any2array($policy_dirs), ',') } else { $policy_dirs_orig = $policy_dirs } 'oslo_policy/policy_dirs' => { value => $policy_dirs_orig },",3,20
openstack%2Fpuppet-keystone~master~I18a8ced73197efe96964d760c3a97703f8d8b6b9,openstack/puppet-keystone,master,I18a8ced73197efe96964d760c3a97703f8d8b6b9,Remove parse logic for openstacclient < 1.9.0,MERGED,2022-07-10 23:54:54.000000000,2022-08-01 09:25:05.000000000,2022-08-01 09:25:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-10 23:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/27a92b92ba29e2c36a502774d4b875bafca7788a', 'message': ""Remove parse logic for openstacclient < 1.9.0\n\n... because that version is quite old and we don't expect it is still\nused.\n\nThis also updates the output string used in unit tests according to\nthe one in newer versions.\n\nChange-Id: I18a8ced73197efe96964d760c3a97703f8d8b6b9\n""}, {'number': 2, 'created': '2022-07-11 02:06:55.000000000', 'files': ['lib/puppet/provider/keystone_identity_provider/openstack.rb', 'spec/unit/provider/keystone_identity_provider/openstack_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b8dfd90084e5685b9f0801b03cc841f2fd4d8d60', 'message': ""Remove parse logic for openstacclient < 1.9.0\n\n... because that version is quite old and we don't expect it is still\nused.\n\nThis also updates the output string used in unit tests according to\nthe one in newer versions.\n\nChange-Id: I18a8ced73197efe96964d760c3a97703f8d8b6b9\n""}]",0,849245,b8dfd90084e5685b9f0801b03cc841f2fd4d8d60,10,4,2,9816,,,0,"Remove parse logic for openstacclient < 1.9.0

... because that version is quite old and we don't expect it is still
used.

This also updates the output string used in unit tests according to
the one in newer versions.

Change-Id: I18a8ced73197efe96964d760c3a97703f8d8b6b9
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/45/849245/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/keystone_identity_provider/openstack.rb', 'spec/unit/provider/keystone_identity_provider/openstack_spec.rb']",2,27a92b92ba29e2c36a502774d4b875bafca7788a,,"remote_ids=""entityid_idp1, http://entityid_idp2/saml/meta, 3""remote_ids=""entityid_idp1, http://entityid_idp2/saml/meta, 3""remote_ids=""entityid_idp1, http://entityid_idp2/saml/meta, 3""remote_ids="""" let(:remote_ids) do [ ""http://remoteid?id=idp_one&name=ldap, http://remoteid_2?id='idp'"", ['http://remoteid?id=idp_one&name=ldap', ""http://remoteid_2?id='idp'""] ] it 'should handle the new output' do expect(described_class.clean_remote_ids(remote_ids[0])).to eq(remote_ids[1])","remote_ids=""[u'entityid_idp1', u'http://entityid_idp2/saml/meta', u'3']""remote_ids=""[u'entityid_idp1', u'http://entityid_idp2/saml/meta', u'3']""remote_ids=""[u'entityid_idp1', u'http://entityid_idp2/saml/meta', u'3']""remote_ids=""[]"" context 'before python-openstackclient/+bug/1478995' do let(:edge_cases_remote_ids) do { %q|[u'http://remoteid?id=idp_one&name=ldap', u""http://remoteid_2?id='idp'""]| => ['http://remoteid?id=idp_one&name=ldap', ""http://remoteid_2?id='idp'""], %q|[u'http://remoteid?id=idp_one&name=ldap']| => ['http://remoteid?id=idp_one&name=ldap'] } end it 'should handle tricky cases' do described_class.expects(:openstack) .with('--version', '', []) .twice .returns(""openstack 1.7.0\n"") edge_cases_remote_ids.each do |edge_case, solution| expect(described_class.clean_remote_ids(edge_case)).to eq(solution) end end context 'after python-openstackclient/+bug/1478995' do let(:remote_ids) do [ ""http://remoteid?id=idp_one&name=ldap, http://remoteid_2?id='idp'"", ['http://remoteid?id=idp_one&name=ldap', ""http://remoteid_2?id='idp'""] ] end it 'should handle the new output' do described_class.expects(:openstack) .with('--version', '', []) .once .returns(""openstack 1.9.0\n"") expect(described_class.clean_remote_ids(remote_ids[0])).to eq(remote_ids[1]) end",12,64
openstack%2Fpuppet-ironic~master~I4ebf80af631f1e33cca5c8c0525828a8152e290a,openstack/puppet-ironic,master,I4ebf80af631f1e33cca5c8c0525828a8152e290a,Get rid of unnecessary ensure_resource,MERGED,2022-06-02 00:31:54.000000000,2022-08-01 09:24:23.000000000,2022-08-01 09:24:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-02 00:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b362a52aadc0ca7c3659e9ebb7c83358b8da9d2f', 'message': 'Get rid of unnecessary ensure_resource\n\nensure_resource or ensure_package is not required unless the package\nis defined in multiple manifests. This removes unnecessary usage to\nsimplify resource definitions.\n\nChange-Id: I4ebf80af631f1e33cca5c8c0525828a8152e290a\n'}, {'number': 2, 'created': '2022-06-02 01:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7d1b8fa068f6cb11e6a1fbd273e31c3d9cc1fe17', 'message': 'Get rid of unnecessary ensure_resource\n\nensure_resource or ensure_package is not required unless the package\nis defined in multiple manifests. This removes unnecessary usage to\nsimplify resource definitions.\n\nChange-Id: I4ebf80af631f1e33cca5c8c0525828a8152e290a\n'}, {'number': 3, 'created': '2022-06-02 01:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/02d42273dd64b1eb8a01f8ac99ced53b14e6cae0', 'message': 'Get rid of unnecessary ensure_resource\n\nensure_resource or ensure_package is not required unless the package\nis defined in multiple manifests. This removes unnecessary usage to\nsimplify resource definitions.\n\nChange-Id: I4ebf80af631f1e33cca5c8c0525828a8152e290a\n'}, {'number': 4, 'created': '2022-07-13 01:38:52.000000000', 'files': ['manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f018d2aadebe4340a14d2cc1eb2163d398ee730a', 'message': 'Get rid of unnecessary ensure_resource\n\nensure_resource or ensure_package is not required unless the package\nis defined in multiple manifests. This removes unnecessary usage to\nsimplify resource definitions.\n\nChange-Id: I4ebf80af631f1e33cca5c8c0525828a8152e290a\n'}]",0,844346,f018d2aadebe4340a14d2cc1eb2163d398ee730a,11,3,4,9816,,,0,"Get rid of unnecessary ensure_resource

ensure_resource or ensure_package is not required unless the package
is defined in multiple manifests. This removes unnecessary usage to
simplify resource definitions.

Change-Id: I4ebf80af631f1e33cca5c8c0525828a8152e290a
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/46/844346/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/pxe.pp'],1,b362a52aadc0ca7c3659e9ebb7c83358b8da9d2f,," # NOTE(tkajinam): ironic-common package is also installed by the base ironic # class so here we need ensure_resource package { 'tftp-server': ensure => $package_ensure, name => $::ironic::params::tftpd_package, tag => ['openstack', 'ironic-ipxe', 'ironic-support-package'], } package { 'syslinux': } package { 'ipxe': } package { 'grub-efi': } package { 'shim': }"," ensure_resource( 'package', 'tftp-server', { 'ensure' => $package_ensure, 'name' => $::ironic::params::tftpd_package, 'tag' => ['openstack', 'ironic-ipxe', 'ironic-support-package'], }) ensure_resource( 'package', 'syslinux', { }) ensure_resource( 'package', 'ipxe', { }) ensure_resource( 'package', 'grub-efi', { }) ensure_resource( 'package', 'shim', { })",15,13
openstack%2Fpuppet-octavia~master~Ida326ccb72759d843cff95ffc72f7ffb9c4cf71a,openstack/puppet-octavia,master,Ida326ccb72759d843cff95ffc72f7ffb9c4cf71a,Do not show passphrase even if it is invalid,MERGED,2022-04-27 06:07:13.000000000,2022-08-01 09:20:56.000000000,2022-08-01 09:20:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 06:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/d572515bd961fe1a75010406135fb66600a540bc', 'message': 'Do not show passphrase even if it is invalid\n\n... even when validation fails. Showing the invalid passphrase might\nallow people to guess the correct one.\n\nChange-Id: Ida326ccb72759d843cff95ffc72f7ffb9c4cf71a\n'}, {'number': 2, 'created': '2022-06-30 01:11:08.000000000', 'files': ['manifests/certificates.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/314bfff89c38a8b669aa07947501a6054105c8ff', 'message': 'Do not show passphrase even if it is invalid\n\n... even when validation fails. Showing the invalid passphrase might\nallow people to guess the correct one.\n\nChange-Id: Ida326ccb72759d843cff95ffc72f7ffb9c4cf71a\n'}]",1,839467,314bfff89c38a8b669aa07947501a6054105c8ff,9,3,2,9816,,,0,"Do not show passphrase even if it is invalid

... even when validation fails. Showing the invalid passphrase might
allow people to guess the correct one.

Change-Id: Ida326ccb72759d843cff95ffc72f7ffb9c4cf71a
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/67/839467/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/certificates.pp'],1,d572515bd961fe1a75010406135fb66600a540bc,, if length($server_certs_key_passphrase)!=32 { fail('server_certs_key_passphrase must be 32 characters long.') } ," if length($server_certs_key_passphrase)!=32 { fail(""The passphrase '${server_certs_key_passphrase}' is invalid for server_certs_key_passphrase. Please provide a 32 characters passphrase."") }",4,2
openstack%2Fpuppet-octavia~master~I697fdbef762c69bb1494eae1cfa8252a2bd2c9b3,openstack/puppet-octavia,master,I697fdbef762c69bb1494eae1cfa8252a2bd2c9b3,Allow (more) customization of amphora log offloading,MERGED,2022-07-11 07:13:57.000000000,2022-08-01 09:17:28.000000000,2022-08-01 09:16:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-11 07:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/20f04ff45057b91e021640d9fc2d80671d186a80', 'message': 'Allow (more) customization of amphora log offloading\n\nThis change extends coverage of [amphora_agent] options so that users\ncan customize these parameters.\n\nEspecially the log_protocol parameter is required to use TCP protocol\ninstead of UDP protocol for log transferring, for more robust logging.\n\nChange-Id: I697fdbef762c69bb1494eae1cfa8252a2bd2c9b3\n'}, {'number': 2, 'created': '2022-07-11 07:15:53.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/amphora-log-offloading-opts-4aac954e374e75ff.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/02965a6077da2c10f936cbf3d5d262cc96bdf489', 'message': 'Allow (more) customization of amphora log offloading\n\nThis change extends coverage of [amphora_agent] options so that users\ncan customize these parameters.\n\nEspecially the log_protocol parameter is required to use TCP protocol\ninstead of UDP protocol for log transferring, for more robust logging.\n\nChange-Id: I697fdbef762c69bb1494eae1cfa8252a2bd2c9b3\n'}]",0,849277,02965a6077da2c10f936cbf3d5d262cc96bdf489,9,3,2,9816,,,0,"Allow (more) customization of amphora log offloading

This change extends coverage of [amphora_agent] options so that users
can customize these parameters.

Especially the log_protocol parameter is required to use TCP protocol
instead of UDP protocol for log transferring, for more robust logging.

Change-Id: I697fdbef762c69bb1494eae1cfa8252a2bd2c9b3
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/77/849277/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/amphora-log-offloading-opts-4aac954e374e75ff.yaml']",3,20f04ff45057b91e021640d9fc2d80671d186a80,log-offloading-opts,"--- features: - | The ``octavia::controller`` class now supports the following parameters, to customize behavior of the log offloading feature. - ``log_protocol`` - ``log_retry_count`` - ``log_retry_interval`` - ``log_queue_size`` - ``logging_template_override`` ",,57,0
openstack%2Fpuppet-ironic~master~I30fef88b425c2729acf860d489e9fb6a493c5a4e,openstack/puppet-ironic,master,I30fef88b425c2729acf860d489e9fb6a493c5a4e,Add deploy_callback_timeout parameter,MERGED,2022-07-26 15:04:25.000000000,2022-08-01 09:16:33.000000000,2022-08-01 09:15:22.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 15:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3fb9d93e54d3c40e3fd0b8d2ed607e63d7b38fb9', 'message': 'Add deploy_callback_timeout parameter\n\nChange-Id: I30fef88b425c2729acf860d489e9fb6a493c5a4e\n'}, {'number': 2, 'created': '2022-07-27 12:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/327d50a04df3006a96e4d8d249cc2f08b5ca8117', 'message': 'Add deploy_callback_timeout parameter\n\nChange-Id: I30fef88b425c2729acf860d489e9fb6a493c5a4e\n'}, {'number': 3, 'created': '2022-07-27 15:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/c49f2a401e467a26d3e94f32e68b6f75658a9c0f', 'message': 'Add deploy_callback_timeout parameter\n\nChange-Id: I30fef88b425c2729acf860d489e9fb6a493c5a4e\n'}, {'number': 4, 'created': '2022-07-27 15:57:35.000000000', 'files': ['manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'releasenotes/notes/conductor-deploy_callback_timeout-0f415dee2dd2c181.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/36a824202e5cb802ce437b643a2c3f7d5b8cdb8e', 'message': 'Add deploy_callback_timeout parameter\n\nChange-Id: I30fef88b425c2729acf860d489e9fb6a493c5a4e\n'}]",8,851040,36a824202e5cb802ce437b643a2c3f7d5b8cdb8e,17,3,4,34320,,,0,"Add deploy_callback_timeout parameter

Change-Id: I30fef88b425c2729acf860d489e9fb6a493c5a4e
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/40/851040/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb']",2,3fb9d93e54d3c40e3fd0b8d2ed607e63d7b38fb9,add_deploy_callback_timeout_param," :deploy_callback_timeout => 1800, is_expected.to contain_ironic_config('conductor/deploy_callback_timeout').with_value(p[:deploy_callback_timeout])",,9,0
openstack%2Fpuppet-openstacklib~master~I7ece6da0e16b275faf4120baf0ff68970491dc9d,openstack/puppet-openstacklib,master,I7ece6da0e16b275faf4120baf0ff68970491dc9d,ini_setting: Skip transformer if value is not changed,MERGED,2022-07-10 10:10:54.000000000,2022-08-01 09:16:00.000000000,2022-08-01 09:16:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-10 10:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/d73b3307a81458bf2b02a2009b16ed6e45409d03', 'message': 'ini_setting: Skip transformer if value is nil during create\n\n... so that we can create a resource with value = nil. This is required\nto fix the problem with puppet-swift which requires to manage sections\nwithout any values.\n\nChange-Id: I7ece6da0e16b275faf4120baf0ff68970491dc9d\n'}, {'number': 2, 'created': '2022-07-10 10:13:52.000000000', 'files': ['lib/puppet/provider/openstack_config/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/12eae84da1ca92008ac8a1cdc6c854254e46e569', 'message': 'ini_setting: Skip transformer if value is not changed\n\n... so that we can create a resource with value = nil and no\ntransformers.\n\nThis is required to fix the problem with puppet-swift which requires\nto manage sections without any values.\n\nChange-Id: I7ece6da0e16b275faf4120baf0ff68970491dc9d\n'}]",0,849235,12eae84da1ca92008ac8a1cdc6c854254e46e569,8,3,2,9816,,,0,"ini_setting: Skip transformer if value is not changed

... so that we can create a resource with value = nil and no
transformers.

This is required to fix the problem with puppet-swift which requires
to manage sections without any values.

Change-Id: I7ece6da0e16b275faf4120baf0ff68970491dc9d
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/35/849235/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/openstack_config/ini_setting.rb'],1,d73b3307a81458bf2b02a2009b16ed6e45409d03,," if !resource[:value].nil? resource[:value] = transform(:to, resource[:value]) end"," resource[:value] = transform(:to, resource[:value])",3,1
openstack%2Fpuppet-barbican~master~I781d06e3ba9c9b9ab7fd8360095cdb67917f016c,openstack/puppet-barbican,master,I781d06e3ba9c9b9ab7fd8360095cdb67917f016c,Clean up baribcan::api::retry_scheduler_* parameters,MERGED,2022-06-23 03:36:42.000000000,2022-08-01 09:12:55.000000000,2022-08-01 09:11:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-23 03:36:42.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/cleanup-retry-scheduler-opts-from-api-e66319aa480ad321.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/237c4b2fb0340108c50888e9df08867399ba9684', 'message': 'Clean up baribcan::api::retry_scheduler_* parameters\n\n... because these were deprecated during Yoga cycle[1].\n\n[1] 0d4580b27dd8a45e07c065e1dfc7ce446eb1dd77\n\nChange-Id: I781d06e3ba9c9b9ab7fd8360095cdb67917f016c\n'}]",0,847234,237c4b2fb0340108c50888e9df08867399ba9684,8,3,1,9816,,,0,"Clean up baribcan::api::retry_scheduler_* parameters

... because these were deprecated during Yoga cycle[1].

[1] 0d4580b27dd8a45e07c065e1dfc7ce446eb1dd77

Change-Id: I781d06e3ba9c9b9ab7fd8360095cdb67917f016c
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/34/847234/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/cleanup-retry-scheduler-opts-from-api-e66319aa480ad321.yaml']",2,237c4b2fb0340108c50888e9df08867399ba9684,,--- upgrade: - | The following parameters of the ``barbican::api`` class have been removed. - ``retry_scheduler_initial_delay_seconds`` - ``retry_scheduler_periodic_interval_max_seconds`` ,,7,15
openstack%2Freleases~master~I58b9f2f8e073674ac61e8604e5b5473cacfbaf3d,openstack/releases,master,I58b9f2f8e073674ac61e8604e5b5473cacfbaf3d,[winstackers] Transition Pike to End of Life,MERGED,2022-07-29 15:54:58.000000000,2022-08-01 09:12:00.000000000,2022-08-01 09:12:00.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 15:54:58.000000000', 'files': ['deliverables/pike/os-win.yaml', 'deliverables/pike/networking-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/49dbf523ec7edcfad96d0ebddbf530b6dbb4d597', 'message': ""[winstackers] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I58b9f2f8e073674ac61e8604e5b5473cacfbaf3d\n""}]",1,851560,49dbf523ec7edcfad96d0ebddbf530b6dbb4d597,8,4,1,17685,,,0,"[winstackers] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I58b9f2f8e073674ac61e8604e5b5473cacfbaf3d
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/851560/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/os-win.yaml', 'deliverables/pike/networking-hyperv.yaml']",2,49dbf523ec7edcfad96d0ebddbf530b6dbb4d597,pike-eol, - version: pike-eol projects: - repo: openstack/networking-hyperv hash: 3a1e01cca65808f0825b017a731ba2b309a9f9cf,,8,0
openstack%2Freleases~master~I612aa11aba12d77f105d294e4e914e58e3e99091,openstack/releases,master,I612aa11aba12d77f105d294e4e914e58e3e99091,[watcher] Transition Pike to End of Life,MERGED,2022-07-29 15:59:59.000000000,2022-08-01 09:11:57.000000000,2022-08-01 09:11:57.000000000,"[{'_account_id': 17685}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28748}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-07-29 15:59:59.000000000', 'files': ['deliverables/pike/python-watcherclient.yaml', 'deliverables/pike/watcher.yaml', 'deliverables/pike/watcher-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/41c346f06bc9d62957a6f3a6872e6ded1df20fbc', 'message': ""[watcher] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I612aa11aba12d77f105d294e4e914e58e3e99091\n""}]",1,851573,41c346f06bc9d62957a6f3a6872e6ded1df20fbc,10,6,1,17685,,,0,"[watcher] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I612aa11aba12d77f105d294e4e914e58e3e99091
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/851573/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/python-watcherclient.yaml', 'deliverables/pike/watcher.yaml', 'deliverables/pike/watcher-dashboard.yaml']",3,41c346f06bc9d62957a6f3a6872e6ded1df20fbc,pike-eol, - version: pike-eol projects: - repo: openstack/watcher-dashboard hash: 5db4d9eb8e892dc824c1eea363f875c83e2536c5,,12,0
openstack%2Freleases~master~Ic671c807c656c08b51e1f81f26db2be613138c05,openstack/releases,master,Ic671c807c656c08b51e1f81f26db2be613138c05,[zun] Transition Pike to End of Life,MERGED,2022-07-29 16:02:59.000000000,2022-08-01 09:11:55.000000000,2022-08-01 09:11:55.000000000,"[{'_account_id': 11536}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 16:02:59.000000000', 'files': ['deliverables/pike/zun.yaml', 'deliverables/pike/python-zunclient.yaml', 'deliverables/pike/zun-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0242868eb4c8d7e564ab2e50a23e5d59487bccfc', 'message': ""[zun] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ic671c807c656c08b51e1f81f26db2be613138c05\n""}]",1,851584,0242868eb4c8d7e564ab2e50a23e5d59487bccfc,9,5,1,17685,,,0,"[zun] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ic671c807c656c08b51e1f81f26db2be613138c05
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/851584/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/zun.yaml', 'deliverables/pike/python-zunclient.yaml', 'deliverables/pike/zun-ui.yaml']",3,0242868eb4c8d7e564ab2e50a23e5d59487bccfc,pike-eol, - version: pike-eol projects: - repo: openstack/zun-ui hash: 16bb77395e309d508eead8801d1ffcd03c5ec394,,12,0
openstack%2Freleases~master~If56ce2a337151c2a2b2e8012761ad0b1517b588f,openstack/releases,master,If56ce2a337151c2a2b2e8012761ad0b1517b588f,[tricircle] Transition Pike to End of Life,MERGED,2022-07-29 16:00:20.000000000,2022-08-01 09:11:53.000000000,2022-08-01 09:11:53.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 16:00:20.000000000', 'files': ['deliverables/pike/python-tricircleclient.yaml', 'deliverables/pike/tricircle.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b6f4e6520816266e9bbca2985ceb073e9f900a3', 'message': ""[tricircle] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: If56ce2a337151c2a2b2e8012761ad0b1517b588f\n""}]",1,851574,0b6f4e6520816266e9bbca2985ceb073e9f900a3,7,3,1,17685,,,0,"[tricircle] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: If56ce2a337151c2a2b2e8012761ad0b1517b588f
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/851574/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/python-tricircleclient.yaml', 'deliverables/pike/tricircle.yaml']",2,0b6f4e6520816266e9bbca2985ceb073e9f900a3,pike-eol, - version: pike-eol projects: - repo: openstack/tricircle hash: 775db474cac9b189909659a1ab06adaa007d28f4,,8,0
openstack%2Fpuppet-tempest~master~I5af53ea4d1d28cefcf84a3437c34b96bc6a102a2,openstack/puppet-tempest,master,I5af53ea4d1d28cefcf84a3437c34b96bc6a102a2,Add support for domain parameters,MERGED,2022-06-21 01:47:16.000000000,2022-08-01 09:11:43.000000000,2022-08-01 09:10:35.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-21 01:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/9093bbbde2dea91a7abe6b099249fe05ab2664eb', 'message': 'Add support for domain parameters\n\nThis change allows configuring *_domain_name parameters for the pre-\ncreated non-admin credentials.\n\nChange-Id: I5af53ea4d1d28cefcf84a3437c34b96bc6a102a2\n'}, {'number': 2, 'created': '2022-06-21 04:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/babbaaeb550dfcb9898c7a3948d8043e96f538e6', 'message': 'Add support for domain parameters\n\nThis change allows configuring *_domain_name parameters for the pre-\ncreated non-admin credentials.\n\nChange-Id: I5af53ea4d1d28cefcf84a3437c34b96bc6a102a2\n'}, {'number': 3, 'created': '2022-06-21 05:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/126f6c73f5baf88e4b56c105607abf0ce0fffc91', 'message': 'Add support for domain parameters\n\nThis change allows configuring *_domain_name parameters for the pre-\ncreated non-admin credentials.\n\nChange-Id: I5af53ea4d1d28cefcf84a3437c34b96bc6a102a2\n'}, {'number': 4, 'created': '2022-06-21 05:24:24.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/user-domain-params-0f9093ffaac1ee54.yaml', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/be17b220504e044411c75b7418a8e56bc2ba7b2b', 'message': 'Add support for domain parameters\n\nThis change allows configuring *_domain_name parameters for the pre-\ncreated non-admin credentials.\n\nChange-Id: I5af53ea4d1d28cefcf84a3437c34b96bc6a102a2\n'}]",0,846835,be17b220504e044411c75b7418a8e56bc2ba7b2b,13,3,4,9816,,,0,"Add support for domain parameters

This change allows configuring *_domain_name parameters for the pre-
created non-admin credentials.

Change-Id: I5af53ea4d1d28cefcf84a3437c34b96bc6a102a2
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/35/846835/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/user-domain-params-0f9093ffaac1ee54.yaml', 'spec/classes/tempest_init_spec.rb']",3,9093bbbde2dea91a7abe6b099249fe05ab2664eb,bug/1963659, is_expected.to contain_tempest_config('identity/alt_password').with(:value => '<SERVICE DEFAULT>').with_secret( true ) is_expected.to contain_tempest_config('identity/alt_project_name').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tempest_config('identity/alt_username').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tempest_config('identity/alt_project_domain_name').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tempest_config('identity/alt_user_domain_name').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tempest_config('identity/password').with(:value => '<SERVICE DEFAULT>').with_secret( true ) is_expected.to contain_tempest_config('identity/project_name').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tempest_config('identity/username').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tempest_config('identity/project_domain_name').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tempest_config('identity/user_domain_name').with(:value => '<SERVICE DEFAULT>'), is_expected.to contain_tempest_config('identity/alt_password').with(:value => nil) is_expected.to contain_tempest_config('identity/alt_password').with_secret( true ) is_expected.to contain_tempest_config('identity/alt_project_name').with(:value => nil) is_expected.to contain_tempest_config('identity/alt_username').with(:value => nil) is_expected.to contain_tempest_config('identity/password').with(:value => nil) is_expected.to contain_tempest_config('identity/password').with_secret( true ) is_expected.to contain_tempest_config('identity/project_name').with(:value => nil) is_expected.to contain_tempest_config('identity/username').with(:value => nil),37,9
openstack%2Fpuppet-tempest~stable%2Fyoga~Icd9ac3a5d8fab99c46e1c0bf7d2eaba7cff6c88d,openstack/puppet-tempest,stable/yoga,Icd9ac3a5d8fab99c46e1c0bf7d2eaba7cff6c88d,Change git url for Tempest to opendev.org,MERGED,2022-06-14 15:50:30.000000000,2022-08-01 09:11:39.000000000,2022-08-01 09:10:28.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 15:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/472f2547fdc07f88c38828ce85a7b32ef82cbfd5', 'message': 'Change git url for Tempest to opendev.org\n\nChange-Id: Icd9ac3a5d8fab99c46e1c0bf7d2eaba7cff6c88d\n(cherry picked from commit e0260afbd934bcb49691e5f6f6990f32a784eec8)\n'}, {'number': 2, 'created': '2022-06-29 23:56:43.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/tempest-repo-opendev-76ee1bab934194fa.yaml', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/25af8e412592c507f14d9358bd7f876709de2ebe', 'message': 'Change git url for Tempest to opendev.org\n\nNote:\nThis backports includes the follow-up commit[1] which added a release\nnote to describe the change.\n\n[1] b219ee7f09d4477d59ef690d23544bb4538841fd\n\nChange-Id: Icd9ac3a5d8fab99c46e1c0bf7d2eaba7cff6c88d\n(cherry picked from commit e0260afbd934bcb49691e5f6f6990f32a784eec8)\n'}]",1,845686,25af8e412592c507f14d9358bd7f876709de2ebe,12,4,2,9816,,,0,"Change git url for Tempest to opendev.org

Note:
This backports includes the follow-up commit[1] which added a release
note to describe the change.

[1] b219ee7f09d4477d59ef690d23544bb4538841fd

Change-Id: Icd9ac3a5d8fab99c46e1c0bf7d2eaba7cff6c88d
(cherry picked from commit e0260afbd934bcb49691e5f6f6990f32a784eec8)
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/86/845686/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/tempest_init_spec.rb']",2,472f2547fdc07f88c38828ce85a7b32ef82cbfd5,," :source => 'https://opendev.org/openstack/tempest',"," :source => 'git://github.com/openstack/tempest.git',",3,3
openstack%2Freleases~master~I29a4addb54778340a092b9ee713b75778f1695ac,openstack/releases,master,I29a4addb54778340a092b9ee713b75778f1695ac,[congress] Transition Pike to End of Life,MERGED,2022-07-29 16:00:56.000000000,2022-08-01 09:10:43.000000000,2022-08-01 09:10:43.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 16:00:56.000000000', 'files': ['deliverables/pike/congress.yaml', 'deliverables/pike/congress-dashboard.yaml', 'deliverables/pike/python-congressclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/924fd19fbe643b5014e7071660f7f230c8bb5f18', 'message': ""[congress] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I29a4addb54778340a092b9ee713b75778f1695ac\n""}]",1,851576,924fd19fbe643b5014e7071660f7f230c8bb5f18,7,3,1,17685,,,0,"[congress] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I29a4addb54778340a092b9ee713b75778f1695ac
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/851576/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/congress.yaml', 'deliverables/pike/congress-dashboard.yaml', 'deliverables/pike/python-congressclient.yaml']",3,924fd19fbe643b5014e7071660f7f230c8bb5f18,pike-eol, - version: pike-eol projects: - repo: openstack/python-congressclient hash: 93dfd7ebed3dd327cc41929e9f065cb9a080a8eb,,12,0
openstack%2Freleases~master~I9ce58fd82763f9e9e6bf2c35cde4afdbeab571c6,openstack/releases,master,I9ce58fd82763f9e9e6bf2c35cde4afdbeab571c6,[karbor] Transition Pike to End of Life,MERGED,2022-07-29 15:59:51.000000000,2022-08-01 09:10:41.000000000,2022-08-01 09:10:41.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 15:59:51.000000000', 'files': ['deliverables/pike/python-karborclient.yaml', 'deliverables/pike/karbor-dashboard.yaml', 'deliverables/pike/karbor.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/214b4e0bca436f480ea8309a630d0489e1976d1e', 'message': ""[karbor] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I9ce58fd82763f9e9e6bf2c35cde4afdbeab571c6\n""}]",1,851572,214b4e0bca436f480ea8309a630d0489e1976d1e,7,3,1,17685,,,0,"[karbor] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I9ce58fd82763f9e9e6bf2c35cde4afdbeab571c6
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/851572/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/python-karborclient.yaml', 'deliverables/pike/karbor-dashboard.yaml', 'deliverables/pike/karbor.yaml']",3,214b4e0bca436f480ea8309a630d0489e1976d1e,pike-eol, - version: pike-eol projects: - repo: openstack/karbor hash: b1455d65b2b99758050611f3c82ef3ce728043b4,,12,0
openstack%2Fpuppet-tempest~stable%2Fyoga~I83bc0d6bbd62d19b17d1bbe2ff5eb434fdd26828,openstack/puppet-tempest,stable/yoga,I83bc0d6bbd62d19b17d1bbe2ff5eb434fdd26828,Fix unit tests for plugin package management,MERGED,2022-06-20 23:14:06.000000000,2022-08-01 09:10:33.000000000,2022-08-01 09:10:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-20 23:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/aa2c23c7eeebffa26547ce25173ded4b428e58b3', 'message': 'Fix unit tests for plugin package management\n\n- The whole test cases were ignored\n\n- python3-aodh-tests resource is never declared\n\n- available packages are different according to operating system\n\n- neutron_available toggles only the neutron-tempest-plugin package and\n  does not affect the packages for optional pluginske l2gw.\n\nChange-Id: I83bc0d6bbd62d19b17d1bbe2ff5eb434fdd26828\n(cherry picked from commit 966aa2449bb6faff4d696be7617d5fcfeda62dda)\n'}, {'number': 2, 'created': '2022-06-20 23:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/8f82de8f12093be2eec683d4b466047633a36a6b', 'message': 'Fix unit tests for plugin package management\n\n- The whole test cases were ignored\n\n- python3-aodh-tests resource is never declared\n\n- available packages are different according to operating system\n\n- neutron_available toggles only the neutron-tempest-plugin package and\n  does not affect the packages for optional pluginske l2gw.\n\nChange-Id: I83bc0d6bbd62d19b17d1bbe2ff5eb434fdd26828\n(cherry picked from commit 966aa2449bb6faff4d696be7617d5fcfeda62dda)\n'}, {'number': 3, 'created': '2022-07-04 00:06:13.000000000', 'files': ['spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/7feba89f3f17e40342fd438f8159de02f7d32c20', 'message': 'Fix unit tests for plugin package management\n\n- The whole test cases were ignored\n\n- python3-aodh-tests resource is never declared\n\n- available packages are different according to operating system\n\n- neutron_available toggles only the neutron-tempest-plugin package and\n  does not affect the packages for optional pluginske l2gw.\n\nChange-Id: I83bc0d6bbd62d19b17d1bbe2ff5eb434fdd26828\n(cherry picked from commit 966aa2449bb6faff4d696be7617d5fcfeda62dda)\n'}]",2,846566,7feba89f3f17e40342fd438f8159de02f7d32c20,14,3,3,9816,,,0,"Fix unit tests for plugin package management

- The whole test cases were ignored

- python3-aodh-tests resource is never declared

- available packages are different according to operating system

- neutron_available toggles only the neutron-tempest-plugin package and
  does not affect the packages for optional pluginske l2gw.

Change-Id: I83bc0d6bbd62d19b17d1bbe2ff5eb434fdd26828
(cherry picked from commit 966aa2449bb6faff4d696be7617d5fcfeda62dda)
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/66/846566/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tempest_init_spec.rb'],1,aa2c23c7eeebffa26547ce25173ded4b428e58b3,," let :params do { :configure_images => false, :manage_tests_packages => true } context 'with when managing tests packages for keystone (required service)' do it ""should install keystone tests package"" do is_expected.to contain_package('python-keystone-tests') is_expected.to_not contain_package('python-sahara-tests-tempest') before :each do params.merge!({ :sahara_available => true }) it ""should install sahara tests package"" do if platform_params[:python_sahara_tests] is_expected.to contain_package('python-sahara-tests-tempest') end before :each do params.merge!({ :neutron_available => true, :public_network_id => '4c423fc6-87f7-4e6d-9d3c-abc13058ae5b' }) it ""should install neutron and *aas tests packages"" do if platform_params[:python_neutron_tests] is_expected.to contain_package('python-neutron-tests') end is_expected.to_not contain_package('python-neutron-vpnaas-tests') is_expected.to_not contain_package('python-neutron-dynamic-routing-tests') is_expected.to_not contain_package('python-networking-l2gw-tests-tempest') { :dev_packages => ['python3-dev', 'libxslt1-dev', 'libxml2-dev', 'libssl-dev', 'libffi-dev', 'patch', 'gcc', 'python3-virtualenv', 'python3-pip' ], :package_name => 'tempest', :pip_command => 'pip3', :python_keystone_tests => 'keystone-tempest-plugin', :python_neutron_tests => 'neutron-tempest-plugin', :python_sahara_tests => false } { :dev_packages => ['python3-devel', 'libxslt-devel', 'libxml2-devel', 'openssl-devel', 'libffi-devel', 'patch', 'gcc'], :package_name => 'openstack-tempest', :pip_command => 'pip3', :python_keystone_tests => 'python3-keystone-tests-tempest', :python_neutron_tests => 'python3-neutron-tests-tempest', :python_sahara_tests => 'python3-sahara-tests-tempest' } if facts[:operatingsystem] != 'Ubuntu' it_behaves_like 'tempest with plugins packages' end"," context 'with when managing tests packages for keystone (required service)' do let :params do { :manage_tests_packages => true } end describe ""should install keystone tests package"" do it { expect { is_expected.to contain_package('python-keystone-tests') } } it { expect { is_expected.to_not contain_package('python-aodh-tests') } } end context 'with when managing tests packages for aodh (optional service)' do let :params do { :manage_tests_packages => true, :aodh_available => true } end describe ""should install aodh tests package"" do it { expect { is_expected.to contain_package('python-aodh-tests') } } let :params do { :manage_tests_packages => true, :sahara_available => true } describe ""should install sahara tests package"" do it { expect { is_expected.to contain_package('python-sahara-tests-tempest') } } let :params do { :manage_tests_packages => true, :neutron_available => true } describe ""should install neutron and *aas tests packages"" do it { expect { is_expected.to contain_package('python-neutron-tests') } } it { expect { is_expected.to contain_package('python-neutron-vpnaas-tests') } } it { expect { is_expected.to contain_package('python-neutron-dynamic-routing-tests') } } it { expect { is_expected.to contain_package('python-networking-l2gw-tests-tempest') } } { :dev_packages => ['python3-dev', 'libxslt1-dev', 'libxml2-dev', 'libssl-dev', 'libffi-dev', 'patch', 'gcc', 'python3-virtualenv', 'python3-pip' ], :package_name => 'tempest', :pip_command => 'pip3' } { :dev_packages => ['python3-devel', 'libxslt-devel', 'libxml2-devel', 'openssl-devel', 'libffi-devel', 'patch', 'gcc'], :package_name => 'openstack-tempest', :pip_command => 'pip3' } it_behaves_like 'tempest with plugins packages'",54,51
openstack%2Fpuppet-tempest~stable%2Fyoga~Ia3d80b8a5e39eef0a0da61accf248d6786047c4e,openstack/puppet-tempest,stable/yoga,Ia3d80b8a5e39eef0a0da61accf248d6786047c4e,CentOS: Install tempest plugin packages only,MERGED,2022-06-07 00:26:45.000000000,2022-08-01 09:10:31.000000000,2022-08-01 09:10:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-07 00:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/3422150bbbd1eee30ea51d1e39f53cc4cedff338', 'message': 'CentOS: Install tempest plugin packages only\n\nIn general, python3-<service>-tests packages does not provide any\ntempest plugin (except for neutron-vpnaas) and installing these\npackages does not affect test coverage by tempest.\n\nWe should install python3-<service>-tests-tempest packages instead\nbecause these packages provides code of <service>-tempest-plugins repo.\n\nCloses-Bug: #1969361\nChange-Id: Ia3d80b8a5e39eef0a0da61accf248d6786047c4e\n(cherry picked from commit 3d176b17896226d9c77b31cf2197fa3a3be5afbe)\n'}, {'number': 2, 'created': '2022-07-04 00:06:06.000000000', 'files': ['releasenotes/notes/bug-1969361-849e95dbcf6f8395.yaml', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/760bbba1e676a1e728d868558b4a3851834ba734', 'message': 'CentOS: Install tempest plugin packages only\n\nIn general, python3-<service>-tests packages does not provide any\ntempest plugin (except for neutron-vpnaas) and installing these\npackages does not affect test coverage by tempest.\n\nWe should install python3-<service>-tests-tempest packages instead\nbecause these packages provides code of <service>-tempest-plugins repo.\n\nCloses-Bug: #1969361\nChange-Id: Ia3d80b8a5e39eef0a0da61accf248d6786047c4e\n(cherry picked from commit 3d176b17896226d9c77b31cf2197fa3a3be5afbe)\n'}]",5,844803,760bbba1e676a1e728d868558b4a3851834ba734,19,3,2,9816,,,0,"CentOS: Install tempest plugin packages only

In general, python3-<service>-tests packages does not provide any
tempest plugin (except for neutron-vpnaas) and installing these
packages does not affect test coverage by tempest.

We should install python3-<service>-tests-tempest packages instead
because these packages provides code of <service>-tempest-plugins repo.

Closes-Bug: #1969361
Change-Id: Ia3d80b8a5e39eef0a0da61accf248d6786047c4e
(cherry picked from commit 3d176b17896226d9c77b31cf2197fa3a3be5afbe)
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/03/844803/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1969361-849e95dbcf6f8395.yaml', 'manifests/params.pp']",2,3422150bbbd1eee30ea51d1e39f53cc4cedff338,bug/1969361-stable/yoga, $python_glance_tests = false $python_keystone_tests = 'python3-keystone-tests-tempest' # NOTE(tkajinam): python3-neutron-vpnaas-tests package provide tempest # plugin implementation. $python_nova_tests = false $python_swift_tests = false, $python_glance_tests = 'python3-glance-tests' $python_keystone_tests = 'python3-keystone-tests' $python_nova_tests = 'python3-nova-tests' $python_swift_tests = 'python3-swift-tests',15,4
openstack%2Ftripleo-common~stable%2Fwallaby~I437326d134d12ca27db0eefcdcc861ccb199b65a,openstack/tripleo-common,stable/wallaby,I437326d134d12ca27db0eefcdcc861ccb199b65a,DNM Testing for https://bugs.launchpad.net/tripleo/+bug/1983004,ABANDONED,2022-07-28 11:15:56.000000000,2022-08-01 09:09:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-28 11:15:56.000000000', 'files': ['tripleo_common/utils/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a2fcd9178948c1da42c09eb297809141dd3526f5', 'message': 'DNM Testing for https://bugs.launchpad.net/tripleo/+bug/1983004\n\nChange-Id: I437326d134d12ca27db0eefcdcc861ccb199b65a\n'}]",1,851369,a2fcd9178948c1da42c09eb297809141dd3526f5,7,2,1,8449,,,0,"DNM Testing for https://bugs.launchpad.net/tripleo/+bug/1983004

Change-Id: I437326d134d12ca27db0eefcdcc861ccb199b65a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/851369/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/ansible.py'],1,a2fcd9178948c1da42c09eb297809141dd3526f5,,# WOOOO \o/ no merge !!!,,1,0
openstack%2Fpuppet-swift~master~Ic1fd985f7f9f0552e0a5073ba01b0e9c8595648a,openstack/puppet-swift,master,Ic1fd985f7f9f0552e0a5073ba01b0e9c8595648a,Rename acceptance spec files to explain order,MERGED,2022-07-10 04:26:56.000000000,2022-08-01 09:09:19.000000000,2022-08-01 09:09:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-10 04:26:56.000000000', 'files': ['spec/acceptance/10_basic_swift_spec.rb', 'spec/acceptance/99_swift_config_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/f3276488e84b37f42671e202aee38e2f5eb8085c', 'message': 'Rename acceptance spec files to explain order\n\nThe acceptance tests for config resources should be executed AFTER\ndeployment scenario tests, otherwise the deployment scenario tests can\nfail because of incomplete file contents left.\n\nThis change ensures that ordering by adding the prefix. Currently this\ndoes not cause any change but allows us to avoid undesired swap which\nis likely to cause test failure.\n\nChange-Id: Ic1fd985f7f9f0552e0a5073ba01b0e9c8595648a\n'}]",0,849233,f3276488e84b37f42671e202aee38e2f5eb8085c,7,3,1,9816,,,0,"Rename acceptance spec files to explain order

The acceptance tests for config resources should be executed AFTER
deployment scenario tests, otherwise the deployment scenario tests can
fail because of incomplete file contents left.

This change ensures that ordering by adding the prefix. Currently this
does not cause any change but allows us to avoid undesired swap which
is likely to cause test failure.

Change-Id: Ic1fd985f7f9f0552e0a5073ba01b0e9c8595648a
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/33/849233/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/10_basic_swift_spec.rb', 'spec/acceptance/99_swift_config_spec.rb']",2,f3276488e84b37f42671e202aee38e2f5eb8085c,,,,0,0
openstack%2Fpuppet-swift~master~Ib30a067785787a51db61b77358db6807853993f9,openstack/puppet-swift,master,Ib30a067785787a51db61b77358db6807853993f9,Use $::os_service_default instead of undef,MERGED,2022-07-18 02:52:29.000000000,2022-08-01 09:09:17.000000000,2022-08-01 09:09:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-18 02:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/121408796b4c6539485df2df6fc9edf93188fe87', 'message': 'Use $::os_service_default instead of undef\n\nSetting value => undef leaves the parameter umanaged.\n\nThis replaces undef by $::os_service_default to ensure the actual\nservice default value is used by default.\n\nChange-Id: Ib30a067785787a51db61b77358db6807853993f9\n'}, {'number': 2, 'created': '2022-07-18 03:50:06.000000000', 'files': ['manifests/proxy.pp', 'spec/classes/swift_proxy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/93b2eb187e58aa8910ea2eab5baf642483927e2d', 'message': 'Use $::os_service_default instead of undef\n\nSetting value => undef leaves the parameter umanaged.\n\nThis replaces undef by $::os_service_default to ensure the actual\nservice default value is used by default.\n\nChange-Id: Ib30a067785787a51db61b77358db6807853993f9\n'}]",0,850124,93b2eb187e58aa8910ea2eab5baf642483927e2d,8,3,2,9816,,,0,"Use $::os_service_default instead of undef

Setting value => undef leaves the parameter umanaged.

This replaces undef by $::os_service_default to ensure the actual
service default value is used by default.

Change-Id: Ib30a067785787a51db61b77358db6807853993f9
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/24/850124/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy.pp', 'spec/classes/swift_proxy_spec.rb']",2,121408796b4c6539485df2df6fc9edf93188fe87,, it { should contain_swift_proxy_config('DEFAULT/client_timeout').with_value('<SERVICE DEFAULT>') } it { should contain_swift_proxy_config('app:proxy-server/write_affinity').with_value('<SERVICE DEFAULT>') } it { should contain_swift_proxy_config('app:proxy-server/write_affinity_node_count').with_value('<SERVICE DEFAULT>') } it { should contain_swift_proxy_config('app:proxy-server/node_timeout').with_value('<SERVICE DEFAULT>') } it { should contain_swift_proxy_config('app:proxy-server/recoverable_node_timeout').with_value('<SERVICE DEFAULT>') },,15,10
openstack%2Fpuppet-swift~master~I1eb53866aff14b6d7bca72d65b21810f87abc0ad,openstack/puppet-swift,master,I1eb53866aff14b6d7bca72d65b21810f87abc0ad,proxy: Reduce hard-coded default values,MERGED,2022-07-18 03:03:49.000000000,2022-08-01 09:09:08.000000000,2022-08-01 09:09:08.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-18 03:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/6e79ae54515afb378115e49c70258c6ce49b72e2', 'message': 'proxy: Reduce hard-coded default values\n\n... and use the service default values instead. This allows us to\nreduce amount of implementations we should maintain by ourselves and\ncatch up with any change in service side more timely.\n\nChange-Id: I1eb53866aff14b6d7bca72d65b21810f87abc0ad\n'}, {'number': 2, 'created': '2022-07-18 03:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1d04dfc16ee957f40075b6e3a38e28366bfd4acd', 'message': 'proxy: Reduce hard-coded default values\n\n... and use the service default values instead. This allows us to\nreduce amount of implementations we should maintain by ourselves and\ncatch up with any change in service side more timely.\n\nChange-Id: I1eb53866aff14b6d7bca72d65b21810f87abc0ad\n'}, {'number': 3, 'created': '2022-07-18 05:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/79604cb429c636c9a34a4ed174fa4c2476e68498', 'message': 'proxy: Reduce hard-coded default values\n\n... and use the service default values instead. This allows us to\nreduce amount of implementations we should maintain by ourselves and\ncatch up with any change in service side more timely.\n\nChange-Id: I1eb53866aff14b6d7bca72d65b21810f87abc0ad\n'}, {'number': 4, 'created': '2022-07-18 10:51:23.000000000', 'files': ['manifests/proxy.pp', 'spec/classes/swift_proxy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/77e850340c60708ba8f31bfc0b58ba7706e6a82b', 'message': 'proxy: Reduce hard-coded default values\n\n... and use the service default values instead. This allows us to\nreduce amount of implementations we should maintain by ourselves and\ncatch up with any change in service side more timely.\n\nChange-Id: I1eb53866aff14b6d7bca72d65b21810f87abc0ad\n'}]",0,850125,77e850340c60708ba8f31bfc0b58ba7706e6a82b,12,3,4,9816,,,0,"proxy: Reduce hard-coded default values

... and use the service default values instead. This allows us to
reduce amount of implementations we should maintain by ourselves and
catch up with any change in service side more timely.

Change-Id: I1eb53866aff14b6d7bca72d65b21810f87abc0ad
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/25/850125/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy.pp', 'spec/classes/swift_proxy_spec.rb']",2,6e79ae54515afb378115e49c70258c6ce49b72e2,, it { should contain_swift_proxy_config('app:proxy-server/log_handoffs').with_value('<SERVICE DEFAULT>') } it { should contain_swift_proxy_config('app:proxy-server/object_chunk_size').with_value('<SERVICE DEFAULT>') } it { should contain_swift_proxy_config('app:proxy-server/client_chunk_size').with_value('<SERVICE DEFAULT>') } it { should contain_swift_proxy_config('app:proxy-server/max_containers_per_account').with_value('<SERVICE DEFAULT>') }, it { should contain_swift_proxy_config('app:proxy-server/log_handoffs').with_value('true') } it { should contain_swift_proxy_config('app:proxy-server/object_chunk_size').with_value('65536') } it { should contain_swift_proxy_config('app:proxy-server/client_chunk_size').with_value('65536') } it { should contain_swift_proxy_config('app:proxy-server/max_containers_per_account').with_value(0) },14,14
openstack%2Freleases~master~Iee82d666e8497c248637e299540efa68b2155177,openstack/releases,master,Iee82d666e8497c248637e299540efa68b2155177,[searchlight] Transition Pike to End of Life,MERGED,2022-07-29 16:03:25.000000000,2022-08-01 09:07:22.000000000,2022-08-01 09:07:22.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 16:03:25.000000000', 'files': ['deliverables/pike/python-searchlightclient.yaml', 'deliverables/pike/searchlight.yaml', 'deliverables/pike/searchlight-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1e1912150b20254d90ac72235ab76ee127398a7b', 'message': ""[searchlight] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Iee82d666e8497c248637e299540efa68b2155177\n""}]",1,851586,1e1912150b20254d90ac72235ab76ee127398a7b,7,3,1,17685,,,0,"[searchlight] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Iee82d666e8497c248637e299540efa68b2155177
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/851586/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/python-searchlightclient.yaml', 'deliverables/pike/searchlight.yaml', 'deliverables/pike/searchlight-ui.yaml']",3,1e1912150b20254d90ac72235ab76ee127398a7b,pike-eol, - version: pike-eol projects: - repo: openstack/searchlight-ui hash: 527a1e9e0abd852f1a1da11c4e85f86a0f9dfb52,,12,0
openstack%2Freleases~master~I180be745a34994764073ed5e3746c9dcc90b7411,openstack/releases,master,I180be745a34994764073ed5e3746c9dcc90b7411,[Telemetry] Transition Pike to End of Life,MERGED,2022-07-29 15:57:53.000000000,2022-08-01 09:07:20.000000000,2022-08-01 09:07:20.000000000,"[{'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 15:57:53.000000000', 'files': ['deliverables/pike/ceilometer.yaml', 'deliverables/pike/python-aodhclient.yaml', 'deliverables/pike/python-pankoclient.yaml', 'deliverables/pike/ceilometermiddleware.yaml', 'deliverables/pike/aodh.yaml', 'deliverables/pike/python-ceilometerclient.yaml', 'deliverables/pike/panko.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d09e94671abe1efe488167f5027ade5d75a217e5', 'message': ""[Telemetry] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I180be745a34994764073ed5e3746c9dcc90b7411\n""}]",3,851566,d09e94671abe1efe488167f5027ade5d75a217e5,9,4,1,17685,,,0,"[Telemetry] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I180be745a34994764073ed5e3746c9dcc90b7411
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/851566/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/ceilometer.yaml', 'deliverables/pike/python-aodhclient.yaml', 'deliverables/pike/python-pankoclient.yaml', 'deliverables/pike/ceilometermiddleware.yaml', 'deliverables/pike/aodh.yaml', 'deliverables/pike/python-ceilometerclient.yaml', 'deliverables/pike/panko.yaml']",7,d09e94671abe1efe488167f5027ade5d75a217e5,pike-eol, - version: pike-eol projects: - repo: openstack/panko hash: a5d3b771a84a99a2c271706d82fe0afc50478000,,28,0
openstack%2Freleases~master~Id9b60c61679f928012ef54ac206fc7ddc4e8e080,openstack/releases,master,Id9b60c61679f928012ef54ac206fc7ddc4e8e080,[glance] Transition Pike to End of Life,MERGED,2022-07-29 16:05:10.000000000,2022-08-01 09:07:18.000000000,2022-08-01 09:07:18.000000000,"[{'_account_id': 9303}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 16:05:10.000000000', 'files': ['deliverables/pike/glance-store.yaml', 'deliverables/pike/python-glanceclient.yaml', 'deliverables/pike/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ed0a40ebbcac96fafd52a228691ba45fb89ebaf9', 'message': ""[glance] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Id9b60c61679f928012ef54ac206fc7ddc4e8e080\n""}]",2,851589,ed0a40ebbcac96fafd52a228691ba45fb89ebaf9,10,4,1,17685,,,0,"[glance] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Id9b60c61679f928012ef54ac206fc7ddc4e8e080
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/851589/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/glance-store.yaml', 'deliverables/pike/python-glanceclient.yaml', 'deliverables/pike/glance.yaml']",3,ed0a40ebbcac96fafd52a228691ba45fb89ebaf9,pike-eol, - version: pike-eol projects: - repo: openstack/glance hash: f30376911218296b7051bbb2be7202a6263a7497,,12,0
openstack%2Fpuppet-nova~master~Ic1479131983b790a38c9ae6002b5e83bfcded59d,openstack/puppet-nova,master,Ic1479131983b790a38c9ae6002b5e83bfcded59d,Remove deprecated parameters for RateLimitingMiddleware,MERGED,2022-07-27 07:34:16.000000000,2022-08-01 09:05:59.000000000,2022-08-01 09:04:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 07:34:16.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/remove-ratelimit-13cd3c75f4d0d292.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/19034f8e9bb3e31f602657aa7e7dc2a43c11d960', 'message': 'Remove deprecated parameters for RateLimitingMiddleware\n\nThese parameters were deprecated during Yoga cycle[1] and has no effect\nnow.\n\n[1] 25651f25e259ca957eb26cd15a290dfde142888e\n\nRelated-Bug: #1941855\nChange-Id: Ic1479131983b790a38c9ae6002b5e83bfcded59d\n'}]",0,851167,19034f8e9bb3e31f602657aa7e7dc2a43c11d960,8,3,1,9816,,,0,"Remove deprecated parameters for RateLimitingMiddleware

These parameters were deprecated during Yoga cycle[1] and has no effect
now.

[1] 25651f25e259ca957eb26cd15a290dfde142888e

Related-Bug: #1941855
Change-Id: Ic1479131983b790a38c9ae6002b5e83bfcded59d
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/67/851167/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/remove-ratelimit-13cd3c75f4d0d292.yaml']",2,19034f8e9bb3e31f602657aa7e7dc2a43c11d960,,--- upgrade: - | The following parameters of the ``nova::api`` class have been removed. - ``ratelimits`` - ``ratelimits_factory`` ,,7,16
openstack%2Fpuppet-openstack-integration~stable%2Fyoga~I815083775328b8de81b6126b15c2dbac5fbdea9b,openstack/puppet-openstack-integration,stable/yoga,I815083775328b8de81b6126b15c2dbac5fbdea9b,Yoga-only: Make c9s litmus jobs voting,MERGED,2022-06-21 05:36:34.000000000,2022-08-01 09:04:41.000000000,2022-08-01 09:04:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-21 05:36:34.000000000', 'files': ['zuul.d/litmus.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4a4715b38a6834d3531e88fbc6501236713346c7', 'message': 'Yoga-only: Make c9s litmus jobs voting\n\n... because the jobs have been fixed and are now stable.\n\nChange-Id: I815083775328b8de81b6126b15c2dbac5fbdea9b\n'}]",0,846904,4a4715b38a6834d3531e88fbc6501236713346c7,7,3,1,9816,,,0,"Yoga-only: Make c9s litmus jobs voting

... because the jobs have been fixed and are now stable.

Change-Id: I815083775328b8de81b6126b15c2dbac5fbdea9b
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/04/846904/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/litmus.yaml'],1,4a4715b38a6834d3531e88fbc6501236713346c7,,, voting: false voting: false,0,2
openstack%2Fpuppet-openstack-integration~master~Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf,openstack/puppet-openstack-integration,master,Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf,Enable Octavia + OVN provider in scenario 005,MERGED,2022-06-28 08:57:07.000000000,2022-08-01 09:04:39.000000000,2022-08-01 09:04:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-28 08:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/875a7f45dba3a85301e9b0ceefe3427fc6dfeebb', 'message': 'wip: Enable Octavia + OVN provider in scenario 005\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tempest/+/847915\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/847750\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 2, 'created': '2022-06-28 10:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0393dd9749404c7d39b0b7b4e6c9377b25dd2375', 'message': 'wip: Enable Octavia + OVN provider in scenario 005\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tempest/+/847915\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/847750\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 3, 'created': '2022-06-29 16:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ae9a29e54ed0f9ae923dcf9ff5dc4f0572352227', 'message': 'wip: Enable Octavia + OVN provider in scenario 005\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tempest/+/847915\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/847750\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 4, 'created': '2022-06-30 01:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d178f0112a43ccc8eaa0bf86c5bbfda434fa135c', 'message': 'wip: Enable Octavia + OVN provider in scenario 005\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tempest/+/847915\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/847750\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 5, 'created': '2022-06-30 01:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/14163a9aeab6985319e09b0d11c83bfd2d2923db', 'message': 'wip: Enable Octavia + OVN provider in scenario 005\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tempest/+/847915\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/847750\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 6, 'created': '2022-06-30 16:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a00d6db96ce3d3e9ff112fabf935c57cbd72dda5', 'message': 'wip: Enable Octavia + OVN provider in scenario 005\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tempest/+/847915\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/847750\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 7, 'created': '2022-06-30 23:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ee941023bf00df85d478adf5934b1bfd2b9fd158', 'message': 'wip: Enable Octavia + OVN provider in scenario 005\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tempest/+/847915\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/847750\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 8, 'created': '2022-07-01 00:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/568fb739b3eec40b042eb7f1d3d41edab45b1033', 'message': 'wip: Enable Octavia + OVN provider in scenario 005\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tempest/+/847915\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/847750\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 9, 'created': '2022-07-01 14:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/979ec149e20247db21e3363e6315b8e02f876cc1', 'message': 'wip: Enable Octavia + OVN provider in scenario 005\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tempest/+/847915\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/847750\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 10, 'created': '2022-07-02 12:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/cc294b589be4672b831d3b831229a609b00e784d', 'message': 'wip: Enable Octavia + OVN provider in scenario 005\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tempest/+/847915\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/847750\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 11, 'created': '2022-07-02 14:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/18b4951b153b688b287322ad5b6d1e14d9dc6fc3', 'message': 'wip: Enable Octavia + OVN provider in scenario 005\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tempest/+/847915\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/847750\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 12, 'created': '2022-07-02 16:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c97ad2af8df9fd17d07c85d9d5a42ce29cb72812', 'message': 'Enable Octavia + OVN provider in scenario 005\n\nThis change enables Octavia and OVN provider in scenario 005 so that\nwe can test the deployment pattern in the integration job.\n\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 13, 'created': '2022-07-02 17:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1b5d511287b3249d57af02193503e8b1852d2bb3', 'message': 'Enable Octavia + OVN provider in scenario 005\n\nThis change enables Octavia and OVN provider in scenario 005 so that\nwe can test the deployment pattern in the integration job.\n\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 14, 'created': '2022-07-02 18:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/edeb727db1ba4131e37abd7db0362e1e1dec7a9a', 'message': 'Enable Octavia + OVN provider in scenario 005\n\nThis change enables Octavia and OVN provider in scenario 005 so that\nwe can test the deployment pattern in the integration job.\n\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 15, 'created': '2022-07-02 18:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3476f88748140872993544d7db016cd1181537ec', 'message': 'Enable Octavia + OVN provider in scenario 005\n\nThis change enables Octavia and OVN provider in scenario 005 so that\nwe can test the deployment pattern in the integration job.\n\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 16, 'created': '2022-07-03 15:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/87bee4521ca7d8fa95b4bfd3ab10352a89ce8d22', 'message': 'Enable Octavia + OVN provider in scenario 005\n\nThis change enables Octavia and OVN provider in scenario 005 so that\nwe can test the deployment pattern in the integration job.\n\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}, {'number': 17, 'created': '2022-07-03 15:06:19.000000000', 'files': ['fixtures/scenario005.pp', 'manifests/octavia.pp', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f3cb529d36780a5a5399aab169f4bd648af2b3d6', 'message': 'Enable Octavia + OVN provider in scenario 005\n\nThis change enables Octavia and OVN provider in scenario 005 so that\nwe can test the deployment pattern in the integration job.\n\nChange-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf\n'}]",0,847919,f3cb529d36780a5a5399aab169f4bd648af2b3d6,36,3,17,9816,,,0,"Enable Octavia + OVN provider in scenario 005

This change enables Octavia and OVN provider in scenario 005 so that
we can test the deployment pattern in the integration job.

Change-Id: Ic7566a2cf1f3063e51d1ca7bc2c6c482a14b1bbf
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/19/847919/2 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario005.pp', 'manifests/tempest.pp', 'manifests/octavia.pp']",3,875a7f45dba3a85301e9b0ceefe3427fc6dfeebb,ovn-octavia,"# [*provider_driver*] # (optional) Provider driver used in Octavia. # Defaults to 'amphora'. # $provider_driver = 'amphora', if $provider_driver == 'ovn' { $enabled_provider_drivers = {'ovn' => 'OVN provider driver'}, } else{ $enabled_provider_drivers = $::os_service_default class { 'octavia::provider::ovn': ovn_nb_connection => 'tcp:127.0.0.1:6641', ovn_sb_connection => 'tcp:127.0.0.1:6642', } } class { 'octavia::api': enabled => true, service_name => 'httpd', sync_db => true, default_provider_driver => $provider_driver, enabled_provider_drivers => $enabled_provider_drivers,"," class { 'octavia::api': enabled => true, service_name => 'httpd', sync_db => true,",41,3
openstack%2Fpuppet-nova~master~Ie75f916223deb42c03803b84f442fe53f590949a,openstack/puppet-nova,master,Ie75f916223deb42c03803b84f442fe53f590949a,Remove handling of false value for instance_name_template,MERGED,2022-07-27 07:37:56.000000000,2022-08-01 09:04:21.000000000,2022-08-01 09:04:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 07:37:56.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3487ffc699e16541b6b033303952f118f827e244', 'message': 'Remove handling of false value for instance_name_template\n\nThat usage was deprecated during Wallaby cycle[1].\n\n[1] 771b0bbe4e6c492496411de1e250da536106f699\n\nChange-Id: Ie75f916223deb42c03803b84f442fe53f590949a\n'}]",0,851168,3487ffc699e16541b6b033303952f118f827e244,7,3,1,9816,,,0,"Remove handling of false value for instance_name_template

That usage was deprecated during Wallaby cycle[1].

[1] 771b0bbe4e6c492496411de1e250da536106f699

Change-Id: Ie75f916223deb42c03803b84f442fe53f590949a
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/68/851168/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,3487ffc699e16541b6b033303952f118f827e244,, nova_config { 'DEFAULT/instance_name_template': value => $instance_name_template;, if $instance_name_template { $instance_name_template_real = $instance_name_template } else { warning('Using a false value for instance_name_template is deprecated. Use $::os_service_default instead.') $instance_name_template_real = $::os_service_default } nova_config { 'DEFAULT/instance_name_template': value => $instance_name_template_real;,1,7
