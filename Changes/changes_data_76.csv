id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpuppet-openstacklib~master~I8b18015f4789f97cf07706ad6b3c99ce1eaedaf9,openstack/puppet-openstacklib,master,I8b18015f4789f97cf07706ad6b3c99ce1eaedaf9,Disallow duplicate policy rules with the same key,MERGED,2022-01-31 01:32:13.000000000,2022-08-01 09:04:11.000000000,2022-08-01 09:04:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 01:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/568cd195bf7e00e6c7018e8a63455f0ffec38dcb', 'message': 'Disallow duplicate policy rules with the same key\n\njson never accepts defining multiple records with the same key. This\nchange modifies the resource name to detect duplicate items defined\nwith the same key, instead of silently ignore some of them.\n\nChange-Id: I8b18015f4789f97cf07706ad6b3c99ce1eaedaf9\n'}, {'number': 2, 'created': '2022-07-20 15:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/4c8b8ef842b1e83132453cb7c8d5a4fc31be43d9', 'message': 'Disallow duplicate policy rules with the same key\n\njson never accepts defining multiple records with the same key. This\nchange modifies the resource name to detect duplicate items defined\nwith the same key, instead of silently ignore some of them.\n\nChange-Id: I8b18015f4789f97cf07706ad6b3c99ce1eaedaf9\n'}, {'number': 3, 'created': '2022-07-20 23:14:48.000000000', 'files': ['spec/defines/openstacklib_policy_base_spec.rb', 'manifests/policy/base.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/78c6e4cb5bb80490b2733e5932230cb8852e9d29', 'message': 'Disallow duplicate policy rules with the same key\n\njson never accepts defining multiple records with the same key. This\nchange modifies the resource name to detect duplicate items defined\nwith the same key, instead of silently ignore some of them.\n\nChange-Id: I8b18015f4789f97cf07706ad6b3c99ce1eaedaf9\n'}]",0,826978,78c6e4cb5bb80490b2733e5932230cb8852e9d29,11,3,3,9816,,,0,"Disallow duplicate policy rules with the same key

json never accepts defining multiple records with the same key. This
change modifies the resource name to detect duplicate items defined
with the same key, instead of silently ignore some of them.

Change-Id: I8b18015f4789f97cf07706ad6b3c99ce1eaedaf9
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/78/826978/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/openstacklib_policy_base_spec.rb', 'manifests/policy/base.pp']",2,568cd195bf7e00e6c7018e8a63455f0ffec38dcb,," augeas { ""${file_path}-${key}-add"": augeas { ""${file_path}-${key}"" : -> Augeas<| title == ""${file_path}-${key}-add"" |> ~> Augeas<| title == ""${file_path}-${key}"" |>"," augeas { ""${file_path}-${key}-${value}-add"": augeas { ""${file_path}-${key}-${value}"" : -> Augeas<| title == ""${file_path}-${key}-${value}-add"" |> ~> Augeas<| title == ""${file_path}-${key}-${value}"" |>",6,6
openstack%2Freleases~master~Ieb39b0ab55bd1d4b6ed6640ce90e2e639685c574,openstack/releases,master,Ieb39b0ab55bd1d4b6ed6640ce90e2e639685c574,[cloudkitty] Transition Pike to End of Life,MERGED,2022-07-29 14:43:17.000000000,2022-08-01 09:03:14.000000000,2022-08-01 09:03:14.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 14:43:17.000000000', 'files': ['deliverables/pike/cloudkitty-dashboard.yaml', 'deliverables/pike/python-cloudkittyclient.yaml', 'deliverables/pike/cloudkitty.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/092b1bec3f71e1206a0f106149bf27936fee4a86', 'message': ""[cloudkitty] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ieb39b0ab55bd1d4b6ed6640ce90e2e639685c574\n""}]",1,851551,092b1bec3f71e1206a0f106149bf27936fee4a86,9,4,1,17685,,,0,"[cloudkitty] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ieb39b0ab55bd1d4b6ed6640ce90e2e639685c574
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/851551/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/cloudkitty-dashboard.yaml', 'deliverables/pike/python-cloudkittyclient.yaml', 'deliverables/pike/cloudkitty.yaml']",3,092b1bec3f71e1206a0f106149bf27936fee4a86,pike-eol, - version: pike-eol projects: - repo: openstack/cloudkitty hash: 2da6c82e19650c09f13bae1a60a2eebe3687c843,,12,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Icdbc8d687e1a19ec4015c57acc05d35ddcfd2a77,openstack/tripleo-ansible,stable/wallaby,Icdbc8d687e1a19ec4015c57acc05d35ddcfd2a77,Remove wrong equal sign,MERGED,2022-07-22 12:30:15.000000000,2022-08-01 09:02:22.000000000,2022-08-01 09:02:22.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-22 12:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4bfbceba7a228d46357a93b09c52ef4360b11f8f', 'message': ""Remove wrong equal sign\n\nAccording to the official doc[1], the syntax was wrong, leading to\nissues. It wasn't detected until now, because the option wasn't\nactually used.\n\n[1] https://docs.docker.com/engine/reference/builder/#arg\n\nChange-Id: Icdbc8d687e1a19ec4015c57acc05d35ddcfd2a77\n""}, {'number': 2, 'created': '2022-07-25 06:21:28.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_image_build/templates/Containerfile.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc5500282ad645722df71b03ae890703b75c80c5', 'message': ""Remove wrong equal sign\n\nAccording to the official doc[1], the syntax was wrong, leading to\nissues. It wasn't detected until now, because the option wasn't\nactually used.\n\n[1] https://docs.docker.com/engine/reference/builder/#arg\n\nChange-Id: Icdbc8d687e1a19ec4015c57acc05d35ddcfd2a77\n(cherry picked from commit e9a1797366a97af171aa421180939e20bf018d4d)\n""}]",4,850562,cc5500282ad645722df71b03ae890703b75c80c5,23,4,2,12393,,,0,"Remove wrong equal sign

According to the official doc[1], the syntax was wrong, leading to
issues. It wasn't detected until now, because the option wasn't
actually used.

[1] https://docs.docker.com/engine/reference/builder/#arg

Change-Id: Icdbc8d687e1a19ec4015c57acc05d35ddcfd2a77
(cherry picked from commit e9a1797366a97af171aa421180939e20bf018d4d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/850562/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_image_build/templates/Containerfile.j2'],1,4bfbceba7a228d46357a93b09c52ef4360b11f8f,tcib/ARG-stable/wallaby,ARG {{ key }}={{ value | to_json }},ARG = {{ key }}={{ value | to_json }},1,1
openstack%2Fpuppet-keystone~stable%2Fyoga~Ic0398cfbb14782ce16710a838e5428be50f2a0b3,openstack/puppet-keystone,stable/yoga,Ic0398cfbb14782ce16710a838e5428be50f2a0b3,Ensure key contents are hidden,MERGED,2022-07-16 18:10:04.000000000,2022-08-01 09:01:46.000000000,2022-08-01 09:00:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-16 18:10:04.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/bug-1979672-003a5939f3bd6f67.yaml', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/6a0ca3f0f5730aa5cca683c62117c3f1568ca535', 'message': 'Ensure key contents are hidden\n\nBy default, the file resource shows differences when the file changes.\nThis change disables that for the key files so that key contents are\nnot displayed in output.\n\nCloses-Bug: #1979672\nChange-Id: Ic0398cfbb14782ce16710a838e5428be50f2a0b3\n(cherry picked from commit c76bfbe41f7bdc37a50893609cd4d70a2a7e1a75)\n'}]",0,850032,6a0ca3f0f5730aa5cca683c62117c3f1568ca535,10,3,1,9816,,,0,"Ensure key contents are hidden

By default, the file resource shows differences when the file changes.
This change disables that for the key files so that key contents are
not displayed in output.

Closes-Bug: #1979672
Change-Id: Ic0398cfbb14782ce16710a838e5428be50f2a0b3
(cherry picked from commit c76bfbe41f7bdc37a50893609cd4d70a2a7e1a75)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/32/850032/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/bug-1979672-003a5939f3bd6f67.yaml', 'spec/classes/keystone_init_spec.rb']",3,6a0ca3f0f5730aa5cca683c62117c3f1568ca535,bug/1979672," :show_diff => false, :show_diff => false,",,9,0
openstack%2Fpuppet-openstack-integration~master~Ie5546e9695f41c1302cd6cfce5e3f9b3a9172514,openstack/puppet-openstack-integration,master,Ie5546e9695f41c1302cd6cfce5e3f9b3a9172514,Fix old description about scenario tests,MERGED,2022-07-03 15:08:52.000000000,2022-08-01 09:00:58.000000000,2022-08-01 09:00:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-03 15:08:52.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3d989b0c4238d41119a064cc3fb14ecbf903f948', 'message': 'Fix old description about scenario tests\n\nNow we use CentOS 9 instead of CentOS 8. Also scenario 005 has been\nadded to test ml2 + ovn by [1].\n\n[1] 6f090cc74d0eaa6ae835864ff70856bd1e812efc\n\nChange-Id: Ie5546e9695f41c1302cd6cfce5e3f9b3a9172514\n'}]",0,848535,3d989b0c4238d41119a064cc3fb14ecbf903f948,7,3,1,9816,,,0,"Fix old description about scenario tests

Now we use CentOS 9 instead of CentOS 8. Also scenario 005 has been
added to test ml2 + ovn by [1].

[1] 6f090cc74d0eaa6ae835864ff70856bd1e812efc

Change-Id: Ie5546e9695f41c1302cd6cfce5e3f9b3a9172514
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/35/848535/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,3d989b0c4238d41119a064cc3fb14ecbf903f948,,"(Ubuntu and CentOS): scenario001, scenario002, scenario003, scenario004, and scenario005.| ipv6 | centos9 | centos9 | centos9 | centos9 | centos9 | centos9 | no |","(Ubuntu and CentOS): scenario001, scenario002, scenario003 and scenario004.| ipv6 | centos8 | centos8 | centos8 | centos8 | centos8 | centos8 | no |",3,2
openstack%2Fpuppet-openstack-integration~master~Ibbffc177c7ea74f9182c08fcfa56f8d27ea23fc6,openstack/puppet-openstack-integration,master,Ibbffc177c7ea74f9182c08fcfa56f8d27ea23fc6,Magnum: Use common implementation to set up rabbitmq access,MERGED,2022-07-05 03:19:11.000000000,2022-08-01 09:00:55.000000000,2022-08-01 09:00:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-05 03:19:11.000000000', 'files': ['manifests/magnum.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1f45513e655cafb864ca172d37223c017dadd55b', 'message': 'Magnum: Use common implementation to set up rabbitmq access\n\nChange-Id: Ibbffc177c7ea74f9182c08fcfa56f8d27ea23fc6\n'}]",1,848683,1f45513e655cafb864ca172d37223c017dadd55b,9,3,1,9816,,,0,"Magnum: Use common implementation to set up rabbitmq access

Change-Id: Ibbffc177c7ea74f9182c08fcfa56f8d27ea23fc6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/83/848683/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/magnum.pp'],1,1f45513e655cafb864ca172d37223c017dadd55b,," openstack_integration::mq_user { 'magnum': before => Anchor['magnum::service::begin'],"," rabbitmq_user { 'magnum': admin => true, provider => 'rabbitmqctl', require => Class['rabbitmq'], } rabbitmq_user_permissions { 'magnum@/': configure_permission => '.*', write_permission => '.*', read_permission => '.*', provider => 'rabbitmqctl', require => Class['rabbitmq'],",2,11
openstack%2Fpuppet-openstack-integration~master~Id9df2ec139e1e91516417ade103b4fcfa5da9ae8,openstack/puppet-openstack-integration,master,Id9df2ec139e1e91516417ade103b4fcfa5da9ae8,Enable ironic-inspector in Ubuntu/Debian,MERGED,2022-07-02 17:11:05.000000000,2022-08-01 09:00:52.000000000,2022-08-01 09:00:52.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-02 17:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5cb6b66c49e053b14a0ff7bd1bd8eb699ae5d0d1', 'message': 'Enable ironic-inspector in Ubuntu/Debian\n\n... because now the ironic-inspector package is available.\n\nChange-Id: Id9df2ec139e1e91516417ade103b4fcfa5da9ae8\n'}, {'number': 2, 'created': '2022-07-02 17:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c4b83353fb0b089f7c721755741085ba0ead59e8', 'message': 'Enable ironic-inspector in Ubuntu/Debian\n\n... because now the ironic-inspector package is available.\n\nChange-Id: Id9df2ec139e1e91516417ade103b4fcfa5da9ae8\n'}, {'number': 3, 'created': '2022-07-03 18:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/defc71994142151f7b47f27ba41b1621b7cc6e94', 'message': 'Enable ironic-inspector in Ubuntu/Debian\n\n... because now the ironic-inspector package is available.\n\nDepends-on: https://review.opendev.org/848546\nChange-Id: Id9df2ec139e1e91516417ade103b4fcfa5da9ae8\n'}, {'number': 4, 'created': '2022-07-05 03:17:15.000000000', 'files': ['manifests/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7d4e7f09a8d950c2cc74f4509acd916ce5567746', 'message': 'Enable ironic-inspector in Ubuntu/Debian\n\n... because now the ironic-inspector package is available.\n\nDepends-on: https://review.opendev.org/848546\nChange-Id: Id9df2ec139e1e91516417ade103b4fcfa5da9ae8\n'}]",1,848512,7d4e7f09a8d950c2cc74f4509acd916ce5567746,16,4,4,9816,,,0,"Enable ironic-inspector in Ubuntu/Debian

... because now the ironic-inspector package is available.

Depends-on: https://review.opendev.org/848546
Change-Id: Id9df2ec139e1e91516417ade103b4fcfa5da9ae8
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/12/848512/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ironic.pp'],1,5cb6b66c49e053b14a0ff7bd1bd8eb699ae5d0d1,debian-ironic-inspector," class { 'ironic::inspector::db::mysql': charset => $::openstack_integration::params::mysql_charset, password => 'a_big_secret', } class { 'ironic::inspector::authtoken': password => 'a_big_secret', } class { 'ironic::pxe': } class { 'ironic::inspector::db': database_connection => 'mysql+pymysql://ironic-inspector:a_big_secret@127.0.0.1/ironic-inspector?charset=utf8', } class { 'ironic::inspector::ironic': password => 'a_big_secret', auth_url => ""${::openstack_integration::config::keystone_auth_uri}/v3"", } class { 'ironic::inspector': listen_address => $::openstack_integration::config::host, default_transport_url => os_transport_url({ 'transport' => $::openstack_integration::config::messaging_default_proto, 'host' => $::openstack_integration::config::host, 'port' => $::openstack_integration::config::messaging_default_port, 'username' => 'ironic', 'password' => 'an_even_bigger_secret', }), dnsmasq_interface => 'eth0', } Rabbitmq_user_permissions['ironic@/'] -> Service<| tag == 'ironic-inspector-service' |>"," case $::osfamily { 'Debian': { warning(""Ironic inspector packaging is not ready on ${::osfamily}."") } 'RedHat': { class { 'ironic::inspector::db::mysql': charset => $::openstack_integration::params::mysql_charset, password => 'a_big_secret', } class { 'ironic::inspector::authtoken': password => 'a_big_secret', } class { 'ironic::pxe': } class { 'ironic::inspector::db': database_connection => 'mysql+pymysql://ironic-inspector:a_big_secret@127.0.0.1/ironic-inspector?charset=utf8', } class { 'ironic::inspector::ironic': password => 'a_big_secret', auth_url => ""${::openstack_integration::config::keystone_auth_uri}/v3"", } class { 'ironic::inspector': listen_address => $::openstack_integration::config::host, default_transport_url => os_transport_url({ 'transport' => $::openstack_integration::config::messaging_default_proto, 'host' => $::openstack_integration::config::host, 'port' => $::openstack_integration::config::messaging_default_port, 'username' => 'ironic', 'password' => 'an_even_bigger_secret', }), dnsmasq_interface => 'eth0', } Rabbitmq_user_permissions['ironic@/'] -> Service<| tag == 'ironic-inspector-service' |> } default: { fail(""Unsupported osfamily (${::osfamily})"") } }",26,36
openstack%2Fpuppet-openstack-integration~master~I53e5b18f88d961d5b9bf14e71b5d3cb4ff006fa5,openstack/puppet-openstack-integration,master,I53e5b18f88d961d5b9bf14e71b5d3cb4ff006fa5,ironic-inspector: Fix incomplete setting of authtoken middleware,MERGED,2022-07-02 17:15:05.000000000,2022-08-01 09:00:50.000000000,2022-08-01 09:00:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-02 17:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/eb8805d6cb43ceaa76f3f34ec6144b9ece3ec8e7', 'message': 'ironic-inspector: Fix incomplete setting of authtoken middleware\n\nThis change fixes a few missing parameters (keystone url and a few\noptional parameters like domain name or memcache servers) to\nthe authtoken middleware setting in ironic-inspector.\n\nChange-Id: I53e5b18f88d961d5b9bf14e71b5d3cb4ff006fa5\n'}, {'number': 2, 'created': '2022-07-02 17:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dd442ec35ff29dd071cf321957b56498d1954de8', 'message': 'ironic-inspector: Fix incomplete setting of authtoken middleware\n\nThis change fixes a few missing parameters (keystone url and a few\noptional parameters like domain name or memcache servers) to\nthe authtoken middleware setting in ironic-inspector.\n\nChange-Id: I53e5b18f88d961d5b9bf14e71b5d3cb4ff006fa5\n'}, {'number': 3, 'created': '2022-07-05 03:17:15.000000000', 'files': ['manifests/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5d527f36d282312bb7f7fd686bae6b80672c4262', 'message': 'ironic-inspector: Fix incomplete setting of authtoken middleware\n\nThis change fixes a few missing parameters (keystone url and a few\noptional parameters like domain name or memcache servers) to\nthe authtoken middleware setting in ironic-inspector.\n\nChange-Id: I53e5b18f88d961d5b9bf14e71b5d3cb4ff006fa5\n'}]",0,848513,5d527f36d282312bb7f7fd686bae6b80672c4262,10,3,3,9816,,,0,"ironic-inspector: Fix incomplete setting of authtoken middleware

This change fixes a few missing parameters (keystone url and a few
optional parameters like domain name or memcache servers) to
the authtoken middleware setting in ironic-inspector.

Change-Id: I53e5b18f88d961d5b9bf14e71b5d3cb4ff006fa5
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/13/848513/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ironic.pp'],1,eb8805d6cb43ceaa76f3f34ec6144b9ece3ec8e7,debian-ironic-inspector," password => 'a_big_secret', user_domain_name => 'Default', project_domain_name => 'Default', auth_url => $::openstack_integration::config::keystone_admin_uri, www_authenticate_uri => $::openstack_integration::config::keystone_auth_uri, memcached_servers => $::openstack_integration::config::memcached_servers,"," password => 'a_big_secret',",6,1
openstack%2Fpuppet-openstack-integration~master~Icdc702b467d8b04d73a74c81ca5c312ee2b38bc3,openstack/puppet-openstack-integration,master,Icdc702b467d8b04d73a74c81ca5c312ee2b38bc3,ironic: Remove redundant resource ordering,MERGED,2022-07-02 17:11:05.000000000,2022-08-01 09:00:47.000000000,2022-08-01 09:00:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-02 17:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/72d2ac58c5dd3f7c6da8a0714ec8c446e38b4860', 'message': 'Ensure ironic-inspector is started after rabbitmq user is created\n\nChange-Id: Icdc702b467d8b04d73a74c81ca5c312ee2b38bc3\n'}, {'number': 2, 'created': '2022-07-02 17:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/89e454ec423320794331b8b7ca62c5bdae5fc5c2', 'message': 'ironic-inspector: Ensure rabbitmq user is created\n\n... before starting the service.\n\nChange-Id: Icdc702b467d8b04d73a74c81ca5c312ee2b38bc3\n'}, {'number': 3, 'created': '2022-07-05 03:17:15.000000000', 'files': ['manifests/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7159745de89e5e02929107dd84466df748a0473c', 'message': 'ironic: Remove redundant resource ordering\n\nIt is already ensured that RabbitMQ users are set up before ironic\nservices are started.\n\nChange-Id: Icdc702b467d8b04d73a74c81ca5c312ee2b38bc3\n'}]",0,848511,7159745de89e5e02929107dd84466df748a0473c,10,3,3,9816,,,0,"ironic: Remove redundant resource ordering

It is already ensured that RabbitMQ users are set up before ironic
services are started.

Change-Id: Icdc702b467d8b04d73a74c81ca5c312ee2b38bc3
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/11/848511/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ironic.pp'],1,72d2ac58c5dd3f7c6da8a0714ec8c446e38b4860,debian-ironic-inspector, Rabbitmq_user_permissions['ironic@/'] -> Service<| tag == 'ironic-inspector-service' |>,,2,0
openstack%2Fpuppet-horizon~master~Ic1859cd40826dfef7fe392121cb8f3401faaf593,openstack/puppet-horizon,master,Ic1859cd40826dfef7fe392121cb8f3401faaf593,Replace deprecated ugettext_lazy,MERGED,2022-07-11 04:37:13.000000000,2022-08-01 08:59:06.000000000,2022-08-01 08:59:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-07-11 04:37:13.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/db4a675203965a7345c81e0da77bab4d824c6f2e', 'message': 'Replace deprecated ugettext_lazy\n\nThe ugettext_lazy method has been deprecated since Django 3.0[1].\n\nThis was already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/3.0/releases/3.0/#id3\n[2] cd7c1b5110fe1f64cd9dfbeb1072b37912d0efee\n\nChange-Id: Ic1859cd40826dfef7fe392121cb8f3401faaf593\n'}]",0,849260,db4a675203965a7345c81e0da77bab4d824c6f2e,8,4,1,9816,,,0,"Replace deprecated ugettext_lazy

The ugettext_lazy method has been deprecated since Django 3.0[1].

This was already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/3.0/releases/3.0/#id3
[2] cd7c1b5110fe1f64cd9dfbeb1072b37912d0efee

Change-Id: Ic1859cd40826dfef7fe392121cb8f3401faaf593
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/60/849260/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,db4a675203965a7345c81e0da77bab4d824c6f2e,django40warning,from django.utils.translation import gettext_lazy as _,from django.utils.translation import ugettext_lazy as _,1,1
openstack%2Fpuppet-octavia~master~I20e91a095b0424f21c66785f6d27a0d3ecaea0eb,openstack/puppet-octavia,master,I20e91a095b0424f21c66785f6d27a0d3ecaea0eb,Make TripleO job voting,MERGED,2022-02-22 07:05:17.000000000,2022-08-01 08:55:22.000000000,2022-08-01 08:55:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-22 07:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/2220b772dceec7e2bd082a393194176ab192742b', 'message': ""Make TripleO job voting\n\nThe puppet-octavia-tripleo-standalone job has been stable since we\nswitched to nested virt. Because this is the only test case which\nvalidates actual resource operations (e.g. load balancer management,\npool management, ...), let's enable the job to ensure any change does\nnot affect functionality.\n\nChange-Id: I20e91a095b0424f21c66785f6d27a0d3ecaea0eb\n""}, {'number': 2, 'created': '2022-07-12 04:43:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/1a91f1e7a69d98a072fdcc9eb7af9c018bbbfc08', 'message': ""Make TripleO job voting\n\nThe puppet-octavia-tripleo-standalone job has been stable since we\nswitched to nested virt. Because this is the only test case which\nvalidates actual resource operations (e.g. load balancer management,\npool management, ...), let's enable the job to ensure any change does\nnot affect functionality.\n\nChange-Id: I20e91a095b0424f21c66785f6d27a0d3ecaea0eb\n""}]",1,830317,1a91f1e7a69d98a072fdcc9eb7af9c018bbbfc08,11,3,2,9816,,,0,"Make TripleO job voting

The puppet-octavia-tripleo-standalone job has been stable since we
switched to nested virt. Because this is the only test case which
validates actual resource operations (e.g. load balancer management,
pool management, ...), let's enable the job to ensure any change does
not affect functionality.

Change-Id: I20e91a095b0424f21c66785f6d27a0d3ecaea0eb
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/17/830317/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2220b772dceec7e2bd082a393194176ab192742b,, - puppet-octavia-tripleo-standalone gate: jobs: - puppet-octavia-tripleo-standalone, - puppet-octavia-tripleo-standalone: voting: false,4,2
openstack%2Fpuppet-tempest~master~I1351bd4e7b84957e3d84b7e779fb58f5af282b8e,openstack/puppet-tempest,master,I1351bd4e7b84957e3d84b7e779fb58f5af282b8e,Remove logic for Windows systems,MERGED,2022-07-07 15:37:03.000000000,2022-08-01 08:52:26.000000000,2022-08-01 08:52:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-07 15:37:03.000000000', 'files': ['lib/puppet/type/tempest_config.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/9506c10502554ded3af6cc80265fbc08dd51e871', 'message': ""Remove logic for Windows systems\n\n... because we've never supported Windows OS.\n\nChange-Id: I1351bd4e7b84957e3d84b7e779fb58f5af282b8e\n""}]",1,848977,9506c10502554ded3af6cc80265fbc08dd51e871,9,3,1,9816,,,0,"Remove logic for Windows systems

... because we've never supported Windows OS.

Change-Id: I1351bd4e7b84957e3d84b7e779fb58f5af282b8e
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/77/848977/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/type/tempest_config.rb'],1,9506c10502554ded3af6cc80265fbc08dd51e871,, unless value =~ /^\//, unless (Puppet.features.posix? and value =~ /^\//) or (Puppet.features.microsoft_windows? and (value =~ /^.:\// or value =~ /^\/\/[^\/]+\/[^\/]+/)),1,1
openstack%2Fpuppet-vswitch~master~I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4,openstack/puppet-vswitch,master,I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4,vs_bridge: Support customizing mac table size,MERGED,2022-07-16 13:30:52.000000000,2022-08-01 08:51:09.000000000,2022-08-01 08:49:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-16 13:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/828e853ccb68f4c856d968e75e5cd5ef1569d448', 'message': 'vs_bridge: Support customizing mac table size\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 2, 'created': '2022-07-16 13:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/9bfe835ba7551952f289a62c38e4e434373aac00', 'message': 'vs_bridge: Support customizing mac table size\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 3, 'created': '2022-07-16 14:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/61826eb5d6cb88711922cc838759a34711622655', 'message': 'vs_bridge: Support customizing mac table size\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 4, 'created': '2022-07-16 14:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/02127801887f11f036b8bfbc83f275e651d14bb6', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 5, 'created': '2022-07-16 16:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/6ce6b86fc6dbc5cfd8c2cbb929083fa360aeb881', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 6, 'created': '2022-07-16 16:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/044d323cbaacb3301f1ef3f8dd0ebdd3985e5a8a', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 7, 'created': '2022-07-16 17:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/888466e19f62302e663fcb298015bdb207ea3dc1', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 8, 'created': '2022-07-17 02:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/e79d0f6a2485b9fb9c4b8908b8af3f0d3a0f4e22', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 9, 'created': '2022-07-18 16:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/4737551fe8308ec92ac943e46f79b386996b973c', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 10, 'created': '2022-07-18 16:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/bbb23fd6ee597bbf53c235799226ebbe4535b9d5', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 11, 'created': '2022-07-18 16:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/672287edc78b596535de27c35874f1851079c6de', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 12, 'created': '2022-07-18 16:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/cbc08a4e9e88c4c9c0df759ab1319f1b4b04987f', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 13, 'created': '2022-07-18 16:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/9d6f72925a8bf63df023943688906146cb2c62bf', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 14, 'created': '2022-07-18 17:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f54f873cb91879e2a5e96a0b179c644e1d973d13', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nCloses-Bug: #1958873\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 15, 'created': '2022-07-18 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/8e2921a0c93bdbf1f6d844a3ce961f417b4df356', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nCloses-Bug: #1958873\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 16, 'created': '2022-07-19 01:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/2009e31bef246d9138beff10997513697b7896fc', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nCloses-Bug: #1958873\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 17, 'created': '2022-07-19 02:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/c7a6201bda0d77d8b0e0dc2b8a370bb2507f755c', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nCloses-Bug: #1958873\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 18, 'created': '2022-07-19 03:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/030f56982bc539bd81fe851df72052b61001391f', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nCloses-Bug: #1958873\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 19, 'created': '2022-07-19 05:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/8459606c6ad7ebb3d589d5fa11ca9607cd754429', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nCloses-Bug: #1958873\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 20, 'created': '2022-07-19 05:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/b5528dc653e60d0bc2abc45060b07bdf3ccb3b4b', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nCloses-Bug: #1958873\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 21, 'created': '2022-07-23 22:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/d60fe859e82fb7735c357409cff5c75cf28f4875', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nCloses-Bug: #1958873\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 22, 'created': '2022-07-23 22:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/a59a4d2210b4ad8870f91f103b70b0edac037914', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nCloses-Bug: #1958873\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}, {'number': 23, 'created': '2022-07-23 22:53:42.000000000', 'files': ['lib/puppet/provider/vs_port/ovs_redhat.rb', 'lib/puppet/provider/vs_bridge/ovs.rb', 'releasenotes/notes/bridge-mac-table-size-256d2f16565d8b52.yaml', 'spec/acceptance/basic_vswitch_spec.rb', 'lib/puppet/type/vs_bridge.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/867b10bde98dea48595988109430e5e53b535a1a', 'message': 'vs_bridge: Support customizing mac table size\n\nThis change introduces the native property to the vs_bridge resource\ntype to customize mac table size, which is currently implemented in\npuppet-ovn by the exec resources.\n\nCloses-Bug: #1958873\nChange-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4\n'}]",0,850086,867b10bde98dea48595988109430e5e53b535a1a,42,3,23,9816,,,0,"vs_bridge: Support customizing mac table size

This change introduces the native property to the vs_bridge resource
type to customize mac table size, which is currently implemented in
puppet-ovn by the exec resources.

Closes-Bug: #1958873
Change-Id: I7c2f78aa5f281aa4b24c1fb12dbb38b8d97f64f4
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/86/850086/11 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/vs_bridge/ovs.rb', 'releasenotes/notes/bridge-mac-table-size-256d2f16565d8b52.yaml', 'lib/puppet/type/vs_bridge.rb']",3,828e853ccb68f4c856d968e75e5cd5ef1569d448,bug/1958873, newproperty(:mac_table_size) do desc 'Mac table size' end ,,30,0
openstack%2Fpuppet-openstack-integration~master~I4ecc5ec4271badabbf421eade7f32ea006d773b2,openstack/puppet-openstack-integration,master,I4ecc5ec4271badabbf421eade7f32ea006d773b2,Create a separate ovn manifest,MERGED,2022-07-02 16:53:41.000000000,2022-08-01 08:49:48.000000000,2022-08-01 08:49:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-02 16:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5a89aa158b75c4a2ca2fedac6f9e64b4622f0066', 'message': 'Create a separate ovn manifest\n\n... so that we can reuse the manifest in acceptance tests.\n\nChange-Id: I4ecc5ec4271badabbf421eade7f32ea006d773b2\n'}, {'number': 2, 'created': '2022-07-16 14:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/77e351459dbf63ffbbc3504d5e67ca09b967228e', 'message': 'Create a separate ovn manifest\n\n... so that we can reuse the manifest in acceptance tests.\n\nChange-Id: I4ecc5ec4271badabbf421eade7f32ea006d773b2\n'}, {'number': 3, 'created': '2022-07-16 14:04:20.000000000', 'files': ['manifests/neutron.pp', 'manifests/ovn.pp', 'fixtures/scenario005.pp', 'fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8ba8fb649df78f1d8be44cc15ef4f185433d679e', 'message': 'Create a separate ovn manifest\n\n... so that we can reuse the manifest in acceptance tests.\n\nChange-Id: I4ecc5ec4271badabbf421eade7f32ea006d773b2\n'}]",1,848488,8ba8fb649df78f1d8be44cc15ef4f185433d679e,13,3,3,9816,,,0,"Create a separate ovn manifest

... so that we can reuse the manifest in acceptance tests.

Change-Id: I4ecc5ec4271badabbf421eade7f32ea006d773b2
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/88/848488/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/neutron.pp', 'manifests/ovn.pp', 'fixtures/scenario005.pp']",3,5a89aa158b75c4a2ca2fedac6f9e64b4622f0066,ovn-manifest,include openstack_integration::ovn,,18,8
openstack%2Fpuppet-openstack-integration~master~Ic8a12d373e0d33e4caac8b8ad4b84faaf98f9267,openstack/puppet-openstack-integration,master,Ic8a12d373e0d33e4caac8b8ad4b84faaf98f9267,Use openstack_spec_helper from zuul checkout,MERGED,2022-07-23 14:30:19.000000000,2022-08-01 08:49:46.000000000,2022-08-01 08:49:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-23 14:30:19.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/05373f49922bf85aff8e62204cff39ede83a2a6d', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: Ic8a12d373e0d33e4caac8b8ad4b84faaf98f9267\nCo-Authored-By: Tobias Urdin <tobias.urdin@binero.se>\n'}]",0,850790,05373f49922bf85aff8e62204cff39ede83a2a6d,7,3,1,9816,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: Ic8a12d373e0d33e4caac8b8ad4b84faaf98f9267
Co-Authored-By: Tobias Urdin <tobias.urdin@binero.se>
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/90/850790/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,05373f49922bf85aff8e62204cff39ede83a2a6d,," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Fswift~master~Ia43e91a545a822cace41a0e814ab6c3bd89f8402,openstack/swift,master,Ia43e91a545a822cace41a0e814ab6c3bd89f8402,sharder/replicator: emit stats for DBs created or existing,MERGED,2022-07-25 15:56:46.000000000,2022-08-01 08:48:07.000000000,2022-08-01 08:46:49.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-25 15:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8c32875989a69eeae124e260182873869ca1a599', 'message': 'sharder: emit stats for shard DBs created or existing\n\nThe number of container partitions that are in handoff locations can\nbe used to track progress of a container ring rebalance. However, the\nsharder also creates shard container DBs that are often in handoff\nlocations, which distorts insights into rebalance progress. Emitting\nstats for sharder-created DBs will help quantify any such distortion.\n\nNew stats are:\n    cleaved_db_created\n    cleaved_db_exists\n    misplaced_db_created\n    misplaced_db_exists\n\nChange-Id: Ia43e91a545a822cace41a0e814ab6c3bd89f8402\n'}, {'number': 2, 'created': '2022-07-27 10:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b836635ccb8bd1f4a8cbdba9430a2df6b7df5dc4', 'message': 'sharder: emit stats for shard DBs created or existing\n\nThe number of container partitions that are in handoff locations can\nbe used to track progress of a container ring rebalance. However, the\nsharder also creates shard container DBs that are often in handoff\nlocations, which distorts insights into rebalance progress. Emitting\nstats for sharder-created DBs will help quantify any such distortion.\n\nNew stats are:\n    cleaved_db_created\n    cleaved_db_exists\n    misplaced_db_created\n    misplaced_db_exists\n\nChange-Id: Ia43e91a545a822cace41a0e814ab6c3bd89f8402\n'}, {'number': 3, 'created': '2022-07-27 13:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/448427388778a9622a46cf8288ab652f31be3257', 'message': 'sharder/replicator: emit stats for DBs created or existing\n\nThe number of container partitions that are in handoff locations can\nbe used to track progress of a container ring rebalance. However,\ncontainer DBs are sometimes deliberately created in handoff locations:\nthe sharder creates shard container DBs while cleaving and also while\nmoving misplaced objects; the container-replicator creates DBs to feed\nmisplaced objects to the reconciler. These DBs can distorts insights\ninto rebalance progress. Emitting stats will help quantify any such\ndistortion.\n\nNew sharder stats are:\n    cleaved_db_created\n    cleaved_db_exists\n    misplaced_db_created\n    misplaced_db_exists\n\nNew container-replicator stats are:\n    reconciler_db_created\n    reconciler_db_exists\n\nChange-Id: Ia43e91a545a822cace41a0e814ab6c3bd89f8402\n'}, {'number': 4, 'created': '2022-07-27 16:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/289f59416f964cf705e10c24dbd566c6767c8726', 'message': 'sharder/replicator: emit stats for DBs created or existing\n\nThe number of container partitions that are in handoff locations can\nbe used to track progress of a container ring rebalance. However,\ncontainer DBs are sometimes deliberately created in handoff locations:\nthe sharder creates shard container DBs while cleaving and also while\nmoving misplaced objects; the container-replicator creates DBs to feed\nmisplaced objects to the reconciler. These DBs can distorts insights\ninto rebalance progress. Emitting stats will help quantify any such\ndistortion.\n\nNew sharder stats are:\n    cleaved_db_created\n    cleaved_db_exists\n    misplaced_db_created\n    misplaced_db_exists\n\nNew container-replicator stats are:\n    reconciler_db_created\n    reconciler_db_exists\n\nChange-Id: Ia43e91a545a822cace41a0e814ab6c3bd89f8402\n'}, {'number': 5, 'created': '2022-07-30 16:30:30.000000000', 'files': ['test/unit/container/test_replicator.py', 'test/unit/container/test_sharder.py', 'swift/container/replicator.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/517738ac9a6efe97d227d979c47d5222fed47aae', 'message': 'sharder/replicator: emit stats for DBs created or existing\n\nThe number of container partitions that are in handoff locations can\nbe used to track progress of a container ring rebalance. However,\ncontainer DBs are sometimes deliberately created in handoff locations:\nthe sharder creates shard container DBs while cleaving and also while\nmoving misplaced objects; the container-replicator creates DBs to feed\nmisplaced objects to the reconciler. These DBs can distorts insights\ninto rebalance progress. Emitting stats will help quantify any such\ndistortion.\n\nNew sharder stats are:\n    cleaved_db_created\n    cleaved_db_exists\n    misplaced_db_created\n    misplaced_db_exists\n\nNew container-replicator stats are:\n    reconciler_db_created\n    reconciler_db_exists\n\nChange-Id: Ia43e91a545a822cace41a0e814ab6c3bd89f8402\n'}]",9,850905,517738ac9a6efe97d227d979c47d5222fed47aae,24,2,5,7847,,,0,"sharder/replicator: emit stats for DBs created or existing

The number of container partitions that are in handoff locations can
be used to track progress of a container ring rebalance. However,
container DBs are sometimes deliberately created in handoff locations:
the sharder creates shard container DBs while cleaving and also while
moving misplaced objects; the container-replicator creates DBs to feed
misplaced objects to the reconciler. These DBs can distorts insights
into rebalance progress. Emitting stats will help quantify any such
distortion.

New sharder stats are:
    cleaved_db_created
    cleaved_db_exists
    misplaced_db_created
    misplaced_db_exists

New container-replicator stats are:
    reconciler_db_created
    reconciler_db_exists

Change-Id: Ia43e91a545a822cace41a0e814ab6c3bd89f8402
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/850905/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,8c32875989a69eeae124e260182873869ca1a599,p-sharder-db-stats," if put_timestamp != shard_broker.get_info()['put_timestamp']: put_timestamp = None part, dest_broker, node_id, put_timestamp = \ self._get_shard_broker( dest_shard_range, src_broker.root_path, policy_index) stat = 'db_exists' if put_timestamp is None else 'db_created' self._increment_stat('misplaced', stat, statsd=True) stat = 'db_exists' if put_timestamp is None else 'db_created' self._increment_stat('cleaved', stat, statsd=True)"," part, dest_broker, node_id, _junk = self._get_shard_broker( dest_shard_range, src_broker.root_path, policy_index)",88,11
openstack%2Fpuppet-barbican~master~Ia9b89d92256f51d5a48a19849715335f6856e839,openstack/puppet-barbican,master,Ia9b89d92256f51d5a48a19849715335f6856e839,Remove support for [p11_crypto_plugin] token_label,MERGED,2022-06-23 03:42:15.000000000,2022-08-01 08:48:07.000000000,2022-08-01 08:46:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-23 03:42:15.000000000', 'files': ['manifests/plugins/p11_crypto.pp', 'releasenotes/notes/remove-p11_crypto_plugin-token_label-25bcd1caf9b434b5.yaml', 'spec/classes/barbican_plugins_p11_crypto_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/f606fd1ca3c0d60853146b41ea608d1bc0e14dae', 'message': 'Remove support for [p11_crypto_plugin] token_label\n\n... because it was deprecated during Wallaby cycle[1].\n\n[1] 4403fe7247151d324f80b865cc2d5a0a078d25fa\n\nChange-Id: Ia9b89d92256f51d5a48a19849715335f6856e839\n'}]",0,847235,f606fd1ca3c0d60853146b41ea608d1bc0e14dae,8,3,1,9816,,,0,"Remove support for [p11_crypto_plugin] token_label

... because it was deprecated during Wallaby cycle[1].

[1] 4403fe7247151d324f80b865cc2d5a0a078d25fa

Change-Id: Ia9b89d92256f51d5a48a19849715335f6856e839
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/35/847235/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/p11_crypto.pp', 'releasenotes/notes/remove-p11_crypto_plugin-token_label-25bcd1caf9b434b5.yaml', 'spec/classes/barbican_plugins_p11_crypto_spec.rb']",3,f606fd1ca3c0d60853146b41ea608d1bc0e14dae,,," :p11_crypto_plugin_token_label => 'token_label', is_expected.to contain_barbican_config('p11_crypto_plugin/token_label') \ .with_value(params[:p11_crypto_plugin_token_label])",5,20
openstack%2Fpuppet-ovn~master~Ic6f30108b9bff9203195dc35280e010679517e30,openstack/puppet-ovn,master,Ic6f30108b9bff9203195dc35280e010679517e30,Fix logics to assert ovn::controller::(bridge|port),MERGED,2022-07-16 13:44:47.000000000,2022-08-01 08:46:16.000000000,2022-08-01 08:46:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-16 13:44:47.000000000', 'files': ['spec/classes/ovn_controller_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/cde95c3490d0d06b006ffcdf0e6247d7de3a176a', 'message': 'Fix logics to assert ovn::controller::(bridge|port)\n\novn::controller::bridge and port are created for each element of\nthe mappings parameter, thus we should not join all elements but check\nindividual elements.\n\nChange-Id: Ic6f30108b9bff9203195dc35280e010679517e30\n'}]",0,850087,cde95c3490d0d06b006ffcdf0e6247d7de3a176a,7,3,1,9816,,,0,"Fix logics to assert ovn::controller::(bridge|port)

ovn::controller::bridge and port are created for each element of
the mappings parameter, thus we should not join all elements but check
individual elements.

Change-Id: Ic6f30108b9bff9203195dc35280e010679517e30
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/87/850087/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ovn_controller_spec.rb'],1,cde95c3490d0d06b006ffcdf0e6247d7de3a176a,," params[:ovn_bridge_mappings].each do |mapping| is_expected.to contain_ovn__controller__bridge(mapping).with( :before => 'Service[controller]', :require => 'Service[openvswitch]' ) end params[:bridge_interface_mappings].each do |mapping| is_expected.to contain_ovn__controller__port(mapping).with( :before => 'Service[controller]', :require => 'Service[openvswitch]' ) end params[:ovn_bridge_mappings].each do |mapping| is_expected.to_not contain_ovn__controller__bridge(mapping) end params[:bridge_interface_mappings].each do |mapping| is_expected.to_not contain_ovn__controller__port(mapping) end"," is_expected.to contain_ovn__controller__bridge(params[:ovn_bridge_mappings].join(',')).with( :before => 'Service[controller]', :require => 'Service[openvswitch]' ) is_expected.to contain_ovn__controller__port(params[:bridge_interface_mappings].join(',')).with( :before => 'Service[controller]', :require => 'Service[openvswitch]' ) is_expected.to_not contain_ovn__controller__bridge(params[:ovn_bridge_mappings].join(',')) is_expected.to_not contain_ovn__controller__port(params[:bridge_interface_mappings].join(','))",18,10
openstack%2Fpuppet-ovn~master~I4094214cb790497bbab36968fe97d93366898e67,openstack/puppet-ovn,master,I4094214cb790497bbab36968fe97d93366898e67,Refactor generation of northd options,MERGED,2022-07-22 08:27:02.000000000,2022-08-01 08:46:14.000000000,2022-08-01 08:46:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-22 08:27:02.000000000', 'files': ['manifests/northd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/7e15fdd138f6d7bdea68ea614d276627e2181ac3', 'message': 'Refactor generation of northd options\n\nThis change refactors the logic to generate northd options.\nThe main change is to split individual options to a separate string and\nconcatenate the arrays of options to get the all options.\n\nChange-Id: I4094214cb790497bbab36968fe97d93366898e67\n'}]",0,850731,7e15fdd138f6d7bdea68ea614d276627e2181ac3,7,3,1,9816,,,0,"Refactor generation of northd options

This change refactors the logic to generate northd options.
The main change is to split individual options to a separate string and
concatenate the arrays of options to get the all options.

Change-Id: I4094214cb790497bbab36968fe97d93366898e67
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/31/850731/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/northd.pp'],1,7e15fdd138f6d7bdea68ea614d276627e2181ac3,," $ovn_northd_opts_addr = [ ""--db-nb-addr=${dbs_listen_ip}"", ""--db-sb-addr=${dbs_listen_ip}"", '--db-nb-create-insecure-remote=yes', '--db-sb-create-insecure-remote=yes' ] $ovn_northd_opts_cluster_local_addr = [ ""--db-nb-cluster-local-addr=${dbs_cluster_local_addr}"", ""--db-sb-cluster-local-addr=${dbs_cluster_local_addr}"" ] } else { $ovn_northd_opts_cluster_local_addr = [] $ovn_northd_opts_cluster_remote_addr = [ ""--db-nb-cluster-remote-addr=${dbs_cluster_remote_addr}"", ""--db-sb-cluster-remote-addr=${dbs_cluster_remote_addr}"" ] } else { $ovn_northd_opts_cluster_remote_addr = [] } $ovn_northd_opts = join($ovn_northd_opts_addr + $ovn_northd_opts_cluster_local_addr + $ovn_northd_opts_cluster_remote_addr,"," $ovn_northd_opts_addr = ""--db-nb-addr=${dbs_listen_ip} --db-sb-addr=${dbs_listen_ip} \ --db-nb-create-insecure-remote=yes --db-sb-create-insecure-remote=yes"" $ovn_northd_opts_cluster_local_addr = ""--db-nb-cluster-local-addr=${dbs_cluster_local_addr} \ --db-sb-cluster-local-addr=${dbs_cluster_local_addr}"" } else { $ovn_northd_opts_cluster_local_addr = undef $ovn_northd_opts_cluster_remote_addr = ""--db-nb-cluster-remote-addr=${dbs_cluster_remote_addr} \ --db-sb-cluster-remote-addr=${dbs_cluster_remote_addr}"" } else { $ovn_northd_opts_cluster_remote_addr = undef } $ovn_northd_opts = join(delete_undef_values([$ovn_northd_opts_addr, $ovn_northd_opts_cluster_local_addr, $ovn_northd_opts_cluster_remote_addr]),",19,11
openstack%2Fpuppet-vswitch~master~I9d2f540e165cad8dd5532a113431cde395138c86,openstack/puppet-vswitch,master,I9d2f540e165cad8dd5532a113431cde395138c86,CentOS/RHEL: Fix missing external_ids,MERGED,2022-01-27 10:22:56.000000000,2022-08-01 08:43:54.000000000,2022-08-01 08:43:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 10:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/68cb5a9dac82b3cd44e78731785d702dd24c0509', 'message': ""WIP: CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with the physical interface name and the bridge\nproperty, the ovs_redhat provider manages the bridge by the network\nservice. However the cfg file generated doesn't include the required\noption to set external ids.\n\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 2, 'created': '2022-01-27 11:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/8f65335fcb38eec8368d4302fde6f95970897dea', 'message': ""WIP: CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with the physical interface name and the bridge\nproperty, the ovs_redhat provider manages the bridge by the network\nservice. However the cfg file generated doesn't include the required\noption to set external ids.\n\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 3, 'created': '2022-01-27 11:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/9f577bd5bfddb0306c76d6060d08122f0bbbbe57', 'message': ""WIP: CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with the physical interface name and the bridge\nproperty, the ovs_redhat provider manages the bridge by the network\nservice. However the cfg file generated doesn't include the required\noption to set external ids.\n\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 4, 'created': '2022-01-27 11:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f9afa7bfee21e30396da625be25e96d95b80ecbd', 'message': ""WIP: CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\n\nHowever the cfg file generated doesn't include the required option to\nset external ids.\n\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 5, 'created': '2022-01-27 14:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/cba3e623af2a8689e43c3c268831ef62a99deb71', 'message': ""WIP: CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\n\nHowever the cfg file generated doesn't include the required option to\nset external ids.\n\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 6, 'created': '2022-01-27 15:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/91cbb647191d516accfbe420381a16f6afad6485', 'message': ""WIP: CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\n\nHowever the cfg file generated doesn't include the required option to\nset external ids.\n\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 7, 'created': '2022-01-27 16:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/640bde104538e2d739b402e4a6fb1b8f829d29be', 'message': ""WIP: CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\n\nHowever the cfg file generated doesn't include the required option to\nset external ids.\n\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 8, 'created': '2022-01-28 03:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/0364e538412d1422e111ddbbfe290d95b793bb12', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 9, 'created': '2022-01-28 07:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f3773cb86eecb9404a2a7a010a31d9d792fd6c64', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 10, 'created': '2022-07-17 02:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/21448d1471c3a9ba310986cd98fc5ce82b639ba8', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 11, 'created': '2022-07-18 06:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/6b5083946b939e299ddd3c6e12ffdf4818669c37', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 12, 'created': '2022-07-18 06:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/6cebaa9104e0b84484a99f23354cdbb5d1e6ee66', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 13, 'created': '2022-07-18 10:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/4a6f6dec17529f89ace0fbcce9d2276c0668836f', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 14, 'created': '2022-07-18 11:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/9fd1517d3f315e6c2b89a787a4258d31798c0307', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 15, 'created': '2022-07-18 12:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/334cb8e652947afca7d12f1fcd5b597c01350713', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 16, 'created': '2022-07-18 15:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/c29a80555799dfaf9cbe5032a2b07b300f6d3cb3', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 17, 'created': '2022-07-18 16:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/9cabee7480743934b8a8180b88843efd7368e7ae', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 18, 'created': '2022-07-18 16:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/5bcf50b38f80e90ca8930affb4c4cd522e29700b', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 19, 'created': '2022-07-18 16:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/1d47ba0f4be08a8013a3175236f071d1aae5167b', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 20, 'created': '2022-07-18 16:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/7b8b8991f96ad8ee72bf28d4e0e01dc9f9e8380a', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 21, 'created': '2022-07-18 16:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/52d4fd78958352f7d23fd1063cba9766d750c120', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}, {'number': 22, 'created': '2022-07-23 22:51:30.000000000', 'files': ['lib/puppet/provider/vs_port/ovs_redhat.rb', 'spec/acceptance/basic_vswitch_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/9477398cab6481ae949b522427e5001074ffcdce', 'message': ""CentOS/RHEL: Fix missing external_ids\n\nWhen vs_port is defined with a physical interface name and a bridge\nthe ovs_redhat provider manages the bridge by the network service.\nHowever previously the cfg file generated doesn't include the required\noption to set external ids and the property was unintentionally wiped\nout.\n\nThis change ensures the external ids are persisted, to avoid broken\nidempotency.\n\nCloses-Bug: #1959313\nChange-Id: I9d2f540e165cad8dd5532a113431cde395138c86\n""}]",1,826606,9477398cab6481ae949b522427e5001074ffcdce,47,3,22,9816,,,0,"CentOS/RHEL: Fix missing external_ids

When vs_port is defined with a physical interface name and a bridge
the ovs_redhat provider manages the bridge by the network service.
However previously the cfg file generated doesn't include the required
option to set external ids and the property was unintentionally wiped
out.

This change ensures the external ids are persisted, to avoid broken
idempotency.

Closes-Bug: #1959313
Change-Id: I9d2f540e165cad8dd5532a113431cde395138c86
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/06/826606/22 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/vs_port/ovs_redhat.rb', 'spec/acceptance/basic_vswitch_spec.rb']",2,68cb5a9dac82b3cd44e78731785d702dd24c0509,bug/1959313," vs_bridge { 'br-ci3': ensure => present, exernal_ids => 'bridge-id=br-ci3' } ~> exec { 'create_loop1_port': path => '/usr/bin:/bin:/usr/sbin:/sbin', provider => shell, command => 'ip link add name loop1 type dummy && ip addr add 127.2.0.1/24 dev loop1', before => Vs_port['loop1'], refreshonly => true, } -> vs_port { 'loop1': ensure => present, bridge => 'br-ci3', } it 'should have br-ci3 bridge' do command('ovs-vsctl show') do |r| expect(r.stdout).to match(/br-ci3/) end end it 'should have external_ids on br-ci3 bridge' do command('ovs-vsctl br-get-external-id br-ci3') do |r| expect(r.stdout).to match(/bridge-id=br-ci3/) end end ",,57,5
openstack%2Fpuppet-designate~master~Ided1306c3c7154861c7c55257ea2bdd35fa6b370,openstack/puppet-designate,master,Ided1306c3c7154861c7c55257ea2bdd35fa6b370,Enable policy settings in designate-api,MERGED,2022-07-04 23:33:11.000000000,2022-08-01 08:43:09.000000000,2022-08-01 08:43:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-04 23:33:11.000000000', 'files': ['manifests/api.pp', 'spec/classes/designate_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/7ff495ca7dcec5323139ec4da27358fbb83ea219', 'message': 'Enable policy settings in designate-api\n\nThis change makes designate::policy included by the api class\nautomatically to enable oslo.policy settings automatically in\nthe designate service.\n\nCloses-Bug: #1980698\nChange-Id: Ided1306c3c7154861c7c55257ea2bdd35fa6b370\n'}]",0,848677,7ff495ca7dcec5323139ec4da27358fbb83ea219,7,3,1,9816,,,0,"Enable policy settings in designate-api

This change makes designate::policy included by the api class
automatically to enable oslo.policy settings automatically in
the designate service.

Closes-Bug: #1980698
Change-Id: Ided1306c3c7154861c7c55257ea2bdd35fa6b370
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/77/848677/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/designate_api_spec.rb']",2,7ff495ca7dcec5323139ec4da27358fbb83ea219,bug/1980698, it 'includes the dependent classes' do is_expected.to contain_class('designate::deps') is_expected.to contain_class('designate::policy') end ,,6,0
openstack%2Fpuppet-ec2api~master~Ic549c6f05e55d4b1249a2c068935b26cae81401b,openstack/puppet-ec2api,master,Ic549c6f05e55d4b1249a2c068935b26cae81401b,Ensure [DEFAULT] ssl_insecure is removed by default,MERGED,2022-07-27 07:15:11.000000000,2022-08-01 08:40:52.000000000,2022-08-01 08:40:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 07:15:11.000000000', 'files': ['spec/classes/ec2api_api_spec.rb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/d57cc885f1ed94cb81bec70df95f20fa4b3c94d4', 'message': 'Ensure [DEFAULT] ssl_insecure is removed by default\n\n... instead of leaving the parameter unmanaged.\n\nChange-Id: Ic549c6f05e55d4b1249a2c068935b26cae81401b\n'}]",0,851161,d57cc885f1ed94cb81bec70df95f20fa4b3c94d4,7,3,1,9816,,,0,"Ensure [DEFAULT] ssl_insecure is removed by default

... instead of leaving the parameter unmanaged.

Change-Id: Ic549c6f05e55d4b1249a2c068935b26cae81401b
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/61/851161/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ec2api_api_spec.rb', 'manifests/api.pp']",2,d57cc885f1ed94cb81bec70df95f20fa4b3c94d4,," 'DEFAULT/ssl_insecure': value => pick($ssl_insecure, $::os_service_default);", 'DEFAULT/ssl_insecure': value => $ssl_insecure;,2,1
openstack%2Fpuppet-designate~master~I9140547a2f2a8d6fd8999394333c7d29fdd9cde0,openstack/puppet-designate,master,I9140547a2f2a8d6fd8999394333c7d29fdd9cde0,Fix wrong variable used to determine designate api service,MERGED,2022-07-26 00:35:21.000000000,2022-08-01 08:35:44.000000000,2022-08-01 08:35:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 00:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/8b45a77dee354dafd55b79706b57152187e771c8', 'message': 'Fix wrong variable used to determine designate api service\n\nChange-Id: I9140547a2f2a8d6fd8999394333c7d29fdd9cde0\nCloses-Bug: #1982794\n'}, {'number': 2, 'created': '2022-07-26 00:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/f7682aa320b0315aed17ca5491ec3fb6209da0a3', 'message': 'Fix wrong variable used to determine designate api service\n\nCloses-Bug: #1982794\nChange-Id: I9140547a2f2a8d6fd8999394333c7d29fdd9cde0\n'}, {'number': 3, 'created': '2022-07-26 01:41:33.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/20d78340cf4e421b404b18659c23d0122b1b2616', 'message': 'Fix wrong variable used to determine designate api service\n\nCloses-Bug: #1982794\nChange-Id: I9140547a2f2a8d6fd8999394333c7d29fdd9cde0\n'}]",0,850959,20d78340cf4e421b404b18659c23d0122b1b2616,10,3,3,9816,,,0,"Fix wrong variable used to determine designate api service

Closes-Bug: #1982794
Change-Id: I9140547a2f2a8d6fd8999394333c7d29fdd9cde0
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/59/850959/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,8b45a77dee354dafd55b79706b57152187e771c8,bug/1982794," name => $::designate::params::api_service_name,"," name => $::barbican::params::api_service_name,",1,1
openstack%2Fpuppet-mistral~master~Iad14d98440632f3587e672c047ca09a246258ca8,openstack/puppet-mistral,master,Iad14d98440632f3587e672c047ca09a246258ca8,Remove deprecated mistral::engine parameters,MERGED,2022-07-27 07:46:09.000000000,2022-08-01 08:34:01.000000000,2022-08-01 08:32:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 07:46:09.000000000', 'files': ['manifests/engine.pp', 'spec/classes/mistral_engine_spec.rb', 'releasenotes/notes/execution_expiration_policy-cleanup-dc52ae9a060f8d87.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/2c082fc561e8d470afb5b1ac72a2dfc6e4a59838', 'message': 'Remove deprecated mistral::engine parameters\n\nThese parameters were deprecated during Yoga cycle[1] in favor of\nthe new independent mistral::execution_expiration_policy class.\n\n[1] 0b8ca269cb7d966818bcdaee8b0b112d492b7e51\n\nChange-Id: Iad14d98440632f3587e672c047ca09a246258ca8\n'}]",0,851169,2c082fc561e8d470afb5b1ac72a2dfc6e4a59838,8,3,1,9816,,,0,"Remove deprecated mistral::engine parameters

These parameters were deprecated during Yoga cycle[1] in favor of
the new independent mistral::execution_expiration_policy class.

[1] 0b8ca269cb7d966818bcdaee8b0b112d492b7e51

Change-Id: Iad14d98440632f3587e672c047ca09a246258ca8
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/69/851169/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/engine.pp', 'spec/classes/mistral_engine_spec.rb', 'releasenotes/notes/execution_expiration_policy-cleanup-dc52ae9a060f8d87.yaml']",3,2c082fc561e8d470afb5b1ac72a2dfc6e4a59838,,--- upgrade: - | The following parameters of the ``mistral::engine`` class have been removed. - ``evaluation_interval`` - ``older_than`` ,,8,41
openstack%2Fpuppet-octavia~master~Ic914e3164ea648e502ce51d213e1f3f9962dcb9c,openstack/puppet-octavia,master,Ic914e3164ea648e502ce51d213e1f3f9962dcb9c,Validate octavia::health_manager:heartbeat_key only if it is set,MERGED,2022-07-16 03:28:55.000000000,2022-08-01 08:33:18.000000000,2022-08-01 08:33:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-16 03:28:55.000000000', 'files': ['manifests/health_manager.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/dc69ce8b494a53e64c0fff6f85bc4196ee79e8d5', 'message': 'Validate octavia::health_manager:heartbeat_key only if it is set\n\n... to avoid the following warning.\n\nvalidate_legacy(validate_string) expects a String value, got Undef\nat [...]\n\nThis also fixes the wrong logic to detect usage of the deprecated\nheartbeat_interval parameter.\n\nChange-Id: Ic914e3164ea648e502ce51d213e1f3f9962dcb9c\n'}]",0,850083,dc69ce8b494a53e64c0fff6f85bc4196ee79e8d5,8,3,1,9816,,,0,"Validate octavia::health_manager:heartbeat_key only if it is set

... to avoid the following warning.

validate_legacy(validate_string) expects a String value, got Undef
at [...]

This also fixes the wrong logic to detect usage of the deprecated
heartbeat_interval parameter.

Change-Id: Ic914e3164ea648e502ce51d213e1f3f9962dcb9c
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/83/850083/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/health_manager.pp'],1,dc69ce8b494a53e64c0fff6f85bc4196ee79e8d5,hm-opts," validate_legacy(String, 'validate_string', $heartbeat_key) } if $heartbeat_interval != undef {"," } if $heartbeat_key != undef { validate_legacy(String, 'validate_string', $heartbeat_key) ",2,3
openstack%2Fpuppet-octavia~master~Ic65828ddf8a8631e5ce1db56cd50aeda3eeb9656,openstack/puppet-octavia,master,Ic65828ddf8a8631e5ce1db56cd50aeda3eeb9656,Add support for audit middleware options,MERGED,2022-07-19 23:37:22.000000000,2022-08-01 08:29:25.000000000,2022-08-01 08:28:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-19 23:37:22.000000000', 'files': ['manifests/audit.pp', 'spec/classes/octavia_audit_spec.rb', 'releasenotes/notes/audit-opts-1cb6a5b4058f8469.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/9e4f26e62688ac18a83f54d7ead330a2dfe579d4', 'message': 'Add support for audit middleware options\n\nChange-Id: Ic65828ddf8a8631e5ce1db56cd50aeda3eeb9656\n'}]",0,850432,9e4f26e62688ac18a83f54d7ead330a2dfe579d4,9,3,1,9816,,,0,"Add support for audit middleware options

Change-Id: Ic65828ddf8a8631e5ce1db56cd50aeda3eeb9656
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/32/850432/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/audit.pp', 'spec/classes/octavia_audit_spec.rb', 'releasenotes/notes/audit-opts-1cb6a5b4058f8469.yaml']",3,9e4f26e62688ac18a83f54d7ead330a2dfe579d4,audit-opts,--- features: - | The new ``octavia::audit`` class has been added. This class manages options of the audit middleware. ,,98,0
openstack%2Fpuppet-barbican~master~I7b50f49fe4316c83f169bfdbdd5d79a5e3b9b253,openstack/puppet-barbican,master,I7b50f49fe4316c83f169bfdbdd5d79a5e3b9b253,Debian/Ubuntu: Enable validations in acceptance tests,MERGED,2022-07-02 17:22:09.000000000,2022-08-01 08:05:30.000000000,2022-08-01 08:05:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-02 17:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/342ef20a2cfe34ebafc2a66841312fd8f6ae72cd', 'message': 'Debian/Ubuntu: Enable validations in acceptance tests\n\nNow a few deployment validations are implemented in acceptance tests\nbut these are enabled in only CentOS/RHEL. This enables these in Debian\nand Ubuntu because there is no distro-specific requirement.\n\nChange-Id: I7b50f49fe4316c83f169bfdbdd5d79a5e3b9b253\n'}, {'number': 2, 'created': '2022-07-15 21:33:30.000000000', 'files': ['spec/acceptance/10_basic_barbican_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/cb89bdacb3fb530a1b29940d9f47cf6d842eed15', 'message': 'Debian/Ubuntu: Enable validations in acceptance tests\n\nNow a few deployment validations are implemented in acceptance tests\nbut these are enabled in only CentOS/RHEL. This enables these in Debian\nand Ubuntu because there is no distro-specific requirement.\n\nChange-Id: I7b50f49fe4316c83f169bfdbdd5d79a5e3b9b253\n'}]",0,848515,cb89bdacb3fb530a1b29940d9f47cf6d842eed15,11,3,2,9816,,,0,"Debian/Ubuntu: Enable validations in acceptance tests

Now a few deployment validations are implemented in acceptance tests
but these are enabled in only CentOS/RHEL. This enables these in Debian
and Ubuntu because there is no distro-specific requirement.

Change-Id: I7b50f49fe4316c83f169bfdbdd5d79a5e3b9b253
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/15/848515/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_barbican_spec.rb'],1,342ef20a2cfe34ebafc2a66841312fd8f6ae72cd,," describe 'store a secret' do it 'should store a secret' do command('barbican --os-username barbican --os-password a_big_secret --os-project-name services --os-user-domain-name Default --os-project-domain-name Default --os-auth-url http://127.0.0.1:5000/v3 --endpoint http://localhost:9311 secret store --payload ""my big bad secret"" --os-identity-api-version 3') do |r| expect(r.stdout).to match(/ACTIVE/) end describe 'generate a secret' do it 'should generate a secret' do command('barbican --os-username barbican --os-password a_big_secret --os-project-name services --os-user-domain-name Default --os-project-domain-name Default --os-auth-url http://127.0.0.1:5000/v3 --endpoint http://localhost:9311 secret order create key --name foo --os-identity-api-version 3') do |r| expect(r.stdout).to match(/Order href/) end describe port(9311) do it { is_expected.to be_listening }"," if os[:family].casecmp('RedHat') == 0 describe 'store a secret' do it 'should store a secret' do command('barbican --os-username barbican --os-password a_big_secret --os-project-name services --os-user-domain-name Default --os-project-domain-name Default --os-auth-url http://127.0.0.1:5000/v3 --endpoint http://localhost:9311 secret store --payload ""my big bad secret"" --os-identity-api-version 3') do |r| expect(r.stdout).to match(/ACTIVE/) end describe 'generate a secret' do it 'should generate a secret' do command('barbican --os-username barbican --os-password a_big_secret --os-project-name services --os-user-domain-name Default --os-project-domain-name Default --os-auth-url http://127.0.0.1:5000/v3 --endpoint http://localhost:9311 secret order create key --name foo --os-identity-api-version 3') do |r| expect(r.stdout).to match(/Order href/) end describe port(9311) do it { is_expected.to be_listening } end",12,14
openstack%2Fpuppet-openstack_spec_helper~master~Ic3fcada2601a7c9ba4089e2e8f1978768f1b6f08,openstack/puppet-openstack_spec_helper,master,Ic3fcada2601a7c9ba4089e2e8f1978768f1b6f08,Stop setting @default_fact,MERGED,2022-07-22 05:06:08.000000000,2022-08-01 08:03:52.000000000,2022-08-01 08:03:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-22 05:06:08.000000000', 'files': ['lib/puppet-openstack_spec_helper/facts.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/c71da351fb834e17bfdeac0fcb2ec001f91c5511', 'message': 'Stop setting @default_fact\n\nAll unit test implementations have been updated and @default_fact is no\nlonger directly used.\n\nChange-Id: Ic3fcada2601a7c9ba4089e2e8f1978768f1b6f08\n'}]",0,850714,c71da351fb834e17bfdeac0fcb2ec001f91c5511,7,3,1,9816,,,0,"Stop setting @default_fact

All unit test implementations have been updated and @default_fact is no
longer directly used.

Change-Id: Ic3fcada2601a7c9ba4089e2e8f1978768f1b6f08
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/14/850714/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/facts.rb'],1,c71da351fb834e17bfdeac0fcb2ec001f91c5511,,, # TODO(aschultz): remove this after all tests are converted to OSDefaults # instead of referenceing @defaults_facts directly c.before :each do @default_facts = OSDefaults.get_facts end ,0,6
openstack%2Fcharms.openstack~stable%2Fyoga~I0dd61242527c7f1d93df130810bb08269a4312b4,openstack/charms.openstack,stable/yoga,I0dd61242527c7f1d93df130810bb08269a4312b4,lint: Fix line too long in docstring blocking gate,MERGED,2022-08-01 06:21:09.000000000,2022-08-01 08:00:25.000000000,2022-08-01 08:00:25.000000000,"[{'_account_id': 10366}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 06:21:09.000000000', 'files': ['charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/7a89fab053fb92b5c8530bda1d060130ab2591c7', 'message': 'lint: Fix line too long in docstring blocking gate\n\nAparently this has been in the codebase since forever, and the\ngate has now started to choke on it with this error message:\n\n    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)\n\nChange-Id: I0dd61242527c7f1d93df130810bb08269a4312b4\n'}]",2,851540,7a89fab053fb92b5c8530bda1d060130ab2591c7,7,3,1,13686,,,0,"lint: Fix line too long in docstring blocking gate

Aparently this has been in the codebase since forever, and the
gate has now started to choke on it with this error message:

    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)

Change-Id: I0dd61242527c7f1d93df130810bb08269a4312b4
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/40/851540/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/defaults.py'],1,7a89fab053fb92b5c8530bda1d060130ab2591c7,fix-lint-stable/yoga," """"""Set the default certificates.available state so that the default handler in layer-openstack can run."," """"""Set the default certificates.available state so that the default handler in layer-openstack can run.",2,2
openstack%2Fcharms.openstack~stable%2Fxena~I0dd61242527c7f1d93df130810bb08269a4312b4,openstack/charms.openstack,stable/xena,I0dd61242527c7f1d93df130810bb08269a4312b4,lint: Fix line too long in docstring blocking gate,MERGED,2022-08-01 06:21:25.000000000,2022-08-01 08:00:23.000000000,2022-08-01 08:00:23.000000000,"[{'_account_id': 10366}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 06:21:25.000000000', 'files': ['charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/8b6f6f991cd8cf92386be033674f2d62d8a0870e', 'message': 'lint: Fix line too long in docstring blocking gate\n\nAparently this has been in the codebase since forever, and the\ngate has now started to choke on it with this error message:\n\n    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)\n\nChange-Id: I0dd61242527c7f1d93df130810bb08269a4312b4\n'}]",2,851541,8b6f6f991cd8cf92386be033674f2d62d8a0870e,7,3,1,13686,,,0,"lint: Fix line too long in docstring blocking gate

Aparently this has been in the codebase since forever, and the
gate has now started to choke on it with this error message:

    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)

Change-Id: I0dd61242527c7f1d93df130810bb08269a4312b4
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/41/851541/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/defaults.py'],1,8b6f6f991cd8cf92386be033674f2d62d8a0870e,fix-lint-stable/xena," """"""Set the default certificates.available state so that the default handler in layer-openstack can run."," """"""Set the default certificates.available state so that the default handler in layer-openstack can run.",2,2
openstack%2Fcharms.openstack~stable%2Fvictoria~I0dd61242527c7f1d93df130810bb08269a4312b4,openstack/charms.openstack,stable/victoria,I0dd61242527c7f1d93df130810bb08269a4312b4,lint: Fix line too long in docstring blocking gate,MERGED,2022-08-01 06:22:10.000000000,2022-08-01 08:00:21.000000000,2022-08-01 08:00:21.000000000,"[{'_account_id': 10366}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 06:22:10.000000000', 'files': ['charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/6e0f94e2e895502e6f5c34861e9590ead8a2aaaa', 'message': 'lint: Fix line too long in docstring blocking gate\n\nAparently this has been in the codebase since forever, and the\ngate has now started to choke on it with this error message:\n\n    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)\n\nChange-Id: I0dd61242527c7f1d93df130810bb08269a4312b4\n'}]",2,851543,6e0f94e2e895502e6f5c34861e9590ead8a2aaaa,7,3,1,13686,,,0,"lint: Fix line too long in docstring blocking gate

Aparently this has been in the codebase since forever, and the
gate has now started to choke on it with this error message:

    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)

Change-Id: I0dd61242527c7f1d93df130810bb08269a4312b4
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/43/851543/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/defaults.py'],1,6e0f94e2e895502e6f5c34861e9590ead8a2aaaa,fix-lint-stable/victoria," """"""Set the default certificates.available state so that the default handler in layer-openstack can run."," """"""Set the default certificates.available state so that the default handler in layer-openstack can run.",2,2
openstack%2Fcharms.openstack~stable%2Fstein~I0dd61242527c7f1d93df130810bb08269a4312b4,openstack/charms.openstack,stable/stein,I0dd61242527c7f1d93df130810bb08269a4312b4,lint: Fix line too long in docstring blocking gate,MERGED,2022-08-01 06:22:59.000000000,2022-08-01 08:00:19.000000000,2022-08-01 08:00:19.000000000,"[{'_account_id': 10366}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 06:22:59.000000000', 'files': ['charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/577894c876eaaf555f510dff5f3adc33dc3ec7aa', 'message': 'lint: Fix line too long in docstring blocking gate\n\nAparently this has been in the codebase since forever, and the\ngate has now started to choke on it with this error message:\n\n    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)\n\nChange-Id: I0dd61242527c7f1d93df130810bb08269a4312b4\n'}]",2,851546,577894c876eaaf555f510dff5f3adc33dc3ec7aa,7,3,1,13686,,,0,"lint: Fix line too long in docstring blocking gate

Aparently this has been in the codebase since forever, and the
gate has now started to choke on it with this error message:

    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)

Change-Id: I0dd61242527c7f1d93df130810bb08269a4312b4
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/46/851546/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/defaults.py'],1,577894c876eaaf555f510dff5f3adc33dc3ec7aa,fix-lint-stable/stein," """"""Set the default certificates.available state so that the default handler in layer-openstack can run."," """"""Set the default certificates.available state so that the default handler in layer-openstack can run.",2,2
openstack%2Fcharms.openstack~stable%2Ftrain~I0dd61242527c7f1d93df130810bb08269a4312b4,openstack/charms.openstack,stable/train,I0dd61242527c7f1d93df130810bb08269a4312b4,lint: Fix line too long in docstring blocking gate,MERGED,2022-08-01 06:22:45.000000000,2022-08-01 08:00:18.000000000,2022-08-01 08:00:18.000000000,"[{'_account_id': 10366}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 06:22:45.000000000', 'files': ['charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/a2df79c76fe479e4f2c3fc3297a258a1f128fe56', 'message': 'lint: Fix line too long in docstring blocking gate\n\nAparently this has been in the codebase since forever, and the\ngate has now started to choke on it with this error message:\n\n    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)\n\nChange-Id: I0dd61242527c7f1d93df130810bb08269a4312b4\n'}]",2,851545,a2df79c76fe479e4f2c3fc3297a258a1f128fe56,7,3,1,13686,,,0,"lint: Fix line too long in docstring blocking gate

Aparently this has been in the codebase since forever, and the
gate has now started to choke on it with this error message:

    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)

Change-Id: I0dd61242527c7f1d93df130810bb08269a4312b4
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/45/851545/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/defaults.py'],1,a2df79c76fe479e4f2c3fc3297a258a1f128fe56,fix-lint-stable/train," """"""Set the default certificates.available state so that the default handler in layer-openstack can run."," """"""Set the default certificates.available state so that the default handler in layer-openstack can run.",2,2
openstack%2Fcharms.openstack~stable%2Fqueens~I0dd61242527c7f1d93df130810bb08269a4312b4,openstack/charms.openstack,stable/queens,I0dd61242527c7f1d93df130810bb08269a4312b4,lint: Fix line too long in docstring blocking gate,MERGED,2022-08-01 06:23:28.000000000,2022-08-01 07:59:56.000000000,2022-08-01 07:59:56.000000000,"[{'_account_id': 10366}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 06:23:28.000000000', 'files': ['charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/4fa6c04122a2359ce43abaf52105395d7dbb9814', 'message': 'lint: Fix line too long in docstring blocking gate\n\nAparently this has been in the codebase since forever, and the\ngate has now started to choke on it with this error message:\n\n    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)\n\nChange-Id: I0dd61242527c7f1d93df130810bb08269a4312b4\n'}]",2,851548,4fa6c04122a2359ce43abaf52105395d7dbb9814,7,3,1,13686,,,0,"lint: Fix line too long in docstring blocking gate

Aparently this has been in the codebase since forever, and the
gate has now started to choke on it with this error message:

    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)

Change-Id: I0dd61242527c7f1d93df130810bb08269a4312b4
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/48/851548/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/defaults.py'],1,4fa6c04122a2359ce43abaf52105395d7dbb9814,fix-lint-stable/queens," """"""Set the default certificates.available state so that the default handler in layer-openstack can run."," """"""Set the default certificates.available state so that the default handler in layer-openstack can run.",2,2
openstack%2Fcharms.openstack~stable%2Frocky~I0dd61242527c7f1d93df130810bb08269a4312b4,openstack/charms.openstack,stable/rocky,I0dd61242527c7f1d93df130810bb08269a4312b4,lint: Fix line too long in docstring blocking gate,MERGED,2022-08-01 06:23:15.000000000,2022-08-01 07:56:43.000000000,2022-08-01 07:56:43.000000000,"[{'_account_id': 10366}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 06:23:15.000000000', 'files': ['charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/9d4ec025645d8b707ad62139b31b426e753d20c9', 'message': 'lint: Fix line too long in docstring blocking gate\n\nAparently this has been in the codebase since forever, and the\ngate has now started to choke on it with this error message:\n\n    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)\n\nChange-Id: I0dd61242527c7f1d93df130810bb08269a4312b4\n'}]",2,851547,9d4ec025645d8b707ad62139b31b426e753d20c9,7,3,1,13686,,,0,"lint: Fix line too long in docstring blocking gate

Aparently this has been in the codebase since forever, and the
gate has now started to choke on it with this error message:

    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)

Change-Id: I0dd61242527c7f1d93df130810bb08269a4312b4
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/47/851547/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/defaults.py'],1,9d4ec025645d8b707ad62139b31b426e753d20c9,fix-lint-stable/rocky," """"""Set the default certificates.available state so that the default handler in layer-openstack can run."," """"""Set the default certificates.available state so that the default handler in layer-openstack can run.",2,2
openstack%2Fglance~master~I3a88ab5d2e67a1553f03b0b8ba44efbef976ffb0,openstack/glance,master,I3a88ab5d2e67a1553f03b0b8ba44efbef976ffb0,glance-manage: fix crash under Python3.11,MERGED,2022-07-20 22:27:16.000000000,2022-08-01 07:40:55.000000000,2022-08-01 07:39:30.000000000,"[{'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-20 22:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/481a1728f582c0e8499c4763c5774dcd458943b7', 'message': ""glance-manage: fix crash under Python3.11\n\nIn Python3.11, the argparse module became stricter. While the following\ncode was fine in previous versions, it will now raise an\nargparse.ArgumentError because we added the same subparser twice:\n\nimport argparse\nparser = argparse.ArgumentParser()\nsubparsers = parser.add_subparsers(title='Commands')\nsubparsers.add_parser('foo')\nsubparsers.add_parser('foo')\nsubparsers.add_parser('bar')\nparser.parse_args()\n\nThis mistake was silently ignore in Python3.10, which explains why this\nwas never an issue for glance-manage.\n\nChange-Id: I3a88ab5d2e67a1553f03b0b8ba44efbef976ffb0\n""}, {'number': 2, 'created': '2022-07-21 00:33:56.000000000', 'files': ['glance/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/76abb227addf1ae44813527084d1ceb7f36af606', 'message': ""glance-manage: fix crash under Python3.11\n\nIn Python3.11, the argparse module became stricter. While the following\ncode was fine in previous versions, it will now raise an\nargparse.ArgumentError because we added the same subparser twice:\n\nimport argparse\nparser = argparse.ArgumentParser()\nsubparsers = parser.add_subparsers(title='Commands')\nsubparsers.add_parser('foo')\nsubparsers.add_parser('foo')\nsubparsers.add_parser('bar')\nparser.parse_args()\n\nThis mistake was silently ignore in Python3.10, which explains why this\nwas never an issue for glance-manage.\n\nCloses-Bug: #1982426\nChange-Id: I3a88ab5d2e67a1553f03b0b8ba44efbef976ffb0\n""}]",1,850589,76abb227addf1ae44813527084d1ceb7f36af606,13,3,2,8122,,,0,"glance-manage: fix crash under Python3.11

In Python3.11, the argparse module became stricter. While the following
code was fine in previous versions, it will now raise an
argparse.ArgumentError because we added the same subparser twice:

import argparse
parser = argparse.ArgumentParser()
subparsers = parser.add_subparsers(title='Commands')
subparsers.add_parser('foo')
subparsers.add_parser('foo')
subparsers.add_parser('bar')
parser.parse_args()

This mistake was silently ignore in Python3.10, which explains why this
was never an issue for glance-manage.

Closes-Bug: #1982426
Change-Id: I3a88ab5d2e67a1553f03b0b8ba44efbef976ffb0
",git fetch https://review.opendev.org/openstack/glance refs/changes/89/850589/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/cmd/manage.py'],1,481a1728f582c0e8499c4763c5774dcd458943b7,py311," add_legacy_command_parsers(command_object, subparsers)"," add_legacy_command_parsers(command_object, subparsers)",1,1
openstack%2Fcharms.openstack~stable%2Fussuri~I0dd61242527c7f1d93df130810bb08269a4312b4,openstack/charms.openstack,stable/ussuri,I0dd61242527c7f1d93df130810bb08269a4312b4,lint: Fix line too long in docstring blocking gate,MERGED,2022-08-01 06:22:24.000000000,2022-08-01 07:37:00.000000000,2022-08-01 07:37:00.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2022-08-01 06:22:24.000000000', 'files': ['charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/767f3cc360d3057f0bf8c3e4fc61e7e0d9767a2a', 'message': 'lint: Fix line too long in docstring blocking gate\n\nAparently this has been in the codebase since forever, and the\ngate has now started to choke on it with this error message:\n\n    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)\n\nChange-Id: I0dd61242527c7f1d93df130810bb08269a4312b4\n'}]",1,851544,767f3cc360d3057f0bf8c3e4fc61e7e0d9767a2a,7,3,1,13686,,,0,"lint: Fix line too long in docstring blocking gate

Aparently this has been in the codebase since forever, and the
gate has now started to choke on it with this error message:

    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)

Change-Id: I0dd61242527c7f1d93df130810bb08269a4312b4
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/44/851544/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/defaults.py'],1,767f3cc360d3057f0bf8c3e4fc61e7e0d9767a2a,fix-lint-stable/ussuri," """"""Set the default certificates.available state so that the default handler in layer-openstack can run."," """"""Set the default certificates.available state so that the default handler in layer-openstack can run.",2,2
openstack%2Fcharms.openstack~stable%2Fwallaby~I0dd61242527c7f1d93df130810bb08269a4312b4,openstack/charms.openstack,stable/wallaby,I0dd61242527c7f1d93df130810bb08269a4312b4,lint: Fix line too long in docstring blocking gate,MERGED,2022-08-01 06:21:49.000000000,2022-08-01 07:27:25.000000000,2022-08-01 07:27:25.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2022-08-01 06:21:49.000000000', 'files': ['charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/b16690ae1c5fd71c50a8234d40873c6bf896fcf0', 'message': 'lint: Fix line too long in docstring blocking gate\n\nAparently this has been in the codebase since forever, and the\ngate has now started to choke on it with this error message:\n\n    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)\n\nChange-Id: I0dd61242527c7f1d93df130810bb08269a4312b4\n'}]",2,851542,b16690ae1c5fd71c50a8234d40873c6bf896fcf0,8,3,1,13686,,,0,"lint: Fix line too long in docstring blocking gate

Aparently this has been in the codebase since forever, and the
gate has now started to choke on it with this error message:

    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)

Change-Id: I0dd61242527c7f1d93df130810bb08269a4312b4
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/42/851542/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/defaults.py'],1,b16690ae1c5fd71c50a8234d40873c6bf896fcf0,fix-lint-stable/wallaby," """"""Set the default certificates.available state so that the default handler in layer-openstack can run."," """"""Set the default certificates.available state so that the default handler in layer-openstack can run.",2,2
openstack%2Fcharms.openstack~master~I0dd61242527c7f1d93df130810bb08269a4312b4,openstack/charms.openstack,master,I0dd61242527c7f1d93df130810bb08269a4312b4,lint: Fix line too long in docstring blocking gate,MERGED,2022-08-01 06:13:17.000000000,2022-08-01 07:04:30.000000000,2022-08-01 07:04:30.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-01 06:13:17.000000000', 'files': ['charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/11ba59ab4dd0c35a0de9681b4d4c9d889cf8bef8', 'message': 'lint: Fix line too long in docstring blocking gate\n\nAparently this has been in the codebase since forever, and the\ngate has now started to choke on it with this error message:\n\n    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)\n\nChange-Id: I0dd61242527c7f1d93df130810bb08269a4312b4\n'}]",1,851695,11ba59ab4dd0c35a0de9681b4d4c9d889cf8bef8,6,2,1,13686,,,0,"lint: Fix line too long in docstring blocking gate

Aparently this has been in the codebase since forever, and the
gate has now started to choke on it with this error message:

    charms_openstack/charm/defaults.py:170:80: E501 line too long (82 > 79 characters)

Change-Id: I0dd61242527c7f1d93df130810bb08269a4312b4
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/95/851695/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/defaults.py'],1,11ba59ab4dd0c35a0de9681b4d4c9d889cf8bef8,fix-lint," """"""Set the default certificates.available state so that the default handler in layer-openstack can run."," """"""Set the default certificates.available state so that the default handler in layer-openstack can run.",2,2
openstack%2Fpuppet-rally~master~I7b3b285f1cb298bbabae012862ae5dc1223bf602,openstack/puppet-rally,master,I7b3b285f1cb298bbabae012862ae5dc1223bf602,CentOS: Install openstack plugin package,MERGED,2022-04-14 12:30:11.000000000,2022-08-01 07:03:11.000000000,2022-08-01 07:03:11.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 12:30:11.000000000', 'files': ['manifests/init.pp', 'manifests/params.pp', 'spec/classes/rally_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/3839e246bdf07d42ee0d7520903dd053da3bbe38', 'message': 'CentOS: Install openstack plugin package\n\nCurrently plugins and jobs for OpenStack environment are not included\nby the base rally package but these are provided by the independent\nplugin package. This change ensures the plugin package is installed.\n\nNote that the plugin package is not available in Ubuntu/Debian now so\nthe package is still missing in these distributions.\n\nCloses-Bug: #1969113\nChange-Id: I7b3b285f1cb298bbabae012862ae5dc1223bf602\n'}]",0,837861,3839e246bdf07d42ee0d7520903dd053da3bbe38,7,4,1,9816,,,0,"CentOS: Install openstack plugin package

Currently plugins and jobs for OpenStack environment are not included
by the base rally package but these are provided by the independent
plugin package. This change ensures the plugin package is installed.

Note that the plugin package is not available in Ubuntu/Debian now so
the package is still missing in these distributions.

Closes-Bug: #1969113
Change-Id: I7b3b285f1cb298bbabae012862ae5dc1223bf602
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/61/837861/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/params.pp', 'spec/classes/rally_init_spec.rb']",3,3839e246bdf07d42ee0d7520903dd053da3bbe38,bug/1969113," if platform_params.has_key?(:plugin_package_name) is_expected.to contain_package('rally-openstack').with( :name => platform_params[:plugin_package_name], :ensure => 'present', :tag => ['openstack', 'rally-package'] ) end { :package_name => 'openstack-rally', :plugin_package_name => 'openstack-rally-plugins' }", { :package_name => 'openstack-rally' },27,3
openstack%2Fhorizon~master~I5d8f99395d52df65540c62e7c03aaaee6ab76585,openstack/horizon,master,I5d8f99395d52df65540c62e7c03aaaee6ab76585,Deprecated callback methods,ABANDONED,2018-01-29 09:03:11.000000000,2022-08-01 06:58:30.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-01-29 09:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/97017170ca1978e567973dfc6309fe7ccb40f5c7', 'message': ""Deprecated callback methods\n\n$http's deprecated custom callback methods\n- .success() and .error() - have been removed in AngularJS 1.6.\nUse the standard .then()/.catch() promise methods instead\n\nChange-Id: I5d8f99395d52df65540c62e7c03aaaee6ab76585\n""}, {'number': 2, 'created': '2018-06-13 18:42:13.000000000', 'files': ['openstack_dashboard/static/app/core/openstack-service-api/neutron.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/policy.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/users/actions/create.action.service.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4edf971d021ed12466691f52c45dcbfe4fd94d2b', 'message': ""Deprecated callback methods\n\n$http's deprecated custom callback methods\n- .success() and .error() - have been removed in AngularJS 1.6.\nUse the standard .then()/.catch() promise methods instead\n\nChange-Id: I5d8f99395d52df65540c62e7c03aaaee6ab76585\n""}]",1,538843,4edf971d021ed12466691f52c45dcbfe4fd94d2b,19,5,2,25740,,,0,"Deprecated callback methods

$http's deprecated custom callback methods
- .success() and .error() - have been removed in AngularJS 1.6.
Use the standard .then()/.catch() promise methods instead

Change-Id: I5d8f99395d52df65540c62e7c03aaaee6ab76585
",git fetch https://review.opendev.org/openstack/horizon refs/changes/43/538843/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/openstack-service-api/neutron.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/policy.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/users/actions/create.action.service.js']",5,97017170ca1978e567973dfc6309fe7ccb40f5c7,Deprecated,, ////////////// ,68,70
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia6f6c472a8f7332ae3e998078f167f5f7d027857,openstack/tripleo-ansible,stable/wallaby,Ia6f6c472a8f7332ae3e998078f167f5f7d027857,Ensure distribution facts are available,ABANDONED,2022-07-01 01:03:09.000000000,2022-08-01 06:43:47.000000000,,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-07-01 01:03:09.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b1e33682c8d734c135238febb046850a02db5d40', 'message': 'Ensure distribution facts are available\n\nThis fixes regression caused by [1] and ensures distribution facts are\navailable before being read.\n\n[1] 4c9233d07c0886871719b46b2801c7b0565f26cc\n\nCloses-Bug: #1980320\nChange-Id: Ia6f6c472a8f7332ae3e998078f167f5f7d027857\n(cherry picked from commit 0bc2fa808d34235ffe7cf8d36920f6d96f0685b5)\n'}]",4,848350,b1e33682c8d734c135238febb046850a02db5d40,14,5,1,18002,,,0,"Ensure distribution facts are available

This fixes regression caused by [1] and ensures distribution facts are
available before being read.

[1] 4c9233d07c0886871719b46b2801c7b0565f26cc

Closes-Bug: #1980320
Change-Id: Ia6f6c472a8f7332ae3e998078f167f5f7d027857
(cherry picked from commit 0bc2fa808d34235ffe7cf8d36920f6d96f0685b5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/848350/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/pre.yaml'],1,b1e33682c8d734c135238febb046850a02db5d40,bug/1980320-stable/wallaby,- name: Gather distribution facts if they don't exist setup: gather_subset: distribution when: ansible_facts['distribution_major_version'] is not defined tags: - always ,,7,0
openstack%2Fkuryr-libnetwork~master~I92cb41bf22e28cbbeb9e88699432dbfadef86107,openstack/kuryr-libnetwork,master,I92cb41bf22e28cbbeb9e88699432dbfadef86107,Fix the bindir path,MERGED,2022-04-25 13:37:54.000000000,2022-08-01 06:35:35.000000000,2022-04-26 03:53:26.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 13:37:54.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/9cc51ae2c8b8064c3d9ae5f23c121215dd0b4ff6', 'message': 'Fix the bindir path\n\nIt looks the bindir should be ""/usr/local/libexec/kuryr"" instead.\n\nCloses-Bug: #1970217\nChange-Id: I92cb41bf22e28cbbeb9e88699432dbfadef86107\n'}]",1,839216,9cc51ae2c8b8064c3d9ae5f23c121215dd0b4ff6,8,2,1,11536,,,0,"Fix the bindir path

It looks the bindir should be ""/usr/local/libexec/kuryr"" instead.

Closes-Bug: #1970217
Change-Id: I92cb41bf22e28cbbeb9e88699432dbfadef86107
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/16/839216/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,9cc51ae2c8b8064c3d9ae5f23c121215dd0b4ff6,bug/1970217," DISTRO_DISTUTILS_DATA_PATH=$(python3 -c ""import distutils.dist;import distutils.command.install;inst = distutils.command.install.install(distutils.dist.Distribution());inst.finalize_options();print(inst.install_data)"")/local"," DISTRO_DISTUTILS_DATA_PATH=$(python3 -c ""import distutils.dist;import distutils.command.install;inst = distutils.command.install.install(distutils.dist.Distribution());inst.finalize_options();print(inst.install_data)"")",1,1
openstack%2Fneutron-fwaas~master~I65662e1487523f5d27382e72abaad4a7952c11a0,openstack/neutron-fwaas,master,I65662e1487523f5d27382e72abaad4a7952c11a0,Switch to zed jobs,ABANDONED,2022-08-01 06:23:35.000000000,2022-08-01 06:25:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-01 06:23:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a47fcad0bd5567a4ee5dfece840f018634ced2ff', 'message': 'Switch to zed jobs\n\nIn Zed, we decrepated the py36/py37 job, and this patch need to change with zed job[1].\n\n[1]https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L504\n\nChange-Id: I65662e1487523f5d27382e72abaad4a7952c11a0\n'}]",1,851633,a47fcad0bd5567a4ee5dfece840f018634ced2ff,3,1,1,26458,,,0,"Switch to zed jobs

In Zed, we decrepated the py36/py37 job, and this patch need to change with zed job[1].

[1]https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L504

Change-Id: I65662e1487523f5d27382e72abaad4a7952c11a0
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/33/851633/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a47fcad0bd5567a4ee5dfece840f018634ced2ff,, - openstack-python3-zed-job, - openstack-python3-zed-jobs-neutron,1,1
openstack%2Fvenus~master~I77d9762f9b69c4088a80f247889eb9703f11c534,openstack/venus,master,I77d9762f9b69c4088a80f247889eb9703f11c534,Another test case to supplement logs,MERGED,2022-07-22 07:30:29.000000000,2022-08-01 06:22:28.000000000,2022-08-01 06:21:30.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-07-22 07:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/e04ae97f8a5b3bc381142c785b648342e241badf', 'message': ""Another test case to supplement logs\n\nAdd 'no data,no index' test case of logs to test_search_action.py.\n\nChange-Id: I77d9762f9b69c4088a80f247889eb9703f11c534\n""}, {'number': 2, 'created': '2022-08-01 01:45:02.000000000', 'files': ['venus/tests/unit/api/test_search_action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/d098d4a0d70a2415d3164c07c44fc66c917e2610', 'message': ""Another test case to supplement logs\n\nAdd 'no data,no index' test case of logs to test_search_action.py.\n\nChange-Id: I77d9762f9b69c4088a80f247889eb9703f11c534\n""}]",0,850324,d098d4a0d70a2415d3164c07c44fc66c917e2610,10,3,2,34375,,,0,"Another test case to supplement logs

Add 'no data,no index' test case of logs to test_search_action.py.

Change-Id: I77d9762f9b69c4088a80f247889eb9703f11c534
",git fetch https://review.opendev.org/openstack/venus refs/changes/24/850324/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_search_action.py'],1,e04ae97f8a5b3bc381142c785b648342e241badf,," def test_logs_no_index(self): action = SearchCore() expected = {""code"": 0, ""msg"": ""no data, no index""} result = action.logs('host', '', '', 'NO EXIST', '', '', None, None, '2', '1', '10', '10') self.assertEqual(expected, result) ",,7,0
openstack%2Fglance~master~I5636dc01592475109e0975e7227902990ea15ee0,openstack/glance,master,I5636dc01592475109e0975e7227902990ea15ee0,Imported Translations from Zanata,MERGED,2022-07-28 04:28:53.000000000,2022-08-01 06:13:14.000000000,2022-08-01 06:11:47.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 04:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4dfa1579a3bbd2735501c5210b28598ea6820328', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5636dc01592475109e0975e7227902990ea15ee0\n'}, {'number': 2, 'created': '2022-07-29 03:39:28.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'glance/locale/tr_TR/LC_MESSAGES/glance.po', 'glance/locale/fr/LC_MESSAGES/glance.po', 'glance/locale/en_GB/LC_MESSAGES/glance.po', 'glance/locale/pt_BR/LC_MESSAGES/glance.po', 'glance/locale/ru/LC_MESSAGES/glance.po', 'glance/locale/zh_CN/LC_MESSAGES/glance.po', 'glance/locale/ja/LC_MESSAGES/glance.po', 'glance/locale/it/LC_MESSAGES/glance.po', 'glance/locale/zh_TW/LC_MESSAGES/glance.po', 'glance/locale/de/LC_MESSAGES/glance.po', 'glance/locale/es/LC_MESSAGES/glance.po', 'glance/locale/ko_KR/LC_MESSAGES/glance.po'], 'web_link': 'https://opendev.org/openstack/glance/commit/f70970b8e43d773374e1e85a7a869b5e1cb63669', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5636dc01592475109e0975e7227902990ea15ee0\n'}]",0,851335,f70970b8e43d773374e1e85a7a869b5e1cb63669,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5636dc01592475109e0975e7227902990ea15ee0
",git fetch https://review.opendev.org/openstack/glance refs/changes/35/851335/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,4dfa1579a3bbd2735501c5210b28598ea6820328,zanata/translations,"""POT-Creation-Date: 2022-07-05 20:22+0000\n""""PO-Revision-Date: 2022-07-19 09:54+0000\n""msgid ""24.0.0-51"" msgstr ""24.0.0-51"" msgid ""24.1.0-1"" msgstr ""24.1.0-1"" ""Bug `1980049 <https://bugs.launchpad.net/glance/+bug/1980049>`_: Fixed the "" ""success response code of the REST API call ``DELETE /v2/cache/{image_id}`` "" ""and ``DELETE /v2/cache`` to be 204 (No Content), following the original "" ""design of the feature."" msgstr """" ""Bug `1980049 <https://bugs.launchpad.net/glance/+bug/1980049>`_: Fixed the "" ""success response code of the REST API call ``DELETE /v2/cache/{image_id}`` "" ""and ``DELETE /v2/cache`` to be 204 (No Content), following the original "" ""design of the feature."" msgid """"""The Image service API call ``DELETE /v2/cache/{image_id}`` and ``DELETE /v2/"" ""cache`` now returns a 204 (No Content) response code to indicate success. In "" ""glance 24.0.0 (the initial Yoga release), it had mistakenly returned a 200."" msgstr """" ""The Image service API call ``DELETE /v2/cache/{image_id}`` and ``DELETE /v2/"" ""cache`` now returns a 204 (No Content) response code to indicate success. In "" ""Glance 24.0.0 (the initial Yoga release), it had mistakenly returned a 200."" msgid """"""`Bug #1979699 <https://bugs.launchpad.net/glance/+bug/1979699>`_: Fix the "" ""``glance-cache-prefetcher`` command to set up access to backend stores when "" ""the multi store feature is used."" msgstr """" ""`Bug #1979699 <https://bugs.launchpad.net/glance/+bug/1979699>`_: Fix the "" ""``glance-cache-prefetcher`` command to set up access to backend stores when "" ""the multi store feature is used."" msgid """"","""POT-Creation-Date: 2022-06-30 00:04+0000\n""""PO-Revision-Date: 2022-06-25 03:49+0000\n""",37,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~I1636027fb6a71c5551cc611c0f83f3f3c7c5fc34,openstack/tripleo-ansible,stable/wallaby,I1636027fb6a71c5551cc611c0f83f3f3c7c5fc34,[OVN] Wrap IPv6 addresses,MERGED,2022-07-28 04:38:57.000000000,2022-08-01 05:27:51.000000000,2022-08-01 05:27:51.000000000,"[{'_account_id': 5756}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-28 04:38:57.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovn_cluster/templates/ovn_cluster.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6ecc09e29b98fe8cd09a3cc99f9be1a4a92297d7', 'message': '[OVN] Wrap IPv6 addresses\n\nWithout it ovn cluster services fails to\nstart over IPv6.\n\nChange-Id: I1636027fb6a71c5551cc611c0f83f3f3c7c5fc34\n(cherry picked from commit 0aaac992bb2d60ab4bb638f1bd5353a3aabaa638)\n'}]",2,851066,6ecc09e29b98fe8cd09a3cc99f9be1a4a92297d7,11,7,1,13861,,,0,"[OVN] Wrap IPv6 addresses

Without it ovn cluster services fails to
start over IPv6.

Change-Id: I1636027fb6a71c5551cc611c0f83f3f3c7c5fc34
(cherry picked from commit 0aaac992bb2d60ab4bb638f1bd5353a3aabaa638)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/851066/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ovn_cluster/templates/ovn_cluster.j2'],1,6ecc09e29b98fe8cd09a3cc99f9be1a4a92297d7,ovn-ipv6,"--db-nb-cluster-remote-addr={{ ovn_dbs_bootstrap_node_ip | ansible.netcommon.ipwrap }} \--db-nb-cluster-local-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.netcommon.ipwrap }} \--db-nb-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.netcommon.ipwrap }} \--db-sb-cluster-remote-addr={{ ovn_dbs_bootstrap_node_ip | ansible.netcommon.ipwrap }} \--db-sb-cluster-local-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.netcommon.ipwrap }} \--db-sb-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] | ansible.netcommon.ipwrap }} \--ovnnb-db={{ [tripleo_ovn_cluster_nb_db_protocol] | product(ovn_dbs_node_ips | ansible.netcommon.ipwrap) | map('join', ':') | product([tripleo_ovn_cluster_nb_db_port]) | map('join', ':') | join(',') }} \ --ovnsb-db={{ [tripleo_ovn_cluster_nb_db_protocol] | product(ovn_dbs_node_ips | ansible.netcommon.ipwrap) | map('join', ':') | product([tripleo_ovn_cluster_sb_db_port]) | map('join', ':') | join(',') }}""","--db-nb-cluster-remote-addr={{ ovn_dbs_bootstrap_node_ip }} \--db-nb-cluster-local-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] }} \--db-nb-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] }} \--db-sb-cluster-remote-addr={{ ovn_dbs_bootstrap_node_ip }} \--db-sb-cluster-local-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] }} \--db-sb-addr={{ hostvars[inventory_hostname][tripleo_ovn_cluster_network ~ '_ip'] }} \--ovnnb-db={{ [tripleo_ovn_cluster_nb_db_protocol] | product(ovn_dbs_node_ips) | map('join', ':') | product([tripleo_ovn_cluster_nb_db_port]) | map('join', ':') | join(',') }} \ --ovnsb-db={{ [tripleo_ovn_cluster_nb_db_protocol] | product(ovn_dbs_node_ips) | map('join', ':') | product([tripleo_ovn_cluster_sb_db_port]) | map('join', ':') | join(',') }}""",8,8
openstack%2Fpython-tripleoclient~master~Ia407e2dae83fdb6fa52a419619663af106fc1aeb,openstack/python-tripleoclient,master,Ia407e2dae83fdb6fa52a419619663af106fc1aeb,Cleanup duplicate declaration for callback,NEW,2022-07-20 12:11:13.000000000,2022-08-01 05:27:15.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-20 12:11:13.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/240ae805e59f2d901e4d7b15fbaeecd1ddcaab4c', 'message': 'Cleanup duplicate declaration for callback\n\nThe duplicate declaration was only required\nuntil a bug was fixed in ansible-runner. This\nhas since been fixed, and thus this duplicate\ndeclaration is no longer required.\n\nChange-Id: Ia407e2dae83fdb6fa52a419619663af106fc1aeb\n'}]",2,850512,240ae805e59f2d901e4d7b15fbaeecd1ddcaab4c,7,3,1,30073,,,0,"Cleanup duplicate declaration for callback

The duplicate declaration was only required
until a bug was fixed in ansible-runner. This
has since been fixed, and thus this duplicate
declaration is no longer required.

Change-Id: Ia407e2dae83fdb6fa52a419619663af106fc1aeb
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/850512/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,240ae805e59f2d901e4d7b15fbaeecd1ddcaab4c,cleanup-dup-callback,," # NOTE(cloudnull): overload the output callback after prepare # to define the specific format we want. # This is only required until PR # https://github.com/ansible/ansible-runner/pull/387 # is merged and released. After this PR has been # made available to us, this line should be removed. runner_config.env['ANSIBLE_STDOUT_CALLBACK'] = \ r_opts['envvars']['ANSIBLE_STDOUT_CALLBACK']",1,8
openstack%2Fdiskimage-builder~master~Ibb1321e8584aab00b70f8bad2760f317e62c8ad3,openstack/diskimage-builder,master,Ibb1321e8584aab00b70f8bad2760f317e62c8ad3,"[wip] Revert ""Fix BLS entries for /boot partitions""",ABANDONED,2022-08-01 01:15:11.000000000,2022-08-01 05:15:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-01 01:15:11.000000000', 'files': ['diskimage_builder/elements/bootloader/finalise.d/50-bootloader', 'diskimage_builder/elements/rhel/post-install.d/03-reset-bls-entries', '.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e917e18eb18a44965ade1764e4eff6b59ead760b', 'message': '[wip] Revert ""Fix BLS entries for /boot partitions""\n\nThis reverts commit f118649738de16b78436139e427e5743c94d3b9f.\n\nThis may have broken rocky boots\n\nChange-Id: Ibb1321e8584aab00b70f8bad2760f317e62c8ad3\n'}]",0,851683,e917e18eb18a44965ade1764e4eff6b59ead760b,5,1,1,7118,,,0,"[wip] Revert ""Fix BLS entries for /boot partitions""

This reverts commit f118649738de16b78436139e427e5743c94d3b9f.

This may have broken rocky boots

Change-Id: Ibb1321e8584aab00b70f8bad2760f317e62c8ad3
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/83/851683/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/bootloader/finalise.d/50-bootloader', 'diskimage_builder/elements/rhel/post-install.d/03-reset-bls-entries', '.zuul.d/project.yaml']",3,e917e18eb18a44965ade1764e4eff6b59ead760b,rocky-boot-bls, # - openstack-tox-pylint # - tox-py36: # nodeset: # nodes: # - name: ubuntu-bionic # label: ubuntu-bionic # - tox-py38 # - tox-py39 # - tox-py310: # nodeset: # nodes: # - name: ubuntu-jammy # label: ubuntu-jammy # - dib-nodepool-functional-openstack-ubuntu-xenial-src # - dib-nodepool-functional-openstack-ubuntu-bionic-src # - dib-nodepool-functional-openstack-ubuntu-focal-src # - dib-nodepool-functional-openstack-ubuntu-jammy-src # # NOTE(ianw): 2020-04-22 these have been out of the gate for a # # while; promote to voting after some stability. # - dib-nodepool-functional-openstack-opensuse-15-src: # voting: false # - dib-nodepool-functional-openstack-gentoo-src: # voting: false # - dib-nodepool-functional-openstack-debian-bullseye-src: # voting: false # - ironic-python-agent-check-image-dib-centos9 # # IPA job that builds AND validates an image via deployment # - ipa-tempest-bios-ipmi-direct-src: # voting: false, - openstack-tox-pylint - tox-py36: nodeset: nodes: - name: ubuntu-bionic label: ubuntu-bionic - tox-py38 - tox-py39 - tox-py310: nodeset: nodes: - name: ubuntu-jammy label: ubuntu-jammy - dib-nodepool-functional-openstack-ubuntu-xenial-src - dib-nodepool-functional-openstack-ubuntu-bionic-src - dib-nodepool-functional-openstack-ubuntu-focal-src - dib-nodepool-functional-openstack-ubuntu-jammy-src # NOTE(ianw): 2020-04-22 these have been out of the gate for a # while; promote to voting after some stability. - dib-nodepool-functional-openstack-opensuse-15-src: voting: false - dib-nodepool-functional-openstack-gentoo-src: voting: false - dib-nodepool-functional-openstack-debian-bullseye-src: voting: false - ironic-python-agent-check-image-dib-centos9 # IPA job that builds AND validates an image via deployment - ipa-tempest-bios-ipmi-direct-src: voting: false,34,52
openstack%2Fnetworking-generic-switch~master~I56dacac2824c81d88953dbd7ff7cbbdce7e82bfb,openstack/networking-generic-switch,master,I56dacac2824c81d88953dbd7ff7cbbdce7e82bfb,Declare l2 connectivity capability to tell Neutron we can handle L2-only ports,MERGED,2022-06-14 13:59:40.000000000,2022-08-01 04:53:30.000000000,2022-08-01 04:52:32.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 13:59:40.000000000', 'files': ['networking_generic_switch/generic_switch_mech.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/981923ac9926a6daeeb0a18a858875c9fb1e3fc7', 'message': 'Declare l2 connectivity capability to tell Neutron we can handle L2-only ports\n\nSince Neutron commit 380825fcf8e5 (""Check mech driver connectivity during\nport binding"") [1] [2], introduced in Train, Neutron checks that the\nmechanism driver declares support for L2 connectivity.  Since NGS does not\ndeclare support for it, Neutron will not try to bind L2-only ports.\n\nL2-only ports are supported by NGS and we need this feature, so let\'s\ndeclare support for L2 connectivity.\n\n[1] https://review.opendev.org/#/c/645645/\n[2] https://review.opendev.org/#/c/641670/\n\nChange-Id: I56dacac2824c81d88953dbd7ff7cbbdce7e82bfb\n'}]",1,845760,981923ac9926a6daeeb0a18a858875c9fb1e3fc7,11,3,1,34936,,,0,"Declare l2 connectivity capability to tell Neutron we can handle L2-only ports

Since Neutron commit 380825fcf8e5 (""Check mech driver connectivity during
port binding"") [1] [2], introduced in Train, Neutron checks that the
mechanism driver declares support for L2 connectivity.  Since NGS does not
declare support for it, Neutron will not try to bind L2-only ports.

L2-only ports are supported by NGS and we need this feature, so let's
declare support for L2 connectivity.

[1] https://review.opendev.org/#/c/645645/
[2] https://review.opendev.org/#/c/641670/

Change-Id: I56dacac2824c81d88953dbd7ff7cbbdce7e82bfb
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/60/845760/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_generic_switch/generic_switch_mech.py'],1,981923ac9926a6daeeb0a18a858875c9fb1e3fc7,declare_l2_connectivity, self.vif_details = {portbindings.VIF_DETAILS_CONNECTIVITY: portbindings.CONNECTIVITY_L2} ,,3,0
openstack%2Fheat-tempest-plugin~master~Icdc25a7a79f02ccc5eadcfa5dee99ce5f4d3b00e,openstack/heat-tempest-plugin,master,Icdc25a7a79f02ccc5eadcfa5dee99ce5f4d3b00e,Create a keypair with public_key,MERGED,2022-07-30 16:23:36.000000000,2022-08-01 04:15:22.000000000,2022-08-01 04:15:22.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-30 16:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/c7b283baa270ac06d9ad2341a94ee3ced8fb0958', 'message': 'Create key pairs with public_key\n\nNova requires the public_key element when creating a key pair since\nversion 2.92. This change ensures the element is passed when creating\na OS::Nova::KeyPair resource.\n\nThe master jobs are temporally made non-voting because one integration\ntest is failing now. These jobs are made voting again once the test is\nfixed in the heat repo.\n\nChange-Id: Icdc25a7a79f02ccc5eadcfa5dee99ce5f4d3b00e\n'}, {'number': 2, 'created': '2022-07-30 16:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/267c9c02aa4e8c7d9eb4a7e5df9ebec3e78d4e29', 'message': 'Create key pairs with public_key\n\nNova requires the public_key element when creating a keypair since\nversion 2.92. This change ensures the element is passed when creating\na OS::Nova::KeyPair resource.\n\nThe master jobs are temporally made non-voting because one integration\ntest is failing now. These jobs are made voting again once the test is\nfixed in the heat repo.\n\nChange-Id: Icdc25a7a79f02ccc5eadcfa5dee99ce5f4d3b00e\n'}, {'number': 3, 'created': '2022-07-30 16:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/1f2618ee7e270e2a721c8d73f32b0b5c91ded681', 'message': 'Create a keypair with public_key\n\nNova requires the public_key element when creating a keypair since\nversion 2.92. This change ensures the element is passed when creating\na OS::Nova::KeyPair resource.\n\nThe master jobs are temporally made non-voting because one integration\ntest is failing now. These jobs are made voting again once the test is\nfixed in the heat repo.\n\nStory: 2010202\nTask: 45919\nChange-Id: Icdc25a7a79f02ccc5eadcfa5dee99ce5f4d3b00e\n'}, {'number': 4, 'created': '2022-07-30 17:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/1f6811bb69542de7661c2b0ce36dbaee02b0a1aa', 'message': 'Create a keypair with public_key\n\nNova requires the public_key element when creating a keypair since\nversion 2.92. This change ensures the element is passed when creating\na OS::Nova::KeyPair resource.\n\nThe master jobs are temporally made non-voting because one integration\ntest is failing now. These jobs are made voting again once the test is\nfixed in the heat repo.\n\nStory: 2010202\nTask: 45919\nChange-Id: Icdc25a7a79f02ccc5eadcfa5dee99ce5f4d3b00e\n'}, {'number': 5, 'created': '2022-07-31 00:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/43eb47f4a5f0a0e90b7ab6cbbf9c808b6d563ef5', 'message': 'Create a keypair with public_key\n\nNova requires the public_key element when creating a keypair since\nversion 2.92. This change ensures the element is passed when creating\na OS::Nova::KeyPair resource.\n\nThe master jobs are temporally made non-voting because one integration\ntest is failing now. These jobs are made voting again once the test is\nfixed in the heat repo.\n\nStory: 2010202\nTask: 45919\nChange-Id: Icdc25a7a79f02ccc5eadcfa5dee99ce5f4d3b00e\n'}, {'number': 6, 'created': '2022-07-31 03:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/13d55dbed2732431cc93a52a5ff884ceba0ebb97', 'message': 'Create a keypair with public_key\n\nNova requires the public_key element when creating a keypair since api\nversion 2.92. This change ensures the element is passed when creating\na OS::Nova::KeyPair resource.\n\nThe master jobs are temporally made non-voting because one integration\ntest is failing now. These jobs are made voting again once the test is\nfixed in the heat repo.\n\nStory: 2010202\nTask: 45919\nChange-Id: Icdc25a7a79f02ccc5eadcfa5dee99ce5f4d3b00e\n'}, {'number': 7, 'created': '2022-07-31 03:12:09.000000000', 'files': ['.zuul.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_base_resources.yaml', 'heat_tempest_plugin/tests/scenario/templates/id_ed25519.pub'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/cd0ba393cfaa5945603a088a14b33ef0666e0013', 'message': 'Create a keypair with public_key\n\nNova requires the public_key element when creating a keypair since api\nversion 2.92. This change ensures the element is passed when creating\na OS::Nova::KeyPair resource.\n\nThe master jobs are temporally made non-voting because one integration\ntest is failing now. These jobs are made voting again once the test is\nfixed in the heat repo.\n\nStory: 2010201\nTask: 45921\nChange-Id: Icdc25a7a79f02ccc5eadcfa5dee99ce5f4d3b00e\n'}]",0,851669,cd0ba393cfaa5945603a088a14b33ef0666e0013,19,3,7,9816,,,0,"Create a keypair with public_key

Nova requires the public_key element when creating a keypair since api
version 2.92. This change ensures the element is passed when creating
a OS::Nova::KeyPair resource.

The master jobs are temporally made non-voting because one integration
test is failing now. These jobs are made voting again once the test is
fixed in the heat repo.

Story: 2010201
Task: 45921
Change-Id: Icdc25a7a79f02ccc5eadcfa5dee99ce5f4d3b00e
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/69/851669/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_base_resources.yaml']",2,c7b283baa270ac06d9ad2341a94ee3ced8fb0958,story/2010201, description: Name of the key pair to use for the server public_key: type: string default: dummykey description: public key ssh key to import public_key: { get_param: public_key }, description: Name of an existing key pair to use for the server,14,5
openstack%2Fnetworking-baremetal~master~I9aa8fe3bde321637b184bb9adedd34054ac08252,openstack/networking-baremetal,master,I9aa8fe3bde321637b184bb9adedd34054ac08252,Add OpenConfig classes for network-instance,MERGED,2022-03-24 22:57:18.000000000,2022-08-01 04:10:45.000000000,2022-08-01 04:09:47.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-24 22:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/23e2b2fee720a09ed734b9559b9b6e9dfde21f30', 'message': 'Add OpenConfig classes for network-instance\n\nAdd python classes for the subset of the following OpenConfig\nmodules required to create/delete network-instance vlans on a\ndevice.\n\n* http://openconfig.net/yang/network-instance\n\nChange-Id: I9aa8fe3bde321637b184bb9adedd34054ac08252\n'}, {'number': 2, 'created': '2022-03-30 08:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/af0463f45862b3f9acd910d29eb1c6cf88b8461a', 'message': 'Add OpenConfig classes for network-instance\n\nAdd python classes for the subset of the following OpenConfig\nmodules required to create/delete network-instance vlans on a\ndevice.\n\n* http://openconfig.net/yang/network-instance\n\nChange-Id: I9aa8fe3bde321637b184bb9adedd34054ac08252\n'}, {'number': 3, 'created': '2022-04-08 09:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/d832be81f3e58ce52f5f566555746a750a15b4d9', 'message': 'Add OpenConfig classes for network-instance\n\nAdd python classes for the subset of the following OpenConfig\nmodules required to create/delete network-instance vlans on a\ndevice.\n\n* http://openconfig.net/yang/network-instance\n\nStory: 2009961\nTask: 44992\nChange-Id: I9aa8fe3bde321637b184bb9adedd34054ac08252\n'}, {'number': 4, 'created': '2022-04-29 17:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/2c1f1ec61ff3adf2d45c62ff53a157bd4c98491b', 'message': 'Add OpenConfig classes for network-instance\n\nAdd python classes for the subset of the following OpenConfig\nmodules required to create/delete network-instance vlans on a\ndevice.\n\n* http://openconfig.net/yang/network-instance\n\nStory: 2009961\nTask: 44992\nChange-Id: I9aa8fe3bde321637b184bb9adedd34054ac08252\n'}, {'number': 5, 'created': '2022-05-16 14:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/77df6a8f16d4a0e3c0d321d45066c21ad6448093', 'message': 'Add OpenConfig classes for network-instance\n\nAdd python classes for the subset of the following OpenConfig\nmodules required to create/delete network-instance vlans on a\ndevice.\n\n* http://openconfig.net/yang/network-instance\n\nStory: 2009961\nTask: 44992\nChange-Id: I9aa8fe3bde321637b184bb9adedd34054ac08252\n'}, {'number': 6, 'created': '2022-06-21 09:18:54.000000000', 'files': ['networking_baremetal/openconfig/network_instance/network_instance.py', 'networking_baremetal/openconfig/network_instance/__init__.py', 'networking_baremetal/tests/unit/openconfig/test_network_instance.py'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/b658ce5472de061e7ec8b8c300e7b307a2f4b08a', 'message': 'Add OpenConfig classes for network-instance\n\nAdd python classes for the subset of the following OpenConfig\nmodules required to create/delete network-instance vlans on a\ndevice.\n\n* http://openconfig.net/yang/network-instance\n\nStory: 2009961\nTask: 44992\nChange-Id: I9aa8fe3bde321637b184bb9adedd34054ac08252\n'}]",1,835159,b658ce5472de061e7ec8b8c300e7b307a2f4b08a,21,3,6,24245,,,0,"Add OpenConfig classes for network-instance

Add python classes for the subset of the following OpenConfig
modules required to create/delete network-instance vlans on a
device.

* http://openconfig.net/yang/network-instance

Story: 2009961
Task: 44992
Change-Id: I9aa8fe3bde321637b184bb9adedd34054ac08252
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/59/835159/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_baremetal/openconfig/network_instance/network_instance.py', 'networking_baremetal/openconfig/network_instance/__init__.py', 'networking_baremetal/tests/unit/openconfig/test_network_instance.py']",3,23e2b2fee720a09ed734b9559b9b6e9dfde21f30,story/2009961,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from xml.etree import ElementTree from oslotest import base from networking_baremetal.openconfig.network_instance import network_instance from networking_baremetal.openconfig.vlan import vlan class TestOpenConfigNetworkInstance(base.BaseTestCase): @mock.patch.object(network_instance, 'OpenConfigNetworkInstance', autospec=True) def test_network_instances(self, mock_net_instance): mock_net_instance.return_value.to_xml_element.return_value = ( ElementTree.Element('fake-net-instance')) net_instances = network_instance.OpenConfigNetworkInstances() net_instance = net_instances.add('default') self.assertEqual([net_instance], net_instances.network_instances) element = net_instances.to_xml_element() xml_str = ElementTree.tostring(element).decode(""utf-8"") expected = (f'<network-instances xmlns=""{net_instances.NAMESPACE}"">' '<fake-net-instance />' '</network-instances>') self.assertEqual(expected, xml_str) @mock.patch.object(vlan, 'OpenConfigVlans', autospec=True) def test_network_instance(self, mock_oc_vlans): mock_oc_vlans.return_value.to_xml_element.return_value = ( ElementTree.Element('fake-oc-vlans')) net_instance = network_instance.OpenConfigNetworkInstance('default') self.assertEqual(mock_oc_vlans(), net_instance.vlans) element = net_instance.to_xml_element() xml_str = ElementTree.tostring(element).decode(""utf-8"") expected = ('<network-instance>' '<name>default</name>' '<fake-oc-vlans />' '</network-instance>') self.assertEqual(expected, xml_str) ",,164,0
openstack%2Fnetworking-generic-switch~master~I0693c495170aa821a2f571038f387c50a2f6c599,openstack/networking-generic-switch,master,I0693c495170aa821a2f571038f387c50a2f6c599,Support 802.3ad port groups on Cumulus devices,MERGED,2022-05-31 14:11:23.000000000,2022-08-01 04:09:45.000000000,2022-08-01 04:08:46.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 14:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/72ce252d8c0d1c2950240bcba4dff132cf50ca9f', 'message': ""Support 802.3ad port groups on Cumulus devices\n\nSince Ic3e10d19315b776662188f41c552fe0676a12782, multiple links in a\nport group are configured. This typically works for bond modes that do\nnot require switch-side configuration, such as active/passive, TLB and\nALB.\n\nIn some cases this may also work for 802.3ad link aggregates, if\nlocal_link_connection.port_id in the ports is set to the name of the\nport group interface. However some switches require different commands\nto be used when configuring port groups vs switch port interfaces. For\nexample, NVIDIA Cumulus switches require to use 'net add bond...'\ninstead of 'net add interface ...'.\n\nThis change adds support for devices that require different commands to\nconfigure port groups, and provides an implementation for NVIDIA Cumulus\nswitches.\n\nCloses-Bug: #1976382\nRelated-Bug: #1759000\n\nChange-Id: I0693c495170aa821a2f571038f387c50a2f6c599\n""}, {'number': 2, 'created': '2022-05-31 14:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/98b8b53367f205345cc93bfae9091cd4716e0741', 'message': ""Support 802.3ad port groups on Cumulus devices\n\nSince Ic3e10d19315b776662188f41c552fe0676a12782, multiple links in a\nport group are configured. This typically works for bond modes that do\nnot require switch-side configuration, such as active/passive, TLB and\nALB.\n\nIn some cases this may also work for 802.3ad link aggregates, if\nlocal_link_connection.port_id in the ports is set to the name of the\nport group interface. However some switches require different commands\nto be used when configuring port groups vs switch port interfaces. For\nexample, NVIDIA Cumulus switches require to use 'net add bond...'\ninstead of 'net add interface ...'.\n\nThis change adds support for devices that require different commands to\nconfigure port groups, and provides an implementation for NVIDIA Cumulus\nswitches.\n\nCloses-Bug: #1976382\nRelated-Bug: #1759000\n\nChange-Id: I0693c495170aa821a2f571038f387c50a2f6c599\n""}, {'number': 3, 'created': '2022-05-31 14:51:42.000000000', 'files': ['networking_generic_switch/tests/unit/netmiko/test_cumulus.py', 'networking_generic_switch/tests/unit/test_generic_switch_mech.py', 'networking_generic_switch/devices/netmiko_devices/cumulus.py', 'releasenotes/notes/cumulus-802.3ad-da9bffe131995f98.yaml', 'networking_generic_switch/devices/netmiko_devices/__init__.py', 'networking_generic_switch/tests/unit/test_devices.py', 'networking_generic_switch/devices/__init__.py', 'networking_generic_switch/generic_switch_mech.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/aea67080442272e64238fda840bcdeeb5db9ff94', 'message': ""Support 802.3ad port groups on Cumulus devices\n\nSince Ic3e10d19315b776662188f41c552fe0676a12782, multiple links in a\nport group are configured. This typically works for bond modes that do\nnot require switch-side configuration, such as active/passive, TLB and\nALB.\n\nIn some cases this may also work for 802.3ad link aggregates, if\nlocal_link_connection.port_id in the ports is set to the name of the\nport group interface. However some switches require different commands\nto be used when configuring port groups vs switch port interfaces. For\nexample, NVIDIA Cumulus switches require to use 'net add bond...'\ninstead of 'net add interface ...'.\n\nThis change adds support for devices that require different commands to\nconfigure port groups, and provides an implementation for NVIDIA Cumulus\nswitches.\n\nCloses-Bug: #1976382\nRelated-Bug: #1759000\n\nChange-Id: I0693c495170aa821a2f571038f387c50a2f6c599\n""}]",0,844062,aea67080442272e64238fda840bcdeeb5db9ff94,13,3,3,14826,,,0,"Support 802.3ad port groups on Cumulus devices

Since Ic3e10d19315b776662188f41c552fe0676a12782, multiple links in a
port group are configured. This typically works for bond modes that do
not require switch-side configuration, such as active/passive, TLB and
ALB.

In some cases this may also work for 802.3ad link aggregates, if
local_link_connection.port_id in the ports is set to the name of the
port group interface. However some switches require different commands
to be used when configuring port groups vs switch port interfaces. For
example, NVIDIA Cumulus switches require to use 'net add bond...'
instead of 'net add interface ...'.

This change adds support for devices that require different commands to
configure port groups, and provides an implementation for NVIDIA Cumulus
switches.

Closes-Bug: #1976382
Related-Bug: #1759000

Change-Id: I0693c495170aa821a2f571038f387c50a2f6c599
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/62/844062/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_generic_switch/tests/unit/netmiko/test_cumulus.py', 'networking_generic_switch/tests/unit/test_generic_switch_mech.py', 'networking_generic_switch/devices/netmiko_devices/cumulus.py', 'releasenotes/notes/cumulus-802.3ad-da9bffe131995f98.yaml', 'networking_generic_switch/devices/netmiko_devices/__init__.py', 'networking_generic_switch/devices/__init__.py', 'networking_generic_switch/generic_switch_mech.py']",7,72ce252d8c0d1c2950240bcba4dff132cf50ca9f,," is_802_3ad = self._is_802_3ad(port) for link in local_link_information: port_id = link.get('port_id') switch_info = link.get('switch_info') switch_id = link.get('switch_id') switch = device_utils.get_switch_device( self.switches, switch_info=switch_info, ngs_mac_address=switch_id) segments = context.segments_to_bind # If segmentation ID is None, set vlan 1 segmentation_id = segments[0].get('segmentation_id') or 1 LOG.debug(""Putting port %(port_id)s on %(switch_info)s "" ""to vlan: %(segmentation_id)s"", {'port_id': port_id, 'switch_info': switch_info, 'segmentation_id': segmentation_id}) # Move port to network if is_802_3ad and hasattr(switch, 'plug_bond_to_network'): switch.plug_bond_to_network(port_id, segmentation_id) else: LOG.info(""Successfully bound port %(port_id)s in segment "" ""%(segment_id)s on device %(device)s"", {'port_id': port['id'], 'device': switch_info, 'segment_id': segmentation_id}) @staticmethod def _is_802_3ad(port): """"""Return whether a port is using 802.3ad link aggregation. :param port: The port to check :returns: Whether the port is a port group using 802.3ad link aggregation. """""" binding_profile = port['binding:profile'] local_group_information = binding_profile.get( 'local_group_information') if not local_group_information: return False return local_group_information.get('bond_mode') in ['4', '802.3ad'] is_802_3ad = self._is_802_3ad(port) if is_802_3ad and hasattr(switch, 'unplug_bond_from_network'): switch.unplug_bond_from_network(port_id, segmentation_id) else: switch.delete_port(port_id, segmentation_id)"," else: for link in local_link_information: port_id = link.get('port_id') switch_info = link.get('switch_info') switch_id = link.get('switch_id') switch = device_utils.get_switch_device( self.switches, switch_info=switch_info, ngs_mac_address=switch_id) segments = context.segments_to_bind # If segmentation ID is None, set vlan 1 segmentation_id = segments[0].get('segmentation_id') or 1 LOG.debug(""Putting port %(port_id)s on %(switch_info)s "" ""to vlan: %(segmentation_id)s"", {'port_id': port_id, 'switch_info': switch_info, 'segmentation_id': segmentation_id}) # Move port to network LOG.info(""Successfully bound port %(port_id)s in segment "" ""%(segment_id)s on device %(device)s"", {'port_id': port['id'], 'device': switch_info, 'segment_id': segmentation_id}) switch.delete_port(port_id, segmentation_id)",321,21
openstack%2Fironic~master~I0a9b547e92b288a555c246d63d007b831a6e1190,openstack/ironic,master,I0a9b547e92b288a555c246d63d007b831a6e1190,Imported Translations from Zanata,MERGED,2022-07-28 04:33:47.000000000,2022-08-01 03:35:17.000000000,2022-08-01 03:32:06.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 04:33:47.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0335ad16c8dbbfbedb772420665d6c8bb95d4342', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0a9b547e92b288a555c246d63d007b831a6e1190\n'}]",0,851336,0335ad16c8dbbfbedb772420665d6c8bb95d4342,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0a9b547e92b288a555c246d63d007b831a6e1190
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/851336/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,0335ad16c8dbbfbedb772420665d6c8bb95d4342,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-07-06 13:27+0000\n""""PO-Revision-Date: 2022-07-24 12:21+0000\n""""Ironic 13.0.0. This release brings the long-desired feature of software RAID ""msgid ""/v1/drivers/<driver name>/properties"" msgstr ""/v1/drivers/<driver name>/properties"" msgid ""/v1/nodes/<UUID or logical name>/states"" msgstr ""/v1/nodes/<UUID or logical name>/states"" msgid """" ""1.12 allows setting RAID properties for a node; however support for putting "" ""this configuration on a node is not yet implemented for in-tree drivers; "" ""this will be added in a future release."" msgstr """" ""1.12 allows setting RAID properties for a node; however support for putting "" ""this configuration on a node is not yet implemented for in-tree drivers; "" ""this will be added in a future release."" msgid """" ""1.13 adds a new 'abort' verb to the provision state API. This may be used to "" ""abort cleaning for nodes in the CLEANWAIT state."" msgstr """" ""1.13 adds a new 'abort' verb to the provision state API. This may be used to "" ""abort cleaning for nodes in the CLEANWAIT state."" msgid ""1.14 makes the following endpoints discoverable in the API:"" msgstr ""1.14 makes the following endpoints discoverable in the API:"" msgid ""10.1.10-11"" msgstr ""10.1.10-11""msgid ""11.1.4-12"" msgstr ""11.1.4-12"" msgid ""12.1.6-3"" msgstr ""12.1.6-3"" msgid ""13.0.7"" msgstr ""13.0.7"" msgid ""13.0.7-24"" msgstr ""13.0.7-24"" msgid ""15.0.2"" msgstr ""15.0.2"" msgid ""15.0.2-16"" msgstr ""15.0.2-16"" msgid ""16.0.3"" msgstr ""16.0.3"" msgid ""16.0.4"" msgstr ""16.0.4"" msgid ""16.0.5"" msgstr ""16.0.5"" msgid ""16.1.0"" msgstr ""16.1.0"" msgid ""16.2.0"" msgstr ""16.2.0"" msgid ""17.0.0"" msgstr ""17.0.0"" msgid ""17.0.2"" msgstr ""17.0.2"" msgid ""17.0.3"" msgstr ""17.0.3"" msgid ""17.0.4"" msgstr ""17.0.4"" msgid ""17.0.4-27"" msgstr ""17.0.4-27"" msgid ""18.0.0"" msgstr ""18.0.0"" msgid ""18.1.0"" msgstr ""18.1.0"" msgid ""18.2.0"" msgstr ""18.2.0"" msgid ""18.2.1"" msgstr ""18.2.1"" msgid ""18.2.1-17"" msgstr ""18.2.1-17"" msgid ""19.0.0"" msgstr ""19.0.0"" msgid ""20.0.0"" msgstr ""20.0.0"" msgid ""20.1.0"" msgstr ""20.1.0"" msgid ""20.1.0-12"" msgstr ""20.1.0-12"" msgid ""20.2.0"" msgstr ""20.2.0"" msgid ""20.2.0-21"" msgstr ""20.2.0-21"" msgid ""4.0.0 First semver release"" msgstr ""4.0.0 First semver release"" ""A new @passthru decorator was introduced to the driver API in a previous "" ""release. In this release, support for vendor_passthru and "" ""driver_vendor_passthru methods has been removed. All in-tree drivers have "" ""been updated. Any out of tree drivers which did not update to the @passthru "" ""decorator during the previous release will need to do so to be compatible "" ""with this release."" msgstr """" ""A new @passthru decorator was introduced to the driver API in a previous "" ""release. In this release, support for vendor_passthru and "" ""driver_vendor_passthru methods has been removed. All in-tree drivers have "" ""been updated. Any out-of-tree drivers which did not update to the @passthru "" ""decorator during the previous release will need to do so to be compatible "" ""with this release."" msgid """"msgid ""Add OCS Driver"" msgstr ""Add OCS Driver"" msgid ""Added CORS support"" msgstr ""Added CORS support"" msgid """" ""After a deprecation period, the scripts and support for migrating from the "" ""old Nova \""baremetal\"" driver to the new Nova \""ironic\"" driver have been "" ""removed from Ironic's tree."" msgstr """" ""After a deprecation period, the scripts and support for migrating from the "" ""old Nova \""baremetal\"" driver to the new Nova \""ironic\"" driver have been "" ""removed from Ironic's tree."" msgid """" ""Beginning with API v1.11, newly created Nodes begin in the ENROLL state, and "" ""must be \""managed\"" and \""provided\"" before they are made available for "" ""provisioning. API clients must be updated to handle the new workflow when "" ""they begin sending the X-OpenStack-Ironic-API-Version header with a value >= "" ""1.11."" msgstr """" ""Beginning with API v1.11, newly created Nodes begin in the ENROLL state and "" ""must be \""managed\"" and \""provided\"" before they are made available for "" ""provisioning. API clients must be updated to handle the new workflow when "" ""they begin sending the X-OpenStack-Ironic-API-Version header with a value >= "" ""1.11."" msgid ""Deprecated the 'parallel' option to periodic task decorator"" msgstr ""Deprecated the 'parallel' option to periodic task decorator"" msgid """" ""Drivers may optionally add a new BootInterface. This is merely a refactoring "" ""of the Driver API to support future improvements."" msgstr """" ""Drivers may optionally add a new BootInterface. This is merely a refactoring "" ""of the Driver API to support future improvements."" msgid ""Implemented a new Boot interface for drivers"" msgstr ""Implemented a new Boot interface for drivers"" msgid ""Introduce new BootInterface to the Driver API"" msgstr ""Introduce new BootInterface to the Driver API"" msgid ""Migrations from Nova \""baremetal\"" have been removed"" msgstr ""Migrations from Nova \""baremetal\"" have been removed"" msgid ""Raised API version to 1.11"" msgstr ""Raised API version to 1.11"" msgid ""Raised API version to 1.14"" msgstr ""Raised API version to 1.14"" msgid ""Removal of deprecated vendor driver methods"" msgstr ""Removal of deprecated vendor driver methods"" msgid ""Removed deprecated 'admin_api' policy rule"" msgstr ""Removed deprecated 'admin_api' policy rule"" msgid ""Rocky Series (11.0.0 - 11.1.x) Release Notes"" msgstr ""Rocky Series (11.0.0 - 11.1.x) Release Notes"" msgid ""Several hardware drivers have been added or enhanced"" msgstr ""Several hardware drivers have been added or enhanced"" msgid ""Stein Series (12.0.0 - 12.1.x) Release Notes"" msgstr ""Stein Series (12.0.0 - 12.1.x) Release Notes"" msgid """" ""The Ironic API now has support for CORS requests, that may be used by, for "" ""example, web browser-based clients. This is configured in the [cors] section "" ""of ironic.conf."" msgstr """" ""The Ironic API now has support for CORS requests, that may be used by, for "" ""example, web browser-based clients. This is configured in the [cors] section "" ""of ironic.conf."" msgid """" ""This change enhances the driver interface for driver authors, and should not "" ""affect users of Ironic, by splitting control of booting a server from the "" ""DeployInterface. The BootInterface is responsible for booting an image on a "" ""server, while the DeployInterface is responsible for deploying a tenant "" ""image to a server."" msgstr """" ""This change enhances the driver interface for driver authors, and should not "" ""affect users of Ironic, by splitting control of booting a server from the "" ""DeployInterface. The BootInterface is responsible for booting an image on a "" ""server, while the DeployInterface is responsible for deploying a tenant "" ""image to a server."" msgid """" ""This is the first semver-versioned release of Ironic, created during the "" ""OpenStack \""Liberty\"" development cycle. It marks a pivot in our versioning "" ""schema from date-based versioning; the previous released version was 2015.1. "" ""Full release details are available on Launchpad: https://launchpad.net/"" ""ironic/liberty/4.0.0."" msgstr """" ""This is the first semver-versioned release of Ironic, created during the "" ""OpenStack \""Liberty\"" development cycle. It marks a pivot in our versioning "" ""schema from date-based versioning; the previously released version was "" ""2015.1. Full release details are available on Launchpad: https://launchpad."" ""net/ironic/liberty/4.0.0."" msgid ""Train Series (12.2.0 - 13.0.x) Release Notes"" msgstr ""Train Series (12.2.0 - 13.0.x) Release Notes"" msgid ""Ussuri Series (14.0.0 - 15.0.x) Release Notes"" msgstr ""Ussuri Series (14.0.0 - 15.0.x) Release Notes"" msgid ""Victoria Series (15.1.0 - 16.0.x) Release Notes"" msgstr ""Victoria Series (15.1.0 - 16.0.x) Release Notes"" msgid ""Wallaby Series (16.1.0 - 17.0.x) Release Notes"" msgstr ""Wallaby Series (16.1.0 - 17.0.x) Release Notes"" msgid ""Xena Series (18.0.0 - 18.2.x) Release Notes"" msgstr ""Xena Series (18.0.0 - 18.2.x) Release Notes"" msgid ""Yoga Series Release Notes"" msgstr ""Yoga Series Release Notes"" msgid """" ""v1.10 fixes Node logical names to support all `RFC 3986`_ unreserved "" ""characters"" msgstr """" ""v1.10 fixes Node logical names to support all `RFC 3986`_ unreserved "" ""characters"" msgid """" ""v1.11 changes the default state of newly created Nodes from AVAILABLE to "" ""ENROLL"" msgstr """" ""v1.11 changes the default state of newly created Nodes from AVAILABLE to "" ""ENROLL"" msgid ""v1.7 exposes a new 'clean_step' property on the Node resource."" msgstr ""v1.7 exposes a new 'clean_step' property on the Node resource."" msgid ""v1.8 and v1.9 improve query and filter support"" msgstr ""v1.8 and v1.9 improve query and filter support""","""POT-Creation-Date: 2021-04-04 18:36+0000\n""""PO-Revision-Date: 2020-12-19 01:42+0000\n""""Ironic 13.0.0. This release brings the long desired feature of software RAID ""msgid ""10.1.10-10"" msgstr ""10.1.10-10""",271,164
openstack%2Fironic~master~I515358d40b03ea0d38dad2104a2d3d2c66e0ae8c,openstack/ironic,master,I515358d40b03ea0d38dad2104a2d3d2c66e0ae8c,Clarify disk_label with a warning,MERGED,2022-07-25 20:21:15.000000000,2022-08-01 03:34:03.000000000,2022-08-01 03:32:04.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-25 20:21:15.000000000', 'files': ['doc/source/install/include/disk-label.inc'], 'web_link': 'https://opendev.org/openstack/ironic/commit/56d3c5a0311aadf5fce9b80ce2420dc4f1ed4482', 'message': ""Clarify disk_label with a warning\n\nTurns out I've had two people try to use disk label\ntwice in the last week to infer UEFI booting system.\n\nThis is not correct, unfortunately.\n\nClarify that the boot mode needs to be set appropriately.\n\nChange-Id: I515358d40b03ea0d38dad2104a2d3d2c66e0ae8c\n""}]",0,850945,56d3c5a0311aadf5fce9b80ce2420dc4f1ed4482,9,4,1,11655,,,0,"Clarify disk_label with a warning

Turns out I've had two people try to use disk label
twice in the last week to infer UEFI booting system.

This is not correct, unfortunately.

Clarify that the boot mode needs to be set appropriately.

Change-Id: I515358d40b03ea0d38dad2104a2d3d2c66e0ae8c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/850945/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/include/disk-label.inc'],1,56d3c5a0311aadf5fce9b80ce2420dc4f1ed4482,,".. warning:: If the host is in UEFI boot mode, use of ``disk_label`` is redundant, and may cause deployments to fail unexpectedly if the node is *not* explicitly set to boot in UEFI mode. Use of appropriate boot mode is highly recommended. ",,6,0
openstack%2Fheat~master~I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33,openstack/heat,master,I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33,Migrate Nova Flavor resource to OSC,NEW,2021-11-23 02:40:23.000000000,2022-08-01 03:03:32.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-11-23 02:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9e5d667e50cd9c065886de25339a683dffb185f6', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 2, 'created': '2021-11-23 02:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e1f0fbb4d1e915b25bbde72d6cb305c609bd9199', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 3, 'created': '2021-11-23 02:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6d74392c0bc7124a2924c0da1b9f8157e0cebe8e', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 4, 'created': '2021-11-23 03:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c8f3be1f96658bc7a0808a447c54f52c990133eb', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 5, 'created': '2021-11-23 04:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/36a46b4f8431551804b84e9267e44618eed03d88', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 6, 'created': '2021-11-24 01:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f1c9801202b18c9f1ec76a09ed973153da6f4114', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 7, 'created': '2021-11-25 12:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2308fe06758e7856577df3a30a532e6408f26543', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 8, 'created': '2021-11-25 14:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5c2a0d697ef6b454decafbbe5ea58f546508bc9a', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 9, 'created': '2021-11-28 09:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/90dab3442217ce71d80f65406764459a55080704', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 10, 'created': '2021-11-29 03:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5de7b51b3ed827725b56dcb1754c0da9595f4fd7', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 11, 'created': '2021-11-29 03:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/102a7ab57ca7937ac4de6ace22aaa49666abde46', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 12, 'created': '2021-11-30 02:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f31417d0010cbb6cf8d69fcffeb12995826239ff', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 13, 'created': '2021-12-03 03:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/70d0ee5d4d99071cb89f2b75ab34af431451f358', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 14, 'created': '2021-12-07 02:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/33d7393297db44293592f9988e56c452c417feca', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 15, 'created': '2021-12-07 06:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b767e937d8695e119f3f776a44108a8d47a70afd', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 16, 'created': '2021-12-09 00:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c7cbd686ac2ff59a4775e98585124dbcfd830c91', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 17, 'created': '2021-12-11 23:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2561027645abfabdcc2ceb718bed148363bfee7d', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 18, 'created': '2022-01-05 03:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6887f82fa576ed73c4f0b889980ee6acd3386e49', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 19, 'created': '2022-01-05 03:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/227947de71baa38a3a3d081a6f3ba93277f04b72', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 20, 'created': '2022-01-07 07:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6261c0c9f8002e25d37121b0da148462b05fa0b8', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 21, 'created': '2022-01-08 03:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d9f3d8c5ec95fea49bf5fd2a65a9ebda9a258b13', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 22, 'created': '2022-01-11 12:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6faad165e816a513cebd5f822251faee697a9419', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 23, 'created': '2022-01-11 12:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d4e90816bb2e7499526fabf8ecdcae8c4ebb7163', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 24, 'created': '2022-01-11 12:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/161933997e612ab7a8af7c10b0ccfa3ce91ab58c', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 25, 'created': '2022-01-14 06:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2a1d85237c9735bd26ca12d1ed55e0ad89f696fd', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 26, 'created': '2022-01-14 06:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f5a6fb0dbc85f13b7aedc4d3bcb1424d9861b47f', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 27, 'created': '2022-01-14 06:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/83b935d07bcee815c7faa8387d5b2aa13a919b72', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 28, 'created': '2022-01-20 02:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fb24abc95093a3dbfcd2b84c964de1c8125e60d5', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 29, 'created': '2022-04-26 23:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/724cfc85e4f7cdba4d6c6775e17953498538204d', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 30, 'created': '2022-04-26 23:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/317abf6f8b6b6931d7fc0aac761bf4b1637eaf24', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}, {'number': 31, 'created': '2022-08-01 01:18:02.000000000', 'files': ['heat/tests/openstack/nova/test_flavor.py', 'heat/engine/resources/openstack/nova/flavor.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7fc23ff59a878915387d3f6b3c9af5bc5848929f', 'message': 'Migrate Nova Flavor resource to OSC\n\nWith the impending deprecation of python-*client\nlibraries. This change migrates the Nova flavor\nresource to the openstacksdk client instead.\n\nStory: 2009683\nTask: 43974\nChange-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33\n'}]",20,818847,7fc23ff59a878915387d3f6b3c9af5bc5848929f,87,3,31,30073,,,0,"Migrate Nova Flavor resource to OSC

With the impending deprecation of python-*client
libraries. This change migrates the Nova flavor
resource to the openstacksdk client instead.

Story: 2009683
Task: 43974
Change-Id: I2b75dec49c7cdfd7a800ca17f7799fa0dc311c33
",git fetch https://review.opendev.org/openstack/heat refs/changes/47/818847/6 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/nova/test_flavor.py', 'heat/engine/resources/openstack/nova/flavor.py']",2,9e5d667e50cd9c065886de25339a683dffb185f6,nova_openstacksdk," default_client_name = 'openstack' TENANTS, NAME, RAM, VCPUS, DISK, SWAP, 'tenants', 'name', 'ram', 'vcpus', 'disk', 'swap', flavor = self.client().compute.create_flavor(**args) self.client().compute.create_flavor_extra_specs( flavor.id, flavor_keys) self.client().compute.flavor_add_tenant_access( flavor, tenant) self.client().compute.flavor_add_tenant_access( flavor, tenant) flavor = self.client( ).compute.fetch_flavor_extra_specs(self.resource_id) flavor.items() old_keys = flavor for k, v in old_keys.items(): self.client().compute.delete_flavor_extra_specs_property( self.resource.id, old_keys) for k, v in new_keys.items(): self.client().compute.update_flavor_extra_specs_property( self.resource_id, k, v) x.tenant_id for x in self.client( ).compute.get_flavor_access(**kwargs) flavor = self.client().compute.find_flavors( self.resource_id) for _tenant in tenants_to_remove: self.client().compute.flavor_remove_tenant_access( self.resource_id, _tenant) for _tenant in tenants_to_add: self.client().compute.flavor_add_tenant_access( self.resource_id, _tenant) def handle_delete(self): if self.resource_id: self.client().compute.delete_flavor(self.resource_id, ignore_missing=True) flavor = self.client().compute.find_flavor(self.resource_id) return self.client().compute.fetch_flavor_extra_specs( self.resource_id) resource_data = { self.EXTRA_SPECS: self.client( ).compute.fetch_flavor_extra_specs( self.resource_id )}"," default_client_name = 'nova' TENANTS, ID, NAME, RAM, VCPUS, DISK, SWAP, 'tenants', 'flavorid', 'name', 'ram', 'vcpus', 'disk', 'swap', ID: properties.Schema( properties.Schema.STRING, _('Unique ID of the flavor. If not specified, ' 'an UUID will be auto generated and used.'), support_status=support.SupportStatus(version='7.0.0') ), if not args['flavorid']: args['flavorid'] = 'auto' flavor = self.client().flavors.create(**args) flavor.set_keys(flavor_keys) self.client().flavor_access.add_tenant_access(flavor, tenant) self.client().flavor_access.add_tenant_access(flavor, tenant) flavor = self.client().flavors.get(self.resource_id) old_keys = flavor.get_keys() flavor.unset_keys(old_keys) flavor.set_keys(new_keys) x.tenant_id for x in self.client().flavor_access.list(**kwargs) flavor = self.client().flavors.get(self.resource_id) for _tenant in tenants_to_remove: self.client().flavor_access.remove_tenant_access(flavor, _tenant) for _tenant in tenants_to_add: self.client().flavor_access.add_tenant_access(flavor, _tenant) flavor = self.client().flavors.get(self.resource_id) return flavor.get_keys() flavor = self.client().flavors.get(self.resource_id) resource_data = {self.EXTRA_SPECS: flavor.get_keys()}",78,84
openstack%2Fheat~master~Ic3cb74b6745c832be702664874e6a26590208f0d,openstack/heat,master,Ic3cb74b6745c832be702664874e6a26590208f0d,Deprecate Flavor ID property in OS::Nova::Flavor,NEW,2021-12-09 00:22:02.000000000,2022-08-01 02:59:47.000000000,,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-09 00:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/27acb409bc9ea3b84782fc0202516eac3b202169', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 2, 'created': '2021-12-09 01:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/26c45f5e0be58b58d91263afdfa06213e029966a', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 3, 'created': '2021-12-09 08:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b30ed3e20189b3b18ec134335430d94e717d65d3', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 4, 'created': '2021-12-09 08:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bd2a1057e6d20bf585eaaec6d3c2c491df998cde', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 5, 'created': '2021-12-09 11:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7b8c979e903af0a716ee8899d2fd1f2da0c87ddd', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 6, 'created': '2021-12-14 04:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/eb12e6288dfb710fb3388c0578676432c4dcae34', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 7, 'created': '2021-12-14 05:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6072c4ef4a8e03767a827e089db58ab99a5d53fd', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 8, 'created': '2021-12-14 08:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/962d4f5167bb636faf2f20f87da5fe4928188b4c', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 9, 'created': '2021-12-14 11:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1c42a668548cb76b86d71cb18e2014e7d9687a43', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 10, 'created': '2021-12-14 11:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ea149af1bac204bc2504196a8dc7d058da19f2f6', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 11, 'created': '2021-12-24 08:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ee1aaa3e14b2b266b0f75ebd96f5c541ac973bd3', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 12, 'created': '2021-12-24 09:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ab28294f84f02b9a021760af3b46f5f66e465b4e', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 13, 'created': '2022-01-05 05:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3e670146c94551b2809d3395207d2dd4206506ee', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 14, 'created': '2022-01-11 10:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3c429af669a76e9de9922f37c6639d244f2a9727', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 15, 'created': '2022-01-13 05:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b3ad1d4bbf018c56b8ddee162341504d7aae6233', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 16, 'created': '2022-04-26 23:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/636f6c4cbcd6e0c078eaf15f50086a03571021e7', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 17, 'created': '2022-04-26 23:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5f9e8324371ff0e3d7762172447cae906c5b92f9', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 18, 'created': '2022-06-06 06:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1ade3feebc4d0207809b325fc41caace043c101c', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 19, 'created': '2022-08-01 01:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dac93f251fd6f3b37255a2c2b43d2c1b919ccb43', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}, {'number': 20, 'created': '2022-08-01 01:17:53.000000000', 'files': ['releasenotes/notes/deprecate-flavorid-61a0bab3e105c0f1.yaml', 'heat/engine/resources/openstack/nova/flavor.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/2b1ce27af2de231b69fe330262b94b40cea41520', 'message': 'Deprecate Flavor ID property in OS::Nova::Flavor\n\nThis property is no longer supported with the\nOpenStackSDK and will be removed during the\nmigration from Novaclient to OSC.\n\nOSC Documentation reference to the supported\nproperties:\nhttps://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor\n\nChange-Id: Ic3cb74b6745c832be702664874e6a26590208f0d\n'}]",19,821138,2b1ce27af2de231b69fe330262b94b40cea41520,71,3,20,30073,,,0,"Deprecate Flavor ID property in OS::Nova::Flavor

This property is no longer supported with the
OpenStackSDK and will be removed during the
migration from Novaclient to OSC.

OSC Documentation reference to the supported
properties:
https://docs.openstack.org/openstacksdk/latest/user/resources/compute/v2/flavor.html#openstack.compute.v2.flavor.Flavor

Change-Id: Ic3cb74b6745c832be702664874e6a26590208f0d
",git fetch https://review.opendev.org/openstack/heat refs/changes/38/821138/20 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/nova/flavor.py'],1,27acb409bc9ea3b84782fc0202516eac3b202169,nova_openstacksdk," support_status=support.SupportStatus( status=support.DEPRECATED, version='18.0.0', message=_('This property will be deprecated in' 'OS::Nova::Flavor during the migration' 'from novaclient to the openstacksdk.' 'This property will be quietly ignored' 'in future releases.'))", support_status=support.SupportStatus(version='7.0.0'),8,1
openstack%2Fcinder~master~Ie964990e0d377aef94d970818338a239919bcc8c,openstack/cinder,master,Ie964990e0d377aef94d970818338a239919bcc8c,Add Pure Storage NVMe-RoCE driver,MERGED,2021-07-07 17:00:15.000000000,2022-08-01 02:55:28.000000000,2022-07-29 20:10:36.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 30555}]","[{'number': 1, 'created': '2021-07-07 17:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a61e9fe5016b8da8f4636e6738a22acd026544dd', 'message': '[WIP] Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 2, 'created': '2021-07-07 17:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3382e23a97e1c7deb0cb5332a9d55e8b5abc2c2c', 'message': '[WIP] Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 3, 'created': '2021-07-07 17:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b898b48a78eb85d8c0a16ec2eec169ed98b3475', 'message': '[WIP] Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 4, 'created': '2021-08-16 19:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ff719f7935eea3ddb87161f7a6305fa5f9ef68c', 'message': '[WIP] Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 5, 'created': '2021-08-17 16:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ece72cfe9aa5094913afca7ffbe0cdb9bfaedd1c', 'message': '[WIP] Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 6, 'created': '2021-08-18 17:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff9c8bbd64ddfa7445dca0415073374479a6a345', 'message': '[WIP] Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 7, 'created': '2021-10-06 15:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc44c6c80aa1b386da18be15363d869b0a6fa85c', 'message': '[WIP] Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 8, 'created': '2021-11-18 20:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6339263c9077a2078f995e5851404644e1ce4e5', 'message': '[WIP] Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 9, 'created': '2022-01-13 16:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1780ea8fcb25cdd49b8bf86885fe4d7d1b8050b', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 10, 'created': '2022-01-13 18:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81fc2e04a40072d33f09edcec82b568c0116c68d', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 11, 'created': '2022-01-14 15:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3fbd285a9430a8ae7b3abb32cd08e93872c0557b', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 12, 'created': '2022-01-17 14:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87ec02d1cfbb25b3114fb92771a277838c8ec2d5', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 13, 'created': '2022-01-18 13:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d2c57a008485d37ec28847cdd3bdf038e30ab15', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 14, 'created': '2022-01-19 00:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0477b51e5c9a4b8baaa1f43a7fb321adb2e2b6de', 'message': ""'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n""}, {'number': 15, 'created': '2022-01-19 13:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b02aa55a0ff0401d6dc97a91903e41ad5fc91553', 'message': ""'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n""}, {'number': 16, 'created': '2022-03-04 19:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/841d55de66236abc3f69534340350fdbba149ef6', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 17, 'created': '2022-03-04 19:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de6e42b4fc7bf0b44d3c2bf9c1c0e17e63cbeab4', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 18, 'created': '2022-03-22 02:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ec9f897fac5c2b1ce0291eacab480fa261f97fe', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 19, 'created': '2022-03-22 17:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2c10c987ca4d415a4a971c878300822f0bc3110', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 20, 'created': '2022-06-21 14:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd37a6816259603e2fbdfb6e6dbbcf9192547043', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 21, 'created': '2022-06-21 15:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/116568eaf12c0119e417f4375e0f5868d1234e48', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 22, 'created': '2022-07-07 19:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/536176ec701a596ba7a2fe18d346765839ffe11c', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 23, 'created': '2022-07-07 21:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b839f81922bfd3e20dac8c1bb13ad4e30cf810d1', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 24, 'created': '2022-07-07 21:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9cf6df5aff459eace6f1d2dad5456c9058dead91', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 25, 'created': '2022-07-08 15:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0308e2d41e14a0fbed7601f008f3302335872f1d', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 26, 'created': '2022-07-08 21:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5873f0dac578051a021479d0129dad6c83b2454d', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 27, 'created': '2022-07-13 14:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e35d0aff6696445ded8270b7e4fc3160495e041', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 28, 'created': '2022-07-13 21:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/37dc450bac08c74ba26b114ee283653c5e3f7c8e', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 29, 'created': '2022-07-13 22:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c45887e667d96a25a827b53b804e93ecf4e76ec', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 30, 'created': '2022-07-14 13:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e774bfa5f26a3de3a7efdb80d0e2d05d35f5232', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 31, 'created': '2022-07-14 18:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94caa1247f6bd2051042afc9087d97a54a1abfa3', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nDepends-On: I85749a40138ea32570dbb1ed7b543f71d8f6da9d\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 32, 'created': '2022-07-14 19:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0a8178d2e25397719e5a31ed61bb35b5d0e4683', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nDepends-On: I85749a40138ea32570dbb1ed7b543f71d8f6da9d\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 33, 'created': '2022-07-15 18:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/480d02b97af6399f60cd6576a6fade577b7b480a', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I3cb4612e3536fcc1e9de18564b378fa5484cfdf6\nDepends-On: I85749a40138ea32570dbb1ed7b543f71d8f6da9d\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 34, 'created': '2022-07-15 18:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4382ae8b75b7b7256ab13f28cae7389901905ae', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I3cb4612e3536fcc1e9de18564b378fa5484cfdf6\nDepends-On: I85749a40138ea32570dbb1ed7b543f71d8f6da9d\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 35, 'created': '2022-07-15 19:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4491b1757f95dbd717e804fd99d26034aeccae6f', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I3cb4612e3536fcc1e9de18564b378fa5484cfdf6\nDepends-On: I85749a40138ea32570dbb1ed7b543f71d8f6da9d\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 36, 'created': '2022-07-18 16:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29eb57b193c6189d3d9fcf6813ad1ec8bec817cc', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I3cb4612e3536fcc1e9de18564b378fa5484cfdf6\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 37, 'created': '2022-07-19 18:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9a7df6c0d99499b26b3d0bab51108e0a8611fb4', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I3cb4612e3536fcc1e9de18564b378fa5484cfdf6\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 38, 'created': '2022-07-20 20:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b8a7c57d630c7ef57de68b024875318c59a263a', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\nDepends-On: I3cb4612e3536fcc1e9de18564b378fa5484cfdf6\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 39, 'created': '2022-07-27 16:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0058d0d279895f4db8ecf5ec15c65ec38e97b971', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 40, 'created': '2022-07-27 16:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d7e7856f299d3eae62991a02a6b5dbb388deeaa', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 41, 'created': '2022-07-27 17:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a37839fb14c166008daafac8b92d22406ca2483a', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 42, 'created': '2022-07-27 17:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/235a69a2f82394a8f0c1c626b090a2932c2f0843', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 43, 'created': '2022-07-27 17:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4b65d8d705a0e1623a7a82453876c60b360b1a4', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 44, 'created': '2022-07-27 19:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f5d4d21b06e0d22ec3920af5deee3ee13864a63', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\n'}, {'number': 45, 'created': '2022-07-28 01:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d03c7b2c8e477559dad624bfe0e0f4d43cdfd0f8', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\nImplements: blueprint purestorage-nvme-driver-for-flasharray\n'}, {'number': 46, 'created': '2022-07-28 01:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a9f564ca22e289eff94500bc09f05318149fc2c', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\nImplements: blueprint purestorage-nvme-driver-for-flasharray\n'}, {'number': 47, 'created': '2022-07-28 02:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dad1e54599168aa94f39c149c63368351107ad1a', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\nImplements: blueprint purestorage-nvme-driver-for-flasharray\n'}, {'number': 48, 'created': '2022-07-28 04:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/208dd8f7c11781224b820fbf376b0d70c57701a0', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\nImplements: blueprint purestorage-nvme-driver-for-flasharray\n'}, {'number': 49, 'created': '2022-07-29 13:34:25.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-storage-nvme-driver-f4217c00379c4827.yaml', 'doc/source/configuration/block-storage/drivers/pure-storage-driver.rst', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfbcca0d8b03050d2ca56984605c1dc27353ecc3', 'message': 'Add Pure Storage NVMe-RoCE driver\n\nAdd driver to support NVMe over RoCE for the Pure Storage FlashArray.\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: Ie964990e0d377aef94d970818338a239919bcc8c\nImplements: blueprint purestorage-nvme-driver-for-flasharray\n'}]",198,799871,dfbcca0d8b03050d2ca56984605c1dc27353ecc3,855,9,49,13425,,,0,"Add Pure Storage NVMe-RoCE driver

Add driver to support NVMe over RoCE for the Pure Storage FlashArray.

Depends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21
Change-Id: Ie964990e0d377aef94d970818338a239919bcc8c
Implements: blueprint purestorage-nvme-driver-for-flasharray
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/799871/22 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-storage-nvme-driver-f4217c00379c4827.yaml', 'doc/source/configuration/block-storage/drivers/pure-storage-driver.rst', 'cinder/tests/unit/volume/drivers/test_pure.py']",5,a61e9fe5016b8da8f4636e6738a22acd026544dd,add_nvme_driver,"NVME_DRIVER_OBJ = DRIVER_PATH + "".PureNVMEDriver""NVME_PORT_NAMES = [""ct0.eth8"", ""ct0.eth9"", ""ct1.eth8"", ""ct1.eth9""]# These two IP blocks should use the same prefix (see NVME_CIDR_FILTERED to # make sure changes make sense). Our arrays now have 4 IPv4 + 4 IPv6 ports. NVME_IPS = [""10.0.0."" + str(i + 1) for i in range(len(NVME_PORT_NAMES))] NVME_IPS += [""[2001:db8::"" + str(i + 1) + ""]"" for i in range(len(NVME_PORT_NAMES))] AC_NVME_IPS = [""10.0.0."" + str(i + 1 + len(NVME_PORT_NAMES)) for i in range(len(NVME_PORT_NAMES))] AC_NVME_IPS += [""[2001:db8::1:"" + str(i + 1) + ""]"" for i in range(len(NVME_PORT_NAMES))] NVME_CIDR = ""0.0.0.0/0"" NVME_CIDR_V6 = ""::/0"" # Designed to filter out only one of the AC NVMe IPs, leaving the rest in NVME_CIDR_FILTERED = ""10.0.0.0/29"" # Include several IP / networks: 10.0.0.2, 10.0.0.3, 10.0.0.6, 10.0.0.7 NVME_CIDRS_FILTERED = [""10.0.0.2"", ""10.0.0.3"", ""2001:db8::1:2/127""] ""nqn"": [],INITIATOR_NQN = ( ""nqn.2014-08.org.nvmexpress:uuid:6953a373-c3f7-4ea8-ae77-105c393012ff"" )NVME_CONNECTOR = {""initiator"": INITIATOR_NQN, ""host"": HOSTNAME}TARGET_NQN = ""nqn.2010-06.com.purestorage:flasharray.12345abc"" AC_TARGET_NQN = ""nqn.2010-06.com.purestorage:flasharray.67890def""NVME_PORTS = [{""name"": name, ""nqn"": TARGET_NQN, ""iqn"": None, ""portal"": ip, ""wwn"": None, } for name, ip in zip(NVME_PORT_NAMES * 2, NVME_IPS)] AC_NVME_PORTS = [{""name"": name, ""nqn"": AC_TARGET_NQN, ""iqn"": None, ""portal"": ip, ""wwn"": None, } for name, ip in zip(NVME_PORT_NAMES * 2, AC_NVME_IPS)] ""nqn"": None, ""nqn"": None, ""nqn"": None, ""nqn"": None, ""nqn"": None,NVME_PORTS_WITH = NVME_PORTS + [NON_ISCSI_PORT]NVME_CONNECTION_INFO = { ""driver_volume_type"": ""nvme"", ""data"": { ""target_discovered"": False, ""discard"": True, ""target_luns"": [1, 1, 1, 1], ""target_nqns"": [TARGET_NQN, TARGET_NQN, TARGET_NQN, TARGET_NQN], ""target_portals"": [NVME_IPS[0], NVME_IPS[1], NVME_IPS[2], NVME_IPS[3]], ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", }, } NVME_CONNECTION_INFO_V6 = { ""driver_volume_type"": ""nvme"", ""data"": { ""target_discovered"": False, ""discard"": True, ""target_luns"": [1, 1, 1, 1], ""target_nqns"": [TARGET_NQN, TARGET_NQN, TARGET_NQN, TARGET_NQN], ""target_portals"": [NVME_IPS[4], NVME_IPS[5], NVME_IPS[6], NVME_IPS[7]], ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", }, } NVME_CONNECTION_INFO_AC = { ""driver_volume_type"": ""nvme"", ""data"": { ""target_discovered"": False, ""discard"": True, ""target_luns"": [1, 1, 1, 1, 5, 5, 5, 5], ""target_nqns"": [ TARGET_NQN, TARGET_NQN, TARGET_NQN, TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN, ], ""target_portals"": [ NVME_IPS[0], NVME_IPS[1], NVME_IPS[2], NVME_IPS[3], AC_NVME_IPS[0], AC_NVME_IPS[1], AC_NVME_IPS[2], AC_NVME_IPS[3], ], ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", }, } NVME_CONNECTION_INFO_AC_FILTERED = { ""driver_volume_type"": ""nvme"", ""data"": { ""target_discovered"": False, ""discard"": True, ""target_luns"": [1, 1, 1, 1, 5, 5, 5], # Final entry filtered by NVME_CIDR_FILTERED ""target_nqns"": [ TARGET_NQN, TARGET_NQN, TARGET_NQN, TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN, ], # Final entry filtered by NVME_CIDR_FILTERED ""target_portals"": [ NVME_IPS[0], NVME_IPS[1], NVME_IPS[2], NVME_IPS[3], AC_NVME_IPS[0], AC_NVME_IPS[1], AC_NVME_IPS[2], ], ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", }, } NVME_CONNECTION_INFO_AC_FILTERED_LIST = { ""driver_volume_type"": ""nvme"", ""data"": { ""target_discovered"": False, ""discard"": True, ""target_luns"": [1, 1, 5, 5], # Final entry filtered by NVME_CIDR_FILTERED ""target_nqns"": [TARGET_NQN, TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN], # Final entry filtered by NVME_CIDR_FILTERED ""target_portals"": [ NVME_IPS[1], NVME_IPS[2], AC_NVME_IPS[5], # IPv6 AC_NVME_IPS[6], # IPv6 ], ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", }, } self.mock_config.pure_nvme_cidr = NVME_CIDR self.mock_config.pure_nvme_cidr_list = None class PureNVMEDriverTestCase(PureBaseSharedDriverTestCase): def setUp(self): super(PureNVMEDriverTestCase, self).setUp() self.driver = pure.PureNVMEDriver(configuration=self.mock_config) self.driver._array = self.array self.mock_utils = mock.Mock() self.driver.driver_utils = self.mock_utils def test_get_host(self): good_host = PURE_HOST.copy() good_host.update(nqn=[""another-wrong-nqn"", INITIATOR_NQN]) bad_host = {'name': ""bad-host"", ""nqn"": [""wrong-nqn""]} self.array.list_hosts.return_value = [bad_host] real_result = self.driver._get_host(self.array, NVME_CONNECTOR) self.assertEqual([], real_result) self.array.list_hosts.return_value.append(good_host) real_result = self.driver._get_host(self.array, NVME_CONNECTOR) self.assertEqual([good_host], real_result) self.assert_error_propagates( [self.array.list_hosts], self.driver._get_host, self.array, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection result = deepcopy(NVME_CONNECTION_INFO) real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, NVME_CONNECTOR ) self.assert_error_propagates( [mock_get_nvme_ports, mock_connection], self.driver.initialize_connection, vol, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_ipv6( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection self.mock_config.pure_nvme_cidr = NVME_CIDR_V6 result = deepcopy(NVME_CONNECTION_INFO_V6) real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, NVME_CONNECTOR ) self.assert_error_propagates( [mock_get_nvme_ports, mock_connection], self.driver.initialize_connection, vol, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC) self.driver._is_active_cluster_enabled = True mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call( mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac_cidr( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC_FILTERED) self.driver._is_active_cluster_enabled = True # Set up some CIDRs to block: this will block only one of the # get four+three results back self.driver.configuration.pure_nvme_cidr = NVME_CIDR_FILTERED mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call(mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac_cidrs( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC_FILTERED_LIST) self.driver._is_active_cluster_enabled = True # Set up some CIDRs to block: this will allow only 2 addresses from # each host of the ActiveCluster, so we should check that we only # get two+two results back self.driver.configuration.pure_nvme = NVME_CIDR self.driver.configuration.pure_nvme_cidr_list = NVME_CIDRS_FILTERED mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call(mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_multipath( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection multipath_connector = deepcopy(NVME_CONNECTOR) multipath_connector[""multipath""] = True result = deepcopy(NVME_CONNECTION_INFO) real_result = self.driver.initialize_connection( vol, multipath_connector ) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, multipath_connector ) multipath_connector[""multipath""] = False self.driver.initialize_connection(vol, multipath_connector) def test_get_target_nvme_ports(self): self.array.list_ports.return_value = NVME_PORTS ret = self.driver._get_target_nvme_ports(self.array) self.assertEqual(NVME_PORTS, ret) def test_get_target_nvme_ports_with_nvme_and_fc(self): self.array.list_ports.return_value = NVME_PORTS_WITH ret = self.driver._get_target_nvme_ports(self.array) self.assertEqual(NVME_PORTS, ret) def test_get_target_nvme_ports_with_no_ports(self): # Should raise an exception if there are no ports self.array.list_ports.return_value = [] self.assertRaises( pure.PureDriverException, self.driver._get_target_nvme_ports, self.array, ) def test_get_target_nvme_ports_with_only_fc_ports(self): # Should raise an exception of there are no nvme ports self.array.list_ports.return_value = PORTS_WITHOUT self.assertRaises( pure.PureDriverException, self.driver._get_target_nvme_ports, self.array, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) @mock.patch(NVME_DRIVER_OBJ + ""._generate_purity_host_name"", spec=True) def test_connect(self, mock_generate, mock_host): vol, vol_name = self.new_fake_vol() result = {""vol"": vol_name, ""lun"": 1} # Branch where host already exists mock_host.return_value = [PURE_HOST] self.array.connect_host.return_value = {""vol"": vol_name, ""lun"": 1} real_result = self.driver._connect( self.array, vol_name, NVME_CONNECTOR ) self.assertEqual(result, real_result) mock_host.assert_called_with( self.driver, self.array, NVME_CONNECTOR, remote=False ) self.assertFalse(mock_generate.called) self.assertFalse(self.array.create_host.called) self.array.connect_host.assert_called_with(PURE_HOST_NAME, vol_name) # Branch where new host is created mock_host.return_value = [] mock_generate.return_value = PURE_HOST_NAME real_result = self.driver._connect( self.array, vol_name, NVME_CONNECTOR ) mock_host.assert_called_with( self.driver, self.array, NVME_CONNECTOR, remote=False ) mock_generate.assert_called_with(HOSTNAME) self.array.create_host.assert_called_with( PURE_HOST_NAME, nqnlist=[INITIATOR_NQN] ) self.assertFalse(self.array.set_host.called) self.assertEqual(result, real_result) mock_generate.reset_mock() self.array.reset_mock() self.assert_error_propagates( [ mock_host, mock_generate, self.array.connect_host, self.array.create_host, ], self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.array.reset_mock() self.array._list_available_rest_versions.return_value = [ ""1.0"", ""1.1"", ""1.2"", ""1.3"", ""1.4"", ""1.5"", ""1.6"", ""1.7"", ""1.8"", ""1.9"", ""1.10"", ""1.11"", ] self.mock_config.safe_get.return_value = ""oracle-vm-server"" # Branch where we fail due to invalid version for setting personality self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertFalse(self.array.create_host.called) self.assertFalse(self.array.set_host.called) self.array._list_available_rest_versions.return_value = [ ""1.0"", ""1.1"", ""1.2"", ""1.3"", ""1.4"", ""1.5"", ""1.6"", ""1.7"", ""1.8"", ""1.9"", ""1.10"", ""1.11"", ""1.12"", ""1.13"", ""1.14"", ""1.15"", ""1.16"", ""1.17"", ""1.18"", ""1.19"", ] # Branch where personality is set self.driver._connect(self.array, vol_name, NVME_CONNECTOR) self.assertDictEqual(result, real_result) self.array.set_host.assert_called_with( PURE_HOST_NAME, personality=""oracle-vm-server"" ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] expected = {""host"": PURE_HOST_NAME, ""lun"": 1} self.array.list_volume_private_connections.return_value = [ expected, {""host"": ""extra"", ""lun"": 2}, ] self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) actual = self.driver._connect(self.array, vol_name, NVME_CONNECTOR) self.assertEqual(expected, actual) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected_list_hosts_empty(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] self.array.list_volume_private_connections.return_value = {} self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected_list_hosts_exception(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] self.array.list_volume_private_connections.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text="""" ) ) self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) self.assertRaises( self.purestorage_module.PureHTTPError, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_nqn_already_in_use(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [] self.array.create_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""The specified NQN is already in use."", ) ) # Because we mocked out retry make sure we are raising the right # exception to allow for retries to happen. self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_create_host_already_exists(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [] self.array.create_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Host already exists."" ) ) # Because we mocked out retry make sure we are raising the right # exception to allow for retries to happen. self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, )",,829,9
openstack%2Fcinder~master~If92dd2588edccdac977e738f3497f5f2bac3f146,openstack/cinder,master,If92dd2588edccdac977e738f3497f5f2bac3f146,Add NVMe/TCP support to Dell EMC PowerStore driver,MERGED,2021-11-24 16:58:07.000000000,2022-08-01 02:55:26.000000000,2022-07-29 17:54:03.000000000,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 13425}, {'_account_id': 14624}, {'_account_id': 17558}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 30555}, {'_account_id': 30615}, {'_account_id': 31779}, {'_account_id': 32761}, {'_account_id': 33502}, {'_account_id': 34290}, {'_account_id': 34988}]","[{'number': 1, 'created': '2021-11-24 16:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a879a28917c52a4d0dab7004a992771bd89fa42', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 2, 'created': '2021-11-25 09:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a155ce802e10160cea645472d9bacf85fad8858', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 3, 'created': '2022-02-15 13:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d58c093630f0599e08eb47188adef7ae4156ef6', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 4, 'created': '2022-02-16 10:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/412c13e6f7459dd23712e389f22832fe792a3a5c', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 5, 'created': '2022-06-08 12:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ad51e69fef04add31756a3a47e9a2891775120d', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 6, 'created': '2022-06-16 19:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2b25d5f6fd1d27316840ad390cc71aebb11b350', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 7, 'created': '2022-07-04 08:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/405019b4bd391c7bb4966345da6f6cbf77feb849', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 8, 'created': '2022-07-06 12:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f5f7f4e52f94dcc697deb25383de8d6b26b1152', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 9, 'created': '2022-07-08 09:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b2f7f9cd037d236c9bef5a4d9c0d6a111cd757e', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 10, 'created': '2022-07-08 11:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/564d2c3a75c05a6ebb6ae5b91b6fd65dce5492f1', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 11, 'created': '2022-07-20 11:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59b9daa456e4e30f93c4d4656bc27f7346348733', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 12, 'created': '2022-07-20 14:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/720c63d077fca1b0ffe1e07cfa7813ff7b07406c', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 13, 'created': '2022-07-20 17:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e0165003800a28ec6e44d8a3ffe626aecf5d5edd', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 14, 'created': '2022-07-20 17:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83fbea75d9aafbdc7eab18a6864cd9def018ea1a', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 15, 'created': '2022-07-29 01:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/48be0bd320ac8de45f228cde43b5b4887a4f6b7b', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}, {'number': 16, 'created': '2022-07-29 12:06:00.000000000', 'files': ['cinder/volume/drivers/dell_emc/powerstore/options.py', 'cinder/volume/drivers/dell_emc/powerstore/utils.py', 'releasenotes/notes/powerstore-nvme-tcp-support-ee37cf4fdbce1621.yaml', 'cinder/volume/drivers/dell_emc/powerstore/client.py', 'cinder/volume/drivers/dell_emc/powerstore/adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_replication.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/__init__.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_base.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_client.py', 'cinder/volume/drivers/dell_emc/powerstore/driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_attach_detach.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd2980e634ea14fb45b428aae68dce0f81b025ac', 'message': 'Add NVMe/TCP support to Dell EMC PowerStore driver\n\nImplements: blueprint powerstore-nvme-tcp\nChange-Id: If92dd2588edccdac977e738f3497f5f2bac3f146\n'}]",89,819149,dd2980e634ea14fb45b428aae68dce0f81b025ac,368,17,16,31779,,,0,"Add NVMe/TCP support to Dell EMC PowerStore driver

Implements: blueprint powerstore-nvme-tcp
Change-Id: If92dd2588edccdac977e738f3497f5f2bac3f146
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/819149/16 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/__init__.py', 'cinder/volume/drivers/dell_emc/powerstore/options.py', 'cinder/volume/drivers/dell_emc/powerstore/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_base.py', 'cinder/volume/drivers/dell_emc/powerstore/client.py', 'cinder/volume/drivers/dell_emc/powerstore/driver.py', 'cinder/volume/drivers/dell_emc/powerstore/adapter.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-driver.rst']",9,3a879a28917c52a4d0dab7004a992771bd89fa42,bp/powerstore-nvme-tcp,Driver configuration to use NVMe-OF ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ NVMe-OF support was added in PowerStore starting from version 2.1. .. note:: Currently the driver supports only NVMe over TCP. To configure NVMe-OF driver add the following content into ``/etc/cinder/cinder.conf``: .. code-block:: ini [DEFAULT] enabled_backends = powerstore [powerstore] # PowerStore REST IP san_ip = <San IP> # PowerStore REST username and password san_login = <San username> san_password = <San Password> # Volume driver name volume_driver = cinder.volume.drivers.dell_emc.powerstore.driver.PowerStoreDriver # Backend name volume_backend_name = <Backend name> powerstore_nvme = True powerstore_nvme_ip = <NVMe subsystem IP> powerstore_nqn = <NVMe subsystem NQN> .. note:: To use replication with NVMe-OF driver ``powerstore_nvme_ip`` and ``powerstore_nqn`` options must be set for ``replication_device``. ,,262,19
openstack%2Fdiskimage-builder~master~I791d328cb073cb8a28223814d56923c0e3a80e5e,openstack/diskimage-builder,master,I791d328cb073cb8a28223814d56923c0e3a80e5e,"Revert ""containerfile: use focal for testing""",NEW,2022-07-11 06:17:55.000000000,2022-08-01 02:13:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-11 06:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8081110fe8f249b1e12bb2afcb440fa008d2a2d9', 'message': 'Revert ""containerfile: use focal for testing""\n\nThis reverts commit c8f85f41ed9ec8594489b1e2e02db68ec9058554.\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/849273\n\nChange-Id: I791d328cb073cb8a28223814d56923c0e3a80e5e\n'}, {'number': 2, 'created': '2022-07-11 11:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0de855cb15af79283b82a8e682dc6d4abceb1cf5', 'message': 'Revert ""containerfile: use focal for testing""\n\nThis reverts commit c8f85f41ed9ec8594489b1e2e02db68ec9058554.\n\nTesting some cgroup v2 things\n\nChange-Id: I791d328cb073cb8a28223814d56923c0e3a80e5e\n'}, {'number': 3, 'created': '2022-07-11 22:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/562e264ff054edbf8aa6ca20237457d2fa8df9f8', 'message': 'Revert ""containerfile: use focal for testing""\n\nThis reverts commit c8f85f41ed9ec8594489b1e2e02db68ec9058554.\n\nTesting some cgroup v2 things\n\nChange-Id: I791d328cb073cb8a28223814d56923c0e3a80e5e\n'}, {'number': 4, 'created': '2022-07-12 00:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fcae5d7e2d70aca58d3c540991d1248798618d6e', 'message': 'Revert ""containerfile: use focal for testing""\n\nThis reverts commit c8f85f41ed9ec8594489b1e2e02db68ec9058554.\n\nTesting some cgroup v2 things\n\nChange-Id: I791d328cb073cb8a28223814d56923c0e3a80e5e\n'}, {'number': 5, 'created': '2022-07-12 02:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ba5b4291cd590c49f84ee9df43ea824cfea5b9a5', 'message': 'Revert ""containerfile: use focal for testing""\n\nThis reverts commit c8f85f41ed9ec8594489b1e2e02db68ec9058554.\n\nTesting some cgroup v2 things\n\nChange-Id: I791d328cb073cb8a28223814d56923c0e3a80e5e\n'}, {'number': 6, 'created': '2022-07-14 05:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/06402c188f0cd889782afff5e69727d916ab1dc0', 'message': 'Revert ""containerfile: use focal for testing""\n\nThis reverts commit c8f85f41ed9ec8594489b1e2e02db68ec9058554.\n\nTesting some cgroup v2 things\n\nDepends-On:  https://review.opendev.org/c/zuul/nodepool/+/849273\nChange-Id: I791d328cb073cb8a28223814d56923c0e3a80e5e\n'}, {'number': 7, 'created': '2022-07-14 10:55:18.000000000', 'files': ['diskimage_builder/elements/containerfile/root.d/08-containerfile', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bbbaa95e55e9ad2ecb8334a43ba4152f80a4c2d1', 'message': 'Revert ""containerfile: use focal for testing""\n\nThis reverts commit c8f85f41ed9ec8594489b1e2e02db68ec9058554.\n\nTesting some cgroup v2 things\n\nDepends-On:  https://review.opendev.org/c/zuul/nodepool/+/849273\nChange-Id: I791d328cb073cb8a28223814d56923c0e3a80e5e\n'}]",5,849274,bbbaa95e55e9ad2ecb8334a43ba4152f80a4c2d1,37,1,7,7118,,,0,"Revert ""containerfile: use focal for testing""

This reverts commit c8f85f41ed9ec8594489b1e2e02db68ec9058554.

Testing some cgroup v2 things

Depends-On:  https://review.opendev.org/c/zuul/nodepool/+/849273
Change-Id: I791d328cb073cb8a28223814d56923c0e3a80e5e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/74/849274/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,8081110fe8f249b1e12bb2afcb440fa008d2a2d9,ubuntu-exact-match-squashfs,," # NOTE(ianw) 2022-07-11 : something in jammy has broken running # podman inside docker. Investigations continue, but force this # back for now. nodeset: ubuntu-focal # NOTE(ianw) 2022-07-11 : something in jammy has broken running # podman inside docker. Investigations continue, but force this # back for now. nodeset: ubuntu-focal",0,8
openstack%2Fheat-cfntools~master~Ib1aa6bba91e331f25c65a5905a89de306faa1d5a,openstack/heat-cfntools,master,Ib1aa6bba91e331f25c65a5905a89de306faa1d5a,Replace deprecated readfp method with read_file,MERGED,2022-07-22 09:20:03.000000000,2022-08-01 01:27:39.000000000,2022-08-01 01:26:38.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-22 09:20:03.000000000', 'files': ['heat_cfntools/cfntools/cfn_helper.py'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/7c81d649fb86dc3ada5553dccf0a14f866b4c7e0', 'message': 'Replace deprecated readfp method with read_file\n\nThe readfp method has been deprecated since version 3.2 [1].\n\n[1] https://docs.python.org/3/library/configparser.html?highlight=deprecated#configparser.ConfigParser.readfp\n\nChange-Id: Ib1aa6bba91e331f25c65a5905a89de306faa1d5a\n'}]",2,850739,7c81d649fb86dc3ada5553dccf0a14f866b4c7e0,8,6,1,28743,,,0,"Replace deprecated readfp method with read_file

The readfp method has been deprecated since version 3.2 [1].

[1] https://docs.python.org/3/library/configparser.html?highlight=deprecated#configparser.ConfigParser.readfp

Change-Id: Ib1aa6bba91e331f25c65a5905a89de306faa1d5a
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/39/850739/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_cfntools/cfntools/cfn_helper.py'],1,7c81d649fb86dc3ada5553dccf0a14f866b4c7e0,, self.config.read_file(fp), self.config.readfp(fp),1,1
openstack%2Fpuppet-tempest~master~I3640db699efa0a2d9a9aa5f67940920c4b082d70,openstack/puppet-tempest,master,I3640db699efa0a2d9a9aa5f67940920c4b082d70,Enable Neutron by default,NEW,2022-06-16 23:50:37.000000000,2022-08-01 01:27:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 23:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/0d4a9af496375bb0a0de6a4e83f0f4fdb9915ee9', 'message': 'Enable Neutron by default\n\n... because now Neutron is required to provide networking for VMs.\n\nChange-Id: I3640db699efa0a2d9a9aa5f67940920c4b082d70\n'}, {'number': 2, 'created': '2022-07-30 15:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/407139621862793613cfbf54b50162203a49034d', 'message': 'Enable Neutron by default\n\n... because now Neutron is required to provide networking for VMs.\n\nChange-Id: I3640db699efa0a2d9a9aa5f67940920c4b082d70\n'}, {'number': 3, 'created': '2022-07-30 16:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/9de8660b8eb2ae3ec853c271eb9cc78c7aa76ac5', 'message': 'Enable Neutron by default\n\n... because now Neutron is required to provide networking for VMs.\n\nChange-Id: I3640db699efa0a2d9a9aa5f67940920c4b082d70\n'}, {'number': 4, 'created': '2022-08-01 00:10:52.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/enable-neutron-b9093976854ecbcd.yaml', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/64cbe1559de5b12a98cf9625ce96eb78ea6228b0', 'message': 'Enable Neutron by default\n\n... because now Neutron is required to provide networking for VMs.\n\nChange-Id: I3640db699efa0a2d9a9aa5f67940920c4b082d70\n'}]",0,846236,64cbe1559de5b12a98cf9625ce96eb78ea6228b0,7,1,4,9816,,,0,"Enable Neutron by default

... because now Neutron is required to provide networking for VMs.

Change-Id: I3640db699efa0a2d9a9aa5f67940920c4b082d70
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/36/846236/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/enable-neutron-b9093976854ecbcd.yaml', 'spec/classes/tempest_init_spec.rb']",3,0d4a9af496375bb0a0de6a4e83f0f4fdb9915ee9,," { :configure_images => false, { :configure_images => false, { :configure_images => false, { :configure_images => false }"," { :neutron_available => true, :configure_images => false, { :neutron_available => true, :configure_images => false, { :neutron_available => true, :configure_images => false, { :configure_images => false, :neutron_available => true }",10,10
openstack%2Ffreezer-tempest-plugin~master~I5acf940826d481c380bb24d429ffd24a73b28004,openstack/freezer-tempest-plugin,master,I5acf940826d481c380bb24d429ffd24a73b28004,Remove stable/victoria job from master gate,MERGED,2022-05-31 21:19:55.000000000,2022-08-01 00:47:51.000000000,2022-08-01 00:47:51.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 21:19:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/7af11718f39c01e93aff053032a39624abe1667a', 'message': 'Remove stable/victoria job from master gate\n\nstable/victoria is in EM state and Tempest is pinned\nthere so we do not need to test the stable/victoria\njobs on master gate.\n\nChange-Id: I5acf940826d481c380bb24d429ffd24a73b28004\n'}]",0,844137,7af11718f39c01e93aff053032a39624abe1667a,6,2,1,8556,,,0,"Remove stable/victoria job from master gate

stable/victoria is in EM state and Tempest is pinned
there so we do not need to test the stable/victoria
jobs on master gate.

Change-Id: I5acf940826d481c380bb24d429ffd24a73b28004
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/37/844137/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7af11718f39c01e93aff053032a39624abe1667a,victoria-pin-tempest,, - freezer-tempest-basic-victoria - job: name: freezer-tempest-basic-victoria parent: freezer-tempest-basic override-checkout: stable/victoria,0,6
openstack%2Fpython-tripleoclient~master~I37fda2aa161120369d0e3734b9485c27cb59846c,openstack/python-tripleoclient,master,I37fda2aa161120369d0e3734b9485c27cb59846c,Heat Launcher - bracket IPv6 in db connection URI,MERGED,2022-07-29 17:26:48.000000000,2022-08-01 00:43:02.000000000,2022-08-01 00:42:04.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-29 17:26:48.000000000', 'files': ['tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ec8e13423449841ec701086d50e7414afc7792bf', 'message': ""Heat Launcher - bracket IPv6 in db connection URI\n\nIn the database connection URI ensure IPv6 address is wrapped in\nbrackets. Without this a port number is assumed and error is raised:\n  ERROR: invalid literal for int() with base 10: 'dead:beef:4::3'\n\nRelated-Bug: #1983121\nChange-Id: I37fda2aa161120369d0e3734b9485c27cb59846c\n""}]",0,851597,ec8e13423449841ec701086d50e7414afc7792bf,8,3,1,24245,,,0,"Heat Launcher - bracket IPv6 in db connection URI

In the database connection URI ensure IPv6 address is wrapped in
brackets. Without this a port number is assumed and error is raised:
  ERROR: invalid literal for int() with base 10: 'dead:beef:4::3'

Related-Bug: #1983121
Change-Id: I37fda2aa161120369d0e3734b9485c27cb59846c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/97/851597/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/heat_launcher.py', 'tripleoclient/tests/test_heat_launcher.py']",2,ec8e13423449841ec701086d50e7414afc7792bf,bug/1983121, self.bracket_ipv6 = mock.patch( 'tripleoclient.utils.bracket_ipv6').start() self.bracket_ipv6.return_value = '1.1.1.1',,5,1
openstack%2Ffreezer~master~I5246aef8e07b949273b6c3cc31435b4756ae9d1a,openstack/freezer,master,I5246aef8e07b949273b6c3cc31435b4756ae9d1a,Replace deprecated readfp method with read_file,MERGED,2022-07-22 09:23:15.000000000,2022-08-01 00:41:34.000000000,2022-08-01 00:40:30.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-22 09:23:15.000000000', 'files': ['freezer/utils/config.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/3983e139087a7c4eb436e914bcd4ea147e21e628', 'message': 'Replace deprecated readfp method with read_file\n\nThe readfp method has been deprecated since version 3.2 [1].\n\n[1] https://docs.python.org/3/library/configparser.html?highlight=deprecated#configparser.ConfigParser.readfp\n\nChange-Id: I5246aef8e07b949273b6c3cc31435b4756ae9d1a\n'}]",0,850741,3983e139087a7c4eb436e914bcd4ea147e21e628,8,2,1,28743,,,0,"Replace deprecated readfp method with read_file

The readfp method has been deprecated since version 3.2 [1].

[1] https://docs.python.org/3/library/configparser.html?highlight=deprecated#configparser.ConfigParser.readfp

Change-Id: I5246aef8e07b949273b6c3cc31435b4756ae9d1a
",git fetch https://review.opendev.org/openstack/freezer refs/changes/41/850741/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/utils/config.py'],1,3983e139087a7c4eb436e914bcd4ea147e21e628,, parser.read_file(fd), parser.readfp(fd),1,1
openstack%2Ffreezer~master~I3e94104418883334225fb5390d7d232d21869a5c,openstack/freezer,master,I3e94104418883334225fb5390d7d232d21869a5c,Drop python3.6 support in testing runtime,NEW,2022-05-31 08:18:17.000000000,2022-07-31 23:53:54.000000000,,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 08:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/180b706bd8386112aeb3932621665a94f8da647a', 'message': 'Drop python3.6 support in testing runtime\n\nChange-Id: I3e94104418883334225fb5390d7d232d21869a5c\n'}, {'number': 2, 'created': '2022-05-31 11:02:50.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer/commit/4f9c8b0bc1dc7d2c2617691fab8c454c21de0517', 'message': 'Drop python3.6 support in testing runtime\n\nIn Zed cycle testing runtime, we are targetting to drop the\npython 3.6 support, project started adding python 3.8 as minimum,\nexample nova:\n- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13\n\nChange-Id: I3e94104418883334225fb5390d7d232d21869a5c\n'}]",0,844005,4f9c8b0bc1dc7d2c2617691fab8c454c21de0517,7,2,2,33881,,,0,"Drop python3.6 support in testing runtime

In Zed cycle testing runtime, we are targetting to drop the
python 3.6 support, project started adding python 3.8 as minimum,
example nova:
- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13

Change-Id: I3e94104418883334225fb5390d7d232d21869a5c
",git fetch https://review.opendev.org/openstack/freezer refs/changes/05/844005/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,180b706bd8386112aeb3932621665a94f8da647a,,, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,0,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib1bfd559a114e5e97530ce1f7ddd1904408614e4,openstack/tripleo-heat-templates,stable/wallaby,Ib1bfd559a114e5e97530ce1f7ddd1904408614e4,Octavia: Present certificates to driver-agent,MERGED,2022-07-19 10:28:22.000000000,2022-07-31 14:55:42.000000000,2022-07-31 14:55:42.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23567}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-07-19 10:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4546167e10805caa5c00aed4589204e5520b08c1', 'message': 'Octavia: Present certificates to driver-agent\n\nThe driver-agent process requires access to certificates in case\ninternal TLS is enabled, so that it can connect to ovn using ssl.\n\nChange-Id: Ib1bfd559a114e5e97530ce1f7ddd1904408614e4\n(cherry picked from commit fb4bbc5e0326d267870b9750f913f76dd2a35751)\n'}, {'number': 2, 'created': '2022-07-19 14:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2eac399f3268c305f0a364ecfeeaee251ac9d36', 'message': 'Octavia: Present certificates to driver-agent\n\nThe driver-agent process requires access to certificates in case\ninternal TLS is enabled, so that it can connect to ovn using ssl.\n\nChange-Id: Ib1bfd559a114e5e97530ce1f7ddd1904408614e4\n(cherry picked from commit fb4bbc5e0326d267870b9750f913f76dd2a35751)\n'}, {'number': 3, 'created': '2022-07-19 14:54:42.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/860eeed08c51fb9856f77e6283c3fab447f0ac10', 'message': 'Octavia: Present certificates to driver-agent\n\nThe driver-agent process requires access to certificates in case\ninternal TLS is enabled, so that it can connect to ovn using ssl.\n\nChange-Id: Ib1bfd559a114e5e97530ce1f7ddd1904408614e4\n(cherry picked from commit fb4bbc5e0326d267870b9750f913f76dd2a35751)\n'}]",12,850041,860eeed08c51fb9856f77e6283c3fab447f0ac10,52,9,3,9816,,,0,"Octavia: Present certificates to driver-agent

The driver-agent process requires access to certificates in case
internal TLS is enabled, so that it can connect to ovn using ssl.

Change-Id: Ib1bfd559a114e5e97530ce1f7ddd1904408614e4
(cherry picked from commit fb4bbc5e0326d267870b9750f913f76dd2a35751)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/850041/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,4546167e10805caa5c00aed4589204e5520b08c1,," list_concat: - - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - {get_attr: [OctaviaProviderConfig, role_data, kolla_config_files]} permissions: list_concat: - - path: /var/log/octavia owner: octavia:octavia recurse: true - path: /run/octavia owner: octavia:octavia recurse: true - {get_attr: [OctaviaProviderConfig, role_data, kolla_permissions]}"," - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true permissions: - path: /var/log/octavia owner: octavia:octavia recurse: true - path: /run/octavia owner: octavia:octavia recurse: true",16,10
openstack%2Fzun~master~I7f4abab47ef69182cbcdd113618e5e9bad7ce2cc,openstack/zun,master,I7f4abab47ef69182cbcdd113618e5e9bad7ce2cc,Fix gate failure,NEW,2022-07-31 09:48:35.000000000,2022-07-31 10:40:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-31 09:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3d833290a47b3d78cb62d7c71ef3ca238e374739', 'message': 'Add WebTest as dependency for testing\n\nChange-Id: I7f4abab47ef69182cbcdd113618e5e9bad7ce2cc\n'}, {'number': 2, 'created': '2022-07-31 10:08:51.000000000', 'files': ['test-requirements.txt', 'zun/common/context.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/732dabcd21e9be6d3a7d1da3f573470179e0707a', 'message': 'Fix gate failure\n\n* Add WebTest as dependency for testing\n* Remove the usage of deprecated utils: oslo_utils.timeutils.strtime\n\nChange-Id: I7f4abab47ef69182cbcdd113618e5e9bad7ce2cc\n'}]",0,851677,732dabcd21e9be6d3a7d1da3f573470179e0707a,3,1,2,11536,,,0,"Fix gate failure

* Add WebTest as dependency for testing
* Remove the usage of deprecated utils: oslo_utils.timeutils.strtime

Change-Id: I7f4abab47ef69182cbcdd113618e5e9bad7ce2cc
",git fetch https://review.opendev.org/openstack/zun refs/changes/77/851677/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3d833290a47b3d78cb62d7c71ef3ca238e374739,,WebTest>=2.0.26 # MIT,,1,0
openstack%2Fironic~bugfix%2F20.2~I4a614d7e73348bbe6c355a40881b013cbfe00b03,openstack/ironic,bugfix/20.2,I4a614d7e73348bbe6c355a40881b013cbfe00b03,Fix compatibility with jsonschema>=4.0.0,MERGED,2022-07-28 14:20:49.000000000,2022-07-31 06:45:14.000000000,2022-07-29 13:31:35.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-28 14:20:49.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'releasenotes/notes/jsonschema-966f55fc79b916fc.yaml', 'ironic/api/controllers/v1/network-data-schema.json', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/73eac6bdced62b29242090d582f7c3f08b82e80a', 'message': 'Fix compatibility with jsonschema>=4.0.0\n\nSpecify the schema version for network_data and node, otherwise the\nlatest one is used.\n\nAlso fix one test where the error messages was changed.\n\nChange-Id: I4a614d7e73348bbe6c355a40881b013cbfe00b03\n(cherry picked from commit 55b9579f14ea08a2dc732336d8f552cc14ab895d)\n'}]",1,851372,73eac6bdced62b29242090d582f7c3f08b82e80a,16,2,1,10239,,,0,"Fix compatibility with jsonschema>=4.0.0

Specify the schema version for network_data and node, otherwise the
latest one is used.

Also fix one test where the error messages was changed.

Change-Id: I4a614d7e73348bbe6c355a40881b013cbfe00b03
(cherry picked from commit 55b9579f14ea08a2dc732336d8f552cc14ab895d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/851372/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'releasenotes/notes/jsonschema-966f55fc79b916fc.yaml', 'ironic/api/controllers/v1/network-data-schema.json', 'ironic/api/controllers/v1/node.py']",4,73eac6bdced62b29242090d582f7c3f08b82e80a,jsonschema-bugfix/20.2," '$schema': 'http://json-schema.org/draft-07/schema#',",,12,2
openstack%2Fironic~stable%2Fyoga~I4a614d7e73348bbe6c355a40881b013cbfe00b03,openstack/ironic,stable/yoga,I4a614d7e73348bbe6c355a40881b013cbfe00b03,Fix compatibility with jsonschema>=4.0.0,MERGED,2022-07-28 14:20:39.000000000,2022-07-31 05:18:21.000000000,2022-07-29 12:28:47.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-28 14:20:39.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'releasenotes/notes/jsonschema-966f55fc79b916fc.yaml', 'ironic/api/controllers/v1/network-data-schema.json', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/224db335b40da97d2de705a7e7536204862caf92', 'message': 'Fix compatibility with jsonschema>=4.0.0\n\nSpecify the schema version for network_data and node, otherwise the\nlatest one is used.\n\nAlso fix one test where the error messages was changed.\n\nChange-Id: I4a614d7e73348bbe6c355a40881b013cbfe00b03\n(cherry picked from commit 55b9579f14ea08a2dc732336d8f552cc14ab895d)\n'}]",0,851371,224db335b40da97d2de705a7e7536204862caf92,11,2,1,10239,,,0,"Fix compatibility with jsonschema>=4.0.0

Specify the schema version for network_data and node, otherwise the
latest one is used.

Also fix one test where the error messages was changed.

Change-Id: I4a614d7e73348bbe6c355a40881b013cbfe00b03
(cherry picked from commit 55b9579f14ea08a2dc732336d8f552cc14ab895d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/71/851371/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'releasenotes/notes/jsonschema-966f55fc79b916fc.yaml', 'ironic/api/controllers/v1/network-data-schema.json', 'ironic/api/controllers/v1/node.py']",4,224db335b40da97d2de705a7e7536204862caf92,jsonschema-stable/yoga," '$schema': 'http://json-schema.org/draft-07/schema#',",,12,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I7717f2ce9f668e9fd77c9b49e2433d729ed3c836,openstack/python-tripleoclient,stable/wallaby,I7717f2ce9f668e9fd77c9b49e2433d729ed3c836,Ensure tripleo_ceph_client_vars is set consistently,MERGED,2022-07-19 11:55:07.000000000,2022-07-31 01:48:25.000000000,2022-07-31 01:47:29.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 25402}, {'_account_id': 29759}]","[{'number': 1, 'created': '2022-07-19 11:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/325aada169c35c1db0ccc6d8b61c098f9c1bdce1', 'message': 'Ensure tripleo_ceph_client_vars is set consistently\n\npython-tripleoclient knows the correct working directory\nafter baremetal deployment. Thus, it can correctly override\nthe tripleo_ceph_client_vars variable in tripleo-ansible roles.\n\nWhen tripleo-ansible roles are called directly by the client\nuse --extra-vars to pass tripleo_ceph_client_vars. As per the\ndeployed_ceph.yaml.j2 template in tripleo-ansible, the Heat\nparameter CephClientConfigVars will then be set to the same\nvalue. Then when the tripleo-ansible roles are called by\nconfig-download they will have the same value for\ntripleo_ceph_client_vars.\n\nChange-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nCloses-Bug: #1981467\nDepends-On: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\n'}, {'number': 2, 'created': '2022-07-19 15:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/96bb1fed3105d2f1d4d264c27573325ccde2f157', 'message': 'Ensure tripleo_ceph_client_vars is set consistently\n\npython-tripleoclient knows the correct working directory\nafter baremetal deployment. Thus, it can correctly override\nthe tripleo_ceph_client_vars variable in tripleo-ansible roles.\nUse /home/USER/overcloud-deploy/STACK/ceph_client.yml, where\neverything up to ceph_client.yml comes from the utils.py\nfunction get_default_working_dir(STACK).\n\nWhen tripleo-ansible roles are called directly by the client\nuse --extra-vars to pass tripleo_ceph_client_vars. As per the\ndeployed_ceph.yaml.j2 template in tripleo-ansible, the Heat\nparameter CephClientConfigVars will then be set to the same\nvalue. Then when the tripleo-ansible roles are called by\nconfig-download they will have the same value for\ntripleo_ceph_client_vars. Update export.py to use same path.\n\nChange-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nCloses-Bug: #1981467\n'}, {'number': 3, 'created': '2022-07-20 13:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/973f29f9d5e23d11b92741beaa37d5b331913acf', 'message': 'Ensure tripleo_ceph_client_vars is set consistently\n\npython-tripleoclient knows the correct working directory\nafter baremetal deployment. Thus, it can correctly override\nthe tripleo_ceph_client_vars variable in tripleo-ansible roles.\nUse /home/USER/overcloud-deploy/STACK/ceph_client.yml, where\neverything up to ceph_client.yml comes from the utils.py\nfunction get_default_working_dir(STACK).\n\nWhen tripleo-ansible roles are called directly by the client\nuse --extra-vars to pass tripleo_ceph_client_vars. As per the\ndeployed_ceph.yaml.j2 template in tripleo-ansible, the Heat\nparameter CephClientConfigVars will then be set to the same\nvalue. Then when the tripleo-ansible roles are called by\nconfig-download they will have the same value for\ntripleo_ceph_client_vars. Update export.py to use same path.\n\nChange-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nDepends-On: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nCloses-Bug: #1981467\n'}, {'number': 4, 'created': '2022-07-25 07:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9013f0fe8fe502f37de8e0a6185f29002a0c6fe6', 'message': 'Ensure tripleo_ceph_client_vars is set consistently\n\npython-tripleoclient knows the correct working directory\nafter baremetal deployment. Thus, it can correctly override\nthe tripleo_ceph_client_vars variable in tripleo-ansible roles.\nUse /home/USER/overcloud-deploy/STACK/ceph_client.yml, where\neverything up to ceph_client.yml comes from the utils.py\nfunction get_default_working_dir(STACK).\n\nWhen tripleo-ansible roles are called directly by the client\nuse --extra-vars to pass tripleo_ceph_client_vars. As per the\ndeployed_ceph.yaml.j2 template in tripleo-ansible, the Heat\nparameter CephClientConfigVars will then be set to the same\nvalue. Then when the tripleo-ansible roles are called by\nconfig-download they will have the same value for\ntripleo_ceph_client_vars. Update export.py to use same path.\n\nChange-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nDepends-On: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nCloses-Bug: #1981467\n'}, {'number': 5, 'created': '2022-07-26 19:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9bd199dc7b36d5ed21d719cb54cc030cee266be3', 'message': 'Ensure tripleo_ceph_client_vars is set consistently\n\npython-tripleoclient knows the correct working directory\nafter baremetal deployment. Thus, it can correctly override\nthe tripleo_ceph_client_vars variable in tripleo-ansible roles.\nUse /home/USER/overcloud-deploy/STACK/ceph_client.yml, where\neverything up to ceph_client.yml comes from the utils.py\nfunction get_default_working_dir(STACK).\n\nWhen tripleo-ansible roles are called directly by the client\nuse --extra-vars to pass tripleo_ceph_client_vars. As per the\ndeployed_ceph.yaml.j2 template in tripleo-ansible, the Heat\nparameter CephClientConfigVars will then be set to the same\nvalue. Then when the tripleo-ansible roles are called by\nconfig-download they will have the same value for\ntripleo_ceph_client_vars. Update export.py to use same path.\n\nChange-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nDepends-On: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nCloses-Bug: #1981467\n(cherry picked from commit 29fe3996bbe8cdaaa86c73cfb3dda443e789bd96)\n'}, {'number': 6, 'created': '2022-07-28 17:05:51.000000000', 'files': ['tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/export.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c2befc7119d0317f4af994c260e5712eb1b1c99c', 'message': 'Ensure tripleo_ceph_client_vars is set consistently\n\npython-tripleoclient knows the correct working directory\nafter baremetal deployment. Thus, it can correctly override\nthe tripleo_ceph_client_vars variable in tripleo-ansible roles.\nUse /home/USER/overcloud-deploy/STACK/ceph_client.yml, where\neverything up to ceph_client.yml comes from the utils.py\nfunction get_default_working_dir(STACK).\n\nWhen tripleo-ansible roles are called directly by the client\nuse --extra-vars to pass tripleo_ceph_client_vars. As per the\ndeployed_ceph.yaml.j2 template in tripleo-ansible, the Heat\nparameter CephClientConfigVars will then be set to the same\nvalue. Then when the tripleo-ansible roles are called by\nconfig-download they will have the same value for\ntripleo_ceph_client_vars. Update export.py to use same path.\n\nChange-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nDepends-On: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nCloses-Bug: #1981467\n(cherry picked from commit 29fe3996bbe8cdaaa86c73cfb3dda443e789bd96)\n'}]",14,850046,c2befc7119d0317f4af994c260e5712eb1b1c99c,58,6,6,18002,,,0,"Ensure tripleo_ceph_client_vars is set consistently

python-tripleoclient knows the correct working directory
after baremetal deployment. Thus, it can correctly override
the tripleo_ceph_client_vars variable in tripleo-ansible roles.
Use /home/USER/overcloud-deploy/STACK/ceph_client.yml, where
everything up to ceph_client.yml comes from the utils.py
function get_default_working_dir(STACK).

When tripleo-ansible roles are called directly by the client
use --extra-vars to pass tripleo_ceph_client_vars. As per the
deployed_ceph.yaml.j2 template in tripleo-ansible, the Heat
parameter CephClientConfigVars will then be set to the same
value. Then when the tripleo-ansible roles are called by
config-download they will have the same value for
tripleo_ceph_client_vars. Update export.py to use same path.

Change-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836
Depends-On: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb
Closes-Bug: #1981467
(cherry picked from commit 29fe3996bbe8cdaaa86c73cfb3dda443e789bd96)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/850046/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py']",2,325aada169c35c1db0ccc6d8b61c098f9c1bdce1,bug/1981467-stable/wallaby," ""tripleo_ceph_client_vars"": mock.ANY, ""tripleo_ceph_client_vars"": mock.ANY,",,5,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3f16ffc754bf468f95711a7ec69fc95e2f370687,openstack/tripleo-heat-templates,stable/wallaby,I3f16ffc754bf468f95711a7ec69fc95e2f370687,Configure OVN sb connections for the OVN provider,MERGED,2022-07-15 14:21:11.000000000,2022-07-30 21:27:30.000000000,2022-07-30 21:27:30.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-07-15 14:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5e920a8dfc465fcfb6f6e4bd1c4ddb594a6f1c8', 'message': 'Configure OVN sb connections for the OVN provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nNote: also adds the driver agent mounts to the driver agent container.\nSSL functionality would be otherwise broken.\n\nConflicts:\n    deployment/octavia/providers/ovn-provider-config.yaml\n\n(manually cherry picked from commit 5c272738c4782c881c30a2cc3fd03d08d5fd7337)\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/849876\nChange-Id: I3f16ffc754bf468f95711a7ec69fc95e2f370687\n'}, {'number': 2, 'created': '2022-07-15 14:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70f2bf6d210c5147bb674cb18e1aa7b98a18e6d2', 'message': 'Configure OVN sb connections for the OVN provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nNote: also adds the driver agent mounts to the driver agent container.\nSSL functionality would be otherwise broken.\n\nConflicts:\n    deployment/octavia/providers/ovn-provider-config.yaml\n\n(manually cherry picked from commit 5c272738c4782c881c30a2cc3fd03d08d5fd7337)\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/849876\nChange-Id: I3f16ffc754bf468f95711a7ec69fc95e2f370687\n'}, {'number': 3, 'created': '2022-07-15 20:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e663359bddee37d41b62015f2d771e3c47a7bb8', 'message': 'Configure OVN sb connections for the OVN provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nNote: also adds the driver agent mounts to the driver agent container.\nSSL functionality would be otherwise broken.\n\nConflicts:\n    deployment/octavia/providers/ovn-provider-config.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/849414\nChange-Id: I3f16ffc754bf468f95711a7ec69fc95e2f370687\n(cherry picked from commit 5c272738c4782c881c30a2cc3fd03d08d5fd7337)\n'}, {'number': 4, 'created': '2022-07-18 08:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4028d1334e27b7dcb3b7b6febd7ba52feaee390', 'message': 'Configure OVN sb connections for the OVN provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nNote: also adds the driver agent mounts to the driver agent container.\nSSL functionality would be otherwise broken.\n\nConflicts:\n    deployment/octavia/providers/ovn-provider-config.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/849414\nChange-Id: I3f16ffc754bf468f95711a7ec69fc95e2f370687\n(cherry picked from commit 5c272738c4782c881c30a2cc3fd03d08d5fd7337)\n'}, {'number': 5, 'created': '2022-07-19 14:54:09.000000000', 'files': ['deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56a070b711f2dd5a91bd584690d2ce862755b74c', 'message': 'Configure OVN sb connections for the OVN provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nNote: also adds the driver agent mounts to the driver agent container.\nSSL functionality would be otherwise broken.\n\nConflicts:\n    deployment/octavia/providers/ovn-provider-config.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/849876\nChange-Id: I3f16ffc754bf468f95711a7ec69fc95e2f370687\n(cherry picked from commit 5c272738c4782c881c30a2cc3fd03d08d5fd7337)\n'}]",12,849839,56a070b711f2dd5a91bd584690d2ce862755b74c,54,7,5,23567,,,0,"Configure OVN sb connections for the OVN provider

The OVN provider requires connections to the OVN sb db in order to
receive events for associating FIP/VIPs and healthchecks.

Note: also adds the driver agent mounts to the driver agent container.
SSL functionality would be otherwise broken.

Conflicts:
    deployment/octavia/providers/ovn-provider-config.yaml

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/849876
Change-Id: I3f16ffc754bf468f95711a7ec69fc95e2f370687
(cherry picked from commit 5c272738c4782c881c30a2cc3fd03d08d5fd7337)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/849839/5 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml']",2,f5e920a8dfc465fcfb6f6e4bd1c4ddb594a6f1c8,octavia-driver-agent-puppet," - {get_attr: [OctaviaProviderConfig, role_data, volumes]}",,4,0
openstack%2Fpuppet-neutron~master~Ic704ece52a692630c2a63d72357570306ed757e1,openstack/puppet-neutron,master,Ic704ece52a692630c2a63d72357570306ed757e1,Expose headers option of apache::vhost,MERGED,2022-07-01 01:01:38.000000000,2022-07-30 19:55:03.000000000,2022-07-30 19:54:06.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 01:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7b72036a818d217d1304d59152beb1128951ee74', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: Ic704ece52a692630c2a63d72357570306ed757e1\n'}, {'number': 2, 'created': '2022-07-01 01:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c58aedbae939c68b6343d848c0343ff48195071a', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: Ic704ece52a692630c2a63d72357570306ed757e1\n'}, {'number': 3, 'created': '2022-07-30 13:53:48.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-e3f9c09a2a96a316.yaml', 'spec/classes/neutron_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/353c952d2b350a1359bc303b42744101369627e2', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: Ic704ece52a692630c2a63d72357570306ed757e1\n'}]",2,848349,353c952d2b350a1359bc303b42744101369627e2,17,3,3,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: Ic704ece52a692630c2a63d72357570306ed757e1
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/49/848349/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-e3f9c09a2a96a316.yaml', 'spec/classes/neutron_wsgi_apache_spec.rb']",3,7b72036a818d217d1304d59152beb1128951ee74,apache-headers," :headers => nil, :request_headers => nil, :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'], :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'],",,30,7
openstack%2Fpuppet-gnocchi~master~I9fe841e9dc2a90627d0debdc9b6766a847390aed,openstack/puppet-gnocchi,master,I9fe841e9dc2a90627d0debdc9b6766a847390aed,Expose headers option of apache::vhost,MERGED,2022-06-29 23:51:04.000000000,2022-07-30 17:54:03.000000000,2022-07-30 17:53:10.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 23:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/43e6f7b5a080d2f659822e747c4502f84ed07191', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I9fe841e9dc2a90627d0debdc9b6766a847390aed\n'}, {'number': 2, 'created': '2022-06-30 02:03:23.000000000', 'files': ['releasenotes/notes/apache-headers-0091ba375bd625f6.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/gnocchi_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/3be542d7b2bae588d1b4a97eefe57a5125a130f3', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I9fe841e9dc2a90627d0debdc9b6766a847390aed\n'}]",2,848197,3be542d7b2bae588d1b4a97eefe57a5125a130f3,14,3,2,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: I9fe841e9dc2a90627d0debdc9b6766a847390aed
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/97/848197/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache-headers-0091ba375bd625f6.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/gnocchi_wsgi_apache_spec.rb']",3,43e6f7b5a080d2f659822e747c4502f84ed07191,apache-headers," :headers => nil, :request_headers => nil, :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'], :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'],",,23,0
openstack%2Fpuppet-heat~master~I2c527b5511db04f9daa7f605b565a567599b5431,openstack/puppet-heat,master,I2c527b5511db04f9daa7f605b565a567599b5431,Expose headers option of apache::vhost,MERGED,2022-06-30 00:18:42.000000000,2022-07-30 17:39:10.000000000,2022-07-30 17:38:13.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 00:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/40c9b05caa5a99819aada4d0ed7d9cf0fe748206', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nChange-Id: I2c527b5511db04f9daa7f605b565a567599b5431\n'}, {'number': 2, 'created': '2022-07-01 00:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/bd9d2d2633a43f4c4f9eef020d0b144a7888bde7', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nChange-Id: I2c527b5511db04f9daa7f605b565a567599b5431\n'}, {'number': 3, 'created': '2022-07-30 14:06:16.000000000', 'files': ['manifests/wsgi/apache_api.pp', 'spec/defines/heat_wsgi_apache_spec.rb', 'manifests/wsgi/apache.pp', 'spec/classes/heat_wsgi_apache_api_spec.rb', 'releasenotes/notes/apache-headers-d01de20dc4bb87a8.yaml', 'manifests/wsgi/apache_api_cfn.pp', 'spec/classes/heat_wsgi_apache_api_cfn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/51cfa309452f84682c6ce375ec6f7b37a990e6b4', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nChange-Id: I2c527b5511db04f9daa7f605b565a567599b5431\n'}]",3,848199,51cfa309452f84682c6ce375ec6f7b37a990e6b4,14,3,3,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

Change-Id: I2c527b5511db04f9daa7f605b565a567599b5431
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/99/848199/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache_api.pp', 'spec/defines/heat_wsgi_apache_spec.rb', 'manifests/wsgi/apache.pp', 'spec/classes/heat_wsgi_apache_api_spec.rb', 'releasenotes/notes/apache-headers-d01de20dc4bb87a8.yaml', 'manifests/wsgi/apache_api_cfn.pp', 'spec/classes/heat_wsgi_apache_api_cfn_spec.rb']",7,40c9b05caa5a99819aada4d0ed7d9cf0fe748206,apache-headers," :headers => nil, :request_headers => ['set Content-Type ""application/json""'], )}"," :request_headers => ['set Content-Type ""application/json""'],) }",46,19
openstack%2Fkeystonemiddleware~master~Ie8631bccb280f4fc12cc5c7446ef5bb970e59b4d,openstack/keystonemiddleware,master,Ie8631bccb280f4fc12cc5c7446ef5bb970e59b4d,wip: Use oslo.cache backend for token caching,NEW,2022-07-30 17:12:04.000000000,2022-07-30 17:33:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-30 17:12:04.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/auth_token/_cache.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/52cbf7dfd64ebcab017fc156ed4fd3a15c64cc6c', 'message': 'wip: Use oslo.cache backend for token caching\n\nCurrently keystonemiddleware implements its own caching mechanism using\npython-memcached or a part of oslo.cache implementation. Because of\nthis users should set up two cache options(keystone_authtoken and\noslo_cache) even if they want to use the same cache backend.\n\nThis introduces the option to allow users to use the single oslo.cache\nbackend for token caching. This allows us to get rid of implementations\nbased on unmaintained python-memcached easily.\n\nChange-Id: Ie8631bccb280f4fc12cc5c7446ef5bb970e59b4d\n'}]",4,851673,52cbf7dfd64ebcab017fc156ed4fd3a15c64cc6c,2,1,1,9816,,,0,"wip: Use oslo.cache backend for token caching

Currently keystonemiddleware implements its own caching mechanism using
python-memcached or a part of oslo.cache implementation. Because of
this users should set up two cache options(keystone_authtoken and
oslo_cache) even if they want to use the same cache backend.

This introduces the option to allow users to use the single oslo.cache
backend for token caching. This allows us to get rid of implementations
based on unmaintained python-memcached easily.

Change-Id: Ie8631bccb280f4fc12cc5c7446ef5bb970e59b4d
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/73/851673/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/auth_token/_cache.py', 'keystonemiddleware/auth_token/__init__.py']",3,52cbf7dfd64ebcab017fc156ed4fd3a15c64cc6c,," use_oslo_cache=self._conf.get('use_oslo_cache'),",,45,1
openstack%2Fpuppet-openstack-integration~master~Id52cf40559d24ec1cce4e8cf35471fd4100d4e97,openstack/puppet-openstack-integration,master,Id52cf40559d24ec1cce4e8cf35471fd4100d4e97,Capture network-scripts,MERGED,2022-07-18 16:23:32.000000000,2022-07-30 16:43:45.000000000,2022-07-30 16:43:45.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-18 16:23:32.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6c664af12e815d789ab182a6ea7e8e4213782506', 'message': 'Capture network-scripts\n\nThe puppet-vswitch modules manages interface scripts when a bridge is\nconnected to a physical interface. This change ensures the network\nscripts are captured in CI, so that we can review the files updated\nby the module.\n\nChange-Id: Id52cf40559d24ec1cce4e8cf35471fd4100d4e97\n'}]",0,850244,6c664af12e815d789ab182a6ea7e8e4213782506,7,3,1,9816,,,0,"Capture network-scripts

The puppet-vswitch modules manages interface scripts when a bridge is
connected to a physical interface. This change ensures the network
scripts are captured in CI, so that we can review the files updated
by the module.

Change-Id: Id52cf40559d24ec1cce4e8cf35471fd4100d4e97
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/44/850244/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,6c664af12e815d789ab182a6ea7e8e4213782506,,# network interfaces if [ -d /etc/sysconfig/network-scripts ]; then mkdir -p $LOG_DIR/etc/sysconfig sudo cp -r /etc/sysconfig/network-scripts $LOG_DIR/etc/sysconfig/ fi ,,6,0
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I57323a50e5bd016375eeaa3ececf813a3f48d0f6,openstack/puppet-openstack-integration,stable/wallaby,I57323a50e5bd016375eeaa3ececf813a3f48d0f6,Enable Designate in Ubuntu,MERGED,2022-07-26 01:13:46.000000000,2022-07-30 16:43:43.000000000,2022-07-30 16:43:43.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 01:13:46.000000000', 'files': ['fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b5fb9ad74bcadd4277e58540c045382c43029e2b', 'message': 'Enable Designate in Ubuntu\n\nIt was disabled by 995e6056d1bfc923599a87f19e3dd5fe90a2e9aa in the past\nbecause of broken idempotency but we no longer observe the problem in\nrecent releases like wallaby.\n\nConflicts:\n\tfixtures/scenario003.pp\n\nChange-Id: I57323a50e5bd016375eeaa3ececf813a3f48d0f6\n(cherry picked from commit d7ad5f71909dccb4670a63761efffd19ecedd03f)\n(cherry picked from commit 9ce2808719c2fef3abef8b6845a3edf61464c34c)\n(cherry picked from commit 843e2e0dadc4ac21d54ba8a8a48f2809c6cac942)\n'}]",0,850963,b5fb9ad74bcadd4277e58540c045382c43029e2b,7,3,1,9816,,,0,"Enable Designate in Ubuntu

It was disabled by 995e6056d1bfc923599a87f19e3dd5fe90a2e9aa in the past
because of broken idempotency but we no longer observe the problem in
recent releases like wallaby.

Conflicts:
	fixtures/scenario003.pp

Change-Id: I57323a50e5bd016375eeaa3ececf813a3f48d0f6
(cherry picked from commit d7ad5f71909dccb4670a63761efffd19ecedd03f)
(cherry picked from commit 9ce2808719c2fef3abef8b6845a3edf61464c34c)
(cherry picked from commit 843e2e0dadc4ac21d54ba8a8a48f2809c6cac942)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/63/850963/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario003.pp'],1,b5fb9ad74bcadd4277e58540c045382c43029e2b,,"include openstack_integration::designate designate => true,","if ($::operatingsystem == 'Ubuntu') and (versioncmp($::operatingsystemmajrelease, '16') >= 0) { # Disable Designate MDS on Ubuntu until we find why Puppet run is not # idempotent sometimes. $designate_enabled = false } else { $designate_enabled = true } if $designate_enabled { include openstack_integration::designate } designate => $designate_enabled,",2,12
openstack%2Fpuppet-openstack-integration~stable%2Fxena~I57323a50e5bd016375eeaa3ececf813a3f48d0f6,openstack/puppet-openstack-integration,stable/xena,I57323a50e5bd016375eeaa3ececf813a3f48d0f6,Enable Designate in Ubuntu,MERGED,2022-07-26 00:57:43.000000000,2022-07-30 16:21:16.000000000,2022-07-30 16:21:16.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 00:57:43.000000000', 'files': ['fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/843e2e0dadc4ac21d54ba8a8a48f2809c6cac942', 'message': 'Enable Designate in Ubuntu\n\nIt was disabled by 995e6056d1bfc923599a87f19e3dd5fe90a2e9aa in the past\nbecause of broken idempotency but we no longer observe the problem in\nrecent releases like wallaby.\n\nConflicts:\n\tfixtures/scenario003.pp\n\nChange-Id: I57323a50e5bd016375eeaa3ececf813a3f48d0f6\n(cherry picked from commit d7ad5f71909dccb4670a63761efffd19ecedd03f)\n(cherry picked from commit 9ce2808719c2fef3abef8b6845a3edf61464c34c)\n'}]",0,850961,843e2e0dadc4ac21d54ba8a8a48f2809c6cac942,7,3,1,9816,,,0,"Enable Designate in Ubuntu

It was disabled by 995e6056d1bfc923599a87f19e3dd5fe90a2e9aa in the past
because of broken idempotency but we no longer observe the problem in
recent releases like wallaby.

Conflicts:
	fixtures/scenario003.pp

Change-Id: I57323a50e5bd016375eeaa3ececf813a3f48d0f6
(cherry picked from commit d7ad5f71909dccb4670a63761efffd19ecedd03f)
(cherry picked from commit 9ce2808719c2fef3abef8b6845a3edf61464c34c)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/61/850961/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario003.pp'],1,843e2e0dadc4ac21d54ba8a8a48f2809c6cac942,,"include openstack_integration::designate designate => true,","if ($::operatingsystem == 'Ubuntu') and (versioncmp($::operatingsystemmajrelease, '16') >= 0) { # Disable Designate MDS on Ubuntu until we find why Puppet run is not # idempotent sometimes. $designate_enabled = false } else { $designate_enabled = true } if $designate_enabled { include openstack_integration::designate } designate => $designate_enabled,",2,12
openstack%2Fpuppet-keystone~master~I595dbf046aebabb3eea93b9ebcefc07bcff953f4,openstack/puppet-keystone,master,I595dbf046aebabb3eea93b9ebcefc07bcff953f4,Expose request_headers option of apache::vhost,MERGED,2022-06-30 01:43:06.000000000,2022-07-30 15:57:03.000000000,2022-07-30 15:56:05.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 01:43:06.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-2947bd0cc0c91602.yaml', 'spec/classes/keystone_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4351201d51188fa16981afe04b9be25472313719', 'message': 'Expose request_headers option of apache::vhost\n\n... in addition to headers option which is currently supported.\n\nChange-Id: I595dbf046aebabb3eea93b9ebcefc07bcff953f4\n'}]",1,848202,4351201d51188fa16981afe04b9be25472313719,8,3,1,9816,,,0,"Expose request_headers option of apache::vhost

... in addition to headers option which is currently supported.

Change-Id: I595dbf046aebabb3eea93b9ebcefc07bcff953f4
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/02/848202/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-2947bd0cc0c91602.yaml', 'spec/classes/keystone_wsgi_apache_spec.rb']",3,4351201d51188fa16981afe04b9be25472313719,apache-headers," :request_headers => nil, :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'], :request_headers => params[:request_headers],"," :headers => 'set X-Frame-Options ""DENY""',",15,1
openstack%2Fpuppet-openstack-integration~stable%2Fyoga~I57323a50e5bd016375eeaa3ececf813a3f48d0f6,openstack/puppet-openstack-integration,stable/yoga,I57323a50e5bd016375eeaa3ececf813a3f48d0f6,Enable Designate in Ubuntu,MERGED,2022-07-26 00:53:57.000000000,2022-07-30 15:55:05.000000000,2022-07-30 15:55:05.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 00:53:57.000000000', 'files': ['fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9ce2808719c2fef3abef8b6845a3edf61464c34c', 'message': 'Enable Designate in Ubuntu\n\nIt was disabled by 995e6056d1bfc923599a87f19e3dd5fe90a2e9aa in the past\nbecause of broken idempotency but we no longer observe the problem in\nrecent releases like wallaby.\n\nConflicts:\n\tfixtures/scenario003.pp\n\nChange-Id: I57323a50e5bd016375eeaa3ececf813a3f48d0f6\n(cherry picked from commit d7ad5f71909dccb4670a63761efffd19ecedd03f)\n'}]",1,850960,9ce2808719c2fef3abef8b6845a3edf61464c34c,9,3,1,9816,,,0,"Enable Designate in Ubuntu

It was disabled by 995e6056d1bfc923599a87f19e3dd5fe90a2e9aa in the past
because of broken idempotency but we no longer observe the problem in
recent releases like wallaby.

Conflicts:
	fixtures/scenario003.pp

Change-Id: I57323a50e5bd016375eeaa3ececf813a3f48d0f6
(cherry picked from commit d7ad5f71909dccb4670a63761efffd19ecedd03f)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/60/850960/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario003.pp'],1,9ce2808719c2fef3abef8b6845a3edf61464c34c,,"include openstack_integration::designate designate => true,","if ($::operatingsystem == 'Ubuntu') and (versioncmp($::operatingsystemmajrelease, '16') >= 0) { # Disable Designate MDS on Ubuntu until we find why Puppet run is not # idempotent sometimes. $designate_enabled = false } else { $designate_enabled = true } if $designate_enabled { include openstack_integration::designate } designate => $designate_enabled,",2,12
openstack%2Fpuppet-placement~master~I8500d2de47c4f50920336741db5840bc44faca8b,openstack/puppet-placement,master,I8500d2de47c4f50920336741db5840bc44faca8b,Expose headers option of apache::vhost,MERGED,2022-07-01 01:37:58.000000000,2022-07-30 15:39:52.000000000,2022-07-30 15:38:56.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 01:37:58.000000000', 'files': ['releasenotes/notes/apache-headers-a3e1b9362f45de8f.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/placement_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/029c455e4cc310cd5a6a5b5c599f8cb20a8d774d', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I8500d2de47c4f50920336741db5840bc44faca8b\n'}]",1,848371,029c455e4cc310cd5a6a5b5c599f8cb20a8d774d,8,3,1,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: I8500d2de47c4f50920336741db5840bc44faca8b
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/71/848371/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache-headers-a3e1b9362f45de8f.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/placement_wsgi_apache_spec.rb']",3,029c455e4cc310cd5a6a5b5c599f8cb20a8d774d,apache-headers," :headers => nil, :request_headers => nil, :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'], :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'],",,23,0
openstack%2Fpuppet-aodh~master~I8f3201ce798e6a269282fb0e54faed5a0030d1ca,openstack/puppet-aodh,master,I8f3201ce798e6a269282fb0e54faed5a0030d1ca,Replace usage of legacy facts,ABANDONED,2022-01-05 12:49:43.000000000,2022-07-30 15:38:21.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 12:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/34633344a5e1f440a04d5d21061400d65c6dc8b7', 'message': 'Replace usage of legacy facts\n\nChange-Id: I8f3201ce798e6a269282fb0e54faed5a0030d1ca\n'}, {'number': 2, 'created': '2022-01-05 12:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/1d2395602261290d954dc3dfd5c7ae2f514f84e8', 'message': 'Replace usage of legacy facts\n\nChange-Id: I8f3201ce798e6a269282fb0e54faed5a0030d1ca\n'}, {'number': 3, 'created': '2022-03-27 08:38:30.000000000', 'files': ['spec/classes/aodh_api_spec.rb', 'spec/classes/aodh_wsgi_apache_spec.rb', 'spec/classes/aodh_listener_spec.rb', 'spec/classes/aodh_client_spec.rb', 'spec/classes/aodh_db_sync_spec.rb', 'manifests/wsgi/apache.pp', 'spec/classes/aodh_db_postgresql_spec.rb', 'manifests/wsgi/uwsgi.pp', 'manifests/params.pp', 'spec/classes/aodh_evaluator_spec.rb', 'spec/classes/aodh_expirer_spec.rb', 'spec/classes/aodh_init_spec.rb', 'spec/classes/aodh_notifier_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/8f7842cf857377a4fdba8edd239a7cc52743cbf6', 'message': 'Replace usage of legacy facts\n\n... by modern structured facts. Also, reference to facts are refactored\nby $facts[...] to explicitly force usage of facts, except for the facts\nprovided by openstacklib.\n\nChange-Id: I8f3201ce798e6a269282fb0e54faed5a0030d1ca\n'}]",0,823508,8f7842cf857377a4fdba8edd239a7cc52743cbf6,9,2,3,9816,,,0,"Replace usage of legacy facts

... by modern structured facts. Also, reference to facts are refactored
by $facts[...] to explicitly force usage of facts, except for the facts
provided by openstacklib.

Change-Id: I8f3201ce798e6a269282fb0e54faed5a0030d1ca
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/08/823508/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_client_spec.rb', 'spec/classes/aodh_api_spec.rb', 'manifests/params.pp', 'spec/classes/aodh_listener_spec.rb', 'spec/classes/aodh_evaluator_spec.rb', 'spec/classes/aodh_expirer_spec.rb', 'spec/classes/aodh_init_spec.rb', 'spec/classes/aodh_notifier_spec.rb']",8,34633344a5e1f440a04d5d21061400d65c6dc8b7,modern-facts, case facts[:os][:family], case facts[:osfamily],13,13
openstack%2Fpuppet-openstack-integration~master~I55f6530d1c8225cd223056f0c0539fadf7e26a55,openstack/puppet-openstack-integration,master,I55f6530d1c8225cd223056f0c0539fadf7e26a55,Enable dashboard scenario test,ABANDONED,2022-07-11 04:56:48.000000000,2022-07-30 15:34:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-11 04:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7b2a416c30d254757193cc5c0ac3828a2cb969d9', 'message': 'Enable dashboard scenario test\n\n... to eliminate quite basic errors in configurations like syntax error\nin local_settings.\n\nChange-Id: I55f6530d1c8225cd223056f0c0539fadf7e26a55\n'}, {'number': 2, 'created': '2022-07-11 06:12:27.000000000', 'files': ['run_tests.sh', 'manifests/tempest.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/01567cd9fc7dca5111a44748ad09797465a994a3', 'message': 'Enable dashboard scenario test\n\n... to eliminate quite basic errors in configurations like syntax error\nin local_settings.\n\nChange-Id: I55f6530d1c8225cd223056f0c0539fadf7e26a55\n'}]",0,849264,01567cd9fc7dca5111a44748ad09797465a994a3,4,1,2,9816,,,0,"Enable dashboard scenario test

... to eliminate quite basic errors in configurations like syntax error
in local_settings.

Change-Id: I55f6530d1c8225cd223056f0c0539fadf7e26a55
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/64/849264/2 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,7b2a416c30d254757193cc5c0ac3828a2cb969d9,," EXCLUDES=""--exclude-regex=^telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration"""," echo ""tempest.*.scenario.test_dashboard_basic_ops.TestDashboardBasicOps.test_basic_scenario"" >> /tmp/openstack/tempest/test-exclude-list.txt #EXCLUDES=""--regex=^(?!tempest.scenario.gnocchi.test.live_assert_vcpus_metric_is_really_expurged.test_request.*$)(?!tempest.scenario.gnocchi.test.live_assert_no_delete_metrics_have_the_gabbilive_policy.test_request.*$).*"" # Note(chandankumar): exclude-list tempest_horizon.tests.scenario.test_dashboard_basic_ops test as they are currently flacky in CI on CentOS # Adding it to skip list will help till we find the correct solution EXCLUDES=""--exclude-regex=^tempest.*.scenario.test_dashboard_basic_ops|telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration""",1,6
openstack%2Ftripleo-heat-templates~master~I540a98808d535052c0d0ed2c35cc58991a0e4697,openstack/tripleo-heat-templates,master,I540a98808d535052c0d0ed2c35cc58991a0e4697,NetApp: Deprecate parameters for 7mode systems and E-Series systems,MERGED,2022-03-22 02:19:17.000000000,2022-07-30 15:31:50.000000000,2022-07-30 15:30:54.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34598}]","[{'number': 1, 'created': '2022-03-22 02:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/436b415424d192d73ce22877adc79a3e53504a21', 'message': 'NetApp: Deprecate parameters for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\n7 mode: removed during Rocky\n 425f45a311dc78ff34a18ffea7dbf5bb6dd2d421\n\nE-Series: removed during Stein\n 5bc5af7a94a99f6457f5f553e14bcdc6d04381b1\n\nChange-Id: I540a98808d535052c0d0ed2c35cc58991a0e4697\n'}, {'number': 2, 'created': '2022-03-22 02:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c076099001454f3e76ada74c852e3425fc5f31dc', 'message': 'NetApp: Deprecate parameters for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\n7 mode: removed during Rocky\n 425f45a311dc78ff34a18ffea7dbf5bb6dd2d421\n\nE-Series: removed during Stein\n 5bc5af7a94a99f6457f5f553e14bcdc6d04381b1\n\nChange-Id: I540a98808d535052c0d0ed2c35cc58991a0e4697\n'}, {'number': 3, 'created': '2022-03-22 03:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aeb136e5aad79d8fe0524549070d4e5df450e3bf', 'message': 'NetApp: Deprecate parameters for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\n7 mode: removed during Rocky\n 425f45a311dc78ff34a18ffea7dbf5bb6dd2d421\n\nE-Series: removed during Stein\n 5bc5af7a94a99f6457f5f553e14bcdc6d04381b1\n\nCloses-Bug: #1965850\nCloses-Bug: #1965853\nChange-Id: I540a98808d535052c0d0ed2c35cc58991a0e4697\n'}, {'number': 4, 'created': '2022-03-22 04:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b161ad65e056e82fab77c232e939211d10bd0c2', 'message': 'NetApp: Deprecate parameters for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\n7 mode: removed during Rocky\n 425f45a311dc78ff34a18ffea7dbf5bb6dd2d421\n\nE-Series: removed during Stein\n 5bc5af7a94a99f6457f5f553e14bcdc6d04381b1\n\nPartial-Bug: #1965850\nPartial-Bug: #1965853\nChange-Id: I540a98808d535052c0d0ed2c35cc58991a0e4697\n'}, {'number': 5, 'created': '2022-05-23 08:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bca95e76b1c69431759f449609eb6489c00b4683', 'message': 'NetApp: Deprecate parameters for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\n7 mode: removed during Rocky\n 425f45a311dc78ff34a18ffea7dbf5bb6dd2d421\n\nE-Series: removed during Stein\n 5bc5af7a94a99f6457f5f553e14bcdc6d04381b1\n\nPartial-Bug: #1965850\nPartial-Bug: #1965853\nChange-Id: I540a98808d535052c0d0ed2c35cc58991a0e4697\n'}, {'number': 6, 'created': '2022-05-24 09:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3886d5cc648006282abe74f1b5e495563afbd344', 'message': 'NetApp: Deprecate parameters for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\n7 mode: removed during Rocky\n 425f45a311dc78ff34a18ffea7dbf5bb6dd2d421\n\nE-Series: removed during Stein\n 5bc5af7a94a99f6457f5f553e14bcdc6d04381b1\n\nPartial-Bug: #1965850\nPartial-Bug: #1965853\nChange-Id: I540a98808d535052c0d0ed2c35cc58991a0e4697\n'}, {'number': 7, 'created': '2022-05-24 13:08:17.000000000', 'files': ['environments/cinder-netapp-config.yaml', 'sample-env-generator/storage.yaml', 'environments/storage/cinder-netapp-config.yaml', 'deployment/cinder/cinder-backend-netapp-puppet.yaml', 'releasenotes/notes/deprecate-removed-netapp-systems-15c58d7e807ba33a.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a55550a866560553ceabe6c4e86e3409293feb9', 'message': 'NetApp: Deprecate parameters for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\n7 mode: removed during Rocky\n 425f45a311dc78ff34a18ffea7dbf5bb6dd2d421\n\nE-Series: removed during Stein\n 5bc5af7a94a99f6457f5f553e14bcdc6d04381b1\n\nPartial-Bug: #1965850\nPartial-Bug: #1965853\nChange-Id: I540a98808d535052c0d0ed2c35cc58991a0e4697\n'}]",15,834585,6a55550a866560553ceabe6c4e86e3409293feb9,36,6,7,9816,,,0,"NetApp: Deprecate parameters for 7mode systems and E-Series systems

... because these are no longer supported by cinder.

7 mode: removed during Rocky
 425f45a311dc78ff34a18ffea7dbf5bb6dd2d421

E-Series: removed during Stein
 5bc5af7a94a99f6457f5f553e14bcdc6d04381b1

Partial-Bug: #1965850
Partial-Bug: #1965853
Change-Id: I540a98808d535052c0d0ed2c35cc58991a0e4697
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/834585/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-backend-netapp-puppet.yaml'],1,436b415424d192d73ce22877adc79a3e53504a21,netapp-cleanup, CinderNetappVfiler: type: string default: '' CinderNetappPartnerBackendName: type: string default: '' CinderNetappControllerIps: type: string default: '' CinderNetappSaPassword: type: string default: '' hidden: true CinderNetappWebservicePath: type: string default: '/devmgr/v2' - CinderNetappVfiler - CinderNetappPartnerBackendName - CinderNetappControllerIPs - CinderNetappSaPassword - CinderNetappWebservicePath, CinderNetappVfiler: type: string default: '' CinderNetappPartnerBackendName: type: string default: '' CinderNetappControllerIps: type: string default: '' CinderNetappSaPassword: type: string default: '' hidden: true CinderNetappWebservicePath: type: string default: '/devmgr/v2' cinder::backend::netapp::netapp_vfiler: {get_param: CinderNetappVfiler} cinder::backend::netapp::netapp_partner_backend_name: {get_param: CinderNetappPartnerBackendName} cinder::backend::netapp::netapp_controller_ips: {get_param: CinderNetappControllerIps} cinder::backend::netapp::netapp_sa_password: {get_param: CinderNetappSaPassword} cinder::backend::netapp::netapp_webservice_path: {get_param: CinderNetappWebservicePath},21,21
openstack%2Fpuppet-tripleo~master~Icf0863c34440e36ad737e9ce7959339d49a7e720,openstack/puppet-tripleo,master,Icf0863c34440e36ad737e9ce7959339d49a7e720,NetApp: Remove implementation for 7mode systems and E-Series systems,MERGED,2022-03-22 02:26:11.000000000,2022-07-30 15:30:57.000000000,2022-07-30 15:30:57.000000000,"[{'_account_id': 7144}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-03-22 02:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/22a5e25c00da43539dbbd5267e8e5f99d1ad0b02', 'message': 'NetApp: Remove implementation for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\nDepends-on: https://review.opendev.org/834585\nChange-Id: Icf0863c34440e36ad737e9ce7959339d49a7e720\n'}, {'number': 2, 'created': '2022-03-22 04:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a6c50dab1ae7866c91570aebd6089a02374d1baf', 'message': 'NetApp: Remove implementation for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\nRelated-Bug: #1965850\nRelated-Bug: #1965853\nDepends-on: https://review.opendev.org/834585\nChange-Id: Icf0863c34440e36ad737e9ce7959339d49a7e720\n'}, {'number': 3, 'created': '2022-03-22 04:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1ed1247b73ab512e349c2467419d70816737ead4', 'message': 'NetApp: Remove implementation for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\nCloses-Bug: #1965850\nCloses-Bug: #1965853\nDepends-on: https://review.opendev.org/834585\nChange-Id: Icf0863c34440e36ad737e9ce7959339d49a7e720\n'}, {'number': 4, 'created': '2022-05-23 09:28:23.000000000', 'files': ['manifests/profile/base/cinder/volume/netapp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c205685cab5edaa9bff6da4fd20bce56416bbdc0', 'message': 'NetApp: Remove implementation for 7mode systems and E-Series systems\n\n... because these are no longer supported by cinder.\n\nCloses-Bug: #1965850\nCloses-Bug: #1965853\nDepends-on: https://review.opendev.org/834585\nChange-Id: Icf0863c34440e36ad737e9ce7959339d49a7e720\n'}]",0,834586,c205685cab5edaa9bff6da4fd20bce56416bbdc0,15,4,4,9816,,,0,"NetApp: Remove implementation for 7mode systems and E-Series systems

... because these are no longer supported by cinder.

Closes-Bug: #1965850
Closes-Bug: #1965853
Depends-on: https://review.opendev.org/834585
Change-Id: Icf0863c34440e36ad737e9ce7959339d49a7e720
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/834586/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/cinder/volume/netapp.pp'],1,22a5e25c00da43539dbbd5267e8e5f99d1ad0b02,netapp-cleanup,," 'CinderNetappVfiler' => hiera('cinder::backend::netapp::netapp_vfiler', undef), 'CinderNetappPartnerBackendName' => hiera('cinder::backend::netapp::netapp_partner_backend_name', undef), 'CinderNetappControllerIps' => hiera('cinder::backend::netapp::netapp_controller_ips', undef), 'CinderNetappSaPassword' => hiera('cinder::backend::netapp::netapp_sa_password', undef), 'CinderNetappWebservicePath' => hiera('cinder::backend::netapp::netapp_webservice_path', undef), 'netapp_vfiler' => $backend_config['CinderNetappVfiler'], 'netapp_partner_backend_name' => $backend_config['CinderNetappPartnerBackendName'], 'netapp_controller_ips' => $backend_config['CinderNetappControllerIps'], 'netapp_sa_password' => $backend_config['CinderNetappSaPassword'], 'netapp_webservice_path' => $backend_config['CinderNetappWebservicePath'],",0,10
openstack%2Fpuppet-nova~master~I23568d804f97c804f8883b49690f77d2119c4b87,openstack/puppet-nova,master,I23568d804f97c804f8883b49690f77d2119c4b87,Expose headers option of apache::vhost,MERGED,2022-07-01 01:56:22.000000000,2022-07-30 15:30:00.000000000,2022-07-30 15:29:02.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 01:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/82fa04c865faa6188b4b5daa83518fbc0236f664', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I23568d804f97c804f8883b49690f77d2119c4b87\n'}, {'number': 2, 'created': '2022-07-01 02:34:11.000000000', 'files': ['releasenotes/notes/apache-headers-16bebb9da1fb6cb6.yaml', 'manifests/wsgi/apache_api.pp', 'spec/classes/nova_wsgi_apache_metadata_spec.rb', 'manifests/wsgi/apache_metadata.pp', 'spec/classes/nova_wsgi_apache_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/34351eacda7fef95e1234e6b2ed0e61b68d2e810', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I23568d804f97c804f8883b49690f77d2119c4b87\n'}]",1,848372,34351eacda7fef95e1234e6b2ed0e61b68d2e810,10,4,2,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: I23568d804f97c804f8883b49690f77d2119c4b87
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/72/848372/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache-headers-16bebb9da1fb6cb6.yaml', 'manifests/wsgi/apache_api.pp', 'spec/classes/nova_wsgi_apache_metadata_spec.rb', 'manifests/wsgi/apache_metadata.pp', 'spec/classes/nova_wsgi_apache_api_spec.rb']",5,82fa04c865faa6188b4b5daa83518fbc0236f664,apache-headers," :headers => nil, :request_headers => nil, :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'], :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'],",,42,0
openstack%2Fpuppet-barbican~master~I0e78f2183ffe14c310ee5c5632c203258c8c85cd,openstack/puppet-barbican,master,I0e78f2183ffe14c310ee5c5632c203258c8c85cd,Expose headers option of apache::vhost,MERGED,2022-06-29 02:52:54.000000000,2022-07-30 15:27:02.000000000,2022-07-30 15:26:03.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 02:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/2d5c7cf6a5b8c3d178dc2d1322dc07d3b0e6aa5a', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I0e78f2183ffe14c310ee5c5632c203258c8c85cd\n'}, {'number': 2, 'created': '2022-06-29 02:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/5678f3f0d110ab93f865ee3bc92c8d0687f18436', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I0e78f2183ffe14c310ee5c5632c203258c8c85cd\n'}, {'number': 3, 'created': '2022-06-29 02:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/cbf40d0daa86cd3c58e2d97798ecd50f7473d2f5', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I0e78f2183ffe14c310ee5c5632c203258c8c85cd\n'}, {'number': 4, 'created': '2022-06-29 04:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/bf4b0d351b20d618620b084103323a5c8fb3220e', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I0e78f2183ffe14c310ee5c5632c203258c8c85cd\n'}, {'number': 5, 'created': '2022-06-29 23:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/ecb07597bba9314b66ef5241b0f88dd814b4de5c', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I0e78f2183ffe14c310ee5c5632c203258c8c85cd\n'}, {'number': 6, 'created': '2022-06-29 23:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/66b0cde0c28ccc8589db4b6df7616a4aea2afa82', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I0e78f2183ffe14c310ee5c5632c203258c8c85cd\n'}, {'number': 7, 'created': '2022-06-30 00:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/653bfc0b587f8dc532ee4724f656942961fee63a', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I0e78f2183ffe14c310ee5c5632c203258c8c85cd\n'}, {'number': 8, 'created': '2022-06-30 01:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/2b31448fe0f16839e4ab1265740b12899af72136', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I0e78f2183ffe14c310ee5c5632c203258c8c85cd\n'}, {'number': 9, 'created': '2022-06-30 02:11:58.000000000', 'files': ['releasenotes/notes/apache-headers-8e291ff07e486d85.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/barbican_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/72299ab60d71c376a98aa0992809b4310b740baa', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I0e78f2183ffe14c310ee5c5632c203258c8c85cd\n'}]",1,848045,72299ab60d71c376a98aa0992809b4310b740baa,20,3,9,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: I0e78f2183ffe14c310ee5c5632c203258c8c85cd
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/45/848045/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-8e291ff07e486d85.yaml']",2,2d5c7cf6a5b8c3d178dc2d1322dc07d3b0e6aa5a,apache-headers,--- features: - | The ``barbican::wsgi::apache`` class now supports customizing request/response headers added by apache. ,,18,0
openstack%2Fpuppet-magnum~master~I84ec512b7dbed382f5d86b30f92de526ba0753eb,openstack/puppet-magnum,master,I84ec512b7dbed382f5d86b30f92de526ba0753eb,Expose headers option of apache::vhost,MERGED,2022-06-30 02:08:42.000000000,2022-07-30 15:18:56.000000000,2022-07-30 15:18:01.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-30 02:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/4f67d7f6d25169cdc4b2963f3f16dffaa39094b8', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I84ec512b7dbed382f5d86b30f92de526ba0753eb\n'}, {'number': 2, 'created': '2022-06-30 02:09:48.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-e08399a25917aff3.yaml', 'spec/classes/magnum_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/e178968dd62da19233575721f762cfe43d050199', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I84ec512b7dbed382f5d86b30f92de526ba0753eb\n'}]",0,848204,e178968dd62da19233575721f762cfe43d050199,9,3,2,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: I84ec512b7dbed382f5d86b30f92de526ba0753eb
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/04/848204/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-e08399a25917aff3.yaml', 'spec/classes/magnum_wsgi_apache_spec.rb']",3,4f67d7f6d25169cdc4b2963f3f16dffaa39094b8,apache-headers," :headers => nil, :request_headers => nil, :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'], :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'],",,23,0
openstack%2Fpuppet-aodh~master~I857407802617087f75334c8357055250dcd4cef5,openstack/puppet-aodh,master,I857407802617087f75334c8357055250dcd4cef5,Expose headers option of apache::vhost,MERGED,2022-06-29 02:47:24.000000000,2022-07-30 15:17:12.000000000,2022-07-30 15:16:12.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 02:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/d7889f00ce18de501adb6db6e08358c711fd3f40', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I857407802617087f75334c8357055250dcd4cef5\n'}, {'number': 2, 'created': '2022-06-29 02:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/25793053aa3978c2dbe3c3531d9b76225d745f77', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I857407802617087f75334c8357055250dcd4cef5\n'}, {'number': 3, 'created': '2022-06-29 02:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/b394fc1d8c6c7ce55f0d6fa75237a240b2c901c3', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I857407802617087f75334c8357055250dcd4cef5\n'}, {'number': 4, 'created': '2022-06-29 23:20:51.000000000', 'files': ['releasenotes/notes/apache-headers-4b2756ad793e7f16.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/aodh_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/0c8d02c75887decca516d93ef33f887d66cd0817', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I857407802617087f75334c8357055250dcd4cef5\n'}]",1,848043,0c8d02c75887decca516d93ef33f887d66cd0817,13,3,4,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: I857407802617087f75334c8357055250dcd4cef5
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/43/848043/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache-headers-4b2756ad793e7f16.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/aodh_wsgi_apache_spec.rb']",3,d7889f00ce18de501adb6db6e08358c711fd3f40,apache-headers," :headers => nil, :request_headers => nil,",,19,0
openstack%2Fpuppet-zaqar~master~Ie5f2669a8686a3546b652251881615e0e18bf433,openstack/puppet-zaqar,master,Ie5f2669a8686a3546b652251881615e0e18bf433,Expose headers option of apache::vhost,MERGED,2022-07-01 02:37:21.000000000,2022-07-30 15:14:32.000000000,2022-07-30 15:13:34.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 02:37:21.000000000', 'files': ['spec/classes/zaqar_wsgi_apache_spec.rb', 'manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-80960700e9e63f0f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/5d3e8252d67ce6bd1606e9cf06c5dea6a1803cf7', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: Ie5f2669a8686a3546b652251881615e0e18bf433\n'}]",1,848374,5d3e8252d67ce6bd1606e9cf06c5dea6a1803cf7,8,3,1,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: Ie5f2669a8686a3546b652251881615e0e18bf433
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/74/848374/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/zaqar_wsgi_apache_spec.rb', 'manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-80960700e9e63f0f.yaml']",3,5d3e8252d67ce6bd1606e9cf06c5dea6a1803cf7,apache-headers,--- features: - | The ``zaqar::wsgi::apache`` class now supports customizing request/response headers added by apache. ,,31,10
openstack%2Fpuppet-vitrage~master~If7c7341fbe5b61dcbb5762291484ce4097c0239c,openstack/puppet-vitrage,master,If7c7341fbe5b61dcbb5762291484ce4097c0239c,Expose headers option of apache::vhost,MERGED,2022-07-01 06:03:13.000000000,2022-07-30 15:02:34.000000000,2022-07-30 15:01:34.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 06:03:13.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-2aa1df788e250634.yaml', 'spec/classes/vitrage_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/3b3ace515248d6869886710c18a2754852cd8869', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: If7c7341fbe5b61dcbb5762291484ce4097c0239c\n'}]",1,848385,3b3ace515248d6869886710c18a2754852cd8869,8,3,1,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: If7c7341fbe5b61dcbb5762291484ce4097c0239c
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/85/848385/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-2aa1df788e250634.yaml', 'spec/classes/vitrage_wsgi_apache_spec.rb']",3,3b3ace515248d6869886710c18a2754852cd8869,apache-headers," :headers => nil, :request_headers => nil, :custom_wsgi_process_options => {}, describe 'when overriding parameters' do :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'], :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'],"," :custom_wsgi_process_options => {}, describe 'when overriding parameters using different ports' do",33,9
openstack%2Fpuppet-designate~master~Iaa9627fe8ff3439a9662704c2008ff0e93717ae3,openstack/puppet-designate,master,Iaa9627fe8ff3439a9662704c2008ff0e93717ae3,Expose headers option of apache::vhost,MERGED,2022-06-29 23:41:33.000000000,2022-07-30 15:01:38.000000000,2022-07-30 15:00:41.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 23:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d41fe2d73be9e7bf8237fbc66c7cbfbdf89b0690', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: Iaa9627fe8ff3439a9662704c2008ff0e93717ae3\n'}, {'number': 2, 'created': '2022-06-30 01:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/44d7b2f409e4082683029271eb21767af0dc014f', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: Iaa9627fe8ff3439a9662704c2008ff0e93717ae3\n'}, {'number': 3, 'created': '2022-06-30 02:02:58.000000000', 'files': ['releasenotes/notes/apache-headers-8753dd9186b29c0a.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/designate_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/8f6bc169bbb75cfd33ca7627d2502336c0604dfa', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: Iaa9627fe8ff3439a9662704c2008ff0e93717ae3\n'}]",1,848196,8f6bc169bbb75cfd33ca7627d2502336c0604dfa,11,3,3,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: Iaa9627fe8ff3439a9662704c2008ff0e93717ae3
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/96/848196/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/apache-headers-8753dd9186b29c0a.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/designate_wsgi_apache_spec.rb']",3,d41fe2d73be9e7bf8237fbc66c7cbfbdf89b0690,apache-headers," :headers => nil, :request_headers => nil, :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'], :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'],",,23,0
openstack%2Fpuppet-sahara~master~I7431b95051d0cb9c35c9bebc07959d6f95b0cd1b,openstack/puppet-sahara,master,I7431b95051d0cb9c35c9bebc07959d6f95b0cd1b,Expose headers option of apache::vhost,MERGED,2022-07-01 05:59:43.000000000,2022-07-30 14:59:41.000000000,2022-07-30 14:58:41.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 05:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/d0f49045cf784d645300109633c93d5199d18174', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I7431b95051d0cb9c35c9bebc07959d6f95b0cd1b\n'}, {'number': 2, 'created': '2022-07-01 07:25:12.000000000', 'files': ['spec/classes/sahara_wsgi_apache_spec.rb', 'manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-4f55acf423449fe3.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/175657f31cca3b3e5482137c60282ea2a4240331', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I7431b95051d0cb9c35c9bebc07959d6f95b0cd1b\n'}]",1,848384,175657f31cca3b3e5482137c60282ea2a4240331,10,3,2,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: I7431b95051d0cb9c35c9bebc07959d6f95b0cd1b
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/84/848384/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/sahara_wsgi_apache_spec.rb', 'manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-4f55acf423449fe3.yaml']",3,d0f49045cf784d645300109633c93d5199d18174,apache-headers,--- features: - | The ``sahara::wsgi::apache`` class now supports customizing request/response headers added by apache. ,,23,0
openstack%2Fpuppet-octavia~master~Ia75fb9a1b343293c2b962ae4f90894e094149acc,openstack/puppet-octavia,master,Ia75fb9a1b343293c2b962ae4f90894e094149acc,Expose headers option of apache::vhost,MERGED,2022-07-01 01:07:43.000000000,2022-07-30 14:56:46.000000000,2022-07-30 14:54:56.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 01:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/83924bd149b78c0413ba1da649ba4fa2b6a95e24', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: Ia75fb9a1b343293c2b962ae4f90894e094149acc\n'}, {'number': 2, 'created': '2022-07-01 01:26:49.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/octavia_wsgi_apache_spec.rb', 'releasenotes/notes/apache-headers-66a08f8feb62208d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/d7dc6e1a4f256686484c83b97752f17b5ff04bf1', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: Ia75fb9a1b343293c2b962ae4f90894e094149acc\n'}]",1,848370,d7dc6e1a4f256686484c83b97752f17b5ff04bf1,11,3,2,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: Ia75fb9a1b343293c2b962ae4f90894e094149acc
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/70/848370/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/octavia_wsgi_apache_spec.rb', 'releasenotes/notes/apache-headers-66a08f8feb62208d.yaml']",3,83924bd149b78c0413ba1da649ba4fa2b6a95e24,apache-headers,--- features: - | The ``octavia::wsgi::apache`` class now supports customizing request/response headers added by apache. ,,22,1
openstack%2Fpuppet-watcher~master~I3f0777ec48dd0196ad82b902ab2c3f54cf170717,openstack/puppet-watcher,master,I3f0777ec48dd0196ad82b902ab2c3f54cf170717,Expose headers option of apache::vhost,MERGED,2022-07-01 07:18:35.000000000,2022-07-30 14:55:29.000000000,2022-07-30 14:54:30.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 07:18:35.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-61aa1ceb5012239f.yaml', 'spec/classes/watcher_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/fd5376481ff43b53fbade39237900b25ce6adf44', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I3f0777ec48dd0196ad82b902ab2c3f54cf170717\n'}]",1,848390,fd5376481ff43b53fbade39237900b25ce6adf44,8,3,1,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: I3f0777ec48dd0196ad82b902ab2c3f54cf170717
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/90/848390/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-61aa1ceb5012239f.yaml', 'spec/classes/watcher_wsgi_apache_spec.rb']",3,fd5376481ff43b53fbade39237900b25ce6adf44,apache-headers," :headers => nil, :request_headers => nil, context 'when overriding parameters' do :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'], :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'],", context 'when overriding parameters using different ports' do,31,8
openstack%2Fpuppet-mistral~master~Ic8154cb670c821ccf06c33721ac73f89c25d78c8,openstack/puppet-mistral,master,Ic8154cb670c821ccf06c33721ac73f89c25d78c8,Expose headers option of apache::vhost,MERGED,2022-07-01 00:58:09.000000000,2022-07-30 14:54:22.000000000,2022-07-30 14:53:19.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 00:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/5b059bd00714ad60bbf514a2651fb42d8d0d6aae', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: Ic8154cb670c821ccf06c33721ac73f89c25d78c8\n'}, {'number': 2, 'created': '2022-07-01 01:27:29.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-4a1675bcdb266037.yaml', 'spec/classes/mistral_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/bf0f7ec1729eb409e550e0e57a3e487aa37f611e', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: Ic8154cb670c821ccf06c33721ac73f89c25d78c8\n'}]",0,848348,bf0f7ec1729eb409e550e0e57a3e487aa37f611e,9,3,2,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: Ic8154cb670c821ccf06c33721ac73f89c25d78c8
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/48/848348/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-4a1675bcdb266037.yaml', 'spec/classes/mistral_wsgi_apache_spec.rb']",3,5b059bd00714ad60bbf514a2651fb42d8d0d6aae,apache-headers," :headers => nil, :request_headers => nil, :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'], :headers => ['set X-XSS-Protection ""1; mode=block""'], :request_headers => ['set Content-Type ""application/json""'],",,30,7
openstack%2Fnova~stable%2Fyoga~Id04e0df12829df4d8929e03a8b76b5cbe0549059,openstack/nova,stable/yoga,Id04e0df12829df4d8929e03a8b76b5cbe0549059,neutron: Unbind remaining ports after PortNotFound,MERGED,2022-05-19 17:48:00.000000000,2022-07-30 14:41:20.000000000,2022-07-30 14:40:07.000000000,"[{'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 17:48:00.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f32b118640ee466b58155b5ecd50e041b4a2e7e', 'message': ""neutron: Unbind remaining ports after PortNotFound\n\nJust because we encountered a PortNotFound error when unbinding a port\ndoesn't mean we should stop unbinding the remaining ports. If this error\nis encountered, simply continue with the other ports.\n\nWhile we're here, we clean up some other tests related to '_unbind_port'\nsince they're clearly duplicates.\n\nChange-Id: Id04e0df12829df4d8929e03a8b76b5cbe0549059\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1974173\n(cherry picked from commit 9e0dcb52ab308a63c6a18e47d1850cc3ade4d807)\n""}]",6,842584,6f32b118640ee466b58155b5ecd50e041b4a2e7e,37,4,1,15334,,,0,"neutron: Unbind remaining ports after PortNotFound

Just because we encountered a PortNotFound error when unbinding a port
doesn't mean we should stop unbinding the remaining ports. If this error
is encountered, simply continue with the other ports.

While we're here, we clean up some other tests related to '_unbind_port'
since they're clearly duplicates.

Change-Id: Id04e0df12829df4d8929e03a8b76b5cbe0549059
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1974173
(cherry picked from commit 9e0dcb52ab308a63c6a18e47d1850cc3ade4d807)
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/842584/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']",2,6f32b118640ee466b58155b5ecd50e041b4a2e7e,bug/1974173, continue, return,68,23
openstack%2Fpuppet-cloudkitty~master~I4ff7ea57f9c1b29b2209506969497b773cef02ec,openstack/puppet-cloudkitty,master,I4ff7ea57f9c1b29b2209506969497b773cef02ec,Expose headers option of apache::vhost,MERGED,2022-06-29 03:32:29.000000000,2022-07-30 14:14:09.000000000,2022-07-30 14:13:04.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 03:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/b3183b85a2079911ac2b95ee33715d88f2579f7f', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I4ff7ea57f9c1b29b2209506969497b773cef02ec\n'}, {'number': 2, 'created': '2022-06-29 23:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/ac3ca07787b27acae60486edc34ee6af46c4d1d0', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I4ff7ea57f9c1b29b2209506969497b773cef02ec\n'}, {'number': 3, 'created': '2022-06-29 23:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/567f9ce6141da9c6b4ef44e0a07e2acf6711c889', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I4ff7ea57f9c1b29b2209506969497b773cef02ec\n'}, {'number': 4, 'created': '2022-06-30 01:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/1a3eecbe1acb667c31948e90b90c2b5223523c19', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I4ff7ea57f9c1b29b2209506969497b773cef02ec\n'}, {'number': 5, 'created': '2022-06-30 02:02:31.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-7468ce93fad9e8e5.yaml', 'spec/classes/cloudkitty_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/d4db053e911abd5a55a3c08ee0b5e8e22e6d521f', 'message': 'Expose headers option of apache::vhost\n\nThe headers option in apache::vhost is required in some case, for\nexample when adding the X-XSS-Protection header. This change allows\ncustomizing the option for the api vhost.\n\nThis change also adds support for request_headers so that both request\nheaders and response headers can customized.\n\nChange-Id: I4ff7ea57f9c1b29b2209506969497b773cef02ec\n'}]",1,848048,d4db053e911abd5a55a3c08ee0b5e8e22e6d521f,16,3,5,9816,,,0,"Expose headers option of apache::vhost

The headers option in apache::vhost is required in some case, for
example when adding the X-XSS-Protection header. This change allows
customizing the option for the api vhost.

This change also adds support for request_headers so that both request
headers and response headers can customized.

Change-Id: I4ff7ea57f9c1b29b2209506969497b773cef02ec
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/48/848048/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/apache-headers-7468ce93fad9e8e5.yaml', 'spec/classes/cloudkitty_wsgi_apache_spec.rb']",3,b3183b85a2079911ac2b95ee33715d88f2579f7f,apache-headers," :headers => nil, :request_headers => nil,",,19,0
openstack%2Fcinder~master~I0b13c6351733b8163bcf6e73c939c375493dcba5,openstack/cinder,master,I0b13c6351733b8163bcf6e73c939c375493dcba5,Add cinder-manage command to update service_uuid,NEW,2021-12-28 12:58:23.000000000,2022-07-30 14:08:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-28 12:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/face126698f44c97335bb5ceee6b924e4048a198', 'message': 'Add cinder-manage command to update service_uuid\n\nIn some deployments, after an upgrade, we remove the old service\nrecords and create new ones. This leaves the volumes with the\nservice_uuid of the old (deleted) service and causes an issue\nwhile purging out those deleted service records.\nThis patch adds a cinder-manage command to update the service_uuid\nfield of volumes by providing the current and new service uuid with\nthe following command:\n\n``cinder-manage volume update_service --currentservice\n <old_service_uuid> --newservice <new_service_uuid>``\n\nChange-Id: I0b13c6351733b8163bcf6e73c939c375493dcba5\n'}, {'number': 2, 'created': '2021-12-30 11:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb47b4f229e959fc2baa76adfb448eb891cd6696', 'message': 'Add cinder-manage command to update service_uuid\n\nIn some deployments, after an upgrade, we remove the old service\nrecords and create new ones. This leaves the volumes with the\nservice_uuid of the old (deleted) service and causes an issue\nwhile purging out those deleted service records.\nThis patch adds a cinder-manage command to update the service_uuid\nfield of volumes by providing the current and new service uuid with\nthe following command:\n\n``cinder-manage volume update_service --currentservice\n <old_service_uuid> --newservice <new_service_uuid>``\n\nChange-Id: I0b13c6351733b8163bcf6e73c939c375493dcba5\n'}, {'number': 3, 'created': '2022-07-20 07:40:26.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'releasenotes/notes/update-service-uuid-f25dbb05efd45d87.yaml', 'cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1ef6efd7f5a10c8539d5c55a4ab6d906a5cc0703', 'message': 'Add cinder-manage command to update service_uuid\n\nIn some deployments, after an upgrade, we remove the old service\nrecords and create new ones. This leaves the volumes with the\nservice_uuid of the old (deleted) service and causes an issue\nwhile purging out those deleted service records.\nThis patch adds a cinder-manage command to update the\nservice_uuid field of volumes by providing the current and new\nservice uuid with the following command:\n\n``cinder-manage volume update_service --currentservice\n <old_service_uuid> --newservice <new_service_uuid>``\n\nChange-Id: I0b13c6351733b8163bcf6e73c939c375493dcba5\n'}]",7,823089,1ef6efd7f5a10c8539d5c55a4ab6d906a5cc0703,85,1,3,27615,,,0,"Add cinder-manage command to update service_uuid

In some deployments, after an upgrade, we remove the old service
records and create new ones. This leaves the volumes with the
service_uuid of the old (deleted) service and causes an issue
while purging out those deleted service records.
This patch adds a cinder-manage command to update the
service_uuid field of volumes by providing the current and new
service uuid with the following command:

``cinder-manage volume update_service --currentservice
 <old_service_uuid> --newservice <new_service_uuid>``

Change-Id: I0b13c6351733b8163bcf6e73c939c375493dcba5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/823089/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py']",3,face126698f44c97335bb5ceee6b924e4048a198,823089,"def volume_get_all_by_service(context, service, filters=None): """"""Retrieves all volumes associated with the service. :param context: context to query under :param serice: service_uuid for all volumes being retrieved :param filters: dictionary of filters; values that are in lists, tuples, or sets cause an 'IN' operation, while exact matching is used for other values, see _process_volume_filters function for more information :returns: list of matching volumes """""" query = _volume_get_query(context).filter_by(service_uuid=service) if filters: query = _process_volume_filters(query, filters) # No volumes would match, return empty list if query is None: return [] return query.all() @require_context",,42,0
openstack%2Frally~master~Ice72693545059e132afdbcb8640527f8bdd68df6,openstack/rally,master,Ice72693545059e132afdbcb8640527f8bdd68df6,remove unicode literal from code,ABANDONED,2022-07-30 07:49:48.000000000,2022-07-30 09:28:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-30 07:49:48.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/58e52dd5c562ab577de0a7f25db83c8cf48eeb08', 'message': 'remove unicode literal from code\n\nChange-Id: Ice72693545059e132afdbcb8640527f8bdd68df6\n'}]",1,851631,58e52dd5c562ab577de0a7f25db83c8cf48eeb08,5,1,1,35058,,,0,"remove unicode literal from code

Change-Id: Ice72693545059e132afdbcb8640527f8bdd68df6
",git fetch https://review.opendev.org/openstack/rally refs/changes/31/851631/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,58e52dd5c562ab577de0a7f25db83c8cf48eeb08,,"project = ""Rally"" copyright = ""%d, OpenStack Foundation"" % dt.datetime.now().year ""%s Documentation"" % project, ""OpenStack Foundation"", ""manual""), (""index"", ""Rally"", ""Rally Documentation"", ""Rally Team"", ""Rally"",","project = u""Rally"" copyright = u""%d, OpenStack Foundation"" % dt.datetime.now().year u""%s Documentation"" % project, u""OpenStack Foundation"", ""manual""), (""index"", ""Rally"", u""Rally Documentation"", u""Rally Team"", ""Rally"",",6,6
openstack%2Fqa-specs~master~Ib40da38dd6681c94651ffc2bc98fc852f76392ac,openstack/qa-specs,master,Ib40da38dd6681c94651ffc2bc98fc852f76392ac,remove unicode literal from code,MERGED,2022-07-27 09:06:32.000000000,2022-07-30 09:02:55.000000000,2022-07-30 09:01:54.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 09:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/afaf8484bd89b4f8d6cfae83190294da9d610d89', 'message': 'remove unicode from code\n\nChange-Id: Ib40da38dd6681c94651ffc2bc98fc852f76392ac\n'}, {'number': 2, 'created': '2022-07-30 07:46:18.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/qa-specs/commit/2bfaf0f2ce77a3a37e9caea721c983cef4de4f15', 'message': 'remove unicode literal from code\n\nChange-Id: Ib40da38dd6681c94651ffc2bc98fc852f76392ac\n'}]",0,851172,2bfaf0f2ce77a3a37e9caea721c983cef4de4f15,9,2,2,35058,,,0,"remove unicode literal from code

Change-Id: Ib40da38dd6681c94651ffc2bc98fc852f76392ac
",git fetch https://review.opendev.org/openstack/qa-specs refs/changes/72/851172/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,afaf8484bd89b4f8d6cfae83190294da9d610d89,,"project = 'QA Specs' copyright = '%s, OpenStack QA Team' % datetime.date.today().year ('index', 'doc-qa-specs.tex', 'QA Specs Documentation', 'OpenStack QA Team', 'manual'),","project = u'QA Specs' copyright = u'%s, OpenStack QA Team' % datetime.date.today().year ('index', 'doc-qa-specs.tex', u'QA Specs Documentation', u'OpenStack QA Team', 'manual'),",4,4
openstack%2Fnova-powervm~master~I6632c792f7de81821b58847ce40c3158aab3bb81,openstack/nova-powervm,master,I6632c792f7de81821b58847ce40c3158aab3bb81,remove unicode literal from code,ABANDONED,2022-07-28 00:29:15.000000000,2022-07-30 07:30:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 00:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/7144369b8520124d433762c888c073e8c4d1271a', 'message': 'remove unicode from code\n\nChange-Id: I6632c792f7de81821b58847ce40c3158aab3bb81\n'}, {'number': 2, 'created': '2022-07-30 07:24:46.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/115e5007ea31668eb084b0ce4e03b3fec4f9ed60', 'message': 'remove unicode literal from code\n\nChange-Id: I6632c792f7de81821b58847ce40c3158aab3bb81\n'}]",1,851184,115e5007ea31668eb084b0ce4e03b3fec4f9ed60,9,1,2,35058,,,0,"remove unicode literal from code

Change-Id: I6632c792f7de81821b58847ce40c3158aab3bb81
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/84/851184/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,7144369b8520124d433762c888c073e8c4d1271a,,"project = 'nova-powervm' copyright = '2015, IBM' '%s Documentation' % project, 'IBM', 'manual'),","project = u'nova-powervm' copyright = u'2015, IBM' u'%s Documentation' % project, u'IBM', 'manual'),",4,4
openstack%2Ffreezer-specs~master~Ie8286b5cd4de214352aa7dfe24173a1a8133d59a,openstack/freezer-specs,master,Ie8286b5cd4de214352aa7dfe24173a1a8133d59a,remove unicode literal from code,ABANDONED,2022-07-28 02:01:31.000000000,2022-07-30 07:14:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 02:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-specs/commit/9a273ac70347b1735916332b17ec7eb2308c2be4', 'message': 'remove unicode from code\n\nChange-Id: Ie8286b5cd4de214352aa7dfe24173a1a8133d59a\n'}, {'number': 2, 'created': '2022-07-30 07:08:50.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/freezer-specs/commit/071921817f8453f4d946c81447e482d5f196fbc3', 'message': 'remove unicode literal from code\n\nChange-Id: Ie8286b5cd4de214352aa7dfe24173a1a8133d59a\n'}]",1,851299,071921817f8453f4d946c81447e482d5f196fbc3,9,1,2,35058,,,0,"remove unicode literal from code

Change-Id: Ie8286b5cd4de214352aa7dfe24173a1a8133d59a
",git fetch https://review.opendev.org/openstack/freezer-specs refs/changes/99/851299/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,9a273ac70347b1735916332b17ec7eb2308c2be4,,"project = 'Freezer Specs' copyright = '%s, OpenStack Freezer Team' % datetime.date.today().year ('index', 'Freezer-specs.tex', 'Freezer Specs', 'OpenStack Freezer Team', 'manual'),","project = u'Freezer Specs' copyright = u'%s, OpenStack Freezer Team' % datetime.date.today().year ('index', 'Freezer-specs.tex', u'Freezer Specs', u'OpenStack Freezer Team', 'manual'),",4,4
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3b6498046851dfc6622aa0cbd3f42571d5b1c75f,openstack/tripleo-ansible,stable/wallaby,I3b6498046851dfc6622aa0cbd3f42571d5b1c75f,Designate bind: allow notify on all external IPs,MERGED,2022-07-29 19:51:08.000000000,2022-07-30 07:04:08.000000000,2022-07-30 07:04:08.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-07-29 19:51:08.000000000', 'files': ['tripleo_ansible/roles/designate_bind_config/molecule/default/converge.yml', 'tripleo_ansible/roles/designate_bind_config/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2', 'tripleo_ansible/roles/designate_bind_config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be1c297c2d67fe1817fc4b1e7f3d6ed1e96199cd', 'message': ""Designate bind: allow notify on all external IPs\n\nThe bind instances can get notify's from any worker/mDNS so needs\nto expand the configured allow-notify list.\n\nChange-Id: I3b6498046851dfc6622aa0cbd3f42571d5b1c75f\n(cherry picked from commit df95a7976b96324b022ed8850736acafc34f7eb0)\n""}]",0,851611,be1c297c2d67fe1817fc4b1e7f3d6ed1e96199cd,8,6,1,6681,,,0,"Designate bind: allow notify on all external IPs

The bind instances can get notify's from any worker/mDNS so needs
to expand the configured allow-notify list.

Change-Id: I3b6498046851dfc6622aa0cbd3f42571d5b1c75f
(cherry picked from commit df95a7976b96324b022ed8850736acafc34f7eb0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/851611/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/designate_bind_config/molecule/default/converge.yml', 'tripleo_ansible/roles/designate_bind_config/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2', 'tripleo_ansible/roles/designate_bind_config/defaults/main.yml']",4,be1c297c2d67fe1817fc4b1e7f3d6ed1e96199cd,wallaby,designate_worker_node_ips: [],,5,1
openstack%2Fceilometer-powervm~master~Idbcd78034f3a03a3d0d2f9ce739b02c902e05541,openstack/ceilometer-powervm,master,Idbcd78034f3a03a3d0d2f9ce739b02c902e05541,remove unicode literal from code,ABANDONED,2022-07-28 01:02:15.000000000,2022-07-30 06:48:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 01:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/3fcbf268dd54b2defe991e8fa634a1cdc52202c1', 'message': 'remove unicode from code\n\nChange-Id: Idbcd78034f3a03a3d0d2f9ce739b02c902e05541\n'}, {'number': 2, 'created': '2022-07-30 06:40:37.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/c1a3c561001d3003de071926ce2c8467a09a044f', 'message': 'remove unicode literal from code\n\nChange-Id: Idbcd78034f3a03a3d0d2f9ce739b02c902e05541\n'}]",1,851188,c1a3c561001d3003de071926ce2c8467a09a044f,9,1,2,35058,,,0,"remove unicode literal from code

Change-Id: Idbcd78034f3a03a3d0d2f9ce739b02c902e05541
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/88/851188/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,3fcbf268dd54b2defe991e8fa634a1cdc52202c1,,"project = 'ceilometer-powervm' copyright = '2015, IBM' '%s Documentation' % project, 'IBM', 'manual'),","project = u'ceilometer-powervm' copyright = u'2015, IBM' u'%s Documentation' % project, u'IBM', 'manual'),",4,4
openstack%2Fopenstack-zuul-roles~master~Iaffb30462b1f04535813aadb1efcb7b500a833e5,openstack/openstack-zuul-roles,master,Iaffb30462b1f04535813aadb1efcb7b500a833e5,remove unicode from code,ABANDONED,2022-07-28 00:43:39.000000000,2022-07-30 06:12:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 00:43:39.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/b04c78c37c69af4d000955706fa5f2f5e85812cf', 'message': 'remove unicode from code\n\nChange-Id: Iaffb30462b1f04535813aadb1efcb7b500a833e5\n'}]",1,851185,b04c78c37c69af4d000955706fa5f2f5e85812cf,5,1,1,35058,,,0,"remove unicode from code

Change-Id: Iaffb30462b1f04535813aadb1efcb7b500a833e5
",git fetch https://review.opendev.org/openstack/openstack-zuul-roles refs/changes/85/851185/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,b04c78c37c69af4d000955706fa5f2f5e85812cf,,"project = 'openstack-zuul-roles' copyright = '2016, OpenStack Foundation' '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'openstack-zuul-roles' copyright = u'2016, OpenStack Foundation' u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Fkeystone-specs~master~I02aed9c477b9b0779293eed85b512aaaceccd4f6,openstack/keystone-specs,master,I02aed9c477b9b0779293eed85b512aaaceccd4f6,Use TOX_CONSTRAINTS_FILE,ABANDONED,2022-07-26 08:33:15.000000000,2022-07-30 02:26:47.000000000,,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 08:33:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/491b4ee4ceba5238ad3f30fae793ba7586687be1', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I02aed9c477b9b0779293eed85b512aaaceccd4f6\n'}]",1,850979,491b4ee4ceba5238ad3f30fae793ba7586687be1,4,2,1,35058,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I02aed9c477b9b0779293eed85b512aaaceccd4f6
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/79/850979/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,491b4ee4ceba5238ad3f30fae793ba7586687be1,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fneutron~stable%2Fwallaby~Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956,openstack/neutron,stable/wallaby,Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956,[ovn][metadata] Remove metadata readiness mechanism,MERGED,2022-07-19 23:08:33.000000000,2022-07-30 00:56:22.000000000,2022-07-30 00:55:13.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 33341}]","[{'number': 1, 'created': '2022-07-19 23:08:33.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/agent.py', 'doc/source/contributor/internals/ovn/metadata_api.rst', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/74b1ec280e3b5b72a9ee24d3eb0f22c33c74903c', 'message': ""[ovn][metadata] Remove metadata readiness mechanism\n\nPrior to this patch, the metadata agent was writing into SB\ndatabase when a network had been provisioned with metadata\non a particular chassis.\n\nThen, neutron-server would wait for that event to happen with\na 15s timeout before sending the vif-plugged event to Nova.\n\nBy removing this mechanism:\n\n1) We'll save writes to OVN SB database which, in highly loaded\nsystems and at scale reduces significantly the load on ovsdb-server.\n\n2) Ignoring healthchecks (that still requires write to the SB DB),\nwe can make OVN metadata agent to connect to slave instances when\nusing active-backup OVN databases since writes are not needed.\n\n3) There's a chance that the VM boots very fast and requests\nmetadata before the service is ready but since the timeout was\n15 seconds, we can safely rely on the the cloud-init retries.\n\nConflicts:\n      neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n      neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py\n      neutron/tests/unit/agent/ovn/metadata/test_agent.py\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956\n(cherry picked from commit 36ba1cc3196148850263c8a8c8058e6f7ced3958)\n""}]",2,850430,74b1ec280e3b5b72a9ee24d3eb0f22c33c74903c,22,6,1,4694,,,0,"[ovn][metadata] Remove metadata readiness mechanism

Prior to this patch, the metadata agent was writing into SB
database when a network had been provisioned with metadata
on a particular chassis.

Then, neutron-server would wait for that event to happen with
a 15s timeout before sending the vif-plugged event to Nova.

By removing this mechanism:

1) We'll save writes to OVN SB database which, in highly loaded
systems and at scale reduces significantly the load on ovsdb-server.

2) Ignoring healthchecks (that still requires write to the SB DB),
we can make OVN metadata agent to connect to slave instances when
using active-backup OVN databases since writes are not needed.

3) There's a chance that the VM boots very fast and requests
metadata before the service is ready but since the timeout was
15 seconds, we can safely rely on the the cloud-init retries.

Conflicts:
      neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
      neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py
      neutron/tests/unit/agent/ovn/metadata/test_agent.py

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Ia6cd7a9a3b9662a9a8ce106e01a93c357c255956
(cherry picked from commit 36ba1cc3196148850263c8a8c8058e6f7ced3958)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/850430/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/agent.py', 'doc/source/contributor/internals/ovn/metadata_api.rst', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",8,74b1ec280e3b5b72a9ee24d3eb0f22c33c74903c,backport-remove-metadata-readiness,," def test_set_get_chassis_metadata_networks(self): name = self.data['chassis'][0]['name'] nets = [str(uuid.uuid4()) for _ in range(3)] self.api.set_chassis_metadata_networks(name, nets).execute( check_error=True) self.assertEqual(nets, self.api.get_chassis_metadata_networks(name)) ",7,274
openstack%2Frequirements~master~Ibf4b005a401c149fe11911471c1e6916639356a3,openstack/requirements,master,Ibf4b005a401c149fe11911471c1e6916639356a3,[DNM] Testing Neutron patch,NEW,2022-07-29 23:32:03.000000000,2022-07-30 00:40:52.000000000,,"[{'_account_id': 4694}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 23:32:03.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/87dd5522cff9605a11bf14d4a4da3b5abd3e69b3', 'message': '[DNM] Testing Neutron patch\n\nTesting Neutron patch:\n\nhttps: //review.opendev.org/c/openstack/neutron/+/837780\nChange-Id: Ibf4b005a401c149fe11911471c1e6916639356a3\n'}]",0,851619,87dd5522cff9605a11bf14d4a4da3b5abd3e69b3,4,2,1,4694,,,0,"[DNM] Testing Neutron patch

Testing Neutron patch:

https: //review.opendev.org/c/openstack/neutron/+/837780
Change-Id: Ibf4b005a401c149fe11911471c1e6916639356a3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/851619/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,87dd5522cff9605a11bf14d4a4da3b5abd3e69b3,bug-1869244,os-vif===3.0.0,os-vif===2.8.0,2,2
openstack%2Fswift~master~I22ed81cce5d8c6fcb9028fcc0403c6e5e5110df8,openstack/swift,master,I22ed81cce5d8c6fcb9028fcc0403c6e5e5110df8,sharder: emit misplaced stats to statsd,MERGED,2022-07-25 15:56:46.000000000,2022-07-29 23:29:53.000000000,2022-07-29 23:27:54.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-25 15:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a4a8103c8c8ad33ed8131f000149d1f09d31c4c6', 'message': 'sharder: emit misplaced stats to statsd\n\nSend some existing misplaced objects stats to statsd as well as the\nrecon file:\n  misplaced_placed\n  misplaced_unplaced\n\nChange-Id: I22ed81cce5d8c6fcb9028fcc0403c6e5e5110df8\n'}, {'number': 2, 'created': '2022-07-27 10:04:04.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/debug_logger.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/21fab529c9f0d1681b88aa6b847696717dd34065', 'message': 'sharder: emit misplaced stats to statsd\n\nSend some existing misplaced objects stats to statsd as well as the\nrecon file:\n  misplaced_placed\n  misplaced_unplaced\n  misplaced_success\n  misplaced_failure\n\nChange-Id: I22ed81cce5d8c6fcb9028fcc0403c6e5e5110df8\n'}]",10,850904,21fab529c9f0d1681b88aa6b847696717dd34065,13,2,2,7847,,,0,"sharder: emit misplaced stats to statsd

Send some existing misplaced objects stats to statsd as well as the
recon file:
  misplaced_placed
  misplaced_unplaced
  misplaced_success
  misplaced_failure

Change-Id: I22ed81cce5d8c6fcb9028fcc0403c6e5e5110df8
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/850904/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,a4a8103c8c8ad33ed8131f000149d1f09d31c4c6,p-sharder-db-stats," def _increment_stat(self, category, key, statsd=False): self.stats['sharding'][category][key] += 1 def _update_stat(self, category, key, step=1, statsd=False): if step: self.stats['sharding'][category][key] += step if statsd: statsd_key = '%s_%s' % (category, key) self.logger.update_stats(statsd_key, step) self._update_stat('audit_root', 'num_overlap', step=len(overlaps)) self._update_stat('misplaced', 'placed', step=placed, statsd=True) self._update_stat('misplaced', 'unplaced', step=unplaced, statsd=True) self._update_stat('scanned', 'found', step=num_found)"," def _increment_stat(self, category, key, step=1, statsd=False): self.stats['sharding'][category][key] += step self._increment_stat('audit_root', 'num_overlap', step=len(overlaps)) self._increment_stat('misplaced', 'placed', step=placed) self._increment_stat('misplaced', 'unplaced', step=unplaced) self._increment_stat('scanned', 'found', step=num_found)",48,9
openstack%2Fswift~master~If3861e5b9c4f17ab3b82ea16673ddb29d07820a1,openstack/swift,master,If3861e5b9c4f17ab3b82ea16673ddb29d07820a1,slo: Reduce overhead for 'Not an SLO manifest' responses,MERGED,2022-07-22 22:25:39.000000000,2022-07-29 23:28:57.000000000,2022-07-29 23:27:51.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 28499}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-22 22:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/37db27857718e94e12d0f2925ff1a6f7c8d60dc2', 'message': ""slo: Reduce overhead for 'Not an SLO manifest' responses\n\nWhen clients issue a ?multipart-manifest=delete request to non-SLOs, we\ntry to fetch the manifest then drain and close the response upon seeing\nit wasn't actually an SLO manifest. This could previously cause the extra\ntransfer (and discard) of several gigabytes of data.\n\nNow, add two extra headers to the request:\n\n  * Range: bytes=-1\n  * X-Backend-Ignore-Range-If-Metadata-Present: X-Static-Large-Object\n\nThe first limits how much data we'll be discarding, while the second tells\nobject servers to ignore the range header if it's an SLO manifest. Note\nthat object-servers may still need to return more than one byte to the\nproxy -- an EC policy will require that we get a full fragment's worth\nfrom each server -- but at least we've got a better cap on our downside.\n\nWhy one byte? Because range requests weren't designed to be able to\nreturn no data. Why the last byte (as opposed to the first)? Because\nbytes=0-0 will 416 on a zero-byte object, while bytes=-1 will 200.\n\nRelated-Bug: #1980954\nCo-Authored-By: Romain de Joux <romain.de-joux@ovhcloud.com>\nChange-Id: If3861e5b9c4f17ab3b82ea16673ddb29d07820a1\n""}, {'number': 2, 'created': '2022-07-28 19:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9d3350386063670c6f410f762fb2c12d23fb76ea', 'message': ""slo: Reduce overhead for 'Not an SLO manifest' responses\n\nWhen clients issue a ?multipart-manifest=delete request to non-SLOs, we\ntry to fetch the manifest then drain and close the response upon seeing\nit wasn't actually an SLO manifest. This could previously cause the extra\ntransfer (and discard) of several gigabytes of data.\n\nNow, add two extra headers to the request:\n\n  * Range: bytes=-1\n  * X-Backend-Ignore-Range-If-Metadata-Present: X-Static-Large-Object\n\nThe first limits how much data we'll be discarding, while the second tells\nobject servers to ignore the range header if it's an SLO manifest. Note\nthat object-servers may still need to return more than one byte to the\nproxy -- an EC policy will require that we get a full fragment's worth\nfrom each server -- but at least we've got a better cap on our downside.\n\nWhy one byte? Because range requests weren't designed to be able to\nreturn no data. Why the last byte (as opposed to the first)? Because\nbytes=0-0 will 416 on a zero-byte object, while bytes=-1 will 200.\n\nNote that the backend header was introduced in Swift 2.24.0 -- if we get\na response from an older object-server, it may respect the Range header\neven though it's returning an SLO manifest. In that case, retry without\neither header.\n\nRelated-Bug: #1980954\nCo-Authored-By: Romain de Joux <romain.de-joux@ovhcloud.com>\nChange-Id: If3861e5b9c4f17ab3b82ea16673ddb29d07820a1\n""}, {'number': 3, 'created': '2022-07-28 21:50:22.000000000', 'files': ['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'test/unit/common/middleware/helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e6ee372744de9855ac3bfe5dea0859c42ae85cc2', 'message': ""slo: Reduce overhead for 'Not an SLO manifest' responses\n\nWhen clients issue a ?multipart-manifest=delete request to non-SLOs, we\ntry to fetch the manifest then drain and close the response upon seeing\nit wasn't actually an SLO manifest. This could previously cause the extra\ntransfer (and discard) of several gigabytes of data.\n\nNow, add two extra headers to the request:\n\n  * Range: bytes=-1\n  * X-Backend-Ignore-Range-If-Metadata-Present: X-Static-Large-Object\n\nThe first limits how much data we'll be discarding, while the second tells\nobject servers to ignore the range header if it's an SLO manifest. Note\nthat object-servers may still need to return more than one byte to the\nproxy -- an EC policy will require that we get a full fragment's worth\nfrom each server -- but at least we've got a better cap on our downside.\n\nWhy one byte? Because range requests weren't designed to be able to\nreturn no data. Why the last byte (as opposed to the first)? Because\nbytes=0-0 will 416 on a zero-byte object, while bytes=-1 will 200.\n\nNote that the backend header was introduced in Swift 2.24.0 -- if we get\na response from an older object-server, it may respect the Range header\neven though it's returning an SLO manifest. In that case, retry without\neither header.\n\nRelated-Bug: #1980954\nCo-Authored-By: Romain de Joux <romain.de-joux@ovhcloud.com>\nChange-Id: If3861e5b9c4f17ab3b82ea16673ddb29d07820a1\n""}]",9,850782,e6ee372744de9855ac3bfe5dea0859c42ae85cc2,22,5,3,15343,,,0,"slo: Reduce overhead for 'Not an SLO manifest' responses

When clients issue a ?multipart-manifest=delete request to non-SLOs, we
try to fetch the manifest then drain and close the response upon seeing
it wasn't actually an SLO manifest. This could previously cause the extra
transfer (and discard) of several gigabytes of data.

Now, add two extra headers to the request:

  * Range: bytes=-1
  * X-Backend-Ignore-Range-If-Metadata-Present: X-Static-Large-Object

The first limits how much data we'll be discarding, while the second tells
object servers to ignore the range header if it's an SLO manifest. Note
that object-servers may still need to return more than one byte to the
proxy -- an EC policy will require that we get a full fragment's worth
from each server -- but at least we've got a better cap on our downside.

Why one byte? Because range requests weren't designed to be able to
return no data. Why the last byte (as opposed to the first)? Because
bytes=0-0 will 416 on a zero-byte object, while bytes=-1 will 200.

Note that the backend header was introduced in Swift 2.24.0 -- if we get
a response from an older object-server, it may respect the Range header
even though it's returning an SLO manifest. In that case, retry without
either header.

Related-Bug: #1980954
Co-Authored-By: Romain de Joux <romain.de-joux@ovhcloud.com>
Change-Id: If3861e5b9c4f17ab3b82ea16673ddb29d07820a1
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/850782/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'test/unit/common/middleware/helpers.py']",3,37db27857718e94e12d0f2925ff1a6f7c8d60dc2,," # some tests want to opt in to mimicking the # X-Backend-Ignore-Range-If-Metadata-Present header behavior, # but default to old-swift behavior self.can_ignore_range = False if self.can_ignore_range: # we might pop off the Range header env = dict(env) ignore_range_meta = req.headers.get( 'x-backend-ignore-range-if-metadata-present') if self.can_ignore_range and ignore_range_meta and set( ignore_range_meta.split(',')).intersection(headers.keys()): req.headers.pop('range', None) ",,35,1
openstack%2Fcharm-guide~master~I3974c615393930708718f8cf5f8c7ccf9f7afd04,openstack/charm-guide,master,I3974c615393930708718f8cf5f8c7ccf9f7afd04,Fixes minor wording mistakes,MERGED,2022-07-29 01:44:11.000000000,2022-07-29 22:55:39.000000000,2022-07-29 22:53:48.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-07-29 01:44:11.000000000', 'files': ['doc/source/getting-started/overlay.rst', 'doc/source/getting-started/settings.rst', 'doc/source/getting-started/openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/78400e43b8bb84d3afe4c5d4af09bf998507f114', 'message': 'Fixes minor wording mistakes\n\nUpdates the getting started guide with minor changes to improve\nreadability of the guide.\n\nChange-Id: I3974c615393930708718f8cf5f8c7ccf9f7afd04\n'}]",1,851477,78400e43b8bb84d3afe4c5d4af09bf998507f114,7,2,1,35143,,,0,"Fixes minor wording mistakes

Updates the getting started guide with minor changes to improve
readability of the guide.

Change-Id: I3974c615393930708718f8cf5f8c7ccf9f7afd04
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/77/851477/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting-started/overlay.rst', 'doc/source/getting-started/settings.rst', 'doc/source/getting-started/openstack.rst']",3,78400e43b8bb84d3afe4c5d4af09bf998507f114,improve-getting-started,Generate one first if you do not have one yet. This command creates a,Generate one first if you do not yet have one. This command creates a,3,3
openstack%2Fopenstack-ansible-os_barbican~master~I0c7ddb7dad74efc0bc932f9a8600661b775a952a,openstack/openstack-ansible-os_barbican,master,I0c7ddb7dad74efc0bc932f9a8600661b775a952a,Entrust nCipher Connect HSM Backend Example,MERGED,2022-07-28 23:24:27.000000000,2022-07-29 22:47:35.000000000,2022-07-29 22:46:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-07-28 23:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/3565e2f01a5605e90f92be33d4aaad3827961265', 'message': 'Entrust nCipher Connect HSM Backend Example\n\nThis patch updates Barbican documentation to reflect a\nworking nCipher Connect HSM backend configuration. Out of\nscope are the Security World software install and any changes\nto cknfastrc that might be required or necessary.\n\nChange-Id: I0c7ddb7dad74efc0bc932f9a8600661b775a952a\n'}, {'number': 2, 'created': '2022-07-29 12:51:35.000000000', 'files': ['doc/source/configure-barbican.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/891a9a7ad660b8874982ee59d7b9793122ab5399', 'message': 'Entrust nCipher Connect HSM Backend Example\n\nThis patch updates Barbican documentation to reflect a\nworking nCipher Connect HSM backend configuration. Out of\nscope are the Security World software install and any changes\nto cknfastrc that might be required or necessary.\n\nChange-Id: I0c7ddb7dad74efc0bc932f9a8600661b775a952a\n'}]",1,851475,891a9a7ad660b8874982ee59d7b9793122ab5399,10,3,2,16011,,,0,"Entrust nCipher Connect HSM Backend Example

This patch updates Barbican documentation to reflect a
working nCipher Connect HSM backend configuration. Out of
scope are the Security World software install and any changes
to cknfastrc that might be required or necessary.

Change-Id: I0c7ddb7dad74efc0bc932f9a8600661b775a952a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/75/851475/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configure-barbican.rst'],1,3565e2f01a5605e90f92be33d4aaad3827961265,,"Configuring Barbican with Entrust nShield Connect HSM backend ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following example demonstrates a configuration supporting the Entrust nShield Connect HSM. Barbican stores HMAC and MKEK keys in the HSM, which are used to encrypt and decrypt keys that are stored in Barbican MySQL database. MKEK stands for **Master Key Encryption Key**, which is used to encrypt KEKs that are unique and created per project. All keys within a project are encrypted with KEK. Before proceeding, you must install the Security World software provided by Entrust. The software will install libraries that will be referenced as part of the configuration. In addition, the HSM may utilize one or more slots that will also be required to complete the configuration. Please consult the `nShield Connect User Guide for Linux <https://nshielddocs.entrust.com/docs/connect-ug/12.80/User_Guide_nShield_Connect_12.80_Linux.pdf>`_ and/or Entrust support for assistance. Once the installation is complete, you should know or have: #. Desired Slot ID #. The ``libcknfast.so`` library file The Slot ID can be determined using the ``pcks11-tool`` as shown here: .. code:: # pkcs11-tool -L --module /opt/nfast/toolkits/pkcs11/libcknfast.so Available slots: Slot 0 (0x1d622495): 6606-XXXX-XXXX Rt2 token label : accelerator token manufacturer : nCipher Corp. Ltd token model : token flags : rng, token initialized, other flags=0x200 hardware version : 0.12 firmware version : 12.50 serial num : 6606-XXXX-XXXX pin min/max : 0/256 Slot 1 (0x1d622496): 6606-XXXX-XXXX Rt2 slot 0 (token not recognized) Slot 2 (0x1d622497): 6606-XXXX-XXXX Rt2 slot 2 (empty) Slot 3 (0x1d622498): 6606-XXXX-XXXX Rt2 slot 3 (empty) The usable slot value is in HEX and must be converted to decimal: .. code:: # echo $((0x1d622495)) 492971157 Once the nShield-related setup is complete, we can define all required variables that are needed for the Barbican deployment. For convenience, copy the ``libcknfast.so`` library to ``/etc/openstack_deploy/barbican/`` on the deploy node. It will be distributed amongst the Barbican service nodes accordingly. Define the following in `user_variables.yml`: .. code-block:: yaml barbican_backends_config: hsm: secret_store_plugin: store_crypto crypto_plugin: p11_crypto barbican_plugins_config: p11_crypto_plugin: library_path: /opt/barbican/libs/libcknfast.so token_serial_number: 12345678 login: mypassword123 slot_id: 492971157 mkek_label: thales_mkek_0 mkek_length: 32 hmac_label: thales_hmac_0 encryption_mechanism: CKM_AES_CBC hmac_key_type: CKK_SHA256_HMAC hmac_keygen_mechanism: CKK_SHA256_HMAC barbican_user_libraries: - src: /etc/openstack_deploy/barbican/libcknfast.so dest: /opt/barbican/libs/libcknfast.so Override variables can be added or modified as needed. To generate the HMAC key, perform the following command using the approrpiate values: .. code:: barbican-manage hsm gen_hmac \ --library-path /opt/nfast/toolkits/pkcs11/libcknfast.so \ --passphrase mypassword123 --slot-id 492971157 --label thales_hmac_0 \ --key-type CKK_SHA256_HMAC \ --mechanism CKM_NC_SHA256_HMAC_KEY_GEN To generate the MKEK key, perform the following command using the approrpiate values: .. code:: barbican-manage hsm gen_mkek \ --library-path /opt/nfast/toolkits/pkcs11/libcknfast.so \ --passphrase mypassword123 --slot-id 492971157 --label thales_mkek_0 Lastly, restart the nCipher service(s) and Barbican API service: .. code:: # /opt/nfast/sbin/init.d-ncipher restart # systemctl restart barbican-api",,113,0
openstack%2Fironic~stable%2Fvictoria~Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,openstack/ironic,stable/victoria,Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8,CI: Removing ironic job queue,MERGED,2022-05-26 20:23:13.000000000,2022-07-29 21:53:06.000000000,2022-07-28 11:55:38.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-26 20:23:13.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/638fd11079aec28f5bf186cfd176ef308dfe135d', 'message': 'CI: Removing ironic job queue\n\nChange-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8\nSee: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n(cherry picked from commit 63e53797adca625edd2fdacd16a025bedccf8731)\n'}]",5,843514,638fd11079aec28f5bf186cfd176ef308dfe135d,20,3,1,11655,,,0,"CI: Removing ironic job queue

Change-Id: Idf7991d8f8a8cebcdc0413f26ad31542f8ffa8a8
See: https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
(cherry picked from commit 63e53797adca625edd2fdacd16a025bedccf8731)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/843514/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,638fd11079aec28f5bf186cfd176ef308dfe135d,drop-queue-ironic-stable/yoga-stable/xena-stable/wallaby-stable/victoria,, queue: ironic,0,1
openstack%2Fswift~master~I63fe1cfc40cfc19e623d01aaadf9ab5ea7ecdb84,openstack/swift,master,I63fe1cfc40cfc19e623d01aaadf9ab5ea7ecdb84,ring: Use namedtuples for index entries,ABANDONED,2022-07-28 18:51:43.000000000,2022-07-29 21:11:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 18:51:43.000000000', 'files': ['swift/common/ring/io.py', 'test/unit/common/ring/test_io.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/488d696ee83d8b6f53ae0bf20d1d08266dfdb962', 'message': 'ring: Use namedtuples for index entries\n\nChange-Id: I63fe1cfc40cfc19e623d01aaadf9ab5ea7ecdb84\n'}]",2,851451,488d696ee83d8b6f53ae0bf20d1d08266dfdb962,6,1,1,15343,,,0,"ring: Use namedtuples for index entries

Change-Id: I63fe1cfc40cfc19e623d01aaadf9ab5ea7ecdb84
",git fetch https://review.opendev.org/openstack/swift refs/changes/51/851451/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/ring/io.py', 'test/unit/common/ring/test_io.py']",2,488d696ee83d8b6f53ae0bf20d1d08266dfdb962,ring-writer,"from swift.common.ring.io import IndexEntry, RingReader, RingWriter index_dict = json.loads(reader.read_section('swift/index')) self.assertEqual(reader.index, { section: IndexEntry(*entry) for section, entry in index_dict.items()}) reader.seek(reader.index['baz'].compressed_end) gap_length = (reader.index['quux'].uncompressed_start - reader.index['baz'].uncompressed_end) reader.index['foo'] = IndexEntry(*( reader.index['foo'][:-1] + ('not-the-sha',))) writer.index['foo'] = IndexEntry(*( writer.index['foo'][:-2] + ('not_a_digest', 'do not care')))","from swift.common.ring.io import RingReader, RingWriter self.assertEqual(reader.index, json.loads( reader.read_section('swift/index'))) reader.seek(reader.index['baz'][2]) gap_length = reader.index['quux'][1] - reader.index['baz'][3] reader.index['foo'][-1] = 'not-the-sha' writer.index['foo'][-2] = 'not_a_digest'",48,20
openstack%2Fcinder~master~Idd5ad57e7b29ed83ce7d576734e58f9585e2d85e,openstack/cinder,master,Idd5ad57e7b29ed83ce7d576734e58f9585e2d85e,NFS Backup: Remove leftover dirs,NEW,2021-08-16 06:52:22.000000000,2022-07-29 20:56:16.000000000,,"[{'_account_id': 4523}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-16 06:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f5d88b56d7fd08a3c3daee004472599ffc1f1fa', 'message': 'WIP: Remove leftover nfs dirs\n\nChange-Id: Idd5ad57e7b29ed83ce7d576734e58f9585e2d85e\n'}, {'number': 2, 'created': '2021-08-18 04:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83dd264a272bbbf81059da4e4a27f690b4b48242', 'message': 'WIP: Remove leftover nfs backup dirs\n\nChange-Id: Idd5ad57e7b29ed83ce7d576734e58f9585e2d85e\n'}, {'number': 3, 'created': '2021-08-19 11:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e451dbbb688ffb7ad727e238157c54355c0c0072', 'message': 'WIP: Remove leftover nfs backup dirs\n\nChange-Id: Idd5ad57e7b29ed83ce7d576734e58f9585e2d85e\n'}, {'number': 4, 'created': '2022-07-18 18:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f2e066db904ea2945fd41a38c4c810f8c4a907b', 'message': ""NFS Backup: Remove leftover dirs\n\nIn case of NFS backup driver, when removing the backup file,\nthe directory is left as a leftover and with time, they can\npile up with a lot of empty directories in the deployment\nwhich doesn't leave a good user experience.\n\nThis patch modifies the delete backup code such that if after\ndeleting the backup file, the directory becomes empty then\nwe will remove the directory also leaving no leftover dirs.\n\nNOTE: The changes are made to posix driver since the nfs driver\ninherits from it and the actual issue is in the posix driver\ncode so fixing both at the same time.\n\nCloses-Bug: 1982032\n\nChange-Id: Idd5ad57e7b29ed83ce7d576734e58f9585e2d85e\n""}, {'number': 5, 'created': '2022-07-19 06:54:40.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_posix.py', 'releasenotes/notes/nfs-backup-remove-leftover-dirs-4509d6f79bff1b72.yaml', 'cinder/backup/drivers/posix.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/383ed0fe22d661794c5670156f296a2fc83eea1d', 'message': ""NFS Backup: Remove leftover dirs\n\nIn case of NFS backup driver, when removing the backup file,\nthe directory still exists as a leftover and with time, they\ncan pile up with a lot of empty directories in the deployment\nwhich doesn't leave a good user experience.\n\nThis patch modifies the delete backup code such that if after\ndeleting the backup file, if the directory becomes empty then\nwe will remove the directory leaving no leftover dirs.\n\nNOTE: The changes are made to posix driver since the nfs driver\ninherits from it and the actual issue is in the posix driver\ncode so fixing both at the same time.\n\nCloses-Bug: 1982032\n\nChange-Id: Idd5ad57e7b29ed83ce7d576734e58f9585e2d85e\n""}]",12,804603,383ed0fe22d661794c5670156f296a2fc83eea1d,106,4,5,27615,,,0,"NFS Backup: Remove leftover dirs

In case of NFS backup driver, when removing the backup file,
the directory still exists as a leftover and with time, they
can pile up with a lot of empty directories in the deployment
which doesn't leave a good user experience.

This patch modifies the delete backup code such that if after
deleting the backup file, if the directory becomes empty then
we will remove the directory leaving no leftover dirs.

NOTE: The changes are made to posix driver since the nfs driver
inherits from it and the actual issue is in the posix driver
code so fixing both at the same time.

Closes-Bug: 1982032

Change-Id: Idd5ad57e7b29ed83ce7d576734e58f9585e2d85e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/804603/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/posix.py'],1,0f5d88b56d7fd08a3c3daee004472599ffc1f1fa,804603," dir_path = os.path.join(self.backup_path, container) obj_path = os.path.join(dir_path, object_name) try: os.remove(obj_path) if os.path.exists(dir_path) and not os.listdir(dir_path): try: os.remove(dir_path) except OSError as e: raise"," # TODO(tbarron): clean up the container path if it is empty path = os.path.join(self.backup_path, container, object_name) try: os.remove(path)",8,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I76e0c98cf1b0bdf9e0b859ed74fe403dc4c5118d,openstack/python-tripleoclient,stable/wallaby,I76e0c98cf1b0bdf9e0b859ed74fe403dc4c5118d,Patch ensure_run_as_normal_user() in unit tests,MERGED,2022-07-26 10:37:47.000000000,2022-07-29 20:47:36.000000000,2022-07-29 20:46:40.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 10:37:47.000000000', 'files': ['tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0bce20925d4f1c2ab6443d10beb40f10964888e1', 'message': 'Patch ensure_run_as_normal_user() in unit tests\n\nWe should be able to run unit tests as any user.\n\nChange-Id: I76e0c98cf1b0bdf9e0b859ed74fe403dc4c5118d\nResolves: rhbz#2109708\n(cherry picked from commit 8b71cb9b096fa4d7a5843e9606e8ca10cf34420c)\n'}]",1,850928,0bce20925d4f1c2ab6443d10beb40f10964888e1,12,3,1,8833,,,0,"Patch ensure_run_as_normal_user() in unit tests

We should be able to run unit tests as any user.

Change-Id: I76e0c98cf1b0bdf9e0b859ed74fe403dc4c5118d
Resolves: rhbz#2109708
(cherry picked from commit 8b71cb9b096fa4d7a5843e9606e8ca10cf34420c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/28/850928/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py'],1,0bce20925d4f1c2ab6443d10beb40f10964888e1,," @mock.patch('tripleoclient.utils.ensure_run_as_normal_user') mock_config_download, mock_usercheck):", mock_config_download):,3,1
openstack%2Ftripleo-common~stable%2Fwallaby~I591345985ccbb8ebfdf9848104478ec1aadb4a7f,openstack/tripleo-common,stable/wallaby,I591345985ccbb8ebfdf9848104478ec1aadb4a7f,Fix ImageBuildManager initialization after BaseImageManager changes,MERGED,2022-07-29 08:25:02.000000000,2022-07-29 20:38:36.000000000,2022-07-29 20:37:40.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-07-29 08:25:02.000000000', 'files': ['tripleo_common/image/build.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f3ac1d0ca7c0849154fb785ce5886e3da7d2e91b', 'message': ""Fix ImageBuildManager initialization after BaseImageManager changes\n\nBaseImageManager's init function used to take two arguments:\n'config_files' and 'images' in that order. Commit\n08a8118f1b26a170219c63feb8bb5f0b929028c3 added another one in between\nthe two, 'template_dir'.\n\nImageBuildManager inherits from BaseImageManager and calls its init\nfunction with 'config_files' and 'images' as positional arguments, which\nno longer works because 'images' is now the third argument. Therefore\nthe value passed as 'images' gets quietly written as 'template_dir'\ninstead.\n\nPassing 'images' as a keyword argument instead solves the issue.\n\nChange-Id: I591345985ccbb8ebfdf9848104478ec1aadb4a7f\n(cherry picked from commit 6939ec8b4691feedbda1d8f719f4d998ae0c6e04)\n""}]",1,851491,f3ac1d0ca7c0849154fb785ce5886e3da7d2e91b,9,4,1,31581,,,0,"Fix ImageBuildManager initialization after BaseImageManager changes

BaseImageManager's init function used to take two arguments:
'config_files' and 'images' in that order. Commit
08a8118f1b26a170219c63feb8bb5f0b929028c3 added another one in between
the two, 'template_dir'.

ImageBuildManager inherits from BaseImageManager and calls its init
function with 'config_files' and 'images' as positional arguments, which
no longer works because 'images' is now the third argument. Therefore
the value passed as 'images' gets quietly written as 'template_dir'
instead.

Passing 'images' as a keyword argument instead solves the issue.

Change-Id: I591345985ccbb8ebfdf9848104478ec1aadb4a7f
(cherry picked from commit 6939ec8b4691feedbda1d8f719f4d998ae0c6e04)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/851491/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/build.py'],1,f3ac1d0ca7c0849154fb785ce5886e3da7d2e91b,," super(ImageBuildManager, self).__init__(config_files, images=images)"," super(ImageBuildManager, self).__init__(config_files, images)",1,1
openstack%2Ftripleo-ansible~master~I43f18466a064234cb62c5b6d7f9a2701dce9cb04,openstack/tripleo-ansible,master,I43f18466a064234cb62c5b6d7f9a2701dce9cb04,Drop gather variables task tripleo_keystone_resources,MERGED,2022-07-27 12:53:39.000000000,2022-07-29 20:37:37.000000000,2022-07-29 20:37:37.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-27 12:53:39.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e2059484a17e908454af68db308834cadbd8d2bc', 'message': 'Drop gather variables task tripleo_keystone_resources\n\nWe don\'t have any files in vars/ for this role. If the\n\'distribution\' facts are not collected it would fail\nwith ""No file was found when using first_found"" due to\nthis open ansible bug[1].\n\n[1] https://github.com/ansible/ansible/issues/70772\n\nChange-Id: I43f18466a064234cb62c5b6d7f9a2701dce9cb04\n'}]",2,851218,e2059484a17e908454af68db308834cadbd8d2bc,14,4,1,8833,,,0,"Drop gather variables task tripleo_keystone_resources

We don't have any files in vars/ for this role. If the
'distribution' facts are not collected it would fail
with ""No file was found when using first_found"" due to
this open ansible bug[1].

[1] https://github.com/ansible/ansible/issues/70772

Change-Id: I43f18466a064234cb62c5b6d7f9a2701dce9cb04
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/851218/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml'],1,e2059484a17e908454af68db308834cadbd8d2bc,,,"- name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" tags: - always ",0,14
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ieb7f39406ace080f1c136441add26a5a167f0d57,openstack/tripleo-heat-templates,stable/wallaby,Ieb7f39406ace080f1c136441add26a5a167f0d57,Move rndc traffic onto bind network,MERGED,2022-07-27 11:44:10.000000000,2022-07-29 20:37:35.000000000,2022-07-29 20:37:35.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-07-27 11:44:10.000000000', 'files': ['deployment/designate/designate-worker-container-puppet.yaml', 'deployment/designate/designate-bind-container.yaml', 'overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66eb2246dac69c791eb570eb21f19712121fe7b0', 'message': 'Move rndc traffic onto bind network\n\nHaving rndc on in the internal API network talking to bind instances on\nthe external network creates an asymmetric routing situation that\nrequires loosening the reverse path filter. This moves all rndc traffic\nonto the same network instead, removing the asymmetry and the need for\nloosening the filter.`\n\nChange-Id: Ieb7f39406ace080f1c136441add26a5a167f0d57\n(cherry picked from commit 46a985b2ea7b8392871e1f8d2eb9db76fceeb589)\n'}]",1,851213,66eb2246dac69c791eb570eb21f19712121fe7b0,11,5,1,6681,,,0,"Move rndc traffic onto bind network

Having rndc on in the internal API network talking to bind instances on
the external network creates an asymmetric routing situation that
requires loosening the reverse path filter. This moves all rndc traffic
onto the same network instead, removing the asymmetry and the need for
loosening the filter.`

Change-Id: Ieb7f39406ace080f1c136441add26a5a167f0d57
(cherry picked from commit 46a985b2ea7b8392871e1f8d2eb9db76fceeb589)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/851213/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/designate/designate-worker-container-puppet.yaml', 'deployment/designate/designate-bind-container.yaml', 'overcloud-resource-registry-puppet.j2.yaml']",3,66eb2246dac69c791eb570eb21f19712121fe7b0,wallaby," DesignateWorkerNetwork: {{ _service_nets.get('external', 'ctlplane') }}",,3,1
openstack%2Fovsdbapp~master~I3f8b63c64c7ac9c570dbd400c562fa97840429ca,openstack/ovsdbapp,master,I3f8b63c64c7ac9c570dbd400c562fa97840429ca,nb: add support for lb health checks API,MERGED,2022-03-09 17:45:55.000000000,2022-07-29 20:15:03.000000000,2022-07-29 20:14:07.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-09 17:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/bf19e8e66fab3b4d2cfd77765f05d4752932e2c9', 'message': ""nb: add support for lb health checks API\n\nThis change adds functions and commands to add, delete, list, get and\nupdate health checks of load balancers. Also added a method to get one\nload balancer by name or uuid and methods to modify 'ip_port_mappings'\ncolumn in the load balancer.\n\nCloses-Bug: 1964382\nChange-Id: I3f8b63c64c7ac9c570dbd400c562fa97840429ca\n""}, {'number': 2, 'created': '2022-07-12 17:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/25c24976edb0c404408d9eccd14ba3d551a44e00', 'message': ""nb: add support for lb health checks API\n\nThis change adds functions and commands to add, delete, list, get and\nupdate health checks of load balancers. Also added a method to get one\nload balancer by name or uuid and methods to modify 'ip_port_mappings'\ncolumn in the load balancer.\n\nCloses-Bug: 1964382\nChange-Id: I3f8b63c64c7ac9c570dbd400c562fa97840429ca\n""}, {'number': 3, 'created': '2022-07-29 18:17:04.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py', 'releasenotes/notes/provide-lb-hc-api-8ff13ccaf75f1eee.yaml'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/f3c5da5402ea2d1c129684a84c91dbc72556f14f', 'message': ""nb: add support for lb health checks API\n\nThis change adds functions and commands to add, delete, list, get and\nupdate health checks of load balancers. Also added a method to get one\nload balancer by name or uuid and methods to modify 'ip_port_mappings'\ncolumn in the load balancer.\n\nCloses-Bug: 1964382\nChange-Id: I3f8b63c64c7ac9c570dbd400c562fa97840429ca\n""}]",14,832835,f3c5da5402ea2d1c129684a84c91dbc72556f14f,19,3,3,33871,,,0,"nb: add support for lb health checks API

This change adds functions and commands to add, delete, list, get and
update health checks of load balancers. Also added a method to get one
load balancer by name or uuid and methods to modify 'ip_port_mappings'
column in the load balancer.

Closes-Bug: 1964382
Change-Id: I3f8b63c64c7ac9c570dbd400c562fa97840429ca
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/35/832835/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py', 'releasenotes/notes/provide-lb-hc-api-8ff13ccaf75f1eee.yaml']",6,bf19e8e66fab3b4d2cfd77765f05d4752932e2c9,lb-hc-support,"--- features: - | Added functions and commands to add, delete, list and update records of 'Load_Balancer_Health_Check' table. Also added a method to get one load balancer by name or uuid and methods to modify 'ip_port_mappings' column in the load balancer. ",,347,39
openstack%2Fcharm-manila-ganesha~stable%2Fwallaby~Idba6d7548b8fc76fdd65c258964703cdacaa0024,openstack/charm-manila-ganesha,stable/wallaby,Idba6d7548b8fc76fdd65c258964703cdacaa0024,Migrate charm charmhub for stable/wallaby,MERGED,2022-05-17 18:16:54.000000000,2022-07-29 20:08:17.000000000,2022-07-29 20:08:17.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/1e0997e412b4aded9ee58eb37d2d4ba250dc53f0', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Idba6d7548b8fc76fdd65c258964703cdacaa0024\n'}, {'number': 2, 'created': '2022-06-17 14:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/bc92adba47c0056a66d9bb59883ae00df1b99b08', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Idba6d7548b8fc76fdd65c258964703cdacaa0024\n'}, {'number': 3, 'created': '2022-07-26 17:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/233fad1fee16d9d0dd2689efcfa547f860cc4a4d', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Idba6d7548b8fc76fdd65c258964703cdacaa0024\n'}, {'number': 4, 'created': '2022-07-29 14:31:18.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/groovy-victoria.yaml', 'requirements.txt', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/build.lock', 'build-requirements.txt', 'src/tests/bundles/focal-ussuri.yaml', '.zuul.yaml', 'src/tests/bundles/focal-ussuri-non-ha.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'src/tests/bundles/bionic-rocky.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/5b018cb2ca81bf474e995b3d39bb66a9ae598aae', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Idba6d7548b8fc76fdd65c258964703cdacaa0024\n'}]",4,842192,5b018cb2ca81bf474e995b3d39bb66a9ae598aae,21,3,4,20870,,,0,"Migrate charm charmhub for stable/wallaby

- start from stable/wallaby branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/wallaby for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: Idba6d7548b8fc76fdd65c258964703cdacaa0024
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/92/842192/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/groovy-victoria.yaml', 'requirements.txt', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/build.lock', 'build-requirements.txt', 'src/tests/bundles/focal-ussuri.yaml', '.zuul.yaml', 'src/tests/bundles/focal-ussuri-non-ha.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'src/tests/bundles/bionic-rocky.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini']",27,1e0997e412b4aded9ee58eb37d2d4ba250dc53f0,charmhub-migration,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:py39] basepython = python3.9 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py310] basepython = python3.10 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,208,2121
openstack%2Fcharm-manila-ganesha~stable%2Fwallaby~I6ad5047fff2f3109a9efe1f03a786ce0412b4161,openstack/charm-manila-ganesha,stable/wallaby,I6ad5047fff2f3109a9efe1f03a786ce0412b4161,Add ceph mgr capabilities,MERGED,2022-07-26 17:41:31.000000000,2022-07-29 20:08:15.000000000,2022-07-29 20:08:15.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 17:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/32dbf4bc607378ea3f8e9e37d06275f2f927df7b', 'message': ""Add ceph mgr capabilities\n\nWithout this change, manila's cephfs driver results in\nmanilaclient.common.apiclient.exceptions.Forbidden:\nAccess was denied to this resource. (HTTP 403)\nwhen running rados commands.\n\nhttp://docs.ceph.com/en/latest/mgr/administrator/#client-authentication\n\nThis also picks up the zaza-openstack-tests fix for test share creation\nresulting in 'no valid host'.\n\nCloses-Bug: #1952763\nCloses-Bug: #1962204\nDepends-On: https://review.opendev.org/c/openstack/charm-manila/+/833847\nChange-Id: I6ad5047fff2f3109a9efe1f03a786ce0412b4161\n(cherry picked from commit 496bfd569b000bdaa7d16b61afdb069ec959c076)\n""}, {'number': 2, 'created': '2022-07-26 17:46:06.000000000', 'files': ['src/lib/charm/openstack/manila_ganesha.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/63e0c432c28034d2b2f22b36e7b296d214fadd0b', 'message': ""Add ceph mgr capabilities\n\nWithout this change, manila's cephfs driver results in\nmanilaclient.common.apiclient.exceptions.Forbidden:\nAccess was denied to this resource. (HTTP 403)\nwhen running rados commands.\n\nhttp://docs.ceph.com/en/latest/mgr/administrator/#client-authentication\n\nThis also picks up the zaza-openstack-tests fix for test share creation\nresulting in 'no valid host'.\n\nCloses-Bug: #1952763\nCloses-Bug: #1962204\nDepends-On: https://review.opendev.org/c/openstack/charm-manila/+/833847\nChange-Id: I6ad5047fff2f3109a9efe1f03a786ce0412b4161\n(cherry picked from commit 496bfd569b000bdaa7d16b61afdb069ec959c076)\n""}]",1,851058,63e0c432c28034d2b2f22b36e7b296d214fadd0b,10,3,2,20870,,,0,"Add ceph mgr capabilities

Without this change, manila's cephfs driver results in
manilaclient.common.apiclient.exceptions.Forbidden:
Access was denied to this resource. (HTTP 403)
when running rados commands.

http://docs.ceph.com/en/latest/mgr/administrator/#client-authentication

This also picks up the zaza-openstack-tests fix for test share creation
resulting in 'no valid host'.

Closes-Bug: #1952763
Closes-Bug: #1962204
Depends-On: https://review.opendev.org/c/openstack/charm-manila/+/833847
Change-Id: I6ad5047fff2f3109a9efe1f03a786ce0412b4161
(cherry picked from commit 496bfd569b000bdaa7d16b61afdb069ec959c076)
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/58/851058/2 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/manila_ganesha.py'],1,32dbf4bc607378ea3f8e9e37d06275f2f927df7b,charmhub-migration," ""mgr"", ""allow *"",",,1,0
openstack%2Fcharm-manila-ganesha~stable%2Fwallaby~I90e368307776bf3968faed0343eae3fb1d0c0d4b,openstack/charm-manila-ganesha,stable/wallaby,I90e368307776bf3968faed0343eae3fb1d0c0d4b,Add missing version to codename mappings,MERGED,2022-07-26 17:36:47.000000000,2022-07-29 20:07:16.000000000,2022-07-29 20:07:16.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 17:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/d4fcc592cbaf273c97f6c579f6e30926f9da63e3', 'message': 'Add missing version to codename mappings\n\nCharm only included version metadata up to Train; add version\nmappings for Ussuri->Yoga.\n\nChange-Id: I90e368307776bf3968faed0343eae3fb1d0c0d4b\n(cherry picked from commit 5630512867892d3c569f397ab228d11681a246d1)\n'}, {'number': 2, 'created': '2022-07-26 17:45:13.000000000', 'files': ['src/lib/charm/openstack/manila_ganesha.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/3ee895041e1ef7f1b3e95d599db9163fd231e227', 'message': 'Add missing version to codename mappings\n\nCharm only included version metadata up to Train; add version\nmappings for Ussuri->Yoga.\n\nChange-Id: I90e368307776bf3968faed0343eae3fb1d0c0d4b\n(cherry picked from commit 5630512867892d3c569f397ab228d11681a246d1)\n'}]",1,851057,3ee895041e1ef7f1b3e95d599db9163fd231e227,12,3,2,20870,,,0,"Add missing version to codename mappings

Charm only included version metadata up to Train; add version
mappings for Ussuri->Yoga.

Change-Id: I90e368307776bf3968faed0343eae3fb1d0c0d4b
(cherry picked from commit 5630512867892d3c569f397ab228d11681a246d1)
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/57/851057/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/manila_ganesha.py'],1,d4fcc592cbaf273c97f6c579f6e30926f9da63e3,charmhub-migration," ('10', 'ussuri'), ('11', 'victoria'), ('12', 'wallaby'), ('13', 'xena'), ('14', 'yoga'),",,5,0
openstack%2Fcharm-manila-ganesha~stable%2Fwallaby~I4236cb4784062807d53381380d9d161ce2f450ee,openstack/charm-manila-ganesha,stable/wallaby,I4236cb4784062807d53381380d9d161ce2f450ee,Use hacluster.add_location(),MERGED,2022-07-26 17:34:51.000000000,2022-07-29 20:07:15.000000000,2022-07-29 20:07:15.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 17:34:51.000000000', 'files': ['src/reactive/manila_ganesha.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/bbd079f771f5e139a3e3de6ab86c902d3fc55903', 'message': ""Use hacluster.add_location()\n\nThis change removes the workaround that was needed when the hacluster\ninterface didn't have a method to define colocations.\n\nRelated-Bug: #1880644\nChange-Id: I4236cb4784062807d53381380d9d161ce2f450ee\n(cherry picked from commit f2d9ed37090607676c5c6b54ea797c55e228d2af)\n""}]",1,851056,bbd079f771f5e139a3e3de6ab86c902d3fc55903,11,3,1,20870,,,0,"Use hacluster.add_location()

This change removes the workaround that was needed when the hacluster
interface didn't have a method to define colocations.

Related-Bug: #1880644
Change-Id: I4236cb4784062807d53381380d9d161ce2f450ee
(cherry picked from commit f2d9ed37090607676c5c6b54ea797c55e228d2af)
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/56/851056/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/manila_ganesha.py'],1,bbd079f771f5e139a3e3de6ab86c902d3fc55903,charmhub-migration," hacluster.add_colocation('ganesha_with_vip', 'inf', ('res_nfs_ganesha_nfs_ganesha', 'grp_ganesha_vips')) hacluster.add_colocation('manila_with_vip', 'inf', ('res_manila_share_manila_share', 'grp_ganesha_vips'))"," # This is a bit of a nasty hack to ensure that we can colocate the # services to make manila + ganesha colocate. This can be tidied up # once # https://bugs.launchpad.net/charm-interface-hacluster/+bug/1880644 # is resolved import relations.hacluster.interface_hacluster.common as hacluster_common # noqa crm = hacluster_common.CRM() crm.colocation('ganesha_with_vip', 'inf', 'res_nfs_ganesha_nfs_ganesha', 'grp_ganesha_vips') crm.colocation('manila_with_vip', 'inf', 'res_manila_share_manila_share', 'grp_ganesha_vips') hacluster.manage_resources(crm)",6,16
openstack%2Ftripleo-ansible~master~Ifba2e77146907ce4c3841d9e301cabe530375875,openstack/tripleo-ansible,master,Ifba2e77146907ce4c3841d9e301cabe530375875,Make podman network configurable for netavark case,NEW,2022-06-08 09:10:21.000000000,2022-07-29 19:51:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-06-08 09:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe0b8c660ef1902608261400b3d40de6bc023a96', 'message': 'Make podman network configurable for netavark case\n\nIn the current workflow, we are only updating the network\nconfiguration for CNI case.\n\nWith podman-4.0 in RHEL-9, netavark is used. This changes makes\npodman network configurable for netavark case as well.\n\nAlso, remove a obselete condition when (podman < 1.6), We have\natleast podman 3.0 since EL8.\n\nAlso setting a default podman network config which is also netavark\ndefault currently, this gives us a ability to override the default\nnetwork config in downstream.\n\nChange-Id: Ifba2e77146907ce4c3841d9e301cabe530375875\n'}, {'number': 2, 'created': '2022-06-08 10:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29f358875acd6ab209f1b97f370514cbed9c83b5', 'message': 'Make podman network configurable for netavark case\n\nIn the current workflow, we are only updating the network\nconfiguration for CNI case.\n\nWith podman-4.0 in RHEL-9, netavark is used. This changes makes\npodman network configurable for netavark case as well.\n\nAlso, remove a obselete condition when (podman < 1.6), We have\natleast podman 3.0 since EL8.\n\nAlso setting a default podman network config which is also netavark\ndefault currently, this gives us a ability to override the default\nnetwork config in downstream.\n\nChange-Id: Ifba2e77146907ce4c3841d9e301cabe530375875\n'}, {'number': 3, 'created': '2022-06-08 10:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2589c2008583a753deaf947909ffd564a736e29f', 'message': 'Make podman network configurable for netavark case\n\nIn the current workflow, we are only updating the network\nconfiguration for CNI case.\n\nWith podman-4.0 in RHEL-9, netavark is used. This changes makes\npodman network configurable for netavark case as well.\n\nAlso, remove a obselete condition when (podman < 1.6), We have\natleast podman 3.0 since EL8.\n\nAlso setting a default podman network config which is also netavark\ndefault currently, this gives us a ability to override the default\nnetwork config in downstream.\n\nChange-Id: Ifba2e77146907ce4c3841d9e301cabe530375875\n'}, {'number': 4, 'created': '2022-06-08 10:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15646d1d4891300718e3e464d13731e3d52dc4c1', 'message': 'Make podman network configurable for netavark case\n\nIn the current workflow, we are only updating the network\nconfiguration for CNI case.\n\nWith podman-4.0 in RHEL-9, netavark is used. This changes makes\npodman network configurable for netavark case as well.\n\nAlso, remove a obselete condition when (podman < 1.6), We have\natleast podman 3.0 since EL8.\n\nAlso setting a default podman network config which is also netavark\ndefault currently, this gives us a ability to override the default\nnetwork config in downstream.\n\nChange-Id: Ifba2e77146907ce4c3841d9e301cabe530375875\n'}, {'number': 5, 'created': '2022-06-08 11:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2d8d5932443a5dc8c4a0d502ebffb695e5894c73', 'message': 'Make podman network configurable for netavark case\n\nIn the current workflow, we are only updating the network\nconfiguration for CNI case.\n\nWith podman-4.0 in RHEL-9, netavark is used. This changes makes\npodman network configurable for netavark case as well.\n\nAlso, remove a obselete condition when (podman < 1.6), We have\natleast podman 3.0 since EL8.\n\nAlso setting a default podman network config which is also netavark\ndefault currently, this gives us a ability to override the default\nnetwork config in downstream.\n\nChange-Id: Ifba2e77146907ce4c3841d9e301cabe530375875\n'}, {'number': 6, 'created': '2022-06-24 09:29:03.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/vars/redhat-9.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/37a9d9d99ca30e2471e7ea68a2c32c67dd095c2e', 'message': 'Make podman network configurable for netavark case\n\nIn the current workflow, we are only updating the network\nconfiguration for CNI case.\n\nWith podman-4.0 in RHEL-9, netavark is used. This changes makes\npodman network configurable for netavark case as well.\n\nAlso, remove a obselete condition when (podman < 1.6), We have\natleast podman 3.0 since EL8.\n\nAlso setting a default podman network config which is also netavark\ndefault currently, this gives us a ability to override the default\nnetwork config in downstream.\n\nChange-Id: Ifba2e77146907ce4c3841d9e301cabe530375875\n'}]",4,845107,37a9d9d99ca30e2471e7ea68a2c32c67dd095c2e,18,3,6,29775,,,0,"Make podman network configurable for netavark case

In the current workflow, we are only updating the network
configuration for CNI case.

With podman-4.0 in RHEL-9, netavark is used. This changes makes
podman network configurable for netavark case as well.

Also, remove a obselete condition when (podman < 1.6), We have
atleast podman 3.0 since EL8.

Also setting a default podman network config which is also netavark
default currently, this gives us a ability to override the default
network config in downstream.

Change-Id: Ifba2e77146907ce4c3841d9e301cabe530375875
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/07/845107/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/vars/redhat-9.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml']",2,fe0b8c660ef1902608261400b3d40de6bc023a96,," - name: Update network configuration when using CNI when: tripleo_container_default_network_backend == ""cni"" block: # don't update the network config if the network is already running # meaning cni-podman0 is running somewhere - name: Update default network configuration if possible block: - name: Make sure /etc/cni/net.d folder exists file: path: /etc/cni/net.d state: directory recurse: true mode: 0755 owner: root group: root - name: Update default network configuration if possible copy: dest: /etc/cni/net.d/87-podman-bridge.conflist content: ""{{ tripleo_podman_default_network_config | to_json }}"" mode: '0644' owner: root group: root when: - '""cni-podman0"" not in ansible_facts[""interfaces""]' - name: Update network configuration when using netavark when: tripleo_container_default_network_backend == ""netavark"" block: # don't update the network config if the network is already running # meaning podman0 is running somewhere - name: Make sure /etc/containers/networks folder exists file: path: /etc/containers/networks state: directory recurse: true mode: 0755 owner: root group: root - name: Update default network configuration if possible copy: dest: /etc/containers/networks/podman.json content: ""{{ tripleo_podman_default_network_config | to_json }}"" mode: '0644' owner: root group: root when: - '""podman0"" not in ansible_facts[""interfaces""]'"," - name: Delete legacy cni0 interface (podman < 1.6) command: ip link delete cni0 when: - '""cni0"" in ansible_facts[""interfaces""]' # don't update the network config if the network is already running # meaning cni-podman0 is running somewhere - name: Update default network configuration if possible block: - name: Make sure /etc/cni/net.d folder exists file: path: /etc/cni/net.d state: directory recurse: true mode: 0755 owner: root group: root - name: Update default network configuration if possible copy: dest: /etc/cni/net.d/87-podman-bridge.conflist content: ""{{ tripleo_podman_default_network_config | to_json }}"" mode: '0644' owner: root group: root when: - '""cni-podman0"" not in ansible_facts[""interfaces""]'",59,25
openstack%2Ftripleo-common~stable%2Ftrain~I591345985ccbb8ebfdf9848104478ec1aadb4a7f,openstack/tripleo-common,stable/train,I591345985ccbb8ebfdf9848104478ec1aadb4a7f,Fix ImageBuildManager initialization after BaseImageManager changes,MERGED,2022-07-29 08:25:50.000000000,2022-07-29 19:49:33.000000000,2022-07-29 19:48:34.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-07-29 08:25:50.000000000', 'files': ['tripleo_common/image/build.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e759bf395fb7699492fefc15d4e777f37027b78f', 'message': ""Fix ImageBuildManager initialization after BaseImageManager changes\n\nBaseImageManager's init function used to take two arguments:\n'config_files' and 'images' in that order. Commit\n08a8118f1b26a170219c63feb8bb5f0b929028c3 added another one in between\nthe two, 'template_dir'.\n\nImageBuildManager inherits from BaseImageManager and calls its init\nfunction with 'config_files' and 'images' as positional arguments, which\nno longer works because 'images' is now the third argument. Therefore\nthe value passed as 'images' gets quietly written as 'template_dir'\ninstead.\n\nPassing 'images' as a keyword argument instead solves the issue.\n\nChange-Id: I591345985ccbb8ebfdf9848104478ec1aadb4a7f\n(cherry picked from commit 6939ec8b4691feedbda1d8f719f4d998ae0c6e04)\n""}]",0,851492,e759bf395fb7699492fefc15d4e777f37027b78f,8,4,1,31581,,,0,"Fix ImageBuildManager initialization after BaseImageManager changes

BaseImageManager's init function used to take two arguments:
'config_files' and 'images' in that order. Commit
08a8118f1b26a170219c63feb8bb5f0b929028c3 added another one in between
the two, 'template_dir'.

ImageBuildManager inherits from BaseImageManager and calls its init
function with 'config_files' and 'images' as positional arguments, which
no longer works because 'images' is now the third argument. Therefore
the value passed as 'images' gets quietly written as 'template_dir'
instead.

Passing 'images' as a keyword argument instead solves the issue.

Change-Id: I591345985ccbb8ebfdf9848104478ec1aadb4a7f
(cherry picked from commit 6939ec8b4691feedbda1d8f719f4d998ae0c6e04)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/851492/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/build.py'],1,e759bf395fb7699492fefc15d4e777f37027b78f,," super(ImageBuildManager, self).__init__(config_files, images=images)"," super(ImageBuildManager, self).__init__(config_files, images)",1,1
openstack%2Ftripleo-ansible~master~I3b6498046851dfc6622aa0cbd3f42571d5b1c75f,openstack/tripleo-ansible,master,I3b6498046851dfc6622aa0cbd3f42571d5b1c75f,Designate bind: allow notify on all external IPs,MERGED,2022-07-26 17:22:00.000000000,2022-07-29 19:48:36.000000000,2022-07-29 19:48:36.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-07-26 17:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8aa72251d2ad110c244771b4f093476f696c098a', 'message': ""Designate bind: allow notify on all external IPs\n\nThe bind instances can get notify's from any worker/mDNS so needs\nto expand the configured allow-notify list.\n\nChange-Id: I3b6498046851dfc6622aa0cbd3f42571d5b1c75f\n""}, {'number': 2, 'created': '2022-07-26 18:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba459c43bf1ac7c8711b0ca0b338725d1f5774f5', 'message': ""Designate bind: allow notify on all external IPs\n\nThe bind instances can get notify's from any worker/mDNS so needs\nto expand the configured allow-notify list.\n\nChange-Id: I3b6498046851dfc6622aa0cbd3f42571d5b1c75f\n""}, {'number': 3, 'created': '2022-07-27 11:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9871f5a7cd8894eaafb1abb54d95c23333c0b444', 'message': ""Designate bind: allow notify on all external IPs\n\nThe bind instances can get notify's from any worker/mDNS so needs\nto expand the configured allow-notify list.\n\nChange-Id: I3b6498046851dfc6622aa0cbd3f42571d5b1c75f\n""}, {'number': 4, 'created': '2022-07-27 18:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2ef0818da0b8c5e1ae47339d2ad2faf12661656', 'message': ""Designate bind: allow notify on all external IPs\n\nThe bind instances can get notify's from any worker/mDNS so needs\nto expand the configured allow-notify list.\n\nChange-Id: I3b6498046851dfc6622aa0cbd3f42571d5b1c75f\n""}, {'number': 5, 'created': '2022-07-28 15:19:38.000000000', 'files': ['tripleo_ansible/roles/designate_bind_config/molecule/default/converge.yml', 'tripleo_ansible/roles/designate_bind_config/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2', 'tripleo_ansible/roles/designate_bind_config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df95a7976b96324b022ed8850736acafc34f7eb0', 'message': ""Designate bind: allow notify on all external IPs\n\nThe bind instances can get notify's from any worker/mDNS so needs\nto expand the configured allow-notify list.\n\nChange-Id: I3b6498046851dfc6622aa0cbd3f42571d5b1c75f\n""}]",4,851075,df95a7976b96324b022ed8850736acafc34f7eb0,23,7,5,6681,,,0,"Designate bind: allow notify on all external IPs

The bind instances can get notify's from any worker/mDNS so needs
to expand the configured allow-notify list.

Change-Id: I3b6498046851dfc6622aa0cbd3f42571d5b1c75f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/75/851075/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2'],1,8aa72251d2ad110c244771b4f093476f696c098a,, allow-notify { {{ tripleo_dns_listen_interfaces[0] }};{{ groups.designate_bind_workers|join(';') }} };, allow-notify { {{ tripleo_dns_listen_interfaces[0] }}; };,1,1
openstack%2Fcinder~master~I278dd4a6fcbdc1bc477e998eabe07edf81dabd21,openstack/cinder,master,I278dd4a6fcbdc1bc477e998eabe07edf81dabd21,Add additional transport type constants,MERGED,2022-07-13 14:30:07.000000000,2022-07-29 19:28:17.000000000,2022-07-29 18:57:38.000000000,"[{'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-07-13 14:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3192967a694bb879749f7110307f7c5fac9bb688', 'message': 'Add additional transport type constants\n\nThere are multiple types of NVMe transport and we need to ensure\nthey are all represented in these contants so that 3rd party\ndrivers can use the correct transport type.\nThe current variants are very generic and are there to cover early\nimplementations of NVMe over limited transport types.\n\nChange-Id: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\n'}, {'number': 2, 'created': '2022-07-15 18:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7af07b9fb171f912a44626f9d61330aeb393e7e1', 'message': 'Add additional transport type constants\n\nThere are multiple types of NVMe transport and we need to ensure\nthey are all represented in these contants so that 3rd party\ndrivers can use the correct transport type.\nThe current variants are very generic and are there to cover early\nimplementations of NVMe over limited transport types.\n\nChange-Id: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\n'}, {'number': 3, 'created': '2022-07-20 19:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06444c18c0b089076e9c80377bacc6f0b500ec47', 'message': 'Add additional transport type constants\n\nThere are multiple types of NVMe transport and we need to ensure\nthey are all represented in these constants so that 3rd party\ndrivers can use the correct transport type.\nThe current variants are very generic and are there to cover early\nimplementations of NVMe over limited transport types.\n\nChange-Id: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\n'}, {'number': 4, 'created': '2022-07-20 20:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1439a8cf40122b443442f7eb00daddfe6e4c79b3', 'message': 'Add additional transport type constants\n\nThere are multiple types of NVMe transport and we need to ensure\nthey are all represented in these constants so that 3rd party\ndrivers can use the correct transport type.\nThe current variants are very generic and are there to cover early\nimplementations of NVMe over limited transport types.\n\nChange-Id: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\n'}, {'number': 5, 'created': '2022-07-20 21:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72977dfc1a91834c4c4d979d3708dee67e39a674', 'message': 'Add additional transport type constants\n\nThere are multiple types of NVMe transport and we need to ensure\nthey are all represented in these constants so that 3rd party\ndrivers can use the correct transport type.\nThe current variants are very generic and are there to cover early\nimplementations of NVMe over limited transport types.\n\nChange-Id: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\n'}, {'number': 6, 'created': '2022-07-27 15:47:17.000000000', 'files': ['cinder/common/constants.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c54e6b26e1ba74aba9022844a6e2f17d533a8672', 'message': 'Add additional transport type constants\n\nThere are multiple types of NVMe transport and we need to ensure\nthey are all represented in these constants so that 3rd party\ndrivers can use the correct transport type.\nThe current variants are very generic and are there to cover early\nimplementations of NVMe over limited transport types.\n\nChange-Id: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\n'}]",11,849690,c54e6b26e1ba74aba9022844a6e2f17d533a8672,112,4,6,13425,,,0,"Add additional transport type constants

There are multiple types of NVMe transport and we need to ensure
they are all represented in these constants so that 3rd party
drivers can use the correct transport type.
The current variants are very generic and are there to cover early
implementations of NVMe over limited transport types.

Change-Id: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/849690/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/common/constants.py'],1,3192967a694bb879749f7110307f7c5fac9bb688,add_nvme_contants,"NVMEOF_VARIANT_3 = 'NVMe-RoCE' NVMEOF_VARIANT_4 = 'NVMe-FC' NVMEOF_VARIANT_5 = 'NVMe-TCP'NVMEOF_VARIANTS = [ NVMEOF, NVMEOF_VARIANT_1, NVMEOF_VARIANT_2, NVMEOF_VARIANT_3, NVMEOF_VARIANT_4, NVMEOF_VARIANT_5]","NVMEOF_VARIANTS = [NVMEOF, NVMEOF_VARIANT_1, NVMEOF_VARIANT_2]",10,1
openstack%2Fovsdbapp~master~I0273d321f41ad525afa4b00a99dc2d64577c9ee5,openstack/ovsdbapp,master,I0273d321f41ad525afa4b00a99dc2d64577c9ee5,"Provide base classes for {Get,Set}Options commands",MERGED,2022-07-12 17:11:38.000000000,2022-07-29 19:18:19.000000000,2022-07-29 19:17:17.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-12 17:11:38.000000000', 'files': ['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/schema/ovn_northbound/commands.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/e9c6c6cc130aefa9db5830fb902121a7018a617d', 'message': 'Provide base classes for {Get,Set}Options commands\n\nMove common code for all {Get,Set}Options commands to base classes.\n\nTrivial-Fix\n\nChange-Id: I0273d321f41ad525afa4b00a99dc2d64577c9ee5\n'}]",1,849569,e9c6c6cc130aefa9db5830fb902121a7018a617d,13,4,1,33871,,,0,"Provide base classes for {Get,Set}Options commands

Move common code for all {Get,Set}Options commands to base classes.

Trivial-Fix

Change-Id: I0273d321f41ad525afa4b00a99dc2d64577c9ee5
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/69/849569/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/schema/ovn_northbound/commands.py']",2,e9c6c6cc130aefa9db5830fb902121a7018a617d,get-set-base-class,"class LspSetOptionsCommand(cmd.BaseSetOptionsCommand): class LspGetOptionsCommand(cmd.BaseGetOptionsCommand):class DhcpOptionsSetOptionsCommand(cmd.BaseSetOptionsCommand): table = 'DHCP_Options' class DhcpOptionsGetOptionsCommand(cmd.BaseGetOptionsCommand): table = 'DHCP_Options'class LrpSetOptionsCommand(cmd.BaseSetOptionsCommand):class LrpGetOptionsCommand(cmd.BaseGetOptionsCommand):class LrpGetGatewayChassisCommand(cmd.ReadOnlyCommand): table = 'Logical_Router_Port' def __init__(self, api, port): super().__init__(api) self.port = port ","class LspSetOptionsCommand(cmd.BaseCommand): def __init__(self, api, port, **options): super().__init__(api) self.port = port self.options = options def run_idl(self, txn): lsp = self.api.lookup(self.table, self.port) lsp.options = self.options class LspGetOptionsCommand(cmd.ReadOnlyCommand): def __init__(self, api, port): super().__init__(api) self.port = port def run_idl(self, txn): lsp = self.api.lookup(self.table, self.port) self.result = lsp.options class DhcpOptionsSetOptionsCommand(cmd.BaseCommand): def __init__(self, api, dhcpopt_uuid, **options): super().__init__(api) self.dhcpopt_uuid = dhcpopt_uuid self.options = options def run_idl(self, txn): dhcpopt = self.api.lookup('DHCP_Options', self.dhcpopt_uuid) dhcpopt.options = self.options class DhcpOptionsGetOptionsCommand(cmd.ReadOnlyCommand): def __init__(self, api, dhcpopt_uuid): super().__init__(api) self.dhcpopt_uuid = dhcpopt_uuid def run_idl(self, txn): dhcpopt = self.api.lookup('DHCP_Options', self.dhcpopt_uuid) self.result = dhcpopt.optionsclass LrpSetOptionsCommand(LspSetOptionsCommand):class LrpGetOptionsCommand(LspGetOptionsCommand):class LrpGetGatewayChassisCommand(LrpGetOptionsCommand):",40,39
openstack%2Freleases~master~I6338e25979156cf69f6948863ddbce27b14cc105,openstack/releases,master,I6338e25979156cf69f6948863ddbce27b14cc105,[heat] Transition Pike to End of Life,MERGED,2022-07-29 15:55:40.000000000,2022-07-29 19:11:54.000000000,2022-07-29 19:11:54.000000000,"[{'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 15:55:40.000000000', 'files': ['deliverables/pike/heat-translator.yaml', 'deliverables/pike/tosca-parser.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/048c9235b0006a92a4ed96d89c5cc85b47c11768', 'message': ""[heat] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I6338e25979156cf69f6948863ddbce27b14cc105\n""}]",1,851563,048c9235b0006a92a4ed96d89c5cc85b47c11768,9,4,1,17685,,,0,"[heat] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I6338e25979156cf69f6948863ddbce27b14cc105
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/851563/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/heat-translator.yaml', 'deliverables/pike/tosca-parser.yaml']",2,048c9235b0006a92a4ed96d89c5cc85b47c11768,pike-eol, - version: pike-eol projects: - repo: openstack/tosca-parser hash: 8b5dbbd9fb0d8728e585bd72cd7f6b5a9b539b26,,8,0
openstack%2Fswift~master~Ic38698e9ca0397770c7362229baef1101a72788f,openstack/swift,master,Ic38698e9ca0397770c7362229baef1101a72788f,Sharder: Fall back to local device in get_shard_broker,MERGED,2022-07-21 02:38:32.000000000,2022-07-29 19:00:43.000000000,2022-07-29 18:59:40.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-21 02:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cf4e688347cea13c98c65bf469b03260c57ee980', 'message': ""Sharder: Fall back to local device in get_shard_broker\n\nIf the sharder is processing a node that has 0 weight, especially for\nall the devices on the node, the `find_local_handoff_for_part` can fail\nbecause there will be no local hand off devices available as it uses the\nreplica2part2dev_id to find a device.\nHowever, a 0 weighted device won't appear in the replica2part2dev table.\n\nIf the `find_local_handoff_for_part` fails then we fall back to a local\ndevice identified by the `_local_device_ids` set that was identified in\nthe sharder. This uses the ring.devs, so does include 0 weighted\ndevices.\nThis allows the sharder to find a location to write the shard_broker in\na handoff location while sharding.\n\nChange-Id: Ic38698e9ca0397770c7362229baef1101a72788f\n""}, {'number': 2, 'created': '2022-07-21 15:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ba0104ff9bee79dda9d3ca8b8c0036d9cf7f8941', 'message': ""Sharder: Fall back to local device in get_shard_broker\n\nIf the sharder is processing a node that has 0 weight, especially for\nall the devices on the node, the `find_local_handoff_for_part` can fail\nbecause there will be no local hand off devices available as it uses the\nreplica2part2dev_id to find a device.\nHowever, a 0 weighted device won't appear in the replica2part2dev table.\n\nIf the `find_local_handoff_for_part` fails then we fall back to a local\ndevice identified by the `_local_device_ids` set that was identified in\nthe sharder. This uses the ring.devs, so does include 0 weighted\ndevices.\nThis allows the sharder to find a location to write the shard_broker in\na handoff location while sharding.\n\nChange-Id: Ic38698e9ca0397770c7362229baef1101a72788f\n""}, {'number': 3, 'created': '2022-07-22 02:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0576b4619e31845993a01c49cca83e586d541bfe', 'message': ""Sharder: Fall back to local device in get_shard_broker\n\nIf the sharder is processing a node that has 0 weight, especially for\nall the devices on the node, the `find_local_handoff_for_part` can fail\nbecause there will be no local hand off devices available as it uses the\nreplica2part2dev_id to find a device.\nHowever, a 0 weighted device won't appear in the replica2part2dev table.\n\nIf the `find_local_handoff_for_part` fails then we fall back to a local\ndevice identified by the `_local_device_ids` set that was identified in\nthe sharder. This uses the ring.devs, so does include 0 weighted\ndevices.\nThis allows the sharder to find a location to write the shard_broker in\na handoff location while sharding.\n\nChange-Id: Ic38698e9ca0397770c7362229baef1101a72788f\n""}, {'number': 4, 'created': '2022-07-25 06:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eb0cecf682005d99d16a154472faf878b6bfadb2', 'message': ""Sharder: Fall back to local device in get_shard_broker\n\nIf the sharder is processing a node that has 0 weight, especially for\nall the devices on the node, the `find_local_handoff_for_part` can fail\nbecause there will be no local hand off devices available as it uses the\nreplica2part2dev_id to find a device.\nHowever, a 0 weighted device won't appear in the replica2part2dev table.\n\nIf the `find_local_handoff_for_part` fails then we fall back to a local\ndevice identified by the `_local_device_ids` set that was identified in\nthe sharder. This uses the ring.devs, so does include 0 weighted\ndevices.\nThis allows the sharder to find a location to write the shard_broker in\na handoff location while sharding.\n\nChange-Id: Ic38698e9ca0397770c7362229baef1101a72788f\n""}, {'number': 5, 'created': '2022-07-27 11:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a210079b8feac07cc9893e4d6f17858b57b349e0', 'message': ""Sharder: Fall back to local device in get_shard_broker\n\nIf the sharder is processing a node that has 0 weight, especially for\nall the devices on the node, the `find_local_handoff_for_part` can fail\nbecause there will be no local hand off devices available as it uses the\nreplica2part2dev_id to find a device.\nHowever, a 0 weighted device won't appear in the replica2part2dev table.\n\nThis patch extends `find_local_handoff_for_part`, if it fails to find a node\nfrom the ring it'll fall back to a local device identified by the\n`_local_device_ids` that is built up when the replicator or sharder was\nidentifing local devices. This uses the ring.devs, so does include 0 weighted\ndevices.\nThis allows the sharder to find a location to write the shard_broker in\na handoff location while sharding.\n\nChange-Id: Ic38698e9ca0397770c7362229baef1101a72788f\n""}, {'number': 6, 'created': '2022-07-27 16:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/592523654f4531d1c3fb69c884d9e7792066500d', 'message': ""Sharder: Fall back to local device in get_shard_broker\n\nIf the sharder is processing a node that has 0 weight, especially for\nall the devices on the node, the `find_local_handoff_for_part` can fail\nbecause there will be no local hand off devices available as it uses the\nreplica2part2dev_id to find a device.\nHowever, a 0 weighted device won't appear in the replica2part2dev table.\n\nThis patch extends `find_local_handoff_for_part`, if it fails to find a node\nfrom the ring it'll fall back to a local device identified by the\n`_local_device_ids` that is built up when the replicator or sharder was\nidentifing local devices. This uses the ring.devs, so does include 0 weighted\ndevices.\nThis allows the sharder to find a location to write the shard_broker in\na handoff location while sharding.\n\nChange-Id: Ic38698e9ca0397770c7362229baef1101a72788f\n""}, {'number': 7, 'created': '2022-07-28 07:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/24398845e7e08867117bc93b79de3b9d10319b1e', 'message': ""Sharder: Fall back to local device in get_shard_broker\n\nIf the sharder is processing a node that has 0 weight, especially for\nall the devices on the node, the `find_local_handoff_for_part` can fail\nbecause there will be no local hand off devices available as it uses the\nreplica2part2dev_id to find a device.\nHowever, a 0 weighted device won't appear in the replica2part2dev table.\n\nThis patch extends `find_local_handoff_for_part`, if it fails to find a node\nfrom the ring it'll fall back to a local device identified by the\n`_local_device_ids` that is built up when the replicator or sharder was\nidentifing local devices. This uses the ring.devs, so does include 0 weighted\ndevices.\nThis allows the sharder to find a location to write the shard_broker in\na handoff location while sharding.\n\nChange-Id: Ic38698e9ca0397770c7362229baef1101a72788f\n""}, {'number': 8, 'created': '2022-07-28 08:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ac013541bed82ddabbb3e97dfb74fc120523094c', 'message': ""Sharder: Fall back to local device in get_shard_broker\n\nIf the sharder is processing a node that has 0 weight, especially for\nall the devices on the node, the `find_local_handoff_for_part` can fail\nbecause there will be no local hand off devices available as it uses the\nreplica2part2dev_id to find a device.\nHowever, a 0 weighted device won't appear in the replica2part2dev table.\n\nThis patch extends `find_local_handoff_for_part`, if it fails to find a node\nfrom the ring it'll fall back to a local device identified by the\n`_local_device_ids` that is built up when the replicator or sharder was\nidentifing local devices. This uses the ring.devs, so does include 0 weighted\ndevices.\nThis allows the sharder to find a location to write the shard_broker in\na handoff location while sharding.\n\nChange-Id: Ic38698e9ca0397770c7362229baef1101a72788f\n""}, {'number': 9, 'created': '2022-07-29 14:02:57.000000000', 'files': ['test/unit/container/test_replicator.py', 'test/unit/common/test_db_replicator.py', 'test/unit/__init__.py', 'test/unit/container/test_sharder.py', 'swift/common/db_replicator.py', 'swift/container/replicator.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c4e00eb89f34de79d5fb123dd044621ef4df679c', 'message': ""Sharder: Fall back to local device in get_shard_broker\n\nIf the sharder is processing a node that has 0 weight, especially for\nall the devices on the node, the `find_local_handoff_for_part` can\nfail because there will be no local hand off devices available as it\nuses the replica2part2dev_id to find a device.  However, a 0 weighted\ndevice won't appear in the replica2part2dev table.\n\nThis patch extends `find_local_handoff_for_part`, if it fails to find\na node from the ring it'll fall back to a local device identified by\nthe `_local_device_ids` that is built up when the replicator or\nsharder was identifing local devices. This uses the ring.devs, so does\ninclude 0 weighted devices.  This allows the sharder to find a\nlocation to write the shard_broker in a handoff location while\nsharding.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nChange-Id: Ic38698e9ca0397770c7362229baef1101a72788f\n""}]",64,850597,c4e00eb89f34de79d5fb123dd044621ef4df679c,48,3,9,7233,,,0,"Sharder: Fall back to local device in get_shard_broker

If the sharder is processing a node that has 0 weight, especially for
all the devices on the node, the `find_local_handoff_for_part` can
fail because there will be no local hand off devices available as it
uses the replica2part2dev_id to find a device.  However, a 0 weighted
device won't appear in the replica2part2dev table.

This patch extends `find_local_handoff_for_part`, if it fails to find
a node from the ring it'll fall back to a local device identified by
the `_local_device_ids` that is built up when the replicator or
sharder was identifing local devices. This uses the ring.devs, so does
include 0 weighted devices.  This allows the sharder to find a
location to write the shard_broker in a handoff location while
sharding.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Change-Id: Ic38698e9ca0397770c7362229baef1101a72788f
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/850597/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,cf4e688347cea13c98c65bf469b03260c57ee980,sharder_fallback_to_same_device,"from random import random, choice :returns: a tuple of ``(part, broker, node_id, put_timestamp)`` where ``part`` is the shard container's partition, ``broker`` is an instance of ``node_id`` is the id of the selected node, ``put_timestamp`` is the put_timestamp if the broker needed to be initialized. # Fall back to device on this node. If we get this far, we're # not a primary for the shard or a get_more_nodes candidate. # we may also be zero weight and draining, but we still need to # do work. So if we fall back to one of our devices then we should # be good to go. try: node = choice([ dev for dev in self.ring.devs if dev and dev['id'] in self._local_device_ids]) self.logger.info( ""Could not find a local handoff for %s in partition %d "" ""falling back to a local device %s"" % (quote(shard_range.name), part, node['device'])) except IndexError: raise DeviceUnavailable( 'No mounted devices found suitable for creating shard ' 'broker for %s in partition %s' % (quote(shard_range.name), part))","from random import random :returns: a tuple of ``(part, broker, node_id)`` where ``part`` is the shard container's partition, ``broker`` is an instance of ``node_id`` is the id of the selected node. raise DeviceUnavailable( 'No mounted devices found suitable for creating shard broker ' 'for %s in partition %s' % (quote(shard_range.name), part))",89,7
openstack%2Ftripleo-quickstart~master~I343e5ab575a73cca2d2d0fa170b05d43895a7587,openstack/tripleo-quickstart,master,I343e5ab575a73cca2d2d0fa170b05d43895a7587,Run featureset030 job with tempest-allow,MERGED,2022-06-02 13:26:14.000000000,2022-07-29 19:00:05.000000000,2022-07-29 18:59:10.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-06-02 13:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cc0a54fd962390afdf138f893c5af8629f332ff3', 'message': 'Run featureset030 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/844450\nChange-Id: I343e5ab575a73cca2d2d0fa170b05d43895a7587\n'}, {'number': 2, 'created': '2022-06-23 14:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d3830ac6822d384ec66e0efcd40e83d21cc12390', 'message': 'Run featureset030 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nTesting here:- https://review.rdoproject.org/r/c/testproject/+/40102\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/844450\nChange-Id: I343e5ab575a73cca2d2d0fa170b05d43895a7587\n'}, {'number': 3, 'created': '2022-06-23 19:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/baecddecb97108769907e3b63f13c57361e3b8a9', 'message': 'Run featureset030 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nTesting here:- https://review.rdoproject.org/r/c/testproject/+/40102\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/844450\nChange-Id: I343e5ab575a73cca2d2d0fa170b05d43895a7587\n'}, {'number': 4, 'created': '2022-07-07 20:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/edd801b8bab7edc5c307dd4f82eae4c2d974e27a', 'message': 'Run featureset030 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nTesting here:- https://review.rdoproject.org/r/c/testproject/+/40102\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/844450\nChange-Id: I343e5ab575a73cca2d2d0fa170b05d43895a7587\n'}, {'number': 5, 'created': '2022-07-28 12:56:32.000000000', 'files': ['config/general_config/featureset030.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a73200d7299436ce22af2c644c77304dec02e8d6', 'message': 'Run featureset030 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nTesting here:- https://review.rdoproject.org/r/c/testproject/+/40102\nChange-Id: I343e5ab575a73cca2d2d0fa170b05d43895a7587\n'}]",13,844453,a73200d7299436ce22af2c644c77304dec02e8d6,57,7,5,30742,,,0,"Run featureset030 job with tempest-allow

This patch replace the tempest_test_whitelist with tempest_allowed_group
that is to be used by tempest-allow.

Testing here:- https://review.rdoproject.org/r/c/testproject/+/40102
Change-Id: I343e5ab575a73cca2d2d0fa170b05d43895a7587
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/53/844453/5 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset030.yml'],1,cc0a54fd962390afdf138f893c5af8629f332ff3,tempest_allow_list,"tempest_allowed_group: ""featureset030""","tempest_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' - 'tempest.scenario.test_minimum_basic.TestMinimumBasicScenario.test_minimum_basic_scenario'tempest_test_whitelist: ""{{ tempest_whitelist }}""",1,4
openstack%2Fovsdbapp~master~I91d8be623dc51d332738728b569bbe4efd65de8d,openstack/ovsdbapp,master,I91d8be623dc51d332738728b569bbe4efd65de8d,nb: add methods to modify the lrp.networks,MERGED,2022-03-05 11:35:40.000000000,2022-07-29 18:42:55.000000000,2022-07-29 18:41:59.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-05 11:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/e1b2d2baeb9782cfce67864d556ecd8406c63e06', 'message': ""nb: add methods to modify the lrp.networks\n\nThis change adds functions and commands to modify the 'lrp.networks'\ncolumn.\n\nCloses-Bug: 1963700\nChange-Id: I91d8be623dc51d332738728b569bbe4efd65de8d\n""}, {'number': 2, 'created': '2022-03-05 12:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/04ab83f16e9f2d6909a072e091313ac5df7e1da2', 'message': ""nb: add methods to modify the lrp.networks\n\nThis change adds functions and commands to modify the 'lrp.networks'\ncolumn.\n\nCloses-Bug: 1963700\nChange-Id: I91d8be623dc51d332738728b569bbe4efd65de8d\n""}, {'number': 3, 'created': '2022-03-05 12:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/e7378724a19fec81be99efab2f326760881fe2be', 'message': ""nb: add methods to modify the lrp.networks\n\nThis change adds functions and commands to modify the 'lrp.networks'\ncolumn.\n\nCloses-Bug: 1963700\nChange-Id: I91d8be623dc51d332738728b569bbe4efd65de8d\n""}, {'number': 4, 'created': '2022-03-05 13:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/a3c5c4fea5ff9bf49fd139ee2219a1ea5be777a6', 'message': ""nb: add methods to modify the lrp.networks\n\nThis change adds functions and commands to modify the 'lrp.networks'\ncolumn.\n\nCloses-Bug: 1963700\nChange-Id: I91d8be623dc51d332738728b569bbe4efd65de8d\n""}, {'number': 5, 'created': '2022-07-12 15:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d8fea47e02edd317dbefa8d045b929090f9f5305', 'message': ""nb: add methods to modify the lrp.networks\n\nThis change adds functions and commands to modify the 'lrp.networks'\ncolumn.\n\nCloses-Bug: 1963700\nChange-Id: I91d8be623dc51d332738728b569bbe4efd65de8d\n""}, {'number': 6, 'created': '2022-07-12 20:34:37.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py', 'releasenotes/notes/provide-lrp-networks-modifying-1af13589064c12c6.yaml'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/e1cbe84fa0b80086a999fdcf5d76621221356308', 'message': ""nb: add methods to modify the lrp.networks\n\nThis change adds functions and commands to modify the 'lrp.networks'\ncolumn.\n\nCloses-Bug: 1963700\nChange-Id: I91d8be623dc51d332738728b569bbe4efd65de8d\n""}]",11,832158,e1cbe84fa0b80086a999fdcf5d76621221356308,22,3,6,33871,,,0,"nb: add methods to modify the lrp.networks

This change adds functions and commands to modify the 'lrp.networks'
column.

Closes-Bug: 1963700
Change-Id: I91d8be623dc51d332738728b569bbe4efd65de8d
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/58/832158/3 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py', 'releasenotes/notes/provide-lrp-networks-modifying-1af13589064c12c6.yaml']",4,e1b2d2baeb9782cfce67864d556ecd8406c63e06,lrp-add-network,--- features: - | Added functions and commands to modify the 'lrp.networks' column. ,,61,0
openstack%2Fneutron~stable%2Ftrain~I0fccf36a2035e8f6c2fa8dab0307358da600c8f7,openstack/neutron,stable/train,I0fccf36a2035e8f6c2fa8dab0307358da600c8f7,Optimize queries for port operations,MERGED,2022-07-22 09:05:21.000000000,2022-07-29 18:26:08.000000000,2022-07-29 18:24:37.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-22 09:05:21.000000000', 'files': ['neutron/objects/subnet.py', 'neutron/tests/unit/objects/test_subnet.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3eed8f91941ad98953181aa32a2e44f0e41356fb', 'message': 'Optimize queries for port operations\n\nPort create/update are most time-consuming operations\non subnet creation. As example, in those cases where\nseveral subnets are created over the same network the\nresponse time for those port operations is linearly\nincreased as the total subnets increases.\n\nThis patch improves the number of queries required on port\noperations in order to reduce the response time.\n\nCloses-Bug: #1977831\nChange-Id: I0fccf36a2035e8f6c2fa8dab0307358da600c8f7\n(cherry picked from commit c25097b0b0da2af9021699036a69cd10e66533b1)\n'}]",9,850735,3eed8f91941ad98953181aa32a2e44f0e41356fb,23,3,1,34451,,,0,"Optimize queries for port operations

Port create/update are most time-consuming operations
on subnet creation. As example, in those cases where
several subnets are created over the same network the
response time for those port operations is linearly
increased as the total subnets increases.

This patch improves the number of queries required on port
operations in order to reduce the response time.

Closes-Bug: #1977831
Change-Id: I0fccf36a2035e8f6c2fa8dab0307358da600c8f7
(cherry picked from commit c25097b0b0da2af9021699036a69cd10e66533b1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/850735/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/subnet.py', 'neutron/tests/unit/objects/test_subnet.py']",2,3eed8f91941ad98953181aa32a2e44f0e41356fb,," def test_find_candidate_subnets(self): network = self._create_test_network() subnet_data = dict(self.obj_fields[0]) subnet_data['network_id'] = network['id'] subnet_net = self._make_object(subnet_data) subnet2_data = dict(self.obj_fields[0]) subnet2_data['id'] = uuidutils.generate_uuid() subnet2_data['network_id'] = network['id'] subnet2_net = self._make_object(subnet2_data) subnet_net.create() subnet2_net.create() fixed_ips = [ {'subnet_id': subnet_data['id'], 'ip_address': '10.0.0.2'}, {'subnet_id': subnet2_data['id'], 'ip_address': '10.0.1.2'}] candidate_subnet = subnet.Subnet.find_candidate_subnets( self.context, network['id'], None, None, True, fixed_ips) self.assertEqual(2, len(candidate_subnet)) self.assertNotEqual( candidate_subnet[0]['id'], candidate_subnet[1]['id'])",,28,3
openstack%2Fopenstack-helm~master~I53f1a9cd8c24939cf73729c5c2a8bb674403fdd6,openstack/openstack-helm,master,I53f1a9cd8c24939cf73729c5c2a8bb674403fdd6,Disable Xena and Yoga jobs temporarily,MERGED,2022-07-26 20:05:54.000000000,2022-07-29 18:07:11.000000000,2022-07-29 18:05:12.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 28701}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-07-26 20:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/52e4e905df1ece6b01e5b4b99b4079f7c843dc46', 'message': 'Comment out xena compute kit job temporarily\n\nThe xena compute-kit job has been inconsistent with passing lately,\nwhich results in frequent rechecks and wasted time. This change\ndisables the job for now while we invesigate the root cause for\nthe inconsistent failures.\n\nChange-Id: I53f1a9cd8c24939cf73729c5c2a8bb674403fdd6\n'}, {'number': 2, 'created': '2022-07-28 22:37:41.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0af17cfa2b014463268e90f09eaa0297e670e81e', 'message': 'Disable Xena and Yoga jobs temporarily\n\nThe Xena and Yoga jobs have been unstable lately, the compute-kit\njob does not run reliable in Zuul. While we diagnose and fix the\nissue, this change comments out both X & Y release jobs to reduce\nthe number of blocked developers and wasted rechecks.\n\nChange-Id: I53f1a9cd8c24939cf73729c5c2a8bb674403fdd6\n'}]",0,851090,0af17cfa2b014463268e90f09eaa0297e670e81e,13,4,2,21420,,,0,"Disable Xena and Yoga jobs temporarily

The Xena and Yoga jobs have been unstable lately, the compute-kit
job does not run reliable in Zuul. While we diagnose and fix the
issue, this change comments out both X & Y release jobs to reduce
the number of blocked developers and wasted rechecks.

Change-Id: I53f1a9cd8c24939cf73729c5c2a8bb674403fdd6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/90/851090/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,52e4e905df1ece6b01e5b4b99b4079f7c843dc46,xena-yoga-jobs, # - openstack-helm-compute-kit-xena-ubuntu_focal, - openstack-helm-compute-kit-xena-ubuntu_focal,1,1
openstack%2Freleases~master~Ia479a56af1e47da76f2bb92ce4bb245e9db4a316,openstack/releases,master,Ia479a56af1e47da76f2bb92ce4bb245e9db4a316,[vitrage] Transition Pike to End of Life,MERGED,2022-07-29 16:05:18.000000000,2022-07-29 17:59:04.000000000,2022-07-29 17:59:04.000000000,"[{'_account_id': 17685}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 16:05:18.000000000', 'files': ['deliverables/pike/vitrage.yaml', 'deliverables/pike/python-vitrageclient.yaml', 'deliverables/pike/vitrage-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/336339abe32571aea8d1489b59e09b3d8773ab4d', 'message': ""[vitrage] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ia479a56af1e47da76f2bb92ce4bb245e9db4a316\n""}]",1,851590,336339abe32571aea8d1489b59e09b3d8773ab4d,9,4,1,17685,,,0,"[vitrage] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ia479a56af1e47da76f2bb92ce4bb245e9db4a316
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/851590/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/vitrage.yaml', 'deliverables/pike/python-vitrageclient.yaml', 'deliverables/pike/vitrage-dashboard.yaml']",3,336339abe32571aea8d1489b59e09b3d8773ab4d,pike-eol, - version: pike-eol projects: - repo: openstack/vitrage-dashboard hash: e899b717ac5665987da70bc69512d1fa06a0e81f,,12,0
openstack%2Fkeystone~master~Iabc8cd0746871ea6ab81af9d3f0149644a489f3d,openstack/keystone,master,Iabc8cd0746871ea6ab81af9d3f0149644a489f3d,docs: Update docs to reflect migration to Alembic,MERGED,2022-02-11 17:10:09.000000000,2022-07-29 17:56:57.000000000,2022-07-29 17:54:10.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-11 17:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6a90046e144cd1c9509d161c36bbc82e18bb99f3', 'message': 'docs: Update docs to reflect migration to Alembic\n\nChange-Id: Iabc8cd0746871ea6ab81af9d3f0149644a489f3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-06-17 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1cdc943c1e44cd990baa6e40699af81bc70d086d', 'message': 'docs: Update docs to reflect migration to Alembic\n\nChange-Id: Iabc8cd0746871ea6ab81af9d3f0149644a489f3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-06-20 12:30:09.000000000', 'files': ['doc/source/admin/upgrading.rst', 'doc/source/admin/credential-encryption.rst', 'doc/source/contributor/database-migrations.rst', 'doc/source/contributor/programming-exercises.rst', 'doc/source/contributor/testing-keystone.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d88439c6a908408534d751d6d9dd167ec03a8bef', 'message': 'docs: Update docs to reflect migration to Alembic\n\nChange-Id: Iabc8cd0746871ea6ab81af9d3f0149644a489f3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,828905,d88439c6a908408534d751d6d9dd167ec03a8bef,16,6,3,15334,,,0,"docs: Update docs to reflect migration to Alembic

Change-Id: Iabc8cd0746871ea6ab81af9d3f0149644a489f3d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/05/828905/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/upgrading.rst', 'doc/source/admin/credential-encryption.rst', 'doc/source/contributor/database-migrations.rst', 'doc/source/contributor/programming-exercises.rst', 'doc/source/contributor/testing-keystone.rst']",5,6a90046e144cd1c9509d161c36bbc82e18bb99f3,bp/remove-sqlalchemy-migrate,Tests for database migrations can be found in ``keystone/tests/unit/test_sql_upgrade.py`` and ``keystone/tests/unit/test_sql_banned_operations.py``.,".. note:: The framework being used is currently being migrated from SQLAlchemy-Migrate to Alembic, meaning this information will change in the near-term. The application of schema migrations can be tested using SQLAlchemy Migrate's built-in test runner, one migration at a time. .. WARNING:: This may leave your database in an inconsistent state; attempt this in non-production environments only! This is useful for testing the *next* migration in sequence in a database under version control: .. code-block:: bash $ python keystone/common/sql/legacy_migrations/expand_repo/manage.py test \ --url=sqlite:///test.db \ --repository=keystone/common/sql/legacy_migrations/expand_repo/ This command references to a SQLite database (test.db) to be used. Depending on the migration, this command alone does not make assertions as to the integrity of your data during migration.",58,129
openstack%2Freleases~master~I19ca4446042cae5179c545ab6d6de395da804d8e,openstack/releases,master,I19ca4446042cae5179c545ab6d6de395da804d8e,[OpenStackSDK] Transition Pike to End of Life,MERGED,2022-07-29 16:01:42.000000000,2022-07-29 17:56:28.000000000,2022-07-29 17:56:28.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-29 16:01:42.000000000', 'files': ['deliverables/pike/shade.yaml', 'deliverables/pike/requestsexceptions.yaml', 'deliverables/pike/os-client-config.yaml', 'deliverables/pike/cliff.yaml', 'deliverables/pike/osc-lib.yaml', 'deliverables/pike/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8dbc886084c37118dbad16041c1b986f26f81972', 'message': ""[OpenStackSDK] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I19ca4446042cae5179c545ab6d6de395da804d8e\n""}]",1,851580,8dbc886084c37118dbad16041c1b986f26f81972,9,4,1,17685,,,0,"[OpenStackSDK] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I19ca4446042cae5179c545ab6d6de395da804d8e
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/851580/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/shade.yaml', 'deliverables/pike/requestsexceptions.yaml', 'deliverables/pike/os-client-config.yaml', 'deliverables/pike/cliff.yaml', 'deliverables/pike/osc-lib.yaml', 'deliverables/pike/python-openstackclient.yaml']",6,8dbc886084c37118dbad16041c1b986f26f81972,pike-eol, - version: pike-eol projects: - repo: openstack/python-openstackclient hash: 9798e0516dbcd3d37f18e8baab072fdb52bacca1,,24,0
openstack%2Fkeystone~master~Ia376cb87f5159a4e79e2cfbab8442b6bcead708f,openstack/keystone,master,Ia376cb87f5159a4e79e2cfbab8442b6bcead708f,sql: Integrate alembic,MERGED,2022-01-21 17:46:19.000000000,2022-07-29 17:55:58.000000000,2022-07-29 17:54:06.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 11816}, {'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 17:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/28bb18f5b80ed117645cee800fa4ac74f421ae3d', 'message': 'WIP: sql: Integrate alembic\n\nSwitch to alembic for real by integrating it into the \'db sync\' command\nflow. From a user-facing perspective, things should remain pretty much\nthe same as before, with the key difference being that version\ninformation (i.e. what\'s shown by \'keystone-manage db_sync --check\' or\n\'keystone-manage db_version\') will now take the form of a hash rather\nthan an integer. There are a few differences for contributors however.\nThe changes are described in the included release note and\ndocumentation.\n\nNote that there are a couple of important design decisions here that are\nworth examining:\n\n- We drop the idea of the \'data_migration\' branch entirely and the\n  \'keystone-manage db_sync --migrate\' command is now a no-op. Neutron\n  doesn\'t do data migrations like we do and yet they manage just fine.\n  Dropping this gets us closer to neutron\'s behavior, which is a good\n  thing for users.\n\n- We haven\'t re-added the ability to specify a version when doing\n  \'db_sync\'. Neutron has this, but the logic needed to get this working\n  is complex and of questionable value. We\'ve managed without the\n  ability to sync to a version since Newton and can continue to do so\n  until someone asks for it (and does the work).\n\n- sqlalchemy-migrate is not removed entirely. Instead, upon doing a\n  \'db_sync\' we will apply all sqlalchemy-migrate migrations up to the\n  final \'079_expand_update_local_id_limit\' migration and dummy apply the\n  initial alembic migration, after which we will switch over to alembic.\n  In a future release we can remove the sqlalchemy-migrate migrations\n  and rely entirely on alembic. Until then, keeping this allows fast\n  forward upgrades to continue as a thing.\n\n- Related to the above, we always apply *all* sqlalchemy-migrate\n  migrations when calling \'db_sync\', even if this command is called with\n  e.g. \'--expand\' (meaning only apply the expand branch). This is\n  because there is at most one ""real"" migration to apply, the Xena-era\n  \'079_expand_update_local_id_limit\' migration, which is an expand-only\n  migration. There is no risk to applying the empty ""data_migration"" and\n  ""contract"" parts of this migration, and applying everything in one go\n  results in *much* simpler logic.\n\nTODO:\n\n- Verify session management. Do tests properly used a test transaction\n  manager?\n- Fix/expand tests\n- Update documentation\n- Enable auto-generation (as a separate patch?)\n- Add developer tooling for generating scripts (as a separate patch?)\n  like \'neutron-db-manage revision\'\n\nChange-Id: Ia376cb87f5159a4e79e2cfbab8442b6bcead708f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-24 18:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/22e8f1df2b7e66ccf9af4e01ae44139a8090562a', 'message': 'WIP: sql: Integrate alembic\n\nSwitch to alembic for real by integrating it into the \'db sync\' command\nflow. From a user-facing perspective, things should remain pretty much\nthe same as before, with the key difference being that version\ninformation (i.e. what\'s shown by \'keystone-manage db_sync --check\' or\n\'keystone-manage db_version\') will now take the form of a hash rather\nthan an integer. There are a few differences for contributors however.\nThe changes are described in the included release note and\ndocumentation.\n\nNote that there are a couple of important design decisions here that are\nworth examining:\n\n- We drop the idea of the \'data_migration\' branch entirely and the\n  \'keystone-manage db_sync --migrate\' command is now a no-op. Neutron\n  doesn\'t do data migrations like we do and yet they manage just fine.\n  Dropping this gets us closer to neutron\'s behavior, which is a good\n  thing for users.\n\n- We haven\'t re-added the ability to specify a version when doing\n  \'db_sync\'. Neutron has this, but the logic needed to get this working\n  is complex and of questionable value. We\'ve managed without the\n  ability to sync to a version since Newton and can continue to do so\n  until someone asks for it (and does the work).\n\n- sqlalchemy-migrate is not removed entirely. Instead, upon doing a\n  \'db_sync\' we will apply all sqlalchemy-migrate migrations up to the\n  final \'079_expand_update_local_id_limit\' migration and dummy apply the\n  initial alembic migration, after which we will switch over to alembic.\n  In a future release we can remove the sqlalchemy-migrate migrations\n  and rely entirely on alembic. Until then, keeping this allows fast\n  forward upgrades to continue as a thing.\n\n- Related to the above, we always apply *all* sqlalchemy-migrate\n  migrations when calling \'db_sync\', even if this command is called with\n  e.g. \'--expand\' (meaning only apply the expand branch). This is\n  because there is at most one ""real"" migration to apply, the Xena-era\n  \'079_expand_update_local_id_limit\' migration, which is an expand-only\n  migration. There is no risk to applying the empty ""data_migration"" and\n  ""contract"" parts of this migration, and applying everything in one go\n  results in *much* simpler logic.\n\nTODO:\n\n- Verify session management. Do tests properly used a test transaction\n  manager?\n- Fix/expand tests\n- Update documentation\n- Enable auto-generation (as a separate patch?)\n- Add developer tooling for generating scripts (as a separate patch?)\n  like \'neutron-db-manage revision\'\n\nChange-Id: Ia376cb87f5159a4e79e2cfbab8442b6bcead708f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-02-04 19:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b9f0b37ca916b8bdae631ef3db75bcb37bb97e1d', 'message': 'WIP: sql: Integrate alembic\n\nSwitch to alembic for real by integrating it into the \'db sync\' command\nflow. From a user-facing perspective, things should remain pretty much\nthe same as before, with the key difference being that version\ninformation (i.e. what\'s shown by \'keystone-manage db_sync --check\' or\n\'keystone-manage db_version\') will now take the form of a hash rather\nthan an integer. There are a few differences for contributors however.\nThe changes are described in the included release note and\ndocumentation.\n\nNote that there are a couple of important design decisions here that are\nworth examining:\n\n- We drop the idea of the \'data_migration\' branch entirely and the\n  \'keystone-manage db_sync --migrate\' command is now a no-op. Neutron\n  doesn\'t do data migrations like we do and yet they manage just fine.\n  Dropping this gets us closer to neutron\'s behavior, which is a good\n  thing for users.\n\n- We haven\'t re-added the ability to specify a version when doing\n  \'db_sync\'. Neutron has this, but the logic needed to get this working\n  is complex and of questionable value. We\'ve managed without the\n  ability to sync to a version since Newton and can continue to do so\n  until someone asks for it (and does the work).\n\n- sqlalchemy-migrate is not removed entirely. Instead, upon doing a\n  \'db_sync\' we will apply all sqlalchemy-migrate migrations up to the\n  final \'079_expand_update_local_id_limit\' migration and dummy apply the\n  initial alembic migration, after which we will switch over to alembic.\n  In a future release we can remove the sqlalchemy-migrate migrations\n  and rely entirely on alembic. Until then, keeping this allows fast\n  forward upgrades to continue as a thing.\n\n- Related to the above, we always apply *all* sqlalchemy-migrate\n  migrations when calling \'db_sync\', even if this command is called with\n  e.g. \'--expand\' (meaning only apply the expand branch). This is\n  because there is at most one ""real"" migration to apply, the Xena-era\n  \'079_expand_update_local_id_limit\' migration, which is an expand-only\n  migration. There is no risk to applying the empty ""data_migration"" and\n  ""contract"" parts of this migration, and applying everything in one go\n  results in *much* simpler logic.\n\nTODO:\n\n- Finish test rework\n- Update documentation\n- Enable auto-generation (as a separate patch?)\n- Add developer tooling for generating scripts (as a separate patch?)\n  like \'neutron-db-manage revision\'\n\nChange-Id: Ia376cb87f5159a4e79e2cfbab8442b6bcead708f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-02-10 17:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e56c0a17b69b1675c8d02d96d9452f6c76f9370a', 'message': 'WIP: sql: Integrate alembic\n\nSwitch to alembic for real by integrating it into the \'db sync\' command\nflow. From a user-facing perspective, things should remain pretty much\nthe same as before, with the key difference being that version\ninformation (i.e. what\'s shown by \'keystone-manage db_sync --check\' or\n\'keystone-manage db_version\') will now take the form of a hash rather\nthan an integer. There are a few differences for contributors however.\nThe changes are described in the included release note and\ndocumentation.\n\nNote that there are a couple of important design decisions here that are\nworth examining:\n\n- We drop the idea of the \'data_migration\' branch entirely and the\n  \'keystone-manage db_sync --migrate\' command is now a no-op. Neutron\n  doesn\'t do data migrations like we do and yet they manage just fine.\n  Dropping this gets us closer to neutron\'s behavior, which is a good\n  thing for users.\n\n- We haven\'t re-added the ability to specify a version when doing\n  \'db_sync\'. Neutron has this, but the logic needed to get this working\n  is complex and of questionable value. We\'ve managed without the\n  ability to sync to a version since Newton and can continue to do so\n  until someone asks for it (and does the work).\n\n- sqlalchemy-migrate is not removed entirely. Instead, upon doing a\n  \'db_sync\' we will apply all sqlalchemy-migrate migrations up to the\n  final \'079_expand_update_local_id_limit\' migration and dummy apply the\n  initial alembic migration, after which we will switch over to alembic.\n  In a future release we can remove the sqlalchemy-migrate migrations\n  and rely entirely on alembic. Until then, keeping this allows fast\n  forward upgrades to continue as a thing.\n\n- Related to the above, we always apply *all* sqlalchemy-migrate\n  migrations when calling \'db_sync\', even if this command is called with\n  e.g. \'--expand\' (meaning only apply the expand branch). This is\n  because there is at most one ""real"" migration to apply, the Xena-era\n  \'079_expand_update_local_id_limit\' migration, which is an expand-only\n  migration. There is no risk to applying the empty ""data_migration"" and\n  ""contract"" parts of this migration, and applying everything in one go\n  results in *much* simpler logic.\n\nTODO:\n\n- Update documentation\n- Enable auto-generation (as a separate patch?)\n- Add developer tooling for generating scripts (as a separate patch?)\n  like \'neutron-db-manage revision\'\n\nChange-Id: Ia376cb87f5159a4e79e2cfbab8442b6bcead708f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2022-02-11 17:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7df6b705f91ed1b524b3fa61ac1475b5f114e0d5', 'message': 'sql: Integrate alembic\n\nSwitch to alembic for real by integrating it into the \'db sync\' command\nflow. From a user-facing perspective, things should remain pretty much\nthe same as before, with the key difference being that version\ninformation (i.e. what\'s shown by \'keystone-manage db_sync --check\' or\n\'keystone-manage db_version\') will now take the form of a hash rather\nthan an integer. There are a few differences for contributors however.\nThe changes are described in the included release note and\ndocumentation.\n\nNote that there are a couple of important design decisions here that are\nworth examining:\n\n- We drop the idea of the \'data_migration\' branch entirely and the\n  \'keystone-manage db_sync --migrate\' command is now a no-op. Neutron\n  doesn\'t do data migrations like we do and yet they manage just fine.\n  Dropping this gets us closer to neutron\'s behavior, which is a good\n  thing for users.\n\n- We haven\'t re-added the ability to specify a version when doing\n  \'db_sync\'. Neutron has this, but the logic needed to get this working\n  is complex and of questionable value. We\'ve managed without the\n  ability to sync to a version since Newton and can continue to do so\n  until someone asks for it (and does the work).\n\n- sqlalchemy-migrate is not removed entirely. Instead, upon doing a\n  \'db_sync\' we will apply all sqlalchemy-migrate migrations up to the\n  final \'079_expand_update_local_id_limit\' migration and dummy apply the\n  initial alembic migration, after which we will switch over to alembic.\n  In a future release we can remove the sqlalchemy-migrate migrations\n  and rely entirely on alembic. Until then, keeping this allows fast\n  forward upgrades to continue as a thing.\n\n- Related to the above, we always apply *all* sqlalchemy-migrate\n  migrations when calling \'db_sync\', even if this command is called with\n  e.g. \'--expand\' (meaning only apply the expand branch). This is\n  because there is at most one ""real"" migration to apply, the Xena-era\n  \'079_expand_update_local_id_limit\' migration, which is an expand-only\n  migration. There is no risk to applying the empty ""data_migration"" and\n  ""contract"" parts of this migration, and applying everything in one go\n  results in *much* simpler logic.\n\nFuture changes will update documentation and add developer tooling for\n(auto-)generating new migrations, a la \'neutron-db-manage revision\'.\n\nChange-Id: Ia376cb87f5159a4e79e2cfbab8442b6bcead708f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2022-06-17 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0d757c924ec60015f02f4bc585c9b22208bdff1b', 'message': 'sql: Integrate alembic\n\nSwitch to alembic for real by integrating it into the \'db sync\' command\nflow. From a user-facing perspective, things should remain pretty much\nthe same as before, with the key difference being that version\ninformation (i.e. what\'s shown by \'keystone-manage db_sync --check\' or\n\'keystone-manage db_version\') will now take the form of a hash rather\nthan an integer. There are a few differences for contributors however.\nThe changes are described in the included release note and\ndocumentation.\n\nNote that there are a couple of important design decisions here that are\nworth examining:\n\n- We drop the idea of the \'data_migration\' branch entirely and the\n  \'keystone-manage db_sync --migrate\' command is now a no-op. Neutron\n  doesn\'t do data migrations like we do and yet they manage just fine.\n  Dropping this gets us closer to neutron\'s behavior, which is a good\n  thing for users.\n\n- We haven\'t re-added the ability to specify a version when doing\n  \'db_sync\'. Neutron has this, but the logic needed to get this working\n  is complex and of questionable value. We\'ve managed without the\n  ability to sync to a version since Newton and can continue to do so\n  until someone asks for it (and does the work).\n\n- sqlalchemy-migrate is not removed entirely. Instead, upon doing a\n  \'db_sync\' we will apply all sqlalchemy-migrate migrations up to the\n  final \'079_expand_update_local_id_limit\' migration and dummy apply the\n  initial alembic migration, after which we will switch over to alembic.\n  In a future release we can remove the sqlalchemy-migrate migrations\n  and rely entirely on alembic. Until then, keeping this allows fast\n  forward upgrades to continue as a thing.\n\n- Related to the above, we always apply *all* sqlalchemy-migrate\n  migrations when calling \'db_sync\', even if this command is called with\n  e.g. \'--expand\' (meaning only apply the expand branch). This is\n  because there is at most one ""real"" migration to apply, the Xena-era\n  \'079_expand_update_local_id_limit\' migration, which is an expand-only\n  migration. There is no risk to applying the empty ""data_migration"" and\n  ""contract"" parts of this migration, and applying everything in one go\n  results in *much* simpler logic.\n\nFuture changes will update documentation and add developer tooling for\n(auto-)generating new migrations, a la \'neutron-db-manage revision\'.\n\nChange-Id: Ia376cb87f5159a4e79e2cfbab8442b6bcead708f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 7, 'created': '2022-06-17 18:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/25e57f98443bcc0d3384543041f0c479a39a122c', 'message': 'sql: Integrate alembic\n\nSwitch to alembic for real by integrating it into the \'db sync\' command\nflow. From a user-facing perspective, things should remain pretty much\nthe same as before, with the key difference being that version\ninformation (i.e. what\'s shown by \'keystone-manage db_sync --check\' or\n\'keystone-manage db_version\') will now take the form of a hash rather\nthan an integer. There are a few differences for contributors however.\nThe changes are described in the included release note and\ndocumentation.\n\nNote that there are a couple of important design decisions here that are\nworth examining:\n\n- We drop the idea of the \'data_migration\' branch entirely and the\n  \'keystone-manage db_sync --migrate\' command is now a no-op. Neutron\n  doesn\'t do data migrations like we do and yet they manage just fine.\n  Dropping this gets us closer to neutron\'s behavior, which is a good\n  thing for users.\n\n- We haven\'t re-added the ability to specify a version when doing\n  \'db_sync\'. Neutron has this, but the logic needed to get this working\n  is complex and of questionable value. We\'ve managed without the\n  ability to sync to a version since Newton and can continue to do so\n  until someone asks for it (and does the work).\n\n- sqlalchemy-migrate is not removed entirely. Instead, upon doing a\n  \'db_sync\' we will apply all sqlalchemy-migrate migrations up to the\n  final \'079_expand_update_local_id_limit\' migration and dummy apply the\n  initial alembic migration, after which we will switch over to alembic.\n  In a future release we can remove the sqlalchemy-migrate migrations\n  and rely entirely on alembic. Until then, keeping this allows fast\n  forward upgrades to continue as a thing.\n\n- Related to the above, we always apply *all* sqlalchemy-migrate\n  migrations when calling \'db_sync\', even if this command is called with\n  e.g. \'--expand\' (meaning only apply the expand branch). This is\n  because there is at most one ""real"" migration to apply, the Xena-era\n  \'079_expand_update_local_id_limit\' migration, which is an expand-only\n  migration. There is no risk to applying the empty ""data_migration"" and\n  ""contract"" parts of this migration, and applying everything in one go\n  results in *much* simpler logic.\n\nFuture changes will update documentation and add developer tooling for\n(auto-)generating new migrations, a la \'neutron-db-manage revision\'.\n\nChange-Id: Ia376cb87f5159a4e79e2cfbab8442b6bcead708f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 8, 'created': '2022-06-20 12:30:09.000000000', 'files': ['keystone/common/sql/migrations/env.py', 'releasenotes/notes/switch-to-alembic-1fa5248f0ce824ae.yaml', 'keystone/cmd/cli.py', 'keystone/tests/unit/common/sql/__init__.py', 'keystone/tests/unit/common/sql/test_upgrades.py', 'keystone/common/sql/upgrades.py', 'keystone/tests/unit/test_sql_banned_operations.py', 'keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f174b4fa7c4fb010bbacc8c5a5f3625a8fcb41f3', 'message': 'sql: Integrate alembic\n\nSwitch to alembic for real by integrating it into the \'db sync\' command\nflow. From a user-facing perspective, things should remain pretty much\nthe same as before, with the key difference being that version\ninformation (i.e. what\'s shown by \'keystone-manage db_sync --check\' or\n\'keystone-manage db_version\') will now take the form of a hash rather\nthan an integer. There are a few differences for contributors however.\nThe changes are described in the included release note and\ndocumentation.\n\nNote that there are a couple of important design decisions here that are\nworth examining:\n\n- We drop the idea of the \'data_migration\' branch entirely and the\n  \'keystone-manage db_sync --migrate\' command is now a no-op. Neutron\n  doesn\'t do data migrations like we do and yet they manage just fine.\n  Dropping this gets us closer to neutron\'s behavior, which is a good\n  thing for users.\n\n- We haven\'t re-added the ability to specify a version when doing\n  \'db_sync\'. Neutron has this, but the logic needed to get this working\n  is complex and of questionable value. We\'ve managed without the\n  ability to sync to a version since Newton and can continue to do so\n  until someone asks for it (and does the work).\n\n- sqlalchemy-migrate is not removed entirely. Instead, upon doing a\n  \'db_sync\' we will apply all sqlalchemy-migrate migrations up to the\n  final \'079_expand_update_local_id_limit\' migration and dummy apply the\n  initial alembic migration, after which we will switch over to alembic.\n  In a future release we can remove the sqlalchemy-migrate migrations\n  and rely entirely on alembic. Until then, keeping this allows fast\n  forward upgrades to continue as a thing.\n\n- Related to the above, we always apply *all* sqlalchemy-migrate\n  migrations when calling \'db_sync\', even if this command is called with\n  e.g. \'--expand\' (meaning only apply the expand branch). This is\n  because there is at most one ""real"" migration to apply, the Xena-era\n  \'079_expand_update_local_id_limit\' migration, which is an expand-only\n  migration. There is no risk to applying the empty ""data_migration"" and\n  ""contract"" parts of this migration, and applying everything in one go\n  results in *much* simpler logic.\n\nFuture changes will update documentation and add developer tooling for\n(auto-)generating new migrations, a la \'neutron-db-manage revision\'.\n\nChange-Id: Ia376cb87f5159a4e79e2cfbab8442b6bcead708f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",15,825844,f174b4fa7c4fb010bbacc8c5a5f3625a8fcb41f3,42,7,8,15334,,,0,"sql: Integrate alembic

Switch to alembic for real by integrating it into the 'db sync' command
flow. From a user-facing perspective, things should remain pretty much
the same as before, with the key difference being that version
information (i.e. what's shown by 'keystone-manage db_sync --check' or
'keystone-manage db_version') will now take the form of a hash rather
than an integer. There are a few differences for contributors however.
The changes are described in the included release note and
documentation.

Note that there are a couple of important design decisions here that are
worth examining:

- We drop the idea of the 'data_migration' branch entirely and the
  'keystone-manage db_sync --migrate' command is now a no-op. Neutron
  doesn't do data migrations like we do and yet they manage just fine.
  Dropping this gets us closer to neutron's behavior, which is a good
  thing for users.

- We haven't re-added the ability to specify a version when doing
  'db_sync'. Neutron has this, but the logic needed to get this working
  is complex and of questionable value. We've managed without the
  ability to sync to a version since Newton and can continue to do so
  until someone asks for it (and does the work).

- sqlalchemy-migrate is not removed entirely. Instead, upon doing a
  'db_sync' we will apply all sqlalchemy-migrate migrations up to the
  final '079_expand_update_local_id_limit' migration and dummy apply the
  initial alembic migration, after which we will switch over to alembic.
  In a future release we can remove the sqlalchemy-migrate migrations
  and rely entirely on alembic. Until then, keeping this allows fast
  forward upgrades to continue as a thing.

- Related to the above, we always apply *all* sqlalchemy-migrate
  migrations when calling 'db_sync', even if this command is called with
  e.g. '--expand' (meaning only apply the expand branch). This is
  because there is at most one ""real"" migration to apply, the Xena-era
  '079_expand_update_local_id_limit' migration, which is an expand-only
  migration. There is no risk to applying the empty ""data_migration"" and
  ""contract"" parts of this migration, and applying everything in one go
  results in *much* simpler logic.

Future changes will update documentation and add developer tooling for
(auto-)generating new migrations, a la 'neutron-db-manage revision'.

Change-Id: Ia376cb87f5159a4e79e2cfbab8442b6bcead708f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/44/825844/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/switch-to-alembic-1fa5248f0ce824ae.yaml', 'keystone/cmd/cli.py', 'keystone/common/sql/upgrades.py']",3,28bb18f5b80ed117645cee800fa4ac74f421ae3d,bp/remove-sqlalchemy-migrate,"from alembic import command as alembic_api from alembic import config as alembic_config from alembic import migration as alembic_migration from alembic import script as alembic_scriptfrom oslo_log import log as loggingimport keystone.conf CONF = keystone.conf.CONF LOG = logging.getLogger(__name__) ALEMBIC_INIT_VERSION = '27e647c0fad4' EXPAND_BRANCH = 'expand' DATA_MIGRATION_BRANCH = 'data_migration' CONTRACT_BRANCH = 'contract' RELEASES = ( 'yoga', ) MIGRATION_BRANCHES = (EXPAND_BRANCH, CONTRACT_BRANCH) VERSIONS_PATH = os.path.join( os.path.dirname(sql.__file__), 'migrations', 'versions', ) def _find_migrate_repo(branch): """"""Get the project's change script repository :param branch: Name of the repository ""branch"" to be used; this will be transformed to repository path. :returns: An instance of ``migrate.versioning.repository.Repository`` """"""def _find_alembic_conf(): """"""Get the project's alembic configuration :returns: An instance of ``alembic.config.Config`` path = os.path.join( os.path.abspath(os.path.dirname(__file__)), 'alembic.ini', config = alembic_config.Config(os.path.abspath(path)) config.set_main_option('sqlalchemy.url', CONF.database.connection) # we don't want to use the logger configuration from the file, which is # only really intended for the CLI # https://stackoverflow.com/a/42691781/613428 config.attributes['configure_logger'] = False # we want to scan all the versioned subdirectories version_paths = [VERSIONS_PATH] for release in RELEASES: for branch in MIGRATION_BRANCHES: version_path = os.path.join(VERSIONS_PATH, release, branch) version_paths.append(version_path) config.set_main_option('version_locations', ' '.join(version_paths)) return config def _get_current_heads(engine, config): """"""TODO."""""" script = alembic_script.ScriptDirectory.from_config(config) with engine.connect() as conn: context = alembic_migration.MigrationContext.configure(conn) heads = context.get_current_heads() heads_map = {} for head in heads: if CONTRACT_BRANCH in script.get_revision(head).branch_labels: heads_map[CONTRACT_BRANCH] = head else: heads_map[EXPAND_BRANCH] = head return heads_map def get_current_heads(): config = _find_alembic_conf() with sql.session_for_read() as session: engine = session.get_bind() # discard the URL encoded in alembic.ini in favour of the URL # configured for the engine by the database fixtures, casting from # 'sqlalchemy.engine.url.URL' to str in the process. This returns a # RFC-1738 quoted URL, which means that a password like ""foo@"" will be # turned into ""foo%40"". This in turns causes a problem for # set_main_option() because that uses ConfigParser.set, which (by # design) uses *python* interpolation to write the string out ... where # ""%"" is the special python interpolation character! Avoid this # mismatch by quoting all %'s for the set below. engine_url = str(engine.url).replace('%', '%%') config.set_main_option('sqlalchemy.url', str(engine_url)) heads = _get_current_heads(engine, config) return heads def _is_database_under_migrate_control(engine): # if any of the repos is present, they're all present (in theory, at least) repository = _find_migrate_repo('expand') try: migrate_api.db_version(engine, repository) return True except migrate_exceptions.DatabaseNotControlledError: return False def _is_database_under_alembic_control(engine): with engine.connect() as conn: context = alembic_migration.MigrationContext.configure(conn) return bool(context.get_current_heads()) def _init_alembic_on_legacy_database(engine, config): """"""Init alembic in an existing environment with sqlalchemy-migrate."""""" LOG.info( 'The database is still under sqlalchemy-migrate control; ' 'applying any remaining sqlalchemy-migrate-based migrations ' 'and fake applying the initial alembic migration' ) # bring all repos up to date; note that we're relying on the fact that # there aren't any ""real"" contract migrations left (since the great squash # of migrations in yoga) so we're really only applying the expand side of # '079_expand_update_local_id_limit' and the rest are for completeness' # sake for branch in (EXPAND_BRANCH, DATA_MIGRATION_BRANCH, CONTRACT_BRANCH): repository = _find_migrate_repo(branch or 'expand') migrate_api.upgrade(engine, repository) # re-use the connection rather than creating a new one with engine.begin() as connection: config.attributes['connection'] = connection alembic_api.stamp(config, ALEMBIC_INIT_VERSION) def _upgrade_alembic(engine, config, branch): # re-use the connection rather than creating a new one revision = 'heads' if branch: revision = f'{branch}@head' with engine.begin() as connection: config.attributes['connection'] = connection alembic_api.upgrade(config, revision) config = _find_alembic_conf() with sql.session_for_read() as session: engine = session.get_bind() # discard the URL encoded in alembic.ini in favour of the URL # configured for the engine by the database fixtures, casting from # 'sqlalchemy.engine.url.URL' to str in the process. This returns a # RFC-1738 quoted URL, which means that a password like ""foo@"" will be # turned into ""foo%40"". This in turns causes a problem for # set_main_option() because that uses ConfigParser.set, which (by # design) uses *python* interpolation to write the string out ... where # ""%"" is the special python interpolation character! Avoid this # mismatch by quoting all %'s for the set below. engine_url = str(engine.url).replace('%', '%%') config.set_main_option('sqlalchemy.url', str(engine_url)) migrate_version = None if _is_database_under_migrate_control(engine): repository = _find_migrate_repo(branch) migrate_version = migrate_api.db_version(engine, repository) alembic_version = None if _is_database_under_alembic_control(engine): alembic_version = _get_current_heads(engine, config)[branch] return alembic_version or migrate_version def _db_sync(branch=None): config = _find_alembic_conf() # discard the URL encoded in alembic.ini in favour of the URL # configured for the engine by the database fixtures, casting from # 'sqlalchemy.engine.url.URL' to str in the process. This returns a # RFC-1738 quoted URL, which means that a password like ""foo@"" will be # turned into ""foo%40"". This in turns causes a problem for # set_main_option() because that uses ConfigParser.set, which (by # design) uses *python* interpolation to write the string out ... where # ""%"" is the special python interpolation character! Avoid this # mismatch by quoting all %'s for the set below. engine_url = str(engine.url).replace('%', '%%') config.set_main_option('sqlalchemy.url', str(engine_url)) # if we're in a deployment where sqlalchemy-migrate is already present, # then apply all the updates for that and fake apply the initial # alembic migration; if we're not then 'upgrade' will take care of # everything this should be a one-time operation if ( not _is_database_under_alembic_control(engine) and _is_database_under_migrate_control(engine) ): _init_alembic_on_legacy_database(engine, config) _upgrade_alembic(engine, config, branch) def _validate_upgrade_order(branch): """"""Validate the upgrade order of the migration branches. expand steps have been run before the contract steps. :param branch: The name of the branch that the user is trying to upgrade. if branch == DATA_MIGRATION_BRANCH: # this is a no-op in alembic-land return config = _find_alembic_conf() script = alembic_script.ScriptDirectory.from_config(config) expand_head = None for head in script.get_heads(): if EXPAND_BRANCH in script.get_revision(head).branch_labels: expand_head = head break with sql.session_for_read() as session: engine = session.get_bind() with engine.connect() as conn: context = alembic_migration.MigrationContext.configure(conn) current_heads = context.get_current_heads() if expand_head not in current_heads: 'You are attempting to upgrade contract ahead of expand. ' 'Please refer to ' 'to see the proper steps for rolling upgrades.' ) print( 'Data migrations are no longer supported with alembic. ' 'This is now a no-op.' ) _db_sync()","import sqlalchemy as safrom keystone import exception from keystone.i18n import _ INITIAL_VERSION = 72 LATEST_VERSION = 79 EXPAND_BRANCH = 'expand_repo' DATA_MIGRATION_BRANCH = 'data_migration_repo' CONTRACT_BRANCH = 'contract_repo' def _get_migrate_repo_path(branch): if not os.path.isdir(abs_path): raise exception.MigrationNotProvided(sql.__name__, abs_path) return abs_path def _find_migrate_repo(abs_path): """"""Get the project's change script repository :param abs_path: Absolute path to migrate repository """"""def _migrate_db_version_control(engine, abs_path, version=None): """"""Mark a database as under this repository's version control. Once a database is under version control, schema changes should only be done via change scripts in this repository. :param engine: SQLAlchemy engine instance for a given database :param abs_path: Absolute path to migrate repository :param version: Initial database version repository = _find_migrate_repo(abs_path) try: migrate_api.version_control(engine, repository, version) except migrate_exceptions.InvalidVersionError as ex: raise db_exception.DBMigrationError(""Invalid version : %s"" % ex) except migrate_exceptions.DatabaseAlreadyControlledError: raise db_exception.DBMigrationError(""Database is already controlled."") return version def _migrate_db_version(engine, abs_path, init_version): """"""Show the current version of the repository. :param engine: SQLAlchemy engine instance for a given database :param abs_path: Absolute path to migrate repository :param init_version: Initial database version """""" repository = _find_migrate_repo(abs_path) try: return migrate_api.db_version(engine, repository) except migrate_exceptions.DatabaseNotControlledError: pass meta = sa.MetaData() meta.reflect(bind=engine) tables = meta.tables if ( len(tables) == 0 or 'alembic_version' in tables or 'migrate_version' in tables ): _migrate_db_version_control(engine, abs_path, version=init_version) return migrate_api.db_version(engine, repository) msg = _( ""The database is not under version control, but has tables. "" ""Please stamp the current version of the schema manually."" raise db_exception.DBMigrationError(msg) def _migrate_db_sync(engine, abs_path, version=None, init_version=0): """"""Upgrade or downgrade a database. Function runs the upgrade() or downgrade() functions in change scripts. :param engine: SQLAlchemy engine instance for a given database :param abs_path: Absolute path to migrate repository. :param version: Database will upgrade/downgrade until this version. If None - database will update to the latest available version. :param init_version: Initial database version """""" if version is not None: try: version = int(version) except ValueError: msg = _(""version should be an integer"") raise db_exception.DBMigrationError(msg) current_version = _migrate_db_version(engine, abs_path, init_version) repository = _find_migrate_repo(abs_path) if version is None or version > current_version: try: return migrate_api.upgrade(engine, repository, version) except Exception as ex: raise db_exception.DBMigrationError(ex) else: return migrate_api.downgrade(engine, repository, version) abs_path = _get_migrate_repo_path(branch) with sql.session_for_read() as session: return _migrate_db_version( session.get_bind(), abs_path, INITIAL_VERSION, ) def _db_sync(branch): abs_path = _get_migrate_repo_path(branch) _migrate_db_sync( engine=engine, abs_path=abs_path, init_version=INITIAL_VERSION, ) def _validate_upgrade_order(branch, target_repo_version=None): """"""Validate the state of the migration repositories. upgrade step and version specified by the operator remains consistent with the upgrade process. I.e. expand's version is greater or equal to migrate's, migrate's version is greater or equal to contract's. :param branch: The name of the repository that the user is trying to upgrade. :param target_repo_version: The version to upgrade the repo. Otherwise, the version will be upgraded to the latest version available. # Initialize a dict to have each key assigned a repo with their value being # the repo that comes before. db_sync_order = { DATA_MIGRATION_BRANCH: EXPAND_BRANCH, CONTRACT_BRANCH: DATA_MIGRATION_BRANCH, } # find the latest version that the current command will upgrade to if there # wasn't a version specified for upgrade. if not target_repo_version: abs_path = _get_migrate_repo_path(branch) repo = _find_migrate_repo(abs_path) target_repo_version = int(repo.latest) # get current version of the command that runs before the current command. dependency_repo_version = get_db_version(repo=db_sync_order[branch]) if dependency_repo_version < target_repo_version: 'You are attempting to upgrade %s ahead of %s. Please refer to ' 'to see the proper steps for rolling upgrades.' % ( branch, db_sync_order[branch])) _validate_upgrade_order(DATA_MIGRATION_BRANCH) _db_sync(branch=DATA_MIGRATION_BRANCH) expand_schema() migrate_data() contract_schema()",270,176
openstack%2Ftempest~master~I692402cf0d831c524ca5f49daf4aa9b0d19d41b5,openstack/tempest,master,I692402cf0d831c524ca5f49daf4aa9b0d19d41b5,Clean up scenario floating IP waiting,MERGED,2022-07-13 19:46:10.000000000,2022-07-29 17:55:09.000000000,2022-07-29 17:53:59.000000000,"[{'_account_id': 8313}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23266}, {'_account_id': 29759}, {'_account_id': 30674}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-07-13 19:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ecd7320cfa53b4baf649b6f48eda61f8ad2770cd', 'message': ""Clean up scenario floating IP waiting\n\nIn changes I0f7e1c9096dc1903903fb31c5e854f07800efbfd and\nI05e079237aec332925a88476e45071b34dc722c6 we started waiting for a\nfloating IP to appear in the Nova 'show server details' API before\ncontinuing with the test. This left some useless test code left over\nthat needlessly asserted that the floating IP was showing up (or had\ndisappeared, in the case of disassociation) from the Nova 'show server\ndetails' API after the waiter had already checked the same thing. This\npatch cleans this up.\n\nChange-Id: I692402cf0d831c524ca5f49daf4aa9b0d19d41b5\n""}, {'number': 2, 'created': '2022-07-27 18:52:30.000000000', 'files': ['tempest/scenario/test_minimum_basic.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e4ee76252fd3e81bd0b325543b20a4024f74f7b1', 'message': ""Clean up scenario floating IP waiting\n\nIn changes I0f7e1c9096dc1903903fb31c5e854f07800efbfd and\nI05e079237aec332925a88476e45071b34dc722c6 we started waiting for a\nfloating IP to appear in the Nova 'show server details' API before\ncontinuing with the test. This left some useless test code left over\nthat needlessly asserted that the floating IP was showing up (or had\ndisappeared, in the case of disassociation) from the Nova 'show server\ndetails' API after the waiter had already checked the same thing. This\npatch cleans this up.\n\nChange-Id: I692402cf0d831c524ca5f49daf4aa9b0d19d41b5\n""}]",9,849750,e4ee76252fd3e81bd0b325543b20a4024f74f7b1,27,10,2,8864,,,0,"Clean up scenario floating IP waiting

In changes I0f7e1c9096dc1903903fb31c5e854f07800efbfd and
I05e079237aec332925a88476e45071b34dc722c6 we started waiting for a
floating IP to appear in the Nova 'show server details' API before
continuing with the test. This left some useless test code left over
that needlessly asserted that the floating IP was showing up (or had
disappeared, in the case of disassociation) from the Nova 'show server
details' API after the waiter had already checked the same thing. This
patch cleans this up.

Change-Id: I692402cf0d831c524ca5f49daf4aa9b0d19d41b5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/50/849750/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_minimum_basic.py'],1,ecd7320cfa53b4baf649b6f48eda61f8ad2770cd,,," def _get_floating_ip_in_server_addresses(self, floating_ip, server): for addresses in server['addresses'].values(): for address in addresses: if (address['OS-EXT-IPS:type'] == 'floating' and address['addr'] == floating_ip['floating_ip_address']): return address def _is_floating_ip_detached_from_server(self, server, floating_ip): server_info = self.servers_client.show_server( server['id'])['server'] address = self._get_floating_ip_in_server_addresses( floating_ip, server_info) return (not address) if not test_utils.call_until_true( self._is_floating_ip_detached_from_server, CONF.compute.build_timeout, CONF.compute.build_interval, server, floating_ip): msg = (""Floating IP '%s' should not be in server addresses: %s"" % (floating_ip['floating_ip_address'], server['addresses'])) raise exceptions.TimeoutException(msg) # fetch the server again to make sure the addresses were refreshed # after associating the floating IP server = self.servers_client.show_server(server['id'])['server'] address = self._get_floating_ip_in_server_addresses( floating_ip, server) self.assertIsNotNone( address, ""Failed to find floating IP '%s' in server addresses: %s"" % (floating_ip['floating_ip_address'], server['addresses'])) if not test_utils.call_until_true( self._is_floating_ip_detached_from_server, CONF.compute.build_timeout, CONF.compute.build_interval, server, floating_ip): msg = (""Floating IP '%s' should not be in server addresses: %s"" % (floating_ip['floating_ip_address'], server['addresses'])) raise exceptions.TimeoutException(msg)",0,41
openstack%2Fcinder~master~Ide1d002acb8e1730767b15afc0566b2bb25999ed,openstack/cinder,master,Ide1d002acb8e1730767b15afc0566b2bb25999ed,Add Cinder NFS driver for Dell PowerStore,MERGED,2022-07-27 19:08:47.000000000,2022-07-29 17:44:15.000000000,2022-07-29 17:13:33.000000000,"[{'_account_id': 4523}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30555}]","[{'number': 1, 'created': '2022-07-27 19:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1444bc3ad575ba21e54bd0c58279622fb279d23', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Ide1d002acb8e1730767b15afc0566b2bb25999ed\n'}, {'number': 2, 'created': '2022-07-27 21:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a886fce4a8009d7e0ece34d422226e433cca04a', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Ide1d002acb8e1730767b15afc0566b2bb25999ed\n'}, {'number': 3, 'created': '2022-07-27 21:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4a7541fd6f52543eb5372b2fbd82e89b1f5c67d1', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Ide1d002acb8e1730767b15afc0566b2bb25999ed\n'}, {'number': 4, 'created': '2022-07-27 21:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb44d8d87170fd7b0fa48a9daebcc61fac6e9d04', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Ide1d002acb8e1730767b15afc0566b2bb25999ed\n'}, {'number': 5, 'created': '2022-07-28 08:27:34.000000000', 'files': ['cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_nfs.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/volume/drivers/dell_emc/powerstore/nfs.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-nfs.rst', 'releasenotes/notes/bp-powerstore-nfs-cinder-driver-b743a8a89acafa35.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5ce771687894de02f3f068c73c779a8027a8a9d', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Ide1d002acb8e1730767b15afc0566b2bb25999ed\n'}]",36,851249,a5ce771687894de02f3f068c73c779a8027a8a9d,84,5,5,34290,,,0,"Add Cinder NFS driver for Dell PowerStore

Implements: blueprint powerstore-nfs-driver
Co-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>
Change-Id: Ide1d002acb8e1730767b15afc0566b2bb25999ed
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/851249/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_nfs.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/volume/drivers/dell_emc/powerstore/nfs.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-nfs.rst', 'releasenotes/notes/bp-powerstore-nfs-cinder-driver-b743a8a89acafa35.yaml']",7,c1444bc3ad575ba21e54bd0c58279622fb279d23,,--- features: - | Dell PowerStore: Added NFS storage driver. ,,784,0
openstack%2Fneutron-vpnaas-dashboard~master~I874e23140f4dd7879fb482957e7a6d947bf71e17,openstack/neutron-vpnaas-dashboard,master,I874e23140f4dd7879fb482957e7a6d947bf71e17,Update master for stable/wallaby,MERGED,2021-03-22 12:14:27.000000000,2022-07-29 17:40:57.000000000,2022-07-29 17:39:44.000000000,"[{'_account_id': 841}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-22 12:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/82063ef1c564cfbb1c5dd1e9eb9b99919846eaaa', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I874e23140f4dd7879fb482957e7a6d947bf71e17\n'}, {'number': 2, 'created': '2022-07-29 17:15:25.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/5852d03d2da5e87ad4e18f73dbd9d5120ead4191', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I874e23140f4dd7879fb482957e7a6d947bf71e17\n'}]",1,782231,5852d03d2da5e87ad4e18f73dbd9d5120ead4191,11,4,2,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I874e23140f4dd7879fb482957e7a6d947bf71e17
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/31/782231/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,82063ef1c564cfbb1c5dd1e9eb9b99919846eaaa,reno-wallaby, wallaby,,7,0
openstack%2Fneutron~master~I63e78fdd030f063a1b943d481a9cbd98850552d7,openstack/neutron,master,I63e78fdd030f063a1b943d481a9cbd98850552d7,Make iptables rules diff to be case insensitive,MERGED,2022-06-03 13:30:06.000000000,2022-07-29 17:38:40.000000000,2022-07-29 17:37:18.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-06-03 13:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f162e34e6de3c450c0125e93a30adc813c16e4df', 'message': 'Make iptables rules diff to be case insensitive\n\nMAC addresses in the iptables rules are always added by iptables_manager\nwith uppercase. It was done like that in [1].\nFor some reason, iptables on Centos 9 Stream (1.8.7) returns MAC\naddresses all in lowercase and difflib library treats such new and old\nrules as different ones so iptables manager always tries to remove and\nadd antispoofing rules which have MAC addresses set.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/184355\n\nRelated-Bug: #1976323\nChange-Id: I63e78fdd030f063a1b943d481a9cbd98850552d7\n'}, {'number': 2, 'created': '2022-07-07 14:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1216c8379cea4dc12f4099da860265e7fc571daf', 'message': 'Make iptables rules diff to be case insensitive\n\nMAC addresses in the iptables rules are always added by iptables_manager\nwith uppercase. It was done like that in [1].\nFor some reason, iptables on Centos 9 Stream (1.8.7) returns MAC\naddresses all in lowercase and difflib library treats such new and old\nrules as different ones so iptables manager always tries to remove and\nadd antispoofing rules which have MAC addresses set.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/184355\n\nRelated-Bug: #1976323\nChange-Id: I63e78fdd030f063a1b943d481a9cbd98850552d7\n'}, {'number': 3, 'created': '2022-07-27 18:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23dbb08fc7b62cfc7f1a20807eed718848db524c', 'message': 'Make iptables rules diff to be case insensitive\n\nMAC addresses in the iptables rules are always added by iptables_manager\nwith uppercase. It was done like that in [1].\nFor some reason, iptables on Centos 9 Stream (1.8.7) returns MAC\naddresses all in lowercase and difflib library treats such new and old\nrules as different ones so iptables manager always tries to remove and\nadd antispoofing rules which have MAC addresses set.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/184355\n\nRelated-Bug: #1976323\nChange-Id: I63e78fdd030f063a1b943d481a9cbd98850552d7\n'}, {'number': 4, 'created': '2022-07-28 12:08:34.000000000', 'files': ['neutron/agent/linux/iptables_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c2d2744d5e841f431ae637624dd5954429f9607', 'message': 'Make iptables rules diff to be case insensitive\n\nMAC addresses in the iptables rules are always added by iptables_manager\nwith uppercase. It was done like that in [1].\nFor some reason, iptables on Centos 9 Stream (1.8.7) returns MAC\naddresses all in lowercase and difflib library treats such new and old\nrules as different ones so iptables manager always tries to remove and\nadd antispoofing rules which have MAC addresses set.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/184355\n\nRelated-Bug: #1976323\nChange-Id: I63e78fdd030f063a1b943d481a9cbd98850552d7\n'}]",7,844589,6c2d2744d5e841f431ae637624dd5954429f9607,42,6,4,11975,,,0,"Make iptables rules diff to be case insensitive

MAC addresses in the iptables rules are always added by iptables_manager
with uppercase. It was done like that in [1].
For some reason, iptables on Centos 9 Stream (1.8.7) returns MAC
addresses all in lowercase and difflib library treats such new and old
rules as different ones so iptables manager always tries to remove and
add antispoofing rules which have MAC addresses set.

[1] https://review.opendev.org/c/openstack/neutron/+/184355

Related-Bug: #1976323
Change-Id: I63e78fdd030f063a1b943d481a9cbd98850552d7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/844589/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/iptables_manager.py'],1,f162e34e6de3c450c0125e93a30adc813c16e4df,bug/1976323, old_rules_uppercase = [r.upper() for r in old_chain_rules] new_rules_uppercase = [r.upper() for r in new_chain_rules] line_uppercase = line.upper()[2:] if (line_uppercase in old_rules_uppercase and line_uppercase in new_rules_uppercase): continue ,,7,0
openstack%2Fswift~master~I5b35dfe801e8ef1e2f08c97fc8a940cebb4bd003,openstack/swift,master,I5b35dfe801e8ef1e2f08c97fc8a940cebb4bd003,squash: Stop raising DeviceUnavailable,ABANDONED,2022-07-28 21:15:40.000000000,2022-07-29 17:36:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 21:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dddea57fc33be9d76dcb1ec3441980341cd4895b', 'message': 'squash: Stop raising DeviceUnavailable\n\nChange-Id: I5b35dfe801e8ef1e2f08c97fc8a940cebb4bd003\n'}, {'number': 2, 'created': '2022-07-28 21:18:13.000000000', 'files': ['test/unit/container/test_replicator.py', 'test/unit/container/test_sharder.py', 'swift/container/replicator.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f9c80b7c8888e0211858c9786a6936cf7553b6d1', 'message': 'squash: Stop raising DeviceUnavailable\n\nChange-Id: I5b35dfe801e8ef1e2f08c97fc8a940cebb4bd003\n'}]",2,851471,f9c80b7c8888e0211858c9786a6936cf7553b6d1,7,1,2,15343,,,0,"squash: Stop raising DeviceUnavailable

Change-Id: I5b35dfe801e8ef1e2f08c97fc8a940cebb4bd003
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/851471/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_replicator.py', 'test/unit/container/test_sharder.py', 'swift/container/replicator.py', 'swift/container/sharder.py']",4,dddea57fc33be9d76dcb1ec3441980341cd4895b,sharder_fallback_to_same_device," node = self.find_local_handoff_for_part(part) shard_part, shard_broker, node_id, put_timestamp = \ self._get_shard_broker(shard_range, broker.root_path, policy_index) return self._cleave_shard_broker( broker, cleaving_context, shard_range, own_shard_range, shard_broker, put_timestamp, shard_part, node_id)","from swift.common.exceptions import DeviceUnavailable try: node = self.find_local_handoff_for_part(part) except DeviceUnavailable as ex: raise DeviceUnavailable( 'Failed to create a shard broker for %s: %s' % (quote(shard_range.name), str(ex))) try: shard_part, shard_broker, node_id, put_timestamp = \ self._get_shard_broker(shard_range, broker.root_path, policy_index) except DeviceUnavailable as duex: self.logger.warning(str(duex)) self._increment_stat('cleaved', 'failure', statsd=True) return CLEAVE_FAILED else: return self._cleave_shard_broker( broker, cleaving_context, shard_range, own_shard_range, shard_broker, put_timestamp, shard_part, node_id)",31,111
openstack%2Fmistral-dashboard~master~I61cd74157d0715045f7ee5978df9e251b57841b5,openstack/mistral-dashboard,master,I61cd74157d0715045f7ee5978df9e251b57841b5,Django-4: ugettext_lazy is removed,ABANDONED,2022-07-28 13:08:52.000000000,2022-07-29 17:31:58.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 13:08:52.000000000', 'files': ['mistraldashboard/workbooks/views.py', 'mistraldashboard/cron_triggers/views.py', 'mistraldashboard/executions/forms.py', 'mistraldashboard/workflows/forms.py', 'mistraldashboard/actions/forms.py', 'mistraldashboard/actions/views.py', 'mistraldashboard/cron_triggers/forms.py', 'mistraldashboard/cron_triggers/panel.py', 'mistraldashboard/executions/tables.py', 'mistraldashboard/action_executions/tables.py', 'mistraldashboard/actions/tables.py', 'mistraldashboard/api.py', 'mistraldashboard/workflows/tables.py', 'mistraldashboard/workbooks/tables.py', 'mistraldashboard/workflows/views.py', 'mistraldashboard/action_executions/views.py', 'mistraldashboard/tasks/panel.py', 'mistraldashboard/cron_triggers/tables.py', 'mistraldashboard/actions/panel.py', 'mistraldashboard/workbooks/forms.py', 'mistraldashboard/workflows/panel.py', 'mistraldashboard/tasks/views.py', 'mistraldashboard/action_executions/forms.py', 'mistraldashboard/executions/views.py', 'mistraldashboard/action_executions/panel.py', 'mistraldashboard/dashboard.py', 'mistraldashboard/default/panel.py', 'mistraldashboard/workbooks/panel.py', 'mistraldashboard/tasks/tables.py', 'mistraldashboard/executions/panel.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/a38bcfb18cc216ac203fffcfd3531a8369a38556', 'message': 'Django-4: ugettext_lazy is removed\n\nAs per this URL:\nhttps://docs.djangoproject.com/en/3.0/releases/3.0/#features-deprecated-in-3-0\n\nand the 4.0 release notes:\nhttps://docs.djangoproject.com/en/4.0/releases/4.0/\n\nwe should stop using ugettext_lazy and use gettext_lazy instead.\n\nChange-Id: I61cd74157d0715045f7ee5978df9e251b57841b5\n'}]",2,851400,a38bcfb18cc216ac203fffcfd3531a8369a38556,6,2,1,6476,,,0,"Django-4: ugettext_lazy is removed

As per this URL:
https://docs.djangoproject.com/en/3.0/releases/3.0/#features-deprecated-in-3-0

and the 4.0 release notes:
https://docs.djangoproject.com/en/4.0/releases/4.0/

we should stop using ugettext_lazy and use gettext_lazy instead.

Change-Id: I61cd74157d0715045f7ee5978df9e251b57841b5
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/00/851400/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistraldashboard/workbooks/views.py', 'mistraldashboard/cron_triggers/views.py', 'mistraldashboard/executions/forms.py', 'mistraldashboard/workflows/forms.py', 'mistraldashboard/actions/forms.py', 'mistraldashboard/actions/views.py', 'mistraldashboard/cron_triggers/forms.py', 'mistraldashboard/cron_triggers/panel.py', 'mistraldashboard/executions/tables.py', 'mistraldashboard/action_executions/tables.py', 'mistraldashboard/actions/tables.py', 'mistraldashboard/api.py', 'mistraldashboard/workflows/tables.py', 'mistraldashboard/workbooks/tables.py', 'mistraldashboard/workflows/views.py', 'mistraldashboard/action_executions/views.py', 'mistraldashboard/tasks/panel.py', 'mistraldashboard/cron_triggers/tables.py', 'mistraldashboard/actions/panel.py', 'mistraldashboard/workbooks/forms.py', 'mistraldashboard/workflows/panel.py', 'mistraldashboard/tasks/views.py', 'mistraldashboard/action_executions/forms.py', 'mistraldashboard/executions/views.py', 'mistraldashboard/action_executions/panel.py', 'mistraldashboard/dashboard.py', 'mistraldashboard/default/panel.py', 'mistraldashboard/workbooks/panel.py', 'mistraldashboard/tasks/tables.py', 'mistraldashboard/executions/panel.py']",30,a38bcfb18cc216ac203fffcfd3531a8369a38556,django-4,from django.utils.translation import gettext_lazy as _,from django.utils.translation import ugettext_lazy as _,54,54
openstack%2Fmistral-dashboard~master~I9b9ef2611dfdd2093163dab93ae2718ed79d1b02,openstack/mistral-dashboard,master,I9b9ef2611dfdd2093163dab93ae2718ed79d1b02,Django 4: django.conf.urls.url is removed,ABANDONED,2022-07-28 13:11:54.000000000,2022-07-29 17:31:20.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 13:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/4f0c263a94a1cbdc270a87cb6a397952c1851e68', 'message': 'Django 4: django.conf.urls.url is removed\n\nAs per Django 4 release notes:\nhttps://docs.djangoproject.com/en/4.0/releases/4.0/\n\ndjango.conf.urls.url is removed, and django.urls.re_path should\nbe used instead.\n\nChange-Id: I9b9ef2611dfdd2093163dab93ae2718ed79d1b02\n'}, {'number': 2, 'created': '2022-07-28 20:47:09.000000000', 'files': ['mistraldashboard/action_executions/urls.py', 'mistraldashboard/workflows/urls.py', 'mistraldashboard/actions/urls.py', 'mistraldashboard/workbooks/urls.py', 'mistraldashboard/tasks/urls.py', 'mistraldashboard/executions/urls.py', 'mistraldashboard/cron_triggers/urls.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/d565c0549df1864af650a1ab1d0a3f3307f3f6c0', 'message': 'Django 4: django.conf.urls.url is removed\n\nAs per Django 4 release notes:\nhttps://docs.djangoproject.com/en/4.0/releases/4.0/\n\ndjango.conf.urls.url is removed, and django.urls.re_path should\nbe used instead.\n\nChange-Id: I9b9ef2611dfdd2093163dab93ae2718ed79d1b02\n'}]",4,851402,d565c0549df1864af650a1ab1d0a3f3307f3f6c0,6,2,2,6476,,,0,"Django 4: django.conf.urls.url is removed

As per Django 4 release notes:
https://docs.djangoproject.com/en/4.0/releases/4.0/

django.conf.urls.url is removed, and django.urls.re_path should
be used instead.

Change-Id: I9b9ef2611dfdd2093163dab93ae2718ed79d1b02
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/02/851402/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistraldashboard/action_executions/urls.py', 'mistraldashboard/workflows/urls.py', 'mistraldashboard/actions/urls.py', 'mistraldashboard/workbooks/urls.py', 'mistraldashboard/tasks/urls.py', 'mistraldashboard/executions/urls.py', 'mistraldashboard/cron_triggers/urls.py']",7,4f0c263a94a1cbdc270a87cb6a397952c1851e68,django-4,"from django.urls import re_path # noqa re_path(r'^$', views.IndexView.as_view(), name='index'), re_path(CRON_TRIGGERS % 'detail', views.OverviewView.as_view(), name='detail'), re_path(r'^create$', views.CreateView.as_view(), name='create'),","from django.conf.urls import url # noqa url(r'^$', views.IndexView.as_view(), name='index'), url(CRON_TRIGGERS % 'detail', views.OverviewView.as_view(), name='detail'), url(r'^create$', views.CreateView.as_view(), name='create'),",73,72
openstack%2Fzaqar-ui~master~Idf237c2a63e89ac7bedd1d11c8e72529104b9f96,openstack/zaqar-ui,master,Idf237c2a63e89ac7bedd1d11c8e72529104b9f96,Django-4: ugettext_lazy is removed,ABANDONED,2022-07-28 11:56:15.000000000,2022-07-29 17:30:29.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 11:56:15.000000000', 'files': ['zaqar_ui/content/pools/panel.py', 'zaqar_ui/content/pool_flavors/panel.py', 'zaqar_ui/enabled/_1510_project_messaging_group.py', 'zaqar_ui/api/rest/zaqar.py', 'zaqar_ui/enabled/_2510_admin_messaging_group.py', 'zaqar_ui/content/queues/panel.py'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/d994689ebbf2f08e832a7bcaeb8af849c6add0fa', 'message': 'Django-4: ugettext_lazy is removed\n\nAs per this URL:\nhttps://docs.djangoproject.com/en/3.0/releases/3.0/#features-deprecated-in-3-0\n\nand the 4.0 release notes:\nhttps://docs.djangoproject.com/en/4.0/releases/4.0/\n\nwe should stop using ugettext_lazy and use gettext_lazy instead.\n\nChange-Id: Idf237c2a63e89ac7bedd1d11c8e72529104b9f96\n'}]",3,851391,d994689ebbf2f08e832a7bcaeb8af849c6add0fa,7,2,1,6476,,,0,"Django-4: ugettext_lazy is removed

As per this URL:
https://docs.djangoproject.com/en/3.0/releases/3.0/#features-deprecated-in-3-0

and the 4.0 release notes:
https://docs.djangoproject.com/en/4.0/releases/4.0/

we should stop using ugettext_lazy and use gettext_lazy instead.

Change-Id: Idf237c2a63e89ac7bedd1d11c8e72529104b9f96
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/91/851391/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar_ui/content/pools/panel.py', 'zaqar_ui/content/pool_flavors/panel.py', 'zaqar_ui/enabled/_1510_project_messaging_group.py', 'zaqar_ui/api/rest/zaqar.py', 'zaqar_ui/enabled/_2510_admin_messaging_group.py', 'zaqar_ui/content/queues/panel.py']",6,d994689ebbf2f08e832a7bcaeb8af849c6add0fa,django-4,from django.utils.translation import gettext_lazy as _,from django.utils.translation import ugettext_lazy as _,6,6
openstack%2Fheat-dashboard~master~I6f4301e343dd1792509385abda4f42c96c9550d5,openstack/heat-dashboard,master,I6f4301e343dd1792509385abda4f42c96c9550d5,Django 4: django.utils.urlunquote is removed,ABANDONED,2022-07-28 21:13:53.000000000,2022-07-29 17:29:38.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 21:13:53.000000000', 'files': ['heat_dashboard/test/helpers.py'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/47c26ab8dfd76a90c6060b92c986a38cd448275a', 'message': 'Django 4: django.utils.urlunquote is removed\n\nAs per Django 3 release notes:\nhttps://docs.djangoproject.com/en/4.0/releases/3.0/#deprecated-features-3-0\n\ndjango.utils.urlunquote() is to be replaced by:\nurllib.parse.unquote()\n\nChange-Id: I6f4301e343dd1792509385abda4f42c96c9550d5\n'}]",2,851470,47c26ab8dfd76a90c6060b92c986a38cd448275a,4,2,1,6476,,,0,"Django 4: django.utils.urlunquote is removed

As per Django 3 release notes:
https://docs.djangoproject.com/en/4.0/releases/3.0/#deprecated-features-3-0

django.utils.urlunquote() is to be replaced by:
urllib.parse.unquote()

Change-Id: I6f4301e343dd1792509385abda4f42c96c9550d5
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/70/851470/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/test/helpers.py'],1,47c26ab8dfd76a90c6060b92c986a38cd448275a,django-4,from urllib.parse import unquote loc = unquote(loc) expected_url = unquote(expected_url),from django.utils import http loc = http.urlunquote(loc) expected_url = http.urlunquote(expected_url),3,3
openstack%2Fneutron-vpnaas-dashboard~stable%2Fvictoria~I3ecb6d142a88e8a9b253892c17a1579dc41787c7,openstack/neutron-vpnaas-dashboard,stable/victoria,I3ecb6d142a88e8a9b253892c17a1579dc41787c7,Drop lower-constraints (victoria),NEW,2022-07-29 17:21:29.000000000,2022-07-29 17:29:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-29 17:21:29.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/2316912f22903eb23d646d1bc6311644f3bbbaf9', 'message': ""Drop lower-constraints (victoria)\n\nlower-constraints job is broken in stable/victoria.\nlower-constraints are rarely changed in stable branches\nand neutron team already agreed not to keep lower-constraints job\nfor stable branches. Let's follow it in neutron-vpnaas-dashboard.\n\nChange-Id: I3ecb6d142a88e8a9b253892c17a1579dc41787c7\n""}]",0,851596,2316912f22903eb23d646d1bc6311644f3bbbaf9,2,1,1,841,,,0,"Drop lower-constraints (victoria)

lower-constraints job is broken in stable/victoria.
lower-constraints are rarely changed in stable branches
and neutron team already agreed not to keep lower-constraints job
for stable branches. Let's follow it in neutron-vpnaas-dashboard.

Change-Id: I3ecb6d142a88e8a9b253892c17a1579dc41787c7
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/96/851596/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,2316912f22903eb23d646d1bc6311644f3bbbaf9,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,156
openstack%2Fneutron-vpnaas-dashboard~master~Iace49466dd684eeadb0232473aea6c95f6bd55ba,openstack/neutron-vpnaas-dashboard,master,Iace49466dd684eeadb0232473aea6c95f6bd55ba,Use TOX_CONSTRAINTS_FILE,MERGED,2022-07-25 06:55:35.000000000,2022-07-29 17:17:51.000000000,2022-07-29 17:16:48.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-25 06:55:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/01e10a4190c1be6038607136f3c5b531ab76849f', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Iace49466dd684eeadb0232473aea6c95f6bd55ba\n'}]",5,850834,01e10a4190c1be6038607136f3c5b531ab76849f,15,2,1,35067,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Iace49466dd684eeadb0232473aea6c95f6bd55ba
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/34/850834/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,01e10a4190c1be6038607136f3c5b531ab76849f,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fneutron-vpnaas-dashboard~master~Ibb9701f07925acd002a4af74708e7bb3dbdc685b,openstack/neutron-vpnaas-dashboard,master,Ibb9701f07925acd002a4af74708e7bb3dbdc685b,Update master for stable/xena,MERGED,2021-09-22 12:28:12.000000000,2022-07-29 17:14:47.000000000,2022-07-29 17:13:39.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-09-22 12:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/b2f06196e373e2a50b09f8d5acf61e083a1eebc7', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: Ibb9701f07925acd002a4af74708e7bb3dbdc685b\n'}, {'number': 2, 'created': '2022-07-29 16:47:52.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/a42c6f23e1f921170762a9e3161bf70bd33e56ba', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: Ibb9701f07925acd002a4af74708e7bb3dbdc685b\n'}]",1,810418,a42c6f23e1f921170762a9e3161bf70bd33e56ba,10,3,2,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: Ibb9701f07925acd002a4af74708e7bb3dbdc685b
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/18/810418/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,b2f06196e373e2a50b09f8d5acf61e083a1eebc7,reno-xena, xena,,7,0
openstack%2Fneutron-vpnaas-dashboard~master~Ic5584955ad3f664f1067addcc3941fb2dabd509e,openstack/neutron-vpnaas-dashboard,master,Ic5584955ad3f664f1067addcc3941fb2dabd509e,Add Python3 xena unit tests,ABANDONED,2021-03-22 12:14:33.000000000,2022-07-29 17:09:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-22 12:14:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/cc658da0ee2bf3b83f70b91ef2be736b6db2487e', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ic5584955ad3f664f1067addcc3941fb2dabd509e\n'}]",0,782233,cc658da0ee2bf3b83f70b91ef2be736b6db2487e,5,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ic5584955ad3f664f1067addcc3941fb2dabd509e
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/33/782233/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cc658da0ee2bf3b83f70b91ef2be736b6db2487e,add-xena-python-jobtemplates, - openstack-python3-xena-jobs-horizon, - openstack-python3-wallaby-jobs-horizon,1,1
openstack%2Fopenstack-helm-images~master~I1a31333e5c0d631dd20e37551097237703168664,openstack/openstack-helm-images,master,I1a31333e5c0d631dd20e37551097237703168664,remove unicode from code,MERGED,2022-07-28 03:27:32.000000000,2022-07-29 17:08:27.000000000,2022-07-29 17:07:24.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 28701}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-07-28 03:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0fba7ddaf813ce28005e042cccd60b0122098e21', 'message': 'remove unicode from code\n\nChange-Id: I1a31333e5c0d631dd20e37551097237703168664\n'}, {'number': 2, 'created': '2022-07-29 15:52:10.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3fccddc44925bde3d2fa1fd37d3d17391892550f', 'message': 'remove unicode from code\n\nChange-Id: I1a31333e5c0d631dd20e37551097237703168664\n'}]",0,851311,3fccddc44925bde3d2fa1fd37d3d17391892550f,11,4,2,35058,,,0,"remove unicode from code

Change-Id: I1a31333e5c0d631dd20e37551097237703168664
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/11/851311/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,0fba7ddaf813ce28005e042cccd60b0122098e21,,"project = 'OpenStack Helm Images' copyright = '2018, OpenStack Developers' '%s Documentation' % project, 'OpenStack Developers', 'manual'),","project = u'OpenStack Helm Images' copyright = u'2018, OpenStack Developers' u'%s Documentation' % project, u'OpenStack Developers', 'manual'),",4,4
openstack%2Fneutron-vpnaas-dashboard~master~I764d0d573db461cc4648dee5286bc8855ee09495,openstack/neutron-vpnaas-dashboard,master,I764d0d573db461cc4648dee5286bc8855ee09495,Update master for stable/wallaby,ABANDONED,2021-04-05 04:22:40.000000000,2022-07-29 17:05:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-05 04:22:40.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/dc04035920bff42ef39644f3e4eb0e9078eb50f1', 'message': 'Update master for stable/wallaby\n\nChange-Id: I764d0d573db461cc4648dee5286bc8855ee09495\n'}]",0,784727,dc04035920bff42ef39644f3e4eb0e9078eb50f1,4,2,1,30384,,,0,"Update master for stable/wallaby

Change-Id: I764d0d573db461cc4648dee5286bc8855ee09495
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/27/784727/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,dc04035920bff42ef39644f3e4eb0e9078eb50f1,, wallaby,,7,0
openstack%2Fneutron-vpnaas-dashboard~master~I7cd9d3cb948e101694cdb34fdf192c2897da8341,openstack/neutron-vpnaas-dashboard,master,I7cd9d3cb948e101694cdb34fdf192c2897da8341,Dropping lower constraints testing,ABANDONED,2021-05-02 01:53:48.000000000,2022-07-29 17:01:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-02 01:53:48.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/e609dec29b817c173ffeeabece3f5a4b2d7c0e04', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I7cd9d3cb948e101694cdb34fdf192c2897da8341\n'}]",1,789068,e609dec29b817c173ffeeabece3f5a4b2d7c0e04,5,2,1,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I7cd9d3cb948e101694cdb34fdf192c2897da8341
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/68/789068/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,e609dec29b817c173ffeeabece3f5a4b2d7c0e04,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,148
openstack%2Fneutron-vpnaas-dashboard~master~I07f2ef521821a7f34ac17f37e31ad7b72c35cbf1,openstack/neutron-vpnaas-dashboard,master,I07f2ef521821a7f34ac17f37e31ad7b72c35cbf1,Address RemovedInDjango40Warning,ABANDONED,2022-04-29 17:09:45.000000000,2022-07-29 16:59:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 17:09:45.000000000', 'files': ['neutron_vpnaas_dashboard/dashboards/project/vpn/urls.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/26d5b0ab4ce9d793fa3c4cf58adc1eefd981daa6', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I07f2ef521821a7f34ac17f37e31ad7b72c35cbf1\n'}]",0,839979,26d5b0ab4ce9d793fa3c4cf58adc1eefd981daa6,3,1,1,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: I07f2ef521821a7f34ac17f37e31ad7b72c35cbf1
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/79/839979/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas_dashboard/dashboards/project/vpn/urls.py'],1,26d5b0ab4ce9d793fa3c4cf58adc1eefd981daa6,,"from django.urls import re_path re_path(r'^$', views.IndexView.as_view(), name='index'), re_path(r'^addikepolicy$', views.AddIKEPolicyView.as_view(), name='addikepolicy'), re_path(r'^update_ikepolicy/(?P<ikepolicy_id>[^/]+)/$', views.UpdateIKEPolicyView.as_view(), name='update_ikepolicy'), re_path(r'^addipsecpolicy$', views.AddIPsecPolicyView.as_view(), name='addipsecpolicy'), re_path(r'^update_ipsecpolicy/(?P<ipsecpolicy_id>[^/]+)/$', views.UpdateIPsecPolicyView.as_view(), name='update_ipsecpolicy'), re_path(r'^addipsecsiteconnection$', views.AddIPsecSiteConnectionView.as_view(), name='addipsecsiteconnection'), re_path(r'^update_ipsecsiteconnection' r'/(?P<ipsecsiteconnection_id>[^/]+)/$', views.UpdateIPsecSiteConnectionView.as_view(), name='update_ipsecsiteconnection'), re_path(r'^addvpnservice$', views.AddVPNServiceView.as_view(), name='addvpnservice'), re_path(r'^update_vpnservice/(?P<vpnservice_id>[^/]+)/$', views.UpdateVPNServiceView.as_view(), name='update_vpnservice'), re_path(r'^addendpointgroup$', views.AddEndpointGroupView.as_view(), name='addendpointgroup'), re_path(r'^update_endpointgroup/(?P<endpoint_group_id>[^/]+)/$', views.UpdateEndpointGroupView.as_view(), name='update_endpointgroup'), re_path(r'^ikepolicy/(?P<ikepolicy_id>[^/]+)/$', views.IKEPolicyDetailsView.as_view(), name='ikepolicydetails'), re_path(r'^ipsecpolicy/(?P<ipsecpolicy_id>[^/]+)/$', views.IPsecPolicyDetailsView.as_view(), name='ipsecpolicydetails'), re_path(r'^vpnservice/(?P<vpnservice_id>[^/]+)/$', views.VPNServiceDetailsView.as_view(), name='vpnservicedetails'), re_path(r'^endpointgroup/(?P<endpoint_group_id>[^/]+)/$', views.EndpointGroupDetailsView.as_view(), name='endpointgroupdetails'), re_path(r'^ipsecsiteconnection/(?P<ipsecsiteconnection_id>[^/]+)/$', views.IPsecSiteConnectionDetailsView.as_view(), name='ipsecsiteconnectiondetails'),","from django.conf.urls import url url(r'^$', views.IndexView.as_view(), name='index'), url(r'^addikepolicy$', views.AddIKEPolicyView.as_view(), name='addikepolicy'), url(r'^update_ikepolicy/(?P<ikepolicy_id>[^/]+)/$', views.UpdateIKEPolicyView.as_view(), name='update_ikepolicy'), url(r'^addipsecpolicy$', views.AddIPsecPolicyView.as_view(), name='addipsecpolicy'), url(r'^update_ipsecpolicy/(?P<ipsecpolicy_id>[^/]+)/$', views.UpdateIPsecPolicyView.as_view(), name='update_ipsecpolicy'), url(r'^addipsecsiteconnection$', views.AddIPsecSiteConnectionView.as_view(), name='addipsecsiteconnection'), url(r'^update_ipsecsiteconnection/(?P<ipsecsiteconnection_id>[^/]+)/$', views.UpdateIPsecSiteConnectionView.as_view(), name='update_ipsecsiteconnection'), url(r'^addvpnservice$', views.AddVPNServiceView.as_view(), name='addvpnservice'), url(r'^update_vpnservice/(?P<vpnservice_id>[^/]+)/$', views.UpdateVPNServiceView.as_view(), name='update_vpnservice'), url(r'^addendpointgroup$', views.AddEndpointGroupView.as_view(), name='addendpointgroup'), url(r'^update_endpointgroup/(?P<endpoint_group_id>[^/]+)/$', views.UpdateEndpointGroupView.as_view(), name='update_endpointgroup'), url(r'^ikepolicy/(?P<ikepolicy_id>[^/]+)/$', views.IKEPolicyDetailsView.as_view(), name='ikepolicydetails'), url(r'^ipsecpolicy/(?P<ipsecpolicy_id>[^/]+)/$', views.IPsecPolicyDetailsView.as_view(), name='ipsecpolicydetails'), url(r'^vpnservice/(?P<vpnservice_id>[^/]+)/$', views.VPNServiceDetailsView.as_view(), name='vpnservicedetails'), url(r'^endpointgroup/(?P<endpoint_group_id>[^/]+)/$', views.EndpointGroupDetailsView.as_view(), name='endpointgroupdetails'), url(r'^ipsecsiteconnection/(?P<ipsecsiteconnection_id>[^/]+)/$', views.IPsecSiteConnectionDetailsView.as_view(), name='ipsecsiteconnectiondetails'),",39,35
openstack%2Fneutron-vpnaas-dashboard~master~Iee805aa9b51f88756728be5df3aab8a196860a63,openstack/neutron-vpnaas-dashboard,master,Iee805aa9b51f88756728be5df3aab8a196860a63,Replace deprecated django.conf.urls.url(),MERGED,2022-07-11 04:34:35.000000000,2022-07-29 16:56:25.000000000,2022-07-29 16:55:28.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-11 04:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/ca44ace9492162002c414e3ade241d12efbe9a76', 'message': 'Replace deprecated django.conf.urls.url()\n\nThis method is deprecated in Django 3.1[1], in favor of\ndjango.urls.re_path(), and triggers the following warning.\n\nRemovedInDjango40Warning: django.conf.urls.url() is deprecated in favor\nof django.urls.re_path().\n\nThis was already fixed in Horizon by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] d9266fd82c1f0acc6b7236a6dc9b7e510985eb13\n\nChange-Id: Iee805aa9b51f88756728be5df3aab8a196860a63\n'}, {'number': 2, 'created': '2022-07-11 04:51:36.000000000', 'files': ['neutron_vpnaas_dashboard/dashboards/project/vpn/urls.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/14cce6ff81f6b88e857ef534bb15e676f380826c', 'message': 'Replace deprecated django.conf.urls.url()\n\nThis method is deprecated in Django 3.1[1], in favor of\ndjango.urls.re_path(), and triggers the following warning.\n\nRemovedInDjango40Warning: django.conf.urls.url() is deprecated in favor\nof django.urls.re_path().\n\nThis was already fixed in Horizon by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] d9266fd82c1f0acc6b7236a6dc9b7e510985eb13\n\nChange-Id: Iee805aa9b51f88756728be5df3aab8a196860a63\n'}]",1,849258,14cce6ff81f6b88e857ef534bb15e676f380826c,12,2,2,9816,,,0,"Replace deprecated django.conf.urls.url()

This method is deprecated in Django 3.1[1], in favor of
django.urls.re_path(), and triggers the following warning.

RemovedInDjango40Warning: django.conf.urls.url() is deprecated in favor
of django.urls.re_path().

This was already fixed in Horizon by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] d9266fd82c1f0acc6b7236a6dc9b7e510985eb13

Change-Id: Iee805aa9b51f88756728be5df3aab8a196860a63
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/58/849258/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas_dashboard/dashboards/project/vpn/urls.py'],1,ca44ace9492162002c414e3ade241d12efbe9a76,django40warning,"from django.urls import re_path re_path(r'^$', views.IndexView.as_view(), name='index'), re_path(r'^addikepolicy$', views.AddIKEPolicyView.as_view(), name='addikepolicy'), re_path(r'^update_ikepolicy/(?P<ikepolicy_id>[^/]+)/$', views.UpdateIKEPolicyView.as_view(), name='update_ikepolicy'), re_path(r'^addipsecpolicy$', views.AddIPsecPolicyView.as_view(), name='addipsecpolicy'), re_path(r'^update_ipsecpolicy/(?P<ipsecpolicy_id>[^/]+)/$', views.UpdateIPsecPolicyView.as_view(), name='update_ipsecpolicy'), re_path(r'^addipsecsiteconnection$', views.AddIPsecSiteConnectionView.as_view(), name='addipsecsiteconnection'), re_path(r'^update_ipsecsiteconnection/(?P<ipsecsiteconnection_id>[^/]+)/$', views.UpdateIPsecSiteConnectionView.as_view(), name='update_ipsecsiteconnection'), re_path(r'^addvpnservice$', views.AddVPNServiceView.as_view(), name='addvpnservice'), re_path(r'^update_vpnservice/(?P<vpnservice_id>[^/]+)/$', views.UpdateVPNServiceView.as_view(), name='update_vpnservice'), re_path(r'^addendpointgroup$', views.AddEndpointGroupView.as_view(), name='addendpointgroup'), re_path(r'^update_endpointgroup/(?P<endpoint_group_id>[^/]+)/$', views.UpdateEndpointGroupView.as_view(), name='update_endpointgroup'), re_path(r'^ikepolicy/(?P<ikepolicy_id>[^/]+)/$', views.IKEPolicyDetailsView.as_view(), name='ikepolicydetails'), re_path(r'^ipsecpolicy/(?P<ipsecpolicy_id>[^/]+)/$', views.IPsecPolicyDetailsView.as_view(), name='ipsecpolicydetails'), re_path(r'^vpnservice/(?P<vpnservice_id>[^/]+)/$', views.VPNServiceDetailsView.as_view(), name='vpnservicedetails'), re_path(r'^endpointgroup/(?P<endpoint_group_id>[^/]+)/$', views.EndpointGroupDetailsView.as_view(), name='endpointgroupdetails'), re_path(r'^ipsecsiteconnection/(?P<ipsecsiteconnection_id>[^/]+)/$', views.IPsecSiteConnectionDetailsView.as_view(), name='ipsecsiteconnectiondetails'),","from django.conf.urls import url url(r'^$', views.IndexView.as_view(), name='index'), url(r'^addikepolicy$', views.AddIKEPolicyView.as_view(), name='addikepolicy'), url(r'^update_ikepolicy/(?P<ikepolicy_id>[^/]+)/$', views.UpdateIKEPolicyView.as_view(), name='update_ikepolicy'), url(r'^addipsecpolicy$', views.AddIPsecPolicyView.as_view(), name='addipsecpolicy'), url(r'^update_ipsecpolicy/(?P<ipsecpolicy_id>[^/]+)/$', views.UpdateIPsecPolicyView.as_view(), name='update_ipsecpolicy'), url(r'^addipsecsiteconnection$', views.AddIPsecSiteConnectionView.as_view(), name='addipsecsiteconnection'), url(r'^update_ipsecsiteconnection/(?P<ipsecsiteconnection_id>[^/]+)/$', views.UpdateIPsecSiteConnectionView.as_view(), name='update_ipsecsiteconnection'), url(r'^addvpnservice$', views.AddVPNServiceView.as_view(), name='addvpnservice'), url(r'^update_vpnservice/(?P<vpnservice_id>[^/]+)/$', views.UpdateVPNServiceView.as_view(), name='update_vpnservice'), url(r'^addendpointgroup$', views.AddEndpointGroupView.as_view(), name='addendpointgroup'), url(r'^update_endpointgroup/(?P<endpoint_group_id>[^/]+)/$', views.UpdateEndpointGroupView.as_view(), name='update_endpointgroup'), url(r'^ikepolicy/(?P<ikepolicy_id>[^/]+)/$', views.IKEPolicyDetailsView.as_view(), name='ikepolicydetails'), url(r'^ipsecpolicy/(?P<ipsecpolicy_id>[^/]+)/$', views.IPsecPolicyDetailsView.as_view(), name='ipsecpolicydetails'), url(r'^vpnservice/(?P<vpnservice_id>[^/]+)/$', views.VPNServiceDetailsView.as_view(), name='vpnservicedetails'), url(r'^endpointgroup/(?P<endpoint_group_id>[^/]+)/$', views.EndpointGroupDetailsView.as_view(), name='endpointgroupdetails'), url(r'^ipsecsiteconnection/(?P<ipsecsiteconnection_id>[^/]+)/$', views.IPsecSiteConnectionDetailsView.as_view(), name='ipsecsiteconnectiondetails'),",37,35
openstack%2Fneutron-vpnaas-dashboard~master~Ib9a4983382efeb4f8292eb275fdb5768d7f60fa7,openstack/neutron-vpnaas-dashboard,master,Ib9a4983382efeb4f8292eb275fdb5768d7f60fa7,Replace deprecated ugettext_lazy and ungettext_lazy,MERGED,2022-07-11 04:33:14.000000000,2022-07-29 16:55:13.000000000,2022-07-29 16:54:19.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-11 04:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/1eb0f22251737bd33ae69848f8793a6150d39226', 'message': 'Replace deprecated ugettext_lazy and ungettext_lazy\n\nThe ugettext_lazy method and the ungettext_lazy method are both\ndeprecated since Django 3.0[1].\n\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/3.0/releases/3.0/#id3\n[2] cd7c1b5110fe1f64cd9dfbeb1072b37912d0efee\n\nChange-Id: Ib9a4983382efeb4f8292eb275fdb5768d7f60fa7\n'}, {'number': 2, 'created': '2022-07-11 04:51:36.000000000', 'files': ['neutron_vpnaas_dashboard/dashboards/project/vpn/views.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/forms.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/tables.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/tabs.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/workflows.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/panel.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/af750f65c39614b83602cbc97b0d1a3894c798a3', 'message': 'Replace deprecated ugettext_lazy and ungettext_lazy\n\nThe ugettext_lazy method and the ungettext_lazy method are both\ndeprecated since Django 3.0[1].\n\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/3.0/releases/3.0/#id3\n[2] cd7c1b5110fe1f64cd9dfbeb1072b37912d0efee\n\nChange-Id: Ib9a4983382efeb4f8292eb275fdb5768d7f60fa7\n'}]",2,849257,af750f65c39614b83602cbc97b0d1a3894c798a3,12,2,2,9816,,,0,"Replace deprecated ugettext_lazy and ungettext_lazy

The ugettext_lazy method and the ungettext_lazy method are both
deprecated since Django 3.0[1].

These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/3.0/releases/3.0/#id3
[2] cd7c1b5110fe1f64cd9dfbeb1072b37912d0efee

Change-Id: Ib9a4983382efeb4f8292eb275fdb5768d7f60fa7
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/57/849257/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas_dashboard/dashboards/project/vpn/views.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/forms.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/tables.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/tabs.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/workflows.py', 'neutron_vpnaas_dashboard/dashboards/project/vpn/panel.py']",6,1eb0f22251737bd33ae69848f8793a6150d39226,django40warning,from django.utils.translation import gettext_lazy as _,from django.utils.translation import ugettext_lazy as _,17,17
openstack%2Fneutron-vpnaas-dashboard~master~I0f8d113814044a60fdd02d23db92f6ca6ec5581a,openstack/neutron-vpnaas-dashboard,master,I0f8d113814044a60fdd02d23db92f6ca6ec5581a,Imported Translations from Zanata,MERGED,2022-06-21 03:34:36.000000000,2022-07-29 16:53:23.000000000,2022-07-29 16:52:07.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-21 03:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/18a5fe6a86f0f91449b8c37fcc2bcb7a959d6b8d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0f8d113814044a60fdd02d23db92f6ca6ec5581a\n'}, {'number': 2, 'created': '2022-07-29 04:09:18.000000000', 'files': ['releasenotes/source/locale/cs/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/es/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/7fe9b11688f61680c223951df18c39d3ee994d5c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0f8d113814044a60fdd02d23db92f6ca6ec5581a\n'}]",0,846864,7fe9b11688f61680c223951df18c39d3ee994d5c,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0f8d113814044a60fdd02d23db92f6ca6ec5581a
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/64/846864/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,18a5fe6a86f0f91449b8c37fcc2bcb7a959d6b8d,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-03-31 16:59+0000\n""""PO-Revision-Date: 2022-06-13 07:50+0000\n""msgid ""Yoga Series Release Notes"" msgstr ""Yoga Series Release Notes"" ","""POT-Creation-Date: 2021-03-02 23:00+0000\n""""PO-Revision-Date: 2020-12-10 01:32+0000\n""",6,2
openstack%2Fneutron-vpnaas-dashboard~master~I083dd5453c6ec0d6d7f35159a8caee053166f860,openstack/neutron-vpnaas-dashboard,master,I083dd5453c6ec0d6d7f35159a8caee053166f860,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:27:31.000000000,2022-07-29 16:49:49.000000000,2022-07-29 16:47:25.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-05-01 01:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/4edc97232064f7b30ae1e07a0e5765f8da1e1071', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I083dd5453c6ec0d6d7f35159a8caee053166f860\n'}, {'number': 2, 'created': '2022-07-29 16:13:36.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/106f64aaefce00ee88a053e639a2e0f226599e8c', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I083dd5453c6ec0d6d7f35159a8caee053166f860\n'}]",0,840088,106f64aaefce00ee88a053e639a2e0f226599e8c,10,3,2,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I083dd5453c6ec0d6d7f35159a8caee053166f860
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/88/840088/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,4edc97232064f7b30ae1e07a0e5765f8da1e1071,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,149
openstack%2Fkolla-ansible~master~Iad9ed241026435085bc9a0f5802818010b47830f,openstack/kolla-ansible,master,Iad9ed241026435085bc9a0f5802818010b47830f,haproxy-config: move firewalld reload handler to haproxy role,MERGED,2022-07-29 13:41:40.000000000,2022-07-29 16:23:24.000000000,2022-07-29 16:22:20.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 33307}]","[{'number': 1, 'created': '2022-07-29 13:41:40.000000000', 'files': ['ansible/roles/loadbalancer/handlers/main.yml', 'ansible/roles/haproxy-config/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/492bc7442f23fe5071462840fa0ebe5227b820dd', 'message': 'haproxy-config: move firewalld reload handler to haproxy role\n\nWith the handler in the haproxy-config role, it gets triggered once for\nevery service that changes the firewall config. This happens because the\nrole is included dynamically. If we move the handler to the haproxy\nrole, which is only included once, the handler will trigger at most\nonce.\n\nThis is a follow up for Iea3680142711873984efff2b701347b6a56dd355.\n\nChange-Id: Iad9ed241026435085bc9a0f5802818010b47830f\n'}]",0,851515,492bc7442f23fe5071462840fa0ebe5227b820dd,10,4,1,14826,,,0,"haproxy-config: move firewalld reload handler to haproxy role

With the handler in the haproxy-config role, it gets triggered once for
every service that changes the firewall config. This happens because the
role is included dynamically. If we move the handler to the haproxy
role, which is only included once, the handler will trigger at most
once.

This is a follow up for Iea3680142711873984efff2b701347b6a56dd355.

Change-Id: Iad9ed241026435085bc9a0f5802818010b47830f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/851515/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/loadbalancer/handlers/main.yml', 'ansible/roles/haproxy-config/handlers/main.yml']",2,492bc7442f23fe5071462840fa0ebe5227b820dd,,,"--- - name: Reload firewalld become: True service: name: ""firewalld"" state: reloaded ",6,6
openstack%2Fheat~stable%2Ftrain~I2de594258231e3f1c217904afce88a83a8f94df3,openstack/heat,stable/train,I2de594258231e3f1c217904afce88a83a8f94df3,Make grenade job voting again,MERGED,2022-07-07 11:23:16.000000000,2022-07-29 16:20:51.000000000,2022-07-29 16:18:36.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-07 11:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a084d20741367696120ef6e6cb7e80b2e0069041', 'message': ""Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nBackport note:\nThis includes the following follow-up commit.\n\n(commit fee8c40c23fb160a4fe64e95a71f827528287690)\nUse constraints when creating venv for grenade\n\nAs a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54\nlet's use branch specific upper constraints when running tests in\ngrenade.\n\nConflicts:\n\tdevstack/upgrade/resources.sh\n\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)\n(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)\n(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)\n(cherry picked from commit b4d159b87e606024d65bb285576c64bd1c72fecd)\n(cherry picked from commit d7582f0032e753fdee9f5b12f17d66fd89aa4e85)\n(cherry picked from commit 72715a1f2f32b3ff377180d3b7700b97ad46b16d)\n""}, {'number': 2, 'created': '2022-07-29 09:52:28.000000000', 'files': ['.zuul.yaml', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/94cc394fe4311f462dcbab24e68761644e60d01b', 'message': ""Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nBackport note:\nThis includes the following follow-up commit.\n\n(commit fee8c40c23fb160a4fe64e95a71f827528287690)\nUse constraints when creating venv for grenade\n\nAs a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54\nlet's use branch specific upper constraints when running tests in\ngrenade.\n\nConflicts:\n\tdevstack/upgrade/resources.sh\n\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)\n(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)\n(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)\n(cherry picked from commit b4d159b87e606024d65bb285576c64bd1c72fecd)\n(cherry picked from commit d7582f0032e753fdee9f5b12f17d66fd89aa4e85)\n(cherry picked from commit 72715a1f2f32b3ff377180d3b7700b97ad46b16d)\n""}]",3,848945,94cc394fe4311f462dcbab24e68761644e60d01b,14,2,2,8833,,,0,"Make grenade job voting again

Because change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported
to the previous stable branch.

Backport note:
This includes the following follow-up commit.

(commit fee8c40c23fb160a4fe64e95a71f827528287690)
Use constraints when creating venv for grenade

As a followup for change I6a8cffdc86c895eebe4269c5cd37841325566c54
let's use branch specific upper constraints when running tests in
grenade.

Conflicts:
	devstack/upgrade/resources.sh

Change-Id: I2de594258231e3f1c217904afce88a83a8f94df3
(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)
(cherry picked from commit 03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e)
(cherry picked from commit e3ec8946b3de50c76b2c3b08c2f7356842d3f45a)
(cherry picked from commit b4d159b87e606024d65bb285576c64bd1c72fecd)
(cherry picked from commit d7582f0032e753fdee9f5b12f17d66fd89aa4e85)
(cherry picked from commit 72715a1f2f32b3ff377180d3b7700b97ad46b16d)
",git fetch https://review.opendev.org/openstack/heat refs/changes/45/848945/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/upgrade/resources.sh']",2,a084d20741367696120ef6e6cb7e80b2e0069041,, export UPPER_CONSTRAINTS_FILE=$DEST/requirements/upper-constraints.txt export TOX_CONSTRAINTS_FILE=$UPPER_CONSTRAINTS_FILE export HEAT_TEMPEST_PLUGIN=$DEST/heat-tempest-plugin sudo git config --system --add safe.directory $HEAT_TEMPEST_PLUGIN tox -evenv-tempest -- pip install -c$UPPER_CONSTRAINTS_FILE $HEAT_TEMPEST_PLUGIN," # NOTE(gmann): If devstack is pinned to use the non master # Tempest and constraints for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. if [[ $use_stable_constraints == ""True"" ]]; then echo ""Using $DEST/requirements/upper-constraints.txt constraints in Tempest venv."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$DEST/requirements/upper-constraints.txt export TOX_CONSTRAINTS_FILE=$UPPER_CONSTRAINTS_FILE else echo ""Using master constraints in Tempest venv."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=https://releases.openstack.org/constraints/upper/master export TOX_CONSTRAINTS_FILE=$UPPER_CONSTRAINTS_FILE fi",6,22
openstack%2Fcharm-ceph-dashboard~master~I6204397161c2770acc759dd310a7ba3e3eb4d685,openstack/charm-ceph-dashboard,master,I6204397161c2770acc759dd310a7ba3e3eb4d685,Update deployment commands,MERGED,2022-07-20 22:16:00.000000000,2022-07-29 16:16:07.000000000,2022-07-29 16:16:07.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 34952}]","[{'number': 1, 'created': '2022-07-20 22:16:00.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/6453fd69bd7d33d167a7a459f5f77bef83c7e963', 'message': 'Update deployment commands\n\nUpdate the README deployment commands by removing the\ncs: prefix and the Charm Store openstack-charmers\nnamespace.\n\nChange-Id: I6204397161c2770acc759dd310a7ba3e3eb4d685\n'}]",2,850588,6453fd69bd7d33d167a7a459f5f77bef83c7e963,9,4,1,30561,,,0,"Update deployment commands

Update the README deployment commands by removing the
cs: prefix and the Charm Store openstack-charmers
namespace.

Change-Id: I6204397161c2770acc759dd310a7ba3e3eb4d685
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/88/850588/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,6453fd69bd7d33d167a7a459f5f77bef83c7e963,fixup-readme, juju deploy ceph-dashboard juju deploy -n 3 --config vip=10.5.20.200 openstack-loadbalancer, juju deploy cs:~openstack-charmers/ceph-dashboard juju deploy -n 3 --config vip=10.5.20.200 cs:~openstack-charmers/openstack-loadbalancer,2,2
openstack%2Fcharm-deployment-guide~master~I2f8c78c994d1fba6eccc7ad6f2953a408afb5875,openstack/charm-deployment-guide,master,I2f8c78c994d1fba6eccc7ad6f2953a408afb5875,Small improvements to upgrade overview,MERGED,2022-07-26 19:48:29.000000000,2022-07-29 16:12:18.000000000,2022-07-29 16:11:09.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 19:48:29.000000000', 'files': ['deploy-guide/source/upgrade-overview.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/365e7576bb73f1dd9f5bb04d380bba8910124aa0', 'message': 'Small improvements to upgrade overview\n\nAlso remove a hardcoded temporal reference that will soon be\nout of date.\n\nChange-Id: I2f8c78c994d1fba6eccc7ad6f2953a408afb5875\n'}]",1,851086,365e7576bb73f1dd9f5bb04d380bba8910124aa0,7,2,1,30561,,,0,"Small improvements to upgrade overview

Also remove a hardcoded temporal reference that will soon be
out of date.

Change-Id: I2f8c78c994d1fba6eccc7ad6f2953a408afb5875
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/86/851086/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-overview.rst'],1,365e7576bb73f1dd9f5bb04d380bba8910124aa0,improve-upgrade-overview, For an overview of how charms are distributed to the end-user see :doc:`cg:project/charm-delivery` in the Charm Guide., For an overview of how charms are consumed by the end-user see `Charm delivery`_.The most recent supported series-openstack combination is ``focal-yoga``. Channels however are available for many older combinations. .. _Release schedule: https://docs.openstack.org/charm-guide/latest/release-schedule.html .. _Charm delivery: https://docs.openstack.org/charm-guide/latest/project/charm-delivery.html,2,7
openstack%2Fkolla-ansible~master~Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2,openstack/kolla-ansible,master,Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2,haproxy-config: Drop project_name variable,MERGED,2022-07-29 13:37:15.000000000,2022-07-29 16:07:36.000000000,2022-07-29 16:05:53.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-29 13:37:15.000000000', 'files': ['ansible/roles/haproxy-config/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5439189932aee995e4b02e4bda3035908f03878c', 'message': 'haproxy-config: Drop project_name variable\n\nThis variable shadows the name of the actual project that calls this\nrole, so we end up with the following nonsense:\n\n  TASK [haproxy-config : Copying over haproxy-config haproxy config]\n\nChange-Id: Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2\n'}]",3,851513,5439189932aee995e4b02e4bda3035908f03878c,12,4,1,14826,,,0,"haproxy-config: Drop project_name variable

This variable shadows the name of the actual project that calls this
role, so we end up with the following nonsense:

  TASK [haproxy-config : Copying over haproxy-config haproxy config]

Change-Id: Id60046e0ddc7ec843f2e4ce7ddee7683470a88b2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/851513/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy-config/vars/main.yml'],1,5439189932aee995e4b02e4bda3035908f03878c,,,"--- project_name: ""haproxy-config"" ",0,2
openstack%2Freleases~master~I2d6c7937703ef8c7417ab5c092d96899d4af89ea,openstack/releases,master,I2d6c7937703ef8c7417ab5c092d96899d4af89ea,[Quality Assurance] Transition Pike to End of Life,ABANDONED,2022-07-29 16:04:17.000000000,2022-07-29 16:04:57.000000000,,[],"[{'number': 1, 'created': '2022-07-29 16:04:17.000000000', 'files': ['deliverables/pike/patrole.yaml', 'deliverables/pike/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a8efe6347c47f5c4f02e464f8d028fc67b8f868d', 'message': ""[Quality Assurance] Transition Pike to End of Life\n\nThis transition the Pike branch to End of Life. The last patch of the\nbranch will be tagged with pike-eol tag. The stable/pike branch cannot\nbe used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/pike is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/pike is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I2d6c7937703ef8c7417ab5c092d96899d4af89ea\n""}]",0,851587,a8efe6347c47f5c4f02e464f8d028fc67b8f868d,2,0,1,17685,,,0,"[Quality Assurance] Transition Pike to End of Life

This transition the Pike branch to End of Life. The last patch of the
branch will be tagged with pike-eol tag. The stable/pike branch cannot
be used anymore and will be deleted if this patch merges.

This is needed as stable/pike is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/pike is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I2d6c7937703ef8c7417ab5c092d96899d4af89ea
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/851587/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/patrole.yaml', 'deliverables/pike/tempest.yaml']",2,a8efe6347c47f5c4f02e464f8d028fc67b8f868d,pike-eol,team: Quality Assurance - version: pike-eol projects: - repo: openstack/tempest hash: 5d85eb5da2cc3232c04aedc8062931dc20327420,team: 'Quality Assurance',10,2
openstack%2Fmanila~stable%2Fvictoria~I8eda1c849d0d1916345959178f32756e8a1e9c0e,openstack/manila,stable/victoria,I8eda1c849d0d1916345959178f32756e8a1e9c0e,Stop logging sensitive login information,MERGED,2022-07-13 16:16:15.000000000,2022-07-29 16:03:12.000000000,2022-07-29 16:01:57.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-07-13 16:16:15.000000000', 'files': ['releasenotes/notes/bug-1976370-stop-logging-login-information-b726d05ee805df27.yaml', 'manila/utils.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9fe6e8094f65fc3eb800de37777be043b2771ad8', 'message': 'Stop logging sensitive login information\n\nusernames and passwords must never be logged\nby the service, even in debug mode.\n\nChange-Id: I8eda1c849d0d1916345959178f32756e8a1e9c0e\nCloses-Bug: #1976370\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 517966292af2eccb4f98520aba4374f463de21c9)\n(cherry picked from commit 48f4bf6a168a8ec59ea26e44e1bdcf262ae96e90)\n(cherry picked from commit b7190fe3e72a9f9fa4ec5adfb1842d0fd85529d0)\n(cherry picked from commit 732bf38f5d7caf00489901b0a5f09187c72f4e6d)\n'}]",3,849647,9fe6e8094f65fc3eb800de37777be043b2771ad8,15,3,1,16643,,,0,"Stop logging sensitive login information

usernames and passwords must never be logged
by the service, even in debug mode.

Change-Id: I8eda1c849d0d1916345959178f32756e8a1e9c0e
Closes-Bug: #1976370
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 517966292af2eccb4f98520aba4374f463de21c9)
(cherry picked from commit 48f4bf6a168a8ec59ea26e44e1bdcf262ae96e90)
(cherry picked from commit b7190fe3e72a9f9fa4ec5adfb1842d0fd85529d0)
(cherry picked from commit 732bf38f5d7caf00489901b0a5f09187c72f4e6d)
",git fetch https://review.opendev.org/openstack/manila refs/changes/47/849647/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1976370-stop-logging-login-information-b726d05ee805df27.yaml', 'manila/utils.py']",2,9fe6e8094f65fc3eb800de37777be043b2771ad8,bug/1976370," LOG.debug(""ssh.connect: ip: %s, port: %s, look_for_keys: %s, """," LOG.debug(""ssh.connect: ip: %s, port: %s, username: %s, "" ""password: %s, key_filename: %s, look_for_keys: %s, "" self.login, self.password, self.path_to_private_key,",6,5
openstack%2Frequirements~master~I7e718345c9ec220c82689de56d367773d8e19a0b,openstack/requirements,master,I7e718345c9ec220c82689de56d367773d8e19a0b,Exclude Werkzeug 2.2.0,MERGED,2022-07-29 09:38:58.000000000,2022-07-29 15:09:33.000000000,2022-07-29 15:08:30.000000000,"[{'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 09:38:58.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bed46f4b7ab58badcddd45e0666481eb89aedcaf', 'message': 'Exclude Werkzeug 2.2.0\n\nThis version broke the behavior of strict_slashes=False that\nironic-inspector relies on. See this bug:\nhttps://github.com/pallets/werkzeug/issues/2467\n\nThe newly released 2.2.1 fixes it, jump straight to it.\n\nChange-Id: I7e718345c9ec220c82689de56d367773d8e19a0b\n'}]",1,851500,bed46f4b7ab58badcddd45e0666481eb89aedcaf,12,3,1,10239,,,0,"Exclude Werkzeug 2.2.0

This version broke the behavior of strict_slashes=False that
ironic-inspector relies on. See this bug:
https://github.com/pallets/werkzeug/issues/2467

The newly released 2.2.1 fixes it, jump straight to it.

Change-Id: I7e718345c9ec220c82689de56d367773d8e19a0b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/851500/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,bed46f4b7ab58badcddd45e0666481eb89aedcaf,Werkzeug-2.2.0,Werkzeug===2.2.1,Werkzeug===2.2.0,2,2
openstack%2Fcinder~master~Ib6c8a7a1a8eb180a1b689dc266d614c962de3193,openstack/cinder,master,Ib6c8a7a1a8eb180a1b689dc266d614c962de3193,Change cinder-mypy job to voting,MERGED,2022-07-25 18:21:58.000000000,2022-07-29 15:07:40.000000000,2022-07-29 00:45:47.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32074}]","[{'number': 1, 'created': '2022-07-25 18:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bed4c344ddf9924400ee3de30ec1b23160c44f46', 'message': ""Change cinder-mypy job to voting\n\nEnsure new changes don't fail the cinder-mypy job.\n\nChange-Id: Ib6c8a7a1a8eb180a1b689dc266d614c962de3193\n""}, {'number': 2, 'created': '2022-07-26 12:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/533c8b1ba4dc8c283e3e2d561b9bc784fa61be11', 'message': ""Change cinder-mypy job to voting\n\nEnsure new changes don't fail the cinder-mypy job.\n\nChange-Id: Ib6c8a7a1a8eb180a1b689dc266d614c962de3193\n""}, {'number': 3, 'created': '2022-07-26 13:51:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/80943311834aa52ed1ea34b9f61924a583d3363b', 'message': ""Change cinder-mypy job to voting\n\nEnsure new changes don't fail the cinder-mypy job.\n\nChange-Id: Ib6c8a7a1a8eb180a1b689dc266d614c962de3193\n""}]",8,850939,80943311834aa52ed1ea34b9f61924a583d3363b,85,5,3,4523,,,0,"Change cinder-mypy job to voting

Ensure new changes don't fail the cinder-mypy job.

Change-Id: Ib6c8a7a1a8eb180a1b689dc266d614c962de3193
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/850939/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bed4c344ddf9924400ee3de30ec1b23160c44f46,, - cinder-mypy, - cinder-mypy: voting: false,1,2
openstack%2Fpuppet-vswitch~master~Ie535f4abc79b1b7d12082357976746d7eec80848,openstack/puppet-vswitch,master,Ie535f4abc79b1b7d12082357976746d7eec80848,Re-enable scenario 003 integration job,MERGED,2022-07-17 02:09:12.000000000,2022-07-29 15:03:27.000000000,2022-07-29 15:03:27.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-17 02:09:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/4300436b62a822205ff1d60a56053ae5cbb29fd5', 'message': ""Re-enable scenario 003 integration job\n\nWe've replaced ml2+linuxbridge by ml2+ovn in scenario 003, so this\nmodule is now used in that scenario as well.\n\nDepends-on: https://review.opendev.org/849080\nChange-Id: Ie535f4abc79b1b7d12082357976746d7eec80848\n""}]",1,850113,4300436b62a822205ff1d60a56053ae5cbb29fd5,8,3,1,9816,,,0,"Re-enable scenario 003 integration job

We've replaced ml2+linuxbridge by ml2+ovn in scenario 003, so this
module is now used in that scenario as well.

Depends-on: https://review.opendev.org/849080
Change-Id: Ie535f4abc79b1b7d12082357976746d7eec80848
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/13/850113/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4300436b62a822205ff1d60a56053ae5cbb29fd5,sc003-ovn, - puppet-openstack-integration-jobs-all, - puppet-openstack-integration-jobs-scenario001 - puppet-openstack-integration-jobs-scenario002 - puppet-openstack-integration-jobs-scenario004 - puppet-openstack-integration-jobs-scenario005,1,4
openstack%2Fproject-config~master~I42adc68695cd1fdf48779674935de69b81ffb9a2,openstack/project-config,master,I42adc68695cd1fdf48779674935de69b81ffb9a2,Temporarily turn on console logs for rocky in iweb,MERGED,2022-07-29 13:59:19.000000000,2022-07-29 15:02:46.000000000,2022-07-29 14:31:53.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 13:59:19.000000000', 'files': ['nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1a58f0f325958c9525d4e6759118b7021b5b99b2', 'message': ""Temporarily turn on console logs for rocky in iweb\n\nOur rockylinux-8 images have stopped being reachable on boot over\nthe past few days. The images are building fine, but we need more\ninsight into what's happening at boot time. The only provider with\nstandard flavors, console log capability and sufficient quota to\nboot these with any regularity is iweb-mtl01, so turn on the\nconsole-log toggle there for now. We can revert this once the root\ncause is identified.\n\nChange-Id: I42adc68695cd1fdf48779674935de69b81ffb9a2\n""}]",0,851519,1a58f0f325958c9525d4e6759118b7021b5b99b2,7,2,1,5263,,,0,"Temporarily turn on console logs for rocky in iweb

Our rockylinux-8 images have stopped being reachable on boot over
the past few days. The images are building fine, but we need more
insight into what's happening at boot time. The only provider with
standard flavors, console log capability and sufficient quota to
boot these with any regularity is iweb-mtl01, so turn on the
console-log toggle there for now. We can revert this once the root
cause is identified.

Change-Id: I42adc68695cd1fdf48779674935de69b81ffb9a2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/19/851519/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.opendev.org.yaml'],1,1a58f0f325958c9525d4e6759118b7021b5b99b2,rockylinux-8, console-log: true,,1,0
openstack%2Fpuppet-ovn~master~Ibd494d3e8c8fc362143e93c95e72a03bde83890c,openstack/puppet-ovn,master,Ibd494d3e8c8fc362143e93c95e72a03bde83890c,Enable scenario 003 integration job,MERGED,2022-07-16 14:07:03.000000000,2022-07-29 14:59:13.000000000,2022-07-29 14:59:13.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-16 14:07:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/260b4ae93da18f86543cbae697973ea590c621da', 'message': 'Enable scenario 003 integration job\n\nNow we use ml2+ovn in scenario 003 as the replacement of unmaintained\nml2+linuxbridge.\n\nDepends-on: https://review.opendev.org/849080\nChange-Id: Ibd494d3e8c8fc362143e93c95e72a03bde83890c\n'}]",1,850089,260b4ae93da18f86543cbae697973ea590c621da,8,3,1,9816,,,0,"Enable scenario 003 integration job

Now we use ml2+ovn in scenario 003 as the replacement of unmaintained
ml2+linuxbridge.

Depends-on: https://review.opendev.org/849080
Change-Id: Ibd494d3e8c8fc362143e93c95e72a03bde83890c
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/89/850089/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,260b4ae93da18f86543cbae697973ea590c621da,sc003-ovn, - puppet-openstack-integration-jobs-scenario003,,1,0
openstack%2Fopenstack-tempest-skiplist~master~I6f5281313c6b7d6179fad979300a61ecc60633df,openstack/openstack-tempest-skiplist,master,I6f5281313c6b7d6179fad979300a61ecc60633df,Adds sc004 of 17.1 on rhel 9 to test_object_storage_basic_ops.TestObjectStorageBasicOps skiplist,MERGED,2022-07-29 14:35:21.000000000,2022-07-29 14:55:59.000000000,2022-07-29 14:54:44.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 14:35:21.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/e316acf345f41f5b820ba5958f17808db392d6de', 'message': 'Adds sc004 of 17.1 on rhel 9 to test_object_storage_basic_ops.TestObjectStorageBasicOps skiplist\n\nChange-Id: I6f5281313c6b7d6179fad979300a61ecc60633df\n'}]",0,851528,e316acf345f41f5b820ba5958f17808db392d6de,7,2,1,32458,,,0,"Adds sc004 of 17.1 on rhel 9 to test_object_storage_basic_ops.TestObjectStorageBasicOps skiplist

Change-Id: I6f5281313c6b7d6179fad979300a61ecc60633df
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/28/851528/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,e316acf345f41f5b820ba5958f17808db392d6de,, - periodic-tripleo-ci-rhel-9-scenario004-standalone-rhos-17.1,,1,0
openstack%2Fproject-config~master~I0b7fc39fb422f89a04ec926607619c3418016787,openstack/project-config,master,I0b7fc39fb422f89a04ec926607619c3418016787,Allow Stackalytics maintainers to rewrite history,MERGED,2022-07-28 19:05:02.000000000,2022-07-29 14:51:19.000000000,2022-07-29 14:16:02.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 8863}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 19:05:02.000000000', 'files': ['gerrit/acls/x/stackalytics.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/af6c72df8a791970494b74b55edd64a93c706031', 'message': ""Allow Stackalytics maintainers to rewrite history\n\nIn order to filter some potentially problematic content from the\nx/stackalytics repository's master branch history, grant its\nmaintainers permission to push --force that rewrite including\nchanges from other committers and merge commits.\n\nChange-Id: I0b7fc39fb422f89a04ec926607619c3418016787\n""}]",0,851454,af6c72df8a791970494b74b55edd64a93c706031,9,4,1,5263,,,0,"Allow Stackalytics maintainers to rewrite history

In order to filter some potentially problematic content from the
x/stackalytics repository's master branch history, grant its
maintainers permission to push --force that rewrite including
changes from other committers and merge commits.

Change-Id: I0b7fc39fb422f89a04ec926607619c3418016787
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/851454/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/x/stackalytics.config'],1,af6c72df8a791970494b74b55edd64a93c706031,stackalytics-rehistory,"[access ""refs/*""] forgeCommitter = group stackalytics-core push = +force group stackalytics-core pushMerge = group stackalytics-core ",,5,0
openstack%2Fcharm-glance-simplestreams-sync~master~Idd92fcc400b29dba3daff53208abfdc539b28d15,openstack/charm-glance-simplestreams-sync,master,Idd92fcc400b29dba3daff53208abfdc539b28d15,Pin tempest for python<3.8,ABANDONED,2022-06-23 04:54:16.000000000,2022-07-29 14:49:31.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-23 04:54:16.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/3a8a1ade7b7af13ce4d6825c7bf884609381bc85', 'message': 'Pin tempest for python<3.8\n\nChange-Id: Idd92fcc400b29dba3daff53208abfdc539b28d15\n'}]",0,847239,3a8a1ade7b7af13ce4d6825c7bf884609381bc85,4,2,1,8108,,,0,"Pin tempest for python<3.8

Change-Id: Idd92fcc400b29dba3daff53208abfdc539b28d15
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/39/847239/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3a8a1ade7b7af13ce4d6825c7bf884609381bc85,,git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.8' tempest<31.0.0;python_version<'3.8',git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.6',2,1
openstack%2Fpython-swiftclient~master~Ibac2bb7e2e4c9946c7384f0aab8e43d0d79ba645,openstack/python-swiftclient,master,Ibac2bb7e2e4c9946c7384f0aab8e43d0d79ba645,tempurl: Support sha256 and sha512 signatures,MERGED,2022-06-08 16:33:29.000000000,2022-07-29 14:30:58.000000000,2022-06-16 01:15:12.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-08 16:33:29.000000000', 'files': ['swiftclient/shell.py', 'swiftclient/utils.py', 'test/unit/test_utils.py', 'test/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/9eee29d2e46e774eb08acb76c3317a58856f3f71', 'message': 'tempurl: Support sha256 and sha512 signatures\n\nUp the default to sha256 since\n\n* the proxy has supported (and defaulted to allowing) it for four years\n  now, and\n* Rackspace has supported it for even longer.\n\nInclude a note in the --help about older clusters likely requiring sha1.\n\nChange-Id: Ibac2bb7e2e4c9946c7384f0aab8e43d0d79ba645\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nRelated-Bug: #1733634\nCloses-Bug: #1977867\n'}]",6,845157,9eee29d2e46e774eb08acb76c3317a58856f3f71,13,3,1,15343,,,0,"tempurl: Support sha256 and sha512 signatures

Up the default to sha256 since

* the proxy has supported (and defaulted to allowing) it for four years
  now, and
* Rackspace has supported it for even longer.

Include a note in the --help about older clusters likely requiring sha1.

Change-Id: Ibac2bb7e2e4c9946c7384f0aab8e43d0d79ba645
Related-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046
Related-Bug: #1733634
Closes-Bug: #1977867
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/57/845157/1 && git format-patch -1 --stdout FETCH_HEAD,"['swiftclient/shell.py', 'swiftclient/utils.py', 'test/unit/test_utils.py', 'test/unit/test_shell.py']",4,9eee29d2e46e774eb08acb76c3317a58856f3f71,," iso8601=False, prefix=False, ip_range=None, digest='sha256') iso8601=False, prefix=True, ip_range=None, digest='sha256') iso8601=False, prefix=False, ip_range=None, digest='sha256') iso8601=True, prefix=False, ip_range=None, digest='sha256') iso8601=False, prefix=False, ip_range=None, digest='sha256') iso8601=False, prefix=False, ip_range='1.2.3.4', digest='sha256') ""secret_key"", ""--absolute"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--prefix"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--prefix"", '--iso8601', ""--digest"", ""sha1""] ""secret_key"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--digest"", ""sha1""] ""secret_key"", ""--absolute"", ""--ip-range"", ""1.2.3.4"", ""--digest"", ""sha1""] def test_temp_url_digests_output(self): argv = ["""", ""tempurl"", ""GET"", ""60"", ""/v1/a/c/o"", ""secret_key"", ""--absolute""] with CaptureOutput(suppress_systemexit=True) as output: swiftclient.shell.main(argv) s = ""db04994a589b1a2538bff694f0a4f57c7a397617ac2cb49f924d222bbe2b3e01"" expected = ""/v1/a/c/o?temp_url_sig=%s&temp_url_expires=60\n"" % s self.assertEqual(expected, output.out) argv = ["""", ""tempurl"", ""GET"", ""60"", ""/v1/a/c/o"", ""secret_key"", ""--absolute"", ""--digest"", ""sha256""] with CaptureOutput(suppress_systemexit=True) as output: swiftclient.shell.main(argv) # same signature/expectation self.assertEqual(expected, output.out) argv = ["""", ""tempurl"", ""GET"", ""60"", ""/v1/a/c/o"", ""secret_key"", ""--absolute"", ""--digest"", ""sha1""] with CaptureOutput(suppress_systemexit=True) as output: swiftclient.shell.main(argv) sig = ""63bc77a473a1c2ce956548cacf916f292eb9eac3"" expected = ""/v1/a/c/o?temp_url_sig=%s&temp_url_expires=60\n"" % sig self.assertEqual(expected, output.out) argv = ["""", ""tempurl"", ""GET"", ""60"", ""/v1/a/c/o"", ""secret_key"", ""--absolute"", ""--digest"", ""sha512""] with CaptureOutput(suppress_systemexit=True) as output: swiftclient.shell.main(argv) sig = (""sha512:nMXwEAHu3jzlCZi4wWO1juEq4DikFlX8a729PLJVvUp"" ""vg0GpgkJnX5uCG1x-v2KfTrmRtLOcT7KBK2RXLW1uKw"") expected = ""/v1/a/c/o?temp_url_sig=%s&temp_url_expires=60\n"" % sig self.assertEqual(expected, output.out) "," iso8601=False, prefix=False, ip_range=None) iso8601=False, prefix=True, ip_range=None) iso8601=False, prefix=False, ip_range=None) iso8601=True, prefix=False, ip_range=None) iso8601=False, prefix=False, ip_range=None) iso8601=False, prefix=False, ip_range='1.2.3.4') ""secret_key"", ""--absolute""] ""secret_key"", ""--absolute""] ""secret_key"", ""--absolute"", ""--prefix""] ""secret_key"", ""--absolute"", ""--prefix"", '--iso8601'] ""secret_key""] ""secret_key"", ""--absolute""] ""secret_key"", ""--absolute""] ""secret_key"", ""--absolute"", ""--ip-range"", ""1.2.3.4""]",151,48
openstack%2Fopenstack-ansible-lxc_hosts~master~I3e761c181c1bf3b736fff3bf9ac441e266bc4e2c,openstack/openstack-ansible-lxc_hosts,master,I3e761c181c1bf3b736fff3bf9ac441e266bc4e2c,Take account of lxc_apt_mirror in new debootstrap command,MERGED,2022-07-27 10:07:35.000000000,2022-07-29 14:01:10.000000000,2022-07-29 13:59:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-07-27 10:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/8ddf8ff34b711d57b8cc4459833c203253df7cef', 'message': 'Take account of lxc_apt_mirror in new debootstrap command\n\nWithout this change the mirror variable is ignored which can\ncause issues on systems running behind a proxy.\n\nChange-Id: I3e761c181c1bf3b736fff3bf9ac441e266bc4e2c\n'}, {'number': 2, 'created': '2022-07-27 12:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/45878f7dcde77d447bb47385a3fafdad2743f1e8', 'message': 'Take account of lxc_apt_mirror in new debootstrap command\n\nWithout this change the mirror variable is ignored which can\ncause issues on systems running behind a proxy.\n\nChange-Id: I3e761c181c1bf3b736fff3bf9ac441e266bc4e2c\n'}, {'number': 3, 'created': '2022-07-27 14:37:05.000000000', 'files': ['vars/debian.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/783076a508d64918eb474ea5069b1261efdbaf79', 'message': 'Take account of lxc_apt_mirror in new debootstrap command\n\nWithout this change the mirror variable is ignored which can\ncause issues on systems running behind a proxy.\n\nChange-Id: I3e761c181c1bf3b736fff3bf9ac441e266bc4e2c\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/851233\n'}]",2,851203,783076a508d64918eb474ea5069b1261efdbaf79,19,3,3,31542,,,0,"Take account of lxc_apt_mirror in new debootstrap command

Without this change the mirror variable is ignored which can
cause issues on systems running behind a proxy.

Change-Id: I3e761c181c1bf3b736fff3bf9ac441e266bc4e2c
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/851233
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/03/851203/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,8ddf8ff34b711d57b8cc4459833c203253df7cef,,"_lxc_hosts_container_build_command: ""debootstrap --variant minbase {{ ansible_facts['distribution_release'] }} /var/lib/machines/{{ lxc_container_base_name }} {{ lxc_apt_mirror }}""","_lxc_hosts_container_build_command: ""debootstrap --variant minbase {{ ansible_facts['distribution_release'] }} /var/lib/machines/{{ lxc_container_base_name }} """,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I34d544a0f9f89e57d5f3d3f59b701a6e1fc9ceb7,openstack/python-tripleoclient,stable/wallaby,I34d544a0f9f89e57d5f3d3f59b701a6e1fc9ceb7,Mark centos-8-9-multinode-mixed-os non voting for tripleoclient,MERGED,2022-07-28 07:22:46.000000000,2022-07-29 13:53:29.000000000,2022-07-29 08:48:37.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-07-28 07:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fb0bcb212b0cef7b9921eb722577513fa02b675f', 'message': 'Mark centos-8-9-multinode-mixed-os non voting for tripleoclient\n\nThis is wallaby only as we only run the job here. Marking non\nvoting because of related bug. We can revert once we find the issue\n\nChange-Id: I34d544a0f9f89e57d5f3d3f59b701a6e1fc9ceb7\nRelated-Bug: 1983004\n'}, {'number': 2, 'created': '2022-07-28 07:24:22.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5437906929059d4844fbcc4e04a7dac70621d0cb', 'message': 'Mark centos-8-9-multinode-mixed-os non voting for tripleoclient\n\nThis is wallaby only as we only run the job here. Marking non\nvoting because of related bug. We can revert once we find the issue\n\nChange-Id: I34d544a0f9f89e57d5f3d3f59b701a6e1fc9ceb7\nRelated-Bug: 1983004\n'}]",5,851350,5437906929059d4844fbcc4e04a7dac70621d0cb,22,4,2,8449,,,0,"Mark centos-8-9-multinode-mixed-os non voting for tripleoclient

This is wallaby only as we only run the job here. Marking non
voting because of related bug. We can revert once we find the issue

Change-Id: I34d544a0f9f89e57d5f3d3f59b701a6e1fc9ceb7
Related-Bug: 1983004
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/50/851350/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,fb0bcb212b0cef7b9921eb722577513fa02b675f,, - tripleo-ci-centos-8-9-multinode-mixed-os: &multinode_mixed_os voting: false vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-9-content-provider gate: jobs: - tripleo-ci-centos-8-content-provider: &content_provider_deps dependencies: - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py38 - tripleo-ci-centos-9-content-provider: *content_provider_deps - tripleo-ci-centos-8-9-multinode-mixed-os: *multinode_mixed_os,,19,0
openstack%2Fneutron~master~If7990bdec435af76ad2e88fd4ea2bc24a255fd5a,openstack/neutron,master,If7990bdec435af76ad2e88fd4ea2bc24a255fd5a,Port update will trigger less notifications to the DHCP agents,MERGED,2022-07-20 14:22:19.000000000,2022-07-29 13:47:42.000000000,2022-07-29 13:45:27.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-20 14:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/298f30a3dd7dd9cb7b4c2524fda586074d81bb5f', 'message': ""Port update will trigger less notifications to the DHCP agents\n\nAfter port update, DHCP agent will be notified about changes only if\nport's fixed_ips or MAC address was changed. In other cases there is no\nreason to send notifications to the agent.\nThis will results with less notifications to the DHCP agent and less\npossibilities to race condition between DHCP and L2 agents while\nswitching ports from the DOWN to ACTIVE status and sending notifications\nto nova.\n\nThat behavior is now also the same as in ML2 plugin's port_update to\ndetermine when to set dhcp provisioning block.\n\nCloses-Bug: #1982367\nChange-Id: If7990bdec435af76ad2e88fd4ea2bc24a255fd5a\n""}, {'number': 2, 'created': '2022-07-21 10:12:06.000000000', 'files': ['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/06ddcaf4368ce054a8d396e70880f7dd1abe0562', 'message': ""Port update will trigger less notifications to the DHCP agents\n\nAfter port update, DHCP agent will be notified about changes only if\none of the port's attributes related somehow to the DHCP will change.\nSuch fields are:\n* fixed_ips,\n* MAC address,\n* dns_domain,\n* dns_name,\n* dns_assignment,\n* extra_dhcp_opts.\n\nIn other cases there is no reason to send notifications to the agent.\nThis will results with less notifications to the DHCP agent and less\npossibilities to race condition between DHCP and L2 agents while\nswitching ports from the DOWN to ACTIVE status and sending notifications\nto nova.\n\nCloses-Bug: #1982367\nChange-Id: If7990bdec435af76ad2e88fd4ea2bc24a255fd5a\n""}]",14,850529,06ddcaf4368ce054a8d396e70880f7dd1abe0562,24,8,2,11975,,,0,"Port update will trigger less notifications to the DHCP agents

After port update, DHCP agent will be notified about changes only if
one of the port's attributes related somehow to the DHCP will change.
Such fields are:
* fixed_ips,
* MAC address,
* dns_domain,
* dns_name,
* dns_assignment,
* extra_dhcp_opts.

In other cases there is no reason to send notifications to the agent.
This will results with less notifications to the DHCP agent and less
possibilities to race condition between DHCP and L2 agents while
switching ports from the DOWN to ACTIVE status and sending notifications
to nova.

Closes-Bug: #1982367
Change-Id: If7990bdec435af76ad2e88fd4ea2bc24a255fd5a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/850529/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",2,298f30a3dd7dd9cb7b4c2524fda586074d81bb5f,bug/1982367," def test__notification_is_needed(self): 'revision_number': 1, 'fixed_ips': [{'ip_address': '10.0.0.10', 'subnet_id': 'aaa'}], 'mac_address': 'aa:bb:cc:dd:ee:ff'} self.assertFalse(self.notifier._notification_is_needed(p1, p2)) self.assertFalse(self.notifier._notification_is_needed(p1, p2)) p2['mac_address'] = '11:22:33:44:55:66' self.assertTrue(self.notifier._notification_is_needed(p1, p2)) p2['fixed_ips'] = [{'ip_address': '10.0.0.11', 'subnet_id': 'aaa'}] self.assertTrue(self.notifier._notification_is_needed(p1, p2))"," def test__only_status_changed(self): 'revision_number': 1} self.assertTrue(self.notifier._only_status_changed(p1, p2)) self.assertFalse(self.notifier._only_status_changed(p1, p2)) p1['name'] = 'test' self.assertTrue(self.notifier._only_status_changed(p1, p2)) p1['name'] = 'test1' self.assertFalse(self.notifier._only_status_changed(p1, p2))",18,23
openstack%2Fopenstacksdk~master~I735615b6a9e35d058900571d34838e95302d41ff,openstack/openstacksdk,master,I735615b6a9e35d058900571d34838e95302d41ff,Replace deprecated failUnlessEqual with assertEqual,MERGED,2022-07-22 03:08:01.000000000,2022-07-29 13:46:46.000000000,2022-07-29 13:45:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-07-22 03:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/348773fba907244add2c122150110d45db269987', 'message': 'Replace deprecated failUnlessEqual with assertEqual\n\nThe failUnlessEqual method alias has been deprecated in unittest since version 3.1[1].\n\n[1] https://docs.python.org/3/library/unittest.html#deprecated-aliases\n\nChange-Id: I735615b6a9e35d058900571d34838e95302d41ff\n'}, {'number': 2, 'created': '2022-07-29 09:53:19.000000000', 'files': ['openstack/tests/functional/cloud/test_services.py', 'openstack/tests/functional/cloud/test_endpoints.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3f81d0001dd994cde990d38f6e2671ee0694d7d5', 'message': 'Replace deprecated failUnlessEqual with assertEqual\n\nThe failUnlessEqual method alias has been deprecated in unittest since version 3.1[1].\n\n[1] https://docs.python.org/3/library/unittest.html#deprecated-aliases\n\nChange-Id: I735615b6a9e35d058900571d34838e95302d41ff\n'}]",2,850708,3f81d0001dd994cde990d38f6e2671ee0694d7d5,11,3,2,28743,,,0,"Replace deprecated failUnlessEqual with assertEqual

The failUnlessEqual method alias has been deprecated in unittest since version 3.1[1].

[1] https://docs.python.org/3/library/unittest.html#deprecated-aliases

Change-Id: I735615b6a9e35d058900571d34838e95302d41ff
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/08/850708/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/cloud/test_services.py', 'openstack/tests/functional/cloud/test_endpoints.py']",2,348773fba907244add2c122150110d45db269987,, self.assertEqual(, self.failUnlessEqual(,3,3
openstack%2Fneutron~master~I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,openstack/neutron,master,I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9,Add workaround for eventlet.greendns bug,MERGED,2022-07-08 14:56:30.000000000,2022-07-29 13:46:42.000000000,2022-07-29 13:45:22.000000000,"[{'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9816}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-08 14:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ecf514e93feba444de15254442232f338035593', 'message': '[WIP] Need to update unit tests once we agree on implementation!\nFix eventlet bug in get_hypervisor_hostname\n\nChanging implementation due to eventlet bug [1]. In this proposal I am just using socket.getfqdn() directly to retrieve fqdn. Not following  logic of virGetHostnameImpl in libvirt as proposed in LP1926693\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\nRelated-Patch: #788893\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n'}, {'number': 2, 'created': '2022-07-09 04:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b73a11a8a289664e54cfedd3a7ae01c64db08163', 'message': '[WIP] Need to fix up unit tests once we agree on implementation!\nAdd workaround for eventlet bug[1] in get_hypervisor_hostname\n\nWorkaround: Request eventlet to return  an unpatched socket module before calling getaddrinfo.\nThus we can call python standard library implementation.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n'}, {'number': 3, 'created': '2022-07-11 03:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a68723438e581aaf2dfbdd94c932d60931a044c', 'message': 'Add workaround for eventlet bug[1] in get_hypervisor_hostname\n\nWorkaround: A wrapper class which requests if socket module was eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss issues like this in the future\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n'}, {'number': 4, 'created': '2022-07-13 13:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc63b36cbbdcc7d20bf6aafb416f98608a914aaa', 'message': 'Add workaround for eventlet bug[1] in get_hypervisor_hostname\n\nWorkaround: A wrapper class which requests if socket module was eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss issues like this in the future\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n'}, {'number': 5, 'created': '2022-07-13 14:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/220efa0eef9b9af8b2926e916265975521872fa6', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module was eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss issues like this in the future\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n'}, {'number': 6, 'created': '2022-07-14 02:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/213fedd667bb9604d801b98a2bb257ccf07da949', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module was eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss issues like this in the future\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n'}, {'number': 7, 'created': '2022-07-14 14:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7003015664b100a29b3f2474b9bd38e4a3a67a1a', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and requests std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n'}, {'number': 8, 'created': '2022-07-14 20:32:14.000000000', 'files': ['neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea223072841adc3fb88b840b5f8018bff60c8aa7', 'message': 'Add workaround for eventlet.greendns bug\n\nIssue[1] workaround: A wrapper class which determines if socket module\nwas eventlet patched and request std lib socket module instead.\nAlso adding LOG.warning into the exception block so we dont miss\nissues like this in the future.\n\nCloses-Bug: #1980967\nRelated-Bug: #1926693\n\n[1]https://github.com/eventlet/eventlet/issues/764\n\nChange-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9\n'}]",36,849122,ea223072841adc3fb88b840b5f8018bff60c8aa7,79,9,8,34271,,,0,"Add workaround for eventlet.greendns bug

Issue[1] workaround: A wrapper class which determines if socket module
was eventlet patched and request std lib socket module instead.
Also adding LOG.warning into the exception block so we dont miss
issues like this in the future.

Closes-Bug: #1980967
Related-Bug: #1926693

[1]https://github.com/eventlet/eventlet/issues/764

Change-Id: I41c4cbc1aaea95f7808e6c6dca47ecd0402351c9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/849122/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/common/utils.py'],1,4ecf514e93feba444de15254442232f338035593,bug1980967,"def get_hypervisor_fqdn(): """"""Returns fully qualified domain name (fqdn) for the current hypervisor. return socket.getfqdn(hypervisor_hostname) :param default_hypervisor: Default hypervisor hostname. If not set, defaults to socket.getfqdn() _default_hypervisor = default_hypervisor or get_hypervisor_fqdn()","def get_hypervisor_hostname(): """"""Get hypervisor hostname This logic is implemented following the logic of virGetHostnameImpl in libvirt. try: addrinfo = socket.getaddrinfo(host=hypervisor_hostname, port=None, family=socket.AF_UNSPEC, flags=socket.AI_CANONNAME) # getaddrinfo returns a list of 5-tuples with; # (family, type, proto, canonname, sockaddr) if (addrinfo and addrinfo[0][3] and not addrinfo[0][3].startswith('localhost')): return addrinfo[0][3] except OSError: pass return hypervisor_hostname Default hypervisor names to socket.gethostname() unless default_hypervisor is set. :param default_hypervisor: Default hypervisor hostname. _default_hypervisor = default_hypervisor or get_hypervisor_hostname()",7,25
openstack%2Fkolla~master~Icce201677dceaab8ca6f045158bbf565eef3a324,openstack/kolla,master,Icce201677dceaab8ca6f045158bbf565eef3a324,mariadb-clustercheck: do not install xinetd,MERGED,2022-07-29 10:11:07.000000000,2022-07-29 13:37:02.000000000,2022-07-29 13:35:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-29 10:11:07.000000000', 'files': ['docker/mariadb/mariadb-clustercheck/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b8572209e7190fe718610382a3ac77becfd39522', 'message': 'mariadb-clustercheck: do not install xinetd\n\nWe moved to socat on kolla-ansible side.\n\nChange-Id: Icce201677dceaab8ca6f045158bbf565eef3a324\n'}]",1,851502,b8572209e7190fe718610382a3ac77becfd39522,9,4,1,24072,,,0,"mariadb-clustercheck: do not install xinetd

We moved to socat on kolla-ansible side.

Change-Id: Icce201677dceaab8ca6f045158bbf565eef3a324
",git fetch https://review.opendev.org/openstack/kolla refs/changes/02/851502/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/mariadb/mariadb-clustercheck/Dockerfile.j2'],1,b8572209e7190fe718610382a3ac77becfd39522,,,"{% import ""macros.j2"" as macros with context %} {% set mariadb_clustercheck_packages = [ 'xinetd' ] %} {{ macros.install_packages(mariadb_clustercheck_packages | customizable(""packages"")) }} ",0,8
openstack%2Fcharm-neutron-gateway~stable%2Fwallaby~I36a7c2d3578512a65392526f7e08eb72800ab5d7,openstack/charm-neutron-gateway,stable/wallaby,I36a7c2d3578512a65392526f7e08eb72800ab5d7,Migrate charm charmhub for stable/wallaby,MERGED,2022-05-17 18:18:14.000000000,2022-07-29 13:14:24.000000000,2022-07-29 13:14:24.000000000,"[{'_account_id': 8992}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 18:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/1d58ca537e0e97e821d6bab016a716e2faa821c7', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I36a7c2d3578512a65392526f7e08eb72800ab5d7\n'}, {'number': 2, 'created': '2022-05-18 11:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/182be1f020c1ed622582ccf5592af803b7e95466', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I36a7c2d3578512a65392526f7e08eb72800ab5d7\n'}, {'number': 3, 'created': '2022-06-17 14:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/18bd057bd88103c09ceee453bfcf886256837fc5', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I36a7c2d3578512a65392526f7e08eb72800ab5d7\n'}, {'number': 4, 'created': '2022-07-11 10:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/5902becc654135af823367a9d4e41c182e737936', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I36a7c2d3578512a65392526f7e08eb72800ab5d7\n'}, {'number': 5, 'created': '2022-07-18 03:11:44.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/14d3bb727dac77964175f77d3e1b7b77a190a7cd', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I36a7c2d3578512a65392526f7e08eb72800ab5d7\n'}]",8,842201,14d3bb727dac77964175f77d3e1b7b77a190a7cd,33,4,5,20870,,,0,"Migrate charm charmhub for stable/wallaby

- start from stable/wallaby branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/wallaby for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I36a7c2d3578512a65392526f7e08eb72800ab5d7
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/01/842201/4 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",29,1d58ca537e0e97e821d6bab016a716e2faa821c7,charmhub-migration,,"variables: openstack-origin: &openstack-origin distro series: &series impish machines: 0: constraints: ""mem=3072M"" 1: constraints: ""mem=3072M"" 2: constraints: ""mem=3072M"" 3: {} 4: {} 5: {} 6: {} 7: {} 8: constraints: ""mem=4G"" 9: constraints: ""root-disk=20G mem=4G"" 10: constraints: ""root-disk=20G mem=4G"" 11: {} 12: {} 13: {} # We specify machine placements for these to improve iteration # time, given that machine ""0"" comes up way before machine ""7"" applications: neutron-api-mysql-router: charm: cs:~openstack-charmers/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers/mysql-router glance-mysql-router: charm: cs:~openstack-charmers/mysql-router placement-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers/rabbitmq-server num_units: 1 options: options: source: *openstack-origin to: - '3' neutron-api: charm: cs:~openstack-charmers/neutron-api series: *series num_units: 1 options: manage-neutron-plugin-legacy-mode: true flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin to: - '4' keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '5' glance: charm: cs:~openstack-charmers/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '6' neutron-openvswitch: charm: cs:~openstack-charmers/neutron-openvswitch neutron-gateway: charm: ""../../../neutron-gateway"" num_units: 1 options: bridge-mappings: physnet1:br-ex openstack-origin: *openstack-origin to: - '7' ovn-dedicated-chassis: charm: cs:~openstack-charmers/ovn-dedicated-chassis num_units: 1 options: # start new units paused to allow unit by unit OVS to OVN migration new-units-paused: true to: # NOTE: We deliberately colocate the ovn-dedicated-chassis with the # neutron-gateway for migration test purposes. - '7' nova-cloud-controller: charm: cs:~openstack-charmers/nova-cloud-controller num_units: 1 options: network-manager: Neutron openstack-origin: *openstack-origin to: - '8' nova-compute: charm: cs:~openstack-charmers/nova-compute num_units: 2 options: openstack-origin: *openstack-origin to: - '9' - '10' placement: charm: cs:~openstack-charmers/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '11' vault-mysql-router: charm: cs:~openstack-charmers/mysql-router vault: charm: cs:~openstack-charmers/vault num_units: 1 to: - '12' ovn-central: charm: cs:~openstack-charmers/ovn-central num_units: 3 options: source: *openstack-origin to: - '13' neutron-api-plugin-ovn: charm: cs:~openstack-charmers/neutron-api-plugin-ovn ovn-chassis: charm: cs:~openstack-charmers/ovn-chassis options: # start new units paused to allow unit by unit OVS to OVN migration new-units-paused: true relations: - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:neutron-plugin-api' - 'neutron-gateway:neutron-plugin-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'neutron-openvswitch:amqp' - 'rabbitmq-server:amqp' - - 'neutron-openvswitch:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' # We need to defer the addition of the neutron-api-plugin-ovn subordinate # relation to the functional test as the test will first validate the legacy # Neutron ML2+OVS topology, migrate it to OVN and then confirm connectivity # post migration. # # - - neutron-api-plugin-ovn:neutron-plugin # - neutron-api:neutron-plugin-api-subordinate - - ovn-central:certificates - vault:certificates - - ovn-central:ovsdb-cms - neutron-api-plugin-ovn:ovsdb-cms - - ovn-chassis:nova-compute - nova-compute:neutron-plugin - - ovn-chassis:certificates - vault:certificates - - ovn-chassis:ovsdb - ovn-central:ovsdb - - ovn-dedicated-chassis:certificates - vault:certificates - - ovn-dedicated-chassis:ovsdb - ovn-central:ovsdb - - vault:certificates - neutron-api-plugin-ovn:certificates - - vault:shared-db - vault-mysql-router:shared-db - - vault-mysql-router:db-router - mysql-innodb-cluster:db-router ",196,2770
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I57d6680f16b2bdc9026a3f8175470f35611a6b45,openstack/tripleo-upgrade,stable/wallaby,I57d6680f16b2bdc9026a3f8175470f35611a6b45,Add additional tags to update validations tasks,MERGED,2022-07-11 10:59:18.000000000,2022-07-29 13:05:10.000000000,2022-07-29 13:05:10.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 29307}, {'_account_id': 32432}]","[{'number': 1, 'created': '2022-07-11 10:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/50a1a3d43dd7c038dfded6983cf26590b9e1de0e', 'message': 'Add additional tags to update validations tasks\n\nTo be able to run selectable validations ansible tasks, additional tags\nare added to all update related validations tasks.\nBy introducing this change one can run only specific validations with\nansible tags mechanism.\n\nThese new tags are introduced:\n- pre_update_validations\n- pre_update_prepare_validations\n- pre_update_run_validations\n- post_update_validations\n\nChange-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45\n(cherry picked from commit cd070ce7f51f94ebb558637f5cf3854f72ef7b36)\n'}, {'number': 2, 'created': '2022-07-18 20:21:32.000000000', 'files': ['tasks/update/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/24b382e54a11f991f20975efda4fea2bb84e60a6', 'message': 'Add additional tags to update validations tasks\n\nTo be able to run selectable validations ansible tasks, additional tags\nare added to all update related validations tasks.\nBy introducing this change one can run only specific validations with\nansible tags mechanism.\n\nThese new tags are introduced:\n- pre_update_validations\n- pre_update_prepare_validations\n- pre_update_run_validations\n- post_update_validations\n\nChange-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45\n'}]",0,849314,24b382e54a11f991f20975efda4fea2bb84e60a6,10,6,2,33080,,,0,"Add additional tags to update validations tasks

To be able to run selectable validations ansible tasks, additional tags
are added to all update related validations tasks.
By introducing this change one can run only specific validations with
ansible tags mechanism.

These new tags are introduced:
- pre_update_validations
- pre_update_prepare_validations
- pre_update_run_validations
- post_update_validations

Change-Id: I57d6680f16b2bdc9026a3f8175470f35611a6b45
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/14/849314/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/main.yml'],1,50a1a3d43dd7c038dfded6983cf26590b9e1de0e,update-validations-tags-stable/wallaby, - pre_update_validations - pre_update_prepare_validations - pre_update_run_validations - post_update_validations,,4,0
openstack%2Fcharm-cinder-purestorage~master~I61781fa5d837d0ed5191d8a92cc8e0bdf600c08a,openstack/charm-cinder-purestorage,master,I61781fa5d837d0ed5191d8a92cc8e0bdf600c08a,Fix image-volume-cache configuration defaults,MERGED,2022-06-01 08:19:25.000000000,2022-07-29 12:54:53.000000000,2022-07-29 12:54:53.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 08:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/66f2ebd6ba65a457f74755dc0f8540312b60cca3', 'message': 'Fix image-volume-cache configuration defaults\n\nThe image_volume_cache_max_count and image_volume_cache_max_size_gb options\nwere incorrectly being written to cinder.conf with a value of ""None"" when not\nconfigured.\n\nThis occurred because config.get returns None for values with a null default,\nthis value was being placed into a dictionary and sent over relation data to\ncharm-cinder which renders it directly from a list of key-value pairs.\n\nFix the handling of these options not to include them in the dictionary if they\nare None.\n\nCloses-Bug: #1976465\nChange-Id: I61781fa5d837d0ed5191d8a92cc8e0bdf600c08a\n'}, {'number': 2, 'created': '2022-06-01 08:21:09.000000000', 'files': ['src/lib/charm/openstack/cinder_purestorage.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/b3a5d3b35835d454224e5404b41a548f52322bed', 'message': 'Fix image-volume-cache configuration defaults\n\nThe image_volume_cache_max_count and image_volume_cache_max_size_gb\noptions were incorrectly being written to cinder.conf with a value of\n""None"" when not configured.\n\nThis occurred because config.get returns None for values with a null\ndefault, this value was being placed into a dictionary and sent over\nrelation data to charm-cinder which renders it directly from a list of\nkey-value pairs.\n\nFix the handling of these options not to include them in the dictionary\nif they are None.\n\nCloses-Bug: #1976465\nChange-Id: I61781fa5d837d0ed5191d8a92cc8e0bdf600c08a\n'}]",6,844256,b3a5d3b35835d454224e5404b41a548f52322bed,15,4,2,21107,,,0,"Fix image-volume-cache configuration defaults

The image_volume_cache_max_count and image_volume_cache_max_size_gb
options were incorrectly being written to cinder.conf with a value of
""None"" when not configured.

This occurred because config.get returns None for values with a null
default, this value was being placed into a dictionary and sent over
relation data to charm-cinder which renders it directly from a list of
key-value pairs.

Fix the handling of these options not to include them in the dictionary
if they are None.

Closes-Bug: #1976465
Change-Id: I61781fa5d837d0ed5191d8a92cc8e0bdf600c08a
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/56/844256/2 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/cinder_purestorage.py'],1,66f2ebd6ba65a457f74755dc0f8540312b60cca3,," max_size_gb = self.config.get('image-volume-cache-max-size-gb') if max_size_gb is not None: image_cache.append(('image_volume_cache_max_size_gb', max_size_gb)) max_count = self.config.get('image-volume-cache-max-count') if max_count is not None: image_cache.append(('image_volume_cache_max_count', max_count))"," image_cache = [ ('image_volume_cache_max_size_gb', self.config.get('image-volume-cache-max-size-gb', 0)), ('image_volume_cache_max_count', self.config.get('image-volume-cache-max-count', 0))]",8,5
openstack%2Ftap-as-a-service~master~I73bb6d75b6608ad8fed05bc54f497abb1ca50ff1,openstack/tap-as-a-service,master,I73bb6d75b6608ad8fed05bc54f497abb1ca50ff1,Py3: Remove six,MERGED,2022-06-20 14:06:20.000000000,2022-07-29 12:54:06.000000000,2022-07-29 12:54:06.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-06-20 14:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/7be738d1068d0ae7ab3e481c724d595bb25b0eda', 'message': 'Py3: Remove six\n\nRemove six.add_metaclass usage in taas code.\n\nChange-Id: I73bb6d75b6608ad8fed05bc54f497abb1ca50ff1\n'}, {'number': 2, 'created': '2022-06-30 13:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/b945d746afd47170c3c85fb3f9e8d8429d1a9ebd', 'message': 'Py3: Remove six\n\nRemove six.add_metaclass usage in taas code.\n\nChange-Id: I73bb6d75b6608ad8fed05bc54f497abb1ca50ff1\n'}, {'number': 3, 'created': '2022-07-01 14:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/62db9fdc67a29ff624da5be27934065ca8114662', 'message': 'Py3: Remove six\n\nRemove six.add_metaclass usage in taas code.\n\nChange-Id: I73bb6d75b6608ad8fed05bc54f497abb1ca50ff1\n'}, {'number': 4, 'created': '2022-07-27 12:20:11.000000000', 'files': ['neutron_taas/extensions/taas.py', 'neutron_taas/services/taas/agents/extensions/taas.py', 'neutron_taas/services/taas/service_drivers/__init__.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/fc72381ad62926383ee944e043f1ec0d7104e6af', 'message': 'Py3: Remove six\n\nRemove six.add_metaclass usage in taas code.\n\nChange-Id: I73bb6d75b6608ad8fed05bc54f497abb1ca50ff1\n'}]",8,846624,fc72381ad62926383ee944e043f1ec0d7104e6af,21,4,4,8313,,,0,"Py3: Remove six

Remove six.add_metaclass usage in taas code.

Change-Id: I73bb6d75b6608ad8fed05bc54f497abb1ca50ff1
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/24/846624/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/extensions/taas.py', 'neutron_taas/services/taas/agents/extensions/taas.py', 'neutron_taas/services/taas/service_drivers/__init__.py']",3,7be738d1068d0ae7ab3e481c724d595bb25b0eda,remove_six," class TaasBaseDriver(object, metaclass=abc.ABCMeta):",import six @six.add_metaclass(abc.ABCMeta) class TaasBaseDriver(object):,3,11
openstack%2Fironic-inspector~master~I56e457c0c52405d8f9c8ef12374e43353278f74d,openstack/ironic-inspector,master,I56e457c0c52405d8f9c8ef12374e43353278f74d,remove unicode from code,MERGED,2022-07-28 05:47:17.000000000,2022-07-29 12:30:01.000000000,2022-07-29 12:28:49.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-28 05:47:17.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/2c34c29134ae807015d93ee27df949ced0d70088', 'message': 'remove unicode from code\n\nChange-Id: I56e457c0c52405d8f9c8ef12374e43353278f74d\n'}]",1,851313,2c34c29134ae807015d93ee27df949ced0d70088,9,4,1,35058,,,0,"remove unicode from code

Change-Id: I56e457c0c52405d8f9c8ef12374e43353278f74d
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/13/851313/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,2c34c29134ae807015d93ee27df949ced0d70088,,"copyright = 'OpenStack Developers' 'Ironic Inspector Documentation', 'OpenStack Foundation',","copyright = u'OpenStack Developers' u'Ironic Inspector Documentation', u'OpenStack Foundation',",3,3
openstack%2Ftripleo-upgrade~master~I921332d0a15a72e8f9d7fcd4348ed1a9f3a65983,openstack/tripleo-upgrade,master,I921332d0a15a72e8f9d7fcd4348ed1a9f3a65983,Make sure patch reports issues and ignores test files,MERGED,2022-07-12 10:40:50.000000000,2022-07-29 12:00:13.000000000,2022-07-29 12:00:13.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-07-12 10:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/029b08ac76948c2ac1181c3099f6060e53289cc6', 'message': 'Make sure patch reports issues and ignores test files\n\nChange-Id: I921332d0a15a72e8f9d7fcd4348ed1a9f3a65983\n'}, {'number': 2, 'created': '2022-07-12 10:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e5ca1e2cbb5ca4fbfa86b5053ae26d99aeae6f6b', 'message': 'Make sure patch reports issues and ignores test files\n\nChange-Id: I921332d0a15a72e8f9d7fcd4348ed1a9f3a65983\n'}, {'number': 3, 'created': '2022-07-12 11:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/610f8d72826c4637afe6b60aa8009827560ac024', 'message': 'Make sure patch reports issues and ignores test files\n\nChange-Id: I921332d0a15a72e8f9d7fcd4348ed1a9f3a65983\n'}, {'number': 4, 'created': '2022-07-28 13:25:56.000000000', 'files': ['templates/workarounds.sh.j2', 'tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/93e1f8c3a243011754a4d5e8e8c2548ca5834e9d', 'message': 'Make sure patch reports issues and ignores test files\n\nChange-Id: I921332d0a15a72e8f9d7fcd4348ed1a9f3a65983\n'}]",7,849492,93e1f8c3a243011754a4d5e8e8c2548ca5834e9d,27,6,4,11166,,,0,"Make sure patch reports issues and ignores test files

Change-Id: I921332d0a15a72e8f9d7fcd4348ed1a9f3a65983
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/92/849492/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/workarounds.sh.j2'],1,029b08ac76948c2ac1181c3099f6060e53289cc6,," if filterdiff -x ""*/tests/*"" < ${temp_dir}/patch.txt | sudo patch --dry-run --force -d ${patch_dir} -p${patch_strip} 2>&1", if sudo patch --dry-run --force -d ${patch_dir} -p${patch_strip} < ${temp_dir}/patch.txt >/dev/null 2>&1,1,1
openstack%2Fopenstack-manuals~master~Ia313ca061eb995d8fbde7fe9cecb1604aace6615,openstack/openstack-manuals,master,Ia313ca061eb995d8fbde7fe9cecb1604aace6615,Show Kolla Yoga entries,MERGED,2022-07-29 10:17:30.000000000,2022-07-29 11:34:03.000000000,2022-07-29 11:13:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-29 10:17:30.000000000', 'files': ['www/project-data/yoga.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/fa1fba2bac288b5e80b47986eec6e0e23d165649', 'message': 'Show Kolla Yoga entries\n\nAs they were forgotten.\n\nChange-Id: Ia313ca061eb995d8fbde7fe9cecb1604aace6615\n'}]",0,851503,fa1fba2bac288b5e80b47986eec6e0e23d165649,8,2,1,30491,,,0,"Show Kolla Yoga entries

As they were forgotten.

Change-Id: Ia313ca061eb995d8fbde7fe9cecb1604aace6615
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/03/851503/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/yoga.yaml'],1,fa1fba2bac288b5e80b47986eec6e0e23d165649,kolla-yoga,- name: kolla type: deployment service: Providing production-ready containers and deployment tools for operating OpenStack clouds has_admin_guide: true - name: kolla-ansible service: Deploying OpenStack using Ansible in Docker Containers (kolla) type: deployment has_admin_guide: true has_user_guide: true has_deployment_guide: true,#- name: kolla # type: deployment # service: Providing production-ready containers and deployment tools for operating OpenStack clouds # has_admin_guide: true #- name: kolla-ansible # service: Deploying OpenStack using Ansible in Docker Containers (kolla) # type: deployment # has_admin_guide: true # has_user_guide: true # has_deployment_guide: true,10,10
openstack%2Fheat~stable%2Ftrain~I096dff2b541a5aa8afbbbcea5161e7ca1c244039,openstack/heat,stable/train,I096dff2b541a5aa8afbbbcea5161e7ca1c244039,Don't always replace FAILED ServerGroup resources,MERGED,2022-07-20 02:24:03.000000000,2022-07-29 11:29:40.000000000,2022-07-29 11:28:31.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-20 02:24:03.000000000', 'files': ['heat/engine/resources/openstack/nova/server_group.py', 'heat/tests/openstack/nova/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b8b77a0243db8988b2fefb3dda606d29784d26df', 'message': ""Don't always replace FAILED ServerGroup resources\n\nServerGroup resources work as scheduler hints for server\nresources and replacement of it replaces the servers which\nis undesirable in many circumstances.\n\n- We don't allow update of ServerGroup resource properties\n- If not created (CREATE_FAILED) without resource_id they will\n  be replaced\n- If does not exist in nova they would be created\n- If exist in nova, FAILED resource status would be just\n  changed to COMPLETE\n\nConflicts:\n\theat/tests/openstack/nova/test_server_group.py\n\nFixed conflicts caused by 74164424016702bac6d52c6618360287ce7ea461 ,\nwhich is present in stable/xena and later.\n\nTask: 45748\n\nChange-Id: I096dff2b541a5aa8afbbbcea5161e7ca1c244039\n(cherry picked from commit a0e072b3204d736b9a4a5b2ceb2157f57405ac6f)\n(cherry picked from commit f9f5d2cc368e5f850b962c8d89669a50544058d1)\n(cherry picked from commit ead7cd61bd685ea46dd21c4ef3ea6b3fde273c10)\n(cherry picked from commit a4f2f6053c8b45b1e9182caad4a8af44e29ae96d)\n(cherry picked from commit 007ff4447b28837e7ab6045b3a78a15bf9c1d25e)\n(cherry picked from commit 43c3d6ea30a3c4d39a814c658004dba98c5adc37)\n""}]",1,850385,b8b77a0243db8988b2fefb3dda606d29784d26df,9,2,1,9816,,,0,"Don't always replace FAILED ServerGroup resources

ServerGroup resources work as scheduler hints for server
resources and replacement of it replaces the servers which
is undesirable in many circumstances.

- We don't allow update of ServerGroup resource properties
- If not created (CREATE_FAILED) without resource_id they will
  be replaced
- If does not exist in nova they would be created
- If exist in nova, FAILED resource status would be just
  changed to COMPLETE

Conflicts:
	heat/tests/openstack/nova/test_server_group.py

Fixed conflicts caused by 74164424016702bac6d52c6618360287ce7ea461 ,
which is present in stable/xena and later.

Task: 45748

Change-Id: I096dff2b541a5aa8afbbbcea5161e7ca1c244039
(cherry picked from commit a0e072b3204d736b9a4a5b2ceb2157f57405ac6f)
(cherry picked from commit f9f5d2cc368e5f850b962c8d89669a50544058d1)
(cherry picked from commit ead7cd61bd685ea46dd21c4ef3ea6b3fde273c10)
(cherry picked from commit a4f2f6053c8b45b1e9182caad4a8af44e29ae96d)
(cherry picked from commit 007ff4447b28837e7ab6045b3a78a15bf9c1d25e)
(cherry picked from commit 43c3d6ea30a3c4d39a814c658004dba98c5adc37)
",git fetch https://review.opendev.org/openstack/heat refs/changes/85/850385/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/nova/server_group.py', 'heat/tests/openstack/nova/test_server_group.py']",2,b8b77a0243db8988b2fefb3dda606d29784d26df,,"from novaclient import exceptions from oslo_utils import excutils class FakeNovaPlugin(object): @excutils.exception_filter def ignore_not_found(self, ex): if not isinstance(ex, exceptions.NotFound): raise ex def is_conflict(self, ex): return False self.patchobject(excutils.exception_filter, '__exit__') self.patchobject(self.sg, 'client_plugin', return_value=FakeNovaPlugin()) def test_needs_replace_failed(self): self._create_sg('test') self.sg.state_set(self.sg.CREATE, self.sg.FAILED) mock_show_resource = self.patchobject(self.sg, '_show_resource') mock_show_resource.side_effect = [exceptions.NotFound(404), None] self.sg.resource_id = None self.assertTrue(self.sg.needs_replace_failed()) self.assertEqual(0, mock_show_resource.call_count) self.sg.resource_id = 'sg_id' self.assertTrue(self.sg.needs_replace_failed()) self.assertEqual(1, mock_show_resource.call_count) mock_show_resource.return_value = None self.assertFalse(self.sg.needs_replace_failed()) self.assertEqual(2, mock_show_resource.call_count)",,45,0
openstack%2Foslo.privsep~master~I6146d7421f4eaf613419a6887b208549d85a61d1,openstack/oslo.privsep,master,I6146d7421f4eaf613419a6887b208549d85a61d1,Remove logic for Python < 3.8,MERGED,2022-07-16 15:34:01.000000000,2022-07-29 11:27:11.000000000,2022-07-29 11:26:12.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-16 15:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/3bf0d0b9855296bd79c840f75fc3d7fe05f41f1a', 'message': 'Remove logic for Python < 3.8\n\n... because now this library supports only Python >= 3.8.\n\nChange-Id: I6146d7421f4eaf613419a6887b208549d85a61d1\n'}, {'number': 2, 'created': '2022-07-16 16:02:11.000000000', 'files': ['oslo_privsep/tests/test_daemon.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/e62d4080713b56d4c06f6055b3d7ce44e0773c06', 'message': 'Remove logic for Python < 3.8\n\n... because now this library supports only Python >= 3.8.\n\nChange-Id: I6146d7421f4eaf613419a6887b208549d85a61d1\n'}]",0,850097,e62d4080713b56d4c06f6055b3d7ce44e0773c06,9,3,2,9816,,,0,"Remove logic for Python < 3.8

... because now this library supports only Python >= 3.8.

Change-Id: I6146d7421f4eaf613419a6887b208549d85a61d1
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/97/850097/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_privsep/tests/test_daemon.py'],1,3bf0d0b9855296bd79c840f75fc3d7fe05f41f1a,, kwargs['validate'] = False,"import sys if sys.version_info >= (3, 8): kwargs['validate'] = False",1,3
openstack%2Fheat~stable%2Ftrain~I94075f261ce095c509635aab395df42878aceb1c,openstack/heat,stable/train,I94075f261ce095c509635aab395df42878aceb1c,Use openstack commands in upgrade plugin,MERGED,2022-07-19 15:09:32.000000000,2022-07-29 11:26:49.000000000,2022-07-29 11:25:36.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-19 15:09:32.000000000', 'files': ['devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/3914946580f03710524ee0465144c354a1273dfe', 'message': 'Use openstack commands in upgrade plugin\n\nChange-Id: I94075f261ce095c509635aab395df42878aceb1c\n(cherry picked from commit e446ecbb21c2c6e8909ec20121536073d66bbcb7)\n(cherry picked from commit 08a0a218ef406d3027fd28be8e77f9876fd10f4d)\n(cherry picked from commit 65fb6c7dadee7412213eeea1b36bf9befcfd5873)\n(cherry picked from commit da071a07d509b8f589f934db1aaeee6daff40bd3)\n(cherry picked from commit 4c26fb577f0e7a0d50bbea4f274d69253032e331)\n(cherry picked from commit 17c19c9e0923cd5f861c3fc42cd624c110966105)\n'}]",1,850371,3914946580f03710524ee0465144c354a1273dfe,9,2,1,9816,,,0,"Use openstack commands in upgrade plugin

Change-Id: I94075f261ce095c509635aab395df42878aceb1c
(cherry picked from commit e446ecbb21c2c6e8909ec20121536073d66bbcb7)
(cherry picked from commit 08a0a218ef406d3027fd28be8e77f9876fd10f4d)
(cherry picked from commit 65fb6c7dadee7412213eeea1b36bf9befcfd5873)
(cherry picked from commit da071a07d509b8f589f934db1aaeee6daff40bd3)
(cherry picked from commit 4c26fb577f0e7a0d50bbea4f274d69253032e331)
(cherry picked from commit 17c19c9e0923cd5f861c3fc42cd624c110966105)
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/850371/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/resources.sh'],1,3914946580f03710524ee0465144c354a1273dfe,, openstack stack create -t $loc/templates/random_string.yaml $stack_name openstack stack show $stack_name openstack stack delete -y $(resource_get heat stack_name), heat stack-create -f $loc/templates/random_string.yaml $stack_name heat stack-show $stack_name heat stack-delete $(resource_get heat stack_name),3,3
openstack%2Fneutron-lib~stable%2Ftrain~I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b,openstack/neutron-lib,stable/train,I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b,Support binding floating ip to smart-nic port,ABANDONED,2022-03-09 07:08:14.000000000,2022-07-29 11:14:51.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-03-09 07:08:14.000000000', 'files': ['neutron_lib/plugins/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d23bcc59c14190813be4e4f3d92f70824c53c01a', 'message': 'Support binding floating ip to smart-nic port\n\nWhen the Ironic use smart NICs to implement Bare Metal servers, the\nneutron L2 agent and L3 agent run locally on the smart NIC. The\nsmart-nic port can be bound to the virtual bridge, and the floating\nip can also be implemented by the L3 agent on the smart NIC.\n\nCloses-Bug: #1962821\nChange-Id: I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b\n(cherry picked from commit e2f05ffabccda1a8a213cbc2e27c2bf910e5766c)\n'}]",1,832716,d23bcc59c14190813be4e4f3d92f70824c53c01a,6,4,1,31769,,,0,"Support binding floating ip to smart-nic port

When the Ironic use smart NICs to implement Bare Metal servers, the
neutron L2 agent and L3 agent run locally on the smart NIC. The
smart-nic port can be bound to the virtual bridge, and the floating
ip can also be implemented by the L3 agent on the smart NIC.

Closes-Bug: #1962821
Change-Id: I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b
(cherry picked from commit e2f05ffabccda1a8a213cbc2e27c2bf910e5766c)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/16/832716/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/plugins/utils.py'],1,d23bcc59c14190813be4e4f3d92f70824c53c01a,bug/1962821-stable/train," :returns: True if the port VNIC type is 'normal' or 'smart-nic'; False in any other case. return port[pb.VNIC_TYPE] in [pb.VNIC_NORMAL, pb.VNIC_SMARTNIC]", :returns: True if the port VNIC type is 'normal'; False in any other case. return port[pb.VNIC_TYPE] == pb.VNIC_NORMAL,3,2
openstack%2Fneutron-lib~stable%2Fxena~I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b,openstack/neutron-lib,stable/xena,I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b,Support binding floating ip to smart-nic port,ABANDONED,2022-03-09 07:10:41.000000000,2022-07-29 11:14:38.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-03-09 07:10:41.000000000', 'files': ['neutron_lib/plugins/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a67a3126e0f039422438d1dff9b742663b91c15a', 'message': 'Support binding floating ip to smart-nic port\n\nWhen the Ironic use smart NICs to implement Bare Metal servers, the\nneutron L2 agent and L3 agent run locally on the smart NIC. The\nsmart-nic port can be bound to the virtual bridge, and the floating\nip can also be implemented by the L3 agent on the smart NIC.\n\nCloses-Bug: #1962821\nChange-Id: I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b\n(cherry picked from commit e2f05ffabccda1a8a213cbc2e27c2bf910e5766c)\n'}]",1,832720,a67a3126e0f039422438d1dff9b742663b91c15a,6,4,1,31769,,,0,"Support binding floating ip to smart-nic port

When the Ironic use smart NICs to implement Bare Metal servers, the
neutron L2 agent and L3 agent run locally on the smart NIC. The
smart-nic port can be bound to the virtual bridge, and the floating
ip can also be implemented by the L3 agent on the smart NIC.

Closes-Bug: #1962821
Change-Id: I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b
(cherry picked from commit e2f05ffabccda1a8a213cbc2e27c2bf910e5766c)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/20/832720/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/plugins/utils.py'],1,a67a3126e0f039422438d1dff9b742663b91c15a,bug/1962821-stable/xena," :returns: True if the port VNIC type is 'normal' or 'smart-nic'; False in any other case. return port[pb.VNIC_TYPE] in [pb.VNIC_NORMAL, pb.VNIC_SMARTNIC]", :returns: True if the port VNIC type is 'normal'; False in any other case. return port[pb.VNIC_TYPE] == pb.VNIC_NORMAL,3,2
openstack%2Fneutron-lib~stable%2Fwallaby~I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b,openstack/neutron-lib,stable/wallaby,I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b,Support binding floating ip to smart-nic port,ABANDONED,2022-03-09 07:10:13.000000000,2022-07-29 11:14:36.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-03-09 07:10:13.000000000', 'files': ['neutron_lib/plugins/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3a87492293c92a1156911fcac4c65479439b7da5', 'message': 'Support binding floating ip to smart-nic port\n\nWhen the Ironic use smart NICs to implement Bare Metal servers, the\nneutron L2 agent and L3 agent run locally on the smart NIC. The\nsmart-nic port can be bound to the virtual bridge, and the floating\nip can also be implemented by the L3 agent on the smart NIC.\n\nCloses-Bug: #1962821\nChange-Id: I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b\n(cherry picked from commit e2f05ffabccda1a8a213cbc2e27c2bf910e5766c)\n'}]",1,832719,3a87492293c92a1156911fcac4c65479439b7da5,6,4,1,31769,,,0,"Support binding floating ip to smart-nic port

When the Ironic use smart NICs to implement Bare Metal servers, the
neutron L2 agent and L3 agent run locally on the smart NIC. The
smart-nic port can be bound to the virtual bridge, and the floating
ip can also be implemented by the L3 agent on the smart NIC.

Closes-Bug: #1962821
Change-Id: I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b
(cherry picked from commit e2f05ffabccda1a8a213cbc2e27c2bf910e5766c)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/19/832719/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/plugins/utils.py'],1,3a87492293c92a1156911fcac4c65479439b7da5,bug/1962821-stable/wallaby," :returns: True if the port VNIC type is 'normal' or 'smart-nic'; False in any other case. return port[pb.VNIC_TYPE] in [pb.VNIC_NORMAL, pb.VNIC_SMARTNIC]", :returns: True if the port VNIC type is 'normal'; False in any other case. return port[pb.VNIC_TYPE] == pb.VNIC_NORMAL,3,2
openstack%2Fneutron-lib~stable%2Fvictoria~I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b,openstack/neutron-lib,stable/victoria,I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b,Support binding floating ip to smart-nic port,ABANDONED,2022-03-09 07:09:50.000000000,2022-07-29 11:14:33.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-03-09 07:09:50.000000000', 'files': ['neutron_lib/plugins/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8d0ffad0d4d47fc983010023949bcf5b1dc8080e', 'message': 'Support binding floating ip to smart-nic port\n\nWhen the Ironic use smart NICs to implement Bare Metal servers, the\nneutron L2 agent and L3 agent run locally on the smart NIC. The\nsmart-nic port can be bound to the virtual bridge, and the floating\nip can also be implemented by the L3 agent on the smart NIC.\n\nCloses-Bug: #1962821\nChange-Id: I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b\n(cherry picked from commit e2f05ffabccda1a8a213cbc2e27c2bf910e5766c)\n'}]",1,832718,8d0ffad0d4d47fc983010023949bcf5b1dc8080e,6,4,1,31769,,,0,"Support binding floating ip to smart-nic port

When the Ironic use smart NICs to implement Bare Metal servers, the
neutron L2 agent and L3 agent run locally on the smart NIC. The
smart-nic port can be bound to the virtual bridge, and the floating
ip can also be implemented by the L3 agent on the smart NIC.

Closes-Bug: #1962821
Change-Id: I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b
(cherry picked from commit e2f05ffabccda1a8a213cbc2e27c2bf910e5766c)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/18/832718/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/plugins/utils.py'],1,8d0ffad0d4d47fc983010023949bcf5b1dc8080e,bug/1962821-stable/victoria," :returns: True if the port VNIC type is 'normal' or 'smart-nic'; False in any other case. return port[pb.VNIC_TYPE] in [pb.VNIC_NORMAL, pb.VNIC_SMARTNIC]", :returns: True if the port VNIC type is 'normal'; False in any other case. return port[pb.VNIC_TYPE] == pb.VNIC_NORMAL,3,2
openstack%2Fneutron-lib~stable%2Fussuri~I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b,openstack/neutron-lib,stable/ussuri,I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b,Support binding floating ip to smart-nic port,ABANDONED,2022-03-09 07:09:13.000000000,2022-07-29 11:14:31.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-03-09 07:09:13.000000000', 'files': ['neutron_lib/plugins/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6ae31b6ded2327dc53bd8085de30382bea822202', 'message': 'Support binding floating ip to smart-nic port\n\nWhen the Ironic use smart NICs to implement Bare Metal servers, the\nneutron L2 agent and L3 agent run locally on the smart NIC. The\nsmart-nic port can be bound to the virtual bridge, and the floating\nip can also be implemented by the L3 agent on the smart NIC.\n\nCloses-Bug: #1962821\nChange-Id: I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b\n(cherry picked from commit e2f05ffabccda1a8a213cbc2e27c2bf910e5766c)\n'}]",1,832717,6ae31b6ded2327dc53bd8085de30382bea822202,6,4,1,31769,,,0,"Support binding floating ip to smart-nic port

When the Ironic use smart NICs to implement Bare Metal servers, the
neutron L2 agent and L3 agent run locally on the smart NIC. The
smart-nic port can be bound to the virtual bridge, and the floating
ip can also be implemented by the L3 agent on the smart NIC.

Closes-Bug: #1962821
Change-Id: I6c10c51b4ed6fd5f05671a9d3b2d5d7aa087eb2b
(cherry picked from commit e2f05ffabccda1a8a213cbc2e27c2bf910e5766c)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/17/832717/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/plugins/utils.py'],1,6ae31b6ded2327dc53bd8085de30382bea822202,bug/1962821-stable/ussuri," :returns: True if the port VNIC type is 'normal' or 'smart-nic'; False in any other case. return port[pb.VNIC_TYPE] in [pb.VNIC_NORMAL, pb.VNIC_SMARTNIC]", :returns: True if the port VNIC type is 'normal'; False in any other case. return port[pb.VNIC_TYPE] == pb.VNIC_NORMAL,3,2
openstack%2Fnetworking-ovn~stable%2Ftrain~Iba51fa04d133a016a13d830eca268e4d9acd6166,openstack/networking-ovn,stable/train,Iba51fa04d133a016a13d830eca268e4d9acd6166,Optimize queries for port operations,MERGED,2022-07-22 09:18:16.000000000,2022-07-29 11:11:29.000000000,2022-07-29 11:10:20.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-22 09:18:16.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/88e025c5aecffa7a05003406d9f4f4134d2711f1', 'message': 'Optimize queries for port operations\n\nPort create/update are most time-consuming operations\non subnet creation. As example, in those cases where\nseveral subnets are created over the same network the\nresponse time for those port operations is linearly\nincreased as the total subnets increases.\n\nThis patch improves the number of queries required on port\noperations in order to reduce the response time.\n\nCloses-Bug: #1977831\n\n(manually cherry-picked from commit c3b7f34388fc63cd3d3d5ab7c6548699e98f96e0)\n\nChange-Id: Iba51fa04d133a016a13d830eca268e4d9acd6166\n'}]",1,850738,88e025c5aecffa7a05003406d9f4f4134d2711f1,8,3,1,34451,,,0,"Optimize queries for port operations

Port create/update are most time-consuming operations
on subnet creation. As example, in those cases where
several subnets are created over the same network the
response time for those port operations is linearly
increased as the total subnets increases.

This patch improves the number of queries required on port
operations in order to reduce the response time.

Closes-Bug: #1977831

(manually cherry-picked from commit c3b7f34388fc63cd3d3d5ab7c6548699e98f96e0)

Change-Id: Iba51fa04d133a016a13d830eca268e4d9acd6166
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/38/850738/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py']",2,88e025c5aecffa7a05003406d9f4f4134d2711f1,," def test__get_port_options(self): with mock.patch.object(self.mech_driver._plugin, 'get_subnets') as \ mock_get_subnets: port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'device_owner': 'device_owner', 'network_id': 'foo', 'fixed_ips': [{'subnet_id': 'subnet-1', 'ip_address': '10.0.0.55'}, {'subnet_id': 'subnet-2', 'ip_address': '10.0.1.55'}, ]} subnet_ids = [ ip['subnet_id'] for ip in port.get('fixed_ips') ] self.mech_driver._ovn_client._get_port_options(port) mock_get_subnets.assert_called_once_with( mock.ANY, filters={'id': subnet_ids}) def test_update_port(self): with mock.patch.object( self.mech_driver._ovn_client, 'is_metadata_port') as \ mock_is_metadata_port, \ mock.patch.object(self.mech_driver._plugin, 'get_subnets') as \ mock_get_subnets, \ mock.patch.object(self.mech_driver._plugin, 'get_network') as \ mock_get_network: net_attrs = {} fake_net = ( fakes.FakeNetwork.create_one_network(attrs=net_attrs).info()) port = {'id': 'virt-port', 'mac_address': '00:00:00:00:00:00', 'name': 'port-foo', 'device_id': 'device_id-foo', 'project_id': 'project_id-foo', 'device_owner': 'device_owner', 'network_id': 'foo', 'admin_state_up': True, 'fixed_ips': [{'subnet_id': 'subnet-1', 'ip_address': '10.0.0.55'}, {'subnet_id': 'subnet-2', 'ip_address': '10.0.1.55'}, ]} subnet_ids = [ ip['subnet_id'] for ip in port.get('fixed_ips') ] mock_is_metadata_port.return_value = [True] mock_get_network.return_value = fake_net self.mech_driver._ovn_client.update_port(port) self.assertEqual(mock_get_subnets.call_count, 2) mock_get_subnets.assert_called_with( mock.ANY, filters={'id': subnet_ids}) ",,106,21
openstack%2Fneutron-fwaas~master~Ie23b9dee179d11cee34f892b9eb86be36d71aab0,openstack/neutron-fwaas,master,Ie23b9dee179d11cee34f892b9eb86be36d71aab0,Add libczmq4 to bindep for testing on jammy,MERGED,2022-07-28 12:56:00.000000000,2022-07-29 11:08:04.000000000,2022-07-29 11:06:56.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30380}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-28 12:56:00.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e1e496d337e20d91a31ec9f39b9b5ef7bcac6c6c', 'message': 'Add libczmq4 to bindep for testing on jammy\n\npy310 job is failing for fwaas on jammy, adding libczmq4 to bindep can\nsolve the issue.\n\nChange-Id: Ie23b9dee179d11cee34f892b9eb86be36d71aab0\n'}]",5,851397,e1e496d337e20d91a31ec9f39b9b5ef7bcac6c6c,13,6,1,8313,,,0,"Add libczmq4 to bindep for testing on jammy

py310 job is failing for fwaas on jammy, adding libczmq4 to bindep can
solve the issue.

Change-Id: Ie23b9dee179d11cee34f892b9eb86be36d71aab0
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/97/851397/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e1e496d337e20d91a31ec9f39b9b5ef7bcac6c6c,py310_libczmq4,libczmq4 [test],,1,0
openstack%2Foslo.vmware~master~I7286ea54a4ca641d5a2187ad5c884bc8fc8276fc,openstack/oslo.vmware,master,I7286ea54a4ca641d5a2187ad5c884bc8fc8276fc,Imported Translations from Zanata,MERGED,2022-07-06 03:56:42.000000000,2022-07-29 10:34:54.000000000,2022-07-29 10:33:02.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-06 03:56:42.000000000', 'files': ['oslo_vmware/locale/en_GB/LC_MESSAGES/oslo_vmware.po'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/456db41c33eff3f9a14f764c3b40b8531fc26b3e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7286ea54a4ca641d5a2187ad5c884bc8fc8276fc\n'}]",0,848803,456db41c33eff3f9a14f764c3b40b8531fc26b3e,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7286ea54a4ca641d5a2187ad5c884bc8fc8276fc
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/03/848803/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_vmware/locale/en_GB/LC_MESSAGES/oslo_vmware.po'],1,456db41c33eff3f9a14f764c3b40b8531fc26b3e,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-06-21 16:36+0000\n""""PO-Revision-Date: 2022-07-05 09:38+0000\n""msgid ""Connection error occurred while reading data from %s."" msgstr ""Connection error occurred while reading data from %s."" #, python-format","""POT-Creation-Date: 2020-09-22 12:46+0000\n""""PO-Revision-Date: 2020-10-10 02:29+0000\n""",7,2
openstack%2Foslo.vmware~master~I2a0271618074ceb68fed716da347ad5fde217a28,openstack/oslo.vmware,master,I2a0271618074ceb68fed716da347ad5fde217a28,remove unicode literal from code,MERGED,2022-07-28 05:34:26.000000000,2022-07-29 10:34:04.000000000,2022-07-29 10:33:00.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-07-28 05:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/1dd4f8206e7e2790324872abf25b04b663c659c6', 'message': 'remove unicode from code\n\nChange-Id: I2a0271618074ceb68fed716da347ad5fde217a28\n'}, {'number': 2, 'created': '2022-07-28 10:24:35.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/968f8cc8df14e91748409353937f85ca17030770', 'message': 'remove unicode literal from code\n\nChange-Id: I2a0271618074ceb68fed716da347ad5fde217a28\n'}]",3,851312,968f8cc8df14e91748409353937f85ca17030770,13,4,2,35058,,,0,"remove unicode literal from code

Change-Id: I2a0271618074ceb68fed716da347ad5fde217a28
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/12/851312/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,1dd4f8206e7e2790324872abf25b04b663c659c6,,"copyright = '2014, OpenStack Foundation'","copyright = u'2014, OpenStack Foundation'",1,1
openstack%2Foslo.utils~master~I2834d2d5427efca3ab83cd04fd603efc02aab19a,openstack/oslo.utils,master,I2834d2d5427efca3ab83cd04fd603efc02aab19a,Imported Translations from Zanata,MERGED,2022-06-27 03:54:10.000000000,2022-07-29 10:32:10.000000000,2022-07-29 10:31:05.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-27 03:54:10.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/760deb9cc4441fe573e2757447d14f2a7ab8673f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2834d2d5427efca3ab83cd04fd603efc02aab19a\n'}]",0,847707,760deb9cc4441fe573e2757447d14f2a7ab8673f,9,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2834d2d5427efca3ab83cd04fd603efc02aab19a
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/07/847707/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,760deb9cc4441fe573e2757447d14f2a7ab8673f,zanata/translations,"""POT-Creation-Date: 2022-06-21 16:33+0000\n""""PO-Revision-Date: 2022-06-26 09:18+0000\n""msgid ""5.0.0-4"" msgstr ""5.0.0-4"" ""The ``isotime``, ``strtime`` and ``iso8601_from_timestamp`` helpers have "" ""been removed from ``oslo_utils.timeutils``. These are all available in the "" ""stdlib in Python 3."" msgstr """" ""The ``isotime``, ``strtime`` and ``iso8601_from_timestamp`` helpers have "" ""been removed from ``oslo_utils.timeutils``. These are all available in the "" ""stdlib in Python 3."" msgid """" ""The ``oslo_utils.fnmatch`` module has been removed. The stdlib ``fnmatch`` "" ""module is thread safe in Python 3+."" msgstr """" ""The ``oslo_utils.fnmatch`` module has been removed. The stdlib ``fnmatch`` "" ""module is thread safe in Python 3+."" msgid """"","""POT-Creation-Date: 2022-05-26 18:44+0000\n""""PO-Revision-Date: 2022-06-01 06:40+0000\n""",21,2
openstack%2Fopenstack-helm-images~master~Ic826c0ebf9b0ad82598b729c2c16eaf93769e3d2,openstack/openstack-helm-images,master,Ic826c0ebf9b0ad82598b729c2c16eaf93769e3d2,Disable X & Y release jobs temporarily,MERGED,2022-06-16 15:35:56.000000000,2022-07-29 10:31:20.000000000,2022-07-29 10:26:11.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-06-16 15:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1f47fada9907ee8615a974b6445c489b6d42990c', 'message': 'Comment out yoga compute-kit job temporarily\n\nCurrently the compute-kit job for openstack yoga has issues running\nand times out when trying to exercise nova and neutron. This change\ncomments out the periodic running and job dependency while we\nfix the issue. A future change will uncomment the job so that it\nruns again.\n\nChange-Id: Ic826c0ebf9b0ad82598b729c2c16eaf93769e3d2\n'}, {'number': 2, 'created': '2022-06-17 20:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/98c319ce4a4c31bfa479eaed79cae5778d186fc0', 'message': 'Comment out yoga compute-kit job temporarily\n\nCurrently the compute-kit job for openstack yoga has issues running\nand times out when trying to exercise nova and neutron. This change\ncomments out the periodic running and job dependency while we\nfix the issue. A future change will uncomment the job so that it\nruns again.\n\nChange-Id: Ic826c0ebf9b0ad82598b729c2c16eaf93769e3d2\n'}, {'number': 3, 'created': '2022-07-05 20:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/006525e0d77ff90d2e123d73badbce86c845ca5c', 'message': 'Comment out yoga compute-kit job temporarily\n\nCurrently the compute-kit job for openstack yoga has issues running\nwithin Zuul and times out when trying to exercise nova and neutron.\n\nThis change comments out the periodic running and job dependency while\nwe diagnose and fix the issue. A future change will uncomment the job\nso that it runs again.\n\nChange-Id: Ic826c0ebf9b0ad82598b729c2c16eaf93769e3d2\n'}, {'number': 4, 'created': '2022-07-14 17:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/33dedd02a7fb97556667e1afd0dba379e94806b6', 'message': 'Comment out yoga compute-kit job temporarily\n\nCurrently the compute-kit job for openstack yoga has issues running\nwithin Zuul and times out when trying to exercise nova and neutron.\n\nThis change comments out the periodic running and job dependency while\nwe diagnose and fix the issue.  A future change will uncomment the job\nso that it runs again.\n\nChange-Id: Ic826c0ebf9b0ad82598b729c2c16eaf93769e3d2\n'}, {'number': 5, 'created': '2022-07-25 14:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bc42a85083f972456c3bef1cc9d8bd2e148dbca1', 'message': 'Comment out yoga compute-kit job temporarily\n\nCurrently the compute-kit job for openstack yoga has issues running\nwithin Zuul and times out when trying to exercise nova and neutron.\n\nThis change comments out the periodic running and job dependency while\nwe diagnose and fix the issue.  A future change will uncomment the job\nso that it runs again.\n\nChange-Id: Ic826c0ebf9b0ad82598b729c2c16eaf93769e3d2\n'}, {'number': 6, 'created': '2022-07-28 22:35:44.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c4de94074fb797baf2f5128c1b90eeaf4b6f77d5', 'message': 'Disable X & Y release jobs temporarily\n\nCurrently the compute-kit jobs for openstack xena and yoga have issues\nrunning within Zuul and timeout when trying to exercise nova and neutron.\n\nThis change comments out the X & Y release jobs while we diagnose and fix\nthe issue. A future change will uncomment the jobs so they run again.\n\nChange-Id: Ic826c0ebf9b0ad82598b729c2c16eaf93769e3d2\n'}]",13,846191,c4de94074fb797baf2f5128c1b90eeaf4b6f77d5,53,5,6,21420,,,0,"Disable X & Y release jobs temporarily

Currently the compute-kit jobs for openstack xena and yoga have issues
running within Zuul and timeout when trying to exercise nova and neutron.

This change comments out the X & Y release jobs while we diagnose and fix
the issue. A future change will uncomment the jobs so they run again.

Change-Id: Ic826c0ebf9b0ad82598b729c2c16eaf93769e3d2
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/91/846191/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml']",2,1f47fada9907ee8615a974b6445c489b6d42990c,, # TODO(gagehugo): Fix osh job and uncomment here # - name: openstack-helm-images-compute-kit-yoga-ubuntu_focal, - name: openstack-helm-images-compute-kit-yoga-ubuntu_focal,4,2
openstack%2Fneutron-fwaas~master~I28c707d1a0c633563dab1de8a69c823f6d445bc1,openstack/neutron-fwaas,master,I28c707d1a0c633563dab1de8a69c823f6d445bc1,Add weekly jobs,MERGED,2022-07-28 13:00:46.000000000,2022-07-29 10:29:36.000000000,2022-07-29 10:27:22.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-07-28 13:00:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/eed9348789d4c5030ffe7580e802cfbb4c9ab5b0', 'message': 'Add weekly jobs\n\nAdd jobs to the weekly periodic pipeline (see [1]).\nCurrent jobs to be run weekly: openstack-tox-py39,\nneutron-fwaas-functional and neutron-tempest-plugin-fwaas.\n\n[1]: https://opendev.org/zuul/project-config/src/branch/master/zuul.d/pipelines.yaml#L130\n\nChange-Id: I28c707d1a0c633563dab1de8a69c823f6d445bc1\n'}]",2,851398,eed9348789d4c5030ffe7580e802cfbb4c9ab5b0,12,5,1,8313,,,0,"Add weekly jobs

Add jobs to the weekly periodic pipeline (see [1]).
Current jobs to be run weekly: openstack-tox-py39,
neutron-fwaas-functional and neutron-tempest-plugin-fwaas.

[1]: https://opendev.org/zuul/project-config/src/branch/master/zuul.d/pipelines.yaml#L130

Change-Id: I28c707d1a0c633563dab1de8a69c823f6d445bc1
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/98/851398/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eed9348789d4c5030ffe7580e802cfbb4c9ab5b0,weekly-jobs, periodic-weekly: jobs: - openstack-tox-py39 - neutron-fwaas-functional - neutron-tempest-plugin-fwaas,,5,0
openstack%2Fopenstack-ansible-os_rally~stable%2Fxena~Ifd1ed254ac4a1f3a4b25a29f9a1f6ae19e823bd3,openstack/openstack-ansible-os_rally,stable/xena,Ifd1ed254ac4a1f3a4b25a29f9a1f6ae19e823bd3,Re-enable upgrade jobs,MERGED,2022-07-13 07:21:30.000000000,2022-07-29 10:25:59.000000000,2022-07-29 10:23:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-07-13 07:21:30.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/5c7d77ed5b1c81e31db6e03d883b03b4e2e2f767', 'message': 'Re-enable upgrade jobs\n\nChange-Id: Ifd1ed254ac4a1f3a4b25a29f9a1f6ae19e823bd3\n'}]",1,849622,5c7d77ed5b1c81e31db6e03d883b03b4e2e2f767,10,3,1,28619,,,0,"Re-enable upgrade jobs

Change-Id: Ifd1ed254ac4a1f3a4b25a29f9a1f6ae19e823bd3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/22/849622/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5c7d77ed5b1c81e31db6e03d883b03b4e2e2f767,,, check: jobs: - openstack-ansible-upgrade-aio_metal-ubuntu-focal: voting: false gate: jobs: - openstack-ansible-upgrade-aio_metal-ubuntu-focal: voting: false,0,8
openstack%2Foslo.tools~master~Iae55c1cfdccccf7140d86819b4a7cbb3835c39a8,openstack/oslo.tools,master,Iae55c1cfdccccf7140d86819b4a7cbb3835c39a8,Use TOX_CONSTRAINTS_FILE,MERGED,2022-07-27 01:43:42.000000000,2022-07-29 10:25:20.000000000,2022-07-29 10:25:20.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 01:43:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.tools/commit/2d9e9cec1edd3afb9a1f5838385b8bcfe75e2797', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Iae55c1cfdccccf7140d86819b4a7cbb3835c39a8\n'}]",0,850986,2d9e9cec1edd3afb9a1f5838385b8bcfe75e2797,6,2,1,35058,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Iae55c1cfdccccf7140d86819b4a7cbb3835c39a8
",git fetch https://review.opendev.org/openstack/oslo.tools refs/changes/86/850986/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2d9e9cec1edd3afb9a1f5838385b8bcfe75e2797,, -c{env:TOX_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Foslo.service~master~I93cf07b4ff174ed02c4afbf073c6d5931c48742c,openstack/oslo.service,master,I93cf07b4ff174ed02c4afbf073c6d5931c48742c,Allow to check if the OpenSSL FIPS mode is supported,NEW,2021-06-24 14:34:15.000000000,2022-07-29 10:18:50.000000000,,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 14:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/fed5a00c48adc13110bb9f06d3c8b455a0513e5d', 'message': ""Allow to check if the OpenSSL FIPS mode is supported\n\nThese changes add a new check to the ``sslutils`` module to validate\nif the FIPS mode of OpenSSL is supported.\n\nI have voluntarily ignored the unit test as possibly our official\nruntimes doesn't yet support it and so we will skip the test, and so, that\ndon't make much sense to skip it as the goal is to return a boolean\nif python support it. Feel free to propose alternative on this point.\n\nhttps://en.wikipedia.org/wiki/Federal_Information_Processing_Standards\n\nChange-Id: I93cf07b4ff174ed02c4afbf073c6d5931c48742c\n""}, {'number': 2, 'created': '2021-11-10 10:46:53.000000000', 'files': ['oslo_service/tests/test_sslutils.py', 'releasenotes/notes/enforce_fips_mode-44132f7fdb80e10b.yaml', 'oslo_service/sslutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/dcfeb7424ca6d1080b07ef4e6df30c83db72f09b', 'message': 'Allow to check if the OpenSSL FIPS mode is supported\n\nThese changes add a new check to the ``sslutils`` module to validate\nif the FIPS mode of OpenSSL is supported.\n\nhttps://en.wikipedia.org/wiki/Federal_Information_Processing_Standards\n\nChange-Id: I93cf07b4ff174ed02c4afbf073c6d5931c48742c\n'}]",4,797908,dcfeb7424ca6d1080b07ef4e6df30c83db72f09b,7,3,2,28522,,,0,"Allow to check if the OpenSSL FIPS mode is supported

These changes add a new check to the ``sslutils`` module to validate
if the FIPS mode of OpenSSL is supported.

https://en.wikipedia.org/wiki/Federal_Information_Processing_Standards

Change-Id: I93cf07b4ff174ed02c4afbf073c6d5931c48742c
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/08/797908/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enforce_fips_mode-44132f7fdb80e10b.yaml', 'oslo_service/sslutils.py']",2,fed5a00c48adc13110bb9f06d3c8b455a0513e5d,fips,"def fips_is_supported(): """"""Check if OpenSSL FIPS mode is supported."""""" return getattr(ssl, 'FIPS_mode', False) ",,10,0
openstack%2Fopenstack-ansible~master~I5a9f9855aa701d12bc3c9e2e7e9c651ff606c319,openstack/openstack-ansible,master,I5a9f9855aa701d12bc3c9e2e7e9c651ff606c319,rabbitmq: default to using TLS for management user interface,MERGED,2022-07-27 12:55:40.000000000,2022-07-29 10:18:27.000000000,2022-07-29 10:16:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-07-27 12:55:40.000000000', 'files': ['releasenotes/notes/rabbitmq-upgrade-management-ssl-d6a7f77f2a65ffa9.yaml', 'inventory/group_vars/all/all.yml', 'inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0cc8e039ea0d8bc860d69e5d613bcd2eaf188180', 'message': 'rabbitmq: default to using TLS for management user interface\n\nThe RabbitMQ role defaults change in Yoga to enable the management\nUI with TLS/HTTPS. This implicitly disables the HTTP port.\n\nThis commit adjusts the HAProxy config to take account of this\nchange and switch the port used accordingly. The\nrabbitmq_management_ssl variable is also set explicitly to ensure\nit is defined with appropriate scope.\n\nChange-Id: I5a9f9855aa701d12bc3c9e2e7e9c651ff606c319\n'}]",1,851219,0cc8e039ea0d8bc860d69e5d613bcd2eaf188180,10,4,1,31542,,,0,"rabbitmq: default to using TLS for management user interface

The RabbitMQ role defaults change in Yoga to enable the management
UI with TLS/HTTPS. This implicitly disables the HTTP port.

This commit adjusts the HAProxy config to take account of this
change and switch the port used accordingly. The
rabbitmq_management_ssl variable is also set explicitly to ensure
it is defined with appropriate scope.

Change-Id: I5a9f9855aa701d12bc3c9e2e7e9c651ff606c319
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/851219/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rabbitmq-upgrade-management-ssl-d6a7f77f2a65ffa9.yaml', 'inventory/group_vars/all/all.yml', 'inventory/group_vars/haproxy/haproxy.yml']",3,0cc8e039ea0d8bc860d69e5d613bcd2eaf188180,," haproxy_ssl: ""{{ rabbitmq_management_ssl | bool }}"" haproxy_backend_ssl: ""{{ rabbitmq_management_ssl | bool }}"" haproxy_backend_ca: False haproxy_port: ""{{ (rabbitmq_management_ssl | bool) | ternary(15671, 15672) }}""", haproxy_ssl: False haproxy_port: 15672,14,2
openstack%2Fpython-manilaclient~master~Ia4367ba5dbb73373986fee4d7662c12a60499b12,openstack/python-manilaclient,master,Ia4367ba5dbb73373986fee4d7662c12a60499b12,Python3.11: fix unit test crashes,MERGED,2022-07-27 13:04:04.000000000,2022-07-29 10:17:57.000000000,2022-07-29 10:16:56.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-07-27 13:04:04.000000000', 'files': ['manilaclient/tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/79d1f1c4f1c64022588eaca8c107f40bf1e8b499', 'message': ""Python3.11: fix unit test crashes\n\nIn Python3.11, global flags must be placed right at the start of a\nregular expression.\n\nThe following regex:\n\n\t'.*?(?m)^List NAS shares with filters.'\n\nmuts become:\n\n\t'(?m).*?^List NAS shares with filters.'\n\nHowever, since we are using re.MULTILINE, we actually do not need to use\na global flag.\n\nCloses-Bug: #1982946\nChange-Id: Ia4367ba5dbb73373986fee4d7662c12a60499b12\n""}]",2,851220,79d1f1c4f1c64022588eaca8c107f40bf1e8b499,10,3,1,8122,,,0,"Python3.11: fix unit test crashes

In Python3.11, global flags must be placed right at the start of a
regular expression.

The following regex:

	'.*?(?m)^List NAS shares with filters.'

muts become:

	'(?m).*?^List NAS shares with filters.'

However, since we are using re.MULTILINE, we actually do not need to use
a global flag.

Closes-Bug: #1982946
Change-Id: Ia4367ba5dbb73373986fee4d7662c12a60499b12
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/20/851220/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/unit/test_shell.py'],1,79d1f1c4f1c64022588eaca8c107f40bf1e8b499,py311," '.*?^List NAS shares with filters.',"," '.*?(?m)^List NAS shares with filters.',",1,1
openstack%2Foslo.reports~master~Ifd63876f511cef3a1f151c664a8bcd5ae77058b8,openstack/oslo.reports,master,Ifd63876f511cef3a1f151c664a8bcd5ae77058b8,remove unicode literal from code,MERGED,2022-07-28 01:45:30.000000000,2022-07-29 10:06:33.000000000,2022-07-29 10:05:10.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-07-28 01:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/a7bf8a28852ef3e6f8d2d50d39965c35b4ee1f34', 'message': 'remove unicode from code\n\nChange-Id: Ifd63876f511cef3a1f151c664a8bcd5ae77058b8\n'}, {'number': 2, 'created': '2022-07-28 10:22:54.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/e9caa7aa1751b71d5a05ed654910d893570dc0b2', 'message': 'remove unicode literal from code\n\nChange-Id: Ifd63876f511cef3a1f151c664a8bcd5ae77058b8\n'}]",3,851296,e9caa7aa1751b71d5a05ed654910d893570dc0b2,12,4,2,35058,,,0,"remove unicode literal from code

Change-Id: Ifd63876f511cef3a1f151c664a8bcd5ae77058b8
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/96/851296/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a7bf8a28852ef3e6f8d2d50d39965c35b4ee1f34,,"copyright = '2014, OpenStack Foundation'","copyright = u'2014, OpenStack Foundation'",1,1
openstack%2Fkolla-ansible~master~I8ad42b20302a67b94b95a234da309279be0fe82d,openstack/kolla-ansible,master,I8ad42b20302a67b94b95a234da309279be0fe82d,Switch to Jammy images,MERGED,2022-07-28 08:17:14.000000000,2022-07-29 10:00:51.000000000,2022-07-29 09:59:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-07-28 08:17:14.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e87285018956c12ceae5c3876131c877c024aae0', 'message': 'Switch to Jammy images\n\nChange-Id: I8ad42b20302a67b94b95a234da309279be0fe82d\n'}]",1,851355,e87285018956c12ceae5c3876131c877c024aae0,12,3,1,30491,,,0,"Switch to Jammy images

Change-Id: I8ad42b20302a67b94b95a234da309279be0fe82d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/851355/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,e87285018956c12ceae5c3876131c877c024aae0,," ""ubuntu"": ""3.10"" ""ubuntu"": ""jammy"","," ""ubuntu"": ""3.8"" ""ubuntu"": ""focal"",",2,2
openstack%2Foslo.service~stable%2Fstein~Ia531606ec2526ce1c6169296a8f254342870416d,openstack/oslo.service,stable/stein,Ia531606ec2526ce1c6169296a8f254342870416d,Dropping lower constraints testing,ABANDONED,2022-04-05 11:31:07.000000000,2022-07-29 09:58:16.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-05 11:31:07.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/06fb18e4b09bc8f0007e8bccb1d4e992a3f232cd', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain\nneeded to maintain that now exceeds the benefits provided by this\nmechanisms.\n\nConflicts:\n  lower-constraints.txt\n\nNOTE(stephenfin): Conflicts are due to the different lower constraints.\n\nNOTE(stephenfin): Change Ibe9e1aa7501e80844ef4b4e05866c0c3cf310c86 is\nsquashed into this backport.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia531606ec2526ce1c6169296a8f254342870416d\n(cherry picked from commit a88653d07787d1ea29ce7bd05bf73db42db48c94)\n(cherry picked from commit bdcab45915043c8e031b967553b3d5e96600a6b4)\n(cherry picked from commit 839022d747a66c7899a85c2111d8ea0de4618b0c)\n(cherry picked from commit 1be3ac39984c579d7a8d4f0994d02d311b6e948d)\n'}]",6,836637,06fb18e4b09bc8f0007e8bccb1d4e992a3f232cd,13,3,1,15334,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain
needed to maintain that now exceeds the benefits provided by this
mechanisms.

Conflicts:
  lower-constraints.txt

NOTE(stephenfin): Conflicts are due to the different lower constraints.

NOTE(stephenfin): Change Ibe9e1aa7501e80844ef4b4e05866c0c3cf310c86 is
squashed into this backport.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ia531606ec2526ce1c6169296a8f254342870416d
(cherry picked from commit a88653d07787d1ea29ce7bd05bf73db42db48c94)
(cherry picked from commit bdcab45915043c8e031b967553b3d5e96600a6b4)
(cherry picked from commit 839022d747a66c7899a85c2111d8ea0de4618b0c)
(cherry picked from commit 1be3ac39984c579d7a8d4f0994d02d311b6e948d)
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/37/836637/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,06fb18e4b09bc8f0007e8bccb1d4e992a3f232cd,oslo_lc_drop,, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,83
openstack%2Foslo.utils~stable%2Fstein~I238fae1bd118a1ee358559f64b3fcc3e66365121,openstack/oslo.utils,stable/stein,I238fae1bd118a1ee358559f64b3fcc3e66365121,[stable-only] Cap bandit and fix lower-constraints,ABANDONED,2021-02-24 14:15:40.000000000,2022-07-29 09:57:49.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-24 14:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/e3bab6d906cdc492527bb5ed60709c78e93d0e3b', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I238fae1bd118a1ee358559f64b3fcc3e66365121\n'}, {'number': 2, 'created': '2021-06-18 13:39:54.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/631e63e57533d49eb64d530fb15e8f349bdf0641', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I238fae1bd118a1ee358559f64b3fcc3e66365121\n'}]",3,777385,631e63e57533d49eb64d530fb15e8f349bdf0641,18,3,2,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I238fae1bd118a1ee358559f64b3fcc3e66365121
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/85/777385/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt']",3,e3bab6d906cdc492527bb5ed60709c78e93d0e3b,cap-bandit-1.6.2,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",5,4
openstack%2Foslo.config~stable%2Fstein~I38e8d5eb87c9a4934b974f27c23b1f0628b4ae3c,openstack/oslo.config,stable/stein,I38e8d5eb87c9a4934b974f27c23b1f0628b4ae3c,[stable-only] Cap bandit and fix lower-constraints,ABANDONED,2021-02-23 16:05:14.000000000,2022-07-29 09:57:42.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 16:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/ca2eade5b1c84d3b17adb32441a56a0b94cddb02', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I38e8d5eb87c9a4934b974f27c23b1f0628b4ae3c\n'}, {'number': 2, 'created': '2021-02-23 16:06:19.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/6e2e2dac22a969aea7583b171b6dc534f06f4877', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\nSphinx requirement also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I38e8d5eb87c9a4934b974f27c23b1f0628b4ae3c\n'}]",2,777157,6e2e2dac22a969aea7583b171b6dc534f06f4877,13,2,2,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirement also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I38e8d5eb87c9a4934b974f27c23b1f0628b4ae3c
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/57/777157/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt']",3,ca2eade5b1c84d3b17adb32441a56a0b94cddb02,cap-bandit-1.6.2,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",8,5
openstack%2Foslo.concurrency~stable%2Fstein~I3ea3b8c8d747667a640eeabbc38c6210acd87de8,openstack/oslo.concurrency,stable/stein,I3ea3b8c8d747667a640eeabbc38c6210acd87de8,[stable-only] Cap bandit and fix lower-constraints,ABANDONED,2021-02-23 16:11:23.000000000,2022-07-29 09:57:39.000000000,,"[{'_account_id': 708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 16:11:23.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/5ce37a874b0396660177a25c7ee2152ee18da4be', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\nSphinx requirement also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I3ea3b8c8d747667a640eeabbc38c6210acd87de8\n'}]",1,777158,5ce37a874b0396660177a25c7ee2152ee18da4be,9,3,1,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirement also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I3ea3b8c8d747667a640eeabbc38c6210acd87de8
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/58/777158/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,5ce37a874b0396660177a25c7ee2152ee18da4be,cap-bandit-1.6.2,flake8==2.6.0hacking==1.1.0,flake8==2.5.5hacking==0.12.0,6,4
openstack%2Foslo.i18n~stable%2Fstein~Ieb1c28418e2c91f3764c312e0b43b600a1c699dc,openstack/oslo.i18n,stable/stein,Ieb1c28418e2c91f3764c312e0b43b600a1c699dc,[stable-only] Cap bandit and fix lower-constraints,ABANDONED,2021-02-23 16:34:11.000000000,2022-07-29 09:57:35.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 16:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/2e631d05e53db2a92ba8f0e01da820892f4d579e', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\nSphinx requirement also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ieb1c28418e2c91f3764c312e0b43b600a1c699dc\n'}, {'number': 2, 'created': '2021-02-23 16:42:04.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/b36f24501f1e0daeaf9de584e4f582bf3e720bd7', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ieb1c28418e2c91f3764c312e0b43b600a1c699dc\n'}]",1,777161,b36f24501f1e0daeaf9de584e4f582bf3e720bd7,8,2,2,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ieb1c28418e2c91f3764c312e0b43b600a1c699dc
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/61/777161/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,2e631d05e53db2a92ba8f0e01da820892f4d579e,cap-bandit-1.6.2,flake8==2.6.0hacking==1.1.0,flake8==2.5.5hacking==0.12.0,6,4
openstack%2Foslo.serialization~stable%2Fstein~I404810487e68042a2ae7de888a1225a0fcd23252,openstack/oslo.serialization,stable/stein,I404810487e68042a2ae7de888a1225a0fcd23252,[stable-only] Cap bandit and fix lower-constraints,ABANDONED,2021-02-24 12:19:18.000000000,2022-07-29 09:57:28.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 12:19:18.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/d14cf8b680d8a0d57fc7e1ac53b76d02417fa558', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I404810487e68042a2ae7de888a1225a0fcd23252\n(cherry picked from commit bbf30b50e81c5a042b9722f0d292bba487e777fa)\n'}]",1,777374,d14cf8b680d8a0d57fc7e1ac53b76d02417fa558,7,2,1,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I404810487e68042a2ae7de888a1225a0fcd23252
(cherry picked from commit bbf30b50e81c5a042b9722f0d292bba487e777fa)
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/74/777374/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt']",3,d14cf8b680d8a0d57fc7e1ac53b76d02417fa558,cap-bandit-1.6.2,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",5,4
openstack%2Fheat~stable%2Ftrain~I64d727daabf5755f92987e4da33c6663460b6d5d,openstack/heat,stable/train,I64d727daabf5755f92987e4da33c6663460b6d5d,Testing requirements fix,ABANDONED,2022-07-15 04:14:06.000000000,2022-07-29 09:52:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-15 04:14:06.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/heat/commit/fa020d5617e37e73872dc2932a4b06033c4b67c3', 'message': 'Testing requirements fix\n\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/849767\nChange-Id: I64d727daabf5755f92987e4da33c6663460b6d5d\n'}]",0,849935,fa020d5617e37e73872dc2932a4b06033c4b67c3,3,1,1,9816,,,0,"Testing requirements fix

Depends-on: https://review.opendev.org/c/openstack/requirements/+/849767
Change-Id: I64d727daabf5755f92987e4da33c6663460b6d5d
",git fetch https://review.opendev.org/openstack/heat refs/changes/35/849935/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,fa020d5617e37e73872dc2932a4b06033c4b67c3,,,,0,0
openstack%2Ftrove~master~Ia079b7b7f5d96858c7dfe4b3d103c0efd86ae68b,openstack/trove,master,Ia079b7b7f5d96858c7dfe4b3d103c0efd86ae68b,Changed py39 from py27 in tox,MERGED,2022-07-28 04:17:52.000000000,2022-07-29 09:51:58.000000000,2022-07-29 09:50:49.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-07-28 04:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/cfab358fb92af8d3dd14a8a13acbcb0980142169', 'message': 'Remove py27 env in tox for contributing doc\n\nRemove py27 env\n\nChange-Id: Ia079b7b7f5d96858c7dfe4b3d103c0efd86ae68b\n'}, {'number': 2, 'created': '2022-07-29 01:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/265617ab2121c60e5ad5d499d9e8183339569058', 'message': 'Changed py39 from py27 in tox\n\nChanged py39 from py27 in tox for contributing doc\n\nChange-Id: Ia079b7b7f5d96858c7dfe4b3d103c0efd86ae68b\n'}, {'number': 3, 'created': '2022-07-29 01:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2893d513571849570de06c3ac7dba9b516b8f023', 'message': 'Changed py39 from py27 in tox\n\nChanged py39 from py27 in tox for contributing doc\n\nChange-Id: Ia079b7b7f5d96858c7dfe4b3d103c0efd86ae68b\n'}, {'number': 4, 'created': '2022-07-29 02:26:52.000000000', 'files': ['CONTRIBUTING.rst', 'tools/start-fake-mode.sh'], 'web_link': 'https://opendev.org/openstack/trove/commit/476c5f89c7c120a28a4b0b83a0ef81e7aeb02010', 'message': 'Changed py39 from py27 in tox\n\nChanged py39 from py27 in tox for contributing doc\n\nChange-Id: Ia079b7b7f5d96858c7dfe4b3d103c0efd86ae68b\n'}]",2,851332,476c5f89c7c120a28a4b0b83a0ef81e7aeb02010,14,2,4,28743,,,0,"Changed py39 from py27 in tox

Changed py39 from py27 in tox for contributing doc

Change-Id: Ia079b7b7f5d96858c7dfe4b3d103c0efd86ae68b
",git fetch https://review.opendev.org/openstack/trove refs/changes/32/851332/2 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'tools/start-fake-mode.sh']",2,cfab358fb92af8d3dd14a8a13acbcb0980142169,,"if [ ! -d "".tox/py39"" ]; then tox -epy39 .tox/py39/bin/python $@","if [ ! -d "".tox/py27"" ]; then tox -epy27 .tox/py27/bin/python $@",4,11
openstack%2Fkolla-ansible~master~I8d88c21c7e115b842a56f0ba5c780c3bde593964,openstack/kolla-ansible,master,I8d88c21c7e115b842a56f0ba5c780c3bde593964,Remove RabbitMQ policy removal code,MERGED,2022-07-27 19:58:47.000000000,2022-07-29 09:41:29.000000000,2022-07-29 09:40:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-27 19:58:47.000000000', 'files': ['ansible/roles/rabbitmq/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fe522955d54f7b554a626465ad62c863fde66fe7', 'message': 'Remove RabbitMQ policy removal code\n\nIt is no longer needed per the removed comment.\n\nChange-Id: I8d88c21c7e115b842a56f0ba5c780c3bde593964\n'}]",0,851257,fe522955d54f7b554a626465ad62c863fde66fe7,10,4,1,30491,,,0,"Remove RabbitMQ policy removal code

It is no longer needed per the removed comment.

Change-Id: I8d88c21c7e115b842a56f0ba5c780c3bde593964
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/851257/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/rabbitmq/tasks/upgrade.yml'],1,fe522955d54f7b554a626465ad62c863fde66fe7,remove-rabbitmq-todo,,"- name: List RabbitMQ policies vars: service_name: ""rabbitmq"" service: ""{{ rabbitmq_services[service_name] }}"" become: true command: ""docker exec {{ service.container_name }} rabbitmqctl list_policies --silent"" delegate_to: ""{{ groups[role_rabbitmq_groups] | first }}"" run_once: true register: rabbitmq_policies changed_when: false # NOTE(dszumski): This can be removed in the Zed cycle - name: Remove ha-all policy from RabbitMQ vars: service_name: ""rabbitmq"" service: ""{{ rabbitmq_services[service_name] }}"" become: true command: ""docker exec {{ service.container_name }} rabbitmqctl clear_policy ha-all"" delegate_to: ""{{ groups[role_rabbitmq_groups] | first }}"" when: - ""'ha-all' in rabbitmq_policies.stdout"" run_once: true ",0,23
openstack%2Ftacker-specs~master~Iefc0f6cdab351600b8b0ee1d7033246fad8e7226,openstack/tacker-specs,master,Iefc0f6cdab351600b8b0ee1d7033246fad8e7226,Enhancement of Container Update Function,MERGED,2022-07-20 04:37:51.000000000,2022-07-29 09:05:10.000000000,2022-07-29 09:03:14.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-07-20 04:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/148447b2a2f0387e45cd83773100e106e5eeef29', 'message': ""Enhancement of Container Update Function\n\nIn the current implementation, when users invoke update operation of\nConfigMaps and Secrets, all Pods are restarted even if they don't use those\nupdated ConfigMaps and Secrets. This modification aims to remove this\nlimitation.\n\nImplements: blueprint enhancement-container-update\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Iefc0f6cdab351600b8b0ee1d7033246fad8e7226\n""}, {'number': 2, 'created': '2022-07-26 08:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/5d6cfc24e8b3fe6a6e4fa88176c2fe37415c4799', 'message': ""Enhancement of Container Update Function\n\nIn the current implementation, when users invoke update operation of\nConfigMaps and Secrets, all Pods are restarted even if they don't use those\nupdated ConfigMaps and Secrets. This modification aims to remove this\nlimitation.\n\nImplements: blueprint enhancement-container-update\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Iefc0f6cdab351600b8b0ee1d7033246fad8e7226\n""}, {'number': 3, 'created': '2022-07-28 09:05:01.000000000', 'files': ['specs/zed/enhancement-container-update.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9ac4bd5d8cc9c3fea0a6c396a186f4b61b1ec4db', 'message': ""Enhancement of Container Update Function\n\nIn the current implementation, when users invoke update operation of\nConfigMaps and Secrets, all Pods are restarted even if they don't use\nthose updated ConfigMaps and Secrets. This modification aims to remove\nthis limitation.\n\nImplements: blueprint enhancement-container-update\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Iefc0f6cdab351600b8b0ee1d7033246fad8e7226\n""}]",26,850447,9ac4bd5d8cc9c3fea0a6c396a186f4b61b1ec4db,17,5,3,33292,,,0,"Enhancement of Container Update Function

In the current implementation, when users invoke update operation of
ConfigMaps and Secrets, all Pods are restarted even if they don't use
those updated ConfigMaps and Secrets. This modification aims to remove
this limitation.

Implements: blueprint enhancement-container-update
Signed-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>
Change-Id: Iefc0f6cdab351600b8b0ee1d7033246fad8e7226
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/47/850447/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/enhancement-container-update.rst'],1,148447b2a2f0387e45cd83773100e106e5eeef29,bp/enhancement-container-update,"======================================== Enhancement of Container Update Function ======================================== https://blueprints.launchpad.net/tacker/+spec/enhancement-container-update Problem description =================== In the current implementation, when users invoke update operation of ConfigMaps and Secrets, all Pods are restarted even if they don't use those updated ConfigMaps and Secrets. This modification aims to remove this limitation. .. _proposed-change: Proposed change =============== We would propose the following changes: #. Add process to Container Update operation [#container_update]_ to restart only the Pods that use updated ConfigMap or Secret. + ConfigMap and Secret can be used in a Pod either by setting the environment variable or mounting to volume. Therefore, the keys for searching the usage of ConfigMap and Secret are as follows: In the case of Pods, + ``spec.containers.env.valueFrom.configMapKeyRef.name`` + ``spec.containers.env.valueFrom.secretKeyRef.name`` + ``volumes.configMap.name`` + ``volumes.secret.name`` In the case of Deployments, ReplicaSets and DaemonSets, + ``spec.template.spec.containers.env.valueFrom.configMapKeyRef.name`` + ``spec.template.spec.containers.env.valueFrom.secretKeyRef.name`` + ``spec.template.volumes.configMap.name`` + ``spec.template.volumes.secret.name`` .. note:: If the image parameter of a manifest file changes, the Pod is replaced and the image is updated. In this case, the Pod is replaced regardless of whether the Pod has ConfigMap or Secret to update. Design of operation ------------------- The diagram is basically the same as container update [#container_update]_ , except that only pods that use the updated ConfigMap and Secret or whose image has changed are selected for replacement. Below is a diagram of the VNF Modify Information operation: .. code-block:: +---------------+ +--------+ | Updated | | VNFD | | manifest file | | | +-------------+-+ +-+------+ | | | | +-v-----v--+ +------------------+ | CSAR | | Modify Request | | | | with new vnfd_id | +----+-----+ +-+----------------+ | | 1. Modify VNF Information request | | +-----+----------+----------------------------------------+ | | | VNFM | | +--v----------v----------------+ | | | Tacker-server | | | +--+---------------------------+ | | | 2. Modify VNF Information request | | | | +--------------------------+ | +--v------------------------------------------------+ | | TackerDB | | | | | | |4. Update vnfdId | | +----------------------+ | | | <---------------------+--+----+ VnfLcmDriver | | | | | | | | | | | | |6. Update resourceId | | | | | | | <---------------------+--+----+ | | | | | | | | | | | | <--+ | | | | | | +--------------------------+ | | | +-+------------------+-+ | | | 5-4. Select the | | |3. modify_start |5. modify_end | | +--------------------------+ | Pod to | | | | | | | | | replace | | +-v------------------v-+ | | | +--------------------+ | +------------------+--+----+ MgmtDriver | | | | | Kubernetes | | 5-1. Get the | | | |5-2. Select the | | | | ConfigMap/Secret | | ConfigMap and | | | | ConfigMap and | | | | | | Secret | | | | Secret to replace | | | | <--+---------------------+--+----+ +---------------+ | | | | | | | | | | | | | | | | | 5-3. Replace config | | | | | | | | | <--+---------------------+--+----+ <---------------+ | | | +--------------------+ | | | | |5-6. Select the Pod | | | | | | | | whose image has | | | +--------------------+ | 5-5. Get the Pod | | | | changed | | | | <--+---------------------+--+----+ +---------------+ | | | | | | | | | | | | | | | Kubernetes Pod | | 5-7. Replace Pod | | | | | | | | | <--+---------------------+--+----+ <---------------+ | | | | | | | | +----------------------+ | | | | | | | | | | | | | | | | Tacker-conductor | | | +--------------------+ | | +---------------------------------------------------+ | | | | | | Kubernetes cluster | +---------------------------------------------------------+ +--------------------------+ +--------------------------+ | Hardware Resources | +--------------------------+ Request parameters for operation ---------------------------------- User gives following modify parameter to ""PATCH /vnflcm/v1/vnf_instances/{vnfInstanceId}"" as ``VnfInfoModificationRequest`` data type in: .. note:: The request parameters have not changed from the existing Container Update. .. list-table:: Definition of the VnfInfoModificationRequest data type :widths: 15 10 30 :header-rows: 1 * - Attribute name - Cardinality - Parameter description * - vnfInstanceName - 0..1 - String. ""vnfInstanceName"" attribute in ""VnfInstance"". * - vnfInstanceDescription - 0..1 - String. ""vnfInstanceDescription"" attribute in ""VnfInstance"". * - vnfdId - 0..1 - Identifier. ""vnfdId"" attribute in ""VnfInstance"". * - vnfConfigurableProperties - 0..1 - KeyValuePairs. ""vnfConfigurableProperties"" attribute in ""VnfInstance"". * - metadata - 0..1 - KeyValuePairs. ""metadata"" attribute in ""VnfInstance"". * - extensions - 0..1 - KeyValuePairs. ""extensions"" attribute in ""VnfInstance"". * - vimConnectionInfo - 0..N - map (VimConnectionInfo). ""vimConnectionInfo"" attribute array in ""VnfInstance"". * - vimConnectionInfoDeleteIds - 0..N - Identifier. To be deleted from the ""vimConnectionInfo"" attribute array in ""VnfInstance"", Following is a sample of request body: .. code-block:: json { ""vnfdId"": ""093c38b5-a731-4593-a578-d12e42596b3e"" } Using ConfigMap and Secret with Kubernetes -------------------------------------------- ConfigMap and Secret can be used in a Pod either by setting the environment variable or mounting to volume. The following are examples of the Kubernetes object file when using ConfigMap and Secret. .. note:: The usage of ConfigMap and Secret has not changed from the existing Container Update. Sample file to define the Kubernetes ConfigMap and Secret: .. code-block:: yaml --- apiVersion: v1 kind: ConfigMap metadata: name: cm-data data: cmKey1.txt: | configmap data foo bar --- apiVersion: v1 kind: Secret metadata: name: secret-data stringData: password: 1mbb1G968fb1CUg secKey1.txt: | secret data baz Sample file of Kubernetes object when using ConfigMap and Secret as environment variables: .. code-block:: yaml apiVersion: v1 kind: Pod metadata: name: env-test spec: containers: - image: alpine name: alpine env: - name: CMENV valueFrom: configMapKeyRef: name: cm-data key: cmkey1.txt - name: SECENV valueFrom: secretKeyRef: name: secret-data key: password envFrom: - prefix: CM_ configMapRef: name: cm-data - prefix: SEC_ secretRef: name: secret-data terminationGracePeriodSeconds: 0 Sample file of Kubernetes object when using ConfigMap and Secret by mounting to volume: .. code-block:: yaml apiVersion: v1 kind: Pod metadata: name: modify-VNF-volume-test spec: containers: - image: alpine name: alpine volumeMounts: - name: cm-volume mountPath: /config - name: sec-volume mountPath: /etc/secrets volumes: - name: cm-volume configMap: name: cm-data defaultMode: 0666 items: - key: cmKey1.txt path: cm/config.txt - name: secret-volume secret: secretName: secret-data defaultMode: 0600 items: - key: secKey1.txt path: creds/secret.txt terminationGracePeriodSeconds: 0 Sequence for operation ------------------------ .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""MgmtDriver"" ""TackerDB"" ""VIM(Kubernetes)"" Client -> ""Tacker-server"" [label = ""1. PATCH /vnflcm/v1/vnf_instances/{vnfInstanceId}""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = """"]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""2. modify_vnf""]; ""VnfLcmDriver"" -> ""MgmtDriver"" [label = ""3. modify_start""]; ""VnfLcmDriver"" <-- ""MgmtDriver"" [label = """"]; ""VnfLcmDriver"" -> ""TackerDB"" [label = ""4. Update vnfdid""]; ""VnfLcmDriver"" <-- ""TackerDB"" [label = """"]; ""VnfLcmDriver"" -> ""MgmtDriver"" [label = ""5. modify_end""]; ""MgmtDriver"" -> ""VIM(Kubernetes)"" [label = ""5-1. get information of ConfigMap and Secret""]; ""MgmtDriver"" <-- ""VIM(Kubernetes)"" [label = """"]; ""MgmtDriver"" -> ""MgmtDriver"" [label = ""5-2. select ConfigMap and Secret to replace""]; ""MgmtDriver"" -> ""VIM(Kubernetes)"" [label = ""5-3. replace config""]; ""MgmtDriver"" <-- ""VIM(Kubernetes)"" [label = """"]; ""MgmtDriver"" -> ""TackerDB"" [label = ""5-4. select Pod that uses the old ConfigMap or Secret""]; ""MgmtDriver"" <-- ""TackerDB"" [label = """"]; ""MgmtDriver"" -> ""VIM(Kubernetes)"" [label = ""5-5. get information of Pod""]; ""MgmtDriver"" <-- ""VIM(Kubernetes)"" [label = """"]; ""MgmtDriver"" -> ""MgmtDriver"" [label = ""5-6. select Pod whose image has changed""]; ""MgmtDriver"" -> ""VIM(Kubernetes)"" [label = ""5-7. replace Pod""]; ""MgmtDriver"" <-- ""VIM(Kubernetes)"" [label = """"]; ""VnfLcmDriver"" <-- ""MgmtDriver"" [label = """"]; ""VnfLcmDriver"" -> ""TackerDB"" [label = ""6. Update resourceid""]; ""VnfLcmDriver"" <-- ""TackerDB"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; } 1. The Client sends a PATCH request to the ""Individual VNF instance"" resource. 2. Tacker-conductor sends modify VNF request to VnfLcmDriver. 3. VnfLcmDriver calls modify_start of MgmtDriver. 4. VnfLcmDriver updates VnfInstance.vnfdId in the TackerDB to the ID of the new VNFD. 5. VnfLcmDriver calls modify_end of MgmtDriver. modify_end uses the replace API to replace ConfigMap, Secret, and Pod. 5-1. MgmtDriver sends request to get information of ConfigMap and Secret to the VIM (Kubernetes). 5-2. MgmtDriver selects ConfigMap and Secret if the information retrieved in 5-1 differs from the new information. .. note:: ConfigMap and Secret is selected for replacement if there is a difference in parameters between the retrieved and new ones. 5-3. MgmtDriver sends request to replace config of ConfigMap and Secret selected in 5-2 to the VIM (Kubernetes). 5-4. MgmtDriver sends request to select Pod that uses the old ConfigMap or Secret to TackerDB. .. note:: The ideal way to retrieve information about pods that have the ConfigMap and Secret name selected in 5-2, is using field-selector mechanism implemented in Kubernetes. However, current implementation of Kubernetes does not support field-selectors for the parameters described in :ref:`proposed-change` section. 5-5. MgmtDriver sends request to get information of Pod to the VIM (Kubernetes). 5-6. MgmtDriver selects Pod whose image has changed. 5-7. MgmtDriver sends request to replace Pod selected in 5-4 and 5-6 to the VIM (Kubernetes). .. note:: If the image parameter in the manifest file for the Pod or Deployment has changed, the image will be replaced when the Pod is replaced. If parameters other than image is changed in the Pod or Deployment manifest file, the change is not applied. 6. VnfLcmDriver updates VnfInstance.instantiatedVnfInfo.vnfcResourceInfo.computeResource.resourceId in the TackerDB to the ID of the replaced Pod. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Masaki Ueno<masaki.ueno.up@hco.ntt.co.jp> Other contributors: Yusuke Niimi<niimi.yusuke@fujitsu.com> Yoshiyuki Katada<katada.yoshiyuk@fujitsu.com> Ayumu Ueha<ueha.ayumu@fujitsu.com> Work Items ---------- Add process to Container Update operation to restart only the Pods that use updated ConfigMap and Secret. Dependencies ============ None Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== Complete user guide will be added to explain modifying VNF information from the perspective of VNF LCM APIs. References ========== .. [#container_update] https://specs.openstack.org/openstack/tacker-specs/specs/yoga/container-update.html ",,468,0
openstack%2Ftacker-specs~master~I817910e3e6f4d11844e9279279305aa3ac72fd85,openstack/tacker-specs,master,I817910e3e6f4d11844e9279279305aa3ac72fd85,Enhance CLI for paging query results,MERGED,2022-04-18 07:37:54.000000000,2022-07-29 09:04:19.000000000,2022-07-29 09:03:12.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 32581}, {'_account_id': 34107}]","[{'number': 1, 'created': '2022-04-18 07:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/fa22d2de52798de4fbd1e63fc446d5468df03001', 'message': '[WIP] Enhance CLI for paging query results\n\nThis spec describes the enhancement of CLI according to support\nhandling pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 2, 'created': '2022-06-02 04:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/bd122f62ce2404fdc61a9951d5641da7b39c6fc5', 'message': '[WIP] Enhance CLI for paging query results\n\nThis spec describes the enhancement of CLI according to support\nhandling pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 3, 'created': '2022-06-06 09:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6eaf0a25f0985d8c2229332b14e696eed588a3f9', 'message': '[WIP] Enhance CLI for paging query results\n\nThis spec describes the enhancement of CLI according to support of\nhandling pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 4, 'created': '2022-06-06 09:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/91bf435c2242638fefa99b451849881b61451db8', 'message': '[WIP] Enhance CLI for paging query results\n\nThis spec describes the enhancement of CLI according to support of\nhandling pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 5, 'created': '2022-06-07 00:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f5bcd63ea1c07aa131d02697492fbe2aa9e7ea11', 'message': '[WIP] Enhance CLI for paging query results\n\nThis spec describes the enhancement about CLI according to support\nof pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 6, 'created': '2022-06-07 04:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/661b84b5f634f02d53e38f71d43a3ef10eb7a35f', 'message': '[WIP] Enhance CLI for paging query results\n\nThis spec describes the enhancement about CLI according to support\nof pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 7, 'created': '2022-06-15 05:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/32e905cbd417bf96dac908f38a520278b270d3bb', 'message': 'Enhance CLI for paging query results\n\nThis spec describes the enhancement about CLI according to support\nof pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 8, 'created': '2022-06-20 00:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/35b73ce7727da7cab4bdc57c1b28150c382ebc29', 'message': 'Enhance CLI for paging query results\n\nThis spec describes the enhancement about CLI according to support\nof pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 9, 'created': '2022-06-20 00:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8b4d6070d710e728f5ed64cf2cabe9d06e2e0979', 'message': 'Enhance CLI for paging query results\n\nThis spec describes the enhancement about CLI according to support\nof pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 10, 'created': '2022-07-05 07:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/49b2bf11bddfc8b61727104a69ff959434fe620b', 'message': 'Enhance CLI for paging query results\n\nThis spec describes the enhancement about CLI according to support\nof pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 11, 'created': '2022-07-15 05:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c1bda38f7764e41fd8f79c41c20634a71711d4e9', 'message': 'Enhance CLI for paging query results\n\nThis spec describes the enhancement about CLI according to support\nof pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 12, 'created': '2022-07-27 01:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/135153b8865627aaa9ba29e2a415866df6bc6061', 'message': 'Enhance CLI for paging query results\n\nThis spec describes the enhancement about CLI according to support\nof pagination of query results in Tacker server.\n\nTarget client commands are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack subscription list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}, {'number': 13, 'created': '2022-07-27 02:53:52.000000000', 'files': ['specs/zed/enhance-cli-for-paging.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6ed793ae90d314428b5e75fe9ae4deaba89e21c3', 'message': 'Enhance CLI for paging query results\n\nThis spec describes the enhancement about CLI according to support\nof pagination of query results in Tacker server.\n\nTarget client commands existing in Yoga release are below.\n\n - openstack vnflcm list\n - openstack vnflcm op list\n - openstack vnf package list\n\nImplements: blueprint paging-query-result\nChange-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85\n'}]",56,838283,6ed793ae90d314428b5e75fe9ae4deaba89e21c3,46,7,13,31813,,,0,"Enhance CLI for paging query results

This spec describes the enhancement about CLI according to support
of pagination of query results in Tacker server.

Target client commands existing in Yoga release are below.

 - openstack vnflcm list
 - openstack vnflcm op list
 - openstack vnf package list

Implements: blueprint paging-query-result
Change-Id: I817910e3e6f4d11844e9279279305aa3ac72fd85
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/83/838283/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/enhance-cli-for-paging.rst'],1,fa22d2de52798de4fbd1e63fc446d5468df03001,bp/paging-query-result,"============================================ Enhance CLI for handling large query results ============================================ https://blueprints.launchpad.net/tacker/+spec/paging-query-result This proposal aims to enhance CLI for handling large query results. Problem Description =================== Tacker has been supported handling large query results [#TACKER-PAGING-SPEC]_ according to ETSI NFV SOL013 [#NFV-SOL013_351]_. By this support, when the number of records to a query exceeds a certain value, the list of records is paginated as default and then Tacker need to requery the next page. Additionally, Tacker has been able to get all records at once by adding the query parameter ""all_records"" into API's URL. The client commands corresponding to target APIs in Tacker are below. + openstack vnflcm list + openstack vnflcm op list + openstack subscription list + openstack vnf package list Due to the default behavior in Tacker described above, current client commands handle only the first page of records and don't after the next page. As the result of that, we need to determine how to handle the pagination as Tacker client and then implement it. Proposed Change =============== For each target command, a new optional argument '-a, --all-records' is added. When a user executes the command with this argument, Tacker client queries all records to Tacker server and then displays them at once. Additionally, in case of not using the argument and the number of records to the query exceeded a certain value, Tacker client displays only the first page of records with the message like ""The number of records exceeded displayable limit. To display what you are searching, use filter with '-a, --all-records' option."" By the change above, the user becomes able to get necessary records efficiently even if there are large query results. Data Model Impact ----------------- None REST API Impact --------------- None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ None IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- None Community Impact ---------------- None Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: Koichi Edagawa <edagawa.kc@nec.com> Work Items ---------- * Add a new optional argument '-a, --all-records' into target client commands. * Add a new explanation about 'all records' argument into help message of each target client command. * In case with 'all records' argument, change the behavior so that Tacker client queries a REST HTTP GET request into a target API with the query parameter 'all_records=yes'. * In case without 'all records' argument and paginated query results, add a message of caution with a display of records. Dependencies ============ None Testing ======= Unit tests for this enhancement will be added. Documentation Impact ==================== Complete Command-Line Interface Reference will be added to explain the new optional argument. References ========== .. [#TACKER-PAGING-SPEC] https://specs.openstack.org/openstack/tacker-specs/specs/yoga/paging-query-result.html .. [#NFV-SOL013_351] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/013/03.05.01_60/gs_NFV-SOL013v030501p.pdf ",,137,0
openstack%2Ftacker-specs~master~Ia3d4a9e99323b4039bda172e03b5d3a4f303e0a4,openstack/tacker-specs,master,Ia3d4a9e99323b4039bda172e03b5d3a4f303e0a4,Add CentOS Stream 9 Testing in Zuul,MERGED,2022-07-06 05:07:36.000000000,2022-07-29 08:59:59.000000000,2022-07-29 08:58:51.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 32736}]","[{'number': 1, 'created': '2022-07-06 05:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/ed3791e512c72c599c3e328f9c8881f1c5bfa4bf', 'message': 'Add CentOS Stream 9 Testing in Zuul\n\nCurrently OpenStack is tested only on Ubuntu OS. However, some\ncommercial systems use Fedora family OS.\n\nTo check that Tacker works properly on Fedora family OS, we plan\nto add testsets on CentOS Stream 9 nodeset to the testsets\nin Zuul.\n\nChange-Id: Ia3d4a9e99323b4039bda172e03b5d3a4f303e0a4\n'}, {'number': 2, 'created': '2022-07-06 05:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e776bd2c59475087b834047ce1fa9be3750a6e71', 'message': 'Add CentOS Stream 9 Testing in Zuul\n\nCurrently OpenStack is tested only on Ubuntu OS. However, some\ncommercial systems use Fedora family OS.\n\nTo check that Tacker works properly on Fedora family OS, we plan\nto add testsets on CentOS Stream 9 nodeset to the testsets\nin Zuul.\n\nChange-Id: Ia3d4a9e99323b4039bda172e03b5d3a4f303e0a4\nImplements: blueprint centos-stream-testing\n'}, {'number': 3, 'created': '2022-07-06 05:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/893a3f3deea9604eafcc68010216f01645560198', 'message': '[WIP] Add CentOS Stream 9 Testing in Zuul\n\nCurrently OpenStack is tested only on Ubuntu OS. However, some\ncommercial systems use Fedora family OS.\n\nTo check that Tacker works properly on Fedora family OS, we plan\nto add testsets on CentOS Stream 9 nodeset to the testsets\nin Zuul.\n\nChange-Id: Ia3d4a9e99323b4039bda172e03b5d3a4f303e0a4\nImplements: blueprint centos-stream-testing\n'}, {'number': 4, 'created': '2022-07-11 07:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1a84ff0dc17a41b7228fbd60e6b098c993320738', 'message': 'Add CentOS Stream 9 Testing in Zuul\n\nCurrently OpenStack is tested only on Ubuntu OS. However, some\ncommercial systems use Fedora family OS.\n\nTo check that Tacker works properly on Fedora family OS, we plan\nto add testsets on CentOS Stream 9 nodeset to the testsets\nin Zuul.\n\nChange-Id: Ia3d4a9e99323b4039bda172e03b5d3a4f303e0a4\nImplements: blueprint centos-stream-testing\n'}, {'number': 5, 'created': '2022-07-12 15:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e4b163352c7c3250c8adc1a36b97e2967617f8ef', 'message': 'Add CentOS Stream 9 Testing in Zuul\n\nCurrently OpenStack is tested only on Ubuntu OS. However, some\ncommercial systems use Fedora family OS.\n\nTo check that Tacker works properly on Fedora family OS, we plan\nto add testsets on CentOS Stream 9 nodeset to the testsets\nin Zuul.\n\nChange-Id: Ia3d4a9e99323b4039bda172e03b5d3a4f303e0a4\n'}, {'number': 6, 'created': '2022-07-19 08:17:40.000000000', 'files': ['specs/zed/centos-stream-zuul.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/77cfb6e1c0dc377c9e39524ba84a527a1bfb7b32', 'message': 'Add CentOS Stream 9 Testing in Zuul\n\nCurrently OpenStack is tested only on Ubuntu OS. However, some\ncommercial systems use Fedora family OS.\n\nTo check that Tacker works properly on Fedora family OS, we plan\nto add testsets on CentOS Stream 9 nodeset to the testsets\nin Zuul.\n\nImplement: blueprint centos-stream-testing\nChange-Id: Ia3d4a9e99323b4039bda172e03b5d3a4f303e0a4\n'}]",7,848806,77cfb6e1c0dc377c9e39524ba84a527a1bfb7b32,22,6,6,34346,,,0,"Add CentOS Stream 9 Testing in Zuul

Currently OpenStack is tested only on Ubuntu OS. However, some
commercial systems use Fedora family OS.

To check that Tacker works properly on Fedora family OS, we plan
to add testsets on CentOS Stream 9 nodeset to the testsets
in Zuul.

Implement: blueprint centos-stream-testing
Change-Id: Ia3d4a9e99323b4039bda172e03b5d3a4f303e0a4
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/06/848806/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/centos-stream-zuul.rst'],1,ed3791e512c72c599c3e328f9c8881f1c5bfa4bf,bp/centos-stream-testing,testsets on CentOS Stream 9 nodeset to the testsets in Zuul.testsets from Ubuntu to CentOS Stream 9.* Add new testsets on CentOS Stream 9* Add new testsets on CentOS Stream 9,testsets on CentOS Stream 8 nodeset to the testsets in Zuul.testsets from Ubuntu to CentOS Stream 8.* Add new testsets on CentOS Stream 8* Add new testsets on CentOS Stream 8,4,4
openstack%2Fneutron~stable%2Ftrain~I24ca267a9d1b7328cced15c1a6bb01a5fefdde1d,openstack/neutron,stable/train,I24ca267a9d1b7328cced15c1a6bb01a5fefdde1d,DNM: check train,ABANDONED,2022-07-19 11:23:01.000000000,2022-07-29 08:52:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-19 11:23:01.000000000', 'files': ['neutron/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b4bacfd322f3b7757c1bc6f1aac127da33ee014', 'message': 'DNM: check train\n\nChange-Id: I24ca267a9d1b7328cced15c1a6bb01a5fefdde1d\n'}]",0,850330,4b4bacfd322f3b7757c1bc6f1aac127da33ee014,3,1,1,8313,,,0,"DNM: check train

Change-Id: I24ca267a9d1b7328cced15c1a6bb01a5fefdde1d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/850330/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/opts.py'],1,4b4bacfd322f3b7757c1bc6f1aac127da33ee014,check_train,CONF = cfg.CONF ,CONF = cfg.CONF ,2,2
openstack%2Fkolla-ansible~master~Iea3680142711873984efff2b701347b6a56dd355,openstack/kolla-ansible,master,Iea3680142711873984efff2b701347b6a56dd355,adds firewalld configuration based on enabled services,MERGED,2022-06-28 11:20:00.000000000,2022-07-29 08:32:44.000000000,2022-07-29 08:31:26.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-06-28 11:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f31b0a47bd910bc31c3199d03f695c5c522b3ae2', 'message': ' Added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 2, 'created': '2022-06-28 11:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fe5c6a76694ac6b1a0552714c9973a781c39eb1f', 'message': ' Added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 3, 'created': '2022-06-28 12:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16781afad94ef685a694e7c12d2746026d1f6558', 'message': ' Added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 4, 'created': '2022-06-28 12:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/842693ad69a388777358ef37c964afb7bc9ba5c6', 'message': ' Added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 5, 'created': '2022-06-28 13:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e40b8cdd0bc1c6864728dfef49f2dfa8fa8b8d6', 'message': ' Added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 6, 'created': '2022-06-28 13:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/267ab2b740e0638d3bbab88a9e6ec8b4dea61676', 'message': ' Added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 7, 'created': '2022-06-29 08:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e821f5c7812d5b3f49cee0c55152696730e0e325', 'message': ' Added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 8, 'created': '2022-06-29 16:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0634950a5b8a61f6f49228892560136e883bbfdc', 'message': ' Added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 9, 'created': '2022-06-29 17:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5fdc63fe56bbe3c0ee489c46369bbf0f57b8ef78', 'message': ' Added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 10, 'created': '2022-06-29 18:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a07296733317adda0648680ea76f75717e4751ec', 'message': 'Added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 11, 'created': '2022-06-29 19:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a22cf5521c4c6742c364bd991dc2d3534ff24e5e', 'message': 'added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 12, 'created': '2022-06-30 07:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c0fbb6b3234c8b948d7ba17606592bf6bc5d143', 'message': 'added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 13, 'created': '2022-06-30 12:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4116c27025691418b78c225ddece0312a675b350', 'message': 'added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 14, 'created': '2022-06-30 12:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/091ba45b81600e620fc64c929fc00e166dd4fdc2', 'message': 'added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 15, 'created': '2022-06-30 13:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22ce70403f3545798bbf260877171858407da8fb', 'message': 'added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 16, 'created': '2022-06-30 13:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7010dabf60ceab1e1e4ac10753bffcb6da5e0960', 'message': 'added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 17, 'created': '2022-06-30 13:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/998116a64a7524285af1403357240059402e7e00', 'message': 'added firewalld configuration based off enabled services\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 18, 'created': '2022-06-30 14:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d1138f9bfe47da0419d68d9a65fb6356c7ec08e', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 19, 'created': '2022-06-30 15:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5460df039c8ed00cb441bab4259b150bc83fb7d7', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 20, 'created': '2022-06-30 15:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84fd1d5cb337cace44bd002509d5c1c8501d8231', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 21, 'created': '2022-07-05 10:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c1bd848fa270ae4256c1cb07df8854f3ebc57e5', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 22, 'created': '2022-07-07 10:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8eae63c8891f231662909d443f3aad59627326e9', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 23, 'created': '2022-07-07 11:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7db9525612743f0e22dfcfa5a3f51387c9fa0c79', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 24, 'created': '2022-07-07 13:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f02c5cca765aff38ec9483272218ac65fe462120', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 25, 'created': '2022-07-07 16:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ccd827f617be249e5143eb4c9b1dbe7a180656a9', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 26, 'created': '2022-07-08 11:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9247a81e657eef1a2416171889881b98a980878', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 27, 'created': '2022-07-12 09:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/603e2360b7552f36db6a8bf8a0672cec4be3abb6', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 28, 'created': '2022-07-17 16:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d668706f5c17dea2fb58c1532ae4c59d861092c', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 29, 'created': '2022-07-17 18:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4cc41c430dd38d32ea4c55ab847cf929455f2513', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 30, 'created': '2022-07-22 13:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3888a929154f9ada88e0479564e10b7c705cf2ab', 'message': 'adds firewalld configuration based off enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nIt also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 31, 'created': '2022-07-26 17:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e5648d20eee9360ad4bd4e7feed01cc0af9c68d', 'message': 'adds firewalld configuration based on enable services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nThis commit also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 32, 'created': '2022-07-27 08:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d922403f9e910fa52a40c56145a74a472ad49d8', 'message': 'adds firewalld configuration based on enabled services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nThis commit also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 33, 'created': '2022-07-27 09:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b49b2fc22dc30ce09fdb369c4093e56bf9c991af', 'message': 'adds firewalld configuration based on enabled services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nThis commit also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}, {'number': 34, 'created': '2022-07-27 11:28:46.000000000', 'files': ['kolla_ansible/tests/unit/test_filters.py', 'ansible/roles/loadbalancer/tasks/precheck.yml', 'ansible/roles/haproxy-config/tasks/main.yml', 'ansible/roles/haproxy-config/handlers/main.yml', 'releasenotes/notes/add-firewalld-rules-based-on-enabled-services-96dd418219953a05.yaml', 'ansible/group_vars/all.yml', 'doc/source/user/security.rst', 'kolla_ansible/filters.py', 'doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8553e52acd79dc8457747def955a749eabf0cb96', 'message': 'adds firewalld configuration based on enabled services\n\nThis change introduces automated configuration of firewalld and adds\na new filter for extracting services from the project_services dict.\nthe filter selects any enabled services and their haproxy element\nand returns them so they can be iterated over.\nThis commit also enables automated configuration of firewalld from enabled\nopenstack services and adds them to the defined zone and reloads the\nsystem firewall.\n\nChange-Id: Iea3680142711873984efff2b701347b6a56dd355\n'}]",296,847955,8553e52acd79dc8457747def955a749eabf0cb96,110,6,34,33307,,,0,"adds firewalld configuration based on enabled services

This change introduces automated configuration of firewalld and adds
a new filter for extracting services from the project_services dict.
the filter selects any enabled services and their haproxy element
and returns them so they can be iterated over.
This commit also enables automated configuration of firewalld from enabled
openstack services and adds them to the defined zone and reloads the
system firewall.

Change-Id: Iea3680142711873984efff2b701347b6a56dd355
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/847955/12 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy-config/tasks/main.yml', 'releasenotes/notes/add-firewalld-rules-based-on-enabled-services.yml', 'ansible/roles/haproxy-config/defaults/main.yml', 'kolla_ansible/filters.py', 'zuul.d/project.yaml']",5,f31b0a47bd910bc31c3199d03f695c5c522b3ae2,, - kolla-ansible-centos8s-source # - kolla-ansible-debian-source - kolla-ansible-rocky8-source # - kolla-ansible-ubuntu-source-kvm # - kolla-ansible-ubuntu-source-multinode-ipv6 # - kolla-ansible-ubuntu-source-bifrost # - kolla-ansible-debian-source-zun # - kolla-ansible-ubuntu-source-zun # - kolla-ansible-ubuntu-source-swift # - kolla-ansible-ubuntu-source-magnum # - kolla-ansible-ubuntu-source-octavia # - kolla-ansible-ubuntu-source-masakari # - kolla-ansible-debian-source-ironic # - kolla-ansible-ubuntu-source-ironic # - kolla-ansible-debian-source-upgrade # - kolla-ansible-ubuntu-source-upgrade # - kolla-ansible-ubuntu-binary-upgrade # - kolla-ansible-ubuntu-source-mariadb # - kolla-ansible-ubuntu-source-linuxbridge # - kolla-ansible-ubuntu-source-ovn # - kolla-ansible-ubuntu-source-upgrade-ovn # - kolla-ansible-ubuntu-source-prometheus-efk # - kolla-ansible-ubuntu-source-venus # - kolla-ansible-ubuntu-source-cephadm # - kolla-ansible-ubuntu-source-upgrade-cephadm # check-arm64: # jobs: # - kolla-ansible-debian-source-aarch64 # - kolla-ansible-debian-source-upgrade-aarch64 - kolla-ansible-centos8s-source - kolla-ansible-centos8s-source-upgrade # experimental: # jobs: # # - kolla-ansible-centos8s-source-swift-upgrade # - kolla-ansible-ubuntu-source-swift-upgrade, # - kolla-ansible-centos8s-source - kolla-ansible-debian-source # - kolla-ansible-rocky8-source - kolla-ansible-ubuntu-source-kvm - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-ubuntu-source-bifrost - kolla-ansible-debian-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-ubuntu-source-swift - kolla-ansible-ubuntu-source-magnum - kolla-ansible-ubuntu-source-octavia - kolla-ansible-ubuntu-source-masakari - kolla-ansible-debian-source-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-ubuntu-binary-upgrade - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-ubuntu-source-ovn - kolla-ansible-ubuntu-source-upgrade-ovn - kolla-ansible-ubuntu-source-prometheus-efk - kolla-ansible-ubuntu-source-venus - kolla-ansible-ubuntu-source-cephadm - kolla-ansible-ubuntu-source-upgrade-cephadm check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64 # - kolla-ansible-centos8s-source # - kolla-ansible-centos8s-source-upgrade experimental: jobs: # - kolla-ansible-centos8s-source-swift-upgrade - kolla-ansible-ubuntu-source-swift-upgrade,81,35
openstack%2Ftacker-specs~master~I952da578c69a1c577d0cee731f617ed834e17179,openstack/tacker-specs,master,I952da578c69a1c577d0cee731f617ed834e17179,Database Synchronization between Tacker and K8s,MERGED,2022-07-20 02:53:13.000000000,2022-07-29 08:24:23.000000000,2022-07-29 08:23:20.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-07-20 02:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/340ca8be6901174cd1161f2c764c1018c7b4fcdb', 'message': 'Database Synchronization between Tacker and K8s\n\nIn the current implementation, TackerDB and VIM DB(KubernetesDB)\nsuch as etcd in Kubernetes are only synchronized\nwhen SOL002 heal is executed.\nHowever, when Kubernetes auto-heals or auto-scales and the pod restarts,\nthe information is only reflected in the KubernetesDB\nand not in TackerDB.\nThis specification supposes periodic synchronization of Pod information\nbetween TackerDB and KubernetesDB\n\nImplements: blueprint database-synchronization\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: I952da578c69a1c577d0cee731f617ed834e17179\n'}, {'number': 2, 'created': '2022-07-27 04:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/2cb6acfa3663b19100eb1f42b020b077cc801352', 'message': 'Database Synchronization between Tacker and K8s\n\nIn the current implementation, TackerDB and VIM DB(KubernetesDB)\nsuch as etcd in Kubernetes are only synchronized\nwhen SOL002 heal is executed.\nHowever, when Kubernetes auto-heals or auto-scales and the pod restarts,\nthe information is only reflected in the KubernetesDB\nand not in TackerDB.\nThis specification supposes periodic synchronization of Pod information\nbetween TackerDB and KubernetesDB\n\nImplements: blueprint database-synchronization\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: I952da578c69a1c577d0cee731f617ed834e17179\n'}, {'number': 3, 'created': '2022-07-28 08:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/d76f5b6c08c8dfc2fac88492ab7d0515961de76b', 'message': 'Database Synchronization between Tacker and K8s\n\nIn the current implementation, TackerDB and VIM DB(KubernetesDB)\nsuch as etcd in Kubernetes are only synchronized\nwhen SOL002 heal is executed.\nHowever, when Kubernetes auto-heals or auto-scales and the pod restarts,\nthe information is only reflected in the KubernetesDB\nand not in TackerDB.\nThis specification supposes periodic synchronization of Pod information\nbetween TackerDB and KubernetesDB\n\nImplements: blueprint database-synchronization\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: I952da578c69a1c577d0cee731f617ed834e17179\n'}, {'number': 4, 'created': '2022-07-29 07:23:56.000000000', 'files': ['specs/zed/database-synchronization.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7213b970719946095fc9748c1ea604ce62f1f0f0', 'message': 'Database Synchronization between Tacker and K8s\n\nIn the current implementation, TackerDB and VIM DB(KubernetesDB)\nsuch as etcd in Kubernetes are only synchronized\nwhen SOL002 heal is executed.\nHowever, when Kubernetes auto-heals or auto-scales and the pod restarts,\nthe information is only reflected in the KubernetesDB\nand not in TackerDB.\nThis specification supposes periodic synchronization of Pod information\nbetween TackerDB and KubernetesDB\n\nImplements: blueprint database-synchronization\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: I952da578c69a1c577d0cee731f617ed834e17179\n'}]",25,850438,7213b970719946095fc9748c1ea604ce62f1f0f0,23,4,4,33292,,,0,"Database Synchronization between Tacker and K8s

In the current implementation, TackerDB and VIM DB(KubernetesDB)
such as etcd in Kubernetes are only synchronized
when SOL002 heal is executed.
However, when Kubernetes auto-heals or auto-scales and the pod restarts,
the information is only reflected in the KubernetesDB
and not in TackerDB.
This specification supposes periodic synchronization of Pod information
between TackerDB and KubernetesDB

Implements: blueprint database-synchronization
Signed-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>
Change-Id: I952da578c69a1c577d0cee731f617ed834e17179
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/38/850438/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/database-synchronization.rst'],1,340ca8be6901174cd1161f2c764c1018c7b4fcdb,bp/database-synchronization,"=========================================================== Database Synchronization between TackerDB and KubernetesDB =========================================================== https://blueprints.launchpad.net/tacker/+spec/database-synchronization Problem description =================== In the current implementation, TackerDB and VIM DB(KubernetesDB) such as etcd in Kubernetes are only synchronized when SOL002 heal is executed. However, when Kubernetes auto-heals or auto-scales and the pod restarts, the information is only reflected in the KubernetesDB and not in TackerDB. As a result, the following problems occurs. * When a user uses a command or API to get information about a Pod resource, they see the information stored in TackerDB and get an out-of-date output. * If a user attempts to scale when the database is inconsistent, the Pod scales at a number that the user does not intend because it sees and processes old information. .. note:: The existing heal process already supports the ability to synchronize information about a Pod. This specification supposes the below changes: * Adds periodic synchronization of Pod information between TackerDB and KubernetesDB Proposed Change =============== The following functions are incorporated in this specification. + Regularly retrieve information of pods that TackerDB and KubernetesDB hold, compare the data, and update TackerDB from KubernetesDB if there are differences. .. note:: When the TackerDB is updated by synchronization processing, the information is shown in a log. The log contains the name of the old pod and the new one. + Enable config to specify the frequency of synchronization. The attributes in the TackerDB to be updated are as follows: + vnf_instantiated_info.scaleStatus.scaleLevel: Calculate the `scaleLevel` from the number of Pods retrieved from KubernetesDB and update it if it differs from TackerDB. + vnf_instantiated_info.vnfc_resource_info: If the number of running Pods changes, increase or decrease the number of data in `vnfcResourceInfo` to match the number of running Pods. + vnf_instantiated_info.vnfc_resource_info.computeResource.resourceId: Update resourceId with the new resource ID as Pod name. + VnfInstanceV2.instantiatedVnfInfo.scaleStatus.scaleLevel: Calculate the `scaleLevel` from the number of Pods retrieved from KubernetesDB and update it if it differs from TackerDB. + VnfInstanceV2.instantiatedVnfInfo.vnfcResourceInfo: If the number of running Pods changes, increase or decrease the number of data in `vnfcResourceInfo` to match the number of running Pods. + VnfInstanceV2.instantiatedVnfInfo.vnfcResourceInfo.computeResource.resourceId: Update resourceId with the new resource ID as Pod name. .. note:: Get the following resource information from KubernetesDB * Pod * Deployment * Replicaset * Daemonset Synchronizes between TackerDB and KubernetesDB ---------------------------------------------- Periodic database synchronization ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This feature periodically synchronizes information related to Pod resources between TackerDB and KubernetesDB. The diagram below shows the database synchronization. :: +----------------------------------------------------------+ | VNFM | | +-----------------------+ | +-------------------------------+ | | Tacker-conductor | | | Kubernetes | | | +--------------+ | | | | | | | VnflcmDriver | | | | +--------------------------+ | | | | (v1/v2) | | | | | Master | | | | +---+----------+ | | | | | | | | | 1. Start periodic database synchronization | | | | | | | | | | | | | | | | | | | | | +------+ +---------+ | | | | +---v----------+ | | | | | etcd | | | | | | | | Kubernetes | | +-----------+ | | | | |<-->|kube- |<---------------------------+ InfraDriver +------------------->| TackerDB | | | | +------+ |apiserver| | | 3. Get pod | | | | | | | | | | | | | | information | | +--------------+ | +-----------+ | | | | | | | | | 4. Check difference | 2. Get pod information | | | | | | | | | | | | | | | | | | | | 5. If there are difference, | | | +---------+ | | | | | update pod information | | | | | | | | | | +--------------------------+ | | +-----------------------+ | | | | | +-------------------------------+ +----------------------------------------------------------+ Sequence for periodic database synchronization: .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver/VnfLcmDriverV2"" ""KubernetesInfraDriver"" ""TackerDB"" ""Kubernetes client"" === Start periodic database synchronization. === ""Tacker-conductor"" -> ""VnfLcmDriver/VnfLcmDriverV2"" [label = ""1. Start periodic database synchronization.""]; ""VnfLcmDriver/VnfLcmDriverV2"" -> ""KubernetesInfraDriver"" [label = ""check pod status""]; ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""2. Get pod information""]; ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = ""return pod information""]; ""KubernetesInfraDriver"" -> ""Kubernetes client"" [label = ""3. Get pod information""]; ""KubernetesInfraDriver"" <-- ""Kubernetes client"" [label = ""return pod information""]; ""KubernetesInfraDriver"" -> ""KubernetesInfraDriver"" [label = ""4. Check differences""]; ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""5. If there are difference, update pod information""]; ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = """"]; ""VnfLcmDriver/VnfLcmDriverV2"" <-- ""KubernetesInfraDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver/VnfLcmDriverV2"" [label = """"]; } #. Start the database synchronization process periodically at intervals specified in Config #. KubernetesInfraDriver retrieves Pod information stored in TackerDB #. KubernetesInfraDriver retrieves information about currently running Pod name and number of Pod from KubernetesDB #. KubernetesInfraDriver compares these two pieces of information Comparisons include: * Pod name * Number of running Pods #. If there are differences, KubernetesInfraDriver updates the Pod information and scaleLevel to TackerDB. Configuration for Interval timer ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Config can set a timer to synchronize pod information between TackerDB and KubernetesDB. This configuration is common to the v1 and v2 APIs. The default is 300 seconds. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance impact ------------------ Contention may occur when database synchronization and LCM operations are performed simultaneously. + If you perform an LCM operation on the same VNF instance while periodic database synchronization is taking place on that VNF instance, Tacker responds with ""409 conflicts"" and the LCM operation is not performed. + If database synchronization is performed for the same VNF instance during an LCM operation for a VNF instance, the database synchronization is skipped. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp> Other contributors: Hideki Matsuda <matsuda.hideki1@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Yoshiyuki Katada <katada.yoshiyuk@fujitsu.com> Yusuke Niimi <niimi.yusuke@fujitsu.com> Work Items ---------- + Support for periodic database synchronization + Add a new configuration about interval for checking database synchronization + Add new unit and functional tests Dependencies ============ None Testing ======= Unit and functional tests will be added to cover cases required in the specification. Documentation Impact ==================== Complete configuration guide will be added to explain configuration about specify the interval between synchronizations. References ========== None ",,280,0
openstack%2Ftacker-specs~master~Ia511955df1f32fd703a6b44e242e1e4a379e3627,openstack/tacker-specs,master,Ia511955df1f32fd703a6b44e242e1e4a379e3627,Enhance ChangeCurrentVNFPackage API,MERGED,2022-07-15 07:55:40.000000000,2022-07-29 08:23:30.000000000,2022-07-29 08:22:30.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-07-15 07:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/13d0fca53d9f5f6a67414833760aa304b25094fc', 'message': 'Enhance ChangeCurrentVNFPackage API\n\nThis specification enhances the ChangeCurrentVNFPackage API.\nTacker supported the ChangeCurrentVNFPackage operation in Yoga release,\nbut Tacker has supported software image update case only\nand lacks some parameters.\nThe following cases will be supported.\n1. Change OpenStack flavor\n2. Change external/internal VL and CP\n3. Add other ChangeCurrentVNFPackage API parameters\n\nImplements: blueprint<enhance-change-package>\nChange-Id: Ia511955df1f32fd703a6b44e242e1e4a379e3627\n'}, {'number': 2, 'created': '2022-07-15 08:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6de5fd27be5690c3049d609624ac6ed089a4f347', 'message': 'Enhance ChangeCurrentVNFPackage API\n\nThis specification enhances the ChangeCurrentVNFPackage API.\nTacker supported the ChangeCurrentVNFPackage operation in Yoga release,\nbut Tacker has supported software image update case only\nand lacks some parameters.\nThe following cases will be supported.\n1. Change OpenStack flavor\n2. Change external/internal VL and CP\n3. Add other ChangeCurrentVNFPackage API parameters\n\nChange-Id: Ia511955df1f32fd703a6b44e242e1e4a379e3627\nImplements: blueprint enhance-change-package\n'}, {'number': 3, 'created': '2022-07-22 05:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/80c3fe08b782104cbc4dfe201def70021943e52f', 'message': 'Enhance ChangeCurrentVNFPackage API\n\nThis specification enhances the ChangeCurrentVNFPackage API.\nTacker supported the ChangeCurrentVNFPackage operation in Yoga release,\nbut Tacker has supported software image update case only\nand lacks some parameters.\nThe following cases will be supported.\n1. Change OpenStack flavor\n2. Change external/internal VL and CP\n3. Add other ChangeCurrentVNFPackage API parameters\n\nImplements: blueprint<enhance-change-package>\nChange-Id: Ia511955df1f32fd703a6b44e242e1e4a379e3627\n'}, {'number': 4, 'created': '2022-07-22 05:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/861a24a6985da3e7bf09370c53870bc01eeafedf', 'message': 'Enhance ChangeCurrentVNFPackage API\n\nThis specification enhances the ChangeCurrentVNFPackage API.\nTacker supported the ChangeCurrentVNFPackage operation in Yoga release,\nbut Tacker has supported software image update case only\nand lacks some parameters.\nThe following cases will be supported.\n1. Change OpenStack flavor\n2. Change external/internal VL and CP\n3. Add other ChangeCurrentVNFPackage API parameters\n\nImplements: blueprint enhance-change-package\nChange-Id: Ia511955df1f32fd703a6b44e242e1e4a379e3627\n'}, {'number': 5, 'created': '2022-07-22 06:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/452050171c70bd8dcb775ce00712a94e3e51a4b4', 'message': 'Enhance ChangeCurrentVNFPackage API\n\nThis specification enhances the ChangeCurrentVNFPackage API.\nTacker supported the ChangeCurrentVNFPackage operation in Yoga release,\nbut Tacker has supported software image update case only\nand lacks some parameters.\nThe following cases will be supported.\n1. Change OpenStack flavor\n2. Change external/internal VL and CP\n3. Add other ChangeCurrentVNFPackage API parameters\n\nImplements: blueprint enhance-change-package\nChange-Id: Ia511955df1f32fd703a6b44e242e1e4a379e3627\n'}, {'number': 6, 'created': '2022-07-29 06:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/a4daa39b02c3f0a44a3747274573a8a175ed4e51', 'message': 'Enhance ChangeCurrentVNFPackage API\n\nThis specification enhances the ChangeCurrentVNFPackage API.\nTacker supported the ChangeCurrentVNFPackage operation in Yoga release,\nbut Tacker has supported software image update case only\nand lacks some parameters.\nThe following cases will be supported.\n1. Change OpenStack flavor\n2. Change external/internal VL and CP\n3. Add other ChangeCurrentVNFPackage API parameters\n\nImplements: blueprint enhance-change-package\nChange-Id: Ia511955df1f32fd703a6b44e242e1e4a379e3627\n'}, {'number': 7, 'created': '2022-07-29 07:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9142af1d5fb9dc02282cc68420e6455d8496e642', 'message': 'Enhance ChangeCurrentVNFPackage API\n\nThis specification enhances the ChangeCurrentVNFPackage API.\nTacker supported the ChangeCurrentVNFPackage operation in Yoga release,\nbut Tacker has supported software image update case only\nand lacks some parameters.\nThe following cases will be supported.\n1. Change OpenStack flavor\n2. Change external/internal VL and CP\n3. Add other ChangeCurrentVNFPackage API parameters\n\nImplements: blueprint enhance-change-package\nChange-Id: Ia511955df1f32fd703a6b44e242e1e4a379e3627\n'}, {'number': 8, 'created': '2022-07-29 07:20:39.000000000', 'files': ['specs/zed/enhance_change_current_vnf_package_API.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/bc8f94f3fa99cc5b26c53b743e86906743d9da81', 'message': 'Enhance ChangeCurrentVNFPackage API\n\nThis specification enhances the ChangeCurrentVNFPackage API.\nTacker supported the ChangeCurrentVNFPackage operation in Yoga release,\nbut Tacker has supported software image update case only\nand lacks some parameters.\nThe following cases will be supported.\n1. Change OpenStack flavor\n2. Change external/internal VL and CP\n3. Add other ChangeCurrentVNFPackage API parameters\n\nImplements: blueprint enhance-change-package\nChange-Id: Ia511955df1f32fd703a6b44e242e1e4a379e3627\n'}]",97,849948,bc8f94f3fa99cc5b26c53b743e86906743d9da81,41,7,8,34712,,,0,"Enhance ChangeCurrentVNFPackage API

This specification enhances the ChangeCurrentVNFPackage API.
Tacker supported the ChangeCurrentVNFPackage operation in Yoga release,
but Tacker has supported software image update case only
and lacks some parameters.
The following cases will be supported.
1. Change OpenStack flavor
2. Change external/internal VL and CP
3. Add other ChangeCurrentVNFPackage API parameters

Implements: blueprint enhance-change-package
Change-Id: Ia511955df1f32fd703a6b44e242e1e4a379e3627
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/48/849948/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/enhance_change_current_vnf_package_API.rst'],1,13d0fca53d9f5f6a67414833760aa304b25094fc,bp/enhance-change-package,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================== Enhance ChangeCurrentVNFPackage API =================================== Blueprints: https://blueprints.launchpad.net/tacker/+spec/enhance-change-package This specification enhances the ChangeCurrentVNFPackage API. Problem description =================== The ChangeCurrentVNFPackage API is defined in ETSI NFV-SOL003 v3.3.1 [#ETSI-NFV-SOL003-v3.3.1]_, according to the VNF software modification procedure in ETSI NFV-IFA007 v3.3.1 [#ETSI-NFV-IFA007-v3.3.1]_. Tacker supports the ChangeCurrentVNFPackage operation in Yoga release, but Tacker has supported software image update case only and lacks some parameters. The following cases will be supported. #. Change OpenStack flavor #. Change external/internal Virtual Links(VL) and Connection Points(CP) #. Add other ChangeCurrentVNFPackage API parameters .. note:: Yoga release only supports `RollingUpdate` process. This spec does not target the update process enhancement. Proposed change =============== (1) Add a function and vnf package samples to change VNF flavor --------------------------------------------------------------- This function can change the VNF flavor and provide the vertical scaling of resources such as vMemory and vCPU in ChangeCurrentVNFPackage API. This function will be implemented by using different HEAT input-parameters in User Data [#Tacker_User_Data]_. We also aim to add these samples to tacker documents. See the below. .. note:: `computeFlavourId` such as ""m1.tiny"" in HEAT input-parameters is set by VNFDs (`requested_additional_capability_name`) or Grant response. The information about flavor is managed in OpenStack Nova. * BaseHOT .. code-block:: yaml heat_template_version: 2013-05-23 description: Test Base HOT parameters: nfv: type: json resources: VDU1: type: VDU1.yaml properties: flavor: { get_param: [ nfv, VDU, VDU1, computeFlavourId ] } image: { get_param: [ nfv, VDU, VDU1, vcImageId] } name: VDU1 availability_zone: { get_param: [ nfv, VDU, VDU1, locationConstraints ] } VDU2: type: VDU2.yaml properties: flavor: { get_param: [ nfv, VDU, VDU2, computeFlavourId ] } image: { get_param: [ nfv, VDU, VDU2, vcImageId] } name: VDU2 availability_zone: { get_param: [ nfv, VDU, VDU2, locationConstraints ] } * Before: `input_params.yaml` ""computeFlavourId"" parameters of VDU1 and VDU2 are ""m1.tiny"". .. code-block:: json { ""VDU"": { { ""VDU1"": { ""computeFlavourId"": ""m1.tiny"", ""locationConstraints"": ""nova"" }, ""VDU1-VirtualStorage"": { ""vcImageId"": ""56c7b026-a23e-49e5-96c6-05ab90186965"" }, ""VDU2"": { ""computeFlavourId"": ""m1.tiny"", ""locationConstraints"": ""nova"" }, ""VDU2-VirtualStorage"": { ""vcImageId"": ""6b8a14f0-1b40-418a-b650-ae4a0378daa5"" } } } } * After: `scale_up_input_params.yaml` VDU2 will change new VNF flavor for scale-up (""m1.tiny""->""m1.small""). .. code-block:: json { ""VDU"": { { ""VDU1"": { ""computeFlavourId"": ""m1.tiny"", ""locationConstraints"": ""nova"" }, ""VDU1-VirtualStorage"": { ""vcImageId"": ""56c7b026-a23e-49e5-96c6-05ab90186965"" }, ""VDU2"": { ""computeFlavourId"": ""m1.small"", ""locationConstraints"": ""nova"" }, ""VDU2-VirtualStorage"": { ""vcImageId"": ""6b8a14f0-1b40-418a-b650-ae4a0378daa5"" } } } } (2) Add a function to change external/internal Network ------------------------------------------------------ The following operations will be supported by using additional ChangeCurrentVNFPackage API parameters (extVirtualLinks/extManagedVirtualLinks) , modified HOT input-parameters or BaseHOT templates. .. note:: In NFV SOL, an external NW is defined as being created or deleted without VNF LCM operations. Therefore, ChangeCurrentVNFPackage API will operate modification/additions/deletion of External CPs only. * Change external CP * Modify external CP * Add external CP * Delete external CP .. note:: If `extVirtualLinks -> extLinkPorts` is present, ""Add and Delete"" means ""Connect and Disconnect"" external CP. Because in this case, externally provided link ports are used to connect/disconnect external CPs to the external VL. * Change internal VL * Modify internal VL * Add internal VL * Delete internal VL * Change internal CP * Modify internal CP * Add internal CP * Delete internal CP There are several ways to change networks. An example to modify external CP is described below. * BaseHOT .. code-block:: yaml heat_template_version: 2013-05-23 description: Test Base HOT parameters: nfv: type: json resources: VDU1: type: OS::Nova::Server properties: networks: - port: { get_param: [ nfv, CP, VDU1_CP1, port ] } * Before: `VnfInstance` `VDU1_CP1` is connected to the external VL ""67c837dc-c247-4a3e-ac0f-5603bfef1ba3"". .. code-block:: json ""instantiatedVnfInfo"": { ""extVirtualLinkInfo"": [ { ""currentVnfExtCpData"": [ { ""cpConfig"": { ""VDU1_CP1"": { ""cpProtocolData"": [ { ""ipOverEthernet"": { ""ipAddresses"": [ { ""numDynamicAddresses"": 1, ""subnetId"": ""0cc4d7e2-37c5-49f0-98d2-da945b5841e5"", ""type"": ""IPV4"" } ] }, ""layerProtocol"": ""IP_OVER_ETHERNET"" } ], ""linkPortId"": ""1f330fd3-b037-4d42-993f-8df45b0efa99"", ""parentCpConfigId"": ""a0eab66b-e82f-4a42-a2e5-57d0b02abab3"" } }, ""cpdId"": ""VDU1_CP1"" } ], ""extLinkPorts"": [ { ""cpInstanceId"": ""cp-req-1f330fd3-b037-4d42-993f-8df45b0efa99"", ""id"": ""1f330fd3-b037-4d42-993f-8df45b0efa99"", ""resourceHandle"": { ""resourceId"": ""04ab6361-7e6c-4255-a10c-2ab1a6daa4c2"" } } ], ""id"": ""3d0d9c9b-dbbc-41d6-84ef-1bf2529753d5"", ""resourceHandle"": { ""resourceId"": ""67c837dc-c247-4a3e-ac0f-5603bfef1ba3"", ""resourceProviderId"": ""Company"", ""vimConnectionId"": ""02ef2cca-d853-4e90-950a-a6d0ce86ec3a"" } } ] } * After: `extVirtualLinks` in the ""ChangeCurrentVnfPkgRequest"" `VDU1_CP1` is disconnected and reconnected to the external VL ""d703f250-7d54-45b3-b29e-2ef8a5e5f6a1"". .. code-block:: json ""extVirtualLinks"": [ { ""id"": ""3d0d9c9b-dbbc-41d6-84ef-1bf2529753d5"", ""vimConnectionId"": ""02ef2cca-d853-4e90-950a-a6d0ce86ec3a"", ""resourceProviderId"": ""Company"", ""resourceId"": ""d703f250-7d54-45b3-b29e-2ef8a5e5f6a1"", ""extCps"": [ { ""cpdId"": ""VDU1_CP1"", ""cpConfig"": { ""VDU1_CP1"": { ""parentCpConfigId"": ""2254b5d5-35f7-4d7e-b467-0ef17866ef1d"", ""linkPortId"": ""5353df3d-16de-4789-8a57-0623b5c83700"", ""cpProtocolData"": [ { ""layerProtocol"": ""IP_OVER_ETHERNET"", ""ipOverEthernet"": { ""ipAddresses"": [ { ""type"": ""IPV4"", ""numDynamicAddresses"": 1, ""subnetId"": ""5156e206-c513-41ff-a6e6-b45516046188"" } ] } } ] } } } ], ""extLinkPorts"": [ { ""id"": ""5353df3d-16de-4789-8a57-0623b5c83700"", ""resourceHandle"": { ""resourceId"": ""0ec87b04-c441-4859-8a44-53e28f685ea2"" } } ] } ] .. note:: `extVirtualLinks` might be omitted if the entries in the list are unchanged. (3) Add ChangeCurrentVNFPackage API parameters ---------------------------------------------- Other ChangeCurrentVNFPackage API parameters that are not implemented by Tacker such as ""vimConnectionInfo"", ""extensions"", and ""vnfConfigurableProperties"" will be supported. * ChangeCurrentVnfPkgRequest .. list-table:: :widths: 15 10 30 30 :header-rows: 1 * - Attribute name - Data type - Cardinality - Description * - vimConnectionInfo - map (VimConnectionInfo) - 0..N - ""vimConnectionInfo"" attribute array in ""VnfInstance"". * - extensions - KeyValuePairs - 0..1 - ""extensions"" attribute in ""VnfInstance"". * - vnfConfigurableProperties - KeyValuePairs - 0..1 - ""vnfConfigurableProperties"" attribute in ""VnfInstance"". .. note:: Tacker applies the ""vimConnectionInfo"", ""extensions"" and ""vnfConfigurableProperties"" attributes in the ""ChangeCurrentVnfPkgRequest"" data structure in the payload body to the existing attributes from the ""VnfInstance"" data structure according to the rules of JSON Merge Patch(IETF RFC 7396 [#IETF-RFC-7396]_). Tacker also needs to unify the implemented merge policies of ""VnfInfoModificationRequest"" to the above policy. Data model impact ----------------- None REST API impact --------------- The following RESTful API will be updated. This RESTful API will be based on ETSI NFV-SOL003 v3.3.1 [#ETSI-NFV-SOL003-v3.3.1]_. * | **Name**: change current VNF Package | **Description**: Request to change current VNF package by vnfd ID. | **Method type**: POST | **URL for the resource**: /vnflcm/v2/vnf_instances/{vnfInstanceId}/change_vnfpkg | **Request**: .. list-table:: :widths: 15 10 30 :header-rows: 1 * - Data type - Cardinality - Description * - ChangeCurrentVnfPkgRequest - 1 - Parameters for the change current VNF package. .. list-table:: :widths: 15 15 10 30 10 10 :header-rows: 1 * - Attribute name - Data type - Cardinality - Parameter description - Supported in (Y) - Supported in (Z) * - vnfdId - Identifier - 1 - Identifier of the VNFD which defines the destination VNF Package for the change. - Yes - Yes * - extVirtualLinks - ExtVirtualLinkData - 0..N - Information about external VLs to connect the VNF to. - No - Yes * - extManagedVirtualLinks - ExtManagedVirtualLinkData - 0..N - Information about internal VLs that are managed by the NFVO. - No - Yes * - vimConnectionInfo - map (VimConnectionInfo) - 0..N - ""vimConnectionInfo"" attribute array in ""VnfInstance"". - No - Yes * - additionalParams - KeyValuePairs - 0..1 - Additional parameters passed by the NFVO as input to the process. - Yes - Yes * - extensions - KeyValuePairs - 0..1 - ""extensions"" attribute in ""VnfInstance"". - No - Yes * - vnfConfigurableProperties - KeyValuePairs - 0..1 - ""vnfConfigurableProperties"" attribute in ""VnfInstance"". - No - Yes Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Yuta Kazato <yuta.kazato.nw@hco.ntt.co.jp> Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp> Other contributors: Hiroo Kitamura <hiroo.kitamura@ntt-at.co.jp> Work Items ---------- * Implement additional ChangeCurrentVNFPackage API parameters in tacker-server and tacker-conductor. * Implement additional functions of upgrade VNF operations. * Add and update unit and functional tests. * Add and update sample vnf packages. * Update the Tacker User Guide: ChangeCurrentVNFPackage API. Dependencies ============ * Change current VNF package (/vnf_instances/{vnfInstanceId}/change_vnfpkg POST) [#ETSI-NFV-SOL003-v3.3.1]_ * Tacker SPEC: Support ChangeCurrentVNFPackage for VNF software modification [#SPEC-Upgrade-Vnf-Package]_ Testing ======== Unit and functional test cases will be added and updated for the ChangeCurrentVNFPackage API. Documentation Impact ==================== Description about additional upgrade VNF operations and ChangeCurrentVNFPackage API parameters will be added to the Tacker User Guide. References ========== .. [#ETSI-NFV-SOL003-v3.3.1] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf .. [#ETSI-NFV-IFA007-v3.3.1] https://www.etsi.org/deliver/etsi_gs/NFV-IFA/001_099/007/03.03.01_60/gs_nfv-ifa007v030301p.pdf .. [#Tacker_User_Data] https://docs.openstack.org/tacker/latest/user/userdata_script.html .. [#IETF-RFC-7396] https://tools.ietf.org/html/rfc7396 .. [#SPEC-Upgrade-Vnf-Package] https://specs.openstack.org/openstack/tacker-specs/specs/yoga/upgrade-vnf-package.html ",,474,0
openstack%2Ftacker-specs~master~I654cc26f30dda1cc756ddee790a16f5855ea4443,openstack/tacker-specs,master,I654cc26f30dda1cc756ddee790a16f5855ea4443,Enhance Placement Process,MERGED,2022-07-15 08:21:59.000000000,2022-07-29 08:15:34.000000000,2022-07-29 08:12:30.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31668}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-07-15 08:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c6b3efee732e95df737fd18338d06bf49d115416', 'message': ""Enhance Placement Process\n\nThis specification supports the placement functionality for VNF instance\nand enhances the applicability of Tacker to various systems.\nThe placement constraints are defined in ETSI NFV-SOL 003 v3.3.1\nand that VNFM sends to NFVO in order to the resource placement decision.\nIn VNF Lifecycle Management (LCM), there are some cases that VNFs are\nnot deployed due to placement constraints or\nlack of availability zone's resources.\nFrom a high-availability perspective, Tacker needs to implement a\nfallbackBestEffort option in Grant Request and availability zone\nreselection functions in Placement Process.\n\nImplements: blueprint enhance-placement\nChange-Id: I654cc26f30dda1cc756ddee790a16f5855ea4443\n""}, {'number': 2, 'created': '2022-07-15 08:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/fe6332646dcc298571ea16ce745679a1a2dee818', 'message': ""Enhance Placement Process\n\nThis specification supports the placement functionality for VNF instance\nand enhances the applicability of Tacker to various systems.\nThe placement constraints are defined in ETSI NFV-SOL 003 v3.3.1\nand that VNFM sends to NFVO in order to the resource placement decision.\nIn VNF Lifecycle Management (LCM), there are some cases that VNFs are\nnot deployed due to placement constraints or\nlack of availability zone's resources.\nFrom a high-availability perspective, Tacker needs to implement a\nfallbackBestEffort option in Grant Request and availability zone\nreselection functions in Placement Process.\n\nChange-Id: I654cc26f30dda1cc756ddee790a16f5855ea4443\nImplements: blueprint enhance-placement\n""}, {'number': 3, 'created': '2022-07-22 07:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/55589a9d87ce07335c3a147fcae15621a2f38f4d', 'message': ""Enhance Placement Process\n\nThis specification supports the placement functionality for VNF instance\nand enhances the applicability of Tacker to various systems.\nThe placement constraints are defined in ETSI NFV-SOL 003 v3.3.1\nand that VNFM sends to NFVO in order to the resource placement decision.\nIn VNF Lifecycle Management (LCM), there are some cases that VNFs are\nnot deployed due to placement constraints or\nlack of availability zone's resources.\nFrom a high-availability perspective, Tacker needs to implement a\nfallbackBestEffort option in Grant Request and availability zone\nreselection functions in Placement Process.\n\nImplements: blueprint enhance-placement\nChange-Id: I654cc26f30dda1cc756ddee790a16f5855ea4443\n""}, {'number': 4, 'created': '2022-07-29 02:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/a93cc51673ea29367f2bafd618fc0915f4a11d78', 'message': ""Enhance Placement Process\n\nThis specification supports the placement functionality for VNF instance\nand enhances the applicability of Tacker to various systems.\nThe placement constraints are defined in ETSI NFV-SOL 003 v3.3.1\nand that VNFM sends to NFVO in order to the resource placement decision.\nIn VNF Lifecycle Management (LCM), there are some cases that VNFs are\nnot deployed due to placement constraints or\nlack of availability zone's resources.\nFrom a high-availability perspective, Tacker needs to implement a\nfallbackBestEffort option in Grant Request and availability zone\nreselection functions in Placement Process.\n\nImplements: blueprint enhance-placement\nChange-Id: I654cc26f30dda1cc756ddee790a16f5855ea4443\n""}, {'number': 5, 'created': '2022-07-29 03:59:50.000000000', 'files': ['specs/zed/enhance_placement_process.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/bccb5ba42559b1acda80a0a6a0605a72255ab2e0', 'message': ""Enhance Placement Process\n\nThis specification supports the placement functionality for VNF instance\nand enhances the applicability of Tacker to various systems.\nThe placement constraints are defined in ETSI NFV-SOL 003 v3.3.1\nand that VNFM sends to NFVO in order to the resource placement decision.\nIn VNF Lifecycle Management (LCM), there are some cases that VNFs are\nnot deployed due to placement constraints or\nlack of availability zone's resources.\nFrom a high-availability perspective, Tacker needs to implement a\nfallbackBestEffort option in Grant Request and availability zone\nreselection functions in Placement Process.\n\nImplements: blueprint enhance-placement\nChange-Id: I654cc26f30dda1cc756ddee790a16f5855ea4443\n""}]",29,849959,bccb5ba42559b1acda80a0a6a0605a72255ab2e0,26,6,5,34712,,,0,"Enhance Placement Process

This specification supports the placement functionality for VNF instance
and enhances the applicability of Tacker to various systems.
The placement constraints are defined in ETSI NFV-SOL 003 v3.3.1
and that VNFM sends to NFVO in order to the resource placement decision.
In VNF Lifecycle Management (LCM), there are some cases that VNFs are
not deployed due to placement constraints or
lack of availability zone's resources.
From a high-availability perspective, Tacker needs to implement a
fallbackBestEffort option in Grant Request and availability zone
reselection functions in Placement Process.

Implements: blueprint enhance-placement
Change-Id: I654cc26f30dda1cc756ddee790a16f5855ea4443
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/59/849959/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/enhance_placement_process.rst'],1,c6b3efee732e95df737fd18338d06bf49d115416,bp/enhance-placement,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================= Enhance Placement Process ========================= .. Blueprints: - https://blueprints.launchpad.net/tacker/+spec/enhance-placement This specification supports the placement functionality for VNF instance and enhances the applicability of Tacker to various systems. Problem description =================== The placement constraints are defined in ETSI NFV-SOL 003 v3.3.1 [#NFV-SOL003_331]_ and that VNFM sends to NFVO in order to the resource placement decision. In VNF Lifecycle Management (LCM), there are some cases that VNFs are not deployed due to placement constraints or lack of availability zone's resources. From a high-availability perspective, Tacker needs to implement a `fallbackBestEffort` option in Grant Request and availability zone reselection functions. Proposed change =============== 1. Add fallbackBestEffort parameter ----------------------------------- `fallbackBestEffort` is to look for an alternate best effort placement for specified resources cannot be allocated based on specified placement constraint and defined in ETSI NFV-SOL 003 v3.3.1 [#NFV-SOL003_331]_. On this specification, Tacker will support additional parameter `fallbackBestEffort` in Grant Request (`PlacementConstrains`) and Tacker configuration settings. We will modify Tacker conductor and `tacker.conf`. Add definitions details are described in :ref:`3. Add definitions to the configuration file<configuration-file>`. * GrantRequest.PlacementConstrains .. list-table:: :widths: 15 10 30 30 :header-rows: 1 * - Attribute name - Data type - Cardinality - Description * - fallbackBestEffort - Boolean - 0..1 - Indication if the constraint is handled with fall back best effort. Default value is ""false"". .. note:: If `fallbackBestEffort` is present in placement constraints and set to ""true"", the NFVO shall process the Affinity/Anti-Affinity constraint in a best effort manner, in which case, if specified resources cannot be allocated based on specified placement constraint, the NFVO looks for an alternate best effort placement for the specified resources to be granted. 2. Availability zone reselection -------------------------------- The VNFLCM v2 API (instantiate/heal/scale for VNF) process can change the availability zone to be used from the one notified by the NFVO if necessary. If the availability zone notified by the NFVO has insufficient resources, the VNF is created/updated in a different availability zone. The availability zone is reselected considering Affinity/Anti-Affinity and re-create/update until there are no more candidates. 1) Flowchart of availability zone reselection ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. blockdiag:: blockdiag { orientation = portrait; edge_layout = flowchart; create [shape=flowchart.condition,label='stack create/update']; start [shape=beginpoint]; lin [shape=flowchart.loopin,label='stack create/update\nin other AZ']; recreate [shape=flowchart.condition,label='stack create/update']; lout [shape=flowchart.loopout,label='no more AZ\ncandidates']; failure [shape=endpoint,label='end']; success [shape=endpoint,label='end']; class none [shape=none]; n [class=none]; start -> create [label='NFVO AZ'] create -> lin [label=error] lin -> recreate [label='other AZ'] recreate -> lout [label='error'] lout -> failure [label='failure']; create -> success; recreate -> n [dir=none] n -> success [label='success']; } The procedure consists of the following steps as illustrated in above flow: #. Execute ""stack create/update"" in the availability zone notified by the NFVO. #. If an error occurs in 1, get the availability zone list. Availability zone list details are described in :ref:`2) Get and manage availability zone list<az-list>`. #. Select an availability zone (excluding the Availability Zone where the error occurred) randomly in compliance with Affinity/Anti-Affinity from the availability zone list obtained in 2, and re-execute “stack create/update”. Reselection policy details are described in :ref:`3) Availability zone reselection policy<reselection-policy>`. #. If ""stack create/update"" in the availability zone reselected in 3 becomes an error, reselect the availability zone and repeat until ""stack create/update"" succeeds or until all availability zone candidates fail. Detecting error details are described in :ref:`4) Detection method of insufficient resource error<detection-method>`. .. _az-list: 2) Get and manage availability zone list ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ``Get availability zone list`` + Extract all availability zones as candidates for reselection without limiting the availability zones to be reselected. Although it is possible to extract only availability zones permitted by Grant as candidates for reselection, this is not adopted in this Spec because it depends on the NFVO product specifications. + The concept of availability zone exists for Compute/Volume/Network, but this Spec targets only Compute. The reason is that SOL(SOL003 v3.3.1 Type: GrantInfo [#NFV-SOL003_331]_) specifies that the zoneId of GrantInfo, which is the data type of addResources, etc., is usually specified as a COMPUTE resource. .. note:: ``SOL003 v3.3.1 Type: GrantInfo`` Reference to the identifier of the ""ZoneInfo"" structure in the ""Grant"" structure defining the resource zone into which this resource is to be placed. Shall be present for new resources if the zones concept is applicable to them (typically, Compute resources) and shall be absent for resources that have already been allocated. Shall be present for new resources if the zones concept is applicable to them (typically, Compute resources) and shall be absent for resources that have been allocated. + Call the Compute-API ""GetDetailedAvailabilityZoneInformation"" [#Compute-API]_ to get the availability zones from the ""hosts"" response associated with ""nova-compute"". Compute endpoints are obtained in the following way. 1. Get Keystone endpoint from vimConnectionInfo -> interfaceInfo -> endpoint 2. Call ""List endpoints"" [#Keystone-API_endpoints]_ and ""List services"" [#Keystone-API_services]_ of Keystone-API to link obtained Compute's services and endpoint ``Manage availability zone list`` + Keep in on-memory until availability zone reselection iterations are completed, and discard after completion (no storage in DB). .. note:: ``Error-Handling Retry consideration`` Since the availability zone list is not saved and is retrieved again, there is no guarantee that the availability zone is reselected in the same order when Retry is executed. .. _reselection-policy: 3) Availability zone reselection policy ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Availability zones in error are excluded from the reselection candidates, and Availability zones are reselected randomly in compliance with Affinity/Anti-Affinity of PlacementConstraint. The availability zone in error can be identified in the following way. 1. Call Heat-API ""Show stack details"" after an error occurs in ""stack create/update"" 2. Identify the VDU where the error occurred due to insufficient resource by the stack_status_reason in the response of 1. 3. Identify the availability zone by the VDU identified in 2. .. note:: Insufficient resource in availability zones that once failed during reselection attempts may be resolved, but the availability zones will not be reselected. In Scale/Heal operations, VDUs that have already been deployed will not be re-created. Availability zone reselection for each PlacementConstraint is as follows. Precondition: availability zone AZ-1/AZ-2/AZ-3 exist and VNF VDU-1/VDU-2 are deployed + PlacementConstraint is Anti-Affinity + Before reselection, the following attempts to deploy failed (AZ-1 has insufficient resource) + VDU-1: AZ-1 + VDU-2: AZ-2 + Reselect the following (except AZ-1, select AZ-2/AZ-3 in compliance with Anti-Affinity) + VDU-1: AZ-2 + VDU-2: AZ-3 .. note:: The above is an example, and it is possible that the reverse availability zones are selected for VDU-1 and VDU-2, but it is guaranteed that they will not be the same availability zone. + PlacementConstraint is Affinity + Before reselection, attempt to deploy in the following and fail (AZ-1 has insufficient resource) + VDU-1: AZ-1 + VDU-2: AZ-1 + Reselect the following (except AZ-1, select AZ-2/AZ-3 in compliance with Affinity) + VDU-1: AZ-2 + VDU-2: AZ-2 .. note:: The above is an example, and it is possible that the availability zone AZ-3 is selected for VDU-1 and VDU-2, but it is guaranteed that they will be the same availability zone. .. _detection-method: 4) Detection method of insufficient resource error ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ When ""stack create/update"" fails, it is detected from ""Show stack details"" [#Heat-API]_ of Heat-API response whether the failure is due to insufficient resources. The error message that indicates insufficient resources is extracted from the parameter ""stack_status_reason"" in the response. .. note:: In the case of insufficient resources, the error occurs after ""stack create/update"" returns an acceptance response, so the ""Show stack details"" response is used to detect the cause. The following is an example of an error message stored in ""stack_status_reason"" when resources are insufficient. + ex1) Set the flavor defined in “OS::Nova::Server” to a large value that cannot be deployed (not enough storage/not enough vcpu/not enough memory). + Resource CREATE failed: ResourceInError: resources.<VDU-name>: Went to status ERROR due to “Message: No valid host was found. , Code: 500” + ex2) Specifies an extra-spec that cannot be assigned for the flavor defined in ""OS::Nova::Server."" + Resource CREATE failed: ResourceInError: resources.<VDU-name>: Went to status ERROR due to “Message: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance <server-UUID>., Code: 500” Error messages that Tacker detects as insufficient resources are specified by a regular expression in the configuration file. Add definitions details are described in :ref:`3. Add definitions to the configuration file<configuration-file>`. By changing the method of specifying this regular expression in accordance with the operational policy, it is possible to flexibly set a policy to detect more error messages as insufficient resource with a higher tolerance for misdetection, or to detect only specific error messages as insufficient resource. + ex1) Regular expression for a policy to detect more error messages as insufficient resource by increasing the tolerance for misclassification + Resource CREATE failed:(. \*) + ex2) Regular expression to specify the policy to detect more error messages as insufficient resource with higher tolerance for false positives + Resource CREATE failed: ResourceInError: resources(. \*): Went to status ERROR due to ""Message: No valid host was found. \*): Went to status ERROR due to ""Message: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance(. \*). , Code: 500"". 5) AutoScalingGroup consideration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ In BaseHOT which includes AutoScalingGroup definitions, there is a constraint that each VNFC associated with a VDU under AutoScalingGroup cannot be set to Anti-Affinity for the availability zone. This constraint is due to the constraint in the HOT specification that availability zones can only be set for each VDU under the AutoScalingGroup. This constraint occurs not only at the time of reselection, but also at the time of initial execution. Therefore, BaseHOT which includes AutoScalingGroup definitions, ignores the PlacementConstraint for each VNFC associated with a VDU and reselects a single availability zone for each VDU under the AutoScalingGroup. (Always set to Affinity.) top HOT: .. code-block:: resources: VDU1_scale_group: type: OS::Heat::AutoScalingGroup properties: min_size: 1 max_size: 3 desired_capacity: { get_param: [ nfv, VDU, VDU1, desired_capacity ] } resource: type: VDU1.yaml properties: flavor: { get_param: [ nfv, VDU, VDU1, computeFlavourId ] } image: { get_param: [ nfv, VDU, VDU1-VirtualStorage, vcImageId ] } zone: { get_param: [ nfv, VDU, VDU1, locationConstraints] } net1: { get_param: [ nfv, CP, VDU1_CP1, network] } net2: { get_param: [ nfv, CP, VDU1_CP2, network ] } subnet1: { get_param: [nfv, CP, VDU1_CP1, fixed_ips, 0, subnet ]} subnet2: { get_param: [nfv, CP, VDU1_CP2, fixed_ips, 0, subnet ]} net3: { get_resource: internalVL1 } net4: { get_resource: internalVL2 } net5: { get_resource: internalVL3 } nested HOT: .. code-block:: resources: VDU1: type: OS::Nova::Server properties: flavor: { get_param: flavor } name: VDU1 block_device_mapping_v2: [{""volume_id"": { get_resource: VDU1-VirtualStorage }}] networks: - port: get_resource: VDU1_CP1 - port: get_resource: VDU1_CP2 - port: get_resource: VDU1_CP3 - port: get_resource: VDU1_CP4 - port: get_resource: VDU1_CP5 availability_zone: { get_param: zone } As shown above, top HOT specifies a single ""zone"" (availability zone) for each VDU under the AutoScalingGroup, so each VNFC associated with a VDU under the AutoScalingGroup is in the same availability zone. .. _configuration-file: 3. Add definitions to the configuration file -------------------------------------------- Add the following definition to the ``""tacker.conf""`` file. + Boolean value of ""GrantRequest.PlacementConstrains.fallbackBestEffort"" Default value: ""false"" + Whether or not to reselect availability zone Default value: not to reselect + Regular expression for detecting insufficient resource error Default value: regular expression for insufficient resource error .. note:: Consider the regular expression that can catch stack create and stack update errors. + Maximum number of retries for reselection of availability zone Default value: no upper limit .. note:: Consider the case where there are a large number of availability zones and the availability zone reselection process takes too long. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Yuta Kazato <yuta.kazato.nw@hco.ntt.co.jp> Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp> Other contributors: Hiroo Kitamura <hiroo.kitamura@ntt-at.co.jp> Ai Hamano <ai.hamano@ntt-at.co.jp> Work Items ---------- * Implement availability zone reselection functions. * Add new parameter `fallbackBestEffort` in GrantRequest API. * Add new definitions to the Tacker configuration file `tacker.conf`. * Add new unit and functional tests. * Add new examples to the Tacker User Guide. Dependencies ============ * VNF Lifecycle Operation Granting interface (Grant Lifecycle Operation) [#NFV-SOL003_331]_ * VNF Lifecycle Management interface (Instantiate/Heal/Scale VNF) [#NFV-SOL003_331]_ Testing ======== Unit and functional test cases will be added for the new placement functionalities. Documentation Impact ==================== New supported functions need to be added into the Tacker User Guide. References ========== .. [#NFV-SOL003_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf .. [#Compute-API] https://docs.openstack.org/api-ref/compute/?expanded=get-detailed-availability-zone-information-detail#availability-zones-os-availability-zone .. [#Keystone-API_endpoints] https://docs.openstack.org/api-ref/identity/v3/?expanded=list-endpoints-detail#list-endpoints .. [#Keystone-API_services] https://docs.openstack.org/api-ref/identity/v3/?expanded=list-services-detail#list-services .. [#Heat-API] https://docs.openstack.org/api-ref/orchestration/v1/index.html?expanded=show-stack-details-detail#show-stack-details ",,520,0
openstack%2Ftacker-specs~master~Id6f34c42956c3753baf72c69f0e6127abfd13899,openstack/tacker-specs,master,Id6f34c42956c3753baf72c69f0e6127abfd13899,Support OpenID for Kubernetes VIM Authentication,MERGED,2022-07-20 02:43:34.000000000,2022-07-29 08:13:38.000000000,2022-07-29 08:12:32.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-07-20 02:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/80d8ee2be08974b11df3a5358fe804f3fafa392e', 'message': 'Support OpenID for Kubernetes VIM Authentication\n\nThere are several ways for authentication in Kubernetes VIM.\nCurrently, Tacker already supports using Service Account Token\nas bearer token for authentication.\nThis specification proposes Tacker to support\nOpenID Connect Token as bearer token for authentication.\n\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Id6f34c42956c3753baf72c69f0e6127abfd13899\n'}, {'number': 2, 'created': '2022-07-20 02:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b21180995770c4bfe7793a4f50111e510bf31f50', 'message': 'Support OpenID for Kubernetes VIM Authentication\n\nThere are several ways for authentication in Kubernetes VIM.\nCurrently, Tacker already supports using Service Account Token\nas bearer token for authentication.\nThis specification proposes Tacker to support\nOpenID Connect Token as bearer token for authentication.\n\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Id6f34c42956c3753baf72c69f0e6127abfd13899\nImplements: support-openid-k8s-vim\n'}, {'number': 3, 'created': '2022-07-20 02:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/3c4308901a7a0652edce8bc6434e73f109c8830b', 'message': 'Support OpenID for Kubernetes VIM Authentication\n\nThere are several ways for authentication in Kubernetes VIM.\nCurrently, Tacker already supports using Service Account Token\nas bearer token for authentication.\nThis specification proposes Tacker to support\nOpenID Connect Token as bearer token for authentication.\n\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Id6f34c42956c3753baf72c69f0e6127abfd13899\nImplements: blueprint support-openid-k8s-vim\n'}, {'number': 4, 'created': '2022-07-28 05:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/cc6716bd322f35edc595872b11997a7db851be68', 'message': 'Support OpenID for Kubernetes VIM Authentication\n\nThere are several ways for authentication in Kubernetes VIM.\nCurrently, Tacker already supports using Service Account Token\nas bearer token for authentication.\nThis specification proposes Tacker to support\nOpenID Connect Token as bearer token for authentication.\n\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Id6f34c42956c3753baf72c69f0e6127abfd13899\nImplements: blueprint support-openid-k8s-vim\n'}, {'number': 5, 'created': '2022-07-29 04:31:42.000000000', 'files': ['specs/zed/support-openid-k8s-vim.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7555ec76b7df1c574d44a98cc2e64b3b23606f7f', 'message': 'Support OpenID for Kubernetes VIM Authentication\n\nThere are several ways for authentication in Kubernetes VIM.\nCurrently, Tacker already supports using Service Account Token\nas bearer token for authentication.\nThis specification proposes Tacker to support\nOpenID Connect Token as bearer token for authentication.\n\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Id6f34c42956c3753baf72c69f0e6127abfd13899\nImplements: blueprint support-openid-k8s-vim\n'}]",52,850437,7555ec76b7df1c574d44a98cc2e64b3b23606f7f,21,5,5,33292,,,0,"Support OpenID for Kubernetes VIM Authentication

There are several ways for authentication in Kubernetes VIM.
Currently, Tacker already supports using Service Account Token
as bearer token for authentication.
This specification proposes Tacker to support
OpenID Connect Token as bearer token for authentication.

Signed-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>
Change-Id: Id6f34c42956c3753baf72c69f0e6127abfd13899
Implements: blueprint support-openid-k8s-vim
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/37/850437/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/support-openid-k8s-vim.rst'],1,80d8ee2be08974b11df3a5358fe804f3fafa392e,bp/support-openid-k8s-vim,"================================================ Support OpenID for Kubernetes VIM Authentication ================================================ https://blueprints.launchpad.net/tacker/+spec/support-openid-k8s-vim Problem description =================== There are several ways for authentication in Kubernetes VIM. Currently, Tacker already supports using Service Account Token as bearer token for authentication. This specification proposes Tacker to support OpenID Connect Token [#k8s_auth_oidc]_ as bearer token for authentication. The OpenID Connect is defined by OpenID Connect Core 1.0 [#oidc]_. Proposed Change =============== The following diagram shows the image of authentication with OpenID Connect: :: +----------------+ 1.setup OpenID Provider(IdP) | +----------------------------------------------------------------+ | User | 2.setup Kubernetes | | +----------------------------------------+ | +-----+------+---+ | | 6.CNF LCM | | 3.register vim | | (e.g. instantiate)| | | | | | | | +-----------------------------------------------------+ +---v---------+ +--------v--------+ | | | | | VIM | | | | +-------v------v---+ 4.create vim +------------+ | | (Kubernetes | | OpenID Provider | | | +-----------------> | | | API Server) | | (Keycloak etc.) | | | Tacker-server | | NFVOPlugin | | | | | | | | +-----+ | | | +---^---------+ +--------^--------+ | +-------+----------+ | +------+-----+ | | | | | 8.create | 5.save | | | | | | resource | VimAuth | | | | | +------------------+ |7.get +------v-----+ | | | | | +-----v--------+ | |VimAuth | | | |10.call Kubernetes API | | | | | | +-----------> TackerDB | | | | | | | InfraDriver | | | | | | | | | | (Kubernetes) | | +------------+ | | | | | | +------------------------------------------+ 9.get token | | | | +------------------------------------------------------------------+ | | +--------------+ | | | | Tacker-conductor | | | +------------------+ Tacker | +-----------------------------------------------------+ #. Login to OpenID Provider(IdP), create client, add user and groups, and so on. #. Configure the Kubernetes API server to enable the OpenID Connect(OIDC) plugin. #. Register VIM using command or API. #. Call the create vim method of class NFVOPlugin. #. Store the client_id, client_secret, username, password, token_url, ssl_ca_cert to TackerDB. #. Execute CNF LCM operation(e.g. instantiate). #. Get client_id, client_secret, username, password, token_url, ssl_ca_cert from TackerDB. #. Call InfraDriver's Kubernetes client method to create resources. #. Get a id_token from the IdP using client_id, client_secret, user_name, password, token_url, ssl_ca_cert. #. Call Kubernetes APIs with the id_token. .. note:: The IdP has investigated with Keycloak. Whether there is a difference using another IdP requires additional investigation. The following changes are required to support OIDC authentication: + changes of VIM APIs + changes of Kubernetes Infra Driver 1) Changes of VIM APIs ---------------------- As mentioned above, Tacker's support for OIDC authentication requires the following parameters: + client_id + client_secret + username + password + token_url + ssl_ca_cert .. Note:: + The client_id is a identifier of Tacker(OIDC client) at the IdP. + The username is a identifier of a user at the IdP. + The username will be included in id_token(A JSON Web Token). + The username in id_token will be verified what permissions it has to Kubernetes when calling Kubernetes APIs. The request parameters of Register VIM API [#register_vim_api]_ should be set as below: + The username, password and ssl_ca_cert are set in the ``auth_cred``. + The client_id and client_secret should be added as new fields in the ``auth_cred``. + When using Service Account Token for authentication, the ``auth_url`` is set to the endpoint of Kubernetes. When using OpenID Connect Token for authentication, the ``auth_url`` is still set to the endpoint of Kubernetes, and a new field ``oidc_token_url`` should be added in the ``auth_cred`` for setting the endpoint of IdP. As a result, the following functions need to be modified. + VIM command group(register/set/list/show) + VIM API group(register/update/list/show) VIM configuration ~~~~~~~~~~~~~~~~~ Sample file of VIM Configuration for Kubernetes: vim_config.yaml .. code-block:: yaml auth_url: 'https://192.168.2.82:6443' oidc_token_url: 'https://192.168.2.81:8443/auth/realms/kubernetes/protocol/openid-connect/token' project_name: ""default"" username: 'end-user' password: 'end-user' client_id: 'tacker' client_secret: 'E3xaNpB8reiUuEyrD8y6wQ1obPJAtbbU' ssl_ca_cert: | -----BEGIN CERTIFICATE----- MIICwjCCAaqgAwIBAgIBADANBgkqhkiG9w0BAQsFADASMRAwDgYDVQQDEwdrdWJl LWNhMB4XDTIwMDgyNjA5MzIzMVoXDTMwMDgyNDA5MzIzMVowEjEQMA4GA1UEAxMH a3ViZS1jYTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALxkeE16lPAd pfJj5GJMvZJFcX/CD6EB/LUoKwGmqVoOUQPd3b/NGy+qm+3bO9EU73epUPsVaWk2 Lr+Z1ua7u+iib/OMsfsSXMZ5OEPgd8ilrTGhXOH8jDkif9w1NtooJxYSRcHEwxVo +aXdIJhqKdw16NVP/elS9KODFdRZDfQ6vU5oHSg3gO49kgv7CaxFdkF7QEHbchsJ 0S1nWMPAlUhA5b8IAx0+ecPlMYUGyGQIQgjgtHgeawJebH3PWy32UqfPhkLPzxsy TSxk6akiXJTg6mYelscuxPLSe9UqNvHRIUoad3VnkF3+0CJ1z0qvfWIrzX3w92/p YsDBZiP6vi8CAwEAAaMjMCEwDgYDVR0PAQH/BAQDAgKkMA8GA1UdEwEB/wQFMAMB Af8wDQYJKoZIhvcNAQELBQADggEBAIbv2ulEcQi019jKz4REy7ZyH8+ExIUBBuIz InAkfxNNxV83GkdyA9amk+LDoF/IFLMltAMM4b033ZKO5RPrHoDKO+xCA0yegYqU BViaUiEXIvi/CcDpT9uh2aNO8wX5T/B0WCLfWFyiK+rr9qcosFYxWSdU0kFeg+Ln YAaeFY65ZWpCCyljGpr2Vv11MAq1Tws8rEs3rg601SdKhBmkgcTAcCzHWBXR1P8K rfzd6h01HhIomWzM9xrP2/2KlYRvExDLpp9qwOdMSanrszPDuMs52okXgfWnEqlB 2ZrqgOcTmyFzFh9h2dj1DJWvCvExybRmzWK1e8JMzTb40MEApyY= -----END CERTIFICATE----- -----BEGIN CERTIFICATE----- MIIDgTCCAmkCFBkaTpj6Fm1yuBJrOI7OF1ZxEKbOMA0GCSqGSIb3DQEBCwUAMH0x CzAJBgNVBAYTAkNOMRAwDgYDVQQIDAdKaWFuZ3N1MQ8wDQYDVQQHDAZTdXpob3Ux DTALBgNVBAoMBGpmdHQxDDAKBgNVBAsMA2RldjEUMBIGA1UEAwwLdGFja2VyLmhv c3QxGDAWBgkqhkiG9w0BCQEWCXRlc3RAamZ0dDAeFw0yMjAzMDgwMjQ2MDZaFw0y MzAzMDgwMjQ2MDZaMH0xCzAJBgNVBAYTAkNOMRAwDgYDVQQIDAdKaWFuZ3N1MQ8w DQYDVQQHDAZTdXpob3UxDTALBgNVBAoMBGpmdHQxDDAKBgNVBAsMA2RldjEUMBIG A1UEAwwLdGFja2VyLmhvc3QxGDAWBgkqhkiG9w0BCQEWCXRlc3RAamZ0dDCCASIw DQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALIUIDZLvKs7NKBZo+172uH9dftL pNM4dGgfc4jvmFjZswDex9Vqrlt7pcdrorlv2w3PWyODEzmx98EsDxVtrBNPP5lQ aGk6zVtC7J7trIODqD/xhS8G2H4weX1znx0NVi50pqDxVxqeXO11rwtglJ7Wwkp6 R9dkMbr3ZHWWKEZauBWX4NX16XErniSemW8Co/Oa3coX7CtrSzRCDJJcD8MdMFBE m02obSh88N+YJPRLBBIGl2JfZdD0IZldUe9RozhGA80gcJeLiVoNeVIpznc/LGTr xHWOb2Wh0yP6gl3KX4JjJ0NubZPaskUHILFN34F5a3fVQE3t7dQk8jq7JlMCAwEA ATANBgkqhkiG9w0BAQsFAAOCAQEAH0B2qgwKjWje0UfdQOb1go8EKsktHOvIDK5+ dXz2wNFJpKCekvSGK4/2KEp1McTTDj0w8nlWcGZgaOcvjuq8ufWrggjdADa2xJHr 4pfxNMQrQXCFZ5ikCoLDx9QKDyN81b12GWpr1yPYIanSghbhx4AW7BkVQwtELun8 d6nHGTixkqxljbEB9qM/wOrQMlm/9oJvyU4Po7weav8adPVyx8zFh9UCH2qXKUlo 3e5D8BKkBpo4DtoXGPaYBuNt/lI7emhfikcZ2ZbeytIGdC4InoooYMKJkfjMxyim DSqhxuyffTmmMmEx1GK9PYLy7uPJkfn/mn9K9VL71p4QnJQt7g== -----END CERTIFICATE----- type: ""kubernetes"" .. Note:: The parameter ``auth_cred.ssl_ca_cert`` contains 2 certificates. One for VIM and one for IdP. 2) Changes of Kubernetes Infra Driver ------------------------------------- The flow of calling the Kubernetes APIs is shown as below (take ``instantiate`` as an example): .. seqdiag:: seqdiag { node_width = 90; edge_length = 130; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver"" ""InfraDriver(Kubernetes)"" ""IdP"" ""VIM(Kubernetes)"" ""Client"" -> ""Tacker-server"" [label = ""1. instantiate vnf""]; ""Client"" <-- ""Tacker-server"" [label = ""response""]; ""Tacker-server"" ->> ""Tacker-conductor"" [label = ""2. instantiate""]; ""Tacker-conductor"" -> ""VnfLcmDriver"" [label = ""3. instantiate_vnf""]; ""VnfLcmDriver"" -> ""InfraDriver(Kubernetes)"" [label = ""4. instantiate_vnf""]; ""InfraDriver(Kubernetes)"" -> ""IdP"" [label = ""5. get token""]; ""InfraDriver(Kubernetes)"" <-- ""IdP""; ""InfraDriver(Kubernetes)"" -> ""VIM(Kubernetes)"" [label = ""6. call Kubernetes APIs""]; ""InfraDriver(Kubernetes)"" <-- ""VIM(Kubernetes)"" [label = ""response""]; ""VnfLcmDriver"" <-- ""InfraDriver(Kubernetes)""; ""Tacker-conductor"" <-- ""VnfLcmDriver""; } #. The Client sends a request to Tacker-server to instantiate a vnf. #. Tacker-server gets the ``vimAuth`` from TakerDB, and calls the instantiate rpc-api of Tacker-conductor. #. Tacker-conductor calls the instantiate_vnf method of VnfLcmDriver. #. VnfLcmDriver calls the instantiate_vnf of InfraDriver(Kubernetes). #. InfraDriver(Kubernetes) sends request to IdP to get an id_token. #. InfraDriver(Kubernetes) sends requests with the id_token to Kubernetes to create resources. .. Note:: Each LCM operation(instantiate, terminate, etc) will get a individual token from IdP, and the token will be used in all API calls to the Kubernetes VIM in one LCM processing. Get token from IdP ~~~~~~~~~~~~~~~~~~ Get token from IdP requires the following parameters: + token_url + client_id + client_secret + username + password + ssl_ca_cert + grant_type(the value is fixed to ""password"") + scope(the value is fixed to ""openid"") A sample of getting a token through curl: .. code-block:: curl --cacert cacert.crt -d ""grant_type=password"" -d ""scope=openid"" -d ""client_id=kubernetes"" -d ""client_secret=E3xaNpB8reiUuEyrD8y6wQ1obPJAtbbU"" -d ""username=tacker"" -d ""password=tacker"" https://keycloakserver:8443/realms/kubenetes/protocol/openid-connect/token Alternatives ------------ None Data model impact ----------------- As mentioned above, OIDC authenticate requires the client_id, client_secret, username, password, token_url, ssl_ca_cert. The following fields will not change: + The username is located at ``VimAuth.auth_cred.username`` + The password is located at ``VimAuth.password`` + The ssl_ca_cert is located at ``VimAuth.ssl_ca_cert`` The following fields need to be extended in the ``VimAuth.auth_cred``: + The client_id will be located at the ``VimAuth.auth_cred.client_id`` + The client_secret will be located at the ``VimAuth.auth_cred.client_secret`` + The oidc_token_url will be located at the ``VimAuth.auth_cred.oidc_token_url`` Since ``VimAuth.auth_cred`` is a json, the table doesn't actually need any changes. .. note:: For security, client_secret may also need to be encrypted with fernet the same as password. REST API impact --------------- The parameter ``auth_cred`` in the VIM APIs will add the follow fields: + client_id + client_secret + oidc_token_url The following APIs need to be changed: + Register VIM: POST /v1.0/vims (``auth_cred`` in both Request and Response parameters) + List VIMs: GET /v1.0/vims (``auth_cred`` in Response parameters) + Show VIM: GET /v1.0/vims/{vim_id} (``auth_cred`` in Response parameters) + Update VIM: PUT /v1.0/vims/{vim_id} (``auth_cred`` in both Request and Response parameters) Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Masaki Ueno<masaki.ueno.up@hco.ntt.co.jp> Other contributors: Qibin Yao <yaoqibin@fujitsu.com> Ayumu Ueha<ueha.ayumu@fujitsu.com> Yoshiyuki Katada <katada.yoshiyuk@fujitsu.com> Yusuke Niimi<niimi.yusuke@fujitsu.com> Work Items ---------- + Implement to support: + Extend client_id and client_secret in ``auth_cred`` of VIM command group. + Extend client_id and client_secret in ``auth_cred`` of VIM APIs. + Add logic for calling Kubernetes with id_token. + Modify the vim config generator tool(gen_vim_config.sh) to add client_id and client_secret. + Add new unit and functional tests. Dependencies ============ None Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== #. API guide will add client_id and client_secret in the ``auth_cred`` of VIM APIs. #. User guide will add a manual on how to use the IdP to authenticate users in Kubernetes. References ========== .. [#k8s_auth_oidc] https://kubernetes.io/docs/reference/access-authn-authz/authentication/#openid-connect-tokens .. [#oidc] https://openid.net/specs/openid-connect-core-1_0.html .. [#register_vim_api] https://docs.openstack.org/api-ref/nfv-orchestration/v1/legacy.html?expanded=register-vim-detail ",,397,0
openstack%2Ftacker-specs~master~Ia5633c2b6571bc5364f0ccd344d81f1a10236096,openstack/tacker-specs,master,Ia5633c2b6571bc5364f0ccd344d81f1a10236096,Support VNF AutoHeal triggered by FaultNotification,MERGED,2022-07-20 07:46:19.000000000,2022-07-29 08:12:48.000000000,2022-07-29 08:11:30.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-07-20 07:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/54cd18d0d1edca5695470246a70c1c663febfbcc', 'message': 'Support VNF AutoHeal triggered by FaultNotification\n\nThis spec provides an implementation for supporting AutoHealing using\nFaultNotification interface between Tacker and VIM.\n\nWhen fault events occur in VIM, VIM notifies fault event to Tacker\nvia the interface.\n\nTacker takes initiative of AutoHealing. According to configuration,\nTacker checks faultID attribute in the fault event and determines\nwhether AutoHealing should be performed. In case of performing\nAutoHealing, VMs are deleted or created via Heat.\n\nThe FaultNotification interface can be alerted by multiple events.\nTo prevent invoking multiple heal operations to single VNF,\nthe FaultNotification requests to Tacker are packed for a configured\nperiod of time.\n\nImplements: blueprint support-autoheal-queue\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Ia5633c2b6571bc5364f0ccd344d81f1a10236096\n'}, {'number': 2, 'created': '2022-07-28 08:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/47b5bb35ea3bd994f6157a913205eaa4161d6cb4', 'message': 'Support VNF AutoHeal triggered by FaultNotification\n\nThis spec provides an implementation for supporting AutoHealing using\nFaultNotification interface between Tacker and VIM.\n\nWhen fault events occur in VIM, VIM notifies fault event to Tacker\nvia the interface.\n\nTacker takes initiative of AutoHealing. According to configuration,\nTacker checks faultID attribute in the fault event and determines\nwhether AutoHealing should be performed. In case of performing\nAutoHealing, VMs are deleted or created via Heat.\n\nThe FaultNotification interface can be alerted by multiple events.\nTo prevent invoking multiple heal operations to single VNF,\nthe FaultNotification requests to Tacker are packed for a configured\nperiod of time.\n\nImplements: blueprint support-autoheal-queue\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Ia5633c2b6571bc5364f0ccd344d81f1a10236096\n'}, {'number': 3, 'created': '2022-07-28 09:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/cfcd096e34997dea08540c6126add675b91c2f22', 'message': 'Support VNF AutoHeal triggered by FaultNotification\n\nThis spec provides an implementation for supporting AutoHealing using\nFaultNotification interface between Tacker and VIM.\n\nWhen fault events occur in VIM, VIM notifies fault event to Tacker\nvia the interface.\n\nTacker takes initiative of AutoHealing. According to configuration,\nTacker checks faultID attribute in the fault event and determines\nwhether AutoHealing should be performed. In case of performing\nAutoHealing, VMs are deleted or created via Heat.\n\nThe FaultNotification interface can be alerted by multiple events.\nTo prevent invoking multiple heal operations to single VNF,\nthe FaultNotification requests to Tacker are packed for a configured\nperiod of time.\n\nImplements: blueprint support-autoheal-queue\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Ia5633c2b6571bc5364f0ccd344d81f1a10236096\n'}, {'number': 4, 'created': '2022-07-29 05:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/cb865c4306db558eb8bc7e43a8359d69355f95aa', 'message': 'Support VNF AutoHeal triggered by FaultNotification\n\nThis spec provides an implementation for supporting AutoHealing using\nFaultNotification interface between Tacker and VIM.\n\nWhen fault events occur in VIM, VIM notifies fault event to Tacker\nvia the interface.\n\nTacker takes initiative of AutoHealing. According to configuration,\nTacker checks faultID attribute in the fault event and determines\nwhether AutoHealing should be performed. In case of performing\nAutoHealing, VMs are deleted or created via Heat.\n\nThe FaultNotification interface can be alerted by multiple events.\nTo prevent invoking multiple heal operations to single VNF,\nthe FaultNotification requests to Tacker are packed for a configured\nperiod of time.\n\nImplements: blueprint support-autoheal-queue\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Ia5633c2b6571bc5364f0ccd344d81f1a10236096\n'}, {'number': 5, 'created': '2022-07-29 06:08:09.000000000', 'files': ['specs/zed/faultnotification-autoheal.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4c4778c37212e317c10064f691321ea5d7560a11', 'message': 'Support VNF AutoHeal triggered by FaultNotification\n\nThis spec provides an implementation for supporting AutoHealing using\nFaultNotification interface between Tacker and VIM.\n\nWhen fault events occur in VIM, VIM notifies fault event to Tacker\nvia the interface.\n\nTacker takes initiative of AutoHealing. According to configuration,\nTacker checks faultID attribute in the fault event and determines\nwhether AutoHealing should be performed. In case of performing\nAutoHealing, VMs are deleted or created via Heat.\n\nThe FaultNotification interface can be alerted by multiple events.\nTo prevent invoking multiple heal operations to single VNF,\nthe FaultNotification requests to Tacker are packed for a configured\nperiod of time.\n\nImplements: blueprint support-autoheal-queue\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: Ia5633c2b6571bc5364f0ccd344d81f1a10236096\n'}]",59,850457,4c4778c37212e317c10064f691321ea5d7560a11,29,6,5,33292,,,0,"Support VNF AutoHeal triggered by FaultNotification

This spec provides an implementation for supporting AutoHealing using
FaultNotification interface between Tacker and VIM.

When fault events occur in VIM, VIM notifies fault event to Tacker
via the interface.

Tacker takes initiative of AutoHealing. According to configuration,
Tacker checks faultID attribute in the fault event and determines
whether AutoHealing should be performed. In case of performing
AutoHealing, VMs are deleted or created via Heat.

The FaultNotification interface can be alerted by multiple events.
To prevent invoking multiple heal operations to single VNF,
the FaultNotification requests to Tacker are packed for a configured
period of time.

Implements: blueprint support-autoheal-queue
Signed-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>
Change-Id: Ia5633c2b6571bc5364f0ccd344d81f1a10236096
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/57/850457/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/faultnotification-autoheal.rst'],1,54cd18d0d1edca5695470246a70c1c663febfbcc,bp/support-autoheal-queue,"====================================================== Support VNF AutoHealing triggered by FaultNotification ====================================================== https://blueprints.launchpad.net/tacker/+spec/support-autoheal-queue Problem description =================== This spec provides an implementation for supporting AutoHealing using FaultNotification interface between Tacker and VIM. When fault events occur in VIM, VIM notifies fault event to Tacker via the interface. Tacker takes initiative of AutoHealing. According to configuration, Tacker checks faultID attribute in the fault event and determines whether AutoHealing should be performed. In case of performing AutoHealing, VMs are deleted or created via Heat [#Openstack_Heat]_. The FaultNotification interface can be alerted by multiple events. To prevent invoking multiple heal operations to single VNF, the FaultNotification requests to Tacker are packed for a configured period of time. Proposed change =============== The following changes are needed: #. Add support of RESTful API for FaultNotification between Tacker and VIM + POST `<configured URI prefix>/vnf_instances/{vnf_instance_id} /servers/{server_id}/notify` for notification of fault event from VIM to Tacker. + Support queueing and packing of multiple requests for above API. #. Add MgmtDriver support for FaultNotification destination handling + instantiate_end + Set FaultNotification destination URI with VIM via `<ServerNotifier URI prefix>/v2/{tenant_id}/ servers/{server_id}/alarms` for created VMs. + terminate_start + Delete alarmID via `<ServerNotifier URI prefix>/v2/{tenant_id} /servers/{server_id}/alarms/{alarm_id}` for deleted VMs. + scale_start + In case of Scale-in, delete alarmID via `<ServerNotifier URI prefix>/v2/{tenant_id} /servers/{server_id}/alarms/{alarm_id}` for deleted VMs. + scale_end + In case of Scale-out, set FaultNotification destination URI with VIM via `<ServerNotifier URI prefix>/v2/{tenant_id} /servers/{server_id}/alarms` for added VMs. + heal_start + Delete alarmID via `<ServerNotifier URI prefix>/v2/{tenant_id} /servers/{server_id}/alarms/{alarm_id}` for failure VMs. + heal_end + Set FaultNotification destination URI with VIM via `<ServerNotifier URI prefix>/v2/{tenant_id} /servers/{server_id}/alarms` for added VMs. AutoHeal VNF on FaultNotification trigger ----------------------------------------- AutoHealing is mainly composed of two services. The Server Notifier is a monitoring service that may have dedicated interfaces implemented by each operators, thus it is not included in Tacker. When the Server Notifier detects fault events in VIM, it will send FaultNotification to Tacker. Within the Tacker, VnfServerNotificationController has external interface of RESTful API. VnfServerNotificationDriver decides whether AutoHealing should be performed. After that, it is almost same as manual healing that is performed by VnfLcmDriverV2. Design of AutoHealing operation on FaultNotification trigger ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following is a schematic diagram of AutoHealing on FaultNotification trigger: .. code-block:: console +------------------------+ | | | Client (NFVO) <--------+ | | | +------------------------+ | 8,18.POST VnfLcmOperationOccurrenceNotification | 9.POST grants +-----------------------------------|-------------------------------------------+ | | VNFM | | +-------------------------+ +----|----------------------------+ | | | Tacker | | | Tacker | | | | Server | | | Conductor | | | | | | +-+-------------+ | | | | | | | NfvoClient | | | | | | | +-^-------------+ | | | | | | | | | | | +--------------+ | | +-+-------------+ | | | | | Vnflcm +---------> ConductorV2 | | | | | | ControllerV2 <--+ | | +-+-^---+-------+ | | | | +--------------+ | | | | | | | | 4.POST | | 7.perform | | | | | | +--+ 6.check faultID,| | <configured URI prefix> | | healing | | | | | | | | pack multiple | | /vnf_instances | | | | | | | | | | requests | | /{vnf_instance_id} | | +--------------+ | | | | | +-v-+--v--------+ | +--------+ | /servers | | | VnfServer | +------------+ VnfServer +------------> Tacker | | /{server_id}/notify | | | Notification | | | | | | Notification | +-------> DB | | +-----------------------> Controller +-------------+ | Driver | | | +--------+ | | | | +--------------+ | | | +---------------+ | | 2,17.Save | | | | 5.post | | | | | parameters | | | | notification | | | | | 12.Delete | | | | | | | | | parameters | | | | | | | +--------------+ | | | | | | | | +----> VnfLcm +----+ | | | | | | | | DriverV2 | | | | | | | | +----+------+--+ | | | | | | | 10.heal_start| | | | | | | | | 15.heal_end | | | | | | | | | +----------v-+ +--v---------+ | | | | | | | | Mgmt | | Infra | | | | | | | | | Driver | | Driver | | | | | | | | +----+-------+ +---+--------+ | | | | +-------------------------+ +--------|-------------|----------+ | | +---------------------------------------|-------------|-------------------------+ | +----------------------------------------------+ | +------|-------|------------------------------------------------------------|--------------+ | | | 1,16.Set FaultNotification destination URI | VIM/NFVI | | | | 11.Delete alarmID | | | | | +---------------+--------+ | | | | 13.Delete failed VNF | | 14.Create new VNF | | +--+-------v--+ +--------v----+ +------v------+ | | | Server | 3.Detects fault event | +--------+ | | +--------+ | | | | Notifier +-------------------------> VNF | | | | VNF | | | | | | | +--------+ | | +--------+ | | | | | | VM | | VM | | | +-------------+ +-------------+ +-------------+ | +------------------------------------------------------------------------------------------+ * ``1-2.`` Tacker sets FaultNotification destination URI and faultIDs to VIM for each VM when a VNF is instantiated (see note 1.). In return, an alarmID is obtained. Then, ServerNotifier URI and faultIDs are saved on ``VnfInstance.metadata``, and obtained alarmID is saved on ``VnfInstance.instantiatedVnfInfo.vnfcResourceInfo.metadata``. * ``3.`` Server Notifier watches and detects fault events on VNF. * ``4-5.`` Server Notifier notifies fault event to Tacker via the FaultNotification interface. VnfServerNotificationController forwards the notification to VnfServerNotificationDriver via ConductorV2. * ``6.`` VnfServerNotificationDriver checks if its faultID attribute is included in faultIDs being set in term 1 above. In case of alerting by multiple events, to prevent invoking multiple heal operations to single VNF, the fault events are packed into a single heal request for a configured period of time (see note 2.). * ``7-9.`` The remaining process is same as the manual healing. VnfLcmDriverV2 sends VnfLcmOperationOccurrenceNotification and grants to the Client. This process is specified in [#spec_lcm_y]_, [#spec_lcm_v]_. * ``10-12.`` Tacker deletes alarmID for new VNF. It also removes alarmID on DB (``VnfInstance.instantiatedVnfInfo.vnfcResourceInfo.metadata``) at the same time. * ``13-14.`` Failed VNF is deleted and new VNF is created. This process is performed by Heat interface of Openstack [#Openstack_Heat]_. * ``15-17.`` Tacker sets FaultNotification destination URI for new VNF. It saves alarmID on DB (``VnfInstance.instantiatedVnfInfo.vnfcResourceInfo.metadata``). at the same time. * ``18.`` VnfLcmDriverV2 sends VnfLcmOperationOccurrenceNotification to the Client. This process is specified in [#spec_lcm_y]_, [#spec_lcm_v]_. .. note:: #. ServerNotifier URI and faultIDs are set in ``InstantiateVnfRequest.additionalParams`` field of VNF LCM interface. (see `REST API impact`_) This additionalParams field is defined as key/value pair in ETSI NFV-SOL003 v3.3.1 [#SOL003_v3.3.1]_ #. When a single VNF raises multiple fault events for its VNFCs at a moment, Tacker targets these VNFCs and performs healing all at once. In this healing operation, ``HealVnfRequest.vnfcInstanceId`` includes all these VNFCs. So that, VnfLcmOperationOccurrenceNotification and grants are performed only once. Request parameters for AutoHealing operation on FaultNotification trigger ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The detail of API is described at `REST API impact`_. Sequence for AutoHealing operation on FaultNotification trigger ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following describes the processing flow of the AutoHealing triggered by FaultNotification. .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; NFVO VnflcmControllerV2 VnfServerNotificationController NfvoClient ConductorV2 VnfServerNotificationDriver VnfLcmDriverV2 MgmtDriver InfraDriver ServerNotifier VNF ""VnfServerNotificationDriver"" -> ""ServerNotifier"" [style=none] ""ServerNotifier"" => ""VNF"" [label = ""1. Fault events occurred in VNF""] ""ServerNotifier"" -> ""VnfServerNotificationController"" [label = ""2. POST <configured URI prefix>/vnf_instances/{vnf_instance_id}/servers/{server_id}/notify"", note=""Multiple events \ncan be reported at the same time.\n This is ignored if faultID is invalid.""] ""VnfServerNotificationController"" -> ""ConductorV2"" [label = ""3. notify fault event""] ""ConductorV2"" -> ""VnfServerNotificationDriver"" [label = ""4. fault event""] ""ServerNotifier"" <-- ""VnfServerNotificationController"" [label = ""Response: 204""] ""VnfServerNotificationDriver"" -> ""VnfServerNotificationDriver"" [label = ""5. Queueing fault event""] ""VnfServerNotificationDriver"" -> ""VnfServerNotificationDriver"" [label = ""6. start packing timer""] ""ConductorV2"" <-- ""VnfServerNotificationDriver"" [label = ""return""] ""VnfServerNotificationController"" <-- ""ConductorV2"" [style=none] ""ServerNotifier"" -> ""VnfServerNotificationController"" [label = ""7. POST <configured URI prefix>/vnf_instances/{vnf_instance_id}/servers/{server_id}/notify"", note=""This is ignored if faultID is invalid.""] ""VnfServerNotificationController"" -> ""ConductorV2"" [label = ""8. notify fault event""] ""ConductorV2"" -> ""VnfServerNotificationDriver"" [label = ""9. fault event""] ""ServerNotifier"" <-- ""VnfServerNotificationController"" [label = ""Response: 204""] ""VnfServerNotificationDriver"" -> ""VnfServerNotificationDriver"" [label = ""10. Queueing fault event""] ""ConductorV2"" <-- ""VnfServerNotificationDriver"" [label = ""return""] ""VnfServerNotificationController"" <-- ""ConductorV2"" [style=none] ""ServerNotifier"" -> ""VnfServerNotificationController"" [label = ""11. POST <configured URI prefix>/vnf_instances/{vnf_instance_id}/servers/{server_id}/notify"", note=""This is ignored if faultID is invalid.""] ""VnfServerNotificationController"" -> ""ConductorV2"" [label = ""12. notify fault event""] ""ConductorV2"" -> ""VnfServerNotificationDriver"" [label = ""13. fault event""] ""ServerNotifier"" <-- ""VnfServerNotificationController"" [label = ""Response: 204""] ""VnfServerNotificationDriver"" -> ""VnfServerNotificationDriver"" [label = ""14. Queueing fault event""] ""ConductorV2"" <-- ""VnfServerNotificationDriver"" [label = ""return""] ""VnfServerNotificationController"" <-- ""ConductorV2"" [style=none] ""VnfServerNotificationDriver"" -> ""VnfServerNotificationDriver"" [label = ""15. packing timer is expired""] ""VnfServerNotificationDriver"" <-- ""ServerNotifier"" [style=none] ""VnfServerNotificationDriver"" -> ""VnfServerNotificationDriver"" [label = ""16. Multiple events are packed for a configured period of time""] ""VnfServerNotificationDriver"" -> ""VnflcmControllerV2"" [label = ""17. POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/heal""] ""VnflcmControllerV2"" -> ""ConductorV2"" [label = ""18. start_lcm_op""] ""VnfServerNotificationDriver"" <-- ""VnflcmControllerV2"" [label = ""Response: 202""] ""ConductorV2"" -> ""NfvoClient"" [label = ""19. send_lcmocc_notification""] ""NfvoClient"" -> ""NFVO"" [label=""20. POST /VnfLcmOperationOccurrenceNotification(STARTING)""] ""NfvoClient"" <-- ""NFVO"" [label=""Response: 204""] ""ConductorV2"" <-- ""NfvoClient"" [label=""return""] ""ConductorV2"" -> ""NfvoClient"" [label = ""21. grant""] ""NfvoClient"" -> ""NFVO"" [label=""22. POST /grants""] ""NfvoClient"" <-- ""NFVO"" [label=""Response: 201""] ""ConductorV2"" <-- ""NfvoClient"" [label=""return""] ""ConductorV2"" -> ""NfvoClient"" [label = ""23. send_lcmocc_notification""] ""NfvoClient"" -> ""NFVO"" [label=""24. POST /VnfLcmOperationOccurrenceNotification(PROCESSING)""] ""NfvoClient"" <-- ""NFVO"" [label=""Response: 204""] ""ConductorV2"" <-- ""NfvoClient"" [label=""return""] ""ConductorV2"" -> ""VnfLcmDriverV2"" [label=""25. perform healing""] ""VnfLcmDriverV2"" -> ""MgmtDriver"" [label=""26. heal_start""] ""MgmtDriver"" -> ""VNF"" [label=""27. DELETE v2/{tenant_id}/servers/{server_id}/alarms/{alarm_id}""] ""MgmtDriver"" <-- ""VNF"" [label=""Response: 204""] ""VnfLcmDriverV2"" <-- ""MgmtDriver"" [label=""return""] ""VnfLcmDriverV2"" -> ""InfraDriver"" [label = ""28. heal""] ""InfraDriver"" -> ""VNF"" [label=""29. Mark resource unhealthy via Heat""] ""InfraDriver"" <-- ""VNF"" [label=""return""] ""InfraDriver"" -> ""VNF"" [label=""30. Update stack via Heat""] ""InfraDriver"" <-- ""VNF"" [label=""return""] ""InfraDriver"" -> ""VNF"" [label=""31. Get updated resource data via Heat""] ""InfraDriver"" <-- ""VNF"" [label=""return""] ""VnfLcmDriverV2"" <-- ""InfraDriver"" [label=""return""] ""VnfLcmDriverV2"" -> ""MgmtDriver"" [label=""32. heal_end""] ""MgmtDriver"" -> ""VNF"" [label=""33. POST v2/{tenant_id}/servers/{server_id}/alarms""] ""MgmtDriver"" <-- ""VNF"" [label=""Response: 201""] ""VnfLcmDriverV2"" <-- ""MgmtDriver"" [label=""return""] ""ConductorV2"" <-- ""VnfLcmDriverV2"" [label=""return""] ""ConductorV2"" -> ""NfvoClient"" [label = ""34. send_lcmocc_notification""] ""NfvoClient"" -> ""NFVO"" [label=""35. POST /VnfLcmOperationOccurrenceNotification(COMPLETED)""] ""NfvoClient"" <-- ""NFVO"" [label=""Response: 204""] ""ConductorV2"" <-- ""NfvoClient"" [label=""return""] ""VnflcmControllerV2"" <-- ""ConductorV2"" [style=none] } * ``1.`` ServerNotifier watches and detects fault events on VNF. * ``2-5.`` VNF notifies fault event to Tacker via the FaultNotification interface. Tacker ignores it when faultID is invalid. fault events are queued temporarily. * ``6-14.`` In case of alerting by multiple events, fault events are packed into a single request for a configured period of time. * ``15-16.`` When timer expires, the fault events are packed into a single request. * ``17-18.`` VnfServerNotificationDriver requests healing to VnflcmControllerV2 and healing operations are started. * ``19-24.`` Tacker sends VnfLcmOperationOccurrenceNotification(STARTING,PROCESSING) to the Client and grants. This process is specified in [#spec_lcm_y]_, [#spec_lcm_v]_ * ``25.`` VnfLcmDriverV2 performs healing. .. note:: In this heal operation, ``additionalParams.all`` cannot be specified from users, thus only the VNFC itself (i.e. storages are not included) will be the target of heal operation. See [#spec_lcm_y]_ for the detail of behavior of ``additionalParams.all``. * ``26-27.`` Tacker deletes alarmID for new VNF. * ``28-31.`` Failed VNF is deleted and new VNF is created. This process is performed by Heat interface of Openstack [#Openstack_Heat]_. * ``32-33.`` Tacker sets FaultNotification destination URI for new VMs (see note). * ``34-35.`` Tacker sends VnfLcmOperationOccurrenceNotification(COMPLETE) to the Client. This process is specified in [#spec_lcm_y]_, [#spec_lcm_v]_. .. note:: * ServerNotifier URI and faultIDs are set in ``InstantiateVnfRequest.additionalParams`` field of VNF LCM interface. (see `REST API impact`_) This additionalParams field is defined as key/value pair in ETSI NFV-SOL003 v3.3.1 [#SOL003_v3.3.1]_ Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- VIM sends following RESTful API to notify fault event to Tacker. * | **Name**: Notify fault event | **Description**: notifies Tacker with fault event when a fault event occur in VIM. | **Method type**: POST | **URL for the resource**: <configured URI prefix>/vnf_instances/{vnf_instance_id} /servers/{server_id}/notify | **Path parameters**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Cardinality - Description * - <configured URI prefix> - 1 - Prefix of URI for notifying fault event on Tacker. This parameter is described ``fault_notification_uri`` in tacker.conf file. * - vnf_instance_id - 1 - VNF instance ID. * - server_id - 1 - VM ID. | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - ServerNotification - 1 - fault information to Tacker when a fault event occur in VIM. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (ServerNotification) - Data type - Cardinality - Description * - notification - Structure (inlined) - 1 - * - >host_id - Identifier - 0..1 - Physical server ID. Specified only in case that fault is occurred on physical server. * - >alarm_id - Identifier - 1 - ID to identify alarm. * - >fault_id - String - 1 - Target fault IDs * - >fault_type - String - 1 - Fault type. ""10"": Physical server fault, ""11"": Physical server OUS, ""20"": Inconsistency of VM status, ""21"": VM reboot detection. * - >fault_option - KeyValuePairs - 0..1 - Optional information for fault. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - 1 - Success: 204 - Shall be returned when ServerNotification has been accepted successfully. * - n/a - 1 - Error: 400 - Malformed request syntax. * - n/a - 1 - Error: 404 - The server can not find the requested resource. * - n/a - 1 - Error: 500 - The server has encountered a situation it does not know how to handle. * - n/a - 1 - Error: 503 - This error response means that the server, while working as a gateway to get a response needed to handle the request, got an invalid response. The LCM interface is modified to set parameters for ServerNotifier. * | **Name**: Instantiate VNF task | **Description**: This task resource represents the ""Instantiate VNF"" operation. The client can use this resource to instantiate a VNF instance. ``Only the additionalParams for FaultNotification are described here``. | **Method type**: POST | **URL for the resource**: /vnflcm/v2/vnf_instances/ {vnfInstanceId}/instantiate | **Request**: .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (InstantiateVnfRequest) - Data type - Cardinality - Description * - additionalParams - 0..1 - KeyValuePairs (inlined) - Additional input parameters for the instantiation process, specific to the VNF being instantiated. * - >ServerNotifierUri - 1 - String - Base Uri for ServerNotifier. The latter part of Uri (the part of ""v2/{tenant_id}/..."" as described in `Notifications impact`_) is added internally by Tacker, so only the first part should be set. * - >ServerNotifierFaultID - 1..N - String - List of string that indicates which type of alarms to detect. Security impact --------------- None Notifications impact -------------------- Tacker sends notifications below to set/unset ServerNotifier configuration: * | **Name**: Set FaultNotification destination URI from VNFM to VIM | **Description**: set FaultNotification destination URI from VNFM to VIM | **Method type**: POST | **URL for the resource**: v2/{tenant_id}/servers/{server_id}/alarms | **Path parameters**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Cardinality - Description * - tenant_id - 1 - tenant ID. * - server_id - 1 - VM ID. | **Request Header**: .. list-table:: :header-rows: 1 :widths: 18 50 * - Name - Description * - Authorization - Access token provided via Keystone | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - ServerNotificationRegisterRequest - 1 - URI and filter for Fault Management. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (ServerNotificationRegisterRequest) - Data type - Cardinality - Description * - fault_action - String - 0..1 - FaultNotification destination URI for fault occurrence. Either fault_action or recovery_action must be specified. * - recovery_action - String - 0..1 - FaultNotification destination URI for fault recovery. Either fault_action or recovery_action must be specified. (This attribute is for future use and is not used currently.) * - fault_id - String - 0..n - Target fault IDs. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - ServerNotificationRegisterResponse - 1 - Success: 201 - Shall be returned when ServerNotificationRegisterRequest has been registered successfully. * - n/a - 1 - Error: 400 - Malformed request syntax. * - n/a - 1 - Error: 404 - The server can not find the requested resource. * - n/a - 1 - Error: 408 - The server is shut down its connection. * - n/a - 1 - Error: 500 - The server has encountered a situation it does not know how to handle. * - n/a - 1 - Error: 503 - This error response means that the server, while working as a gateway to get a response needed to handle the request, got an invalid response. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (ServerNotificationRegisterResponse) - Data type - Cardinality - Description * - fault_action - String - 0..1 - FaultNotification destination URI for fault occurrence. Either fault_action or recovery_action must be specified. * - recovery_action - String - 0..1 - FaultNotification destination URI for fault recovery. Either fault_action or recovery_action must be specified. (This attribute is for future use and is not used currently.) * - fault_id - String - 0..n - Target fault IDs. * - alarm_id - Identifier - 1 - ID to identify alarm destination. * | **Name**: Delete alarmID from VNFM to VIM | **Description**: delete alarmID from VNFM to VIM | **Method type**: DELETE | **URL for the resource**: v2/{tenant_id}/servers/ {server_id}/alarms/{alarm_id} | **Path parameters**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Cardinality - Description * - tenant_id - 1 - tenant ID. * - server_id - 1 - VM ID. * - alarm_id - 1 - alarm ID. | **Request Header**: .. list-table:: :header-rows: 1 :widths: 18 50 * - Name - Description * - Authorization - Access token provided via Keystone | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - 1 - Success: 204 - Shall be returned when the registered resource has been deleted successfully. * - n/a - 1 - Error: 400 - Malformed request syntax. * - n/a - 1 - Error: 404 - The server can not find the requested resource. * - n/a - 1 - Error: 408 - The server is shut down its connection. * - n/a - 1 - Error: 500 - The server has encountered a situation it does not know how to handle. * - n/a - 1 - Error: 503 - This error response means that the server, while working as a gateway to get a response needed to handle the request, got an invalid response. .. note:: * When using above set/delete API, Access Token should be obtained via Keystone in advance for authentication. Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp> Other contributors: Koji Shimizu <shimizu.koji@fujitsu.com> Yoshiyuki Katada <katada.yoshiyuk@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Yusuke Niimi <niimi.yusuke@fujitsu.com> Work Items ---------- Implement Tacker to support: + Add new Rest API POST ``<configured URI prefix>/vnf_instances/{vnf_instance_id}/servers/{server_id}/notify`` to notify fault event to Tacker when a fault event occur in VIM. + Tacker sends POST ``v2/{tenant_id}/servers/{server_id}/alarms`` to set FaultNotification destination URI with VIM. + Tacker sends DELETE ``v2/{tenant_id}/servers/{server_id}/alarms/{alarm_id}`` to delete FaultNotification destination URI with VIM. + Add MgmtDriver support for FaultNotification destination URI handling: + instantiate_end to set FaultNotification destination URI and get alarmID. + terminate_start to delete alarmID. + scale_start to delete alarmID. + scale_end to set FaultNotification destination URI and get alarmID. + heal_start to delete alarmID. + heal_end set FaultNotification destination URI with VIM and get alarmID. Add new unit and functional tests. Dependencies ============ None. Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== * Complete user guide will be added to explain how to configure AutoHealing operation on FaultNotification trigger. * Update API documentation on the API additions mentioned in `REST API impact`_. References ========== .. [#Openstack_Heat] https://docs.openstack.org/heat/latest/ .. [#SOL003_v3.3.1] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf .. [#spec_lcm_y] https://specs.openstack.org/openstack/tacker-specs/specs/yoga/enhance-nfv-solv3-lcm-operation.html .. [#spec_lcm_v] https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-notification-api-based-on-etsi-nfv-sol.html ",,946,0
openstack%2Ftacker-specs~master~I90b0f5edac7632539a1acd793e2eac07a647c620,openstack/tacker-specs,master,I90b0f5edac7632539a1acd793e2eac07a647c620,Enhancement of CNF operations using Helm Chart,MERGED,2022-07-15 01:59:11.000000000,2022-07-29 08:12:29.000000000,2022-07-29 08:12:29.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-07-15 01:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f80cacd69afc8af5e4ff115f51cd7c75976ae4e7', 'message': 'Enhancement of CNF operations using Helm Chart\n\nThis specification focuses on enhancing Tacker’s Helm Chart handling.\n\n1. Supports the instantiationLevel parameter to determine\nthe initial number of Pods for v1 Instantiate.\n2. Supports CNF operations using Helm Chart in the v2 API.\n3. Enhances openstack vim register command and API\nto handle extra field.\n\nChange-Id: I90b0f5edac7632539a1acd793e2eac07a647c620\nImplements: blueprint support-instantiationlevel-cnf\nImplements: blueprint remove-cnf-restriction\n'}, {'number': 2, 'created': '2022-07-22 08:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e9f353438ac10904367acd0a3ed410899e19d585', 'message': 'Enhancement of CNF operations using Helm Chart\n\nThis specification focuses on enhancing Tacker’s Helm Chart handling.\n\n1. Supports the instantiationLevel parameter to determine\nthe initial number of Pods for v1 Instantiate.\n2. Supports CNF operations using Helm Chart in the v2 API.\n3. Enhances openstack vim register command and API\nto handle extra field.\n\nChange-Id: I90b0f5edac7632539a1acd793e2eac07a647c620\nImplements: blueprint support-instantiationlevel-cnf\nImplements: blueprint remove-cnf-restriction\n'}, {'number': 3, 'created': '2022-07-25 06:36:44.000000000', 'files': ['specs/zed/enhance-cnf-operations.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1150e8541979db8dfaa08d58afe0a2cec5d3a4ce', 'message': 'Enhancement of CNF operations using Helm Chart\n\nThis specification focuses on enhancing Tacker’s Helm Chart handling.\n\n1. Supports the instantiationLevel parameter to determine\nthe initial number of Pods for v1 Instantiate.\n2. Supports CNF operations using Helm Chart in the v2 API.\n3. Enhances openstack vim register command and API\nto handle extra field.\n\nChange-Id: I90b0f5edac7632539a1acd793e2eac07a647c620\nImplements: blueprint support-instantiationlevel-cnf\nImplements: blueprint remove-cnf-restriction\n'}]",50,849835,1150e8541979db8dfaa08d58afe0a2cec5d3a4ce,22,5,3,32581,,,0,"Enhancement of CNF operations using Helm Chart

This specification focuses on enhancing Tacker’s Helm Chart handling.

1. Supports the instantiationLevel parameter to determine
the initial number of Pods for v1 Instantiate.
2. Supports CNF operations using Helm Chart in the v2 API.
3. Enhances openstack vim register command and API
to handle extra field.

Change-Id: I90b0f5edac7632539a1acd793e2eac07a647c620
Implements: blueprint support-instantiationlevel-cnf
Implements: blueprint remove-cnf-restriction
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/35/849835/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/enhance-cnf-operations.rst'],1,f80cacd69afc8af5e4ff115f51cd7c75976ae4e7,bp/support-instantiationlevel-cnf,"============================================== Enhancement of CNF operations using Helm Chart ============================================== https://blueprints.launchpad.net/tacker/+spec/support-instantiationlevel-cnf https://blueprints.launchpad.net/tacker/+spec/remove-cnf-restriction Problem description =================== This specification focuses on enhancing Tacker's Helm Chart handling, as shown below. #. When deploying a CNF using the Helm Chart, the initial number of Pods should be determined by the ``instantiationLevel`` parameter. However, the current v1 LCM API for CNF ignores this parameter. [#MGMT_DRIVER_DEPLOY_K8S_AND_CNF_WITH_HELM_1]_ This specification supports the ``instantiationLevel`` parameter to determine the initial number of Pods. #. In the current implementation, only the v1 API supports the Instantiate/Terminate CNFs using the Helm Chart. This specification proposes supporting CNF operations using Helm Chart in the v2 API. #. In the case of building a Kubernetes cluster according to ""How to Install Helm to Kubernetes Cluster and Deploy CNF using Helm Chart"", [#MGMT_DRIVER_DEPLOY_K8S_AND_CNF_WITH_HELM_1]_ Tacker automatically configures MasterNode to use HelmChart and stores relevant access information in TackerDB. On the other hand, in the case of using an external Kubernetes cluster, access information needs to be set in Tacker DB manually. To remove this constraint, this specification enhances ``openstack vim register`` command and API to handle ``extra`` field. .. note:: The following is an example of manually registering access information of MasterNode to TackerDB. :: $ mysql mysql> use tacker; mysql> update vims set extra=json_object('helm_info', '{""masternode_ip"": [""129.152.76.187""], ""masternode_username"": ""root"", ""masternode_password"": ""root""}') where id=""355a5b1c-4b7b-410c-8e2c-9d099d1f14f1""; Proposed Change =============== .. _instantiation: Support instantiation level --------------------------- This specification proposes adding the process of calculating the number of VNFCs to be instantiated from the ``instantiationLevelId`` parameter and the ``replica count`` parameter defined in VNFD. Parameters for determining the number of pods to be started are described in the VNFD. The required parameters are listed below. [#ETSI-SOL001]_ * ``topology_template.policies.instantiation_levels`` (type: tosca.policies.nfv.InstantiationLevels) * ``topology_template.policies.vdu1_initial_delta`` (type: tosca.policies.nfv.VduInitialDelta) * ``topology_template.policies.vdu1_scaling_aspect_deltas`` (type: tosca.policies.nfv.VduScalingAspectDeltas) The logic for calculating the number of pods is as follows: #. Extract the value of ``scale_level`` corresponding to the ``instantiationLevelId`` described in instantiation_levels #. ""Number of Pods to Launch"" = ``vdu1_initial_delta`` + ( ``scale_level`` * ``vdu1_scaling_aspect_deltas`` ) The diagram below shows the CNF instantiation using Helm Chart. :: +------+ +------------+ | VNFD | | Helm Chart | | | | | +-+----+ ++-----------+ | | +-v-------v-+ +----------------------+ | | | Instantiate | | CSAR | | VNF request with | | | | instantiationLevelId | +-----+-----+ +----------------+-----+ | | +-----------------------+ +--------------+ | | CNF with Helm Chart | 1. Request with | | | | Helm Chart | | | | (with instantiationLevelId) +-------------------------------+ | +------+ +------+ | | | | | | | Pod | | Pod | | | +--v-------------------v--+ | | | | | | <--------------------+ | | | | | +------+ +------+ | | | | TackerServer | | | | | | | | | +-----------------------+ | | +------+------------------+ | | | | | +--------------------------------------------------------+ | +-------------------------+ | | Kubernetes cluster VNF | | | | | TackerConductor | | | | | | | | | | | +-----------------------+ +-----------------------+ | | | +---v---------------+ | | | | Worker | | Master | | | | | | VnflcmDriver | | | | | | | | | | | | | (V1/V2) | | | | | | | +--------------+--+ | | | | +---+---------------+ | | | | | | | kubelet | | | | | | | | | | | | +--------------^--+ | | | | +---v---------------+ | | | | | | | | | | | | Kubernetes | | | | | | | +--------------+--+ | | | | | InfraDriver | | | | | | | | Helm | | | | | | | | | | | | | +-----------------+ | | | | | +-------------+ | | | | | | | | Helm cli <-------------------------------+ Helm client | | | | | | | | +-----------------+ | | | | | +-------------+ | | | | | | | | Helm Repository | | | | | | | | | | | | | +-----------------+ | | 2. Send | | +-------------------+ | | | | | | | | Helm Chart | | | | | +-----------------------+ +-----------------------+ | files with | +-------------------------+ | | | Helm cli | | +--------------------------------------------------------+ via SSH +-------------------------------+ and deployment instructions #. TackerServer receives an Instantiate VNF request with the ``instantiationLevelId`` parameter. #. The KubernetesInfraDriver calculates the number of pods to launch from the ``InstantiationLevelId``, then send Helm Chart files with Helm cli via SSH. The KubernetesInfraDriver sends deployment instructions. Following sequence diagram describes CNF instantiation with Helm Chart: .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfLcmDriver(V1/V2)"" ""KubernetesInfraDriver"" ""TackerDB"" ""Kubernetes client"" ""Helm(MasterNode)"" Client -> ""Tacker-server"" [label = ""1. POST /vnf_instances/{vnfInstanceId}/instantiate with instantiationLevelId""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""2. trigger asynchronous task""]; Client <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; ""Tacker-conductor"" -> ""VnfLcmDriver(V1/V2)"" [label = ""3. execute VnfLcmDriver""]; ""VnfLcmDriver(V1/V2)"" -> ""KubernetesInfraDriver"" [label = ""4. execute KubernetesInfraDriver""]; ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""5. get package information""]; ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = ""return package information""]; ""KubernetesInfraDriver"" -> ""KubernetesInfraDriver"" [label = ""6. calculates the number of pods to launch from the InstantiationLevelId""]; ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""7. get MasterNode access information""]; ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = ""return MasterNode access information""]; ""KubernetesInfraDriver"" -> ""Helm(MasterNode)"" [label = ""8. send Helm Chart Files and deployment instructions""]; ""KubernetesInfraDriver"" <-- ""Helm(MasterNode)"" [label = """"]; ""KubernetesInfraDriver"" -> ""Helm(MasterNode)"" [label = ""9. get manifest information""] ""KubernetesInfraDriver"" <-- ""Helm(MasterNode)"" [label = ""return manifest information""] ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""10. save manifest information""] ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = """"]; ""KubernetesInfraDriver"" -> ""Kubernetes client"" [label = ""11. get pod status""]; ""KubernetesInfraDriver"" <-- ""Kubernetes client"" [label = ""return pod status""]; ""KubernetesInfraDriver"" -> ""TackerDB"" [label = ""12. save pod information""]; ""KubernetesInfraDriver"" <-- ""TackerDB"" [label = """"] ""VnfLcmDriver(V1/V2)"" <-- ""KubernetesInfraDriver"" [label = """"]; ""Tacker-conductor"" <-- ""VnfLcmDriver(V1/V2)"" [label = """"]; } #. Tacker-server receives an Instantiate VNF request with ``instantiationLevelId`` in its parameter. #. Tacker-server sends instantiate VNF request to Tacker-conductor. #. Tacker-conductor sends instantiate VNF request to VnfLcmDriver(V1/V2) #. VnfLcmDriver(V1/V2) sends a request to the KubernetesInfraDriver to apply deployment. #. KubernetesInfraDriver gets VNFPackage information from TackerDB. #. KubernetesInfraDriver calculates the number of Pods to launch according the logic described above. #. KubernetesInfraDriver gets MasterNode access information from TackerDB. #. KubernetesInfraDriver sends an instruction to deploy the Pod using Helm Chart with the calculated number of Pods as a parameter. #. KubernetesInfraDriver gets a manifest information from MasterNode. #. KubernetesInfraDriver saves a manifest information to TackerDB. #. KubernetesInfraDriver gets a pod information from KubernetesDB. #. KubernetesInfraDriver saves a pod information to TackerDB. Sample VNFD file ~~~~~~~~~~~~~~~~ The parameters for calculating the initial number of pods such as ``tosca.policies.nfv.InstantiationLevels`` defined by ETSI NFV-SOL001 [#ETSI-SOL001]_ are described in the VNFD. Following shows a sample VNFD file. .. code-block:: yaml tosca_definitions_version: tosca_simple_yaml_1_2 description: Sample CNF with helmchart imports: - etsi_nfv_sol001_common_types.yaml - etsi_nfv_sol001_vnfd_types.yaml - ipvlanpod1_vnfd_types.yaml topology_template: (Omit) node_templates: VNF: type: company.provider.VNF properties: flavour_description: A flavour for single resources VDU1: type: tosca.nodes.nfv.Vdu.Compute properties: name: ipvlanpod-ipvlanpod1 description: kubernetes resource as VDU1 vdu_profile: min_number_of_instances: 1 max_number_of_instances: 3 policies: (Omit) - vdu1_initial_delta: type: tosca.policies.nfv.VduInitialDelta properties: initial_delta: number_of_instances: 1 targets: [ VDU1 ] - vdu1_scaling_aspect_deltas: type: tosca.policies.nfv.VduScalingAspectDeltas properties: aspect: vdu1_aspect deltas: delta_1: number_of_instances: 1 targets: [ VDU1 ] - instantiation_levels: type: tosca.policies.nfv.InstantiationLevels properties: levels: instantiation_level_1: description: Smallest size scale_info: vdu1_aspect: scale_level: 0 instantiation_level_2: description: Largest size scale_info: vdu1_aspect: scale_level: 2 default_level: instantiation_level_1 Sample request parameters ~~~~~~~~~~~~~~~~~~~~~~~~~ ``InstantiateVnfRequest`` allows Client to specify the following common parameter for the v1 and v2 APIs. +------------------------+----------------------------------------------------+ | Attribute name | Parameter description | +========================+====================================================+ | instantiationLevelId | Set instantiation level for number of running Pod | +------------------------+----------------------------------------------------+ When using the Helm chart, The value of ``additionalParams.helm_replica_values`` needs to be contained in ``InstantiateVnfRequest``. This parameter indicates the parameter name of the number of pods described in the helm chart. Client have to specify it according to the Helm chart used in the LCM. Following shows a sample request body: .. code-block:: json { ""flavourId"": ""simple"", ""instantiationLevelId"": ""instantiation_level_1"", ""additionalParams"": { ""namespace"": ""default"", ""use_helm"": ""true"", ""using_helm_install_param"": [ { ""exthelmchart"": ""false"", ""helmreleasename"": ""vdu1"", ""helmparameter"": [ ""key1=value1"", ""key2=value2"" ], ""helmchartfile_path"": ""Files/kubernetes/localhelm-0.1.0.tgz"" } ], ""helm_replica_values"": { ""vdu1_aspect"": ""replicaCount"" } }, ""vimConnectionInfo"": [ { ""id"": ""817954e4-c321-4a31-ae06-cedcc4ddb85c"", ""vimId"": ""690edc6b-7581-48d8-9ac9-910c2c3d7c02"", ""vimType"": ""kubernetes"" } ] } Support CNF instantiate/terminate in v2 API using Helm Chart ------------------------------------------------------------ This specification proposes supporting the Helm chart in V2 API. .. note:: The v1 API for CNF Instantiate/Terminate operations using the Helm Chart has already been supported according to the specification, ""Support Helm Chart for Kubernetes VIM."" [#HELMCHART_K8S]_ v2 API architecture for using Helm Chart ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The v2 API has an architectural change from the v1 API. In the v1 API architecture, Helm is installed on Kubernetes master node and Tacker uses it via SSH. However, this architecture complicated the authentication process. It requires Tacker to manage two authentication points, Kubernetes for using API directly and its Host for SSH access. To address this issue, the v2 API architecture installs Helm inside VNFM. Since this change unifies the interface between VNFM and VIM into the Kubernetes API, it simplifies the authentication process. The following shows the each architecture. * v1 API architecture for using Helm Chart The diagram is described in previous section :ref:`Support instantiation level<instantiation>` * v2 API architecture for using Helm Chart :: +------+ +------------+ | VNFD | | Helm chart | | | | | +-+----+ ++-----------+ | | +-v-------v-+ +-----------------+ | | | Instantiation | | CSAR | | Request with | | | | additionalParam | +-----+-----+ +-----------+-----+ | | +-----------------------+ | 1. Request with | | CNF with Helm chart | | Helm chart | | | +--------------------------------------------------+ | +------+ +------+ | | Tacker Host | | | | | Pod | | Pod | | | +--v-------------------v--+ | | | | | | <--------------------+ | | | | | +------+ +------+ | | | | TackerServer | | | | | | | | | +-----------------------+ | | +------+------------------+ | | | | | +--------------------------------------------------------+ | +-------------------------+ | | Kubernetes cluster VNF | | | | | TackerConductor | | | | | | | | | | | +-----------------------+ +-----------------------+ | | | +---v---------------+ | | | | Worker | | Master | | | | | | VnflcmDriver | | | | | | | | | | | | | | | | | | | | | | | | | +---+---------------+ | | | | | | | | | | | | | | | | | | | | | | | +---v---------------+ | | | | | | | | | | 2. Operate Helm cli | | Kubernetes | | | | | | | +--------------+--+ | | | +--------------+--+ | | InfraDriver | | | | | | | | kube-apiserver <------------------------+ Helm | | | | | | | | | | | +-----------------+ | | | +-----------------+ | | +-v-----------+ | | | | | | | | | | | Helm cli <------+ Helm client | | | | | | | | | | | +-----------------+ | | +-------------+ | | | | | | | | | | | Helm Repository | | | | | | | | | | | | | +-----------------+ | +-------------------+ | | | | | | | | | | | | | +-----------------------+ +-----------------------+ | | +-------------------------+ | | | | | +--------------------------------------------------------+ +--------------------------------------------------+ Instantiate CNF for v2 API using Helm Chart ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The v2 API implementation follows the v1 API implementation including the following process: #. Check parameter #. Register Helm repository or send Helm Chart files #. Create container using Helm Chart #. Get resources information and register TackerDB Terminate CNF for v2 API using Helm Chart ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The v2 API implementation follows the v1 API implementation including the following process: #. Delete container using Helm Chart #. Delete Helm repository or delete Helm Chart files Support for vimConnectionInfo.extra field ----------------------------------------- This specification proposes adding following features. + Support the `openstack vim register` command with the config file (vim config) including ``extra`` parameter. It handles the `extra` field in the TackerDB. + Support the ``extra`` parameter specified in `InstantiateVnfRequest.vimConnectionInfo` when running CNF Instantiate with Helm chart in v1 API. Vim config sample ~~~~~~~~~~~~~~~~~ The following shows a sample configuration file (vim config) including the ``extra`` parameter for the `openstack vim register` command. .. code-block:: yaml auth_url: ""https://192.168.121.47:6443"" bearer_token: ""eyJhbGciOiJSUzI1NiIsImtpZCI6Ild2VTJCWDRMc2poR0hTSDhmNGMtMjRxdThkcUw4MlozbV9kcXNpRmg0bzQifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6ImRlZmF1bHQtdG9rZW4tbjk2bDIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiZGVmYXVsdCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjFjODZmNzZjLWEwZTktNDBhNC05ZjcyLTMwMGY4YzJjYzY2MyIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmRlZmF1bHQifQ.D0vcn61G9cdzQvruTisbhR3LLkMghj3fqQDs8KNgJifR_OpbgeLqHuHRxS-WA9yJ5pM8hmMNpyHi5_6BFVOnRnBTiNYgXwrVxBL7R62vXeeBeWlY_072SaDwutbXvCIXo4yl1MTqpWRl3YuoeAb_Js-HJA2gCavymTAFcESlt8EZDtp-AN4_QN1eIPGlQcWAfVrFP5xgIMpDZNFjWCS2n7TKNbXJ3U-vksZ8sBdBYqRtzmOHrJCI6KI85LmXKWCxo5KSsq54JsIj4iDjS-yL5MOQ-ClAVOAlnyMH-_EmkpO25LKhuYPCIUxSy6XddUv7-zR3-nNk9T9ifl5Rhy8B8w"" ssl_ca_cert: ""None"" project_name: ""default"" type: ""kubernetes"" extra: helm_info: masternode_ip: - ""192.168.121.47"" masternode_username: ""helm_user"" masternode_password: ""helm_pass"" Input Parameter sample ~~~~~~~~~~~~~~~~~~~~~~ The following shows a sample input parameters including the ``vimConnectionInfo.extra`` for the `openstack vnflcm instantiate` command. . .. code-block:: json { ""flavourId"": ""simple"", ""additionalParams"": { ""namespace"": ""default"", ""use_helm"": ""true"", ""using_helm_install_param"": [ { ""exthelmchart"": ""false"", ""helmreleasename"": ""vdu1"", ""helmparameter"": [ ""key1=value1"", ""key2=value2"" ], ""helmchartfile_path"": ""Files/kubernetes/localhelm-0.1.0.tgz"" } ], ""helm_replica_values"": { ""vdu1_aspect"": ""replicaCount"" } }, ""vimConnectionInfo"": [ { ""id"": ""817954e4-c321-4a31-ae06-cedcc4ddb85c"", ""vimId"": ""690edc6b-7581-48d8-9ac9-910c2c3d7c02"", ""vimType"": ""kubernetes"", ""extra"": { ""helm_info"": { ""masternode_ip"": [ ""192.168.121.47"" ], ""masternode_username"": ""helm_user"", ""masternode_password"": ""helm_pass"" } } } ] } Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp> Other contributors: Hideki Matsuda <matsuda.hideki1@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Yoshiyuki Katada <katada.yoshiyuk@fujitsu.com> Yusuke Niimi <niimi.yusuke@fujitsu.com> Work Items ---------- + Add new unit and functional tests. Dependencies ============ None Testing ======= Unit and functional tests will be added to cover cases required in this specification. Documentation Impact ==================== None References ========== .. [#MGMT_DRIVER_DEPLOY_K8S_AND_CNF_WITH_HELM_1] https://docs.openstack.org/tacker/latest/user/mgmt_driver_deploy_k8s_and_cnf_with_helm.html#check-results-of-instantiation-operations .. [#ETSI-SOL001] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/001/03.03.01_60/gs_NFV-SOL001v030301p.pdf .. [#HELMCHART_K8S] https://specs.openstack.org/openstack/tacker-specs/specs/xena/helmchart-k8s-vim.html ",,614,0
openstack%2Fopenstack-tempest-skiplist~master~I3eb72de43513afe347bcc1b895dc4861d031fa6d,openstack/openstack-tempest-skiplist,master,I3eb72de43513afe347bcc1b895dc4861d031fa6d,Skip swift tests - failing with latest ceph,MERGED,2022-07-28 16:52:00.000000000,2022-07-29 08:10:06.000000000,2022-07-29 08:09:03.000000000,"[{'_account_id': 8449}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-07-28 16:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/784159ae1cf8832f145226e2711c25285105fbbe', 'message': 'Skip swift tests - failing with latest ceph\n\nSkip these tests to run with latest ceph.\n\nChange-Id: I3eb72de43513afe347bcc1b895dc4861d031fa6d\nRelated-Bug: BZ2112000\n'}, {'number': 2, 'created': '2022-07-28 17:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/2034576e8c7634b4aa8eb8313dfefede163819e2', 'message': 'Skip swift tests - failing with latest ceph\n\nSkip these tests to run with latest ceph.\n\nChange-Id: I3eb72de43513afe347bcc1b895dc4861d031fa6d\nRelated-Bug: BZ2112000\n'}, {'number': 3, 'created': '2022-07-28 19:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/7bf86b7c054d6109a704f8675d846c3912a17439', 'message': 'Skip swift tests - failing with latest ceph\n\nSkip these tests to run with latest ceph.\n\nChange-Id: I3eb72de43513afe347bcc1b895dc4861d031fa6d\nRelated-Bug: BZ2112000\n'}, {'number': 4, 'created': '2022-07-28 21:31:24.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/820698e2438f4fc33762899d02c962ed6a1599bb', 'message': 'Skip swift tests - failing with latest ceph\n\nSkip these tests to run with latest ceph.\n\nChange-Id: I3eb72de43513afe347bcc1b895dc4861d031fa6d\nRelated-Bug: BZ2112000\n'}]",4,851438,820698e2438f4fc33762899d02c962ed6a1599bb,18,4,4,9976,,,0,"Skip swift tests - failing with latest ceph

Skip these tests to run with latest ceph.

Change-Id: I3eb72de43513afe347bcc1b895dc4861d031fa6d
Related-Bug: BZ2112000
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/38/851438/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,784159ae1cf8832f145226e2711c25285105fbbe,BZ2112000, - test: 'tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps' deployment: - 'overcloud' releases: - name: wallaby reason: RGW: Unauthorized bz: https://bugzilla.redhat.com/show_bug.cgi?id=2112000 jobs: - periodic-tripleo-ci-rhel-9-scenario004-standalone-rhos-17 - periodic-tripleo-ci-rhel-9-scenario004-standalone-cinder-rhos-17 - periodic-tripleo-ci-rhel-9-scenario004-standalone-common-rhos-17 - periodic-tripleo-ci-rhel-9-scenario004-standalone-glance-rhos-17 - periodic-tripleo-ci-rhel-9-scenario004-standalone-manila-rhos-17 - periodic-tripleo-ci-rhel-9-scenario004-standalone-tripleo-rhos-17,,14,0
openstack%2Ftripleo-quickstart~master~I74e6eaea4c7ec1ffabee2a1425d6da04313c15fe,openstack/tripleo-quickstart,master,I74e6eaea4c7ec1ffabee2a1425d6da04313c15fe,Update to latest c9-stream image,MERGED,2022-07-27 05:26:40.000000000,2022-07-29 07:50:26.000000000,2022-07-29 07:49:27.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-07-27 05:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b15cb4449adf36c88b82b28286e85db2a3bf6f0e', 'message': ""Update to latest c9-stream image\n\nWith old image kexec-tools update is failing, let's\nswitch to latest image to clear this.\n\nRelated-Bug: rhbz#2089871\nChange-Id: I74e6eaea4c7ec1ffabee2a1425d6da04313c15fe\n""}, {'number': 2, 'created': '2022-07-28 03:54:30.000000000', 'files': ['config/environments/standalone_centos_libvirt.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/76d5d481d8c9cb05e925c267f1a437effddfbafd', 'message': ""Update to latest c9-stream image\n\nWith old image kexec-tools update is failing, let's\nswitch to latest image to clear this.\n\nRelated-Bug: rhbz#2089871\nChange-Id: I74e6eaea4c7ec1ffabee2a1425d6da04313c15fe\n""}]",1,851157,76d5d481d8c9cb05e925c267f1a437effddfbafd,16,5,2,13861,,,0,"Update to latest c9-stream image

With old image kexec-tools update is failing, let's
switch to latest image to clear this.

Related-Bug: rhbz#2089871
Change-Id: I74e6eaea4c7ec1ffabee2a1425d6da04313c15fe
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/57/851157/2 && git format-patch -1 --stdout FETCH_HEAD,['config/environments/standalone_centos_libvirt.yml'],1,b15cb4449adf36c88b82b28286e85db2a3bf6f0e,bug/2089871,"undercloud_image_url: https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20220718.0.x86_64.qcow2 md5sum: ""545fe08e59074e6bbbc1f8f97c8dda06 CentOS-Stream-GenericCloud-9-20220718.0.x86_64.qcow2""","undercloud_image_url: https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20220531.0.x86_64.qcow2 md5sum: ""720feb900863b4eb9ae12f29608508e0 CentOS-Stream-GenericCloud-9-20220531.0.x86_64.qcow2""",2,2
openstack%2Fcharm-openstack-dashboard~master~If6fb3b57f05a1ab6342077d2142bd47cfce57948,openstack/charm-openstack-dashboard,master,If6fb3b57f05a1ab6342077d2142bd47cfce57948,Add enable_router config option,MERGED,2022-07-28 16:46:07.000000000,2022-07-29 07:24:11.000000000,2022-07-29 07:24:11.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 16:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/a01ef692210cd7c815137ecc523cfdc1d5b9cd03', 'message': ""Add enable_router config option\n\nThis patch adds an option of enabling/disabling router panel view\nin the horizon. To hide the router/floatin-ip panel, set the config\noption 'enable-router-panel=False'. Default value is True.\n\nCloses-Bug: #1966815\nChange-Id: If6fb3b57f05a1ab6342077d2142bd47cfce57948\n""}, {'number': 2, 'created': '2022-07-28 16:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/7c4b65945670973cd2b9894f913cc58d7705ce59', 'message': ""Add enable_router config option\n\nThis patch adds an option of enabling/disabling router panel view\nin the horizon. To hide the router/floatin-ip panel, set the config\noption 'enable-router-panel=False'. Default value is True.\n\nCloses-Bug: #1966815\nChange-Id: If6fb3b57f05a1ab6342077d2142bd47cfce57948\n""}, {'number': 3, 'created': '2022-07-28 17:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/8991df38fb0dd1762ddfeb855afd5db913b97d8d', 'message': ""Add enable_router config option\n\nThis patch adds an option of enabling/disabling router panel view\nin the horizon. To hide the router/floatin-ip panel, set the config\noption 'enable-router-panel=False'. Default value is True.\n\nCloses-Bug: #1966815\nChange-Id: If6fb3b57f05a1ab6342077d2142bd47cfce57948\n""}, {'number': 4, 'created': '2022-07-28 18:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/1d6185c489909a663c8c4e6b8cfcbe56eb58f5c8', 'message': ""Add enable_router config option\n\nThis patch adds an option of enabling/disabling router panel view\nin the horizon. To hide the router/floatin-ip panel, set the config\noption 'enable-router-panel=False'. Default value is True.\n\nCloses-Bug: #1966815\nChange-Id: If6fb3b57f05a1ab6342077d2142bd47cfce57948\n""}, {'number': 5, 'created': '2022-07-28 18:57:20.000000000', 'files': ['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py', 'templates/stein/local_settings.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/af7a57d539183e64109f022260b4b278549c27f6', 'message': ""Add enable_router config option\n\nThis patch adds an option of enabling/disabling router panel view\nin the horizon. To hide the router/floatin-ip panel, set the config\noption 'enable-router-panel=False'. Default value is True.\n\nCloses-Bug: #1966815\nChange-Id: If6fb3b57f05a1ab6342077d2142bd47cfce57948\n""}]",3,851435,af7a57d539183e64109f022260b4b278549c27f6,18,3,5,35098,,,0,"Add enable_router config option

This patch adds an option of enabling/disabling router panel view
in the horizon. To hide the router/floatin-ip panel, set the config
option 'enable-router-panel=False'. Default value is True.

Closes-Bug: #1966815
Change-Id: If6fb3b57f05a1ab6342077d2142bd47cfce57948
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/35/851435/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'templates/stein/local_settings.py', 'config.yaml']",3,a01ef692210cd7c815137ecc523cfdc1d5b9cd03,bug/1966815, enable-router-panel: type: boolean default: True description: | This option can be used to toggle the Router/Floating-IP panel visibility in dashboard. Set True for visibility and False to hide.,,10,1
openstack%2Frequirements~stable%2Ftrain~I5cb38030dffd08e2e50ce47ec8aad0a7e6ad7740,openstack/requirements,stable/train,I5cb38030dffd08e2e50ce47ec8aad0a7e6ad7740,train-only: Pin setuptools in Python 3.6,MERGED,2022-07-14 01:31:29.000000000,2022-07-29 07:21:00.000000000,2022-07-29 07:21:00.000000000,"[{'_account_id': 8833}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-14 01:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5bd6fda00ba6188e2a9b241492e6613b3c8b358c', 'message': 'train-only: Pin setuptools in Python 3.6\n\nThis adds pin of setuptools for Python 3.6 following what was added for\nPython 3.7 by ef77a2ae95debb2be64598c1c624d5d4e08b4cdb .\n\nStory: 2010146\nTask: 45788\nChange-Id: I5cb38030dffd08e2e50ce47ec8aad0a7e6ad7740\n'}, {'number': 2, 'created': '2022-07-25 09:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5a9f79885fc00f9ca33608b28e723b342e713eb0', 'message': 'train-only: Pin setuptools in Python 3.6\n\nThis adds pin of setuptools for Python 3.6 following what was added for\nPython 3.7 by ef77a2ae95debb2be64598c1c624d5d4e08b4cdb .\n\nStory: 2010146\nTask: 45788\nChange-Id: I5cb38030dffd08e2e50ce47ec8aad0a7e6ad7740\n'}, {'number': 3, 'created': '2022-07-26 15:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f6de8237db531290d478e88d3b2e33971e91b8ab', 'message': 'train-only: Pin setuptools in Python 3.6\n\nThis adds pin of setuptools for Python 3.6 following what was added for\nPython 3.7 by ef77a2ae95debb2be64598c1c624d5d4e08b4cdb .\n\nStory: 2010146\nTask: 45788\nChange-Id: I5cb38030dffd08e2e50ce47ec8aad0a7e6ad7740\n'}, {'number': 4, 'created': '2022-07-28 23:06:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/09fcb76336303cd62e15e49eadc27ec32f3e9122', 'message': 'train-only: Pin setuptools in Python 3.6\n\nThis adds pin of setuptools for Python 3.6 following what was added for\nPython 3.7 by ef77a2ae95debb2be64598c1c624d5d4e08b4cdb .\n\nStory: 2010146\nTask: 45788\nChange-Id: I5cb38030dffd08e2e50ce47ec8aad0a7e6ad7740\n'}]",4,849767,09fcb76336303cd62e15e49eadc27ec32f3e9122,19,4,4,9816,,,0,"train-only: Pin setuptools in Python 3.6

This adds pin of setuptools for Python 3.6 following what was added for
Python 3.7 by ef77a2ae95debb2be64598c1c624d5d4e08b4cdb .

Story: 2010146
Task: 45788
Change-Id: I5cb38030dffd08e2e50ce47ec8aad0a7e6ad7740
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/849767/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5bd6fda00ba6188e2a9b241492e6613b3c8b358c,story/2010146,setuptools===57.5.0;python_version=='3.6',,1,0
openstack%2Fneutron-tempest-plugin~master~I1d8d72f656d6495249c96f63466b520c329b3176,openstack/neutron-tempest-plugin,master,I1d8d72f656d6495249c96f63466b520c329b3176,Update python testing as per zed cycle teting runtime,NEW,2022-07-25 07:02:56.000000000,2022-07-29 07:13:08.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-25 07:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0ffd63fe21820b3c45dcfe644435055ef4c3f766', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\nChange-Id: I1d8d72f656d6495249c96f63466b520c329b3176\n'}, {'number': 2, 'created': '2022-07-25 08:19:33.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a6b0abfde81b974d252e5f44366e2c1db630de5d', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I1d8d72f656d6495249c96f63466b520c329b3176\n'}]",4,850835,a6b0abfde81b974d252e5f44366e2c1db630de5d,9,4,2,35067,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I1d8d72f656d6495249c96f63466b520c329b3176
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/35/850835/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0ffd63fe21820b3c45dcfe644435055ef4c3f766,,python_requires = >=3.8 ,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,3,3
openstack%2Fansible-collections-openstack~master~I2f955519a7e8c782b1dab8f94f7a019ed384b81d,openstack/ansible-collections-openstack,master,I2f955519a7e8c782b1dab8f94f7a019ed384b81d,Refactored server and server_info modules,MERGED,2022-07-11 15:35:32.000000000,2022-07-29 07:12:16.000000000,2022-07-29 07:12:16.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-07-11 15:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/32eb93e6e37ef5cc84cb5b09c6fce3ec66ba5ea9', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior is confusing at\nleast. Our (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Closes story #2007893 [2].\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 2, 'created': '2022-07-11 17:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/001642a6907dc48d470b90f0ffc0cb03a1af81ca', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior is confusing at\nleast. Our (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Closes story #2007893 [2].\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 3, 'created': '2022-07-11 19:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9cddf17c8e950bd4b398cfdf470d9470c28f44e8', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior is confusing at\nleast. Our (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Closes story #2007893 [2].\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 4, 'created': '2022-07-12 05:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1327b851ae74c8d1e86c790d2502b4cabd57331a', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior is confusing at\nleast. Our (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Closes story #2007893 [2].\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 5, 'created': '2022-07-15 07:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4a15e7cb3c43d49f26324001f991f6713fbe26c8', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior is confusing at\nleast. Our (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Closes story #2007893 [2].\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 6, 'created': '2022-07-21 10:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3333d146366e89a862bee25a8b46f3cca10b0693', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior is confusing at\nleast. Our (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Closes story #2007893 [2].\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 7, 'created': '2022-07-22 07:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/673ebbc9b0df20ae21705d9b1111d426d9fa3539', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior causes issues\nwith existing servers [2]: Previously, when no 'security_groups'\nparameter was given, the server module would change existing\nservers to use the default security group, dropping all other\nsecurity groups assigned to the server.\nOur (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Now, when no security groups are given, then security\ngroups of an existing server will not be touched.\nCloses story #2007893 [2].\nNote, Nova will create a server in the default security group,\nif the security_groups parameter is omitted.\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSwitched attribute name 'userdata' with its alias 'user_data' to\nmatch openstacksdk's attribute names which are used e.g. in module\nresults. The previous attribute name 'userdata' is now used as an\nalias and 'user_data' is used as the attribute name to keep backward\ncompatibility.\n\nWait for server to get into 'ACTIVE' state when creating a server\nand attribute 'wait' has been set to true.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nAdded integration tests to check the update mechanism of the server\nmodule.\n\nFixed indentation in integration tests.\n\nEnsure proper creation and deletion of resources such as networks,\nsubnets and servers in integration tests of server_action module.\n\nRenamed ci/roles/server/defaults/main.yaml to main.yml, removing the\n'a' in the file extension to be consistent with other filenames.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 8, 'created': '2022-07-22 09:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ed592b8852e72cc9cc35ff35e1dd24bc04b4bac3', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior causes issues\nwith existing servers [2]: Previously, when no 'security_groups'\nparameter was given, the server module would change existing\nservers to use the default security group, dropping all other\nsecurity groups assigned to the server.\nOur (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Now, when no security groups are given, then security\ngroups of an existing server will not be touched.\nCloses story #2007893 [2].\nNote, Nova will create a server in the default security group,\nif the security_groups parameter is omitted.\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSwitched attribute name 'userdata' with its alias 'user_data' to\nmatch openstacksdk's attribute names which are used e.g. in module\nresults. The previous attribute name 'userdata' is now used as an\nalias and 'user_data' is used as the attribute name to keep backward\ncompatibility.\n\nWait for server to get into 'ACTIVE' state when creating a server\nand attribute 'wait' has been set to true.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nAdded integration tests to check the update mechanism of the server\nmodule.\n\nFixed indentation in integration tests.\n\nEnsure proper creation and deletion of resources such as networks,\nsubnets and servers in integration tests of server_action module.\n\nRenamed ci/roles/server/defaults/main.yaml to main.yml, removing the\n'a' in the file extension to be consistent with other filenames.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 9, 'created': '2022-07-22 18:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c3a4ca5fb1d71ad33e23c496ca48efab781f9be6', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior causes issues\nwith existing servers [2]: Previously, when no 'security_groups'\nparameter was given, the server module would change existing\nservers to use the default security group, dropping all other\nsecurity groups assigned to the server.\nOur (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Now, when no security groups are given, then security\ngroups of an existing server will not be touched.\nCloses story #2007893 [2].\nNote, Nova will create a server in the default security group,\nif the security_groups parameter is omitted.\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSwitched attribute name 'userdata' with its alias 'user_data' to\nmatch openstacksdk's attribute names which are used e.g. in module\nresults. The previous attribute name 'userdata' is now used as an\nalias and 'user_data' is used as the attribute name to keep backward\ncompatibility.\n\nWait for server to get into 'ACTIVE' state when creating a server\nand attribute 'wait' has been set to true.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nAdded integration tests to check the update mechanism of the server\nmodule.\n\nFixed indentation in integration tests.\n\nEnsure proper creation and deletion of resources such as networks,\nsubnets and servers in integration tests of server_action module.\n\nRenamed ci/roles/server/defaults/main.yaml to main.yml, removing the\n'a' in the file extension to be consistent with other filenames.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 10, 'created': '2022-07-26 07:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6f0f28490818ebf12be3b7fb677f4344b6ff6a5e', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior causes issues\nwith existing servers [2]: Previously, when no 'security_groups'\nparameter was given, the server module would change existing\nservers to use the default security group, dropping all other\nsecurity groups assigned to the server.\nOur (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Now, when no security groups are given, then security\ngroups of an existing server will not be touched.\nCloses story #2007893 [2].\nNote, Nova will create a server in the default security group,\nif the security_groups parameter is omitted.\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSwitched attribute name 'userdata' with its alias 'user_data' to\nmatch openstacksdk's attribute names which are used e.g. in module\nresults. The previous attribute name 'userdata' is now used as an\nalias and 'user_data' is used as the attribute name to keep backward\ncompatibility.\n\nWait for server to get into 'ACTIVE' state when creating a server\nand attribute 'wait' has been set to true.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nAdded integration tests to check the update mechanism of the server\nmodule.\n\nFixed indentation in integration tests.\n\nEnsure proper creation and deletion of resources such as networks,\nsubnets and servers in integration tests of server_action module.\n\nRenamed ci/roles/server/defaults/main.yaml to main.yml, removing the\n'a' in the file extension to be consistent with other filenames.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 11, 'created': '2022-07-26 07:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f0da67e6f65cc9d6b9254ac5db1c19490f31f327', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior causes issues\nwith existing servers [2]: Previously, when no 'security_groups'\nparameter was given, the server module would change existing\nservers to use the default security group, dropping all other\nsecurity groups assigned to the server.\nOur (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Now, when no security groups are given, then security\ngroups of an existing server will not be touched.\nCloses story #2007893 [2].\nNote, Nova will create a server in the default security group,\nif the security_groups parameter is omitted.\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSwitched attribute name 'userdata' with its alias 'user_data' to\nmatch openstacksdk's attribute names which are used e.g. in module\nresults. The previous attribute name 'userdata' is now used as an\nalias and 'user_data' is used as the attribute name to keep backward\ncompatibility.\n\nWait for server to get into 'ACTIVE' state when creating a server\nand attribute 'wait' has been set to true.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nAdded integration tests to check the update mechanism of the server\nmodule.\n\nFixed indentation in integration tests.\n\nEnsure proper creation and deletion of resources such as networks,\nsubnets and servers in integration tests of server_action module.\n\nRenamed ci/roles/server/defaults/main.yaml to main.yml, removing the\n'a' in the file extension to be consistent with other filenames.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 12, 'created': '2022-07-27 10:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c6b7a32b14764efe41f9914907d80a16d00997b3', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior causes issues\nwith existing servers [2]: Previously, when no 'security_groups'\nparameter was given, the server module would change existing\nservers to use the default security group, dropping all other\nsecurity groups assigned to the server.\nOur (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Now, when no security groups are given, then security\ngroups of an existing server will not be touched.\nCloses story #2007893 [2].\nNote, Nova will create a server in the default security group,\nif the security_groups parameter is omitted.\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSwitched attribute name 'userdata' with its alias 'user_data' to\nmatch openstacksdk's attribute names which are used e.g. in module\nresults. The previous attribute name 'userdata' is now used as an\nalias and 'user_data' is used as the attribute name to keep backward\ncompatibility.\n\nWait for server to get into 'ACTIVE' state when creating a server\nand attribute 'wait' has been set to true.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nAdded integration tests to check the update mechanism of the server\nmodule.\n\nFixed indentation in integration tests.\n\nEnsure proper creation and deletion of resources such as networks,\nsubnets and servers in integration tests of server_action module.\n\nRenamed ci/roles/server/defaults/main.yaml to main.yml, removing the\n'a' in the file extension to be consistent with other filenames.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 13, 'created': '2022-07-27 13:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/60de551e38f50ac717d9fa935f8b9256293fd8e7', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior causes issues\nwith existing servers [2]: Previously, when no 'security_groups'\nparameter was given, the server module would change existing\nservers to use the default security group, dropping all other\nsecurity groups assigned to the server.\nOur (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Now, when no security groups are given, then security\ngroups of an existing server will not be touched.\nCloses story #2007893 [2].\nNote, Nova will create a server in the default security group,\nif the security_groups parameter is omitted.\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSwitched attribute name 'userdata' with its alias 'user_data' to\nmatch openstacksdk's attribute names which are used e.g. in module\nresults. The previous attribute name 'userdata' is now used as an\nalias and 'user_data' is used as the attribute name to keep backward\ncompatibility.\n\nWait for server to get into 'ACTIVE' state when creating a server\nand attribute 'wait' has been set to true.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nAdded integration tests to check the update mechanism of the server\nmodule.\n\nFixed indentation in integration tests.\n\nEnsure proper creation and deletion of resources such as networks,\nsubnets and servers in integration tests of server_action module.\n\nRenamed ci/roles/server/defaults/main.yaml to main.yml, removing the\n'a' in the file extension to be consistent with other filenames.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 14, 'created': '2022-07-28 07:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/309cf88579be9c3500f7c390ed8ca49bd10768d9', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior causes issues\nwith existing servers [2]: Previously, when no 'security_groups'\nparameter was given, the server module would change existing\nservers to use the default security group, dropping all other\nsecurity groups assigned to the server.\nOur (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Now, when no security groups are given, then security\ngroups of an existing server will not be touched.\nCloses story #2007893 [2].\nNote, Nova will create a server in the default security group,\nif the security_groups parameter is omitted.\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSwitched attribute name 'userdata' with its alias 'user_data' to\nmatch openstacksdk's attribute names which are used e.g. in module\nresults. The previous attribute name 'userdata' is now used as an\nalias and 'user_data' is used as the attribute name to keep backward\ncompatibility.\n\nWait for server to get into 'ACTIVE' state when creating a server\nand attribute 'wait' has been set to true.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nAdded integration tests to check the update mechanism of the server\nmodule.\n\nFixed indentation in integration tests.\n\nEnsure proper creation and deletion of resources such as networks,\nsubnets and servers in integration tests of server_action module.\n\nRenamed ci/roles/server/defaults/main.yaml to main.yml, removing the\n'a' in the file extension to be consistent with other filenames.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 15, 'created': '2022-07-28 11:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4ca375d99508b4378b826387d4c61d71fe0b40fb', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior causes issues\nwith existing servers [2]: Previously, when no 'security_groups'\nparameter was given, the server module would change existing\nservers to use the default security group, dropping all other\nsecurity groups assigned to the server.\nOur (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Now, when no security groups are given, then security\ngroups of an existing server will not be touched.\nCloses story #2007893 [2].\nNote, Nova will create a server in the default security group,\nif the security_groups parameter is omitted.\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSwitched attribute name 'userdata' with its alias 'user_data' to\nmatch openstacksdk's attribute names which are used e.g. in module\nresults. The previous attribute name 'userdata' is now used as an\nalias and 'user_data' is used as the attribute name to keep backward\ncompatibility.\n\nWait for server to get into 'ACTIVE' state when creating a server\nand attribute 'wait' has been set to true.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nAdded integration tests to check the update mechanism of the server\nmodule.\n\nFixed indentation in integration tests.\n\nEnsure proper creation and deletion of resources such as networks,\nsubnets and servers in integration tests of server_action module.\n\nRenamed ci/roles/server/defaults/main.yaml to main.yml, removing the\n'a' in the file extension to be consistent with other filenames.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}, {'number': 16, 'created': '2022-07-28 19:56:42.000000000', 'files': ['plugins/modules/server_info.py', 'ci/roles/server/defaults/main.yml', '.zuul.yaml', 'ci/roles/server/defaults/main.yaml', 'plugins/modules/server_metadata.py', 'plugins/doc_fragments/openstack.py', 'plugins/modules/server.py', 'ci/roles/server/tasks/main.yml', 'ci/roles/server/tasks/server_actions.yml', 'plugins/module_utils/openstack.py', 'plugins/modules/volume.py', 'ci/roles/floating_ip/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ac401bb354c6a1d388848a3ebd18537beba080cc', 'message': ""Refactored server and server_info modules\n\nAllow to update server attributes such as its description.\n\nChanged default value of server attribute 'security_groups' from\n['default'] to [] because the latter is the default in\npython-openstackclient [1] and the former behavior causes issues\nwith existing servers [2]: Previously, when no 'security_groups'\nparameter was given, the server module would change existing\nservers to use the default security group, dropping all other\nsecurity groups assigned to the server.\nOur (undocumented) guideline when writing modules is to only\nadd or change what has been requested by the user and to stick to\ndefaults from openstacksdk and python-openstackclient whenever\npossible. Since we have to break backward compatibility with the\nnext release anyway, we take this opportunity to clean up this odd\nbehavior. Now, when no security groups are given, then security\ngroups of an existing server will not be touched.\nCloses story #2007893 [2].\nNote, Nova will create a server in the default security group,\nif the security_groups parameter is omitted.\n\nDropped 'openstack' field from server module's results. This\nvariable expanded to additional server information which might\nbe useful for Ansible inventories and was filled from\nopenstacksdk's get_openstack_vars() function [3]. Variables in\nthis function can make additional cloud queries to retrieve\nadditional data, so calling this function can be expensive [4].\nUsers can use *_info modules to retrieve this data on-demand.\n\nDropped 'availabity_zone' attribute from generic OpenStackModule\narguments and inserted it into server and volume modules because\nit is relevant to those two modules only. This is completes what\nwas started years ago [5] and is possible now since we have\nbreaking changes anyway.\n\nSwitched attribute name 'userdata' with its alias 'user_data' to\nmatch openstacksdk's attribute names which are used e.g. in module\nresults. The previous attribute name 'userdata' is now used as an\nalias and 'user_data' is used as the attribute name to keep backward\ncompatibility.\n\nWait for server to get into 'ACTIVE' state when creating a server\nand attribute 'wait' has been set to true.\n\nSorted argument specs and documentation of the server module and\nmarked attributes which are not updatable. Changed unstable bash\nscript example in server module documentation.\n\nRenamed server's module attribute 'delete_fip' to 'delete_ips' to\nmatch openstacksdk and clarify that it includes all floating ip\naddresses of the server.\n\nRenamed server_info's module attribute 'server' to 'name' and added\nthe former as an alias to be consistent with other *_info modules.\n\nAdded RETURN fields documentation for the module results of both\nserver and server_info modules.\n\nAdded description and examples of how to use the 'filters' attribute\nof the server_info module. Closes story #2007873 [6].\n\nRemoved 'openstack_' prefix from module results because the prefix is\nnot consistently used across modules, is more to type without any\nbenefit and removal of the prefix allows us to signal to users that\ntheir code for handling module results has to be updated. Many modules\nhave different return values with openstacksdk >= 0.99.0 because it\nconsistently uses resource proxies now.\n\nAdded assertions for module results to catch future changes in the\nopenstacksdk and our Ansible modules.\n\nAdded integration tests to check the update mechanism of the server\nmodule.\n\nFixed indentation in integration tests.\n\nEnsure proper creation and deletion of resources such as networks,\nsubnets and servers in integration tests of server_action module.\n\nRenamed ci/roles/server/defaults/main.yaml to main.yml, removing the\n'a' in the file extension to be consistent with other filenames.\n\nDropped deprecated function openstack_find_nova_addresses() and\nincorporated its code directly into the server module because it\nis not used anywhere else.\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070\n[2] https://storyboard.openstack.org/#!/story/2007893\n[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772\n[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482\n[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24\n[6] https://storyboard.openstack.org/#!/story/2007873\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d\n""}]",65,849423,ac401bb354c6a1d388848a3ebd18537beba080cc,76,6,16,32962,,,0,"Refactored server and server_info modules

Allow to update server attributes such as its description.

Changed default value of server attribute 'security_groups' from
['default'] to [] because the latter is the default in
python-openstackclient [1] and the former behavior causes issues
with existing servers [2]: Previously, when no 'security_groups'
parameter was given, the server module would change existing
servers to use the default security group, dropping all other
security groups assigned to the server.
Our (undocumented) guideline when writing modules is to only
add or change what has been requested by the user and to stick to
defaults from openstacksdk and python-openstackclient whenever
possible. Since we have to break backward compatibility with the
next release anyway, we take this opportunity to clean up this odd
behavior. Now, when no security groups are given, then security
groups of an existing server will not be touched.
Closes story #2007893 [2].
Note, Nova will create a server in the default security group,
if the security_groups parameter is omitted.

Dropped 'openstack' field from server module's results. This
variable expanded to additional server information which might
be useful for Ansible inventories and was filled from
openstacksdk's get_openstack_vars() function [3]. Variables in
this function can make additional cloud queries to retrieve
additional data, so calling this function can be expensive [4].
Users can use *_info modules to retrieve this data on-demand.

Dropped 'availabity_zone' attribute from generic OpenStackModule
arguments and inserted it into server and volume modules because
it is relevant to those two modules only. This is completes what
was started years ago [5] and is possible now since we have
breaking changes anyway.

Switched attribute name 'userdata' with its alias 'user_data' to
match openstacksdk's attribute names which are used e.g. in module
results. The previous attribute name 'userdata' is now used as an
alias and 'user_data' is used as the attribute name to keep backward
compatibility.

Wait for server to get into 'ACTIVE' state when creating a server
and attribute 'wait' has been set to true.

Sorted argument specs and documentation of the server module and
marked attributes which are not updatable. Changed unstable bash
script example in server module documentation.

Renamed server's module attribute 'delete_fip' to 'delete_ips' to
match openstacksdk and clarify that it includes all floating ip
addresses of the server.

Renamed server_info's module attribute 'server' to 'name' and added
the former as an alias to be consistent with other *_info modules.

Added RETURN fields documentation for the module results of both
server and server_info modules.

Added description and examples of how to use the 'filters' attribute
of the server_info module. Closes story #2007873 [6].

Removed 'openstack_' prefix from module results because the prefix is
not consistently used across modules, is more to type without any
benefit and removal of the prefix allows us to signal to users that
their code for handling module results has to be updated. Many modules
have different return values with openstacksdk >= 0.99.0 because it
consistently uses resource proxies now.

Added assertions for module results to catch future changes in the
openstacksdk and our Ansible modules.

Added integration tests to check the update mechanism of the server
module.

Fixed indentation in integration tests.

Ensure proper creation and deletion of resources such as networks,
subnets and servers in integration tests of server_action module.

Renamed ci/roles/server/defaults/main.yaml to main.yml, removing the
'a' in the file extension to be consistent with other filenames.

Dropped deprecated function openstack_find_nova_addresses() and
incorporated its code directly into the server module because it
is not used anywhere else.

[1] https://opendev.org/openstack/python-openstackclient/src/commit/e49ad1795b9dd57d5a82fb6f8f365fa20041cf29/openstackclient/compute/v2/server.py#L1070
[2] https://storyboard.openstack.org/#!/story/2007893
[3] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/_compute.py#L1772
[4] https://opendev.org/openstack/openstacksdk/src/commit/9e9fc9879583943a08f854980cca5dfb3a5832f7/openstack/cloud/meta.py#L482
[5] https://github.com/ansible/ansible/commit/9bf33e56dd49e9478ba091a1ba12d17b7caeac24
[6] https://storyboard.openstack.org/#!/story/2007873

Signed-off-by: Jakob Meng <code@jakobmeng.de>
Change-Id: I2f955519a7e8c782b1dab8f94f7a019ed384b81d
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/23/849423/16 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/server/tasks/main.yml', 'ci/roles/server/tasks/server_actions.yml', 'plugins/modules/server_info.py', 'plugins/module_utils/openstack.py', '.zuul.yaml', 'ci/roles/server/defaults/main.yaml', 'plugins/modules/server_metadata.py', 'plugins/doc_fragments/openstack.py', 'plugins/modules/server.py', 'plugins/modules/volume.py', 'ci/roles/floating_ip/tasks/main.yml']",11,32eb93e6e37ef5cc84cb5b09c6fce3ec66ba5ea9,server," - info.servers|length == 1 - info.servers.0.public_v4|length == 0 - info.servers.0.public_v6|length == 0 - info.servers.0.addresses.ansible_internal|length == 1 - info.servers.0.addresses.ansible_internal|map(attribute=""addr"")|sort|list == [""10.7.7.100""] - info.servers|length == 1 - info.servers.0.public_v4|length == 0 - info.servers.0.public_v6|length == 0 - info.servers.0.addresses.ansible_internal|length == 2 - info.servers.0.addresses.ansible_internal|map(attribute=""addr"")|sort|list == - info.servers.0.addresses.ansible_internal|length == 2 - info.servers.0.addresses.ansible_internal|map(attribute=""OS-EXT-IPS:type"")|sort|list == floating_ip_address: ""{{ (info.servers.0.addresses.ansible_internal| # does not list it any more in info.servers.0.addresses.ansible_internal, so retry if necessary. until: info.servers.0.addresses.ansible_internal|length == 1 - info.servers.0.addresses.ansible_internal|length == 1 - info.servers.0.addresses.ansible_internal|map(attribute=""addr"")|list == [""10.7.7.100""] - info.servers.0.addresses.ansible_internal|length == 3 - info.servers.0.addresses.ansible_internal|map(attribute=""OS-EXT-IPS:type"")|sort|list == until: info.servers.0.addresses.ansible_internal|length == 4 - info.servers.0.addresses.ansible_internal|length == 4 - (""10.6.6.150"" in info.servers.0.addresses.ansible_internal|map(attribute=""addr"")|sort|list) # does not list it any more in info.servers.0.addresses.ansible_internal, so retry if necessary. until: info.servers.0.addresses.ansible_internal|length == 3 - info.servers.0.addresses.ansible_internal|length == 3 floating_ip_address: ""{{ (info.servers.0.addresses.ansible_internal| # does not list it any more in info.servers.0.addresses.ansible_internal, so retry if necessary. until: info.servers.0.addresses.ansible_internal|length == 2 - info.servers.0.addresses.ansible_internal|length == 2 - info.servers.0.addresses.ansible_internal|map(attribute=""addr"")|list == [""10.7.7.101"", ""10.7.7.102""]"," - info.openstack_servers|length == 1 - info.openstack_servers.0.public_v4|length == 0 - info.openstack_servers.0.public_v6|length == 0 - info.openstack_servers.0.addresses.ansible_internal|length == 1 - info.openstack_servers.0.addresses.ansible_internal|map(attribute=""addr"")|sort|list == [""10.7.7.100""] - info.openstack_servers|length == 1 - info.openstack_servers.0.public_v4|length == 0 - info.openstack_servers.0.public_v6|length == 0 - info.openstack_servers.0.addresses.ansible_internal|length == 2 - info.openstack_servers.0.addresses.ansible_internal|map(attribute=""addr"")|sort|list == - info.openstack_servers.0.addresses.ansible_internal|length == 2 - info.openstack_servers.0.addresses.ansible_internal|map(attribute=""OS-EXT-IPS:type"")|sort|list == floating_ip_address: ""{{ (info.openstack_servers.0.addresses.ansible_internal| # does not list it any more in info.openstack_servers.0.addresses.ansible_internal, so retry if necessary. until: info.openstack_servers.0.addresses.ansible_internal|length == 1 - info.openstack_servers.0.addresses.ansible_internal|length == 1 - info.openstack_servers.0.addresses.ansible_internal|map(attribute=""addr"")|list == [""10.7.7.100""] - info.openstack_servers.0.addresses.ansible_internal|length == 3 - info.openstack_servers.0.addresses.ansible_internal|map(attribute=""OS-EXT-IPS:type"")|sort|list == until: info.openstack_servers.0.addresses.ansible_internal|length == 4 - info.openstack_servers.0.addresses.ansible_internal|length == 4 - (""10.6.6.150"" in info.openstack_servers.0.addresses.ansible_internal|map(attribute=""addr"")|sort|list) # does not list it any more in info.openstack_servers.0.addresses.ansible_internal, so retry if necessary. until: info.openstack_servers.0.addresses.ansible_internal|length == 3 - info.openstack_servers.0.addresses.ansible_internal|length == 3 floating_ip_address: ""{{ (info.openstack_servers.0.addresses.ansible_internal| # does not list it any more in info.openstack_servers.0.addresses.ansible_internal, so retry if necessary. until: info.openstack_servers.0.addresses.ansible_internal|length == 2 - info.openstack_servers.0.addresses.ansible_internal|length == 2 - info.openstack_servers.0.addresses.ansible_internal|map(attribute=""addr"")|list == [""10.7.7.101"", ""10.7.7.102""]",1306,565
openstack%2Fskyline-console~master~I33c6304d412b934dcca779613c83fc211722f0c6,openstack/skyline-console,master,I33c6304d412b934dcca779613c83fc211722f0c6,fix: Remove virtual resource about compute,ABANDONED,2021-11-12 03:14:56.000000000,2022-07-29 06:17:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 30356}, {'_account_id': 34458}, {'_account_id': 35102}, {'_account_id': 35103}]","[{'number': 1, 'created': '2021-11-12 03:14:56.000000000', 'files': ['src/pages/base/containers/AdminOverview/components/ResourceOverview.jsx', 'src/stores/overview-admin.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3170b594386a64252be67043179ab785554d6b9b', 'message': ""fix: Remove virtual resource about compute\n\ndue to server list api does not have 'count' attribute\nwe'd like to remove virtual resource about compute\n\nChange-Id: I33c6304d412b934dcca779613c83fc211722f0c6\n""}]",0,817669,3170b594386a64252be67043179ab785554d6b9b,8,6,1,33636,,,0,"fix: Remove virtual resource about compute

due to server list api does not have 'count' attribute
we'd like to remove virtual resource about compute

Change-Id: I33c6304d412b934dcca779613c83fc211722f0c6
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/69/817669/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/base/containers/AdminOverview/components/ResourceOverview.jsx', 'src/stores/overview-admin.js']",2,3170b594386a64252be67043179ab785554d6b9b,," // client.skyline.extension.servers({ limit: 10, all_projects: true }), // client.skyline.extension.servers({ // limit: 10, // all_projects: true, // status: 'ACTIVE', // }), // client.skyline.extension.servers({ // limit: 10, // all_projects: true, // status: 'ERROR', // }), // client.skyline.extension.servers({ // limit: 10, // all_projects: true, // status: 'SHUTOFF', // }), // allServers, // activeServers, // errorServers, // shutoffServers, // const { count: allServersCount } = allServers; // const { count: activeServersCount } = activeServers; // const { count: errorServersCount } = errorServers; // const { count: shutoffServersCount } = shutoffServers; // const serviceNum = { // all: allServersCount, // active: activeServersCount, // error: errorServersCount, // shutoff: shutoffServersCount, // other: // allServersCount - // (activeServersCount + errorServersCount + shutoffServersCount), // }; // this.virtualResource = { serviceNum, volumeNum }; this.virtualResource = { volumeNum };"," client.skyline.extension.servers({ limit: 10, all_projects: true }), client.skyline.extension.servers({ limit: 10, all_projects: true, status: 'ACTIVE', }), client.skyline.extension.servers({ limit: 10, all_projects: true, status: 'ERROR', }), client.skyline.extension.servers({ limit: 10, all_projects: true, status: 'SHUTOFF', }), allServers, activeServers, errorServers, shutoffServers, const { count: allServersCount } = allServers; const { count: activeServersCount } = activeServers; const { count: errorServersCount } = errorServers; const { count: shutoffServersCount } = shutoffServers; const serviceNum = { all: allServersCount, active: activeServersCount, error: errorServersCount, shutoff: shutoffServersCount, other: allServersCount - (activeServersCount + errorServersCount + shutoffServersCount), }; this.virtualResource = { serviceNum, volumeNum };",42,41
openstack%2Fdesignate~master~Id366a2d2b40367ada2aa5b1e3cc9ef615967216e,openstack/designate,master,Id366a2d2b40367ada2aa5b1e3cc9ef615967216e,Imported Translations from Zanata,MERGED,2022-07-28 03:02:34.000000000,2022-07-29 06:10:52.000000000,2022-07-29 06:09:47.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-07-28 03:02:34.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/designate/commit/9876b7b9357765e430833b149fe7480ddb005550', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id366a2d2b40367ada2aa5b1e3cc9ef615967216e\n'}]",0,851281,9876b7b9357765e430833b149fe7480ddb005550,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id366a2d2b40367ada2aa5b1e3cc9ef615967216e
",git fetch https://review.opendev.org/openstack/designate refs/changes/81/851281/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,9876b7b9357765e430833b149fe7480ddb005550,zanata/translations,"""POT-Creation-Date: 2022-06-25 06:02+0000\n""""PO-Revision-Date: 2022-07-19 09:55+0000\n""msgid ""10.0.2-2"" msgstr ""10.0.2-2"" msgid ""12.1.0"" msgstr ""12.1.0""msgid ""13.0.1"" msgstr ""13.0.1""msgid ""14.0.0-48"" msgstr ""14.0.0-48"" msgid ""14.0.1"" msgstr ""14.0.1""msgid ""Fixes support for keystone default roles and scoped tokens."" msgstr ""Fixes support for Keystone default roles and scoped tokens."" ""Removed the ``monascastatsd`` based metrics solution as all calls using it "" ""has been changed or removed and designate is no longer tracking any metrics "" ""using the metrics endpoint."" msgstr """" ""Removed the ``monascastatsd`` based metrics solution as all calls using it "" ""has been changed or removed and Designate is no longer tracking any metrics "" ""using the metrics endpoint."" msgid """"""The ``SECONDARY zone`` RPC calls were moved from the ``mdns`` service to "" ""``worker`` service. When upgrading multi-controller deployments we recommend "" ""that you restart the ``central`` and ``worker`` services first to move the "" ""``SECONDARY zone`` calls to the ``worker``, and once both services has been "" ""upgraded go ahead and restart the ``mdns`` service."" msgstr """" ""The ``SECONDARY zone`` RPC calls were moved from the ``mdns`` service to "" ""``worker`` service. When upgrading multi-controller deployments we recommend "" ""that you restart the ``central`` and ``worker`` services first to move the "" ""``SECONDARY zone`` calls to the ``worker``, and once both services have been "" ""upgraded go ahead and restart the ``mdns`` service."" msgid """"","""POT-Creation-Date: 2022-05-27 18:46+0000\n""""PO-Revision-Date: 2022-05-30 09:36+0000\n""msgid ""12.0.1-8"" msgstr ""12.0.1-8""msgid ""13.0.0-10"" msgstr ""13.0.0-10""msgid ""14.0.0-34"" msgstr ""14.0.0-34"" msgid ""14.0.0-6"" msgstr ""14.0.0-6""msgid ""Adds support for keystone default roles and scoped tokens."" msgstr ""Adds support for Keystone default roles and scoped tokens."" ",38,13
openstack%2Frequirements~master~I92490b268d2ec4c929d3fc716b33c1f510c3f050,openstack/requirements,master,I92490b268d2ec4c929d3fc716b33c1f510c3f050,Switch to jsonschema 4.7.2,ABANDONED,2022-07-13 16:25:37.000000000,2022-07-29 04:41:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-13 16:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7d6032747627bc1ebd753e03ff56e809e66010ef', 'message': 'Switch to jsonschema 4.7.2\n\nChange-Id: I92490b268d2ec4c929d3fc716b33c1f510c3f050\n'}, {'number': 2, 'created': '2022-07-15 15:25:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fa12055a86b3f02c2cfbb85f7d303eb317d61b2a', 'message': 'Switch to jsonschema 4.7.2\n\nChange-Id: I92490b268d2ec4c929d3fc716b33c1f510c3f050\n'}]",5,849717,fa12055a86b3f02c2cfbb85f7d303eb317d61b2a,13,1,2,6476,,,0,"Switch to jsonschema 4.7.2

Change-Id: I92490b268d2ec4c929d3fc716b33c1f510c3f050
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/849717/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7d6032747627bc1ebd753e03ff56e809e66010ef,,jsonschema===4.7.2,jsonschema===3.2.0,1,1
openstack%2Ftripleo-quickstart-extras~master~Id0f0bf0d9efb2136ae49b8475e80774dd0578230,openstack/tripleo-quickstart-extras,master,Id0f0bf0d9efb2136ae49b8475e80774dd0578230,Add option to specify the NovaHWMachineType,MERGED,2022-07-27 15:41:59.000000000,2022-07-29 04:36:04.000000000,2022-07-29 04:36:04.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2022-07-27 15:41:59.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2', 'roles/overcloud-deploy/templates/config-download.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bb07f124fb9d6a1b9de0583003fb7079c3a4c519', 'message': 'Add option to specify the NovaHWMachineType\n\nIf the specified default machine type is not\nsupported on the currently deployed OS, this\npatch adds the option to specify a parameter\nto override the default.\n\nRelated Bug: BZ: 2110535\n\nChange-Id: Id0f0bf0d9efb2136ae49b8475e80774dd0578230\n'}]",7,851237,bb07f124fb9d6a1b9de0583003fb7079c3a4c519,23,7,1,9976,,,0,"Add option to specify the NovaHWMachineType

If the specified default machine type is not
supported on the currently deployed OS, this
patch adds the option to specify a parameter
to override the default.

Related Bug: BZ: 2110535

Change-Id: Id0f0bf0d9efb2136ae49b8475e80774dd0578230
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/37/851237/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone/templates/standalone_config.yaml.j2', 'roles/overcloud-deploy/templates/config-download.yaml.j2']",2,bb07f124fb9d6a1b9de0583003fb7079c3a4c519,BZ2110535,# Set machine type if default is not supported on current OS # see https://bugzilla.redhat.com/show_bug.cgi?id=2110535 {% if nova_hw_machine_type is defined and nova_hw_machine_type %} NovaHWMachineType: {{ nova_hw_machine_type }} {% endif %},,10,0
openstack%2Ftripleo-quickstart~master~I8263858d9731bf7b3582a056a3aefc8b48a0379d,openstack/tripleo-quickstart,master,I8263858d9731bf7b3582a056a3aefc8b48a0379d,Run featureset027 job with tempest-allow,MERGED,2022-05-31 11:19:42.000000000,2022-07-29 03:33:11.000000000,2022-07-29 03:32:05.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-05-31 11:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/09fe88979b7bd43feabc7b68ebbd5395e7bcdb8d', 'message': 'Run featureset027 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nChange-Id: I8263858d9731bf7b3582a056a3aefc8b48a0379d\n'}, {'number': 2, 'created': '2022-05-31 11:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eae6c8063786e3da5a040c9ad494f9909aac4f68', 'message': 'Run featureset027 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nChange-Id: I8263858d9731bf7b3582a056a3aefc8b48a0379d\n'}, {'number': 3, 'created': '2022-05-31 12:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ad1f6a255c846683d490aabaff4800671d0436d5', 'message': 'Run featureset027 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/843870\nChange-Id: I8263858d9731bf7b3582a056a3aefc8b48a0379d\n'}, {'number': 4, 'created': '2022-06-02 09:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6f3f5bf6042f117fe0d7e3df21d14a1de8d7e324', 'message': 'Run featureset027 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/843870\nChange-Id: I8263858d9731bf7b3582a056a3aefc8b48a0379d\n'}, {'number': 5, 'created': '2022-06-02 10:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dba3e0630f1e2860751d4492a2d09407e7952822', 'message': 'Run featureset027 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nChange-Id: I8263858d9731bf7b3582a056a3aefc8b48a0379d\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/843870\n'}, {'number': 6, 'created': '2022-06-22 07:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c6dc383d24eb18ed98de7d210755e8e64255b135', 'message': 'Run featureset027 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nChange-Id: I8263858d9731bf7b3582a056a3aefc8b48a0379d\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/843870\n'}, {'number': 7, 'created': '2022-06-23 19:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/53489a06f63c76457276926bbfb9f8788badcfd1', 'message': 'Run featureset027 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nChange-Id: I8263858d9731bf7b3582a056a3aefc8b48a0379d\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/843870\n'}, {'number': 8, 'created': '2022-06-30 11:51:02.000000000', 'files': ['config/general_config/featureset027.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/70de0070bd4694a30e5f7c1d0ebbf5e6df50c59b', 'message': 'Run featureset027 job with tempest-allow\n\nThis patch replace the tempest_test_whitelist with tempest_allowed_group\nthat is to be used by tempest-allow.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/843870\nTesting here:- https://review.rdoproject.org/r/c/testproject/+/37159\nChange-Id: I8263858d9731bf7b3582a056a3aefc8b48a0379d\n'}]",19,844036,70de0070bd4694a30e5f7c1d0ebbf5e6df50c59b,71,7,8,30742,,,0,"Run featureset027 job with tempest-allow

This patch replace the tempest_test_whitelist with tempest_allowed_group
that is to be used by tempest-allow.

Depends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/843870
Testing here:- https://review.rdoproject.org/r/c/testproject/+/37159
Change-Id: I8263858d9731bf7b3582a056a3aefc8b48a0379d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/36/844036/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset027.yml'],1,09fe88979b7bd43feabc7b68ebbd5395e7bcdb8d,tempest_allow_list,"tempest_allowed_group: ""featureset027"" {% if release in ['train'] -%}tempest_allowed_group_check: >- featureset027_mistral featureset027_uc","tempest_test_whitelist: ""{{ tempest_whitelist }}"" {% if release in ['newton','ocata','pike','queens','stein','train'] -%}tempest_whitelist: >- {{ tempest_whitelist_mistral }} {{ tempest_whitelist_uc }}# default tempest tests for UC tempest_whitelist_uc: - 'tempest.api.identity' - 'tempest.api.network.test_networks' - 'tempest.api.network.test_networks_negative' - 'tempest.api.network.test_security_groups_negative' - 'tempest.api.network.test_ports' - 'tempest.api.network.test_routers_negative' # tempest tests for Mistral tempest_whitelist_mistral: - 'mistral_tempest_tests' ",5,18
openstack%2Ftripleo-common~master~I591345985ccbb8ebfdf9848104478ec1aadb4a7f,openstack/tripleo-common,master,I591345985ccbb8ebfdf9848104478ec1aadb4a7f,Fix ImageBuildManager initialization after BaseImageManager changes,MERGED,2022-07-26 16:11:57.000000000,2022-07-29 03:33:11.000000000,2022-07-29 03:32:03.000000000,"[{'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-07-26 16:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fb697986ac4ac2695c937845c062b7d22c1147bf', 'message': ""Fix ImageBuildManager initialization BaseImageManager changes\n\nBaseImageManager's init function used to take two arguments:\n'config_files' and 'images' in that order. Commit\n08a8118f1b26a170219c63feb8bb5f0b929028c3 added another one in between\nthe two, 'template_dir'.\n\nImageBuildManager inherits from BaseImageManager and calls its init\nfunction with 'config_files' and 'images' as positional arguments, which\nno longer works because 'images' is now the third argument. Therefore\nthe value passed as 'images' gets quietly written as 'template_dir'\ninstead.\n\nPassing 'images' as a keyword argument instead solves the issue.\n\nChange-Id: I591345985ccbb8ebfdf9848104478ec1aadb4a7f\n""}, {'number': 2, 'created': '2022-07-26 16:12:28.000000000', 'files': ['tripleo_common/image/build.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6939ec8b4691feedbda1d8f719f4d998ae0c6e04', 'message': ""Fix ImageBuildManager initialization after BaseImageManager changes\n\nBaseImageManager's init function used to take two arguments:\n'config_files' and 'images' in that order. Commit\n08a8118f1b26a170219c63feb8bb5f0b929028c3 added another one in between\nthe two, 'template_dir'.\n\nImageBuildManager inherits from BaseImageManager and calls its init\nfunction with 'config_files' and 'images' as positional arguments, which\nno longer works because 'images' is now the third argument. Therefore\nthe value passed as 'images' gets quietly written as 'template_dir'\ninstead.\n\nPassing 'images' as a keyword argument instead solves the issue.\n\nChange-Id: I591345985ccbb8ebfdf9848104478ec1aadb4a7f\n""}]",2,851047,6939ec8b4691feedbda1d8f719f4d998ae0c6e04,15,6,2,31581,,,0,"Fix ImageBuildManager initialization after BaseImageManager changes

BaseImageManager's init function used to take two arguments:
'config_files' and 'images' in that order. Commit
08a8118f1b26a170219c63feb8bb5f0b929028c3 added another one in between
the two, 'template_dir'.

ImageBuildManager inherits from BaseImageManager and calls its init
function with 'config_files' and 'images' as positional arguments, which
no longer works because 'images' is now the third argument. Therefore
the value passed as 'images' gets quietly written as 'template_dir'
instead.

Passing 'images' as a keyword argument instead solves the issue.

Change-Id: I591345985ccbb8ebfdf9848104478ec1aadb4a7f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/47/851047/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/build.py'],1,fb697986ac4ac2695c937845c062b7d22c1147bf,," super(ImageBuildManager, self).__init__(config_files, images=images)"," super(ImageBuildManager, self).__init__(config_files, images)",1,1
openstack%2Ftacker-specs~master~I16d1cdb29362b7e56ab7dbf92b1744cdc5145ede,openstack/tacker-specs,master,I16d1cdb29362b7e56ab7dbf92b1744cdc5145ede,Support FM/PM Interfaces and Auto LCM,MERGED,2022-07-20 06:11:22.000000000,2022-07-29 03:13:22.000000000,2022-07-29 03:12:09.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-07-20 06:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c4261c363ac7401df56ace5d9b726007b0317b0e', 'message': 'Support FM/PM Interfaces and Auto LCM\n\nThis spec provides some implementations for supporting AutoHeal and AutoScale\nwith external monitoring tools such as Prometheus.\nThe implementations includes ETSI NFV-SOL 002/003 v3.3.1 based\nFault Management / Performance Management interface\nand a sample implementation of Prometheus Plugin.\n\nImplements: blueprint support-auto-lcm\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: I16d1cdb29362b7e56ab7dbf92b1744cdc5145ede\n'}, {'number': 2, 'created': '2022-07-27 07:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/0b14da2e2e591fa4cf9841d4fc9cf0ed117b87e9', 'message': 'Support FM/PM Interfaces and Auto LCM\n\nThis spec provides some implementations for supporting AutoHeal\nand AutoScale with external monitoring tools such as Prometheus.\nThe implementations includes ETSI NFV-SOL 002/003 v3.3.1 based\nFault Management / Performance Management interface\nand a sample implementation of Prometheus Plugin.\n\nImplements: blueprint support-auto-lcm\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: I16d1cdb29362b7e56ab7dbf92b1744cdc5145ede\n'}, {'number': 3, 'created': '2022-07-27 08:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/136060b7d8413a8b75ebf9dd38792074b66f9ee5', 'message': 'Support FM/PM Interfaces and Auto LCM\n\nThis spec provides some implementations for supporting AutoHeal\nand AutoScale with external monitoring tools such as Prometheus.\nThe implementations includes ETSI NFV-SOL 002/003 v3.3.1 based\nFault Management / Performance Management interface\nand a sample implementation of Prometheus Plugin.\n\nImplements: blueprint support-auto-lcm\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: I16d1cdb29362b7e56ab7dbf92b1744cdc5145ede\n'}, {'number': 4, 'created': '2022-07-28 09:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e3ddb6e7f61d492bc58a563c67abdf1c9dacb55d', 'message': 'Support FM/PM Interfaces and Auto LCM\n\nThis spec provides some implementations for supporting AutoHeal\nand AutoScale with external monitoring tools such as Prometheus.\nThe implementations includes ETSI NFV-SOL 002/003 v3.3.1 based\nFault Management / Performance Management interface\nand a sample implementation of Prometheus Plugin.\n\nImplements: blueprint support-auto-lcm\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: I16d1cdb29362b7e56ab7dbf92b1744cdc5145ede\n'}, {'number': 5, 'created': '2022-07-28 09:24:33.000000000', 'files': ['specs/zed/prometheus-plugin-autoheal-and-autoscale.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/dac7a38042ac8b2c22ac10d97abc49bf6e98fab1', 'message': 'Support FM/PM Interfaces and Auto LCM\n\nThis spec provides some implementations for supporting AutoHeal\nand AutoScale with external monitoring tools such as Prometheus.\nThe implementations includes ETSI NFV-SOL 002/003 v3.3.1 based\nFault Management / Performance Management interface\nand a sample implementation of Prometheus Plugin.\n\nImplements: blueprint support-auto-lcm\nSigned-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>\nChange-Id: I16d1cdb29362b7e56ab7dbf92b1744cdc5145ede\n'}]",65,850452,dac7a38042ac8b2c22ac10d97abc49bf6e98fab1,21,5,5,33292,,,0,"Support FM/PM Interfaces and Auto LCM

This spec provides some implementations for supporting AutoHeal
and AutoScale with external monitoring tools such as Prometheus.
The implementations includes ETSI NFV-SOL 002/003 v3.3.1 based
Fault Management / Performance Management interface
and a sample implementation of Prometheus Plugin.

Implements: blueprint support-auto-lcm
Signed-off-by: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp>
Change-Id: I16d1cdb29362b7e56ab7dbf92b1744cdc5145ede
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/52/850452/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/prometheus-plugin-autoheal-and-autoscale.rst'],1,c4261c363ac7401df56ace5d9b726007b0317b0e,bp/support-auto-lcm,"======= |title| ======= .. |title| replace:: Support AutoHeal and AutoScale with External Monitoring Tools via FM/PM Interfaces https://blueprints.launchpad.net/tacker/+spec/support-auto-lcm Problem description =================== This spec provides some implementations for supporting AutoHeal and AutoScale with external monitoring tools such as Prometheus [#Prometheus]_. The implementations includes ETSI NFV-SOL 002 v3.3.1 [#SOL002_v3.3.1]_ and ETSI NFV-SOL 003 v3.3.1 [#SOL003_v3.3.1]_ based Fault Management / Performance Management interface and a sample implementation of Prometheus Plugin. The Fault Management and Performance Management interfaces are specified in ETSI NFV-SOL 002 v3.3.1 [#SOL002_v3.3.1]_ and ETSI NFV-SOL 003 v3.3.1 [#SOL003_v3.3.1]_, NFVO or EM takes the initiative in making decisions on healing or scaling. The Prometheus Plugin has a interface that is called from the External Monitoring Tool and supports data model conversion related to Prometheus monitoring data. .. note:: * If there are no special instructions, the Client described in this spec default to NFVO/EM, and VNFM default to Tacker. Proposed change =============== The following changes are needed: #. Add support for Fault Management interface specified in SOL002/003 + Add VNF Fault Management interface: + Get Alarm(s) + GET /vnffm/v1/alarms to get all alarms. + GET /vnffm/v1/alarms/{alarmId} to get the specified alarm. + Acknowledge Alarm + PATCH /vnffm/v1/alarms/{alarmId} to change target Alarm to be confirmed. + Subscribe + POST /vnffm/v1/subscriptions to create a new subscription. + Get Subscription(s) + GET /vnffm/v1/subscriptions to get all subscriptions. + GET /vnffm/v1/subscriptions/{subscriptionId} to get the specified subscription. + Delete Subscription + DELETE /vnffm/v1/subscriptions/{subscriptionId} to delete the specified subscription. + Send notification to Client + POST <Client URI from subscriptions> to notify Client that Tacker received an alarm. + GET <Client URI from subscriptions> to confirm that the URI of Client is correct. #. Add support for Performance Management interface specified in SOL002/003 + Add VNF Performance Management interface: + Create or Update a PM job + POST /vnfpm/v2/pm_jobs to create a PM job. + PATCH /vnfpm/v2/pm_jobs/{pmJobId} to update the specified PM job. + Get PM job(s) + GET /vnfpm/v2/pm_jobs to get all PM jobs. + GET /vnfpm/v2/pm_jobs/{pmJobId} to get the specified PM job. + Delete a PM job + DELETE /vnfpm/v2/pm_jobs/{pmJobId} to delete the specified PM job. + Get PM report + GET /vnfpm/v2/pm_jobs/{pmJobId}/reports/{reportId} to get the specified performance report. + Send notification to Client + POST <Client URI for notifications> to notify Client that Tacker received a PM related event. + GET <Client URI for notifications> to confirm that the URI of Client is correct. #. Add support of RESTful API for communications between Tacker and External Monitoring Tool + POST /alert to receive the FM alert sent from External Monitoring Tool. + POST /pm_event to receive the PM event sent from External Monitoring Tool. #. Create new DB tables + Create a new DB table for FM alarms. + Create a new DB table for FM subscription. + Create a new DB table for PM jobs. + Create a new DB table for PM reports. .. note:: * The External Monitoring Tool is a monitoring service. That is not included in Tacker. Operators implement the External Monitoring Tool. The External Monitoring Tool uses metrics service such as Prometheus and notifies FM/PM events using the Prometheus Plugin interface. Prometheus Plugin ------------------- The Prometheus Plugin is a sample implementation that operates Prometheus specific function such as converting from Prometheus specific data model to SOL002/003 [#SOL002_v3.3.1]_ [#SOL003_v3.3.1]_ compliant data model. The Prometheus Plugin is an optional feature. Tacker will decide whether to enable it according to the content of the configuration file. The detail of configuration file is described in [#Alert_server_for_Prometheus_with_Kubernetes_cluster_VNF_sample]_. AutoHeal on FM alert trigger ---------------------------- When the External Monitoring Tool detects that the CNF has failed, it will send alert messages to Tacker. Tacker will convert the alert to alarm and store it in the DB. NFVO/EM gets alarm periodically (Polling Mode) or triggered by notification (Notification Mode) via FM interface based on SOL002/003 [#SOL002_v3.3.1]_ [#SOL003_v3.3.1]_. The Polling Mode is a method in which NFVO/EM periodically inquiries about monitoring information from VNFM. and The Notification Mode is a method in which VNFM notifies NFVO/EM in the Subscribe/Notify subscription model. Design of heal operation in FM Polling Mode ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following is a schematic diagram of heal in Polling Mode: .. code-block:: console +------------------------+ | | | Client (NFVO/EM) | | | +--+---------+-----------+ 5. Heal | | 4. Get Alarms and return result +------|---------|------------------------------------------------------------+ | | | VNFM | | +---|---------|---------+ +---------------------------------+ | | | | | Tacker | | Tacker | | | | | | Server | | Conductor | | | | | +-----v------+ | | | +--------+ | | | | | VnfFm +------------------------------------------> Tacker | | +----------------+ | | | | Controller | | | +--------------+ | | DB | | | External | | | | +------------+ | | +------+ VnfFm +------------> | | | Monitoring | | | | | | | | Driver | | +--------+ | | Tool | 2. POST | | | | | | +--------------+ | | | (based on | alert | | | +------------+ | | | 3. Convert alert to alarm | | | Prometheus) +---------------------> Prometheus +-------+ | | +--+-------------+ | | | | Plugin | | | | | ^ | | | +------------+ | | | | | 1. Collect metrics | | | | | | | | | | | +------------+ | | +--------------+ | | | | | +---> Vnflcm +--------------> VmfLcmDriver +---+ | | | | | | Controller | | | +--------------+ | | | | | | +------------+ | | +---------v--+ | | | | | | | | Infra | | | | | | | | | Driver | | | | | | | | +----+-------+ | | | | +-----------------------+ +-----------------------|---------+ | | +----------------------------------------------------|------------------------+ | | | +----------------------------------------------------|------------+ | | CISM/CIS | | | | +---------------+-----------------+ | | | 6. Delete failed | | 7. Create new | | | CNF | | CNF | | | +--------v----+ +------v------+ +-------------+ | | | | +--------+ | | +--------+ | | | | +----------------------------------> | CNF | | | | CNF | | | | | | | +--------+ | | +--------+ | | | | | | Worker | | Worker | | Master | | | +-------------+ +-------------+ +-------------+ | +-----------------------------------------------------------------+ #. External Monitoring Tool collects metrics and decides whether triggering alert is needed or not. #. External Monitoring Tool sends POST request to `/alert/vnf_instances/{vnf_instance_id}`. #. Tacker receives informed alert, converts it to alarm, and saves it to Tacker DB. #. The Client sends a request at regular intervals to get the alarm in the Tacker. Tacker searches Tacker DB with the query condition specified by the Client, and returns the alarm that matches the condition to the Client. #. The Client recognizes the failure of the CNF from the alarm and sends a heal request to the Tacker. #. Heal operation is triggered, old CNF is deleted. #. New CNF is created. Request parameters for operation in FM Polling Mode ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The detail of API is described at `REST API impact`_. .. _sequence-fm-polling: Sequence for operation in FM Polling Mode ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following describes the processing flow of the Tacker after the External Monitoring Tool sends the alert. .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""External Monitoring Tool"" ""Prometheus-Plugin"" ""VnfFmDriver"" ""Tacker DB"" ""External Monitoring Tool"" -> ""Prometheus-Plugin"" [label = ""1. Send alert to the specified URI""]; ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""2. Check items of prometheus_plugin from cfg.CONF.tacker"", note = ""If prometheus_plugin is False, asynchronous task is over""]; ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""3. Determine whether the alert is AutoHeal or AutoScale"", note = ""If it is scale, refer to the processing flow of AutoScale""]; ""Prometheus-Plugin"" -> ""Tacker DB"" [label = ""4. Find the corresponding ComputeResource from the DB""]; ""Prometheus-Plugin"" <-- ""Tacker DB"" [label = ""InstantiatedVnfInfo.vnfcResourceInfo.computeResource""]; ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""5. Convert received alert to alarm""]; ""Prometheus-Plugin"" -> ""VnfFmDriver"" [label = ""6. Execute VnfFmDriver""]; ""VnfFmDriver"" -> ""Tacker DB"" [label = ""7. Save alarm to DB""]; ""VnfFmDriver"" <-- ""Tacker DB"" ""Prometheus-Plugin"" <-- ""VnfFmDriver"" } #. External Monitoring Tool detects fault event via Prometheus and inform the alert to specified URI(Tacker). #. Prometheus Plugin obtains values from ``cfg.CONF.tacker.prometheus_plugin`` to determine whether to enable this function. #. Prometheus Plugin judges what kind of action to be performed according to the ``function_type`` field of the labels in the alert. * When the ``labels.function_type`` is ``vnffm``, AutoHeal is performed. * When the ``labels.function_type`` is ``vnfpm``, AutoScale is performed. See :ref:`sequence-pm-operation`. #. Prometheus Plugin finds the corresponding CNF instance according to the value of the label in the alert. #. Prometheus Plugin converts the alert to an alarm. #. Prometheus Plugin calls VnfFmDriver and sends the alarm to it. #. VnfFmDriver saves the alarm in the DB. The following describes the Client's processing flow for Tacker using Polling Mode to AutoHeal. .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""VnfFmDriver"" ""Tacker DB"" ""Client"" -> ""Tacker-server"" [label = ""8. Get alarms""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""9. Trigger synchronization task""]; ""Tacker-conductor"" -> ""VnfFmDriver"" [label = ""10. Get alarms""]; ""VnfFmDriver"" -> ""Tacker DB"" [label = ""11. Get alarms from DB according to conditions""]; ""VnfFmDriver"" <-- ""Tacker DB"" [label = ""Alarms""]; ""Tacker-conductor"" <-- ""VnfFmDriver"" [label = ""Alarms""]; ""Tacker-server"" <-- ""Tacker-conductor"" [label = ""Alarms""]; ""Client"" <-- ""Tacker-server"" [label = ""Alarms""]; ""Client"" -> ""Client"" [label = ""12. Get VNFC information from alarm"", note = ""If no alarm is returned, the processing is over""]; ""Client"" -> ""Tacker-server"" [label = ""13. Heal specified vnfc""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""14. Trigger asynchronous task"", note = ""The same with the default heal operation""]; ""Client"" <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; } 8. The Client sends a request to the Tacker to get the alarms of the specified conditions. #. The request is processed synchronously. #. Tacker-conductor calls VnfFmDriver to get the alarm. #. VnfFmDriver filters out the alarms that meet the conditions according to the conditions in the request, and returns the result. #. After the Client obtains the VNFC information from the alarm, it sends a request to the Tacker to heal the VNFC. #. From this step, it is completely the same with the default heal operation. Design of heal operation in FM Notification Mode ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following is a schematic diagram of heal in Notification Mode: .. code-block:: console +------------------------+ | | 5. Send alarm notification | Client (NFVO/EM) <-------------------+ | | | +--+---------+-----------+ | 1. Heal | | 1. Create subscription | +------|---------|-------------------------------|----------------------------+ | | | | VNFM | | +---|---------|---------+ +-------------------|-------------+ | | | | | Tacker | | | Tacker | | | | | | Server | | | Conductor | | | | | +-----v------+ | | | | +--------+ | | | | | VnfFm +------------------------+-----------------> Tacker | | +----------------+ | | | | Controller | | | +---------+----+ | | DB | | | External | | | | +------------+ | | +------> VnfFm +------------> | | | Monitoring | | | | | | | | Driver | | +--------+ | | Tool | 3. POST | | | | | | +--------------+ | | | (based on | alert | | | +------------+ | | | 4. Convert alert to alarm | | | Prometheus) +---------------------> Prometheus +-------+ | | +--+-------------+ | | | | Plugin | | | | | ^ | | | +------------+ | | | | | 2. Collect metrics | | | | | | | | | | | +------------+ | | +--------------+ | | | | | +---> Vnflcm +--------------> VmfLcmDriver +---+ | | | | | | Controller | | | +--------------+ | | | | | | +------------+ | | +---------v--+ | | | | | | | | Infra | | | | | | | | | Driver | | | | | | | | +----+-------+ | | | | +-----------------------+ +-----------------------|---------+ | | +----------------------------------------------------|------------------------+ | | | +----------------------------------------------------|------------+ | | CISM/CIS | | | | +---------------+-----------------+ | | | 7. Delete failed | | 8. Create new | | | CNF | | CNF | | | +--------v----+ +------v------+ +-------------+ | | | | +--------+ | | +--------+ | | | | +----------------------------------> | CNF | | | | CNF | | | | | | | +--------+ | | +--------+ | | | | | | Worker | | Worker | | Master | | | +-------------+ +-------------+ +-------------+ | +-----------------------------------------------------------------+ #. The Client sends a request to the Tacker to create a subscription. .. note:: During the create subscription, Tacker sends a test notification request to the client's callback URI. The callback URI is included in the request parameter of the create subscription request. #. Same as step 1 of the Polling Mode. #. Same as step 2 of the Polling Mode. #. Same as step 3 of the Polling Mode. #. VnfFmDriver finds all subscriptions in the DB and matches the alerts to them. If there is a subscription that can match successfully, the alarm is sent to the specified path of the Client. If the match is not successful, the processing ends. #. Same as step 5 of the Polling Mode. #. Same as step 6 of the Polling Mode. #. Same as step 7 of the Polling Mode. Request parameters for operation in FM Notification Mode ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The detail of API is described at `REST API impact`_. Sequence for operation in FM Notification Mode ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following describes the Client's processing flow for Tacker using Notification Mode to AutoHeal. .. seqdiag:: seqdiag { node_width = 90; edge_length = 100; ""Client"" ""External Monitoring Tool"" ""Prometheus-Plugin"" ""Tacker-server"" ""Tacker-conductor"" ""VnfFmDriver"" ""Tacker DB"" ""Client"" -> ""Tacker-server"" [label = ""1. Create subscription""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""Trigger synchronization task""]; ""Tacker-conductor"" -> ""VnfFmDriver"" [label = ""execute VnfFmDriver""]; ""VnfFmDriver"" -> ""VnfFmDriver"" [label = ""Get the callback_uri in the subscription""]; ""VnfFmDriver"" -> ""Client"" [label = ""Send a GET request to the callback_uri in the Client.""]; ""VnfFmDriver"" <-- ""Client"" [label = ""Response 204 No Content""]; ""VnfFmDriver"" -> ""Tacker DB"" [label = ""Save subscription to DB""]; ""VnfFmDriver"" <-- ""Tacker DB"" ""Tacker-conductor"" <-- ""VnfFmDriver"" ""Tacker-server"" <-- ""Tacker-conductor"" ""Client"" <-- ""Tacker-server"" [label = ""Response 201 Created""]; ""External Monitoring Tool"" -> ""Prometheus-Plugin"" [label = ""2. Send alert to the specified URI""]; ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""3. Check items of prometheus_plugin from cfg.CONF.tacker"", note = ""If prometheus_plugin is False, asynchronous task is over""]; ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""4. Determine whether the alert is AutoHeal or AutoScale"", note = ""If it is scale, refer to the processing flow of AutoScale""]; ""Prometheus-Plugin"" -> ""Tacker DB"" [label = ""5. Find the corresponding ComputeResource from the DB""]; ""Prometheus-Plugin"" <-- ""Tacker DB"" [label = ""InstantiatedVnfInfo.vnfcResourceInfo.computeResource""]; ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""6. Convert received alert to alarm""]; ""Prometheus-Plugin"" -> ""VnfFmDriver"" [label = ""7. execute VnfFmDriver""]; ""VnfFmDriver"" -> ""Tacker DB"" [label = ""8. Save alarm to DB""]; ""VnfFmDriver"" <-- ""Tacker DB"" ""VnfFmDriver"" -> ""Tacker DB"" [label = ""9. Get subscriptions from DB""]; ""VnfFmDriver"" <-- ""Tacker DB"" ""VnfFmDriver"" -> ""VnfFmDriver"" [label = ""10. Determine whether the alarm matches the subscriptions."", note = ""If it does not match, the processing ends""]; ""VnfFmDriver"" -> ""Client"" [label = ""11. Send a Notify Alarm request to the Client""]; ""VnfFmDriver"" <-- ""Client"" [label = ""Response 204 No Content""]; ""Prometheus-Plugin"" <-- ""VnfFmDriver"" ""Client"" -> ""Client"" [label = ""12. Get VNFC information from alarm"", note = ""If no alarm is returned, the processing is over""]; ""Client"" -> ""Tacker-server"" [label = ""13. Heal specified vnfc""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""14. Trigger asynchronous task"", note = ""The same with the default heal operation""]; ""Client"" <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; } #. The Client sends a request to create a subscription to the Tacker. After Tacker receives the subscription, it will get the callback_uri in it. In order to verify the correctness of the callback_uri, VnfFmDriver sends a request to the callback_uri address of Client. After getting the normal response HTTP 204 No Content from the Client, the Tacker will save the subscription to the DB. From step 2 to 8, processes are same as step 1-7 of the Polling method. 9. VnfFmDriver gets all the subscriptions in the DB. #. VnfFmDriver judges whether the alarm can be matched with subscriptions, if it does not match, the processing ends. #. If the match is successful, VnfFmDriver sends a Notify Alarm request to the Client's callback_uri address. After the Client receives the request and processes it, it returns HTTP 204 No Content by default. From step 12 to 14, processes are same as step 12-14 of the Polling method. AutoScale on PM event trigger ----------------------------- Tacker has a configuration value in tacker.conf file that indicates uri of alert manager. Prometheus Plugin converts from PM job schema to prometheus schema when a PM job has been created. When the External Monitoring Tool detects that the CNF have some PM events, it will send event messages to Tacker. After Tacker receives the event, it will convert the event to report and store it in the DB. At this time, according to SOL002/003 [#SOL002_v3.3.1]_ [#SOL003_v3.3.1]_ 6. VNF Performance Management interface. Design of scale operation in PM ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following is a schematic diagram of scale: .. code-block:: console +------------------------+ | | 8. Send report notification | Client (NFVO/EM) <-------------------+ | | | +--+---------+-----------+ | | | 1. Create PM job | 1. Scale | | 9. Get PM report | +------|---------|-------------------------------|----------------------------+ | | | | VNFM | | +---|---------|---------+ +-------------------|-------------+ | | | | | Tacker | | | Tacker | | | | | | Server | | | Conductor | | | | | +-------v------+ | | | | +--------+ | | | | | VnfPm +------------------------+-----------------> Tacker | | | | | | ControllerV2 | | | +---------+----+ | | DB | | +----------------+ | | | +---------+----+ | | +------> VnfPm +------------> | | | External | | | | 2. set | | | | | DriverV2 | | +--------+ | | Monitoring | 5. POST | | | PM job | | | | +--------------+ | | | Tool | event | | | +-------v----+ | | | 7. Convert event to report | | | (based on +---------------------> Prometheus +-------+ | | | Prometheus) <---------------------+ Plugin | | | | | | | 6. get related data | | | | | | | <---------------------+ | | | | | +--+-------------+ 3. set | | | +------------+ | | | | ^ PM job | | | | | | | | 4. Trigger event | | | +------------+ | | +--------------+ | | | | | +---> Vnflcm +--------------> VmfLcmDriver +---+ | | | | | | Controller | | | +--------------+ | | | | | | +------------+ | | +---------v--+ | | | | | | | | Infra | | | | | | | | | Driver | | | | | | | | +----+-------+ | | | | +-----------------------+ +-----------------------|---------+ | | +----------------------------------------------------|------------------------+ | | | +----------------------------------------------------|------------+ | | CISM/CIS | | | | +---------------+-----------------+ | | | | | 11. Create or Delete | | | | | CNF | | | +--------v----+ +------v------+ +-------------+ | | | | +--------+ | | +--------+ | | | | +----------------------------------> | CNF | | | | CNF | | | | | | | +--------+ | | +--------+ | | | | | | Worker | | Worker | | Master | | | +-------------+ +-------------+ +-------------+ | +-----------------------------------------------------------------+ #. The Client sends a request to the Tacker to create a PM job. .. note:: During the create PM job, Tacker sends a test notification request to the client's callback URI. The callback URI is included in request body of create PM job request. #. VnfPmControllerV2 sends PM job information to Prometheus Plugin. #. Prometheus Plugin sets PM job to External Monitoring Tool. #. External Monitoring Tool collects metrics and decides whether triggering event is needed or not. #. External Monitoring Tool sends POST request to Tacker with specified URI. #. Tacker collects data related to the PM event. From the data obtained in 5-6, The value and context corresponding to performanceMetric are determined. #. Tacker receives informed event, converts it to report, and saves it to DB. Tacker also saves timestamp of the event. #. VnfPmDriverV2 finds all jobs in the DB and matches the report to job. If there is a job that can match successfully, the report is sent to the specified path of the Client. If the match is not successful, the processing ends. #. The Client make a request for the content of the report, then make a decision of scaling. #. Scale operation is triggered, new CNF is created in case of scale-out or old CNF is deleted in case of scale-in. #. New CNF is created or old CNF is deleted. Request parameters for operation in PM ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The detail of API is described at `REST API impact`_. .. _sequence-pm-operation: Sequence for operation in PM ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The following describes the Client's processing flow for Tacker to AutoScale. .. seqdiag:: seqdiag { node_width = 90; edge_length = 100; ""Client"" ""External Monitoring Tool"" ""Prometheus-Plugin"" ""Tacker-server"" ""Tacker-conductor"" ""VnfPmDriverV2"" ""Tacker DB"" ""Client"" -> ""Tacker-server"" [label = ""1. Create PM job""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""Trigger synchronization task""]; ""Tacker-conductor"" -> ""VnfPmDriverV2"" [label = ""execute VnfPmDriverV2""]; ""VnfPmDriverV2"" -> ""VnfPmDriverV2"" [label = ""Get the callback_uri in the PM job""]; ""VnfPmDriverV2"" -> ""Client"" [label = ""Send a GET request to the callback_uri in the Client.""]; ""VnfPmDriverV2"" <-- ""Client"" [label = ""Response 204 No Content""]; ""VnfPmDriverV2"" -> ""Tacker DB"" [label = ""Save PM job to DB""]; ""VnfPmDriverV2"" <-- ""Tacker DB"" ""VnfPmDriverV2"" -> ""Prometheus-Plugin"" [label = ""Set PM job to Prometheus-Plugin""]; ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""Convert to Prometheus format PM job""]; ""Prometheus-Plugin"" -> ""External Monitoring Tool"" [label = ""Set PM job""]; ""Prometheus-Plugin"" <-- ""External Monitoring Tool"" ""VnfPmDriverV2"" <-- ""Prometheus-Plugin"" ""Tacker-conductor"" <-- ""VnfPmDriverV2"" ""Tacker-server"" <-- ""Tacker-conductor"" ""Client"" <-- ""Tacker-server"" [label = ""Response 201 Created""]; ""External Monitoring Tool"" -> ""Prometheus-Plugin"" [label = ""2. Send event to the specified URI""]; ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""3. Check items of prometheus_plugin from cfg.CONF.tacker"", note = ""If prometheus_plugin is False, asynchronous task is over""]; ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""4. Determine whether the report is AutoHeal or AutoScale"", note = ""If it is heal, refer to the processing flow of AutoHeal""]; ""Prometheus-Plugin"" -> ""Tacker DB"" [label = ""5. Find the corresponding resource from the DB""]; ""Prometheus-Plugin"" <-- ""Tacker DB"" ""Prometheus-Plugin"" -> ""Prometheus-Plugin"" [label = ""6. Convert received event to report""]; ""Prometheus-Plugin"" -> ""VnfPmDriverV2"" [label = ""7. execute VnfPmDriverV2""]; ""VnfPmDriverV2"" -> ""Tacker DB"" [label = ""8. Save report to DB""]; ""VnfPmDriverV2"" <-- ""Tacker DB"" ""VnfPmDriverV2"" -> ""Tacker DB"" [label = ""9. Get job from DB""]; ""VnfPmDriverV2"" <-- ""Tacker DB"" ""VnfPmDriverV2"" -> ""VnfPmDriverV2"" [label = ""10. Determine whether the report matches the PM job."", note = ""If it does not match, the processing ends""]; ""VnfPmDriverV2"" -> ""Client"" [label = ""11. Send a Notify Event request to the Client""]; ""VnfPmDriverV2"" <-- ""Client"" [label = ""Response 204 No Content""]; ""Prometheus-Plugin"" <-- ""VnfPmDriverV2"" ""Client"" -> ""Client"" [label = ""12. Get VNFC information from report"", note = ""If no report is returned, the processing is over""]; ""Client"" -> ""Tacker-server"" [label = ""13. Scale""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""14. Trigger asynchronous task"", note = ""The same with the default scale operation""]; ""Client"" <-- ""Tacker-server"" [label = ""Response 202 Accepted""]; } #. The Client sends a request to create a PM job to the Tacker. After Tacker receives the PM job, it will get the callback_uri in it. In order to verify the correctness of the callback_uri, VnfPmDriverV2 sends a request to the callback_uri address of Client. After getting the normal response HTTP 204 No Content from the Client, the Tacker will save the subscription to the DB. #. External Monitoring Tool receives event sent from Prometheus and inform the event to specified URI(Tacker). #. Prometheus Plugin obtains values from cfg.CONF.tacker.prometheus_plugin to determine whether to enable this function. #. Prometheus Plugin judges what processing to perform according to the function_type field of the labels in the event. * When the ``labels.function_type`` is ``vnffm``, AutoHeal is performed. See :ref:`sequence-fm-polling`. * When the ``labels.function_type`` is ``vnfpm``, AutoScale is performed. #. Prometheus Plugin finds the corresponding resource information according to the value of the node label in the event. #. Prometheus Plugin converts the event to an report. #. Prometheus Plugin calls VnfPmDriverV2 and sends the report to it. #. VnfPmDriverV2 saves the report in the DB. #. VnfPmDriverV2 gets all the PM job in the DB. #. VnfPmDriverV2 judges whether the report can be matched with PM jobs, if it does not match, the processing ends. #. If the match is successful, VnfPmDriverV2 sends a Notify Event request to the Client's callback_uri address. After the Client receives the request and processes it, it returns HTTP 204 No Content by default. #. After the Client obtains the VNFC information from the report, it sends a request to the Tacker to scale the VNFC. #. From this step, it is completely the same with the default scale operation. Alternatives ------------ None Data model impact ----------------- Add below new db table in 'Tacker' database. * | **Table**: vnfFmAlarms .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Type - Constraint * - id - varchar(36) - Pri * - managedObjectId - varchar(36) - NOT NULL * - faultyResource - JSON - NULL * - faultyResourceType - varchar(32) - NULL * - alarmRaisedTime - datetime - NOT NULL * - alarmChangedTime - datetime - NULL * - alarmClearedTime - datetime - NULL * - alarmAcknowledgedTime - datetime - NULL * - ackState - varchar(32) - NOT NULL * - perceivedSeverity - varchar(32) - NOT NULL * - eventTime - datetime - NOT NULL * - eventType - varchar(32) - NOT NULL * - faultType - varchar(255) - NULL * - probableCause - varchar(255) - NOT NULL * - isRootCause - boolean - NOT NULL * - correlatedAlarmIds - text - NULL * - faultDetails - text - NULL * - _links - JSON - NOT NULL This table have `id` as primary key. `managedObjectId` will be foreign key of `vnf_instances`. * | **Table**: vnfFmSubscriptions .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Type - Constraint * - id - varchar(36) - Pri * - fmNotificationsFilter - JSON - NULL * - callbackUri - varchar(255) - NOT NULL * - _links - JSON - NOT NULL * - subscriptionAuthentication - JSON - NULL This table have `id` as primary key. * | **Table**: vnfPmJobs .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Type - Constraint * - id - varchar(36) - Pri * - objectType - varchar(32) - NOT NULL * - objectInstanceIds - text - NOT NULL * - subObjectInstanceIds - text - NULL * - criteria - JSON - NOT NULL * - callbackUri - varchar(255) - NOT NULL * - reports - JSON - NULL This table have `id` as primary key. * | **Table**: vnfPmReports .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Type - Constraint * - id - varchar(36) - Pri * - jobId - varchar(36) - NOT NULL * - entries - JSON - NULL This table have `id` as primary key. REST API impact --------------- The following RESTful APIs are in compliance with SOL002/003 [#SOL002_v3.3.1]_ [#SOL003_v3.3.1]_ 6.VNF Performance Management interface and 7.VNF Fault Management interface. * | **Name**: Get all alarms in the Tacker | **Description**: Allow users to filter out alarms based on query parameter in the request | **Method type**: GET | **URL for the resource**: /vnffm/v1/alarms | **Query parameters**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Cardinality - Description * - filter - 0..1 - Attribute-based filtering expression. The following attribute names shall be supported by the Tacker in the attribute-based filtering expression: id, managedObjectId, rootCauseFaultyResource/faultyResourceType, eventType, perceivedSeverity, probableCause. For example, below URI query parameter will matching alarms with perceivedSeverity=WARNING .. code-block:: console GET /vnffm/v1/alarms?filter=(eq,perceivedSeverity,WARNING) | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - Alarm - 0..N - Success: 200 - Shall be returned when information about zero or more alarms has been queried successfully. * - ProblemDetails - 1 - Error: 400 - Invalid attribute-based filtering expression. The response body shall contain a ProblemDetails structure, in which the ""detail"" attribute should convey more information about the error. * - ProblemDetails - 1 - Error: 400 - Response too big. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (Alarm) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this Alarm information element. * - managedObjectId - Identifier - 1 - Identifier of the affected VNF instance. * - rootCauseFaultyResource - FaultyResourceInfo - 0..1 - The virtualised resources that are causing the VNF fault. Shall be present if the alarm affects virtualised resources. * - >faultyResource - ResourceHandle - 1 - Information that identifies the faulty resource instance and its managing entity. * - >>vimConnectionId - Identifier - 0..1 - Identifier of the VIM connection to manage the resource. This attribute shall only be supported and present if VNFrelated resource management in direct mode is applicable. The applicable ""VimConnectionInfo"" structure, which is referenced by vimConnectionId, can be obtained from the ""vimConnectionInfo"" attribute of the ""VnfInstance"" structure. * - >>resourceProviderId - Identifier - 0..1 - Identifier of the entity responsible for the management of the resource. This attribute shall only be supported and present when VNF-related resource management in indirect mode is applicable. The identification scheme is outside the scope of the present document. * - >>resourceId - IdentifierInVim - 1 - Identifier of the resource in the scope of the VIM or the resource provider. * - >>vimLevelResourceType - String - 0..1 - Type of the resource in the scope of the VIM or the resource provider. See note. * - >faultyResourceType - FaultyResourceType - 1 - Type of the faulty resource. COMPUTE: Virtual compute resource, STORAGE: Virtual storage resource, NETWORK: Virtual network resource * - alarmRaisedTime - DateTime - 1 - Time stamp indicating when the alarm is raised by the managed object. * - alarmChangedTime - DateTime - 0..1 - Time stamp indicating when the alarm was last changed. It shall be present if the alarm has been updated. * - alarmClearedTime - DateTime - 0..1 - Time stamp indicating when the alarm was cleared. It shall be present if the alarm has been cleared. * - alarmAcknowledgedTime - DateTime - 0..1 - Time stamp indicating when the alarm was acknowledged. It shall be present if the alarm has been acknowledged. * - ackState - Enum - 1 - Acknowledgement state of the alarm. Permitted values: UNACKNOWLEDGED, ACKNOWLEDGED. * - perceivedSeverity - PerceivedSeverityType - 1 - Perceived severity of the managed object failure. CRITICAL,MAJOR,MINOR,WARNING,INDETERMINATE,CLEARED * - eventTime - DateTime - 1 - Time stamp indicating when the fault was observed. * - eventType - EventType - 1 - Type of event. * - faultType - String - 0..1 - Additional information to clarify the type of the fault. * - probableCause - String - 1 - Information about the probable cause of the fault. * - isRootCause - Boolean - 1 - Attribute indicating if this fault is the root for other correlated alarms. If true, then the alarms listed in the attribute ""correlatedAlarmIds"" are caused by this fault. * - correlatedAlarmIds - Identifier - 0..N - List of identifiers of other alarms correlated to this fault. * - faultDetails - String - 0..N - Provides additional information about the fault. * - _links - Structure (inlined) - 1 - Links for this resource. * - >self - Link - 1 - URI of this resource. * - >objectInstance - Link - 0..1 - Link to the resource representing the VNF instance to which the notified alarm is correlated. Shall be present if the VNF instance information is accessible as a resource. * | **Name**: Get the individual alarm | **Description**: Get the alarm specified in the Tacker. | **Method type**: GET | **URL for the resource**: /vnffm/v1/alarms/{alarmId} | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - Alarm - 1 - Success: 200 - Shall be returned when information about an individual alarm has been read successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (Alarm) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this Alarm information element. * - managedObjectId - Identifier - 1 - Identifier of the affected VNF instance. * - rootCauseFaultyResource - FaultyResourceInfo - 0..1 - The virtualised resources that are causing the VNF fault. Shall be present if the alarm affects virtualised resources. * - >faultyResource - ResourceHandle - 1 - Information that identifies the faulty resource instance and its managing entity. * - >>vimConnectionId - Identifier - 0..1 - Identifier of the VIM connection to manage the resource. This attribute shall only be supported and present if VNFrelated resource management in direct mode is applicable. The applicable ""VimConnectionInfo"" structure, which is referenced by vimConnectionId, can be obtained from the ""vimConnectionInfo"" attribute of the ""VnfInstance"" structure. * - >>resourceProviderId - Identifier - 0..1 - Identifier of the entity responsible for the management of the resource. This attribute shall only be supported and present when VNF-related resource management in indirect mode is applicable. The identification scheme is outside the scope of the present document. * - >>resourceId - IdentifierInVim - 1 - Identifier of the resource in the scope of the VIM or the resource provider. * - >>vimLevelResourceType - String - 0..1 - Type of the resource in the scope of the VIM or the resource provider. See note. * - >faultyResourceType - FaultyResourceType - 1 - Type of the faulty resource. COMPUTE, STORAGE, NETWORK * - alarmRaisedTime - DateTime - 1 - Time stamp indicating when the alarm is raised by the managed object. * - alarmChangedTime - DateTime - 0..1 - Time stamp indicating when the alarm was last changed. It shall be present if the alarm has been updated. * - alarmClearedTime - DateTime - 0..1 - Time stamp indicating when the alarm was cleared. It shall be present if the alarm has been cleared. * - alarmAcknowledgedTime - DateTime - 0..1 - Time stamp indicating when the alarm was acknowledged. It shall be present if the alarm has been acknowledged. * - ackState - Enum - 1 - Acknowledgement state of the alarm. Permitted values: UNACKNOWLEDGED, ACKNOWLEDGED. * - perceivedSeverity - PerceivedSeverityType - 1 - Perceived severity of the managed object failure. CRITICAL,MAJOR,MINOR,WARNING,INDETERMINATE,CLEARED * - eventTime - DateTime - 1 - Time stamp indicating when the fault was observed. * - eventType - EventType - 1 - Type of event. * - faultType - String - 0..1 - Additional information to clarify the type of the fault. * - probableCause - String - 1 - Information about the probable cause of the fault. * - isRootCause - Boolean - 1 - Attribute indicating if this fault is the root for other correlated alarms. If true, then the alarms listed in the attribute ""correlatedAlarmIds"" are caused by this fault. * - correlatedAlarmIds - Identifier - 0..N - List of identifiers of other alarms correlated to this fault. * - faultDetails - String - 0..N - Provides additional information about the fault. * - _links - Structure (inlined) - 1 - Links for this resource. * - >self - Link - 1 - URI of this resource. * - >objectInstance - Link - 0..1 - Link to the resource representing the VNF instance to which the notified alarm is correlated. Shall be present if the VNF instance information is accessible as a resource. * | **Name**: Modify the confirmation status. | **Description**: Modify the confirmation status of the alarm specified in the Tacker. | **Method type**: PATCH | **URL for the resource**: /vnffm/v1/alarms/{alarmId} | **Content-Type**: application/mergepatch+json | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - AlarmModifications - 1 - alarm modification .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (AlarmModifications) - Data type - Cardinality - Description * - ackState - Enum - 1 - New value of the ""ackState"" attribute in ""Alarm"". Permitted values: ACKNOWLEDGED, UNACKNOWLEDGED | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - AlarmModifications - 1 - Success: 200 - Shall be returned when the request has been accepted and completed. * - ProblemDetails - 1 - Error: 409 - The operation cannot be executed currently, due to a conflict with the state of the ""Individual alarm"" resource. * - ProblemDetails - 0..1 - Error: 412 - A precondition given in an HTTP request header is not fulfilled. Typically, this is due to an ETag mismatch, indicating that the resource was modified by another entity. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (AlarmModifications) - Data type - Cardinality - Description * - ackState - Enum - 1 - New value of the ""ackState"" attribute in ""Alarm"". Permitted values: ACKNOWLEDGED, UNACKNOWLEDGED * | **Name**: Create a new subscription | **Description**: Create a new subscription in the Tacker. | **Method type**: POST | **URL for the resource**: /vnffm/v1/subscriptions | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - FmSubscriptionRequest - 1 - Details of the subscription to be created .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (FmSubscriptionRequest) - Data type - Cardinality - Description * - filter - FmNotificationsFilter - 0..1 - Filter settings for this subscription, to define the subset of all notifications this subscription relates to. A particular notification is sent to the subscriber if the filter matches, or if there is no filter. * - >vnfInstanceSubscriptionFilter - VnfInstanceSubscriptionFilter - 0..1 - Filter criteria to select VNF instances about which to notify. * - >>vnfdIds - Identifier - 0..N - If present, match VNF instances that were created based on a VNFD identified by one of the vnfdId values listed in this attribute. See note 1. * - >>vnfProductsFromProviders - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products from certain providers. See note 1. * - >>>vnfProvider - String - 1 - Name of the VNF provider to match. * - >>>vnfProducts - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products with certain product names, from one particular provider. * - >>>>vnfProductName - String - 1 - Name of the VNF product to match. * - >>>>versions - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products with certain versions and a certain product name, from one particular provider. * - >>>>>vnfSoftwareVersion - Version - 1 - Software version to match. * - >>>>>vnfdVersions - Version - 0..N - If present, match VNF instances that belong to VNF products with certain VNFD versions, a certain software version and a certain product name, from one particular provider. * - >>vnfInstanceIds - Identifier - 0..N - If present, match VNF instances with an instance identifier listed in this attribute. * - >>vnfInstanceNames - String - 0..N - If present, match VNF instances with a VNF Instance Name listed in this attribute. * - >notificationTypes - Enum (inlined) - 0..N - Match particular notification types. Permitted values: AlarmNotification, AlarmClearedNotification, AlarmListRebuiltNotification * - >faultyResourceTypes - FaultyResourceType - 0..N - Match VNF alarms with a faulty resource type. COMPUTE, STORAGE, NETWORK * - >perceivedSeverities - PerceivedSeverityType - 0..N - Match VNF alarms with a perceived severity. CRITICAL,MAJOR,MINOR,WARNING,INDETERMINATE,CLEARED * - >eventTypes - EventType - 0..N - Match VNF alarms with an event type. COMMUNICATIONS_ALARM, PROCESSING_ERROR_ALARM, ENVIRONMENTAL_ALARM, QOS_ALARM, EQUIPMENT_ALARM * - >probableCauses - String - 0..N - Match VNF alarms with a probable cause listed in this attribute. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - authentication - SubscriptionAuthentication - 0..1 - Authentication parameters to configure the use of Authorization when sending notifications corresponding to this subscription. See as clause 8.3.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - FmSubscription - 1 - Success: 201 - Shall be returned when the subscription has been created successfully. * - n/a - - Success: 303 - Shall be returned when a subscription with the same callback URI and the same filter already exists and the policy of the VNFM is to not create redundant subscriptions. The HTTP response shall include a ""Location"" HTTP header that contains the resource URI of the existing ""Individual subscription"" resource. The response body shall be empty. * - ProblemDetails - 1 - Error: 422 - The content type of the payload body is supported and the payload body of a request contains syntactically correct data but the data cannot be processed. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (FmSubscription) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this ""Individual subscription"" resource. * - filter - FmNotificationsFilter - 0..1 - Filter settings for this subscription, to define the subset of all notifications this subscription relates to. A particular notification is sent to the subscriber if the filter matches, or if there is no filter. * - >vnfInstanceSubscriptionFilter - VnfInstanceSubscriptionFilter - 0..1 - Filter criteria to select VNF instances about which to notify. * - >>vnfdIds - Identifier - 0..N - If present, match VNF instances that were created based on a VNFD identified by one of the vnfdId values listed in this attribute. See note 1. * - >>vnfProductsFromProviders - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products from certain providers. See note 1. * - >>>vnfProvider - String - 1 - Name of the VNF provider to match. * - >>>vnfProducts - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products with certain product names, from one particular provider. * - >>>>vnfProductName - String - 1 - Name of the VNF product to match. * - >>>>versions - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products with certain versions and a certain product name, from one particular provider. * - >>>>>vnfSoftwareVersion - Version - 1 - Software version to match. * - >>>>>vnfdVersions - Version - 0..N - If present, match VNF instances that belong to VNF products with certain VNFD versions, a certain software version and a certain product name, from one particular provider. * - >>vnfInstanceIds - Identifier - 0..N - If present, match VNF instances with an instance identifier listed in this attribute. * - >>vnfInstanceNames - String - 0..N - If present, match VNF instances with a VNF Instance Name listed in this attribute. * - >notificationTypes - Enum (inlined) - 0..N - Match particular notification types. Permitted values: AlarmNotification, AlarmClearedNotification, AlarmListRebuiltNotification * - >faultyResourceTypes - FaultyResourceType - 0..N - Match VNF alarms with a faulty resource type. COMPUTE, STORAGE, NETWORK * - >perceivedSeverities - PerceivedSeverityType - 0..N - Match VNF alarms with a perceived severity. CRITICAL,MAJOR,MINOR,WARNING,INDETERMINATE,CLEARED * - >eventTypes - EventType - 0..N - Match VNF alarms with an event type. COMMUNICATIONS_ALARM, PROCESSING_ERROR_ALARM, ENVIRONMENTAL_ALARM, QOS_ALARM, EQUIPMENT_ALARM * - >probableCauses - String - 0..N - Match VNF alarms with a probable cause listed in this attribute. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - _links - Structure (inlined) - 1 - Links for this resource. * - >self - Link - 1 - URI of this resource. * | **Name**: Get all subscriptions in the Tacker | **Description**: Allow users to filter out subscriptions based on query parameter in the request | **Method type**: GET | **URL for the resource**: /vnffm/v1/subscriptions | **Query parameters**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Cardinality - Description * - filter - 0..1 - Attribute-based filtering expression. The following attribute names shall be supported by the Tacker in the attribute-based filtering expression. All attribute names that appear in the FmSubscription and in data types referenced from it shall be supported by the VNFM in the filter expression. For example, below URI query parameter will matching alarms with perceivedSeverity=WARNING .. code-block:: console GET /vnffm/v1/alarms?filter=(eq,filter/perceivedSeverity,WARNING) | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - FmSubscription - 0..N - Success: 200 - Shall be returned when the list of subscriptions has been queried successfully. * - ProblemDetails - 1 - Error: 400 - Invalid attribute-based filtering expression. The response body shall contain a ProblemDetails structure, in which the ""detail"" attribute should convey more information about the error. * - ProblemDetails - 1 - Error: 400 - Response too big. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (FmSubscription) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this ""Individual subscription"" resource. * - filter - FmNotificationsFilter - 0..1 - Filter settings for this subscription, to define the subset of all notifications this subscription relates to. A particular notification is sent to the subscriber if the filter matches, or if there is no filter. * - >vnfInstanceSubscriptionFilter - VnfInstanceSubscriptionFilter - 0..1 - Filter criteria to select VNF instances about which to notify. * - >>vnfdIds - Identifier - 0..N - If present, match VNF instances that were created based on a VNFD identified by one of the vnfdId values listed in this attribute. See note 1. * - >>vnfProductsFromProviders - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products from certain providers. See note 1. * - >>>vnfProvider - String - 1 - Name of the VNF provider to match. * - >>>vnfProducts - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products with certain product names, from one particular provider. * - >>>>vnfProductName - String - 1 - Name of the VNF product to match. * - >>>>versions - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products with certain versions and a certain product name, from one particular provider. * - >>>>>vnfSoftwareVersion - Version - 1 - Software version to match. * - >>>>>vnfdVersions - Version - 0..N - If present, match VNF instances that belong to VNF products with certain VNFD versions, a certain software version and a certain product name, from one particular provider. * - >>vnfInstanceIds - Identifier - 0..N - If present, match VNF instances with an instance identifier listed in this attribute. * - >>vnfInstanceNames - String - 0..N - If present, match VNF instances with a VNF Instance Name listed in this attribute. * - >notificationTypes - Enum (inlined) - 0..N - Match particular notification types. Permitted values: AlarmNotification, AlarmClearedNotification, AlarmListRebuiltNotification * - >faultyResourceTypes - FaultyResourceType - 0..N - Match VNF alarms with a faulty resource type. COMPUTE, STORAGE, NETWORK * - >perceivedSeverities - PerceivedSeverityType - 0..N - Match VNF alarms with a perceived severity. CRITICAL,MAJOR,MINOR,WARNING,INDETERMINATE,CLEARED * - >eventTypes - EventType - 0..N - Match VNF alarms with an event type. COMMUNICATIONS_ALARM, PROCESSING_ERROR_ALARM, ENVIRONMENTAL_ALARM, QOS_ALARM, EQUIPMENT_ALARM * - >probableCauses - String - 0..N - Match VNF alarms with a probable cause listed in this attribute. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - _links - Structure (inlined) - 1 - Links for this resource. * - >self - Link - 1 - URI of this resource. * | **Name**: Get a subscription | **Description**: Get the subscription in the Tacker | **Method type**: GET | **URL for the resource**: /vnffm/v1/subscriptions/{subscriptionId} | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - FmSubscription - 1 - Success: 200 - Shall be returned when information about an individual subscription has been read successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (FmSubscription) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this ""Individual subscription"" resource. * - filter - FmNotificationsFilter - 0..1 - Filter settings for this subscription, to define the subset of all notifications this subscription relates to. A particular notification is sent to the subscriber if the filter matches, or if there is no filter. * - >vnfInstanceSubscriptionFilter - VnfInstanceSubscriptionFilter - 0..1 - Filter criteria to select VNF instances about which to notify. * - >>vnfdIds - Identifier - 0..N - If present, match VNF instances that were created based on a VNFD identified by one of the vnfdId values listed in this attribute. See note 1. * - >>vnfProductsFromProviders - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products from certain providers. See note 1. * - >>>vnfProvider - String - 1 - Name of the VNF provider to match. * - >>>vnfProducts - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products with certain product names, from one particular provider. * - >>>>vnfProductName - String - 1 - Name of the VNF product to match. * - >>>>versions - Structure (inlined) - 0..N - If present, match VNF instances that belong to VNF products with certain versions and a certain product name, from one particular provider. * - >>>>>vnfSoftwareVersion - Version - 1 - Software version to match. * - >>>>>vnfdVersions - Version - 0..N - If present, match VNF instances that belong to VNF products with certain VNFD versions, a certain software version and a certain product name, from one particular provider. * - >>vnfInstanceIds - Identifier - 0..N - If present, match VNF instances with an instance identifier listed in this attribute. * - >>vnfInstanceNames - String - 0..N - If present, match VNF instances with a VNF Instance Name listed in this attribute. * - >notificationTypes - Enum (inlined) - 0..N - Match particular notification types. Permitted values: AlarmNotification, AlarmClearedNotification, AlarmListRebuiltNotification * - >faultyResourceTypes - FaultyResourceType - 0..N - Match VNF alarms with a faulty resource type. COMPUTE, STORAGE, NETWORK * - >perceivedSeverities - PerceivedSeverityType - 0..N - Match VNF alarms with a perceived severity. CRITICAL,MAJOR,MINOR,WARNING,INDETERMINATE,CLEARED * - >eventTypes - EventType - 0..N - Match VNF alarms with an event type. COMMUNICATIONS_ALARM, PROCESSING_ERROR_ALARM, ENVIRONMENTAL_ALARM, QOS_ALARM, EQUIPMENT_ALARM * - >probableCauses - String - 0..N - Match VNF alarms with a probable cause listed in this attribute. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - _links - Structure (inlined) - 1 - Links for this resource. * - >self - Link - 1 - URI of this resource. * | **Name**: Delete a subscription | **Description**: Delete the subscription in the Tacker | **Method type**: DELETE | **URL for the resource**: /vnffm/v1/subscriptions/{subscriptionId} | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned when the ""Individual subscription"" resource has been deleted successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. * | **Name**: Notifies a VNF alarm | **Description**: Notify Client that Tacker received an alarm | **Method type**: POST | **URL for the resource**: <Client URI from subscriptions> | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - AlarmNotification - 1 - Information of a VNF alarm * - AlarmClearedNotification - 1 - Information of the clearance of a VNF alarm .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (AlarmNotification) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this notification. If a notification is sent multiple times due to multiple subscriptions, the ""id"" attribute of all these notifications shall have the same value. * - notificationType - String - 1 - Discriminator for the different notification types. Shall be set to ""AlarmNotification"" for this notification type. * - subscriptionId - Identifier - 1 - Identifier of the subscription that this notification relates to. * - timeStamp - DateTime - 1 - Date-time of the generation of the notification. * - alarm - Alarm - 1 - Information about an alarm including AlarmId, affected VNF identifier, and FaultDetails. * - >id - Identifier - 1 - Identifier of this Alarm information element. * - >managedObjectId - Identifier - 1 - Identifier of the affected VNF instance. * - >rootCauseFaultyResource - FaultyResourceInfo - 0..1 - The virtualised resources that are causing the VNF fault. Shall be present if the alarm affects virtualised resources. * - >>faultyResource - ResourceHandle - 1 - Information that identifies the faulty resource instance and its managing entity. * - >>>vimConnectionId - Identifier - 0..1 - Identifier of the VIM connection to manage the resource. This attribute shall only be supported and present if VNFrelated resource management in direct mode is applicable. The applicable ""VimConnectionInfo"" structure, which is referenced by vimConnectionId, can be obtained from the ""vimConnectionInfo"" attribute of the ""VnfInstance"" structure. * - >>>resourceProviderId - Identifier - 0..1 - Identifier of the entity responsible for the management of the resource. This attribute shall only be supported and present when VNF-related resource management in indirect mode is applicable. The identification scheme is outside the scope of the present document. * - >>>resourceId - IdentifierInVim - 1 - Identifier of the resource in the scope of the VIM or the resource provider. * - >>>vimLevelResourceType - String - 0..1 - Type of the resource in the scope of the VIM or the resource provider. See note. * - >>faultyResourceType - FaultyResourceType - 1 - Type of the faulty resource. COMPUTE, STORAGE, NETWORK * - >alarmRaisedTime - DateTime - 1 - Time stamp indicating when the alarm is raised by the managed object. * - >alarmChangedTime - DateTime - 0..1 - Time stamp indicating when the alarm was last changed. It shall be present if the alarm has been updated. * - >alarmClearedTime - DateTime - 0..1 - Time stamp indicating when the alarm was cleared. It shall be present if the alarm has been cleared. * - >alarmAcknowledgedTime - DateTime - 0..1 - Time stamp indicating when the alarm was acknowledged. It shall be present if the alarm has been acknowledged. * - >ackState - Enum - 1 - Acknowledgement state of the alarm. Permitted values: UNACKNOWLEDGED, ACKNOWLEDGED. * - >perceivedSeverity - PerceivedSeverityType - 1 - Perceived severity of the managed object failure. CRITICAL,MAJOR,MINOR,WARNING,INDETERMINATE,CLEARED * - >eventTime - DateTime - 1 - Time stamp indicating when the fault was observed. * - >eventType - EventType - 1 - Type of event. * - >faultType - String - 0..1 - Additional information to clarify the type of the fault. * - >probableCause - String - 1 - Information about the probable cause of the fault. * - >isRootCause - Boolean - 1 - Attribute indicating if this fault is the root for other correlated alarms. If true, then the alarms listed in the attribute ""correlatedAlarmIds"" are caused by this fault. * - >correlatedAlarmIds - Identifier - 0..N - List of identifiers of other alarms correlated to this fault. * - >faultDetails - String - 0..N - Provides additional information about the fault. * - >_links - Structure (inlined) - 1 - Links for this resource. * - >>self - Link - 1 - URI of this resource. * - >>objectInstance - Link - 0..1 - Link to the resource representing the VNF instance to which the notified alarm is correlated. Shall be present if the VNF instance information is accessible as a resource. * - _links - Structure (inlined) - 1 - Links to resources related to this notification. * - >subscription - NotificationLink - 1 - Link to the related subscription. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (AlarmClearedNotification) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this notification. If a notification is sent multiple times due to multiple subscriptions, the ""id"" attribute of all these notifications shall have the same value. * - notificationType - String - 1 - Discriminator for the different notification types. Shall be set to ""AlarmClearedNotification"" for this notification type. * - subscriptionId - Identifier - 1 - Identifier of the subscription that this notification relates to. * - timeStamp - DateTime - 1 - Date-time of the generation of the notification. * - alarmId - Identifier - 1 - Alarm identifier. * - alarmClearedTime - DateTime - 1 - The time stamp indicating when the alarm was cleared. * - _links - Structure (inlined) - 1 - Links to resources related to this notification. * - >subscription - NotificationLink - 1 - Link to the related subscription. * - >alarm - NotificationLink - 1 - Link to the resource that represents the related alarm. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned when the notification has been delivered successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. * | **Name**: Test the notification endpoint | **Description**: Confirm that the URI of Client is correct. | **Method type**: GET | **URL for the resource**: <Client URI from subscriptions> | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned to indicate that the notification endpoint has been tested successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. * | **Name**: Create a PM job | **Description**: Create a PM job. PM jobs group details of performance collection and reporting information | **Method type**: POST | **URL for the resource**: /vnfpm/v2/pm_jobs | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - CreatePmJobRequest - 1 - PM job creation request .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (CreatePmJobRequest) - Data type - Cardinality - Description * - objectType - String - 1 - Type of the measured object. The applicable measured object type for a measurement is defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - objectInstanceIds - Identifier - 1..N - Identifiers of the measured object instances for which performance information is requested to be collected. * - subObjectInstanceIds - IdentifierInVnf - 0..N - Identifiers of the measured object instances in case of a structured measured object. * - criteria - PmJobCriteria - 1 - Criteria of the collection of performance information. * - >performanceMetric - String - 0..N - This defines the types of performance metrics for the specified object instances. Valid values are specified as ""Measurement Name"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. At least one of the two attributes (performance metric or group) shall be present. * - >performanceMetricGroup - String - 0..N - Group of performance metrics. A metric group is a pre-defined list of metrics, known to the API producer that it can decompose to individual metrics. Valid values are specified as ""Measurement Group"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. At least one of the two attributes (performance metric or group) shall be present. * - >collectionPeriod - UnsignedInt - 1 - Specifies the periodicity at which the API producer will collect performance information. The unit shall be seconds. * - >reportingPeriod - UnsignedInt - 1 - Specifies the periodicity at which the API producer will report to the API consumer. about performance information. The unit shall be seconds. The reportingPeriod should be equal to or a multiple of the collectionPeriod. * - >reportingBoundary - DateTime - 0..1 - Identifies a time boundary after which the reporting will stop. The boundary shall allow a single reporting as well as periodic reporting up to the boundary. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - authentication - SubscriptionAuthentication - 0..1 - Authentication parameters to configure the use of Authorization when sending notifications corresponding to this subscription. See as clause 8.3.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - PmJob - 1 - Success: 201 - Shall be returned when the PM job has been created successfully. * - ProblemDetails - 1 - Error: 422 - The content type of the payload body is supported and the payload body of a request contains syntactically correct data but the data cannot be processed. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (PmJob) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this PM job. * - objectType - String - 1 - Type of the measured object. The applicable measured object type for a measurement is defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - objectInstanceIds - Identifier - 1..N - Identifiers of the measured object instances for which performance information is collected. * - subObjectInstanceIds - IdentifierInVnf - 0..N - Identifiers of the measured object instances in case of a structured measured object. * - criteria - PmJobCriteria - 1 - Criteria of the collection of performance information. * - >performanceMetric - String - 0..N - This defines the types of performance metrics for the specified object instances. Valid values are specified as ""Measurement Name"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. At least one of the two attributes (performance metric or group) shall be present. * - >performanceMetricGroup - String - 0..N - Group of performance metrics. A metric group is a pre-defined list of metrics, known to the API producer that it can decompose to individual metrics. Valid values are specified as ""Measurement Group"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. At least one of the two attributes (performance metric or group) shall be present. * - >collectionPeriod - UnsignedInt - 1 - Specifies the periodicity at which the API producer will collect performance information. The unit shall be seconds. * - >reportingPeriod - UnsignedInt - 1 - Specifies the periodicity at which the API producer will report to the API consumer. about performance information. The unit shall be seconds. The reportingPeriod should be equal to or a multiple of the collectionPeriod. * - >reportingBoundary - DateTime - 0..1 - Identifies a time boundary after which the reporting will stop. The boundary shall allow a single reporting as well as periodic reporting up to the boundary. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - reports - Structure (inlined) - 0..N - Information about available reports collected by this PM job. * - >href - Uri - 1 - The URI where the report can be obtained. * - >readyTime - DateTime - 1 - The time when the report was made available. * - >expiryTime - DateTime - 0..1 - The time when the report will expire. * - >fileSize - UnsignedInt - 0..1 - The size of the report file in bytes, if known. * - _links - Structure (inlined) - 1 - Links for this resource. * - >self - Link - 1 - URI of this resource. * - >objects - Link - 0..N - Links to resources representing the measured object instances for which performance information is collected. Shall be present if the measured object instance information is accessible as a resource. * | **Name**: Get for PM jobs | **Description**: Allow users to filter out PM jobs based on query parameter in the request | **Method type**: GET | **URL for the resource**: /vnfpm/v2/pm_jobs | **Query parameters**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Name - Cardinality - Description * - filter - 0..1 - Attribute-based filtering expression. according to clause 5.2 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_. For example, below URI query parameter will matching PM job with objectType=VNFC. .. code-block:: console GET /vnfpm/v2/pm_jobs?filter=(eq,objectType,VNFC) * - all_fields - 0..1 - Include all complex attributes in the response. See clause 5.3 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ for details. * - fields - 0..1 - Complex attributes to be included into the response. See clause 5.3 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ for details. * - exclude_fields - 0..1 - Complex attributes to be excluded from the response. See clause 5.3 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ for details. * - exclude_default - 0..1 - Indicates to exclude the following complex attributes from the response. See clause 5.3 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ for details. | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - PmJob - 0..N - Success: 200 - Shall be returned when information about zero or more PM jobs has been queried successfully. * - ProblemDetails - 1 - Error: 400 - Invalid attribute-based filtering expression. The response body shall contain a ProblemDetails structure, in which the ""detail"" attribute should convey more information about the error. * - ProblemDetails - 1 - Error: 400 - Invalid attribute selector. The response body shall contain a ProblemDetails structure, in which the ""detail"" attribute should convey more information about the error. * - ProblemDetails - 1 - Error: 400 - Response too big. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (PmJob) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this PM job. * - objectType - String - 1 - Type of the measured object. The applicable measured object type for a measurement is defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - objectInstanceIds - Identifier - 1..N - Identifiers of the measured object instances for which performance information is collected. * - subObjectInstanceIds - IdentifierInVnf - 0..N - Identifiers of the measured object instances in case of a structured measured object. * - criteria - PmJobCriteria - 1 - Criteria of the collection of performance information. * - >performanceMetric - String - 0..N - This defines the types of performance metrics for the specified object instances. Valid values are specified as ""Measurement Name"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. At least one of the two attributes (performance metric or group) shall be present. * - >performanceMetricGroup - String - 0..N - Group of performance metrics. A metric group is a pre-defined list of metrics, known to the API producer that it can decompose to individual metrics. Valid values are specified as ""Measurement Group"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. At least one of the two attributes (performance metric or group) shall be present. * - >collectionPeriod - UnsignedInt - 1 - Specifies the periodicity at which the API producer will collect performance information. The unit shall be seconds. * - >reportingPeriod - UnsignedInt - 1 - Specifies the periodicity at which the API producer will report to the API consumer. about performance information. The unit shall be seconds. The reportingPeriod should be equal to or a multiple of the collectionPeriod. * - >reportingBoundary - DateTime - 0..1 - Identifies a time boundary after which the reporting will stop. The boundary shall allow a single reporting as well as periodic reporting up to the boundary. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - reports - Structure (inlined) - 0..N - Information about available reports collected by this PM job. * - >href - Uri - 1 - The URI where the report can be obtained. * - >readyTime - DateTime - 1 - The time when the report was made available. * - >expiryTime - DateTime - 0..1 - The time when the report will expire. * - >fileSize - UnsignedInt - 0..1 - The size of the report file in bytes, if known. * - _links - Structure (inlined) - 1 - Links for this resource. * - >self - Link - 1 - URI of this resource. * - >objects - Link - 0..N - Links to resources representing the measured object instances for which performance information is collected. Shall be present if the measured object instance information is accessible as a resource. * | **Name**: Get a PM job | **Description**: Get a individual PM job | **Method type**: GET | **URL for the resource**: /vnfpm/v2/pm_jobs/{pmJobId} | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - PmJob - 1 - Success: 200 - Shall be returned when information about an individual PM job has been read successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (PmJob) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this PM job. * - objectType - String - 1 - Type of the measured object. The applicable measured object type for a measurement is defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - objectInstanceIds - Identifier - 1..N - Identifiers of the measured object instances for which performance information is collected. * - subObjectInstanceIds - IdentifierInVnf - 0..N - Identifiers of the measured object instances in case of a structured measured object. * - criteria - PmJobCriteria - 1 - Criteria of the collection of performance information. * - >performanceMetric - String - 0..N - This defines the types of performance metrics for the specified object instances. Valid values are specified as ""Measurement Name"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. At least one of the two attributes (performance metric or group) shall be present. * - >performanceMetricGroup - String - 0..N - Group of performance metrics. A metric group is a pre-defined list of metrics, known to the API producer that it can decompose to individual metrics. Valid values are specified as ""Measurement Group"" values in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. At least one of the two attributes (performance metric or group) shall be present. * - >collectionPeriod - UnsignedInt - 1 - Specifies the periodicity at which the API producer will collect performance information. The unit shall be seconds. * - >reportingPeriod - UnsignedInt - 1 - Specifies the periodicity at which the API producer will report to the API consumer. about performance information. The unit shall be seconds. The reportingPeriod should be equal to or a multiple of the collectionPeriod. * - >reportingBoundary - DateTime - 0..1 - Identifies a time boundary after which the reporting will stop. The boundary shall allow a single reporting as well as periodic reporting up to the boundary. * - callbackUri - Uri - 1 - The URI of the endpoint to send the notification to. * - reports - Structure (inlined) - 0..N - Information about available reports collected by this PM job. * - >href - Uri - 1 - The URI where the report can be obtained. * - >readyTime - DateTime - 1 - The time when the report was made available. * - >expiryTime - DateTime - 0..1 - The time when the report will expire. * - >fileSize - UnsignedInt - 0..1 - The size of the report file in bytes, if known. * - _links - Structure (inlined) - 1 - Links for this resource. * - >self - Link - 1 - URI of this resource. * - >objects - Link - 0..N - Links to resources representing the measured object instances for which performance information is collected. Shall be present if the measured object instance information is accessible as a resource. * | **Name**: Modify a PM job. | **Description**: Modify resource of an individual PM job | **Method type**: PATCH | **URL for the resource**: /vnfpm/v2/pm_jobs/{pmJobId} | **Content-Type**: application/mergepatch+json | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - PmJobModifications - 1 - Parameters for the PM job modification. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (PmJobModifications) - Data type - Cardinality - Description * - callbackUri - Uri - 0..1 - New value of the ""callbackUri"" attribute. The value ""null"" is not permitted. * - authentication - SubscriptionAuthentication - 0..1 - New value of the ""authentication"" attribute, or ""null"" to remove the attribute. If present in a request body, these modifications shall be applied according to the rules of JSON Merge Patch. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - PmJobModifications - 1 - Success: 200 - Shall be returned when the request has been processed successfully. * - ProblemDetails - 0..1 - Error: 412 - A precondition given in an HTTP request header is not fulfilled. Typically, this is due to an ETag mismatch, indicating * - ProblemDetails - 1 - 422 - The content type of the payload body is supported and the payload body of a request contains syntactically correct data but the data cannot be processed. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (PmJobModifications) - Data type - Cardinality - Description * - callbackUri - Uri - 0..1 - New value of the ""callbackUri"" attribute. The value ""null"" is not permitted. The authentication parameter shall not be present in response bodies. * | **Name**: Delete a PM job | **Description**: Delete the PM job in the Tacker | **Method type**: DELETE | **URL for the resource**: /vnfpm/v2/pm_jobs/{pmJobId} | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned when the PM job has been deleted successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. * | **Name**: Get individual performance report | **Description**: Get an individual performance report | **Method type**: GET | **URL for the resource**: /vnfpm/v2/pm_jobs/{pmJobId}/reports/{reportId} | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - PerformanceReport - 1 - Success: 200 - Shall be returned when information of an individual performance report has been read successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (PerformanceReport) - Data type - Cardinality - Description * - entries - Structure (inlined) - 1..N - List of performance information entries. * - >objectType - String - 1 - Type of the measured object. The applicable measured object type for a measurement is defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - >objectInstanceId - Identifier - 1 - Identifier of the measured object instance for which the performance metric is reported. * - >subObjectInstanceId - IdentifierInVnf - 0..1 - Identifier of the sub-object instance of the measured object instance for which the performance metric is reported. Shall be present if this is required in clause 6.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_ for the related measured object type. * - >performanceMetric - String - 1 - Name of the metric collected. This attribute shall contain the related ""Measurement Name"" value as defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - >performanceValues - Structure (inlined) - 1..N - List of performance values with associated timestamp. * - >>timeStamp - DateTime - 1 - Time stamp indicating when the data has been collected. * - >>value - (any type) - 1 - Value of the metric collected. The type of this attribute shall correspond to the related ""Measurement Unit"" as defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - >>context - KeyValuePairs - 0..1 - Measurement context information related to the measured value. The set of applicable keys is defined per measurement in the related ""Measurement Context"" in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * | **Name**: Notifies a VNF Performance Management event | **Description**: Delivers a notification regarding a Performance Management event | **Method type**: POST | **URL for the resource**: <Client URI for notifications> | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - PerformanceInformationAvailableNotification - 1 - Notification about performance information availability .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (PerformanceInformationAvailableNotification) - Data type - Cardinality - Description * - id - Identifier - 1 - Identifier of this notification. If a notification is sent multiple times due to multiple subscriptions, the ""id"" attribute of all these notifications shall have the same value. * - notificationType - String - 1 - Discriminator for the different notification types. Shall be set to ""PerformanceInformationAvailableNotification"" for this notification type. * - timeStamp - DateTime - 1 - Date and time of the generation of the notification. * - pmJobId - Identifier - 1 - Identifier of the PM job for which performance information is available. * - objectType - String - 1 - Type of the measured object. The applicable measured object type for a measurement is defined in clause 7.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - objectInstanceId - Identifier - 1 - Identifier of the measured object instance as per clause 6.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_. * - subObjectInstanceIds - IdentifierInVnf - 0..N - Identifiers of the sub-object instances of the measured object instance for which the measurements have been taken. Shall be present if the related PM job has been set up to measure only a subset of all sub-object instances of the measured object instance and a sub-object is defined in clause 6.2 of ETSI GS NFV-IFA 027 [#NFV-IFA027_331]_ for the related measured object type. Shall be absent otherwise. * - _links - Structure (inlined) - 1 - Links to resources related to this notification. * - >objectInstance - NotificationLink - 0..1 - Link to the resource representing the measured object instance to which the notification applies. Shall be present if the measured object instance information is accessible as a resource. * - >pmJob - NotificationLink - 1 - Link to the resource that represents the PM job for which performance information is available. * - >performanceReport - NotificationLink - 1 - Link from which the available performance information of data type ""PerformanceReport"" can be obtained. This link should point to an ""Individual performance report"" resource. | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned when the notification has been delivered successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. * | **Name**: Test the notification endpoint | **Description**: Confirm that the URI of Client is correct. | **Method type**: GET | **URL for the resource**: <Client URI for notifications> | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - n/a - - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned to indicate that the notification endpoint has been tested successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. The following RESTful API is Tacker specific interface used for Fault Management between Tacker and External Monitoring Tool. * | **Name**: Send a alert event | **Description**: Receive the alert sent from External Monitoring Tool | **Method type**: POST | **URL for the resource**: /alert | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - AlertEvent - 1 - the alert sent from External Monitoring Tool .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (AlertEvent) - Data type - Cardinality - Description * - receiver - String - 1 - Defines the receiver's name that the notification will be sent to. * - status - String - 1 - Defined as firing if at least one alert is firing, otherwise resolved. * - alerts - Structure(inlined) - 1..N - List of all alert objects in this group. * - >status - String - 1 - Defines whether or not the alert is resolved or currently firing. * - >labels - Structure(inlined) - 1 - A set of labels to be attached to the alert. * - >>receiver_type - String - 1 - Type of receiver: tacker * - >>function_type - String - 1 - Type of function: vnffm * - >>vnf_instance_id - Identifier - 1 - Identifier of vnf instance. * - >>node - String - 0..1 - Name of node. * - >>perceived_severity - String - 1 - Perceived severity of the managed object failure. CRITICAL,MAJOR,MINOR,WARNING,INDETERMINATE,CLEARED * - >>event_type - String - 1 - Event type. COMMUNICATIONS_ALARM, PROCESSING_ERROR_ALARM, ENVIRONMENTAL_ALARM, QOS_ALARM, EQUIPMENT_ALARM * - >annotations - Structure(inlined) - 1 - A set of annotations for the alert. * - >>fault_type - String - 0..1 - Additional information to clarify the type of the fault. * - >>probable_cause - String - 1 - Information about the probable cause of the fault. * - >>fault_details - String - 0..1 - Provides additional information about the fault. * - >startsAt - DateTime - 1 - The time the alert started firing. * - >endsAt - DateTime - 1 - The end time of an alert. * - >generatorURL - String - 1 - A backlink which identifies the causing entity of this alert. * - >fingerprint - String - 1 - Fingerprint that can be used to identify the alert. * - groupLabels - KeyValuePairs - 1 - The labels these alerts were grouped by. * - commonLabels - KeyValuePairs - 1 - The labels common to all of the alerts. * - commonAnnotations - KeyValuePairs - 1 - Set of common annotations to all of the alerts. Used for longer additional strings of information about the alert. * - externalURL - String - 1 - Backlink to the Alertmanager that sent the notification. * - version - String - 1 - * - groupKey - String - 1 - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned when a request has been read successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. The following RESTful APIs are Tacker specific interfaces used for Performance Management between Tacker and External Monitoring Tool. * | **Name**: Send a PM event | **Description**: Receive the PM event sent from External Monitoring Tool | **Method type**: POST | **URL for the resource**: /pm_event | **Request**: .. list-table:: :header-rows: 1 :widths: 18 10 50 * - Data type - Cardinality - Description * - PerformanceEvent - 1 - The PM event sent from External Monitoring Tool .. list-table:: :header-rows: 1 :widths: 18 18 10 50 * - Attribute name (PerformanceEvent) - Data type - Cardinality - Description * - receiver - String - 1 - Defines the receiver's name that the notification will be sent to. * - status - String - 1 - Defined as firing if at least one alert is firing, otherwise resolved. This attribute is not referred by Tacker in case of PM. * - alerts - Structure(inlined) - 1..N - List of all alert objects in this group. * - >status - String - 1 - Defines whether or not the alert is resolved or currently firing. * - >labels - Structure(inlined) - 1 - A set of labels to be attached to the alert. * - >>receiver_type - String - 1 - Type of receiver: tacker * - >>function_type - String - 1 - Type of function: vnfpm * - >>job_id - Identifier - 1 - Identifier of the PM job * - >>object_instance_id - Identifier - 1 - Identifier of the measured object instance for which the performance metric is reported. * - >>sub_object_instance_id - Identifier - 0..1 - Identifier of the measured object sub instance for which the performance metric is reported. * - >annotations - Structure(inlined) - 1 - A set of annotations for the alert. * - >>value - (any type) - 0..1 - Value of the metric collected. * - >startsAt - DateTime - 1 - The time the alert started firing. * - >endsAt - DateTime - 1 - The end time of an alert. * - >generatorURL - String - 1 - A backlink which identifies the causing entity of this alert. * - >fingerprint - String - 1 - Fingerprint that can be used to identify the alert. * - groupLabels - KeyValuePairs - 1 - The labels these alerts were grouped by. * - commonLabels - KeyValuePairs - 1 - The labels common to all of the alerts. * - commonAnnotations - KeyValuePairs - 1 - Set of common annotations to all of the alerts. Used for longer additional strings of information about the alert. * - externalURL - String - 1 - Backlink to the Alertmanager that sent the notification. * - version - String - 1 - * - groupKey - String - 1 - | **Response**: .. list-table:: :header-rows: 1 :widths: 18 10 18 50 * - Data type - Cardinality - Response Codes - Description * - n/a - - Success: 204 - Shall be returned when a request has been read successfully. * - ProblemDetails - See clause 6.4 of [#NFV-SOL013_341]_ - Error: 4xx/5xx - In addition to the response codes defined above, any common error response code as defined in clause 6.4 of ETSI GS NFV-SOL 013 [#NFV-SOL013_341]_ may be returned. Security impact --------------- None Notifications impact -------------------- Fault Management: + Tacker sends POST <Client URI from subscriptions> to NFVO or EM to notify Client that Tacker received an alarm. + Tacker sends GET <Client URI from subscriptions> to NFVO or EM to confirm that the URI of Client is correct. Performance Management: + Tacker sends POST <Client URI for notifications> to NFVO or EM to notify Client that Tacker received a PM related event. + Tacker sends GET <Client URI for notifications> to NFVO or EM to confirm that the URI of Client is correct. + Tacker sends GET/POST /api/v1/alerts to External Monitoring Tool to set PM jobs. + Tacker sends GET/POST /api/v1/query to External Monitoring Tool to get data related to a PM event. Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Masaki Ueno <masaki.ueno.up@hco.ntt.co.jp> Other contributors: Koji Shimizu <shimizu.koji@fujitsu.com> Yoshiyuki Katada <katada.yoshiyuk@fujitsu.com> Ayumu Ueha <ueha.ayumu@fujitsu.com> Yusuke Niimi <niimi.yusuke@fujitsu.com> Work Items ---------- * Implement Tacker to support: * Fault Management interface * Add new Rest API ``GET /vnffm/v1/alarms`` to get all alarms. * Add new Rest API ``GET /vnffm/v1/alarms/{alarmId}`` to get the specified alarm. * Add new Rest API ``PATCH /vnffm/v1/alarms/{alarmId}`` to change target Alarm to confirmed. * Add new Rest API ``POST /vnffm/v1/subscriptions`` to create a new subscription. * Add new Rest API ``GET /vnffm/v1/subscriptions`` to get all subscription. * Add new Rest API ``GET /vnffm/v1/subscriptions/{subscriptionId}`` to get the specified subscription. * Add new Rest API ``DELETE /vnffm/v1/subscriptions/{subscriptionId}`` to delete the specified subscription. * Add new Request ``POST <Client URI from subscriptions>`` to notify Client that Tacker received an alarm. * Add new Request ``GET <Client URI from subscriptions>`` to confirm that the URI of Client is correct. * Performance Management interface * Add new Rest API POST ``/vnfpm/v2/pm_jobs`` to create a PM job. * Add new Rest API GET ``/vnfpm/v2/pm_jobs`` to get all PM jobs. * Add new Rest API GET ``/vnfpm/v2/pm_jobs/{pmJobId}`` to get the specified PM job. * Add new Rest API PATCH ``/vnfpm/v2/pm_jobs/{pmJobId}`` to change target PM job. * Add new Rest API DELETE ``/vnfpm/v2/pm_jobs/{pmJobId}`` to delete the specified PM job. * Add new Rest API GET ``/vnfpm/v2/pm_jobs/{pmJobId}/reports/{reportId}`` to get the specified PM report. * Add new request POST ``<Client URI for notifications>`` to notify Client that Tacker received an alarm. * Add new request GET ``<Client URI for notifications>`` to confirm that the URI of Client is correct. * External Monitoring interface * Add new Rest API POST ``/alert`` to receive the FM alert sent from External Monitoring Tool. * Add new Rest API POST ``/pm_event`` to receive the PM event sent from External Monitoring Tool. * Add new unit and functional tests. Dependencies ============ None. Testing ======= Unit and functional tests will be added to cover cases required in the spec. Documentation Impact ==================== * Complete user guide will be added to explain how to monitor by External Monitoring Tool. * Update API documentation on the API additions mentioned in `REST API impact`_. References ========== .. [#Prometheus] https://prometheus.io/docs/introduction/overview/ .. [#SOL002_v3.3.1] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/03.03.01_60/gs_nfv-sol002v030301p.pdf .. [#SOL003_v3.3.1] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf .. [#Alert_server_for_Prometheus_with_Kubernetes_cluster_VNF_sample] https://review.opendev.org/c/openstack/tacker-specs/+/786573/1/specs/xena/prometheus-monitoring.rst .. [#NFV-SOL013_341] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/013/03.04.01_60/gs_nfv-sol013v030401p.pdf .. [#NFV-IFA027_331] https://www.etsi.org/deliver/etsi_gs/NFV-IFA/001_099/027/03.03.01_60/gs_nfv-ifa027v030301p.pdf ",,3866,0
openstack%2Fproject-config~master~I89cff1aa9d3b60ee24176cbfea9d1a81e2c976cd,openstack/project-config,master,I89cff1aa9d3b60ee24176cbfea9d1a81e2c976cd,Synchronize diskimages on builders,MERGED,2022-07-28 17:36:15.000000000,2022-07-29 01:05:49.000000000,2022-07-29 00:55:33.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 17:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/de731c4bb3fbdd5182f7b3ee807732da80ca9e01', 'message': ""Synchronize diskimages on builders\n\nRecent changes in how nodepool deletes images mean that we need\na list of all diskimages on every builder (otherwise there is a\nsmall window where a new image build might be deleted by a different\nbuilder).  To correct this, list all diskimages on all builders\n(but they still won't build images they shouldn't because they have\ndifferent provider configurations).\n\nChange-Id: I89cff1aa9d3b60ee24176cbfea9d1a81e2c976cd\n""}, {'number': 2, 'created': '2022-07-28 17:55:27.000000000', 'files': ['nodepool/nodepool.yaml', 'nodepool/nb03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c1b692b0a0793d64207efc387e585ee65c763ebf', 'message': ""Synchronize diskimages on builders\n\nRecent changes in how nodepool deletes images mean that we need\na list of all diskimages on every builder (otherwise there is a\nsmall window where a new image build might be deleted by a different\nbuilder).  To correct this, list all diskimages on all builders\n(but they still won't build images they shouldn't because they have\ndifferent provider configurations).\n\nChange-Id: I89cff1aa9d3b60ee24176cbfea9d1a81e2c976cd\n""}]",2,851444,c1b692b0a0793d64207efc387e585ee65c763ebf,12,3,2,1,,,0,"Synchronize diskimages on builders

Recent changes in how nodepool deletes images mean that we need
a list of all diskimages on every builder (otherwise there is a
small window where a new image build might be deleted by a different
builder).  To correct this, list all diskimages on all builders
(but they still won't build images they shouldn't because they have
different provider configurations).

Change-Id: I89cff1aa9d3b60ee24176cbfea9d1a81e2c976cd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/44/851444/2 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'nodepool/nb03.opendev.org.yaml']",2,de731c4bb3fbdd5182f7b3ee807732da80ca9e01,,"############ CentOS and Fedora (and derivatives) ############# - name: centos-7 parent: base pause: false elements: - centos-minimal - epel - cache-devstack env-vars: DIB_EPEL_DISABLED: '1' - name: centos-8-stream parent: base pause: false python-path: /usr/bin/python3 release: '8-stream' elements: - cache-devstack - centos-minimal - epel env-vars: DIB_EPEL_DISABLED: '1' - name: centos-9-stream parent: base pause: false python-path: /usr/bin/python3 release: '9-stream' elements: - cache-devstack - centos-minimal - epel env-vars: DIB_EPEL_DISABLED: '1' - name: rockylinux-8 parent: base pause: false python-path: /usr/bin/python3 release: '8' elements: - cache-devstack - rocky-container - epel env-vars: DIB_EPEL_DISABLED: '1' - name: fedora-35 parent: base pause: false python-path: /usr/bin/python3 elements: - fedora-container - cache-devstack release: 35 ############ Debian ############# - name: debian-buster parent: base-debuntu pause: false elements: - debian-minimal - cache-devstack release: buster env-vars: DIB_DISTRIBUTION_MIRROR: 'https://mirror.dfw.rax.opendev.org/debian' DIB_DEBIAN_SECURITY_MIRROR: 'https://mirror.dfw.rax.opendev.org/debian-security' DIB_DEBIAN_SECURITY_SUBPATH: '' DIB_BLOCK_DEVICE_CONFIG: | # Default single partition loopback - local_loop: name: image0 - partitioning: base: image0 label: mbr partitions: - name: root flags: [ boot, primary ] size: 100% mkfs: mount: mount_point: / fstab: options: ""defaults,nobarrier,noatime"" fsck-passno: 1 - name: debian-bullseye parent: base-debuntu pause: false elements: - debian-minimal - cache-devstack release: bullseye python-path: /usr/bin/python3 env-vars: DIB_DISTRIBUTION_MIRROR: 'https://mirror.dfw.rax.opendev.org/debian' DIB_DEBIAN_SECURITY_MIRROR: 'https://mirror.dfw.rax.opendev.org/debian-security' DIB_DEBIAN_SECURITY_SUBPATH: '' DIB_BLOCK_DEVICE_CONFIG: | # Default single partition loopback - local_loop: name: image0 - partitioning: base: image0 label: mbr partitions: - name: root flags: [ boot, primary ] size: 100% mkfs: mount: mount_point: / fstab: options: ""defaults,nobarrier,noatime"" fsck-passno: 1 ############ Gentoo ############# - name: gentoo-17-0-systemd parent: base elements: - gentoo env-vars: GENTOO_PYTHON_TARGETS: 'python3_9' GENTOO_PYTHON_ACTIVE_VERSION: python3.9 GENTOO_PROFILE: 'default/linux/amd64/17.1/systemd' ############ openSUSE ############# - name: opensuse-15 parent: base # NOTE(ianw): Paused 2020-12-18 due to persistent build failures # pending investigation. Unpausing as images were deleted and we need # new builds to debug. pause: false elements: - opensuse-minimal - cache-devstack release: '15.2' python-path: /usr/bin/python3 env-vars: DIB_DISTRIBUTION_MIRROR: 'https://mirror.dfw.rax.opendev.org/opensuse' ############ Ubuntu ############# - name: ubuntu-bionic parent: base-debuntu pause: false elements: - ubuntu-minimal - cache-devstack release: bionic env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.opendev.org/ubuntu' DIB_DEBIAN_COMPONENTS: 'main,universe' - name: ubuntu-focal parent: base-debuntu pause: false elements: - ubuntu-minimal - cache-devstack release: focal env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.opendev.org/ubuntu' DIB_DEBIAN_COMPONENTS: 'main,universe' - name: ubuntu-jammy parent: base-debuntu pause: false elements: - ubuntu-minimal - cache-devstack release: jammy env-vars: DIB_DISTRIBUTION_MIRROR: 'https://mirror.dfw.rax.opendev.org/ubuntu' DIB_DEBIAN_COMPONENTS: 'main,universe' # NOTE(ianw) 2022-05-20 : we have found a problem on some cloud # providers (OVH at least) where setting SSBD mitigation flags # seems to be disabled and this causes endless kernel tracebacks # from writing invalid flags into MSR registers, flooding the # logs. By default spec_store_bypass_disable is set to # ""seccomp"" which means the kernel forces every seccomp() call # into this. Setting it to prctl means userspace has to opt-in # with an explicit call. This is actually the default on more # recent kernels; the reasons are many but the bug [1] goes # through it with links to relevant changes. # # While we try and sort out either backporting this to upstream # kernels or some other upstream workaround, we set # spec_store_bypass_disable=prctl here to avoid this problem in # our providers. The other bits are just the dib defaults which # need to be replicated when overriding this. # # [1] https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1973839 DIB_BOOTLOADER_DEFAULT_CMDLINE: 'nofb nomodeset gfxpayload=text spec_store_bypass_disable=prctl' - name: ubuntu-xenial parent: base-debuntu pause: false elements: - ubuntu-minimal - cache-devstack release: xenial env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.opendev.org/ubuntu' DIB_DEBIAN_COMPONENTS: 'main,universe' ############ openEuler ############# - name: openEuler-20-03-LTS-SP2 parent: base python-path: /usr/bin/python3 elements: - openeuler-minimal - cache-devstack release: 20.03-LTS-SP2 env-vars: DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.opendev.org/openeuler/openEuler-20.03-LTS-SP2/' ############ arm64 ############# ",,308,0
openstack%2Fcharm-trilio-horizon-plugin~stable%2F4.1~Ica3a02ba4c0e1322422981ccecd20588e48a2883,openstack/charm-trilio-horizon-plugin,stable/4.1,Ica3a02ba4c0e1322422981ccecd20588e48a2883,Correct bundles charm channel,MERGED,2022-07-27 19:20:54.000000000,2022-07-29 00:32:49.000000000,2022-07-29 00:32:49.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 19:20:54.000000000', 'files': ['src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/285bccc33821c85ecf8f6c56f13ce16654db7d52', 'message': 'Correct bundles charm channel\n\nChange-Id: Ica3a02ba4c0e1322422981ccecd20588e48a2883\n'}]",1,851253,285bccc33821c85ecf8f6c56f13ce16654db7d52,9,3,1,12549,,,0,"Correct bundles charm channel

Change-Id: Ica3a02ba4c0e1322422981ccecd20588e48a2883
",git fetch https://review.opendev.org/openstack/charm-trilio-horizon-plugin refs/changes/53/851253/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml']",4,285bccc33821c85ecf8f6c56f13ce16654db7d52,fix-bundle-channel-4.1, trilio-charm-channel: &trilio-charm-channel '4.1/edge' charm: ch:trilio-data-mover charm: ch:trilio-dm-api charm: ch:trilio-wlm, trilio-charm-channel: &trilio-charm-channel 'latest/stable' charm: ch:openstack-charmers-trilio-data-mover charm: ch:openstack-charmers-trilio-dm-api charm: ch:openstack-charmers-trilio-wlm,16,16
openstack%2Fswift~master~I4d807f3b3649a45dbb2166bb8e911c45fb9cb701,openstack/swift,master,I4d807f3b3649a45dbb2166bb8e911c45fb9cb701,CI: Add nslookup_target to FIPS jobs,MERGED,2022-07-28 21:58:31.000000000,2022-07-29 00:24:41.000000000,2022-07-29 00:22:51.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 21:58:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/59508de0c3c16ba8b6a1251faf2dc0b7db5f800b', 'message': 'CI: Add nslookup_target to FIPS jobs\n\nAt some point, this became a required parameter.\n\nChange-Id: I4d807f3b3649a45dbb2166bb8e911c45fb9cb701\nRelated-Change: Iebf474c9351e4246d7ab2072b48a50e93dbf0b94\n'}]",1,851472,59508de0c3c16ba8b6a1251faf2dc0b7db5f800b,8,2,1,15343,,,0,"CI: Add nslookup_target to FIPS jobs

At some point, this became a required parameter.

Change-Id: I4d807f3b3649a45dbb2166bb8e911c45fb9cb701
Related-Change: Iebf474c9351e4246d7ab2072b48a50e93dbf0b94
",git fetch https://review.opendev.org/openstack/swift refs/changes/72/851472/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,59508de0c3c16ba8b6a1251faf2dc0b7db5f800b,, nslookup_target: 'opendev.org' nslookup_target: 'opendev.org' nslookup_target: 'opendev.org',,3,0
openstack%2Fcharm-gnocchi~master~I79916b0a9fa1cc4442435824005fde599a114260,openstack/charm-gnocchi,master,I79916b0a9fa1cc4442435824005fde599a114260,Update .gitreview for r/stx.7.0,ABANDONED,2022-07-28 11:36:08.000000000,2022-07-29 00:23:10.000000000,,"[{'_account_id': 8992}, {'_account_id': 10058}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 11:36:08.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/b3ce252fde94c44152fb14d3cc3c8555cb6c02b0', 'message': 'Update .gitreview for r/stx.7.0\n\nSigned-off-by: Scott Little <scott.little@windriver.com>\n\nChange-Id: I79916b0a9fa1cc4442435824005fde599a114260\n'}]",2,851325,b3ce252fde94c44152fb14d3cc3c8555cb6c02b0,6,4,1,35067,,,0,"Update .gitreview for r/stx.7.0

Signed-off-by: Scott Little <scott.little@windriver.com>

Change-Id: I79916b0a9fa1cc4442435824005fde599a114260
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/25/851325/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b3ce252fde94c44152fb14d3cc3c8555cb6c02b0,,defaultbranch=r/stx.7.0,,1,0
openstack%2Ftripleo-common~stable%2Ftrain~I4132f184454b9c2b907d3317256c3de185fd9da9,openstack/tripleo-common,stable/train,I4132f184454b9c2b907d3317256c3de185fd9da9,HA: do not rotate cluster passwords,MERGED,2022-07-26 07:41:35.000000000,2022-07-28 23:43:07.000000000,2022-07-28 23:42:09.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-26 07:41:35.000000000', 'files': ['tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/efae4393430fa76808640f87b01f46a1fe3005a7', 'message': 'HA: do not rotate cluster passwords\n\nVarious passwords used by pacemaker (pcsd,\npacemaker remote, clustercheck), cannot currently\nbe updated on one node without impacting communication\nwith the other nodes in the cluster (pacemaker), or\nother clustered services (galera).\n\nDo not rotate those cluster passwords by default, until\nan orchestrated rotation is implemented specifically\nfor each of them.\n\nCloses-Bug: #1960277\nChange-Id: I4132f184454b9c2b907d3317256c3de185fd9da9\n(cherry picked from commit 77130ddceaa3c06cbf359e71204efecb6e195ff2)\n(cherry picked from commit 301b6b8a5c9e475ab4a557912cfb3c6513a4db7f)\n'}]",1,850922,efae4393430fa76808640f87b01f46a1fe3005a7,11,3,1,20778,,,0,"HA: do not rotate cluster passwords

Various passwords used by pacemaker (pcsd,
pacemaker remote, clustercheck), cannot currently
be updated on one node without impacting communication
with the other nodes in the cluster (pacemaker), or
other clustered services (galera).

Do not rotate those cluster passwords by default, until
an orchestrated rotation is implemented specifically
for each of them.

Closes-Bug: #1960277
Change-Id: I4132f184454b9c2b907d3317256c3de185fd9da9
(cherry picked from commit 77130ddceaa3c06cbf359e71204efecb6e195ff2)
(cherry picked from commit 301b6b8a5c9e475ab4a557912cfb3c6513a4db7f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/22/850922/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,efae4393430fa76808640f87b01f46a1fe3005a7,clustercheck-rotation-stable/wallaby-stable/train," 'MysqlClustercheckPassword', 'PacemakerRemoteAuthkey', 'PcsdPassword',",,3,0
openstack%2Fcharm-trilio-horizon-plugin~stable%2F4.0~I2224a8b83d84946a69b4b232cdcecde1cb9828f9,openstack/charm-trilio-horizon-plugin,stable/4.0,I2224a8b83d84946a69b4b232cdcecde1cb9828f9,Correct bundles charm channel,MERGED,2022-07-25 06:01:36.000000000,2022-07-28 23:41:38.000000000,2022-07-28 23:41:38.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-25 06:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/5657f15bbacf92b33d1b05716ca634e24bc25c17', 'message': 'Correct bundles charm channel\n\nChange-Id: I2224a8b83d84946a69b4b232cdcecde1cb9828f9\n'}, {'number': 2, 'created': '2022-07-25 06:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/eb52ae4b4ea24af35a1fda5f3e6f8502248c1e41', 'message': 'Correct bundles charm channel\n\nChange-Id: I2224a8b83d84946a69b4b232cdcecde1cb9828f9\n'}, {'number': 3, 'created': '2022-07-27 12:47:10.000000000', 'files': ['src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-train-41.yaml', 'src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-train-40.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/bundles/bionic-stein-41.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/519b211f0eec4c8f85154071c32262ca89e82b53', 'message': 'Correct bundles charm channel\n\nChange-Id: I2224a8b83d84946a69b4b232cdcecde1cb9828f9\n'}]",1,850853,519b211f0eec4c8f85154071c32262ca89e82b53,14,3,3,12549,,,0,"Correct bundles charm channel

Change-Id: I2224a8b83d84946a69b4b232cdcecde1cb9828f9
",git fetch https://review.opendev.org/openstack/charm-trilio-horizon-plugin refs/changes/53/850853/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-train-41.yaml', 'src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/bionic-train-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/bundles/bionic-stein-41.yaml']",8,5657f15bbacf92b33d1b05716ca634e24bc25c17,fix-bundle-channel-4.0,,"variables: openstack-origin: &openstack-origin 'cloud:bionic-stein' openstack-charm-channel: &openstack-charm-channel 'stein/edge' ceph-charm-channel: &ceph-charm-channel 'octopus/edge' rabbit-charm-channel: &rabbit-charm-channel '3.8/edge' mysql-charm-channel: &mysql-charm-channel '5.7/edge' vault-charm-channel: &vault-charm-channel '1.7/edge' trilio-charm-channel: &trilio-charm-channel 'latest/stable' triliovault-pkg-source: &triliovault-pkg-source 'deb [trusted=yes] https://apt.fury.io/triliodata-4-1/ /' series: &series bionic relations: - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp-nova' - 'rabbitmq-server:amqp' - - 'keystone:shared-db' - 'mysql:shared-db' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'glance:identity-service' - 'keystone:identity-service' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'neutron-openvswitch:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'cinder:shared-db' - 'mysql:shared-db' - - 'neutron-api:shared-db' - 'mysql:shared-db' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'glance:shared-db' - 'mysql:shared-db' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'neutron-openvswitch:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'mysql:shared-db' - - 'nova-cloud-controller:neutron-api' - 'neutron-api:neutron-api' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'trilio-wlm:shared-db' - 'mysql:shared-db' - - 'trilio-wlm:amqp' - 'rabbitmq-server:amqp' - - 'trilio-wlm:identity-service' - 'keystone:identity-service' - - 'glance:ceph' - 'ceph-mon:client' - - 'ceph-mon:osd' - 'ceph-osd:mon' - - 'ceph-osd:secrets-storage' - 'vault:secrets' - - 'cinder:storage-backend' - 'cinder-ceph:storage-backend' - - 'cinder-ceph:ceph' - 'ceph-mon:client' - - 'cinder-ceph:ceph-access' - 'nova-compute:ceph-access' - - 'vault:shared-db' - 'mysql:shared-db' - - 'vault:certificates' - 'keystone:certificates' - - 'vault:certificates' - 'neutron-api:certificates' - - 'vault:certificates' - 'cinder:certificates' - - 'vault:certificates' - 'glance:certificates' - - 'vault:certificates' - 'nova-cloud-controller:certificates' - - 'vault:certificates' - 'trilio-wlm:certificates' - - 'trilio-data-mover:amqp' - 'rabbitmq-server:amqp' - - 'trilio-data-mover:juju-info' - 'nova-compute:juju-info' - - 'trilio-dm-api:identity-service' - 'keystone:identity-service' - - 'trilio-dm-api:shared-db' - 'mysql:shared-db' - - 'trilio-dm-api:amqp' - 'rabbitmq-server:amqp' - - 'trilio-dm-api:certificates' - 'vault:certificates' - - 'trilio-horizon-plugin:dashboard-plugin' - 'openstack-dashboard:dashboard-plugin' - - 'openstack-dashboard:identity-service' - 'keystone:identity-service' - - 'trilio-data-mover:ceph' - 'ceph-mon:client' - - 'trilio-data-mover:shared-db' - 'mysql:shared-db' applications: glance: charm: ch:glance channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin cinder: charm: ch:cinder channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin block-device: ""None"" glance-api-version: 2 keystone: charm: ch:keystone channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin admin-password: openstack mysql: charm: ch:percona-cluster channel: *mysql-charm-channel num_units: 1 options: innodb-buffer-pool-size: 256M max-connections: 1000 neutron-api: charm: ch:neutron-api channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true neutron-gateway: charm: ch:neutron-gateway channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex neutron-openvswitch: charm: ch:neutron-openvswitch channel: *openstack-charm-channel num_units: 0 nova-cloud-controller: charm: ch:nova-cloud-controller channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron debug: true nova-compute: charm: ch:nova-compute channel: *openstack-charm-channel num_units: 3 constraints: mem=4G options: openstack-origin: *openstack-origin config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh debug: true cpu-model: kvm64 cpu-mode: custom # Allow for more retries when testing ontop of openstack config-flags: block_device_allocate_retries=120 rabbitmq-server: charm: ch:rabbitmq-server channel: *rabbit-charm-channel num_units: 1 trilio-data-mover: charm: ch:openstack-charmers-trilio-data-mover channel: *trilio-charm-channel options: triliovault-pkg-source: *triliovault-pkg-source trilio-dm-api: charm: ch:openstack-charmers-trilio-dm-api channel: *trilio-charm-channel num_units: 1 options: triliovault-pkg-source: *triliovault-pkg-source trilio-horizon-plugin: charm: ../../../trilio-horizon-plugin.charm options: triliovault-pkg-source: *triliovault-pkg-source trilio-wlm: charm: ch:openstack-charmers-trilio-wlm channel: *trilio-charm-channel num_units: 1 options: triliovault-pkg-source: *triliovault-pkg-source ceph-mon: charm: ch:ceph-mon channel: *ceph-charm-channel num_units: 3 options: source: *openstack-origin expected-osd-count: 3 ceph-osd: charm: ch:ceph-osd channel: *ceph-charm-channel constraints: mem=1G num_units: 3 options: source: *openstack-origin osd-encrypt-keymanager: vault osd-encrypt: True storage: osd-devices: cinder,40G cinder-ceph: charm: ch:cinder-ceph channel: *openstack-charm-channel vault: charm: ch:vault channel: *vault-charm-channel num_units: 1 nfs-server-test-fixture: charm: cs:~openstack-charmers-next/nfs-server-test-fixture num_units: 1 storage: share: cinder,40G openstack-dashboard: charm: ch:openstack-dashboard channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin ",3,1353
openstack%2Frequirements~stable%2Ftrain~I1b4e04b6a6008da51e26d7d0446ca028462bcb6f,openstack/requirements,stable/train,I1b4e04b6a6008da51e26d7d0446ca028462bcb6f,[Train-only]: Make neutron-granade job non-voting,ABANDONED,2022-07-25 05:48:37.000000000,2022-07-28 23:07:11.000000000,,"[{'_account_id': 8313}, {'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-25 05:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/cbc1b6bd4e3669af7930dc67fb3f1357da9aee12', 'message': 'Make neutron-granade job non-voting\n\nCurrently the neutron-grenade job is consistently failing because of\nsome process being stuck.\n\nThis change temporarily make the job non-voting to unblock CI.\n\nRelated-Bug: #1982720\nChange-Id: I1b4e04b6a6008da51e26d7d0446ca028462bcb6f\n'}, {'number': 2, 'created': '2022-07-26 15:20:08.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bf8e11f8ce254cdc2fd07f3dbd4ad634729e582d', 'message': '[Train-only]: Make neutron-granade job non-voting\n\nCurrently the neutron-grenade job in stable/train is consistently\nfailing because of the job script being stuck.\n\nThis change temporarily makes the job non-voting to unblock CI.\n\nRelated-Bug: #1982720\nChange-Id: I1b4e04b6a6008da51e26d7d0446ca028462bcb6f\n'}]",11,850828,bf8e11f8ce254cdc2fd07f3dbd4ad634729e582d,18,6,2,9816,,,0,"[Train-only]: Make neutron-granade job non-voting

Currently the neutron-grenade job in stable/train is consistently
failing because of the job script being stuck.

This change temporarily makes the job non-voting to unblock CI.

Related-Bug: #1982720
Change-Id: I1b4e04b6a6008da51e26d7d0446ca028462bcb6f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/850828/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,cbc1b6bd4e3669af7930dc67fb3f1357da9aee12,, voting: false voting: false,,2,0
openstack%2Fswift~master~Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7,openstack/swift,master,Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7,sharder: process deleted DBs,MERGED,2022-07-12 15:07:14.000000000,2022-07-28 22:26:35.000000000,2022-07-28 22:25:20.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-12 15:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f365974e2255c40a6fb1e90750d0b8a7e984a0fe', 'message': 'sharder: process deleted DBs\n\nIt is possible for some replicas of a container DB to be sharded, and\nfor the container to then be emptied and deleted, before another\nreplica of the DB has started sharding. Previously, the unsharded\nreplica would remain in the unsharded state because the sharder would\nnot process deleted DBs.\n\nThis patch modifies the sharder to always process deleted DBs; this\nwill result in the sharder making some additional DB queries for shard\nranges in order to determine whether any processing is required for\ndeleted DBs.\n\nChange-Id: Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7\n'}, {'number': 2, 'created': '2022-07-13 07:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9c0e7e7f51d447235b7e97ec496492b6e91ac7cb', 'message': 'sharder: process deleted DBs\n\nIt is possible for some replicas of a container DB to be sharded, and\nfor the container to then be emptied and deleted, before another\nreplica of the DB has started sharding. Previously, the unsharded\nreplica would remain in the unsharded state because the sharder would\nnot process deleted DBs.\n\nThis patch modifies the sharder to always process deleted DBs; this\nwill result in the sharder making some additional DB queries for shard\nranges in order to determine whether any processing is required for\ndeleted DBs.\n\nChange-Id: Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7\n'}, {'number': 3, 'created': '2022-07-13 16:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c19f0831375519758f5e93330bc6e96d85cf1ead', 'message': 'sharder: process deleted DBs\n\nIt is possible for some replicas of a container DB to be sharded, and\nfor the container to then be emptied and deleted, before another\nreplica of the DB has started sharding. Previously, the unsharded\nreplica would remain in the unsharded state because the sharder would\nnot process deleted DBs.\n\nThis patch modifies the sharder to always process deleted DBs; this\nwill result in the sharder making some additional DB queries for shard\nranges in order to determine whether any processing is required for\ndeleted DBs.\n\nChange-Id: Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7\n'}, {'number': 4, 'created': '2022-07-13 16:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/51a076df7ae6ddd49a02ae8e022f2c6ceb1bc446', 'message': 'sharder: process deleted DBs\n\nIt is possible for some replicas of a container DB to be sharded, and\nfor the container to then be emptied and deleted, before another\nreplica of the DB has started sharding. Previously, the unsharded\nreplica would remain in the unsharded state because the sharder would\nnot process deleted DBs.\n\nThis patch modifies the sharder to always process deleted DBs; this\nwill result in the sharder making some additional DB queries for shard\nranges in order to determine whether any processing is required for\ndeleted DBs.\n\nChange-Id: Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7\n'}, {'number': 5, 'created': '2022-07-14 03:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9e1233a9212238f118f7203a90f33d2b3c851f8c', 'message': 'sharder: process deleted DBs\n\nIt is possible for some replicas of a container DB to be sharded, and\nfor the container to then be emptied and deleted, before another\nreplica of the DB has started sharding. Previously, the unsharded\nreplica would remain in the unsharded state because the sharder would\nnot process deleted DBs.\n\nThis patch modifies the sharder to always process deleted DBs; this\nwill result in the sharder making some additional DB queries for shard\nranges in order to determine whether any processing is required for\ndeleted DBs.\n\nChange-Id: Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7\n'}, {'number': 6, 'created': '2022-07-14 03:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f8f75191ad9f3988d6d8cc5a565adf215234639e', 'message': 'sharder: process deleted DBs\n\nIt is possible for some replicas of a container DB to be sharded, and\nfor the container to then be emptied and deleted, before another\nreplica of the DB has started sharding. Previously, the unsharded\nreplica would remain in the unsharded state because the sharder would\nnot process deleted DBs.\n\nThis patch modifies the sharder to always process deleted DBs; this\nwill result in the sharder making some additional DB queries for shard\nranges in order to determine whether any processing is required for\ndeleted DBs.\n\nChange-Id: Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7\n'}, {'number': 7, 'created': '2022-07-14 04:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d284c57d9b4ee3f9a9712003377d3f22bb469295', 'message': 'sharder: process deleted DBs\n\nIt is possible for some replicas of a container DB to be sharded, and\nfor the container to then be emptied and deleted, before another\nreplica of the DB has started sharding. Previously, the unsharded\nreplica would remain in the unsharded state because the sharder would\nnot process deleted DBs.\n\nThis patch modifies the sharder to always process deleted DBs; this\nwill result in the sharder making some additional DB queries for shard\nranges in order to determine whether any processing is required for\ndeleted DBs.\n\nChange-Id: Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7\n'}, {'number': 8, 'created': '2022-07-14 04:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/34991abf80dad04bde314723841e31062ad00d60', 'message': 'sharder: process deleted DBs\n\nIt is possible for some replicas of a container DB to be sharded, and\nfor the container to then be emptied and deleted, before another\nreplica of the DB has started sharding. Previously, the unsharded\nreplica would remain in the unsharded state because the sharder would\nnot process deleted DBs.\n\nThis patch modifies the sharder to always process deleted DBs; this\nwill result in the sharder making some additional DB queries for shard\nranges in order to determine whether any processing is required for\ndeleted DBs.\n\nChange-Id: Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7\n'}, {'number': 9, 'created': '2022-07-21 15:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a303319f0c21cff5eef74a229d5131d3a6b0ef34', 'message': 'sharder: process deleted DBs\n\nIt is possible for some replicas of a container DB to be sharded, and\nfor the container to then be emptied and deleted, before another\nreplica of the DB has started sharding. Previously, the unsharded\nreplica would remain in the unsharded state because the sharder would\nnot process deleted DBs.\n\nThis patch modifies the sharder to always process deleted DBs; this\nwill result in the sharder making some additional DB queries for shard\nranges in order to determine whether any processing is required for\ndeleted DBs.\n\nChange-Id: Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7\n'}, {'number': 10, 'created': '2022-07-27 14:51:34.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/38271142eb403a1cdf587616b6d26bfc6b7fb382', 'message': 'sharder: process deleted DBs\n\nIt is possible for some replicas of a container DB to be sharded, and\nfor the container to then be emptied and deleted, before another\nreplica of the DB has started sharding. Previously, the unsharded\nreplica would remain in the unsharded state because the sharder would\nnot process deleted DBs.\n\nThis patch modifies the sharder to always process deleted DBs; this\nwill result in the sharder making some additional DB queries for shard\nranges in order to determine whether any processing is required for\ndeleted DBs.\n\nAuto-sharding will not act on deleted DBs.\n\nChange-Id: Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7\n'}]",16,849548,38271142eb403a1cdf587616b6d26bfc6b7fb382,38,4,10,7847,,,0,"sharder: process deleted DBs

It is possible for some replicas of a container DB to be sharded, and
for the container to then be emptied and deleted, before another
replica of the DB has started sharding. Previously, the unsharded
replica would remain in the unsharded state because the sharder would
not process deleted DBs.

This patch modifies the sharder to always process deleted DBs; this
will result in the sharder making some additional DB queries for shard
ranges in order to determine whether any processing is required for
deleted DBs.

Auto-sharding will not act on deleted DBs.

Change-Id: Ia6ad92042aa9a51e3ddefec0b9b8acae44e9e9d7
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/849548/8 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py']",3,f365974e2255c40a6fb1e90750d0b8a7e984a0fe,sharder_fallback_to_same_device," 'Failed to put shard ranges to %s:%s/%s %s/%s: %s', node['ip'], node['port'], node['device'], account, container, err.http_status) 'Failed to put shard ranges to %s:%s/%s %s/%s: %s', node['ip'], node['port'], node['device'], account, container, err) if not broker.is_deleted(): if state == SHARDED and broker.is_root_container(): # look for shrink stats self._identify_shrinking_candidate(broker, node) if is_leader: self._find_and_enable_shrinking_candidates(broker) self._find_and_enable_sharding_candidates(broker) for shard_range in broker.get_shard_ranges( states=[ShardRange.SHARDING]): self._send_shard_ranges( shard_range.account, shard_range.container, [shard_range]) if not broker.is_root_container(): # Update the root container with this container's shard range # info; do this even when sharded in case previous attempts # failed; don't do this if there is no own shard range. When # sharding a shard, this is when the root will see the new # shards move to ACTIVE state and the sharded shard # simultaneously become deleted. self._update_root_container(broker)"," 'Failed to put shard ranges to %s:%s/%s: %s', node['ip'], node['port'], node['device'], err.http_status) 'Failed to put shard ranges to %s:%s/%s: %s', node['ip'], node['port'], node['device'], err) if broker.is_deleted(): # This container is deleted so we can skip it. We still want # deleted containers to go via misplaced items because they may # have new objects sitting in them that may need to move. return if state == SHARDED and broker.is_root_container(): # look for shrink stats self._identify_shrinking_candidate(broker, node) if is_leader: self._find_and_enable_shrinking_candidates(broker) self._find_and_enable_sharding_candidates(broker) for shard_range in broker.get_shard_ranges( states=[ShardRange.SHARDING]): self._send_shard_ranges( shard_range.account, shard_range.container, [shard_range]) if not broker.is_root_container(): # Update the root container with this container's shard range # info; do this even when sharded in case previous attempts # failed; don't do this if there is no own shard range. When # sharding a shard, this is when the root will see the new # shards move to ACTIVE state and the sharded shard # simultaneously become deleted. self._update_root_container(broker)",164,46
openstack%2Fmanila~stable%2Fussuri~Ic7213030dd433b765d5a815d8a31aee01b09da1c,openstack/manila,stable/ussuri,Ic7213030dd433b765d5a815d8a31aee01b09da1c,[CI] Pin tempest plugin and scenario test image,MERGED,2022-07-15 15:06:06.000000000,2022-07-28 21:17:34.000000000,2022-07-28 21:15:32.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-07-15 15:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9b39f0515f7c8d659c83e6709e3a73c7e3a957d8', 'message': ""[CI] Pin tempest plugin and scenario test image\n\nTempest is pinned to a 26.1.0 on this stable\nbranch [1]. manila-tempest-plugin in Zed requires a newer\ntempest release [2] than this one. So, pin\nmanila-tempest-plugin as well to a version that can still\nwork with the pinned version of tempest.\n\nAlso, manila's test image (built from manila-image-elements)\nis based off of Ubuntu 22.04 (Jammy Jellyfish) in the Zed\nrelease; we don't need that image to be used to test this\nstable branch and we could use an older version (based on\nUbuntu 20.04 - Focal Fossa) that requires less memory/CPU [3]\n\n[1] https://review.opendev.org/c/openstack/devstack/+/838051\n[2] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/849995\n[3] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/846061\n\nChange-Id: Ic7213030dd433b765d5a815d8a31aee01b09da1c\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2022-07-15 15:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/144afc967fb573711a443e5d3849fd3cdbcdfd0e', 'message': ""[CI] Pin tempest plugin and scenario test image\n\nTempest is pinned to a 26.1.0 on this stable\nbranch [1]. manila-tempest-plugin in Zed requires a newer\ntempest release [2] than this one. So, pin\nmanila-tempest-plugin as well to a version that can still\nwork with the pinned version of tempest.\n\nAlso, manila's test image (built from manila-image-elements)\nis based off of Ubuntu 22.04 (Jammy Jellyfish) in the Zed\nrelease; we don't need that image to be used to test this\nstable branch and we could use an older version (based on\nUbuntu 20.04 - Focal Fossa) that requires less memory/CPU [3]\n\n[1] https://review.opendev.org/c/openstack/devstack/+/838051\n[2] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/849995\n[3] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/846061\n\nChange-Id: Ic7213030dd433b765d5a815d8a31aee01b09da1c\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 3, 'created': '2022-07-15 15:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ec5ceb4f011418c3f067c4a55865cb1d33a5aa4b', 'message': ""[CI] Pin tempest plugin and scenario test image\n\nTempest is pinned to a 26.1.0 on this stable\nbranch [1]. manila-tempest-plugin in Zed requires a newer\ntempest release [2] than this one. So, pin\nmanila-tempest-plugin as well to a version that can still\nwork with the pinned version of tempest.\n\nAlso, manila's test image (built from manila-image-elements)\nis based off of Ubuntu 22.04 (Jammy Jellyfish) in the Zed\nrelease; we don't need that image to be used to test this\nstable branch and we could use an older version (based on\nUbuntu 20.04 - Focal Fossa) that requires less memory/CPU [3]\n\n[1] https://review.opendev.org/c/openstack/devstack/+/838051\n[2] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/849995\n[3] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/846061\n\nChange-Id: Ic7213030dd433b765d5a815d8a31aee01b09da1c\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 4, 'created': '2022-07-15 17:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/05541a2a4b79f00f7177ed4c2fc7b912a1d91612', 'message': ""[CI] Pin tempest plugin and scenario test image\n\nTempest is pinned to a 26.1.0 on this stable\nbranch [1]. manila-tempest-plugin in Zed requires a newer\ntempest release [2] than this one. So, pin\nmanila-tempest-plugin as well to a version that can still\nwork with the pinned version of tempest.\n\nAlso, manila's test image (built from manila-image-elements)\nis based off of Ubuntu 22.04 (Jammy Jellyfish) in the Zed\nrelease; we don't need that image to be used to test this\nstable branch and we could use an older version (based on\nUbuntu 20.04 - Focal Fossa) that requires less memory/CPU [3]\n\n[1] https://review.opendev.org/c/openstack/devstack/+/838051\n[2] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/849995\n[3] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/846061\n\nChange-Id: Ic7213030dd433b765d5a815d8a31aee01b09da1c\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 5, 'created': '2022-07-15 18:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d68e16fb89c63828b4a6ffc8a95493eefff4baff', 'message': ""[CI] Pin tempest plugin and scenario test image\n\nTempest is pinned to a 26.1.0 on this stable\nbranch [1]. manila-tempest-plugin in Zed requires a newer\ntempest release [2] than this one. So, pin\nmanila-tempest-plugin as well to a version that can still\nwork with the pinned version of tempest.\n\nAlso, manila's test image (built from manila-image-elements)\nis based off of Ubuntu 22.04 (Jammy Jellyfish) in the Zed\nrelease; we don't need that image to be used to test this\nstable branch and we could use an older version (based on\nUbuntu 20.04 - Focal Fossa) that requires less memory/CPU [3]\n\n[1] https://review.opendev.org/c/openstack/devstack/+/838051\n[2] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/849995\n[3] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/846061\n\nChange-Id: Ic7213030dd433b765d5a815d8a31aee01b09da1c\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 6, 'created': '2022-07-18 10:58:58.000000000', 'files': ['zuul.d/grenade-jobs.yaml', 'contrib/ci/post_test_hook.sh', 'zuul.d/project.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/07da43dd8b938eff6b1ee04e63f2b48f34ceb5d8', 'message': ""[CI] Pin tempest plugin and scenario test image\n\nTempest is pinned to a 26.1.0 on this stable\nbranch [1]. manila-tempest-plugin in Zed requires a newer\ntempest release [2] than this one. So, pin\nmanila-tempest-plugin as well to a version that can still\nwork with the pinned version of tempest.\n\nAlso, manila's test image (built from manila-image-elements)\nis based off of Ubuntu 22.04 (Jammy Jellyfish) in the Zed\nrelease; we don't need that image to be used to test this\nstable branch and we could use an older version (based on\nUbuntu 20.04 - Focal Fossa) that requires less memory/CPU [3]\n\n[1] https://review.opendev.org/c/openstack/devstack/+/838051\n[2] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/849995\n[3] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/846061\n\nChange-Id: Ic7213030dd433b765d5a815d8a31aee01b09da1c\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",7,850019,07da43dd8b938eff6b1ee04e63f2b48f34ceb5d8,31,3,6,16643,,,0,"[CI] Pin tempest plugin and scenario test image

Tempest is pinned to a 26.1.0 on this stable
branch [1]. manila-tempest-plugin in Zed requires a newer
tempest release [2] than this one. So, pin
manila-tempest-plugin as well to a version that can still
work with the pinned version of tempest.

Also, manila's test image (built from manila-image-elements)
is based off of Ubuntu 22.04 (Jammy Jellyfish) in the Zed
release; we don't need that image to be used to test this
stable branch and we could use an older version (based on
Ubuntu 20.04 - Focal Fossa) that requires less memory/CPU [3]

[1] https://review.opendev.org/c/openstack/devstack/+/838051
[2] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/849995
[3] https://review.opendev.org/c/openstack/manila-tempest-plugin/+/846061

Change-Id: Ic7213030dd433b765d5a815d8a31aee01b09da1c
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/19/850019/2 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/post_test_hook.sh', 'zuul.d/project.yaml', 'devstack/settings']",3,9b39f0515f7c8d659c83e6709e3a73c7e3a957d8,ci-fixes,"MANILA_SERVICE_IMAGE_URL=${MANILA_SERVICE_IMAGE_URL:-""https://tarballs.opendev.org/openstack/manila-image-elements/images/manila-service-image-1.3.0-76-ga216835.qcow2""} MANILA_SERVICE_IMAGE_NAME=${MANILA_SERVICE_IMAGE_NAME:-""manila-service-image-1.3.0-76-ga216835""}","MANILA_SERVICE_IMAGE_URL=${MANILA_SERVICE_IMAGE_URL:-""http://tarballs.openstack.org/manila-image-elements/images/manila-service-image-master.qcow2""} MANILA_SERVICE_IMAGE_NAME=${MANILA_SERVICE_IMAGE_NAME:-""manila-service-image-master""}",22,68
openstack%2Fswift~master~I8b7ae643086e53d0c250b9e8d7e33ca8090eb1ff,openstack/swift,master,I8b7ae643086e53d0c250b9e8d7e33ca8090eb1ff,DNM: First attempt to drop in orjson,NEW,2022-07-22 07:36:30.000000000,2022-07-28 20:55:32.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2022-07-22 07:36:30.000000000', 'files': ['swift/obj/server.py', 'test/unit/account/test_utils.py', 'test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/versioned_writes/legacy.py', 'swift/common/middleware/crypto/crypto_utils.py', 'swift/cli/dispersion_report.py', 'swift/cli/ring_builder_analyzer.py', 'test/functional/test_versioned_writes.py', 'swift/common/middleware/recon.py', 'swift/cli/manage_shard_ranges.py', 'test/functional/test_slo.py', 'test/unit/container/test_reconciler.py', 'test/unit/common/test_utils.py', 'test/unit/__init__.py', 'test/unit/obj/test_server.py', 'test/unit/common/test_db.py', 'test/functional/test_tempurl.py', 'swift/common/middleware/versioned_writes/object_versioning.py', 'swift/common/middleware/dlo.py', 'test/functional/test_object.py', 'swift/common/db_replicator.py', 'test/functional/test_container.py', 'swift/container/sharder.py', 'test/unit/common/ring/test_composite_builder.py', 'swift/common/ring/ring.py', 'swift/cli/relinker.py', 'test/probe/common.py', 'swift/common/ring/composite_builder.py', 'swift/obj/reconstructor.py', 'test/unit/common/test_direct_client.py', 'swift/common/middleware/acl.py', 'test/unit/common/middleware/test_listing_formats.py', 'test/unit/account/test_backend.py', 'test/unit/common/middleware/crypto/test_encrypter.py', 'test/unit/common/middleware/test_dlo.py', 'test/probe/test_container_sync.py', 'swift/cli/ringcomposer.py', 'swift/common/middleware/slo.py', 'swift/common/direct_client.py', 'swift/cli/info.py', 'test/unit/account/test_server.py', 'test/unit/proxy/controllers/test_container.py', 'test/unit/common/middleware/crypto/test_decrypter.py', 'swift/container/replicator.py', 'swift/common/middleware/s3api/controllers/multi_delete.py', 'swift/common/middleware/list_endpoints.py', 'swift/common/middleware/tempauth.py', 'swift/proxy/controllers/base.py', 'swift/common/middleware/s3api/controllers/obj.py', 'swift/common/memcached.py', 'test/unit/common/middleware/test_recon.py', 'test/functional/test_account.py', 'test/unit/common/middleware/s3api/test_s3token.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'test/unit/proxy/controllers/test_base.py', 'swift/common/middleware/crypto/decrypter.py', 'test/unit/container/test_server.py', 'test/unit/container/test_backend.py', 'swift/proxy/controllers/obj.py', 'test/unit/cli/test_ringcomposer.py', 'test/unit/obj/test_auditor.py', 'test/probe/test_signals.py', 'swift/common/middleware/bulk.py', 'test/unit/common/middleware/test_slo.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'swift/common/internal_client.py', 'swift/obj/diskfile.py', 'test/unit/cli/test_container_deleter.py', 'test/unit/common/middleware/s3api/test_multi_delete.py', 'test/unit/common/middleware/test_object_versioning.py', 'swift/proxy/controllers/info.py', 'test/unit/common/test_db_replicator.py', 'test/unit/proxy/test_server.py', 'swift/cli/container_deleter.py', 'test/functional/swift_test_client.py', 'test/probe/test_object_expirer.py', 'test/unit/cli/test_recon.py', 'swift/common/middleware/staticweb.py', 'test/unit/common/middleware/test_container_sync.py', 'swift/common/middleware/listing_formats.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/common/middleware/crypto/test_encryption.py', 'swift/account/utils.py', 'swift/account/server.py', 'test/unit/common/middleware/test_xprofile.py', 'test/unit/obj/test_reconstructor.py', 'swift/common/db.py', 'swift/common/middleware/symlink.py', 'swift/container/server.py', 'test/unit/common/middleware/test_tempauth.py', 'test/unit/proxy/controllers/test_info.py', 'swift/common/middleware/x_profile/profile_model.py', 'test/unit/cli/test_relinker.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/test_staticweb.py', 'test/unit/common/middleware/test_symlink.py', 'swift/obj/auditor.py', 'test/unit/cli/test_ring_builder_analyzer.py', 'test/unit/obj/test_replicator.py', 'test/unit/common/middleware/test_list_endpoints.py', 'swift/common/middleware/s3api/s3token.py', 'test/probe/test_object_failures.py', 'swift/common/utils.py', 'test/unit/common/test_internal_client.py', 'test/unit/common/middleware/test_versioned_writes.py', 'swift/cli/recon.py', 'test/unit/cli/test_manage_shard_ranges.py', 'swift/common/json.py', 'test/functional/test_object_versioning.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/76ff1ddadc5d8ac7698dc5c5ca5c1bb930a036c8', 'message': ""DNM: First attempt to drop in orjson\n\nWe had some CPU bound proxies and Jianjain went an profiled and noticed\nthe biggest user on the cpu was json. He then went and spent a bunch of\ntime benchmarking different json libraries.\nOrjson seemed to be the best. But it isn't a simple drop in replacement\nfor the standard json python module.\n\nThis is just a random hack of Friday to see what attempting to drop it\nin would look like.\nThis patch adds a swift.common.json namespace and provides the load,\ndump, loads, and dumps that the json module normally has.\nIf orjson isn't installed then it'll fall back to the standard module.\nUsing it is fairly simple, instead of:\n\n  import json\n\nYou can:\n\n  from swift.common import json\n\nThen you can happily `json.dumps` or whatever away.\n\nBecause Jianjain really has done most the profiling and benchmarking legwork\nhere he definitely deserves a co-author here. Besides if to works out\nwell, no doubt he'll go and clean this up and make it much better then I\ncould!\n\nCo-Authored-By: Jianjian Huo <jhuo@nvidia.com>\nChange-Id: I8b7ae643086e53d0c250b9e8d7e33ca8090eb1ff\n""}]",9,850728,76ff1ddadc5d8ac7698dc5c5ca5c1bb930a036c8,7,3,1,7233,,,0,"DNM: First attempt to drop in orjson

We had some CPU bound proxies and Jianjain went an profiled and noticed
the biggest user on the cpu was json. He then went and spent a bunch of
time benchmarking different json libraries.
Orjson seemed to be the best. But it isn't a simple drop in replacement
for the standard json python module.

This is just a random hack of Friday to see what attempting to drop it
in would look like.
This patch adds a swift.common.json namespace and provides the load,
dump, loads, and dumps that the json module normally has.
If orjson isn't installed then it'll fall back to the standard module.
Using it is fairly simple, instead of:

  import json

You can:

  from swift.common import json

Then you can happily `json.dumps` or whatever away.

Because Jianjain really has done most the profiling and benchmarking legwork
here he definitely deserves a co-author here. Besides if to works out
well, no doubt he'll go and clean this up and make it much better then I
could!

Co-Authored-By: Jianjian Huo <jhuo@nvidia.com>
Change-Id: I8b7ae643086e53d0c250b9e8d7e33ca8090eb1ff
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/850728/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'test/unit/account/test_utils.py', 'test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/versioned_writes/legacy.py', 'swift/common/middleware/crypto/crypto_utils.py', 'swift/cli/dispersion_report.py', 'swift/cli/ring_builder_analyzer.py', 'test/functional/test_versioned_writes.py', 'swift/common/middleware/recon.py', 'swift/cli/manage_shard_ranges.py', 'test/functional/test_slo.py', 'test/unit/container/test_reconciler.py', 'test/unit/common/test_utils.py', 'test/unit/__init__.py', 'test/unit/obj/test_server.py', 'test/unit/common/test_db.py', 'test/functional/test_tempurl.py', 'swift/common/middleware/versioned_writes/object_versioning.py', 'swift/common/middleware/dlo.py', 'test/functional/test_object.py', 'swift/common/db_replicator.py', 'test/functional/test_container.py', 'swift/container/sharder.py', 'test/unit/common/ring/test_composite_builder.py', 'swift/common/ring/ring.py', 'swift/cli/relinker.py', 'test/probe/common.py', 'swift/common/ring/composite_builder.py', 'swift/obj/reconstructor.py', 'test/unit/common/test_direct_client.py', 'swift/common/middleware/acl.py', 'test/unit/common/middleware/test_listing_formats.py', 'test/unit/account/test_backend.py', 'test/unit/common/middleware/crypto/test_encrypter.py', 'test/unit/common/middleware/test_dlo.py', 'test/probe/test_container_sync.py', 'swift/cli/ringcomposer.py', 'swift/common/middleware/slo.py', 'swift/common/direct_client.py', 'swift/cli/info.py', 'test/unit/account/test_server.py', 'test/unit/proxy/controllers/test_container.py', 'test/unit/common/middleware/crypto/test_decrypter.py', 'swift/container/replicator.py', 'swift/common/middleware/s3api/controllers/multi_delete.py', 'swift/common/middleware/list_endpoints.py', 'swift/common/middleware/tempauth.py', 'swift/proxy/controllers/base.py', 'swift/common/middleware/s3api/controllers/obj.py', 'swift/common/memcached.py', 'test/unit/common/middleware/test_recon.py', 'test/functional/test_account.py', 'test/unit/common/middleware/s3api/test_s3token.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'test/unit/proxy/controllers/test_base.py', 'swift/common/middleware/crypto/decrypter.py', 'test/unit/container/test_server.py', 'test/unit/container/test_backend.py', 'swift/proxy/controllers/obj.py', 'test/unit/cli/test_ringcomposer.py', 'test/unit/obj/test_auditor.py', 'test/probe/test_signals.py', 'swift/common/middleware/bulk.py', 'test/unit/common/middleware/test_slo.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'swift/common/internal_client.py', 'swift/obj/diskfile.py', 'test/unit/cli/test_container_deleter.py', 'test/unit/common/middleware/s3api/test_multi_delete.py', 'test/unit/common/middleware/test_object_versioning.py', 'swift/proxy/controllers/info.py', 'test/unit/common/test_db_replicator.py', 'test/unit/proxy/test_server.py', 'swift/cli/container_deleter.py', 'test/functional/swift_test_client.py', 'test/probe/test_object_expirer.py', 'test/unit/cli/test_recon.py', 'swift/common/middleware/staticweb.py', 'test/unit/common/middleware/test_container_sync.py', 'swift/common/middleware/listing_formats.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/common/middleware/crypto/test_encryption.py', 'swift/account/utils.py', 'swift/account/server.py', 'test/unit/common/middleware/test_xprofile.py', 'test/unit/obj/test_reconstructor.py', 'swift/common/db.py', 'swift/common/middleware/symlink.py', 'swift/container/server.py', 'test/unit/common/middleware/test_tempauth.py', 'test/unit/proxy/controllers/test_info.py', 'swift/common/middleware/x_profile/profile_model.py', 'test/unit/cli/test_relinker.py', 'swift/common/middleware/s3api/s3api.py', 'test/unit/common/middleware/test_staticweb.py', 'test/unit/common/middleware/test_symlink.py', 'swift/obj/auditor.py', 'test/unit/cli/test_ring_builder_analyzer.py', 'test/unit/obj/test_replicator.py', 'test/unit/common/middleware/test_list_endpoints.py', 'swift/common/middleware/s3api/s3token.py', 'test/probe/test_object_failures.py', 'swift/common/utils.py', 'test/unit/common/test_internal_client.py', 'test/unit/common/middleware/test_versioned_writes.py', 'swift/cli/recon.py', 'test/unit/cli/test_manage_shard_ranges.py', 'swift/common/json.py', 'test/functional/test_object_versioning.py', 'swift/proxy/controllers/container.py']",111,76ff1ddadc5d8ac7698dc5c5ca5c1bb930a036c8,orjson_test,from swift.common import json,import json,182,139
openstack%2Ftrove-dashboard~master~Id256e5b88966e00cc4929e74b61474b4f65690e4,openstack/trove-dashboard,master,Id256e5b88966e00cc4929e74b61474b4f65690e4,Django-4: ugettext_lazy is removed,ABANDONED,2022-07-28 14:16:49.000000000,2022-07-28 20:42:27.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 14:16:49.000000000', 'files': ['trove_dashboard/content/database_configurations/forms.py', 'trove_dashboard/content/databases/forms.py', 'trove_dashboard/content/database_clusters/views.py', 'trove_dashboard/enabled/_1710_database_panel_group.py', 'trove_dashboard/content/databases/logs/views.py', 'trove_dashboard/content/database_clusters/forms.py', 'trove_dashboard/content/databases/tables.py', 'trove_dashboard/content/database_clusters/panel.py', 'trove_dashboard/content/database_configurations/tabs.py', 'trove_dashboard/content/backup_strategies/views.py', 'trove_dashboard/content/database_backups/panel.py', 'trove_dashboard/content/database_backups/tests.py', 'trove_dashboard/content/database_configurations/panel.py', 'trove_dashboard/content/databases/workflows/create_instance.py', 'trove_dashboard/content/database_backups/views.py', 'trove_dashboard/content/database_backups/tables.py', 'trove_dashboard/content/database_configurations/views.py', 'trove_dashboard/content/database_clusters/tabs.py', 'trove_dashboard/content/databases/panel.py', 'trove_dashboard/content/backup_strategies/panel.py', 'trove_dashboard/content/ng_database_backups/panel.py', 'trove_dashboard/content/database_backups/workflows/create_backup.py', 'trove_dashboard/content/databases/logs/tables.py', 'trove_dashboard/content/backup_strategies/tables.py', 'trove_dashboard/content/backup_strategies/workflows/create_backup_strategy.py', 'trove_dashboard/content/database_clusters/tables.py', 'trove_dashboard/content/databases/tabs.py', 'trove_dashboard/content/database_configurations/config_param_manager.py', 'trove_dashboard/content/database_configurations/tables.py', 'trove_dashboard/content/databases/views.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/269b50d4aa5c0faa4a9ae0293fe786b833d0526e', 'message': 'Django-4: ugettext_lazy is removed\n\nAs per this URL:\nhttps://docs.djangoproject.com/en/3.0/releases/3.0/#features-deprecated-in-3-0\n\nand the 4.0 release notes:\nhttps://docs.djangoproject.com/en/4.0/releases/4.0/\n\nwe should stop using ugettext_lazy and use gettext_lazy instead.\nSame for ungettext_lazy that shall be replaced by ngettext_lazy.\n\nChange-Id: Id256e5b88966e00cc4929e74b61474b4f65690e4\n'}]",4,851412,269b50d4aa5c0faa4a9ae0293fe786b833d0526e,5,2,1,6476,,,0,"Django-4: ugettext_lazy is removed

As per this URL:
https://docs.djangoproject.com/en/3.0/releases/3.0/#features-deprecated-in-3-0

and the 4.0 release notes:
https://docs.djangoproject.com/en/4.0/releases/4.0/

we should stop using ugettext_lazy and use gettext_lazy instead.
Same for ungettext_lazy that shall be replaced by ngettext_lazy.

Change-Id: Id256e5b88966e00cc4929e74b61474b4f65690e4
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/12/851412/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/database_configurations/forms.py', 'trove_dashboard/content/databases/forms.py', 'trove_dashboard/content/database_clusters/views.py', 'trove_dashboard/enabled/_1710_database_panel_group.py', 'trove_dashboard/content/databases/logs/views.py', 'trove_dashboard/content/database_clusters/forms.py', 'trove_dashboard/content/databases/tables.py', 'trove_dashboard/content/database_clusters/panel.py', 'trove_dashboard/content/database_configurations/tabs.py', 'trove_dashboard/content/backup_strategies/views.py', 'trove_dashboard/content/database_backups/panel.py', 'trove_dashboard/content/database_backups/tests.py', 'trove_dashboard/content/database_configurations/panel.py', 'trove_dashboard/content/databases/workflows/create_instance.py', 'trove_dashboard/content/database_backups/views.py', 'trove_dashboard/content/database_backups/tables.py', 'trove_dashboard/content/database_configurations/views.py', 'trove_dashboard/content/database_clusters/tabs.py', 'trove_dashboard/content/databases/panel.py', 'trove_dashboard/content/backup_strategies/panel.py', 'trove_dashboard/content/ng_database_backups/panel.py', 'trove_dashboard/content/database_backups/workflows/create_backup.py', 'trove_dashboard/content/databases/logs/tables.py', 'trove_dashboard/content/backup_strategies/tables.py', 'trove_dashboard/content/backup_strategies/workflows/create_backup_strategy.py', 'trove_dashboard/content/database_clusters/tables.py', 'trove_dashboard/content/databases/tabs.py', 'trove_dashboard/content/database_configurations/config_param_manager.py', 'trove_dashboard/content/database_configurations/tables.py', 'trove_dashboard/content/databases/views.py']",30,269b50d4aa5c0faa4a9ae0293fe786b833d0526e,django-4,from django.utils.translation import gettext_lazy as _,from django.utils.translation import ugettext_lazy as _,80,80
openstack%2Fmanila~master~I1f54f6be46c5a1e997c8bf589503a5e62a71d644,openstack/manila,master,I1f54f6be46c5a1e997c8bf589503a5e62a71d644,Fix InvalidInput wrong message,MERGED,2022-07-14 21:32:15.000000000,2022-07-28 20:32:45.000000000,2022-07-28 20:31:23.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30407}]","[{'number': 1, 'created': '2022-07-14 21:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ecf71cfda636f9bc836f81cc19d542d85cd52607', 'message': 'Fix InvalidInput wrong message\n\nWhen creating a share group, there is a chance that the API will\nraise a InvalidInput exception. However, we are treating this\nexception alongside other, and expecting both exceptions to inherit\nfrom the same base, when one of those exceptions is using the msg\nattribute to store the message and the other one is using the\nmessage attribute.\n\nThis change works it around and grabs the message by the proper\nattribute name according to the exception type.\n\nChange-Id: I1f54f6be46c5a1e997c8bf589503a5e62a71d644\n'}, {'number': 2, 'created': '2022-07-21 22:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/60706ad85f23a909e7fc8ca6ac6feb48f20b5cdf', 'message': 'Fix InvalidInput wrong message\n\nWhen creating a share group, there is a chance that the API will\nraise a InvalidInput exception. However, we are treating this\nexception alongside other, and expecting both exceptions to inherit\nfrom the same base, when one of those exceptions is using the msg\nattribute to store the message and the other one is using the\nmessage attribute.\n\nThis change works it around and grabs the message by the proper\nattribute name according to the exception type.\n\nChange-Id: I1f54f6be46c5a1e997c8bf589503a5e62a71d644\n'}, {'number': 3, 'created': '2022-07-26 20:36:55.000000000', 'files': ['manila/api/v1/shares.py', 'manila/api/v2/share_groups.py', 'manila/tests/api/v2/test_share_groups.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/51bc15830594b0b7d07ccdc443ba8d32c19d7ca9', 'message': 'Fix InvalidInput wrong message\n\nWhen performing some operations, there is a chance that the API\nwill raise a InvalidInput exception. However, sometimes we are\ntreating this exception alongside others, and expecting these\nexceptions to inherit from the same base. The exceptions could\nhave different attributes to store the message though.\n\nThis change modifies the message treatment to stringify the\nexception instead of trying to use specific attributes.\n\nChange-Id: I1f54f6be46c5a1e997c8bf589503a5e62a71d644\n'}]",12,849898,51bc15830594b0b7d07ccdc443ba8d32c19d7ca9,27,4,3,29632,,,0,"Fix InvalidInput wrong message

When performing some operations, there is a chance that the API
will raise a InvalidInput exception. However, sometimes we are
treating this exception alongside others, and expecting these
exceptions to inherit from the same base. The exceptions could
have different attributes to store the message though.

This change modifies the message treatment to stringify the
exception instead of trying to use specific attributes.

Change-Id: I1f54f6be46c5a1e997c8bf589503a5e62a71d644
",git fetch https://review.opendev.org/openstack/manila refs/changes/98/849898/3 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/v2/share_groups.py'],1,ecf71cfda636f9bc836f81cc19d542d85cd52607,," msg = e.msg if isinstance(e, exception.InvalidInput) else e.message raise exc.HTTPBadRequest(explanation=msg)", raise exc.HTTPBadRequest(explanation=e.message),2,1
openstack%2Fpython-manilaclient~master~If6109da26d69689bddee135e40fd1e7736d9e0bb,openstack/python-manilaclient,master,If6109da26d69689bddee135e40fd1e7736d9e0bb,[OSC] Add functional tests for share snapshots,MERGED,2022-04-06 14:14:00.000000000,2022-07-28 20:25:45.000000000,2022-07-28 20:24:41.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}, {'_account_id': 32594}]","[{'number': 1, 'created': '2022-04-06 14:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a62877c24883217f747b9fd3e0675bbb00d58409', 'message': '[OSC] Add functional tests for share snapshots\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n'}, {'number': 2, 'created': '2022-04-24 14:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4b2da98092231242644b30457603526ecfbbb5cb', 'message': '[OSC] Add functional tests for share snapshots\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n'}, {'number': 3, 'created': '2022-05-16 20:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b5af26d621218f9e2d6d243c41800024e002eb82', 'message': '[OSC] Add functional tests for share snapshots\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n'}, {'number': 4, 'created': '2022-05-17 15:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f82f82f0eaceb4fd8c80710837680c3814aceb36', 'message': '[OSC] Add functional tests for share snapshots\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n'}, {'number': 5, 'created': '2022-05-17 20:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a255acce7caa3a9e3cb6be18b4c3c825c612cd61', 'message': '[OSC] Add functional tests for share snapshots\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n'}, {'number': 6, 'created': '2022-05-18 10:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f0e1d3b157714d3a556350615735bb094a8909f5', 'message': '[OSC] Add functional tests for share snapshots\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n'}, {'number': 7, 'created': '2022-05-18 11:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8e399bffb3fb4ddcc41f6c3f3e9c7a48dbe72de7', 'message': '[OSC] Add functional tests for share snapshots\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n'}, {'number': 8, 'created': '2022-05-18 13:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3085a87563e81595265a10c4bcf28316b2a31f02', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarions) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}, {'number': 9, 'created': '2022-05-20 20:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2e239c43c12028bbe477cc50635cd3af529f7e43', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarions) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}, {'number': 10, 'created': '2022-05-21 06:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6a303150937d8a1a7c787943fce7694067f458aa', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarions) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}, {'number': 11, 'created': '2022-05-22 10:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e42e83654a90256995f5d31a053b24144d3e9411', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarions) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}, {'number': 12, 'created': '2022-05-22 10:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a723246cffaabdf61a3de58618da83d5f4d5b7b5', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarions) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}, {'number': 13, 'created': '2022-05-27 18:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f03c27ff5b1fc4c31181c49c27dc16a49882fe98', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarions) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}, {'number': 14, 'created': '2022-06-27 19:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5c29c3ccc76dd52055bdf8ebe8ebb46f54dd81fc', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarions) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}, {'number': 15, 'created': '2022-07-01 08:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2ffafdb702731457e509f6cf637966116814d45f', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarions) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}, {'number': 16, 'created': '2022-07-01 08:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ddd1d868d02326c19912a685ab078c7a2a96bb75', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarios) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}, {'number': 17, 'created': '2022-07-13 16:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d5e08c567df28c90cd5de99d786176a56fa98eca', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarios) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}, {'number': 18, 'created': '2022-07-26 10:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/202a58a91a465a3c8beb2a22adb78c0facb1076b', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarios) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}, {'number': 19, 'created': '2022-07-26 14:55:29.000000000', 'files': ['manilaclient/tests/unit/osc/v2/test_share_snapshots.py', 'manilaclient/osc/v2/share_snapshots.py', 'manilaclient/tests/functional/osc/base.py', 'manilaclient/tests/functional/osc/test_share_snapshots.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/17d560931a799da38aafcb152c777c8cc87e6bf9', 'message': ""[OSC] Add functional tests for share snapshots\n\nAdd functional tests (positive scenarios) for the\n'openstack share snapshot' commands.\n\nChange-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb\n""}]",11,836834,17d560931a799da38aafcb152c777c8cc87e6bf9,54,5,19,31213,,,0,"[OSC] Add functional tests for share snapshots

Add functional tests (positive scenarios) for the
'openstack share snapshot' commands.

Change-Id: If6109da26d69689bddee135e40fd1e7736d9e0bb
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/34/836834/17 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/functional/osc/test_share_snapshots.py'],1,a62877c24883217f747b9fd3e0675bbb00d58409,osc-functional-tests,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json import uuid from manilaclient.tests.functional.osc import base class ShareSnapshotCLITest(base.OSCClientTestBase): """"""Functional tests for share snpshot."""""" def test_share_snapshot_crud(self): share_name = uuid.uuid4().hex share = self.create_share(name=share_name) # create snapshot_1 with name/description/wait options snapshot_1_name = uuid.uuid4().hex description = 'Description' snapshot_1 = json.loads(self.openstack( f'share snapshot create -f json {share_name} ' f'--name {snapshot_1_name} ' f'--description {description} --wait' )) # assert that snaphsot_1 has the provided name, description # and status is available self.assertEqual(share[""id""], snapshot_1[""share_id""]) self.assertEqual(snapshot_1_name, snapshot_1[""name""]) self.assertEqual(description, snapshot_1[""description""]) self.assertEqual('available', snapshot_1[""status""]) # create snapshot_2 without name or description snapshot_2_name = uuid.uuid4().hex snapshot_2 = json.loads(self.openstack( f'share snapshot create -f json {share_name}')) # assert that snapshot_2 does not have name or desription set self.assertEqual(share[""id""], snapshot_2[""share_id""]) self.assertIsNone(snapshot_2[""name""]) self.assertIsNone(snapshot_2[""description""]) self._wait_for_object_status( 'share snapshot', snapshot_2[""id""], 'available') # Set name and description to snapshot_2 self.openstack( f'share snapshot set {snapshot_2[""id""]} ' f'--name {snapshot_2_name} --description {description}') # Run 'show' command to get snapshot_2 after set operation snapshot_2 = json.loads(self.openstack( f'share snapshot show -f json {snapshot_2[""id""]}')) # assert that given name and description were set to snapshot_2 self.assertEqual(snapshot_2_name, snapshot_2[""name""]) self.assertEqual(description, snapshot_2[""description""]) # Unset name and description from snapshot_1 self.openstack( f'share snapshot unset {snapshot_1[""id""]} --name --description') # Run 'show' command to get snapshot_1 after unset operation snapshot_1 = json.loads(self.openstack( f'share snapshot show -f json {snapshot_1[""id""]}')) # assert that snapshot_1 no longer has name or description set self.assertIsNone(snapshot_1[""name""]) self.assertIsNone(snapshot_1[""description""]) # delete snapshots 1 and 2 self.openstack( f'share snapshot delete {snapshot_1[""id""]} {snapshot_2[""id""]} ' '--wait') # assert that both snapshots were deleted self.check_object_deleted('share snapshot', snapshot_1[""id""]) self.check_object_deleted('share snapshot', snapshot_2[""id""]) ",,87,0
openstack%2Fpython-manilaclient~master~I0d4e9257155fa0697fedf1683be08b4179a1a463,openstack/python-manilaclient,master,I0d4e9257155fa0697fedf1683be08b4179a1a463,Add support for --soft when deleting a share or more shares,MERGED,2022-06-14 09:29:37.000000000,2022-07-28 20:06:35.000000000,2022-07-28 20:05:30.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2022-06-14 09:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/54c9154a770488169d184ccbeb476643892e1f9b', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting a share or more shares\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 2, 'created': '2022-06-14 09:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5f6c57a295de24342d071c35a3724f4eac52758b', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting a share or more shares\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 3, 'created': '2022-06-16 05:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/cb268a5f711bce55155f95d87fa518667f2d46f9', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting a share or more shares\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 4, 'created': '2022-06-16 06:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bba30aeebbab37b332c6b69381c8798518afb80c', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting a share or more shares\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 5, 'created': '2022-06-16 06:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d2e8cf2105c5a3abf3f33d8fcfd10e0e2cebdc93', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 6, 'created': '2022-06-29 16:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f98a3e34c7f2664b15f9a6106f5b280ceeb937d7', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 7, 'created': '2022-06-29 16:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5a0630b3db98277c2890f7de36032ac26d9f1d26', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 8, 'created': '2022-06-29 16:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/baff1d4fcb3f762169caeb76f05fe2aa23eca997', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 9, 'created': '2022-07-04 06:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/129b4b086590ab9d5614dccb71742227683ea67a', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 10, 'created': '2022-07-08 08:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0a1f288cdaae7b1ded619c7eca92da02b320973f', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 11, 'created': '2022-07-08 10:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/28c57d08d4b7277a66201d5dc7c4893a488ede54', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 12, 'created': '2022-07-19 11:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4810f6bbc0a2da209799e6058cda59ce2936e4fb', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 13, 'created': '2022-07-19 12:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/70a445d4b4a24d9a252c5c5174d9f91487248e2c', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 14, 'created': '2022-07-19 15:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9bbb4a57e749762a2aaad35ffc7e972395cb7a8d', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 15, 'created': '2022-07-22 11:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/675ad9c64d15f567892844b81fff1ee55861523d', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 16, 'created': '2022-07-25 10:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/75d10d56d57e0ec2b9c309554973397f1902290c', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 17, 'created': '2022-07-25 10:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/320ef79ad065afde2332548b2d1329632e90f0a8', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 18, 'created': '2022-07-25 14:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a257e09b9fded8adfb1f0f9a7c517551b3e2a97b', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 19, 'created': '2022-07-26 08:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9f827e19733455f1236f2d81b27c2092f4c356e3', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 20, 'created': '2022-07-26 09:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b2aa63f67a3364a1c2b49b0dcdcd6b9bdfb5d5c1', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}, {'number': 21, 'created': '2022-07-26 12:50:46.000000000', 'files': ['manilaclient/tests/functional/osc/test_shares.py', 'manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4f7724c649279fd5edb73face466e8df4bc5bd48', 'message': 'Add support for --soft when deleting a share or more shares\n\nThis patch adds support for soft-deleting one or more shares\nand lists shares with `--soft-deleted` flag\n\nChange-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463\n'}]",26,845716,4f7724c649279fd5edb73face466e8df4bc5bd48,47,4,21,34123,,,0,"Add support for --soft when deleting a share or more shares

This patch adds support for soft-deleting one or more shares
and lists shares with `--soft-deleted` flag

Change-Id: I0d4e9257155fa0697fedf1683be08b4179a1a463
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/16/845716/20 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/osc/v2/share.py'],1,54c9154a770488169d184ccbeb476643892e1f9b,bp/openstack-client-support," parser.add_argument( ""--soft"", action='store_true', default=False, help=_(""Soft delete one or more shares."") ) if parsed_args.soft: share_client.shares.soft_delete(share_obj)",,8,0
openstack%2Fpython-manilaclient~master~I2627da92c93b2f021a48ac1fc158e8e19ca2d176,openstack/python-manilaclient,master,I2627da92c93b2f021a48ac1fc158e8e19ca2d176,"Avoid any capitalization of the name ""None""",MERGED,2022-07-18 08:35:41.000000000,2022-07-28 19:59:24.000000000,2022-07-28 19:58:19.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-07-18 08:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f4c8abcb2815cf1a405cb18df42c46ce2c9ed62b', 'message': 'Avoid any capitalization of the name ""None""\n\nForbid users to create shares with all case variations\nof the name ""None"".\n\nForbid share creation with any case variants of the name ""None""\nUse capitalize method to avoid any case variation of the word none case variant regardless of case variants\n\nCloses-Bug: #1909477\nChange-Id: I2627da92c93b2f021a48ac1fc158e8e19ca2d176\n'}, {'number': 2, 'created': '2022-07-18 10:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ceccea6c2ca4877e35349746edb369367b75f7f2', 'message': 'Avoid any capitalization of the name ""None""\n\nForbid users to create shares with all case variations\nof the name ""None"".\n\nForbid share creation with any case variants of the name ""None""\nUse capitalize method to avoid any case variation of the word none case variant regardless of case variants\n\nCloses-Bug: #1909477\nChange-Id: I2627da92c93b2f021a48ac1fc158e8e19ca2d176\n'}, {'number': 3, 'created': '2022-07-18 11:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/65c93fe0b95527b86a79ea15104dca0d6cee98dc', 'message': 'Avoid any capitalization of the name ""None""\n\nForbid users to create shares with all case variations\nof the name ""None"".\n\n\nCloses-Bug: #1909477\nChange-Id: I2627da92c93b2f021a48ac1fc158e8e19ca2d176\n'}, {'number': 4, 'created': '2022-07-21 11:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7df3375cc22cf01f68c4229ae69f713a6bf45b0a', 'message': 'Avoid any capitalization of the name ""None""\n\nForbid users to create shares with all case variations\nof the name ""None"".\n\nForbid share creation with any case variants of the name ""None""\nUse capitalize method to avoid any case variation of the word none case variant regardless of case variants\n\nCloses-Bug: #1909477\nChange-Id: I2627da92c93b2f021a48ac1fc158e8e19ca2d176\n'}, {'number': 5, 'created': '2022-07-21 19:42:32.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'releasenotes/notes/bug-1909477-fix-forbid-users-to-create-shares-with-the-name-none-cfb0a59baa597803.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1597bf6debda7112c09b5cf46f40b73a00d013b5', 'message': 'Avoid any capitalization of the name ""None""\n\nForbid users to create shares with all case variations\nof the name ""None"".\n\nForbid share creation with any case variants of the name ""None""\nUse capitalize method to avoid any case variation of the word none case variant regardless of case variants\n\nCloses-Bug: #1909477\nChange-Id: I2627da92c93b2f021a48ac1fc158e8e19ca2d176\n'}]",14,850143,1597bf6debda7112c09b5cf46f40b73a00d013b5,25,4,5,19262,,,0,"Avoid any capitalization of the name ""None""

Forbid users to create shares with all case variations
of the name ""None"".

Forbid share creation with any case variants of the name ""None""
Use capitalize method to avoid any case variation of the word none case variant regardless of case variants

Closes-Bug: #1909477
Change-Id: I2627da92c93b2f021a48ac1fc158e8e19ca2d176
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/43/850143/2 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/v2/shell.py'],1,f4c8abcb2815cf1a405cb18df42c46ce2c9ed62b,, if args.name.capitalize() == 'None':, if args.name == 'None':,1,1
openstack%2Fnova~master~I8ae60bf5caaff42776dd503c846405591aac34ca,openstack/nova,master,I8ae60bf5caaff42776dd503c846405591aac34ca,Skip cell0 in all-cells min version check,NEW,2022-07-28 17:21:31.000000000,2022-07-28 19:56:18.000000000,,"[{'_account_id': 4393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 17:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b6d62d7a6a223403fbd57f6d14609eee33b4d2a', 'message': 'Skip cell0 in all-cells min version check\n\nThis currently attempts to connect to the cell0 database from a cell\nconductor. If the cell0 db uri is templated it will fail.\n\nCell0 cannot contain any compute hosts there we can simply omit it from\nthe check.\n\nCloses-Bug: 1983044\nChange-Id: I8ae60bf5caaff42776dd503c846405591aac34ca\n'}, {'number': 2, 'created': '2022-07-28 17:22:51.000000000', 'files': ['nova/objects/service.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/13977135f578df78f4968b282e8bfcdd71acf0b5', 'message': 'Skip cell0 in all-cells min version check\n\nThis currently attempts to connect to the cell0 database from a cell\nconductor. If the cell0 db uri is templated it will fail.\n\nCell0 cannot contain any compute hosts so we can simply omit it from\nthe check.\n\nCloses-Bug: 1983044\nChange-Id: I8ae60bf5caaff42776dd503c846405591aac34ca\n'}]",3,851440,13977135f578df78f4968b282e8bfcdd71acf0b5,11,2,2,23811,,,0,"Skip cell0 in all-cells min version check

This currently attempts to connect to the cell0 database from a cell
conductor. If the cell0 db uri is templated it will fail.

Cell0 cannot contain any compute hosts so we can simply omit it from
the check.

Closes-Bug: 1983044
Change-Id: I8ae60bf5caaff42776dd503c846405591aac34ca
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/851440/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/service.py'],1,7b6d62d7a6a223403fbd57f6d14609eee33b4d2a,, results = nova_context.scatter_gather_skip_cell0(, results = nova_context.scatter_gather_all_cells(,1,1
openstack%2Fopenstack-tempest-skiplist~master~I136ac11008982f437c3badc7539c05d310794745,openstack/openstack-tempest-skiplist,master,I136ac11008982f437c3badc7539c05d310794745,Add featureset030 group into tempest-allow,MERGED,2022-06-02 13:15:21.000000000,2022-07-28 19:50:11.000000000,2022-07-28 19:49:08.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-06-02 13:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/36ec7bd14a0c2799696a46d32b5ae192a5e5d504', 'message': 'Add featureset030 group into tempest-allow\n\nThis add featureset030 group in tempest-allow\nto be used with featureset030 jobs.\n\nChange-Id: I136ac11008982f437c3badc7539c05d310794745\n'}, {'number': 2, 'created': '2022-06-23 13:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/4c9513e1962a23acf33be0bde4d5dd5a7527deb3', 'message': 'Add featureset030 group into tempest-allow\n\nThis add featureset030 group in tempest-allow\nto be used with featureset030 jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/847351\nChange-Id: I136ac11008982f437c3badc7539c05d310794745\n'}, {'number': 3, 'created': '2022-06-23 19:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/998d913385c6408cdee4f84ee9407a3dd5656c3f', 'message': 'Add featureset030 group into tempest-allow\n\nThis add featureset030 group in tempest-allow\nto be used with featureset030 jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/847351\nChange-Id: I136ac11008982f437c3badc7539c05d310794745\n'}, {'number': 4, 'created': '2022-06-30 11:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/91555348f477c246d4af06504294cdef616c019b', 'message': 'Add featureset030 group into tempest-allow\n\nThis add featureset030 group in tempest-allow\nto be used with featureset030 jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/847351\nChange-Id: I136ac11008982f437c3badc7539c05d310794745\n'}, {'number': 5, 'created': '2022-07-01 08:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/63064e00c886b5ba69b9b94b5dab6f5933776645', 'message': 'Add featureset030 group into tempest-allow\n\nThis add featureset030 group in tempest-allow\nto be used with featureset030 jobs.\n\nChange-Id: I136ac11008982f437c3badc7539c05d310794745\n'}, {'number': 6, 'created': '2022-07-01 11:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/2ee216503e8045c08f2b1868f47402258d7d5e44', 'message': 'Add featureset030 group into tempest-allow\n\nThis add featureset030 group in tempest-allow\nto be used with featureset030 jobs.\n\nChange-Id: I136ac11008982f437c3badc7539c05d310794745\n'}, {'number': 7, 'created': '2022-07-18 12:53:02.000000000', 'files': ['roles/validate-tempest/vars/tempest_allow.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/b1cca4161cd32d448f1934d38a8915c7123906ae', 'message': 'Add featureset030 group into tempest-allow\n\nThis add featureset030 group in tempest-allow\nto be used with featureset030 jobs.\n\nChange-Id: I136ac11008982f437c3badc7539c05d310794745\n'}]",14,844450,b1cca4161cd32d448f1934d38a8915c7123906ae,38,7,7,30742,,,0,"Add featureset030 group into tempest-allow

This add featureset030 group in tempest-allow
to be used with featureset030 jobs.

Change-Id: I136ac11008982f437c3badc7539c05d310794745
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/50/844450/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_allow.yml'],1,36ec7bd14a0c2799696a46d32b5ae192a5e5d504,tempest_allow_list, - name: featureset030 tests: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' - 'tempest.scenario.test_minimum_basic.TestMinimumBasicScenario.test_minimum_basic_scenario' releases: - master - wallaby - victoria - train,,9,0
openstack%2Fansible-collections-openstack~master~I0f9bc573fd0c69cab65bd808145d628732bb0830,openstack/ansible-collections-openstack,master,I0f9bc573fd0c69cab65bd808145d628732bb0830,Update router for 2.0.0,MERGED,2022-06-17 21:26:40.000000000,2022-07-28 19:43:43.000000000,2022-07-28 19:43:43.000000000,"[{'_account_id': 22348}, {'_account_id': 32458}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-06-17 21:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/78d71b7c0b9bfba1e62e25f23f3edd68d1ce827a', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 2, 'created': '2022-06-17 21:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d7b7240cf25801285879bd81ee467b762d6df215', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 3, 'created': '2022-06-18 03:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c39affff8e96e355745fb47e16b604d9ad5892bb', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 4, 'created': '2022-06-18 03:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2bc6a2f909bce7a100688627e5f7bc4ca6be42fb', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 5, 'created': '2022-06-18 04:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/84a5c78c53f81d0e6c554dd0ec0a5bb019691587', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 6, 'created': '2022-06-18 04:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5908e350b6d23ced9859639b95250d90f3ccb6bb', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 7, 'created': '2022-06-18 04:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5702505a420de4b9940ec1da19c17fea01f6f3d7', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 8, 'created': '2022-06-20 17:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cad180320e65afc59b936a9481f4ea48d582d9ce', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 9, 'created': '2022-07-06 14:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d87089a1e9f149fed57139ed811846eabfdfb9ac', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 10, 'created': '2022-07-06 17:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/75c87dbd7faf9e4329e8f89e66f8600db2cbd092', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 11, 'created': '2022-07-12 12:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ff92f13dbbb3f0899ac467171ca34f8ffd870989', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 12, 'created': '2022-07-12 12:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e70dbafa99910fba2bc7fd0f52af84232ae5de23', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 13, 'created': '2022-07-12 13:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/daa9a69209f02629e641158e4a31e9d5db7cd914', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 14, 'created': '2022-07-14 08:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1b071aca6f1ff1a67962d7c0718957d05a391562', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 15, 'created': '2022-07-15 15:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d6c543ab4d148715e7702170d0689b8982401dd5', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 16, 'created': '2022-07-15 17:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/31011da822d8f3f8884943469e25f9434bc49ddf', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 17, 'created': '2022-07-21 20:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fd4e67442b6e418a39f7560ed05a5e5618ddb358', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 18, 'created': '2022-07-21 21:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a8ff316cecbcba830c5ce4dcbcbf0033235a52c6', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 19, 'created': '2022-07-22 14:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e459ed2cf79d8f5961a825144a6d4c2ebd488de9', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 20, 'created': '2022-07-22 14:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/02fb83674ac625c53947296a590d31da0591787a', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 21, 'created': '2022-07-25 14:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/59671e15894fb8da14546d47ad08da56cf06709a', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 22, 'created': '2022-07-26 21:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/688c35b6a939a1707eedc0b3118f07b8cd9b3b35', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 23, 'created': '2022-07-27 19:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9c6f60dfe159eddf1ee67f42ff3a004c7d3eebfc', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 24, 'created': '2022-07-28 08:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/493bc5301bde2bd2ba571d5a37591e0b9009d94a', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 25, 'created': '2022-07-28 08:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0a1a8424cf721f35d664e4dd68e46cde6f15932d', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 26, 'created': '2022-07-28 08:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4337c9f21a512238c2c799886045f2fccefd9d5e', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}, {'number': 27, 'created': '2022-07-28 11:58:14.000000000', 'files': ['ci/roles/router/defaults/main.yml', 'ci/roles/router/tasks/main.yml', 'plugins/modules/router.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3fdbd56a585f4079ef348ad7060fd9836e85e578', 'message': 'Update router for 2.0.0\n\n- Change sdk calls to use proxies\n- Convert return values to\n- Update module docs\n- Change argspec to more closely match the new sdk (and therefore the\n  API) without breaking backward compatibility\n\nChange-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830\n'}]",80,846446,3fdbd56a585f4079ef348ad7060fd9836e85e578,91,4,27,34208,,,0,"Update router for 2.0.0

- Change sdk calls to use proxies
- Convert return values to
- Update module docs
- Change argspec to more closely match the new sdk (and therefore the
  API) without breaking backward compatibility

Change-Id: I0f9bc573fd0c69cab65bd808145d628732bb0830
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/46/846446/9 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/router.py', '.zuul.yaml']",2,78d71b7c0b9bfba1e62e25f23f3edd68d1ce827a,router, router,,159,162
openstack%2Fopenstack-ansible~stable%2Fxena~Ic7f6f2446ea5f1264c44493ca1b329fe07eb9e30,openstack/openstack-ansible,stable/xena,Ic7f6f2446ea5f1264c44493ca1b329fe07eb9e30,Fix facts gathering for zun,MERGED,2022-07-13 07:45:25.000000000,2022-07-28 19:39:21.000000000,2022-07-28 19:37:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-07-13 07:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c713f372a77ccdb8819cee4f28c9ce8104103d1', 'message': 'Fix facts gathering for zun\n\nWe have wrong/non-existing group defined for facts gathering in zun\nplaybook.\n\nCloses-Bug: #1979208\nChange-Id: Ic7f6f2446ea5f1264c44493ca1b329fe07eb9e30\n(cherry picked from commit 244134b94bb6bffd063fe567e087adb7f5a75b93)\n'}, {'number': 2, 'created': '2022-07-19 08:55:11.000000000', 'files': ['playbooks/os-zun-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/76752fda361d6623b6c9d54cc8cd75489070ef34', 'message': 'Fix facts gathering for zun\n\nWe have wrong/non-existing group defined for facts gathering in zun\nplaybook.\n\nCloses-Bug: #1979208\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/850233\nChange-Id: Ic7f6f2446ea5f1264c44493ca1b329fe07eb9e30\n(cherry picked from commit 244134b94bb6bffd063fe567e087adb7f5a75b93)\n'}]",3,849630,76752fda361d6623b6c9d54cc8cd75489070ef34,16,3,2,28619,,,0,"Fix facts gathering for zun

We have wrong/non-existing group defined for facts gathering in zun
playbook.

Closes-Bug: #1979208
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/850233
Change-Id: Ic7f6f2446ea5f1264c44493ca1b329fe07eb9e30
(cherry picked from commit 244134b94bb6bffd063fe567e087adb7f5a75b93)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/30/849630/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-zun-install.yml'],1,4c713f372a77ccdb8819cee4f28c9ce8104103d1,bug/1979208-stable/xena, hosts: zun_all, hosts: zun,1,1
openstack%2Fcharm-ceph-osd~stable%2Fpacific~Ie0aa2a1af6eead73e2dbb35cdc6300e504959d8b,openstack/charm-ceph-osd,stable/pacific,Ie0aa2a1af6eead73e2dbb35cdc6300e504959d8b,Update build-on/run-on section for stable/pacific,MERGED,2022-05-20 02:45:55.000000000,2022-07-28 19:34:30.000000000,2022-07-28 19:34:30.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 02:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/f415023e5f057ebb42adfd51022587ba29166d2b', 'message': 'Update build-on/run-on section for stable/pacific\n\nChange the build-on/run-on section of charmcraft to build on amd64\nand to run on amd64, s390x, ppc64el, arm64.\n\nChange-Id: Ie0aa2a1af6eead73e2dbb35cdc6300e504959d8b\n'}, {'number': 2, 'created': '2022-07-25 14:51:47.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/cf89b7abc366a27791dcc20940d4ba0586fade97', 'message': 'Update build-on/run-on section for stable/pacific\n\nChange the build-on/run-on section of charmcraft to build on amd64\nand to run on amd64, s390x, ppc64el, arm64.\n\nChange-Id: Ie0aa2a1af6eead73e2dbb35cdc6300e504959d8b\n'}]",0,842666,cf89b7abc366a27791dcc20940d4ba0586fade97,10,3,2,8992,,,0,"Update build-on/run-on section for stable/pacific

Change the build-on/run-on section of charmcraft to build on amd64
and to run on amd64, s390x, ppc64el, arm64.

Change-Id: Ie0aa2a1af6eead73e2dbb35cdc6300e504959d8b
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/66/842666/2 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,f415023e5f057ebb42adfd51022587ba29166d2b,charmhub-migration," architectures: [amd64, s390x, ppc64el, arm64]", - s390x - ppc64el - arm64,1,3
openstack%2Foctavia~master~Ie02fbb5228b3a88c07b39ea3dcd76fdc7dc8c766,openstack/octavia,master,Ie02fbb5228b3a88c07b39ea3dcd76fdc7dc8c766,Fix keepalivedlvs_query regex nested set warning,MERGED,2022-07-21 01:33:11.000000000,2022-07-28 19:30:09.000000000,2022-07-28 19:27:40.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-21 01:33:11.000000000', 'files': ['octavia/amphorae/backends/utils/keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ad3a21aaff815015a40b509acf8a04c1af3daab5', 'message': 'Fix keepalivedlvs_query regex nested set warning\n\nThis patch fixes the regular expression used in keepalivedlvs_query for parsing the ip_vs configuration.\nPreviously it was raising a warning:\nkeepalivedlvs_query.py:30: FutureWarning: Possible nested set at position 4\n  V6_RS_VALUE_REGEX = re.compile(r""(\\[[[\\w{4}:]+\\b\\]:\\w{4})\\s+(.*$)"")\n\nSee the python 3.7 release notes:\nhttps://docs.python.org/dev/whatsnew/3.7.html#re\n\nChange-Id: Ie02fbb5228b3a88c07b39ea3dcd76fdc7dc8c766\n'}]",4,850595,ad3a21aaff815015a40b509acf8a04c1af3daab5,10,3,1,11628,,,0,"Fix keepalivedlvs_query regex nested set warning

This patch fixes the regular expression used in keepalivedlvs_query for parsing the ip_vs configuration.
Previously it was raising a warning:
keepalivedlvs_query.py:30: FutureWarning: Possible nested set at position 4
  V6_RS_VALUE_REGEX = re.compile(r""(\[[[\w{4}:]+\b\]:\w{4})\s+(.*$)"")

See the python 3.7 release notes:
https://docs.python.org/dev/whatsnew/3.7.html#re

Change-Id: Ie02fbb5228b3a88c07b39ea3dcd76fdc7dc8c766
",git fetch https://review.opendev.org/openstack/octavia refs/changes/95/850595/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/utils/keepalivedlvs_query.py'],1,ad3a21aaff815015a40b509acf8a04c1af3daab5,,"V6_RS_VALUE_REGEX = re.compile(r""(\[[\[\w{4}:]+\b\]:\w{4})\s+(.*$)"")","V6_RS_VALUE_REGEX = re.compile(r""(\[[[\w{4}:]+\b\]:\w{4})\s+(.*$)"")",1,1
openstack%2Foctavia~master~Ib704cdc69a4888381151f2d59dbfec5c00ef3c16,openstack/octavia,master,Ib704cdc69a4888381151f2d59dbfec5c00ef3c16,Fix rfc3986 deprecation warning,MERGED,2022-07-21 00:30:12.000000000,2022-07-28 19:29:03.000000000,2022-07-28 19:27:38.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-21 00:30:12.000000000', 'files': ['octavia/common/validate.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8d7fb4eca622b38132f3cd80a885d72daa40f46b', 'message': 'Fix rfc3986 deprecation warning\n\nThis patch modernizes our use of the rfc3986 module and resolves a deprecation warning: Please use rfc3986.validators.Validator instead. This method will be eventually removed.\n\nChange-Id: Ib704cdc69a4888381151f2d59dbfec5c00ef3c16\n'}]",2,850591,8d7fb4eca622b38132f3cd80a885d72daa40f46b,9,3,1,11628,,,0,"Fix rfc3986 deprecation warning

This patch modernizes our use of the rfc3986 module and resolves a deprecation warning: Please use rfc3986.validators.Validator instead. This method will be eventually removed.

Change-Id: Ib704cdc69a4888381151f2d59dbfec5c00ef3c16
",git fetch https://review.opendev.org/openstack/octavia refs/changes/91/850591/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/validate.py'],1,8d7fb4eca622b38132f3cd80a885d72daa40f46b,,"from rfc3986 import uri_reference from rfc3986 import validators validator = validators.Validator() if require_scheme: validator.allow_schemes('http', 'https') validator.require_presence_of('scheme', 'host') validator.check_validity_of('scheme', 'host', 'path') else: validator.check_validity_of('path') try: validator.validate(uri_reference(url)) validator = validators.Validator().check_validity_of('path') try: p_url = uri_reference(url_path) validator.validate(p_url)","import rfc3986 try: if not rfc3986.is_valid_uri(url, require_scheme=require_scheme): raise exceptions.InvalidURL(url=url) p_url = rfc3986.urlparse(rfc3986.normalize_uri(url)) if require_scheme: if p_url.scheme not in ('http', 'https'): raise exceptions.InvalidURL(url=url) try: p_url = rfc3986.urlparse(rfc3986.normalize_uri(url_path))",14,8
openstack%2Fnova~master~I6a7c71fb4385348c87067543d0454f302907395e,openstack/nova,master,I6a7c71fb4385348c87067543d0454f302907395e,api: Drop generating a keypair and add special chars to naming,MERGED,2022-07-08 17:03:43.000000000,2022-07-28 19:10:37.000000000,2022-07-28 19:09:10.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 34153}]","[{'number': 1, 'created': '2022-07-08 17:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be31bdb3b4ce9e8b49f81c4ce7ac2f7061eabc1b', 'message': ""WIP: api: Drop generating a keypair and add special chars to naming\n\nAs agreed in the spec, we will both drop the generation support for a keypair\nbut we'll also accept @ (at) and . (dot) chars in the keyname, all of them in\nthe same API microversion.\n\nRebased the work from I5de15935e83823afa545a250cf84f6a7a37036b4\n\nAPIImpact\n\nImplements: blueprint keypair-generation-removal\nCo-Authored-By: Nicolas Parquet <nicolas.parquet@gandi.net>\n\nChange-Id: I6a7c71fb4385348c87067543d0454f302907395e\n""}, {'number': 2, 'created': '2022-07-11 16:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a48327db7150110c4c726ea4d152b994fe81295d', 'message': ""WIP: api: Drop generating a keypair and add special chars to naming\n\nStill a WIP due to UTs missing.\n\nAs agreed in the spec, we will both drop the generation support for a keypair\nbut we'll also accept @ (at) and . (dot) chars in the keyname, all of them in\nthe same API microversion.\n\nRebased the work from I5de15935e83823afa545a250cf84f6a7a37036b4\n\nAPIImpact\n\nImplements: blueprint keypair-generation-removal\nCo-Authored-By: Nicolas Parquet <nicolas.parquet@gandi.net>\n\nChange-Id: I6a7c71fb4385348c87067543d0454f302907395e\n""}, {'number': 3, 'created': '2022-07-11 16:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42895c917141eca95458b54f8de2c762ac3798ff', 'message': ""WIP: api: Drop generating a keypair and add special chars to naming\n\nStill a WIP due to UTs missing.\n\nAs agreed in the spec, we will both drop the generation support for a keypair\nbut we'll also accept @ (at) and . (dot) chars in the keyname, all of them in\nthe same API microversion.\n\nRebased the work from I5de15935e83823afa545a250cf84f6a7a37036b4\n\nAPIImpact\n\nImplements: blueprint keypair-generation-removal\nCo-Authored-By: Nicolas Parquet <nicolas.parquet@gandi.net>\n\nChange-Id: I6a7c71fb4385348c87067543d0454f302907395e\n""}, {'number': 4, 'created': '2022-07-12 07:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfbb4ec66d471ca6d65b370cc247496d89c1549c', 'message': ""api: Drop generating a keypair and add special chars to naming\n\nAs agreed in the spec, we will both drop the generation support for a keypair\nbut we'll also accept @ (at) and . (dot) chars in the keyname, all of them in\nthe same API microversion.\n\nRebased the work from I5de15935e83823afa545a250cf84f6a7a37036b4\n\nAPIImpact\n\nImplements: blueprint keypair-generation-removal\nCo-Authored-By: Nicolas Parquet <nicolas.parquet@gandi.net>\n\nChange-Id: I6a7c71fb4385348c87067543d0454f302907395e\n""}, {'number': 5, 'created': '2022-07-18 17:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24b855d566c36a5af6746131be6a39ad5b9423bf', 'message': ""api: Drop generating a keypair and add special chars to naming\n\nAs agreed in the spec, we will both drop the generation support for a keypair\nbut we'll also accept @ (at) and . (dot) chars in the keyname, all of them in\nthe same API microversion.\n\nRebased the work from I5de15935e83823afa545a250cf84f6a7a37036b4\n\nAPIImpact\n\nImplements: blueprint keypair-generation-removal\nCo-Authored-By: Nicolas Parquet <nicolas.parquet@gandi.net>\n\nChange-Id: I6a7c71fb4385348c87067543d0454f302907395e\n""}, {'number': 6, 'created': '2022-07-22 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b53bcc76a8b7907f470e0a19c4603a28be0e7161', 'message': ""api: Drop generating a keypair and add special chars to naming\n\nAs agreed in the spec, we will both drop the generation support for a keypair\nbut we'll also accept @ (at) and . (dot) chars in the keyname, all of them in\nthe same API microversion.\n\nRebased the work from I5de15935e83823afa545a250cf84f6a7a37036b4\n\nAPIImpact\n\nImplements: blueprint keypair-generation-removal\nCo-Authored-By: Nicolas Parquet <nicolas.parquet@gandi.net>\n\nChange-Id: I6a7c71fb4385348c87067543d0454f302907395e\n""}, {'number': 7, 'created': '2022-07-27 13:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/208b1bc91647bdbe3248ac4cde444b4ff637dfff', 'message': ""api: Drop generating a keypair and add special chars to naming\n\nAs agreed in the spec, we will both drop the generation support for a keypair\nbut we'll also accept @ (at) and . (dot) chars in the keyname, all of them in\nthe same API microversion.\n\nRebased the work from I5de15935e83823afa545a250cf84f6a7a37036b4\n\nAPIImpact\n\nImplements: blueprint keypair-generation-removal\nCo-Authored-By: Nicolas Parquet <nicolas.parquet@gandi.net>\n\nChange-Id: I6a7c71fb4385348c87067543d0454f302907395e\n""}, {'number': 8, 'created': '2022-07-28 09:06:07.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/api/validation/validators.py', 'nova/tests/functional/api_sample_tests/test_keypairs.py', 'nova/tests/functional/regressions/test_bug_1843708.py', 'nova/api/openstack/compute/keypairs.py', 'doc/api_samples/os-keypairs/v2.92/keypairs-import-post-req.json', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.92/keypairs-post-req.json.tpl', 'nova/tests/unit/compute/test_keypairs.py', 'releasenotes/notes/bp-keypair-generation-removal-3004a8643dcd1fd9.yaml', 'api-ref/source/os-keypairs.inc', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.92/keypairs-import-post-resp.json.tpl', 'nova/tests/unit/api/openstack/compute/test_keypairs.py', 'nova/tests/functional/notification_sample_tests/test_keypair.py', 'nova/api/openstack/compute/schemas/keypairs.py', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.92/keypairs-import-post-req.json.tpl', 'doc/api_samples/versions/v21-version-get-resp.json', 'doc/api_samples/os-keypairs/v2.92/keypairs-import-post-resp.json', 'nova/api/validation/parameter_types.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a755e5d9f25c7bb06533a3799d9c39b74f334873', 'message': ""api: Drop generating a keypair and add special chars to naming\n\nAs agreed in the spec, we will both drop the generation support for a keypair\nbut we'll also accept @ (at) and . (dot) chars in the keyname, all of them in\nthe same API microversion.\n\nRebased the work from I5de15935e83823afa545a250cf84f6a7a37036b4\n\nAPIImpact\n\nImplements: blueprint keypair-generation-removal\nCo-Authored-By: Nicolas Parquet <nicolas.parquet@gandi.net>\n\nChange-Id: I6a7c71fb4385348c87067543d0454f302907395e\n""}]",46,849133,a755e5d9f25c7bb06533a3799d9c39b74f334873,82,6,8,7166,,,0,"api: Drop generating a keypair and add special chars to naming

As agreed in the spec, we will both drop the generation support for a keypair
but we'll also accept @ (at) and . (dot) chars in the keyname, all of them in
the same API microversion.

Rebased the work from I5de15935e83823afa545a250cf84f6a7a37036b4

APIImpact

Implements: blueprint keypair-generation-removal
Co-Authored-By: Nicolas Parquet <nicolas.parquet@gandi.net>

Change-Id: I6a7c71fb4385348c87067543d0454f302907395e
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/849133/8 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'nova/api/validation/validators.py', 'nova/api/openstack/compute/keypairs.py', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/unit/api/openstack/compute/test_keypairs.py', 'doc/api_samples/os-keypairs/v2.91/keypairs-import-post-req.json', 'doc/api_samples/os-keypairs/v2.91/keypairs-list-user1-resp.json', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.91/keypairs-post-req.json.tpl', 'nova/api/validation/parameter_types.py', 'doc/api_samples/os-keypairs/v2.91/keypairs-list-resp.json', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/compute/api.py', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.91/keypairs-list-user2-resp.json.tpl', 'nova/tests/functional/api_sample_tests/test_keypairs.py', 'doc/api_samples/os-keypairs/v2.91/keypairs-import-post-resp.json', 'nova/tests/unit/compute/test_keypairs.py', 'api-ref/source/os-keypairs.inc', 'nova/api/openstack/compute/schemas/keypairs.py', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.91/keypairs-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.91/keypairs-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.91/keypairs-list-user1-resp.json.tpl', 'doc/api_samples/os-keypairs/v2.91/keypairs-list-user2-resp.json', 'releasenotes/notes/bp-allow-special-characters-in-keypair-name-4036e517d7bc9719.yaml']",25,be31bdb3b4ce9e8b49f81c4ce7ac2f7061eabc1b,bp/keypair-generation-removal,"--- features: - | The 2.91 microversion makes the following changes: * Add a validator for keypair name on creation/import * Allow 2 new special characters: '@' and '.' (dot), in addition to the existing constraints of ``[a-z][A-Z][0-9][_- ]`` ",,334,59
openstack%2Fopenstack-ansible-os_rally~stable%2Fussuri~I8100dfd3544c0530815fb877b44b960d404f635b,openstack/openstack-ansible-os_rally,stable/ussuri,I8100dfd3544c0530815fb877b44b960d404f635b,Control rally-openstack installed version,MERGED,2022-07-20 08:06:37.000000000,2022-07-28 18:57:14.000000000,2022-07-28 18:55:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-07-20 08:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/db1e73dff52a32741f96e56698e3092342b3d551', 'message': ""Control rally-openstack installed version\n\nAt the moment we don't have control what version of rally-openstack\nis being installed. So we are installing latest version available in\nPyPi. However rally package version is defined in\nrally-openstack constraints.\n\nWith this patch we add variables to be able to adjust source of\nrally-openstack as well as pick version for installation.\n\nChange-Id: I8100dfd3544c0530815fb877b44b960d404f635b\n(cherry picked from commit 401ab742d09ddc64005c7af8809d337568338e27)\n""}, {'number': 2, 'created': '2022-07-20 08:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/0eb30c6b7645149015bc9d7c9327478309946e6b', 'message': ""Control rally-openstack installed version\n\nAt the moment we don't have control what version of rally-openstack\nis being installed. So we are installing latest version available in\nPyPi. However rally package version is defined in\nrally-openstack constraints.\n\nWith this patch we add variables to be able to adjust source of\nrally-openstack as well as pick version for installation.\n\nChange-Id: I8100dfd3544c0530815fb877b44b960d404f635b\n(cherry picked from commit 401ab742d09ddc64005c7af8809d337568338e27)\n""}, {'number': 3, 'created': '2022-07-20 08:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/73cd5b93a739d330abd119bed4e6fe6ea5dd46fd', 'message': ""Control rally-openstack installed version\n\nAt the moment we don't have control what version of rally-openstack\nis being installed. So we are installing latest version available in\nPyPi. However rally package version is defined in\nrally-openstack constraints.\n\nWith this patch we add variables to be able to adjust source of\nrally-openstack as well as pick version for installation.\n\nChange-Id: I8100dfd3544c0530815fb877b44b960d404f635b\n(cherry picked from commit 401ab742d09ddc64005c7af8809d337568338e27)\n""}, {'number': 4, 'created': '2022-07-20 10:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/e1953639109a7d21f2d61769acb3a82058dc5283', 'message': ""Control rally-openstack installed version\n\nAt the moment we don't have control what version of rally-openstack\nis being installed. So we are installing latest version available in\nPyPi. However rally package version is defined in\nrally-openstack constraints.\n\nWith this patch we add variables to be able to adjust source of\nrally-openstack as well as pick version for installation.\n\nChange-Id: I8100dfd3544c0530815fb877b44b960d404f635b\n(cherry picked from commit 401ab742d09ddc64005c7af8809d337568338e27)\n""}, {'number': 5, 'created': '2022-07-20 10:24:30.000000000', 'files': ['zuul.d/project.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/690fd3bdb25ab0a6d6e271bd37c99d386ac94aa8', 'message': ""Control rally-openstack installed version\n\nAt the moment we don't have control what version of rally-openstack\nis being installed. So we are installing latest version available in\nPyPi. However rally package version is defined in\nrally-openstack constraints.\n\nWith this patch we add variables to be able to adjust source of\nrally-openstack as well as pick version for installation.\n\nChange-Id: I8100dfd3544c0530815fb877b44b960d404f635b\n(cherry picked from commit 401ab742d09ddc64005c7af8809d337568338e27)\n""}]",0,850477,690fd3bdb25ab0a6d6e271bd37c99d386ac94aa8,14,3,5,28619,,,0,"Control rally-openstack installed version

At the moment we don't have control what version of rally-openstack
is being installed. So we are installing latest version available in
PyPi. However rally package version is defined in
rally-openstack constraints.

With this patch we add variables to be able to adjust source of
rally-openstack as well as pick version for installation.

Change-Id: I8100dfd3544c0530815fb877b44b960d404f635b
(cherry picked from commit 401ab742d09ddc64005c7af8809d337568338e27)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/77/850477/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'defaults/main.yml', 'releasenotes/notes/rally-openstack-git-121821ef54c48419.yaml']",3,db1e73dff52a32741f96e56698e3092342b3d551,,--- features: - | Implemented variables ``rally_openstack_git_repo`` and ``rally_openstack_git_install_branch`` that allow to override installation source for rally-openstack package as well as controll installed version of the package. ,,27,0
openstack%2Fopenstack-ansible-plugins~master~I9cfbf53a66f9488b6cbd22c880fb7e9dc1752ef6,openstack/openstack-ansible-plugins,master,I9cfbf53a66f9488b6cbd22c880fb7e9dc1752ef6,Fix gluster play_hosts,MERGED,2022-07-20 15:14:35.000000000,2022-07-28 18:40:56.000000000,2022-07-28 18:39:48.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-07-20 15:14:35.000000000', 'files': ['roles/glusterfs/tasks/main.yml', 'roles/glusterfs/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/13b639728568abc1da32aeaeca92fc0cdaed895d', 'message': 'Fix gluster play_hosts\n\nIf using the last play host we cannot grow the cluster since the\n`gluster peer probe` command needs to be executed on a running node.\n\nChange-Id: I9cfbf53a66f9488b6cbd22c880fb7e9dc1752ef6\n'}]",0,850540,13b639728568abc1da32aeaeca92fc0cdaed895d,10,4,1,13095,,,0,"Fix gluster play_hosts

If using the last play host we cannot grow the cluster since the
`gluster peer probe` command needs to be executed on a running node.

Change-Id: I9cfbf53a66f9488b6cbd22c880fb7e9dc1752ef6
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/40/850540/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/glusterfs/tasks/main.yml', 'roles/glusterfs/vars/main.yml']",2,13b639728568abc1da32aeaeca92fc0cdaed895d,fix-gluster-order,"_glusterfs_is_first_play_host: ""{{ (inventory_hostname == (ansible_play_hosts | first)) | bool }}""","_glusterfs_is_last_play_host: ""{{ (inventory_hostname == (ansible_play_hosts | last)) | bool }}""",3,3
openstack%2Ftripleo-quickstart~master~I8e28544a4cc5037aa369b19ff9160c6367c29377,openstack/tripleo-quickstart,master,I8e28544a4cc5037aa369b19ff9160c6367c29377,Become root to install virthost ssh keys,NEW,2022-07-28 15:26:25.000000000,2022-07-28 18:19:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-28 15:26:25.000000000', 'files': ['roles/libvirt/setup/user/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/887722460673755f6aec7f7015483215d27811bf', 'message': 'Become root to install virthost ssh keys\n\nChange-Id: I8e28544a4cc5037aa369b19ff9160c6367c29377\n'}]",0,851424,887722460673755f6aec7f7015483215d27811bf,6,2,1,34208,,,0,"Become root to install virthost ssh keys

Change-Id: I8e28544a4cc5037aa369b19ff9160c6367c29377
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/24/851424/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/user/tasks/main.yml'],1,887722460673755f6aec7f7015483215d27811bf,, become: true,,1,0
openstack%2Frequirements~stable%2Fxena~I61b873b790f66a8573279803148531cf2af121ab,openstack/requirements,stable/xena,I61b873b790f66a8573279803148531cf2af121ab,update constraint for os-brick to new release 5.0.3,MERGED,2022-07-28 15:21:37.000000000,2022-07-28 18:08:41.000000000,2022-07-28 18:08:41.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-28 15:21:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6ddb3a177c38485c6ace7a38aa642683704a6945', 'message': 'update constraint for os-brick to new release 5.0.3\n\nmeta: version: 5.0.3\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Jon Bernard <jobernar@redhat.com>\nmeta: release:Commit: Jon Bernard <jobernar@redhat.com>\nmeta: release:Change-Id: I633eca33b086d4bfe2fa34b07cc37ccb3171ba4d\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I61b873b790f66a8573279803148531cf2af121ab\n'}]",0,851422,6ddb3a177c38485c6ace7a38aa642683704a6945,8,3,1,11131,,,0,"update constraint for os-brick to new release 5.0.3

meta: version: 5.0.3
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Jon Bernard <jobernar@redhat.com>
meta: release:Commit: Jon Bernard <jobernar@redhat.com>
meta: release:Change-Id: I633eca33b086d4bfe2fa34b07cc37ccb3171ba4d
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I61b873b790f66a8573279803148531cf2af121ab
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/851422/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6ddb3a177c38485c6ace7a38aa642683704a6945,new-release,os-brick===5.0.3,os-brick===5.0.2,1,1
openstack%2Fneutron~stable%2Ftrain~I34aabd97fc51ee6393ab3c6f1c6f462db8efbdb5,openstack/neutron,stable/train,I34aabd97fc51ee6393ab3c6f1c6f462db8efbdb5,[Train-only] Make neutron-granade job non-voting,MERGED,2022-07-28 04:09:31.000000000,2022-07-28 18:05:58.000000000,2022-07-28 18:03:29.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 04:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d26c875f388cf33914b602fa76ef793c4480a068', 'message': '[Train-only]: Make neutron-granade job non-voting\n\nCurrently the neutron-grenade job in stable/train is consistently\nfailing because of the job script being stuck.\n\nThis change temporarily makes the job non-voting to unblock CI.\n\nChange-Id: I34aabd97fc51ee6393ab3c6f1c6f462db8efbdb5\nRelated-Bug: #1982720\n'}, {'number': 2, 'created': '2022-07-28 04:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/295db41a7f6b84b9021c8b9260d3415a204a5050', 'message': '[Train-only] Make neutron-granade job non-voting\n\nCurrently the neutron-grenade job in stable/train is consistently\nfailing because of the job script being stuck.\n\nThis change temporarily makes the job non-voting to unblock CI.\n\nChange-Id: I34aabd97fc51ee6393ab3c6f1c6f462db8efbdb5\nRelated-Bug: #1982720\n'}, {'number': 3, 'created': '2022-07-28 08:06:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01c88ae08c1e5dc3f4b57c7531d367ab7f4094dd', 'message': '[Train-only] Make neutron-granade job non-voting\n\nCurrently the neutron-grenade job in stable/train is consistently\nfailing because of the job script being stuck.\n\nThis change temporarily makes the job non-voting to unblock CI.\n\nChange-Id: I34aabd97fc51ee6393ab3c6f1c6f462db8efbdb5\nRelated-Bug: #1982720\n'}]",6,851330,01c88ae08c1e5dc3f4b57c7531d367ab7f4094dd,21,5,3,9816,,,0,"[Train-only] Make neutron-granade job non-voting

Currently the neutron-grenade job in stable/train is consistently
failing because of the job script being stuck.

This change temporarily makes the job non-voting to unblock CI.

Change-Id: I34aabd97fc51ee6393ab3c6f1c6f462db8efbdb5
Related-Bug: #1982720
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/851330/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d26c875f388cf33914b602fa76ef793c4480a068,, voting: false,,1,0
openstack%2Frequirements~stable%2Fwallaby~I10cd1b99ab32b5238ccbeb78e012150890bf7b6c,openstack/requirements,stable/wallaby,I10cd1b99ab32b5238ccbeb78e012150890bf7b6c,update constraint for ironic-lib to new release 4.6.4,MERGED,2022-07-28 09:44:36.000000000,2022-07-28 18:01:42.000000000,2022-07-28 18:01:42.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-28 09:44:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/92e98bf195f2e24b0b6df27d3c5be5a61c5fe0fc', 'message': 'update constraint for ironic-lib to new release 4.6.4\n\nmeta: version: 4.6.4\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I48353ab52f4f13d514a9d233055ec8e989e03f2f\nmeta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I10cd1b99ab32b5238ccbeb78e012150890bf7b6c\n'}]",1,851362,92e98bf195f2e24b0b6df27d3c5be5a61c5fe0fc,9,3,1,17685,,,0,"update constraint for ironic-lib to new release 4.6.4

meta: version: 4.6.4
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I48353ab52f4f13d514a9d233055ec8e989e03f2f
meta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I10cd1b99ab32b5238ccbeb78e012150890bf7b6c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/851362/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,92e98bf195f2e24b0b6df27d3c5be5a61c5fe0fc,new-release,ironic-lib===4.6.4,ironic-lib===4.6.3,1,1
openstack%2Fpython-cinderclient~stable%2Fvictoria~Ifbaca4aa87d890bc5130069638d42665b914b378,openstack/python-cinderclient,stable/victoria,Ifbaca4aa87d890bc5130069638d42665b914b378,Make instance_uuid optional in attachment create,NEW,2022-06-28 13:29:42.000000000,2022-07-28 17:54:30.000000000,,"[{'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-28 13:29:42.000000000', 'files': ['cinderclient/tests/unit/v3/test_attachments.py', 'cinderclient/v3/shell.py', 'releasenotes/notes/attachment-create-optional-server-id-9299d9da2b62b263.yaml', 'cinderclient/v3/attachments.py', 'cinderclient/tests/unit/v3/test_shell.py', 'cinderclient/tests/unit/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8ab29ca1ada4a516fd1f451337b912b27ce67152', 'message': 'Make instance_uuid optional in attachment create\n\nCinder and cinderclient assumes an attachment create request will\nalways contain instance_uuid. This is not true when glance calls\ncinder for attachment in glance cinder configuration.\nThis patch (along with the cinder patch) make the instance_uuid\noptional and allow glance to do attachments without passing\ninstance_uuid.\n\nChange-Id: Ifbaca4aa87d890bc5130069638d42665b914b378\n(cherry picked from commit d714249ca9e95297f5e53c9dcc0af9ba58d0ab6d)\n(cherry picked from commit aba49e1b275f8a43cb808e394d6847de5928ef02)\n'}]",2,847824,8ab29ca1ada4a516fd1f451337b912b27ce67152,4,2,1,32927,,,0,"Make instance_uuid optional in attachment create

Cinder and cinderclient assumes an attachment create request will
always contain instance_uuid. This is not true when glance calls
cinder for attachment in glance cinder configuration.
This patch (along with the cinder patch) make the instance_uuid
optional and allow glance to do attachments without passing
instance_uuid.

Change-Id: Ifbaca4aa87d890bc5130069638d42665b914b378
(cherry picked from commit d714249ca9e95297f5e53c9dcc0af9ba58d0ab6d)
(cherry picked from commit aba49e1b275f8a43cb808e394d6847de5928ef02)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/24/847824/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/unit/v3/test_attachments.py', 'cinderclient/v3/shell.py', 'releasenotes/notes/attachment-create-optional-server-id-9299d9da2b62b263.yaml', 'cinderclient/tests/unit/v3/test_shell.py', 'cinderclient/v3/attachments.py', 'cinderclient/tests/unit/v3/fakes.py']",6,8ab29ca1ada4a516fd1f451337b912b27ce67152,783628-stable/wallaby-stable/victoria,"fake_attachment_without_instance_id = {'attachment': { 'status': 'reserved', 'detached_at': '', 'connection_info': {}, 'attached_at': '', 'attach_mode': None, 'id': 'a232e9ae', 'instance': None, 'volume_id': '557ad76c-ce54-40a3-9e91-c40d21665cc3', }} if kw['body']['attachment'].get('instance_uuid'): return (200, {}, fake_attachment) return (200, {}, fake_attachment_without_instance_id)"," return (200, {}, fake_attachment)",79,3
openstack%2Fcinder~master~I586b79519573add80a1c34d9ba2656073852b4f7,openstack/cinder,master,I586b79519573add80a1c34d9ba2656073852b4f7,Initial commit for Yadro Tatlin.UNIFIED driver,MERGED,2022-01-20 12:30:39.000000000,2022-07-28 17:21:05.000000000,2022-07-28 10:26:46.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 11904}, {'_account_id': 13671}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 34465}]","[{'number': 1, 'created': '2022-01-20 12:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec58573348ffcc837d41b1e16853868615843ed5', 'message': 'Initial commit for Yadro Tatlin.UNIFIED cinder driver\n\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 2, 'created': '2022-01-20 13:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b2d3a008e9ef990c2bb3bd4e3a5b829987ad5eb', 'message': 'Initial commit for Yadro Tatlin.UNIFIED cinder driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 3, 'created': '2022-01-20 13:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a43d6f6157092f562ac3a975a5d87644f0bcb794', 'message': 'Initial commit for Yadro Tatlin.UNIFIED cinder driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\nImplements: https://blueprints.launchpad.net/cinder/+spec/yadro-tatlin-unified-driver\n'}, {'number': 4, 'created': '2022-01-20 13:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae80400fd8b6a34342a97f7f25ecf3a45733c25d', 'message': 'Initial commit for Yadro Tatlin.UNIFIED cinder driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\nImplements: yadro-tatlin-unified-driver\n'}, {'number': 5, 'created': '2022-01-20 13:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f908887553b84c7ba7cce61bf3c4bb880eb73db6', 'message': 'Initial commit for Yadro Tatlin.UNIFIED cinder driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\nImplements: https://blueprints.launchpad.net/cinder/+spec/yadro-tatlin-unified-driver\n'}, {'number': 6, 'created': '2022-01-20 13:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ccd7460466040a918a3db308f1d0b0997a5a738e', 'message': 'Initial commit for Yadro Tatlin.UNIFIED cinder driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\nImplements: yadro-tatlin-unified-driver\n'}, {'number': 7, 'created': '2022-01-20 14:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/531c5896fccf5138a0c60e229731939e5bc3b3a9', 'message': 'Initial commit for Yadro Tatlin.UNIFIED cinder driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\nImplements: <a href=""https://blueprints.launchpad.net/cinder/+spec/yadro-tatlin-unified-driver"">yadro-tatlin-unified-driver</a>\n'}, {'number': 8, 'created': '2022-01-20 14:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/275edcab30153e2be22e52b033a21170c17d8279', 'message': 'Initial commit for Yadro Tatlin.UNIFIED cinder driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\nImplements: yadro-tatlin-unified-driver\n'}, {'number': 9, 'created': '2022-01-20 15:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3d7dcb7581cc4387cb8b802a857862bb88ecd16', 'message': 'Initial commit for Yadro Tatlin.UNIFIED cinder driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 10, 'created': '2022-01-20 15:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e8ea6f7e8873081b2c7811bb90d4d18073356cb', 'message': 'Initial commit for Yadro Tatlin.UNIFIED cinder driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 11, 'created': '2022-05-19 13:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/157a5be2f8236da158e1074b81e516bf32626308', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 12, 'created': '2022-05-19 14:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4e12001b0168846050353c803e27b16e5f78e96', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 13, 'created': '2022-05-23 12:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0197c893e6d43fcd09d07db0888f7fa65d1beec9', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 14, 'created': '2022-05-23 12:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9b1204fdd177558d0c2dc772983e6f4f71b5a24', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 15, 'created': '2022-05-25 06:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/04289ee3a7cab0bbeb1af748e5086ef2253661d2', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 16, 'created': '2022-05-26 15:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88cb508ff0bc92c1bb8bef45b1371f63c04ac335', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 17, 'created': '2022-05-26 15:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1323d6fa190631fba823d0f893e9cb27b4956ccd', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 18, 'created': '2022-05-27 08:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0f6cc33ebea1895a91f71d07b75bdc586902aa2', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 19, 'created': '2022-06-02 08:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5d2abaebceef2d7f2250059fd85acf105278e6d', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 20, 'created': '2022-06-06 11:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd629781d9c4e29fb0c16f753a91e2f231f0156d', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 21, 'created': '2022-06-09 13:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a96d64a6387d4546cd8667fb7d18562628b2d4e', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 22, 'created': '2022-06-09 20:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/47073baab62144bd69cc207ec9f9bf74bd512fbc', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides Fibre Channel and iSCSI support for\nTATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nWe have tested it with several OpenStack versions, including Queens,\nVictoria, Train.\nWe have also tested it with Yoga and we are working to cover additional\nOpenStack releases.\n\nWe will be glad to join the OpenStack community and are looking for your\nfeedback on the driver.\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 23, 'created': '2022-06-17 14:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/910733638c523367c8f5c017b41077b712f582a4', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides iSCSI support for TATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 24, 'created': '2022-07-11 06:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee73fbb7ffe64507d2afdf10ed9d00da8ef4df63', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides iSCSI support for TATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nVolume Multiattachment\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\nHigh Availability\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 25, 'created': '2022-07-12 06:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d2746015c2b2ccea0ea6cec2baf9afe1b9fd833', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides iSCSI support for TATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nVolume Multiattachment\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\nHigh Availability\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 26, 'created': '2022-07-14 08:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a1c01c59eb58070fd6d0653589ee61b830769b6', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides iSCSI support for TATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nVolume Multiattachment\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\nHigh Availability\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 27, 'created': '2022-07-21 16:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7565b039717dd7d3c5263764c41eb5b36ccfe917', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides iSCSI support for TATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nVolume Multiattachment\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\nHigh Availability\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 28, 'created': '2022-07-25 11:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc23474e8fd4e635ecade659d8f300e0e568d737', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides iSCSI support for TATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nVolume Multiattachment\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\nHigh Availability\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 29, 'created': '2022-07-25 16:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3349c28d377f5ee930143a2dd3daefc1ab8bc9af', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides iSCSI support for TATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nVolume Multiattachment\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\nHigh Availability\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 30, 'created': '2022-07-26 12:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae5c2aeff7c88360e19e613fb21c4d0c4896152c', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides iSCSI support for TATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nVolume Multiattachment\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\nHigh Availability\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 31, 'created': '2022-07-26 17:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02ff484fd2534511eedcf98cc838d7e379c34400', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides iSCSI support for TATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nVolume Multiattachment\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\nHigh Availability\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}, {'number': 32, 'created': '2022-07-27 07:06:03.000000000', 'files': ['releasenotes/notes/bp-yadro-tatlin-unified-driver-122218f077d70312.yaml', 'cinder/volume/drivers/yadro/tatlin_exception.py', 'cinder/volume/drivers/yadro/__init__.py', 'cinder/volume/drivers/yadro/tatlin_utils.py', 'cinder/volume/drivers/yadro/tatlin_common.py', 'cinder/tests/unit/volume/drivers/yadro/test_tatlin_utils.py', 'cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/yadro/tatlin_iscsi.py', 'cinder/tests/unit/volume/drivers/yadro/test_tatlin_common.py', 'cinder/tests/unit/volume/drivers/yadro/__init__.py', 'cinder/tests/unit/volume/drivers/yadro/test_tatlin_client.py', 'cinder/volume/drivers/yadro/tatlin_api.py', 'cinder/volume/drivers/yadro/tatlin_client.py', 'doc/source/configuration/block-storage/drivers/yadro-tatlin-volume-driver.rst', 'cinder/tests/unit/volume/drivers/yadro/test_tatlin_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6934463943f383c5c8d513720caf23f1cef83818', 'message': 'Initial commit for Yadro Tatlin.UNIFIED driver\n\nYADRO Cinder Driver\n\nThis commits introduces the YADRO Cinder Driver.\nYADRO Cinder Driver provides iSCSI support for TATLIN.UNIFIED storages.\nTATLIN.UNIFIED is a hybrid storage array with block and file access\nsupporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address\nmid-range needs of enterprise. It is actively developed and maintained\nby YADRO, a technology company with in-house R&D focused on designing\nand developing efficient server and storage products for enterprise\nworkloads.\n\nThe YADRO Cinder Driver currently supports the following functionality:\n\nCreate Volume\nDelete Volume\nAttach Volume\nDetach Volume\nExtend Volume\nCreate Volume from Volume (clone)\nCreate Image from Volume\nVolume Migration (host assisted)\nVolume Multiattachment\nExtend an Attached Volume\nThin Provisioning\nManage/Unmanage Volume\nImage Cache\nHigh Availability\n\nImplements: blueprint yadro-tatlin-unified-driver\nCo-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>\nChange-Id: I586b79519573add80a1c34d9ba2656073852b4f7\n'}]",517,825492,6934463943f383c5c8d513720caf23f1cef83818,601,9,32,34497,,,0,"Initial commit for Yadro Tatlin.UNIFIED driver

YADRO Cinder Driver

This commits introduces the YADRO Cinder Driver.
YADRO Cinder Driver provides iSCSI support for TATLIN.UNIFIED storages.
TATLIN.UNIFIED is a hybrid storage array with block and file access
supporting NVMe/SAS SSDs and SAS/NL-SAS/SATA HDDs designed to address
mid-range needs of enterprise. It is actively developed and maintained
by YADRO, a technology company with in-house R&D focused on designing
and developing efficient server and storage products for enterprise
workloads.

The YADRO Cinder Driver currently supports the following functionality:

Create Volume
Delete Volume
Attach Volume
Detach Volume
Extend Volume
Create Volume from Volume (clone)
Create Image from Volume
Volume Migration (host assisted)
Volume Multiattachment
Extend an Attached Volume
Thin Provisioning
Manage/Unmanage Volume
Image Cache
High Availability

Implements: blueprint yadro-tatlin-unified-driver
Co-Authored-By: Vladislav Belogrudov <v.belogrudov@yadro.com>
Change-Id: I586b79519573add80a1c34d9ba2656073852b4f7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/825492/32 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/yadro/tatlin_iscsi.py', 'cinder/tests/unit/volume/drivers/yadro/test_tatlin_common.py', 'cinder/volume/drivers/yadro/tatlin_exception.py', 'cinder/volume/drivers/yadro/__init__.py', 'cinder/tests/unit/volume/drivers/yadro/__init__.py', 'cinder/volume/drivers/yadro/tatlin_common.py', 'cinder/volume/drivers/yadro/tatlin_fc.py', 'cinder/volume/drivers/yadro/tatlin_client.py', 'doc/source/configuration/block-storage/drivers/yadro-tatlin-volume-driver.rst']",9,ec58573348ffcc837d41b1e16853868615843ed5,bp/yadro-tatlin-unified-driver,"============================ YADRO Cinder Driver ============================ YADRO Cinder driver provides Fibre Channel and iSCSI support for TATLIN.UNIFIED storages. Supported Functions ~~~~~~~~~~~~~~~~~~~~ Basic Functions --------------- * Create Volume * Delete Volume * Attach Volume * Detach Volume * Extend Volume * Create Volume from Volume (clone) * Create Image from Volume * Volume Migration (host assisted) Additional Functions -------------------- * Extend an Attached Volume * Thin Provisioning * Manage/Unmanage Volume * Image Cache Configuration ~~~~~~~~~~~~~ Set up TATLIN.UNIFIED storage ----------------------------- You need to specify settings as described below for storage systems. For details about each setting, see the user's guide of the storage system. #. User account Create a storage account belonging to the admin user group. #. Pool Create a storage pool that is used by the driver. #. Ports Setup data ETH ports you want to export volumes to. #. Hosts Create storage hosts and set ports of the initiators. One host must correspond to one initiator. #. Host Group Create storage host group and add hosts created on the previous step to the host group. #. CHAP Authentication Set up CHAP credentials for iSCSI storage hosts (if CHAP is used). Set up YADRO Cinder Driver ------------------------------------ Add the following configuration to `/etc/cinder/cinder.conf`: If you use Fibre Channel: .. code-block:: ini [fc-1] volume_driver=cinder.volume.drivers.yadro.tatlin_fc.TatlinFCVolumeDriver ip=<management_ip> login=<login> password=<password> tat_api_retry_count=<count> use_memcached=<True|False> memcached_ip=<ip_address> memcached_port=<port> api_port=<management_port> pool_name=<cinder_volumes_pool> export_ports=<port1>,<port2> host_group=<name> max_resource_count=<count> If you use iSCSI: .. code-block:: ini [iscsi-1] volume_driver=cinder.volume.drivers.yadro.tatlin_iscsi.TatlinISCSIVolumeDriver ip=<management_ip> login=<login> password=<password> tat_api_retry_count=<count> use_memcached=<True|False> memcached_ip=<ip_address> memcached_port=<port> api_port=<management_port> pool_name=<cinder_volumes_pool> export_ports=<port1>,<port2> host_group=<name> max_resource_count=<count> auth_method=<CHAP|NONE> chap_username=<chap_username> chap_password=<chap_password> ``volume_driver`` Volume driver name. ``ip`` TATLIN.UNIFIED management IP address or FQDN. ``login`` TATLIN.UNIFIED user name. ``password`` TATLIN.UNIFIED user password. ``tat_api_retry_count`` Number of repeated requests to TATLIN.UNIFIED. ``use_memcached`` Use memcached software. Default: `false`. If memcached software is not used, cloning of resources and using Image Cache is not possible. Backup Attached Volumes is not supported. ``memcached_ip`` Memcached IP address. Default: 127.0.0.1. ``memcached_port`` Memcached port. Default: 11211. ``api_port`` TATLIN.UNIFIED management port. Default: 443. ``pool_name`` TATLIN.UNIFIED name of pool for Cinder Volumes. ``export_ports`` Comma-separated data ports for volumes to be exported to. ``host_group`` TATLIN.UNIFIED host group name. ``max_resource_count`` Limit on the number of resources for TATLIN.UNIFIED. Default: 150 (corresponds to the maximum value). ``auth_method`` (only iSCSI) Authentication method: * ``CHAP`` — use CHAP authentication * ``NONE`` — disable authentication (by default) ``chap_username``, ``chap_password`` (if ``auth_method=CHAP``) CHAP credentials to validate the initiator. ",,2475,0
openstack%2Fpython-ironicclient~stable%2Fwallaby~Ia191ab32f0d4f8f50cb266332d4f4bc96619cb58,openstack/python-ironicclient,stable/wallaby,Ia191ab32f0d4f8f50cb266332d4f4bc96619cb58,Fix logging in the baremetal CLI,MERGED,2022-07-20 13:41:15.000000000,2022-07-28 17:18:25.000000000,2022-07-28 17:17:08.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-20 13:41:15.000000000', 'files': ['ironicclient/shell.py', 'releasenotes/notes/logging-9c452e4869d80de9.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/09b78fa80edba7317ab00b64a3f7f2b29c754fb8', 'message': ""Fix logging in the baremetal CLI\n\n* Ask openstacksdk to log to stderr instead of stdout, otherwise its\n  warnings break parsing the output.\n* Respect the --verbose flag (same as --debug but without tracebacks).\n* Do not propagate log records that are handled by either openstacksdk's\n  or ours logging code.\n\nChange-Id: Ia191ab32f0d4f8f50cb266332d4f4bc96619cb58\n(cherry picked from commit bc753e22b465b9e711ad23c95a03977b5bc7347e)\n""}]",1,850487,09b78fa80edba7317ab00b64a3f7f2b29c754fb8,11,2,1,23851,,,0,"Fix logging in the baremetal CLI

* Ask openstacksdk to log to stderr instead of stdout, otherwise its
  warnings break parsing the output.
* Respect the --verbose flag (same as --debug but without tracebacks).
* Do not propagate log records that are handled by either openstacksdk's
  or ours logging code.

Change-Id: Ia191ab32f0d4f8f50cb266332d4f4bc96619cb58
(cherry picked from commit bc753e22b465b9e711ad23c95a03977b5bc7347e)
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/87/850487/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/shell.py', 'releasenotes/notes/logging-9c452e4869d80de9.yaml']",2,09b78fa80edba7317ab00b64a3f7f2b29c754fb8,logging-stable/wallaby,--- fixes: - | OpenStackSDK log messages are no longer sent to stdout and no longer break parsing the output. - | The logging configuration now respects the ``--verbose`` flag. - | Some warnings are no longer duplicated. ,,32,9
openstack%2Fkolla-ansible~master~I22859732bbe241a78e9ea451f104e7810fa4cbcc,openstack/kolla-ansible,master,I22859732bbe241a78e9ea451f104e7810fa4cbcc,Adjust the distro_python_version for Jammy,MERGED,2022-07-28 12:18:12.000000000,2022-07-28 16:46:04.000000000,2022-07-28 16:44:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-28 12:18:12.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a48223779792152331c6840c88a0b69367c10a1', 'message': 'Adjust the distro_python_version for Jammy\n\nWe built Jammy images under the existing focal tag.\n\nChange-Id: I22859732bbe241a78e9ea451f104e7810fa4cbcc\n'}]",3,851393,8a48223779792152331c6840c88a0b69367c10a1,14,5,1,30491,,,0,"Adjust the distro_python_version for Jammy

We built Jammy images under the existing focal tag.

Change-Id: I22859732bbe241a78e9ea451f104e7810fa4cbcc
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/851393/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,8a48223779792152331c6840c88a0b69367c10a1,jammy," ""ubuntu"": ""3.10"""," ""ubuntu"": ""3.8""",1,1
openstack%2Fkolla~master~Id603cc1e9c084eac8afc4c6d2ddde9a1f4fe6728,openstack/kolla,master,Id603cc1e9c084eac8afc4c6d2ddde9a1f4fe6728,Run proxysql with proxysql user,MERGED,2022-07-21 14:14:07.000000000,2022-07-28 16:46:04.000000000,2022-07-28 16:44:28.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-07-21 14:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d27fb0de06dfd6f92f73a1514b7db5dbaaaa8c8b', 'message': 'Run proxysql with proxysql user\n\nThis patch is switching root user to\nproxysql user and provides some\nnecessary changes to work.\n\nChange-Id: Id603cc1e9c084eac8afc4c6d2ddde9a1f4fe6728\n'}, {'number': 2, 'created': '2022-07-21 14:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/10f4a37053788a996158cf6e613030c1f8e74ade', 'message': 'Run proxysql with proxysql user\n\nThis patch is switching root user to\nproxysql user and provides some\nnecessary changes to work.\n\nChange-Id: Id603cc1e9c084eac8afc4c6d2ddde9a1f4fe6728\n'}, {'number': 3, 'created': '2022-07-22 11:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c5b9cca9b88a7e9223507618e1cdab34e68b771b', 'message': 'Run proxysql with proxysql user\n\nThis patch is switching root user to\nproxysql user and provides some\nnecessary changes to work.\n\nChange-Id: Id603cc1e9c084eac8afc4c6d2ddde9a1f4fe6728\n'}, {'number': 4, 'created': '2022-07-28 09:52:14.000000000', 'files': ['docker/proxysql/Dockerfile.j2', 'docker/proxysql/kolla_proxysql_config_sync', 'docker/proxysql/kolla_proxysql_start'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e5fe2a33b991a5c8dc4a77b08bf7228d692e557b', 'message': 'Run proxysql with proxysql user\n\nThis patch is switching root user to\nproxysql user and provides some\nnecessary changes to work.\n\nChange-Id: Id603cc1e9c084eac8afc4c6d2ddde9a1f4fe6728\n'}]",16,850656,e5fe2a33b991a5c8dc4a77b08bf7228d692e557b,39,5,4,27339,,,0,"Run proxysql with proxysql user

This patch is switching root user to
proxysql user and provides some
necessary changes to work.

Change-Id: Id603cc1e9c084eac8afc4c6d2ddde9a1f4fe6728
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/850656/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/proxysql/Dockerfile.j2', 'docker/proxysql/kolla_proxysql_config_sync']",2,d27fb0de06dfd6f92f73a1514b7db5dbaaaa8c8b,proxysql," with open(self.conf_file, 'r+') as f: f.truncate(0)", os.remove(self.conf_file),13,4
openstack%2Ftrove-dashboard~master~Iba7af8c707f2d774fcd120c916267bba11e782b4,openstack/trove-dashboard,master,Iba7af8c707f2d774fcd120c916267bba11e782b4,Address RemovedInDjango40Warning,ABANDONED,2022-04-29 12:01:28.000000000,2022-07-28 16:42:28.000000000,,"[{'_account_id': 841}, {'_account_id': 3031}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 12:01:28.000000000', 'files': ['trove_dashboard/content/database_clusters/urls.py', 'trove_dashboard/content/database_backups/urls.py', 'trove_dashboard/content/database_configurations/urls.py', 'trove_dashboard/content/databases/logs/urls.py', 'trove_dashboard/content/databases/urls.py', 'trove_dashboard/content/backup_strategies/urls.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/606b5b9bb89031063a38fff77f41c6785fb415f7', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: Iba7af8c707f2d774fcd120c916267bba11e782b4\n'}]",3,839933,606b5b9bb89031063a38fff77f41c6785fb415f7,6,3,1,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: Iba7af8c707f2d774fcd120c916267bba11e782b4
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/33/839933/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/database_clusters/urls.py', 'trove_dashboard/content/database_backups/urls.py', 'trove_dashboard/content/database_configurations/urls.py', 'trove_dashboard/content/databases/logs/urls.py', 'trove_dashboard/content/databases/urls.py', 'trove_dashboard/content/backup_strategies/urls.py']",6,606b5b9bb89031063a38fff77f41c6785fb415f7,,"from django.urls import re_path re_path(r'^$', views.IndexView.as_view(), name='index'), re_path(r'^create$', views.BackupStrategyView.as_view(), name='create'),","from django.conf.urls import url url(r'^$', views.IndexView.as_view(), name='index'), url(r'^create$', views.BackupStrategyView.as_view(), name='create'),",71,70
openstack%2Ftrove-dashboard~master~Iefd09a8a001942671f06fad05e89ec889bf817ac,openstack/trove-dashboard,master,Iefd09a8a001942671f06fad05e89ec889bf817ac,Django 4.x: Replace removed features,NEW,2022-07-19 20:14:25.000000000,2022-07-28 16:37:06.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-19 20:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/412aeb6ed4c8d2d3a4eecb1b72ad9f0aba8d8f52', 'message': 'Django 4.x: Replace removed features\n\nugettext_lazy(), ungettext_lazy, and django.urls.url() are\nremoved in 4.0.\nhttps: //docs.djangoproject.com/en/4.0/releases/4.0/\n\nChange-Id: Iefd09a8a001942671f06fad05e89ec889bf817ac\n'}, {'number': 2, 'created': '2022-07-20 14:34:41.000000000', 'files': ['trove_dashboard/content/database_clusters/urls.py', 'trove_dashboard/content/database_configurations/forms.py', 'trove_dashboard/content/database_configurations/urls.py', 'trove_dashboard/content/databases/forms.py', 'trove_dashboard/content/database_clusters/views.py', 'trove_dashboard/enabled/_1710_database_panel_group.py', 'trove_dashboard/content/databases/logs/views.py', 'trove_dashboard/content/database_clusters/forms.py', 'trove_dashboard/content/databases/tables.py', 'trove_dashboard/content/database_clusters/panel.py', 'trove_dashboard/content/database_configurations/tabs.py', 'trove_dashboard/content/backup_strategies/views.py', 'trove_dashboard/content/database_backups/panel.py', 'trove_dashboard/content/database_backups/tests.py', 'trove_dashboard/content/database_configurations/panel.py', 'trove_dashboard/content/databases/workflows/create_instance.py', 'trove_dashboard/content/database_backups/views.py', 'trove_dashboard/test/urls.py', 'trove_dashboard/content/database_backups/urls.py', 'trove_dashboard/content/database_backups/tables.py', 'trove_dashboard/content/database_configurations/views.py', 'trove_dashboard/content/database_clusters/tabs.py', 'trove_dashboard/content/databases/panel.py', 'trove_dashboard/content/backup_strategies/panel.py', 'trove_dashboard/content/ng_database_backups/panel.py', 'trove_dashboard/content/ng_database_backups/urls.py', 'trove_dashboard/content/database_backups/workflows/create_backup.py', 'trove_dashboard/content/databases/logs/tables.py', 'trove_dashboard/content/backup_strategies/tables.py', 'trove_dashboard/content/backup_strategies/workflows/create_backup_strategy.py', 'trove_dashboard/content/database_clusters/tables.py', 'trove_dashboard/content/databases/tabs.py', 'trove_dashboard/content/database_configurations/config_param_manager.py', 'trove_dashboard/content/databases/logs/urls.py', 'trove_dashboard/content/databases/urls.py', 'trove_dashboard/content/backup_strategies/urls.py', 'trove_dashboard/content/database_configurations/tables.py', 'trove_dashboard/content/databases/views.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/2f1001928938f0b53df690f30a21a38b79d9f901', 'message': 'Django 4.x: Replace removed features\n\nugettext_lazy(), ungettext_lazy, and django.urls.url() are\nremoved in 4.0.\nhttps: //docs.djangoproject.com/en/4.0/releases/4.0/\n\nChange-Id: Iefd09a8a001942671f06fad05e89ec889bf817ac\n'}]",5,850422,2f1001928938f0b53df690f30a21a38b79d9f901,5,2,2,11805,,,0,"Django 4.x: Replace removed features

ugettext_lazy(), ungettext_lazy, and django.urls.url() are
removed in 4.0.
https: //docs.djangoproject.com/en/4.0/releases/4.0/

Change-Id: Iefd09a8a001942671f06fad05e89ec889bf817ac
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/22/850422/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/database_clusters/urls.py', 'trove_dashboard/content/database_configurations/forms.py', 'trove_dashboard/content/database_configurations/urls.py', 'trove_dashboard/content/databases/forms.py', 'trove_dashboard/content/database_clusters/views.py', 'trove_dashboard/enabled/_1710_database_panel_group.py', 'trove_dashboard/content/databases/logs/views.py', 'trove_dashboard/content/database_clusters/forms.py', 'trove_dashboard/content/databases/tables.py', 'trove_dashboard/content/database_clusters/panel.py', 'trove_dashboard/content/database_configurations/tabs.py', 'trove_dashboard/content/backup_strategies/views.py', 'trove_dashboard/content/database_backups/panel.py', 'trove_dashboard/content/database_backups/tests.py', 'trove_dashboard/content/database_configurations/panel.py', 'trove_dashboard/content/databases/workflows/create_instance.py', 'trove_dashboard/content/database_backups/views.py', 'trove_dashboard/test/urls.py', 'trove_dashboard/content/database_backups/urls.py', 'trove_dashboard/content/database_backups/tables.py', 'trove_dashboard/content/database_configurations/views.py', 'trove_dashboard/content/database_clusters/tabs.py', 'trove_dashboard/content/databases/panel.py', 'trove_dashboard/content/backup_strategies/panel.py', 'trove_dashboard/content/ng_database_backups/panel.py', 'trove_dashboard/content/ng_database_backups/urls.py', 'trove_dashboard/content/database_backups/workflows/create_backup.py', 'trove_dashboard/content/databases/logs/tables.py', 'trove_dashboard/content/backup_strategies/tables.py', 'trove_dashboard/content/backup_strategies/workflows/create_backup_strategy.py', 'trove_dashboard/content/database_clusters/tables.py', 'trove_dashboard/content/databases/tabs.py', 'trove_dashboard/content/database_configurations/config_param_manager.py', 'trove_dashboard/content/databases/logs/urls.py', 'trove_dashboard/content/databases/urls.py', 'trove_dashboard/content/backup_strategies/urls.py', 'trove_dashboard/content/database_configurations/tables.py', 'trove_dashboard/content/databases/views.py']",38,412aeb6ed4c8d2d3a4eecb1b72ad9f0aba8d8f52,,from django.utils.translation import gettext_lazy as _,from django.utils.translation import ugettext_lazy as _,154,154
openstack%2Ftrove-dashboard~master~I4008e4439d568e0ffedd575870d4bc48c1cc62e5,openstack/trove-dashboard,master,I4008e4439d568e0ffedd575870d4bc48c1cc62e5,Replace deprecated ugettext_lazy and ungettext_lazy,MERGED,2022-07-11 05:56:31.000000000,2022-07-28 16:33:35.000000000,2022-07-28 16:33:35.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-07-11 05:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/5cf8421474ac9ac4159ca5e9b5863d0e1c0dfb45', 'message': 'Replace deprecated ugettext_lazy and ungettext_lazy\n\nThe ugettext_lazy method and the ungettext_lazy method are both\ndeprecated since Django 3.0[1].\n\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/3.0/releases/3.0/#id3\n[2] cd7c1b5110fe1f64cd9dfbeb1072b37912d0efee\n\nChange-Id: I4008e4439d568e0ffedd575870d4bc48c1cc62e5\n'}, {'number': 2, 'created': '2022-07-21 11:43:55.000000000', 'files': ['trove_dashboard/content/database_configurations/forms.py', 'trove_dashboard/content/databases/forms.py', 'trove_dashboard/content/database_clusters/views.py', 'trove_dashboard/enabled/_1710_database_panel_group.py', 'trove_dashboard/content/databases/logs/views.py', 'trove_dashboard/content/database_clusters/forms.py', 'trove_dashboard/content/databases/tables.py', 'trove_dashboard/content/database_clusters/panel.py', 'trove_dashboard/content/database_configurations/tabs.py', 'trove_dashboard/content/backup_strategies/views.py', 'trove_dashboard/content/database_backups/panel.py', 'trove_dashboard/content/database_backups/tests.py', 'trove_dashboard/content/database_configurations/panel.py', 'trove_dashboard/content/databases/workflows/create_instance.py', 'trove_dashboard/content/database_backups/views.py', 'trove_dashboard/content/database_backups/tables.py', 'trove_dashboard/content/database_configurations/views.py', 'trove_dashboard/content/database_clusters/tabs.py', 'trove_dashboard/content/databases/panel.py', 'trove_dashboard/content/backup_strategies/panel.py', 'trove_dashboard/content/ng_database_backups/panel.py', 'trove_dashboard/content/database_backups/workflows/create_backup.py', 'trove_dashboard/content/databases/logs/tables.py', 'trove_dashboard/content/backup_strategies/tables.py', 'trove_dashboard/content/backup_strategies/workflows/create_backup_strategy.py', 'trove_dashboard/content/database_clusters/tables.py', 'trove_dashboard/content/databases/tabs.py', 'trove_dashboard/content/database_configurations/config_param_manager.py', 'trove_dashboard/content/database_configurations/tables.py', 'trove_dashboard/content/databases/views.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/ad40231928ab330d1f0320dd20a3fb2b70d5a09a', 'message': 'Replace deprecated ugettext_lazy and ungettext_lazy\n\nThe ugettext_lazy method and the ungettext_lazy method are both\ndeprecated since Django 3.0[1].\n\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/3.0/releases/3.0/#id3\n[2] cd7c1b5110fe1f64cd9dfbeb1072b37912d0efee\n\nChange-Id: I4008e4439d568e0ffedd575870d4bc48c1cc62e5\n'}]",4,849271,ad40231928ab330d1f0320dd20a3fb2b70d5a09a,10,3,2,9816,,,0,"Replace deprecated ugettext_lazy and ungettext_lazy

The ugettext_lazy method and the ungettext_lazy method are both
deprecated since Django 3.0[1].

These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/3.0/releases/3.0/#id3
[2] cd7c1b5110fe1f64cd9dfbeb1072b37912d0efee

Change-Id: I4008e4439d568e0ffedd575870d4bc48c1cc62e5
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/71/849271/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/database_configurations/forms.py', 'trove_dashboard/content/databases/forms.py', 'trove_dashboard/content/database_clusters/views.py', 'trove_dashboard/enabled/_1710_database_panel_group.py', 'trove_dashboard/content/databases/logs/views.py', 'trove_dashboard/content/database_clusters/forms.py', 'trove_dashboard/content/databases/tables.py', 'trove_dashboard/content/database_clusters/panel.py', 'trove_dashboard/content/database_configurations/tabs.py', 'trove_dashboard/content/backup_strategies/views.py', 'trove_dashboard/content/database_backups/panel.py', 'trove_dashboard/content/database_backups/tests.py', 'trove_dashboard/content/database_configurations/panel.py', 'trove_dashboard/content/databases/workflows/create_instance.py', 'trove_dashboard/content/database_backups/views.py', 'trove_dashboard/content/database_backups/tables.py', 'trove_dashboard/content/database_configurations/views.py', 'trove_dashboard/content/database_clusters/tabs.py', 'trove_dashboard/content/databases/panel.py', 'trove_dashboard/content/backup_strategies/panel.py', 'trove_dashboard/content/ng_database_backups/panel.py', 'trove_dashboard/content/database_backups/workflows/create_backup.py', 'trove_dashboard/content/databases/logs/tables.py', 'trove_dashboard/content/backup_strategies/tables.py', 'trove_dashboard/content/backup_strategies/workflows/create_backup_strategy.py', 'trove_dashboard/content/database_clusters/tables.py', 'trove_dashboard/content/databases/tabs.py', 'trove_dashboard/content/database_configurations/config_param_manager.py', 'trove_dashboard/content/database_configurations/tables.py', 'trove_dashboard/content/databases/views.py']",30,5cf8421474ac9ac4159ca5e9b5863d0e1c0dfb45,django40warning,from django.utils.translation import gettext_lazy as _,from django.utils.translation import ugettext_lazy as _,80,80
openstack%2Fneutron-vpnaas-dashboard~master~I266bfd155742abcbdafa0813eb955b864fcf3adc,openstack/neutron-vpnaas-dashboard,master,I266bfd155742abcbdafa0813eb955b864fcf3adc,Update python testing as per zed cycle testing runtime,MERGED,2022-07-11 05:06:25.000000000,2022-07-28 16:30:58.000000000,2022-07-28 16:28:10.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-11 05:06:25.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-39c229fcb744870f.yaml', '.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/cc67bcd40782a80620a36a2ae005532e3e03f257', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nCo-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>\nChange-Id: I266bfd155742abcbdafa0813eb955b864fcf3adc\n'}]",0,849266,cc67bcd40782a80620a36a2ae005532e3e03f257,7,2,1,9816,,,0,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>
Change-Id: I266bfd155742abcbdafa0813eb955b864fcf3adc
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/66/849266/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-39c229fcb744870f.yaml', '.zuul.yaml', 'setup.cfg']",3,cc67bcd40782a80620a36a2ae005532e3e03f257,drop-py3-6-7,python-requires = >=3.8 Programming Language :: Python :: 3.9,python-requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,8,4
openstack%2Fcontributor-guide~master~I36c7ae908b5a34f733cb96985e7ce32f19a59465,openstack/contributor-guide,master,I36c7ae908b5a34f733cb96985e7ce32f19a59465,Imported Translations from Zanata,MERGED,2022-07-28 03:36:02.000000000,2022-07-28 16:22:17.000000000,2022-07-28 16:20:13.000000000,"[{'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 03:36:02.000000000', 'files': ['doc/source/locale/ko_KR/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/de/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/de/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/id/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-code-and-documentation.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/36923342a728fb3f82b218906734747541710776', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I36c7ae908b5a34f733cb96985e7ce32f19a59465\n'}]",1,851287,36923342a728fb3f82b218906734747541710776,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I36c7ae908b5a34f733cb96985e7ce32f19a59465
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/87/851287/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ko_KR/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/de/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/de/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/id/LC_MESSAGES/doc-organizations.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/zh_CN/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/id/LC_MESSAGES/doc-code-and-documentation.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-code-and-documentation.po']",10,36923342a728fb3f82b218906734747541710776,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata""POT-Creation-Date: 2022-07-06 13:03+0000\n""""PO-Revision-Date: 2022-07-19 09:47+0000\n""""At one time, there existed a service to automatically analyze indexed job "" ""logs in order to match them against curated queries for known bug "" ""signatures, and leave helpful review comments on changes when those same "" ""failures were identified in a new build. That service relied on an old suite "" ""of systems fronted by logstash.openstack.org, which ceased operation in "" ""April 2022. A recreation of that solution is in progress based on the "" ""community's new OpenSearch backend, but is not available for general use yet."" msgstr """" ""At one time, there existed a service to automatically analyze indexed job "" ""logs in order to match them against curated queries for known bug signatures "" ""and leave helpful review comments on changes when those same failures were "" ""identified in a new build. That service relied on an old suite of systems "" ""fronted by logstash.openstack.org, which ceased operation in April 2022. A "" ""recreation of that solution is in progress based on the community's new "" ""OpenSearch backend but is not available for general use yet."" msgid """"""For deeper investigation of related log messages across multiple builds of "" ""jobs, a community-run `OpenSearch cluster <https://governance.openstack.org/"" ""sigs/tact-sig.html#opensearch>`_ is available, with both a WebUI for "" ""producing real-time graphs as well as a REST API for more programmatic "" ""analysis."" msgstr """" ""For deeper investigation of related log messages across multiple builds of "" ""jobs, a community-run `OpenSearch cluster <https://governance.openstack.org/"" ""sigs/tact-sig.html#opensearch>`_ is available, with both a WebUI for "" ""producing real-time graphs as well as a REST API for more programmatic "" ""analysis."" msgid """"msgid ""OpenSearch"" msgstr ""OpenSearch"" msgid ""Past and Future of Elastic Recheck"" msgstr ""Past and Future of Elastic Recheck"" ","""POT-Creation-Date: 2021-06-16 09:08+0000\n""""PO-Revision-Date: 2021-06-19 07:20+0000\n""msgid """" ""Each graph shows how many matches were found for that fingerprint over the "" ""past 10 days. It also provides a link to both the launchpad page for the "" ""bug, and the kibana dashboard for the underlying elastic-search query used "" ""for the fingerprint."" msgstr """" ""Each graph shows how many matches were found for that fingerprint over the "" ""past 10 days. It also provides a link to both the launchpad page for the "" ""bug, and the Kibana dashboard for the underlying elastic-search query used "" ""for the fingerprint."" ""If you're interested in more of the theory and history behind the project, "" ""this talk from the Juno OpenStack Summit provides a good overview: `Elastic "" ""Recheck - Tools for Finding Race Conditions in OpenStack <https://www."" ""youtube.com/watch?v=Byo26Pioq1Y>`_"" msgstr """" ""If you're interested in more of the theory and history behind the project, "" ""this talk from the Juno OpenStack Summit provides a good overview: `Elastic "" ""Recheck - Tools for Finding Race Conditions in OpenStack <https://www."" ""youtube.com/watch?v=Byo26Pioq1Y>`_"" msgid """"""Once you've constructed a query and checked in on elastic-search you should "" ""create a yaml file in the queries directory of the elastic-recheck git repo. "" ""The file name is the launchpad bug number for the bug and the contents are "" ""the elastic-search query."" msgstr """" ""Once you've constructed a query and checked in on elastic-search you should "" ""create a YAML file in the queries directory of the elastic-recheck git repo. "" ""The file name is the launchpad bug number for the bug and the contents are "" ""the elastic-search query."" msgid """" ""Once you've identified a message in the logs that can be used for "" ""fingerprinting you need to turn that into an elastic-search query. You can "" ""use any of the existing fingerprints as an example: `opendev/elastic-recheck "" ""<https://opendev.org/opendev/elastic-recheck/src/queries>`_"" msgstr """" ""Once you've identified a message in the logs that can be used for "" ""fingerprinting you need to turn that into an elastic-search query. You can "" ""use any of the existing fingerprints as an example: `opendev/elastic-recheck "" ""<https://opendev.org/opendev/elastic-recheck/src/queries>`_"" msgid """"""This guide won't go into the details of tracing through the logs of a run "" ""and finding a good fingerprint, since that's quite involved, dependent on "" ""the job you're looking at, and already documented in a few places including:"" msgstr """" ""This guide won't go into the details of tracing through the logs of a run "" ""and finding a good fingerprint, since that's quite involved, dependent on "" ""the job you're looking at, and already documented in a few places including:"" msgid """"msgid ""Tracking a new bug in elastic-recheck"" msgstr ""Tracking a new bug in elastic-recheck"" msgid ""What is elastic-recheck"" msgstr ""What is elastic-recheck"" ""When you encounter a failure that's not being tracked by elastic-recheck and "" ""you've looked through the logs to determine that it's not being caused by "" ""the proposed change and is affecting other changes you can propose a new "" ""elastic-recheck fingerprint."" msgstr """" ""When you encounter a failure that's not being tracked by elastic-recheck and "" ""you've looked through the logs to determine that it's not being caused by "" ""the proposed change and is affecting other changes you can propose a new "" ""elastic-recheck fingerprint."" msgid """"msgid ""You can find these pages at:"" msgstr ""You can find these pages at:"" msgid """" ""You can see the current status of the bugs being tracked by elastic recheck "" ""at: `Elastic Recheck <http://status.openstack.org/elastic-recheck/index."" ""html>`_"" msgstr """" ""You can see the current status of the bugs being tracked by elastic recheck "" ""at: `Elastic Recheck <http://status.openstack.org/elastic-recheck/index."" ""html>`_"" ""You should also check any elastic search queries using kibana at: `Logstash "" ""Search <http://logstash.openstack.org/>`_"" msgstr """" ""You should also check any elastic search queries using Kibana at: `Logstash "" ""Search <http://logstash.openstack.org/>`_"" msgid """"msgid """" ""`Tales From the Gate: How Debugging the Gate Helps Your Enterprise <https://"" ""www.openstack.org/videos/vancouver-2015/tales-from-the-gate-how-debugging-"" ""the-gate-helps-your-enterprise>`_"" msgstr """" ""`Tales From the Gate: How Debugging the Gate Helps Your Enterprise <https://"" ""www.openstack.org/videos/vancouver-2015/tales-from-the-gate-how-debugging-"" ""the-gate-helps-your-enterprise>`_"" msgid """" ""`Unclassified failed integrated gate jobs <http://status.openstack.org/"" ""elastic-recheck/data/integrated_gate.html>`_ and `Unclassified failed jobs "" ""<http://status.openstack.org/elastic-recheck/data/others.html>`_"" msgstr """" ""`Unclassified failed integrated gate jobs <http://status.openstack.org/"" ""elastic-recheck/data/integrated_gate.html>`_ and `Unclassified failed jobs "" ""<http://status.openstack.org/elastic-recheck/data/others.html>`_"" msgid """" ""`elastic-recheck queries <https://docs.openstack.org/infra/elastic-recheck/"" ""readme.html#queries>`_"" msgstr """" ""`elastic-recheck queries <https://docs.openstack.org/infra/elastic-recheck/"" ""readme.html#queries>`_"" msgid ""depending on which jobs you're interested in."" msgstr ""depending on which jobs you're interested in."" msgid """" ""elastic-recheck also has a page to show how many failures were encountered "" ""that do not have a matching fingerprint. Typically the more failures that go "" ""uncategorized the more unstable the gate is (and OpenStack as a whole)."" msgstr """" ""elastic-recheck also has a page to show how many failures were encountered "" ""that do not have a matching fingerprint. Typically the more failures that go "" ""uncategorised the more unstable the gate is (and OpenStack as a whole)."" msgid """" ""elastic-recheck is a tool used to track failures in test jobs. It keeps a "" ""repository of fingerprints for known bugs that are affecting jobs in the "" ""gate. It is then used to both track the rates those bugs are being found and "" ""also to leave comments in gerrit and in IRC when it has found a known bug "" ""fingerprint in a failure."" msgstr """" ""elastic-recheck is a tool used to track failures in test jobs. It keeps a "" ""repository of fingerprints for known bugs that are affecting jobs in the "" ""gate. It is then used to both track the rates those bugs are being found and "" ""also to leave comments in Gerrit and in IRC when it has found a known bug "" ""fingerprint in a failure."" msgid """" ""elastic-recheck is built on top of an ELK (`Elastic Search <https://github."" ""com/elastic/elasticsearch>`_, `Logstash <https://github.com/elastic/"" ""logstash>`_, `Kibana <https://github.com/elastic/kibana>`_) stack where we "" ""use Logstash to store all logs from CI jobs in an Elastic Search cluster. We "" ""also host a `Kibana dashboard <http://logstash.openstack.org/>`_ which can "" ""be used to run queries on the cluster and interacts with the data. elastic-"" ""recheck queries the elastic-search cluster for the fingerprints."" msgstr """" ""elastic-recheck is built on top of an ELK (`Elastic Search <https://github."" ""com/elastic/elasticsearch>`_, `Logstash <https://github.com/elastic/"" ""logstash>`_, `Kibana <https://github.com/elastic/kibana>`_) stack where we "" ""use Logstash to store all logs from CI jobs in an Elastic Search cluster. We "" ""also host a `Kibana dashboard <http://logstash.openstack.org/>`_ which can "" ""be used to run queries on the cluster and interacts with the data. elastic-"" ""recheck queries the elastic-search cluster for the fingerprints."" ",56,844
openstack%2Fi18n~master~I1f833f6db5fe14f17c91aa2e1f132c2f0fa62959,openstack/i18n,master,I1f833f6db5fe14f17c91aa2e1f132c2f0fa62959,setup.py : disable autodiscovery with later setuptools,MERGED,2022-07-28 02:59:59.000000000,2022-07-28 16:19:12.000000000,2022-07-28 16:17:23.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 02:59:59.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/i18n/commit/8cf776b6ab9c3b40f277614a04c2154941837493', 'message': ""setup.py : disable autodiscovery with later setuptools\n\nDisable the autodiscovery [1] for this project; it looks like this is\nused basically via it's tox environments and doesn't need to worry\nabout what packages it creates.\n\nThis is hitting now because the translation proposal jobs run under a\n3.8 venv which is bringing in newer setuptools.\n\n[1] https://github.com/pypa/setuptools/issues/3197\n\nChange-Id: I1f833f6db5fe14f17c91aa2e1f132c2f0fa62959\n""}]",1,851280,8cf776b6ab9c3b40f277614a04c2154941837493,8,3,1,7118,,,0,"setup.py : disable autodiscovery with later setuptools

Disable the autodiscovery [1] for this project; it looks like this is
used basically via it's tox environments and doesn't need to worry
about what packages it creates.

This is hitting now because the translation proposal jobs run under a
3.8 venv which is bringing in newer setuptools.

[1] https://github.com/pypa/setuptools/issues/3197

Change-Id: I1f833f6db5fe14f17c91aa2e1f132c2f0fa62959
",git fetch https://review.opendev.org/openstack/i18n refs/changes/80/851280/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,8cf776b6ab9c3b40f277614a04c2154941837493,py_modules," pbr=True, py_modules=[])", pbr=True),2,1
openstack%2Ftrove-dashboard~master~I5c9dc8b1f72afa947679e36dd346e501a07980f6,openstack/trove-dashboard,master,I5c9dc8b1f72afa947679e36dd346e501a07980f6,Update python testing as per zed cycle testing runtime,MERGED,2022-07-11 05:54:40.000000000,2022-07-28 16:18:11.000000000,2022-07-28 16:14:56.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-07-11 05:54:40.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-python-3-6-and-3-7-847355982d44e998.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/fc63940f4a53a19f847f40863d1d44c7dce35619', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Add release notes and update the python\nclassifier for the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nCo-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>\nChange-Id: I5c9dc8b1f72afa947679e36dd346e501a07980f6\n'}]",0,849270,fc63940f4a53a19f847f40863d1d44c7dce35619,8,3,1,9816,,,0,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Add release notes and update the python
classifier for the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Co-Authored-By: Ghanshyam Mann <gmann@ghanshyammann.com>
Change-Id: I5c9dc8b1f72afa947679e36dd346e501a07980f6
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/70/849270/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'releasenotes/notes/drop-python-3-6-and-3-7-847355982d44e998.yaml', 'setup.cfg']",3,fc63940f4a53a19f847f40863d1d44c7dce35619,drop-py3-6-7,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,7,4
openstack%2Fglance~master~I01e8550aef85d333a70392be83a964267e632c2d,openstack/glance,master,I01e8550aef85d333a70392be83a964267e632c2d,Enable Image cache tempest testing,MERGED,2022-06-22 09:18:55.000000000,2022-07-28 15:55:38.000000000,2022-07-28 15:53:11.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-22 09:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eae7d36414b5a7d0fc8e944c99833210cd747b89', 'message': 'DNM - Image cache tempest testing\n\nChange-Id: I01e8550aef85d333a70392be83a964267e632c2d\n'}, {'number': 2, 'created': '2022-06-22 09:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/93bf1fb5b942d0a847d036a5f8237ba7ce08567c', 'message': 'DNM - Image cache tempest testing\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/825112\nChange-Id: I01e8550aef85d333a70392be83a964267e632c2d\n'}, {'number': 3, 'created': '2022-06-22 16:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/458d49cfce1032f5b9ea3d95f6a8c0e7b188ddb0', 'message': 'DNM - Image cache tempest testing\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/847193\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/825112\nChange-Id: I01e8550aef85d333a70392be83a964267e632c2d\n'}, {'number': 4, 'created': '2022-06-30 07:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/39215c4925ad4bb1f82809e5f66da006a39de2b9', 'message': 'DNM - Image cache tempest testing\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/847193\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/825112\nChange-Id: I01e8550aef85d333a70392be83a964267e632c2d\n'}, {'number': 5, 'created': '2022-07-20 17:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a3b8a54ccd6674bb1dc52c72c5fd0e72b0c92d95', 'message': 'DNM - Image cache tempest testing\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/847193\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/825112\nChange-Id: I01e8550aef85d333a70392be83a964267e632c2d\n'}, {'number': 6, 'created': '2022-07-27 20:06:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/1ef06ef08ba177bd9ea93c25f96fa13aa6a2e9de', 'message': 'Enable Image cache tempest testing\n\nThis patch will enable new cache APIs tempest tests in glance gate.\n\nChange-Id: I01e8550aef85d333a70392be83a964267e632c2d\n'}]",4,847139,1ef06ef08ba177bd9ea93c25f96fa13aa6a2e9de,28,4,6,9303,,,0,"Enable Image cache tempest testing

This patch will enable new cache APIs tempest tests in glance gate.

Change-Id: I01e8550aef85d333a70392be83a964267e632c2d
",git fetch https://review.opendev.org/openstack/glance refs/changes/39/847139/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eae7d36414b5a7d0fc8e944c99833210cd747b89,bp/cache-api," test-config: ""$TEMPEST_CONFIG"": image: image_caching_enabled: True",,4,0
openstack%2Ftripleo-quickstart~master~I21e30c7cef4473580848cd79f799a91c70af3bc2,openstack/tripleo-quickstart,master,I21e30c7cef4473580848cd79f799a91c70af3bc2,Added note about 'version:' having to be a valid semantic version,MERGED,2022-07-27 08:11:58.000000000,2022-07-28 15:51:12.000000000,2022-07-28 15:50:09.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-07-27 08:11:58.000000000', 'files': ['ansible-collection-requirements.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/316755e55718eff2ef22acfbe3a196014f7aa19a', 'message': 'Added note about \'version:\' having to be a valid semantic version\n\nThe optional attribute \'version:\' in entries of ansible-collection-\\\nrequirements.yml must be a valid semantic version [1] because\nansible-galaxy will use \'version:\' to compare with existing collection\ninstalls and otherwise will fail with ""Non integer values in\nLooseVersion"" [2].\n\nThis is in contrast to Ansible\'s documentation stating that \'version:\'\nis ""The version of the role to download. Provide a tag value, commit\nhash, or branch name. Defaults to master."" [3].\n\n[1] https://semver.org/\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2109807\n[3] https://galaxy.ansible.com/docs/using/installing.html\n\nChange-Id: I21e30c7cef4473580848cd79f799a91c70af3bc2\n'}]",4,851191,316755e55718eff2ef22acfbe3a196014f7aa19a,28,6,1,32962,,,0,"Added note about 'version:' having to be a valid semantic version

The optional attribute 'version:' in entries of ansible-collection-\
requirements.yml must be a valid semantic version [1] because
ansible-galaxy will use 'version:' to compare with existing collection
installs and otherwise will fail with ""Non integer values in
LooseVersion"" [2].

This is in contrast to Ansible's documentation stating that 'version:'
is ""The version of the role to download. Provide a tag value, commit
hash, or branch name. Defaults to master."" [3].

[1] https://semver.org/
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2109807
[3] https://galaxy.ansible.com/docs/using/installing.html

Change-Id: I21e30c7cef4473580848cd79f799a91c70af3bc2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/91/851191/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-collection-requirements.yml'],1,316755e55718eff2ef22acfbe3a196014f7aa19a,aoc," # # The optional attribute 'version:' must be a valid semantic version [1] because # ansible-galaxy will use 'version:' to compare with existing collection installs # and otherwise will fail with ""Non integer values in LooseVersion"" [2]. # [1] https://semver.org/ # [2] https://bugzilla.redhat.com/show_bug.cgi?id=2109807",,6,0
openstack%2Fkolla-ansible~master~I0a3f0ea5e72f738e1af873740024c9938e78379a,openstack/kolla-ansible,master,I0a3f0ea5e72f738e1af873740024c9938e78379a,[DNM] Run all jobs,ABANDONED,2022-07-28 08:37:39.000000000,2022-07-28 15:40:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 08:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba39248ab4b7732d32ada40f5f80aa0dc0b0ec6a', 'message': '[DNM] Run all jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851229\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851355\nChange-Id: I0a3f0ea5e72f738e1af873740024c9938e78379a\n'}, {'number': 2, 'created': '2022-07-28 08:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01ad8080f175d8ddf2fb1e407ddcc61b6c0125f9', 'message': '[DNM] Run all jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851229\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851355\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851204\nChange-Id: I0a3f0ea5e72f738e1af873740024c9938e78379a\n'}, {'number': 3, 'created': '2022-07-28 12:19:03.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b3dde92659c644a96c583e1dffc22501300b12e1', 'message': '[DNM] Run all jobs\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851393\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851204\nChange-Id: I0a3f0ea5e72f738e1af873740024c9938e78379a\n'}]",3,851356,b3dde92659c644a96c583e1dffc22501300b12e1,14,1,3,30491,,,0,"[DNM] Run all jobs

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851393
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/851204
Change-Id: I0a3f0ea5e72f738e1af873740024c9938e78379a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/851356/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,ba39248ab4b7732d32ada40f5f80aa0dc0b0ec6a,dnm-all, testme: ohyeah,,1,0
openstack%2Fcharm-nova-compute~master~I706fcc8a138340a7777e058e0930dc49186ba5b8,openstack/charm-nova-compute,master,I706fcc8a138340a7777e058e0930dc49186ba5b8,Send default cpu governor value for nrpe to check,ABANDONED,2022-06-27 17:32:05.000000000,2022-07-28 15:14:47.000000000,,"[{'_account_id': 10058}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 34952}]","[{'number': 1, 'created': '2022-06-27 17:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/4bc7c2c9460f8c2e76d0a9cbd28f1dffc44ea8af', 'message': ""Send default cpu governor value for nrpe to check\n\nThe nrpe check for cpu governor expects the relation key\n'requested_cpu_governor' to be set as 'performance' as an initial value.\nIf a value is set through the nrpe charm configuration, it will take\nprecedence over the initial value.\n\nSigned-off-by: Mert Kırpıcı <mert.kirpici@canonical.com>\nChange-Id: I706fcc8a138340a7777e058e0930dc49186ba5b8\n""}, {'number': 2, 'created': '2022-07-27 08:11:50.000000000', 'files': ['hooks/nova_compute_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/aa8037cb5168e182c516b40be4e55472793e69b5', 'message': ""Send default cpu governor value for nrpe to check\n\nThe nrpe check for cpu governor expects the relation key\n'requested_cpu_governor' to be set as 'performance' as an initial\nvalue.\nIf a value is set through the nrpe charm configuration, it will take\nprecedence over the initial value.\n\nSigned-off-by: Mert Kırpıcı <mert.kirpici@canonical.com>\nChange-Id: I706fcc8a138340a7777e058e0930dc49186ba5b8\n""}]",15,847839,aa8037cb5168e182c516b40be4e55472793e69b5,29,5,2,34913,,,0,"Send default cpu governor value for nrpe to check

The nrpe check for cpu governor expects the relation key
'requested_cpu_governor' to be set as 'performance' as an initial
value.
If a value is set through the nrpe charm configuration, it will take
precedence over the initial value.

Signed-off-by: Mert Kırpıcı <mert.kirpici@canonical.com>
Change-Id: I706fcc8a138340a7777e058e0930dc49186ba5b8
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/39/847839/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_compute_hooks.py'],1,4bc7c2c9460f8c2e76d0a9cbd28f1dffc44ea8af,," rel_settings = { 'requested_cpu_governor': 'performance' } for rid in relation_ids('nrpe-external-master'): relation_set( relation_id=rid, relation_settings=rel_settings ) ",,9,0
openstack%2Fcharm-rabbitmq-server~master~I491f4068d96d0136b554d62edf4fced55a20a090,openstack/charm-rabbitmq-server,master,I491f4068d96d0136b554d62edf4fced55a20a090,Send default cpu governor value to nrpe to check,ABANDONED,2022-06-22 11:35:57.000000000,2022-07-28 15:14:24.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 34952}]","[{'number': 1, 'created': '2022-06-22 11:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/31916d7cd6b540e5249f831df4380cbfd4bd2dd0', 'message': ""Send default cpu governor value to nrpe to check\n\nThe nrpe check for cpu governor expects the relation key\n'requested_cpu_governor' to be set as 'performance' as an initial value.\nIf a value is set through the nrpe charm configuration, it will take\nprecedence over the initial value.\n\nSigned-off-by: Mert Kırpıcı <mert.kirpici@canonical.com>\nChange-Id: I491f4068d96d0136b554d62edf4fced55a20a090\n""}, {'number': 2, 'created': '2022-06-28 15:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/d72e3bdb9898c4e63b340fbab268976622de8669', 'message': ""Send default cpu governor value to nrpe to check\n\nThe nrpe check for cpu governor expects the relation key\n'requested_cpu_governor' to be set as 'performance' as an initial value.\nIf a value is set through the nrpe charm configuration, it will take\nprecedence over the initial value.\n\nSigned-off-by: Mert Kırpıcı <mert.kirpici@canonical.com>\nChange-Id: I491f4068d96d0136b554d62edf4fced55a20a090\n""}, {'number': 3, 'created': '2022-07-27 08:45:34.000000000', 'files': ['unit_tests/test_rabbitmq_server_relations.py', 'hooks/rabbitmq_server_relations.py', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/64fd0650b51688ca5813445810c4d9e4895b1c05', 'message': ""Send default cpu governor value to nrpe to check\n\nThe nrpe check for cpu governor expects the relation key\n'requested_cpu_governor' to be set as 'performance' as an initial value.\nIf a value is set through the nrpe charm configuration, it will take\nprecedence over the initial value.\n\nSigned-off-by: Mert Kırpıcı <mert.kirpici@canonical.com>\nChange-Id: I491f4068d96d0136b554d62edf4fced55a20a090\n""}]",11,847144,64fd0650b51688ca5813445810c4d9e4895b1c05,29,4,3,34913,,,0,"Send default cpu governor value to nrpe to check

The nrpe check for cpu governor expects the relation key
'requested_cpu_governor' to be set as 'performance' as an initial value.
If a value is set through the nrpe charm configuration, it will take
precedence over the initial value.

Signed-off-by: Mert Kırpıcı <mert.kirpici@canonical.com>
Change-Id: I491f4068d96d0136b554d62edf4fced55a20a090
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/44/847144/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/rabbitmq_server_relations.py', 'hooks/rabbit_utils.py']",2,31916d7cd6b540e5249f831df4380cbfd4bd2dd0,topic/nrpe_cpu_governor,"def nrpe_request_default_cpu_governor(governor): """"""Request the default value for cpu governor check nrpe will check this value if none is explicitly set in the nrpe charm config :param governor: Expected default cpu governor :type: string """""" rel_settings = { 'requested_cpu_governor': governor } for rid in relation_ids('nrpe-external-master'): relation_set( relation_id=rid, relation_settings=rel_settings ) ",,20,0
openstack%2Freleases~master~I98e9a116f3f520d2083e0fb164c5cd39fde3188e,openstack/releases,master,I98e9a116f3f520d2083e0fb164c5cd39fde3188e,Release os-traits 2.8.0,MERGED,2022-07-28 11:18:38.000000000,2022-07-28 15:09:28.000000000,2022-07-28 15:09:28.000000000,"[{'_account_id': 308}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 11:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9c9caea496f8912eef7d1fa56201c29c0904c14e', 'message': ""Release os-traits 2.8.0\n\nThis release includes the following commits:\n$ git log --oneline --no-merges 2.7.0..HEAD\n62bb868 Add COMPUTE_MANAGED_PCI_DEVICE trait\na097c3f Add 'COMPUTE_STORAGE_VIRTIO_FS', 'COMPUTE_MEM_BACKING_FILE'\nf64d50e Add nova and cyborg owner traits for resources\n87b1165 Remove unnecessary unicode prefixes\n1757c64 Update CI to use unversioned jobs template\n\nChange-Id: I98e9a116f3f520d2083e0fb164c5cd39fde3188e\n""}, {'number': 2, 'created': '2022-07-28 14:29:37.000000000', 'files': ['deliverables/_independent/os-traits.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/072e85f2437f866bab9869c293bca34987ca5280', 'message': ""Release os-traits 2.8.0\n\nThis release includes the following commits:\n$ git log --oneline --no-merges 2.7.0..HEAD\n74988cd Add traits for vIOMMU\n62bb868 Add COMPUTE_MANAGED_PCI_DEVICE trait\na097c3f Add 'COMPUTE_STORAGE_VIRTIO_FS', 'COMPUTE_MEM_BACKING_FILE'\nf64d50e Add nova and cyborg owner traits for resources\n87b1165 Remove unnecessary unicode prefixes\n1757c64 Update CI to use unversioned jobs template\n\nChange-Id: I98e9a116f3f520d2083e0fb164c5cd39fde3188e\n""}]",3,851390,072e85f2437f866bab9869c293bca34987ca5280,14,6,2,9708,,,0,"Release os-traits 2.8.0

This release includes the following commits:
$ git log --oneline --no-merges 2.7.0..HEAD
74988cd Add traits for vIOMMU
62bb868 Add COMPUTE_MANAGED_PCI_DEVICE trait
a097c3f Add 'COMPUTE_STORAGE_VIRTIO_FS', 'COMPUTE_MEM_BACKING_FILE'
f64d50e Add nova and cyborg owner traits for resources
87b1165 Remove unnecessary unicode prefixes
1757c64 Update CI to use unversioned jobs template

Change-Id: I98e9a116f3f520d2083e0fb164c5cd39fde3188e
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/851390/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-traits.yaml'],1,9c9caea496f8912eef7d1fa56201c29c0904c14e,os-traits, - version: 2.8.0 projects: - repo: openstack/os-traits hash: 62bb86895f0efa2584facad429cfde6dd3d045fa,,4,0
openstack%2Freleases~master~I633eca33b086d4bfe2fa34b07cc37ccb3171ba4d,openstack/releases,master,I633eca33b086d4bfe2fa34b07cc37ccb3171ba4d,Cinder team releases for stable/xena,MERGED,2022-07-06 13:05:16.000000000,2022-07-28 15:02:15.000000000,2022-07-28 15:02:15.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-06 13:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fd13216ae4ee0c62acea7471a4ccd8b3457e51c5', 'message': 'Cinder team releases for stable/xena\n\nNot being released at this time:\n- python-brick-cinderclient-ext (no functional changes)\n- python-cinderclient (no functional changes)\n\nChange-Id: I633eca33b086d4bfe2fa34b07cc37ccb3171ba4d\n'}, {'number': 2, 'created': '2022-07-20 16:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/22b8a8cf8dd0dbda86274c51d3518d3d55d597ed', 'message': 'Cinder team releases for stable/xena\n\nNot being released at this time:\n- python-brick-cinderclient-ext (no functional changes)\n- python-cinderclient (no functional changes)\n\nChange-Id: I633eca33b086d4bfe2fa34b07cc37ccb3171ba4d\n'}, {'number': 3, 'created': '2022-07-20 17:48:11.000000000', 'files': ['deliverables/xena/cinder.yaml', 'deliverables/xena/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/18bb3c9a6c6c48c92d11b5913561a17f827a565e', 'message': 'Cinder team releases for stable/xena\n\nNot being released at this time:\n- cinderlib (no functional changes)\n- python-brick-cinderclient-ext (no functional changes)\n- python-cinderclient (no functional changes)\n\nChange-Id: I633eca33b086d4bfe2fa34b07cc37ccb3171ba4d\n'}]",14,848841,18bb3c9a6c6c48c92d11b5913561a17f827a565e,25,4,3,9236,,,0,"Cinder team releases for stable/xena

Not being released at this time:
- cinderlib (no functional changes)
- python-brick-cinderclient-ext (no functional changes)
- python-cinderclient (no functional changes)

Change-Id: I633eca33b086d4bfe2fa34b07cc37ccb3171ba4d
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/848841/3 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/cinder.yaml', 'deliverables/xena/cinderlib.yaml', 'deliverables/xena/os-brick.yaml']",3,fd13216ae4ee0c62acea7471a4ccd8b3457e51c5,stable-wallaby, - version: 5.0.3 projects: - repo: openstack/os-brick hash: b31b109f0f95c0102300bbda15b011f3623a2873,,12,0
openstack%2Freleases~master~I84a937d97d52ffdd80aead22226f766bce8324e8,openstack/releases,master,I84a937d97d52ffdd80aead22226f766bce8324e8,Release ovn-octavia-provider for stable/wallaby,MERGED,2022-06-28 09:59:33.000000000,2022-07-28 15:01:34.000000000,2022-07-28 15:01:34.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 28522}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-06-28 09:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/31df62c8d0d78edc96c8b3d11a6e1eef3ec20e51', 'message': 'Release ovn-octavia-provider for stable/wallaby\n\nThis release picks up new commits to ovn-octavia-provider since\nthe last release from stable/wallaby.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 1.0.0..98407f5\n1d73533 Fix way of calculate LB status after HM event\n1aa4be5 Fix Load balancer remains on PENDING_CREATE\na32db16 Fix request to OVN NB DB API\n9013681 Use python3-devel in bindep for rpm distros\n9f0e263 Increase code coverage\n0da5150 Avoid loadbalancer stuck in PENDING_X if delete_vip_port fails\n5c71182 Fix deletion of members without subnet_id\n6c1b8a9 Retry logical switch associations to load balancers\n0fff165 Fix zuul templates for functional and tempest tests\ndea57c8 Allow to create ovn loadbalancer on dual-stack provider networks\na348491 Check gateway IP while looking for LR plugged to LS\n60d7b42 Add support for fullypopulated load balancers\n08430b5 Support creating members without a subnet ID\nf0b4408 Set listeners back to ACTIVE upon pool/member action failures\nb259ebc [Stable only] Fix CI jobs\n44db6c6 Fix race condition retrieving logical router rows\n5469b7e Fix new pylint issues\n59e09f0 Add Health Monitor support\n9c362b3 Ensure that load balancer is added to logical switch\n2358875 Add log for request_handler events\na1bc262 Update TOX_CONSTRAINTS_FILE for stable/wallaby\n83073e3 Update .gitreview for stable/wallaby\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I84a937d97d52ffdd80aead22226f766bce8324e8\n'}, {'number': 2, 'created': '2022-07-15 09:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b00539e02f76f8929490bf75e611aa72a288ea8f', 'message': 'Release ovn-octavia-provider for stable/wallaby\n\nThis release picks up new commits to ovn-octavia-provider since\nthe last release from stable/wallaby.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 1.0.0..bbf881f\nfb765e8 Delete vip port if create_vip_port raise exception\n5b1d0be Apply ServiceMonitorEvent to affected LBs\n1d73533 Fix way of calculate LB status after HM event\n1aa4be5 Fix Load balancer remains on PENDING_CREATE\na32db16 Fix request to OVN NB DB API\n9013681 Use python3-devel in bindep for rpm distros\n9f0e263 Increase code coverage\n0da5150 Avoid loadbalancer stuck in PENDING_X if delete_vip_port fails\n5c71182 Fix deletion of members without subnet_id\n6c1b8a9 Retry logical switch associations to load balancers\n0fff165 Fix zuul templates for functional and tempest tests\ndea57c8 Allow to create ovn loadbalancer on dual-stack provider networks\na348491 Check gateway IP while looking for LR plugged to LS\n60d7b42 Add support for fullypopulated load balancers\n08430b5 Support creating members without a subnet ID\nf0b4408 Set listeners back to ACTIVE upon pool/member action failures\nb259ebc [Stable only] Fix CI jobs\n44db6c6 Fix race condition retrieving logical router rows\n5469b7e Fix new pylint issues\n59e09f0 Add Health Monitor support\n9c362b3 Ensure that load balancer is added to logical switch\n2358875 Add log for request_handler events\na1bc262 Update TOX_CONSTRAINTS_FILE for stable/wallaby\n83073e3 Update .gitreview for stable/wallaby\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I84a937d97d52ffdd80aead22226f766bce8324e8\n'}, {'number': 3, 'created': '2022-07-27 08:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bd5043e0743567e94259050b9f7b30aab0329cc8', 'message': 'Release ovn-octavia-provider for stable/wallaby\n\nThis release picks up new commits to ovn-octavia-provider since\nthe last release from stable/wallaby.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 1.0.0..6cfeb27\n6cfeb27 Ensure members without subnet belong to VIP subnet or fail\n5cf160a Fix IPv6 member delete on batch operation\nb9c6239 Improve enabled_provider_drivers default in devstack\nfb765e8 Delete vip port if create_vip_port raise exception\n5b1d0be Apply ServiceMonitorEvent to affected LBs\n1d73533 Fix way of calculate LB status after HM event\n1aa4be5 Fix Load balancer remains on PENDING_CREATE\na32db16 Fix request to OVN NB DB API\n9013681 Use python3-devel in bindep for rpm distros\n9f0e263 Increase code coverage\n0da5150 Avoid loadbalancer stuck in PENDING_X if delete_vip_port fails\n5c71182 Fix deletion of members without subnet_id\n6c1b8a9 Retry logical switch associations to load balancers\n0fff165 Fix zuul templates for functional and tempest tests\ndea57c8 Allow to create ovn loadbalancer on dual-stack provider networks\na348491 Check gateway IP while looking for LR plugged to LS\n60d7b42 Add support for fullypopulated load balancers\n08430b5 Support creating members without a subnet ID\nf0b4408 Set listeners back to ACTIVE upon pool/member action failures\nb259ebc [Stable only] Fix CI jobs\n44db6c6 Fix race condition retrieving logical router rows\n5469b7e Fix new pylint issues\n59e09f0 Add Health Monitor support\n9c362b3 Ensure that load balancer is added to logical switch\n2358875 Add log for request_handler events\na1bc262 Update TOX_CONSTRAINTS_FILE for stable/wallaby\n83073e3 Update .gitreview for stable/wallaby\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I84a937d97d52ffdd80aead22226f766bce8324e8\n'}, {'number': 4, 'created': '2022-07-28 09:06:01.000000000', 'files': ['deliverables/wallaby/ovn-octavia-provider.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0258de66ce8ef1f45f8c7e44f8be72e3f171c0e3', 'message': 'Release ovn-octavia-provider for stable/wallaby\n\nThis release picks up new commits to ovn-octavia-provider since\nthe last release from stable/wallaby.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 1.0.0..6cfeb27\n6cfeb27 Ensure members without subnet belong to VIP subnet or fail\n5cf160a Fix IPv6 member delete on batch operation\nb9c6239 Improve enabled_provider_drivers default in devstack\nfb765e8 Delete vip port if create_vip_port raise exception\n5b1d0be Apply ServiceMonitorEvent to affected LBs\n1d73533 Fix way of calculate LB status after HM event\n1aa4be5 Fix Load balancer remains on PENDING_CREATE\na32db16 Fix request to OVN NB DB API\n9013681 Use python3-devel in bindep for rpm distros\n9f0e263 Increase code coverage\n0da5150 Avoid loadbalancer stuck in PENDING_X if delete_vip_port fails\n5c71182 Fix deletion of members without subnet_id\n6c1b8a9 Retry logical switch associations to load balancers\n0fff165 Fix zuul templates for functional and tempest tests\ndea57c8 Allow to create ovn loadbalancer on dual-stack provider networks\na348491 Check gateway IP while looking for LR plugged to LS\n60d7b42 Add support for fullypopulated load balancers\n08430b5 Support creating members without a subnet ID\nf0b4408 Set listeners back to ACTIVE upon pool/member action failures\nb259ebc [Stable only] Fix CI jobs\n44db6c6 Fix race condition retrieving logical router rows\n5469b7e Fix new pylint issues\n59e09f0 Add Health Monitor support\n9c362b3 Ensure that load balancer is added to logical switch\n2358875 Add log for request_handler events\na1bc262 Update TOX_CONSTRAINTS_FILE for stable/wallaby\n83073e3 Update .gitreview for stable/wallaby\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I84a937d97d52ffdd80aead22226f766bce8324e8\n'}]",11,847932,0258de66ce8ef1f45f8c7e44f8be72e3f171c0e3,25,7,4,17685,,,0,"Release ovn-octavia-provider for stable/wallaby

This release picks up new commits to ovn-octavia-provider since
the last release from stable/wallaby.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 1.0.0..6cfeb27
6cfeb27 Ensure members without subnet belong to VIP subnet or fail
5cf160a Fix IPv6 member delete on batch operation
b9c6239 Improve enabled_provider_drivers default in devstack
fb765e8 Delete vip port if create_vip_port raise exception
5b1d0be Apply ServiceMonitorEvent to affected LBs
1d73533 Fix way of calculate LB status after HM event
1aa4be5 Fix Load balancer remains on PENDING_CREATE
a32db16 Fix request to OVN NB DB API
9013681 Use python3-devel in bindep for rpm distros
9f0e263 Increase code coverage
0da5150 Avoid loadbalancer stuck in PENDING_X if delete_vip_port fails
5c71182 Fix deletion of members without subnet_id
6c1b8a9 Retry logical switch associations to load balancers
0fff165 Fix zuul templates for functional and tempest tests
dea57c8 Allow to create ovn loadbalancer on dual-stack provider networks
a348491 Check gateway IP while looking for LR plugged to LS
60d7b42 Add support for fullypopulated load balancers
08430b5 Support creating members without a subnet ID
f0b4408 Set listeners back to ACTIVE upon pool/member action failures
b259ebc [Stable only] Fix CI jobs
44db6c6 Fix race condition retrieving logical router rows
5469b7e Fix new pylint issues
59e09f0 Add Health Monitor support
9c362b3 Ensure that load balancer is added to logical switch
2358875 Add log for request_handler events
a1bc262 Update TOX_CONSTRAINTS_FILE for stable/wallaby
83073e3 Update .gitreview for stable/wallaby

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I84a937d97d52ffdd80aead22226f766bce8324e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/847932/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ovn-octavia-provider.yaml'],1,31df62c8d0d78edc96c8b3d11a6e1eef3ec20e51,wallaby-stable, - version: 1.0.1 projects: - repo: openstack/ovn-octavia-provider hash: 98407f501799f01cc99b6e31528f16d9c23d05b6,,4,0
openstack%2Fkolla-ansible~stable%2Fwallaby~Iaf6bf36ae0adce3342981c36c859fc138b172f6b,openstack/kolla-ansible,stable/wallaby,Iaf6bf36ae0adce3342981c36c859fc138b172f6b,Make external access to monitoring services configurable,MERGED,2022-07-28 10:42:32.000000000,2022-07-28 15:00:48.000000000,2022-07-28 14:59:21.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-28 10:42:32.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml', 'releasenotes/notes/monitoring-external-access-config-7ad510599dd49526.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc38821559fad065017126b6209fad5f6f3cc445', 'message': 'Make external access to monitoring services configurable\n\nChange-Id: Iaf6bf36ae0adce3342981c36c859fc138b172f6b\n(cherry picked from commit 13b0f3b86132fa5b2744cfe9a9fb57ab895346d1)\n'}]",0,851370,cc38821559fad065017126b6209fad5f6f3cc445,9,3,1,22629,,,0,"Make external access to monitoring services configurable

Change-Id: Iaf6bf36ae0adce3342981c36c859fc138b172f6b
(cherry picked from commit 13b0f3b86132fa5b2744cfe9a9fb57ab895346d1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/851370/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml', 'releasenotes/notes/monitoring-external-access-config-7ad510599dd49526.yaml']",6,cc38821559fad065017126b6209fad5f6f3cc445,disable-external-monitoring-stable/yoga-stable/xena-stable/wallaby,--- features: - | Adds variables to configure whether monitoring services should be exposed externally: * ``enable_grafana_external`` * ``enable_kibana_external`` * ``enable_prometheus_alertmanager_external`` ,,18,3
openstack%2Fkolla-ansible~stable%2Fxena~Iaf6bf36ae0adce3342981c36c859fc138b172f6b,openstack/kolla-ansible,stable/xena,Iaf6bf36ae0adce3342981c36c859fc138b172f6b,Make external access to monitoring services configurable,MERGED,2022-07-28 10:42:21.000000000,2022-07-28 15:00:48.000000000,2022-07-28 14:59:18.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-28 10:42:21.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml', 'releasenotes/notes/monitoring-external-access-config-7ad510599dd49526.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b37787f046e8b153b13649ab928ebb8deeeeb559', 'message': 'Make external access to monitoring services configurable\n\nChange-Id: Iaf6bf36ae0adce3342981c36c859fc138b172f6b\n(cherry picked from commit 13b0f3b86132fa5b2744cfe9a9fb57ab895346d1)\n'}]",0,851069,b37787f046e8b153b13649ab928ebb8deeeeb559,9,3,1,22629,,,0,"Make external access to monitoring services configurable

Change-Id: Iaf6bf36ae0adce3342981c36c859fc138b172f6b
(cherry picked from commit 13b0f3b86132fa5b2744cfe9a9fb57ab895346d1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/851069/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml', 'releasenotes/notes/monitoring-external-access-config-7ad510599dd49526.yaml']",6,b37787f046e8b153b13649ab928ebb8deeeeb559,disable-external-monitoring-stable/yoga-stable/xena,--- features: - | Adds variables to configure whether monitoring services should be exposed externally: * ``enable_grafana_external`` * ``enable_kibana_external`` * ``enable_prometheus_alertmanager_external`` ,,18,3
openstack%2Fkolla-ansible~stable%2Fyoga~Iaf6bf36ae0adce3342981c36c859fc138b172f6b,openstack/kolla-ansible,stable/yoga,Iaf6bf36ae0adce3342981c36c859fc138b172f6b,Make external access to monitoring services configurable,MERGED,2022-07-28 10:39:11.000000000,2022-07-28 14:57:27.000000000,2022-07-28 14:56:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-28 10:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/103925613c4d3a9d0a036023c966a34cfd9dded6', 'message': 'Make external access to monitoring services configurable\n\nChange-Id: Iaf6bf36ae0adce3342981c36c859fc138b172f6b\n(cherry picked from commit 13b0f3b86132fa5b2744cfe9a9fb57ab895346d1)\n'}, {'number': 2, 'created': '2022-07-28 10:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b12fdf4055e99e81054cfe9d80c43101928c3561', 'message': 'Make external access to monitoring services configurable\n\nChange-Id: Iaf6bf36ae0adce3342981c36c859fc138b172f6b\n(cherry picked from commit 13b0f3b86132fa5b2744cfe9a9fb57ab895346d1)\n'}, {'number': 3, 'created': '2022-07-28 10:40:40.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml', 'releasenotes/notes/monitoring-external-access-config-7ad510599dd49526.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7229e9846963d4667a798ec4eea3610f157fa11', 'message': 'Make external access to monitoring services configurable\n\nChange-Id: Iaf6bf36ae0adce3342981c36c859fc138b172f6b\n(cherry picked from commit 13b0f3b86132fa5b2744cfe9a9fb57ab895346d1)\n'}]",0,851068,f7229e9846963d4667a798ec4eea3610f157fa11,12,3,3,22629,,,0,"Make external access to monitoring services configurable

Change-Id: Iaf6bf36ae0adce3342981c36c859fc138b172f6b
(cherry picked from commit 13b0f3b86132fa5b2744cfe9a9fb57ab895346d1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/851068/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml', 'releasenotes/notes/monitoring-external-access-config-7ad510599dd49526.yaml']",6,103925613c4d3a9d0a036023c966a34cfd9dded6,disable-external-monitoring-stable/yoga,--- features: - | Adds variables to configure whether monitoring services should be exposed externally: * ``enable_grafana_external`` * ``enable_kibana_external`` * ``enable_prometheus_alertmanager_external`` ,,22,3
openstack%2Fdesignate-dashboard~master~If5c5e96a737f7144dcde7cf04a10662a266b32a1,openstack/designate-dashboard,master,If5c5e96a737f7144dcde7cf04a10662a266b32a1,Imported Translations from Zanata,MERGED,2022-07-28 03:28:31.000000000,2022-07-28 14:30:49.000000000,2022-07-28 14:29:21.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 03:28:31.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/ea1f9b7f9ab27c42ce009e685e9edcbe2ae86786', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If5c5e96a737f7144dcde7cf04a10662a266b32a1\n'}]",1,851286,ea1f9b7f9ab27c42ce009e685e9edcbe2ae86786,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If5c5e96a737f7144dcde7cf04a10662a266b32a1
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/86/851286/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,ea1f9b7f9ab27c42ce009e685e9edcbe2ae86786,zanata/translations,"""POT-Creation-Date: 2022-06-30 19:57+0000\n""""PO-Revision-Date: 2022-07-19 09:55+0000\n""msgid ""14.0.0-16"" msgstr ""14.0.0-16"" msgid """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" msgstr """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" msgid ""The ``oslo.log`` library is no longer required."" msgstr ""The ``oslo.log`` library is no longer required."" msgid ""The ``python-designateclient`` library is no longer required."" msgstr ""The ``python-designateclient`` library is no longer required."" ","""POT-Creation-Date: 2022-05-11 22:15+0000\n""""PO-Revision-Date: 2022-05-25 08:56+0000\n""",18,2
openstack%2Fos-traits~master~Ic44429ad360475143b20071f85d534a958d110e0,openstack/os-traits,master,Ic44429ad360475143b20071f85d534a958d110e0,Add traits for vIOMMU,MERGED,2022-06-01 20:34:25.000000000,2022-07-28 14:29:02.000000000,2022-07-28 14:26:56.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 20:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/aba0bd8ef3acf9736e230c120da5c5cee85a23bd', 'message': 'Add traits for vIOMMU\n\nAdd traits for vIOMMU traits corresponding to the allowed values of\n""hw_iommu_model"" image metadata property.\n\nBlueprint: libvirt-viommu-device\nDepends-On: https://review.opendev.org/c/openstack/nova/+/830646\nChange-Id: Ic44429ad360475143b20071f85d534a958d110e0\n'}, {'number': 2, 'created': '2022-07-28 11:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/abfa82dd65a0dc104c51660155d3a41539f6c118', 'message': 'Add traits for vIOMMU\n\nAdd traits for vIOMMU traits corresponding to the allowed values of\n""hw_iommu_model"" image metadata property.\n\nBlueprint: libvirt-viommu-device\nDepends-On: https://review.opendev.org/c/openstack/nova/+/830646\nChange-Id: Ic44429ad360475143b20071f85d534a958d110e0\n'}, {'number': 3, 'created': '2022-07-28 11:22:48.000000000', 'files': ['os_traits/compute/viommu.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/74988cdba731d9b48b15b76372da8460304ea937', 'message': 'Add traits for vIOMMU\n\nAdd traits for vIOMMU traits corresponding to the allowed values of\n""hw_iommu_model"" image metadata property.\n\nBlueprint: libvirt-viommu-device\nChange-Id: Ic44429ad360475143b20071f85d534a958d110e0\n'}]",7,844336,74988cdba731d9b48b15b76372da8460304ea937,16,4,3,12404,,,0,"Add traits for vIOMMU

Add traits for vIOMMU traits corresponding to the allowed values of
""hw_iommu_model"" image metadata property.

Blueprint: libvirt-viommu-device
Change-Id: Ic44429ad360475143b20071f85d534a958d110e0
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/36/844336/3 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/compute/viommu.py'],1,aba0bd8ef3acf9736e230c120da5c5cee85a23bd,bp/virtual-iommu-support,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. TRAITS = [ # traits corresponding to the allowed values of ""hw_iommu_model"" # image metadata property # Please check VIOMMUModel under /nova/objects/fields.py 'MODEL_NONE', 'MODEL_INTEL', 'MODEL_SMMUV3', 'MODEL_VIRTIO', 'MODEL_AUTO', ] ",,25,0
openstack%2Fglance~master~Iab99a77236a9a1eb765ec8e93f12128cc87530ce,openstack/glance,master,Iab99a77236a9a1eb765ec8e93f12128cc87530ce,WIP adding Image encryption parameters,NEW,2020-02-03 13:58:43.000000000,2022-07-28 14:20:20.000000000,,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 27665}]","[{'number': 1, 'created': '2020-02-03 13:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/718a7c20cf2da0d9540f7056553683e115d3140f', 'message': ""WIP adding Image encryption parameters\n\nFor the image encryption a new container_format 'encrypted' is added.\nA validation for additionally required parameters is added for the\nimage creation. Registering and unregistering as a secret consumer\nfor the key of the encrypted image is added, but still misses the\ncomplete implementation in Barbican and Castellan.\n\nChange-Id: Iab99a77236a9a1eb765ec8e93f12128cc87530ce\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n""}, {'number': 2, 'created': '2020-05-20 08:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/19f54a62cb825a625d29862bf7a57236f80cc53a', 'message': ""WIP adding Image encryption parameters\n\nFor the image encryption a new container_format 'encrypted' is added.\nA validation for additionally required parameters is added for the\nimage creation. Registering and unregistering as a secret consumer\nfor the key of the encrypted image is added, but still misses the\ncomplete implementation in Barbican and Castellan.\n\nChange-Id: Iab99a77236a9a1eb765ec8e93f12128cc87530ce\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n""}, {'number': 3, 'created': '2020-10-08 12:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e05c6a1ceb961a1ec0c96c6c371dcf42db619ea6', 'message': ""WIP adding Image encryption parameters\n\nFor the image encryption a new container_format 'encrypted' is added.\nA validation for additionally required parameters is added for the\nimage creation. Registering and unregistering as a secret consumer\nfor the key of the encrypted image is added, but still misses the\ncomplete implementation in Barbican and Castellan.\n\nChange-Id: Iab99a77236a9a1eb765ec8e93f12128cc87530ce\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n""}, {'number': 4, 'created': '2020-10-23 09:34:33.000000000', 'files': ['glance/api/v2/images.py', 'glance/common/config.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e409bf8ebf284a7dfdba7ffd73196e46116581d8', 'message': ""WIP adding Image encryption parameters\n\nFor the image encryption a new container_format 'encrypted' is added.\nA validation for additionally required parameters is added for the\nimage creation. Registering and unregistering as a secret consumer\nfor the key of the encrypted image is added, but still misses the\ncomplete implementation in Barbican and Castellan.\n\nChange-Id: Iab99a77236a9a1eb765ec8e93f12128cc87530ce\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n""}]",12,705445,e409bf8ebf284a7dfdba7ffd73196e46116581d8,17,4,4,28271,,,0,"WIP adding Image encryption parameters

For the image encryption a new container_format 'encrypted' is added.
A validation for additionally required parameters is added for the
image creation. Registering and unregistering as a secret consumer
for the key of the encrypted image is added, but still misses the
complete implementation in Barbican and Castellan.

Change-Id: Iab99a77236a9a1eb765ec8e93f12128cc87530ce
Co-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/45/705445/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/common/config.py']",2,718a7c20cf2da0d9540f7056553683e115d3140f,image-encryption," 'compressed', 'encrypted'],"," 'compressed'],",105,1
openstack%2Fcharm-trilio-dm-api~master~Ibff3e5fec8e4517db0d158a3732836f2ca0ca1f8,openstack/charm-trilio-dm-api,master,Ibff3e5fec8e4517db0d158a3732836f2ca0ca1f8,Add support for 4.2,MERGED,2022-06-29 14:35:12.000000000,2022-07-28 14:00:56.000000000,2022-07-28 14:00:56.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 14:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/df04c9223aaf78a7e2a91f827b36b1c9fc797d93', 'message': 'Add support for 4.2\n\nAdd support for Trilio 4.2 and refocus this branch CI on 4.2.\n\nChange-Id: Ibff3e5fec8e4517db0d158a3732836f2ca0ca1f8\n'}, {'number': 2, 'created': '2022-07-03 10:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/534b225d58f56348324044c2660916a1844c5218', 'message': 'Add support for 4.2\n\nAdd support for Trilio 4.2 and refocus this branch CI on 4.2.\n\nChange-Id: Ibff3e5fec8e4517db0d158a3732836f2ca0ca1f8\n'}, {'number': 3, 'created': '2022-07-03 14:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/a6d7538a742020978c3a50446c69d9ac05746936', 'message': 'Add support for 4.2\n\nAdd support for Trilio 4.2 and refocus this branch CI on 4.2.\n\nChange-Id: Ibff3e5fec8e4517db0d158a3732836f2ca0ca1f8\n'}, {'number': 4, 'created': '2022-07-05 13:28:16.000000000', 'files': ['osci.yaml', 'src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-train-41.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/bionic-train-40.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-queens-42.yaml', 'src/tests/bundles/bionic-stein-41.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/ac6cd15b6710955828909a944d494067ac2ef3f8', 'message': 'Add support for 4.2\n\nAdd support for Trilio 4.2 and refocus this branch CI on 4.2.\n\nChange-Id: Ibff3e5fec8e4517db0d158a3732836f2ca0ca1f8\n'}]",9,848140,ac6cd15b6710955828909a944d494067ac2ef3f8,27,3,4,12549,,,0,"Add support for 4.2

Add support for Trilio 4.2 and refocus this branch CI on 4.2.

Change-Id: Ibff3e5fec8e4517db0d158a3732836f2ca0ca1f8
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/40/848140/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-ussuri-42.yaml', 'src/tests/bundles/bionic-train-40.yaml', 'src/tests/bundles/focal-ussuri-42.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-queens-42.yaml', 'src/tests/bundles/bionic-stein-41.yaml']",8,df04c9223aaf78a7e2a91f827b36b1c9fc797d93,support-4.2,,"variables: openstack-origin: &openstack-origin 'cloud:bionic-stein' openstack-charm-channel: &openstack-charm-channel 'stein/edge' ceph-charm-channel: &ceph-charm-channel 'octopus/edge' rabbit-charm-channel: &rabbit-charm-channel '3.8/edge' mysql-charm-channel: &mysql-charm-channel '5.7/edge' vault-charm-channel: &vault-charm-channel '1.7/edge' trilio-charm-channel: &trilio-charm-channel 'latest/stable' triliovault-pkg-source: &triliovault-pkg-source 'deb [trusted=yes] https://apt.fury.io/triliodata-4-1/ /' series: &series bionic relations: - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp-nova' - 'rabbitmq-server:amqp' - - 'keystone:shared-db' - 'mysql:shared-db' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'glance:identity-service' - 'keystone:identity-service' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'neutron-openvswitch:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'cinder:shared-db' - 'mysql:shared-db' - - 'neutron-api:shared-db' - 'mysql:shared-db' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'glance:shared-db' - 'mysql:shared-db' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'neutron-openvswitch:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'mysql:shared-db' - - 'nova-cloud-controller:neutron-api' - 'neutron-api:neutron-api' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'trilio-wlm:shared-db' - 'mysql:shared-db' - - 'trilio-wlm:amqp' - 'rabbitmq-server:amqp' - - 'trilio-wlm:identity-service' - 'keystone:identity-service' - - 'glance:ceph' - 'ceph-mon:client' - - 'ceph-mon:osd' - 'ceph-osd:mon' - - 'ceph-osd:secrets-storage' - 'vault:secrets' - - 'cinder:storage-backend' - 'cinder-ceph:storage-backend' - - 'cinder-ceph:ceph' - 'ceph-mon:client' - - 'cinder-ceph:ceph-access' - 'nova-compute:ceph-access' - - 'vault:shared-db' - 'mysql:shared-db' - - 'vault:certificates' - 'keystone:certificates' - - 'vault:certificates' - 'neutron-api:certificates' - - 'vault:certificates' - 'cinder:certificates' - - 'vault:certificates' - 'glance:certificates' - - 'vault:certificates' - 'nova-cloud-controller:certificates' - - 'vault:certificates' - 'trilio-wlm:certificates' - - 'trilio-data-mover:amqp' - 'rabbitmq-server:amqp' - - 'trilio-data-mover:juju-info' - 'nova-compute:juju-info' - - 'trilio-dm-api:identity-service' - 'keystone:identity-service' - - 'trilio-dm-api:shared-db' - 'mysql:shared-db' - - 'trilio-dm-api:amqp' - 'rabbitmq-server:amqp' - - 'trilio-dm-api:certificates' - 'vault:certificates' - - 'trilio-horizon-plugin:dashboard-plugin' - 'openstack-dashboard:dashboard-plugin' - - 'openstack-dashboard:identity-service' - 'keystone:identity-service' - - 'trilio-data-mover:ceph' - 'ceph-mon:client' - - 'trilio-data-mover:shared-db' - 'mysql:shared-db' applications: glance: charm: ch:glance channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin cinder: charm: ch:cinder channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin block-device: ""None"" glance-api-version: 2 keystone: charm: ch:keystone channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin admin-password: openstack mysql: charm: ch:percona-cluster channel: *mysql-charm-channel num_units: 1 options: innodb-buffer-pool-size: 256M max-connections: 1000 neutron-api: charm: ch:neutron-api channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true neutron-gateway: charm: ch:neutron-gateway channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex neutron-openvswitch: charm: ch:neutron-openvswitch channel: *openstack-charm-channel num_units: 0 nova-cloud-controller: charm: ch:nova-cloud-controller channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron debug: true nova-compute: charm: ch:nova-compute channel: *openstack-charm-channel num_units: 3 constraints: mem=4G options: openstack-origin: *openstack-origin config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh debug: true cpu-model: kvm64 cpu-mode: custom # Allow for more retries when testing ontop of openstack config-flags: block_device_allocate_retries=120 rabbitmq-server: charm: ch:rabbitmq-server channel: *rabbit-charm-channel num_units: 1 trilio-data-mover: charm: ch:openstack-charmers-trilio-data-mover channel: *trilio-charm-channel options: triliovault-pkg-source: *triliovault-pkg-source trilio-dm-api: charm: ../../../trilio-dm-api.charm num_units: 1 options: triliovault-pkg-source: *triliovault-pkg-source trilio-horizon-plugin: charm: ch:openstack-charmers-trilio-horizon-plugin channel: *trilio-charm-channel options: triliovault-pkg-source: *triliovault-pkg-source trilio-wlm: charm: ch:openstack-charmers-trilio-wlm channel: *trilio-charm-channel num_units: 1 options: triliovault-pkg-source: *triliovault-pkg-source ceph-mon: charm: ch:ceph-mon channel: *ceph-charm-channel num_units: 3 options: source: *openstack-origin expected-osd-count: 3 ceph-osd: charm: ch:ceph-osd channel: *ceph-charm-channel constraints: mem=1G num_units: 3 options: source: *openstack-origin osd-encrypt-keymanager: vault osd-encrypt: True storage: osd-devices: cinder,40G cinder-ceph: charm: ch:cinder-ceph channel: *openstack-charm-channel vault: charm: ch:vault channel: *vault-charm-channel num_units: 1 nfs-server-test-fixture: charm: cs:~openstack-charmers-next/nfs-server-test-fixture num_units: 1 storage: share: cinder,40G openstack-dashboard: charm: ch:openstack-dashboard channel: *openstack-charm-channel num_units: 1 options: openstack-origin: *openstack-origin ",26,834
openstack%2Freleases~master~I13ec90355e438ef5e7c1fd931567b0fbaa6ed156,openstack/releases,master,I13ec90355e438ef5e7c1fd931567b0fbaa6ed156,Release sushy-tools 0.20.0,MERGED,2022-07-27 18:12:14.000000000,2022-07-28 14:00:06.000000000,2022-07-28 14:00:06.000000000,"[{'_account_id': 10239}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-27 18:12:14.000000000', 'files': ['deliverables/_independent/sushy-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/725e1b7224e3330ecfdb5a96f2052331eb5279c3', 'message': ""Release sushy-tools 0.20.0\n\nThis release includes the following commits:\nChanges between 0.19.0 and 58d7f8d\n* 58d7f8d Fix for werkzeug 2.2 routing change\n* 56e7ace Fix unit tests for Werkzeug 2.2.0\n* 95ded9f novadriver, don't use instance.flavor.id\n* 413a205 Replace the netboot job with a local-boot one\n* c0acc3d aarch64/arm64 libvirt VMs should default to SCSI controller\n* d8f0925 Remove support for Python 3.6 and 3.7\n\nChange-Id: I13ec90355e438ef5e7c1fd931567b0fbaa6ed156\n""}]",1,851247,725e1b7224e3330ecfdb5a96f2052331eb5279c3,12,5,1,15519,,,0,"Release sushy-tools 0.20.0

This release includes the following commits:
Changes between 0.19.0 and 58d7f8d
* 58d7f8d Fix for werkzeug 2.2 routing change
* 56e7ace Fix unit tests for Werkzeug 2.2.0
* 95ded9f novadriver, don't use instance.flavor.id
* 413a205 Replace the netboot job with a local-boot one
* c0acc3d aarch64/arm64 libvirt VMs should default to SCSI controller
* d8f0925 Remove support for Python 3.6 and 3.7

Change-Id: I13ec90355e438ef5e7c1fd931567b0fbaa6ed156
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/851247/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sushy-tools.yaml'],1,725e1b7224e3330ecfdb5a96f2052331eb5279c3,sushy-tools-release, - version: 0.20.0 projects: - repo: openstack/sushy-tools hash: 58d7f8df316c99446e24d89545703e1da1002351,,4,0
openstack%2Fcinder~master~I4170e093baf46745e3ba6e74efc680beaee08fab,openstack/cinder,master,I4170e093baf46745e3ba6e74efc680beaee08fab,RBD: Attempt remove() before trash_move(),ABANDONED,2022-01-06 18:26:57.000000000,2022-07-28 13:20:37.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 18:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a687d20743eaffec460f620b79a3d79b45e86851', 'message': 'WIP: RBD: Attempt remove() before trash_move()\n\nTODO\n\nChange-Id: I4170e093baf46745e3ba6e74efc680beaee08fab\n'}, {'number': 2, 'created': '2022-01-07 19:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/187612ed5de8a24ebdd73487b1b8f50dc29364a8', 'message': ""WIP: RBD: Attempt remove() before trash_move()\n\nWhen the enable_deferred_deletion option is enabled,\nthe RBD driver calls trash_move() instead of remove()\nwhen deleting a Cinder volume.\n\nThis results in problematic behavior in this scenario:\n\n1. Create volume A\n2. Create snapshot B of volume A\n3. Create volume C from snapshot B.\n4. Delete volume C.  The RBD driver calls trash_move()\n   on the RBD image corresponding to volume C.\n5. Attempt to delete snapshot B.\n\nThe deletion of snapshot B will only succeed if the RBD\ntrash has been purged after volume C was moved to the\ntrash.  The purge operation happens infrequently and so\nwon't typically occur between steps 4 and 5.\n\nThis results in the RBD driver not being able to delete\nthe snapshot B until some time has passed.  This is not\ndesired behavior from a user perspective, and also causes\ntempest's test_volume_boot_pattern test to fail.\n\nChange-Id: I4170e093baf46745e3ba6e74efc680beaee08fab\n""}, {'number': 3, 'created': '2022-01-07 21:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e84d7042a3e1b674a2bdb488924962905bd4e61', 'message': ""WIP: RBD: Attempt remove() before trash_move()\n\nWhen the enable_deferred_deletion option is enabled,\nthe RBD driver calls trash_move() instead of remove()\nwhen deleting a Cinder volume.\n\nThis results in problematic behavior in this scenario:\n\n1. Create volume A\n2. Create snapshot B of volume A\n3. Create volume C from snapshot B.\n4. Delete volume C.  The RBD driver calls trash_move()\n   on the RBD image corresponding to volume C.\n5. Attempt to delete snapshot B.\n\nThe deletion of snapshot B will only succeed if the RBD\ntrash has been purged after volume C was moved to the\ntrash.  The purge operation happens infrequently and so\nwon't typically occur between steps 4 and 5.\n\nThis results in the RBD driver not being able to delete\nthe snapshot B until some time has passed.  This is not\ndesired behavior from a user perspective, and also causes\ntempest's test_volume_boot_pattern test to fail.\n\nChange-Id: I4170e093baf46745e3ba6e74efc680beaee08fab\n""}, {'number': 4, 'created': '2022-01-12 20:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbc2180cf011a09d248d4a2d6741ceb1bf8bdbf5', 'message': ""WIP: RBD: Attempt remove() before trash_move()\n\nWhen the enable_deferred_deletion option is enabled,\nthe RBD driver calls trash_move() instead of remove()\nwhen deleting a Cinder volume.\n\nThis results in problematic behavior in this scenario:\n\n1. Create volume A\n2. Create snapshot B of volume A\n3. Create volume C from snapshot B.\n4. Delete volume C.  The RBD driver calls trash_move()\n   on the RBD image corresponding to volume C.\n5. Attempt to delete snapshot B.\n\nThe deletion of snapshot B will only succeed if the RBD\ntrash has been purged after volume C was moved to the\ntrash.  The purge operation happens infrequently and so\nwon't typically occur between steps 4 and 5.\n\nThis results in the RBD driver not being able to delete\nthe snapshot B until some time has passed.  This is not\ndesired behavior from a user perspective, and also causes\ntempest's test_volume_boot_pattern test to fail.\n\nChange-Id: I4170e093baf46745e3ba6e74efc680beaee08fab\n""}, {'number': 5, 'created': '2022-01-13 13:51:25.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/29c10eae7648467be214e58bf12994dcbb0e5a76', 'message': ""RBD: Attempt remove() before trash_move()\n\nWhen the enable_deferred_deletion option is enabled,\nthe RBD driver calls trash_move() instead of remove()\nwhen deleting a Cinder volume.\n\nThis results in problematic behavior in this scenario:\n\n1. Create volume A\n2. Create snapshot B of volume A\n3. Create volume C from snapshot B.\n4. Delete volume C.  The RBD driver calls trash_move()\n   on the RBD image corresponding to volume C.\n5. Attempt to delete snapshot B.\n\nThe deletion of snapshot B will only succeed if the RBD\ntrash has been purged after volume C was moved to the\ntrash.  The purge operation happens infrequently and so\nwon't typically occur between steps 4 and 5.\n\nThis results in the RBD driver not being able to delete\nthe snapshot B until some time has passed.  This is not\ndesired behavior from a user perspective, and also causes\ntempest's test_volume_boot_pattern test to fail.\n\nCloses-Bug: #1957804\n\nChange-Id: I4170e093baf46745e3ba6e74efc680beaee08fab\n""}]",11,823726,29c10eae7648467be214e58bf12994dcbb0e5a76,96,3,5,4523,,,0,"RBD: Attempt remove() before trash_move()

When the enable_deferred_deletion option is enabled,
the RBD driver calls trash_move() instead of remove()
when deleting a Cinder volume.

This results in problematic behavior in this scenario:

1. Create volume A
2. Create snapshot B of volume A
3. Create volume C from snapshot B.
4. Delete volume C.  The RBD driver calls trash_move()
   on the RBD image corresponding to volume C.
5. Attempt to delete snapshot B.

The deletion of snapshot B will only succeed if the RBD
trash has been purged after volume C was moved to the
trash.  The purge operation happens infrequently and so
won't typically occur between steps 4 and 5.

This results in the RBD driver not being able to delete
the snapshot B until some time has passed.  This is not
desired behavior from a user perspective, and also causes
tempest's test_volume_boot_pattern test to fail.

Closes-Bug: #1957804

Change-Id: I4170e093baf46745e3ba6e74efc680beaee08fab
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/823726/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,a687d20743eaffec460f620b79a3d79b45e86851,," delay = 0 try: self.RBDProxy().remove(client.ioctx, volume_name) return except (self.rbd.ImageHasSnapshots, self.rbd.ImageBusy): pass"," else: try: self.RBDProxy().remove(client.ioctx, volume_name) return except (self.rbd.ImageHasSnapshots, self.rbd.ImageBusy): delay = 0",6,6
openstack%2Fmistral-dashboard~master~I8427123d4facca96df9e36f8cc548919075eb1b4,openstack/mistral-dashboard,master,I8427123d4facca96df9e36f8cc548919075eb1b4,Django 4: django.conf.urls.url is removed,ABANDONED,2022-07-28 13:09:51.000000000,2022-07-28 13:11:16.000000000,,[],"[{'number': 1, 'created': '2022-07-28 13:09:51.000000000', 'files': ['mistraldashboard/action_executions/urls.py', 'mistraldashboard/workflows/urls.py', 'mistraldashboard/actions/urls.py', 'mistraldashboard/workbooks/urls.py', 'mistraldashboard/tasks/urls.py', 'mistraldashboard/executions/urls.py', 'mistraldashboard/cron_triggers/urls.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/d6392c6a4ef51572edd79ff337005c6d48a662d4', 'message': 'Django 4: django.conf.urls.url is removed\n\nAs per Django 4 release notes:\nhttps://docs.djangoproject.com/en/4.0/releases/4.0/\n\ndjango.conf.urls.url is removed, and django.urls.re_path should\nbe used instead.\n\nChange-Id: I8427123d4facca96df9e36f8cc548919075eb1b4\n'}]",0,851401,d6392c6a4ef51572edd79ff337005c6d48a662d4,2,0,1,6476,,,0,"Django 4: django.conf.urls.url is removed

As per Django 4 release notes:
https://docs.djangoproject.com/en/4.0/releases/4.0/

django.conf.urls.url is removed, and django.urls.re_path should
be used instead.

Change-Id: I8427123d4facca96df9e36f8cc548919075eb1b4
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/01/851401/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistraldashboard/action_executions/urls.py', 'mistraldashboard/workflows/urls.py', 'mistraldashboard/actions/urls.py', 'mistraldashboard/workbooks/urls.py', 'mistraldashboard/tasks/urls.py', 'mistraldashboard/executions/urls.py', 'mistraldashboard/cron_triggers/urls.py']",7,d6392c6a4ef51572edd79ff337005c6d48a662d4,,"from django.urls import re_path # noqa re_path(r'^$', views.IndexView.as_view(), name='index'), re_path(CRON_TRIGGERS % 'detail', views.OverviewView.as_view(), name='detail'), re_path(r'^create$', views.CreateView.as_view(), name='create'),","from django.conf.urls import url # noqa url(r'^$', views.IndexView.as_view(), name='index'), url(CRON_TRIGGERS % 'detail', views.OverviewView.as_view(), name='detail'), url(r'^create$', views.CreateView.as_view(), name='create'),",73,72
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I41e03ddbcf9efa43c4ba58ab9dad61d12ad221d7,openstack/tripleo-heat-templates,stable/wallaby,I41e03ddbcf9efa43c4ba58ab9dad61d12ad221d7,[Wallaby-only] Disallow postcopy for live migration,ABANDONED,2022-07-25 15:42:03.000000000,2022-07-28 13:00:46.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-25 15:42:03.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'releasenotes/notes/nova-live-migration-disallow-postcopy-ab3b031f2004cbb6.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6b56c2f2c48f41ee3a41c1d63f1d9e70bcf44cf', 'message': ""[Wallaby-only] Disallow postcopy for live migration\n\nTurn off the postcopy feauturegate by default, which also has an\nupgrade impact. That is because of the known QEMU/Libvirt issue:\n\nLive Migration failure: internal error: unable to execute QEMU command\n'migrate-set-capabilities': Postcopy is not supported\n\nRelated: rhbz#2093905\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I41e03ddbcf9efa43c4ba58ab9dad61d12ad221d7\n""}]",5,850902,e6b56c2f2c48f41ee3a41c1d63f1d9e70bcf44cf,8,8,1,6926,,,0,"[Wallaby-only] Disallow postcopy for live migration

Turn off the postcopy feauturegate by default, which also has an
upgrade impact. That is because of the known QEMU/Libvirt issue:

Live Migration failure: internal error: unable to execute QEMU command
'migrate-set-capabilities': Postcopy is not supported

Related: rhbz#2093905

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I41e03ddbcf9efa43c4ba58ab9dad61d12ad221d7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/850902/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'releasenotes/notes/nova-live-migration-disallow-postcopy-ab3b031f2004cbb6.yaml']",3,e6b56c2f2c48f41ee3a41c1d63f1d9e70bcf44cf,,--- upgrade: - | `NovaLiveMigrationPermitPostCopy` defaults to False. The feature becomes disabled because of the known issue_ with postcopy support in libvirt/QEMU. .. _issue: https://bugzilla.redhat.com/show_bug.cgi?id=2093905 ,,9,2
openstack%2Fansible-role-uwsgi~master~I26b706286adc5a5a2a0f3fa840f84816b80d76b4,openstack/ansible-role-uwsgi,master,I26b706286adc5a5a2a0f3fa840f84816b80d76b4,Use TOX_CONSTRAINTS_FILE,NEW,2022-07-28 11:47:22.000000000,2022-07-28 12:07:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 11:47:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/1f15d6ecc64bba6738bb9d754095715a0eaf030a', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I26b706286adc5a5a2a0f3fa840f84816b80d76b4\n'}]",0,851326,1f15d6ecc64bba6738bb9d754095715a0eaf030a,2,1,1,35067,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I26b706286adc5a5a2a0f3fa840f84816b80d76b4
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/26/851326/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1f15d6ecc64bba6738bb9d754095715a0eaf030a,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fpuppet-vswitch~master~I10d7d8b7f48752f5340a7149a7e18b59bc2a5418,openstack/puppet-vswitch,master,I10d7d8b7f48752f5340a7149a7e18b59bc2a5418,Ensure vlan-limit is purged by default,ABANDONED,2022-07-28 03:18:16.000000000,2022-07-28 12:03:01.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 03:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f9a33783402472a6227e15a54a326172e1656565', 'message': 'Ensure vlan-limit is purged by default\n\nThis fixes the regression caused by [1] and ensures vlan-limit option\nis purged by default.\n\nThe main problem with current implementation is that puppet do not\nsync the property if a nil value is passed. Thus the default(undef)\ndoes not cause purging the option.\n\n[1] fb9a08d9726b79d2dcca34dab00150a1b62ef529\n\nCloses-Bug: #1982991\nChange-Id: I10d7d8b7f48752f5340a7149a7e18b59bc2a5418\n'}, {'number': 2, 'created': '2022-07-28 04:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/d6400496ac3aa0fc9ebc407f03aa84ddf24bb255', 'message': 'Ensure vlan-limit is purged by default\n\nThis fixes the regression caused by [1] and ensures vlan-limit option\nis purged by default.\n\nThe main problem with current implementation is that puppet do not\nsync the property if a nil value is passed. Thus the default(undef)\ndoes not cause purging the option.\n\n[1] fb9a08d9726b79d2dcca34dab00150a1b62ef529\n\nCloses-Bug: #1982991\nChange-Id: I10d7d8b7f48752f5340a7149a7e18b59bc2a5418\n'}, {'number': 3, 'created': '2022-07-28 07:14:38.000000000', 'files': ['spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/bc4b823115a7da51514d7082ad635769def1d549', 'message': 'Ensure vlan-limit is purged by default\n\nThis fixes the regression caused by [1] and ensures vlan-limit option\nis purged by default.\n\nThe main problem with current implementation is that puppet do not\nsync the property if a nil value is passed. Thus the default(undef)\ndoes not cause purging the option.\n\n[1] fb9a08d9726b79d2dcca34dab00150a1b62ef529\n\nCloses-Bug: #1982991\nChange-Id: I10d7d8b7f48752f5340a7149a7e18b59bc2a5418\n'}]",0,851283,bc4b823115a7da51514d7082ad635769def1d549,8,2,3,9816,,,0,"Ensure vlan-limit is purged by default

This fixes the regression caused by [1] and ensures vlan-limit option
is purged by default.

The main problem with current implementation is that puppet do not
sync the property if a nil value is passed. Thus the default(undef)
does not cause purging the option.

[1] fb9a08d9726b79d2dcca34dab00150a1b62ef529

Closes-Bug: #1982991
Change-Id: I10d7d8b7f48752f5340a7149a7e18b59bc2a5418
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/83/851283/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp']",4,f9a33783402472a6227e15a54a326172e1656565,bug/1982991," if $vlan_limit { vs_config { 'other_config:vlan-limit': value => $vlan_limit, wait => true, } } else { vs_config { 'other_config:vlan-limit': ensure => absent, wait => true, }"," vs_config { 'other_config:vlan-limit': value => $vlan_limit, wait => true,",22,8
openstack%2Fansible-collections-openstack~master~Ia3976bb3fcca662cefa219edeef057bcb7143c01,openstack/ansible-collections-openstack,master,Ia3976bb3fcca662cefa219edeef057bcb7143c01,Fixed Python shebang and UTF-8 coding in modules,MERGED,2022-07-28 07:20:08.000000000,2022-07-28 11:44:29.000000000,2022-07-28 11:44:29.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-07-28 07:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7dc9fe9ced5fe6451b372cf32f1cf588c4853840', 'message': 'Fixed Python shebang and UTF-8 coding in modules\n\nBe consistent with Ansible docs.\n\nRef.: https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_documenting.html\n\nChange-Id: Ia3976bb3fcca662cefa219edeef057bcb7143c01\n'}, {'number': 2, 'created': '2022-07-28 07:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b5d94015d7d80d7a86103d500f37a2c9cafb5d1f', 'message': 'Fixed Python shebang and UTF-8 coding in modules\n\nBe consistent with Ansible docs [1], [2].\n\n[1] https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_documenting.html\n[2] https://docs.ansible.com/ansible-core/devel/dev_guide/testing/sanity/shebang.html\n\nChange-Id: Ia3976bb3fcca662cefa219edeef057bcb7143c01\n'}, {'number': 3, 'created': '2022-07-28 08:04:19.000000000', 'files': ['plugins/modules/floating_ip_info.py', 'plugins/modules/project.py', 'plugins/modules/security_group_rule.py', 'plugins/modules/server_info.py', 'plugins/modules/baremetal_node_info.py', 'plugins/modules/identity_domain.py', 'plugins/modules/subnet_pool.py', 'plugins/modules/server.py', 'plugins/inventory/openstack.py', 'plugins/modules/neutron_rbac_policies_info.py', 'scripts/inventory/openstack_inventory.py', 'plugins/module_utils/ironic.py', 'plugins/modules/project_access.py', 'plugins/modules/identity_group.py', 'plugins/modules/federation_mapping.py', 'plugins/modules/security_group_info.py', 'plugins/modules/identity_role_info.py', 'plugins/modules/volume_backup_info.py', 'plugins/modules/volume.py', 'plugins/modules/lb_member.py', 'plugins/modules/network.py', 'plugins/modules/image_info.py', 'plugins/modules/identity_user.py', 'plugins/modules/baremetal_inspect.py', 'plugins/modules/project_info.py', 'plugins/modules/stack_info.py', 'plugins/modules/baremetal_node.py', 'plugins/modules/server_metadata.py', 'plugins/doc_fragments/openstack.py', 'plugins/modules/keypair.py', 'plugins/modules/object.py', 'plugins/modules/keypair_info.py', 'plugins/modules/federation_idp.py', 'plugins/modules/identity_user_info.py', 'plugins/modules/lb_listener.py', 'plugins/modules/security_group_rule_info.py', 'plugins/modules/endpoint.py', 'plugins/modules/router.py', 'plugins/module_utils/openstack.py', 'plugins/modules/subnets_info.py', 'plugins/modules/identity_group_info.py', 'plugins/modules/baremetal_node_action.py', 'plugins/modules/keystone_federation_protocol.py', 'plugins/modules/lb_health_monitor.py', 'plugins/modules/volume_snapshot_info.py', 'plugins/modules/compute_flavor.py', 'plugins/modules/image.py', 'plugins/modules/networks_info.py', 'plugins/modules/object_container.py', 'plugins/modules/role_assignment.py', 'plugins/modules/coe_cluster_template.py', 'plugins/modules/identity_role.py', 'plugins/modules/server_group.py', 'plugins/modules/host_aggregate.py', 'plugins/modules/federation_mapping_info.py', 'plugins/modules/volume_backup.py', 'plugins/modules/auth.py', 'plugins/modules/lb_pool.py', 'plugins/modules/subnet.py', 'plugins/modules/compute_service_info.py', 'plugins/modules/config.py', 'plugins/modules/volume_info.py', 'plugins/modules/baremetal_port.py', 'plugins/modules/compute_flavor_info.py', 'plugins/modules/security_group.py', 'plugins/modules/catalog_service.py', 'plugins/modules/volume_snapshot.py', 'plugins/modules/group_assignment.py', 'plugins/modules/recordset.py', 'plugins/modules/server_action.py', 'plugins/modules/routers_info.py', 'plugins/modules/address_scope.py', 'plugins/modules/neutron_rbac_policy.py', 'plugins/modules/coe_cluster.py', 'plugins/modules/server_volume.py', 'plugins/modules/federation_idp_info.py', 'plugins/modules/port_info.py', 'plugins/modules/stack.py', 'plugins/modules/port.py', 'plugins/modules/floating_ip.py', 'plugins/modules/identity_domain_info.py', 'plugins/modules/dns_zone.py', 'plugins/modules/dns_zone_info.py', 'plugins/modules/loadbalancer.py', 'plugins/modules/baremetal_port_info.py', 'plugins/modules/quota.py', 'plugins/modules/keystone_federation_protocol_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0b2b56765cadbee5493d4e807671afa0fc7748a1', 'message': 'Fixed Python shebang and UTF-8 coding in modules\n\nBe consistent with Ansible docs [1], [2], [3].\n\n[1] https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_documenting.html\n[2] https://docs.ansible.com/ansible-core/devel/dev_guide/testing/sanity/shebang.html\n[3] https://github.com/ansible/ansible/blob/b86a18bd273499f5d10e581821a47571690660e1/test/lib/ansible_test/_util/controller/sanity/code-smell/shebang.py\n\nChange-Id: Ia3976bb3fcca662cefa219edeef057bcb7143c01\n'}]",1,851349,0b2b56765cadbee5493d4e807671afa0fc7748a1,12,4,3,32962,,,0,"Fixed Python shebang and UTF-8 coding in modules

Be consistent with Ansible docs [1], [2], [3].

[1] https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_documenting.html
[2] https://docs.ansible.com/ansible-core/devel/dev_guide/testing/sanity/shebang.html
[3] https://github.com/ansible/ansible/blob/b86a18bd273499f5d10e581821a47571690660e1/test/lib/ansible_test/_util/controller/sanity/code-smell/shebang.py

Change-Id: Ia3976bb3fcca662cefa219edeef057bcb7143c01
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/49/851349/2 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/floating_ip_info.py', 'plugins/modules/project.py', 'plugins/modules/security_group_rule.py', 'plugins/modules/server_info.py', 'plugins/modules/baremetal_node_info.py', 'plugins/modules/identity_domain.py', 'plugins/modules/subnet_pool.py', 'plugins/modules/server.py', 'plugins/inventory/openstack.py', 'plugins/modules/neutron_rbac_policies_info.py', 'scripts/inventory/openstack_inventory.py', 'plugins/module_utils/ironic.py', 'plugins/modules/project_access.py', 'plugins/modules/identity_group.py', 'plugins/modules/federation_mapping.py', 'plugins/modules/security_group_info.py', 'plugins/modules/identity_role_info.py', 'plugins/modules/volume_backup_info.py', 'plugins/modules/volume.py', 'plugins/modules/lb_member.py', 'plugins/modules/network.py', 'plugins/modules/image_info.py', 'plugins/modules/identity_user.py', 'plugins/modules/baremetal_inspect.py', 'plugins/modules/project_info.py', 'plugins/modules/stack_info.py', 'plugins/modules/baremetal_node.py', 'plugins/modules/server_metadata.py', 'plugins/doc_fragments/openstack.py', 'plugins/modules/keypair.py', 'plugins/modules/object.py', 'plugins/modules/keypair_info.py', 'plugins/modules/federation_idp.py', 'plugins/modules/identity_user_info.py', 'plugins/modules/lb_listener.py', 'plugins/modules/security_group_rule_info.py', 'plugins/modules/endpoint.py', 'plugins/modules/router.py', 'plugins/module_utils/openstack.py', 'plugins/modules/subnets_info.py', 'plugins/modules/identity_group_info.py', 'plugins/modules/baremetal_node_action.py', 'plugins/modules/keystone_federation_protocol.py', 'plugins/modules/lb_health_monitor.py', 'plugins/modules/volume_snapshot_info.py', 'plugins/modules/compute_flavor.py', 'plugins/modules/image.py', 'plugins/modules/networks_info.py', 'plugins/modules/object_container.py', 'plugins/modules/role_assignment.py', 'plugins/modules/coe_cluster_template.py', 'plugins/modules/identity_role.py', 'plugins/modules/server_group.py', 'plugins/modules/host_aggregate.py', 'plugins/modules/federation_mapping_info.py', 'plugins/modules/volume_backup.py', 'plugins/modules/auth.py', 'plugins/modules/lb_pool.py', 'plugins/modules/subnet.py', 'plugins/modules/compute_service_info.py', 'plugins/modules/config.py', 'plugins/modules/volume_info.py', 'plugins/modules/baremetal_port.py', 'plugins/modules/compute_flavor_info.py', 'plugins/modules/security_group.py', 'plugins/modules/catalog_service.py', 'plugins/modules/volume_snapshot.py', 'plugins/modules/group_assignment.py', 'plugins/modules/recordset.py', 'plugins/modules/server_action.py', 'plugins/modules/routers_info.py', 'plugins/modules/address_scope.py', 'plugins/modules/neutron_rbac_policy.py', 'plugins/modules/coe_cluster.py', 'plugins/modules/server_volume.py', 'plugins/modules/federation_idp_info.py', 'plugins/modules/port_info.py', 'plugins/modules/stack.py', 'plugins/modules/port.py', 'plugins/modules/floating_ip.py', 'plugins/modules/identity_domain_info.py', 'plugins/modules/dns_zone.py', 'plugins/modules/dns_zone_info.py', 'plugins/modules/loadbalancer.py', 'plugins/modules/baremetal_port_info.py', 'plugins/modules/quota.py', 'plugins/modules/keystone_federation_protocol_info.py']",87,7dc9fe9ced5fe6451b372cf32f1cf588c4853840,utf8,# -*- coding: utf-8 -*- ,,129,39
openstack%2Fovn-octavia-provider~stable%2Fvictoria~I0fd90c9329a2ec43823813542f263845562c45f2,openstack/ovn-octavia-provider,stable/victoria,I0fd90c9329a2ec43823813542f263845562c45f2,Ensure members without subnet belong to VIP subnet or fail,MERGED,2022-07-26 07:36:10.000000000,2022-07-28 11:36:02.000000000,2022-07-28 11:35:02.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 07:36:10.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3a57fbd14be8a8e633d51206859ba0a25761e99e', 'message': 'Ensure members without subnet belong to VIP subnet or fail\n\nThis patch ensures the members without subnet are only accepted\nif the IP of the member belongs to the CIDR of the VIP subnet,\nas that is the subnet associated to the loadbalancer used to\nobtain the subnet for the members that do not have it.\n\nCloses-Bug: #1982111\n\nChange-Id: I0fd90c9329a2ec43823813542f263845562c45f2\n(cherry picked from commit 136b829579e83618b8497963153edff1de320e6b)\n'}]",1,850992,3a57fbd14be8a8e633d51206859ba0a25761e99e,8,3,1,34451,,,0,"Ensure members without subnet belong to VIP subnet or fail

This patch ensures the members without subnet are only accepted
if the IP of the member belongs to the CIDR of the VIP subnet,
as that is the subnet associated to the loadbalancer used to
obtain the subnet for the members that do not have it.

Closes-Bug: #1982111

Change-Id: I0fd90c9329a2ec43823813542f263845562c45f2
(cherry picked from commit 136b829579e83618b8497963153edff1de320e6b)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/92/850992/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",5,3a57fbd14be8a8e633d51206859ba0a25761e99e,," @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test__get_subnet_from_pool(self, net_cli): net_cli.return_value.show_subnet.return_value = { 'subnet': {'cidr': '10.22.33.0/24'}} self.assertEqual((None, None), found) self.assertEqual(found, (lb.vip_subnet_id, '10.22.33.0/24')) self.assertEqual((None, None), found) self.assertEqual((None, None), found)"," def test__get_subnet_from_pool(self): self.assertIsNone(found) self.assertEqual(found, lb.vip_subnet_id) self.assertIsNone(found) self.assertIsNone(found)",96,25
openstack%2Fmicroversion-parse~master~Ief8896fd7244e29d4c471802b6734eac1e19447d,openstack/microversion-parse,master,Ief8896fd7244e29d4c471802b6734eac1e19447d,remove unicode from code,MERGED,2022-07-28 00:59:36.000000000,2022-07-28 11:25:53.000000000,2022-07-28 11:25:53.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 00:59:36.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/d8e123228d19651f254ce5bb6393ffd8cbb74a83', 'message': 'remove unicode from code\n\nChange-Id: Ief8896fd7244e29d4c471802b6734eac1e19447d\n'}]",0,851187,d8e123228d19651f254ce5bb6393ffd8cbb74a83,6,2,1,35058,,,0,"remove unicode from code

Change-Id: Ief8896fd7244e29d4c471802b6734eac1e19447d
",git fetch https://review.opendev.org/openstack/microversion-parse refs/changes/87/851187/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,d8e123228d19651f254ce5bb6393ffd8cbb74a83,,"project = 'microversion-parse' copyright = '2016, OpenStack' 'microversion-parse Documentation', 'OpenStack',","project = u'microversion-parse' copyright = u'2016, OpenStack' u'microversion-parse Documentation', u'OpenStack',",4,4
openstack%2Fopenstackclient~master~I6456e85676eb347674b37082a369f657604c185d,openstack/openstackclient,master,I6456e85676eb347674b37082a369f657604c185d,remove unicode from code,MERGED,2022-07-28 02:41:16.000000000,2022-07-28 11:25:33.000000000,2022-07-28 11:25:33.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 02:41:16.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/5a62d5293efc2dbbc8d902484db7a0b556f72222', 'message': 'remove unicode from code\n\nChange-Id: I6456e85676eb347674b37082a369f657604c185d\n'}]",0,851305,5a62d5293efc2dbbc8d902484db7a0b556f72222,6,2,1,35058,,,0,"remove unicode from code

Change-Id: I6456e85676eb347674b37082a369f657604c185d
",git fetch https://review.opendev.org/openstack/openstackclient refs/changes/05/851305/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,5a62d5293efc2dbbc8d902484db7a0b556f72222,,project = 'OpenStack Command Line Client' copyright = '2012-2013 OpenStack Foundation',project = u'OpenStack Command Line Client' copyright = u'2012-2013 OpenStack Foundation',2,2
openstack%2Fos-traits~master~Id0c87f3afc223f655a708d7d08df62216d832203,openstack/os-traits,master,Id0c87f3afc223f655a708d7d08df62216d832203,Add COMPUTE_MANAGED_PCI_DEVICE trait,MERGED,2022-07-20 14:56:41.000000000,2022-07-28 11:13:52.000000000,2022-07-28 11:12:51.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-20 14:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/db9d9af9772d61e58e3ec91554e36b2e43e4c59c', 'message': 'Add HW_PCI_DEVICE trait\n\nThis will be used by nova implementing PCI tracking in Placement along\nwith the existing OWNER_NOVA trait to indicate that an RP represents a\nnova managed PCI device (or its children devices).\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0c87f3afc223f655a708d7d08df62216d832203\n'}, {'number': 2, 'created': '2022-07-20 16:13:13.000000000', 'files': ['os_traits/compute/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/62bb86895f0efa2584facad429cfde6dd3d045fa', 'message': 'Add COMPUTE_MANAGED_PCI_DEVICE trait\n\nThis will be used by nova implementing PCI tracking in Placement along\nwith the existing OWNER_NOVA trait to indicate that an RP has\ninventories of nova managed PCI device (or its children devices).\n\nblueprint: pci-device-tracking-in-placement\nChange-Id: Id0c87f3afc223f655a708d7d08df62216d832203\n'}]",3,850538,62bb86895f0efa2584facad429cfde6dd3d045fa,12,3,2,9708,,,0,"Add COMPUTE_MANAGED_PCI_DEVICE trait

This will be used by nova implementing PCI tracking in Placement along
with the existing OWNER_NOVA trait to indicate that an RP has
inventories of nova managed PCI device (or its children devices).

blueprint: pci-device-tracking-in-placement
Change-Id: Id0c87f3afc223f655a708d7d08df62216d832203
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/38/850538/1 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/hw/__init__.py'],1,db9d9af9772d61e58e3ec91554e36b2e43e4c59c,bp/pci-device-tracking-in-placement,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. TRAITS = [ 'PCI_DEVICE' ] ",,15,0
openstack%2Fbarbican~master~Ifd9e9eda594b67fe9f14da2a783876298775e819,openstack/barbican,master,Ifd9e9eda594b67fe9f14da2a783876298775e819,DOC: remove duplicate mitaka entry,ABANDONED,2022-07-28 11:09:23.000000000,2022-07-28 11:12:39.000000000,,[],"[{'number': 1, 'created': '2022-07-28 11:09:23.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/618572bc8a498707a473c0f9b4c00c626ffeee95', 'message': 'DOC: remove duplicate mitaka entry\n\nChange-Id: Ifd9e9eda594b67fe9f14da2a783876298775e819\n'}]",0,851324,618572bc8a498707a473c0f9b4c00c626ffeee95,2,0,1,35067,,,0,"DOC: remove duplicate mitaka entry

Change-Id: Ifd9e9eda594b67fe9f14da2a783876298775e819
",git fetch https://review.opendev.org/openstack/barbican refs/changes/24/851324/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,618572bc8a498707a473c0f9b4c00c626ffeee95,,, mitaka,0,1
openstack%2Fkolla~master~I9d9e6072343fd296148b454dcf83ae4e84e49525,openstack/kolla,master,I9d9e6072343fd296148b454dcf83ae4e84e49525,Publish properly as Jammy,MERGED,2022-07-28 09:53:59.000000000,2022-07-28 11:10:35.000000000,2022-07-28 11:08:41.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-07-28 09:53:59.000000000', 'files': ['doc/source/support_matrix.rst', '.zuul.d/ubuntu.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cfcb7ba2f00e3fe8417c456eeae6cebe196e76b4', 'message': 'Publish properly as Jammy\n\nAlso update the docs.\n\nChange-Id: I9d9e6072343fd296148b454dcf83ae4e84e49525\n'}]",0,851365,cfcb7ba2f00e3fe8417c456eeae6cebe196e76b4,9,3,1,30491,,,0,"Publish properly as Jammy

Also update the docs.

Change-Id: I9d9e6072343fd296148b454dcf83ae4e84e49525
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/851365/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support_matrix.rst', '.zuul.d/ubuntu.yaml']",2,cfcb7ba2f00e3fe8417c456eeae6cebe196e76b4,jammy, base_distro_version: jammy, base_distro_version: focal,2,2
openstack%2Frequirements~master~Ie0bf43dd295c1cde34ea3ad1c3277c1ceba64ca6,openstack/requirements,master,Ie0bf43dd295c1cde34ea3ad1c3277c1ceba64ca6,update constraint for stevedore to new release 4.0.0,ABANDONED,2022-07-12 09:14:04.000000000,2022-07-28 11:08:32.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-12 09:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9b0041f96102b7bc3610163e8895fe0d334c7080', 'message': 'update constraint for stevedore to new release 4.0.0\n\nmeta: version: 4.0.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I9b3131871c007cbaad89aef65fb3df5b31487c5d\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ie0bf43dd295c1cde34ea3ad1c3277c1ceba64ca6\n'}, {'number': 2, 'created': '2022-07-14 02:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ed299477cba436d39a1cc3e2f5421c8c51dbecf0', 'message': 'update constraint for stevedore to new release 4.0.0\n\nmeta: version: 4.0.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I9b3131871c007cbaad89aef65fb3df5b31487c5d\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ie0bf43dd295c1cde34ea3ad1c3277c1ceba64ca6\n'}, {'number': 3, 'created': '2022-07-28 10:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c412a189d3ad2b02207cc8efe1bbd5929c49d1f0', 'message': 'update constraint for stevedore to new release 4.0.0\n\nmeta: version: 4.0.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I9b3131871c007cbaad89aef65fb3df5b31487c5d\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ie0bf43dd295c1cde34ea3ad1c3277c1ceba64ca6\n'}]",0,849468,c412a189d3ad2b02207cc8efe1bbd5929c49d1f0,25,2,3,11131,,,0,"update constraint for stevedore to new release 4.0.0

meta: version: 4.0.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I9b3131871c007cbaad89aef65fb3df5b31487c5d
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ie0bf43dd295c1cde34ea3ad1c3277c1ceba64ca6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/849468/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9b0041f96102b7bc3610163e8895fe0d334c7080,new-release,stevedore===4.0.0,stevedore===3.5.0,1,1
openstack%2Fpuppet-openstack-guide~master~I46de727c3233040d6aac020a50696c8dd512ec15,openstack/puppet-openstack-guide,master,I46de727c3233040d6aac020a50696c8dd512ec15,remove unicode from code,ABANDONED,2022-07-28 01:35:08.000000000,2022-07-28 10:40:06.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 01:35:08.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/b13b69bc47047b611b77c9e2658dbb1a8b2bee75', 'message': 'remove unicode from code\n\nChange-Id: I46de727c3233040d6aac020a50696c8dd512ec15\n'}]",1,851294,b13b69bc47047b611b77c9e2658dbb1a8b2bee75,4,2,1,35058,,,0,"remove unicode from code

Change-Id: I46de727c3233040d6aac020a50696c8dd512ec15
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/94/851294/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,b13b69bc47047b611b77c9e2658dbb1a8b2bee75,," ('index', 'Puppet-OpenStack-guide.tex', 'Puppet OpenStack Guide', 'OpenStack Contributors', 'manual'),"," ('index', 'Puppet-OpenStack-guide.tex', u'Puppet OpenStack Guide', u'OpenStack Contributors', 'manual'),",2,2
openstack%2Fstorlets~master~I9af0a0f1e5f9b16cea656bf495a7e8b4b33909f7,openstack/storlets,master,I9af0a0f1e5f9b16cea656bf495a7e8b4b33909f7,remove unicode literal from code,MERGED,2022-07-28 01:53:14.000000000,2022-07-28 10:22:33.000000000,2022-07-28 10:21:33.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 01:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d798b8e0c85063c0f951d4f810b6c9662fd42188', 'message': 'remove unicode from code\n\nChange-Id: I9af0a0f1e5f9b16cea656bf495a7e8b4b33909f7\n'}, {'number': 2, 'created': '2022-07-28 10:06:40.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/14c1f40ec9a0e2d5c01e575e67c73347502b285f', 'message': 'remove unicode literal from code\n\nChange-Id: I9af0a0f1e5f9b16cea656bf495a7e8b4b33909f7\n'}]",0,851297,14c1f40ec9a0e2d5c01e575e67c73347502b285f,9,2,2,35058,,,0,"remove unicode literal from code

Change-Id: I9af0a0f1e5f9b16cea656bf495a7e8b4b33909f7
",git fetch https://review.opendev.org/openstack/storlets refs/changes/97/851297/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,d798b8e0c85063c0f951d4f810b6c9662fd42188,,"project = 'storlets' copyright = '2013, OpenStack Foundation' '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'storlets' copyright = u'2013, OpenStack Foundation' u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Fsushy-tools~master~I632f68da2d06a4008f4df1fbe751c92e0120bf89,openstack/sushy-tools,master,I632f68da2d06a4008f4df1fbe751c92e0120bf89,Document SUSHY_EMULATOR_ALLOWED_INSTANCES,MERGED,2022-05-06 03:08:48.000000000,2022-07-28 10:21:01.000000000,2022-07-28 10:19:55.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-06 03:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/58b50bde5546dec7781646e9d6aa565b24abbec3', 'message': 'Add an allowed list to filter managed virtual machines\n\nIt is not always desirable to manage every accessable virtual machine\nas a Redfish System, such as when an OpenStack tenant has many\ninstances which do not represent virtual baremetal. In this case it is\npossible to specify a list of UUIDs which are allowed.\n\nThis change adds configuration option SUSHY_EMULATOR_ALLOWED_SYSTEMS\nso any virutal machine not in this list will not be managable as a\nRedfish System.\n\nChange-Id: I632f68da2d06a4008f4df1fbe751c92e0120bf89\n'}, {'number': 2, 'created': '2022-05-10 04:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/3f71c53728de05b22a09519d7315ef1b441d16d8', 'message': 'Document SUSHY_EMULATOR_ALLOWED_INSTANCES\n\nChange-Id: I632f68da2d06a4008f4df1fbe751c92e0120bf89\n'}, {'number': 3, 'created': '2022-05-18 05:22:54.000000000', 'files': ['doc/source/admin/emulator.conf', 'doc/source/user/dynamic-emulator.rst'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/c560bd3c7822bbce6a4f21974003d8288a88f702', 'message': 'Document SUSHY_EMULATOR_ALLOWED_INSTANCES\n\nChange-Id: I632f68da2d06a4008f4df1fbe751c92e0120bf89\n'}]",4,840804,c560bd3c7822bbce6a4f21974003d8288a88f702,21,6,3,4571,,,0,"Document SUSHY_EMULATOR_ALLOWED_INSTANCES

Change-Id: I632f68da2d06a4008f4df1fbe751c92e0120bf89
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/04/840804/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/emulator/resources/systems/novadriver.py', 'doc/source/admin/emulator.conf', 'doc/source/user/dynamic-emulator.rst']",4,58b50bde5546dec7781646e9d6aa565b24abbec3,secure_boot,"Filtering by allowed Systems ++++++++++++++++++++++++++++ It is not always desirable to manage every accessable virtual machine as a Redfish System, such as when an OpenStack tenant has many instances which do not represent virtual baremetal. In this case it is possible to specify a list of UUIDs which are allowed. .. code-block:: bash $ cat sushy-tools/doc/source/admin/emulator.conf ... SUSHY_EMULATOR_ALLOWED_SYSTEMS = [ ""437XR1138R2"", ""1"", ""529QB9450R6"", ""529QB9451R6"", ""529QB9452R6"", ""529QB9453R6"" ] ... ",,56,4
openstack%2Fsushy-tools~master~Ic1691dc988969aeda85f44f9014e43dfa6484c68,openstack/sushy-tools,master,Ic1691dc988969aeda85f44f9014e43dfa6484c68,Fix per-request memoization,MERGED,2022-05-05 23:10:40.000000000,2022-07-28 10:16:07.000000000,2022-07-28 10:15:07.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-05 23:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/85852bae123b38f15d256a5279cee92e3a2c633b', 'message': ""Fix per-request memoization\n\nThe original intent[1] of memoization was for @memoize.memoize()\ndecorated methods to be memoized for the duration of one request,\nhowever nothing ever reset the _cache dict so memoization persisted\nfor the duration of the application.\n\nThis revealed itself because fetching one system with the nova driver\nreturned very quickly and the PowerState never changed after a\nActions/ComputerSystem.Reset POST to switch it on or off.\n\nThis change resets app._cache at the beginning of each request. This\nwon't affect @memoize.memoize(permanent_cache=PERMANENT_CACHE)\nbehaviour.\n\n[1] https://review.opendev.org/c/openstack/sushy-tools/+/612758\n\nChange-Id: Ic1691dc988969aeda85f44f9014e43dfa6484c68\n""}, {'number': 2, 'created': '2022-05-06 03:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e34c714551211da25103af4eff4a02280a52e8ae', 'message': ""Fix per-request memoization\n\nThe original intent[1] of memoization was for @memoize.memoize()\ndecorated methods to be memoized for the duration of one request,\nhowever nothing ever reset the _cache dict so memoization persisted\nfor the duration of the application.\n\nThis revealed itself because fetching one system with the nova driver\nreturned very quickly and the PowerState never changed after a\nActions/ComputerSystem.Reset POST to switch it on or off.\n\nThis change resets app._cache at the beginning of each request. This\nwon't affect @memoize.memoize(permanent_cache=PERMANENT_CACHE)\nbehaviour.\n\n[1] https://review.opendev.org/c/openstack/sushy-tools/+/612758\n\nChange-Id: Ic1691dc988969aeda85f44f9014e43dfa6484c68\n""}, {'number': 3, 'created': '2022-05-10 04:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/66c88e39c21c5e4469559f46bee7d28545517b6a', 'message': ""Fix per-request memoization\n\nThe original intent[1] of memoization was for @memoize.memoize()\ndecorated methods to be memoized for the duration of one request,\nhowever nothing ever reset the _cache dict so memoization persisted\nfor the duration of the application.\n\nThis revealed itself because fetching one system with the nova driver\nreturned very quickly and the PowerState never changed after a\nActions/ComputerSystem.Reset POST to switch it on or off.\n\nThis change resets app._cache at the beginning of each request. This\nwon't affect @memoize.memoize(permanent_cache=PERMANENT_CACHE)\nbehaviour.\n\n[1] https://review.opendev.org/c/openstack/sushy-tools/+/612758\n\nChange-Id: Ic1691dc988969aeda85f44f9014e43dfa6484c68\n""}, {'number': 4, 'created': '2022-05-18 05:22:54.000000000', 'files': ['sushy_tools/emulator/main.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/a2a7cf56c13861f5194f82bad0ff29e190056668', 'message': ""Fix per-request memoization\n\nThe original intent[1] of memoization was for @memoize.memoize()\ndecorated methods to be memoized for the duration of one request,\nhowever nothing ever reset the _cache dict so memoization persisted\nfor the duration of the application.\n\nThis revealed itself because fetching one system with the nova driver\nreturned very quickly and the PowerState never changed after a\nActions/ComputerSystem.Reset POST to switch it on or off.\n\nThis change resets app._cache at the beginning of each request. This\nwon't affect @memoize.memoize(permanent_cache=PERMANENT_CACHE)\nbehaviour.\n\n[1] https://review.opendev.org/c/openstack/sushy-tools/+/612758\n\nChange-Id: Ic1691dc988969aeda85f44f9014e43dfa6484c68\n""}]",6,840780,a2a7cf56c13861f5194f82bad0ff29e190056668,24,4,4,4571,,,0,"Fix per-request memoization

The original intent[1] of memoization was for @memoize.memoize()
decorated methods to be memoized for the duration of one request,
however nothing ever reset the _cache dict so memoization persisted
for the duration of the application.

This revealed itself because fetching one system with the nova driver
returned very quickly and the PowerState never changed after a
Actions/ComputerSystem.Reset POST to switch it on or off.

This change resets app._cache at the beginning of each request. This
won't affect @memoize.memoize(permanent_cache=PERMANENT_CACHE)
behaviour.

[1] https://review.opendev.org/c/openstack/sushy-tools/+/612758

Change-Id: Ic1691dc988969aeda85f44f9014e43dfa6484c68
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/80/840780/4 && git format-patch -1 --stdout FETCH_HEAD,['sushy_tools/emulator/main.py'],1,85852bae123b38f15d256a5279cee92e3a2c633b,secure_boot, @self.before_request def reset_cache(): self._cache = {} self.logger.debug('HO') ,,6,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I56de86fc2ff63332d1924beab9a3cf7d02bbf091,openstack/tripleo-heat-templates,stable/wallaby,I56de86fc2ff63332d1924beab9a3cf7d02bbf091,[DNM] Testing backport for ovn cluster ipv6 fix,ABANDONED,2022-07-28 06:54:41.000000000,2022-07-28 10:10:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-28 06:54:41.000000000', 'files': ['sample-env-generator/standalone.yaml', 'environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'environments/docker-ha.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/standalone/standalone-tripleo.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'zuul.d/layout.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f21dd7f1d08ad0083a8126aa1b5e3ae903210f2c', 'message': '[DNM] Testing backport for ovn cluster ipv6 fix\n\nDefault to deploying OVN with RAFT Active/Active clustering instead\nof Pacemaker Active/Backup. The code to support RAFT has been been\nin THT since train.\n\nRequires OVS 2.17 (technically only python-ovs 2.17) to work\nproperly at scale.\n\nConflicts:\n \tenvironments/podman-ha.yaml\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/851066\nChange-Id: I56de86fc2ff63332d1924beab9a3cf7d02bbf091\n'}]",0,851347,f21dd7f1d08ad0083a8126aa1b5e3ae903210f2c,4,2,1,13861,,,0,"[DNM] Testing backport for ovn cluster ipv6 fix

Default to deploying OVN with RAFT Active/Active clustering instead
of Pacemaker Active/Backup. The code to support RAFT has been been
in THT since train.

Requires OVS 2.17 (technically only python-ovs 2.17) to work
properly at scale.

Conflicts:
 	environments/podman-ha.yaml

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/851066
Change-Id: I56de86fc2ff63332d1924beab9a3cf7d02bbf091
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/851347/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'environments/docker-ha.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/standalone/standalone-tripleo.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'zuul.d/layout.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml']",11,f21dd7f1d08ad0083a8126aa1b5e3ae903210f2c,ovn-ipv6,, OS::TripleO::Services::OVNDBs: ../../deployment/ovn/ovn-dbs-pacemaker-puppet.yaml,3,49
openstack%2Fos-ken~master~Ife9d349eb9c92f2a39719e76e82fe20c010fe230,openstack/os-ken,master,Ife9d349eb9c92f2a39719e76e82fe20c010fe230,"Remove ""six"" library",MERGED,2022-07-22 16:07:03.000000000,2022-07-28 09:43:40.000000000,2022-07-28 09:41:11.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-07-22 16:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/2c4d38ef8f9f65c4331d372d68f364545de6377d', 'message': 'Remove ""six"" library\n\nThis patch also removes some unneeded imported libraries.\n\nStory: #2010182\nTask: #45863\nChange-Id: Ife9d349eb9c92f2a39719e76e82fe20c010fe230\n'}, {'number': 2, 'created': '2022-07-26 14:53:03.000000000', 'files': ['os_ken/tests/unit/ofproto/test_parser.py', 'os_ken/tests/unit/packet/test_ethernet.py', 'os_ken/lib/type_desc.py', 'os_ken/lib/stringify.py', 'os_ken/services/protocols/bgp/info_base/vrf.py', 'os_ken/tests/unit/packet/test_icmpv6.py', 'os_ken/tests/unit/ofproto/test_parser_v10.py', 'os_ken/ofproto/ofproto_v1_5_parser.py', 'os_ken/topology/switches.py', 'os_ken/tests/unit/packet/test_zebra.py', 'os_ken/services/protocols/bgp/info_base/vrffs.py', 'os_ken/lib/ofctl_utils.py', 'os_ken/lib/packet/ospf.py', 'os_ken/lib/ofp_pktinfilter.py', 'os_ken/ofproto/ofproto_v1_0_parser.py', 'os_ken/tests/unit/ofproto/test_parser_ofpstats.py', 'os_ken/tests/unit/packet/test_ipv6.py', 'os_ken/services/protocols/bgp/protocol.py', 'os_ken/lib/packet/mpls.py', 'os_ken/lib/mrtlib.py', 'os_ken/services/protocols/vrrp/router.py', 'os_ken/lib/packet/packet_base.py', 'os_ken/services/protocols/bgp/info_base/vpn.py', 'os_ken/utils.py', 'os_ken/services/protocols/bgp/peer.py', 'os_ken/tests/unit/packet/test_vrrp.py', 'os_ken/lib/packet/sctp.py', 'os_ken/lib/packet/zebra.py', 'os_ken/lib/packet/cfm.py', 'os_ken/services/protocols/bgp/base.py', 'os_ken/services/protocols/bgp/rtconf/base.py', 'os_ken/tests/unit/packet/test_dhcp.py', 'os_ken/lib/bfdlib.py', 'os_ken/lib/packet/icmp.py', 'os_ken/ofproto/ofproto_v1_4_parser.py', 'os_ken/tests/unit/ofproto/test_ofproto_parser.py', 'os_ken/lib/packet/vlan.py', 'os_ken/lib/packet/vxlan.py', 'os_ken/lib/snortlib.py', 'os_ken/lib/packet/tcp.py', 'os_ken/lib/packet/bmp.py', 'os_ken/lib/packet/icmpv6.py', 'os_ken/services/protocols/bgp/operator/commands/show/route_formatter_mixin.py', 'os_ken/tests/packet_data_generator3/gen.py', 'os_ken/tests/switch/tester.py', 'os_ken/tests/unit/packet/test_igmp.py', 'os_ken/lib/packet/igmp.py', 'os_ken/tests/unit/ofproto/test_parser_v12.py', 'os_ken/tests/unit/packet/test_sctp.py', 'os_ken/services/protocols/bgp/operator/command.py', 'os_ken/ofproto/oxx_fields.py', 'requirements.txt', 'os_ken/lib/ovs/vsctl.py', 'os_ken/ofproto/ofproto_v1_3_parser.py', 'os_ken/tests/unit/packet/test_tcp.py', 'tools/pip-requires', 'os_ken/tests/unit/packet/test_cfm.py', 'os_ken/tests/unit/packet/test_lldp.py', 'os_ken/ofproto/nx_actions.py', 'os_ken/tests/unit/packet/test_ipv4.py', 'os_ken/services/protocols/bgp/utils/circlist.py', 'os_ken/tests/unit/ofproto/test_parser_v13.py', 'os_ken/ofproto/ofproto_parser.py', 'os_ken/lib/packet/stream_parser.py', 'os_ken/lib/rpc.py', 'os_ken/services/protocols/bgp/operator/views/fields.py', 'os_ken/tests/unit/packet/test_packet.py', 'os_ken/tests/unit/ofproto/test_parser_ofpmatch.py', 'os_ken/ofproto/ofproto_v1_2_parser.py', 'os_ken/tests/unit/ofproto/test_parser_compat.py', 'os_ken/lib/packet/ipv6.py', 'os_ken/lib/packet/bgp.py', 'os_ken/lib/mac.py', 'os_ken/lib/packet/packet.py', 'os_ken/services/protocols/bgp/info_base/base.py', 'os_ken/lib/packet/bfd.py', 'os_ken/services/protocols/ovsdb/client.py', 'os_ken/lib/packet/packet_utils.py', 'os_ken/tests/integrated/common/docker_base.py', 'os_ken/tests/unit/packet/test_icmp.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/abb436deb33dfadfb208d6a754f1537c7f6e0f2b', 'message': 'Remove ""six"" library\n\nThis patch also removes some unneeded imported libraries.\n\nStory: #2010182\nTask: #45863\nChange-Id: Ife9d349eb9c92f2a39719e76e82fe20c010fe230\n'}]",2,850767,abb436deb33dfadfb208d6a754f1537c7f6e0f2b,12,5,2,16688,,,0,"Remove ""six"" library

This patch also removes some unneeded imported libraries.

Story: #2010182
Task: #45863
Change-Id: Ife9d349eb9c92f2a39719e76e82fe20c010fe230
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/67/850767/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/tests/unit/ofproto/test_parser.py', 'os_ken/tests/unit/packet/test_ethernet.py', 'os_ken/lib/type_desc.py', 'os_ken/lib/stringify.py', 'os_ken/services/protocols/bgp/info_base/vrf.py', 'os_ken/tests/unit/packet/test_icmpv6.py', 'os_ken/tests/unit/ofproto/test_parser_v10.py', 'os_ken/ofproto/ofproto_v1_5_parser.py', 'os_ken/topology/switches.py', 'os_ken/tests/unit/packet/test_zebra.py', 'os_ken/services/protocols/bgp/info_base/vrffs.py', 'os_ken/lib/ofctl_utils.py', 'os_ken/lib/packet/ospf.py', 'os_ken/lib/ofp_pktinfilter.py', 'os_ken/ofproto/ofproto_v1_0_parser.py', 'os_ken/tests/unit/ofproto/test_parser_ofpstats.py', 'os_ken/tests/unit/packet/test_ipv6.py', 'os_ken/services/protocols/bgp/protocol.py', 'os_ken/lib/packet/mpls.py', 'os_ken/lib/mrtlib.py', 'os_ken/services/protocols/vrrp/router.py', 'os_ken/lib/packet/packet_base.py', 'os_ken/services/protocols/bgp/info_base/vpn.py', 'os_ken/utils.py', 'os_ken/services/protocols/bgp/peer.py', 'os_ken/tests/unit/packet/test_vrrp.py', 'os_ken/lib/packet/sctp.py', 'os_ken/lib/packet/zebra.py', 'os_ken/lib/packet/cfm.py', 'os_ken/services/protocols/bgp/base.py', 'os_ken/services/protocols/bgp/rtconf/base.py', 'os_ken/tests/unit/packet/test_dhcp.py', 'os_ken/lib/bfdlib.py', 'os_ken/lib/packet/icmp.py', 'os_ken/ofproto/ofproto_v1_4_parser.py', 'os_ken/tests/unit/ofproto/test_ofproto_parser.py', 'os_ken/lib/packet/vlan.py', 'os_ken/lib/packet/vxlan.py', 'os_ken/lib/snortlib.py', 'os_ken/lib/packet/tcp.py', 'os_ken/lib/packet/bmp.py', 'os_ken/lib/packet/icmpv6.py', 'os_ken/services/protocols/bgp/operator/commands/show/route_formatter_mixin.py', 'os_ken/tests/packet_data_generator3/gen.py', 'os_ken/tests/switch/tester.py', 'os_ken/tests/unit/packet/test_igmp.py', 'os_ken/lib/packet/igmp.py', 'os_ken/tests/unit/ofproto/test_parser_v12.py', 'os_ken/tests/unit/packet/test_sctp.py', 'os_ken/services/protocols/bgp/operator/command.py', 'os_ken/ofproto/oxx_fields.py', 'requirements.txt', 'os_ken/lib/ovs/vsctl.py', 'os_ken/ofproto/ofproto_v1_3_parser.py', 'os_ken/tests/unit/packet/test_tcp.py', 'tools/pip-requires', 'os_ken/tests/unit/packet/test_cfm.py', 'os_ken/tests/unit/packet/test_lldp.py', 'os_ken/ofproto/nx_actions.py', 'os_ken/tests/unit/packet/test_ipv4.py', 'os_ken/services/protocols/bgp/utils/circlist.py', 'os_ken/tests/unit/ofproto/test_parser_v13.py', 'os_ken/ofproto/ofproto_parser.py', 'os_ken/lib/packet/stream_parser.py', 'os_ken/lib/rpc.py', 'os_ken/services/protocols/bgp/operator/views/fields.py', 'os_ken/tests/unit/packet/test_packet.py', 'os_ken/tests/unit/ofproto/test_parser_ofpmatch.py', 'os_ken/ofproto/ofproto_v1_2_parser.py', 'os_ken/tests/unit/ofproto/test_parser_compat.py', 'os_ken/lib/packet/ipv6.py', 'os_ken/lib/packet/bgp.py', 'os_ken/lib/mac.py', 'os_ken/lib/packet/packet.py', 'os_ken/services/protocols/bgp/info_base/base.py', 'os_ken/lib/packet/bfd.py', 'os_ken/services/protocols/ovsdb/client.py', 'os_ken/lib/packet/packet_utils.py', 'os_ken/tests/integrated/common/docker_base.py', 'os_ken/tests/unit/packet/test_icmp.py']",80,2c4d38ef8f9f65c4331d372d68f364545de6377d,story/2010182," _res = icmp.icmp.parser(bytes(self.buf)) res = struct.unpack_from(icmp.icmp._PACK_STR, bytes(buf)) echo = icmp.echo.parser(bytes(buf), icmp.icmp._MIN_LEN) unreach = icmp.dest_unreach.parser(bytes(buf), icmp.icmp._MIN_LEN) te = icmp.TimeExceeded.parser(bytes(buf), icmp.icmp._MIN_LEN) res = struct.unpack(icmp.icmp._PACK_STR, bytes(buf[:4])) res = struct.unpack(icmp.icmp._PACK_STR, bytes(buf[:4])) res = struct.unpack_from('!HH', bytes(buf)) res = struct.unpack(icmp.echo._PACK_STR, bytes(buf)) res = struct.unpack_from('!xBH', bytes(buf)) res = struct.unpack(icmp.dest_unreach._PACK_STR, bytes(buf)) res = struct.unpack_from('!xBxx', bytes(buf)) res = struct.unpack(icmp.TimeExceeded._PACK_STR, bytes(buf))","import six _res = icmp.icmp.parser(six.binary_type(self.buf)) res = struct.unpack_from(icmp.icmp._PACK_STR, six.binary_type(buf)) echo = icmp.echo.parser(six.binary_type(buf), icmp.icmp._MIN_LEN) unreach = icmp.dest_unreach.parser(six.binary_type(buf), icmp.icmp._MIN_LEN) te = icmp.TimeExceeded.parser(six.binary_type(buf), icmp.icmp._MIN_LEN) res = struct.unpack(icmp.icmp._PACK_STR, six.binary_type(buf[:4])) res = struct.unpack(icmp.icmp._PACK_STR, six.binary_type(buf[:4])) res = struct.unpack_from('!HH', six.binary_type(buf)) res = struct.unpack(icmp.echo._PACK_STR, six.binary_type(buf)) res = struct.unpack_from('!xBH', six.binary_type(buf)) res = struct.unpack(icmp.dest_unreach._PACK_STR, six.binary_type(buf)) res = struct.unpack_from('!xBxx', six.binary_type(buf)) res = struct.unpack(icmp.TimeExceeded._PACK_STR, six.binary_type(buf))",655,857
openstack%2Fos-ken~master~I92e9547a26e9bec6c2a9a011c49a70b82dbb373e,openstack/os-ken,master,I92e9547a26e9bec6c2a9a011c49a70b82dbb373e,"Remove ""nose"" library",MERGED,2022-07-21 10:48:04.000000000,2022-07-28 09:42:35.000000000,2022-07-28 09:41:05.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-21 10:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/2190d562e707dbdf10565c71d7333cde245cc3ad', 'message': '[DNM][Testing]  Remove ""nose"" library\n\nMake os-ken compatible with python3.10\n\nChange-Id: I92e9547a26e9bec6c2a9a011c49a70b82dbb373e\n'}, {'number': 2, 'created': '2022-07-21 17:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/1b8bf711e84a9706c6659df66833fbca6c45a741', 'message': '[DNM][Testing]  Remove ""nose"" library\n\nMake os-ken compatible with python3.10\n\nChange-Id: I92e9547a26e9bec6c2a9a011c49a70b82dbb373e\n'}, {'number': 3, 'created': '2022-07-22 07:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/a4558b878e311d791231ff4bf3d529db577cd0e2', 'message': '[DNM][Testing]  Remove ""nose"" library\n\nMake os-ken compatible with python3.10\n\nStory: #2010063\nTaks: #45519\n\nChange-Id: I92e9547a26e9bec6c2a9a011c49a70b82dbb373e\n'}, {'number': 4, 'created': '2022-07-22 07:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/973376c9dd2121d4410bf08c99b09a5acad18151', 'message': '[DNM][Testing]  Remove ""nose"" library\n\nMake os-ken compatible with python3.10\n\nStory: #2010063\nTaks: #45519\n\nChange-Id: I92e9547a26e9bec6c2a9a011c49a70b82dbb373e\n'}, {'number': 5, 'created': '2022-07-22 09:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/070e68114c3356040e2c01400bc46e22c59786ff', 'message': '[DNM][Testing]  Remove ""nose"" library\n\nMake os-ken compatible with python3.10\n\nStory: #2010063\nTaks: #45519\n\nChange-Id: I92e9547a26e9bec6c2a9a011c49a70b82dbb373e\n'}, {'number': 6, 'created': '2022-07-22 11:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/6c3b164c24841591d960e302179b1df236de72e9', 'message': 'Remove ""nose"" library\n\nThe library ""nose"", used for unit testing, is removed. This library\nis in maintenance mode and is not compatible with Python3.10 [1].\n\nNow all checks are implemented using ""unittest"". The methods are not\nloaded in realtime into the test case execution; instead of this, this\npatch uses ""testscenarios.WithScenarios"", that allows to execute the\nsame test with different defined scenarios.\n\n[1]https://nose.readthedocs.io/en/latest/\n\nStory: #2010063\nTaks: #45519\n\nChange-Id: I92e9547a26e9bec6c2a9a011c49a70b82dbb373e\n'}, {'number': 7, 'created': '2022-07-22 14:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/e93f8658d8a13e4df2af90dc67c9f7e63f978435', 'message': 'Remove ""nose"" library\n\nThe library ""nose"", used for unit testing, is removed. This library\nis in maintenance mode and is not compatible with Python3.10 [1].\n\nNow all checks are implemented using ""unittest"". The methods are not\nloaded in realtime into the test case execution; instead of this, this\npatch uses ""testscenarios.WithScenarios"", that allows to execute the\nsame test with different defined scenarios.\n\nNOTE: ""BgpSpeakerTestBase"" tests are disable temporarily. It is needed\nto configure ""docker"" in the system in order to execute them.\n\n[1]https://nose.readthedocs.io/en/latest/\n\nStory: #2010063\nTask: #45519\n\nChange-Id: I92e9547a26e9bec6c2a9a011c49a70b82dbb373e\n'}, {'number': 8, 'created': '2022-07-22 15:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/6b7b70ff5d60ac59619f4731ec134f700d5fda31', 'message': 'Remove ""nose"" library\n\nThe library ""nose"", used for unit testing, is removed. This library\nis in maintenance mode and is not compatible with Python3.10 [1].\n\nNow all checks are implemented using ""unittest"". The methods are not\nloaded in realtime into the test case execution; instead of this, this\npatch uses ""testscenarios.WithScenarios"", that allows to execute the\nsame test with different defined scenarios.\n\nNOTE: ""BgpSpeakerTestBase"" tests are disable temporarily. It is needed\nto configure ""docker"" in the system in order to execute them.\n\n[1]https://nose.readthedocs.io/en/latest/\n\nStory: #2010063\nTask: #45519\n\nChange-Id: I92e9547a26e9bec6c2a9a011c49a70b82dbb373e\n'}, {'number': 9, 'created': '2022-07-26 09:58:52.000000000', 'files': ['os_ken/tests/unit/packet/test_openflow.py', 'os_ken/tests/unit/ofproto/test_parser.py', 'os_ken/tests/unit/packet/test_ethernet.py', 'test-requirements.txt', 'os_ken/tests/unit/packet/test_bgp.py', 'os_ken/tests/unit/packet/test_arp.py', 'os_ken/tests/unit/packet/test_icmpv6.py', 'os_ken/tests/unit/lib/test_sockaddr.py', 'os_ken/tests/run_tests.py', 'os_ken/tests/unit/ofproto/test_parser_v10.py', 'os_ken/tests/unit/services/protocols/bgp/test_bgpspeaker.py', 'os_ken/tests/unit/packet/test_gre.py', 'os_ken/tests/unit/packet/test_zebra.py', 'os_ken/tests/integrated/bgp/base_ip6.py', 'os_ken/tests/integrated/bgp/test_basic.py', 'os_ken/tests/unit/cmd/test_manager.py', 'os_ken/tests/unit/packet/test_ospf.py', 'os_ken/tests/test_lib.py', 'os_ken/tests/unit/ofproto/test_parser_ofpstats.py', 'os_ken/tests/unit/packet/test_slow.py', 'os_ken/tests/unit/sample/test_sample1.py', 'os_ken/tests/unit/packet/test_ipv6.py', 'os_ken/tests/integrated/bgp/test_ip6_basic.py', 'os_ken/tests/unit/packet/test_vxlan.py', 'os_ken/tests/unit/packet/test_llc.py', 'os_ken/tests/unit/packet/test_bmp.py', 'run_tests.sh', 'os_ken/tests/unit/packet/test_vrrp.py', 'os_ken/tests/unit/ofproto/test_ether.py', 'os_ken/tests/unit/packet/test_dhcp.py', 'os_ken/tests/integrated/run_tests_with_ovs12.py', 'os_ken/tests/unit/ofproto/test_inet.py', 'tools/install_venv.py', 'tox.ini', 'os_ken/tests/unit/ofproto/test_ofproto_parser.py', '.gitignore', 'os_ken/tests/unit/sample/test_sample2.py', 'os_ken/tests/unit/packet/test_igmp.py', 'os_ken/tests/unit/ofproto/test_ofproto.py', 'os_ken/tests/unit/ofproto/test_parser_v12.py', 'os_ken/tests/unit/packet/test_sctp.py', 'os_ken/tests/unit/packet/test_geneve.py', 'requirements.txt', 'tools/test-requires', 'os_ken/tests/unit/ofproto/test_ofproto_v12.py', 'os_ken/tests/unit/ofproto/test_ofproto_common.py', 'os_ken/tests/unit/packet/test_tcp.py', 'os_ken/tests/unit/packet/test_cfm.py', 'os_ken/tests/base.py', 'os_ken/tests/unit/packet/test_lldp.py', 'os_ken/tests/unit/test_utils.py', 'os_ken/tests/unit/packet/test_ipv4.py', 'os_ken/tests/unit/ofproto/test_parser_v13.py', 'os_ken/tests/test_os_ken.py', 'os_ken/tests/unit/packet/test_packet.py', 'os_ken/tests/unit/ofproto/test_parser_ofpmatch.py', 'os_ken/tests/unit/ofproto/test_parser_compat.py', 'os_ken/tests/unit/packet/test_pbb.py', 'os_ken/tests/unit/services/protocols/bgp/test_peer.py', 'os_ken/tests/unit/packet/test_bfd.py', 'os_ken/tests/unit/services/protocols/bgp/utils/test_validation.py', 'os_ken/tests/unit/packet/test_mpls.py', 'os_ken/tests/unit/packet/test_bpdu.py', 'os_ken/tests/unit/packet/test_vlan.py', 'os_ken/tests/unit/controller/test_controller.py', 'os_ken/tests/unit/services/protocols/bgp/utils/test_bgp.py', 'os_ken/tests/unit/sample/__init__.py', 'os_ken/tests/integrated/bgp/base.py', 'os_ken/tests/unit/services/protocols/bgp/core_managers/test_table_manager.py', 'os_ken/tests/unit/packet/test_udp.py', 'os_ken/tests/unit/packet/test_icmp.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/2495ebdff927a3de2f642b3346ed4f438b2c6316', 'message': 'Remove ""nose"" library\n\nThe library ""nose"", used for unit testing, is removed. This library\nis in maintenance mode and is not compatible with Python3.10 [1].\n\nNow all checks are implemented using ""unittest"". The methods are not\nloaded in realtime into the test case execution; instead of this, this\npatch uses ""testscenarios.WithScenarios"", that allows to execute the\nsame test with different defined scenarios.\n\nNOTE: ""BgpSpeakerTestBase"" tests are disable temporarily. It is needed\nto configure ""docker"" in the system in order to execute them.\n\n[1]https://nose.readthedocs.io/en/latest/\n\nStory: #2010063\nTask: #45519\n\nChange-Id: I92e9547a26e9bec6c2a9a011c49a70b82dbb373e\n'}]",49,850631,2495ebdff927a3de2f642b3346ed4f438b2c6316,29,4,9,16688,,,0,"Remove ""nose"" library

The library ""nose"", used for unit testing, is removed. This library
is in maintenance mode and is not compatible with Python3.10 [1].

Now all checks are implemented using ""unittest"". The methods are not
loaded in realtime into the test case execution; instead of this, this
patch uses ""testscenarios.WithScenarios"", that allows to execute the
same test with different defined scenarios.

NOTE: ""BgpSpeakerTestBase"" tests are disable temporarily. It is needed
to configure ""docker"" in the system in order to execute them.

[1]https://nose.readthedocs.io/en/latest/

Story: #2010063
Task: #45519

Change-Id: I92e9547a26e9bec6c2a9a011c49a70b82dbb373e
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/31/850631/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/tests/unit/_moved/packet/test_dhcp.py', 'os_ken/tests/unit/_moved/packet/test_bmp.py', 'os_ken/tests/unit/_moved/packet/test_zebra.py', 'os_ken/tests/unit/_moved/ofproto/test_parser.py', 'os_ken/tests/unit/_moved/packet/test_geneve.py', 'os_ken/tests/unit/_moved/packet/test_tcp.py', 'os_ken/tests/unit/_moved/ofproto/test_parser_v13.py', 'os_ken/tests/unit/_moved/ofproto/test_oxs.py', 'os_ken/tests/unit/_moved/packet/test_vxlan.py', 'os_ken/tests/unit/_moved/packet/__init__.py', 'os_ken/tests/unit/_moved/cmd/__init__.py', 'os_ken/tests/unit/_moved/ofproto/test_ofproto.py', 'os_ken/tests/unit/_moved/ofproto/test_parser_v10.py', 'os_ken/tests/unit/_moved/packet/test_ospf.py', 'os_ken/tests/unit/_moved/sample/__init__.py', 'os_ken/tests/unit/_moved/packet/test_udp.py', 'os_ken/tests/unit/_moved/ofproto/test_ofproto_v12.py', 'os_ken/tests/unit/_moved/packet/test_openflow.py', 'os_ken/tests/unit/_moved/packet/test_packet.py', 'os_ken/tests/unit/_moved/packet/test_ethernet.py', 'os_ken/tests/unit/_moved/packet/test_ipv6.py', 'os_ken/tests/unit/_moved/packet/test_slow.py', 'os_ken/tests/unit/_moved/packet/test_bfd.py', 'os_ken/tests/unit/_moved/packet/test_bgp.py', 'tox.ini', 'os_ken/tests/unit/_moved/ofproto/test_nx_flow_spec.py', 'os_ken/tests/unit/_moved/packet/test_vrrp.py', 'os_ken/tests/unit/_moved/ofproto/test_ether.py', 'os_ken/tests/unit/_moved/sample/test_sample2.py', 'os_ken/tests/unit/_moved/ofproto/test_parser_ofpstats.py', 'os_ken/tests/unit/_moved/packet/test_gre.py', 'os_ken/tests/unit/_moved/packet/test_pbb.py', 'os_ken/tests/unit/_moved/cmd/test_manager.py', 'os_ken/tests/unit/_moved/packet/test_icmp.py', 'os_ken/tests/unit/_moved/packet/test_arp.py', 'requirements.txt', 'os_ken/tests/unit/_moved/lib/__init__.py', 'os_ken/tests/unit/_moved/ofproto/test_inet.py', 'os_ken/tests/unit/_moved/ofproto/test_parser_compat.py', 'os_ken/tests/unit/_moved/ofproto/test_oxm.py', 'os_ken/tests/unit/_moved/packet/test_cfm.py', 'os_ken/tests/unit/_moved/packet/test_igmp.py', 'os_ken/tests/unit/_moved/ofproto/test_ofproto_common.py', 'os_ken/tests/unit/_moved/cmd/dummy_app.py', 'os_ken/tests/unit/test_utils.py', 'os_ken/tests/unit/_moved/packet/test_icmpv6.py', 'os_ken/tests/unit/_moved/packet/test_sctp.py', 'os_ken/tests/unit/_moved/packet/test_llc.py', 'os_ken/tests/unit/_moved/packet/test_bpdu.py', 'os_ken/tests/unit/_moved/ofproto/test_parser_v12.py', 'os_ken/tests/unit/_moved/packet/test_vlan.py', 'os_ken/tests/unit/_moved/sample/test_sample1.py', 'os_ken/tests/unit/_moved/packet/test_lldp.py', 'os_ken/tests/unit/controller/test_controller.py', 'os_ken/tests/unit/_moved/lib/test_sockaddr.py', 'os_ken/tests/unit/_moved/cmd/dummy_openflow_app.py', 'os_ken/tests/unit/_moved/ofproto/test_ofproto_parser.py', 'os_ken/tests/unit/_moved/packet/test_ipv4.py', 'os_ken/tests/unit/_moved/ofproto/test_parser_ofpmatch.py', 'os_ken/tests/unit/_moved/packet/test_mpls.py']",60,2190d562e707dbdf10565c71d7333cde245cc3ad,story/2010063,,,66,62
openstack%2Freleases~master~Ia8ee6f92147c06e19cf17fd1fec52f1938a0b7fc,openstack/releases,master,Ia8ee6f92147c06e19cf17fd1fec52f1938a0b7fc,EOL Kolla Train,MERGED,2022-06-29 15:16:31.000000000,2022-07-28 09:40:10.000000000,2022-07-28 09:40:10.000000000,"[{'_account_id': 308}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-29 15:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f79198a0cb50832631aa86427e7e9390fb3c29f5', 'message': 'EOL Kolla Train\n\nChange-Id: Ia8ee6f92147c06e19cf17fd1fec52f1938a0b7fc\n'}, {'number': 2, 'created': '2022-06-30 14:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0bba4baf7d97e577748ff9d9e34c70e10570d9c9', 'message': 'EOL Kolla Train\n\nAdditionally, EOLs Pike to Stein for Kayobe as they were missed due\nto no releases.\n\nChange-Id: Ia8ee6f92147c06e19cf17fd1fec52f1938a0b7fc\n'}, {'number': 3, 'created': '2022-07-01 06:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c19ab3ea2162df219d7a10ddb229688198657e9e', 'message': 'EOL Kolla Train\n\nAdditionally, EOLs Pike to Stein for Kayobe as they were missed due\nto no releases.\n\nChange-Id: Ia8ee6f92147c06e19cf17fd1fec52f1938a0b7fc\n'}, {'number': 4, 'created': '2022-07-01 06:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f6199098da9c047dcd757bba6c38e7be65757eab', 'message': 'EOL Kolla Train\n\nChange-Id: Ia8ee6f92147c06e19cf17fd1fec52f1938a0b7fc\n'}, {'number': 5, 'created': '2022-07-26 18:17:16.000000000', 'files': ['deliverables/train/kolla-ansible.yaml', 'deliverables/train/kayobe.yaml', 'deliverables/train/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cb126412acfa61b9a6dde97cd239d580a0c9a8bd', 'message': 'EOL Kolla Train\n\nChange-Id: Ia8ee6f92147c06e19cf17fd1fec52f1938a0b7fc\n'}]",17,848148,cb126412acfa61b9a6dde97cd239d580a0c9a8bd,32,7,5,30491,,,0,"EOL Kolla Train

Change-Id: Ia8ee6f92147c06e19cf17fd1fec52f1938a0b7fc
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/848148/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/kolla-ansible.yaml', 'deliverables/train/kayobe.yaml', 'deliverables/train/kolla.yaml']",3,f79198a0cb50832631aa86427e7e9390fb3c29f5,eol-kolla-train, - version: train-eol projects: - repo: openstack/kolla hash: d967f400e2761e9022a6b2dedc2d307d32d1ea27,,16,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I49d7d599fb6c158237de2180e2a0ff15a79b4c80,openstack/tripleo-heat-templates,stable/wallaby,I49d7d599fb6c158237de2180e2a0ff15a79b4c80,Fix bindep for EL9 platforms,MERGED,2022-07-15 05:05:59.000000000,2022-07-28 09:05:08.000000000,2022-07-28 09:04:08.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-07-15 05:05:59.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e1bd8af8f354f1759885b6b1eb7eb4f449c8015', 'message': ""Fix bindep for EL9 platforms\n\nCurrently it tries to install libselinux-python and\nlibsemanage-python with bindep but those rpms are\nonly applicable to EL7 platforms.\n\nSince we no longer support python2, let's cleanup\npython2 specific rpms and use rpm names which\nare applicable to all rpm distros.\npython3-libselinux and python3-libsemanage should\nbe installable on EL7, EL8, EL9 and fedora platform.\n\nChange-Id: I49d7d599fb6c158237de2180e2a0ff15a79b4c80\n(cherry picked from commit 1742a8675937e8c52bb640ceca34ab6eb5b69cad)\n""}]",0,849820,0e1bd8af8f354f1759885b6b1eb7eb4f449c8015,8,5,1,13861,,,0,"Fix bindep for EL9 platforms

Currently it tries to install libselinux-python and
libsemanage-python with bindep but those rpms are
only applicable to EL7 platforms.

Since we no longer support python2, let's cleanup
python2 specific rpms and use rpm names which
are applicable to all rpm distros.
python3-libselinux and python3-libsemanage should
be installable on EL7, EL8, EL9 and fedora platform.

Change-Id: I49d7d599fb6c158237de2180e2a0ff15a79b4c80
(cherry picked from commit 1742a8675937e8c52bb640ceca34ab6eb5b69cad)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/849820/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,0e1bd8af8f354f1759885b6b1eb7eb4f449c8015,fix-bindep-stable/wallaby,python3-libselinux [platform:rpm] python3-libsemanage [platform:rpm],libselinux-python [platform:rpm !platform:rhel-8 !platform:centos-8 !platform:fedora] libsemanage-python [platform:redhat !platform:rhel-8 !platform:centos-8 !platform:fedora] libselinux-python3 [platform:rpm !platform:rhel-7 !platform:centos-7 !platform:fedora] libsemanage-python3 [platform:redhat !platform:rhel-7 !platform:centos-7 !platform:fedora] python3-libselinux [platform:rpm platform:fedora] python3-libsemanage [platform:rpm platform:fedora],2,7
openstack%2Ftempest~master~Ib741ff9a62250107ba2f9d1472dc0ae4222320bb,openstack/tempest,master,Ib741ff9a62250107ba2f9d1472dc0ae4222320bb,Remove random IP selection to prevent conflicts with Contrail,ABANDONED,2018-11-01 20:27:25.000000000,2022-07-28 08:50:17.000000000,,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 12033}, {'_account_id': 16274}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-11-01 20:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4a07c1ca0e53dbe3a72716a2f5dca44d0f29257e', 'message': 'Narrow random IP selection to skip IPs taken by Contrail\n\nSince some tests use random to select IP address from the pool,\nit makes test results unreliable. In relatively small percent\nof runs, the test will fail for Contrail SDN because it will try\nto use IP already taken by SDN for internal needs.\n\nChange-Id: Ib741ff9a62250107ba2f9d1472dc0ae4222320bb\nCloses-Bug: 1801159\n'}, {'number': 2, 'created': '2018-11-02 22:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/96ff0122009e25f1719a5b81bf82f05b45e666ef', 'message': 'Narrow random IP selection to skip IPs taken by Contrail\n\nSince some tests use random to select IP address from the pool,\nit makes test results unreliable. In relatively small percent\nof runs, the test will fail for Contrail SDN because it will try\nto use IP already taken by SDN for internal needs.\n\nChange-Id: Ib741ff9a62250107ba2f9d1472dc0ae4222320bb\nCloses-Bug: 1801159\n'}, {'number': 3, 'created': '2018-11-03 19:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/52ce6df350b9cfe22d7419a80b744da0bb5e2000', 'message': 'Narrow random IP selection to skip IPs taken by Contrail\n\nSince some tests use random to select IP address from the pool,\nit makes test results unreliable. In relatively small percent\nof runs, the test will fail for Contrail SDN because it will try\nto use IP already taken by SDN for internal needs.\n\nChange-Id: Ib741ff9a62250107ba2f9d1472dc0ae4222320bb\nCloses-Bug: 1801159\n'}, {'number': 4, 'created': '2018-11-05 17:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/480ab375a1b553561707aa776eb1815bc00842f2', 'message': 'Remove random IP selection to prevent conlicts with Contrail\n\nSince some tests use random to select IP address from the pool,\nit makes test results unreliable. In relatively small percent\nof runs, the test will fail for Contrail SDN because it will try\nto use IP already taken by SDN for internal needs.\n\nChange-Id: Ib741ff9a62250107ba2f9d1472dc0ae4222320bb\nCloses-Bug: 1801159\n'}, {'number': 5, 'created': '2018-11-28 16:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d989108eeb33350b2ae43e2fb3daaac591c495a4', 'message': 'Remove random IP selection to prevent conflicts with Contrail\n\nSince some tests use random to select IP address from the pool,\nit makes test results unreliable. In relatively small percent\nof runs, the test will fail for Contrail SDN because it will try\nto use IP already taken by SDN for internal needs.\n\nChange-Id: Ib741ff9a62250107ba2f9d1472dc0ae4222320bb\nCloses-Bug: 1801159\n'}, {'number': 6, 'created': '2018-11-28 16:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ed04d96f272ee311d6bf2670960eb60a7f607186', 'message': 'Remove random IP selection to prevent conflicts with Contrail\n\nSince some tests use random to select IP address from the pool,\nit makes test results unreliable. In relatively small percent\nof runs, the test will fail for Contrail SDN because it will try\nto use IP already taken by SDN for internal needs.\n\nChange-Id: Ib741ff9a62250107ba2f9d1472dc0ae4222320bb\nCloses-Bug: 1801159\n'}, {'number': 7, 'created': '2019-12-18 20:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a07bf3e7b0d65aebb68d2259e72c8823baeeba35', 'message': 'Remove random IP selection to prevent conflicts with Contrail\n\nSince some tests use random to select IP address from the pool,\nit makes test results unreliable. In relatively small percent\nof runs, the test will fail for Contrail SDN because it will try\nto use IP already taken by SDN for internal needs.\n\nChange-Id: Ib741ff9a62250107ba2f9d1472dc0ae4222320bb\nCloses-Bug: 1801159\n'}, {'number': 8, 'created': '2019-12-18 20:31:09.000000000', 'files': ['tempest/api/network/test_dhcp_ipv6.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/74ac2f21c983e9a0362bbf07fd8022e307f63e98', 'message': 'Remove random IP selection to prevent conflicts with Contrail\n\nSince some tests use random to select IP address from the pool,\nit makes test results unreliable. In relatively small percent\nof runs, the test will fail for Contrail SDN because it will try\nto use IP already taken by SDN for internal needs.\n\nChange-Id: Ib741ff9a62250107ba2f9d1472dc0ae4222320bb\nCloses-Bug: 1801159\n'}]",16,614866,74ac2f21c983e9a0362bbf07fd8022e307f63e98,45,11,8,16274,,,0,"Remove random IP selection to prevent conflicts with Contrail

Since some tests use random to select IP address from the pool,
it makes test results unreliable. In relatively small percent
of runs, the test will fail for Contrail SDN because it will try
to use IP already taken by SDN for internal needs.

Change-Id: Ib741ff9a62250107ba2f9d1472dc0ae4222320bb
Closes-Bug: 1801159
",git fetch https://review.opendev.org/openstack/tempest refs/changes/66/614866/8 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_dhcp_ipv6.py'],1,4a07c1ca0e53dbe3a72716a2f5dca44d0f29257e,bug/1801159," ip = netaddr.IPAddress(random.randrange(ip_range.first + 2, ip_range.first + 2, ip_range.last)).format()"," ip = netaddr.IPAddress(random.randrange(ip_range.first, ip_range.first, ip_range.last)).format()",2,2
openstack%2Ftempest~master~I87502a664b761664307afed93c4b191a940ffd63,openstack/tempest,master,I87502a664b761664307afed93c4b191a940ffd63,Checking config file actually exist or not in account generator,ABANDONED,2018-11-29 14:04:52.000000000,2022-07-28 08:47:57.000000000,,"[{'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 8911}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-11-29 14:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/76b8f155a25b6971823befdb11cd416d0960e4f0', 'message': 'Trivial Fix: Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator.\nIf file exists, only then it will go for set config path\notherwise will use default config location.\nAlso adding positive and negative unit test cases for same.\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 2, 'created': '2018-11-30 07:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ede9cd8dc212149de1ee33de8284fa85accc75c9', 'message': 'Trivial Fix: Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator.\nIf file exists, only then it will go for set config path\notherwise will use default config location.\nAlso adding positive and negative unit test cases for same.\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 3, 'created': '2018-11-30 10:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a2de59b0d338d1e574e93865a4fdbaca0cafd105', 'message': 'Trivial Fix: Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator.\nIf file exists, only then it will go for set config path\notherwise will use default config location.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 4, 'created': '2018-11-30 10:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7da9af6f84794b3b02926619698b4f186ef0ad12', 'message': 'Trivial Fix: Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator.\nIf file exists, only then it will go for set config path\notherwise will use default config location.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 5, 'created': '2018-11-30 11:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1125941f81cfb0337448a0313b4b39de2c1b8cd6', 'message': 'Trivial Fix: Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator.\nIf file exists, only then it will go for set config path\notherwise will use default config location.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 6, 'created': '2018-11-30 13:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20b46d97c37dda2c392c4d976d497d62a5dad3d4', 'message': 'Trivial Fix: Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator.\nIf file exists, only then it will go for set config path\notherwise will use default config location.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 7, 'created': '2018-12-06 05:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7025b65e2167c97f9b03f36a6cbc3c6eb881f795', 'message': 'Trivial Fix: Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator.\nIf file exists, only then it will go for set config path\notherwise will log the error.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 8, 'created': '2018-12-07 09:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1bf0ff59626065dae5edaf3661e4970d93ac98a0', 'message': 'Trivial Fix: Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator.\nIf file exists, only then it will go for set config path\notherwise will fail with error.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 9, 'created': '2018-12-11 12:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/33e5bba5eac1072d895fe1114accfe551b09e84c', 'message': 'Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator command.\nIf file exists, only then it will go for set config path\notherwise will fail with value error.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nCloses-Bug: #1807859\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 10, 'created': '2018-12-11 12:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/958257841a95cbe61994613012a1064d5df186ca', 'message': 'Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator command.\nIf file exists, only then it will go for set config path\notherwise will fail with value error.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nCloses-Bug: #1807859\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 11, 'created': '2018-12-12 05:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8616e057b37d2fbc898fd7513c3469b387cf9a16', 'message': 'Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator command.\nIf file exists, only then it will go for set config path\notherwise will fail with value error.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nCloses-Bug: #1807859\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 12, 'created': '2018-12-12 09:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a7dc2a21360d2976736bb742216402c3b7b61c05', 'message': 'Checking config file actually exist or not\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator command.\nIf file exists, only then it will go for set config path\notherwise will fail with value error.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nCloses-Bug: #1807859\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 13, 'created': '2018-12-14 11:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/61cf3c665fbf782b2ee1db456eac6d655376e493', 'message': 'Checking config file actually exist or not in account generator\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator command.\nIf file exists, only then it will go for set config path\notherwise will fail with value error.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nCloses-Bug: #1807859\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}, {'number': 14, 'created': '2019-10-01 02:37:42.000000000', 'files': ['tempest/tests/cmd/test_account_generator.py', 'tempest/cmd/account_generator.py', 'releasenotes/notes/bug-1807859-811f17fd3103bb2b.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e452a3a3db9b17defdf67bb5be3af9baa7d0f464', 'message': 'Checking config file actually exist or not in account generator\n\nThis PS will check config file passed from command line\nis actually existing or not in account generator command.\nIf file exists, only then it will go for set config path\notherwise will fail with value error.\nAlso adding positive and negative unit test cases for same.\n\nPartially-Implements: blueprint tempest-cli-unit-test-coverage\n\nCloses-Bug: #1807859\n\nChange-Id: I87502a664b761664307afed93c4b191a940ffd63\n'}]",10,620920,e452a3a3db9b17defdf67bb5be3af9baa7d0f464,62,9,14,27078,,,0,"Checking config file actually exist or not in account generator

This PS will check config file passed from command line
is actually existing or not in account generator command.
If file exists, only then it will go for set config path
otherwise will fail with value error.
Also adding positive and negative unit test cases for same.

Partially-Implements: blueprint tempest-cli-unit-test-coverage

Closes-Bug: #1807859

Change-Id: I87502a664b761664307afed93c4b191a940ffd63
",git fetch https://review.opendev.org/openstack/tempest refs/changes/20/620920/11 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/cmd/test_account_generator.py', 'tempest/cmd/account_generator.py']",2,76b8f155a25b6971823befdb11cd416d0960e4f0,608878, if os.path.exists(opts.config_file):, if opts.config_file:,9,8
openstack%2Fkeystonemiddleware~master~Ia8b0d130ba376f396cc6501c26c5d7f3088e5661,openstack/keystonemiddleware,master,Ia8b0d130ba376f396cc6501c26c5d7f3088e5661,fix unkonown uuid,NEW,2022-07-28 07:05:57.000000000,2022-07-28 08:44:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-28 07:05:57.000000000', 'files': ['keystonemiddleware/audit/_api.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/c5109e2732535ec54e3de43fc4de808e1cbd389d', 'message': 'fix unkonown uuid\n\nThis change fix bug:\nhttps://bugs.launchpad.net/keystone/+bug/1982988\n\nThe param of uuid is initailize with zero instead of unknown.\n\nClose-Bug: #1982988\nChange-Id: Ia8b0d130ba376f396cc6501c26c5d7f3088e5661\n'}]",2,851319,c5109e2732535ec54e3de43fc4de808e1cbd389d,2,1,1,30736,,,0,"fix unkonown uuid

This change fix bug:
https://bugs.launchpad.net/keystone/+bug/1982988

The param of uuid is initailize with zero instead of unknown.

Close-Bug: #1982988
Change-Id: Ia8b0d130ba376f396cc6501c26c5d7f3088e5661
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/19/851319/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/audit/_api.py'],1,c5109e2732535ec54e3de43fc4de808e1cbd389d,bug/1982988," id='00000000-0000-0000-0000-00000000000', admin_endp=None, private_endp=None, public_endp=None)"," id=taxonomy.UNKNOWN, admin_endp=None, private_endp=None, public_endp=None)",3,2
openstack%2Fopenstack-ansible-lxc_hosts~master~I7fde6affd9ecb30d057e9fc984934984274e5f55,openstack/openstack-ansible-lxc_hosts,master,I7fde6affd9ecb30d057e9fc984934984274e5f55,Generalze the LXC cache string replacements,ABANDONED,2017-09-13 16:33:01.000000000,2022-07-28 08:43:04.000000000,,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-13 16:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3f36c0085febb4bfea25d44f03a6592f2efe6237', 'message': 'Generalze the LXC cache string replacements\n\nInstead of binning the lineinfile task to modify SSH configurations\nonly, we can just generalize it to allow more flexibility.\n\nChange-Id: I7fde6affd9ecb30d057e9fc984934984274e5f55\n'}, {'number': 2, 'created': '2017-09-13 18:05:17.000000000', 'files': ['tasks/lxc_cache_preparation.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b113317df25cd8a55be41db3df4612a8722c59f9', 'message': 'Generalze the LXC cache string replacements\n\nInstead of binning the lineinfile task to modify SSH configurations\nonly, we can just generalize it to allow more flexibility.\n\nChange-Id: I7fde6affd9ecb30d057e9fc984934984274e5f55\n'}]",3,503740,b113317df25cd8a55be41db3df4612a8722c59f9,12,5,2,17799,,,0,"Generalze the LXC cache string replacements

Instead of binning the lineinfile task to modify SSH configurations
only, we can just generalize it to allow more flexibility.

Change-Id: I7fde6affd9ecb30d057e9fc984934984274e5f55
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/40/503740/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_cache_preparation.yml', 'defaults/main.yml']",2,3f36c0085febb4bfea25d44f03a6592f2efe6237,abstract-string-replacements,"lxc_cache_string_replacements: ""{{ lxc_cache_string_replacements_ssh }}"" lxc_cache_string_replacements_ssh: - file: ""{{ lxc_image_cache_path }}/etc/ssh/sshd_config"" regexp: ""^PermitRootLogin"" line: ""PermitRootLogin yes"" - file: ""{{ lxc_image_cache_path }}/etc/ssh/sshd_config"" regexp: ""^TCPKeepAlive"" line: ""TCPKeepAlive yes"" - file: ""{{ lxc_image_cache_path }}/etc/ssh/sshd_config"" regexp: ""^UseDNS"" line: ""UseDNS no"" - file: ""{{ lxc_image_cache_path }}/etc/ssh/sshd_config"" regexp: ""^X11Forwarding"" line: ""X11Forwarding no"" - file: ""{{ lxc_image_cache_path }}/etc/ssh/sshd_config"" regexp: ""^PasswordAuthentication"" line: ""PasswordAuthentication no""","lxc_cache_sshd_configuration: - { regexp: ""^PermitRootLogin"", line: ""PermitRootLogin yes"" } - { regexp: ""^TCPKeepAlive"", line: ""TCPKeepAlive yes"" } - { regexp: ""^UseDNS"", line: ""UseDNS no"" } - { regexp: ""^X11Forwarding"", line: ""X11Forwarding no"" } - { regexp: ""^PasswordAuthentication"", line: ""PasswordAuthentication no"" }",21,10
openstack%2Fopenstack-ansible-lxc_hosts~master~I57d2ba2a1ae16875c8204590137c0394a251c67b,openstack/openstack-ansible-lxc_hosts,master,I57d2ba2a1ae16875c8204590137c0394a251c67b,Remove SSH server from container base template,ABANDONED,2017-09-12 14:59:05.000000000,2022-07-28 08:41:57.000000000,,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-12 14:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/90596f60c1538d11c8d2eb612c068b8f13c0ce2e', 'message': 'Remove SSH server from container base template\n\nChange-Id: I57d2ba2a1ae16875c8204590137c0394a251c67b\n'}, {'number': 2, 'created': '2017-09-13 16:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/feba178d52112f9b0c2daf9f01b54dc6ab6743a5', 'message': 'Remove SSH server from container base template\n\nChange-Id: I57d2ba2a1ae16875c8204590137c0394a251c67b\n'}, {'number': 3, 'created': '2018-03-11 01:56:50.000000000', 'files': ['vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'tasks/lxc_cache_preparation.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/79132b21144d9840eda7b1c03a75077870cb49f0', 'message': 'Remove SSH server from container base template\n\nChange-Id: I57d2ba2a1ae16875c8204590137c0394a251c67b\n'}]",2,503026,79132b21144d9840eda7b1c03a75077870cb49f0,19,5,3,17799,,,0,"Remove SSH server from container base template

Change-Id: I57d2ba2a1ae16875c8204590137c0394a251c67b
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/26/503026/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml']",3,90596f60c1538d11c8d2eb612c068b8f13c0ce2e,remove-container-ssh,, - openssh-server,0,3
openstack%2Fopenstacksdk~master~Ia1fd35559a24ce9d2ae79abe54f3a620752466a4,openstack/openstacksdk,master,Ia1fd35559a24ce9d2ae79abe54f3a620752466a4,Restore functionality to attach multiple floating ips with add_ip_list(),MERGED,2022-07-27 13:04:42.000000000,2022-07-28 08:15:45.000000000,2022-07-28 08:14:09.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-07-27 13:04:42.000000000', 'files': ['openstack/cloud/_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/91459d65a2db2c3ed81df5a270386f017d01a4c2', 'message': 'Restore functionality to attach multiple floating ips with add_ip_list()\n\nSeven years ago, OpenStack did not support attaching multiple floating\nips to a server, which is why commit 0085effd40 [1] dropped this\nfunctionality from add_ip_list().\n\nThis patch restores the previous behaviour, because OpenStack Neutron\nsupports attaching multiple floating ips to a server for a while.\n\n[1] https://opendev.org/openstack/openstacksdk/commit/0085effd4024fc8f48f7aa4e41853bcbb1675b4a\n\nChange-Id: Ia1fd35559a24ce9d2ae79abe54f3a620752466a4\n'}]",0,851221,91459d65a2db2c3ed81df5a270386f017d01a4c2,7,3,1,32962,,,0,"Restore functionality to attach multiple floating ips with add_ip_list()

Seven years ago, OpenStack did not support attaching multiple floating
ips to a server, which is why commit 0085effd40 [1] dropped this
functionality from add_ip_list().

This patch restores the previous behaviour, because OpenStack Neutron
supports attaching multiple floating ips to a server for a while.

[1] https://opendev.org/openstack/openstacksdk/commit/0085effd4024fc8f48f7aa4e41853bcbb1675b4a

Change-Id: Ia1fd35559a24ce9d2ae79abe54f3a620752466a4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/21/851221/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_floating_ip.py'],1,91459d65a2db2c3ed81df5a270386f017d01a4c2,add_ip_list," if type(ips) != list: ips = [ips] for ip in ips: f_ip = self.get_floating_ip( id=None, filters={'floating_ip_address': ip}) server = self._attach_ip_to_server( server=server, floating_ip=f_ip, wait=wait, timeout=timeout, fixed_address=fixed_address) return server"," if type(ips) == list: ip = ips[0] else: ip = ips f_ip = self.get_floating_ip( id=None, filters={'floating_ip_address': ip}) return self._attach_ip_to_server( server=server, floating_ip=f_ip, wait=wait, timeout=timeout, fixed_address=fixed_address)",11,9
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I5453154e48edbf8163c3a671fcfd4c416f5723c2,openstack/tripleo-heat-templates,stable/wallaby,I5453154e48edbf8163c3a671fcfd4c416f5723c2,Include octavia::driver_agent via puppet-tripleo,MERGED,2022-06-23 04:29:30.000000000,2022-07-28 08:11:03.000000000,2022-07-28 08:11:03.000000000,"[{'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23567}, {'_account_id': 28223}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-06-23 04:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd67e642806886c11192c9a9a54c54350c9b631d', 'message': 'Include octavia::driver_agent via puppet-tripleo\n\nDepends-on: https://review.opendev.org/798407\nChange-Id: I5453154e48edbf8163c3a671fcfd4c416f5723c2\n(cherry picked from commit 1896b10e21dda7f9f0eaa8d0c9c8fa933d2a4b42)\n'}, {'number': 2, 'created': '2022-06-23 04:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5f47a8c6831b981879067b270a8b433c17ffa89', 'message': 'Include octavia::driver_agent via puppet-tripleo\n\nDepends-on: https://review.opendev.org/847237\nChange-Id: I5453154e48edbf8163c3a671fcfd4c416f5723c2\n(cherry picked from commit 1896b10e21dda7f9f0eaa8d0c9c8fa933d2a4b42)\n'}, {'number': 3, 'created': '2022-07-01 00:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1209677050b3bdb67a70fd1d75622d8416163e6', 'message': 'Include octavia::driver_agent via puppet-tripleo\n\nConflicts:\n\tdeployment/octavia/octavia-api-container-puppet.yaml\n\nDepends-on: https://review.opendev.org/847237\nChange-Id: I5453154e48edbf8163c3a671fcfd4c416f5723c2\n(cherry picked from commit 1896b10e21dda7f9f0eaa8d0c9c8fa933d2a4b42)\n'}, {'number': 4, 'created': '2022-07-18 08:52:25.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ecb2533fc39cf35ca56b0786a98c01c8d899298d', 'message': 'Include octavia::driver_agent via puppet-tripleo\n\nConflicts:\n\tdeployment/octavia/octavia-api-container-puppet.yaml\n\nDepends-on: https://review.opendev.org/847237\nChange-Id: I5453154e48edbf8163c3a671fcfd4c416f5723c2\n(cherry picked from commit 1896b10e21dda7f9f0eaa8d0c9c8fa933d2a4b42)\n'}]",8,847169,ecb2533fc39cf35ca56b0786a98c01c8d899298d,45,6,4,9816,,,0,"Include octavia::driver_agent via puppet-tripleo

Conflicts:
	deployment/octavia/octavia-api-container-puppet.yaml

Depends-on: https://review.opendev.org/847237
Change-Id: I5453154e48edbf8163c3a671fcfd4c416f5723c2
(cherry picked from commit 1896b10e21dda7f9f0eaa8d0c9c8fa933d2a4b42)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/847169/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,dd67e642806886c11192c9a9a54c54350c9b631d,octavia-driver-agent-puppet, tripleo::profile::base::octavia::enable_driver_agent: {get_param: OctaviaEnableDriverAgent} octavia::api::provider_drivers:," - octavia::api::provider_drivers: - if: - {get_param: OctaviaEnableDriverAgent} - ""include octavia::driver_agent""",2,4
openstack%2Faodh~master~Ie6fd977005b212b9fae66b96c6fa4f228e33aff2,openstack/aodh,master,Ie6fd977005b212b9fae66b96c6fa4f228e33aff2,Imported Translations from Zanata,MERGED,2022-07-28 03:20:24.000000000,2022-07-28 06:47:40.000000000,2022-07-28 06:46:33.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 03:20:24.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/aodh/commit/c677bbd6833fb64f3f6211af085fbc9b7e668582', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie6fd977005b212b9fae66b96c6fa4f228e33aff2\n'}]",0,851284,c677bbd6833fb64f3f6211af085fbc9b7e668582,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie6fd977005b212b9fae66b96c6fa4f228e33aff2
",git fetch https://review.opendev.org/openstack/aodh refs/changes/84/851284/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,c677bbd6833fb64f3f6211af085fbc9b7e668582,zanata/translations,"""POT-Creation-Date: 2022-06-27 07:35+0000\n""""PO-Revision-Date: 2022-07-19 09:53+0000\n""msgid ""14.0.0-18"" msgstr ""14.0.0-18""msgid ""The ``[coordination] check_watchers`` parameter has been removed."" msgstr ""The ``[coordination] check_watchers`` parameter has been removed."" ","""POT-Creation-Date: 2022-06-23 06:49+0000\n""""PO-Revision-Date: 2022-06-25 03:43+0000\n""msgid ""14.0.0-16"" msgstr ""14.0.0-16""",7,4
openstack%2Fceilometermiddleware~master~I248fa08a60a548908d6890e61f578b7b7f9aefa6,openstack/ceilometermiddleware,master,I248fa08a60a548908d6890e61f578b7b7f9aefa6,remove unicode from code,MERGED,2022-07-28 02:19:44.000000000,2022-07-28 06:43:53.000000000,2022-07-28 06:42:52.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 02:19:44.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/5c01e19b3846c1a0308d68d428c0cee440172dae', 'message': 'remove unicode from code\n\nChange-Id: I248fa08a60a548908d6890e61f578b7b7f9aefa6\n'}]",0,851303,5c01e19b3846c1a0308d68d428c0cee440172dae,7,2,1,35058,,,0,"remove unicode from code

Change-Id: I248fa08a60a548908d6890e61f578b7b7f9aefa6
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/03/851303/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,5c01e19b3846c1a0308d68d428c0cee440172dae,,"project = 'ceilometermiddleware' copyright = '2013, OpenStack Foundation' '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'ceilometermiddleware' copyright = u'2013, OpenStack Foundation' u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Ftelemetry-specs~master~I2a43492684edb7d6aa7877c02ba29a91c3b8a691,openstack/telemetry-specs,master,I2a43492684edb7d6aa7877c02ba29a91c3b8a691,remove unicode from code,MERGED,2022-07-27 09:40:24.000000000,2022-07-28 06:35:26.000000000,2022-07-28 06:34:26.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 09:40:24.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/c0b4932eb2ea9fd09cd4e7c7b4434c3a80d11e04', 'message': 'remove unicode from code\n\nChange-Id: I2a43492684edb7d6aa7877c02ba29a91c3b8a691\n'}]",0,851179,c0b4932eb2ea9fd09cd4e7c7b4434c3a80d11e04,7,2,1,35058,,,0,"remove unicode from code

Change-Id: I2a43492684edb7d6aa7877c02ba29a91c3b8a691
",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/79/851179/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,c0b4932eb2ea9fd09cd4e7c7b4434c3a80d11e04,,"project = 'telemetry-specs' copyright = '%s, OpenStack Foundation' % datetime.date.today().year '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'telemetry-specs' copyright = u'%s, OpenStack Foundation' % datetime.date.today().year u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Fskyline-console~master~I01d8415d5fd8ae8002f903b88abed47fc27ded58,openstack/skyline-console,master,I01d8415d5fd8ae8002f903b88abed47fc27ded58,fea: update e2e smoke,ABANDONED,2022-07-15 01:56:08.000000000,2022-07-28 06:32:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 26304}, {'_account_id': 30356}, {'_account_id': 30434}, {'_account_id': 33493}, {'_account_id': 33689}, {'_account_id': 34458}, {'_account_id': 35102}, {'_account_id': 35103}]","[{'number': 1, 'created': '2022-07-15 01:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c570f7f957c1ea968a40d7e35f436e9189d124f7', 'message': 'fea: update e2e smoke\n\n1. Update test:e2e-smkoe in package.json to support smoke test.\n\nChange-Id: I01d8415d5fd8ae8002f903b88abed47fc27ded58\n'}, {'number': 2, 'created': '2022-07-28 02:19:18.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c04f73d36c75726ca54779b64655e399a5a144e0', 'message': 'fea: update e2e smoke\n\n1. Update test:e2e-smkoe in package.json to support smoke test.\n\nChange-Id: I01d8415d5fd8ae8002f903b88abed47fc27ded58\n'}]",0,849907,c04f73d36c75726ca54779b64655e399a5a144e0,15,9,2,33898,,,0,"fea: update e2e smoke

1. Update test:e2e-smkoe in package.json to support smoke test.

Change-Id: I01d8415d5fd8ae8002f903b88abed47fc27ded58
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/07/849907/2 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,c570f7f957c1ea968a40d7e35f436e9189d124f7,," ""test:e2e-smoke"": ""npm run report:pre && cypress run --env grepTags=smoke || true && npm run report:generate"",",,1,0
openstack%2Fcinder~master~I29e1fe41cfca383e96b03049850fdf5c65541394,openstack/cinder,master,I29e1fe41cfca383e96b03049850fdf5c65541394,"[DNM] just for test, trigger CI.",NEW,2020-07-16 00:43:02.000000000,2022-07-28 06:32:04.000000000,,"[{'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-16 00:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82692859c84b45cb4f98158dcbe8583f3b04a923', 'message': '[DNM] just for test, trigger CI.\n\nChange-Id: I29e1fe41cfca383e96b03049850fdf5c65541394\n'}, {'number': 2, 'created': '2020-08-10 05:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9796540d960b0198dca28a4e053df3b740cee2c3', 'message': '[DNM] just for test, trigger CI.\n\nChange-Id: I29e1fe41cfca383e96b03049850fdf5c65541394\n'}, {'number': 3, 'created': '2020-08-18 08:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f38a778194c02a3275844248054fcf31268e60c4', 'message': '[DNM] just for test, trigger CI.\n\nChange-Id: I29e1fe41cfca383e96b03049850fdf5c65541394\n'}, {'number': 4, 'created': '2020-12-04 07:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2d2268df540cf817e55cf05e49ce36b9f05d6b7e', 'message': '[DNM] just for test, trigger CI.\n\nChange-Id: I29e1fe41cfca383e96b03049850fdf5c65541394\n'}, {'number': 5, 'created': '2021-06-15 06:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6fb5265878180b0d4cea3addbbb049185f92d5f2', 'message': '[DNM] just for test, trigger CI.\n\nChange-Id: I29e1fe41cfca383e96b03049850fdf5c65541394\n'}, {'number': 6, 'created': '2021-10-29 07:09:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2c9288c91381fa2cda1b40af798de074f50fa26', 'message': '[DNM] just for test, trigger CI.\n\nChange-Id: I29e1fe41cfca383e96b03049850fdf5c65541394\n'}]",26,741349,b2c9288c91381fa2cda1b40af798de074f50fa26,247,27,6,32071,,,0,"[DNM] just for test, trigger CI.

Change-Id: I29e1fe41cfca383e96b03049850fdf5c65541394
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/741349/6 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,82692859c84b45cb4f98158dcbe8583f3b04a923,,,,1,0
openstack%2Fhorizon~master~I76fa316b528f058c6ba06f242ebe152e74772b98,openstack/horizon,master,I76fa316b528f058c6ba06f242ebe152e74772b98,Imported Translations from Zanata,MERGED,2022-07-28 04:18:30.000000000,2022-07-28 06:26:48.000000000,2022-07-28 06:25:31.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-07-28 04:18:30.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a2b6e6c9bdce7323fd7876a1d22e14f8c1d42bab', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I76fa316b528f058c6ba06f242ebe152e74772b98\n'}]",0,851333,a2b6e6c9bdce7323fd7876a1d22e14f8c1d42bab,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I76fa316b528f058c6ba06f242ebe152e74772b98
",git fetch https://review.opendev.org/openstack/horizon refs/changes/33/851333/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,a2b6e6c9bdce7323fd7876a1d22e14f8c1d42bab,zanata/translations,"""POT-Creation-Date: 2022-07-06 19:27+0000\n""""PO-Revision-Date: 2022-07-24 12:12+0000\n""msgid ""19.3.0"" msgstr ""19.3.0""msgid ""22.2.0"" msgstr ""22.2.0"" ","""POT-Creation-Date: 2022-06-21 10:43+0000\n""""PO-Revision-Date: 2022-06-25 03:51+0000\n""msgid ""19.2.0-15"" msgstr ""19.2.0-15""msgid ""22.0.0-22"" msgstr ""22.0.0-22"" ",7,7
openstack%2Ftrove~master~I8f157005409fae76c19caadf15c9dd291bd971b4,openstack/trove,master,I8f157005409fae76c19caadf15c9dd291bd971b4,Ignore vscode files in git,MERGED,2022-07-11 14:06:32.000000000,2022-07-28 03:47:25.000000000,2022-07-28 03:46:18.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}]","[{'number': 1, 'created': '2022-07-11 14:06:32.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/trove/commit/aa2425bf06c94d57bbfe2eb0dff33416b8614fdd', 'message': 'Ignore vscode files in git\n\nTrivial Fix\n\nChange-Id: I8f157005409fae76c19caadf15c9dd291bd971b4\n'}]",0,849408,aa2425bf06c94d57bbfe2eb0dff33416b8614fdd,7,3,1,26285,,,0,"Ignore vscode files in git

Trivial Fix

Change-Id: I8f157005409fae76c19caadf15c9dd291bd971b4
",git fetch https://review.opendev.org/openstack/trove refs/changes/08/849408/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,aa2425bf06c94d57bbfe2eb0dff33416b8614fdd,ignore-vscode,# Files generated by Visual Studio Code .vscode/ ,,3,0
openstack%2Ftrove~stable%2Fxena~I7333a75e8855501f8a89547b93e65157f9f8afb6,openstack/trove,stable/xena,I7333a75e8855501f8a89547b93e65157f9f8afb6,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2022-07-19 14:21:35.000000000,2022-07-28 03:47:18.000000000,2022-07-28 03:46:12.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}]","[{'number': 1, 'created': '2022-07-19 14:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/37df560c2ba6c6ce0f775aec519e065833621125', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/yoga\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nStory: #2010137\nTask: #45767\nChange-Id: I7333a75e8855501f8a89547b93e65157f9f8afb6\n'}, {'number': 2, 'created': '2022-07-19 14:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/eed7019ce1bf34dba30626ed1225c3275a063d75', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/yoga\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nStory: #2010137\nTask: #45767\nChange-Id: I7333a75e8855501f8a89547b93e65157f9f8afb6\n'}, {'number': 3, 'created': '2022-07-19 14:24:54.000000000', 'files': ['integration/scripts/files/elements/guest-agent/source-repository-guest-agent'], 'web_link': 'https://opendev.org/openstack/trove/commit/425f065d8896a7aff0ab82316bf4865cece9205c', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nStory: #2010137\nTask: #45767\nChange-Id: I7333a75e8855501f8a89547b93e65157f9f8afb6\n'}]",0,850370,425f065d8896a7aff0ab82316bf4865cece9205c,9,3,3,26285,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Story: #2010137
Task: #45767
Change-Id: I7333a75e8855501f8a89547b93e65157f9f8afb6
",git fetch https://review.opendev.org/openstack/trove refs/changes/70/850370/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/files/elements/guest-agent/source-repository-guest-agent'],1,37df560c2ba6c6ce0f775aec519e065833621125,,upper-constraints file /opt/upper-constraints.txt https://releases.openstack.org/constraints/upper/yoga,upper-constraints file /opt/upper-constraints.txt https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt,1,1
openstack%2Ftrove~stable%2Fyoga~I7333a75e8855501f8a89547b93e65157f9f8afb6,openstack/trove,stable/yoga,I7333a75e8855501f8a89547b93e65157f9f8afb6,Update TOX_CONSTRAINTS_FILE for stable/yoga,MERGED,2022-07-19 14:19:33.000000000,2022-07-28 03:47:09.000000000,2022-07-28 03:46:05.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}]","[{'number': 1, 'created': '2022-07-19 14:19:33.000000000', 'files': ['integration/scripts/files/elements/guest-agent/source-repository-guest-agent'], 'web_link': 'https://opendev.org/openstack/trove/commit/e30d4c93159b55f5e54f595cc057d9b3dd4ae72d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/yoga\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nStory: #2010137\nTask: #45767\nChange-Id: I7333a75e8855501f8a89547b93e65157f9f8afb6\n'}]",0,850353,e30d4c93159b55f5e54f595cc057d9b3dd4ae72d,7,3,1,26285,,,0,"Update TOX_CONSTRAINTS_FILE for stable/yoga

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Story: #2010137
Task: #45767
Change-Id: I7333a75e8855501f8a89547b93e65157f9f8afb6
",git fetch https://review.opendev.org/openstack/trove refs/changes/53/850353/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/files/elements/guest-agent/source-repository-guest-agent'],1,e30d4c93159b55f5e54f595cc057d9b3dd4ae72d,,upper-constraints file /opt/upper-constraints.txt https://releases.openstack.org/constraints/upper/yoga,upper-constraints file /opt/upper-constraints.txt https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt,1,1
openstack%2Fcharm-designate~master~I366733be138205b7f47d47ed394e996a17ac72ce,openstack/charm-designate,master,I366733be138205b7f47d47ed394e996a17ac72ce,Fix ssl dev dependencies for different architectures,ABANDONED,2022-03-31 19:54:13.000000000,2022-07-28 03:31:57.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-31 19:54:13.000000000', 'files': ['requirements.txt', 'charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/897632980c41def523df2306416a261b59ee9ff8', 'message': 'Fix ssl dev dependencies for different architectures\n\ns390x and ppc64el are failing to build as they are pulling in rust\ndependencies. Add necessary build pacakges for building and pin\ncryptography to < 3.4 to avoid pulling in rust dependencies.\n\nChange-Id: I366733be138205b7f47d47ed394e996a17ac72ce\n'}]",0,836081,897632980c41def523df2306416a261b59ee9ff8,4,2,1,8992,,,0,"Fix ssl dev dependencies for different architectures

s390x and ppc64el are failing to build as they are pulling in rust
dependencies. Add necessary build pacakges for building and pin
cryptography to < 3.4 to avoid pulling in rust dependencies.

Change-Id: I366733be138205b7f47d47ed394e996a17ac72ce
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/81/836081/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'charmcraft.yaml']",2,897632980c41def523df2306416a261b59ee9ff8,pin-cryptography, - libffi-dev - libssl-dev,,3,0
openstack%2Fcharm-hacluster~master~I6adea9cc7a6e871930b9bf4d4ef0d7058f7cb43e,openstack/charm-hacluster,master,I6adea9cc7a6e871930b9bf4d4ef0d7058f7cb43e,Fixing spelling for is_unit_upgrading_set.,ABANDONED,2019-09-21 13:26:05.000000000,2022-07-28 03:29:50.000000000,,"[{'_account_id': 10068}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30503}]","[{'number': 1, 'created': '2019-09-21 13:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/f57558fe493953e8ceb8a495cc95433638c2211c', 'message': 'Fixing spelling for is_unit_upgrading_set.\n\nThis also makes it uniform with other openstack charms.\n\nChange-Id: I6adea9cc7a6e871930b9bf4d4ef0d7058f7cb43e\n'}, {'number': 2, 'created': '2019-09-21 13:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/8117e08a3ec921a96a957ddddee160ab607e49ff', 'message': 'Fixing spelling for is_unit_upgrading_set.\n\nThis also makes it uniform with other openstack charms.\n\nChange-Id: I6adea9cc7a6e871930b9bf4d4ef0d7058f7cb43e\n'}, {'number': 3, 'created': '2019-09-21 14:01:52.000000000', 'files': ['hooks/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/b803c25dccb22078f44277770007755b81134f2d', 'message': 'Fixing spelling for is_unit_upgrading_set.\n\nThis also makes it uniform with other openstack charms.\n\nChange-Id: I6adea9cc7a6e871930b9bf4d4ef0d7058f7cb43e\n'}]",1,683785,b803c25dccb22078f44277770007755b81134f2d,17,5,3,30503,,,0,"Fixing spelling for is_unit_upgrading_set.

This also makes it uniform with other openstack charms.

Change-Id: I6adea9cc7a6e871930b9bf4d4ef0d7058f7cb43e
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/85/683785/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,f57558fe493953e8ceb8a495cc95433638c2211c,typo-correction,,,0,0
openstack%2Fossa~master~I918fa5e325f9a3c168f2d9783f04f220a35f8d25,openstack/ossa,master,I918fa5e325f9a3c168f2d9783f04f220a35f8d25,remove unicode from code,MERGED,2022-07-28 01:57:58.000000000,2022-07-28 02:51:50.000000000,2022-07-28 02:49:59.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 01:57:58.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ossa/commit/73b6da398b4cf1e2164d65a94e8742892f8b964b', 'message': 'remove unicode from code\n\nChange-Id: I918fa5e325f9a3c168f2d9783f04f220a35f8d25\n'}]",0,851298,73b6da398b4cf1e2164d65a94e8742892f8b964b,7,2,1,35058,,,0,"remove unicode from code

Change-Id: I918fa5e325f9a3c168f2d9783f04f220a35f8d25
",git fetch https://review.opendev.org/openstack/ossa refs/changes/98/851298/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,73b6da398b4cf1e2164d65a94e8742892f8b964b,,"project = 'OpenStack Security Advisories' ('index', 'Security.tex', 'OpenStack Security Advisories', 'OpenStack Vulnerability Management Team', 'manual'),","project = u'OpenStack Security Advisories' ('index', 'Security.tex', u'OpenStack Security Advisories', u'OpenStack Vulnerability Management Team', 'manual'),",3,3
openstack%2Ftempest~master~I3cb4612e3536fcc1e9de18564b378fa5484cfdf6,openstack/tempest,master,I3cb4612e3536fcc1e9de18564b378fa5484cfdf6,Add new NVMe protocols to the known list of protocols,ABANDONED,2022-07-15 16:04:35.000000000,2022-07-28 02:34:42.000000000,,"[{'_account_id': 8367}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-07-15 16:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e4c36d99c966dbd3f08ba7cc2ee65e83f6694085', 'message': 'Add new NVMe protocols to the known list of variants\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: I3cb4612e3536fcc1e9de18564b378fa5484cfdf6\n'}, {'number': 2, 'created': '2022-07-15 16:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8ea1a0b58790e9e47b3aec3a7207b28140134b39', 'message': 'Add new NVMe protocols to the known list of variants\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: I3cb4612e3536fcc1e9de18564b378fa5484cfdf6\n'}, {'number': 3, 'created': '2022-07-20 20:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a8871cfa07833bb50c8ee565743e6c5422a7e514', 'message': 'Add new NVMe protocols to the known list of protocols\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: I3cb4612e3536fcc1e9de18564b378fa5484cfdf6\n'}, {'number': 4, 'created': '2022-07-20 21:08:19.000000000', 'files': ['tempest/api/volume/admin/test_backends_capabilities.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/12915620e11a9e9459be9df158d8129688566aa5', 'message': 'Add new NVMe protocols to the known list of protocols\n\nDepends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21\nChange-Id: I3cb4612e3536fcc1e9de18564b378fa5484cfdf6\n'}]",5,849841,12915620e11a9e9459be9df158d8129688566aa5,17,4,4,13425,,,0,"Add new NVMe protocols to the known list of protocols

Depends-On: I278dd4a6fcbdc1bc477e998eabe07edf81dabd21
Change-Id: I3cb4612e3536fcc1e9de18564b378fa5484cfdf6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/41/849841/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_backends_capabilities.py'],1,e4c36d99c966dbd3f08ba7cc2ee65e83f6694085,add_missing_protocols," ['NFS', 'nfs'], ['NVMe-oF', 'NVMeOF', 'nvmeof', 'NVMe-RoCE', 'NVMe-FC', 'NVMe-TCP']]"," ['NFS', 'nfs'], ['NVMe-oF', 'NVMeOF', 'nvmeof']]",2,1
openstack%2Fmanila~master~I2783c464c21cf4add152d106ad7634efe6fedc57,openstack/manila,master,I2783c464c21cf4add152d106ad7634efe6fedc57,DNM: Test NetApp ONTAP CI,NEW,2022-05-10 15:18:29.000000000,2022-07-28 01:46:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-10 15:18:29.000000000', 'files': ['manila/share/drivers/netapp/common.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2a12429f2c4493399bfd1b0ede3e70d7029e2f17', 'message': ""DNM: Test NetApp ONTAP CI\n\nWe're testing our migration to Zuul v3+.\n\nSigned-off-by: Eduardo Santos <eduardo.experimental@gmail.com>\nChange-Id: I2783c464c21cf4add152d106ad7634efe6fedc57\n""}]",3,841299,2a12429f2c4493399bfd1b0ede3e70d7029e2f17,11,1,1,32411,,,0,"DNM: Test NetApp ONTAP CI

We're testing our migration to Zuul v3+.

Signed-off-by: Eduardo Santos <eduardo.experimental@gmail.com>
Change-Id: I2783c464c21cf4add152d106ad7634efe6fedc57
",git fetch https://review.opendev.org/openstack/manila refs/changes/99/841299/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/netapp/common.py'],1,2a12429f2c4493399bfd1b0ede3e70d7029e2f17,, # We migrated to Zuul v3+ hooray :),,2,0
openstack%2Ftacker-specs~master~Ib6e9ae4ed25c1b6715d498d8ada1614a51e36451,openstack/tacker-specs,master,Ib6e9ae4ed25c1b6715d498d8ada1614a51e36451,Code refactoring for performance improvement,MERGED,2022-07-15 02:09:13.000000000,2022-07-28 01:36:04.000000000,2022-07-28 01:35:04.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-07-15 02:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/abe0d48d15bda91454ef00a77d941339a75a1a94', 'message': 'Code refactoring for performance improvement\n\nThis specification proposes the following code refactoring\nto improve system performance.\n\n1. Change getting OpenStack resource process\nto one transaction (for Tacker v2 API)\n2. Support subscription filter of vnfdId (for Tacker v1 API)\n3. Refactor the Log Levels of Tacker Output Logs (for Tacker v1/v2 API)\n\nChange-Id: Ib6e9ae4ed25c1b6715d498d8ada1614a51e36451\nImplements: blueprint system-performance-management\n'}, {'number': 2, 'created': '2022-07-21 06:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/bd8596f89b8865af586d01f72014264869cf7641', 'message': 'Code refactoring for performance improvement\n\nThis specification proposes the following code refactoring\nto improve system performance.\n\n1. Change getting OpenStack resource process\nto one transaction (for Tacker v2 API)\n2. Support subscription filter of vnfdId (for Tacker v1 API)\n3. Refactor the Log Levels of Tacker Output Logs (for Tacker v1/v2 API)\n\nChange-Id: Ib6e9ae4ed25c1b6715d498d8ada1614a51e36451\nImplements: blueprint system-performance-management\n'}, {'number': 3, 'created': '2022-07-22 08:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/dcce00b63c6a4dc5be5b770f2c6b410ae8131f1b', 'message': 'Code refactoring for performance improvement\n\nThis specification proposes the following code refactoring\nto improve system performance.\n\n1. Change getting OpenStack resource process\nto one transaction (for Tacker v2 API)\n2. Support subscription filter of vnfdId (for Tacker v1 API)\n3. Refactor the Log Levels of Tacker Output Logs (for Tacker v1/v2 API)\n\nChange-Id: Ib6e9ae4ed25c1b6715d498d8ada1614a51e36451\nImplements: blueprint system-performance-management\n'}, {'number': 4, 'created': '2022-07-27 01:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/07b9a0112cc81af631c6b4654fd86ab5a29b178d', 'message': 'Code refactoring for performance improvement\n\nThis specification proposes the following code refactoring\nto improve system performance.\n\n1. Change getting OpenStack resource process\nto one transaction (for Tacker v2 API)\n2. Support subscription filter of vnfdId (for Tacker v1 API)\n3. Refactor the Log Levels of Tacker Output Logs (for Tacker v1/v2 API)\n\nChange-Id: Ib6e9ae4ed25c1b6715d498d8ada1614a51e36451\nImplements: blueprint system-performance-management\n'}, {'number': 5, 'created': '2022-07-27 11:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e9d6d2d73b55dbc8caf28116abf248a27075b505', 'message': 'Code refactoring for performance improvement\n\nThis specification proposes the following code refactoring\nto improve system performance.\n\n1. Reduce transaction of getting OpenStack resource\n(for Tacker v2 API)\n2. Support subscription filter of vnfdId (for Tacker v1 API)\n3. Refactor the Tacker Output Logs (for Tacker v1/v2 API)\n\nChange-Id: Ib6e9ae4ed25c1b6715d498d8ada1614a51e36451\nImplements: blueprint system-performance-management\n'}, {'number': 6, 'created': '2022-07-27 12:05:26.000000000', 'files': ['specs/zed/code-refactoring.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f89cab5af3afc12faa5d0ecd5b169a88751e930e', 'message': 'Code refactoring for performance improvement\n\nThis specification proposes the following code refactoring\nto improve system performance.\n\n1. Reduce transaction of getting OpenStack resource\n(for Tacker v2 API)\n2. Support subscription filter of vnfdId (for Tacker v1 API)\n3. Refactor the Tacker Output Logs (for Tacker v1/v2 API)\n\nChange-Id: Ib6e9ae4ed25c1b6715d498d8ada1614a51e36451\nImplements: blueprint system-performance-management\n'}]",65,849837,f89cab5af3afc12faa5d0ecd5b169a88751e930e,36,7,6,32581,,,0,"Code refactoring for performance improvement

This specification proposes the following code refactoring
to improve system performance.

1. Reduce transaction of getting OpenStack resource
(for Tacker v2 API)
2. Support subscription filter of vnfdId (for Tacker v1 API)
3. Refactor the Tacker Output Logs (for Tacker v1/v2 API)

Change-Id: Ib6e9ae4ed25c1b6715d498d8ada1614a51e36451
Implements: blueprint system-performance-management
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/37/849837/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/code-refactoring.rst'],1,abe0d48d15bda91454ef00a77d941339a75a1a94,bp/system-performance-management,"============================================ Code refactoring for performance improvement ============================================ https://blueprints.launchpad.net/tacker/+spec/system-performance-management Problem description =================== Commercial systems, which is one of Tacker's main target requires high performance software. However, evaluations with simultaneous Lifecycle Management (LCM) operations revealed some issues related to Tacker's performance. Therefore, further introduction of Tacker to commercial Management and Orchestration (MANO) systems requires performance improvements such as higher concurrency, higher throughput, and shorter turnaround time. This specification proposes the following code refactoring. #. Change getting OpenStack resource process to one transaction (for Tacker v2 API) #. Support subscription filter (vnfdId) (for Tacker v1 API) #. Refactor the Log Levels of Tacker Output Logs (for Tacker v1/v2 API) Proposed Change =============== 1. Change getting OpenStack resource process to one transaction (for Tacker v2 API) ----------------------------------------------------------------------------------- When executing VNF LCM operation such as ``Instantiate``, ``Terminate``, ``Scale``, and ``Heal``, current implementation uses ``""Find stack""`` API [#HEAT-V1]_ to check the status of the stack resource. Since ``""Find stack""`` API requires redirection, it may put heavy load on HEAT. This spec proposes using ``""Show stack details""`` API instead of ``""Find stack""`` API. Since ``""Show stack details""`` API does not need the redirection, it decreases the number of transaction between Tacker and HEAT from two to one. + Find stack (with Redirection) ``[GET] /v1/{tenant_id}/stacks/{stack_identity}`` .. note:: ""stack_identity"" is the UUID or the name of a stack. + Show stack details (without Redirection) ``[GET] /v1/{tenant_id}/stacks/{stack_name}/{stack_id}`` In the current implementation, ``""stack_id""`` is not stored in Tacker DB because there is no corresponding data model in the ETSI NFV standard [#NFV-SOL002_331]_, [#NFV-SOL003_331]_. To use ``""Show stack details""`` directly, ``""stack_id""`` needs to be handled in Tacker. Following shows two options for handling the ``""stack_id""``. Option 1: Use the ""stack_id"" obtained in each LCM execution ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This option is to directly invoke ``""Show stack details""`` by passing ``""stack_id""`` obtained when the process of each LCM operation. ""stack_id"" can be obtained at the following steps. ``Instantiate:`` When using the ""Create stack"" API. ``Terminate/Scale/Heal:`` When using the ""Find stack"" API for the first time. + For Instantiate + Sequence before changing (Instantiate) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/instantiate""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""instantiate""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""Heat"" [label = ""POST stacks""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""201 Created""]; === start of the checking of the resource status === === loop start (Repeat until 'CREATE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) GET stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } + Sequence after changing (Instantiate) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/instantiate""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""instantiate""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""Heat"" [label = ""POST stacks""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""201 Created""]; ""Tacker-conductor"" -> ""Tacker-conductor"" [note = ""Get 'stack_id' parameter from Response and \nsave it to a local variable""]; === start of the checking of the resource status === === loop start (Repeat until 'CREATE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}/{stack_id}"", leftnote=""Can be sent with the Heat API without redirection""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } + For Terminate + Sequence before changing (Terminate) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/terminate""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""terminate""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""Heat"" [label = ""DELETE stacks/{stack_name}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) DELETE stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""204 No Content""]; === start of the checking of the resource status === === loop start (Repeat until 'DELETE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) GET stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } + Sequence after changing (Terminate) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/terminate""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""terminate""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""Heat"" [label = ""DELETE stacks/{stack_name}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) DELETE stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""204 No Content""]; === start of the checking of the resource status === ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}"", leftnote = ""First check of the resource status""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) GET stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; ""Tacker-conductor"" -> ""Tacker-conductor"" [note = ""Get 'stack_id' parameter from Response and \nsave it to a local variable""]; === loop start (Repeat until 'DELETE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}/{stack_id}"", leftnote = ""Second and subsequent check of resource state. \nCan be sent with the Heat API without redirection.""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } .. note:: Since the http-related library (Python library) automatically sends the redirection request containing the ``""stack_id""`` parameter, the ``""stack_id""`` is not recognized by the Tacker-conductor at the sending stage of this redirection. + For Scale + Sequence before changing (Scale) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/scale""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""scale""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""Heat"" [label = ""PATCH stacks/{stack_name}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) PATCH stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""202 Accepted""]; === start of the checking of the resource status === === loop start (Repeat until 'UPDATE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) GET stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } + Sequence after changing (Scale) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/scale""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""scale""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""Heat"" [label = ""PATCH stacks/{stack_name}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) PATCH stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""202 Accepted""]; === start of the checking of the resource status === ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}"", leftnote = ""First check of the resource status""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) GET stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; ""Tacker-conductor"" -> ""Tacker-conductor"" [note = ""Get 'stack_id' parameter from Response and \nsave it to a local variable""]; === loop start (Repeat until 'UPDATE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}/{stack_id}"", leftnote = ""Second and subsequent check of resource state. \nCan be sent with the Heat API without redirection.""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } .. note:: Since the http-related library (Python library) automatically sends the redirection request containing the ``""stack_id""`` parameter, the ``""stack_id""`` is not recognized by the Tacker-conductor at the sending stage of this redirection. + For Heal + Sequence before changing (Heal) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/heal""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""heal""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""Heat"" [label = ""PATCH stacks/{stack_name}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) PATCH stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""202 Accepted""]; === start of the checking of the resource status === === loop start (Repeat until 'UPDATE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) GET stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } + Sequence after changing (Heal) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/heal""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""heal""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""Heat"" [label = ""PATCH stacks/{stack_name}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) PATCH stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""202 Accepted""]; === start of the checking of the resource status === ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}"", leftnote = ""First check of the resource status""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""302 Found""]; ""Tacker-conductor"" -> ""Heat"" [label = ""(Redirection) GET stacks/{stack_name}/{stack_id}""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; ""Tacker-conductor"" -> ""Tacker-conductor"" [note = ""Get 'stack_id' parameter from Response and \nsave it to a local variable""]; === loop start (Repeat until 'UPDATE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}/{stack_id}"", leftnote = ""Second and subsequent check of resource state. \nCan be sent with the Heat API without redirection.""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } .. note:: Since the http-related library (Python library) automatically sends the redirection request containing the ``""stack_id""`` parameter, the ``""stack_id""`` is not recognized by the Tacker-conductor at the sending stage of this redirection. Option 2: Store ""stack_id"" in Tacker DB obtained during the Instantiate process ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This option is to directly invoke ``""Show stack details""`` by using the ``""stack_id""`` stored in Tacker DB obtained during the Instantiate process when executing ``Create stack``. It would be appropriate to store the ``""stack_id""`` in the VnfInstanceV2.instantiatedVnfInfo.metadata field. + Sequence before changing (Instantiate, Terminate, Scale, Heal) Same as ``Sequence before changing`` in ``Option 1``. + Sequence after changing (Instantiate) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""TackerDB"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/instantiate""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""instantiate""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""Heat"" [label = ""POST stacks""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""201 Created""]; ""Tacker-conductor"" -> ""Tacker-conductor"" [note = ""Get 'stack_id' parameter from Response""]; ""Tacker-conductor"" -> ""TackerDB"" [label = ""Save 'stack_id' in TackerDB""]; ""Tacker-conductor"" <-- ""TackerDB"" === start of the checking of the resource status === === loop start (Repeat until 'CREATE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}/{stack_id}"", leftnote = ""Can be sent with the Heat API without redirection""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } + Sequence after changing (Terminate) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""TackerDB"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/terminate""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""terminate""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""TackerDB"" [label = ""Get 'stack_id' in TackerDB"", note = ""Get 'stack_id' \n from the VnfInstanceV2.instantiatedVnfInfo.metadata field""]; ""Tacker-conductor"" <-- ""TackerDB"" ""Tacker-conductor"" -> ""Heat"" [label = ""DELETE stacks/{stack_name}/{stack_id}"", leftnote = ""Can be sent with the Heat API without redirection""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""204 No Content""]; === start of the checking of the resource status === === loop start (Repeat until 'DELETE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}/{stack_id}"", leftnote = ""Can be sent with the Heat API without redirection""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } + Sequence after changing (Scale) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""TackerDB"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/scale""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""scale""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""TackerDB"" [label = ""Get 'stack_id' in TackerDB"", note = ""Get 'stack_id' \n from the VnfInstanceV2.instantiatedVnfInfo.metadata field""]; ""Tacker-conductor"" <-- ""TackerDB"" ""Tacker-conductor"" -> ""Heat"" [label = ""PATCH stacks/{stack_name}/{stack_id}"", leftnote = ""Can be sent with the Heat API without redirection""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""202 Accepted""]; === start of the checking of the resource status === === loop start (Repeat until 'UPDATE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}/{stack_id}"", leftnote = ""Can be sent with the Heat API without redirection""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } + Sequence after changing (Heal) .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""TackerDB"" ""Heat"" ""Client"" -> ""Tacker-server"" [label = ""POST /vnf_instances/{vnfInstanceId}/heal""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""heal""]; ... ------------- Omitted from description ------------- ... ""Tacker-conductor"" -> ""TackerDB"" [label = ""Get 'stack_id' in TackerDB"", note = ""Get 'stack_id' \n from the VnfInstanceV2.instantiatedVnfInfo.metadata field""]; ""Tacker-conductor"" <-- ""TackerDB"" ""Tacker-conductor"" -> ""Heat"" [label = ""PATCH stacks/{stack_name}/{stack_id}"", leftnote = ""Can be sent with the Heat API without redirection""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""202 Accepted""]; === start of the checking of the resource status === === loop start (Repeat until 'UPDATE_COMPLETE')=== ""Tacker-conductor"" -> ""Heat"" [label = ""GET stacks/{stack_name}/{stack_id}"", leftnote = ""Can be sent with the Heat API without redirection""]; ""Tacker-conductor"" <-- ""Heat"" [label = ""200 OK""]; === loop end === === end of the checking of the resource status === } + | Similar performance improvements can be made during other LCM operations. | For example, in the ""Rollback"" process for Instantiate, the ""DELETE stack"" can use the ""stack_id"" as described above to improve performance. .. note:: For Options 1 and 2, If the ""stack_id"" is lost unintentionally, the redirection API is used to retrieve the information again. .. note:: Advantages and disadvantages of option 1 and 2 are shown below. - Option 1 : - Advantages: there is no impact on the existing Tacker DB. - Disadvantages: frequency of the HEAT request is higher than Option 2. - Option 2 : - Advantages: the number of HEAT requests is less than Option 1. - Disadvantages: Tacker DB must store the data not defined in NFV standard. 2. Supprot subscription filter (vnfdId) (for Tacker v1 API) ----------------------------------------------------------- The Tacker v1 API has not supported Subscription filter of vnfdId. It causes large log sizes and communication delays by sending Notifications on all subscriptions registered in Tacker DB. To resolve the issues, this specification proposes supporting Subscription filter of vnfdId. Design of Subscription filter of vnfdId ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This proposal enables Tacker v1 API to send Notifications related to specific vnfdId. The following shows the flow of Notify communication processing with the Subscription filter by vnfdId. .. seqdiag:: seqdiag { node_width = 100; edge_length = 150; ""Client"" ""Tacker-server"" ""Tacker-conductor"" ""TackerDB"" ""Client"" -> ""Tacker-server"" [label = ""Trigger operation sending notification""]; ""Tacker-server"" -> ""Tacker-conductor"" [label = ""send_notification""]; ""Tacker-conductor"" -> ""TackerDB"" [label = ""Get specific vnf instance id""]; ""Tacker-conductor"" <-- ""TackerDB"" [label = ""vnf instance id""]; ""Tacker-conductor"" -> ""Tacker-conductor"" [label = ""Filters the subscriptions by a specific vnfdid""]; ""Client"" <- ""Tacker-conductor"" [label = ""Sends Notify filtered on a specific vnfdid.""]; ""Client"" --> ""Tacker-conductor"" [label = ""response""]; ""Tacker-server"" <-- ""Tacker-conductor"" [label = ""return""]; } 3. Refactor the Log Levels of Tacker Output Logs (for Tacker v1/v2 API) ----------------------------------------------------------------------- Fix the current Tacker output log level to resolve the following issues. * The implementation of Tacker outputs info level logs in a double loop, which results in large output logs and performance impact. * As a practical matter, Notify-related logs were implemented with info in the loop and caused processing delays due to the large log size. * Some implementations of Tacker show the cause of the error at the debug and info levels, making it difficult to analyze the cause. Tacker's output log level needs to be adjusted to solve this problem. Specific examples are shown below. * Performance perspective * From a performance perspective, frequent info level logging in a double loop, such as the following, is undesirable. .. code-block:: def send_notification(self, context, notification): : for line in vnf_lcm_subscriptions: notification['subscriptionId'] = line.id if (notification.get('notificationType') == 'VnfLcmOperationOccurrenceNotification'): notification['_links']['subscription'] = {} notification['_links']['subscription']['href'] = \ CONF.vnf_lcm.endpoint_url + \ ""/vnflcm/v1/subscriptions/"" + line.id else: notification['links']['subscription'] = {} notification['links']['subscription']['href'] = \ CONF.vnf_lcm.endpoint_url + \ ""/vnflcm/v1/subscriptions/"" + line.id notification['timeStamp'] = datetime.datetime.utcnow( ).isoformat() try: self.__set_auth_subscription(line) for num in range(CONF.vnf_lcm.retry_num): try: LOG.info(""send notify[%s]"" % json.dumps(notification)) auth_client = auth.auth_manager.get_auth_client( notification['subscriptionId'])] * Analysis perspective * This is the cause of the error, but it is difficult to analyze because the log is output at the info level. .. code-block:: def _get_vnfd_id(context, id): try: vnf_package_vnfd = \ api.model_query(context, models.VnfPackageVnfd).\ filter_by(package_uuid=id).first() except Exception: LOG.info(""select vnf_package_vnfd failed"") if vnf_package_vnfd: return vnf_package_vnfd.vnfd_id else: return None * This is necessary for analysis, but you do not need to log dict, so modify info to debug output. .. code-block:: def create_vdu_image_dict(grant_info): """"""Create a dict containing information about VDU's image. :param grant_info: dict(Grant information format) :return: dict(VDU name, Glance-image uuid) """""" vdu_image_dict = {} for vdu_name, resources in grant_info.items(): for vnf_resource in resources: vdu_image_dict[vdu_name] = vnf_resource.resource_identifier LOG.info('vdu_image_dict: %s', vdu_image_dict) return vdu_image_dict Indicators of log levels ~~~~~~~~~~~~~~~~~~~~~~~~~~ Indicators of log levels to output are shown below. .. list-table:: Log Levels :header-rows: 1 :widths: 10 25 * - Log Level - Description * - debug - Detailed information about system activity. * - info - Generally useful information to log (service start/stop, configuration assumptions, etc). * - warning - Incorrect use of the API, near error, etc. any unexpected problem that is not necessarily abnormal but is not normal at runtime. * - error - Unexpected runtime error or cause of error. * - critical - Fatal error information.Information that should be addressed if it occurs. Data model impact ----------------- * Modify below tables in 'tacker' database. The corresponding schemas are detailed below: * Option 2 of ""Change getting OpenStack resource process to one transaction"" ``VnfInstanceV2::`` Add 'stack_id' to instantiatedVnfInfo.metadata in json format. * Data Format Image ""instantiatedVnfInfo"" : { ""metadata"": { ""stack_id"": ""cb9d8959-ab17-4270-a4c9-257d267ca9f1"" } } REST API impact --------------- None Security impact ----------------- None Notification impact ------------------- None Other end user impact --------------------- None Performance impact ------------------- * Change getting OpenStack resource process to one transaction (for Tacker v2 API) It reduces the number of HEAT request, which improves performance when running LCM concurrently. * Supprot subscription filter (vnfdId) (for Tacker v1 API) It reduces Notifications to user-specified ones, which improves the performance. * Refactor the Log Levels of Tacker Output Logs (for Tacker v1/v2 API) Prevent log bloat and suppress performance degradation under heavy load. Other developer impact ----------------------- None Developer impact ----------------- Developers will be able to use appropriate log levels to prevent log bloat and analyze the cause of errors. Implementation ============== Assignee(s) ----------- Primary assignee: Hirofumi Noguchi<hirofumi.noguchi.rs@hco.ntt.co.jp> Other contributors: Ayumu Ueha<ueha.ayumu@fujitsu.com> Yoshiyuki Katada<katada.yoshiyuk@fujitsu.com> Yusuke Niimi<niimi.yusuke@fujitsu.com> Work Items ---------- * ""Tacker-conductor"" will be modified to implement the following features. * Change getting OpenStack resource process to one transaction (for Tacker v2 API) * Handle ""stack_id"". * Change HEAT API usage. * ""Tacker-server"" will be modified to implement the following features. * Add subscription filter (vnfdId) in Tacker v1 API * Fix the log output of the Tacker implementation to the appropriate log level. * Add new unit and functional tests. Dependencies ============ * Instantiate/Terminate/Scale/Heal operation Depends on HEAT API ""Find stack"" [#HEAT-V1]_. Testing ======= Unit and functional tests will be added to cover cases required in the specification. Documentation Impact ==================== None References ========== .. [#HEAT-V1] https://docs.openstack.org/api-ref/orchestration/v1/index.html .. [#NFV-SOL002_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/03.03.01_60/gs_nfv-sol002v030301p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL003_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf (Chapter 5: VNF Lifecycle Management interface) ",,1038,0
openstack%2Ftacker-specs~master~Id27da3f247b027ef800a988ccd5e41c400a0dc43,openstack/tacker-specs,master,Id27da3f247b027ef800a988ccd5e41c400a0dc43,Support individual VNFC management via Heat,MERGED,2022-07-15 02:02:35.000000000,2022-07-28 01:28:49.000000000,2022-07-28 01:27:47.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-07-15 02:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/12f94e23730296f85d29213020ad8f5aa166f53b', 'message': 'Support individual VNFC management via Heat\n\nThis specification proposes new functionality\nabout individual VNFC management via OpenStack Heat.\nThis proposal focuses on v2 VNF Lifecycle management (LCM) API\nand adds new sample BaseHOT, corresponding UserData script,\nand utility functions for UserData class.\n\nChange-Id: Id27da3f247b027ef800a988ccd5e41c400a0dc43\nImplements: blueprint individual-vnfc-management\n'}, {'number': 2, 'created': '2022-07-21 06:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c6227060f1506ed1693683bcb512858a54549881', 'message': 'Support individual VNFC management via Heat\n\nThis specification proposes new functionality\nabout individual VNFC management via OpenStack Heat.\nThis proposal focuses on v2 VNF Lifecycle management (LCM) API\nand adds new sample BaseHOT, corresponding UserData script,\nand utility functions for UserData class.\n\nChange-Id: Id27da3f247b027ef800a988ccd5e41c400a0dc43\nImplements: blueprint individual-vnfc-management\n'}, {'number': 3, 'created': '2022-07-27 08:46:13.000000000', 'files': ['specs/zed/individual-vnfc-management.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/d98fd0773878e3b6f41864cbacdd5ffda6ceae9c', 'message': 'Support individual VNFC management via Heat\n\nThis specification proposes new functionality\nabout individual VNFC management via OpenStack Heat.\nThis proposal focuses on v2 VNF Lifecycle management (LCM) API\nand adds new sample BaseHOT, corresponding UserData script,\nand utility functions for UserData class.\n\nChange-Id: Id27da3f247b027ef800a988ccd5e41c400a0dc43\nImplements: blueprint individual-vnfc-management\n'}]",19,849836,d98fd0773878e3b6f41864cbacdd5ffda6ceae9c,22,7,3,32581,,,0,"Support individual VNFC management via Heat

This specification proposes new functionality
about individual VNFC management via OpenStack Heat.
This proposal focuses on v2 VNF Lifecycle management (LCM) API
and adds new sample BaseHOT, corresponding UserData script,
and utility functions for UserData class.

Change-Id: Id27da3f247b027ef800a988ccd5e41c400a0dc43
Implements: blueprint individual-vnfc-management
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/36/849836/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/individual-vnfc-management.rst'],1,12f94e23730296f85d29213020ad8f5aa166f53b,bp/individual-vnfc-management,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================== Support individual VNFC management via Heat =========================================== .. Blueprints: https://blueprints.launchpad.net/tacker/+spec/individual-vnfc-management This specification proposes new functionality about individual VNFC management via OpenStack Heat. This proposal focuses on v2 VNF Lifecycle management (LCM) API and adds new sample BaseHOT, corresponding UserData script, and utility functions for UserData class [#Tacker-userdata_script]_. Problem description =================== ETSI NFV SOL002 v3.3.1 [#NFV-SOL002_331]_ and SOL003 v3.3.1 [#NFV-SOL003_331]_ define an element called VNF Component (VNFC). VNFC is a unit of a virtual computer such as VM and Pod, and VNF is composed of one or more VNFC. Tacker's VNF LCM API has supported the VNF instances consisting of multiple VNFCs by using the AutoScalingGroup [#OpenStack_Resource_Types_AutoScalingGroup]_ provided by OpenStack Heat. Following shows the sample BaseHOT with AutoScalingGroup. * top HOT .. code-block:: yaml heat_template_version: 2013-05-23 description: 'Simple Base HOT for Sample VNF' parameters: nfv: type: json resources: VDU1_scale_group: type: OS::Heat::AutoScalingGroup properties: min_size: 1 max_size: 3 desired_capacity: { get_param: [ nfv, VDU, VDU1, desired_capacity ] } resource: type: VDU1.yaml properties: name: {get_param: [ nfv, VDU, VDU1, computeName ] } flavor: { get_param: [ nfv, VDU, VDU1, computeFlavourId ] } image: { get_param: [ nfv, VDU, VDU1, vcImageId ] } zone: { get_param: [ nfv, VDU, VDU1, locationConstraints] } net: { get_param: [ nfv, CP, VDU1_CP1, network] } * nested HOT (VDU1.yaml specified in above top HOT) .. code-block:: yaml heat_template_version: 2013-05-23 description: 'VDU1 HOT for Sample VNF' parameters: flavor: type: string image: type: string zone: type: string net: type: string resources: VDU1: type: OS::Nova::Server properties: name: { get_param: name } flavor: { get_param: flavor } image: { get_param: image } networks: - port: get_resource: VDU1_CP1 availability_zone: { get_param: zone } VDU1_CP1: type: OS::Neutron::Port properties: network: { get_param: net } HEAT API (stack create, stack update, etc.) generates as many resources (VNFCs) as the ""desired_capacity"". Since properties are applied to all VNFCs uniformly, individual settings and updates cannot be made to individual VNFC. It causes following two problems. 1. Service interruption by re-creating all VNFCs ------------------------------------------------ AutoScalingGroup causes the service interruption in ""VNF software modification not assisted by NFV-MANO"" described in ETSI NFV IFA007 v3.6.1 B.2 [#NFV-IFA007_361]_. In this scenario, after directly updating the VM's configuration from a component outside MANO, Modify operation updates the VNF Instance's information in VNFM for subsequent LCM integrity. Then subsequent Scale or Heal operation creates resources with the new image and re-create all VNFCs created by AutoScalingGroup simultaneously even if they are not scale-out targets or heal targets. This causes service interruption, which is unacceptable on commercial systems. Details of this problem can be found in the Proposed change chapter. .. note:: Tacker has supported ""VNF software modification assisted by NFV MANO via change of current VNF Package"" described in IFA007 v3.6.1 B.3 [#NFV-IFA007_361]_ by the rolling update operation of ChangeCurrentVNFPackage API. 2. Restriction for anti-affinity between VNFCs ---------------------------------------------- When ""ZONE"" is specified as ``PlacementConstraint.scope`` and VNFM obtains the zone from NFVO, AutoScalingGroup applies it to all VNFCs. That is, all VNFCs are deployed on the same zone even if anti-affinity is specified by VNFD or Grant. This behavior violates the standard specification. Proposed change =============== change of the sequence ---------------------- This proposal changes the sequence of software update as follows. Sequence before changing ^^^^^^^^^^^^^^^^^^^^^^^^ The following sequence omits the notification process. .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; EM; Client; NFVO; ""Tacker common process""; ""Tacker UserData script""; Heat; VDU1-VNFC1; VDU1-VNFC2; === Instantiate VNF === ""Client"" -> ""Tacker common process"" [label = ""POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/instantiate""]; ""Client"" <-- ""Tacker common process"" [label = ""Response 202 Accepted""]; ""Tacker common process"" ->> ""Tacker common process"" [label = ""calculate the number of VMs""]; ""NFVO"" <- ""Tacker common process"" [label = ""POST /grants""]; ""NFVO"" --> ""Tacker common process"" [label = ""201 Created with OpenStack Glance imageid""]; ""Tacker common process"" -> ""Tacker UserData script"" [label = ""request, instance, grantRequest, grant, tmp_csar_dir""]; ""Tacker common process"" <-- ""Tacker UserData script"" [label = ""HOT and corresponding input-parameter including desired_capacity""]; ""Tacker common process"" -> ""Heat"" [label = ""POST /v1/{tenant_id}/stacks --parameter imageid=<original imageid>; desired_capacity=1""]; ""Heat"" -> ""VDU1-VNFC1"" [label = ""create VM""]; ""Heat"" <-- ""VDU1-VNFC1"" [label = """"]; ""Tacker common process"" <-- ""Heat"" [label = """"]; === Update internal configuration on VNFC === ""EM"" -> ""VDU1-VNFC1"" [label = ""update the internal configuration""]; ""EM"" <-- ""VDU1-VNFC1"" [label = """"]; === Modify the VNF Instance's information in Tacker DB === ""Client"" -> ""Tacker common process"" [label = ""PATCH vnflcm/v2/vnf_instances/{vnfInstanceId}""]; ""Tacker common process"" -> ""Tacker common process"" [label = ""change vnfdid of the vnfInstance. new vnfd includes identifier of the new image.""]; ""Client"" <-- ""Tacker common process"" [label = ""Response 202 Accepted""]; === Scale-out the VNF === ""Client"" -> ""Tacker common process"" [label = ""/vnflcm/v2/vnf_instances/{vnfInstanceId}/scale""]; ""Client"" <-- ""Tacker common process"" [label = ""Response 202 Accepted""]; ""NFVO"" <- ""Tacker common process"" [label = ""POST /grants""]; ""NFVO"" --> ""Tacker common process"" [label = ""201 Created with new OpenStack Glance imageid""]; ""Tacker common process"" -> ""Tacker UserData script"" [label = ""request, instance, grantRequest, grant, tmp_csar_dir""]; ""Tacker UserData script"" -> ""Tacker UserData script"" [label = ""calculate the number of VMs""]; ""Tacker common process"" <-- ""Tacker UserData script"" [label = ""HOT and corresponding input-paramaeter including desired_capacity""]; ""Tacker common process"" -> ""Heat"" [label = ""PATCH /v1/{tenant_id}/stacks/{stack_name}/{stack_id} --existing --parameter imageid=<new imageid>; desired_capacity=2""]; ""Heat"" -> ""VDU1-VNFC1"" [label = ""re-create VM""]; ""Heat"" <-- ""VDU1-VNFC1"" [label = """"]; ""Heat"" -> ""VDU1-VNFC2"" [label = ""create VM""]; ""Heat"" <-- ""VDU1-VNFC2"" [label = """"]; ""Tacker common process"" <-- ""Heat"" [label = """"]; } The procedure consists of the following steps as illustrated in above sequence: Instantiate VNF #. Client sends Tacker common process a POST request for the Instantiate VNF Instance. #. The number of VMs is calculated by multiplying ""instantiationLevelId"" described in InstantiateVnfRequest and ""number_of_instances"" described in the VNFD. #. Tacker common process and NFVO exchange granting information. #. Tacker UserData script makes HOT and corresponding input-parameters. #. Tacker common process sends Heat stack-create request with the ""Glance imageid"" and ""desired_capacity"" of AutoScalingGroup. #. Heat creates VNFC1 belonging to VDU1. Update internal configuration on VNFC and the VNF Instance's information in Tacker DB #. Element Manager (EM) updates the internal configuration on VNFC1 by accessing the guest OS. #. Client sends Tacker common process a POST request for the Modify VNF Information. #. Tacker common process updates vnfdid of the VNF Instance. The identifiers of the new software image having updated configuration are described in the new VNFD. Scale-out the VNF #. Client sends Tacker common process a POST request for the Scale-out VNF Instance. #. The number of VMs is calculated by multiplying ""number_of_steps"" described in Scale VNF request and ""number_of_instances"" described in the VNFD. #. Tacker common process and NFVO exchange granting information. Grant from NFVO contains the new Glance imageid for VNFC. #. Tacker UserData script makes HOT and corresponding input-parameters. #. Tacker common process sends Heat stack-update request with the ""Glance imageid"" and ""desired_capacity"" of AutoScalingGroup. #. Heat re-creates VNFC1 using the new software image. #. Heat creates VNFC2 using the new software image. Sequence after changing ^^^^^^^^^^^^^^^^^^^^^^^ The following sequence omits the notification process. Changes are highlighted in red boxes. .. seqdiag:: seqdiag { node_width = 80; edge_length = 100; EM; Client; NFVO; ""Tacker common process""; ""Tacker UserData script""; Heat; VDU1-VNFC1; VDU1-VNFC2; === Instantiate VNF === ""Client"" -> ""Tacker common process"" [label = ""POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/instantiate""]; ""Client"" <-- ""Tacker common process"" [label = ""Response 202 Accepted""]; ""Tacker common process"" ->> ""Tacker common process"" [label = ""calculate the number of VMs""]; ""NFVO"" <- ""Tacker common process"" [label = ""POST /grants""]; ""NFVO"" --> ""Tacker common process"" [label = ""201 Created with OpenStack Glance imageid""]; ""Tacker common process"" -> ""Tacker UserData script"" [label = ""request, instance, grantRequest, grant, tmp_csar_dir""]; ""Tacker common process"" <-- ""Tacker UserData script"" [label = ""adjusted HOT and corresponding input-parameter"", leftnote = ""Tacker UserData script makes adjusted HOT""]; ""Tacker common process"" -> ""Heat"" [label = ""POST /v1/{tenant_id}/stacks --parameter imageid=<original imageid>""]; ""Heat"" -> ""VDU1-VNFC1"" [label = ""create VM""]; ""Heat"" <-- ""VDU1-VNFC1"" [label = """"]; ""Tacker common process"" <-- ""Heat"" [label = """"]; === Update internal configuration on VNFC === ""EM"" -> ""VDU1-VNFC1"" [label = ""update the internal configuration""]; ""EM"" <-- ""VDU1-VNFC1"" [label = """"]; === Modify the VNF Instance's information in Tacker DB === ""Client"" -> ""Tacker common process"" [label = ""PATCH vnflcm/v2/vnf_instances/{vnfInstanceId}""]; ""Tacker common process"" -> ""Tacker common process"" [label = ""change vnfdid of the vnfInstance. new vnfd includes identifier of the new image.""]; ""Client"" <-- ""Tacker common process"" [label = ""Response 202 Accepted""]; === Scale-out the VNF === ""Client"" -> ""Tacker common process"" [label = ""/vnflcm/v2/vnf_instances/{vnfInstanceId}/scale""]; ""Client"" <-- ""Tacker common process"" [label = ""Response 202 Accepted""]; ""NFVO"" <- ""Tacker common process"" [label = ""POST /grants""]; ""NFVO"" --> ""Tacker common process"" [label = ""201 Created with new OpenStack Glance imageid""]; ""Tacker common process"" -> ""Tacker UserData script"" [label = ""request, instance, grantRequest, grant, tmp_csar_dir""]; ""Tacker UserData script"" -> ""Tacker UserData script"" [label = ""calculate the number of VMs""]; ""Tacker common process"" <-- ""Tacker UserData script"" [label = ""adjusted HOT and corresponding input-parameter"", leftnote = ""Tacker UserData script makes adjusted HOT""]; ""Tacker common process"" -> ""Heat"" [label = ""PATCH /v1/{tenant_id}/stacks/{stack_name}/{stack_id} --existing --parameter imageid=<new imageid>""]; ""Heat"" -> ""VDU1-VNFC2"" [label = ""create VM""]; ""Heat"" <-- ""VDU1-VNFC2"" [label = """"]; ""Tacker common process"" <-- ""Heat"" [label = """"]; } The procedure consists of the following steps as illustrated in above sequence: Instantiate VNF #. Client sends Tacker common process a POST request for the Instantiate VNF Instance. #. The number of VMs is calculated by multiplying ""instantiationLevelId"" described in InstantiateVnfRequest and ""number_of_instances"" described in VNFD. #. Tacker common process and NFVO exchange granting information. #. Tacker UserData script makes adjusted HOT and corresponding input-parameters. #. Tacker common process sends Heat stack-create request with the ""Glance imageid"". #. Heat creates VNFC1 belonging to VDU1. Update internal configuration on VNFC and the VNF Instance's information in Tacker DB #. Element Manager (EM) updates the internal configuration on VNFC1 by accessing the guest OS. #. Client sends Tacker common process a POST request for the Modify VNF Information. #. Tacker common process updates vnfdid of the VNF Instance. The identifiers of the new software image having updated configuration are described in the new VNFD. Scale-out the VNF #. Client sends Tacker common process a POST request for the Scale-out VNF Instance. #. The number of VMs is calculated by multiplying ""number_of_steps"" described in Scale VNF request and ""number_of_instances"" described in VNFD. #. Tacker common process and NFVO exchange granting information. grant from NFVO contains new Glance imageid for VNFC. #. Tacker UserData script makes adjusted HOT and corresponding input-parameters. #. Tacker common process sends Heat stack-update request with the ""Glance imageid"" to target VNFC. #. Heat creates VNFC2 belonging to VDU1. Adjusted HOT ------------ Tacker's UserData script generates adjusted HOT from BaseHOT. Individual VNFC definitions are described in adjusted HOT, and individual input-parameters for them can be specified. Therefore, Tacker can manage individual VNFC by using adjusted HOT. For example, Tacker can change the software image of only heal target VNFC. Also, Tacker can specify the different availability zone for each VNFC. Since the proposed change does not affect Tacker-common process, Tacker can support both BaseHOT with AutoScalingGroup and BaseHOT without AutoScalingGroup. BaseHOT ^^^^^^^ * top HOT .. code-block:: yaml heat_template_version: 2013-05-23 description: Test Base HOT parameters: nfv: type: json resources: VDU1: type: VDU1.yaml properties: name: { get_param: [ nfv, VDU, VDU1, computeName ] } flavor: { get_param: [ nfv, VDU, VDU1, computeFlavourId ] } image: { get_param: [ nfv, VDU, VDU1, vcImageId ] } zone: { get_param: [ nfv, VDU, VDU1, locationConstraints] } net: { get_param: [ nfv, CP, VDU1_CP1, network] } * nested HOT (VDU1.yaml specified in above top HOT) .. code-block:: yaml heat_template_version: 2013-05-23 description: 'VDU1 HOT for Sample VNF' parameters: flavor: type: string image: type: string zone: type: string net: type: string resources: VDU1: type: OS::Nova::Server properties: name: { get_param: name } flavor: { get_param: flavor } image: { get_param: image } networks: - port: get_resource: VDU1_CP1 availability_zone: { get_param: zone } VDU1_CP1: type: OS::Neutron::Port properties: network: { get_param: net } * Input-parameter .. code-block:: json ""nfv"": { ""VDU"": { ""VDU1"": { ""computeName"": ""VDU1"", ""computeFlavourId"": ""m1.tiny"", ""vcImageId"": ""6b8a14f0-1b40-418a-b650-ae4a0378daa5"", ""locationConstraints"": ""zone-x"" } }, ""CP"": { ""VDU1_CP1"": { ""network"": ""67c837dc-c247-4a3e-ac0f-5603bfef1ba3"" } } } Adjusted HOT ^^^^^^^^^^^^ * top HOT .. code-block:: yaml heat_template_version: 2013-05-23 description: Test Base HOT parameters: nfv: type: json resources: VDU1-0: type: VDU1.yaml properties: name: { get_param: [ nfv, VDU, VDU1-0, computeName ] } flavor: { get_param: [ nfv, VDU, VDU1-0, computeFlavourId ] } image: { get_param: [ nfv, VDU, VDU1-0, vcImageId ] } zone: { get_param: [ nfv, VDU, VDU1-0, locationConstraints ] } net: { get_param: [ nfv, CP, VDU1_CP1-0, network ] } VDU1-1: type: VDU1.yaml properties: name: { get_param: [ nfv, VDU, VDU1-1, computeName ] } flavor: { get_param: [ nfv, VDU,VDU1-1, computeFlavourId ] } image: { get_param: [ nfv, VDU,VDU1-1, vcImageId ] } zone: { get_param: [ nfv, VDU,VDU1-1, locationConstraints ] } net: { get_param: [ nfv, CP, VDU1_CP1-1,network ] } * nested HOT Only the top HOT is changed to the adjusted HOT. Nested HOT is unchanged from BaseHOT. * Input-parameter .. code-block:: json ""nfv"": { ""VDU"": { ""VDU1-0"": { ""computeName"": ""VDU1-0"", ""computeFlavourId"": ""m1.tiny"", ""vcImageId"": ""6b8a14f0-1b40-418a-b650-ae4a0378daa5"", ""locationConstraints"": ""zone-x"" }, ""VDU1-1"": { ""computeName"": ""VDU1-1"", ""computeFlavourId"": ""m1.large"", ""vcImageId"": ""0ef0597c-4aab-4235-8513-bf5d8304fe64"", ""locationConstraints"": ""zone-y"" } }, ""CP"": { ""VDU1_CP1-0"": { ""network"": ""67c837dc-c247-4a3e-ac0f-5603bfef1ba3"" }, ""VDU1_CP1-1"": { ""network"": ""4d8aa289-21eb-4997-86f2-49a884f78d0b"" } } } Following is the requirements of UserData script. * UserData script calculates the number of VNFCs on the basis of the number of ``VnfInstance.instantiatedVnfInfo.vnfcResourceInfo``, ``Grant.addResources``, and ``Grant.removeResources`` similar to the method of calculating desired_capacity. `get_param_capacity` [#userdata_get_param_capacity]_ , which is one of utility functions for UserData class can be used to get the number of resources. * UserData script describes the same number of resources as VNFC to adjusted HOT. * UserData scripts create the resource id of VNFC (e.g. VDU1-0, VDU-1-1). * Properties of resources are copied from BaseHOT. * UserData script makes the input-parameter corresponding to Adjusted HOT. .. note:: There is a difference in scale-in operation with and without AutoScalingGroup. Basically, VNFCs are deleted in order from the latest in scale-in operation. In the case of using AutoScalingGroup, the latest resource is determined on the basis of the `creation_time` by OpenStack Nova. Since `creation_time` is updated by heal operation, the order of VNFCs is changed dynamically. On the other hand, in the case of the not using AutoScalingGroup, the latest resource is determined by the resource-id (e.g. VDU1-0, VDU1-1). Thus the order of the VNFc is not changed by heal operation when not using AutoScalingGroup. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp> Work Items ---------- * Add new VNF package containing new BaseHOT and new UserData scripts. * Add new functional tests. * Add new utility functions making adjusted HOT. Dependencies ============ None Testing ======== Functional test cases will be added for Instantiate and Scale VNF. Documentation Impact ==================== New utility functions for UserData class will be described in UserData script manual. References ========== .. [#Tacker-userdata_script] https://docs.openstack.org/tacker/latest/user/userdata_script.html .. [#NFV-SOL002_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/03.03.01_60/gs_nfv-sol002v030301p.pdf .. [#NFV-SOL003_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf .. [#OpenStack_Resource_Types_AutoScalingGroup] https://docs.openstack.org/heat/pike/template_guide/openstack.html#OS::Heat::AutoScalingGroup .. [#NFV-IFA007_361] https://docbox.etsi.org/ISG/NFV/Open/Publications_pdf/Specs-Reports/NFV-IFA%20007v3.6.1%20-%20GS%20-%20Or-Vnfm%20ref%20point%20Spec.pdf .. [#userdata_get_param_capacity] https://docs.openstack.org/tacker/latest/user/userdata_script.html#def-get-param-capacity-vdu-name-inst-grant-req ",,656,0
openstack%2Fdesignate-tempest-plugin~master~Ie854b23cb4e86439b427b13c0d769c538e8927e5,openstack/designate-tempest-plugin,master,Ie854b23cb4e86439b427b13c0d769c538e8927e5,Disable admin API tests by default,MERGED,2022-07-27 15:11:50.000000000,2022-07-28 01:06:01.000000000,2022-07-28 01:04:58.000000000,"[{'_account_id': 5572}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-07-27 15:11:50.000000000', 'files': ['designate_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/407b60f84416b6aeb13bcdea16fa40fef2326dd0', 'message': 'Disable admin API tests by default\n\nDesignate has deprecated the admin API and it is disabled by default in Designate. The tempest tests for it should also be disabled by default.\nThis patch corrects that mis-match between the tempest plugin and Designate default configurations.\n\nCloses-Bug: #1982958\nChange-Id: Ie854b23cb4e86439b427b13c0d769c538e8927e5\n'}]",1,851235,407b60f84416b6aeb13bcdea16fa40fef2326dd0,9,4,1,11628,,,0,"Disable admin API tests by default

Designate has deprecated the admin API and it is disabled by default in Designate. The tempest tests for it should also be disabled by default.
This patch corrects that mis-match between the tempest plugin and Designate default configurations.

Closes-Bug: #1982958
Change-Id: Ie854b23cb4e86439b427b13c0d769c538e8927e5
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/35/851235/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/config.py'],1,407b60f84416b6aeb13bcdea16fa40fef2326dd0,bug/1982958," default=False,"," default=True,",1,1
openstack%2Fpuppet-neutron~master~I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c,openstack/puppet-neutron,master,I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c,Cache network/subnet/router list,ABANDONED,2021-11-16 12:58:59.000000000,2022-07-28 01:04:04.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-16 12:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7a9bfda94ea1b8b6e8d5a785bc5ea40c301ea46c', 'message': 'Cache network/subnet/router list\n\nThis change introduces caching of network list, subnet list and router\nlist to provider implementations, to avoid redundant API call to obtain\nthe same list. The cached list is also used to look up network/subnet\nname from id, to avoid additional GET API call.\nNote the cache is expired when creating or deleting resources by\nproviders, so any change made outside of puppet is not properly\ndetected.\n\nChange-Id: I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c\n'}, {'number': 2, 'created': '2021-11-16 13:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/884f26751bbd75c308ce33c07f30c0e31777a35d', 'message': ""Cache network/subnet/router list\n\nThis change introduces caching of network list, subnet list and router\nlist to provider implementations, to avoid redundant API call to obtain\nthe same list. The cached list is also used to look up network/subnet\nname from id, to avoid additional GET API call.\n\nCurrently the cache is expired when creating or deleting instances,\nbecause the current providers don't allow updating name and now only\nid and name are used from the cache data. This should be revisited when\nwe extend usage of cache. Also note that any change made by external\ntooling is not properly detected.\n\nChange-Id: I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c\n""}, {'number': 3, 'created': '2021-11-17 02:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f31e8d5eb8c243e0d34ce6e9b1aebf9bcf6bb8b3', 'message': ""Cache network/subnet/router list\n\nThis change introduces caching of network list, subnet list and router\nlist to provider implementations, to avoid redundant API call to obtain\nthe same list. The cached list is also used to look up network/subnet\nname from id, to avoid additional GET API call.\n\nCurrently the cache is expired when creating or deleting instances,\nbecause the current providers don't allow updating name and now only\nid and name are used from the cache data. This should be revisited when\nwe extend usage of cache. Also note that any change made by external\ntooling is not properly detected.\n\nChange-Id: I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c\n""}, {'number': 4, 'created': '2021-11-17 02:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b4e403c8b037dbf7a7a87f8ebeed2a44c8255ff4', 'message': ""Cache network/subnet/router list\n\nThis change introduces caching of network list, subnet list and router\nlist to provider implementations, to avoid redundant API call to obtain\nthe same list. The cached list is also used to look up network/subnet\nname from id, to avoid additional GET API call.\n\nCurrently the cache is expired when creating or deleting instances,\nbecause the current providers don't allow updating name and now only\nid and name are used from the cache data. This should be revisited when\nwe extend usage of cache. Also note that any change made by external\ntooling is not properly detected.\n\nChange-Id: I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c\n""}, {'number': 5, 'created': '2021-11-17 05:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7078d41da943435a2eee2bcccabfd882227888c1', 'message': ""Cache network/subnet/router list\n\nThis change introduces caching of network list, subnet list and router\nlist to provider implementations, to avoid redundant API call to obtain\nthe same list. The cached list is also used to look up network/subnet\nname from id, to avoid additional GET API call.\n\nCurrently the cache is expired when creating or deleting instances,\nbecause the current providers don't allow updating name and now only\nid and name are used from the cache data. This should be revisited when\nwe extend usage of cache. Also note that any change made by external\ntooling is not properly detected.\n\nChange-Id: I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c\n""}, {'number': 6, 'created': '2021-11-17 06:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b55a7a22571f443513d2c8b7689c9bd2a8fe844c', 'message': ""Cache network/subnet/router list\n\nThis change introduces caching of network list, subnet list and router\nlist to provider implementations, to avoid redundant API call to obtain\nthe same list. The cached list is also used to look up network/subnet\nname from id, to avoid additional GET API call.\n\nCurrently the cache is expired when creating or deleting instances,\nbecause the current providers don't allow updating name and now only\nid and name are used from the cache data. This should be revisited when\nwe extend usage of cache. Also note that any change made by external\ntooling is not properly detected.\n\nChange-Id: I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c\n""}, {'number': 7, 'created': '2021-11-17 08:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7739e3116f8caefb955e51fa49e16ad731a8fb64', 'message': ""Cache network/subnet/router list\n\nThis change introduces caching of network list, subnet list and router\nlist to provider implementations, to avoid redundant API call to obtain\nthe same list. The cached list is also used to look up network/subnet\nname from id, to avoid additional GET API call.\n\nCurrently the cache is expired when creating or deleting instances,\nbecause the current providers don't allow updating name and now only\nid and name are used from the cache data. This should be revisited when\nwe extend usage of cache. Also note that any change made by external\ntooling is not properly detected.\n\nChange-Id: I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c\n""}, {'number': 8, 'created': '2021-11-17 10:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9cbf1ac2b9ca0374aea75c3e2c5de794b1df547d', 'message': ""Cache network/subnet/router list\n\nThis change introduces caching of network list, subnet list and router\nlist to provider implementations, to avoid redundant API call to obtain\nthe same list. The cached list is also used to look up network/subnet\nname from id, to avoid additional GET API call.\n\nCurrently the cache is expired when creating or deleting instances,\nbecause the current providers don't allow updating name and now only\nid and name are used from the cache data. This should be revisited when\nwe extend usage of cache. Also note that any change made by external\ntooling is not properly detected.\n\nChange-Id: I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c\n""}, {'number': 9, 'created': '2021-11-17 12:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6d739b08fc15efb6eea6126ee579a5192d959f03', 'message': ""Cache network/subnet/router list\n\nThis change introduces caching of network list, subnet list and router\nlist to provider implementations, to avoid redundant API call to obtain\nthe same list. The cached list is also used to look up network/subnet\nname from id, to avoid additional GET API call.\n\nCurrently the cache is expired when creating or deleting instances,\nbecause the current providers don't allow updating name and now only\nid and name are used from the cache data. This should be revisited when\nwe extend usage of cache. Also note that any change made by external\ntooling is not properly detected.\n\nChange-Id: I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c\n""}, {'number': 10, 'created': '2022-02-19 13:34:03.000000000', 'files': ['spec/unit/provider/neutron_spec.rb', 'spec/unit/provider/neutron_router/openstack_spec.rb', 'lib/puppet/provider/neutron_router/openstack.rb', 'spec/unit/provider/neutron_network/openstack_spec.rb', 'lib/puppet/provider/neutron.rb', 'lib/puppet/provider/neutron_network/openstack.rb', 'spec/unit/provider/neutron_subnet/openstack_spec.rb', 'lib/puppet/provider/neutron_router_interface/openstack.rb', 'spec/unit/provider/neutron_router_interface/openstack_spec.rb', 'lib/puppet/provider/neutron_subnet/openstack.rb', 'spec/unit/provider/neutron_port/openstack_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c9ac7119e9278581f5e01cb41935351d116a6c99', 'message': ""Cache network/subnet/router list\n\nThis change introduces caching of network list, subnet list and router\nlist to provider implementations, to avoid redundant API call to obtain\nthe same list. The cached list is also used to look up network/subnet\nname from id, to avoid additional GET API call.\n\nCurrently the cache is expired when creating or deleting instances,\nbecause the current providers don't allow updating name and now only\nid and name are used from the cache data. This should be revisited when\nwe extend usage of cache. Also note that any change made by external\ntooling is not properly detected.\n\nChange-Id: I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c\n""}]",2,818083,c9ac7119e9278581f5e01cb41935351d116a6c99,16,2,10,9816,,,0,"Cache network/subnet/router list

This change introduces caching of network list, subnet list and router
list to provider implementations, to avoid redundant API call to obtain
the same list. The cached list is also used to look up network/subnet
name from id, to avoid additional GET API call.

Currently the cache is expired when creating or deleting instances,
because the current providers don't allow updating name and now only
id and name are used from the cache data. This should be revisited when
we extend usage of cache. Also note that any change made by external
tooling is not properly detected.

Change-Id: I0c6df77c732a2e5c3a92e1de834aa4ef85cba57c
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/83/818083/8 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/neutron_router/openstack.rb', 'lib/puppet/provider/neutron.rb', 'lib/puppet/provider/neutron_network/openstack.rb', 'lib/puppet/provider/neutron_router_interface/openstack.rb', 'lib/puppet/provider/neutron_subnet/openstack.rb']",5,7a9bfda94ea1b8b6e8d5a785bc5ea40c301ea46c,cache, list = get_subnets().collect do |attrs| self.class.clear_subnets_cache self.class.clear_subnets_cache," list = request('subnet', 'list').collect do |attrs|",54,9
openstack%2Fpuppet-openstack_extras~master~Ic472d7b9f29daccef2d1c623841a3b7e94c0f9a7,openstack/puppet-openstack_extras,master,Ic472d7b9f29daccef2d1c623841a3b7e94c0f9a7,Remove clean up for old repo setup,ABANDONED,2022-04-06 12:36:19.000000000,2022-07-28 01:03:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-06 12:36:19.000000000', 'files': ['manifests/repo/redhat/redhat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/11d9f4c2309047c1f5181edffc6a29411e9a8e09', 'message': 'Remove clean up for old repo setup\n\n... because this clean up was added during Xena cycle[1], has been kept\nfor two releases.\n\n[1] 655fa83e4d7e34a296dbe030bdf8d7e727146f34\n\nChange-Id: Ic472d7b9f29daccef2d1c623841a3b7e94c0f9a7\n'}]",0,836821,11d9f4c2309047c1f5181edffc6a29411e9a8e09,3,1,1,9816,,,0,"Remove clean up for old repo setup

... because this clean up was added during Xena cycle[1], has been kept
for two releases.

[1] 655fa83e4d7e34a296dbe030bdf8d7e727146f34

Change-Id: Ic472d7b9f29daccef2d1c623841a3b7e94c0f9a7
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/21/836821/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo/redhat/redhat.pp'],1,11d9f4c2309047c1f5181edffc6a29411e9a8e09,,," # TODO(tobias-urdin): Remove this after one cycle. yumrepo { 'rdo-qemu-ev': ensure => 'absent', } ",0,5
openstack%2Fpuppet-openstack-integration~master~Icc9f262eea8f4f756c03734f1f89dbea5a8e0669,openstack/puppet-openstack-integration,master,Icc9f262eea8f4f756c03734f1f89dbea5a8e0669,Glance: Run glance-api by apache+mod_wsgi,ABANDONED,2022-06-24 02:32:37.000000000,2022-07-28 01:01:22.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-24 02:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1f9af0b85509fbb7fd952f2376012fdf3b8bea99', 'message': 'Glance: Run glance-api by apache+mod_wsgi\n\n... instead of eventlet server.\n\nDepends-on: https://review.opendev.org/817403\nChange-Id: Icc9f262eea8f4f756c03734f1f89dbea5a8e0669\n'}, {'number': 2, 'created': '2022-06-24 02:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fb7f095a31e32702307bdc73b26d6b90a034a708', 'message': 'Glance: Run glance-api by apache+mod_wsgi\n\n... instead of eventlet server.\n\nDepends-on: https://review.opendev.org/817403\nChange-Id: Icc9f262eea8f4f756c03734f1f89dbea5a8e0669\n'}, {'number': 3, 'created': '2022-06-24 04:06:44.000000000', 'files': ['manifests/cinder.pp', 'manifests/glance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1d7fb3c49e6c79a968386de91c111d87ae7d2e4e', 'message': 'Glance: Run glance-api by apache+mod_wsgi\n\n... instead of eventlet server.\n\nDepends-on: https://review.opendev.org/817403\nChange-Id: Icc9f262eea8f4f756c03734f1f89dbea5a8e0669\n'}]",0,847516,1d7fb3c49e6c79a968386de91c111d87ae7d2e4e,9,2,3,9816,,,0,"Glance: Run glance-api by apache+mod_wsgi

... instead of eventlet server.

Depends-on: https://review.opendev.org/817403
Change-Id: Icc9f262eea8f4f756c03734f1f89dbea5a8e0669
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/16/847516/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'manifests/glance.pp']",2,1f9af0b85509fbb7fd952f2376012fdf3b8bea99,glance-api-wsgi," public_url => ""${::openstack_integration::config::base_url}:9292"", internal_url => ""${::openstack_integration::config::base_url}:9292"", admin_url => ""${::openstack_integration::config::base_url}:9292"", service_name => 'httpd', include apache class { 'glance::wsgi::apache': bind_host => $::openstack_integration::config::ip_for_url, ssl => $::openstack_integration::config::ssl, ssl_key => ""/etc/cinder/ssl/private/${::fqdn}.pem"", ssl_cert => $::openstack_integration::params::cert_path, workers => 2, }"," public_url => ""http://${::openstack_integration::config::ip_for_url}:9292"", internal_url => ""http://${::openstack_integration::config::ip_for_url}:9292"", admin_url => ""http://${::openstack_integration::config::ip_for_url}:9292"",",13,4
openstack%2Ftripleo-heat-templates~master~I6fe456fe153d10a9958230bd7dcc6f25e350da53,openstack/tripleo-heat-templates,master,I6fe456fe153d10a9958230bd7dcc6f25e350da53,Do not override CephClientConfigVars in standalone scenarios,MERGED,2022-07-13 21:41:34.000000000,2022-07-28 00:44:43.000000000,2022-07-28 00:44:43.000000000,"[{'_account_id': 6681}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-07-13 21:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26832fa276456ebae9cc93d5ea3f97ae91eb7cdf', 'message': 'Do not override CephClientConfigVars from CI scenarios\n\nThis is not necessary anymore given [1] is setting the path\ncorrectly with useful defaults.\n\n1. https://review.opendev.org/q/4a1fab391de6cd5e9d92d2e08c3a0d09728421df\n\nChange-Id: I6fe456fe153d10a9958230bd7dcc6f25e350da53\n'}, {'number': 2, 'created': '2022-07-18 21:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/909f69c1ee5b298f8508b6eb7c14c1769144b0ca', 'message': 'Do not override CephClientConfigVars from CI scenarios\n\nThis is not necessary anymore given [1] is setting the path\ncorrectly with useful defaults.\n\n1. https://review.opendev.org/q/4a1fab391de6cd5e9d92d2e08c3a0d09728421df\n\nDepends-On: I0415689cc59ba59d737422f6a7ad10d9b2f1a186\nChange-Id: I6fe456fe153d10a9958230bd7dcc6f25e350da53\n'}, {'number': 3, 'created': '2022-07-19 11:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba0fe877121ee5a8cf0a5d5ac9824ef17a088c5f', 'message': 'Do not override CephClientConfigVars in standalone scenarios\n\nThe depends-on patch will ensure CephClientConfigVars is\nset for deployed ceph standalone scenarios.\n\nDepends-On: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nChange-Id: I6fe456fe153d10a9958230bd7dcc6f25e350da53\n'}, {'number': 4, 'created': '2022-07-19 15:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca851e1afa3b2b0dc0b9907a8cc834df65c9f61f', 'message': 'Do not override CephClientConfigVars in standalone scenarios\n\nThe depends-on patch will ensure CephClientConfigVars is\nset for deployed ceph standalone scenarios.\n\nDepends-On: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nChange-Id: I6fe456fe153d10a9958230bd7dcc6f25e350da53\n'}, {'number': 5, 'created': '2022-07-19 21:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c0b08767474060c2c85057b358dba0f2cba514a', 'message': 'Do not override CephClientConfigVars in standalone scenarios\n\nThe depends-on patch will ensure CephClientConfigVars is\nset for deployed ceph standalone scenarios.\n\nDepends-On: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nChange-Id: I6fe456fe153d10a9958230bd7dcc6f25e350da53\n'}, {'number': 6, 'created': '2022-07-25 19:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/760045381c5aaeb7dba60dc199629891236136a1', 'message': 'Do not override CephClientConfigVars in standalone scenarios\n\nThe depends-on patch will ensure CephClientConfigVars is\nset for deployed ceph standalone scenarios.\n\nDepends-On: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nChange-Id: I6fe456fe153d10a9958230bd7dcc6f25e350da53\n'}, {'number': 7, 'created': '2022-07-27 17:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/789cda90664e91b4b78c95fd13ce0e464f405b87', 'message': 'Do not override CephClientConfigVars in standalone scenarios\n\nThe depends-on patch will ensure CephClientConfigVars is\nset for deployed ceph standalone scenarios.\n\nChange-Id: I6fe456fe153d10a9958230bd7dcc6f25e350da53\n'}, {'number': 8, 'created': '2022-07-27 17:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acc24a3773b9897286a84bace5e7aa8e27bd248a', 'message': 'Do not override CephClientConfigVars in standalone scenarios\n\n I7717f2ce9f668e9fd77c9b49e2433d729ed3c836 will ensure CephClientConfigVars is\nset for deployed ceph standalone scenarios.\n\nChange-Id: I6fe456fe153d10a9958230bd7dcc6f25e350da53\n'}, {'number': 9, 'created': '2022-07-27 17:46:21.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f791902ae7296e1ad5ca81b4b76c2078cd8beae', 'message': 'Do not override CephClientConfigVars in standalone scenarios\n\nI7717f2ce9f668e9fd77c9b49e2433d729ed3c836 will ensure\nCephClientConfigVars is set for deployed ceph standalone\nscenarios.\n\nChange-Id: I6fe456fe153d10a9958230bd7dcc6f25e350da53\n'}]",12,849756,4f791902ae7296e1ad5ca81b4b76c2078cd8beae,70,6,9,6796,,,0,"Do not override CephClientConfigVars in standalone scenarios

I7717f2ce9f668e9fd77c9b49e2433d729ed3c836 will ensure
CephClientConfigVars is set for deployed ceph standalone
scenarios.

Change-Id: I6fe456fe153d10a9958230bd7dcc6f25e350da53
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/849756/8 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml']",4,26832fa276456ebae9cc93d5ea3f97ae91eb7cdf,bug/1981467,," CephClientConfigVars: ""{{ playbook_dir }}/cephadm/ceph_client.yml""",0,4
openstack%2Fpython-openstackclient~master~I2597adb7064eb85517d0c40a70e11f5a62def163,openstack/python-openstackclient,master,I2597adb7064eb85517d0c40a70e11f5a62def163,Use py3 as the default runtime for tox,ABANDONED,2022-07-27 02:11:49.000000000,2022-07-28 00:44:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-27 02:11:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4c363bc4b9d93f593a95d12c4d577159fd6ec758', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I2597adb7064eb85517d0c40a70e11f5a62def163\n'}]",1,850988,4c363bc4b9d93f593a95d12c4d577159fd6ec758,5,1,1,35058,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I2597adb7064eb85517d0c40a70e11f5a62def163
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/88/850988/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4c363bc4b9d93f593a95d12c4d577159fd6ec758,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fceilometer-powervm~master~I5bb5bd3337e1b14de2c5cc6b3095eaf2e527d624,openstack/ceilometer-powervm,master,I5bb5bd3337e1b14de2c5cc6b3095eaf2e527d624,Use TOX_CONSTRAINTS_FILE,ABANDONED,2022-07-27 01:33:53.000000000,2022-07-28 00:21:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-27 01:33:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/9e9b082296012ad4700f688c21cec0ab4bb83110', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I5bb5bd3337e1b14de2c5cc6b3095eaf2e527d624\n'}]",1,850985,9e9b082296012ad4700f688c21cec0ab4bb83110,5,1,1,35058,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I5bb5bd3337e1b14de2c5cc6b3095eaf2e527d624
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/85/850985/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9e9b082296012ad4700f688c21cec0ab4bb83110,, -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Fcinder~master~I6b0c1bdd1988229a61f75b39c9dcc6e00c43c568,openstack/cinder,master,I6b0c1bdd1988229a61f75b39c9dcc6e00c43c568,"db api: remove ""inactive"" arg from get_all_types",NEW,2022-05-10 15:55:07.000000000,2022-07-27 23:47:14.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-10 15:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c070e5be3cc39a317028bf510290bcbd10685f1', 'message': 'db api: remove ""inactive"" arg from get_all_types\n\nThis doesn\'t do anything, and is not used.\n\nChange-Id: I6b0c1bdd1988229a61f75b39c9dcc6e00c43c568\n'}, {'number': 2, 'created': '2022-05-10 16:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7005ce95a531bd9438ddee7d2b8c38d275788e21', 'message': 'db api: remove ""inactive"" arg from get_all_types\n\nThis doesn\'t do anything, and is not used.\n\nRemove from get_all_types and get_all_group_types.\n\nChange-Id: I6b0c1bdd1988229a61f75b39c9dcc6e00c43c568\n'}, {'number': 3, 'created': '2022-05-16 18:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb898f39ef789984c041eacf3154cdaa9a496122', 'message': 'db api: remove ""inactive"" arg from get_all_types\n\nThis doesn\'t do anything, and is not used.\n\nRemove from get_all_types and get_all_group_types.\n\nChange-Id: I6b0c1bdd1988229a61f75b39c9dcc6e00c43c568\n'}, {'number': 4, 'created': '2022-05-19 18:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00f01bc3dbeca9445217fa77ea37a694712e65f9', 'message': 'db api: remove ""inactive"" arg from get_all_types\n\nThis doesn\'t do anything, and is not used.\n\nRemove from get_all_types and get_all_group_types.\n\nChange-Id: I6b0c1bdd1988229a61f75b39c9dcc6e00c43c568\n'}, {'number': 5, 'created': '2022-07-07 14:31:11.000000000', 'files': ['cinder/objects/group_type.py', 'cinder/volume/group_types.py', 'cinder/db/api.py', 'cinder/volume/volume_types.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c7c31f58dbd0bd888419029605ec078d7fcd36b', 'message': 'db api: remove ""inactive"" arg from get_all_types\n\nThis doesn\'t do anything, and is not used.\n\nRemove from get_all_types and get_all_group_types.\n\nChange-Id: I6b0c1bdd1988229a61f75b39c9dcc6e00c43c568\n'}]",6,841302,1c7c31f58dbd0bd888419029605ec078d7fcd36b,106,3,5,4523,,,0,"db api: remove ""inactive"" arg from get_all_types

This doesn't do anything, and is not used.

Remove from get_all_types and get_all_group_types.

Change-Id: I6b0c1bdd1988229a61f75b39c9dcc6e00c43c568
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/841302/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/api.py', 'cinder/volume/volume_types.py', 'cinder/db/sqlalchemy/api.py']",3,7c070e5be3cc39a317028bf510290bcbd10685f1,,"def volume_type_get_all(context, filters=None, marker=None,# TODO: remove ""inactive"" arg here","def volume_type_get_all(context, inactive=False, filters=None, marker=None,",5,6
openstack%2Ftacker-specs~master~I7d8e48c7d20e38f119f81803c73480de68708eb9,openstack/tacker-specs,master,I7d8e48c7d20e38f119f81803c73480de68708eb9,Support multi artifact of ansible driver,MERGED,2022-04-05 04:56:33.000000000,2022-07-27 23:47:12.000000000,2022-07-27 23:46:08.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 33455}, {'_account_id': 34107}]","[{'number': 1, 'created': '2022-04-05 04:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/393e168ce48a8e482c1e8724bf0f40358935c63e', 'message': '[WIP]Support multi artifact of ansible driver\n\nThe Ansible Driver currently has only a single configuration\ninformation.\nThis above specification does not allow changing the configuration\ninformation for multiple deployment Flavors.\n\nAdopts the Multi artifact specification defined in TOSCA to hold\nmultiple Configuration information.\n* Enable understanding of primary and dependencies at toscaparser\n* Enable understanding of primary and dependencies at schema of tacker\n* Extend method that get implementation information\n\nChange-Id: I7d8e48c7d20e38f119f81803c73480de68708eb9\n'}, {'number': 2, 'created': '2022-05-19 06:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/d98d9ef1375811c895ba9366f155cbf474f37fe9', 'message': 'Support multi artifact of ansible driver\n\nThe Ansible Driver currently has only a single configuration\ninformation.\nThis above specification does not allow changing the configuration\ninformation for multiple deployment Flavors.\n\nAdopts the Multi artifact specification defined in TOSCA to hold\nmultiple Configuration information.\n* Enable understanding of primary and dependencies at toscaparser\n* Enable understanding of primary and dependencies at schema of tacker\n* Extend method that get implementation information\n\nChange-Id: I7d8e48c7d20e38f119f81803c73480de68708eb9\n'}, {'number': 3, 'created': '2022-06-07 02:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/73faa25dc69f0fe86fbe320661b72bac61a9a88d', 'message': 'Support multi artifact of ansible driver\n\nThe Ansible Driver currently has only a single configuration\ninformation.\nThis above specification does not allow changing the configuration\ninformation for multiple deployment Flavors.\n\nAdopts the Multi artifact specification defined in TOSCA to hold\nmultiple Configuration information.\n* Enable understanding of primary and dependencies at toscaparser\n* Enable understanding of primary and dependencies at schema of tacker\n* Extend method that get implementation information\n\nImplements: blueprint add-ansible-mgmt-driver-sample\nChange-Id: I7d8e48c7d20e38f119f81803c73480de68708eb9\n'}, {'number': 4, 'created': '2022-07-22 05:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b24b13c06522b5728c6555654073d02844a6315d', 'message': 'Support multi artifact of ansible driver\n\nThe Ansible Driver currently has only a single configuration\ninformation.\nThis above specification does not allow changing the configuration\ninformation for multiple deployment Flavors.\n\nAdopts the Multi artifact specification defined in TOSCA to hold\nmultiple Configuration information.\n* Enable understanding of primary and dependencies at toscaparser\n* Enable understanding of primary and dependencies at schema of tacker\n* Extend method that get implementation information\n\nImplements: blueprint add-ansible-mgmt-driver-sample\nChange-Id: I7d8e48c7d20e38f119f81803c73480de68708eb9\n'}, {'number': 5, 'created': '2022-07-22 11:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e1f66b2188cfc90261c1f1aab4960504dea6bfb9', 'message': 'Support multi artifact of ansible driver\n\nThe Ansible Driver currently has only a single configuration\ninformation.\nThis above specification does not allow changing the configuration\ninformation for multiple deployment Flavors.\n\nAdopts the Multi artifact specification defined in TOSCA to hold\nmultiple Configuration information.\n* Enable understanding of primary and dependencies at toscaparser\n* Enable understanding of primary and dependencies at schema of tacker\n* Extend method that get implementation information\n\nImplements: blueprint add-ansible-mgmt-driver-sample\nChange-Id: I7d8e48c7d20e38f119f81803c73480de68708eb9\n'}, {'number': 6, 'created': '2022-07-25 10:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/89bf63bd00c5a4d4ca585479609b9bb9e07f4e5e', 'message': 'Support multi artifact of ansible driver\n\nThe Ansible Driver currently has only a single configuration\ninformation.\nThis above specification does not allow changing the configuration\ninformation for multiple deployment Flavors.\n\nAdopts the Multi artifact specification defined in TOSCA to hold\nmultiple Configuration information.\n* Enable understanding of primary and dependencies at toscaparser\n* Enable understanding of primary and dependencies at schema of tacker\n* Extend method that get implementation information\n\nImplements: blueprint add-ansible-mgmt-driver-sample\nChange-Id: I7d8e48c7d20e38f119f81803c73480de68708eb9\n'}, {'number': 7, 'created': '2022-07-26 05:00:01.000000000', 'files': ['specs/zed/support_multi_artifact_of_ansible_driver.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/18f36b3ee22d35d6789045643b4eb9df68545c8a', 'message': 'Support multi artifact of ansible driver\n\nThe Ansible Driver currently has only a single configuration\ninformation.\nThis above specification does not allow changing the configuration\ninformation for multiple deployment Flavors.\n\nAdopts the Multi artifact specification defined in TOSCA to hold\nmultiple Configuration information.\n* Enable understanding of primary and dependencies at toscaparser\n* Enable understanding of primary and dependencies at schema of tacker\n* Extend method that get implementation information\n\nImplements: blueprint add-ansible-mgmt-driver-sample\nChange-Id: I7d8e48c7d20e38f119f81803c73480de68708eb9\n'}]",63,836420,18f36b3ee22d35d6789045643b4eb9df68545c8a,31,7,7,32736,,,0,"Support multi artifact of ansible driver

The Ansible Driver currently has only a single configuration
information.
This above specification does not allow changing the configuration
information for multiple deployment Flavors.

Adopts the Multi artifact specification defined in TOSCA to hold
multiple Configuration information.
* Enable understanding of primary and dependencies at toscaparser
* Enable understanding of primary and dependencies at schema of tacker
* Extend method that get implementation information

Implements: blueprint add-ansible-mgmt-driver-sample
Change-Id: I7d8e48c7d20e38f119f81803c73480de68708eb9
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/20/836420/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/support_multi_artifact_of_ansible_driver.rst'],1,393e168ce48a8e482c1e8724bf0f40358935c63e,bp/add-ansible-mgmt-driver-sample,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Support multi artifact of ansible driver ========================================== https://blueprints.launchpad.net/tacker/+spec/add-ansible-mgmt-driver-sample We'll be able to use the configuration of multi deployment pattern. Problem description =================== The Ansible Driver has only one configuration information for the VDU. The configuration information is defined in the implementation. It is executed at the start and end of each VNF lifecycle. This current specification does not allow multiple configuration information to be submitted. For example, user might want to configure different configuration information for different deployment flavors. Proposed change =============== Tacker is currently running the Mgmt Driver Configuration with the following implementation key definition. This parameter is defined in TOSCA Simple Profile [#f1]_. .. code-block:: yaml node_templates: VNF: type: SAMPLE.VNF properties: flavour_description: 'n-vnf' vnfm_info: - Tacker interfaces: Vnflcm: instantiate: [] instantiate_start: [] instantiate_end: implementation: ansible_driver ... artifacts: ansible_driver: description: Management driver plugin type: tosca.artifacts.Implementation.Python file: /opt/stack/tacker/tacker/vnfm/mgmt_drivers/ansible/ansible.py Currently, only one definition can appear in the Implementation key. The proposed change is to implement the primary and dependencies keys defined by TOSCA. Dependencies can define a second script. If you implemented this dependency, you would define it as follows : .. code-block:: yaml node_templates: VNF: type: SAMPLE.VNF properties: flavour_description: 'n-vnf' vnfm_info: - Tacker interfaces: Vnflcm: instantiate: [] instantiate_start: implementation: primary: ansible_driver dependencies: - mgmt-drivers-ansible-config_start instantiate_end: implementation: primary: ansible_driver dependencies: - mgmt-drivers-ansible-config_end ... artifacts: ansible_driver: description: Management driver plugin type: tosca.artifacts.Implementation.Python file: /opt/stack/tacker/tacker/vnfm/mgmt_drivers/ansible/ansible.py mgmt-drivers-ansible-config-start: description: Management driver config_start.yaml type: tosca.artifacts.Implementation.nfv.Mistral file: ../ScriptAnsible/config_start.yaml mgmt-drivers-ansible-config-end: description: Management driver config_end.yaml type: tosca.artifacts.Implementation.nfv.Mistral file: ../ScriptAnsible/config_end.yaml Primary defines the script that has run management capabilities, and dependencies defines the script that performs the actual injection. These definitions allow for flexible configuration by the user. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None It also supports the single artifact format currently used by VNFD. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== * Enable understanding of primary and dependencies at toscaparser * Enable understanding of primary and dependencies at schema of tacker * Extend method that get implementation information Assignee(s) ----------- Primary assignee: Wataru Juso <w-juso@nec.com> Other contributors: Aldinson C. Esto <esto.aln@nec.com> Work Items ---------- None Dependencies ============ None Testing ======= None Documentation Impact ==================== * Modifying User Documentation of Ansible Driver References ========== .. [#f1] https://docs.oasis-open.org/tosca/TOSCA-Simple-Profile-YAML/v1.2/os/TOSCA-Simple-Profile-YAML-v1.2-os.html ",,180,0
openstack%2Fcinder~master~I851617894157d9fcb14b1e1294ac8b39c4a7a558,openstack/cinder,master,I851617894157d9fcb14b1e1294ac8b39c4a7a558,Remove return from rpc cast method,MERGED,2022-07-09 10:41:20.000000000,2022-07-27 21:10:11.000000000,2022-07-27 19:09:37.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-07-09 10:41:20.000000000', 'files': ['cinder/scheduler/rpcapi.py', 'cinder/backup/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e2dd2e3c0600353491f1f961ef8b80ea244a6873', 'message': ""Remove return from rpc cast method\n\nThis change removes return statement from rpc cast method calls.\nAs rpc cast are asynchronous, so doesn't return anything.\n\nChange-Id: I851617894157d9fcb14b1e1294ac8b39c4a7a558\n""}]",2,849181,e2dd2e3c0600353491f1f961ef8b80ea244a6873,29,7,1,20733,,,0,"Remove return from rpc cast method

This change removes return statement from rpc cast method calls.
As rpc cast are asynchronous, so doesn't return anything.

Change-Id: I851617894157d9fcb14b1e1294ac8b39c4a7a558
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/849181/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/rpcapi.py', 'cinder/backup/rpcapi.py']",2,e2dd2e3c0600353491f1f961ef8b80ea244a6873,remove-return," cctxt.cast(ctxt, 'reset_status', backup=backup, status=status)"," return cctxt.cast(ctxt, 'reset_status', backup=backup, status=status)",9,9
openstack%2Fproject-config~master~I0cbca64f4a31c8b4eacb5e1c50f2e9fb289ce18e,openstack/project-config,master,I0cbca64f4a31c8b4eacb5e1c50f2e9fb289ce18e,Set ensure_pip_virtualenv_command in Focal proposal jobs,MERGED,2022-07-27 16:10:13.000000000,2022-07-27 21:02:00.000000000,2022-07-27 21:01:36.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 16:10:13.000000000', 'files': ['playbooks/proposal/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/55215ac11cc960c61d8efd3f742d31482b52272e', 'message': ""Set ensure_pip_virtualenv_command in Focal proposal jobs\n\nPreviously we had this error:\n\n  No key/value pairs provided, at least one is required for this action to succeed\n\nWhich appears to be due to the default(omit) condition when setting\nensure_pip_virtualenv_command in focal proposal jobs. The issue is\ndefault(omit) doesn't do what you think it does when defining a\nvariable. It is really only useful for defining module parameters that\nmay be omitted.\n\nInstead we need to call ensure-tox two different ways depending on\nwhether or not we want to override the defaults for\nensure_pip_virtualenv_command. One method for Bionic and another for\nFocal keyed off of whether or not _venv_command is defined.\n\nChange-Id: I0cbca64f4a31c8b4eacb5e1c50f2e9fb289ce18e\n""}]",4,851239,55215ac11cc960c61d8efd3f742d31482b52272e,9,4,1,4146,,,0,"Set ensure_pip_virtualenv_command in Focal proposal jobs

Previously we had this error:

  No key/value pairs provided, at least one is required for this action to succeed

Which appears to be due to the default(omit) condition when setting
ensure_pip_virtualenv_command in focal proposal jobs. The issue is
default(omit) doesn't do what you think it does when defining a
variable. It is really only useful for defining module parameters that
may be omitted.

Instead we need to call ensure-tox two different ways depending on
whether or not we want to override the defaults for
ensure_pip_virtualenv_command. One method for Bionic and another for
Focal keyed off of whether or not _venv_command is defined.

Change-Id: I0cbca64f4a31c8b4eacb5e1c50f2e9fb289ce18e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/39/851239/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/proposal/pre.yaml'],1,55215ac11cc960c61d8efd3f742d31482b52272e,fix-ensure-tox, - name: Install tox with venv command override ensure_pip_virtualenv_command: '{{ _venv_command }}' when: _venv_command is defined - name: Install tox without venv command override include_role: name: ensure-tox vars: ensure_global_symlinks: true when: _venv_command is not defined, - name: Install tox ensure_pip_virtualenv_command: '{{ _venv_command | default(omit) }}',10,2
openstack%2Fopenstack-ansible~master~I3dc516c7369d3bebf163f74277d2ebfbe20b15ee,openstack/openstack-ansible,master,I3dc516c7369d3bebf163f74277d2ebfbe20b15ee,zuul: fix definition of centos 9 stream job,MERGED,2022-07-27 14:30:37.000000000,2022-07-27 20:30:50.000000000,2022-07-27 20:27:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-07-27 14:30:37.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/25d9d01d17e3862c8174c4323d7154779b7d67a8', 'message': 'zuul: fix definition of centos 9 stream job\n\nMinor typo/omission meaning some jobs are still using CentOS 8\n\nChange-Id: I3dc516c7369d3bebf163f74277d2ebfbe20b15ee\n'}]",0,851233,25d9d01d17e3862c8174c4323d7154779b7d67a8,8,3,1,31542,,,0,"zuul: fix definition of centos 9 stream job

Minor typo/omission meaning some jobs are still using CentOS 8

Change-Id: I3dc516c7369d3bebf163f74277d2ebfbe20b15ee
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/33/851233/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,25d9d01d17e3862c8174c4323d7154779b7d67a8,osa-zuul, nodeset: centos-9-stream, nodeset: centos-8-stream,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I98f7d0eabdda22a31c487a3259b380cb7412e87b,openstack/tripleo-heat-templates,stable/wallaby,I98f7d0eabdda22a31c487a3259b380cb7412e87b,Include redis templates in Octavia configuration,MERGED,2022-07-19 22:52:12.000000000,2022-07-27 20:29:47.000000000,2022-07-27 20:29:47.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-19 22:52:12.000000000', 'files': ['environments/services/octavia.yaml', 'environments/services-baremetal/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/387b9dd44d9923d9c3012564e7b64452585ab4fd', 'message': ""Include redis templates in Octavia configuration\n\nOctavia depends on redis which isn't necessarily deployed by default so it\nshould be included in the octavia environment files.\n\nRelated-Bug: #1872645\nChange-Id: I98f7d0eabdda22a31c487a3259b380cb7412e87b\n(cherry picked from commit e66f495b1488430128c6671b4d3fee6a59950f18)\n""}]",4,850429,387b9dd44d9923d9c3012564e7b64452585ab4fd,13,4,1,6681,,,0,"Include redis templates in Octavia configuration

Octavia depends on redis which isn't necessarily deployed by default so it
should be included in the octavia environment files.

Related-Bug: #1872645
Change-Id: I98f7d0eabdda22a31c487a3259b380cb7412e87b
(cherry picked from commit e66f495b1488430128c6671b4d3fee6a59950f18)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/850429/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/octavia.yaml', 'environments/services-baremetal/octavia.yaml']",2,387b9dd44d9923d9c3012564e7b64452585ab4fd,wallaby, OS::TripleO::Services::Redis: ../../deployment/database/redis-container-puppet.yaml,,2,2
openstack%2Ftripleo-validations~stable%2Fwallaby~If887c798f6c18278204ba7b11f01fc2f2450bb76,openstack/tripleo-validations,stable/wallaby,If887c798f6c18278204ba7b11f01fc2f2450bb76,Removing undercloud-heat-purge-deleted from validation groups,MERGED,2022-07-20 09:56:19.000000000,2022-07-27 20:16:21.000000000,2022-07-27 20:15:10.000000000,"[{'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-07-20 09:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/02e7fd955ce1921e82713f4f57234ae3a8fbe7f0', 'message': 'Removing undercloud-heat-purge-deleted from pre-upgrade and pre-update validations\n\nresolves: rhbz#2105291\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If887c798f6c18278204ba7b11f01fc2f2450bb76\n(cherry picked from commit e5bf0521816f5f23abb7fbf9411a9dcf6a2dc196)\n'}, {'number': 2, 'created': '2022-07-20 11:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dfaa7da424f2a255168a326350edf8bd599fb11c', 'message': 'Removing undercloud-heat-purge-deleted from pre-upgrade and pre-update validations\n\nresolves: rhbz#2105291\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If887c798f6c18278204ba7b11f01fc2f2450bb76\n(cherry picked from commit e5bf0521816f5f23abb7fbf9411a9dcf6a2dc196)\n'}, {'number': 3, 'created': '2022-07-20 11:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/39cd840816d2a0303b6613905aed443ef2e2b4a4', 'message': ""Removing undercloud-heat-purge-deleted from validation groups\n\nThe validation relies on dependencies unmet in Wallaby and later\nreleases, it's inclusion in the dedicated TripleO groups is thus\nno longer needed or beneficial.\n\nNotes regarding the change were added to docs.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If887c798f6c18278204ba7b11f01fc2f2450bb76\n(cherry picked from commit e5bf0521816f5f23abb7fbf9411a9dcf6a2dc196)\n""}, {'number': 4, 'created': '2022-07-26 12:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bbe290dfe8a020ea38411ab6975c11cc6c8d7f30', 'message': ""Removing undercloud-heat-purge-deleted from validation groups\n\nThe validation relies on dependencies unmet in Wallaby and later\nreleases, it's inclusion in the dedicated TripleO groups is thus\nno longer needed or beneficial.\n\nNotes regarding the change were added to docs.\n\nresolves: rhbz#2105291\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If887c798f6c18278204ba7b11f01fc2f2450bb76\n(cherry picked from commit e5bf0521816f5f23abb7fbf9411a9dcf6a2dc196)\n""}, {'number': 5, 'created': '2022-07-26 16:35:59.000000000', 'files': ['doc/source/roles/role-undercloud_heat_purge_deleted.rst', 'roles/undercloud_heat_purge_deleted/vars/main.yaml', 'playbooks/undercloud-heat-purge-deleted.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a00db92ba18a56d551cd69df9bbae7809ac35752', 'message': ""Removing undercloud-heat-purge-deleted from validation groups\n\nThe validation relies on dependencies unmet in Wallaby and later\nreleases, it's inclusion in the dedicated TripleO groups is thus\nno longer needed or beneficial.\n\nNotes regarding the change were added to docs.\n\nresolves: rhbz#2105291\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If887c798f6c18278204ba7b11f01fc2f2450bb76\n(cherry picked from commit d5b5458e46c38fedbf8c30835dc1a6e36c9f5434)\n""}]",10,850496,a00db92ba18a56d551cd69df9bbae7809ac35752,31,8,5,32926,,,0,"Removing undercloud-heat-purge-deleted from validation groups

The validation relies on dependencies unmet in Wallaby and later
releases, it's inclusion in the dedicated TripleO groups is thus
no longer needed or beneficial.

Notes regarding the change were added to docs.

resolves: rhbz#2105291

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If887c798f6c18278204ba7b11f01fc2f2450bb76
(cherry picked from commit d5b5458e46c38fedbf8c30835dc1a6e36c9f5434)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/96/850496/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/undercloud-heat-purge-deleted.yaml'],1,02e7fd955ce1921e82713f4f57234ae3a8fbe7f0,,, - pre-upgrade - pre-update,0,2
openstack%2Ftempest~master~If65f50165645dae319992643c934f672c141f52a,openstack/tempest,master,If65f50165645dae319992643c934f672c141f52a,Add tempest coverage for new cache API,MERGED,2022-01-18 14:05:50.000000000,2022-07-27 19:51:39.000000000,2022-07-27 19:50:21.000000000,"[{'_account_id': 4393}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-01-18 14:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3a8cd4cf3247e9ed4f14dcb4900297a71ce3f362', 'message': 'WIP image caching tests\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/792022\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 2, 'created': '2022-01-19 14:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b92ef6276a8406a31b4313efe08c48dd276b1ef5', 'message': 'WIP image caching tests\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/792022\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 3, 'created': '2022-01-25 16:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/522bc2dda287c12be5a1b19aa4929229a4ee2e26', 'message': 'WIP image caching tests\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/792022\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 4, 'created': '2022-01-31 08:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0e5af3b84740714369fc6e84a1a488d0648ad0dc', 'message': 'WIP image caching tests\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/792022\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 5, 'created': '2022-01-31 10:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/859b1127cc7a4d888c4f77bff77f6ab8aaae82f4', 'message': 'WIP image caching tests\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/792022\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 6, 'created': '2022-02-02 16:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ee1bff308706a7af0a6077bb239833ca74c2bb19', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/792022\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 7, 'created': '2022-02-08 16:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/40cee6897f84d4bba66c89a0edb9397f88453f99', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/792022\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 8, 'created': '2022-06-21 06:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/85687b9ae2faa8c2b661aa48bd87402f753d35fc', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/842070\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 9, 'created': '2022-06-21 07:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/097f236fa97dbe17f18813e31dc30a8a1e8d1354', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/842070\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 10, 'created': '2022-06-21 13:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3e584b020f1a45f1fc0f69d6a523ce4d5a3206f7', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/842070\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 11, 'created': '2022-06-22 05:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/83f1a7f380271d642a132a79b26830231f67f52c', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/842070\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 12, 'created': '2022-06-30 07:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/83228387dd8b10af5d2572f36af15ea9a6ffbbae', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/842070\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 13, 'created': '2022-06-30 07:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6bd90b5ccbf5e2a032135d95a1da41e109e135ba', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/842070\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 14, 'created': '2022-06-30 07:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f9c37c004c7fe37a2d48a711690c56dfcd0adf3c', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/842070\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 15, 'created': '2022-07-12 07:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/267edf13bcd4b92e6e377ba22d65c010c5312653', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/842070\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 16, 'created': '2022-07-26 15:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/37fdcdfddeb5183f57d15cc91bd5895b829d3538', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/842070\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}, {'number': 17, 'created': '2022-07-27 14:07:21.000000000', 'files': ['tempest/api/image/v2/admin/test_image_caching.py', 'tempest/common/waiters.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0188f46104b6f8e30658ab28a8907e9a980504bb', 'message': 'Add tempest coverage for new cache API\n\nThis patch will cover newly added Cache APIs.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/842070\nChange-Id: If65f50165645dae319992643c934f672c141f52a\n'}]",55,825112,0188f46104b6f8e30658ab28a8907e9a980504bb,70,6,17,9303,,,0,"Add tempest coverage for new cache API

This patch will cover newly added Cache APIs.

Depends-On: https://review.opendev.org/c/openstack/glance/+/842070
Change-Id: If65f50165645dae319992643c934f672c141f52a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/12/825112/15 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/image/v2/admin/test_image_caching.py', 'tempest/common/waiters.py', 'tempest/config.py']",3,3a8cd4cf3247e9ed4f14dcb4900297a71ce3f362,bp/cache-api," cfg.BoolOpt('image_caching_enabled', default=False, help=(""Flag to enable if caching is enabled by image "" ""service, operator should set this parameter to True"" ""if 'image_cache_dir' is set in glance-api.conf"")), 'This value will be increased in case of conflict.')"," 'This value will be increased in case of conflict.'), cfg.BoolOpt('qos_min_bw_and_pps', default=False, help='Does the test environment have minimum bandwidth and ' 'packet rate inventories configured?'),",148,4
openstack%2Fcinder~master~I079802bea4ae86ed29c57bd5273ef8e0e4bb6b3c,openstack/cinder,master,I079802bea4ae86ed29c57bd5273ef8e0e4bb6b3c,mypy: work around mypy bug #13214,MERGED,2022-07-26 13:51:25.000000000,2022-07-27 19:49:40.000000000,2022-07-27 15:45:51.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29759}]","[{'number': 1, 'created': '2022-07-26 13:51:25.000000000', 'files': ['tools/mypywrap.sh'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5058ed59879c88946abe3b727c7241dc5a0b5ec', 'message': 'mypy: work around mypy bug #13214\n\nTurn off in-project stubs for now until this bug\nis fixed and in a mypy release we can consume.\n\nhttps://github.com/python/mypy/issues/13214\n\nChange-Id: I079802bea4ae86ed29c57bd5273ef8e0e4bb6b3c\n'}]",8,851032,d5058ed59879c88946abe3b727c7241dc5a0b5ec,26,7,1,4523,,,0,"mypy: work around mypy bug #13214

Turn off in-project stubs for now until this bug
is fixed and in a mypy release we can consume.

https://github.com/python/mypy/issues/13214

Change-Id: I079802bea4ae86ed29c57bd5273ef8e0e4bb6b3c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/851032/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/mypywrap.sh'],1,d5058ed59879c88946abe3b727c7241dc5a0b5ec,,#export MYPYPATH=$ROOT_DIR/../cinder/tests/stubs/,export MYPYPATH=$ROOT_DIR/../cinder/tests/stubs/,1,1
openstack%2Fansible-collections-openstack~master~I35c9b2e35288a86f3fd3173a37ac49bf43a609c5,openstack/ansible-collections-openstack,master,I35c9b2e35288a86f3fd3173a37ac49bf43a609c5,DNM: debugging router,ABANDONED,2022-07-25 14:13:46.000000000,2022-07-27 19:17:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-25 14:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fccd21442855fee9ae7fdaac9562fac4101120d0', 'message': 'DNM: debugging router\n\nChange-Id: I35c9b2e35288a86f3fd3173a37ac49bf43a609c5\n'}, {'number': 2, 'created': '2022-07-25 14:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8e0c3650ee24bfe5535a6f4cfc31b1cab32721cb', 'message': 'DNM: debugging router\n\nChange-Id: I35c9b2e35288a86f3fd3173a37ac49bf43a609c5\n'}, {'number': 3, 'created': '2022-07-25 14:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e3539f47873ec8a9285cef8b0537f72409c20c46', 'message': 'DNM: debugging router\n\nChange-Id: I35c9b2e35288a86f3fd3173a37ac49bf43a609c5\n'}, {'number': 4, 'created': '2022-07-25 15:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ba35c7d44d944b6ad975bc46b88d6a55aa7e207e', 'message': 'DNM: debugging router\n\nChange-Id: I35c9b2e35288a86f3fd3173a37ac49bf43a609c5\n'}, {'number': 5, 'created': '2022-07-25 16:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/807af9ee4d8e90971f8165a5304740fe0c642067', 'message': 'DNM: debugging router\n\nChange-Id: I35c9b2e35288a86f3fd3173a37ac49bf43a609c5\n'}, {'number': 6, 'created': '2022-07-25 18:58:35.000000000', 'files': ['ci/roles/router/defaults/main.yml', 'ci/roles/router/tasks/main.yml', 'plugins/modules/router.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/29103e00f56e4e4cea34248150b9bd9e857f6e8a', 'message': 'DNM: debugging router\n\nChange-Id: I35c9b2e35288a86f3fd3173a37ac49bf43a609c5\n'}]",0,850895,29103e00f56e4e4cea34248150b9bd9e857f6e8a,9,1,6,34208,,,0,"DNM: debugging router

Change-Id: I35c9b2e35288a86f3fd3173a37ac49bf43a609c5
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/95/850895/6 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/router/tasks/main.yml', 'plugins/modules/router.py']",2,fccd21442855fee9ae7fdaac9562fac4101120d0,router," try: for port in to_remove: self.conn.network.remove_interface_from_router(router, port_id=port.id) # create ports that are missing for port in missing_ports: p = self.conn.network.create_port(**port) if p: to_add.append(dict(port_id=p.id)) for iface in to_add: self.conn.network.add_interface_to_router(router, **iface) except Exception as e: self.fail_json(msg=dict(to_add=to_add, to_remove=to_remove, missing_ports=missing_ports))"," for port in to_remove: self.conn.network.remove_interface_from_router(router, port_id=port.id) # create ports that are missing for port in missing_ports: p = self.conn.network.create_port(**port) if p: to_add.append(dict(port_id=p.id)) for iface in to_add: self.conn.network.add_interface_to_router(router, **iface)",21,10
openstack%2Fneutron~stable%2Fwallaby~Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8,openstack/neutron,stable/wallaby,Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8,Test: mock out _check_netfilter_for_bridges in unit tests,MERGED,2022-07-27 09:21:15.000000000,2022-07-27 19:10:49.000000000,2022-07-27 19:09:34.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 09:21:15.000000000', 'files': ['neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'tox.ini', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/868427c104f9ad7cb996143646d587b0f43079eb', 'message': 'Test: mock out _check_netfilter_for_bridges in unit tests\n\n_check_netfilter_for_bridges do some calls which are not for unit tests.\nSpecifically the call for sysctl -N net.bridge seems to be broken with\na recent kernel upgrade on bionic (see the irc log for this discussion\nin [1]).\nAdd OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such\nissues.\nDuring the rootwrap to privsep change some of these mocks were added,\n(see [2]) so backporting (before Wallaby mostly) can be done with\ncaution.\n\n[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32\n[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py\n\nChange-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8\nCloses-Bug: #1982206\n(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)\n'}]",0,851064,868427c104f9ad7cb996143646d587b0f43079eb,10,3,1,8313,,,0,"Test: mock out _check_netfilter_for_bridges in unit tests

_check_netfilter_for_bridges do some calls which are not for unit tests.
Specifically the call for sysctl -N net.bridge seems to be broken with
a recent kernel upgrade on bionic (see the irc log for this discussion
in [1]).
Add OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such
issues.
During the rootwrap to privsep change some of these mocks were added,
(see [2]) so backporting (before Wallaby mostly) can be done with
caution.

[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32
[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py

Change-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8
Closes-Bug: #1982206
(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/851064/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'tox.ini', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",3,868427c104f9ad7cb996143646d587b0f43079eb,bug/1982206-stable/yoga-stable/xena-stable/wallaby,"from neutron.agent.linux import iptables_firewall return_value='00:00:00:00:00:01'), \ mock.patch.object(iptables_firewall.IptablesFirewallDriver, '_check_netfilter_for_bridges'), \"," return_value='00:00:00:00:00:01'),\",15,7
openstack%2Fcinder~master~Id34af6b28d653d816df4e34a860aa1c97a7a5542,openstack/cinder,master,Id34af6b28d653d816df4e34a860aa1c97a7a5542,Add Cinder NFS driver for Dell PowerStore,ABANDONED,2021-06-23 08:51:43.000000000,2022-07-27 19:10:10.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12670}, {'_account_id': 13425}, {'_account_id': 13671}, {'_account_id': 14624}, {'_account_id': 16373}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30555}, {'_account_id': 30615}, {'_account_id': 31779}, {'_account_id': 33502}, {'_account_id': 34071}, {'_account_id': 34290}, {'_account_id': 34988}]","[{'number': 1, 'created': '2021-06-23 08:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e165902fc678d6ae270af34c55ff9cedae2d93f', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 2, 'created': '2021-06-29 10:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5dd7510357e8bc96ffe12b886ff6b98646a18353', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 3, 'created': '2021-06-29 12:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b25f99b7e2b3a697f83824503c2dae296d56bc5d', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 4, 'created': '2021-07-14 09:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07492c13e7b0721184b222e9e81ab952ac62760f', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 5, 'created': '2021-07-14 09:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7e562b21e139b49ceb4b9a8b215e934136828bc', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 6, 'created': '2021-07-16 21:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3aa3d30e380f2326a69cb0ffb145912cb756d4c5', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 7, 'created': '2021-07-26 12:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9bc87d219912986cae9a4fdcf81e4c3ad9be028', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 8, 'created': '2021-07-26 13:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0998eaf209531f78b97b20dd609e7b04f93882d5', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 9, 'created': '2021-07-26 15:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84ad2152de00abe2007727fffa70f87f3d15a677', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 10, 'created': '2021-07-26 15:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99b2dde130cc4c5e75efb63ca2d5dd088b41ac79', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 11, 'created': '2021-07-26 15:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ddfb266a23153e3f1c4df891e1987bfafbd9eb8', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 12, 'created': '2021-08-12 14:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3bf2a535549136070e2cb26489b6d65da1fe0815', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 13, 'created': '2021-08-12 14:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/157a1fb1031bf48bf33d9ca33a6c37824fef2827', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 14, 'created': '2021-08-12 14:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e138ebaac5fa8961bdbbc218bf81e6192571c794', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 15, 'created': '2021-08-12 15:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/17eb2426907069faa4aef1894124b341de41ef7f', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 16, 'created': '2021-08-13 10:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c77d617add53f9feabd12276042cf1572b6ca4b5', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 17, 'created': '2021-08-16 16:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9469ecb0d83537941752e295658fa33235938b42', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 18, 'created': '2021-08-16 16:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0429055ba4bd88d36916031f09c5670eeed729ad', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 19, 'created': '2021-11-17 07:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfed14c0a8800d2dc27825d354e592d11345b3e7', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 20, 'created': '2021-11-17 16:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0dd47c0b1a9205d8bbc73d8e38ab158cb0877091', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 21, 'created': '2022-05-27 08:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/321e1ced82bc06a3d60f5c454c2f8d3c45579a76', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 22, 'created': '2022-06-01 16:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb40bd0355b730eac00c9a3d345b093c1d34fbde', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 23, 'created': '2022-06-01 16:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/239a00f0681a57352c29542ac501182914934ab4', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 24, 'created': '2022-06-02 09:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/999427315104115dce83a237ba7e7240951234fe', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 25, 'created': '2022-06-02 09:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3178269d92ea35a1b7c9109941b3ab5f6d6d54e', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 26, 'created': '2022-06-02 12:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/186c8102763b3c18901b7faa232da04961257e2a', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 27, 'created': '2022-06-02 15:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1401f46ed3b2352e1588ddc69cafda4549c0c3d', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 28, 'created': '2022-06-02 18:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10e96462a58ba7ff564e810f6ce331316badbb20', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 29, 'created': '2022-06-03 09:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b829aab975cd189c195e33539724f355a0e60e8', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 30, 'created': '2022-06-08 11:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bb70ce4f06dace49c8f91878f8d5206550140d2', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 31, 'created': '2022-06-08 21:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a97f94820afc829bcd8d1ec58193112f641e8df3', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 32, 'created': '2022-06-09 12:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4cfd90682320808fccbd7d62d51eeafc3d18a66d', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 33, 'created': '2022-06-15 14:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cdf573ef53e7a873638b4d757100357cc3c9c7a1', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 34, 'created': '2022-06-27 10:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3bec5b150e9288f04f2b740858a2407770f3d8e4', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 35, 'created': '2022-06-27 13:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e2f8976a07dfc73d445e4fb34f85e739ff7ef47', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 36, 'created': '2022-06-28 18:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/700aa805cc68aa78f386ce24f2690f746fdaf69c', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 37, 'created': '2022-06-29 07:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0346dc3d42fdb69efbcf280d1c812834635b502', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 38, 'created': '2022-06-29 11:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f223d1ea1ffb232daa19ce386a9e42ef7194bfb6', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 39, 'created': '2022-06-30 10:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f61fd0f1c9ed1f401dd93d6e61d44d6f5e1d044', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 40, 'created': '2022-06-30 14:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9de297b9d55d15df18b0ba357029116af321e45', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 41, 'created': '2022-07-01 15:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9aabc12c07fdd56e91440c6a781761446143c69', 'message': 'WIP: Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 42, 'created': '2022-07-04 07:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c8b8b9934273b115171f3e64af5a361382196481', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 43, 'created': '2022-07-04 11:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b332ea465cfed3befdeca4d757bd3794b97226ab', 'message': 'Add Cinder NFS driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 44, 'created': '2022-07-04 16:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf6eff5ef5496091e2f36b4fde9a62f5ad8c7964', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 45, 'created': '2022-07-05 08:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c279daf8e7df8a50c39f3e226378fdf8d61ebf22', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\ndsadasdfdfds\n'}, {'number': 46, 'created': '2022-07-05 08:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02cf536252e92ad16d0448cac3aa1d84d462ce7b', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 47, 'created': '2022-07-05 08:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23d5a8d8ed87b8ea12c8c31c6ec87886daa20954', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 48, 'created': '2022-07-05 12:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42837a50d12e6b51b38f337685d40dad2da12183', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 49, 'created': '2022-07-05 19:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fffe0891843e165d1d9be35ac1eb211e841a4497', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 50, 'created': '2022-07-07 11:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f817e2f4a9662fe9c24ed68ac89c36b4069389f', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 51, 'created': '2022-07-07 15:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/14c57293d0aa879884429ffa211c1032ac439240', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 52, 'created': '2022-07-08 12:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18f935935e2fceb4ee98746fb29b86dc973083cd', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 53, 'created': '2022-07-11 15:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9c59716d4ee0b6ce6039046a1e89fcb29dbf3b1', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 54, 'created': '2022-07-12 07:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2b5ff8c95de6611e5b169b35f6e42d64f417d93', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 55, 'created': '2022-07-12 10:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d269bcbfb7fb7082fcf9ed34caf245b8dbd24364', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 56, 'created': '2022-07-12 15:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1ed7efe9b9fa17aaeaeb370bd6a35598d8185ca8', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 57, 'created': '2022-07-13 09:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/042c5d5912b48a46ddb50a693b1104914669d45a', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 58, 'created': '2022-07-18 13:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb29d0392b245b9cf0225f18736611dec51621ce', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 59, 'created': '2022-07-22 20:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0bf1920976dfcd6af963b1d2a07ecce4645e5a9', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 60, 'created': '2022-07-25 08:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6ed49135d11bbc10e092f64723972ec8da7749c', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 61, 'created': '2022-07-25 11:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d1dbfb94ad0f58f8cf7c10a04a893c685c64478e', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 62, 'created': '2022-07-25 18:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/438a96570eff0289fcc4e74882bd1bb0413dfd24', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 63, 'created': '2022-07-25 19:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/be203024332812a5752be21c7e4b6382fa8d7a25', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}, {'number': 64, 'created': '2022-07-27 08:17:50.000000000', 'files': ['cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_nfs.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/volume/drivers/dell_emc/powerstore/nfs.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-nfs.rst', 'releasenotes/notes/bp-powerstore-nfs-cinder-driver-b743a8a89acafa35.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/88926a5f500ca01e5aee6443630b925caa59980d', 'message': 'Add Cinder NFS driver for Dell PowerStore\n\nImplements: blueprint powerstore-nfs-driver\nCo-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>\nChange-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542\n'}]",316,797608,88926a5f500ca01e5aee6443630b925caa59980d,989,19,64,31016,,,0,"Add Cinder NFS driver for Dell PowerStore

Implements: blueprint powerstore-nfs-driver
Co-Authored-By: Alexander Malashenko <alexander.malashenko@dell.com>
Change-Id: Id34af6b28d653d816df4e34a860aa1c97a7a5542
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/797608/48 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/__init__.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_nfs_base.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-nfs-driver.rst', 'cinder/volume/drivers/dell_emc/powerstore/driver.py', 'releasenotes/notes/bp-powerstore-nfs-cinder-driver-b743a8a89acafa35.yaml']",6,4e165902fc678d6ae270af34c55ff9cedae2d93f,bp/powerstore-nfs-driver,--- features: - | Added Dell EMC PowerStore Storage Driver (NFS). ,,137,0
openstack%2Fneutron~stable%2Fvictoria~Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8,openstack/neutron,stable/victoria,Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8,Test: mock out _check_netfilter_for_bridges in unit tests,MERGED,2022-07-27 11:11:59.000000000,2022-07-27 19:02:01.000000000,2022-07-27 19:00:36.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 11:11:59.000000000', 'files': ['neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'tox.ini', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b87139fa09348987f5380e2a06b5abc32a26390', 'message': 'Test: mock out _check_netfilter_for_bridges in unit tests\n\n_check_netfilter_for_bridges do some calls which are not for unit tests.\nSpecifically the call for sysctl -N net.bridge seems to be broken with\na recent kernel upgrade on bionic (see the irc log for this discussion\nin [1]).\nAdd OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such\nissues.\nDuring the rootwrap to privsep change some of these mocks were added,\n(see [2]) so backporting (before Wallaby mostly) can be done with\ncaution.\nFrom stable/victoria and backward\nTestHybridIptablesHelper.test_overloaded_remove_conntrack need the extra\nmock as [2] was not backported to older branches than stable/wallaby.\n\n[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32\n[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py\n\nChange-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8\nCloses-Bug: #1982206\n(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)\n'}]",0,851212,7b87139fa09348987f5380e2a06b5abc32a26390,8,3,1,8313,,,0,"Test: mock out _check_netfilter_for_bridges in unit tests

_check_netfilter_for_bridges do some calls which are not for unit tests.
Specifically the call for sysctl -N net.bridge seems to be broken with
a recent kernel upgrade on bionic (see the irc log for this discussion
in [1]).
Add OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such
issues.
During the rootwrap to privsep change some of these mocks were added,
(see [2]) so backporting (before Wallaby mostly) can be done with
caution.
From stable/victoria and backward
TestHybridIptablesHelper.test_overloaded_remove_conntrack need the extra
mock as [2] was not backported to older branches than stable/wallaby.

[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32
[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py

Change-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8
Closes-Bug: #1982206
(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/851212/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'tox.ini', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",3,7b87139fa09348987f5380e2a06b5abc32a26390,bug/1982206-stable/yoga-stable/xena-stable/wallaby-stable/victoria,"from neutron.agent.linux import iptables_firewall return_value='00:00:00:00:00:01'), \ mock.patch.object(iptables_firewall.IptablesFirewallDriver, '_check_netfilter_for_bridges'), \"," return_value='00:00:00:00:00:01'),\",18,8
openstack%2Fneutron~stable%2Fussuri~Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8,openstack/neutron,stable/ussuri,Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8,Test: mock out _check_netfilter_for_bridges in unit tests,MERGED,2022-07-27 11:56:52.000000000,2022-07-27 19:01:59.000000000,2022-07-27 19:00:32.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 11:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/853f3ecdb50a086b06b34ce05d76792c7f33af38', 'message': 'Test: mock out _check_netfilter_for_bridges in unit tests\n\n_check_netfilter_for_bridges do some calls which are not for unit tests.\nSpecifically the call for sysctl -N net.bridge seems to be broken with\na recent kernel upgrade on bionic (see the irc log for this discussion\nin [1]).\nAdd OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such\nissues.\nDuring the rootwrap to privsep change some of these mocks were added,\n(see [2]) so backporting (before Wallaby mostly) can be done with\ncaution.\nFrom stable/victoria and backward\nTestHybridIptablesHelper.test_overloaded_remove_conntrack need the extra\nmock as [2] was not backported to older branches than stable/wallaby.\n\n[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32\n[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py\n\nChange-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8\nCloses-Bug: #1982206\n(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)\n'}, {'number': 2, 'created': '2022-07-27 12:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2228ab932d4228a498a4a4fb6ebf75628939f6e1', 'message': 'Test: mock out _check_netfilter_for_bridges in unit tests\n\n_check_netfilter_for_bridges do some calls which are not for unit tests.\nSpecifically the call for sysctl -N net.bridge seems to be broken with\na recent kernel upgrade on bionic (see the irc log for this discussion\nin [1]).\nAdd OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such\nissues.\nDuring the rootwrap to privsep change some of these mocks were added,\n(see [2]) so backporting (before Wallaby mostly) can be done with\ncaution.\nFrom stable/victoria and backward\nTestHybridIptablesHelper.test_overloaded_remove_conntrack need the extra\nmock as [2] was not backported to older branches than stable/wallaby.\n\n[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32\n[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py\n\nChange-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8\nCloses-Bug: #1982206\n(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)\n'}, {'number': 3, 'created': '2022-07-27 12:13:09.000000000', 'files': ['neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'tox.ini', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dedac9ff4e4690a5b0d0d1213c9be614d347c034', 'message': 'Test: mock out _check_netfilter_for_bridges in unit tests\n\n_check_netfilter_for_bridges do some calls which are not for unit tests.\nSpecifically the call for sysctl -N net.bridge seems to be broken with\na recent kernel upgrade on bionic (see the irc log for this discussion\nin [1]).\nAdd OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such\nissues.\nDuring the rootwrap to privsep change some of these mocks were added,\n(see [2]) so backporting (before Wallaby mostly) can be done with\ncaution.\nFrom stable/victoria and backward\nTestHybridIptablesHelper.test_overloaded_remove_conntrack need the extra\nmock as [2] was not backported to older branches than stable/wallaby.\n\nConflicts:\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py\n\n[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32\n[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py\n\nChange-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8\nCloses-Bug: #1982206\n(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)\n'}]",0,851065,dedac9ff4e4690a5b0d0d1213c9be614d347c034,11,3,3,8313,,,0,"Test: mock out _check_netfilter_for_bridges in unit tests

_check_netfilter_for_bridges do some calls which are not for unit tests.
Specifically the call for sysctl -N net.bridge seems to be broken with
a recent kernel upgrade on bionic (see the irc log for this discussion
in [1]).
Add OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such
issues.
During the rootwrap to privsep change some of these mocks were added,
(see [2]) so backporting (before Wallaby mostly) can be done with
caution.
From stable/victoria and backward
TestHybridIptablesHelper.test_overloaded_remove_conntrack need the extra
mock as [2] was not backported to older branches than stable/wallaby.

Conflicts:
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py

[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32
[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py

Change-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8
Closes-Bug: #1982206
(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/851065/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'tox.ini', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",3,853f3ecdb50a086b06b34ce05d76792c7f33af38,bug/1982206-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,"<<<<<<< HEAD (f271d6 [OVN][Placement] Make the Placement reporter compatible with) ======= from neutron.agent.linux import iptables_firewall from neutron.agent.linux import utils as linux_utils >>>>>>> CHANGE (7b8713 Test: mock out _check_netfilter_for_bridges in unit tests) return_value='00:00:00:00:00:01'), \ mock.patch.object(iptables_firewall.IptablesFirewallDriver, '_check_netfilter_for_bridges'), \"," return_value='00:00:00:00:00:01'),\",22,8
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ia90921a840a1dd0dad7d6617d123c59e79f803bf,openstack/puppet-tripleo,stable/wallaby,Ia90921a840a1dd0dad7d6617d123c59e79f803bf,Octavia: Add optional inclusion of driver_agent class,MERGED,2022-06-23 04:28:55.000000000,2022-07-27 18:56:44.000000000,2022-07-27 18:56:44.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23567}, {'_account_id': 28223}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-06-23 04:28:55.000000000', 'files': ['manifests/profile/base/octavia.pp', 'spec/classes/tripleo_profile_base_octavia_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c5db68dc0dbbc784646ae8c15ae7dad695d233eb', 'message': 'Octavia: Add optional inclusion of driver_agent class\n\n... so that we can maintain all of class inclusions in puppet-tripleo.\n\nConflicts:\n\tspec/classes/tripleo_profile_base_octavia_spec.rb\n\nResolved conflicts caused by 7b3a8cd8919399e0309c6343894a594e528d2f9a.\n\nChange-Id: Ia90921a840a1dd0dad7d6617d123c59e79f803bf\n(cherry picked from commit 3d53beb6f6e2c26dabc564b0905997f1b413a2e9)\n'}]",7,847237,c5db68dc0dbbc784646ae8c15ae7dad695d233eb,32,8,1,9816,,,0,"Octavia: Add optional inclusion of driver_agent class

... so that we can maintain all of class inclusions in puppet-tripleo.

Conflicts:
	spec/classes/tripleo_profile_base_octavia_spec.rb

Resolved conflicts caused by 7b3a8cd8919399e0309c6343894a594e528d2f9a.

Change-Id: Ia90921a840a1dd0dad7d6617d123c59e79f803bf
(cherry picked from commit 3d53beb6f6e2c26dabc564b0905997f1b413a2e9)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/847237/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/octavia.pp', 'spec/classes/tripleo_profile_base_octavia_spec.rb']",2,c5db68dc0dbbc784646ae8c15ae7dad695d233eb,octavia-driver-agent-puppet," is_expected.to_not contain_class('octavia::logging') is_expected.to_not contain_class('octavia::service_auth') is_expected.to_not contain_class('octavia::driver_agent') is_expected.to contain_class('octavia::logging') is_expected.to contain_class('octavia::service_auth') is_expected.to_not contain_class('octavia::driver_agent') params.merge!({ :step => 3, :oslomsg_rpc_hosts => ['some.server.com', 'someother.server.com'] }) params.merge!({ :step => 3, :oslomsg_rpc_username => 'bunny' }) params.merge!({ :step => 3, :oslomsg_rpc_username => 'bunny', :oslomsg_rpc_password => 'carrot' }) params.merge!({ :step => 3, :oslomsg_rpc_hosts => ['some.server.com', 'someother.server.com'], :oslomsg_rpc_username => 'bunny', :oslomsg_rpc_password => 'carrot' }) context 'with driver agent enabled' do before do params.merge!({ :step => 3, :enable_driver_agent => true }) end it 'should provide basic initialization' do is_expected.to contain_class('octavia').with( :default_transport_url => 'rabbit://guest:password@some.server.com:5672/?ssl=0' ) is_expected.to contain_class('octavia::config') is_expected.to contain_class('octavia::db') is_expected.to contain_class('octavia::logging') is_expected.to contain_class('octavia::service_auth') is_expected.to contain_class('octavia::driver_agent') end end "," params.merge!({ :oslomsg_rpc_hosts => ['some.server.com', 'someother.server.com'] }) params.merge!({ :oslomsg_rpc_username => 'bunny' }) params.merge!( { :oslomsg_rpc_username => 'bunny', :oslomsg_rpc_password => 'carrot' } ) params.merge!( { :oslomsg_rpc_hosts => ['some.server.com', 'someother.server.com'], :oslomsg_rpc_username => 'bunny', :oslomsg_rpc_password => 'carrot' } )",56,14
openstack%2Fcharm-guide~master~If91f3d994458bf68092d684c7201985055ea4972,openstack/charm-guide,master,If91f3d994458bf68092d684c7201985055ea4972,Refactor doc contrib pages,MERGED,2022-07-27 17:24:16.000000000,2022-07-27 18:28:21.000000000,2022-07-27 18:27:22.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 17:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/324c1759327e5e8e7ade91384e3c88687c047ce1', 'message': 'Refactor doc contrib pages\n\nPut RST and MD formatting guidance on separate pages\n\nRename page doc-style-guide to styleguide\n\nAdd/modify text/links as a consequence of the refactor.\n\nFix two broken links in order for the project to build.\n\nChange-Id: If91f3d994458bf68092d684c7201985055ea4972\n'}, {'number': 2, 'created': '2022-07-27 18:14:41.000000000', 'files': ['doc/source/admin/networking/ovn.rst', 'doc/source/community/doc-contrib/index.rst', 'doc/source/community/doc-contrib/adding-new-content.rst', 'doc/source/community/doc-contrib/doc-style-guide.rst', 'doc/source/admin/networking/load-balancing.rst', 'doc/source/community/software-contrib/charm-readme-template.rst', 'doc/source/community/doc-contrib/styleguide.rst', 'doc/source/community/doc-contrib/rst.rst', 'doc/source/community/doc-contrib/md.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/455bbf5526d7a503176044c457a33be2a1339c6c', 'message': 'Refactor doc contrib pages\n\nPut RST and MD formatting guidance on separate pages\n\nRename page doc-style-guide to styleguide\n\nAdd/modify text/links as a consequence of the refactor.\n\nFix two broken links in order for the project to build.\n\nChange-Id: If91f3d994458bf68092d684c7201985055ea4972\n'}]",1,851243,455bbf5526d7a503176044c457a33be2a1339c6c,10,2,2,30561,,,0,"Refactor doc contrib pages

Put RST and MD formatting guidance on separate pages

Rename page doc-style-guide to styleguide

Add/modify text/links as a consequence of the refactor.

Fix two broken links in order for the project to build.

Change-Id: If91f3d994458bf68092d684c7201985055ea4972
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/43/851243/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/networking/ovn.rst', 'doc/source/community/doc-contrib/index.rst', 'doc/source/admin/networking/load-balancing.rst', 'doc/source/community/doc-contrib/doc-style-guide.rst', 'doc/source/community/doc-contrib/styleguide.rst', 'doc/source/community/doc-contrib/rst.rst', 'doc/source/community/doc-contrib/md.rst']",7,324c1759327e5e8e7ade91384e3c88687c047ce1,amend-styleguide,"======== Markdown ======== This page provides guidance when working with the MD format. General formatting ------------------ Italics - use single asterisks: .. code-block:: none *this is in italics* Bold - use double asterisks: .. code-block:: none **this is in bold** Monospace - use single backticks: .. code-block:: none the `--force` option may help Section headers --------------- There are five section headers: .. code-block:: none # H1 ## H2 ### H3 #### H4 ##### H5 Inline commands --------------- For commands or utilities that are mentioned in a sentence use monospace: .. code-block:: none You can type the `juju status` command to get an overview of the model. The `openstack` client is the preferred tool. Linking to an external site --------------------------- .. code-block:: none The [OpenStack Charms Deployment Guide][cdg] ... . . ... in the [OpenStack Charm Guide][cg] ... . . See bug [LP #1862392][lp-bug-1862392] ... . . <bottom of page> <!-- LINKS --> [cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [lp-bug-1862392]: https://bugs.launchpad.net/charm-cinder/+bug/1862392 Linking to a header within the current page ------------------------------------------- .. code-block:: none See section [Availability zones][anchor-az]... . . ## Availability zones . . <bottom of page> <!-- LINKS --> [anchor-az]: #availability-zones Admonishments ------------- Markdown itself does not have admonishment types as such. Implement an equivalent RST admonishment as a Markdown quote: +---------------+-----------------------------------------------+ | Type | Purpose | +===============+===============================================+ | ``Tip`` | to provide auxiliary information | +---------------+-----------------------------------------------+ | ``Note`` | to inform | +---------------+-----------------------------------------------+ | ``Important`` | to accentuate | +---------------+-----------------------------------------------+ | ``Caution`` | to draw special attention to | +---------------+-----------------------------------------------+ | ``Warning`` | to warn about potential breakage or data loss | +---------------+-----------------------------------------------+ Syntax: .. code-block:: none > **<type>**: text goes here. text goes here. text goes here. text goes here maintain the alignment. The text is left-aligned with the asterisks. Example: .. code-block:: none > **Note**: The 'ceph-rbd-mirror' charm addresses only one specific element in datacentre redundancy. Code blocks ----------- Console input ~~~~~~~~~~~~~ Indent four spaces: .. code-block:: none The following command shows the relations: juju status --relations Console output ~~~~~~~~~~~~~~ Indent four spaces: .. code-block:: none Sample output of the last command is: Name Version Rev Tracking Publisher Notes charm 2.8.2 609 latest/stable canonical✓ classic charmcraft 1.4.0 761 latest/stable canonical✓ classic Code snippet ~~~~~~~~~~~~ Use syntax highlighting for code snippets/scripts using backticks and a language type: * ``python`` * ``bash`` * ``yaml`` Do not use the ``bash`` type for simple command invocations. Example: .. code-block:: none This bit of Python will do the trick: ```python import random def flip(): if random.randint(0,1) == 0: return ""heads"" else: return ""tails"" def anagram(first, second): return Counter(first) == Counter(second) ``` Use your prerogative for indentation. Miscellaneous file contents ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Indent file contents with four spaces: .. code-block:: none The contents of file ``/etc/ec2_version`` is: Ubuntu 20.04.1 LTS (Focal) Lists ----- Add a blank line between each item if any list items are multi-lined. Unordered list ~~~~~~~~~~~~~~ .. code-block:: none * First item. Align any word-wrapped lines like this. * Second item Nested unordered list ~~~~~~~~~~~~~~~~~~~~~ Indent nested items with four spaces: .. code-block:: none * First item * Nested item Ordered list ~~~~~~~~~~~~ .. code-block:: none 1. First item 1. Second item Nested ordered list ~~~~~~~~~~~~~~~~~~~ Indent nested items with four spaces: .. code-block:: none 1. First item 1. Nested item Images ------ A regular image: .. code-block:: none ![alt-text][image] . . <bottom of page> <!-- LINKS --> [image]: path to image An image as hyperlink: .. code-block:: none [![alt-text][image]][image-target-link] . . <bottom of page> <!-- LINKS --> [image]: path to image [image-target-link]: link URL ",,838,821
openstack%2Fopenstack-helm~master~Iae94f985dfd86c587403f0db169a3e613a9b5d3e,openstack/openstack-helm,master,Iae94f985dfd86c587403f0db169a3e613a9b5d3e,Add wallaby- & victoria-bionic neutron/values_overrides files,ABANDONED,2022-07-27 18:00:08.000000000,2022-07-27 18:12:37.000000000,,[{'_account_id': 28701}],"[{'number': 1, 'created': '2022-07-27 18:00:08.000000000', 'files': ['releasenotes/notes/openstack.yaml', 'neutron/values_overrides/victoria-ubuntu_bionic.yaml', 'neutron/values_overrides/wallaby-ubuntu_bionic.yaml', 'neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'openstack/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1ed75bbbfdb488693799642d4981a64cda521824', 'message': 'Add wallaby- & victoria-bionic neutron/values_overrides files\n\nChange-Id: Iae94f985dfd86c587403f0db169a3e613a9b5d3e\n'}]",1,851246,1ed75bbbfdb488693799642d4981a64cda521824,3,1,1,34668,,,0,"Add wallaby- & victoria-bionic neutron/values_overrides files

Change-Id: Iae94f985dfd86c587403f0db169a3e613a9b5d3e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/851246/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/openstack.yaml', 'neutron/values_overrides/victoria-ubuntu_bionic.yaml', 'neutron/values_overrides/wallaby-ubuntu_bionic.yaml', 'neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'openstack/Chart.yaml']",6,1ed75bbbfdb488693799642d4981a64cda521824,,version: 0.1.4,version: 0.1.3,46,2
openstack%2Fos-brick~master~Ia00be53420307d6ac1f100420d039da7b65dc349,openstack/os-brick,master,Ia00be53420307d6ac1f100420d039da7b65dc349,NVMe-oF: Disconnect subsystems,MERGED,2022-03-31 17:59:07.000000000,2022-07-27 18:00:15.000000000,2022-07-26 20:40:28.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 34815}]","[{'number': 1, 'created': '2022-03-31 17:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/479709dbdff5658fb2f214863bc07124a5b14c7e', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or during connect_volume when we fail to find the\ndevice after a successful connection to the subsystem.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever in the system (until\nmanually removed) while the host keeps trying to connect to the remote\nsubsystem, but it won't be able to connect because in this case drivers\nusually destroy both the namespace and the subsystem simultaneously (so\nthere's no AER message to indicate the change in available namespaces\nwithin the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, an\never increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, etc.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting, and this is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}, {'number': 2, 'created': '2022-04-12 14:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5d27f673da85429be3b3951a8b14738704568cc5', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or during connect_volume when we fail to find the\ndevice after a successful connection to the subsystem.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever in the system (until\nmanually removed) while the host keeps trying to connect to the remote\nsubsystem, but it won't be able to connect because in this case drivers\nusually destroy both the namespace and the subsystem simultaneously (so\nthere's no AER message to indicate the change in available namespaces\nwithin the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, an\never increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, etc.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting, and this is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}, {'number': 3, 'created': '2022-05-11 14:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/04cf4206a5c248830d44a4c526c761fca0669a77', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or on connect_volume failure.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever (now that we connect\nwith the controller loss timeout set to infinite, before it was for 10\nminutes) in the system (until manually removed) while the host keeps\ntrying to connect to the remote subsystem, but it won't be able to\nconnect because in this case drivers usually destroy both the namespace\nand the subsystem simultaneously (so there's no AER message to indicate\nthe change in available namespaces within the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, such\nas an ever increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, and so on.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting. This is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}, {'number': 4, 'created': '2022-05-12 16:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4f66264608f796f3453a7f18103be2d44a7c3b7c', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or on connect_volume failure.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever (now that we connect\nwith the controller loss timeout set to infinite, before it was for 10\nminutes) in the system (until manually removed) while the host keeps\ntrying to connect to the remote subsystem, but it won't be able to\nconnect because in this case drivers usually destroy both the namespace\nand the subsystem simultaneously (so there's no AER message to indicate\nthe change in available namespaces within the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, such\nas an ever increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, and so on.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting. This is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}, {'number': 5, 'created': '2022-06-08 15:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/882c4f745d171e8560d94e3308712aaf2cd191ab', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or on connect_volume failure.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever (now that we connect\nwith the controller loss timeout set to infinite, before it was for 10\nminutes) in the system (until manually removed) while the host keeps\ntrying to connect to the remote subsystem, but it won't be able to\nconnect because in this case drivers usually destroy both the namespace\nand the subsystem simultaneously (so there's no AER message to indicate\nthe change in available namespaces within the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, such\nas an ever increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, and so on.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting. This is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}, {'number': 6, 'created': '2022-06-08 16:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1ca3609afa98130755d27c21bdef3cb0949908ce', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or on connect_volume failure.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever (now that we connect\nwith the controller loss timeout set to infinite, before it was for 10\nminutes) in the system (until manually removed) while the host keeps\ntrying to connect to the remote subsystem, but it won't be able to\nconnect because in this case drivers usually destroy both the namespace\nand the subsystem simultaneously (so there's no AER message to indicate\nthe change in available namespaces within the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, such\nas an ever increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, and so on.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting. This is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}, {'number': 7, 'created': '2022-06-10 14:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e20e29a40140821cf2a79bdfefe9fdc5066c2960', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or on connect_volume failure.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever (now that we connect\nwith the controller loss timeout set to infinite, before it was for 10\nminutes) in the system (until manually removed) while the host keeps\ntrying to connect to the remote subsystem, but it won't be able to\nconnect because in this case drivers usually destroy both the namespace\nand the subsystem simultaneously (so there's no AER message to indicate\nthe change in available namespaces within the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, such\nas an ever increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, and so on.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting. This is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}, {'number': 8, 'created': '2022-06-14 10:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1bb73e288bb77e39bc3775e0741908dcba996b98', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or on connect_volume failure.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever (now that we connect\nwith the controller loss timeout set to infinite, before it was for 10\nminutes) in the system (until manually removed) while the host keeps\ntrying to connect to the remote subsystem, but it won't be able to\nconnect because in this case drivers usually destroy both the namespace\nand the subsystem simultaneously (so there's no AER message to indicate\nthe change in available namespaces within the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, such\nas an ever increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, and so on.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting. This is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}, {'number': 9, 'created': '2022-07-18 16:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/729c920a45d884fc530435a78f14f28837f09154', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or on connect_volume failure.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever (now that we connect\nwith the controller loss timeout set to infinite, before it was for 10\nminutes) in the system (until manually removed) while the host keeps\ntrying to connect to the remote subsystem, but it won't be able to\nconnect because in this case drivers usually destroy both the namespace\nand the subsystem simultaneously (so there's no AER message to indicate\nthe change in available namespaces within the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, such\nas an ever increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, and so on.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting. This is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}, {'number': 10, 'created': '2022-07-18 17:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c7244046e55b8a92c5506d135772ad46520d3cc2', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or on connect_volume failure.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever (now that we connect\nwith the controller loss timeout set to infinite, before it was for 10\nminutes) in the system (until manually removed) while the host keeps\ntrying to connect to the remote subsystem, but it won't be able to\nconnect because in this case drivers usually destroy both the namespace\nand the subsystem simultaneously (so there's no AER message to indicate\nthe change in available namespaces within the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, such\nas an ever increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, and so on.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting. This is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}, {'number': 11, 'created': '2022-07-19 10:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fdd023665f236aaf4e4c494a3db5faec59dad334', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or on connect_volume failure.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever (now that we connect\nwith the controller loss timeout set to infinite, before it was for 10\nminutes) in the system (until manually removed) while the host keeps\ntrying to connect to the remote subsystem, but it won't be able to\nconnect because in this case drivers usually destroy both the namespace\nand the subsystem simultaneously (so there's no AER message to indicate\nthe change in available namespaces within the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, such\nas an ever increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, and so on.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting. This is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}, {'number': 12, 'created': '2022-07-26 14:29:04.000000000', 'files': ['os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/exception.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/05a4c05c14506df40be93f8d949a4fef4b746deb', 'message': ""NVMe-oF: Disconnect subsystems\n\nCurrent code doesn't disconnect NVMe-oF subsystems when doing a\ndisconnect_volume or on connect_volume failure.\n\nThis is very problematic for systems that don't share subsytems for\nmultiple namespaces, because both the device (i.e., /dev/nvme0n1) and\nthe subsystem (i.e., /dev/nvme0) will stay forever (now that we connect\nwith the controller loss timeout set to infinite, before it was for 10\nminutes) in the system (until manually removed) while the host keeps\ntrying to connect to the remote subsystem, but it won't be able to\nconnect because in this case drivers usually destroy both the namespace\nand the subsystem simultaneously (so there's no AER message to indicate\nthe change in available namespaces within the subsystem).\n\nWe'll experience multiple issues with all these leftover devices, such\nas an ever increasing number of kernel log messages with the connection\nretries, possible exhaustion of number of connected NVMe subsystems\nand/or files in /dev, and so on.\n\nThis patch makes sure the nvmeof connector disconnects a subsystem when\nthere is no longer a namespace present or when the only namespace\npresent is the one we are disconnecting. This is done both on the\ndisconnect_volume call as well as failures during connect_volume.\n\nThis is not a full solution to the problem of leaving leftover devices,\nbecause for drivers that share the subsystem there are race conditions\nbetween unexport/unmap of volumes on the cinder side and os-brick\ndisconnect_volume calls.  To fully prevent this situation Cinder needs\nto start reporting the shared_targets value for NVMe volumes (something\nit's already doing for iSCSI).\n\nPartial-Bug: #1961102\nChange-Id: Ia00be53420307d6ac1f100420d039da7b65dc349\n""}]",24,836062,05a4c05c14506df40be93f8d949a4fef4b746deb,101,4,12,9535,,,0,"NVMe-oF: Disconnect subsystems

Current code doesn't disconnect NVMe-oF subsystems when doing a
disconnect_volume or on connect_volume failure.

This is very problematic for systems that don't share subsytems for
multiple namespaces, because both the device (i.e., /dev/nvme0n1) and
the subsystem (i.e., /dev/nvme0) will stay forever (now that we connect
with the controller loss timeout set to infinite, before it was for 10
minutes) in the system (until manually removed) while the host keeps
trying to connect to the remote subsystem, but it won't be able to
connect because in this case drivers usually destroy both the namespace
and the subsystem simultaneously (so there's no AER message to indicate
the change in available namespaces within the subsystem).

We'll experience multiple issues with all these leftover devices, such
as an ever increasing number of kernel log messages with the connection
retries, possible exhaustion of number of connected NVMe subsystems
and/or files in /dev, and so on.

This patch makes sure the nvmeof connector disconnects a subsystem when
there is no longer a namespace present or when the only namespace
present is the one we are disconnecting. This is done both on the
disconnect_volume call as well as failures during connect_volume.

This is not a full solution to the problem of leaving leftover devices,
because for drivers that share the subsystem there are race conditions
between unexport/unmap of volumes on the cinder side and os-brick
disconnect_volume calls.  To fully prevent this situation Cinder needs
to start reporting the shared_targets value for NVMe volumes (something
it's already doing for iSCSI).

Partial-Bug: #1961102
Change-Id: Ia00be53420307d6ac1f100420d039da7b65dc349
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/62/836062/9 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py']",2,479709dbdff5658fb2f214863bc07124a5b14c7e,nvme-4," def _get_connect_result(self, device_path, conn_props): link = self._symlink_name_from_device_path(device_path) try: priv_rootwrap.link_root(device_path, link, force=True) except Exception: LOG.debug('Failed to create symlink, cleaning connection') exc = exception.ExceptionChainer() self._try_disconnect_all(conn_props, device_path, exc) raise exc = exception.ExceptionChainer() with exc.context(force, 'Failed to unlink %s', device_path): priv_rootwrap.unlink_root(device_path, no_errors=True) with exc.context(force, 'Failed to end raid %s', device_path): self.end_raid(device_path) with exc.context(force, 'Failed to flush %s', device_path): self._try_disconnect_all(connection_properties, device_path, exc) if exc: LOG.warning('There were errors removing %s', device_path) if not ignore_errors: raise exc def _get_target_controllers(self, target_nqn, target_portals): """"""Generator for existing (controller_name, portal) for a target."""""" # Unlike in ""nvme list-subsys -o json"" addr is separated by a coma portals = [(f'traddr={p[0]},trsvcid={p[1]}', p[2]) for p in target_portals] ctrls = glob.glob(NVME_CTRL_SYSFS_PATH + 'nvme*') for ctrl in ctrls: LOG.debug('Checking controller %s', ctrl) nqn = self._sysfs_property('subsysnqn', ctrl) if nqn != target_nqn: LOG.debug(""Skipping %s, doesn't match %s"", nqn, target_nqn) continue ctrl_transport = self._sysfs_property('transport', ctrl) ctrl_addr = self._sysfs_property('address', ctrl) ctrl_portal = (ctrl_addr, ctrl_transport) # The right subsystem, but must also be the right portal try: index = portals.index(ctrl_portal) LOG.debug('Found a valid portal at %s', ctrl_addr) yield os.path.basename(ctrl), target_portals[index] except ValueError: # If it's not one of our controllers ignore it LOG.debug('Skipping %s, not part of our portals %s', ctrl_portal, target_portals) continue def _get_all_controller_paths(self, connection_properties): targets = connection_properties.get('volume_replicas') if not targets: targets = [connection_properties] for target in targets: for ctrl_name, portal in self._get_target_controllers( target['target_nqn'], target['portals']): yield ctrl_name, target def _can_disconnect(self, ctrl_name, target_properties, device_path): """"""Check if a controller can be disconnected."""""" # Can only disconnect if the subsystem has no namespaces left or only # one left and it is from this connection. nss = glob.glob(NVME_CTRL_SYSFS_PATH + f'{ctrl_name}/{ctrl_name}n*') if len(nss) != 1: # No namespaces => disconnect, >1 ns => can't disconnect return not bool(nss) # Confirm if the only namespace is ours ns_syfs_path = nss[0] uuid = target_properties['vol_uuid'] if uuid: return uuid == self._sysfs_property('uuid', ns_syfs_path) nguid = target_properties.get('volume_nguid') if nguid: return nguid == self._sysfs_property('nguid', ns_syfs_path) nsid = target_properties.get('ns_id') if nsid: return str(nsid) == self._sysfs_property('nsid', ns_syfs_path) # If the path matches if not device_path: device_path = target_properties.get('device_path') ns_name = os.path.basename(ns_syfs_path) if device_path: if target_properties.get('encrypted'): device_path = self._device_path_from_symlink(device_path) # Can disconnect if the device name in the controller matches the # one used return ns_name == os.path.basename(device_path) LOG.warning(""There is only namespace %s on controller %s but we don't "" ""know if it belongs to this connection or not, so we "" ""cannot disconnect the subsystem."", ns_name, ctrl_name) return False def _try_disconnect_all(self, conn_props, device_path, exc): """"""Disconnect all subsystems that are not being used."""""" # TODO: Use pyudev once we add it as a dependency for ctrl_name, tgt_props in self._get_all_controller_paths(conn_props): # Ignore all exceptions while going through the disconnect in order # to disconnect as many as possible with exc.context(True, 'Failed to disconnect %s', ctrl_name): self._try_disconnect(ctrl_name, tgt_props, device_path) def _try_disconnect(self, ctrl_name, target_properties, device_path=None): """"""Disconnect a specific subsystem if it's safe. Only disconnect if it has no namespaces left or has only one left and it is from this connection. """""" LOG.debug('Checking if %s can be disconnected', ctrl_name) if self._can_disconnect(ctrl_name, target_properties, device_path): LOG.debug('Can disconnect, disconnecting') self._execute('nvme', 'disconnect', '-d', '/dev/' + ctrl_name, root_helper=self._root_helper, run_as_root=True) LOG.debug('Disconnected') else: LOG.debug('Skipping disconnect from %s', ctrl_name) ctrl_name = self.connect_to_portals(target_props, dead) try: dev_path = self.get_nvme_device_path( ctrl_name=ctrl_name, devices_on_start=devices_on_start, **target_props) except Exception: self._try_disconnect(ctrl_name, target_props) raise def connect_to_portals(self, target_props, dead): target_nqn = target_props[NQN] target_portals = target_props[PORTALS] for ctrl_name, portal in self._get_target_controllers(target_nqn, target_portals): state = self._sysfs_property('state', ctrl_name) if 'live' == state: LOG.debug('Found live controller %s for address %s %s', ctrl_name, portal[0], portal[1]) LOG.warning('Unusable %s controller %s for addr %s %s', state, ctrl_name, portal[0], portal[1]) dead_portals.append(portal) if prop_value == str(value):"," @classmethod def _get_connect_result(cls, device_path, conn_props): link = cls._symlink_name_from_device_path(device_path) priv_rootwrap.link_root(device_path, link, force=True) priv_rootwrap.unlink_root(device_path, no_errors=True) NVMeOFConnector.end_raid(self, device_path) try: except putils.ProcessExecutionError: if not ignore_errors: raise ctrl_name = self.connect_to_portals(target_nqn, portals, dead) dev_path = self.get_nvme_device_path(ctrl_name=ctrl_name, devices_on_start=devices_on_start, **target_props) def connect_to_portals(self, target_nqn, target_portals, dead): # Unlike in ""nvme list-subsys -o json"" addr is separated by a coma portals = [(f'traddr={p[0]},trsvcid={p[1]}', p[2]) for p in target_portals] ctrls = glob.glob(NVME_CTRL_SYSFS_PATH + 'nvme*') for ctrl in ctrls: LOG.debug('Checking controller %s', ctrl) nqn = self._sysfs_property('subsysnqn', ctrl) if nqn != target_nqn: LOG.debug(""Skipping %s, doesn't match %s"", nqn, target_nqn) continue ctrl_transport = self._sysfs_property('transport', ctrl) ctrl_addr = self._sysfs_property('address', ctrl) ctrl_portal = (ctrl_addr, ctrl_transport) # The right subsystem, but must also be the right portal try: index = portals.index(ctrl_portal) LOG.debug('Found a valid portal at %s', ctrl_addr) except ValueError: # If it's not one of our controllers ignore it LOG.debug('Skipping %s, not part of our portals %s', ctrl_portal, target_portals) continue ctrl_name = os.path.basename(ctrl) state = self._sysfs_property('state', ctrl) if 'live' == state: LOG.debug('Found live controller %s for address %s', ctrl_name, ctrl_addr) LOG.warning('Unusable %s controller %s for addr %s', state, ctrl_name, ctrl_addr) dead_portals.append(target_portals[index]) if prop_value == value: @staticmethod",704,124
openstack%2Fcharm-guide~master~If0e6fba119dc6900e9e3a1c57f97bb1bd6d8d06d,openstack/charm-guide,master,If0e6fba119dc6900e9e3a1c57f97bb1bd6d8d06d,Fix two broken links re TLS page,MERGED,2022-07-27 17:31:00.000000000,2022-07-27 17:52:02.000000000,2022-07-27 17:50:40.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 17:31:00.000000000', 'files': ['doc/source/admin/networking/ovn.rst', 'doc/source/admin/networking/load-balancing.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/73f300408b5cfe20e06f16c5ea43d322c4df793e', 'message': 'Fix two broken links re TLS page\n\nChange-Id: If0e6fba119dc6900e9e3a1c57f97bb1bd6d8d06d\n'}]",0,851245,73f300408b5cfe20e06f16c5ea43d322c4df793e,7,2,1,30561,,,0,"Fix two broken links re TLS page

Change-Id: If0e6fba119dc6900e9e3a1c57f97bb1bd6d8d06d
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/45/851245/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/networking/ovn.rst', 'doc/source/admin/networking/load-balancing.rst']",2,73f300408b5cfe20e06f16c5ea43d322c4df793e,fix-broken-links-tls, management information read the :doc:`../security/tls` page., management information read the :doc:`cdg:app-certificate-management` page of the Deploy Guide.,2,4
openstack%2Fneutron-specs~master~Ibdaa0ae502b5fd413cb08e68356e0c18463c4974,openstack/neutron-specs,master,Ibdaa0ae502b5fd413cb08e68356e0c18463c4974,[ovn]Floating IP adds distributed attributes,MERGED,2022-06-27 02:15:06.000000000,2022-07-27 17:51:10.000000000,2022-07-27 17:49:40.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-06-27 02:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/02c83ac8794a3b70fdd64ef30d6c6b8a3f142ca5', 'message': '[ovn]Floating IP adds distributed attributes\n\nNeutron adds distributed attributes to each Floating IP.\nUsers can set this attribute according to their actual\nenvironment and use requirements.\n\nsee more [1]\n\n[1] https://bugs.launchpad.net/neutron/+bug/1978039\n\nChange-Id: Ibdaa0ae502b5fd413cb08e68356e0c18463c4974\n'}, {'number': 2, 'created': '2022-06-27 03:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1930acf07e263eb24490ce67cb74d0d702198a26', 'message': '[ovn]Floating IP adds distributed attributes\n\nNeutron adds distributed attributes to each Floating IP.\nUsers can set this attribute according to their actual\nenvironment and use requirements.\n\nsee more [1]\n\n[1] https://bugs.launchpad.net/neutron/+bug/1978039\n\nChange-Id: Ibdaa0ae502b5fd413cb08e68356e0c18463c4974\n'}, {'number': 3, 'created': '2022-06-29 00:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/18b07e2d2deaca922eb7652f2bb89f55aa05fa9a', 'message': '[ovn]Floating IP adds distributed attributes\n\nNeutron adds distributed attributes to each Floating IP.\nUsers can set this attribute according to their actual\nenvironment and use requirements.\n\nsee more [1]\n\n[1] https://bugs.launchpad.net/neutron/+bug/1978039\n\nChange-Id: Ibdaa0ae502b5fd413cb08e68356e0c18463c4974\n'}, {'number': 4, 'created': '2022-07-15 00:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f7c8c5f6cadbc55c583570b5be4ab585691b2a38', 'message': '[ovn]Floating IP adds distributed attributes\n\nNeutron adds distributed attributes to each Floating IP.\nUsers can set this attribute according to their actual\nenvironment and use requirements.\n\nsee more [1]\n\n[1] https://bugs.launchpad.net/neutron/+bug/1978039\n\nRelated-Bug: #1978039\n\nChange-Id: Ibdaa0ae502b5fd413cb08e68356e0c18463c4974\n'}, {'number': 5, 'created': '2022-07-15 01:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dce7f97f554991d2696be7e0170b62b73d78a9c5', 'message': '[ovn]Floating IP adds distributed attributes\n\nNeutron adds distributed attributes to each Floating IP.\nUsers can set this attribute according to their actual\nenvironment and use requirements.\n\nsee more [1]\n\n[1] https://bugs.launchpad.net/neutron/+bug/1978039\n\nRelated-Bug: #1978039\n\nChange-Id: Ibdaa0ae502b5fd413cb08e68356e0c18463c4974\n'}, {'number': 6, 'created': '2022-07-25 00:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ff7666efe09677bb0d5b0f5285b1f84b06f4a7af', 'message': '[ovn]Floating IP adds distributed attributes\n\nNeutron adds distributed attributes to each Floating IP.\nUsers can set this attribute according to their actual\nenvironment and use requirements.\n\nsee more [1]\n\n[1] https://bugs.launchpad.net/neutron/+bug/1978039\n\nRelated-Bug: #1978039\n\nChange-Id: Ibdaa0ae502b5fd413cb08e68356e0c18463c4974\n'}, {'number': 7, 'created': '2022-07-25 01:15:36.000000000', 'files': ['specs/zed/custom-floatingip-distributed.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/94146b6b3cebd7cdee0835d737cab8d9f9245cfe', 'message': '[ovn]Floating IP adds distributed attributes\n\nNeutron adds distributed attributes to each Floating IP.\nUsers can set this attribute according to their actual\nenvironment and use requirements.\n\nsee more [1]\n\n[1] https://bugs.launchpad.net/neutron/+bug/1978039\n\nRelated-Bug: #1978039\n\nChange-Id: Ibdaa0ae502b5fd413cb08e68356e0c18463c4974\n'}]",30,846987,94146b6b3cebd7cdee0835d737cab8d9f9245cfe,31,6,7,30380,,,0,"[ovn]Floating IP adds distributed attributes

Neutron adds distributed attributes to each Floating IP.
Users can set this attribute according to their actual
environment and use requirements.

see more [1]

[1] https://bugs.launchpad.net/neutron/+bug/1978039

Related-Bug: #1978039

Change-Id: Ibdaa0ae502b5fd413cb08e68356e0c18463c4974
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/87/846987/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/custom-floatingip-distributed.rst'],1,02c83ac8794a3b70fdd64ef30d6c6b8a3f142ca5,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================== Neutron OVN - Floating IP distributed ===================================== Launchpad Bug: https://bugs.launchpad.net/neutron/+bug/1978039 Neutron adds distributed attributes to each Floating IP. Users can set this attribute according to their actual environment and use requirements. Problem Description =================== Neutron uses ovn ML2 driver and ovn_l3 plugin supports setting the floating IP to distributed. External traffic can go directly to the compute node without passing through the network node, and increases the network performance. This is very useful for the demand for high-performance networks. However, we decide whether floating ips are distributed or centralized by setting configuration(enable_distributed_floating_ip). This is global. after configuration, all floating ips are centralized or distributed. The actual use may be complicated: 1.Not all vms with floating ip may require high-performance networks, and may only be exposed to the outside world to provide services. 2.Due to equipment conditions, some compute nodes are not equipped with external network card. If enable distributed, the vm of this compute node cannot allocate floating ip. Proposed Change =============== Add new API extension to extend ``floatingip`` resource in Neutron with ` `distributed`` attribute. .. note:: This extension is only for OVN backend. Server side changes ------------------- A new API extension of Neutron will be added with new attribute for the ``floatingip`` resource. This new attribute will be called ``distributed``: :: RESOURCE_ATTRIBUTE_MAP = { l3.FLOATINGIPS: { ""distributed"": { 'allow_post': True, 'allow_put': True, 'convert_to': converters.convert_to_boolean_if_not_none, 'default': constants.ATTR_NOT_SPECIFIED, 'is_visible': True, 'is_filter': True } } } DB Impact --------- Extend the ``floatingips`` table with boolean column ``distributed``. REST API Impact --------------- None. Client Impact ------------- Relevant changes in osc and openstacksdk to add support for new floatingip's attribute. To enable it for floatingip, it should be something like: :: openstack floating ip create --distributed and to disable it: :: openstack floating ip create --centralized and update it: :: openstack floating ip update [--distributed | --centralized ] Testing ------- * Unit tests. * Functional test. * Tempest tests in neutron-tempest-plugin. Assignee(s) ----------- * ZhouHeng <zhouhenglc@inspur.com> ",,108,0
openstack%2Fsushy-tools~master~Id08668d943be0ff94a191a1f06ba93eecbf74eb5,openstack/sushy-tools,master,Id08668d943be0ff94a191a1f06ba93eecbf74eb5,Fix for werkzeug 2.2 routing change,MERGED,2022-07-27 07:16:37.000000000,2022-07-27 17:37:52.000000000,2022-07-27 17:36:50.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 07:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d7ffb0a48dfe50686f6c4895ae1f79e329c3fa6c', 'message': '[DNM] test werkzeug 2.2 routing change\n\nChange-Id: Id08668d943be0ff94a191a1f06ba93eecbf74eb5\n'}, {'number': 2, 'created': '2022-07-27 10:01:50.000000000', 'files': ['sushy_tools/emulator/controllers/virtual_media.py', 'sushy_tools/emulator/controllers/certificate_service.py', 'sushy_tools/tests/unit/emulator/controllers/test_certificate_service.py', 'sushy_tools/tests/unit/emulator/controllers/test_virtual_media.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/58d7f8df316c99446e24d89545703e1da1002351', 'message': 'Fix for werkzeug 2.2 routing change\n\nVersion 2.2.0 of Werkzeug brings a fix for an issue [1] related to\ndiscarding trailing slash that modifies redirect behavior for\nbranches, effectively applying strict_slashes rule.\n\n[1] https://github.com/pallets/werkzeug/issues/1074\n\nChange-Id: Id08668d943be0ff94a191a1f06ba93eecbf74eb5\n'}]",1,851162,58d7f8df316c99446e24d89545703e1da1002351,9,2,2,23851,,,0,"Fix for werkzeug 2.2 routing change

Version 2.2.0 of Werkzeug brings a fix for an issue [1] related to
discarding trailing slash that modifies redirect behavior for
branches, effectively applying strict_slashes rule.

[1] https://github.com/pallets/werkzeug/issues/1074

Change-Id: Id08668d943be0ff94a191a1f06ba93eecbf74eb5
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/62/851162/2 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/controllers/virtual_media.py', 'sushy_tools/tests/unit/emulator/controllers/test_virtual_media.py']",2,d7ffb0a48dfe50686f6c4895ae1f79e329c3fa6c,test-werkzeug220, '/redfish/v1/Managers/%s/VirtualMedia' % self.uuid) 'redfish/v1/Managers/' + self.uuid + '/VirtualMedia'), '/redfish/v1/Managers/%s/VirtualMedia/' % self.uuid) 'redfish/v1/Managers/' + self.uuid + '/VirtualMedia/'),3,3
openstack%2Fneutron~master~I077c686310638081198acea81e8a26bcbd5cd934,openstack/neutron,master,I077c686310638081198acea81e8a26bcbd5cd934,Update the Ethernet card information,MERGED,2022-07-07 07:09:14.000000000,2022-07-27 17:29:10.000000000,2022-07-27 17:28:00.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 33493}, {'_account_id': 34271}, {'_account_id': 34775}]","[{'number': 1, 'created': '2022-07-07 07:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31d8a99733972ec594c63a5a34bffdfcb844ebb6', 'message': 'Updated information about the Mellanox SR-IOV Ethernet ConnectX card.\nDemoved information about the Broadcom NetxTreme-E series Ethernet card.\n\nEthernet card information about the Mellanox series, https://www.nvidia.com/en-us/support/enterprise has replaced the new address.\n\nBetter information about the Broadcom NetXtrem Ethernet card was not found, so the information about the Broadcom Ethernet card was removed.\n\nChange-Id: I077c686310638081198acea81e8a26bcbd5cd934\n'}, {'number': 2, 'created': '2022-07-12 01:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fed332a7e198deb3d9dece63b480671104bf132f', 'message': 'Update the Ethernet card information\n\nEthernet card information about the Mellanox series,\nhttps://www.nvidia.com/en-us/support/enterprise has replaced the new address.\n\nBetter information about the Broadcom NetXtrem Ethernet card was not found,\nso the information about the Broadcom Ethernet card was removed.\n\nChange-Id: I077c686310638081198acea81e8a26bcbd5cd934\n'}, {'number': 3, 'created': '2022-07-12 02:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17a5aef6cf3763e86ea2726482e39b1dc052a1de', 'message': 'Update the Ethernet card information\n\nEthernet card information about the Mellanox series,\nhttps://www.nvidia.com/en-us/support/enterprise\nhas replaced the new address.\n\nBetter information about the Broadcom NetXtrem Ethernet\ncard was not found,\nso the information about the Broadcom Ethernet card was removed.\n\nChange-Id: I077c686310638081198acea81e8a26bcbd5cd934\n'}, {'number': 4, 'created': '2022-07-13 03:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3901ee0888e569a571eb7f8cd3486a9ef544f76f', 'message': 'Update the Ethernet card information\n\nMellanox series Ethernet card information,\nupdate the address for https://docs.nvidia.com/networking\n\nBroadcom series Ethernet card information,\nupdate the address for https://www.broadcom.com/products\n\nChange-Id: I077c686310638081198acea81e8a26bcbd5cd934\n'}, {'number': 5, 'created': '2022-07-19 05:48:36.000000000', 'files': ['doc/source/admin/config-sriov.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0d484e41a33612e8162742279869692c3dc629b', 'message': 'Update the Ethernet card information\n\nMellanox series Ethernet card information,\nupdate the address for\nhttps://community.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet\n\nBroadcom series Ethernet card information,\nupdate the address for\nhttps://www.broadcom.com/products/ethernet-connectivity/network-adapters\n\nChange-Id: I077c686310638081198acea81e8a26bcbd5cd934\n'}]",8,848929,d0d484e41a33612e8162742279869692c3dc629b,26,6,5,35025,,,0,"Update the Ethernet card information

Mellanox series Ethernet card information,
update the address for
https://community.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet

Broadcom series Ethernet card information,
update the address for
https://www.broadcom.com/products/ethernet-connectivity/network-adapters

Change-Id: I077c686310638081198acea81e8a26bcbd5cd934
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/848929/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-sriov.rst'],1,31d8a99733972ec594c63a5a34bffdfcb844ebb6,,- `Mellanox: How To Configure SR-IOV VFs on ConnectX-4 or newer <https://docs.nvidia.com/networking/pages/viewpage.action?pageId=12005023#SingleRootIOVirtualization(SRIOV)-cx4/cx5sr-iovconfigConfiguringSR-IOVforConnectX-4/ConnectX-5(Ethernet)>`_. - `Mellanox: How To Configure SR-IOV VFs on ConnectX-3/ConnectX-3 Pro <https://docs.nvidia.com/networking/pages/viewpage.action?pageId=12005023#SingleRootIOVirtualization(SRIOV)-cx-3/prosr-iovconfigConfiguringSR-IOVforConnectX-3/ConnectX-3Pro>`_.,"- `Mellanox: How To Configure SR-IOV VFs on ConnectX-4 or newer <https://community.mellanox.com/s/article/HowTo-Configure-SR-IOV-for-ConnectX-4-ConnectX-5-ConnectX-6-with-KVM-Ethernet>`_. - `Mellanox: How To Configure SR-IOV VFs on ConnectX-3/ConnectX-3 Pro <https://community.mellanox.com/docs/DOC-1484>`_.For information on **Broadcom NetXtreme-E Series Ethernet cards**, see the `Broadcom NetXtreme-C/NetXtreme-E User Guide <https://docs.broadcom.com/docs/NetXtreme-UG>`_. For information on **Broadcom NetXtreme-S Series Ethernet cards**, see the `Broadcom NetXtreme-S Product Page <https://www.broadcom.com/products/ethernet-connectivity/smartnic/bcm58800>`_. ",2,10
openstack%2Fproject-config~master~I7d15679fe2cce78f189da0c525c11cdc1cc363a8,openstack/project-config,master,I7d15679fe2cce78f189da0c525c11cdc1cc363a8,Complete charm-cinder-dell-emc-powerstore config,MERGED,2022-07-27 16:40:00.000000000,2022-07-27 17:00:15.000000000,2022-07-27 17:00:15.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 16:40:00.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6f32474289490a6eede07ff925c4366e2d50c0c6', 'message': 'Complete charm-cinder-dell-emc-powerstore config\n\nThe zuul.d/project.yaml entry for the above project was missed out in a\nrecent patch to add the project.  This patch completes that so that the\nproject will have the official-openstack-repo-jobs template.\n\nChange-Id: I7d15679fe2cce78f189da0c525c11cdc1cc363a8\n'}]",0,851242,6f32474289490a6eede07ff925c4366e2d50c0c6,7,3,1,20870,,,0,"Complete charm-cinder-dell-emc-powerstore config

The zuul.d/project.yaml entry for the above project was missed out in a
recent patch to add the project.  This patch completes that so that the
project will have the official-openstack-repo-jobs template.

Change-Id: I7d15679fe2cce78f189da0c525c11cdc1cc363a8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/851242/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,6f32474289490a6eede07ff925c4366e2d50c0c6,complete-charm-cinder-dell-emc-powerstore, name: openstack/charm-cinder-dell-emc-powerstore templates: - official-openstack-repo-jobs - project:,,5,0
openstack%2Fansible-collections-openstack~master~I2bae37f206319e8f9ace468f5b94f6be643b6a3c,openstack/ansible-collections-openstack,master,I2bae37f206319e8f9ace468f5b94f6be643b6a3c,Don't use deprecated distutils from python 3.10,MERGED,2022-07-27 10:53:49.000000000,2022-07-27 16:48:56.000000000,2022-07-27 16:48:56.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-07-27 10:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/759360d582667f68af84cdde72ed796ba4923529', 'message': ""Don't use deprecated distutils from python 3.10\n\ndistutils is deprecated in 3.10: https://peps.python.org/pep-0632/\nAnsible requires it to be replaced[1]\n\n[1] https://github.com/ansible-community/community-topics/issues/96\nhttps://github.com/ansible-collections/news-for-maintainers/issues/18\n\nChange-Id: I2bae37f206319e8f9ace468f5b94f6be643b6a3c\n""}, {'number': 2, 'created': '2022-07-27 14:03:59.000000000', 'files': ['scripts/inventory/openstack_inventory.py', 'plugins/module_utils/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ccbbc319cecb764ee34590bfd089dc5856351adf', 'message': ""Don't use deprecated distutils from python 3.10\n\ndistutils is deprecated in 3.10: https://peps.python.org/pep-0632/\nAnsible requires it to be replaced[1]\n\n[1] https://github.com/ansible-community/community-topics/issues/96\nhttps://github.com/ansible-collections/news-for-maintainers/issues/18\n\nChange-Id: I2bae37f206319e8f9ace468f5b94f6be643b6a3c\n""}]",2,851210,ccbbc319cecb764ee34590bfd089dc5856351adf,13,4,2,10969,,,0,"Don't use deprecated distutils from python 3.10

distutils is deprecated in 3.10: https://peps.python.org/pep-0632/
Ansible requires it to be replaced[1]

[1] https://github.com/ansible-community/community-topics/issues/96
https://github.com/ansible-collections/news-for-maintainers/issues/18

Change-Id: I2bae37f206319e8f9ace468f5b94f6be643b6a3c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/10/851210/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/inventory/openstack_inventory.py', 'plugins/module_utils/openstack.py']",2,759360d582667f68af84cdde72ed796ba4923529,,"from ansible.module_utils.six import raise_from try: from ansible.module_utils.compat.version import StrictVersion except ImportError: try: from distutils.version import StrictVersion except ImportError as exc: raise_from(ImportError('To use this plugin or module with ansible-core' ' < 2.11, you need to use Python < 3.12 with ' 'distutils.version present'), exc)",from distutils.version import StrictVersion,20,2
openstack%2Ftripleo-quickstart-extras~master~I712fa3ee8f186ac323693ad15f3986a47bd569cc,openstack/tripleo-quickstart-extras,master,I712fa3ee8f186ac323693ad15f3986a47bd569cc,Tidy up ctrl logfile backup before compute deploy mixed OS job,MERGED,2022-07-26 16:10:28.000000000,2022-07-27 16:16:23.000000000,2022-07-27 16:16:23.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30750}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-07-26 16:10:28.000000000', 'files': ['playbooks/multinode-overcloud-mixed-os-deploy-compute.yml', 'playbooks/multinode-overcloud-mixed-os-deploy-control.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ecfc3c88734ca395f51c0211d7cd6b98249c8aca', 'message': 'Tidy up ctrl logfile backup before compute deploy mixed OS job\n\nIn [1] we merged some plays for use with mixed OS version job.\nThis is a followup to review comments at [1] in particular\nmoving the copying of controller logfiles to the end of the\ncontroller deploy play, and using copy instead of shell.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/841764/34#message-691960e27fab386ef4e65ea4f5291dd991f01ea5\n\nChange-Id: I712fa3ee8f186ac323693ad15f3986a47bd569cc\n'}]",8,851046,ecfc3c88734ca395f51c0211d7cd6b98249c8aca,18,7,1,8449,,,0,"Tidy up ctrl logfile backup before compute deploy mixed OS job

In [1] we merged some plays for use with mixed OS version job.
This is a followup to review comments at [1] in particular
moving the copying of controller logfiles to the end of the
controller deploy play, and using copy instead of shell.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/841764/34#message-691960e27fab386ef4e65ea4f5291dd991f01ea5

Change-Id: I712fa3ee8f186ac323693ad15f3986a47bd569cc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/46/851046/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-overcloud-mixed-os-deploy-compute.yml', 'playbooks/multinode-overcloud-mixed-os-deploy-control.yml']",2,ecfc3c88734ca395f51c0211d7cd6b98249c8aca,oooci_mixed_rhel," - name: Backup controller logfiles before compute deployment overwrites them hosts: undercloud gather_facts: false vars: backup_ctrl_files: - containers-prepare-parameter.yaml - overcloud_deploy.log - overcloud_roles.yaml - overcloud-topology-config.yaml - overcloud-deploy.sh tags: - overcloud-deploy tasks: - name: Rename controller logfiles so we can keep them copy: remote_src: true src: ""/home/zuul/{{ item }}"" dest: ""/home/zuul/ctrl_{{ item }}"" loop: ""{{ backup_ctrl_files|flatten }}"" failed_when: false",,21,8
openstack%2Fironic~stable%2Fxena~I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b,openstack/ironic,stable/xena,I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b,Fix Redfish RAID to update raid_config,MERGED,2022-07-19 14:43:19.000000000,2022-07-27 16:16:19.000000000,2022-07-27 16:14:55.000000000,"[{'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-19 14:43:19.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/fix-redfish-raid-config-9e868c3e069475a1.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/249cbf2abaeaedefdea5c9eca9783572e9fc2cd5', 'message': 'Fix Redfish RAID to update raid_config\n\nStory: 2003514\nTask: 41940\n\n Conflicts:\n       ironic/drivers/modules/redfish/raid.py\n       ironic/tests/unit/drivers/modules/redfish/test_raid.py\n\nChange-Id: I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b\n(cherry picked from commit 29364b7fb40327dc277c535e5b829133274ad420)\n'}]",0,850356,249cbf2abaeaedefdea5c9eca9783572e9fc2cd5,11,3,1,27909,,,0,"Fix Redfish RAID to update raid_config

Story: 2003514
Task: 41940

 Conflicts:
       ironic/drivers/modules/redfish/raid.py
       ironic/tests/unit/drivers/modules/redfish/test_raid.py

Change-Id: I753c4b00c0a64bcdc89c9bc0afd46f1211f7847b
(cherry picked from commit 29364b7fb40327dc277c535e5b829133274ad420)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/850356/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/fix-redfish-raid-config-9e868c3e069475a1.yaml']",5,249cbf2abaeaedefdea5c9eca9783572e9fc2cd5,redfish-raid,"--- fixes: - | Fixes ``redfish`` and ``idrac-redfish`` RAID ``create_configuration``, ``apply_configuration``, ``delete_configuration`` clean and deploy steps to update node's ``raid_config`` field at the end of the steps. ",,165,5
openstack%2Fnova~stable%2Fvictoria~Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1,openstack/nova,stable/victoria,Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1,Add a workaround to skip hypervisor version check on LM,NEW,2022-07-27 13:27:55.000000000,2022-07-27 16:12:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-27 13:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e20c4ac3d73d8b453a4f4cadacff7c5978f57134', 'message': ""Add a workaround to skip hypervisor version check on LM\n\nWhen turned on, this will disable the version-checking of hypervisors\nduring live-migration.  This can be useful for operators in certain\nscenarios when upgrading.  E.g. if you want to relocate all instances\noff a compute node due to an emergency hardware issue, and you only have\nanother old compute node ready at the time.\n\nNote, though: libvirt will do its own internal compatibility checks, and\nmight still reject live migration if the destination is incompatible.\n\nConflicts: nova/conf/workarounds.py\n - Some of the config options are not present in 'stable/train'\n\nCloses-Bug: #1982853\n\nChange-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 5032cb62e6458282e1282ac64cf7dd49a2497ac1)\n(cherry picked from commit 0e3b4424b7f587e3e274a5ef81ac35cfd14f0c96)\n(cherry picked from commit 21f92d4b576fc2c309713c369041dd434d605cc6)\n(cherry picked from commit d04e925a029f38c3d38f52e40d5bc5d8db41cf9f)\n""}, {'number': 2, 'created': '2022-07-27 13:31:52.000000000', 'files': ['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6bb930fee89bdaa0023f0f9ded34ef91e1b099a9', 'message': ""Add a workaround to skip hypervisor version check on LM\n\nWhen turned on, this will disable the version-checking of hypervisors\nduring live-migration.  This can be useful for operators in certain\nscenarios when upgrading.  E.g. if you want to relocate all instances\noff a compute node due to an emergency hardware issue, and you only have\nanother old compute node ready at the time.\n\nNote, though: libvirt will do its own internal compatibility checks, and\nmight still reject live migration if the destination is incompatible.\n\nConflicts: nova/conf/workarounds.py\n - Some of the config options are not present in 'stable/victoria'\n\nCloses-Bug: #1982853\n\nChange-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 5032cb62e6458282e1282ac64cf7dd49a2497ac1)\n(cherry picked from commit 0e3b4424b7f587e3e274a5ef81ac35cfd14f0c96)\n(cherry picked from commit 21f92d4b576fc2c309713c369041dd434d605cc6)\n(cherry picked from commit d04e925a029f38c3d38f52e40d5bc5d8db41cf9f)\n""}]",0,851223,6bb930fee89bdaa0023f0f9ded34ef91e1b099a9,5,1,2,6962,,,0,"Add a workaround to skip hypervisor version check on LM

When turned on, this will disable the version-checking of hypervisors
during live-migration.  This can be useful for operators in certain
scenarios when upgrading.  E.g. if you want to relocate all instances
off a compute node due to an emergency hardware issue, and you only have
another old compute node ready at the time.

Note, though: libvirt will do its own internal compatibility checks, and
might still reject live migration if the destination is incompatible.

Conflicts: nova/conf/workarounds.py
 - Some of the config options are not present in 'stable/victoria'

Closes-Bug: #1982853

Change-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 5032cb62e6458282e1282ac64cf7dd49a2497ac1)
(cherry picked from commit 0e3b4424b7f587e3e274a5ef81ac35cfd14f0c96)
(cherry picked from commit 21f92d4b576fc2c309713c369041dd434d605cc6)
(cherry picked from commit d04e925a029f38c3d38f52e40d5bc5d8db41cf9f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/851223/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",4,e20c4ac3d73d8b453a4f4cadacff7c5978f57134,bug/1982853," @mock.patch.object(live_migrate.LiveMigrationTask, '_get_compute_info') def test_skip_hypervisor_version_check_on_lm_raise_ex(self, mock_get_info): host1 = {'hypervisor_type': 'a', 'hypervisor_version': 7} host2 = {'hypervisor_type': 'a', 'hypervisor_version': 6} self.flags(group='workarounds', skip_hypervisor_version_check_on_lm=False) mock_get_info.side_effect = [objects.ComputeNode(**host1), objects.ComputeNode(**host2)] self.assertRaises(exception.DestinationHypervisorTooOld, self.task._check_compatible_with_source_hypervisor, self.destination) self.assertEqual([mock.call(self.instance_host), mock.call(self.destination)], mock_get_info.call_args_list) @mock.patch.object(live_migrate.LiveMigrationTask, '_get_compute_info') def test_skip_hypervisor_version_check_on_lm_do_not_raise_ex( self, mock_get_info ): host1 = {'hypervisor_type': 'a', 'hypervisor_version': 7} host2 = {'hypervisor_type': 'a', 'hypervisor_version': 6} self.flags(group='workarounds', skip_hypervisor_version_check_on_lm=True) mock_get_info.side_effect = [objects.ComputeNode(**host1), objects.ComputeNode(**host2)] self.task._check_compatible_with_source_hypervisor(self.destination) self.assertEqual([mock.call(self.instance_host), mock.call(self.destination)], mock_get_info.call_args_list) ",,63,2
openstack%2Fnova~stable%2Fussuri~Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1,openstack/nova,stable/ussuri,Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1,Add a workaround to skip hypervisor version check on LM,NEW,2022-07-27 13:33:31.000000000,2022-07-27 15:56:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-27 13:33:31.000000000', 'files': ['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/04ac9b78aba6b4000af098905d199f121bc4ff3e', 'message': ""Add a workaround to skip hypervisor version check on LM\n\nWhen turned on, this will disable the version-checking of hypervisors\nduring live-migration.  This can be useful for operators in certain\nscenarios when upgrading.  E.g. if you want to relocate all instances\noff a compute node due to an emergency hardware issue, and you only have\nanother old compute node ready at the time.\n\nNote, though: libvirt will do its own internal compatibility checks, and\nmight still reject live migration if the destination is incompatible.\n\nConflicts: nova/conf/workarounds.py\n - Some of the config options are not present in 'stable/ussuri'\n\nCloses-Bug: #1982853\n\nChange-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 5032cb62e6458282e1282ac64cf7dd49a2497ac1)\n(cherry picked from commit 0e3b4424b7f587e3e274a5ef81ac35cfd14f0c96)\n(cherry picked from commit 21f92d4b576fc2c309713c369041dd434d605cc6)\n(cherry picked from commit d04e925a029f38c3d38f52e40d5bc5d8db41cf9f)\n(cherry picked from commit 6bb930fee89bdaa0023f0f9ded34ef91e1b099a9)\n""}]",0,851224,04ac9b78aba6b4000af098905d199f121bc4ff3e,4,1,1,6962,,,0,"Add a workaround to skip hypervisor version check on LM

When turned on, this will disable the version-checking of hypervisors
during live-migration.  This can be useful for operators in certain
scenarios when upgrading.  E.g. if you want to relocate all instances
off a compute node due to an emergency hardware issue, and you only have
another old compute node ready at the time.

Note, though: libvirt will do its own internal compatibility checks, and
might still reject live migration if the destination is incompatible.

Conflicts: nova/conf/workarounds.py
 - Some of the config options are not present in 'stable/ussuri'

Closes-Bug: #1982853

Change-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 5032cb62e6458282e1282ac64cf7dd49a2497ac1)
(cherry picked from commit 0e3b4424b7f587e3e274a5ef81ac35cfd14f0c96)
(cherry picked from commit 21f92d4b576fc2c309713c369041dd434d605cc6)
(cherry picked from commit d04e925a029f38c3d38f52e40d5bc5d8db41cf9f)
(cherry picked from commit 6bb930fee89bdaa0023f0f9ded34ef91e1b099a9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/851224/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",4,04ac9b78aba6b4000af098905d199f121bc4ff3e,bug/1982853," @mock.patch.object(live_migrate.LiveMigrationTask, '_get_compute_info') def test_skip_hypervisor_version_check_on_lm_raise_ex(self, mock_get_info): host1 = {'hypervisor_type': 'a', 'hypervisor_version': 7} host2 = {'hypervisor_type': 'a', 'hypervisor_version': 6} self.flags(group='workarounds', skip_hypervisor_version_check_on_lm=False) mock_get_info.side_effect = [objects.ComputeNode(**host1), objects.ComputeNode(**host2)] self.assertRaises(exception.DestinationHypervisorTooOld, self.task._check_compatible_with_source_hypervisor, self.destination) self.assertEqual([mock.call(self.instance_host), mock.call(self.destination)], mock_get_info.call_args_list) @mock.patch.object(live_migrate.LiveMigrationTask, '_get_compute_info') def test_skip_hypervisor_version_check_on_lm_do_not_raise_ex( self, mock_get_info ): host1 = {'hypervisor_type': 'a', 'hypervisor_version': 7} host2 = {'hypervisor_type': 'a', 'hypervisor_version': 6} self.flags(group='workarounds', skip_hypervisor_version_check_on_lm=True) mock_get_info.side_effect = [objects.ComputeNode(**host1), objects.ComputeNode(**host2)] self.task._check_compatible_with_source_hypervisor(self.destination) self.assertEqual([mock.call(self.instance_host), mock.call(self.destination)], mock_get_info.call_args_list) ",,53,2
openstack%2Fironic~stable%2Fwallaby~I8f9a89d18d22d18a2e695fde894bcd27f18f8954,openstack/ironic,stable/wallaby,I8f9a89d18d22d18a2e695fde894bcd27f18f8954,Fix redfish RAID failed tasks,MERGED,2022-07-01 13:16:04.000000000,2022-07-27 15:52:24.000000000,2022-07-27 15:50:55.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-01 13:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0fdb91768f14d517081dca301a031501e73118a5', 'message': 'Fix redfish RAID failed tasks\n\nRedfish Tasks do not report failures via HTTP status codes. Instead\nhave to check TaskState and TaskStatus.\n\nStory: 2009767\nTask: 44244\n\nChange-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954\n(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)\n'}, {'number': 2, 'created': '2022-07-04 08:07:09.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'releasenotes/notes/fix-redfish-raid-failed-tasks-02487c4698dea176.yaml', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b920d9af9acf83eb2aa60a11159fad3b6a0bf3f', 'message': 'Fix redfish RAID failed tasks\n\nRedfish Tasks do not report failures via HTTP status codes. Instead\nhave to check TaskState and TaskStatus.\n\nStory: 2009767\nTask: 44244\n\nChange-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954\n(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)\n'}]",0,848358,8b920d9af9acf83eb2aa60a11159fad3b6a0bf3f,18,3,2,27909,,,0,"Fix redfish RAID failed tasks

Redfish Tasks do not report failures via HTTP status codes. Instead
have to check TaskState and TaskStatus.

Story: 2009767
Task: 44244

Change-Id: I8f9a89d18d22d18a2e695fde894bcd27f18f8954
(cherry picked from commit 196d8f7fc055667af501ea0569ba5c501a2c6e8d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/848358/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'releasenotes/notes/fix-redfish-raid-failed-tasks-02487c4698dea176.yaml']",3,0fdb91768f14d517081dca301a031501e73118a5,redfish-raid-stable/wallaby,--- fixes: - | Fixes the determination of a failed RAID configuration task in the ``redfish`` hardware type. Prior to this fix the tasks that have failed were reported as successful. ,,124,39
openstack%2Fneutron-lib~master~Ibc04a1940c3833d3e10dbfc011598ac11c58ba13,openstack/neutron-lib,master,Ibc04a1940c3833d3e10dbfc011598ac11c58ba13,[sqlalchemy-20] Use session.transaction information to decide if active,MERGED,2022-07-27 08:32:24.000000000,2022-07-27 15:52:23.000000000,2022-07-27 15:51:05.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 08:32:24.000000000', 'files': ['neutron_lib/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5b1dab0e8f6d27dabfa5088f950a2d4ad186e0a5', 'message': '[sqlalchemy-20] Use session.transaction information to decide if active\n\nThe ""session.transaction"" member ""_connections"" is a dictionary with the\nactive database connections of the current transaction. Neutron will use\nit to determine if the session is active or not. This parameter will\nprovide more accurate information than ""new"", ""dirty"" or ""deleted"". A\nread (SELECT) operation won\'t be included on those lists while the\ntransaction is currently active.\n\nThis patch is patch is a direct transcription of [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/843256\n\nRelated-Bug: #1975542\n\nChange-Id: Ibc04a1940c3833d3e10dbfc011598ac11c58ba13\n'}]",1,851193,5b1dab0e8f6d27dabfa5088f950a2d4ad186e0a5,8,3,1,16688,,,0,"[sqlalchemy-20] Use session.transaction information to decide if active

The ""session.transaction"" member ""_connections"" is a dictionary with the
active database connections of the current transaction. Neutron will use
it to determine if the session is active or not. This parameter will
provide more accurate information than ""new"", ""dirty"" or ""deleted"". A
read (SELECT) operation won't be included on those lists while the
transaction is currently active.

This patch is patch is a direct transcription of [1].

[1]https://review.opendev.org/c/openstack/neutron/+/843256

Related-Bug: #1975542

Change-Id: Ibc04a1940c3833d3e10dbfc011598ac11c58ba13
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/93/851193/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/api.py'],1,5b1dab0e8f6d27dabfa5088f950a2d4ad186e0a5,bug/1975542," behaviour, this method checks if there is a transaction created and if the transaction has any active connection against the database server. if not session.transaction._connections:"," behaviour, this method checks the pending new, deleted and dirty elements to be flushed. if not (session.dirty or session.deleted or session.new):",3,3
openstack%2Fneutron~stable%2Fxena~Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8,openstack/neutron,stable/xena,Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8,Test: mock out _check_netfilter_for_bridges in unit tests,MERGED,2022-07-27 07:02:51.000000000,2022-07-27 15:48:19.000000000,2022-07-27 15:45:46.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 07:02:51.000000000', 'files': ['neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'tox.ini', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff9c7cf1a28736c431e5d8571012f3512e21ba7c', 'message': 'Test: mock out _check_netfilter_for_bridges in unit tests\n\n_check_netfilter_for_bridges do some calls which are not for unit tests.\nSpecifically the call for sysctl -N net.bridge seems to be broken with\na recent kernel upgrade on bionic (see the irc log for this discussion\nin [1]).\nAdd OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such\nissues.\nDuring the rootwrap to privsep change some of these mocks were added,\n(see [2]) so backporting (before Wallaby mostly) can be done with\ncaution.\n\n[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32\n[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py\n\nChange-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8\nCloses-Bug: #1982206\n(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)\n'}]",0,851063,ff9c7cf1a28736c431e5d8571012f3512e21ba7c,10,3,1,8313,,,0,"Test: mock out _check_netfilter_for_bridges in unit tests

_check_netfilter_for_bridges do some calls which are not for unit tests.
Specifically the call for sysctl -N net.bridge seems to be broken with
a recent kernel upgrade on bionic (see the irc log for this discussion
in [1]).
Add OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such
issues.
During the rootwrap to privsep change some of these mocks were added,
(see [2]) so backporting (before Wallaby mostly) can be done with
caution.

[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32
[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py

Change-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8
Closes-Bug: #1982206
(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/851063/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'tox.ini', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",3,ff9c7cf1a28736c431e5d8571012f3512e21ba7c,bug/1982206-stable/yoga-stable/xena,"from neutron.agent.linux import iptables_firewall return_value='00:00:00:00:00:01'), \ mock.patch.object(iptables_firewall.IptablesFirewallDriver, '_check_netfilter_for_bridges'), \"," return_value='00:00:00:00:00:01'),\",15,7
openstack%2Fneutron~stable%2Fyoga~Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8,openstack/neutron,stable/yoga,Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8,Test: mock out _check_netfilter_for_bridges in unit tests,MERGED,2022-07-26 07:35:10.000000000,2022-07-27 15:48:09.000000000,2022-07-27 15:45:40.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2022-07-26 07:35:10.000000000', 'files': ['neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'tox.ini', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81809eac06116361149bd13424251fff531aa7db', 'message': 'Test: mock out _check_netfilter_for_bridges in unit tests\n\n_check_netfilter_for_bridges do some calls which are not for unit tests.\nSpecifically the call for sysctl -N net.bridge seems to be broken with\na recent kernel upgrade on bionic (see the irc log for this discussion\nin [1]).\nAdd OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such\nissues.\nDuring the rootwrap to privsep change some of these mocks were added,\n(see [2]) so backporting (before Wallaby mostly) can be done with\ncaution.\n\n[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32\n[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py\n\nChange-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8\nCloses-Bug: #1982206\n(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)\n'}]",2,850920,81809eac06116361149bd13424251fff531aa7db,18,4,1,8313,,,0,"Test: mock out _check_netfilter_for_bridges in unit tests

_check_netfilter_for_bridges do some calls which are not for unit tests.
Specifically the call for sysctl -N net.bridge seems to be broken with
a recent kernel upgrade on bionic (see the irc log for this discussion
in [1]).
Add OS_TEST_TIMEOUT:180 to tox testenv, this can help to debug such
issues.
During the rootwrap to privsep change some of these mocks were added,
(see [2]) so backporting (before Wallaby mostly) can be done with
caution.

[1]: https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-07-20.log.html#t2022-07-20T12:59:32
[2]: https://review.opendev.org/c/openstack/neutron/+/764015/12/neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py

Change-Id: Ic366d67770cc6e19a4412eaf2f1ab53780e98ee8
Closes-Bug: #1982206
(cherry picked from commit 119b82f1b10df50a696e936e80672c7ddb00436f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/850920/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'tox.ini', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",3,81809eac06116361149bd13424251fff531aa7db,bug/1982206-stable/yoga,"from neutron.agent.linux import iptables_firewall return_value='00:00:00:00:00:01'), \ mock.patch.object(iptables_firewall.IptablesFirewallDriver, '_check_netfilter_for_bridges'), \"," return_value='00:00:00:00:00:01'),\",15,7
openstack%2Ftempest~master~I42208f82b995f67f45c733e76d6d285a1faf9f95,openstack/tempest,master,I42208f82b995f67f45c733e76d6d285a1faf9f95,Test fips job on centos-9,MERGED,2022-03-02 21:26:35.000000000,2022-07-27 15:48:05.000000000,2022-07-27 15:45:35.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-03-02 21:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6f487d738a5d3c2f4eecd934a8022e4bce1ad5c4', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 2, 'created': '2022-03-02 21:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6236f9be5110e02f75d12055e816317f0fc66aa6', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 3, 'created': '2022-03-02 23:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6e19be9eaaebed2bb74a2a4c0d64b59b5c6c4120', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/831245\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 4, 'created': '2022-03-08 16:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9f234e9f98036e9becaf9d2d6bcf1fb1320a2f47', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/831245\nDepends-On: https://review.opendev.org/c/openstack/swift/+/525771\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 5, 'created': '2022-03-11 15:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/da13e3b52f2274ce598d645c9c2c278a3b60f656', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/831245\nDepends-On: https://review.opendev.org/c/openstack/swift/+/525771\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 6, 'created': '2022-03-16 10:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b2bb9989b4b8e5e449a3600e9768be5f82a6b3c5', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/831245\nDepends-On: https://review.opendev.org/c/openstack/swift/+/525771\nDepends-On: https://review.opendev.org/c/openstack/swift/+/833983\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 7, 'created': '2022-03-16 10:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/615127aefc54aa02c0d1158323e7182356455b4b', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/831245\nDepends-On: https://review.opendev.org/c/openstack/swift/+/525771\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 8, 'created': '2022-03-17 11:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b077802b45391d40126fa186bae228a94b4fcca7', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/831245\nDepends-On: https://review.opendev.org/c/openstack/swift/+/833983\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 9, 'created': '2022-03-17 14:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c2c61caea6c3a4e45354c5ee26e0bb84546d6a7', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/831245\nDepends-On: https://review.opendev.org/c/openstack/swift/+/833713\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 10, 'created': '2022-03-18 11:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5d10f4da7114df00466e59b7a9a5aecb99805eac', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/833713\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 11, 'created': '2022-03-23 15:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a48aa64c48c02bbe88557dfb20fefd687222c92d', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/833713\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 12, 'created': '2022-04-05 14:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8d9a63e2b41dfb4c93b42262059910351c1e4e3f', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/833713\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 13, 'created': '2022-04-05 14:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b8bc83caaebc34060d8388240aa475d892406b2', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/833713\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 14, 'created': '2022-04-06 15:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/122397e3efbe57934ec07a195ad88480b8b6388b', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/833713\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 15, 'created': '2022-04-06 15:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3a644f398f61bec89c65357f517281f3e5024814', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/833713\nDepends-On: https://review.opendev.org/c/openstack/nova/+/836846\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 16, 'created': '2022-04-06 15:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/861aef890c7f6f46fee3a9f4639c20bf35e23d7d', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/833713\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 17, 'created': '2022-04-06 16:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d4e7466f0069b0323c8a15908883f8060a5ae33e', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/833713\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 18, 'created': '2022-04-20 12:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/adda378a38f624cb97cc13efb2fe137c31756fd1', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/838435\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 19, 'created': '2022-04-20 12:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1109b1f43238f212c1f8dd1a661537d309f86ac3', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/838435\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 20, 'created': '2022-05-26 15:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8e90edc5c1a6f06f946392d7b6da7b05ba5a4b09', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/838435\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 21, 'created': '2022-06-04 17:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1d8c68404047b6ae1e98931a3523f3d70d77c46b', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/838435\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/844704\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 22, 'created': '2022-06-04 21:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/05fe8ea5d7f26be712851e3dfe53763a1133c4a4', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/838435\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/844704\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 23, 'created': '2022-06-04 21:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/662209f4d3ded0baebc97307c2934001c932cf56', 'message': ""Test fips job on centos-9\n\nThis may need an update for python-cryptography or mariadb.  Lets\nsee what happens.  Eventually, we'll use this to replace the centos-8\nversion.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/838435\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/844704\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n""}, {'number': 24, 'created': '2022-06-21 18:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/28e09accb2f50b857c904f2e76c6e2b58638a718', 'message': 'Test fips job on centos-9\n\nAdded FIPS experimental jobs for centos-8 and centos-9.\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/838435\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n'}, {'number': 25, 'created': '2022-06-21 18:44:30.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0687b9cf39e6e8ed12e594213169ab9ab9acc19a', 'message': 'Test fips job on centos-9\n\nAdded FIPS experimental jobs for centos-8 and centos-9.\n\nChange-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95\n'}]",40,831607,0687b9cf39e6e8ed12e594213169ab9ab9acc19a,144,4,25,9914,,,0,"Test fips job on centos-9

Added FIPS experimental jobs for centos-8 and centos-9.

Change-Id: I42208f82b995f67f45c733e76d6d285a1faf9f95
",git fetch https://review.opendev.org/openstack/tempest refs/changes/07/831607/12 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,6f487d738a5d3c2f4eecd934a8022e4bce1ad5c4,fips-compatibility-centos-9," name: tempest-centos9-stream-fips parent: devstack-tempest description: | Integration testing for a FIPS enabled Centos 9 system nodeset: devstack-single-node-centos-9-stream pre-run: playbooks/enable-fips.yaml vars: tox_envlist: full configure_swap_size: 4096 devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": validation: ssh_key_type: 'ecdsa' - job:",,16,0
openstack%2Fos-brick~master~Id872543ce08c934cefbbbdaff6ddc61e3828b1f1,openstack/os-brick,master,Id872543ce08c934cefbbbdaff6ddc61e3828b1f1,Support shared_targets tristate value,MERGED,2022-03-31 17:59:07.000000000,2022-07-27 15:47:41.000000000,2022-07-27 15:18:52.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-03-31 17:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bdb902363412e7c6aa11c11e0b2b06369e415bc1', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n""}, {'number': 2, 'created': '2022-04-12 14:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5fd6d1e666171c3164e5077ed8f6a23ba06c643c', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n""}, {'number': 3, 'created': '2022-05-11 14:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1d7983ea96fdb69bafd02835101ef5c2a775a77f', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n""}, {'number': 4, 'created': '2022-05-12 16:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6ebac96062f0fcc2a95b3ba9eea42ec083c179b1', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n""}, {'number': 5, 'created': '2022-06-08 15:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f82d245121ef38911c21a540fdf0d3f7cdfe8c57', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n(cherry picked from commit 3ff0e445199e80b3e6f0a6ff826a27321fd86421)\n""}, {'number': 6, 'created': '2022-06-08 16:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d707f39fa6f06d6d20768daf2cd5acd1b1913b4f', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n(cherry picked from commit 3ff0e445199e80b3e6f0a6ff826a27321fd86421)\n""}, {'number': 7, 'created': '2022-06-10 14:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d19ae377ad112645f030ecf091d9eba700a2dfa0', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n(cherry picked from commit 3ff0e445199e80b3e6f0a6ff826a27321fd86421)\n""}, {'number': 8, 'created': '2022-06-14 10:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5e7346d2f8a91575ec8b080c33985dc6adbf7574', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n(cherry picked from commit 3ff0e445199e80b3e6f0a6ff826a27321fd86421)\n""}, {'number': 9, 'created': '2022-07-15 21:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/561e12085a87b48bf50a18fe70ce5c49b68256da', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n(cherry picked from commit 3ff0e445199e80b3e6f0a6ff826a27321fd86421)\n""}, {'number': 10, 'created': '2022-07-18 16:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5b1ab2708e87fe22f2b92ea1d24d8634558f7da7', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n(cherry picked from commit 3ff0e445199e80b3e6f0a6ff826a27321fd86421)\n""}, {'number': 11, 'created': '2022-07-18 17:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/656c5ae51587b4b41984194c73b596a33524d0b7', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n(cherry picked from commit 3ff0e445199e80b3e6f0a6ff826a27321fd86421)\n""}, {'number': 12, 'created': '2022-07-19 10:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9bb343c4ee400ebf976c8dc230dec106f29d0bf4', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n(cherry picked from commit 3ff0e445199e80b3e6f0a6ff826a27321fd86421)\n""}, {'number': 13, 'created': '2022-07-26 14:29:04.000000000', 'files': ['os_brick/initiator/utils.py', 'os_brick/tests/initiator/test_utils.py', 'releasenotes/notes/nvmeof-disconnect-83f9aaf17f8c8988.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1cb6d3e1f16d9bd63186fe1e7fcf706d084fa992', 'message': ""Support shared_targets tristate value\n\nCinder microversion 3.69 adds an additional value to shared_targets\nbeyond true and false.  Now null/None is also a valid value that can be\nused to force locking.\n\nSo we now have 3 possible values:\n\n- True ==> Lock if iSCSI initiator doesn't support manual scans\n- False ==> Never lock.\n- None ==> Always lock.\n\nThis patch updates the guard_connection context manager to support the\n3 possible values.\n\nWith this Cinder can now force locking for NVMe-oF drivers that share\nsubsystems.\n\nCloses-Bug: #1961102\nDepends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\nChange-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1\n""}]",11,836063,1cb6d3e1f16d9bd63186fe1e7fcf706d084fa992,101,3,13,9535,,,0,"Support shared_targets tristate value

Cinder microversion 3.69 adds an additional value to shared_targets
beyond true and false.  Now null/None is also a valid value that can be
used to force locking.

So we now have 3 possible values:

- True ==> Lock if iSCSI initiator doesn't support manual scans
- False ==> Never lock.
- None ==> Always lock.

This patch updates the guard_connection context manager to support the
3 possible values.

With this Cinder can now force locking for NVMe-oF drivers that share
subsystems.

Closes-Bug: #1961102
Depends-On: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a
Change-Id: Id872543ce08c934cefbbbdaff6ddc61e3828b1f1
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/63/836063/12 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/utils.py', 'os_brick/tests/initiator/test_utils.py', 'releasenotes/notes/nvmeof-disconnect-83f9aaf17f8c8988.yaml']",3,bdb902363412e7c6aa11c11e0b2b06369e415bc1,nvme-4,"--- fixes: - | NVMe-oF connector `bug #1961102 <https://bugs.launchpad.net/os-brick/+bug/1961102>`_: Fixed leaving controller devices (i.e., /dev/nvme0) behind on hosts. Now NVMe-oF subsytems are disconned when disconnecting volumes if the subsytem doesn't have additional volumes present in the host. ",,30,3
openstack%2Fkolla~master~I11b4fbcaba165824252902d0270ce1dbbc3d6e9d,openstack/kolla,master,I11b4fbcaba165824252902d0270ce1dbbc3d6e9d,Move to Ubuntu Jammy (22.04),MERGED,2022-04-27 15:48:15.000000000,2022-07-27 15:45:46.000000000,2022-07-27 15:43:40.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-27 15:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/62dff5c1e8f2a54d962dd8445d03e0ac3d5aa230', 'message': 'veryWIP: Move to Ubuntu Jammy (22.04)\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n'}, {'number': 2, 'created': '2022-04-27 15:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7bfbd57112d47195310496400462ebd3a9a31d7b', 'message': 'veryWIP: Move to Ubuntu Jammy (22.04)\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n'}, {'number': 3, 'created': '2022-04-27 15:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7bf62ee1bfddcdc559cfb8761f76d4065ff992b5', 'message': 'veryWIP: Move to Ubuntu Jammy (22.04)\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n'}, {'number': 4, 'created': '2022-04-27 17:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c8948ba9797a5d7e874b2cfab7d9d420ba8c650e', 'message': 'veryWIP: Move to Ubuntu Jammy (22.04)\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n'}, {'number': 5, 'created': '2022-04-28 07:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6368c26fa090eae0b032c773d92df00132f415f8', 'message': ""veryWIP: Move to Ubuntu Jammy (22.04)\n\nTODO:\nfluentd - missing\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon\ntelegraf/collectd - collectd packages missing in Jammy\n\nCHANGES:\nprometheus-libvirt-exporter: go get in 1.18 doesn't install binary\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 6, 'created': '2022-04-28 07:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dca2b12ca264c61026d64902e1ed12ffd5016d4a', 'message': ""veryWIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nTODO:\nfluentd - missing\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon\ntelegraf/collectd - collectd packages missing in Jammy\n\nCHANGES:\nprometheus-libvirt-exporter: go get in 1.18 doesn't install binary\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 7, 'created': '2022-05-16 08:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e9e8120f32bb3b1ae30574f403426f8d5188b1a0', 'message': ""veryWIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nTODO:\nfluentd - missing\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon\ntelegraf/collectd - collectd packages missing in Jammy\n\nCHANGES:\nprometheus-libvirt-exporter: go get in 1.18 doesn't install binary\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 8, 'created': '2022-05-25 06:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a5a550b1cc37fa385cf8a5e5227110e03b4593c2', 'message': ""veryWIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nTODO:\nfluentd - missing\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon\ntelegraf/collectd - collectd packages missing in Jammy\n\nCHANGES:\nprometheus-libvirt-exporter: go get in 1.18 doesn't install binary\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 9, 'created': '2022-05-25 06:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7a1fe1473b9c70e3a884187d9332c2dc038f4fb6', 'message': ""veryWIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nTODO:\nfluentd - missing\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy\n\nCHANGES:\nprometheus-libvirt-exporter: go get in 1.18 doesn't install binary\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 10, 'created': '2022-05-25 09:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7996f82649b0cf7ddef48173922918a70a497e95', 'message': ""veryWIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nTODO:\nfluentd - missing\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy\n\nCHANGES:\nprometheus-libvirt-exporter: go get in 1.18 doesn't install binary\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 11, 'created': '2022-05-25 14:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/34462270fce8fcd7ca7464ede8bb2cced4b1fdce', 'message': ""veryWIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nTODO:\nfluentd - missing\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy\n\nCHANGES:\nprometheus-libvirt-exporter: go get in 1.18 doesn't install binary\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 12, 'created': '2022-05-30 14:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2e0f48291094de9b3b8017fd6abdea4491de3a04', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 13, 'created': '2022-05-31 06:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/56fca2f5691e06dea0d4dae78c65edd2bd95395b', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 14, 'created': '2022-05-31 07:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7311c4f096f12dd6db2b43652c95cbbbda800f85', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844000\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 15, 'created': '2022-05-31 08:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ef301405011519b6ce43b0885e9a5833d24a3818', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844000\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 16, 'created': '2022-06-07 12:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/26341de930c80fba2744cee991fa81109c158a29', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844000\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 17, 'created': '2022-06-09 20:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/813aa962dfa242068bb270498f4a5eff6c6a095e', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844000\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 18, 'created': '2022-06-15 06:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/412fc97f942564563074c834aecb794b310211d5', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844000\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 19, 'created': '2022-06-15 06:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/80e5b23789e4074aa457f68de0df1adbd90fab34', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844000\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 20, 'created': '2022-06-15 07:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dbfc1b022b0dea5b1ced26f3d34f1e834a744bf6', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844000\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 21, 'created': '2022-06-15 10:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7b6f11d274c1f4fcad20c61ea4cbf081e3e2417a', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844000\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 22, 'created': '2022-06-15 12:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/745abb744dd6203d11378de5806d4e312aa96e1e', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844000\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 23, 'created': '2022-06-15 12:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3863ba3e8dafcb114b244be28fc5ea59b2b252fa', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 24, 'created': '2022-06-15 17:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b6f65eb790edc838660f240e35469963f79cc03b', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 25, 'created': '2022-06-15 23:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9f3d5dc16e209f25c2e208747eef0b783a18441c', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 26, 'created': '2022-06-16 08:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4e993fda769dac93dde3e5e59d5b63ae4794f244', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 27, 'created': '2022-06-16 11:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bfd9c86f175f73f35c2431a9f179664fb840bf50', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 28, 'created': '2022-06-20 14:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0b68ced7ff2e0b329eab4c211528faa292b7bcc8', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 29, 'created': '2022-06-21 13:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e500e3ad7fe6cbd6c979e0a67150a62c30bd3af4', 'message': ""WIP: Move to Ubuntu Jammy (22.04)\n\nSome repos still use focal (influx, rabbitmq, proxysql, etc)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 30, 'created': '2022-06-21 14:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/47b631a5dbe63fb0099e827422078e9f8ebf4a2b', 'message': ""Move to Ubuntu Jammy (22.04)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 31, 'created': '2022-07-22 09:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/289a937f403ace77957b65161ae7b2e29e091cf9', 'message': ""Move to Ubuntu Jammy (22.04)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\nmonasca - requires new librdkafka, no wheel for Python 3.10 for now\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 32, 'created': '2022-07-22 10:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d14736f9884aa16cec35b5c67830b8a3526df8da', 'message': ""Move to Ubuntu Jammy (22.04)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\nmonasca - requires new librdkafka, no wheel for Python 3.10 for now\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 33, 'created': '2022-07-24 22:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b2294af108aa13301455587048097ee2ee137f0d', 'message': ""Move to Ubuntu Jammy (22.04)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\nmonasca - requires new librdkafka, no wheel for Python 3.10 for now\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 34, 'created': '2022-07-26 05:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f3bb091c7a48889bd57086b5e10375d7cf19fdc8', 'message': ""Move to Ubuntu Jammy (22.04)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\nmonasca - requires new librdkafka, no wheel for Python 3.10 for now\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 35, 'created': '2022-07-26 06:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/81b53b01e8592b9b83c68321c7fad8781d3fa110', 'message': ""Move to Ubuntu Jammy (22.04)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\nmonasca - requires new librdkafka, no wheel for Python 3.10 for now\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 36, 'created': '2022-07-26 09:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aff1951865c2be42bcc0d147f012e2845d3f2126', 'message': ""Move to Ubuntu Jammy (22.04)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\nmonasca - requires new librdkafka, no wheel for Python 3.10 for now\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}, {'number': 37, 'created': '2022-07-27 09:27:22.000000000', 'files': ['kolla/image/build.py', '.zuul.d/base.yaml', '.zuul.d/ubuntu.yaml', 'kolla/template/repos.yaml', 'docker/base/sources.list.ubuntu.aarch64', 'kolla/common/config.py', 'docker/base/sources.list.ubuntu', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9f25aac18a31920c2f2f6630b35f3f734f03dcf4', 'message': ""Move to Ubuntu Jammy (22.04)\n\nmariadb - downloads.mariadb.com doesn't have jammy version, should\nbe there soon - using Ubuntu provided version for now\n\ntelegraf/collectd - collectd packages missing in Jammy - marked\nas unbuildable\nmonasca - requires new librdkafka, no wheel for Python 3.10 for now\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070\nChange-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d\n""}]",47,839585,9f25aac18a31920c2f2f6630b35f3f734f03dcf4,150,3,37,22629,,,0,"Move to Ubuntu Jammy (22.04)

mariadb - downloads.mariadb.com doesn't have jammy version, should
be there soon - using Ubuntu provided version for now

telegraf/collectd - collectd packages missing in Jammy - marked
as unbuildable
monasca - requires new librdkafka, no wheel for Python 3.10 for now

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/846070
Change-Id: I11b4fbcaba165824252902d0270ce1dbbc3d6e9d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/839585/35 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/template/repos.yaml', 'docker/base/sources.list.ubuntu.aarch64', 'kolla/common/config.py', 'docker/base/sources.list.ubuntu']",5,62dff5c1e8f2a54d962dd8445d03e0ac3d5aa230,jammy,deb mirror://mirrors.ubuntu.com/mirrors.txt jammy main universe deb mirror://mirrors.ubuntu.com/mirrors.txt jammy-updates main universe deb mirror://mirrors.ubuntu.com/mirrors.txt jammy-security main universedeb http://archive.ubuntu.com/ubuntu/ jammy-backports main universe#deb http://ubuntu-cloud.archive.canonical.com/ubuntu jammy-updates/yoga main,deb mirror://mirrors.ubuntu.com/mirrors.txt focal main universe deb mirror://mirrors.ubuntu.com/mirrors.txt focal-updates main universe deb mirror://mirrors.ubuntu.com/mirrors.txt focal-security main universedeb http://archive.ubuntu.com/ubuntu/ focal-backports main universedeb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/yoga main,26,26
openstack%2Fkolla~stable%2Fussuri~I232fe835f5a650c258243f1ee4720480f2e6e7b1,openstack/kolla,stable/ussuri,I232fe835f5a650c258243f1ee4720480f2e6e7b1,Fix container image publish to Docker Hub,MERGED,2022-07-25 15:12:37.000000000,2022-07-27 15:43:16.000000000,2022-07-27 15:09:51.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-25 15:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/12d6cd9df531dfad5059587832a14151c163ef45', 'message': 'Fix container image publish to Docker Hub\n\nPublishing container images to Docker Hub was failing with:\n\n    state is present but all of the following are missing: source\n\nThis is caused by the recent Ansible upgrade by Zuul [1]: the source\nparameter is mandatory since Ansible 2.12.\n\n[1] https://review.opendev.org/c/openstack/project-config/+/849120\n\nChange-Id: I232fe835f5a650c258243f1ee4720480f2e6e7b1\n(cherry picked from commit 2da76f78dee53ae84bfe6da051367d9b320af0f6)\n'}, {'number': 2, 'created': '2022-07-27 12:38:46.000000000', 'files': ['tests/playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7b0301d9b819b1be657128118298c83348ab6798', 'message': 'Fix container image publish to Docker Hub\n\nPublishing container images to Docker Hub was failing with:\n\n    state is present but all of the following are missing: source\n\nThis is caused by the recent Ansible upgrade by Zuul [1]: the source\nparameter is mandatory since Ansible 2.12.\n\n[1] https://review.opendev.org/c/openstack/project-config/+/849120\n\nChange-Id: I232fe835f5a650c258243f1ee4720480f2e6e7b1\n(cherry picked from commit 2da76f78dee53ae84bfe6da051367d9b320af0f6)\n'}]",3,850914,7b0301d9b819b1be657128118298c83348ab6798,26,3,2,15197,,,0,"Fix container image publish to Docker Hub

Publishing container images to Docker Hub was failing with:

    state is present but all of the following are missing: source

This is caused by the recent Ansible upgrade by Zuul [1]: the source
parameter is mandatory since Ansible 2.12.

[1] https://review.opendev.org/c/openstack/project-config/+/849120

Change-Id: I232fe835f5a650c258243f1ee4720480f2e6e7b1
(cherry picked from commit 2da76f78dee53ae84bfe6da051367d9b320af0f6)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/14/850914/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/playbooks/publish.yml'],1,12d6cd9df531dfad5059587832a14151c163ef45,, source: local,,1,0
openstack%2Fos-brick~stable%2Ftrain~I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,openstack/os-brick,stable/train,I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,Use file locks in connectors,MERGED,2022-06-21 08:10:54.000000000,2022-07-27 15:21:50.000000000,2022-07-27 15:20:49.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-06-21 08:10:54.000000000', 'files': ['releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/huawei.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9090cb79ef24ff93c2455e0db0660de2664b270b', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\nConflicts: os_brick/initiator/connectors/iscsi.py\n(cherry picked from commit 08ddf69d648c5622a5a300a8636bda727b5b2722)\nConflicts: os_brick/initiator/connectors/nvmeof.py\n(cherry picked from commit b03eca8353f1db7fed5dc630d225126b1edb1055)\nConflicts: os_brick/tests/base.py\nConflicts: os_brick/initiator/connectors/iscsi.py\n""}]",8,846957,9090cb79ef24ff93c2455e0db0660de2664b270b,16,4,1,25613,,,0,"Use file locks in connectors

Currently os-brick is using in-process locks that will only prevent concurrent
access to critical sections to threads within a single process.

But based on the comment from iSCSI it seems like the code assumed that
these were file based locks that prevented concurrent access from
multiple processes.

Mentioned iSCSI comment is being removed because it's not correct that
our current retry mechanism will work with connect and disconnect
concurrency issues.

The reason why we haven't seen errors in Nova is because it runs a
single process and locks will be effective.

This is probably also not an issue in some transport protocols, such as
FC and RBD, and it wouldn't be an issue in iSCSI connections that don't
share targets.

But for others, such as  iSCSI with shared targets and NVMe-OF, not
using file locks will create race conditions in the following cases:

- More than 1 cinder backend: Because we can have one backend doing a
  detach in a create volume from image and the other an attach for an
  offline migration.

- Backup/Restore if backup and volume services are running on the same
  host.

- HCI scenarios where cinder volume and nova compute are running on the
  same host, even if the same lock path if configured.

- Glance using Cinder as backend and is running on the same node as
  cinder-volume or cinder-backup.

The problematic race conditions happen because the disconnect will do a
logout of the iSCSI target once the connect call has already confirmed
that the session to the target exists.

We could just add the file locks to iSCSI and NVMe, but I think it's
safer to add it to all the connectors and then, after proper testing, we
can can change back the locks that can be changed, and remove or reduce
the critical section in others.

Closes-Bug: #1947370
Change-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68
(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)
(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)
Conflicts: os_brick/initiator/connectors/iscsi.py
(cherry picked from commit 08ddf69d648c5622a5a300a8636bda727b5b2722)
Conflicts: os_brick/initiator/connectors/nvmeof.py
(cherry picked from commit b03eca8353f1db7fed5dc630d225126b1edb1055)
Conflicts: os_brick/tests/base.py
Conflicts: os_brick/initiator/connectors/iscsi.py
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/57/846957/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/huawei.py']",9,9090cb79ef24ff93c2455e0db0660de2664b270b,bug#1947370," @synchronized('connect_volume', external=True) @synchronized('connect_volume', external=True)", @synchronized('connect_volume') @synchronized('connect_volume'),40,24
openstack%2Fpuppet-tripleo~master~I0b59053618247d2a6d62d1c9e69173f3ff1d2922,openstack/puppet-tripleo,master,I0b59053618247d2a6d62d1c9e69173f3ff1d2922,Change neutron backend's timeout in haproxy to 10 minutes,MERGED,2022-05-30 13:29:17.000000000,2022-07-27 15:20:22.000000000,2022-07-27 15:20:22.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-30 13:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e39e67c8932960e5d66f195bf28be62c5e7aa040', 'message': ""Change neutron backend's timeout in haproxy to 20 minutes\n\nWhen client makes some heavy API requests to the Neutron API, like\ne.g. some bulk request to create many ports at once it may happen that\nNeutron will process the request for much longer than 2 minutes, which\nis default server timeout in the haproxy's configuration for backends.\nIt happens e.g. with Kuryr.\n\nBecause of that, haproxy returns to the client HTTP 504 but Neutron API\nis still processing API requests and finally it finishes properly.\nBut client may then try to retry to request which failed with 504 error\nthus finally it may end up with duplicated resources created.\n\nTo avoid that, this patch increases server timeout for the neutron api\nbackend to 20 minutes.\n\nCloses: rhbz#2083245\nChange-Id: I0b59053618247d2a6d62d1c9e69173f3ff1d2922\n""}, {'number': 2, 'created': '2022-06-29 13:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d043b5ced794ba3daf656453da1f3c8e7e8e2b5b', 'message': ""Change neutron backend's timeout in haproxy to 20 minutes\n\nWhen client makes some heavy API requests to the Neutron API, like\ne.g. some bulk request to create many ports at once it may happen that\nNeutron will process the request for much longer than 2 minutes, which\nis default server timeout in the haproxy's configuration for backends.\nIt happens e.g. with Kuryr.\n\nBecause of that, haproxy returns to the client HTTP 504 but Neutron API\nis still processing API requests and finally it finishes properly.\nBut client may then try to retry to request which failed with 504 error\nthus finally it may end up with duplicated resources created.\n\nTo avoid that, this patch increases server timeout for the neutron api\nbackend to 10 minutes.\n\nCloses: rhbz#2083245\nChange-Id: I0b59053618247d2a6d62d1c9e69173f3ff1d2922\n""}, {'number': 3, 'created': '2022-06-30 13:02:24.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bb002c9d972411dc9baff0556c0810a3003b8d78', 'message': ""Change neutron backend's timeout in haproxy to 10 minutes\n\nWhen client makes some heavy API requests to the Neutron API, like\ne.g. some bulk request to create many ports at once it may happen that\nNeutron will process the request for much longer than 2 minutes, which\nis default server timeout in the haproxy's configuration for backends.\nIt happens e.g. with Kuryr.\n\nBecause of that, haproxy returns to the client HTTP 504 but Neutron API\nis still processing API requests and finally it finishes properly.\nBut client may then try to retry to request which failed with 504 error\nthus finally it may end up with duplicated resources created.\n\nTo avoid that, this patch increases server timeout for the neutron api\nbackend to 10 minutes.\n\nCloses: rhbz#2083245\nChange-Id: I0b59053618247d2a6d62d1c9e69173f3ff1d2922\n""}]",14,843863,bb002c9d972411dc9baff0556c0810a3003b8d78,26,5,3,11975,,,0,"Change neutron backend's timeout in haproxy to 10 minutes

When client makes some heavy API requests to the Neutron API, like
e.g. some bulk request to create many ports at once it may happen that
Neutron will process the request for much longer than 2 minutes, which
is default server timeout in the haproxy's configuration for backends.
It happens e.g. with Kuryr.

Because of that, haproxy returns to the client HTTP 504 but Neutron API
is still processing API requests and finally it finishes properly.
But client may then try to retry to request which failed with 504 error
thus finally it may end up with duplicated resources created.

To avoid that, this patch increases server timeout for the neutron api
backend to 10 minutes.

Closes: rhbz#2083245
Change-Id: I0b59053618247d2a6d62d1c9e69173f3ff1d2922
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/63/843863/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,e39e67c8932960e5d66f195bf28be62c5e7aa040,bz/2083245," 'timeout server' => '20m',",,1,0
openstack%2Fproject-config~master~I547e5eb7faabcd9d3983ae85f3291b1a740bc77c,openstack/project-config,master,I547e5eb7faabcd9d3983ae85f3291b1a740bc77c,translation updates: refactor Python 3.8 workarounds,MERGED,2022-07-26 01:08:51.000000000,2022-07-27 15:12:25.000000000,2022-07-26 23:07:55.000000000,"[{'_account_id': 4146}, {'_account_id': 4694}, {'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 01:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/837ed81afd97f24f066803b1ff5eee734a47ff69', 'message': 'translation updates: refactor Python 3.8 workarounds\n\nI think we have quite a tangle of fixes on fixes in the translation\njobs, and I hope this refactor makes things a bit better.\n\nThe fundamental problem seems to be that python3.6 can\'t work with\nmaster requirements.txt.  But we can not move some jobs off bionic\n(python 3.6) because of java version contsraints.\n\nThe first thing that happened was these jobs got ""ensure-python"" with\n""python_version: 3.8"" set to bring in python3.8 on Bionic.  This role\nwas not bringing in python3.8-venv, so we had no way to create 3.8\nvirtual environments.  Thus ensure-pip ended up getting modified to\ndrag this package in (reverted with notes in\n372f3af706c796331578ef81c2680e8c4c03c3b6).  This has a fairly easy\nsolution; let\'s just make ensure-python bring in the venv packages for\nthe udpated python -- see dependency\nIe3c03fea82bcec80a897f0905c15f35405a50396.\n\nThe git-review install here uses \'ensure_pip_virtualenv_command\' to\ninstall git-review in a virtualenv.  git-review still supports bionic,\nand does not need to be installed in any speical way.  However, by\noverriding the \'ensure_pip_virtualenv_command\' for the entire job,\nthis unrelated install now grew a dependency on python3.8 and created\nmore confusion over why it was failing.\n\nI believe what we actually want to do is just run tox under python3.8.\nSo this pulls out all the job-level defintions and encapsulates them\nin a single block scoped to run on bionic.  It will pull in python3.8\npackages, and then install tox under python3.8 with an override of the\nvirtulenv command just for that step.  The jobs just maintain their\nnode definition and note on why it is required.\n\nThe long-term future of these jobs is obviously a question; but I\nbelieve this keeps them running on bionic in as sane a way as possible\nfor now.\n\nDepends-On: Ie3c03fea82bcec80a897f0905c15f35405a50396\nChange-Id: I547e5eb7faabcd9d3983ae85f3291b1a740bc77c\n'}, {'number': 2, 'created': '2022-07-26 01:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/84853c495463728f07c6c5100b07457f2d97d187', 'message': 'translation updates: refactor Python 3.8 workarounds\n\nI think we have quite a tangle of fixes on fixes in the translation\njobs, and I hope this refactor makes things a bit better.\n\nThe fundamental problem seems to be that python3.6 can\'t work with\nmaster requirements.txt.  But we can not move some jobs off bionic\n(python 3.6) because of java version contsraints.\n\nThe first thing that happened was these jobs got ""ensure-python"" with\n""python_version: 3.8"" set to bring in python3.8 on Bionic.  This role\nwas not bringing in python3.8-venv, so we had no way to create 3.8\nvirtual environments.  Thus ensure-pip ended up getting modified to\ndrag this package in (reverted with notes in\n372f3af706c796331578ef81c2680e8c4c03c3b6).  This has a fairly easy\nsolution; let\'s just make ensure-python bring in the venv packages for\nthe udpated python -- see dependency\nIe3c03fea82bcec80a897f0905c15f35405a50396.\n\nThe git-review install here uses \'ensure_pip_virtualenv_command\' to\ninstall git-review in a virtualenv.  git-review still supports bionic,\nand does not need to be installed in any speical way.  However, by\noverriding the \'ensure_pip_virtualenv_command\' for the entire job,\nthis unrelated install now grew a dependency on python3.8 and created\nmore confusion over why it was failing.\n\nI believe what we actually want to do is just run tox under python3.8.\nSo this pulls out all the job-level defintions and encapsulates them\nin a single block scoped to run on bionic.  It will pull in python3.8\npackages, and then install tox under python3.8 with an override of the\nvirtulenv command just for that step.  The jobs just maintain their\nnode definition and note on why it is required.\n\nThe long-term future of these jobs is obviously a question; but I\nbelieve this keeps them running on bionic in as sane a way as possible\nfor now.\n\nDepends-On: Ie3c03fea82bcec80a897f0905c15f35405a50396\nChange-Id: I547e5eb7faabcd9d3983ae85f3291b1a740bc77c\n'}, {'number': 3, 'created': '2022-07-26 03:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/78257cd0dad3aaa8716c67075a4a6ed389477a29', 'message': 'translation updates: refactor Python 3.8 workarounds\n\nI think we have quite a tangle of fixes on fixes in the translation\njobs, and I hope this refactor makes things a bit better.\n\nThe fundamental problem seems to be that python3.6 can\'t work with\nmaster requirements.txt.  But we can not move some jobs off bionic\n(python 3.6) because of java version contsraints.\n\nThe first thing that happened was these jobs got ""ensure-python"" with\n""python_version: 3.8"" set to bring in python3.8 on Bionic.  This role\nwas not bringing in python3.8-venv, so we had no way to create 3.8\nvirtual environments.  Thus ensure-pip ended up getting modified to\ndrag this package in (reverted with notes in\n372f3af706c796331578ef81c2680e8c4c03c3b6).  This has a fairly easy\nsolution; let\'s just make ensure-python bring in the venv packages for\nthe udpated python -- see dependency\nIe3c03fea82bcec80a897f0905c15f35405a50396.\n\nThe git-review install here uses \'ensure_pip_virtualenv_command\' to\ninstall git-review in a virtualenv.  git-review still supports bionic,\nand does not need to be installed in any speical way.  However, by\noverriding the \'ensure_pip_virtualenv_command\' for the entire job,\nthis unrelated install now grew a dependency on python3.8 and created\nmore confusion over why it was failing.\n\nI believe what we actually want to do is just run tox under python3.8.\nSo this pulls out all the job-level defintions and encapsulates them\nin a single block scoped to run on bionic.  It will pull in python3.8\npackages, and then install tox under python3.8 with an override of the\nvirtulenv command just for that step.  The jobs just maintain their\nnode definition and note on why it is required.\n\nThe long-term future of these jobs is obviously a question; but I\nbelieve this keeps them running on bionic in as sane a way as possible\nfor now.\n\nDepends-On: Ie3c03fea82bcec80a897f0905c15f35405a50396\nChange-Id: I547e5eb7faabcd9d3983ae85f3291b1a740bc77c\n'}, {'number': 4, 'created': '2022-07-26 04:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2139e943daea700a1210e8d85838a88a13aa4209', 'message': 'translation updates: refactor Python 3.8 workarounds\n\nI think we have quite a tangle of fixes on fixes in the translation\njobs, and I hope this refactor makes things a bit better.\n\nThe fundamental problem seems to be that python3.6 can\'t work with\nmaster requirements.txt.  But we can not move some jobs off bionic\n(python 3.6) because of java version contsraints.\n\nThe first thing that happened was these jobs got ""ensure-python"" with\n""python_version: 3.8"" set to bring in python3.8 on Bionic.  This role\nwas not bringing in python3.8-venv, so we had no way to create 3.8\nvirtual environments.  Thus ensure-pip ended up getting modified to\ndrag this package in (reverted with notes in\n372f3af706c796331578ef81c2680e8c4c03c3b6).  This has a fairly easy\nsolution; let\'s just make ensure-python bring in the venv packages for\nthe udpated python -- see dependency\nIe3c03fea82bcec80a897f0905c15f35405a50396.\n\nThe git-review install here uses \'ensure_pip_virtualenv_command\' to\ninstall git-review in a virtualenv.  git-review still supports bionic,\nand does not need to be installed in any speical way.  However, by\noverriding the \'ensure_pip_virtualenv_command\' for the entire job,\nthis unrelated install now grew a dependency on python3.8 and created\nmore confusion over why it was failing.\n\nI believe what we actually want to do is just run tox under python3.8.\nSo this pulls out all the job-level defintions and encapsulates them\nin a single block scoped to run on bionic.  It will pull in python3.8\npackages, and then install tox under python3.8 with an override of the\nvirtulenv command just for that step.  The jobs just maintain their\nnode definition and note on why it is required.\n\nThe long-term future of these jobs is obviously a question; but I\nbelieve this keeps them running on bionic in as sane a way as possible\nfor now.\n\nDepends-On: Ie3c03fea82bcec80a897f0905c15f35405a50396\nChange-Id: I547e5eb7faabcd9d3983ae85f3291b1a740bc77c\n'}, {'number': 5, 'created': '2022-07-26 21:54:38.000000000', 'files': ['zuul.d/jobs.yaml', 'playbooks/proposal/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6f1e9fb2b9f9f6edaa6111120fbf9f12a534f225', 'message': 'translation updates: refactor Python 3.8 workarounds\n\nI think we have quite a tangle of fixes on fixes in the translation\njobs, and I hope this refactor makes things a bit better.\n\nThe fundamental problem seems to be that python3.6 can\'t work with\nmaster requirements.txt.  But we can not move some jobs off bionic\n(python 3.6) because of java version contsraints.\n\nThe first thing that happened was these jobs got ""ensure-python"" with\n""python_version: 3.8"" set to bring in python3.8 on Bionic.  This role\nwas not bringing in python3.8-venv, so we had no way to create 3.8\nvirtual environments.  Thus ensure-pip ended up getting modified to\ndrag this package in (reverted with notes in\n372f3af706c796331578ef81c2680e8c4c03c3b6).  This has a fairly easy\nsolution; let\'s just make ensure-python bring in the venv packages for\nthe udpated python -- see dependency\nIe3c03fea82bcec80a897f0905c15f35405a50396.\n\nThe git-review install here uses \'ensure_pip_virtualenv_command\' to\ninstall git-review in a virtualenv.  git-review still supports bionic,\nand does not need to be installed in any speical way.  However, by\noverriding the \'ensure_pip_virtualenv_command\' for the entire job,\nthis unrelated install now grew a dependency on python3.8 and created\nmore confusion over why it was failing.\n\nI believe what we actually want to do on Bionic is just run tox under\npython3.8.  So this pulls out all the job-level defintions and\nencapsulates them in a single block scoped to run on bionic.  It will\npull in python3.8 packages, and then install tox under python3.8 with\nan override of the virtulenv command just for that step.  The jobs\njust maintain their node definition and note on why it is required.\n\nThe long-term future of these jobs is obviously a question; but I\nbelieve this keeps them running on bionic in as sane a way as possible\nfor now.\n\nThe second part of this is the python3.9 interpreter required on\nFocal.  Setting ""python_version: 3.9"" in the job definition is a bit\nconfusing, because the job actually requires both Python 3.8 AND 3.9.\nThis variable is passed to ensure-python, and the naming is a bit\nunfortunate because it is so broad (but we can\'t change that without\nzuul-jobs updates).  Here I\'ve pulled out the Python 3.9 install into\na separate focal-gated section in the pre.yaml that explains what is\ngoing on (note that Python 3.8 is just the base python on focal, so\nneeds no extra installation).  I\'ve also updated the description on\nthe job node with this info.  There\'s no need to install the tox\nenvironment any differently on focal; it just uses the base system\npython (3.8) which is fine.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/850957\nChange-Id: I547e5eb7faabcd9d3983ae85f3291b1a740bc77c\n'}]",3,850962,6f1e9fb2b9f9f6edaa6111120fbf9f12a534f225,21,6,5,7118,,,0,"translation updates: refactor Python 3.8 workarounds

I think we have quite a tangle of fixes on fixes in the translation
jobs, and I hope this refactor makes things a bit better.

The fundamental problem seems to be that python3.6 can't work with
master requirements.txt.  But we can not move some jobs off bionic
(python 3.6) because of java version contsraints.

The first thing that happened was these jobs got ""ensure-python"" with
""python_version: 3.8"" set to bring in python3.8 on Bionic.  This role
was not bringing in python3.8-venv, so we had no way to create 3.8
virtual environments.  Thus ensure-pip ended up getting modified to
drag this package in (reverted with notes in
372f3af706c796331578ef81c2680e8c4c03c3b6).  This has a fairly easy
solution; let's just make ensure-python bring in the venv packages for
the udpated python -- see dependency
Ie3c03fea82bcec80a897f0905c15f35405a50396.

The git-review install here uses 'ensure_pip_virtualenv_command' to
install git-review in a virtualenv.  git-review still supports bionic,
and does not need to be installed in any speical way.  However, by
overriding the 'ensure_pip_virtualenv_command' for the entire job,
this unrelated install now grew a dependency on python3.8 and created
more confusion over why it was failing.

I believe what we actually want to do on Bionic is just run tox under
python3.8.  So this pulls out all the job-level defintions and
encapsulates them in a single block scoped to run on bionic.  It will
pull in python3.8 packages, and then install tox under python3.8 with
an override of the virtulenv command just for that step.  The jobs
just maintain their node definition and note on why it is required.

The long-term future of these jobs is obviously a question; but I
believe this keeps them running on bionic in as sane a way as possible
for now.

The second part of this is the python3.9 interpreter required on
Focal.  Setting ""python_version: 3.9"" in the job definition is a bit
confusing, because the job actually requires both Python 3.8 AND 3.9.
This variable is passed to ensure-python, and the naming is a bit
unfortunate because it is so broad (but we can't change that without
zuul-jobs updates).  Here I've pulled out the Python 3.9 install into
a separate focal-gated section in the pre.yaml that explains what is
going on (note that Python 3.8 is just the base python on focal, so
needs no extra installation).  I've also updated the description on
the job node with this info.  There's no need to install the tox
environment any differently on focal; it just uses the base system
python (3.8) which is fine.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/850957
Change-Id: I547e5eb7faabcd9d3983ae85f3291b1a740bc77c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/850962/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/jobs.yaml', 'playbooks/proposal/pre.yaml']",2,837ed81afd97f24f066803b1ff5eee734a47ff69,proposal-remove-pip," tasks: # NOTE: Due to a confluence of problems between requirements # versions, java versions, zanata clients, etc. some jobs have # to run on bionic. However, ensure-tox uses # ensure_pip_virtualenv_command, which installs using default # python on the system. On bionic this is 3.6, which can not # deal with master upper-constraints.txt. # # So we bring in the python 3.8 packages and override ensure-tox # to use this to create the tox environment. - name: Setup Bionic when: ansible_distribution == 'Ubuntu' and ansible_release == 'bionic' block: - name: Ensure python include_role: name: ensure-python vars: python_version: 3.8 - name: Setup virtualenv version set_fact: _venv_command: '/usr/bin/python3.8 -m venv' - include_role: name: ensure-tox vars: ensure_global_symlinks: true ensure_pip_virtualenv_command: '{{ _venv_command | default(omit) }}'", - name: Ensure python include_role: name: ensure-python - role: ensure-tox ensure_global_symlinks: true,29,24
openstack%2Fcharm-neutron-gateway~stable%2Fxena~Id055c1e2061f5736285611cca9bfa99c3c93f6a5,openstack/charm-neutron-gateway,stable/xena,Id055c1e2061f5736285611cca9bfa99c3c93f6a5,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:49:31.000000000,2022-07-27 14:42:59.000000000,2022-07-27 14:42:59.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 17:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/51bdb12eb13b27eb8a60de9e816d443828c40ee3', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Id055c1e2061f5736285611cca9bfa99c3c93f6a5\n'}, {'number': 2, 'created': '2022-06-17 10:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/97c65ec81f11492778ce45fc9f825a26369fd4a8', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Id055c1e2061f5736285611cca9bfa99c3c93f6a5\n'}, {'number': 3, 'created': '2022-06-23 22:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/37767595a875a045ced2055c2666f69951e5a58d', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Id055c1e2061f5736285611cca9bfa99c3c93f6a5\n'}, {'number': 4, 'created': '2022-07-11 09:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/258bff40521cc050b73d4f98db8c2bfe9f28308b', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Id055c1e2061f5736285611cca9bfa99c3c93f6a5\n'}, {'number': 5, 'created': '2022-07-18 11:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/0ea94b20f13b3b8519490fe4e0fcd769707fc59e', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Id055c1e2061f5736285611cca9bfa99c3c93f6a5\n'}, {'number': 6, 'created': '2022-07-21 13:21:34.000000000', 'files': ['tests/bundles/focal-xena.yaml', 'test-requirements.txt', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/6fabe3ed99b1eabcd646897c23ce69e87d5897fd', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Id055c1e2061f5736285611cca9bfa99c3c93f6a5\n'}]",25,841975,6fabe3ed99b1eabcd646897c23ce69e87d5897fd,63,4,6,20870,,,0,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: Id055c1e2061f5736285611cca9bfa99c3c93f6a5
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/75/841975/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,51bdb12eb13b27eb8a60de9e816d443828c40ee3,charmhub-migration," architectures: [amd64, s390x, ppc64el, arm64]", - s390x - ppc64el - arm64,1,3
openstack%2Ftripleo-ansible~master~Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610,openstack/tripleo-ansible,master,Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610,Use grubby to manage kernel_args,ABANDONED,2022-06-30 14:48:23.000000000,2022-07-27 14:42:28.000000000,,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-06-30 14:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76b434cdef66497262586a3246a2d23a5bf9350d', 'message': 'Use grubby to manage kernel_args\n\nThe loader entries in RHEL9 is not updated correctly when\nrunning grub2-mkconfig, resulting in the node rebooting\nwithout the kernel args set.\n\nThe task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to\nGRUB_CMDLINE_LINUX has been removed. Instead the current\nGRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the\n/etc/default/grub, difference to current `tripleo_kernel_args`\nis removed, and current is then added.\n\ngrubby will add/remove the args from GRUB_CMDLINE_LINUX in\n/etc/default/grub, so grub2-mkconfig will updated grub.cfg\nfiles appropriately.\n\nRelated: RHBZ#2102627\nChange-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610\n'}, {'number': 2, 'created': '2022-06-30 14:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7658791a86f31bea65fc3d915ad1446bd5906790', 'message': 'Use grubby to manage kernel_args\n\nThe loader entries in RHEL9 is not updated correctly when\nrunning grub2-mkconfig, resulting in the node rebooting\nwithout the kernel args set.\n\nThe task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to\nGRUB_CMDLINE_LINUX has been removed. Instead the current\nGRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the\n/etc/default/grub, difference to current `tripleo_kernel_args`\nis removed, and current is then added.\n\ngrubby will add/remove the args from GRUB_CMDLINE_LINUX in\n/etc/default/grub, so grub2-mkconfig will updated grub.cfg\nfiles appropriately.\n\nRelated: RHBZ#2102627\nChange-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610\n'}, {'number': 3, 'created': '2022-06-30 15:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50b3377e754774c8f34fe281e583997a651bf8f0', 'message': 'Use grubby to manage kernel_args\n\nThe loader entries in RHEL9 is not updated correctly when\nrunning grub2-mkconfig, resulting in the node rebooting\nwithout the kernel args set.\n\nThe task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to\nGRUB_CMDLINE_LINUX has been removed. Instead the current\nGRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the\n/etc/default/grub, difference to current `tripleo_kernel_args`\nis removed, and current is then added.\n\ngrubby will add/remove the args from GRUB_CMDLINE_LINUX in\n/etc/default/grub, so grub2-mkconfig will updated grub.cfg\nfiles appropriately.\n\nRelated: RHBZ#2102627\nChange-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610\n'}, {'number': 4, 'created': '2022-06-30 20:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/575daacff86a2c9552d6aaf9ca779d1267201c9b', 'message': 'Use grubby to manage kernel_args\n\nThe loader entries in RHEL9 is not updated correctly when\nrunning grub2-mkconfig, resulting in the node rebooting\nwithout the kernel args set.\n\nThe task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to\nGRUB_CMDLINE_LINUX has been removed. Instead the current\nGRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the\n/etc/default/grub, difference to current `tripleo_kernel_args`\nis removed, and current is then added.\n\ngrubby will add/remove the args from GRUB_CMDLINE_LINUX in\n/etc/default/grub, so grub2-mkconfig will updated grub.cfg\nfiles appropriately.\n\nRelated: RHBZ#2102627\nChange-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610\n'}, {'number': 5, 'created': '2022-07-01 09:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25186c69499c81f0e047634d77fd7325d41dfef0', 'message': 'Use grubby to manage kernel_args\n\nThe loader entries in RHEL9 is not updated correctly when\nrunning grub2-mkconfig, resulting in the node rebooting\nwithout the kernel args set.\n\nThe task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to\nGRUB_CMDLINE_LINUX has been removed. Instead the current\nGRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the\n/etc/default/grub, difference to current `tripleo_kernel_args`\nis removed, and current is then added.\n\ngrubby will add/remove the args from GRUB_CMDLINE_LINUX in\n/etc/default/grub, so grub2-mkconfig will updated grub.cfg\nfiles appropriately.\n\nRelated: RHBZ#2102627\nChange-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610\n'}, {'number': 6, 'created': '2022-07-01 13:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9650408a14eb3607d964d92ca650601b66606fd5', 'message': 'Use grubby to manage kernel_args\n\nThe loader entries in RHEL9 is not updated correctly when\nrunning grub2-mkconfig, resulting in the node rebooting\nwithout the kernel args set.\n\nThe task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to\nGRUB_CMDLINE_LINUX has been removed. Instead the current\nGRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the\n/etc/default/grub, difference to current `tripleo_kernel_args`\nis removed, and current is then added.\n\ngrubby will add/remove the args from GRUB_CMDLINE_LINUX in\n/etc/default/grub, so grub2-mkconfig will updated grub.cfg\nfiles appropriately.\n\nRelated: RHBZ#2102627\nChange-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610\n'}, {'number': 7, 'created': '2022-07-01 13:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b164340555b492b198d98472f8be571294a952bd', 'message': 'Use grubby to manage kernel_args\n\nThe loader entries in RHEL9 is not updated correctly when\nrunning grub2-mkconfig, resulting in the node rebooting\nwithout the kernel args set.\n\nThe task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to\nGRUB_CMDLINE_LINUX has been removed. Instead the current\nGRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the\n/etc/default/grub, difference to current `tripleo_kernel_args`\nis removed, and current is then added.\n\ngrubby will add/remove the args from GRUB_CMDLINE_LINUX in\n/etc/default/grub, so grub2-mkconfig will updated grub.cfg\nfiles appropriately.\n\nRelated: RHBZ#2102627\nChange-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610\n'}, {'number': 8, 'created': '2022-07-04 11:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a39ad264901fd8ea80c8f2ee892a69733972a96', 'message': 'Use grubby to manage kernel_args\n\nThe loader entries in RHEL9 is not updated correctly when\nrunning grub2-mkconfig, resulting in the node rebooting\nwithout the kernel args set.\n\nThe task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to\nGRUB_CMDLINE_LINUX has been removed. Instead the current\nGRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the\n/etc/default/grub, difference to current `tripleo_kernel_args`\nis removed, and current is then added.\n\ngrubby will add/remove the args from GRUB_CMDLINE_LINUX in\n/etc/default/grub, so grub2-mkconfig will updated grub.cfg\nfiles appropriately.\n\nRelated: RHBZ#2102627\nChange-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610\n'}, {'number': 9, 'created': '2022-07-04 12:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e14fc3249f88502c22d0284ee2b60727bb5fea5a', 'message': 'Use grubby to manage kernel_args\n\nThe loader entries in RHEL9 is not updated correctly when\nrunning grub2-mkconfig, resulting in the node rebooting\nwithout the kernel args set.\n\nThe task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to\nGRUB_CMDLINE_LINUX has been removed. Instead the current\nGRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the\n/etc/default/grub, difference to current `tripleo_kernel_args`\nis removed, and current is then added.\n\ngrubby will add/remove the args from GRUB_CMDLINE_LINUX in\n/etc/default/grub, so grub2-mkconfig will updated grub.cfg\nfiles appropriately.\n\nRelated: RHBZ#2102627\nChange-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610\n'}, {'number': 10, 'created': '2022-07-04 18:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ee5d5ae7a350acfa6971fed2a2127e48fc5367c3', 'message': 'Use grubby to manage kernel_args\n\nThe loader entries in RHEL9 is not updated correctly when\nrunning grub2-mkconfig, resulting in the node rebooting\nwithout the kernel args set.\n\nThe task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to\nGRUB_CMDLINE_LINUX has been removed. Instead the current\nGRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the\n/etc/default/grub, difference to current `tripleo_kernel_args`\nis removed, and current is then added.\n\ngrubby will add/remove the args from GRUB_CMDLINE_LINUX in\n/etc/default/grub, so grub2-mkconfig will updated grub.cfg\nfiles appropriately.\n\nAlso fix the regex ""Delete older name TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS\nentries if present"", it would delete the current line with the GRUB_\nprefix as well.\n\nThe whitespace at start and end of GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS\nis no longer needed as grubby handles that when setting GRUB_CMDLINE_LINUX\nproperty in /etc/default/grub\n\nRelated: RHBZ#2102627\nChange-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610\n'}, {'number': 11, 'created': '2022-07-04 19:29:39.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-update/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/molecule/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-nochange/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-change/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange-remove/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-remove/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-adding/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/molecule/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-integer/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-existing-kernelargs/test_vars.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/549b5cec200ef3de6012aa749e5c74afe929e205', 'message': 'Use grubby to manage kernel_args\n\nThe loader entries in RHEL9 is not updated correctly when\nrunning grub2-mkconfig, resulting in the node rebooting\nwithout the kernel args set.\n\nThe task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to\nGRUB_CMDLINE_LINUX has been removed. Instead the current\nGRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the\n/etc/default/grub, difference to current `tripleo_kernel_args`\nis removed, and current is then added.\n\ngrubby will add/remove the args from GRUB_CMDLINE_LINUX in\n/etc/default/grub, so grub2-mkconfig will updated grub.cfg\nfiles appropriately.\n\nAlso fix the regex ""Delete older name TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS\nentries if present"", it would delete the current line with the GRUB_\nprefix as well.\n\nThe whitespace at start and end of GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS\nis no longer needed as grubby handles that when setting GRUB_CMDLINE_LINUX\nproperty in /etc/default/grub\n\nRelated: RHBZ#2102627\nChange-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610\n'}]",15,848306,549b5cec200ef3de6012aa749e5c74afe929e205,34,5,11,24245,,,0,"Use grubby to manage kernel_args

The loader entries in RHEL9 is not updated correctly when
running grub2-mkconfig, resulting in the node rebooting
without the kernel args set.

The task adding GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to
GRUB_CMDLINE_LINUX has been removed. Instead the current
GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS is loaded from the
/etc/default/grub, difference to current `tripleo_kernel_args`
is removed, and current is then added.

grubby will add/remove the args from GRUB_CMDLINE_LINUX in
/etc/default/grub, so grub2-mkconfig will updated grub.cfg
files appropriately.

Also fix the regex ""Delete older name TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS
entries if present"", it would delete the current line with the GRUB_
prefix as well.

The whitespace at start and end of GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS
is no longer needed as grubby handles that when setting GRUB_CMDLINE_LINUX
property in /etc/default/grub

Related: RHBZ#2102627
Change-Id: Ia9bf549b9b99fb6a795ae5f11b01ec13d7633610
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/848306/7 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,76b434cdef66497262586a3246a2d23a5bf9350d,kernel-params," - name: Get current GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS if any set_fact: current_tripleo_kernel_args: ""{{ lookup('ini', 'GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS', file=/etc/default/grub', allow_no_value=true, type='properties') | trim('\""') | split (' ') | select() }}"" - name: Remove args no longer in tripleo_kernel_args command: ""grubby --update-kernel=ALL --remove-args={{ current_tripleo_kernel_args | difference(tripleo_kernel_args | split(' ') | select()) | join(' ') | trim }}"" - name: Add kernel args in tripleo_kernel_args command: ""grubby --update-kernel=ALL --args={{ tripleo_kernel_args }}"""," - name: Add GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS to the GRUB_CMDLINE_LINUX parameter lineinfile: dest: /etc/default/grub line: 'GRUB_CMDLINE_LINUX=""${GRUB_CMDLINE_LINUX:+$GRUB_CMDLINE_LINUX }${GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS}""' insertafter: '^GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS.*'",11,6
openstack%2Fos-brick~master~I0777de370ea53212feaff5a791f9b42652bdc7da,openstack/os-brick,master,I0777de370ea53212feaff5a791f9b42652bdc7da,Make ceph job voting (sometimes),MERGED,2022-07-13 22:30:52.000000000,2022-07-27 14:41:09.000000000,2022-07-27 14:11:24.000000000,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-07-13 22:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/96e2943e3a018b4185058523136ffee200b0ff5f', 'message': ""WIP: make ceph job voting (sometimes)\n\nThe os-brick-src-devstack-plugin-ceph job's history indicates\nthat it is too unstable to vote, but at the same time, having\nit as non-voting has burned us in merging rbd-related changes\nthat could be detected by that job.  At the 2022-07-13 cinder\nmeeting we agreed to compromise by replacing that job with two\njobs, one that votes and runs only on changes that could affect\nrbd, and the other that doesn't vote and runs on all other\nappropriate changes.\n\nAs was the case with the os-brick-src-devstack-plugin-ceph\njob, these run only in the check pipeline.\n\nChange-Id: I0777de370ea53212feaff5a791f9b42652bdc7da\n""}, {'number': 2, 'created': '2022-07-13 22:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/005138c1bbd99fbd6691a941aaaa29823dd0416f', 'message': ""WIP: make ceph job voting (sometimes)\n\nThe os-brick-src-devstack-plugin-ceph job's history indicates\nthat it is too unstable to vote, but at the same time, having\nit as non-voting has burned us in merging rbd-related changes\nthat could be detected by that job.  At the 2022-07-13 cinder\nmeeting we agreed to compromise by replacing that job with two\njobs, one that votes and runs only on changes that could affect\nrbd, and the other that doesn't vote and runs on all other\nappropriate changes.\n\nAs was the case with the os-brick-src-devstack-plugin-ceph\njob, these run only in the check pipeline.\n\nChange-Id: I0777de370ea53212feaff5a791f9b42652bdc7da\n""}, {'number': 3, 'created': '2022-07-13 22:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/750f84318ac9492e00cd46b0b304afc9d6887ed7', 'message': ""WIP: make ceph job voting (sometimes)\n\nThe os-brick-src-devstack-plugin-ceph job's history indicates\nthat it is too unstable to vote, but at the same time, having\nit as non-voting has burned us in merging rbd-related changes\nthat could be detected by that job.  At the 2022-07-13 cinder\nmeeting we agreed to compromise by replacing that job with two\njobs, one that votes and runs only on changes that could affect\nrbd, and the other that doesn't vote and runs on all other\nappropriate changes.\n\nAs was the case with the os-brick-src-devstack-plugin-ceph\njob, these run only in the check pipeline.\n\nChange-Id: I0777de370ea53212feaff5a791f9b42652bdc7da\n""}, {'number': 4, 'created': '2022-07-14 11:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9b855d979e44774f39410413c35bfdf3a54ddc44', 'message': ""WIP: make ceph job voting (sometimes)\n\nThe os-brick-src-devstack-plugin-ceph job's history indicates\nthat it is too unstable to vote, but at the same time, having\nit as non-voting has burned us in merging rbd-related changes\nthat could be detected by that job.  At the 2022-07-13 cinder\nmeeting we agreed to compromise by replacing that job with two\njobs, one that votes and runs only on changes that could affect\nrbd, and the other that doesn't vote and runs on all other\nappropriate changes.\n\nAs was the case with the os-brick-src-devstack-plugin-ceph\njob, these run only in the check pipeline.\n\nChange-Id: I0777de370ea53212feaff5a791f9b42652bdc7da\n""}, {'number': 5, 'created': '2022-07-14 16:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e7a19331ba8359ca92a6a4da7e96cbaa6a839e74', 'message': ""WIP: make ceph job voting (sometimes)\n\nThe os-brick-src-devstack-plugin-ceph job's history indicates\nthat it is too unstable to vote, but at the same time, having\nit as non-voting has burned us in merging rbd-related changes\nthat could be detected by that job.  At the 2022-07-13 cinder\nmeeting we agreed to compromise by replacing that job with two\njobs, one that votes and runs only on changes that could affect\nrbd, and the other that doesn't vote and runs on all other\nappropriate changes.\n\nAs was the case with the os-brick-src-devstack-plugin-ceph\njob, these run only in the check pipeline.\n\nChange-Id: I0777de370ea53212feaff5a791f9b42652bdc7da\n""}, {'number': 6, 'created': '2022-07-14 16:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5d7fe78a702f2e0f24118f3be81d5bbe882b97fb', 'message': ""WIP: make ceph job voting (sometimes)\n\nThe os-brick-src-devstack-plugin-ceph job's history indicates\nthat it is too unstable to vote, but at the same time, having\nit as non-voting has burned us in merging rbd-related changes\nthat could be detected by that job.  At the 2022-07-13 cinder\nmeeting we agreed to compromise by replacing that job with two\njobs, one that votes and runs only on changes that could affect\nrbd, and the other that doesn't vote and runs on all other\nappropriate changes.\n\nAs was the case with the os-brick-src-devstack-plugin-ceph\njob, these run only in the check pipeline.\n\nChange-Id: I0777de370ea53212feaff5a791f9b42652bdc7da\n""}, {'number': 7, 'created': '2022-07-14 16:09:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c1ea65e80e18948c65805df4873ab61eaa083740', 'message': ""Make ceph job voting (sometimes)\n\nThe os-brick-src-devstack-plugin-ceph job's history indicates\nthat it is too unstable to vote, but at the same time, having\nit as non-voting has burned us in merging rbd-related changes\nthat could be detected by that job.  At the 2022-07-13 cinder\nmeeting we agreed to compromise by replacing that job with two\njobs, one that votes and runs only on changes that could affect\nrbd, and the other that doesn't vote and runs on all other\nappropriate changes.\n\nAs was the case with the os-brick-src-devstack-plugin-ceph\njob, these run only in the check pipeline.\n\nChange-Id: I0777de370ea53212feaff5a791f9b42652bdc7da\n""}]",13,849759,c1ea65e80e18948c65805df4873ab61eaa083740,54,4,7,5314,,,0,"Make ceph job voting (sometimes)

The os-brick-src-devstack-plugin-ceph job's history indicates
that it is too unstable to vote, but at the same time, having
it as non-voting has burned us in merging rbd-related changes
that could be detected by that job.  At the 2022-07-13 cinder
meeting we agreed to compromise by replacing that job with two
jobs, one that votes and runs only on changes that could affect
rbd, and the other that doesn't vote and runs on all other
appropriate changes.

As was the case with the os-brick-src-devstack-plugin-ceph
job, these run only in the check pipeline.

Change-Id: I0777de370ea53212feaff5a791f9b42652bdc7da
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/59/849759/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,96e2943e3a018b4185058523136ffee200b0ff5f,ceph-voting, - os-brick-src-devstack-plugin-ceph-v - os-brick-src-devstack-plugin-ceph-nv abstract: true name: os-brick-src-devstack-plugin-ceph-v description: | Runs tempest tests on os-brick source against ceph. This voting job runs on changes that could affect rbd. parent: os-brick-src-devstack-plugin-ceph required-projects: - opendev.org/openstack/os-brick irrelevant-files: *doc-files files: - ^os_brick/initiator/connector.py$ - ^os_brick/initiator/connectors/rbd.py$ - ^os_brick/initiator/linuxrbd.py$ - ^os_brick/utils.py$ - job: name: os-brick-src-devstack-plugin-ceph-nv voting: false description: | Runs tempest tests on os-brick source against ceph. This non-voting job runs changes that don't specifically impact ceph-related os-brick code. parent: os-brick-src-devstack-plugin-ceph required-projects: - opendev.org/openstack/os-brick irrevelant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^os_brick/initiator/connector.py$ - ^os_brick/initiator/connectors/rbd.py$ - ^os_brick/initiator/linuxrbd.py$ - ^os_brick/utils.py$ - job:, - os-brick-src-devstack-plugin-ceph: voting: false,37,2
openstack%2Fcharm-cinder-netapp~stable%2Fwallaby~I5825f848d2353782ea7e8f2c4f3a6b424a762b75,openstack/charm-cinder-netapp,stable/wallaby,I5825f848d2353782ea7e8f2c4f3a6b424a762b75,Migrate charm charmhub for stable/wallaby,MERGED,2022-05-17 18:14:23.000000000,2022-07-27 14:37:36.000000000,2022-07-27 14:37:36.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 18:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/036af124176c2b9f637f7cf67348e4887a03715f', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75\n'}, {'number': 2, 'created': '2022-06-17 14:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/d7befd058180a36667700cf8dbbca166ba569074', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75\n'}, {'number': 3, 'created': '2022-07-17 16:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/b5f830f63074bf28cedc9650723e7900ebf4e3ab', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75\n'}, {'number': 4, 'created': '2022-07-17 20:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/fd92d1e19250cafa7d233e1d65672c90c660eb5b', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75\n'}, {'number': 5, 'created': '2022-07-18 04:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/62ade7ccd3b460284c7da77d2bc13040b3ac8965', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75\n'}, {'number': 6, 'created': '2022-07-19 13:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/1de442cb6c7decd1a4f0efa67789faa891f2f745', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75\n'}, {'number': 7, 'created': '2022-07-19 16:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/b16d31e18093cca2850924bb41edee7ecc7d0d18', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/835\nChange-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75\n'}, {'number': 8, 'created': '2022-07-19 16:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/b3f55073683878243657ace3f21d7baf4dabde80', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75\n'}, {'number': 9, 'created': '2022-07-20 07:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/91051e13b8220646c96878cee5cf88c4448eee52', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/841\nChange-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75\n'}, {'number': 10, 'created': '2022-07-20 13:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/3fba9b0a6411de236898c456c3426fc4a57794e4', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/842\nChange-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75\n'}, {'number': 11, 'created': '2022-07-25 14:21:40.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/tests/bundles/overlays/netapp-overlay.yaml.j2', 'src/test-requirements.txt', 'src/tests/bundles/groovy-victoria.yaml', 'requirements.txt', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/focal-victoria.yaml', 'src/build.lock', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', '.zuul.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/c38041cc6ec762f8004b4d130aec2a5418318c80', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/842\nChange-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75\n'}]",14,842175,c38041cc6ec762f8004b4d130aec2a5418318c80,54,3,11,20870,,,0,"Migrate charm charmhub for stable/wallaby

- start from stable/wallaby branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/wallaby for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/842
Change-Id: I5825f848d2353782ea7e8f2c4f3a6b424a762b75
",git fetch https://review.opendev.org/openstack/charm-cinder-netapp refs/changes/75/842175/8 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/groovy-victoria.yaml', 'requirements.txt', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/build.lock', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', '.zuul.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini']",28,036af124176c2b9f637f7cf67348e4887a03715f,charmhub-migration,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:py39] basepython = python3.9 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py310] basepython = python3.10 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,318,713
openstack%2Fcharm-masakari-monitors~stable%2Fwallaby~I9e6b20d6a85bcee69029ac798d06842e424f0511,openstack/charm-masakari-monitors,stable/wallaby,I9e6b20d6a85bcee69029ac798d06842e424f0511,Migrate charm charmhub for stable/wallaby,MERGED,2022-05-17 18:17:29.000000000,2022-07-27 14:36:31.000000000,2022-07-27 14:36:31.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 18:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/7ce7dcc955d61aa727fb3210e96f55987b69a3b7', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I9e6b20d6a85bcee69029ac798d06842e424f0511\n'}, {'number': 2, 'created': '2022-06-17 14:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/ca5bd0847b65ad3f817ad21d397ef6cc5d5784ea', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I9e6b20d6a85bcee69029ac798d06842e424f0511\n'}, {'number': 3, 'created': '2022-07-27 07:30:21.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/bionic-ussuri-pacemaker-remote-ssl.yaml', 'src/tests/bundles/focal-victoria-pacemaker-remote-ssl.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/groovy-victoria-pacemaker-remote-ssl.yaml', 'src/tests/bundles/focal-ussuri-pacemaker-remote-ssl.yaml', 'requirements.txt', 'src/tests/bundles/overlays/groovy-victoria-pacemaker-remote-ssl-yaml.j2', 'src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/build.lock', 'src/tests/bundles/overlays/bionic-train-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-victoria-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/bionic-train-pacemaker-remote-ssl.yaml', 'build-requirements.txt', 'src/tests/bundles/overlays/focal-victoria-pacemaker-remote-ssl-yaml.j2', 'src/tests/bundles/bionic-rocky-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/focal-ussuri-pacemaker-remote-ssl.yaml.j2', '.zuul.yaml', 'src/tests/bundles/overlays/bionic-rocky-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/bionic-stein-pacemaker-remote-ssl.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/overlays/bionic-ussuri-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/ha-vip.yaml.j2', 'rename.sh', 'src/tests/bundles/bionic-stein-pacemaker-remote-ssl.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/bundles/focal-wallaby-pacemaker-remote-ssl.yaml', 'metadata.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/63cd146362c6c14330c9ffba856176eaad12556b', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I9e6b20d6a85bcee69029ac798d06842e424f0511\n'}]",4,842196,63cd146362c6c14330c9ffba856176eaad12556b,19,3,3,20870,,,0,"Migrate charm charmhub for stable/wallaby

- start from stable/wallaby branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/wallaby for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I9e6b20d6a85bcee69029ac798d06842e424f0511
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/96/842196/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/bionic-ussuri-pacemaker-remote-ssl.yaml', 'src/tests/bundles/focal-victoria-pacemaker-remote-ssl.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/groovy-victoria-pacemaker-remote-ssl.yaml', 'src/tests/bundles/focal-ussuri-pacemaker-remote-ssl.yaml', 'requirements.txt', 'src/tests/bundles/overlays/groovy-victoria-pacemaker-remote-ssl-yaml.j2', 'src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/build.lock', 'src/tests/bundles/overlays/bionic-train-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/bionic-train-pacemaker-remote-ssl.yaml', 'build-requirements.txt', 'src/tests/bundles/overlays/focal-victoria-pacemaker-remote-ssl-yaml.j2', 'src/tests/bundles/bionic-rocky-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/focal-ussuri-pacemaker-remote-ssl.yaml.j2', '.zuul.yaml', 'src/tests/bundles/overlays/bionic-rocky-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/bionic-stein-pacemaker-remote-ssl.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/overlays/bionic-ussuri-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby-pacemaker-remove-ssl.yaml.j2', 'rename.sh', 'src/tests/bundles/bionic-stein-pacemaker-remote-ssl.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/bundles/focal-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/ha.yaml.j2', 'metadata.yaml', 'tox.ini', 'src/tests/bundles/overlays/focal-victoria-pacemaker-remove-ssl.yaml.j2']",35,7ce7dcc955d61aa727fb3210e96f55987b69a3b7,charmhub-migration,ha.yaml.j2,,226,2162
openstack%2Fcharm-keystone~stable%2Fwallaby~I55d51f1fba0c4c35fa4225ec7d1612fb583db4c3,openstack/charm-keystone,stable/wallaby,I55d51f1fba0c4c35fa4225ec7d1612fb583db4c3,"Update the bundles to use the stable track, edge risk for wallaby",MERGED,2022-06-17 14:05:51.000000000,2022-07-27 14:35:15.000000000,2022-07-27 14:35:15.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 14:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/0ac5c367fee6f873032121f83299c4a30767cffe', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: I55d51f1fba0c4c35fa4225ec7d1612fb583db4c3\n'}, {'number': 2, 'created': '2022-07-11 10:45:43.000000000', 'files': ['tests/bundles/overlays/local-charm-overlay.yaml.j2', 'test-requirements.txt', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/cf342150dde06cea4c2ceb0d8b37da71ff94a39c', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: I55d51f1fba0c4c35fa4225ec7d1612fb583db4c3\n'}]",3,846378,cf342150dde06cea4c2ceb0d8b37da71ff94a39c,13,3,2,20870,,,0,"Update the bundles to use the stable track, edge risk for wallaby

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for wallaby.

Change-Id: I55d51f1fba0c4c35fa4225ec7d1612fb583db4c3
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/78/846378/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/overlays/local-charm-overlay.yaml.j2', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/focal-wallaby.yaml']",3,0ac5c367fee6f873032121f83299c4a30767cffe,update-bundles-wallaby, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable,7,7
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2Fwallaby~I682b4fc35901dcac23a56c74d2f097343665cfb8,openstack/charm-neutron-api-plugin-ovn,stable/wallaby,I682b4fc35901dcac23a56c74d2f097343665cfb8,Migrate charm charmhub for stable/wallaby,MERGED,2022-05-17 18:18:05.000000000,2022-07-27 14:34:17.000000000,2022-07-27 14:34:17.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 18:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/32ff2c968c7f5a150a3d331b3a26eceef7775720', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I682b4fc35901dcac23a56c74d2f097343665cfb8\n'}, {'number': 2, 'created': '2022-05-18 11:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/ccbd10dec1e82a50e2811c85a529170158e80a12', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I682b4fc35901dcac23a56c74d2f097343665cfb8\n'}, {'number': 3, 'created': '2022-06-17 14:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/355595c740b8608a4425feffd50e881592bdeb6e', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I682b4fc35901dcac23a56c74d2f097343665cfb8\n'}, {'number': 4, 'created': '2022-07-25 14:26:25.000000000', 'files': ['osci.yaml', '.gitignore', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/groovy-victoria.yaml', 'requirements.txt', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/overlays/impish-xena.yaml.j2', 'src/build.lock', 'src/tests/bundles/overlays/focal-xena.yaml.j2', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', '.zuul.yaml', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/overlays/groovy-victoria.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'rename.sh', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/10f9148063d2777e46ca7e9d7e3dbcb2449681d2', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I682b4fc35901dcac23a56c74d2f097343665cfb8\n'}]",16,842200,10f9148063d2777e46ca7e9d7e3dbcb2449681d2,29,3,4,20870,,,0,"Migrate charm charmhub for stable/wallaby

- start from stable/wallaby branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/wallaby for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I682b4fc35901dcac23a56c74d2f097343665cfb8
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/00/842200/4 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', '.gitreview', 'test-requirements.txt', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/groovy-victoria.yaml', 'requirements.txt', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/overlays/impish-xena.yaml.j2', 'src/build.lock', 'src/tests/bundles/overlays/focal-xena.yaml.j2', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', '.zuul.yaml', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/overlays/groovy-victoria.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'rename.sh', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini']",34,32ff2c968c7f5a150a3d331b3a26eceef7775720,charmhub-migration,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:py39] basepython = python3.9 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py310] basepython = python3.10 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,191,1145
openstack%2Fcharm-cinder~stable%2Fwallaby~Idc48963c4cfe3892b8457a0b4038098ac334ddc7,openstack/charm-cinder,stable/wallaby,Idc48963c4cfe3892b8457a0b4038098ac334ddc7,"Update the bundles to use the stable track, edge risk for wallaby",MERGED,2022-06-17 14:05:39.000000000,2022-07-27 14:34:01.000000000,2022-07-27 14:34:01.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 14:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/7b6014d2d8d161ccb8dadeb188705b54c29ad040', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: Idc48963c4cfe3892b8457a0b4038098ac334ddc7\n'}, {'number': 2, 'created': '2022-07-11 10:49:48.000000000', 'files': ['test-requirements.txt', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/c2f21ed8a2aa8f1dbd8ef7abe65f37b613945552', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: Idc48963c4cfe3892b8457a0b4038098ac334ddc7\n'}]",2,846375,c2f21ed8a2aa8f1dbd8ef7abe65f37b613945552,11,3,2,20870,,,0,"Update the bundles to use the stable track, edge risk for wallaby

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for wallaby.

Change-Id: Idc48963c4cfe3892b8457a0b4038098ac334ddc7
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/75/846375/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-victoria.yaml', 'tests/bundles/focal-wallaby.yaml']",2,7b6014d2d8d161ccb8dadeb188705b54c29ad040,update-bundles-wallaby, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable,14,14
openstack%2Fcharm-keystone-ldap~stable%2Fwallaby~Ibb7e071aaf310ed8efba3edbbd0ad79398bfff39,openstack/charm-keystone-ldap,stable/wallaby,Ibb7e071aaf310ed8efba3edbbd0ad79398bfff39,"Update the bundles to use the stable track, edge risk for wallaby",MERGED,2022-06-17 14:05:55.000000000,2022-07-27 14:32:08.000000000,2022-07-27 14:32:08.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 14:05:55.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/10ed1cff5cf4423e4a849e4008686a847f86d50d', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: Ibb7e071aaf310ed8efba3edbbd0ad79398bfff39\n'}]",2,846379,10ed1cff5cf4423e4a849e4008686a847f86d50d,9,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for wallaby

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for wallaby.

Change-Id: Ibb7e071aaf310ed8efba3edbbd0ad79398bfff39
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/79/846379/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria.yaml']",2,10ed1cff5cf4423e4a849e4008686a847f86d50d,update-bundles-wallaby, channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/stable channel: 8.0.19/stable,4,4
openstack%2Fcharm-designate-bind~stable%2Fwallaby~Ia2e5102f6be370caf84f841a1b3301022e585c1c,openstack/charm-designate-bind,stable/wallaby,Ia2e5102f6be370caf84f841a1b3301022e585c1c,"Update the bundles to use the stable track, edge risk for wallaby",MERGED,2022-06-17 14:05:43.000000000,2022-07-27 14:31:05.000000000,2022-07-27 14:31:05.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 14:05:43.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/63125f03e14f1ad6a6931ea74dd670a2ac4a1097', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: Ia2e5102f6be370caf84f841a1b3301022e585c1c\n'}]",3,846376,63125f03e14f1ad6a6931ea74dd670a2ac4a1097,11,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for wallaby

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for wallaby.

Change-Id: Ia2e5102f6be370caf84f841a1b3301022e585c1c
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/76/846376/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria.yaml']",2,63125f03e14f1ad6a6931ea74dd670a2ac4a1097,update-bundles-wallaby, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable,8,8
openstack%2Fcharm-heat~stable%2Fwallaby~If79a60b398311395fef85484af4778f6b61d72ac,openstack/charm-heat,stable/wallaby,If79a60b398311395fef85484af4778f6b61d72ac,"Update the bundles to use the stable track, edge risk for wallaby",MERGED,2022-06-17 14:05:47.000000000,2022-07-27 14:29:26.000000000,2022-07-27 14:29:26.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 14:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/cebcb3c19155779a10700d25f5729587f5601e8c', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: If79a60b398311395fef85484af4778f6b61d72ac\n'}, {'number': 2, 'created': '2022-07-11 10:43:09.000000000', 'files': ['test-requirements.txt', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/b0f5e084831711a056001d8f32d32a09e84925a2', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: If79a60b398311395fef85484af4778f6b61d72ac\n'}]",2,846377,b0f5e084831711a056001d8f32d32a09e84925a2,12,3,2,20870,,,0,"Update the bundles to use the stable track, edge risk for wallaby

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for wallaby.

Change-Id: If79a60b398311395fef85484af4778f6b61d72ac
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/77/846377/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-victoria.yaml', 'tests/bundles/focal-wallaby.yaml']",2,cebcb3c19155779a10700d25f5729587f5601e8c,update-bundles-wallaby, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable,14,14
openstack%2Fcharm-manila-dashboard~stable%2Fwallaby~I25ea74242ec76a29ed99558498486872e1f90396,openstack/charm-manila-dashboard,stable/wallaby,I25ea74242ec76a29ed99558498486872e1f90396,"Update the bundles to use the stable track, edge risk for wallaby",MERGED,2022-06-17 14:05:59.000000000,2022-07-27 14:28:52.000000000,2022-07-27 14:28:52.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 14:05:59.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/f7910d76253f93d86b153c878d3ee1711d1f0ddc', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: I25ea74242ec76a29ed99558498486872e1f90396\n'}]",2,846380,f7910d76253f93d86b153c878d3ee1711d1f0ddc,9,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for wallaby

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for wallaby.

Change-Id: I25ea74242ec76a29ed99558498486872e1f90396
",git fetch https://review.opendev.org/openstack/charm-manila-dashboard refs/changes/80/846380/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria.yaml']",2,f7910d76253f93d86b153c878d3ee1711d1f0ddc,update-bundles-wallaby, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable,8,8
openstack%2Fneutron-fwaas~master~Ib87394e41cdba7fc57e6ae6ed08ba1f84465441e,openstack/neutron-fwaas,master,Ib87394e41cdba7fc57e6ae6ed08ba1f84465441e,Remove usage of six,MERGED,2022-06-03 06:56:00.000000000,2022-07-27 14:28:40.000000000,2022-07-27 14:27:19.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30380}, {'_account_id': 31412}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-06-03 06:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/4f98fcac0e09cde3b9a1ed0505f8c94cc68e9cb6', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.six.add_metaclass\n- six.PY2\n- requirement.txt\n\nChange-Id: Ib87394e41cdba7fc57e6ae6ed08ba1f84465441e\n'}, {'number': 2, 'created': '2022-06-03 07:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/65570ed8bf673920e112ee4df2f9600570904e38', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.six.add_metaclass\n- six.PY2\n- requirement.txt\n\nChange-Id: Ib87394e41cdba7fc57e6ae6ed08ba1f84465441e\n'}, {'number': 3, 'created': '2022-06-03 07:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/770bee8d0dcffb492658fb86848777bb891bcfe8', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.six.add_metaclass\n- six.PY2\n- requirement.txt\n\nChange-Id: Ib87394e41cdba7fc57e6ae6ed08ba1f84465441e\n'}, {'number': 4, 'created': '2022-06-03 08:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f6f51292ff47f0da042099f6f4ccf72aa654ddae', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.six.add_metaclass\n- six.PY2\n- requirement.txt\n\nChange-Id: Ib87394e41cdba7fc57e6ae6ed08ba1f84465441e\n'}, {'number': 5, 'created': '2022-06-03 09:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5233237033cd49f52f983124c890c68f599df3a2', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.six.add_metaclass\n- six.PY2\n- requirement.txt\n\nChange-Id: Ib87394e41cdba7fc57e6ae6ed08ba1f84465441e\n'}, {'number': 6, 'created': '2022-07-27 12:46:16.000000000', 'files': ['neutron_fwaas/extensions/firewall_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base.py', 'requirements.txt', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/driver_base.py', 'neutron_fwaas/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base_v2.py', 'neutron_fwaas/services/firewall/service_drivers/driver_api.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/conntrack_base.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b126f4224addced1c7f4f8608562bad5f134020f', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.six.add_metaclass\n- six.PY2\n- requirement.txt\n\nChange-Id: Ib87394e41cdba7fc57e6ae6ed08ba1f84465441e\n'}]",11,844551,b126f4224addced1c7f4f8608562bad5f134020f,25,7,6,32020,,,0,"Remove usage of six

Remove six-library Replace the following items with Python 3 style code.
- six.six.add_metaclass
- six.PY2
- requirement.txt

Change-Id: Ib87394e41cdba7fc57e6ae6ed08ba1f84465441e
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/51/844551/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/extensions/firewall_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base.py', 'requirements.txt', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/driver_base.py', 'neutron_fwaas/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base_v2.py', 'neutron_fwaas/services/firewall/service_drivers/driver_api.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/conntrack_base.py']",8,4f98fcac0e09cde3b9a1ed0505f8c94cc68e9cb6,,"class ConntrackDriverBase(object, metaclass=abc.ABCMeta):",import six@six.add_metaclass(abc.ABCMeta) class ConntrackDriverBase(object):,9,28
openstack%2Fcharm-octavia-diskimage-retrofit~stable%2Fwallaby~I5e150df3c2344556625dfcfa279e18f89626e55d,openstack/charm-octavia-diskimage-retrofit,stable/wallaby,I5e150df3c2344556625dfcfa279e18f89626e55d,"Update the bundles to use the stable track, edge risk for wallaby",MERGED,2022-06-17 14:06:11.000000000,2022-07-27 14:28:17.000000000,2022-07-27 14:28:17.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 14:06:11.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/cc65f6bc22e32f20f9e5f0c4e1ac7a862c4900c5', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: I5e150df3c2344556625dfcfa279e18f89626e55d\n'}]",2,846383,cc65f6bc22e32f20f9e5f0c4e1ac7a862c4900c5,9,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for wallaby

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for wallaby.

Change-Id: I5e150df3c2344556625dfcfa279e18f89626e55d
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/83/846383/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria.yaml']",2,cc65f6bc22e32f20f9e5f0c4e1ac7a862c4900c5,update-bundles-wallaby, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable,6,6
openstack%2Fovn-bgp-agent~master~I9b99a696244f7c5c7f5805d33e894ae3f0cf21b2,openstack/ovn-bgp-agent,master,I9b99a696244f7c5c7f5805d33e894ae3f0cf21b2,Add set_device_status() to utils/linux_net.py,MERGED,2022-07-26 10:04:00.000000000,2022-07-27 14:27:37.000000000,2022-07-27 14:27:37.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-07-26 10:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/55e11e3b4baa1f3abb189bda0c33bb0f3ca61f71', 'message': 'Fix wrong module for set_device_status()\n\nThe method set_device_status() comes from privileged/linux_net.py and\nnot from utils/linux_net.py\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I9b99a696244f7c5c7f5805d33e894ae3f0cf21b2\n'}, {'number': 2, 'created': '2022-07-27 12:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/8296514f3d5c68e9b758c04dc8fc91ba69bbb3c1', 'message': 'Add set_device_status() to utils/linux_net.py\n\nThis method was being called by the EVPN driver but it did not exist.\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I9b99a696244f7c5c7f5805d33e894ae3f0cf21b2\n'}, {'number': 3, 'created': '2022-07-27 12:35:35.000000000', 'files': ['ovn_bgp_agent/utils/linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/81ea7b0664e227ea662dd9309b5f89369a826db5', 'message': 'Add set_device_status() to utils/linux_net.py\n\nThis method was being called by the EVPN driver but it did not exist.\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I9b99a696244f7c5c7f5805d33e894ae3f0cf21b2\n'}]",2,851010,81ea7b0664e227ea662dd9309b5f89369a826db5,12,2,3,6773,,,0,"Add set_device_status() to utils/linux_net.py

This method was being called by the EVPN driver but it did not exist.

Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I9b99a696244f7c5c7f5805d33e894ae3f0cf21b2
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/10/851010/3 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/drivers/openstack/ovn_evpn_driver.py'],1,55e11e3b4baa1f3abb189bda0c33bb0f3ca61f71,unittests,"from ovn_bgp_agent.privileged import linux_net as priv_linux_net priv_linux_net.set_device_status(vlan_name, constants.LINK_UP)"," linux_net.set_device_status(vlan_name, constants.LINK_UP)",2,1
openstack%2Fcharm-barbican-vault~stable%2Fwallaby~I7de8ea6646d663a76203fffc5ab9830dcf486224,openstack/charm-barbican-vault,stable/wallaby,I7de8ea6646d663a76203fffc5ab9830dcf486224,"Update the bundles to use the stable track, edge risk for wallaby",MERGED,2022-06-17 14:05:34.000000000,2022-07-27 14:27:25.000000000,2022-07-27 14:27:25.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 14:05:34.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/f09640b08d598d492b2f73a0f19a1fdda561d0c2', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: I7de8ea6646d663a76203fffc5ab9830dcf486224\n'}]",3,846374,f09640b08d598d492b2f73a0f19a1fdda561d0c2,11,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for wallaby

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for wallaby.

Change-Id: I7de8ea6646d663a76203fffc5ab9830dcf486224
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/74/846374/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-victoria.yaml']",3,f09640b08d598d492b2f73a0f19a1fdda561d0c2,update-bundles-wallaby, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 1.7/edge, channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable channel: 1.7/stable,11,11
openstack%2Fkolla~stable%2Fussuri~I6b0b677067d8b307798b6df113cf5a45bb7525ab,openstack/kolla,stable/ussuri,I6b0b677067d8b307798b6df113cf5a45bb7525ab,Mark monasca-grafana as unbuildable,MERGED,2022-07-27 11:03:50.000000000,2022-07-27 14:13:30.000000000,2022-07-27 13:51:20.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-27 11:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e319319170d2a6457d694077035ef81fa4cdd365', 'message': 'Mark monasca-grafana as unbuildable\n\nChange-Id: I6b0b677067d8b307798b6df113cf5a45bb7525ab\n'}, {'number': 2, 'created': '2022-07-27 11:24:56.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/780180088d010745a3b3a4158229b1d0c1026d3b', 'message': 'Mark monasca-grafana as unbuildable\n\nImage build is failing with the following error:\n\n    fpm -t deb -s dir --description Grafana -C /tmp/grafana-linux-pack475276015 --vendor Grafana --url https://grafana.com --license ""Apache 2.0"" --maintainer contact@grafana.com --config-files /etc/init.d/grafana-server --config-files /etc/default/grafana-server --config-files /usr/lib/systemd/system/grafana-server.service --after-install packaging/deb/control/postinst --name grafana --version 4.2.0 -p ./dist --deb-no-default-config-files --iteration 1658863511 --depends adduser --depends libfontconfig .\n    /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require\': /var/lib/gems/2.5.0/gems/dotenv-2.8.0/lib/dotenv/parser.rb:87: syntax error, unexpected \']\' (SyntaxError)\n          !line.split[1..].all? { |var| @hash.member?(v...\n                         ^\n    \tfrom /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require\'\n    \tfrom /var/lib/gems/2.5.0/gems/pleaserun-0.0.32/lib/pleaserun/platform/base.rb:1:in `<top (required)>\'\n    \tfrom /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require\'\n    \tfrom /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require\'\n    \tfrom /var/lib/gems/2.5.0/gems/pleaserun-0.0.32/lib/pleaserun/cli.rb:8:in `<top (required)>\'\n    \tfrom /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require\'\n    \tfrom /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require\'\n    \tfrom /var/lib/gems/2.5.0/gems/fpm-1.14.2/lib/fpm/package/pleaserun.rb:6:in `<top (required)>\'\n    \tfrom /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require\'\n    \tfrom /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require\'\n    \tfrom /var/lib/gems/2.5.0/gems/fpm-1.14.2/lib/fpm/command.rb:18:in `block in <top (required)>\'\n    \tfrom /var/lib/gems/2.5.0/gems/fpm-1.14.2/lib/fpm/command.rb:15:in `each\'\n    \tfrom /var/lib/gems/2.5.0/gems/fpm-1.14.2/lib/fpm/command.rb:15:in `<top (required)>\'\n    \tfrom /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require\'\n    \tfrom /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require\'\n    \tfrom /var/lib/gems/2.5.0/gems/fpm-1.14.2/bin/fpm:5:in `<top (required)>\'\n    \tfrom /usr/local/bin/fpm:23:in `load\'\n    \tfrom /usr/local/bin/fpm:23:in `<main>\'\n\nChange-Id: I6b0b677067d8b307798b6df113cf5a45bb7525ab\n'}]",0,851211,780180088d010745a3b3a4158229b1d0c1026d3b,10,3,2,15197,,,0,"Mark monasca-grafana as unbuildable

Image build is failing with the following error:

    fpm -t deb -s dir --description Grafana -C /tmp/grafana-linux-pack475276015 --vendor Grafana --url https://grafana.com --license ""Apache 2.0"" --maintainer contact@grafana.com --config-files /etc/init.d/grafana-server --config-files /etc/default/grafana-server --config-files /usr/lib/systemd/system/grafana-server.service --after-install packaging/deb/control/postinst --name grafana --version 4.2.0 -p ./dist --deb-no-default-config-files --iteration 1658863511 --depends adduser --depends libfontconfig .
    /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require': /var/lib/gems/2.5.0/gems/dotenv-2.8.0/lib/dotenv/parser.rb:87: syntax error, unexpected ']' (SyntaxError)
          !line.split[1..].all? { |var| @hash.member?(v...
                         ^
    	from /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require'
    	from /var/lib/gems/2.5.0/gems/pleaserun-0.0.32/lib/pleaserun/platform/base.rb:1:in `<top (required)>'
    	from /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require'
    	from /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require'
    	from /var/lib/gems/2.5.0/gems/pleaserun-0.0.32/lib/pleaserun/cli.rb:8:in `<top (required)>'
    	from /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require'
    	from /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require'
    	from /var/lib/gems/2.5.0/gems/fpm-1.14.2/lib/fpm/package/pleaserun.rb:6:in `<top (required)>'
    	from /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require'
    	from /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require'
    	from /var/lib/gems/2.5.0/gems/fpm-1.14.2/lib/fpm/command.rb:18:in `block in <top (required)>'
    	from /var/lib/gems/2.5.0/gems/fpm-1.14.2/lib/fpm/command.rb:15:in `each'
    	from /var/lib/gems/2.5.0/gems/fpm-1.14.2/lib/fpm/command.rb:15:in `<top (required)>'
    	from /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require'
    	from /usr/lib/ruby/2.5.0/rubygems/core_ext/kernel_require.rb:59:in `require'
    	from /var/lib/gems/2.5.0/gems/fpm-1.14.2/bin/fpm:5:in `<top (required)>'
    	from /usr/local/bin/fpm:23:in `load'
    	from /usr/local/bin/fpm:23:in `<main>'

Change-Id: I6b0b677067d8b307798b6df113cf5a45bb7525ab
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/851211/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,e319319170d2a6457d694077035ef81fa4cdd365,," ""monasca-grafana"", # syntax error during fpm run ""monasca-grafana"", # syntax error during fpm run",,2,0
openstack%2Fneutron~master~I8aa5d563134b988afb6369a59fa76d44e1f6db6e,openstack/neutron,master,I8aa5d563134b988afb6369a59fa76d44e1f6db6e,Switch Fedora based job to Centos Stream,MERGED,2022-06-01 20:28:51.000000000,2022-07-27 14:06:12.000000000,2022-07-27 14:03:23.000000000,"[{'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 20:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7605f2ca130db7aa1f7197b8e31decf00fda2b3', 'message': ""Switch Fedora based job to Centos Stream\n\nNow it's better to use Centos Stream than Fedora as it should be more\nstable and closer to RHEL really. So lets switch Fedora based\nperiodic/experimental job to the Centos 9 Stream.\n\nChange-Id: I8aa5d563134b988afb6369a59fa76d44e1f6db6e\n""}, {'number': 2, 'created': '2022-06-20 10:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9062da08113fbb464a2ad4625ea03c2f34876f2f', 'message': ""Switch Fedora based job to Centos Stream\n\nNow it's better to use Centos Stream than Fedora as it should be more\nstable and closer to RHEL really. So lets switch Fedora based\nperiodic/experimental job to the Centos 9 Stream.\n\nChange-Id: I8aa5d563134b988afb6369a59fa76d44e1f6db6e\n""}, {'number': 3, 'created': '2022-07-26 14:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9778aed56b438bfcf950f61f8d9fff78ecfc95c5', 'message': ""Switch Fedora based job to Centos Stream\n\nNow it's better to use Centos Stream than Fedora as it should be more\nstable and closer to RHEL really. So lets switch Fedora based\nperiodic/experimental job to the Centos 9 Stream.\n\nChange-Id: I8aa5d563134b988afb6369a59fa76d44e1f6db6e\n""}, {'number': 4, 'created': '2022-07-27 10:36:58.000000000', 'files': ['zuul.d/tempest-singlenode.yaml', 'zuul.d/job-templates.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c72b3d1f3827d68a9af7c435b10efd648dd0dbf9', 'message': ""Switch Fedora based job to Centos Stream\n\nNow it's better to use Centos Stream than Fedora as it should be more\nstable and closer to RHEL really. So lets switch Fedora based\nperiodic/experimental job to the Centos 9 Stream.\n\nChange-Id: I8aa5d563134b988afb6369a59fa76d44e1f6db6e\n""}]",16,844335,c72b3d1f3827d68a9af7c435b10efd648dd0dbf9,41,3,4,11975,,,0,"Switch Fedora based job to Centos Stream

Now it's better to use Centos Stream than Fedora as it should be more
stable and closer to RHEL really. So lets switch Fedora based
periodic/experimental job to the Centos 9 Stream.

Change-Id: I8aa5d563134b988afb6369a59fa76d44e1f6db6e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/844335/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-singlenode.yaml', 'zuul.d/job-templates.yaml']",2,c7605f2ca130db7aa1f7197b8e31decf00fda2b3,fix-periodic-neutron-jobs, - neutron-ovn-tempest-ovs-master-centos-9-stream - neutron-ovn-tempest-ovs-master-centos-9-stream, - neutron-ovn-tempest-ovs-master-fedora - neutron-ovn-tempest-ovs-master-fedora,4,4
openstack%2Fnova~master~Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1,openstack/nova,master,Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1,Add a workaround to skip hypervisor version check on LM,MERGED,2022-07-26 14:07:58.000000000,2022-07-27 14:03:39.000000000,2022-07-27 13:46:29.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 14:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25997f05432b94949b90345634b8eea5bef084b5', 'message': 'Add a workaround to skip hypervisor version check\n\nThis can be useful for operators in certain scenarios when upgrading.\nE.g. if you want to relocate all instances off a compute node due to an\nemergency hardware issue, and you only have another old compute node\nready at the time.\n\nNote, though: libvirt will do its own internal compatibility checks, and\nmight still reject live migration if the destination is incompatible.\n\nChange-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2022-07-26 14:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5723b039e730ebb6b34be3bfb46868d0f776a0a', 'message': 'Add a workaround to skip hypervisor version check on LM\n\nWhen turned on, this will disable the version-checking of hypervisors\nduring live-migration.  This can be useful for operators in certain\nscenarios when upgrading.  E.g. if you want to relocate all instances\noff a compute node due to an emergency hardware issue, and you only have\nanother old compute node ready at the time.\n\nNote, though: libvirt will do its own internal compatibility checks, and\nmight still reject live migration if the destination is incompatible.\n\nChange-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2022-07-26 17:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5032cb62e6458282e1282ac64cf7dd49a2497ac1', 'message': 'Add a workaround to skip hypervisor version check on LM\n\nWhen turned on, this will disable the version-checking of hypervisors\nduring live-migration.  This can be useful for operators in certain\nscenarios when upgrading.  E.g. if you want to relocate all instances\noff a compute node due to an emergency hardware issue, and you only have\nanother old compute node ready at the time.\n\nNote, though: libvirt will do its own internal compatibility checks, and\nmight still reject live migration if the destination is incompatible.\n\nCloses-Bug: #1982853\n\nChange-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 4, 'created': '2022-07-27 10:20:22.000000000', 'files': ['releasenotes/notes/skip-hypervisor-version-check-on-lm-a87f2dcb4f8bf0f2.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/00ed8a232bc22f48011e95a0b47750520a5b4d47', 'message': 'Add a workaround to skip hypervisor version check on LM\n\nWhen turned on, this will disable the version-checking of hypervisors\nduring live-migration.  This can be useful for operators in certain\nscenarios when upgrading.  E.g. if you want to relocate all instances\noff a compute node due to an emergency hardware issue, and you only have\nanother old compute node ready at the time.\n\nNote, though: libvirt will do its own internal compatibility checks, and\nmight still reject live migration if the destination is incompatible.\n\nCloses-Bug: #1982853\n\nChange-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",9,851034,00ed8a232bc22f48011e95a0b47750520a5b4d47,30,3,4,6962,,,0,"Add a workaround to skip hypervisor version check on LM

When turned on, this will disable the version-checking of hypervisors
during live-migration.  This can be useful for operators in certain
scenarios when upgrading.  E.g. if you want to relocate all instances
off a compute node due to an emergency hardware issue, and you only have
another old compute node ready at the time.

Note, though: libvirt will do its own internal compatibility checks, and
might still reject live migration if the destination is incompatible.

Closes-Bug: #1982853

Change-Id: Iec387dcbc49ddb91ebf5cfd188224eaf6021c0e1
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/851034/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",3,25997f05432b94949b90345634b8eea5bef084b5,bug/1982853," @mock.patch.object(live_migrate.LiveMigrationTask, '_get_compute_info') def test_skip_hypervisor_version_check_on_lm_raise_ex(self, mock_get_info): host1 = {'hypervisor_type': 'a', 'hypervisor_version': 7} host2 = {'hypervisor_type': 'a', 'hypervisor_version': 6} self.flags(group='workarounds', skip_hypervisor_version_check_on_lm=False) mock_get_info.side_effect = [objects.ComputeNode(**host1), objects.ComputeNode(**host2)] self.assertRaises(exception.DestinationHypervisorTooOld, self.task._check_compatible_with_source_hypervisor, self.destination) self.assertEqual([mock.call(self.instance_host), mock.call(self.destination)], mock_get_info.call_args_list) @mock.patch.object(live_migrate.LiveMigrationTask, '_get_compute_info') def test_skip_hypervisor_version_check_on_lm_do_not_raise_ex( self, mock_get_info ): host1 = {'hypervisor_type': 'a', 'hypervisor_version': 7} host2 = {'hypervisor_type': 'a', 'hypervisor_version': 6} self.flags(group='workarounds', skip_hypervisor_version_check_on_lm=True) mock_get_info.side_effect = [objects.ComputeNode(**host1), objects.ComputeNode(**host2)] self.task._check_compatible_with_source_hypervisor(self.destination) self.assertEqual([mock.call(self.instance_host), mock.call(self.destination)], mock_get_info.call_args_list) ",,40,2
openstack%2Fansible-collections-openstack~master~Icbc3bb84269d3b8205fac259300902ebdaf6a3ae,openstack/ansible-collections-openstack,master,Icbc3bb84269d3b8205fac259300902ebdaf6a3ae,Dropped default module options,MERGED,2022-07-27 10:42:13.000000000,2022-07-27 14:03:29.000000000,2022-07-27 14:03:29.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-07-27 10:42:13.000000000', 'files': ['plugins/modules/floating_ip_info.py', 'plugins/modules/project.py', 'plugins/modules/security_group_rule.py', 'plugins/modules/server_info.py', 'plugins/modules/baremetal_node_info.py', 'plugins/modules/identity_domain.py', 'plugins/modules/subnet_pool.py', 'plugins/modules/server.py', 'plugins/module_utils/ironic.py', 'plugins/modules/project_access.py', 'plugins/modules/identity_group.py', 'plugins/modules/security_group_info.py', 'plugins/modules/identity_role_info.py', 'plugins/modules/volume_backup_info.py', 'plugins/modules/volume.py', 'plugins/modules/lb_member.py', 'plugins/modules/network.py', 'plugins/modules/image_info.py', 'plugins/modules/identity_user.py', 'plugins/modules/baremetal_inspect.py', 'plugins/modules/project_info.py', 'plugins/modules/stack_info.py', 'plugins/modules/baremetal_node.py', 'plugins/modules/keypair.py', 'plugins/modules/object.py', 'plugins/modules/keypair_info.py', 'plugins/modules/identity_user_info.py', 'plugins/modules/lb_listener.py', 'plugins/modules/security_group_rule_info.py', 'plugins/modules/endpoint.py', 'plugins/modules/router.py', 'plugins/module_utils/openstack.py', 'plugins/modules/subnets_info.py', 'plugins/modules/identity_group_info.py', 'plugins/modules/baremetal_node_action.py', 'plugins/modules/lb_health_monitor.py', 'plugins/modules/volume_snapshot_info.py', 'plugins/modules/compute_flavor.py', 'plugins/modules/image.py', 'plugins/modules/networks_info.py', 'plugins/modules/object_container.py', 'plugins/modules/role_assignment.py', 'plugins/modules/coe_cluster_template.py', 'plugins/modules/server_group.py', 'plugins/modules/host_aggregate.py', 'plugins/modules/volume_backup.py', 'plugins/modules/lb_pool.py', 'plugins/modules/subnet.py', 'plugins/modules/compute_service_info.py', 'plugins/modules/config.py', 'plugins/modules/volume_info.py', 'plugins/modules/baremetal_port.py', 'plugins/modules/compute_flavor_info.py', 'plugins/modules/security_group.py', 'plugins/modules/catalog_service.py', 'plugins/modules/volume_snapshot.py', 'plugins/modules/recordset.py', 'plugins/modules/server_action.py', 'plugins/modules/routers_info.py', 'plugins/modules/address_scope.py', 'plugins/modules/coe_cluster.py', 'plugins/modules/server_volume.py', 'plugins/modules/port_info.py', 'plugins/modules/stack.py', 'plugins/modules/port.py', 'plugins/modules/floating_ip.py', 'plugins/modules/identity_domain_info.py', 'plugins/modules/dns_zone.py', 'plugins/modules/dns_zone_info.py', 'plugins/modules/loadbalancer.py', 'plugins/modules/baremetal_port_info.py', 'plugins/modules/quota.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0215e2a5d4690464faf04ca546dd91048642dd44', 'message': 'Dropped default module options\n\nRemoved default=None, type=\'str\' and required=False from all module\'s\nargument_specs with\n\nsed -i \\\n    -e \'s/default=None, //g\' \\\n    -e \'s/default=None,//g\' \\\n    -e \'s/default=None//g\' \\\n    -e ""s/type=\'str\', //g"" \\\n    -e ""s/type=\'str\',//g"" \\\n    -e ""s/type=\'str\'//g"" \\\n    -e \'s/required=False, //g\' \\\n    -e \'s/required=False,//g\' \\\n    -e \'s/required=False//g\' \\\n    plugins/modules/*.py plugins/module_utils/*.py\n\nand manually cleaned the results because those options values are the\ndefault in Ansible.\n\nRef.: https://docs.ansible.com/ansible/latest/dev_guide/developing_program_flow_modules.html#argument-spec\n\nChange-Id: Icbc3bb84269d3b8205fac259300902ebdaf6a3ae\n'}]",2,851208,0215e2a5d4690464faf04ca546dd91048642dd44,9,4,1,32962,,,0,"Dropped default module options

Removed default=None, type='str' and required=False from all module's
argument_specs with

sed -i \
    -e 's/default=None, //g' \
    -e 's/default=None,//g' \
    -e 's/default=None//g' \
    -e ""s/type='str', //g"" \
    -e ""s/type='str',//g"" \
    -e ""s/type='str'//g"" \
    -e 's/required=False, //g' \
    -e 's/required=False,//g' \
    -e 's/required=False//g' \
    plugins/modules/*.py plugins/module_utils/*.py

and manually cleaned the results because those options values are the
default in Ansible.

Ref.: https://docs.ansible.com/ansible/latest/dev_guide/developing_program_flow_modules.html#argument-spec

Change-Id: Icbc3bb84269d3b8205fac259300902ebdaf6a3ae
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/08/851208/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/floating_ip_info.py', 'plugins/modules/project.py', 'plugins/modules/security_group_rule.py', 'plugins/modules/server_info.py', 'plugins/modules/baremetal_node_info.py', 'plugins/modules/identity_domain.py', 'plugins/modules/subnet_pool.py', 'plugins/modules/server.py', 'plugins/module_utils/ironic.py', 'plugins/modules/project_access.py', 'plugins/modules/identity_group.py', 'plugins/modules/security_group_info.py', 'plugins/modules/identity_role_info.py', 'plugins/modules/volume_backup_info.py', 'plugins/modules/volume.py', 'plugins/modules/lb_member.py', 'plugins/modules/network.py', 'plugins/modules/image_info.py', 'plugins/modules/identity_user.py', 'plugins/modules/baremetal_inspect.py', 'plugins/modules/project_info.py', 'plugins/modules/stack_info.py', 'plugins/modules/baremetal_node.py', 'plugins/modules/keypair.py', 'plugins/modules/object.py', 'plugins/modules/keypair_info.py', 'plugins/modules/identity_user_info.py', 'plugins/modules/lb_listener.py', 'plugins/modules/security_group_rule_info.py', 'plugins/modules/endpoint.py', 'plugins/modules/router.py', 'plugins/module_utils/openstack.py', 'plugins/modules/subnets_info.py', 'plugins/modules/identity_group_info.py', 'plugins/modules/baremetal_node_action.py', 'plugins/modules/lb_health_monitor.py', 'plugins/modules/volume_snapshot_info.py', 'plugins/modules/compute_flavor.py', 'plugins/modules/image.py', 'plugins/modules/networks_info.py', 'plugins/modules/object_container.py', 'plugins/modules/role_assignment.py', 'plugins/modules/coe_cluster_template.py', 'plugins/modules/server_group.py', 'plugins/modules/host_aggregate.py', 'plugins/modules/volume_backup.py', 'plugins/modules/lb_pool.py', 'plugins/modules/subnet.py', 'plugins/modules/compute_service_info.py', 'plugins/modules/config.py', 'plugins/modules/volume_info.py', 'plugins/modules/baremetal_port.py', 'plugins/modules/compute_flavor_info.py', 'plugins/modules/security_group.py', 'plugins/modules/catalog_service.py', 'plugins/modules/volume_snapshot.py', 'plugins/modules/recordset.py', 'plugins/modules/server_action.py', 'plugins/modules/routers_info.py', 'plugins/modules/address_scope.py', 'plugins/modules/coe_cluster.py', 'plugins/modules/server_volume.py', 'plugins/modules/port_info.py', 'plugins/modules/stack.py', 'plugins/modules/port.py', 'plugins/modules/floating_ip.py', 'plugins/modules/identity_domain_info.py', 'plugins/modules/dns_zone.py', 'plugins/modules/dns_zone_info.py', 'plugins/modules/loadbalancer.py', 'plugins/modules/baremetal_port_info.py', 'plugins/modules/quota.py']",72,0215e2a5d4690464faf04ca546dd91048642dd44,drop-default-options," backup_gigabytes=dict(type='int'), backups=dict(type='int'), cores=dict(type='int'), fixed_ips=dict(type='int'), floating_ips=dict(type='int', aliases=['compute_floating_ips']), floatingip=dict(type='int', aliases=['network_floating_ips']), gigabytes=dict(type='int'), gigabytes_types=dict(type='dict', default={}), injected_file_size=dict(type='int'), injected_files=dict(type='int'), injected_path_size=dict(type='int'), instances=dict(type='int'), key_pairs=dict(type='int', no_log=False), loadbalancer=dict(type='int'), metadata_items=dict(type='int'), network=dict(type='int'), per_volume_gigabytes=dict(type='int'), pool=dict(type='int'), port=dict(type='int'), project=dict(type='int'), properties=dict(type='int'), ram=dict(type='int'), rbac_policy=dict(type='int'), router=dict(type='int'), security_group_rule=dict(type='int'), security_group=dict(type='int'), server_group_members=dict(type='int'), server_groups=dict(type='int'), snapshots=dict(type='int'), snapshots_types=dict(type='dict', default={}), subnet=dict(type='int'), subnetpool=dict(type='int'), volumes=dict(type='int'), volumes_types=dict(type='dict', default={})"," backup_gigabytes=dict(required=False, type='int', default=None), backups=dict(required=False, type='int', default=None), cores=dict(required=False, type='int', default=None), fixed_ips=dict(required=False, type='int', default=None), floating_ips=dict(required=False, type='int', default=None, aliases=['compute_floating_ips']), floatingip=dict(required=False, type='int', default=None, aliases=['network_floating_ips']), gigabytes=dict(required=False, type='int', default=None), gigabytes_types=dict(required=False, type='dict', default={}), injected_file_size=dict(required=False, type='int', default=None), injected_files=dict(required=False, type='int', default=None), injected_path_size=dict(required=False, type='int', default=None), instances=dict(required=False, type='int', default=None), key_pairs=dict(required=False, type='int', default=None, no_log=False), loadbalancer=dict(required=False, type='int', default=None), metadata_items=dict(required=False, type='int', default=None), network=dict(required=False, type='int', default=None), per_volume_gigabytes=dict(required=False, type='int', default=None), pool=dict(required=False, type='int', default=None), port=dict(required=False, type='int', default=None), project=dict(required=False, type='int', default=None), properties=dict(required=False, type='int', default=None), ram=dict(required=False, type='int', default=None), rbac_policy=dict(required=False, type='int', default=None), router=dict(required=False, type='int', default=None), security_group_rule=dict(required=False, type='int', default=None), security_group=dict(required=False, type='int', default=None), server_group_members=dict(required=False, type='int', default=None), server_groups=dict(required=False, type='int', default=None), snapshots=dict(required=False, type='int', default=None), snapshots_types=dict(required=False, type='dict', default={}), subnet=dict(required=False, type='int', default=None), subnetpool=dict(required=False, type='int', default=None), volumes=dict(required=False, type='int', default=None), volumes_types=dict(required=False, type='dict', default={})",397,408
openstack%2Fnova~master~I5de15935e83823afa545a250cf84f6a7a37036b4,openstack/nova,master,I5de15935e83823afa545a250cf84f6a7a37036b4,"Add v2.91 microversion, allowing @ and dot (.) characters in keypair name",ABANDONED,2021-03-17 10:47:08.000000000,2022-07-27 13:30:36.000000000,,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32637}]","[{'number': 1, 'created': '2021-03-17 10:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/660508232d47d599d673e85ff7f5865af56e99fa', 'message': 'Allow @ and dot (.) characters in keypair name\n\nImplements: blueprint allow-special-characters-in-keypair-name\nChange-Id: I5de15935e83823afa545a250cf84f6a7a37036b4\n'}, {'number': 2, 'created': '2021-03-17 13:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a9d03013202da645f9bf9f5020ba709261d2c1b', 'message': 'Allow @ and dot (.) characters in keypair name\n\nImplements: blueprint allow-special-characters-in-keypair-name\nChange-Id: I5de15935e83823afa545a250cf84f6a7a37036b4\n'}, {'number': 3, 'created': '2021-03-17 14:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d64a59264a6e0138d0a39f495842c690f402398', 'message': 'Allow @ and dot (.) characters in keypair name\n\nImplements: blueprint allow-special-characters-in-keypair-name\nChange-Id: I5de15935e83823afa545a250cf84f6a7a37036b4\n'}, {'number': 4, 'created': '2021-11-23 08:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb0c2af281d7a65adccb0a1d51e089b67245ac51', 'message': 'Add v2.91 microversion, allowing @ and\ndot (.) characters in keypair name\n\nImplements: blueprint allow-special-characters-in-keypair-name\nChange-Id: I5de15935e83823afa545a250cf84f6a7a37036b4\n'}, {'number': 5, 'created': '2021-11-23 09:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a7aa8fce64d3174ece024a1e06588d6d89a9d61', 'message': 'Add v2.91 microversion, allowing @ and\ndot (.) characters in keypair name\n\nImplements: blueprint allow-special-characters-in-keypair-name\nChange-Id: I5de15935e83823afa545a250cf84f6a7a37036b4\n'}, {'number': 6, 'created': '2021-11-29 14:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b0cbc836acf00936bcc16250eee46c1dfb69939', 'message': 'Add v2.91 microversion, allowing @ and\ndot (.) characters in keypair name\n\nImplements: blueprint allow-special-characters-in-keypair-name\nChange-Id: I5de15935e83823afa545a250cf84f6a7a37036b4\n'}, {'number': 7, 'created': '2021-11-29 14:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d8dc7d0b7b03d0b99626ad1ae7bfd46bd9a4d15', 'message': 'Add v2.91 microversion, allowing @ and\ndot (.) characters in keypair name\n\nImplements: blueprint allow-special-characters-in-keypair-name\nChange-Id: I5de15935e83823afa545a250cf84f6a7a37036b4\n'}, {'number': 8, 'created': '2021-11-30 17:14:47.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/api/validation/validators.py', 'nova/api/openstack/compute/keypairs.py', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'doc/api_samples/os-keypairs/v2.91/keypairs-post-resp.json', 'nova/tests/unit/api/openstack/compute/test_keypairs.py', 'doc/api_samples/os-keypairs/v2.91/keypairs-list-user1-resp.json', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.91/keypairs-post-req.json.tpl', 'nova/api/validation/parameter_types.py', 'doc/api_samples/os-keypairs/v2.91/keypairs-list-resp.json', 'nova/api/openstack/compute/rest_api_version_history.rst', 'doc/api_samples/os-keypairs/v2.91/keypairs-post-req.json', 'nova/compute/api.py', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.91/keypairs-list-user2-resp.json.tpl', 'nova/tests/functional/api_sample_tests/test_keypairs.py', 'nova/tests/unit/compute/test_keypairs.py', 'api-ref/source/os-keypairs.inc', 'nova/api/openstack/compute/schemas/keypairs.py', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.91/keypairs-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.91/keypairs-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-keypairs/v2.91/keypairs-list-user1-resp.json.tpl', 'doc/api_samples/os-keypairs/v2.91/keypairs-list-user2-resp.json', 'releasenotes/notes/bp-allow-special-characters-in-keypair-name-4036e517d7bc9719.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/dec83049138cd856b099f907d2fe58a3695746e2', 'message': 'Add v2.91 microversion, allowing @ and\ndot (.) characters in keypair name\n\nImplements: blueprint allow-special-characters-in-keypair-name\nChange-Id: I5de15935e83823afa545a250cf84f6a7a37036b4\n'}]",28,781076,dec83049138cd856b099f907d2fe58a3695746e2,71,6,8,32637,,,0,"Add v2.91 microversion, allowing @ and
dot (.) characters in keypair name

Implements: blueprint allow-special-characters-in-keypair-name
Change-Id: I5de15935e83823afa545a250cf84f6a7a37036b4
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/781076/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/notification_sample_tests/test_keypair.py', 'doc/notification_samples/common_payloads/InstanceCreatePayload.json', 'doc/notification_samples/common_payloads/KeypairPayload.json', 'doc/notification_samples/common_payloads/InstancePayload.json', 'nova/tests/unit/compute/test_keypairs.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_compute_utils.py']",8,660508232d47d599d673e85ff7f5865af56e99fa,contrib-at-sign," keypair = objects.KeyPair(name='my-key@my.host', user_id='fake', type='ssh', {'name': 'my-key@my.host',"," keypair = objects.KeyPair(name='my-key', user_id='fake', type='ssh', {'name': 'my-key',",26,17
openstack%2Fglance-tempest-plugin~master~I5b1c552b8de2f29be1cd065d4a35ff706993de5c,openstack/glance-tempest-plugin,master,I5b1c552b8de2f29be1cd065d4a35ff706993de5c,Refactor rbac metadef tests structure,MERGED,2022-05-17 14:09:04.000000000,2022-07-27 12:54:04.000000000,2022-07-27 12:54:04.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 14:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/a85a080153fedc81c3bcbbaf2e3b3a60db806a32', 'message': 'Refactor rbac metadef tests structure\n\nChange-Id: I5b1c552b8de2f29be1cd065d4a35ff706993de5c\n'}, {'number': 2, 'created': '2022-05-18 05:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/2eec4817bf06c15c975cb94adbafec18ee10fb9b', 'message': 'Refactor rbac metadef tests structure\n\nChange-Id: I5b1c552b8de2f29be1cd065d4a35ff706993de5c\n'}, {'number': 3, 'created': '2022-06-29 07:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/7031d1014c57615eae4c80339513433ddccba33a', 'message': 'Refactor rbac metadef tests structure\n\nChange-Id: I5b1c552b8de2f29be1cd065d4a35ff706993de5c\n'}, {'number': 4, 'created': '2022-06-29 09:56:14.000000000', 'files': ['glance_tempest_plugin/tests/rbac/v2/base.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_reader_tests.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_objects.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_tags.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_admin_tests.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_members_tests.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_resource_types.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_namespaces.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_properties.py'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/efdd6972f21b14e531ba0f42f2b32def12dac940', 'message': 'Refactor rbac metadef tests structure\n\nChange-Id: I5b1c552b8de2f29be1cd065d4a35ff706993de5c\n'}]",9,842117,efdd6972f21b14e531ba0f42f2b32def12dac940,16,4,4,19138,,,0,"Refactor rbac metadef tests structure

Change-Id: I5b1c552b8de2f29be1cd065d4a35ff706993de5c
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/17/842117/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance_tempest_plugin/tests/rbac/v2/base.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_reader_tests.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_objects.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_admin_tests.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_members_tests.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_resource_types.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_namespaces.py', 'glance_tempest_plugin/tests/rbac/v2/metadefs/test_properties.py']",8,a85a080153fedc81c3bcbbaf2e3b3a60db806a32,refactor-rbac-tests,,"# Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest.lib.common.utils import data_utils from tempest.lib import exceptions from glance_tempest_plugin.tests.rbac.v2 import base as rbac_base class MetadefV2RbacPropertiesTest(rbac_base.RbacMetadefBase): @classmethod def setup_clients(cls): super(MetadefV2RbacPropertiesTest, cls).setup_clients() if 'project_member' in cls.credentials: persona = 'project_member' alt_persona = 'project_alt_member' elif 'project_reader' in cls.credentials: persona = 'project_reader' alt_persona = 'project_alt_reader' else: persona = 'project_admin' alt_persona = 'project_alt_admin' cls.persona = getattr(cls, 'os_%s' % persona) cls.alt_persona = getattr(cls, 'os_%s' % alt_persona) cls.project_id = cls.persona.namespaces_client.project_id cls.alt_project_id = cls.alt_persona.namespaces_client.project_id cls.properties_client = cls.persona.namespace_properties_client def create_properties(self): # Create namespace for two different projects namespaces = self.create_namespaces() namespace_properties = [] for ns in namespaces: alt_client = None if ns['namespace'].startswith(self.alt_project_id): alt_client = \ self.os_project_alt_admin.namespace_properties_client client = alt_client if alt_client is None: client = self.os_project_admin.namespace_properties_client property_name = ""prop_of_%s"" % (ns['namespace']) namespace_property = client.create_namespace_property( ns['namespace'], name=property_name, title='property', type='integer') prop = {'namespace': ns, 'property': namespace_property} namespace_properties.append(prop) return namespace_properties def assertPropertyList(self, actual_prop, client, owner=None): ns = actual_prop['namespace'] if owner: if not (ns['visibility'] == 'public' or ns['owner'] == owner): resp = self.do_request('list_namespace_properties', expected_status=exceptions.NotFound, client=client, namespace=ns['namespace']) else: resp = self.do_request('list_namespace_properties', expected_status=200, client=client, namespace=ns['namespace']) self.assertEqual(actual_prop['property']['name'], [*resp['properties']][0]) else: resp = self.do_request('list_namespace_properties', expected_status=200, client=client, namespace=ns['namespace']) self.assertEqual(actual_prop['property']['name'], [*resp['properties']][0]) class MetadefV2RbacPropertiesTemplate(metaclass=abc.ABCMeta): @abc.abstractmethod def test_create_property(self): """"""Test add_metadef_property policy."""""" pass @abc.abstractmethod def test_get_properties(self): """"""Test get_metadef_property policy."""""" pass @abc.abstractmethod def test_list_properties(self): """"""Test list_metadef_properties policy."""""" pass @abc.abstractmethod def test_update_properties(self): """"""Test update_metadef_property policy."""""" pass @abc.abstractmethod def test_delete_properties(self): """"""Test delete_metadef_property policy."""""" pass class ProjectAdminTests(MetadefV2RbacPropertiesTest, MetadefV2RbacPropertiesTemplate): credentials = ['project_admin', 'project_alt_admin', 'primary'] def test_create_property(self): # As this is been covered in other tests for admin role, # skipping to test only create properties separately. pass def test_get_properties(self): ns_properties = self.create_properties() # Get all metadef properties with admin role of 'project' for prop in ns_properties: resp = self.do_request( 'show_namespace_properties', expected_status=200, client=self.properties_client, namespace=prop['namespace']['namespace'], property_name=prop['property']['name']) self.assertEqual(prop['property'], resp) def test_list_properties(self): ns_properties = self.create_properties() # list all metadef properties with admin role of 'project' for prop in ns_properties: self.assertPropertyList(prop, self.properties_client) def test_update_properties(self): ns_properties = self.create_properties() # update all metadef properties with admin role of 'project' for prop in ns_properties: resp = self.do_request( 'update_namespace_properties', expected_status=200, namespace=prop['namespace']['namespace'], client=self.properties_client, title=""UPDATE_Property"", property_name=prop['property']['name'], name=prop['property']['name'], type=""string"") self.assertNotEqual(prop['property']['title'], resp['title']) def test_delete_properties(self): ns_properties = self.create_properties() # delete all metadef properties with admin role of 'project' for prop in ns_properties: self.do_request('delete_namespace_property', expected_status=204, namespace=prop['namespace']['namespace'], property_name=prop['property']['name'], client=self.properties_client) # Verify the property is deleted successfully self.do_request('show_namespace_properties', expected_status=exceptions.NotFound, client=self.properties_client, namespace=prop['namespace']['namespace'], property_name=prop['property']['name']) class ProjectMemberTests(MetadefV2RbacPropertiesTest, MetadefV2RbacPropertiesTemplate): credentials = ['project_member', 'project_alt_member', 'project_admin', 'project_alt_admin', 'primary'] def test_create_property(self): namespaces = self.create_namespaces() def assertPropertyCreate(namespace, client, owner=None): property_name = ""prop_of_%s"" % (namespace['namespace']) expected_status = exceptions.Forbidden if not (namespace['visibility'] == 'public' or namespace['owner'] == owner): expected_status = exceptions.NotFound self.do_request('create_namespace_property', expected_status=expected_status, namespace=namespace['namespace'], title=""property"", type='integer', name=property_name, client=client) # Make sure non admin role of 'project' forbidden to # create properties for namespace in namespaces: assertPropertyCreate(namespace, self.properties_client, self.project_id) def test_get_properties(self): ns_properties = self.create_properties() def assertPropertyGet(actual_prop, client, owner=None): ns = actual_prop['namespace'] expected_status = 200 if (ns['visibility'] != 'public' and ns['owner'] != owner): expected_status = exceptions.NotFound self.do_request('show_namespace_properties', expected_status=expected_status, namespace=ns['namespace'], property_name=actual_prop['property']['name'], client=client) # Get property - member role from 'project' can access all # properties of it's own & only propertys having public namespace of # 'alt_project' for prop in ns_properties: assertPropertyGet(prop, self.properties_client, self.project_id) def test_list_properties(self): ns_properties = self.create_properties() # list properties - member role from 'project' can access all # properties of it's own & only propertys having public namespace of # 'alt_project' for prop in ns_properties: self.assertPropertyList(prop, self.properties_client, self.project_id) def test_update_properties(self): ns_properties = self.create_properties() def assertPropertyUpdate(actual_prop, client, owner=None): ns = actual_prop['namespace'] expected_status = exceptions.Forbidden if (ns['visibility'] != 'public' and ns['owner'] != owner): expected_status = exceptions.NotFound self.do_request('update_namespace_properties', expected_status=expected_status, name=actual_prop['property']['name'], description=data_utils.arbitrary_string(), namespace=ns['namespace'], property_name=actual_prop['property']['name'], title=""UPDATE_Property"", type=""string"", client=client) # Make sure non admin role of 'project' not allowed to # update properties for prop in ns_properties: assertPropertyUpdate(prop, self.properties_client, self.project_id) def test_delete_properties(self): ns_properties = self.create_properties() def assertPropertyDelete(actual_prop, client, owner=None): ns = actual_prop['namespace'] expected_status = exceptions.Forbidden if (ns['visibility'] != 'public' and ns['owner'] != owner): expected_status = exceptions.NotFound self.do_request('delete_namespace_property', expected_status=expected_status, namespace=ns['namespace'], property_name=actual_prop['property']['name'], client=client) # Make sure non admin role of 'project' not allowed to # delete properties for prop in ns_properties: assertPropertyDelete(prop, self.properties_client, self.project_id) class ProjectReaderTests(ProjectMemberTests): credentials = ['project_reader', 'project_alt_reader', 'project_admin', 'project_alt_admin', 'primary'] ",1023,1102
openstack%2Freleases~master~I48353ab52f4f13d514a9d233055ec8e989e03f2f,openstack/releases,master,I48353ab52f4f13d514a9d233055ec8e989e03f2f,Release ironic-lib for stable/wallaby,MERGED,2022-06-28 08:46:17.000000000,2022-07-27 12:31:46.000000000,2022-07-27 12:31:46.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-28 08:46:17.000000000', 'files': ['deliverables/wallaby/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/24b61a72649ad581b32636626700eaaa3e86bf61', 'message': 'Release ironic-lib for stable/wallaby\n\nThis release picks up new commits to ironic-lib since\nthe last release from stable/wallaby.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.6.3..27305f0\n27305f0 Use a pre-defined partition UUID to detect configdrive on GPT\n917255a Add platform:base-py[2|3] to bindep\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I48353ab52f4f13d514a9d233055ec8e989e03f2f\n'}]",1,847912,24b61a72649ad581b32636626700eaaa3e86bf61,9,6,1,17685,,,0,"Release ironic-lib for stable/wallaby

This release picks up new commits to ironic-lib since
the last release from stable/wallaby.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.6.3..27305f0
27305f0 Use a pre-defined partition UUID to detect configdrive on GPT
917255a Add platform:base-py[2|3] to bindep

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I48353ab52f4f13d514a9d233055ec8e989e03f2f
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/847912/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic-lib.yaml'],1,24b61a72649ad581b32636626700eaaa3e86bf61,wallaby-stable, - version: 4.6.4 projects: - repo: openstack/ironic-lib hash: 27305f013923db12d5a5b153ab10caa0046c3d6f,,4,0
openstack%2Freleases~master~Icb9f052391dfeb13920238ae995876fe0120c92a,openstack/releases,master,Icb9f052391dfeb13920238ae995876fe0120c92a,Release networking-generic-switch for stable/wallaby,MERGED,2022-06-28 09:16:49.000000000,2022-07-27 12:31:41.000000000,2022-07-27 12:31:41.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-28 09:16:49.000000000', 'files': ['deliverables/wallaby/networking-generic-switch.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/18f7f070c43a7586b542246da7015065bd5cc99c', 'message': 'Release networking-generic-switch for stable/wallaby\n\nThis release picks up new commits to networking-generic-switch since\nthe last release from stable/wallaby.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 5.0.0..9dc0030\n9dc0030 Fix command syntax in Juniper driver\n9399c69 Update TOX_CONSTRAINTS_FILE for stable/wallaby\na3340ab Update .gitreview for stable/wallaby\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Icb9f052391dfeb13920238ae995876fe0120c92a\n'}]",1,847925,18f7f070c43a7586b542246da7015065bd5cc99c,9,6,1,17685,,,0,"Release networking-generic-switch for stable/wallaby

This release picks up new commits to networking-generic-switch since
the last release from stable/wallaby.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 5.0.0..9dc0030
9dc0030 Fix command syntax in Juniper driver
9399c69 Update TOX_CONSTRAINTS_FILE for stable/wallaby
a3340ab Update .gitreview for stable/wallaby

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Icb9f052391dfeb13920238ae995876fe0120c92a
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/847925/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/networking-generic-switch.yaml'],1,18f7f070c43a7586b542246da7015065bd5cc99c,wallaby-stable, - version: 5.0.1 projects: - repo: openstack/networking-generic-switch hash: 9dc003025bb8d2f1a73264acb1fcc7260a98d22c,,4,0
openstack%2Fopenstack-ansible~master~I0d14d84439c32200aa0052e0fbb10a4c03d6b56c,openstack/openstack-ansible,master,I0d14d84439c32200aa0052e0fbb10a4c03d6b56c,Update master for stable/yoga,MERGED,2022-06-23 06:33:55.000000000,2022-07-27 12:31:22.000000000,2022-07-27 12:29:48.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-23 06:33:55.000000000', 'files': ['releasenotes/source/yoga.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cc18f399f7c2c7282c81fa7f1d324c35dbb66bf1', 'message': 'Update master for stable/yoga\n\nAdd file to the reno documentation build to show release notes for\nstable/yoga.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/yoga.\n\nSem-Ver: feature\nChange-Id: I0d14d84439c32200aa0052e0fbb10a4c03d6b56c\n'}]",2,847244,cc18f399f7c2c7282c81fa7f1d324c35dbb66bf1,12,3,1,22816,,,0,"Update master for stable/yoga

Add file to the reno documentation build to show release notes for
stable/yoga.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/yoga.

Sem-Ver: feature
Change-Id: I0d14d84439c32200aa0052e0fbb10a4c03d6b56c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/44/847244/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/yoga.rst', 'releasenotes/source/index.rst']",2,cc18f399f7c2c7282c81fa7f1d324c35dbb66bf1,reno-yoga, yoga,,7,0
openstack%2Fnova~master~I9e95428c208582741e6cd99bd3260d6742fcc6b7,openstack/nova,master,I9e95428c208582741e6cd99bd3260d6742fcc6b7,Allow unshelve to a specific host (REST API part),MERGED,2022-06-15 08:33:59.000000000,2022-07-27 12:30:51.000000000,2022-07-27 11:45:00.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-06-15 08:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39655130a36ec36ad6902f5216c60e81070d7b24', 'message': 'Allow unshelve to a specific host (REST API part)\n\nThis adds support to the REST API, in a new microversion, for specifying\na destination host to unshelve server action when the server\nis shelved offloaded.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\nChange-Id: I9e95428c208582741e6cd99bd3260d6742fcc6b7\n'}, {'number': 2, 'created': '2022-06-24 14:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b90b757784a720c1a9551bc1246e51e4aabf49f7', 'message': 'Allow unshelve to a specific host (REST API part)\n\nThis adds support to the REST API, in a new microversion, for specifying\na destination host to unshelve server action when the server\nis shelved offloaded.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\nChange-Id: I9e95428c208582741e6cd99bd3260d6742fcc6b7\n'}, {'number': 3, 'created': '2022-06-24 14:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/752a8cd134b97609b6d895b9f4205dc164ef0994', 'message': 'Allow unshelve to a specific host (REST API part)\n\nThis adds support to the REST API, in a new microversion, for specifying\na destination host to unshelve server action when the server\nis shelved offloaded.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\nChange-Id: I9e95428c208582741e6cd99bd3260d6742fcc6b7\n'}, {'number': 4, 'created': '2022-06-30 14:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6767307915df99006cdfec997a0b42e2303b368', 'message': 'Allow unshelve to a specific host (REST API part)\n\nThis adds support to the REST API, in a new microversion, for specifying\na destination host to unshelve server action when the server\nis shelved offloaded.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\nChange-Id: I9e95428c208582741e6cd99bd3260d6742fcc6b7\n'}, {'number': 5, 'created': '2022-07-19 13:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1556f423d62772230c741c7aa29756e54b2b875b', 'message': 'Allow unshelve to a specific host (REST API part)\n\nThis adds support to the REST API, in a new microversion, for specifying\na destination host to unshelve server action when the server\nis shelved offloaded.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\nChange-Id: I9e95428c208582741e6cd99bd3260d6742fcc6b7\n'}, {'number': 6, 'created': '2022-07-21 17:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/087428070a7be9d9ba9a0859ea17f4cbc5b7127e', 'message': 'Allow unshelve to a specific host (REST API part)\n\nThis adds support to the REST API, in a new microversion, for specifying\na destination host to unshelve server action when the server\nis shelved offloaded.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\nChange-Id: I9e95428c208582741e6cd99bd3260d6742fcc6b7\n'}, {'number': 7, 'created': '2022-07-21 17:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef4722a6d7890b90e3f813bc25673419964b3e30', 'message': 'Allow unshelve to a specific host (REST API part)\n\nThis adds support to the REST API, in a new microversion, for specifying\na destination host to unshelve server action when the server\nis shelved offloaded.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\nChange-Id: I9e95428c208582741e6cd99bd3260d6742fcc6b7\n'}, {'number': 8, 'created': '2022-07-22 08:23:07.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-az-host.json.tpl', 'nova/api/openstack/compute/shelve.py', 'nova/tests/functional/test_availability_zones.py', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.77/os-unshelve.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-shelve.json.tpl', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'doc/api_samples/os-shelve/v2.91/os-unshelve-unpin-az.json', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-unpin-az.json.tpl', 'nova/tests/unit/test_policy.py', 'releasenotes/notes/bp-unshelve_to_host-c9047d518eb67747.yaml', 'doc/api_samples/os-shelve/v2.91/os-unshelve-host-and-unpin-az.json', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/api/openstack/compute/schemas/shelve.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/compute/api.py', 'api-ref/source/servers-action-shelve.inc', 'doc/api_samples/os-shelve/v2.91/os-unshelve-az-host.json', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-az.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-host-and-unpin-az.json.tpl', 'doc/api_samples/os-shelve/v2.91/os-unshelve-host.json', 'nova/policies/shelve.py', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-host.json.tpl', 'doc/api_samples/os-shelve/v2.77/os-unshelve-az.json', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.77/os-unshelve-az.json.tpl', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/api_sample_tests/test_shelve.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/09239fc2eadcf266b42c640e386c7cebad715eea', 'message': 'Allow unshelve to a specific host (REST API part)\n\nThis adds support to the REST API, in a new microversion, for specifying\na destination host to unshelve server action when the server\nis shelved offloaded.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\nChange-Id: I9e95428c208582741e6cd99bd3260d6742fcc6b7\n'}]",150,845897,09239fc2eadcf266b42c640e386c7cebad715eea,76,4,8,16207,,,0,"Allow unshelve to a specific host (REST API part)

This adds support to the REST API, in a new microversion, for specifying
a destination host to unshelve server action when the server
is shelved offloaded.
This patch also supports the ability to unpin the availability_zone of an
instance that is bound to it.

Note that the functional test changes are due to those tests using the
""latest"" microversion 2.91.

Implements: blueprint unshelve-to-host
Change-Id: I9e95428c208582741e6cd99bd3260d6742fcc6b7
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/845897/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-az-host.json.tpl', 'nova/api/openstack/compute/shelve.py', 'nova/tests/functional/test_availability_zones.py', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-shelve.json.tpl', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'doc/api_samples/os-shelve/v2.91/os-unshelve-unpin-az.json', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-unpin-az.json.tpl', 'releasenotes/notes/bp-unshelve_to_host-c9047d518eb67747.yaml', 'doc/api_samples/os-shelve/v2.91/os-unshelve-host-and-unpin-az.json', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/api/openstack/compute/schemas/shelve.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'api-ref/source/servers-action-shelve.inc', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-null.json.tpl', 'doc/api_samples/os-shelve/v2.91/os-unshelve-az-host.json', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-host-and-unpin-az.json.tpl', 'doc/api_samples/os-shelve/v2.91/os-unshelve-host.json', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-host.json.tpl', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/api_sample_tests/test_shelve.py']",24,39655130a36ec36ad6902f5216c60e81070d7b24,bp/unshelve-to-host,"from nova import objectsfrom oslo_utils.fixture import uuidsentinel from oslo_utils import timeutils from unittest import mockNOW = timeutils.utcnow().replace(microsecond=0) fake_aggregate = { 'deleted': 0, 'deleted_at': None, 'created_at': NOW, 'updated_at': None, 'id': 123, 'uuid': uuidsentinel.fake_aggregate, 'name': 'us-west', 'hosts': ['server01'], 'metadetails': {'availability_zone': 'us-west'}, } self._test_server_action( uuid, 'os-unshelve', 'unshelve', subs={""availability_zone"": ""us-west""} ) class UnshelveJson291Test(test_servers.ServersSampleBase): ADMIN_API = True sample_dir = ""os-shelve"" microversion = '2.91' scenarios = [('v2_91', {'api_major_version': 'v2.1'})] def _test_server_action(self, uuid, template, action, subs=None): subs = subs or {} subs.update({'action': action}) response = self._do_post( 'servers/%s/action' % uuid, template, subs) self.assertEqual(202, response.status_code) self.assertEqual('', response.text) def _test_server_action_invalid( self, uuid, template, action, subs=None, msg=None): subs = subs or {} subs.update({'action': action}) response = self._do_post('servers/%s/action' % uuid, template, subs) self.assertEqual(400, response.status_code) self.assertIn(msg, response.text) def test_unshelve_with_az(self): uuid = self._post_server() self._test_server_action(uuid, 'os-shelve', 'shelve') self._test_server_action( uuid, 'os-unshelve', 'unshelve', subs={""availability_zone"": ""us-west""} ) def test_unshelve_no_az(self): uuid = self._post_server() self._test_server_action(uuid, 'os-shelve', 'shelve') self._test_server_action(uuid, 'os-unshelve-null', 'unshelve') def test_unshelve_with_non_valid_host(self): """"""Ensure an exception rise if host is invalid and a http 400 error """""" uuid = self._post_server() self._test_server_action(uuid, 'os-shelve', 'shelve') self._test_server_action_invalid( uuid, 'os-unshelve-host', 'unshelve', subs={'host': 'server01'}, msg='Compute host server01 could not be found.') @mock.patch('nova.objects.aggregate._get_by_host_from_db') @mock.patch('nova.objects.ComputeNodeList.get_all_by_host') def test_unshelve_with_valid_host( self, compute_node_get_all_by_host, mock_api_get_by_host): """"""Ensure we can unshelve to a host """""" # Put compute in the correct az mock_api_get_by_host.return_value = [fake_aggregate] uuid = self._post_server() self._test_server_action(uuid, 'os-shelve', 'shelve') fake_computes = objects.ComputeNodeList( objects=[ objects.ComputeNode( host='server01', uuid=uuidsentinel.host1, hypervisor_hostname='server01') ] ) compute_node_get_all_by_host.return_value = fake_computes self._test_server_action( uuid, 'os-unshelve-host', 'unshelve', subs={'host': 'server01'} ) @mock.patch('nova.objects.aggregate._get_by_host_from_db') @mock.patch('nova.objects.ComputeNodeList.get_all_by_host') def test_unshelve_with_az_and_host( self, compute_node_get_all_by_host, mock_api_get_by_host): """"""Ensure we can unshelve to a host and az """""" # Put compute in the correct az mock_api_get_by_host.return_value = [fake_aggregate] uuid = self._post_server() self._test_server_action(uuid, 'os-shelve', 'shelve') fake_computes = objects.ComputeNodeList( objects=[ objects.ComputeNode( host='server01', uuid=uuidsentinel.host1, hypervisor_hostname='server01') ] ) compute_node_get_all_by_host.return_value = fake_computes self._test_server_action( uuid, 'os-unshelve-host', 'unshelve', subs={'host': 'server01', 'availability_zone': 'us-west'}, ) @mock.patch('nova.objects.aggregate._get_by_host_from_db') @mock.patch('nova.objects.ComputeNodeList.get_all_by_host') def test_unshelve_with_unpin_az_and_host( self, compute_node_get_all_by_host, mock_api_get_by_host): """"""Ensure we can unshelve to a host and az """""" # Put compute in the correct az mock_api_get_by_host.return_value = [fake_aggregate] uuid = self._post_server() self._test_server_action(uuid, 'os-shelve', 'shelve') fake_computes = objects.ComputeNodeList( objects=[ objects.ComputeNode( host='server01', uuid=uuidsentinel.host1, hypervisor_hostname='server01') ] ) compute_node_get_all_by_host.return_value = fake_computes self._test_server_action( uuid, 'os-unshelve-host-and-unpin-az', 'unshelve', subs={'host': 'server01'}, ) @mock.patch('nova.objects.aggregate._get_by_host_from_db') @mock.patch('nova.objects.ComputeNodeList.get_all_by_host') def test_unshelve_with_unpin_az( self, compute_node_get_all_by_host, mock_api_get_by_host): """"""Ensure we can unpin an az """""" # Put compute in the correct az mock_api_get_by_host.return_value = [fake_aggregate] uuid = self._post_server() self._test_server_action(uuid, 'os-shelve', 'shelve') fake_computes = objects.ComputeNodeList( objects=[ objects.ComputeNode( host='server01', uuid=uuidsentinel.host1, hypervisor_hostname='server01') ] ) compute_node_get_all_by_host.return_value = fake_computes self._test_server_action( uuid, 'os-unshelve-unpin-az', 'unshelve', subs={'host': 'server01'}, ) class UnshelveJson291NonAdminTest(test_servers.ServersSampleBase): # Use non admin api credentials. ADMIN_API = False sample_dir = ""os-shelve"" microversion = '2.91' scenarios = [('v2_91', {'api_major_version': 'v2.1'})] def _test_server_action_invalid(self, uuid, template, action, subs=None): subs = subs or {} subs.update({'action': action}) response = self._do_post('servers/%s/action' % uuid, template, subs) self.assertEqual(403, response.status_code) self.assertIn( ""Policy doesn\'t allow os_compute_api:os-shelve:unshelve_to_host"" + "" to be performed."", response.text) def _test_server_action(self, uuid, template, action, subs=None): subs = subs or {} subs.update({'action': action}) response = self._do_post('servers/%s/action' % uuid, template, subs) self.assertEqual(202, response.status_code) self.assertEqual('', response.text) def test_unshelve_with_non_valid_host(self): """"""Ensure an exception rise if user is not admin. a http 403 error """""" uuid = self._post_server() self._test_server_action(uuid, 'os-shelve', 'shelve') self._test_server_action_invalid( uuid, 'os-unshelve-host', 'unshelve', subs={'host': 'server01'} )"," self._test_server_action(uuid, 'os-unshelve', 'unshelve', subs={""availability_zone"": ""us-west""})",1376,49
openstack%2Fovn-bgp-agent~master~I155288b7d07ca72d33cb7859ad32d8f27464b23d,openstack/ovn-bgp-agent,master,I155288b7d07ca72d33cb7859ad32d8f27464b23d,Ensure ovn-lb on provider networks only get exposed in one chassis,MERGED,2022-07-15 14:06:41.000000000,2022-07-27 12:27:45.000000000,2022-07-27 12:27:45.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-07-15 14:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/91eda27d62acc2cdd9082e7341c676995b080c8e', 'message': 'Ensure ovn-lb on provider networks only get exposed in one chassis\n\nThere was a problem where ovn-lb on provider networks were being\nexposed in any chassis having a cr-lrp connected to the provider\nnetwork where the ovn-lb is, breaking the bgp connectivity.\n\nThis patch ensures only the node with the cr-lrp whose associated\nsubnets (logical switches) are hosting the ovn-lb members are added.\n\nIt also ensure reaction to set and unset of routers gateway ports\ninto the provider networks, with regards to load balancer VIP\nBGP management.\n\nChange-Id: I155288b7d07ca72d33cb7859ad32d8f27464b23d\n'}, {'number': 2, 'created': '2022-07-18 07:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b76b72b1bfa6a1c3ff56a449cc9182e3e13b0427', 'message': 'Ensure ovn-lb on provider networks only get exposed in one chassis\n\nThere was a problem where ovn-lb on provider networks were being\nexposed in any chassis having a cr-lrp connected to the provider\nnetwork where the ovn-lb is, breaking the bgp connectivity.\n\nThis patch ensures only the node with the cr-lrp whose associated\nsubnets (logical switches) are hosting the ovn-lb members are added.\n\nIt also ensure reaction to set and unset of routers gateway ports\ninto the provider networks, with regards to load balancer VIP\nBGP management.\n\nChange-Id: I155288b7d07ca72d33cb7859ad32d8f27464b23d\n'}, {'number': 3, 'created': '2022-07-18 11:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6d687074beb845c09ebdc8b8d718e4f5243cdc3b', 'message': 'Ensure ovn-lb on provider networks only get exposed in one chassis\n\nThere was a problem where ovn-lb on provider networks were being\nexposed in any chassis having a cr-lrp connected to the provider\nnetwork where the ovn-lb is, breaking the bgp connectivity.\n\nThis patch ensures only the node with the cr-lrp whose associated\nsubnets (logical switches) are hosting the ovn-lb members are added.\n\nIt also ensure reaction to set and unset of routers gateway ports\ninto the provider networks, with regards to load balancer VIP\nBGP management.\n\nChange-Id: I155288b7d07ca72d33cb7859ad32d8f27464b23d\n'}, {'number': 4, 'created': '2022-07-19 16:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/3b99dd59d0e483450dbbf7c96eba495f3f5aa9b6', 'message': 'Ensure ovn-lb on provider networks only get exposed in one chassis\n\nThere was a problem where ovn-lb on provider networks were being\nexposed in any chassis having a cr-lrp connected to the provider\nnetwork where the ovn-lb is, breaking the bgp connectivity.\n\nThis patch ensures only the node with the cr-lrp whose associated\nsubnets (logical switches) are hosting the ovn-lb members are added.\n\nIt also ensure reaction to set and unset of routers gateway ports\ninto the provider networks, with regards to load balancer VIP\nBGP management.\n\nChange-Id: I155288b7d07ca72d33cb7859ad32d8f27464b23d\n'}, {'number': 5, 'created': '2022-07-19 16:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/59756c59798070c8fc2696df98d72adfc89b9816', 'message': 'Ensure ovn-lb on provider networks only get exposed in one chassis\n\nThere was a problem where ovn-lb on provider networks were being\nexposed in any chassis having a cr-lrp connected to the provider\nnetwork where the ovn-lb is, breaking the bgp connectivity.\n\nThis patch ensures only the node with the cr-lrp whose associated\nsubnets (logical switches) are hosting the ovn-lb members are added.\n\nIt also ensure reaction to set and unset of routers gateway ports\ninto the provider networks, with regards to load balancer VIP\nBGP management.\n\nChange-Id: I155288b7d07ca72d33cb7859ad32d8f27464b23d\n'}, {'number': 6, 'created': '2022-07-20 09:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/846c7e6df04e064505d4ccee515b9ca2620a85be', 'message': 'Ensure ovn-lb on provider networks only get exposed in one chassis\n\nThere was a problem where ovn-lb on provider networks were being\nexposed in any chassis having a cr-lrp connected to the provider\nnetwork where the ovn-lb is, breaking the bgp connectivity.\n\nThis patch ensures only the node with the cr-lrp whose associated\nsubnets (logical switches) are hosting the ovn-lb members are added.\n\nIt also ensure reaction to set and unset of routers gateway ports\ninto the provider networks, with regards to load balancer VIP\nBGP management.\n\nChange-Id: I155288b7d07ca72d33cb7859ad32d8f27464b23d\n'}, {'number': 7, 'created': '2022-07-22 08:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ea926a2b8f15a2d65923569e9ba35915ce96ad6e', 'message': 'Ensure ovn-lb on provider networks only get exposed in one chassis\n\nThere was a problem where ovn-lb on provider networks were being\nexposed in any chassis having a cr-lrp connected to the provider\nnetwork where the ovn-lb is, breaking the bgp connectivity.\n\nThis patch ensures only the node with the cr-lrp whose associated\nsubnets (logical switches) are hosting the ovn-lb members are added.\n\nIt also ensure reaction to set and unset of routers gateway ports\ninto the provider networks, with regards to load balancer VIP\nBGP management.\n\nChange-Id: I155288b7d07ca72d33cb7859ad32d8f27464b23d\n'}, {'number': 8, 'created': '2022-07-22 10:48:05.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py', 'ovn_bgp_agent/drivers/openstack/ovn_evpn_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_ovn_bgp_driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6f9a9458510d428d0a693ce69c8b6d38e9990d3e', 'message': 'Ensure ovn-lb on provider networks only get exposed in one chassis\n\nThere was a problem where ovn-lb on provider networks were being\nexposed in any chassis having a cr-lrp connected to the provider\nnetwork where the ovn-lb is, breaking the bgp connectivity.\n\nThis patch ensures only the node with the cr-lrp whose associated\nsubnets (logical switches) are hosting the ovn-lb members are added.\n\nIt also ensure reaction to set and unset of routers gateway ports\ninto the provider networks, with regards to load balancer VIP\nBGP management.\n\nChange-Id: I155288b7d07ca72d33cb7859ad32d8f27464b23d\n'}]",4,849838,6f9a9458510d428d0a693ce69c8b6d38e9990d3e,21,3,8,23567,,,0,"Ensure ovn-lb on provider networks only get exposed in one chassis

There was a problem where ovn-lb on provider networks were being
exposed in any chassis having a cr-lrp connected to the provider
network where the ovn-lb is, breaking the bgp connectivity.

This patch ensures only the node with the cr-lrp whose associated
subnets (logical switches) are hosting the ovn-lb members are added.

It also ensure reaction to set and unset of routers gateway ports
into the provider networks, with regards to load balancer VIP
BGP management.

Change-Id: I155288b7d07ca72d33cb7859ad32d8f27464b23d
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/38/849838/8 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/drivers/openstack/ovn_evpn_driver.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py']",4,91eda27d62acc2cdd9082e7341c676995b080c8e,unittests," return (not row.chassis and row.logical_port.startswith('lrp-') and ""chassis-redirect-port"" not in row.options.keys()) return (not row.chassis and row.logical_port.startswith('lrp-') and ""chassis-redirect-port"" in row.options.keys()) except AttributeError: # Also, the cr-lrp port needs to have subnet datapaths (LS) associated # to it that include the load balancer ovn_lb_cr_lrp = """" for cr_lrp_port, cr_lrp_info in self.agent.ovn_local_cr_lrps.items(): if cr_lrp_info.get('provider_datapath') not in row.datapaths: continue match_subnets_datapaths = [ subnet_dp for subnet_dp in cr_lrp_info[ 'subnets_datapaths'].values() if subnet_dp in row.datapaths or subnet_dp in old.datapaths] if match_subnets_datapaths: provider_dp = cr_lrp_info.get('provider_datapath') ovn_lb_cr_lrp = cr_lrp_port provider_dp, ovn_lb_cr_lrp) self.agent.withdraw_ovn_lb_on_provider(row.name, provider_dp, ovn_lb_cr_lrp)"," return (not row.chassis and row.logical_port.startswith('lrp-')) return (not row.chassis and row.logical_port.startswith('lrp-')) except (AttributeError): for cr_lrp in self.agent.ovn_local_cr_lrps.values(): if cr_lrp.get('provider_datapath') in row.datapaths: provider_dp = cr_lrp.get('provider_datapath') provider_dp) self.agent.withdraw_ovn_lb_on_provider(row.name, provider_dp)",221,137
openstack%2Fbarbican~master~I2b05b09e90c52aba47c547c2c836a4c73ff74a10,openstack/barbican,master,I2b05b09e90c52aba47c547c2c836a4c73ff74a10,Remove six,NEW,2022-04-27 10:20:16.000000000,2022-07-27 12:25:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 33543}]","[{'number': 1, 'created': '2022-04-27 10:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/74e104579e33e1ab793013800c3edc6f732539cd', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.string_types\n- six.binary_type\n- six.unichr\n- six.get_function_code\n- six.get_function_defaults\n- six.get_function_closure\n- six.u\n- six.moves\n- six.text_type\n\nChange-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10\n'}, {'number': 2, 'created': '2022-04-27 10:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c14a10a1f72bb3381442a9ebcd3313ec30f3f5fb', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.string_types\n- six.binary_type\n- six.unichr\n- six.get_function_code\n- six.get_function_defaults\n- six.get_function_closure\n- six.u\n- six.moves\n- six.text_type\n\nChange-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10\n'}, {'number': 3, 'created': '2022-04-27 10:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f22067d1510c27bd9da509850d2acbe01d5c9dc8', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.string_types\n- six.binary_type\n- six.unichr\n- six.get_function_code\n- six.get_function_defaults\n- six.get_function_closure\n- six.u\n- six.moves\n- six.text_type\n\nImplements: blueprint six-removal\nChange-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10\n'}, {'number': 4, 'created': '2022-04-27 11:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/2edf8ce4eccbb06cf77432de339846e8932bad86', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.string_types\n- six.binary_type\n- six.unichr\n- six.get_function_code\n- six.get_function_defaults\n- six.get_function_closure\n- six.u\n- six.moves\n- six.text_type\n\nImplements: blueprint six-removal\nChange-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10\n'}, {'number': 5, 'created': '2022-04-27 11:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c6e27a7828bfd3f67485b2a89c3051880441afe8', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.string_types\n- six.binary_type\n- six.unichr\n- six.get_function_code\n- six.get_function_defaults\n- six.get_function_closure\n- six.u\n- six.moves\n- six.text_type\n\nImplements: blueprint six-removal\nChange-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10\n'}, {'number': 6, 'created': '2022-04-27 11:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/282f11a192b753824e5e9a041296a31ca8f244d6', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.string_types\n- six.binary_type\n- six.unichr\n- six.get_function_code\n- six.get_function_defaults\n- six.get_function_closure\n- six.u\n- six.moves\n- six.text_type\n\nImplements: blueprint six-removal\nChange-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10\n'}, {'number': 7, 'created': '2022-04-27 11:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3dbb14a6f7ba5a0c1c47711b2ccadcf2377ac36e', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.string_types\n- six.binary_type\n- six.unichr\n- six.get_function_code\n- six.get_function_defaults\n- six.get_function_closure\n- six.u\n- six.moves\n- six.text_type\n\nImplements: blueprint six-removal\nChange-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10\n'}, {'number': 8, 'created': '2022-04-27 12:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/dde64a8a5009eda0df31e9b01d92ec1df2eef90f', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.string_types\n- six.binary_type\n- six.unichr\n- six.get_function_code\n- six.get_function_defaults\n- six.get_function_closure\n- six.u\n- six.moves\n- six.text_type\n\nImplements: blueprint six-removal\nChange-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10\n'}, {'number': 9, 'created': '2022-04-27 13:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/acfe9aa7d6eec39323c76723c6b836cc6080df11', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.string_types\n- six.binary_type\n- six.unichr\n- six.get_function_code\n- six.get_function_defaults\n- six.get_function_closure\n- six.u\n- six.moves\n- six.text_type\n\nImplements: blueprint six-removal\nChange-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10\n'}, {'number': 10, 'created': '2022-04-27 14:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7b60d9b7765666740d08f7d9edd5078a606e4290', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.string_types\n- six.binary_type\n- six.unichr\n- six.get_function_code\n- six.get_function_defaults\n- six.get_function_closure\n- six.u\n- six.moves\n- six.text_type\n\nImplements: blueprint six-removal\nChange-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10\n'}, {'number': 11, 'created': '2022-04-28 07:22:06.000000000', 'files': ['barbican/tests/common/test_utils.py', 'barbican/tests/model/repositories/test_repositories_consumers.py', 'barbican/tests/objects/test_ovo_project_secret_store.py', 'barbican/cmd/pkcs11_key_generation.py', 'barbican/common/validators.py', 'barbican/tests/api/test_transport_keys_resource.py', 'barbican/plugin/crypto/pkcs11.py', 'functionaltests/common/client.py', 'barbican/hacking/checks.py', 'requirements.txt', 'barbican/api/__init__.py', 'barbican/model/models.py', 'barbican/tests/common/test_validators.py', 'barbican/tests/plugin/crypto/test_crypto.py', 'barbican/tests/utils.py', 'barbican/tests/queue/test_server.py', 'functionaltests/api/v1/behaviors/base_behaviors.py', 'barbican/plugin/dogtag.py', 'barbican/api/controllers/acls.py', 'barbican/api/controllers/transportkeys.py', 'barbican/plugin/util/mime_types.py', 'barbican/tests/test_middleware_auth.py', '.zuul.yaml', 'barbican/common/utils.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/api/controllers/versions.py', 'barbican/tests/model/repositories/test_repositories_secret_consumers.py', 'barbican/plugin/castellan_secret_store.py', 'barbican/tests/model/repositories/test_repositories_secret_stores.py', 'barbican/plugin/util/translations.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/model/repositories/test_repositories.py', 'functionaltests/api/base.py', 'barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/common/test_quota.py', 'barbican/tests/tasks/test_resources.py', 'barbican/tests/plugin/interface/test_secret_store.py', 'barbican/api/controllers/secrets.py', 'barbican/objects/fields.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b69f10002ad391d6eac5918bbedb4d28568afe0c', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n- six.string_types\n- six.binary_type\n- six.unichr\n- six.get_function_code\n- six.get_function_defaults\n- six.get_function_closure\n- six.u\n- six.moves\n- six.text_type\n\nImplements: blueprint six-removal\nChange-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10\n'}]",21,839508,b69f10002ad391d6eac5918bbedb4d28568afe0c,28,2,11,23266,,,0,"Remove six

Remove six Replace the following items with Python 3 style code.
- six.string_types
- six.binary_type
- six.unichr
- six.get_function_code
- six.get_function_defaults
- six.get_function_closure
- six.u
- six.moves
- six.text_type

Implements: blueprint six-removal
Change-Id: I2b05b09e90c52aba47c547c2c836a4c73ff74a10
",git fetch https://review.opendev.org/openstack/barbican refs/changes/08/839508/5 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/common/test_utils.py', 'barbican/tests/model/repositories/test_repositories_consumers.py', 'barbican/tests/objects/test_ovo_project_secret_store.py', 'barbican/cmd/pkcs11_key_generation.py', 'barbican/common/validators.py', 'barbican/tests/api/test_transport_keys_resource.py', 'barbican/plugin/crypto/pkcs11.py', 'functionaltests/common/client.py', 'barbican/hacking/checks.py', 'requirements.txt', 'barbican/api/__init__.py', 'barbican/model/models.py', 'barbican/tests/common/test_validators.py', 'barbican/tests/plugin/crypto/test_crypto.py', 'barbican/tests/utils.py', 'barbican/tests/queue/test_server.py', 'functionaltests/api/v1/behaviors/base_behaviors.py', 'barbican/plugin/dogtag.py', 'barbican/api/controllers/acls.py', 'barbican/api/controllers/transportkeys.py', 'barbican/plugin/util/mime_types.py', 'barbican/tests/test_middleware_auth.py', 'barbican/common/utils.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/api/controllers/versions.py', 'barbican/tests/model/repositories/test_repositories_secret_consumers.py', 'barbican/plugin/castellan_secret_store.py', 'barbican/tests/model/repositories/test_repositories_secret_stores.py', 'barbican/plugin/util/translations.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/model/repositories/test_repositories.py', 'functionaltests/api/base.py', 'barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/common/test_quota.py', 'barbican/tests/tasks/test_resources.py', 'barbican/tests/plugin/interface/test_secret_store.py', 'barbican/api/controllers/secrets.py', 'barbican/objects/fields.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py']",39,74e104579e33e1ab793013800c3edc6f732539cd,," with mock.patch(builtins.__name__ + '.open',","import six with mock.patch(six.moves.builtins.__name__ + '.open',",117,157
openstack%2Fcinder~master~I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a,openstack/cinder,master,I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a,Report tri-state shared_targets for NVMe volumes,MERGED,2022-03-31 19:00:45.000000000,2022-07-27 12:03:17.000000000,2022-07-27 08:47:56.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-03-31 19:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/449a90ca52db48b266b19d57655b9ec2213a8cce', 'message': 'Report shared_targets for NVMe volumes\n\nNVMe-oF drivers that share the subsystem have the same race condition\nissue that iSCSI volumes that share targets do.\n\nThe race condition is caused by AER messages that trigger automatic\nrescans on the connector host side in both cases.\n\nFor iSCSI we added a feature on the Open-iSCSI project that allowed us\ndisabling these scans, and added support for it in os-brick.\n\nFor cases with old initiators where manual scans were not possible we\nadded the shared_targets volume field that let os-brick\'s\nguard_connection context manager know that it had to use a file lock for\nthe whole operation.\n\nThe problem we face now is that we also want to use the lock for NVMe-oF\nvolumes that share a subsystem for multiple namespaces, but passing True\nin shared_targets will not work if the iSCSI initiator supports manual\nscans (keep in mind that volumes don\'t expose the protocol, so os-brick\ncannot do different things for iSCSI and for NVMe-oF).\n\nAnd making guard_connection always lock when shared_targets is set to\nTrue will introduce the bottleneck from bug (#1800515).\n\nFor this reason we are forced to do a hack and make the shared_targets a\nweird tristate, where\n\n- True means that os-brick should lock if the iSCSI initiator present in\n  the host doesn\'t support manual scans.\n\n- False means that os-brick should never lock.\n\n- None means that os-brick should always lock.\n\nSince ""in theory"" Cinder was only returning True or False for the\n""shared_target"", we add a new microversion with number 3.69 that returns\nnull when the value is internally set to None.\n\nThe patch also updates the database with a migration, though it looks\nlike it\'s not necessary since the DB already allows null values, but it\nseems more correct to make sure that\'s always the case.\n\nRelated-Bug: #1961102\nChange-Id: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\n'}, {'number': 2, 'created': '2022-04-06 10:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33c55b9b509ed29762e27ed768bcc449fd818f5a', 'message': 'Report shared_targets for NVMe volumes\n\nNVMe-oF drivers that share the subsystem have the same race condition\nissue that iSCSI volumes that share targets do.\n\nThe race condition is caused by AER messages that trigger automatic\nrescans on the connector host side in both cases.\n\nFor iSCSI we added a feature on the Open-iSCSI project that allowed us\ndisabling these scans, and added support for it in os-brick.\n\nFor cases with old initiators where manual scans were not possible we\nadded the shared_targets volume field that let os-brick\'s\nguard_connection context manager know that it had to use a file lock for\nthe whole operation.\n\nThe problem we face now is that we also want to use the lock for NVMe-oF\nvolumes that share a subsystem for multiple namespaces, but passing True\nin shared_targets will not work if the iSCSI initiator supports manual\nscans (keep in mind that volumes don\'t expose the protocol, so os-brick\ncannot do different things for iSCSI and for NVMe-oF).\n\nAnd making guard_connection always lock when shared_targets is set to\nTrue will introduce the bottleneck from bug (#1800515).\n\nFor this reason we are forced to do a hack and make the shared_targets a\nweird tristate, where\n\n- True means that os-brick should lock if the iSCSI initiator present in\n  the host doesn\'t support manual scans.\n\n- False means that os-brick should never lock.\n\n- None means that os-brick should always lock.\n\nSince ""in theory"" Cinder was only returning True or False for the\n""shared_target"", we add a new microversion with number 3.69 that returns\nnull when the value is internally set to None.\n\nThe patch also updates the database with a migration, though it looks\nlike it\'s not necessary since the DB already allows null values, but it\nseems more correct to make sure that\'s always the case.\n\nRelated-Bug: #1961102\nChange-Id: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\n'}, {'number': 3, 'created': '2022-04-22 13:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/385d104abc6ec338d02d432e273b3ff7f8ca44eb', 'message': 'Report tri-state shared_targets for NVMe volumes\n\nNVMe-oF drivers that share the subsystem have the same race condition\nissue that iSCSI volumes that share targets do.\n\nThe race condition is caused by AER messages that trigger automatic\nrescans on the connector host side in both cases.\n\nFor iSCSI we added a feature on the Open-iSCSI project that allowed\ndisabling these scans, and added support for it in os-brick.\n\nSince manual scans is a new feature that may be missing in a host\'s\niSCSI client, cinder has a flag in volumes to indicate when they use\nshared targets.  Using that flag os-brick consumers can use the\n""guard_connection"" context manager to ensure race conditions don\'t\nhappen.\n\nThe race condition is prevented by os-brick using manual scans if they\nare available in the iSCSI client, or a file lock if not.\n\nThe problem we face now is that we also want to use the lock for NVMe-oF\nvolumes that share a subsystem for multiple namespaces (there is no way\nto disable automatic scans), but cinder doesn\'t (and shouldn\'t) expose\nthe actual storage protocol on the volume resource, so we need to\nleverage the ""shared_targets"" parameter.\n\nSo with a single boolean value we need to encode 3 possible options:\n\n- Don\'t use locks because targets/subystems are not shared\n- Use locks if iSCSI client doesn\'t support automatic connections\n- Always use locks (for example for NVMe-oF)\n\nThe only option we have is using the ""None"" value as well. That way we\ncan encode 3 different cases.\n\nBut we have an additional restriction, ""True"" is already taken for the\niSCSI case, because there will exist volumes in the database that\nalready have that value stored.\n\nAnd making guard_connection always lock when shared_targets is set to\nTrue will introduce the bottleneck from bug (#1800515).\n\nThat leaves us with the ""None"" value to force the use of locks.\n\nSo we end up with the following tristate for ""shared_targets"":\n\n- True to use lock if iSCSI initiator doesn\'t support manual scans\n- False means that os-brick should never lock.\n- None means that os-brick should always lock.\n\nThe alternative to this encoding would be to have an online data\nmigration for volumes to change ""True"" to ""None"", and accept that there\ncould be race conditions during the rolling upgrade (because os-brick on\ncomputes will interpret ""None"" as ""False"").\n\nSince ""in theory"" Cinder was only returning True or False for the\n""shared_target"", we add a new microversion with number 3.69 that returns\nnull when the value is internally set to None.\n\nThe patch also updates the database with a migration, though it looks\nlike it\'s not necessary since the DB already allows null values, but it\nseems more correct to make sure that\'s always the case.\n\nThis patch doesn\'t close but #1961102 because the os-brick patch is\nneeded for that.\n\nRelated-Bug: #1961102\nChange-Id: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\n'}, {'number': 4, 'created': '2022-05-26 15:40:29.000000000', 'files': ['api-ref/source/v3/samples/volumes/v3.69/volume-update-response.json', 'api-ref/source/v3/samples/versions/versions-response.json', 'cinder/volume/manager.py', 'cinder/api/openstack/api_version_request.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/tests/unit/volume/test_volume_manager.py', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/volumes/v3.69/volume-show-response.json', 'api-ref/source/v3/samples/versions/version-show-response.json', 'cinder/tests/unit/volume/test_volume.py', 'api-ref/source/v3/samples/volumes/v3.69/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/v3.69/volume-create-response.json', 'cinder/tests/unit/volume/__init__.py', 'cinder/tests/unit/group/test_groups_manager.py', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/api/microversions.py', 'cinder/db/migrations/versions/c92a3e68beed_make_shared_targets_nullable.py', 'cinder/api/v3/views/volumes.py', 'cinder/db/sqlalchemy/models.py', 'cinder/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef741228d8a0509f21fa560619d9504ebb940bac', 'message': 'Report tri-state shared_targets for NVMe volumes\n\nNVMe-oF drivers that share the subsystem have the same race condition\nissue that iSCSI volumes that share targets do.\n\nThe race condition is caused by AER messages that trigger automatic\nrescans on the connector host side in both cases.\n\nFor iSCSI we added a feature on the Open-iSCSI project that allowed\ndisabling these scans, and added support for it in os-brick.\n\nSince manual scans is a new feature that may be missing in a host\'s\niSCSI client, cinder has a flag in volumes to indicate when they use\nshared targets.  Using that flag os-brick consumers can use the\n""guard_connection"" context manager to ensure race conditions don\'t\nhappen.\n\nThe race condition is prevented by os-brick using manual scans if they\nare available in the iSCSI client, or a file lock if not.\n\nThe problem we face now is that we also want to use the lock for NVMe-oF\nvolumes that share a subsystem for multiple namespaces (there is no way\nto disable automatic scans), but cinder doesn\'t (and shouldn\'t) expose\nthe actual storage protocol on the volume resource, so we need to\nleverage the ""shared_targets"" parameter.\n\nSo with a single boolean value we need to encode 3 possible options:\n\n- Don\'t use locks because targets/subystems are not shared\n- Use locks if iSCSI client doesn\'t support automatic connections\n- Always use locks (for example for NVMe-oF)\n\nThe only option we have is using the ""None"" value as well. That way we\ncan encode 3 different cases.\n\nBut we have an additional restriction, ""True"" is already taken for the\niSCSI case, because there will exist volumes in the database that\nalready have that value stored.\n\nAnd making guard_connection always lock when shared_targets is set to\nTrue will introduce the bottleneck from bug (#1800515).\n\nThat leaves us with the ""None"" value to force the use of locks.\n\nSo we end up with the following tristate for ""shared_targets"":\n\n- True to use lock if iSCSI initiator doesn\'t support manual scans\n- False means that os-brick should never lock.\n- None means that os-brick should always lock.\n\nThe alternative to this encoding would be to have an online data\nmigration for volumes to change ""True"" to ""None"", and accept that there\ncould be race conditions during the rolling upgrade (because os-brick on\ncomputes will interpret ""None"" as ""False"").\n\nSince ""in theory"" Cinder was only returning True or False for the\n""shared_target"", we add a new microversion with number 3.69 that returns\nnull when the value is internally set to None.\n\nThe patch also updates the database with a migration, though it looks\nlike it\'s not necessary since the DB already allows null values, but it\nseems more correct to make sure that\'s always the case.\n\nThis patch doesn\'t close but #1961102 because the os-brick patch is\nneeded for that.\n\nRelated-Bug: #1961102\nChange-Id: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a\n'}]",15,836070,ef741228d8a0509f21fa560619d9504ebb940bac,110,3,4,9535,,,0,"Report tri-state shared_targets for NVMe volumes

NVMe-oF drivers that share the subsystem have the same race condition
issue that iSCSI volumes that share targets do.

The race condition is caused by AER messages that trigger automatic
rescans on the connector host side in both cases.

For iSCSI we added a feature on the Open-iSCSI project that allowed
disabling these scans, and added support for it in os-brick.

Since manual scans is a new feature that may be missing in a host's
iSCSI client, cinder has a flag in volumes to indicate when they use
shared targets.  Using that flag os-brick consumers can use the
""guard_connection"" context manager to ensure race conditions don't
happen.

The race condition is prevented by os-brick using manual scans if they
are available in the iSCSI client, or a file lock if not.

The problem we face now is that we also want to use the lock for NVMe-oF
volumes that share a subsystem for multiple namespaces (there is no way
to disable automatic scans), but cinder doesn't (and shouldn't) expose
the actual storage protocol on the volume resource, so we need to
leverage the ""shared_targets"" parameter.

So with a single boolean value we need to encode 3 possible options:

- Don't use locks because targets/subystems are not shared
- Use locks if iSCSI client doesn't support automatic connections
- Always use locks (for example for NVMe-oF)

The only option we have is using the ""None"" value as well. That way we
can encode 3 different cases.

But we have an additional restriction, ""True"" is already taken for the
iSCSI case, because there will exist volumes in the database that
already have that value stored.

And making guard_connection always lock when shared_targets is set to
True will introduce the bottleneck from bug (#1800515).

That leaves us with the ""None"" value to force the use of locks.

So we end up with the following tristate for ""shared_targets"":

- True to use lock if iSCSI initiator doesn't support manual scans
- False means that os-brick should never lock.
- None means that os-brick should always lock.

The alternative to this encoding would be to have an online data
migration for volumes to change ""True"" to ""None"", and accept that there
could be race conditions during the rolling upgrade (because os-brick on
computes will interpret ""None"" as ""False"").

Since ""in theory"" Cinder was only returning True or False for the
""shared_target"", we add a new microversion with number 3.69 that returns
null when the value is internally set to None.

The patch also updates the database with a migration, though it looks
like it's not necessary since the DB already allows null values, but it
seems more correct to make sure that's always the case.

This patch doesn't close but #1961102 because the os-brick patch is
needed for that.

Related-Bug: #1961102
Change-Id: I8cda6d9830f39e27ac700b1d8796fe0489fd7c0a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/836070/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/volumes/v3.69/volume-update-response.json', 'api-ref/source/v3/samples/versions/versions-response.json', 'cinder/volume/manager.py', 'cinder/api/openstack/api_version_request.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/tests/unit/volume/test_volume_manager.py', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/volumes/v3.69/volume-show-response.json', 'api-ref/source/v3/samples/versions/version-show-response.json', 'cinder/tests/unit/volume/test_volume.py', 'api-ref/source/v3/samples/volumes/v3.69/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/v3.69/volume-create-response.json', 'cinder/tests/unit/volume/__init__.py', 'cinder/tests/unit/group/test_groups_manager.py', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/api/microversions.py', 'cinder/db/migrations/versions/c92a3e68beed_make_shared_targets_nullable.py', 'cinder/api/v3/views/volumes.py', 'cinder/db/sqlalchemy/models.py', 'cinder/tests/unit/db/test_migrations.py']",22,449a90ca52db48b266b19d57655b9ec2213a8cce,lvm-nvmet-shared," BOOL_TYPE = sqlalchemy.types.BOOLEAN def _check_c92a3e68beed(self, connection): """"""Test shared_targets is nullable."""""" table = db_utils.get_table(connection, 'volumes') self.assertIn('shared_targets', table.c) self.assertIsInstance(table.c.shared_targets.type, self.BOOL_TYPE) self.assertTrue(table.c.shared_targets.nullable) ",,442,15
openstack%2Fpython-openstackclient~master~I228b7ff6691a025f1ba9b7d9449f294868942151,openstack/python-openstackclient,master,I228b7ff6691a025f1ba9b7d9449f294868942151,"Drop support for Python 3.6, 3.7",MERGED,2022-06-01 08:35:25.000000000,2022-07-27 11:47:12.000000000,2022-07-27 11:45:06.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-06-01 08:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/db0ae329e350aeb089e1bcc5671dee746be18f97', 'message': 'The Python 3.6 and Python 3.7 Support has been dropped since zed\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I228b7ff6691a025f1ba9b7d9449f294868942151\n'}, {'number': 2, 'created': '2022-07-01 16:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/43b0e5e9b77efe1ffe26bbd084ad812440b644c7', 'message': 'The Python 3.6 and Python 3.7 Support has been dropped since zed\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I228b7ff6691a025f1ba9b7d9449f294868942151\n'}, {'number': 3, 'created': '2022-07-04 11:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3a62265053f45a721088390e2a7220ce6201f755', 'message': 'Drop support for Python 3.6, 3.7\n\nPython 3.6 and Python 3.7 support has been dropped since Zed [1]. This\nnecessitates changes our jobs to build and publish docker images since\nthose currently use Python 3.6. We now use Python 3.9.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I228b7ff6691a025f1ba9b7d9449f294868942151\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-07-04 16:49:33.000000000', 'files': ['Dockerfile', '.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4e769f0ed02eb9b5179258483cc9b08efe81842b', 'message': 'Drop support for Python 3.6, 3.7\n\nPython 3.6 and Python 3.7 support has been dropped since Zed [1]. This\nnecessitates changes our jobs to build and publish docker images since\nthose currently use Python 3.6. We now use Python 3.9.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I228b7ff6691a025f1ba9b7d9449f294868942151\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",6,844259,4e769f0ed02eb9b5179258483cc9b08efe81842b,20,3,4,32029,,,0,"Drop support for Python 3.6, 3.7

Python 3.6 and Python 3.7 support has been dropped since Zed [1]. This
necessitates changes our jobs to build and publish docker images since
those currently use Python 3.6. We now use Python 3.9.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I228b7ff6691a025f1ba9b7d9449f294868942151
Co-authored-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/59/844259/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,db0ae329e350aeb089e1bcc5671dee746be18f97,setup,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Fnova~master~Ieb4766fdd88c469574fad823e05fe401537cdc30,openstack/nova,master,Ieb4766fdd88c469574fad823e05fe401537cdc30,Allow unshelve to a specific host (Compute API part),MERGED,2022-03-02 10:33:04.000000000,2022-07-27 11:46:24.000000000,2022-07-27 11:44:53.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-02 10:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21853735e4da5237b3771c06b7041d66f82cb7f4', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying a destination\nhost to unshelve server action when the server is shelved offloaded.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\nCloses-Bug: #2026557\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 2, 'created': '2022-03-02 10:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39a549e81086f22d3c7b5de4569f082c9ed3b60a', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying a destination\nhost to unshelve server action when the server is shelved offloaded.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 3, 'created': '2022-03-02 16:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b550f24ee2cad8a69c28c25d95d2021add917d0', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying a destination\nhost to unshelve server action when the server is shelved offloaded.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 4, 'created': '2022-03-02 17:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91c4cb747da5de0de69edde75a3045e1e1bd870b', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying a destination\nhost to unshelve server action when the server is shelved offloaded.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 5, 'created': '2022-05-06 12:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1705d45be29666f4189ef204a0c506c92bc58b84', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying a destination\nhost to unshelve server action when the server is shelved offloaded.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 6, 'created': '2022-05-06 15:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca87a712f44a45bac7dcc492401d1de44cea2728', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying a destination\nhost to unshelve server action when the server is shelved offloaded.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 7, 'created': '2022-05-06 15:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2972b649fed13a12eed98a53452f4348c1c84840', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying a destination\nhost to unshelve server action when the server is shelved offloaded.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 8, 'created': '2022-05-10 13:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8a8e7ddeba9f901aaed9157f4f00ada3cc94735', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying a destination\nhost to unshelve server action when the server is shelved offloaded.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 9, 'created': '2022-05-16 09:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ac5ddf70a827593d370c5897957cd031e175f57', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying a destination\nhost to unshelve server action when the server is shelved offloaded.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 10, 'created': '2022-05-30 16:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cdb8593aec60c72149b851920a9f41efee8f4c5', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying a destination\nhost to unshelve server action when the server is shelved offloaded.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 11, 'created': '2022-05-31 12:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e547725e00a3557618acb3c64500ce1fd4f0e4b7', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying a destination\nhost to unshelve server action when the server is shelved offloaded.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 12, 'created': '2022-06-08 13:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58a3723159018b92f293b04fff3f5ce1e9023f0b', 'message': 'Allow unshelve to a specific host (compute_api part)\n\nThis patch introduce changes to the compute_api that will allow\nPROJECT_ADMIN to unshelve an shelved offloaded server to a specific host.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 13, 'created': '2022-06-08 16:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3befb6bf5cf3b7ab82766ec2ba9016a0e4156999', 'message': 'Allow unshelve to a specific host\n\nThis adds support, in a new microversion, for specifying\na destination host to unshelve server action when the server\nis shelved offloaded.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nNote that the functional test changes are due to those tests using the\n""latest"" microversion 2.91.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 14, 'created': '2022-06-15 08:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98957653a71b5c9400d387ab80de4b15c38b4179', 'message': 'Allow unshelve to a specific host (Compute API part)\n\nThis patch introduce changes to the compute API that will allow\nPROJECT_ADMIN to unshelve an shelved offloaded server to a specific host.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 15, 'created': '2022-06-24 14:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5ba367a36039b34dfb623bb8e69d8b2755f5f3e', 'message': 'Allow unshelve to a specific host (Compute API part)\n\nThis patch introduce changes to the compute API that will allow\nPROJECT_ADMIN to unshelve an shelved offloaded server to a specific host.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 16, 'created': '2022-06-24 14:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff1042a188af2cf70660d955d1b77bc5e2218aaa', 'message': 'Allow unshelve to a specific host (Compute API part)\n\nThis patch introduce changes to the compute API that will allow\nPROJECT_ADMIN to unshelve an shelved offloaded server to a specific host.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 17, 'created': '2022-06-30 14:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31ab1f0923c1db196eb29b4a3f1f4c52eba86999', 'message': 'Allow unshelve to a specific host (Compute API part)\n\nThis patch introduce changes to the compute API that will allow\nPROJECT_ADMIN to unshelve an shelved offloaded server to a specific host.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 18, 'created': '2022-07-21 17:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bff08dcea1d6ca20683f1e0fcce7191a83276eb1', 'message': 'Allow unshelve to a specific host (Compute API part)\n\nThis patch introduce changes to the compute API that will allow\nPROJECT_ADMIN to unshelve an shelved offloaded server to a specific host.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nImplements: blueprint unshelve-to-host\n\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}, {'number': 19, 'created': '2022-07-22 08:23:07.000000000', 'files': ['nova/exception.py', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/conductor/manager.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a263fa46f861c091d93782d4796c8302f9c30f4a', 'message': 'Allow unshelve to a specific host (Compute API part)\n\nThis patch introduce changes to the compute API that will allow\nPROJECT_ADMIN to unshelve an shelved offloaded server to a specific host.\nThis patch also supports the ability to unpin the availability_zone of an\ninstance that is bound to it.\n\nImplements: blueprint unshelve-to-host\nChange-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30\n'}]",212,831507,a263fa46f861c091d93782d4796c8302f9c30f4a,162,5,19,16207,,,0,"Allow unshelve to a specific host (Compute API part)

This patch introduce changes to the compute API that will allow
PROJECT_ADMIN to unshelve an shelved offloaded server to a specific host.
This patch also supports the ability to unpin the availability_zone of an
instance that is bound to it.

Implements: blueprint unshelve-to-host
Change-Id: Ieb4766fdd88c469574fad823e05fe401537cdc30
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/831507/10 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/servers-action-shelve.inc', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-null.json.tpl', 'nova/api/openstack/compute/shelve.py', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-shelve.json.tpl', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve.json.tpl', 'nova/policies/shelve.py', 'nova/tests/functional/api_sample_tests/api_samples/os-shelve/v2.91/os-unshelve-host.json.tpl', 'releasenotes/notes/bp-unshelve_to_host-c9047d518eb67747.yaml', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/api/openstack/compute/schemas/shelve.py', 'nova/conductor/manager.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'doc/api_samples/os-shelve/v2.91/os-unshelve.json', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/api_sample_tests/test_shelve.py', 'nova/compute/api.py']",20,21853735e4da5237b3771c06b7041d66f82cb7f4,bp/unshelve-to-host,"from nova.policies import shelve as shelve_policies def unshelve(self, context, instance, new_az=None, destination_host=None): if destination_host: # Make sure only admin can unshelve to a specific host. context.can(shelve_policies.POLICY_ROOT % 'unshelve_to_host', target={'user_id': instance.user_id, 'project_id': instance.project_id}) # Checking if the host is valid. An exception should rise if it is # not the case. try: compute_node = \ objects.ComputeNode.get_first_node_by_host_for_old_compat( context, destination_host, use_slave=True) # Raise a http status code 400 instead of a 500. except nova.exception.ComputeHostNotFound: msg = _('The requested host ""{}"" is not found').format( destination_host) raise exception.InvalidRequest(msg) # Ensure instance is shelve_offlaoded if instance.vm_state != 'shelved_offloaded': msg = _('The instance ""{}"" status is not shelved_offloaded' ).format(instance.hostname) raise exception.InvalidRequest(msg) LOG.debug(""Add requested_destination to %(destination_host)s "" ""in RequestSpec"", {""destination_host"": compute_node.host}, instance=instance) request_spec.requested_destination = \ objects.Destination(host=compute_node.host) "," def unshelve(self, context, instance, new_az=None):",515,13
openstack%2Ftripleo-quickstart~master~Ib16e01540ca7769b511c6ee67b03390b8f88f3ba,openstack/tripleo-quickstart,master,Ib16e01540ca7769b511c6ee67b03390b8f88f3ba,Do not fail retrieve tuned profile task,MERGED,2022-07-15 08:38:33.000000000,2022-07-27 10:15:05.000000000,2022-07-27 10:13:50.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-07-15 08:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f99b10a7e8b687e85f071acf4ae2730860f9bd43', 'message': 'Do not fail retrieve tuned profile task\n\nc9 libvirt jobs are failing as no active\nprofile is detected. The next task will\nset the profile based on the value of variable\n""tuned_profile"" if the required profile is not\nalready active.\n\nChange-Id: Ib16e01540ca7769b511c6ee67b03390b8f88f3ba\n'}, {'number': 2, 'created': '2022-07-26 14:51:33.000000000', 'files': ['roles/provision/remote/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/53a276a716fa02cf482d85a4439bf2f6aafda9be', 'message': 'Do not fail retrieve tuned profile task\n\nThe task fails on CentOS 9-Stream nodes as no active\nprofile is detected due to the Related Bug[1].\nSo make the task not to fail til the related bug\nis fixed.\n\nThe next task will set the profile based on\nthe value of variable ""tuned_profile"" if the\nrequired profile is not already active.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2030580\n\nRelated-Bug: rhbz#2030580\nChange-Id: Ib16e01540ca7769b511c6ee67b03390b8f88f3ba\n'}]",4,849963,53a276a716fa02cf482d85a4439bf2f6aafda9be,26,6,2,13861,,,0,"Do not fail retrieve tuned profile task

The task fails on CentOS 9-Stream nodes as no active
profile is detected due to the Related Bug[1].
So make the task not to fail til the related bug
is fixed.

The next task will set the profile based on
the value of variable ""tuned_profile"" if the
required profile is not already active.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2030580

Related-Bug: rhbz#2030580
Change-Id: Ib16e01540ca7769b511c6ee67b03390b8f88f3ba
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/63/849963/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/provision/remote/tasks/main.yml'],1,f99b10a7e8b687e85f071acf4ae2730860f9bd43,bug/2030580, failed_when: false,,1,0
openstack%2Fdevstack~stable%2Fwallaby~Ic9030d01468b3189350f83b04a8d1d346c489d3c,openstack/devstack,stable/wallaby,Ic9030d01468b3189350f83b04a8d1d346c489d3c,Reduce memory consumption in Cinder services,MERGED,2022-06-30 13:01:48.000000000,2022-07-27 10:09:29.000000000,2022-07-27 10:08:23.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-06-30 13:01:48.000000000', 'files': ['lib/cinder', 'functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/78b00ec8de12a9e7ddad9f7d587420365d28b628', 'message': ""Reduce memory consumption in Cinder services\n\nThis patch reduces memory usage on the Cinder Volume and Backup services\nby tuning glibc.\n\nThe specific tuning consist on disabling the per thread arenas and\ndisabling dynamic thresholds.\n\nThe Cinder Backup service suffers from high water mark memory usage and\nuses excessive memory.  As an example just after 10 restore operations\nthe service uses almost 1GB of RAM and does not ever free it afterwards.\nWith this patch the memory consumption of the service is reduced down to\nalmost 130MB.  If we add a revert from Cinder (Change-Id\nI43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during\nmy tests.\n\nThis glibc tuning is not applied to all Python services because I\nhaven't done proper testings on them and at first glance they don't seem\nto have such great improvements.\n\nRelated-bug: #1908805\nChange-Id: Ic9030d01468b3189350f83b04a8d1d346c489d3c\n(cherry picked from commit d5af514ac9485009229f3b594bccc09e905782fb)\n(cherry picked from commit eb16f28ab2ee5ab8642bb404e1d0bcec75399f32)\n(cherry picked from commit 0d22380971aa2d2e8ff4ab6d93908f5b53ef0134)\n""}]",1,848291,78b00ec8de12a9e7ddad9f7d587420365d28b628,10,3,1,10459,,,0,"Reduce memory consumption in Cinder services

This patch reduces memory usage on the Cinder Volume and Backup services
by tuning glibc.

The specific tuning consist on disabling the per thread arenas and
disabling dynamic thresholds.

The Cinder Backup service suffers from high water mark memory usage and
uses excessive memory.  As an example just after 10 restore operations
the service uses almost 1GB of RAM and does not ever free it afterwards.
With this patch the memory consumption of the service is reduced down to
almost 130MB.  If we add a revert from Cinder (Change-Id
I43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during
my tests.

This glibc tuning is not applied to all Python services because I
haven't done proper testings on them and at first glance they don't seem
to have such great improvements.

Related-bug: #1908805
Change-Id: Ic9030d01468b3189350f83b04a8d1d346c489d3c
(cherry picked from commit d5af514ac9485009229f3b594bccc09e905782fb)
(cherry picked from commit eb16f28ab2ee5ab8642bb404e1d0bcec75399f32)
(cherry picked from commit 0d22380971aa2d2e8ff4ab6d93908f5b53ef0134)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/91/848291/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/cinder', 'functions-common']",2,78b00ec8de12a9e7ddad9f7d587420365d28b628,cinder-vsz," local env_vars=""$5"" if [[ -n ""$env_vars"" ]] ; then iniset -sudo $unitfile ""Service"" ""Environment"" ""$env_vars"" fi local env_vars=""$5"" if [[ -n ""$env_vars"" ]] ; then iniset -sudo $unitfile ""Service"" ""Environment"" ""$env_vars"" fi if [[ -z ""$user"" ]]; then user=$STACK_USER fi local env_vars=""$5"" write_uwsgi_user_unit_file $systemd_service ""$cmd"" ""$group"" ""$user"" ""$env_vars"" write_user_unit_file $systemd_service ""$cmd"" ""$group"" ""$user"" ""$env_vars""# run_process service ""command-line"" [group] [user] [env_vars] # env_vars must be a space separated list of variable assigments, ie: ""A=1 B=2"" local env_vars=""$5"" _run_under_systemd ""$name"" ""$command"" ""$group"" ""$user"" ""$env_vars"""," write_uwsgi_user_unit_file $systemd_service ""$cmd"" ""$group"" ""$user"" write_user_unit_file $systemd_service ""$cmd"" ""$group"" ""$user""# run_process service ""command-line"" [group] [user] _run_under_systemd ""$name"" ""$command"" ""$group"" ""$user""",25,6
openstack%2Fpython-manilaclient~master~Ia15e7c32e7832f0f57f230b35b022a3a84ee729f,openstack/python-manilaclient,master,Ia15e7c32e7832f0f57f230b35b022a3a84ee729f,[OSC] Add functional tests for share snapshot access rules,NEW,2022-05-22 10:43:52.000000000,2022-07-27 09:45:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-22 10:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e2fdfb503529eb5b4d21125fde6d7ea04bb29435', 'message': '[OSC] Add functional tests for share snapshot access rules\n\nChange-Id: Ia15e7c32e7832f0f57f230b35b022a3a84ee729f\n'}, {'number': 2, 'created': '2022-05-22 10:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8ed25a4b891cffefbec670d66d4b6ae9c4a3e79f', 'message': '[OSC] Add functional tests for share snapshot access rules\n\nChange-Id: Ia15e7c32e7832f0f57f230b35b022a3a84ee729f\n'}, {'number': 3, 'created': '2022-07-27 08:47:00.000000000', 'files': ['manilaclient/tests/functional/osc/test_share_snapshots.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/728f17c469387f79ab1bf1464653dd60f8d0d32e', 'message': '[OSC] Add functional tests for share snapshot access rules\n\nChange-Id: Ia15e7c32e7832f0f57f230b35b022a3a84ee729f\n'}]",1,842854,728f17c469387f79ab1bf1464653dd60f8d0d32e,8,1,3,31213,,,0,"[OSC] Add functional tests for share snapshot access rules

Change-Id: Ia15e7c32e7832f0f57f230b35b022a3a84ee729f
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/54/842854/3 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/functional/osc/test_share_snapshots.py'],1,e2fdfb503529eb5b4d21125fde6d7ea04bb29435,osc-functional-tests," def test_share_snapshot_access_create(self): share = self.create_share() snapshot = self.create_snapshot(share_id=share['id']) access = self.dict_result( 'share snapshot access', f'create {snapshot[""id""]} ip 10.0.0.1') access_list = self.listing_result( 'share snapshot', f'access list {snapshot[""id""]}') self.assertIn( access[""id""], [item['ID'] for item in access_list]) self.assertIn( '10.0.0.1', [item['Access To'] for item in access_list]) def test_share_snapshot_access_delete(self): share = self.create_share() snapshot = self.create_snapshot(share_id=share['id']) access = self.dict_result( 'share snapshot access', f'create {snapshot[""id""]} ip 10.0.0.1') access_list = self.listing_result( 'share snapshot', f'access list {snapshot[""id""]}') self.assertIn( access[""id""], [item['ID'] for item in access_list]) self.openstack( f'share snapshot access delete {snapshot[""id""]} {access[""id""]}' ) self.assertNotIn( access[""id""], [item['ID'] for item in access_list]) def test_share_snapshot_access_list(self): share = self.create_share() snapshot = self.create_snapshot(share_id=share['id']) access_1 = self.dict_result( 'share snapshot access', f'create {snapshot[""id""]} ip 10.0.0.1') access_2 = self.dict_result( 'share snapshot access', f'create {snapshot[""id""]} ip 10.0.0.2') access_list = self.listing_result( 'share snapshot', f'access list {snapshot[""id""]}') self.assertTableStruct(access_list, [ 'ID', 'Access Type', 'Access To', 'State' ]) self.assertIn( access_1[""id""], [item['ID'] for item in access_list]) self.assertIn( access_2[""id""], [item['ID'] for item in access_list])",,67,0
openstack%2Fopenstack-ansible-os_mistral~master~I636d8dae211a1ae4934cb7a799b3bf31bf5cd7a5,openstack/openstack-ansible-os_mistral,master,I636d8dae211a1ae4934cb7a799b3bf31bf5cd7a5,Use TOX_CONSTRAINTS_FILE,NEW,2022-07-27 09:07:38.000000000,2022-07-27 09:27:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-27 09:07:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/a1061ce18368111315e6a6d6d97e1a4d0e1f51e4', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I636d8dae211a1ae4934cb7a799b3bf31bf5cd7a5\n'}]",0,851173,a1061ce18368111315e6a6d6d97e1a4d0e1f51e4,2,1,1,35067,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I636d8dae211a1ae4934cb7a799b3bf31bf5cd7a5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/73/851173/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a1061ce18368111315e6a6d6d97e1a4d0e1f51e4,, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fpython-monascaclient~master~I36773c2eefa66a0b471d0d46ba63bbc83d4b11df,openstack/python-monascaclient,master,I36773c2eefa66a0b471d0d46ba63bbc83d4b11df,Use TOX_CONSTRAINTS_FILE,NEW,2022-07-27 09:16:38.000000000,2022-07-27 09:25:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-27 09:16:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/a66a8f427639d1b8206a0a4e5621dec0a974a586', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I36773c2eefa66a0b471d0d46ba63bbc83d4b11df\n'}]",0,851175,a66a8f427639d1b8206a0a4e5621dec0a974a586,2,1,1,35067,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I36773c2eefa66a0b471d0d46ba63bbc83d4b11df
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/75/851175/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a66a8f427639d1b8206a0a4e5621dec0a974a586,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Freleases~master~I6ed0bbd112625cdc9aafbbdf36e2d4304fdaaae2,openstack/releases,master,I6ed0bbd112625cdc9aafbbdf36e2d4304fdaaae2,Release tripleo-validations for stable/wallaby,ABANDONED,2022-07-27 07:32:48.000000000,2022-07-27 09:21:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-27 07:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8e15bf031057525b4ee2c568c63a5db8bd2926ff', 'message': 'Release tripleo-validations for stable/wallaby\n\nThis release include fixes for pacemaker and nova validations,\nas well as minor adjustments to documentation.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6ed0bbd112625cdc9aafbbdf36e2d4304fdaaae2\n'}, {'number': 2, 'created': '2022-07-27 07:46:49.000000000', 'files': ['deliverables/wallaby/tripleo-validations.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7baee29ef889b53157b18f57dd834d8664d6d376', 'message': 'Release tripleo-validations for stable/wallaby\n\nThis release include fixes for pacemaker and nova validations,\nas well as minor adjustments to documentation.\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/850889\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6ed0bbd112625cdc9aafbbdf36e2d4304fdaaae2\n'}]",0,851165,7baee29ef889b53157b18f57dd834d8664d6d376,7,1,2,32926,,,0,"Release tripleo-validations for stable/wallaby

This release include fixes for pacemaker and nova validations,
as well as minor adjustments to documentation.

Depends-On: https://review.opendev.org/c/openstack/releases/+/850889

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6ed0bbd112625cdc9aafbbdf36e2d4304fdaaae2
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/851165/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/tripleo-validations.yaml'],1,8e15bf031057525b4ee2c568c63a5db8bd2926ff,release/14.2.2, - version: 14.2.2 projects: - repo: openstack/tripleo-validations hash: 23a2ec216441c81d6426afd7c7c24fa0d0220165,,4,0
openstack%2Fnetworking-sfc~master~Ic6e721d1b172bbb49c915221878a5c5080cd4126,openstack/networking-sfc,master,Ic6e721d1b172bbb49c915221878a5c5080cd4126,DNM: test master,ABANDONED,2022-07-27 07:10:47.000000000,2022-07-27 09:20:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-27 07:10:47.000000000', 'files': ['networking_sfc/opts.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/386720df2ead134581dafccce4474cc9c76be1c8', 'message': 'DNM: test master\n\nChange-Id: Ic6e721d1b172bbb49c915221878a5c5080cd4126\n'}]",0,851160,386720df2ead134581dafccce4474cc9c76be1c8,3,1,1,8313,,,0,"DNM: test master

Change-Id: Ic6e721d1b172bbb49c915221878a5c5080cd4126
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/60/851160/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/opts.py'],1,386720df2ead134581dafccce4474cc9c76be1c8,dnm,"def list_sfc_opts(): return [ ('flowclassifier', fc_config.FLOWCLASSIFIER_DRIVER_OPTS), ('sfc', sfc_config.SFC_DRIVER_OPTS), ] "," def list_sfc_opts(): return [ ('flowclassifier', fc_config.FLOWCLASSIFIER_DRIVER_OPTS), ('sfc', sfc_config.SFC_DRIVER_OPTS), ]",7,7
openstack%2Fnetworking-bagpipe~master~I63c30f2421c82d8e8c8bb2af4a373e11a9a4968f,openstack/networking-bagpipe,master,I63c30f2421c82d8e8c8bb2af4a373e11a9a4968f,DNM: test master,ABANDONED,2022-07-27 07:10:28.000000000,2022-07-27 09:20:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-27 07:10:28.000000000', 'files': ['networking_bagpipe/opts.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/f4241671cb56cf971e6c9df1bcd0b394977c8cd2', 'message': 'DNM: test master\n\nChange-Id: I63c30f2421c82d8e8c8bb2af4a373e11a9a4968f\n'}]",0,851159,f4241671cb56cf971e6c9df1bcd0b394977c8cd2,3,1,1,8313,,,0,"DNM: test master

Change-Id: I63c30f2421c82d8e8c8bb2af4a373e11a9a4968f
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/59/851159/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/opts.py'],1,f4241671cb56cf971e6c9df1bcd0b394977c8cd2,dnm,"def list_api_opts(): return [ ('api', api_config.common_opts), ] ","def list_api_opts(): return [ ('api', api_config.common_opts), ] ",6,6
openstack%2Ftacker-specs~master~I136a996cae49e8d13e1bfc7703c80137afebf320,openstack/tacker-specs,master,I136a996cae49e8d13e1bfc7703c80137afebf320,Support CNF Rollback in v2 LCM API,MERGED,2022-07-15 01:49:13.000000000,2022-07-27 09:18:30.000000000,2022-07-27 08:59:07.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31857}]","[{'number': 1, 'created': '2022-07-15 01:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f0e70328b2febb9b6ab4ff84c433791aee690391', 'message': 'Support CNF Rollback in v2 LCM API\n\nThis specification enhances version 2 (v2) of Rollback API\nfor supporting CNF.\nPrevious release supported VNF Lifecycle Management (LCM) operations\ndefined in ETSI NFV SOL002 v3.3.1 and SOL003 v3.3.1.\nHowever, v2 Rollback API for CNF LCM was limited.\nThis specification enables v2 Rollback API\nto handle Instantiation and Scale-out of CNF.\n\nChange-Id: I136a996cae49e8d13e1bfc7703c80137afebf320\nImplements: blueprint support-nfv-solv3-error-handling\n'}, {'number': 2, 'created': '2022-07-25 06:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1bd7038150cd9becef081eb1db19f74dea647535', 'message': 'Support CNF Rollback in v2 LCM API\n\nThis specification enhances version 2 (v2) of Rollback API\nfor supporting CNF.\nPrevious release supported VNF Lifecycle Management (LCM) operations\ndefined in ETSI NFV SOL002 v3.3.1 and SOL003 v3.3.1.\nHowever, v2 Rollback API for CNF LCM was limited.\nThis specification enables v2 Rollback API\nto handle Instantiation and Scale-out of CNF.\n\nChange-Id: I136a996cae49e8d13e1bfc7703c80137afebf320\nImplements: blueprint support-nfv-solv3-error-handling\n'}, {'number': 3, 'created': '2022-07-25 07:05:23.000000000', 'files': ['specs/zed/support-v2-cnf-rollback.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/bf04bd9a76a61718e1f33497fd7eada0d990b412', 'message': 'Support CNF Rollback in v2 LCM API\n\nThis specification enhances version 2 (v2) of Rollback API\nfor supporting CNF.\nPrevious release supported VNF Lifecycle Management (LCM) operations\ndefined in ETSI NFV SOL002 v3.3.1 and SOL003 v3.3.1.\nHowever, v2 Rollback API for CNF LCM was limited.\nThis specification enables v2 Rollback API\nto handle Instantiation and Scale-out of CNF.\n\nChange-Id: I136a996cae49e8d13e1bfc7703c80137afebf320\nImplements: blueprint support-nfv-solv3-error-handling\n'}]",32,849834,bf04bd9a76a61718e1f33497fd7eada0d990b412,19,5,3,32581,,,0,"Support CNF Rollback in v2 LCM API

This specification enhances version 2 (v2) of Rollback API
for supporting CNF.
Previous release supported VNF Lifecycle Management (LCM) operations
defined in ETSI NFV SOL002 v3.3.1 and SOL003 v3.3.1.
However, v2 Rollback API for CNF LCM was limited.
This specification enables v2 Rollback API
to handle Instantiation and Scale-out of CNF.

Change-Id: I136a996cae49e8d13e1bfc7703c80137afebf320
Implements: blueprint support-nfv-solv3-error-handling
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/34/849834/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/support-v2-cnf-rollback.rst'],1,f0e70328b2febb9b6ab4ff84c433791aee690391,bp/support-nfv-solv3-error-handling,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Support CNF Rollback in v2 LCM API ================================== .. Blueprints: https://blueprints.launchpad.net/tacker/+spec/support-nfv-solv3-error-handling This specification enhances version 2 (v2) of Rollback API for supporting CNF. Problem description =================== Yoga release supported VNF Lifecycle Management (LCM) operations defined in ETSI NFV SOL002 v3.3.1 [#NFV-SOL002_331]_ and SOL003 v3.3.1 [#NFV-SOL003_331]_. It also supported CNF Lifecycle Management with v2 APIs such as Instantiate API, Terminate API, and ChangeCurrentVnfPackage API. However, v2 Rollback API has not completely supported CNF LCM yet. Supporting CNF in v2 LCM API makes Tacker more powerful generic VNFM. Proposed change =============== This specification enhances the following API to support CNF. * Rollback VNF Task (POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback) v2 Rollback for Change Current VNF Package has already been supported in Yoga release. Also, Modify VNF Information for CNF has already supported in v2 LCM API because there is only common processing with VNF. Therefore, this specification proposes supporting v2 CNF Rollback for following APIs. * Instantiate VNF * Scale-out VNF .. note:: Change external VNF connectivity for CNF and its rollback are not supported because the related standard specification has not been defined by ETSI NFV yet. Rollback for Instantiation -------------------------- There is no change from the current implementation except for InfraDriver (KubernetesDriver) processing. .. seqdiag:: seqdiag { node_width = 100; edge_length = 120; Client -> ""tacker-server"" [label = ""POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""trigger asynchronous task""]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLING_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLING_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""VnfLcmDriver"" -> ""KubernetesDriver"" [label = ""execute KubernetesDriver""]; ""KubernetesDriver"" -> ""Kubernetes"" [label = ""call Read API to check the existence of resources""]; ""KubernetesDriver"" <-- ""Kubernetes"" [label = ""resource information if it exists""]; ""KubernetesDriver"" -> ""Kubernetes"" [label = ""call Delete API if resources exist""]; ""KubernetesDriver"" <-- ""Kubernetes"" [label = """"]; ""KubernetesDriver"" -> ""Kubernetes"" [label = ""call Read API to check the status of resources""]; ""KubernetesDriver"" <-- ""Kubernetes"" [label = ""resource information""]; ""VnfLcmDriver"" <-- ""KubernetesDriver"" [label = """"]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLED_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLED_BACK or FAILED_TEMP)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } The procedure consists of the following steps as illustrated in above sequence: Precondition: VNF lifecycle management operation occurrence is in ""FAILED_TEMP"" state. #. The Client sends a POST request with an empty body to the ""Rollback operation"" resource. #. VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""ROLLING_BACK"" state to indicate the processing occurrence of the lifecycle management operation. #. VNFM sends Kubernetes a Read request to check the existence of resources. #. If resources has been created by failed instantiate operation, VNFM sends Kubernetes a Delete request to delete the resources. #. VNFM sends Kubernetes a Read request to check whether resources were deleted. #. On successful rollback, VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""ROLLED_BACK"" state to indicate successful completion of the operation. #. On unsuccessful rollback, VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""FAILED_TEMP"" state to indicate an intermediate error (rollback failed) of the operation. Postcondition: The VNF lifecycle management operation occurrence is in one of the following states: ""FAILED_TEMP"", ""ROLLED_BACK"". KubernetesDriver calls following API to delete Pod and check status of it. +-------------------+----------+-------------------------------------+ | API Group | Type | API method | +===================+==========+=====================================+ | apps (AppsV1Api) | Read | read_namespaced_<kind>_scale | | +----------+-------------------------------------+ | | Delete | delete_namespaced_<kind> | +-------------------+----------+-------------------------------------+ The arguments of Read API are ``name`` and ``namespace``. The arguments of Delete API are ``name``, ``namespace``, and ``body``. In the case of rollback operation, the body is not set. Rollback for Scale-out ---------------------- There is no change from the current implementation except for InfraDriver processing. .. seqdiag:: seqdiag { node_width = 100; edge_length = 120; Client -> ""tacker-server"" [label = ""POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""trigger asynchronous task""]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLING_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLING_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute LCM operation""]; ""VnfLcmDriver"" -> ""KubernetesDriver"" [label = ""execute KubernetesDriver""]; ""KubernetesDriver"" -> ""Kubernetes"" [label = ""call Read API to check the replicas of the resources""]; ""KubernetesDriver"" <-- ""Kubernetes"" [label = ""the value of replicas""]; ""KubernetesDriver"" -> ""Kubernetes"" [label = ""call Update API to update the replicas to the one before scaling-out if replicas has been updated by failed scale-out operation""]; ""KubernetesDriver"" <-- ""Kubernetes"" [label = """"]; ""KubernetesDriver"" -> ""Kubernetes"" [label = ""call Read API to check the status of resources""]; ""KubernetesDriver"" <-- ""Kubernetes"" [label = """"]; ""VnfLcmDriver"" <-- ""KubernetesDriver"" [label = """"]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" -> ""tacker-database"" [label = ""mark operation as ROLLED_BACK""]; ""tacker-conductor"" <-- ""tacker-database"" ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLED_BACK or FAILED_TEMP)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } The procedure consists of the following steps as illustrated in above sequence: Precondition: VNF lifecycle management operation occurrence is in ""FAILED_TEMP"" state. #. The Client sends a POST request with an empty body to the ""Rollback operation"" resource. #. VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""ROLLING_BACK"" state to indicate the processing occurrence of the lifecycle management operation. #. VNFM sends Kubernetes a Read request to check the replicas of the resources. #. If replicas has been updated by failed scale-out operation, VNFM sends Kubernetes a Update request to update the replicas to the one before scaling-out. #. VNFM sends Kubernetes a Read request to check whether resources were deleted. #. On successful rollback, VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""ROLLED_BACK"" state to indicate successful completion of the operation. #. On unsuccessful rollback, VNFM sends endpoints such as Client a VNF lifecycle management operation occurrence notification with the ""FAILED_TEMP"" state to indicate an intermediate error (rollback failed) of the operation. Postcondition: The VNF lifecycle management operation occurrence is in one of the following states: ""FAILED_TEMP"", ""ROLLED_BACK"". .. note:: v2 VNF Rollback for Scale-out using OpenStack VIM deletes added resources by scale-out operation. However, v2 CNF Rollback for Scale-out using Kubernetes VIM cannot specify deleted VNFC because the order of deletion cannot be controlled due to Kubernetes's functionality. This is also a constraint for v2 CNF scale-in. KubernetesDriver calls following API to get current number of replicas and updates the number replicas of target resource. +-------------------+----------+-------------------------------------+ | API Group | Type | API method | +===================+==========+=====================================+ | apps (AppsV1Api) | Read | read_namespaced_<kind>_scale | | +----------+-------------------------------------+ | | Update | patch_namespaced_<kind>_scale | +-------------------+----------+-------------------------------------+ The arguments of Read API are ``name`` and ``namespace``. The arguments of Update API are ``name``, ``namespace``, and ``body``. The body is set to be the updated value of ""spec.replicas"" with the returned value in Read API. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp> Work Items ---------- * Implement KubernetesDriver processes running on Tacker-conductor. * Add new unit and functional tests. * Update the Tacker user guide. Dependencies ============ Tacker SPEC: Support ETSI NFV-SOL_v3 error-handling operation [#SPEC-NFV-SOL_v3-LCM]_ Testing ======== Unit and functional test cases will be added for v2 CNF rollback operations using Kubernetes VIM. Documentation Impact ==================== Description about v2 CNF rollback operations will be added to the Tacker user guide. References ========== .. [#NFV-SOL002_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/03.03.01_60/gs_nfv-sol002v030301p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL003_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#SPEC-NFV-SOL_v3-LCM] https://specs.openstack.org/openstack/tacker-specs/specs/yoga/support-nfv-solv3-error-handling.html ",,334,0
openstack%2Freleases~master~I8969442b99d5fd3d66fa13b4377310c74140a086,openstack/releases,master,I8969442b99d5fd3d66fa13b4377310c74140a086,Release tripleo-validations for stable/wallaby,ABANDONED,2022-07-27 07:32:48.000000000,2022-07-27 09:17:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-27 07:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7b8c6f682c8fbc3300f25afc6187b70e582776f1', 'message': 'Release tripleo-validations for stable/wallaby\n\nNew release includes backward compatible Validation metadata expansion.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I8969442b99d5fd3d66fa13b4377310c74140a086\n'}, {'number': 2, 'created': '2022-07-27 07:47:10.000000000', 'files': ['deliverables/wallaby/tripleo-validations.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1b5216b51f5cbae6cf85219cda617dd5bd751670', 'message': 'Release tripleo-validations for stable/wallaby\n\nNew release includes backward compatible Validation metadata expansion.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I8969442b99d5fd3d66fa13b4377310c74140a086\n'}]",0,851166,1b5216b51f5cbae6cf85219cda617dd5bd751670,6,1,2,32926,,,0,"Release tripleo-validations for stable/wallaby

New release includes backward compatible Validation metadata expansion.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I8969442b99d5fd3d66fa13b4377310c74140a086
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/851166/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/tripleo-validations.yaml'],1,7b8c6f682c8fbc3300f25afc6187b70e582776f1,release/14.3.0, - version: 14.3.0 projects: - repo: openstack/tripleo-validations hash: 4156b6154e91c5adcdae137af5d8ecdd1fb9aeec,,4,0
openstack%2Fkolla-ansible~master~Iba7099988cea0c0d8254b9e202309cd9c82a984d,openstack/kolla-ansible,master,Iba7099988cea0c0d8254b9e202309cd9c82a984d,"Revert ""Allow cinder-backup to be configured to use S3 backend.""",MERGED,2022-07-27 06:52:22.000000000,2022-07-27 09:13:14.000000000,2022-07-27 09:12:02.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30568}, {'_account_id': 30984}, {'_account_id': 33855}]","[{'number': 1, 'created': '2022-07-27 06:52:22.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/group_vars/all.yml', 'releasenotes/notes/s3-cinder-backup-180f57b6d0e417f2.yaml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b7fe60fc4d655e60ab1c19ef4a5b390d282554da', 'message': 'Revert ""Allow cinder-backup to be configured to use S3 backend.""\n\nThis reverts commit 73fc230fe3f1d159b5bb9d62a6e15f93cecb6e7c.\n\nReason for revert: CI jobs failing with ""msg"": ""{{ s3_url }}: \'s3_url\' is undefined""\n\nChange-Id: Iba7099988cea0c0d8254b9e202309cd9c82a984d\n'}]",3,851062,b7fe60fc4d655e60ab1c19ef4a5b390d282554da,10,7,1,22629,,,0,"Revert ""Allow cinder-backup to be configured to use S3 backend.""

This reverts commit 73fc230fe3f1d159b5bb9d62a6e15f93cecb6e7c.

Reason for revert: CI jobs failing with ""msg"": ""{{ s3_url }}: 's3_url' is undefined""

Change-Id: Iba7099988cea0c0d8254b9e202309cd9c82a984d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/851062/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/group_vars/all.yml', 'releasenotes/notes/s3-cinder-backup-180f57b6d0e417f2.yaml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'etc/kolla/globals.yml']",5,b7fe60fc4d655e60ab1c19ef4a5b390d282554da,s3-cinder-backup,"# Valid options are [ nfs, swift, ceph ]","# Valid options are [ nfs, swift, ceph, s3 ]# Cinder backup S3 options #cinder_backup_s3_endpoint: ""{{ s3_url }}"" #cinder_backup_s3_store_bucket: ""volumebackups"" #cinder_backup_s3_store_access_key: ""{{ s3_access_key }}"" #cinder_backup_s3_store_secret_key: ""{{ s3_secret_key }}"" ",2,25
openstack%2Fansible-collections-openstack~master~Ie7664ab088f9b7fde9ce2d8d29f58f70e481b041,openstack/ansible-collections-openstack,master,Ie7664ab088f9b7fde9ce2d8d29f58f70e481b041,Bumped minimum supported Ansible release to 2.11 and dropped older jobs,NEW,2022-07-20 08:38:13.000000000,2022-07-27 09:01:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-07-20 08:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/996d0baa798ac3ff24b4e60e2a7edb3e10086fdc', 'message': 'Bumped minimum supported Ansible release to 2.11 and dropped older jobs\n\nAnsible releases older than 2.11 are EOL [1]. Fedora 35 [2], CentOS\n8 Stream [3] and CentOS 9 Stream [4] as well as their Red Hat\nEnterprise Linux counterparts have newer Ansible releases. Debian 11\n(Bullseye) [5] and Ubuntu 22.04 LTS (Jammy Jellyfish) [6] have\nAnsible 2.10 only, but they are also missing compatible releases of\nOpenStack SDK (>=0.99.0). Debian and Ubuntu users either have to use\nother installation sources such as PyPI to get OpenStack SDK >=0.99.0\nwhich will also allow them to get ansible-core>=2.12 or they wait for\nthe next distribution releases which will bring both, too.\n\n[1] https://docs.ansible.com/ansible/devel/reference_appendices/release_and_maintenance.html\n[2] https://src.fedoraproject.org/rpms/ansible-core\n[3] https://centos.pkgs.org/8-stream/centos-appstream-x86_64/\n[4] https://centos.pkgs.org/9-stream/centos-appstream-x86_64/\n[5] https://packages.debian.org/bullseye/ansible\n[6] https://packages.ubuntu.com/jammy/ansible\n\nChange-Id: Ie7664ab088f9b7fde9ce2d8d29f58f70e481b041\n'}, {'number': 2, 'created': '2022-07-20 09:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f794af30d1118267828a32ea75efb8840883476e', 'message': 'Bumped minimum supported Ansible release to 2.11 and dropped older jobs\n\nAnsible releases older than 2.11 are EOL [1]. Fedora 35 [2], CentOS\n8 Stream [3] and CentOS 9 Stream [4] as well as their Red Hat\nEnterprise Linux counterparts have newer Ansible releases. Debian 11\n(Bullseye) [5] and Ubuntu 22.04 LTS (Jammy Jellyfish) [6] have\nAnsible 2.10 only, but they are also missing compatible releases of\nOpenStack SDK (>=0.99.0). Debian and Ubuntu users either have to use\nother installation sources such as PyPI to get OpenStack SDK >=0.99.0\nwhich will also allow them to get ansible-core>=2.12 or they wait for\nthe next distribution releases which will bring both, too.\n\n[1] https://docs.ansible.com/ansible/devel/reference_appendices/release_and_maintenance.html\n[2] https://src.fedoraproject.org/rpms/ansible-core\n[3] https://centos.pkgs.org/8-stream/centos-appstream-x86_64/\n[4] https://centos.pkgs.org/9-stream/centos-appstream-x86_64/\n[5] https://packages.debian.org/bullseye/ansible\n[6] https://packages.ubuntu.com/jammy/ansible\n\nChange-Id: Ie7664ab088f9b7fde9ce2d8d29f58f70e481b041\n'}, {'number': 3, 'created': '2022-07-22 18:24:30.000000000', 'files': ['meta/runtime.yml', '.zuul.yaml', 'tests/requirements-ansible-2.9.txt', 'tox.ini', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f0ea502b5a5393bbc8eccf383be548ff4baf0c04', 'message': 'Bumped minimum supported Ansible release to 2.11 and dropped older jobs\n\nAnsible releases older than 2.11 are EOL [1]. Fedora 35 [2], CentOS\n8 Stream [3] and CentOS 9 Stream [4] as well as their Red Hat\nEnterprise Linux counterparts have newer Ansible releases. Debian 11\n(Bullseye) [5] and Ubuntu 22.04 LTS (Jammy Jellyfish) [6] have\nAnsible 2.10 only, but they are also missing compatible releases of\nOpenStack SDK (>=0.99.0). Debian and Ubuntu users either have to use\nother installation sources such as PyPI to get OpenStack SDK >=0.99.0\nwhich will also allow them to get ansible-core>=2.12 or they wait for\nthe next distribution releases which will bring both, too.\n\n[1] https://docs.ansible.com/ansible/devel/reference_appendices/release_and_maintenance.html\n[2] https://src.fedoraproject.org/rpms/ansible-core\n[3] https://centos.pkgs.org/8-stream/centos-appstream-x86_64/\n[4] https://centos.pkgs.org/9-stream/centos-appstream-x86_64/\n[5] https://packages.debian.org/bullseye/ansible\n[6] https://packages.ubuntu.com/jammy/ansible\n\nChange-Id: Ie7664ab088f9b7fde9ce2d8d29f58f70e481b041\n'}]",1,850463,f0ea502b5a5393bbc8eccf383be548ff4baf0c04,7,2,3,32962,,,0,"Bumped minimum supported Ansible release to 2.11 and dropped older jobs

Ansible releases older than 2.11 are EOL [1]. Fedora 35 [2], CentOS
8 Stream [3] and CentOS 9 Stream [4] as well as their Red Hat
Enterprise Linux counterparts have newer Ansible releases. Debian 11
(Bullseye) [5] and Ubuntu 22.04 LTS (Jammy Jellyfish) [6] have
Ansible 2.10 only, but they are also missing compatible releases of
OpenStack SDK (>=0.99.0). Debian and Ubuntu users either have to use
other installation sources such as PyPI to get OpenStack SDK >=0.99.0
which will also allow them to get ansible-core>=2.12 or they wait for
the next distribution releases which will bring both, too.

[1] https://docs.ansible.com/ansible/devel/reference_appendices/release_and_maintenance.html
[2] https://src.fedoraproject.org/rpms/ansible-core
[3] https://centos.pkgs.org/8-stream/centos-appstream-x86_64/
[4] https://centos.pkgs.org/9-stream/centos-appstream-x86_64/
[5] https://packages.debian.org/bullseye/ansible
[6] https://packages.ubuntu.com/jammy/ansible

Change-Id: Ie7664ab088f9b7fde9ce2d8d29f58f70e481b041
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/63/850463/3 && git format-patch -1 --stdout FETCH_HEAD,"['meta/runtime.yml', '.zuul.yaml', 'tests/requirements-ansible-2.9.txt', 'tox.ini', 'README.md']",5,996d0baa798ac3ff24b4e60e2a7edb3e10086fdc,bump-ansible,"pip install ""ansible-core>=2.11"" ""openstacksdk>=0.99.0""","pip install ""ansible>=2.9"" ""openstacksdk>=0.99.0""",2,49
openstack%2Ftripleo-quickstart~master~I8b725e2ef6d713451403b9154f5a268084783131,openstack/tripleo-quickstart,master,I8b725e2ef6d713451403b9154f5a268084783131,Remove undercloud_enable_paunch from fs and tidy up fs 66,MERGED,2022-07-20 10:42:09.000000000,2022-07-27 08:50:53.000000000,2022-07-26 23:26:04.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-07-20 10:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0be1a62c3fbf320f39e10104783bff942a1aab80', 'message': 'Remove undercloud_enable_paunch from fs and tidy up fs 66\n\nFS 66 was added in [1] and per review comments there this patch\nremoves the unused undercloud_enable_paunch (see [2] for other\nrelated reviews) and other minor improvements in the featureset.\n\nThis parameter is also removed from all other featuresets.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/841582\n[2] https://review.opendev.org/q/topic:oooci_remove_enable_paunch\n\nChange-Id: I8b725e2ef6d713451403b9154f5a268084783131\n'}, {'number': 2, 'created': '2022-07-25 12:39:10.000000000', 'files': ['config/general_config/featureset066.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ae8de6541c343ae29a653a615114774eaaaf43e5', 'message': 'Remove undercloud_enable_paunch from fs and tidy up fs 66\n\nFS 66 was added in [1] and per review comments there this patch\nremoves the unused undercloud_enable_paunch and other minor\nimprovements in the featureset.\n\n[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/841582\n\nChange-Id: I8b725e2ef6d713451403b9154f5a268084783131\n'}]",10,850507,ae8de6541c343ae29a653a615114774eaaaf43e5,25,8,2,8449,,,0,"Remove undercloud_enable_paunch from fs and tidy up fs 66

FS 66 was added in [1] and per review comments there this patch
removes the unused undercloud_enable_paunch and other minor
improvements in the featureset.

[1] https://review.opendev.org/c/openstack/tripleo-quickstart/+/841582

Change-Id: I8b725e2ef6d713451403b9154f5a268084783131
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/07/850507/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset027.yml', 'config/general_config/featureset065.yml', 'config/general_config/featureset010.yml', 'config/general_config/featureset050.yml', 'config/general_config/featureset066.yml']",5,0be1a62c3fbf320f39e10104783bff942a1aab80,oooci_mixed_rhel,# tempest_ping_router https://bugs.launchpad.net/tripleo/+bug/1981322,"undercloud_enable_paunch: false {%- if ansible_distribution in [""RedHat"", ""CentOS""] and ansible_distribution_major_version|int < 8 %} {'IronicIPXEUefiSnpOnly': 'false'} {%- else -%} {%- endif -%}",1,15
openstack%2Freleases~master~I1e213d0b9b2c6972458434b0a8f2b14303908d3b,openstack/releases,master,I1e213d0b9b2c6972458434b0a8f2b14303908d3b,EOL Kayobe Stein,MERGED,2022-07-01 06:15:05.000000000,2022-07-27 08:36:10.000000000,2022-07-27 08:36:10.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 06:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/68eb18fd73d3e8bf68ddeb2f74dc5de8a53b4d7b', 'message': 'EOL Kayobe Stein\n\nKayobe Stein had no releases and no deliverable file and thus was\nmissed when other Kolla deliverables were EOLed.\nThe team has treated the branch as EOL.\nNo mail notification is being sent for this as to avoid potential\nconfusion.\nThis is done to EOL Train properly.\n\nChange-Id: I1e213d0b9b2c6972458434b0a8f2b14303908d3b\n'}, {'number': 2, 'created': '2022-07-26 18:17:13.000000000', 'files': ['deliverables/stein/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/69b871eb9c700fccd392b728696b4bf284c57dfd', 'message': 'EOL Kayobe Stein\n\nKayobe Stein had no releases and no deliverable file and thus was\nmissed when other Kolla deliverables were EOLed.\nThe team has treated the branch as EOL.\nNo mail notification is being sent for this as to avoid potential\nconfusion.\nThis is done to EOL Train properly.\n\nChange-Id: I1e213d0b9b2c6972458434b0a8f2b14303908d3b\n'}]",4,848389,69b871eb9c700fccd392b728696b4bf284c57dfd,15,3,2,30491,,,0,"EOL Kayobe Stein

Kayobe Stein had no releases and no deliverable file and thus was
missed when other Kolla deliverables were EOLed.
The team has treated the branch as EOL.
No mail notification is being sent for this as to avoid potential
confusion.
This is done to EOL Train properly.

Change-Id: I1e213d0b9b2c6972458434b0a8f2b14303908d3b
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/848389/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/kayobe.yaml'],1,68eb18fd73d3e8bf68ddeb2f74dc5de8a53b4d7b,eol-kolla-train,--- storyboard: openstack/kayobe release-model: cycle-trailing team: kolla type: other releases: - version: stein-eol projects: - repo: openstack/kayobe hash: 836a714508cc494231b88f43fafd017397ece920 - repo: openstack/kayobe-config hash: d0644c926eb9689041554a6549ddcac3d055cab1 - repo: openstack/kayobe-config-dev hash: 22049a40798573cad1c60a7514933d56d54d2548 repository-settings: openstack/kayobe: {} openstack/kayobe-config: flags: - no-artifact-build-job openstack/kayobe-config-dev: flags: - no-artifact-build-job ,,22,0
openstack%2Fsushy~stable%2Fxena~Ic52c4353cb1e1674511417223de10fa625b99af1,openstack/sushy,stable/xena,Ic52c4353cb1e1674511417223de10fa625b99af1,"Handle AccessError with Basic Auth instead of ""reauth""",MERGED,2022-07-26 18:01:21.000000000,2022-07-27 08:34:16.000000000,2022-07-27 08:32:39.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-26 18:01:21.000000000', 'files': ['sushy/auth.py', 'sushy/main.py', 'releasenotes/notes/handle-basic-auth-access-errors-393b368b31f5cad2.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/eb80989675aeceaca6b39e537d31dc17dba05377', 'message': 'Handle AccessError with Basic Auth instead of ""reauth""\n\nAn operator reported issues when changing the password on a physical\nmachine and in Ironic, because connections are cached. However when\nthey supplied logs, they were actually not raising an error back to\nIronic that signaled an authentication failure, which would have\ntriggered the creation of a new session.\n\nThis is now handled appropriately.\n\nStory: 2010162\nTask: 45823\n\nChange-Id: Ic52c4353cb1e1674511417223de10fa625b99af1\n(cherry picked from commit 10578574e8902f52e1cd81f49b007f58f9a5d30e)\n'}]",0,851060,eb80989675aeceaca6b39e537d31dc17dba05377,9,2,1,11655,,,0,"Handle AccessError with Basic Auth instead of ""reauth""

An operator reported issues when changing the password on a physical
machine and in Ironic, because connections are cached. However when
they supplied logs, they were actually not raising an error back to
Ironic that signaled an authentication failure, which would have
triggered the creation of a new session.

This is now handled appropriately.

Story: 2010162
Task: 45823

Change-Id: Ic52c4353cb1e1674511417223de10fa625b99af1
(cherry picked from commit 10578574e8902f52e1cd81f49b007f58f9a5d30e)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/60/851060/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/auth.py', 'sushy/main.py', 'releasenotes/notes/handle-basic-auth-access-errors-393b368b31f5cad2.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",5,eb80989675aeceaca6b39e537d31dc17dba05377,," self.session.auth = None self.session.auth = None self.session.auth = None self.session.auth = None self.conn._session = self.session self.session.auth = None self.conn._session = self.session @mock.patch.object(connector.LOG, 'warning', autospec=True) def test_access_error_basic_auth(self, mock_log): self.conn._auth.can_refresh_session.return_value = False self.conn._session.auth = ('foo', 'bar') self.request.return_value.status_code = http_client.FORBIDDEN mock_response = mock.Mock() mock_response.json.side_effect = ValueError('no json') mock_response.status_code = http_client.FORBIDDEN self.request.return_value.json.side_effect = ValueError('no json') with self.assertRaisesRegex(exceptions.AccessError, 'unknown error') as cm: self.conn._op('GET', 'http://redfish/v1/SessionService') exc = cm.exception self.assertEqual(http_client.FORBIDDEN, exc.status_code) self.conn._auth.authenticate.assert_not_called() mock_log.assert_called_once_with( ""We have encountered an AccessError when using 'basic' "" ""authentication. %(err)s"", {'err': 'HTTP GET http://redfish/v1/SessionService ' 'returned code HTTPStatus.FORBIDDEN. unknown error ' 'Extended information: none'} )",,50,1
openstack%2Fsushy~stable%2Fyoga~Ic52c4353cb1e1674511417223de10fa625b99af1,openstack/sushy,stable/yoga,Ic52c4353cb1e1674511417223de10fa625b99af1,"Handle AccessError with Basic Auth instead of ""reauth""",MERGED,2022-07-26 18:01:05.000000000,2022-07-27 08:34:01.000000000,2022-07-27 08:32:34.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-26 18:01:05.000000000', 'files': ['sushy/auth.py', 'sushy/main.py', 'releasenotes/notes/handle-basic-auth-access-errors-393b368b31f5cad2.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/932ea334d450c5d46385d1c1dda295ed11b56324', 'message': 'Handle AccessError with Basic Auth instead of ""reauth""\n\nAn operator reported issues when changing the password on a physical\nmachine and in Ironic, because connections are cached. However when\nthey supplied logs, they were actually not raising an error back to\nIronic that signaled an authentication failure, which would have\ntriggered the creation of a new session.\n\nThis is now handled appropriately.\n\nStory: 2010162\nTask: 45823\n\nChange-Id: Ic52c4353cb1e1674511417223de10fa625b99af1\n(cherry picked from commit 10578574e8902f52e1cd81f49b007f58f9a5d30e)\n'}]",0,851059,932ea334d450c5d46385d1c1dda295ed11b56324,9,2,1,11655,,,0,"Handle AccessError with Basic Auth instead of ""reauth""

An operator reported issues when changing the password on a physical
machine and in Ironic, because connections are cached. However when
they supplied logs, they were actually not raising an error back to
Ironic that signaled an authentication failure, which would have
triggered the creation of a new session.

This is now handled appropriately.

Story: 2010162
Task: 45823

Change-Id: Ic52c4353cb1e1674511417223de10fa625b99af1
(cherry picked from commit 10578574e8902f52e1cd81f49b007f58f9a5d30e)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/59/851059/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/auth.py', 'sushy/main.py', 'releasenotes/notes/handle-basic-auth-access-errors-393b368b31f5cad2.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",5,932ea334d450c5d46385d1c1dda295ed11b56324,," self.session.auth = None self.session.auth = None self.session.auth = None self.session.auth = None self.conn._session = self.session self.session.auth = None self.conn._session = self.session @mock.patch.object(connector.LOG, 'warning', autospec=True) def test_access_error_basic_auth(self, mock_log): self.conn._auth.can_refresh_session.return_value = False self.conn._session.auth = ('foo', 'bar') self.request.return_value.status_code = http_client.FORBIDDEN mock_response = mock.Mock() mock_response.json.side_effect = ValueError('no json') mock_response.status_code = http_client.FORBIDDEN self.request.return_value.json.side_effect = ValueError('no json') with self.assertRaisesRegex(exceptions.AccessError, 'unknown error') as cm: self.conn._op('GET', 'http://redfish/v1/SessionService') exc = cm.exception self.assertEqual(http_client.FORBIDDEN, exc.status_code) self.conn._auth.authenticate.assert_not_called() mock_log.assert_called_once_with( ""We have encountered an AccessError when using 'basic' "" ""authentication. %(err)s"", {'err': 'HTTP GET http://redfish/v1/SessionService ' 'returned code HTTPStatus.FORBIDDEN. unknown error ' 'Extended information: none'} )",,50,1
openstack%2Fsushy~stable%2Fwallaby~Ic52c4353cb1e1674511417223de10fa625b99af1,openstack/sushy,stable/wallaby,Ic52c4353cb1e1674511417223de10fa625b99af1,"Handle AccessError with Basic Auth instead of ""reauth""",MERGED,2022-07-26 18:01:37.000000000,2022-07-27 08:34:00.000000000,2022-07-27 08:32:28.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-07-26 18:01:37.000000000', 'files': ['sushy/auth.py', 'sushy/main.py', 'releasenotes/notes/handle-basic-auth-access-errors-393b368b31f5cad2.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/73cbb5129f584e3fa5831eef5865225fdad45dda', 'message': 'Handle AccessError with Basic Auth instead of ""reauth""\n\nAn operator reported issues when changing the password on a physical\nmachine and in Ironic, because connections are cached. However when\nthey supplied logs, they were actually not raising an error back to\nIronic that signaled an authentication failure, which would have\ntriggered the creation of a new session.\n\nThis is now handled appropriately.\n\nStory: 2010162\nTask: 45823\n\nChange-Id: Ic52c4353cb1e1674511417223de10fa625b99af1\n(cherry picked from commit 10578574e8902f52e1cd81f49b007f58f9a5d30e)\n'}]",0,851061,73cbb5129f584e3fa5831eef5865225fdad45dda,9,2,1,11655,,,0,"Handle AccessError with Basic Auth instead of ""reauth""

An operator reported issues when changing the password on a physical
machine and in Ironic, because connections are cached. However when
they supplied logs, they were actually not raising an error back to
Ironic that signaled an authentication failure, which would have
triggered the creation of a new session.

This is now handled appropriately.

Story: 2010162
Task: 45823

Change-Id: Ic52c4353cb1e1674511417223de10fa625b99af1
(cherry picked from commit 10578574e8902f52e1cd81f49b007f58f9a5d30e)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/61/851061/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/auth.py', 'sushy/main.py', 'releasenotes/notes/handle-basic-auth-access-errors-393b368b31f5cad2.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",5,73cbb5129f584e3fa5831eef5865225fdad45dda,," self.session.auth = None self.session.auth = None self.session.auth = None self.session.auth = None self.conn._session = self.session self.session.auth = None self.conn._session = self.session @mock.patch.object(connector.LOG, 'warning', autospec=True) def test_access_error_basic_auth(self, mock_log): self.conn._auth.can_refresh_session.return_value = False self.conn._session.auth = ('foo', 'bar') self.request.return_value.status_code = http_client.FORBIDDEN mock_response = mock.Mock() mock_response.json.side_effect = ValueError('no json') mock_response.status_code = http_client.FORBIDDEN self.request.return_value.json.side_effect = ValueError('no json') with self.assertRaisesRegex(exceptions.AccessError, 'unknown error') as cm: self.conn._op('GET', 'http://redfish/v1/SessionService') exc = cm.exception self.assertEqual(http_client.FORBIDDEN, exc.status_code) self.conn._auth.authenticate.assert_not_called() mock_log.assert_called_once_with( ""We have encountered an AccessError when using 'basic' "" ""authentication. %(err)s"", {'err': 'HTTP GET http://redfish/v1/SessionService ' 'returned code HTTPStatus.FORBIDDEN. unknown error ' 'Extended information: none'} )",,50,1
openstack%2Freleases~master~Ieec9eec1604efb7a4d56db680f478e3075f361c5,openstack/releases,master,Ieec9eec1604efb7a4d56db680f478e3075f361c5,EOL Kayobe Rocky,MERGED,2022-07-01 06:13:23.000000000,2022-07-27 08:32:48.000000000,2022-07-27 08:32:48.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 06:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/12ccc7e7252ea8fc8c8321b250850df70bb46bb3', 'message': 'EOL Kayobe Queens\n\nKayobe Queens had no releases and no deliverable file and thus was\nmissed when other Kolla deliverables were EOLed.\nThe team has treated the branch as EOL.\nNo mail notification is being sent for this as to avoid potential\nconfusion.\nThis is done to EOL Train properly.\n\nChange-Id: Ieec9eec1604efb7a4d56db680f478e3075f361c5\n'}, {'number': 2, 'created': '2022-07-01 06:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bc373063b44c54decabe36e57aeac062489d46f8', 'message': 'EOL Kayobe Rocky\n\nKayobe Rocky had no releases and no deliverable file and thus was\nmissed when other Kolla deliverables were EOLed.\nThe team has treated the branch as EOL.\nNo mail notification is being sent for this as to avoid potential\nconfusion.\nThis is done to EOL Train properly.\n\nChange-Id: Ieec9eec1604efb7a4d56db680f478e3075f361c5\n'}, {'number': 3, 'created': '2022-07-26 18:17:09.000000000', 'files': ['deliverables/rocky/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/10076ea04a419b01671383c0d349dff6ecd8004e', 'message': 'EOL Kayobe Rocky\n\nKayobe Rocky had no releases and no deliverable file and thus was\nmissed when other Kolla deliverables were EOLed.\nThe team has treated the branch as EOL.\nNo mail notification is being sent for this as to avoid potential\nconfusion.\nThis is done to EOL Train properly.\n\nChange-Id: Ieec9eec1604efb7a4d56db680f478e3075f361c5\n'}]",6,848388,10076ea04a419b01671383c0d349dff6ecd8004e,18,3,3,30491,,,0,"EOL Kayobe Rocky

Kayobe Rocky had no releases and no deliverable file and thus was
missed when other Kolla deliverables were EOLed.
The team has treated the branch as EOL.
No mail notification is being sent for this as to avoid potential
confusion.
This is done to EOL Train properly.

Change-Id: Ieec9eec1604efb7a4d56db680f478e3075f361c5
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/848388/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/kayobe.yaml'],1,12ccc7e7252ea8fc8c8321b250850df70bb46bb3,eol-kolla-train,--- storyboard: openstack/kayobe release-model: cycle-trailing team: kolla type: other releases: - version: rocky-eol projects: - repo: openstack/kayobe hash: 5de53a58f525503774326493265eb2132b3e3d53 - repo: openstack/kayobe-config hash: 8b0fbf9a529092741448a447865ee85780f1169c - repo: openstack/kayobe-config-dev hash: cd58437d3cd895dc9ec483f49ff106691d4eb4cc repository-settings: openstack/kayobe: {} openstack/kayobe-config: flags: - no-artifact-build-job openstack/kayobe-config-dev: flags: - no-artifact-build-job ,,22,0
openstack%2Freleases~master~Id308ae74b1b63c82a2d7ec45d324465f850a5564,openstack/releases,master,Id308ae74b1b63c82a2d7ec45d324465f850a5564,EOL Kayobe Queens,MERGED,2022-07-01 06:12:27.000000000,2022-07-27 08:32:45.000000000,2022-07-27 08:32:45.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-01 06:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/63d4ac31b6b53b016cedbae31f754fa151847a12', 'message': 'EOL Kayobe Queens\n\nKayobe Queens had no releases and no deliverable file and thus was\nmissed when other Kolla deliverables were EOLed.\nThe team has treated the branch as EOL.\nNo mail notification is being sent for this as to avoid potential\nconfusion.\nThis is done to EOL Train properly.\n\nChange-Id: Id308ae74b1b63c82a2d7ec45d324465f850a5564\n'}, {'number': 2, 'created': '2022-07-26 18:17:04.000000000', 'files': ['deliverables/queens/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b28f2d2c774dfe9fe8a95947cc87320d20c87b4e', 'message': 'EOL Kayobe Queens\n\nKayobe Queens had no releases and no deliverable file and thus was\nmissed when other Kolla deliverables were EOLed.\nThe team has treated the branch as EOL.\nNo mail notification is being sent for this as to avoid potential\nconfusion.\nThis is done to EOL Train properly.\n\nChange-Id: Id308ae74b1b63c82a2d7ec45d324465f850a5564\n'}]",6,848387,b28f2d2c774dfe9fe8a95947cc87320d20c87b4e,15,4,2,30491,,,0,"EOL Kayobe Queens

Kayobe Queens had no releases and no deliverable file and thus was
missed when other Kolla deliverables were EOLed.
The team has treated the branch as EOL.
No mail notification is being sent for this as to avoid potential
confusion.
This is done to EOL Train properly.

Change-Id: Id308ae74b1b63c82a2d7ec45d324465f850a5564
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/848387/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/kayobe.yaml'],1,63d4ac31b6b53b016cedbae31f754fa151847a12,eol-kolla-train,--- storyboard: openstack/kayobe release-model: cycle-trailing team: kolla type: other releases: - version: queens-eol projects: - repo: openstack/kayobe hash: c5e04c838925f8a04cea68edd05bdf85aac189d3 - repo: openstack/kayobe-config hash: dcc382214d30702c2df442277acb0171c37d08b9 - repo: openstack/kayobe-config-dev hash: a417e0b31e310eaef04b6665be942f7dc86583a6 repository-settings: openstack/kayobe: {} openstack/kayobe-config: flags: - no-artifact-build-job openstack/kayobe-config-dev: flags: - no-artifact-build-job ,,22,0
openstack%2Fnova-powervm~master~Ibe287639fa510bc1fe59906825f6ac9c0d74c725,openstack/nova-powervm,master,Ibe287639fa510bc1fe59906825f6ac9c0d74c725,Use TOX_CONSTRAINTS_FILE,ABANDONED,2022-07-26 06:45:59.000000000,2022-07-27 08:32:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-26 06:45:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/cf248a33f5eb601864ffaf10eb51a431fa32b621', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Ibe287639fa510bc1fe59906825f6ac9c0d74c725\n'}]",1,850975,cf248a33f5eb601864ffaf10eb51a431fa32b621,5,1,1,35058,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Ibe287639fa510bc1fe59906825f6ac9c0d74c725
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/75/850975/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cf248a33f5eb601864ffaf10eb51a431fa32b621,, -c{env:TOX_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:TOX_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Freleases~master~Ida6310dd822e587ce9c424a228fdff5192ba0476,openstack/releases,master,Ida6310dd822e587ce9c424a228fdff5192ba0476,Uncap jsonschema,MERGED,2022-07-25 13:42:57.000000000,2022-07-27 08:31:35.000000000,2022-07-27 08:31:35.000000000,"[{'_account_id': 308}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30750}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-07-25 13:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b8a5494b54ad2d7dec6a50e15ee6eba0c7154dbc', 'message': 'Updating jsonschema constraint\n\nWith the latest upper constraints updating generated patch [1] the\nopenstack-tox-docs job started to fail, due to conflict:\n\nERROR: Cannot install jsonschema<4.0.0 and >=3.2.0 because these\npackage versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested jsonschema<4.0.0 and >=3.2.0\n    The user requested (constraint) jsonschema===4.7.2\n\nThis is because we have jsonschema<4.0.0 in our requirements.txt.\nBy updating the constraint to be >4.0.0 the docs job is passing.\n\n[1] I89576353371aa87d181610eb6242cbe961487af6\n\nChange-Id: Ida6310dd822e587ce9c424a228fdff5192ba0476\n'}, {'number': 2, 'created': '2022-07-25 15:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ee460bd5b0d762e806e4901cf10b6a770b2dbb88', 'message': 'Updating jsonschema constraint\n\nWith the latest upper constraints updating generated patch [1] the\nopenstack-tox-docs job started to fail, due to conflict:\n\nERROR: Cannot install jsonschema<4.0.0 and >=3.2.0 because these\npackage versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested jsonschema<4.0.0 and >=3.2.0\n    The user requested (constraint) jsonschema===4.7.2\n\nThis is because we have jsonschema<4.0.0 in our requirements.txt.\nBy updating the constraint to be >4.0.0 the docs job is passing.\n\nDate validation needed to be updated as well, because a deprecated\nusage of validator extending method was used in the code, which was\nremoved [2] from jsonschema with the 4.0.0 release. This patch replaces\nthat with adding a TYPE_CHECKER instead.\n\n[1] I89576353371aa87d181610eb6242cbe961487af6\n[2] https://github.com/python-jsonschema/jsonschema/commit/d9f63840609176f0b7328f2088c3b2a4016526cd\n\nChange-Id: Ida6310dd822e587ce9c424a228fdff5192ba0476\n'}, {'number': 3, 'created': '2022-07-25 16:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7317d111fbe93d8b0d936212d19fe2f0fad1ee3f', 'message': 'Updating jsonschema constraint\n\nWith the latest upper constraints updating generated patch [1] the\nopenstack-tox-docs job started to fail, due to conflict:\n\nERROR: Cannot install jsonschema<4.0.0 and >=3.2.0 because these\npackage versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested jsonschema<4.0.0 and >=3.2.0\n    The user requested (constraint) jsonschema===4.7.2\n\nThis is because we have jsonschema<4.0.0 in our requirements.txt.\nBy updating the constraint to be >4.0.0 the docs job is passing.\n\nDate validation needed to be updated as well, because a deprecated\nusage of validator extending method was used in the code, which was\nremoved [2] from jsonschema with the 4.0.0 release. This patch replaces\nthat with adding a TYPE_CHECKER instead.\n\nWith the new jsonschema constraint openstack-tox-py36 job does not pass\nanymore, but py36 is dropped from zed anyway. That job is pulled in by\nan old job template, which needs to be replaced to the new zed job\ntemplates, too.\n\n[1] I89576353371aa87d181610eb6242cbe961487af6\n[2] https://github.com/python-jsonschema/jsonschema/commit/d9f63840609176f0b7328f2088c3b2a4016526cd\n\nChange-Id: Ida6310dd822e587ce9c424a228fdff5192ba0476\n'}, {'number': 4, 'created': '2022-07-25 16:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/73bff4cfee71c35fd92fbff97f45ddf07feef41c', 'message': 'Updating jsonschema constraint\n\nWith the latest upper constraints updating generated patch [1] the\nopenstack-tox-docs job started to fail, due to conflict:\n\nERROR: Cannot install jsonschema<4.0.0 and >=3.2.0 because these\npackage versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested jsonschema<4.0.0 and >=3.2.0\n    The user requested (constraint) jsonschema===4.7.2\n\nThis is because we have jsonschema<4.0.0 in our requirements.txt.\nBy updating the constraint to be >4.0.0 the docs job is passing.\n\nDate validation needed to be updated as well, because a deprecated\nusage of validator extending method was used in the code, which was\nremoved [2] from jsonschema with the 4.0.0 release. This patch replaces\nthat with adding a TYPE_CHECKER instead.\n\nWith the new jsonschema constraint openstack-tox-py36 job does not pass\nanymore, but py36 is dropped from zed anyway. That job is pulled in by\nan old job template, which needs to be replaced to the new zed job\ntemplates, too.\n\n[1] I89576353371aa87d181610eb6242cbe961487af6\n[2] https://github.com/python-jsonschema/jsonschema/commit/d9f63840609176f0b7328f2088c3b2a4016526cd\n\nChange-Id: Ida6310dd822e587ce9c424a228fdff5192ba0476\n'}, {'number': 5, 'created': '2022-07-26 10:24:48.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'openstack_releases/cmds/check_schema.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/e83bb1f69a4612941c0aec519452f3e6cf7c5cd4', 'message': 'Uncap jsonschema\n\nWith the latest upper constraints updating generated patch [1] the\nopenstack-tox-docs job started to fail, due to conflict:\n\nERROR: Cannot install jsonschema<4.0.0 and >=3.2.0 because these\npackage versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested jsonschema<4.0.0 and >=3.2.0\n    The user requested (constraint) jsonschema===4.7.2\n\nThis is because we have jsonschema<4.0.0 in our requirements.txt.\nBy uncapping the constraint the docs job is passing.\n\nDate validation needed to be updated as well, because a deprecated\nusage of validator extending method was used in the code, which was\nremoved [2] from jsonschema with the 4.0.0 release. This patch replaces\nthat with adding a TYPE_CHECKER instead.\n\nWith the new jsonschema constraint openstack-tox-py36 job does not pass\nanymore, but py36 is dropped from zed anyway. That job is pulled in by\nan old job template, which needs to be replaced to the new zed job\ntemplates, too.\n\n[1] I89576353371aa87d181610eb6242cbe961487af6\n[2] https://github.com/python-jsonschema/jsonschema/commit/d9f63840609176f0b7328f2088c3b2a4016526cd\n\nCloses-Bug: #1982757\nChange-Id: Ida6310dd822e587ce9c424a228fdff5192ba0476\n'}]",4,850889,e83bb1f69a4612941c0aec519452f3e6cf7c5cd4,22,6,5,17685,,,0,"Uncap jsonschema

With the latest upper constraints updating generated patch [1] the
openstack-tox-docs job started to fail, due to conflict:

ERROR: Cannot install jsonschema<4.0.0 and >=3.2.0 because these
package versions have conflicting dependencies.

The conflict is caused by:
    The user requested jsonschema<4.0.0 and >=3.2.0
    The user requested (constraint) jsonschema===4.7.2

This is because we have jsonschema<4.0.0 in our requirements.txt.
By uncapping the constraint the docs job is passing.

Date validation needed to be updated as well, because a deprecated
usage of validator extending method was used in the code, which was
removed [2] from jsonschema with the 4.0.0 release. This patch replaces
that with adding a TYPE_CHECKER instead.

With the new jsonschema constraint openstack-tox-py36 job does not pass
anymore, but py36 is dropped from zed anyway. That job is pulled in by
an old job template, which needs to be replaced to the new zed job
templates, too.

[1] I89576353371aa87d181610eb6242cbe961487af6
[2] https://github.com/python-jsonschema/jsonschema/commit/d9f63840609176f0b7328f2088c3b2a4016526cd

Closes-Bug: #1982757
Change-Id: Ida6310dd822e587ce9c424a228fdff5192ba0476
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/850889/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b8a5494b54ad2d7dec6a50e15ee6eba0c7154dbc,jsonschema-4-x,jsonschema>4.0.0,"jsonschema<4.0.0,>=3.2.0",1,1
openstack%2Ftripleo-quickstart~master~I6d05e80c14cc7e3b7ba645186d325a0b2288e0ee,openstack/tripleo-quickstart,master,I6d05e80c14cc7e3b7ba645186d325a0b2288e0ee,[DNM] exclude libknet1,ABANDONED,2022-07-20 03:33:44.000000000,2022-07-27 08:20:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-20 03:33:44.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cab59a466b190060a07bd1c66c024872cd5f1725', 'message': '[DNM] exclude libknet1\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I6d05e80c14cc7e3b7ba645186d325a0b2288e0ee\n'}]",0,850441,cab59a466b190060a07bd1c66c024872cd5f1725,6,2,1,12393,,,0,"[DNM] exclude libknet1

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I6d05e80c14cc7e3b7ba645186d325a0b2288e0ee
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/41/850441/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml']",2,cab59a466b190060a07bd1c66c024872cd5f1725,bug/1982227,, exclude: - python3-sqlalchemy-*,0,4
openstack%2Fnova~master~I738ae516d8d76c819ccdf73a1a87acbcb6d2ad24,openstack/nova,master,I738ae516d8d76c819ccdf73a1a87acbcb6d2ad24,Block os-vif 3.0.0,ABANDONED,2022-07-26 08:17:35.000000000,2022-07-27 08:14:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-26 08:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/533b9c1b6c45741681d9b292364d80f6294ade9b', 'message': 'DNM: Avoid os-vif 3.0.0\n\nWe suspect this release to block our nova-next and ovs-hybrid-plug jobs\nby trampling a live-migration test that verifies the subport state.\n\nChange-Id: I738ae516d8d76c819ccdf73a1a87acbcb6d2ad24\nRelated-Bug: #1940425\n'}, {'number': 2, 'created': '2022-07-26 09:07:42.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/d5e6b85d30c7ffee1a6eb737bfd0c0bc051c5495', 'message': 'Block os-vif 3.0.0\n\nWe suspect this release to block our nova-next and ovs-hybrid-plug jobs\nby trampling a live-migration test that verifies the subport state.\n\nDepends-On: Ie77f935a79d8681d133833e2ccbea6140c625cb2\nChange-Id: I738ae516d8d76c819ccdf73a1a87acbcb6d2ad24\nRelated-Bug: #1940425\n'}]",0,850998,d5e6b85d30c7ffee1a6eb737bfd0c0bc051c5495,12,1,2,7166,,,0,"Block os-vif 3.0.0

We suspect this release to block our nova-next and ovs-hybrid-plug jobs
by trampling a live-migration test that verifies the subport state.

Depends-On: Ie77f935a79d8681d133833e2ccbea6140c625cb2
Change-Id: I738ae516d8d76c819ccdf73a1a87acbcb6d2ad24
Related-Bug: #1940425
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/850998/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,533b9c1b6c45741681d9b292364d80f6294ade9b,bug/1940425,"os-vif>=1.15.2,!=3.0.0 # Apache-2.0 #TBC with bug 1940425",os-vif>=1.15.2 # Apache-2.0,1,1
openstack%2Fcharm-nova-compute~master~I3bba5ea2b88f5e240dc1909fcdc0151aa40b9633,openstack/charm-nova-compute,master,I3bba5ea2b88f5e240dc1909fcdc0151aa40b9633,Send default cpu governor value for nrpe to check,ABANDONED,2022-07-27 08:00:13.000000000,2022-07-27 08:01:35.000000000,,[],"[{'number': 1, 'created': '2022-07-27 08:00:13.000000000', 'files': ['hooks/nova_compute_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/af34c12858b0fbdfb8852338df8620af1cc2577b', 'message': ""Send default cpu governor value for nrpe to check\n\nThe nrpe check for cpu governor expects the relation key\n'requested_cpu_governor' to be set as 'performance' as an initial\nvalue.\nIf a value is set through the nrpe charm configuration, it will take\nprecedence over the initial value.\n\nSigned-off-by: Mert Kırpıcı <mert.kirpici@canonical.com>\nChange-Id: I3bba5ea2b88f5e240dc1909fcdc0151aa40b9633\n""}]",0,851190,af34c12858b0fbdfb8852338df8620af1cc2577b,2,0,1,34913,,,0,"Send default cpu governor value for nrpe to check

The nrpe check for cpu governor expects the relation key
'requested_cpu_governor' to be set as 'performance' as an initial
value.
If a value is set through the nrpe charm configuration, it will take
precedence over the initial value.

Signed-off-by: Mert Kırpıcı <mert.kirpici@canonical.com>
Change-Id: I3bba5ea2b88f5e240dc1909fcdc0151aa40b9633
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/90/851190/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_compute_hooks.py'],1,af34c12858b0fbdfb8852338df8620af1cc2577b,topic/nrpe_cpu_governor," relation_settings = { 'requested_cpu_governor': 'performance' } for rid in relation_ids('nrpe-external-master'): relation_set( relation_id=rid, relation_settings=relation_settings ) ",,9,0
openstack%2Fkolla-ansible~master~Id6ff6206714581555baacecebfb6d8dd53bed8ac,openstack/kolla-ansible,master,Id6ff6206714581555baacecebfb6d8dd53bed8ac,Allow cinder-backup to be configured to use S3 backend.,MERGED,2022-07-13 14:41:48.000000000,2022-07-27 07:44:23.000000000,2022-07-26 09:04:00.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30984}, {'_account_id': 33855}]","[{'number': 1, 'created': '2022-07-13 14:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4223f5be15776b13de076200dfb416ec6107ea4e', 'message': 'Allow cinder-backup to be configured to use S3 backend.\n\nAdded options to configure S3 cinder backup driver, so cinder backup\ncan use S3 storage, for safekeeping backups.\n\nChange-Id: Id6ff6206714581555baacecebfb6d8dd53bed8ac\n'}, {'number': 2, 'created': '2022-07-13 17:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b316c47631c9040ddf84ef8e9200db5f8524775d', 'message': 'Allow cinder-backup to be configured to use S3 backend.\n\nAdded options to configure S3 cinder backup driver, so cinder backup\ncan use S3 storage, for safekeeping backups.\n\nChange-Id: Id6ff6206714581555baacecebfb6d8dd53bed8ac\n'}, {'number': 3, 'created': '2022-07-13 18:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/857550ab0a94105a211ed5e84f965f4333e24b32', 'message': 'Allow cinder-backup to be configured to use S3 backend.\n\nAdded options to configure S3 cinder backup driver, so cinder backup\ncan use S3 storage, for safekeeping backups.\n\nChange-Id: Id6ff6206714581555baacecebfb6d8dd53bed8ac\n'}, {'number': 4, 'created': '2022-07-18 09:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4389848b7fa355feb323db2314edd61363c925cd', 'message': 'Allow cinder-backup to be configured to use S3 backend.\n\nAdded options to configure S3 cinder backup driver, so cinder backup\ncan use S3 storage, for safekeeping backups.\n\nChange-Id: Id6ff6206714581555baacecebfb6d8dd53bed8ac\n'}, {'number': 5, 'created': '2022-07-19 09:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/674273ad7cb926f0fedf0e0a1fb4cecd7c31b52e', 'message': 'Allow cinder-backup to be configured to use S3 backend.\n\nAdded options to configure S3 cinder backup driver, so cinder backup\ncan use S3 storage, for safekeeping backups.\n\nChange-Id: Id6ff6206714581555baacecebfb6d8dd53bed8ac\n'}, {'number': 6, 'created': '2022-07-21 12:38:34.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/group_vars/all.yml', 'releasenotes/notes/s3-cinder-backup-180f57b6d0e417f2.yaml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73fc230fe3f1d159b5bb9d62a6e15f93cecb6e7c', 'message': 'Allow cinder-backup to be configured to use S3 backend.\n\nAdded options to configure S3 cinder backup driver, so cinder backup\ncan use S3 storage, for safekeeping backups.\n\nChange-Id: Id6ff6206714581555baacecebfb6d8dd53bed8ac\n'}]",43,849711,73fc230fe3f1d159b5bb9d62a6e15f93cecb6e7c,45,6,6,30568,,,0,"Allow cinder-backup to be configured to use S3 backend.

Added options to configure S3 cinder backup driver, so cinder backup
can use S3 storage, for safekeeping backups.

Change-Id: Id6ff6206714581555baacecebfb6d8dd53bed8ac
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/849711/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/group_vars/all.yml', 'releasenotes/notes/s3-cinder-backup-180f57b6d0e417f2.yaml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'etc/kolla/globals.yml']",5,4223f5be15776b13de076200dfb416ec6107ea4e,s3-cinder-backup,"# Valid options are [ nfs, swift, ceph, s3 ]# Cinder backup S3 options #s3_cinder_backup_endpoint: """" #s3_cinder_backup_store_bucket: """" #s3_cinder_backup_store_access_key: """" #s3_cinder_backup_store_secret_key: """" ","# Valid options are [ nfs, swift, ceph ]",31,2
openstack%2Ftripleo-quickstart~master~I8a3339a61d2731ae53e6e89deb57476fdb68c989,openstack/tripleo-quickstart,master,I8a3339a61d2731ae53e6e89deb57476fdb68c989,[DNM] Testing openstack ansible collection version break,ABANDONED,2022-07-26 11:30:10.000000000,2022-07-27 07:38:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-26 11:30:10.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a7de4e233893f20b7acac631be9e8c91937cfdbc', 'message': '[DNM] Testing openstack ansible collection version break\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I8a3339a61d2731ae53e6e89deb57476fdb68c989\n'}]",0,851020,a7de4e233893f20b7acac631be9e8c91937cfdbc,6,2,1,30750,,,0,"[DNM] Testing openstack ansible collection version break

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I8a3339a61d2731ae53e6e89deb57476fdb68c989
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/20/851020/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,a7de4e233893f20b7acac631be9e8c91937cfdbc,lp_1982552, ansible-galaxy -vvv collection install --force \ $(python_cmd) -m pip install --no-cache-dir --force-reinstall . -vvv $(python_cmd) -m pip install --force-reinstall . -vvv, ansible-galaxy collection install --force \ $(python_cmd) -m pip install --no-cache-dir --force-reinstall . $(python_cmd) -m pip install --force-reinstall .,3,3
openstack%2Ftripleo-quickstart-extras~master~Ib91e7b0d394747f09f75a10f81c49e841ce5142b,openstack/tripleo-quickstart-extras,master,Ib91e7b0d394747f09f75a10f81c49e841ce5142b,Allow to remove packages before installing tripleo deps,NEW,2022-03-10 14:04:00.000000000,2022-07-27 07:36:40.000000000,,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-10 14:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5a0c3db8385f4d40aaa9faf6a14b8a33033ce747', 'message': 'Allow to remove packages before installing tripleo deps\n\nSince packages may be added to the official OS base images, we may face\nsituation where a new default package breaks TripleO dependencies.\n\nFor instance, lately a new addition, initscripts-rename-device,\nprevented to install python3-tripleoclient on the newer CS9 GenericCloud\nimages.\n\nThe new ""undercloud_rpm_remove"" parameter allows to list package we want\nto remove before installing the TripleO dependencies, allowing to ensure\nwe\'re on a clean environment.\n\nChange-Id: Ib91e7b0d394747f09f75a10f81c49e841ce5142b\nResolves: #1964477\n'}, {'number': 2, 'created': '2022-03-10 14:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/29c6a2bade2c7c82bb38bdf9d13048760e276b20', 'message': 'Allow to remove packages before installing tripleo deps\n\nSince packages may be added to the official OS base images, we may face\nsituation where a new default package breaks TripleO dependencies.\n\nFor instance, lately a new addition, initscripts-rename-device,\nprevented to install python3-tripleoclient on the newer CS9 GenericCloud\nimages.\n\nThe new ""undercloud_rpm_remove"" parameter allows to list package we want\nto remove before installing the TripleO dependencies, allowing to ensure\nwe\'re on a clean environment.\n\nCloses-Bug: #1964477\nChange-Id: Ib91e7b0d394747f09f75a10f81c49e841ce5142b\n'}, {'number': 3, 'created': '2022-03-10 15:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/087db89906fcd2dbab99f48fa82c15786e92c94d', 'message': 'Allow to remove packages before installing tripleo deps\n\nSince packages may be added to the official OS base images, we may face\nsituation where a new default package breaks TripleO dependencies.\n\nFor instance, lately a new addition, initscripts-rename-device,\nprevented to install python3-tripleoclient on the newer CS9 GenericCloud\nimages.\n\nThe new ""undercloud_rpm_remove"" parameter allows to list package we want\nto remove before installing the TripleO dependencies, allowing to ensure\nwe\'re on a clean environment.\n\nCloses-Bug: #1964477\nChange-Id: Ib91e7b0d394747f09f75a10f81c49e841ce5142b\n'}, {'number': 4, 'created': '2022-03-14 05:57:39.000000000', 'files': ['roles/undercloud-setup/defaults/main.yml', 'roles/undercloud-setup/tasks/package_uninstalls.yml', 'roles/baremetal-undercloud/packages/tasks/main.yml', 'roles/extras-common/README.md', 'roles/extras-common/defaults/main.yml', 'roles/undercloud-setup/templates/remove_packages.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7152e181ee2bc4bfa606a5f775ddf2f59b599067', 'message': 'Allow to remove packages before installing tripleo deps\n\nSince packages may be added to the official OS base images, we may face\nsituation where a new default package breaks TripleO dependencies.\n\nFor instance, lately a new addition, initscripts-rename-device,\nprevented to install python3-tripleoclient on the newer CS9 GenericCloud\nimages.\n\nThe new ""undercloud_rpm_remove"" parameter allows to list package we want\nto remove before installing the TripleO dependencies, allowing to ensure\nwe\'re on a clean environment.\n\nPlease note, this new parameter should be considered as a workaround,\nand a dependency correction should be applied instead - though this may\ntake far longer than just dropping the faulty package.\n\nRelated-Bug: #1964477\nChange-Id: Ib91e7b0d394747f09f75a10f81c49e841ce5142b\n'}]",11,833091,7152e181ee2bc4bfa606a5f775ddf2f59b599067,25,5,4,28223,,,0,"Allow to remove packages before installing tripleo deps

Since packages may be added to the official OS base images, we may face
situation where a new default package breaks TripleO dependencies.

For instance, lately a new addition, initscripts-rename-device,
prevented to install python3-tripleoclient on the newer CS9 GenericCloud
images.

The new ""undercloud_rpm_remove"" parameter allows to list package we want
to remove before installing the TripleO dependencies, allowing to ensure
we're on a clean environment.

Please note, this new parameter should be considered as a workaround,
and a dependency correction should be applied instead - though this may
take far longer than just dropping the faulty package.

Related-Bug: #1964477
Change-Id: Ib91e7b0d394747f09f75a10f81c49e841ce5142b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/91/833091/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-setup/defaults/main.yml', 'roles/undercloud-setup/tasks/package_uninstalls.yml', 'roles/baremetal-undercloud/packages/tasks/main.yml', 'roles/extras-common/README.md', 'roles/undercloud-setup/templates/remove_packages.sh.j2']",5,5a0c3db8385f4d40aaa9faf6a14b8a33033ce747,lp-1964477,#!/usr/bin/env bash ### --start_docs ## Remove selected packages from the Undercloud ## ============================================ ## * Remove initscripts-rename-device ## :: sudo $(command -v dnf || command -v yum) remove -y {{ undercloud_rpm_remove }} ### --stop_docs ,,44,0
openstack%2Fnova~master~I65d01f56a17ee5f44949cc56b86b6862e44b6e56,openstack/nova,master,I65d01f56a17ee5f44949cc56b86b6862e44b6e56,DNM for testing drop of os-vif to 2.8.0,ABANDONED,2022-07-26 09:41:22.000000000,2022-07-27 07:19:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-26 09:41:22.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/288e5b9ab0827d6ea73ecb83b80030272a784ce6', 'message': 'DNM for testing drop of os-vif to 2.8.0\n\nChange-Id: I65d01f56a17ee5f44949cc56b86b6862e44b6e56\n'}]",1,851006,288e5b9ab0827d6ea73ecb83b80030272a784ce6,21,1,1,7166,,,0,"DNM for testing drop of os-vif to 2.8.0

Change-Id: I65d01f56a17ee5f44949cc56b86b6862e44b6e56
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/851006/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,288e5b9ab0827d6ea73ecb83b80030272a784ce6,bug/1940425,# DNM for testing change 850998 ,,2,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1acc299c738ffe33fa61f83ca3a73629109a35fc,openstack/tripleo-heat-templates,stable/train,I1acc299c738ffe33fa61f83ca3a73629109a35fc,[DNM] Testing scenario train jobs,ABANDONED,2022-03-14 18:01:29.000000000,2022-07-27 06:21:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-14 18:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18b8db74515464e92e2c764015f942e98d136382', 'message': '[DNM] Testing scenario train jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/830987\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I1acc299c738ffe33fa61f83ca3a73629109a35fc\n'}, {'number': 2, 'created': '2022-03-15 10:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c386e5d82e312139e81ae595087cc00d5445a97e', 'message': '[DNM] Testing scenario train jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/830987\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I1acc299c738ffe33fa61f83ca3a73629109a35fc\n'}, {'number': 3, 'created': '2022-03-16 08:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99569b3892b48d70dfbcb5163a73fc9ef077673c', 'message': '[DNM] Testing scenario train jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/830987\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I1acc299c738ffe33fa61f83ca3a73629109a35fc\n'}, {'number': 4, 'created': '2022-04-18 04:48:55.000000000', 'files': ['ci/environments/standalone-ipa.yaml', 'ci/environments/scenario012-standalone.yaml', 'ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario002-standalone.yaml', 'ci/environments/scenario003-standalone.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario007-standalone.yaml', 'zuul.d/layout.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba7b6e48c038bdff973ce465da2a518f01fcf110', 'message': '[DNM] Testing scenario train jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/831842\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I1acc299c738ffe33fa61f83ca3a73629109a35fc\n'}]",6,833675,ba7b6e48c038bdff973ce465da2a518f01fcf110,28,2,4,30750,,,0,"[DNM] Testing scenario train jobs

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/831842

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I1acc299c738ffe33fa61f83ca3a73629109a35fc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/833675/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,18b8db74515464e92e2c764015f942e98d136382,scenario-testing-train, - tripleo-ci-centos-7-standalone - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-standalone - tripleo-ci-centos-7-scenario003-standalone - tripleo-ci-centos-7-scenario004-standalone - tripleo-ci-centos-7-scenario010-standalone - tripleo-ci-centos-7-scenario010-ovn-provider-standalone - tripleo-ci-centos-7-standalone-os-tempest, templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - check-requirements - release-notes-jobs-python3 - openstack-python-jobs - tripleo-standalone-scenarios-pipeline - openstack-python3-train-jobs - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-train-pipeline - openstack-tox-pep8 - tripleo-ci-centos-7-content-provider: dependencies: &deps_unit_lint - openstack-tox-pep8 - tripleo-ci-centos-8-content-provider: dependencies: *deps_unit_lint - tripleo-ci-centos-8-containers-undercloud-minion: &undercloud_minion vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^sample-env-generator/undercloud-minion.yaml - ^environments/undercloud/undercloud-minion.yaml - ^deployment/undercloud/minion-rabbitmq-puppet.yaml gate: queue: tripleo jobs: - openstack-tox-pep8 - tripleo-ci-centos-8-containers-undercloud-minion: *undercloud_minion,8,32
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic51f3b9b718d04e8edf9389d0557782f7a8d30c5,openstack/tripleo-heat-templates,stable/wallaby,Ic51f3b9b718d04e8edf9389d0557782f7a8d30c5,[DNM] Testing scenario jobs,ABANDONED,2022-03-14 14:51:34.000000000,2022-07-27 06:21:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-14 14:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3ee1d367285f226fa87d573f2b7e7ed16998919', 'message': '[DNM] Testing scenario jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/830987\nChange-Id: Ic51f3b9b718d04e8edf9389d0557782f7a8d30c5\n'}, {'number': 2, 'created': '2022-03-15 10:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a6531e85bbd2644414e5d4703545e80b205116e', 'message': '[DNM] Testing scenario jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/830987\nChange-Id: Ic51f3b9b718d04e8edf9389d0557782f7a8d30c5\n'}, {'number': 3, 'created': '2022-03-16 08:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8841d589d69d0ae6a771a2235c447c0a7dba977b', 'message': '[DNM] Testing scenario jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/830987\nChange-Id: Ic51f3b9b718d04e8edf9389d0557782f7a8d30c5\n'}, {'number': 4, 'created': '2022-04-18 04:49:57.000000000', 'files': ['ci/environments/standalone-ipa.yaml', 'ci/environments/scenario012-standalone.yaml', 'ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario002-standalone.yaml', 'ci/environments/scenario003-standalone.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario007-standalone.yaml', 'zuul.d/layout.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c3a73449702dcfbfde14fce54546729890745c7', 'message': '[DNM] Testing scenario jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/831842\nChange-Id: Ic51f3b9b718d04e8edf9389d0557782f7a8d30c5\n'}]",7,833639,9c3a73449702dcfbfde14fce54546729890745c7,27,2,4,30750,,,0,"[DNM] Testing scenario jobs

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/831842
Change-Id: Ic51f3b9b718d04e8edf9389d0557782f7a8d30c5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/833639/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d3ee1d367285f226fa87d573f2b7e7ed16998919,scenario-testing, - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone: &c8_deps dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone-build: *c8_deps - tripleo-ci-centos-8-scenario001-standalone: *c8_deps - tripleo-ci-centos-8-scenario002-standalone: *c8_deps - tripleo-ci-centos-8-scenario003-standalone: *c8_deps - tripleo-ci-centos-8-scenario004-standalone: *c8_deps - tripleo-ci-centos-8-scenario010-standalone: *c8_deps - tripleo-ci-centos-8-scenario010-ovn-provider-standalone: *c8_deps," templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - check-requirements - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - openstack-python3-wallaby-jobs - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-wallaby-pipeline - tripleo-periodic-upgrades-wallaby-pipeline - openstack-tox-pep8 - openstack-tox-tht - tripleo-ci-centos-8-content-provider: &content_provider_deps dependencies: - openstack-tox-pep8 - openstack-tox-tht - tripleo-ci-centos-9-content-provider: *content_provider_deps gate: queue: tripleo jobs: - openstack-tox-pep8 - openstack-tox-tht - job: name: openstack-tox-tht parent: openstack-tox description: Runs syntax tht tests. Uses tox with the ``tht`` environment. success-url: ""reports.html"" failure-url: ""reports.html"" voting: true vars: tox_envlist: tht bindep_profile: test tht test_setup_skip: true",11,35
openstack%2Ftempest~master~I39480ab239ac48d899bd23c00b7cf9a9485ba34b,openstack/tempest,master,I39480ab239ac48d899bd23c00b7cf9a9485ba34b,move tempest-integrated-compute-centos-9-stream to periodic,MERGED,2022-07-18 16:06:34.000000000,2022-07-27 06:02:14.000000000,2022-07-26 19:11:33.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-07-18 16:06:34.000000000', 'files': ['zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c263de622f4c1e726a280f7b164deaffe5a8ea6', 'message': ""move tempest-integrated-compute-centos-9-stream to periodic\n\nAs agreed on the Nova weekly meeting [1], we won't put back C9S job to voting\nand we'll rather put it on both experimental and periodic-weekly pipelines.\n\nChange I2de4d90202fd7e735026150f79409d51f2d70e0e attempted to\nmove this job locally in nova however the integrated-gate-compute template\nreintoduces the job to the check and gate pipelines.\n\nThis change updates the integrated-gate-compute templates to reflect the\nnova teams wishes with regards to not running this job on every change\nand only monitoring it via our weekly meeting.\n\n[1] https://meetings.opendev.org/meetings/nova/2022/nova.2022-07-05-16.00.log.html#l-52\n\nChange-Id: I39480ab239ac48d899bd23c00b7cf9a9485ba34b\n""}]",5,850242,9c263de622f4c1e726a280f7b164deaffe5a8ea6,13,7,1,11604,,,0,"move tempest-integrated-compute-centos-9-stream to periodic

As agreed on the Nova weekly meeting [1], we won't put back C9S job to voting
and we'll rather put it on both experimental and periodic-weekly pipelines.

Change I2de4d90202fd7e735026150f79409d51f2d70e0e attempted to
move this job locally in nova however the integrated-gate-compute template
reintoduces the job to the check and gate pipelines.

This change updates the integrated-gate-compute templates to reflect the
nova teams wishes with regards to not running this job on every change
and only monitoring it via our weekly meeting.

[1] https://meetings.opendev.org/meetings/nova/2022/nova.2022-07-05-16.00.log.html#l-52

Change-Id: I39480ab239ac48d899bd23c00b7cf9a9485ba34b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/42/850242/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,9c263de622f4c1e726a280f7b164deaffe5a8ea6,nova-periodic-centos-9-stream, periodic-weekly: jobs: # centos-9-stream is tested from zed release onwards - tempest-integrated-compute-centos-9-stream: branches: ^(?!stable/(pike|queens|rocky|stein|train|ussuri|victoria|wallaby|xena|yoga)).*$, # centos-9-stream is tested from zed release onwards - tempest-integrated-compute-centos-9-stream: branches: ^(?!stable/(pike|queens|rocky|stein|train|ussuri|victoria|wallaby|xena|yoga)).*$ - tempest-integrated-compute-centos-9-stream # Do not run it on ussuri until below issue is fixed # https://storyboard.openstack.org/#!/story/2010057,5,6
openstack%2Fpython-openstackclient~master~I45d205b1759c6ab12ab9d909a7b8c1d39c8780ac,openstack/python-openstackclient,master,I45d205b1759c6ab12ab9d909a7b8c1d39c8780ac,Update python testing as per zed cycle testing runtime,ABANDONED,2022-07-25 03:01:09.000000000,2022-07-27 05:37:32.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-25 03:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/234fbb6c6f63e37fe43b16d27e66b5547cc9964c', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\nChange-Id: I45d205b1759c6ab12ab9d909a7b8c1d39c8780ac\n'}, {'number': 2, 'created': '2022-07-26 02:27:47.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c0d30afbcfbc37031ea5eeb763a5afe98673c0be', 'message': 'Update python testing as per zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I45d205b1759c6ab12ab9d909a7b8c1d39c8780ac\n'}]",2,850327,c0d30afbcfbc37031ea5eeb763a5afe98673c0be,8,2,2,35058,,,0,"Update python testing as per zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I45d205b1759c6ab12ab9d909a7b8c1d39c8780ac
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/27/850327/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,234fbb6c6f63e37fe43b16d27e66b5547cc9964c,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Fproject-config~master~I074f089371054856a8b96bd6e650496a0bd53685,openstack/project-config,master,I074f089371054856a8b96bd6e650496a0bd53685,proposal updates: fix typo in release match,MERGED,2022-07-27 04:50:02.000000000,2022-07-27 05:11:01.000000000,2022-07-27 05:11:01.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-27 04:50:02.000000000', 'files': ['playbooks/proposal/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4616695be07dd5e4c3ec4db716792493cdc46cec', 'message': 'proposal updates: fix typo in release match\n\nThis fixes a typo in I683a61b1bae1a809caf724aee87a21af2e18fb0c -- it\nshould be ""ansible_distribution_release""\n\nChange-Id: I074f089371054856a8b96bd6e650496a0bd53685\n'}]",1,851156,4616695be07dd5e4c3ec4db716792493cdc46cec,6,2,1,7118,,,0,"proposal updates: fix typo in release match

This fixes a typo in I683a61b1bae1a809caf724aee87a21af2e18fb0c -- it
should be ""ansible_distribution_release""

Change-Id: I074f089371054856a8b96bd6e650496a0bd53685
",git fetch https://review.opendev.org/openstack/project-config refs/changes/56/851156/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/proposal/pre.yaml'],1,4616695be07dd5e4c3ec4db716792493cdc46cec,proposal-remove-pip, when: ansible_distribution == 'Ubuntu' and ansible_distribution_release == 'bionic' when: ansible_distribution == 'Ubuntu' and ansible_distribution_release == 'focal', when: ansible_distribution == 'Ubuntu' and ansible_release == 'bionic' when: ansible_distribution == 'Ubuntu' and ansible_release == 'focal',2,2
openstack%2Fmetalsmith~stable%2Fxena~I9507f8d30c871ae62a250148789393695d59183a,openstack/metalsmith,stable/xena,I9507f8d30c871ae62a250148789393695d59183a,Do a precise node lookup for unprovision,MERGED,2022-07-12 22:22:35.000000000,2022-07-27 01:46:55.000000000,2022-07-27 01:45:57.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-12 22:22:35.000000000', 'files': ['metalsmith/test/test_metalsmith_instances.py', 'metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/d494746b65e084c8ef4231c86f9d17497714f173', 'message': ""Do a precise node lookup for unprovision\n\nA hostname or name is passed to the unprovision call, and the node is\nlooked up by allocation name (hostname), falling back to node name.\n\nThis can result in the wrong node being unprovisioned in the following\nscenario:\n* node and hostname naming scheme are identical\n* node and hostname names are mixed because allocation placement\n  doesn't take the node name into account\n* a node has already been unprovisioned by hostname (allocation)\n  lookup\n* unprovision is performed a second time, this time matching the\n  hostname with a different node's name\n* the wrong node is unprovisioned\n\nThe unprovision_node method can also take a node object instead of a\nstring identifier, so this change does a precise node lookup before\ncalling it. This means only hostnames are used for allocation lookups,\nand node names for node lookups.\n\nChange-Id: I9507f8d30c871ae62a250148789393695d59183a\nResolves: rhbz#2092444\n(cherry picked from commit e8ad0c894ba70c2f5d3c103d387bc792e5e1ab9a)\n""}]",2,849585,d494746b65e084c8ef4231c86f9d17497714f173,13,2,1,4571,,,0,"Do a precise node lookup for unprovision

A hostname or name is passed to the unprovision call, and the node is
looked up by allocation name (hostname), falling back to node name.

This can result in the wrong node being unprovisioned in the following
scenario:
* node and hostname naming scheme are identical
* node and hostname names are mixed because allocation placement
  doesn't take the node name into account
* a node has already been unprovisioned by hostname (allocation)
  lookup
* unprovision is performed a second time, this time matching the
  hostname with a different node's name
* the wrong node is unprovisioned

The unprovision_node method can also take a node object instead of a
string identifier, so this change does a precise node lookup before
calling it. This means only hostnames are used for allocation lookups,
and node names for node lookups.

Change-Id: I9507f8d30c871ae62a250148789393695d59183a
Resolves: rhbz#2092444
(cherry picked from commit e8ad0c894ba70c2f5d3c103d387bc792e5e1ab9a)
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/85/849585/1 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/test/test_metalsmith_instances.py', 'metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py']",2,d494746b65e084c8ef4231c86f9d17497714f173,xena/unprovision_lookup,"from openstack import exceptions as os_exc connection = provisioner.connection for instance in instances: hostname = instance.get('hostname') node = None if hostname: try: allocation = connection.baremetal.get_allocation(hostname) node = connection.baremetal.get_node(allocation.node_id) except os_exc.ResourceNotFound: # Allocation for this hostname doesn't exist, so attempt # to lookup by node name pass name = instance.get('name') if not node and name: try: node = connection.baremetal.get_node(name) except os_exc.ResourceNotFound: # Node with this name doesn't exist, so there is no # node to unprovision pass if node: provisioner.unprovision_node(node)"," for instance in instances: provisioner.unprovision_node(instance.get('hostname', instance.get('name')))",51,4
openstack%2Fcinder~master~Ibdb2d72e318bf448dfa2e70bc9df721e41aff730,openstack/cinder,master,Ibdb2d72e318bf448dfa2e70bc9df721e41aff730,Fix mypy job,MERGED,2022-07-20 18:53:20.000000000,2022-07-27 00:27:47.000000000,2022-07-26 06:49:09.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-20 18:53:20.000000000', 'files': ['cinder/volume/volume_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6be6add3f7b2645947e08b13cffb74716d078d0d', 'message': 'Fix mypy job\n\nWith change Ia5950c2dc6186b721c9c9cfc4629d72e3b731889, we added\nsome changes that violated the mypy syntax and the mypy job started\nfailing due to the following reasons:\n\n1) cinder/volume/volume_utils.py:1129:33: error: Argument 1 to\n""as_int"" has incompatible type ""Union[str, int, None]"";\nexpected ""Union[int, float, str]""\n\nIf we look at method ""as_int"" definition[1], it accepts int, float\nand str types but virtual_size could be None\nTo fix this, Now we only use as_int when virtual_size is not None.\n\n2) cinder/volume/volume_utils.py:1132:40: error: Argument 3 to\n""check_virtual_size"" has incompatible type ""Union[str, int]"";\nexpected ""str""\n\nThe definition of image_meta dict is dict[str, Union[str, int]]\nwhich means the values are either str or int. Also, the method\n""check_virtual_size"" expects a str value[2].\n\nTo clear this ambiguity, we typed image_id as string value.\n\n[1] https://opendev.org/openstack/cinder/src/commit/7b424fcdcb6cc3cb2d11da04cb6b7744cb13fe20/cinder/utils.py#L119\n[2] https://opendev.org/openstack/cinder/src/commit/7b424fcdcb6cc3cb2d11da04cb6b7744cb13fe20/cinder/image/image_utils.py#L914\n\nChange-Id: Ibdb2d72e318bf448dfa2e70bc9df721e41aff730\n'}]",7,850574,6be6add3f7b2645947e08b13cffb74716d078d0d,69,4,1,27615,,,0,"Fix mypy job

With change Ia5950c2dc6186b721c9c9cfc4629d72e3b731889, we added
some changes that violated the mypy syntax and the mypy job started
failing due to the following reasons:

1) cinder/volume/volume_utils.py:1129:33: error: Argument 1 to
""as_int"" has incompatible type ""Union[str, int, None]"";
expected ""Union[int, float, str]""

If we look at method ""as_int"" definition[1], it accepts int, float
and str types but virtual_size could be None
To fix this, Now we only use as_int when virtual_size is not None.

2) cinder/volume/volume_utils.py:1132:40: error: Argument 3 to
""check_virtual_size"" has incompatible type ""Union[str, int]"";
expected ""str""

The definition of image_meta dict is dict[str, Union[str, int]]
which means the values are either str or int. Also, the method
""check_virtual_size"" expects a str value[2].

To clear this ambiguity, we typed image_id as string value.

[1] https://opendev.org/openstack/cinder/src/commit/7b424fcdcb6cc3cb2d11da04cb6b7744cb13fe20/cinder/utils.py#L119
[2] https://opendev.org/openstack/cinder/src/commit/7b424fcdcb6cc3cb2d11da04cb6b7744cb13fe20/cinder/image/image_utils.py#L914

Change-Id: Ibdb2d72e318bf448dfa2e70bc9df721e41aff730
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/850574/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/volume_utils.py'],1,6be6add3f7b2645947e08b13cffb74716d078d0d,," virtual_size = image_meta.get('virtual_size') if virtual_size: virtual_size = utils.as_int(virtual_size) image_id = image_meta['id'] image_id = typing.cast(str, image_id) image_id)", virtual_size = utils.as_int(image_meta.get('virtual_size')) if virtual_size: image_meta['id']),5,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~I29de51c63fafff7394723e05fc556649ccd73d7b,openstack/tripleo-ansible,stable/wallaby,I29de51c63fafff7394723e05fc556649ccd73d7b,Fix existing nodes check,MERGED,2022-07-26 05:56:40.000000000,2022-07-27 00:12:29.000000000,2022-07-27 00:11:27.000000000,"[{'_account_id': 4571}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-26 05:56:40.000000000', 'files': ['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aaa2609140b570b18c5783127743919848f77af0', 'message': 'Fix existing nodes check\n\nIf there is no allocation with hostname assume the node\ndoes not exist. This would avoid issues when node and\nhostname naming scheme are identical.\n\nResolves: rhbz#2092444\nChange-Id: I29de51c63fafff7394723e05fc556649ccd73d7b\n(cherry picked from commit e1822bb74278c020312a998a01562db11736124e)\n'}]",3,850919,aaa2609140b570b18c5783127743919848f77af0,12,4,1,8833,,,0,"Fix existing nodes check

If there is no allocation with hostname assume the node
does not exist. This would avoid issues when node and
hostname naming scheme are identical.

Resolves: rhbz#2092444
Change-Id: I29de51c63fafff7394723e05fc556649ccd73d7b
(cherry picked from commit e1822bb74278c020312a998a01562db11736124e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/850919/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py']",2,aaa2609140b570b18c5783127743919848f77af0,," # NOTE(dtantsur): metalsmith can match instances by node names, # provide a safeguard to avoid conflicts if (instance.hostname and instance.hostname != request['hostname']): try: allocation = baremetal.get_allocation(request['hostname']) node = baremetal.get_node(allocation.node_id) if (node.instance_info.get('display_name') != request['hostname']): error = (""Requested hostname %s was not found, but "" ""the deployed node %s has a matching name. "" ""Refusing to proceed to avoid confusing "" ""results. Please either rename the node or "" ""use a different hostname"") % ( request['hostname'], instance.uuid) raise BaremetalDeployException(error) except sdk.exceptions.ResourceNotFound: continue"," # NOTE(dtantsur): metalsmith can match instances by node names, # provide a safeguard to avoid conflicts if (instance.hostname and instance.hostname != request['hostname']): node = baremetal.get_node(instance.uuid) if (node.instance_info.get('display_name') != request['hostname']): error = (""Requested hostname %s was not found, but the "" ""deployed node %s has a matching name. Refusing "" ""to proceed to avoid confusing results. Please "" ""either rename the node or use a different "" ""hostname"") % (request['hostname'], instance.uuid) raise BaremetalDeployException(error) ",26,18
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e,openstack/puppet-tripleo,stable/wallaby,I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e,Configure ovn sb connection for the ovn provider,MERGED,2022-07-14 15:27:21.000000000,2022-07-26 23:26:02.000000000,2022-07-26 23:26:02.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23567}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-07-14 15:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1a57f504a9228b1c5e34a8e8606f76143cf9d0ff', 'message': 'Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\n(manually cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 2, 'created': '2022-07-14 15:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ef8a36b717d2cb2a5fff8e485e9d889ab08bd738', 'message': 'Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\n(manually cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 3, 'created': '2022-07-14 15:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/619956e22a09175460abcac5b0880f917fa2c868', 'message': 'Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\n(manually cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 4, 'created': '2022-07-15 20:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8065b2b8fb4fbd9e107c560599e01643db73b51a', 'message': 'Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 5, 'created': '2022-07-18 08:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/023cbd88165faa4fc495fcb26c5fe33808d005a6', 'message': 'Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 6, 'created': '2022-07-18 08:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/43d6d0d8190a8f1c39409f458373713499b5bfe8', 'message': '[WIP] Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 7, 'created': '2022-07-18 08:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/52f12bc82f8d7ccc528fc6633c7af0a1e0fccadb', 'message': '[WIP] Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 8, 'created': '2022-07-18 08:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8b4eea84e049000fa8f1d81aa3ad74df6000bb51', 'message': '[WIP] Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 9, 'created': '2022-07-18 09:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4466b4ac3058f48e786a6637a25a0a6d7ce15802', 'message': '[WIP] Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 10, 'created': '2022-07-18 09:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/35c299ca57e15441c7ce9083e16b94cb068185db', 'message': '[WIP] Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 11, 'created': '2022-07-18 10:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8d7d342b3ef79ab9237732e9546466cb99532f2d', 'message': '[WIP] Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 12, 'created': '2022-07-18 10:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0cb0973c09a6ccd4355ec20f619196798e01cd8e', 'message': '[WIP] Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 13, 'created': '2022-07-18 11:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7f246ee93a3b787b587a018a74b46c864e7533d3', 'message': '[WIP] Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 14, 'created': '2022-07-18 11:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d2a1384e38cf55030f06d090d2ccb9829d249c14', 'message': 'Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 15, 'created': '2022-07-18 11:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/798b7e38f123a93114da826386e936e481a233a3', 'message': 'Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}, {'number': 16, 'created': '2022-07-18 12:08:27.000000000', 'files': ['spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb', 'manifests/profile/base/octavia/provider/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7c1c783b935fed40d1c6b23f3235706c63086a53', 'message': 'Configure ovn sb connection for the ovn provider\n\nThe OVN provider requires connections to the OVN sb db in order to\nreceive events for associating FIP/VIPs and healthchecks.\n\nConflicts:\n       manifests/profile/base/octavia/provider/ovn.pp\n       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/849210\n\nChange-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e\n(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)\n'}]",12,849876,7c1c783b935fed40d1c6b23f3235706c63086a53,53,7,16,34451,,,0,"Configure ovn sb connection for the ovn provider

The OVN provider requires connections to the OVN sb db in order to
receive events for associating FIP/VIPs and healthchecks.

Conflicts:
       manifests/profile/base/octavia/provider/ovn.pp
       spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb

Depends-on: https://review.opendev.org/c/openstack/puppet-octavia/+/849210

Change-Id: I0b2250aa2d98e6ed02ccb7194183ebdcede97c9e
(cherry picked from commit 555a09de74402ffa53c0b461820e7344537961a3)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/849876/9 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_octavia_provider_ovn_spec.rb', 'manifests/profile/base/octavia/provider/ovn.pp']",2,1a57f504a9228b1c5e34a8e8606f76143cf9d0ff,octavia-ovn-sb-provider,"# Defaults to lookup('ovn::northbound::port') # # [*ovn_sb_port*] # (Optional) Port number on which southbound database is listening # Defaults to lookup('ovn::southbound::port', undef)# [*ovn_sb_private_key*] # (optional) The PEM file with private key for SSL connection to OVN-SB-DB # Defaults to $::os_service_default # # [*ovn_sb_certificate*] # (optional) The PEM file with certificate that certifies the # private key specified in ovn_sb_private_key # Defaults to $::os_service_default # # [*ovn_sb_ca_cert*] # (optional) The PEM file with CA certificate that OVN should use to # verify certificates presented to it by SSL peers # Defaults to $::os_service_default # $ovn_sb_port = lookup('ovn::southbound::port', undef), $ovn_nb_ca_cert = $::os_service_default, $ovn_sb_private_key = $::os_service_default, $ovn_sb_certificate = $::os_service_default, $ovn_sb_ca_cert = $::os_service_default, # NOTE(beagles): there is no backwards compatible case for the sb_port but I'm # adding this line for consistency. $ovn_sb_port_real = $ovn_sb_port $ovn_sb_port_real = $ovn_sb_port $ovn_sb_port_real = $ovn_sb_port $sb_conn = $ovn_db_hosts_real.map |$h| { join([$protocol, normalize_ip_for_uri($h), ""${ovn_sb_port_real}""].filter |$c| { !$c.empty() }, ':') } ovn_sb_connection => join(any2array($sb_conn), ','), ovn_sb_private_key => $ovn_sb_private_key, ovn_sb_certificate => $ovn_sb_certificate, ovn_sb_ca_cert => $ovn_sb_ca_cert,",# Defaults to hiera('ovn::northbound::port') $ovn_nb_ca_cert = $::os_service_default,50,2
openstack%2Ftripleo-quickstart~master~Ia726e29a738fd35d1ca846fd84b6893bfbc2d6a2,openstack/tripleo-quickstart,master,Ia726e29a738fd35d1ca846fd84b6893bfbc2d6a2,Changed version pinning of Ansible OpenStack collection to 1.8.0,MERGED,2022-07-26 11:59:28.000000000,2022-07-26 22:08:45.000000000,2022-07-26 22:07:05.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-07-26 11:59:28.000000000', 'files': ['ansible-collection-requirements.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/baa9b361ba3ce922ac2b39a9bb531d63eee950e1', 'message': ""Changed version pinning of Ansible OpenStack collection to 1.8.0\n\nCalls to 'ansible-galaxy collection install' randomly fail with error\nmessage\n\n  ERROR! Unexpected Exception, this is probably a bug:\n  Non integer values in LooseVersion ('stable/1.0.0')\n\nThis will change the version pinning from stable/1.0.0 to 1.8.0,\nintroduced in commit 1bab5780645d597b7b59984c4259f3f38d5db3fd [1],\nwhich hopefully will prevent those random failures in future.\n\nVersion 1.8.0 of the Ansible OpenStack collection is the latest\nrelease used in RDO [2].\n\n[1] https://opendev.org/openstack/tripleo-quickstart/commit/1bab5780645d597b7b59984c4259f3f38d5db3fd\n[2] https://github.com/redhat-openstack/rdoinfo\n\nChange-Id: Ia726e29a738fd35d1ca846fd84b6893bfbc2d6a2\n""}]",1,851024,baa9b361ba3ce922ac2b39a9bb531d63eee950e1,13,7,1,32962,,,0,"Changed version pinning of Ansible OpenStack collection to 1.8.0

Calls to 'ansible-galaxy collection install' randomly fail with error
message

  ERROR! Unexpected Exception, this is probably a bug:
  Non integer values in LooseVersion ('stable/1.0.0')

This will change the version pinning from stable/1.0.0 to 1.8.0,
introduced in commit 1bab5780645d597b7b59984c4259f3f38d5db3fd [1],
which hopefully will prevent those random failures in future.

Version 1.8.0 of the Ansible OpenStack collection is the latest
release used in RDO [2].

[1] https://opendev.org/openstack/tripleo-quickstart/commit/1bab5780645d597b7b59984c4259f3f38d5db3fd
[2] https://github.com/redhat-openstack/rdoinfo

Change-Id: Ia726e29a738fd35d1ca846fd84b6893bfbc2d6a2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/24/851024/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-collection-requirements.yml'],1,baa9b361ba3ce922ac2b39a9bb531d63eee950e1,aoc-tag, version: 1.8.0, version: stable/1.0.0,1,1
openstack%2Ftripleo-quickstart~master~I147a9f17ae6eb3ab34bc7921c1a0f403d7f2ef0f,openstack/tripleo-quickstart,master,I147a9f17ae6eb3ab34bc7921c1a0f403d7f2ef0f,Increase verbosity of ansible-galaxy commands,MERGED,2022-07-26 11:33:44.000000000,2022-07-26 22:07:59.000000000,2022-07-26 22:07:03.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30750}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-07-26 11:33:44.000000000', 'files': ['install-deps.sh', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0f91779fc655ddd8e474b660945bff097e6b4514', 'message': ""Increase verbosity of ansible-galaxy commands\n\nThis increases the verbosity of all ansible-galaxy calls\nin order to help us debugging issues such as\n\n  ERROR! Unexpected Exception, this is probably a bug:\n  Non integer values in LooseVersion ('stable/1.0.0')\n\nFor example, we now see the full traceback of the exception.\n\nChange-Id: I147a9f17ae6eb3ab34bc7921c1a0f403d7f2ef0f\n""}]",1,851022,0f91779fc655ddd8e474b660945bff097e6b4514,13,8,1,32962,,,0,"Increase verbosity of ansible-galaxy commands

This increases the verbosity of all ansible-galaxy calls
in order to help us debugging issues such as

  ERROR! Unexpected Exception, this is probably a bug:
  Non integer values in LooseVersion ('stable/1.0.0')

For example, we now see the full traceback of the exception.

Change-Id: I147a9f17ae6eb3ab34bc7921c1a0f403d7f2ef0f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/22/851022/1 && git format-patch -1 --stdout FETCH_HEAD,"['install-deps.sh', 'quickstart.sh']",2,0f91779fc655ddd8e474b660945bff097e6b4514,aoc, ansible-galaxy collection install -vvv --force \ ansible-galaxy collection install -vvv \ ansible-galaxy collection install -vvv --force \ ansible-galaxy role install -vvv --force \ ansible-galaxy role install -vvv \, ansible-galaxy collection install --force \ ansible-galaxy collection install \ ansible-galaxy collection install --force \ ansible-galaxy role install --force \ ansible-galaxy role install \,8,8
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc,openstack/tripleo-heat-templates,stable/wallaby,I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc,Enable octavia driver agent puppet,MERGED,2022-06-22 16:02:55.000000000,2022-07-26 22:06:29.000000000,2022-07-26 22:06:29.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23567}, {'_account_id': 28223}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-06-22 16:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54a63e73fd1222e0f4d0a6093c9c230a794cb943', 'message': ""Enable octavia driver agent puppet\n\nThe patch fixes an issue where the driver agent's configuration data\nwasn't being set nor the puppet executed.\n\nChange-Id: I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc\n(cherry picked from commit e0adac953a75b0de4f8cc3ee14a9f69bce3e51d4)\n""}, {'number': 2, 'created': '2022-06-30 23:59:12.000000000', 'files': ['deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0648957fab885c983718f62c59199f1c54103f4a', 'message': ""Enable octavia driver agent puppet\n\nThe patch fixes an issue where the driver agent's configuration data\nwasn't being set nor the puppet executed.\n\nConflicts:\n\tdeployment/octavia/providers/ovn-provider-config.yaml\n\nResolved conflict and added the third value for if statement which is\nrequired in wallaby.\n\nChange-Id: I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc\n(cherry picked from commit e0adac953a75b0de4f8cc3ee14a9f69bce3e51d4)\n""}]",11,847190,0648957fab885c983718f62c59199f1c54103f4a,39,7,2,6681,,,0,"Enable octavia driver agent puppet

The patch fixes an issue where the driver agent's configuration data
wasn't being set nor the puppet executed.

Conflicts:
	deployment/octavia/providers/ovn-provider-config.yaml

Resolved conflict and added the third value for if statement which is
required in wallaby.

Change-Id: I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc
(cherry picked from commit e0adac953a75b0de4f8cc3ee14a9f69bce3e51d4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/847190/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml']",2,54a63e73fd1222e0f4d0a6093c9c230a794cb943,octavia-driver-agent-puppet," - if: - {get_param: OctaviaEnableDriverAgent} - ""include octavia::driver_agent""",,11,5
openstack%2Fsushy-tools~master~I53ba35471bbbe4e08f5aa6144a58d72b83bc2de0,openstack/sushy-tools,master,I53ba35471bbbe4e08f5aa6144a58d72b83bc2de0,Fix unit tests for Werkzeug 2.2.0,MERGED,2022-07-26 16:24:17.000000000,2022-07-26 22:04:26.000000000,2022-07-26 22:03:25.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 16:24:17.000000000', 'files': ['sushy_tools/tests/unit/emulator/controllers/test_certificate_service.py', 'sushy_tools/tests/unit/emulator/controllers/test_virtual_media.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/56e7ace0b7dbbd053e1889c8afe53e758f971de4', 'message': 'Fix unit tests for Werkzeug 2.2.0\n\nFor some reason a get request on a root fails if the url does not\nend with a trailing slash.\nThis started happening since Werkzeug version 2.2.0 [1].\nThis is NOT a proper fix but a workaround that can be merged to unblock\nthe CI.\n\n[1] https://werkzeug.palletsprojects.com/en/2.2.x/changes/#version-2-2-0\n\nChange-Id: I53ba35471bbbe4e08f5aa6144a58d72b83bc2de0\n'}]",0,851070,56e7ace0b7dbbd053e1889c8afe53e758f971de4,8,3,1,23851,,,0,"Fix unit tests for Werkzeug 2.2.0

For some reason a get request on a root fails if the url does not
end with a trailing slash.
This started happening since Werkzeug version 2.2.0 [1].
This is NOT a proper fix but a workaround that can be merged to unblock
the CI.

[1] https://werkzeug.palletsprojects.com/en/2.2.x/changes/#version-2-2-0

Change-Id: I53ba35471bbbe4e08f5aa6144a58d72b83bc2de0
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/70/851070/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/tests/unit/emulator/controllers/test_certificate_service.py', 'sushy_tools/tests/unit/emulator/controllers/test_virtual_media.py']",2,56e7ace0b7dbbd053e1889c8afe53e758f971de4,fix-tests-werkzeug220, '/redfish/v1/Managers/%s/VirtualMedia/' % self.uuid) 'redfish/v1/Managers/' + self.uuid + '/VirtualMedia/'), 'redfish/v1/Managers/%s/VirtualMedia' % self.uuid) 'redfish/v1/Managers/' + self.uuid + '/VirtualMedia'),3,3
openstack%2Fproject-config~master~I24b9e5628823dce83310f96a8e474a0f0756f343,openstack/project-config,master,I24b9e5628823dce83310f96a8e474a0f0756f343,[dnm] additional discussion for requirements proposal,ABANDONED,2022-07-26 21:35:50.000000000,2022-07-26 21:59:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-26 21:35:50.000000000', 'files': ['zuul.d/jobs.yaml', 'playbooks/proposal/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c93e8a9f31c5c758cee92ba29db8aa2bf95d9c24', 'message': '[dnm] additional discussion for requirements proposal\n\nChange-Id: I24b9e5628823dce83310f96a8e474a0f0756f343\n'}]",0,851098,c93e8a9f31c5c758cee92ba29db8aa2bf95d9c24,3,1,1,7118,,,0,"[dnm] additional discussion for requirements proposal

Change-Id: I24b9e5628823dce83310f96a8e474a0f0756f343
",git fetch https://review.opendev.org/openstack/project-config refs/changes/98/851098/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/jobs.yaml', 'playbooks/proposal/pre.yaml']",2,c93e8a9f31c5c758cee92ba29db8aa2bf95d9c24,proposal-remove-pip," # versions, java versions, zanata clients, etc. translation # proposal jobs have to run on bionic. However, ensure-tox uses # python on the system. On bionic this is 3.6, which can not deal # with master upper-constraints.txt. # The base proposal jobs require both python3.8 and python3.9. # Bring in Python 3.9 for them here. - name: Setup Focal when: ansible_distribution == 'Ubuntu' and ansible_release == 'focal' block: - name: Ensure python include_role: name: ensure-python vars: python_version: 3.9 "," # versions, java versions, zanata clients, etc. some jobs have # to run on bionic. However, ensure-tox uses # python on the system. On bionic this is 3.6, which can not # deal with master upper-constraints.txt.",20,8
openstack%2Ftripleo-heat-templates~master~Ieb7f39406ace080f1c136441add26a5a167f0d57,openstack/tripleo-heat-templates,master,Ieb7f39406ace080f1c136441add26a5a167f0d57,Move rndc traffic onto bind network,MERGED,2022-07-25 19:12:33.000000000,2022-07-26 20:33:14.000000000,2022-07-26 20:33:14.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-07-25 19:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9837320cee7b056e3e1390677989a89c8d0c395', 'message': 'Move rndc traffic onto bind network\n\nHaving rndc on in the internal API network talking to bind instances on\nthe external network creates an asymmetric routing situation that\nrequires loosening the reverse path filter. This moves all rndc traffic\nonto the same network.\n\nChange-Id: Ieb7f39406ace080f1c136441add26a5a167f0d57\n'}, {'number': 2, 'created': '2022-07-26 11:24:54.000000000', 'files': ['deployment/designate/designate-worker-container-puppet.yaml', 'deployment/designate/designate-bind-container.yaml', 'overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46a985b2ea7b8392871e1f8d2eb9db76fceeb589', 'message': 'Move rndc traffic onto bind network\n\nHaving rndc on in the internal API network talking to bind instances on\nthe external network creates an asymmetric routing situation that\nrequires loosening the reverse path filter. This moves all rndc traffic\nonto the same network instead, removing the asymmetry and the need for\nloosening the filter.`\n\nChange-Id: Ieb7f39406ace080f1c136441add26a5a167f0d57\n'}]",1,850943,46a985b2ea7b8392871e1f8d2eb9db76fceeb589,15,6,2,6681,,,0,"Move rndc traffic onto bind network

Having rndc on in the internal API network talking to bind instances on
the external network creates an asymmetric routing situation that
requires loosening the reverse path filter. This moves all rndc traffic
onto the same network instead, removing the asymmetry and the need for
loosening the filter.`

Change-Id: Ieb7f39406ace080f1c136441add26a5a167f0d57
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/850943/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/designate/designate-worker-container-puppet.yaml', 'deployment/designate/designate-bind-container.yaml', 'overcloud-resource-registry-puppet.j2.yaml']",3,b9837320cee7b056e3e1390677989a89c8d0c395,," DesignateWorkerNetwork: {{ _service_nets.get('external', 'ctlplane') }}",,3,1
openstack%2Fcinder~stable%2Fyoga~I8fe00b06ebb439f83f8cad0f592064c540c54b77,openstack/cinder,stable/yoga,I8fe00b06ebb439f83f8cad0f592064c540c54b77,SF: Remove compat clone image code,MERGED,2022-06-30 10:07:10.000000000,2022-07-26 20:21:25.000000000,2022-07-26 20:20:00.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-30 10:07:10.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b583401adfd63d3d311bb9515f9a27b9b679a6f', 'message': ""SF: Remove compat clone image code\n\nSolidFire driver introduced a clone image feature in Kilo release[1]\nwhere we would create a cache volume with volume ID same as of image\nID to create volume from image efficiently by cloning from that cached\nvolume.\nThis feature worked same as the image cache feature we have in cinder\nso it was deprecated in queens[2] and removed in train[3] in favor of\nimage cache feature provided by cinder.\nHowever, we still kept compatibility code if users had solidfire cached\nvolumes to still take advantage of those to create efficient volume\nfrom images.\nIn the current master (Yoga), we can safely assume that people have\nmoved to using the image cache feature of cinder since the solidfire\noptions to enable efficient cloning doesn't exist since train release.\nThis patch removes the remaining code around this feature as it\ndoesn't provide any additional benefit and we also log an ERROR\nmessage unnecessarily confusing the operators for every create volume\nfrom image request (details are in the linked launchpad bug).\n\nCloses-Bug: #1959178\n\n[1] https://review.opendev.org/c/openstack/cinder/+/142859\n[2] https://review.opendev.org/c/openstack/cinder/+/511623\n[3] https://review.opendev.org/c/openstack/cinder/+/664739\n\nChange-Id: I8fe00b06ebb439f83f8cad0f592064c540c54b77\n(cherry picked from commit 6b97abc4e4f364e95e09b1738798fa2b6ebd90d6)\n""}]",10,848248,9b583401adfd63d3d311bb9515f9a27b9b679a6f,66,4,1,10459,,,0,"SF: Remove compat clone image code

SolidFire driver introduced a clone image feature in Kilo release[1]
where we would create a cache volume with volume ID same as of image
ID to create volume from image efficiently by cloning from that cached
volume.
This feature worked same as the image cache feature we have in cinder
so it was deprecated in queens[2] and removed in train[3] in favor of
image cache feature provided by cinder.
However, we still kept compatibility code if users had solidfire cached
volumes to still take advantage of those to create efficient volume
from images.
In the current master (Yoga), we can safely assume that people have
moved to using the image cache feature of cinder since the solidfire
options to enable efficient cloning doesn't exist since train release.
This patch removes the remaining code around this feature as it
doesn't provide any additional benefit and we also log an ERROR
message unnecessarily confusing the operators for every create volume
from image request (details are in the linked launchpad bug).

Closes-Bug: #1959178

[1] https://review.opendev.org/c/openstack/cinder/+/142859
[2] https://review.opendev.org/c/openstack/cinder/+/511623
[3] https://review.opendev.org/c/openstack/cinder/+/664739

Change-Id: I8fe00b06ebb439f83f8cad0f592064c540c54b77
(cherry picked from commit 6b97abc4e4f364e95e09b1738798fa2b6ebd90d6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/848248/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",2,9b583401adfd63d3d311bb9515f9a27b9b679a6f,bug/1959178,,"import datetimefrom cinder.tests.unit.image import fake as fake_image self.configuration.sf_template_account_name = 'openstack-vtemplate' self.configuration.sf_allow_template_caching = False self.mock_stats_data =\ {'result': {'clusterCapacity': {'maxProvisionedSpace': 107374182400, 'usedSpace': 1073741824, 'compressionPercent': 100, 'deDuplicationPercent': 100, 'thinProvisioningPercent': 100}}} self.fake_image_meta = {'id': '17c550bb-a411-44c0-9aaf-0d96dd47f501', 'updated_at': datetime.datetime(2013, 9, 28, 15, 27, 36, 325355), 'is_public': True, 'owner': 'testprjid'} self.fake_image_service = fake_image.FakeImageService() @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') def test_clone_image_not_configured(self, _mock_issue_api_request): _mock_issue_api_request.side_effect = self.fake_issue_api_request sfv = solidfire.SolidFireDriver(configuration=self.configuration) self.assertEqual((None, False), sfv.clone_image(self.ctxt, self.mock_volume, 'fake', self.fake_image_meta, 'fake')) ",0,65
openstack%2Fopenstack-ansible~master~I162f11cd23c4d7b68c922d41cd60b759f93fb672,openstack/openstack-ansible,master,I162f11cd23c4d7b68c922d41cd60b759f93fb672,Fix cloud.openstack.* modules,MERGED,2022-07-26 14:47:25.000000000,2022-07-26 20:16:29.000000000,2022-07-26 20:14:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-07-26 14:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/267500048fea5ba8125c0bb1599e447d4cfc433e', 'message': 'Fix cloud.openstack.auth module\n\nChange-Id: I162f11cd23c4d7b68c922d41cd60b759f93fb672\n'}, {'number': 2, 'created': '2022-07-26 15:16:30.000000000', 'files': ['playbooks/healthcheck-openstack.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0b1210a7a61dd846be6db5dfba101c86dc7f7ea5', 'message': 'Fix cloud.openstack.* modules\n\nChange-Id: I162f11cd23c4d7b68c922d41cd60b759f93fb672\n'}]",0,851038,0b1210a7a61dd846be6db5dfba101c86dc7f7ea5,10,4,2,13095,,,0,"Fix cloud.openstack.* modules

Change-Id: I162f11cd23c4d7b68c922d41cd60b759f93fb672
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/38/851038/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/healthcheck-openstack.yml'],1,267500048fea5ba8125c0bb1599e447d4cfc433e,os_auth, openstack.cloud.auth:, openstack.cloud.os_auth:,1,1
openstack%2Fpython-tripleoclient~master~I7717f2ce9f668e9fd77c9b49e2433d729ed3c836,openstack/python-tripleoclient,master,I7717f2ce9f668e9fd77c9b49e2433d729ed3c836,Ensure tripleo_ceph_client_vars is set consistently,MERGED,2022-07-19 11:21:44.000000000,2022-07-26 19:55:29.000000000,2022-07-26 19:53:41.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-07-19 11:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1f25ffd615497f8f3a3d88b7a8dbd54904811d2c', 'message': 'Ensure tripleo_ceph_client_vars is set consistently\n\npython-tripleoclient knows the correct working directory\nafter baremetal deployment. Thus, it can correctly override\nthe tripleo_ceph_client_vars variable in tripleo-ansible roles.\n\nWhen tripleo-ansible roles are called directly by the client\nuse --extra-vars to pass tripleo_ceph_client_vars. As per the\ndeployed_ceph.yaml.j2 template in tripleo-ansible, the Heat\nparameter CephClientConfigVars will then be set to the same\nvalue. Then when the tripleo-ansible roles are called by\nconfig-download they will have the same value for\ntripleo_ceph_client_vars.\n\nChange-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nCloses-Bug: #1981467\nDepends-On: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\n'}, {'number': 2, 'created': '2022-07-19 14:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ac573e060ca022ab8f644b7a025fe94fb703a995', 'message': 'Ensure tripleo_ceph_client_vars is set consistently\n\npython-tripleoclient knows the correct working directory\nafter baremetal deployment. Thus, it can correctly override\nthe tripleo_ceph_client_vars variable in tripleo-ansible roles.\nUse /home/USER/overcloud-deploy/STACK/ceph_client.yml, where\neverything up to ceph_client.yml comes from the utils.py\nfunction get_default_working_dir(STACK).\n\nWhen tripleo-ansible roles are called directly by the client\nuse --extra-vars to pass tripleo_ceph_client_vars. As per the\ndeployed_ceph.yaml.j2 template in tripleo-ansible, the Heat\nparameter CephClientConfigVars will then be set to the same\nvalue. Then when the tripleo-ansible roles are called by\nconfig-download they will have the same value for\ntripleo_ceph_client_vars. Update export.py to use same path.\n\nChange-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nCloses-Bug: #1981467\nDepends-On: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\n'}, {'number': 3, 'created': '2022-07-19 15:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bcb4dfe5dc3eebfc174001d933415ae7a4911477', 'message': 'Ensure tripleo_ceph_client_vars is set consistently\n\npython-tripleoclient knows the correct working directory\nafter baremetal deployment. Thus, it can correctly override\nthe tripleo_ceph_client_vars variable in tripleo-ansible roles.\nUse /home/USER/overcloud-deploy/STACK/ceph_client.yml, where\neverything up to ceph_client.yml comes from the utils.py\nfunction get_default_working_dir(STACK).\n\nWhen tripleo-ansible roles are called directly by the client\nuse --extra-vars to pass tripleo_ceph_client_vars. As per the\ndeployed_ceph.yaml.j2 template in tripleo-ansible, the Heat\nparameter CephClientConfigVars will then be set to the same\nvalue. Then when the tripleo-ansible roles are called by\nconfig-download they will have the same value for\ntripleo_ceph_client_vars. Update export.py to use same path.\n\nChange-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nCloses-Bug: #1981467\n'}, {'number': 4, 'created': '2022-07-19 21:49:13.000000000', 'files': ['tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/export.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/29fe3996bbe8cdaaa86c73cfb3dda443e789bd96', 'message': 'Ensure tripleo_ceph_client_vars is set consistently\n\npython-tripleoclient knows the correct working directory\nafter baremetal deployment. Thus, it can correctly override\nthe tripleo_ceph_client_vars variable in tripleo-ansible roles.\nUse /home/USER/overcloud-deploy/STACK/ceph_client.yml, where\neverything up to ceph_client.yml comes from the utils.py\nfunction get_default_working_dir(STACK).\n\nWhen tripleo-ansible roles are called directly by the client\nuse --extra-vars to pass tripleo_ceph_client_vars. As per the\ndeployed_ceph.yaml.j2 template in tripleo-ansible, the Heat\nparameter CephClientConfigVars will then be set to the same\nvalue. Then when the tripleo-ansible roles are called by\nconfig-download they will have the same value for\ntripleo_ceph_client_vars. Update export.py to use same path.\n\nChange-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nDepends-On: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nCloses-Bug: #1981467\n'}]",12,850309,29fe3996bbe8cdaaa86c73cfb3dda443e789bd96,34,4,4,18002,,,0,"Ensure tripleo_ceph_client_vars is set consistently

python-tripleoclient knows the correct working directory
after baremetal deployment. Thus, it can correctly override
the tripleo_ceph_client_vars variable in tripleo-ansible roles.
Use /home/USER/overcloud-deploy/STACK/ceph_client.yml, where
everything up to ceph_client.yml comes from the utils.py
function get_default_working_dir(STACK).

When tripleo-ansible roles are called directly by the client
use --extra-vars to pass tripleo_ceph_client_vars. As per the
deployed_ceph.yaml.j2 template in tripleo-ansible, the Heat
parameter CephClientConfigVars will then be set to the same
value. Then when the tripleo-ansible roles are called by
config-download they will have the same value for
tripleo_ceph_client_vars. Update export.py to use same path.

Change-Id: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836
Depends-On: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb
Closes-Bug: #1981467
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/850309/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py']",2,1f25ffd615497f8f3a3d88b7a8dbd54904811d2c,bug/1981467," ""tripleo_ceph_client_vars"": mock.ANY, ""tripleo_ceph_client_vars"": mock.ANY,",,5,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb,openstack/tripleo-ansible,stable/wallaby,I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb,Require tripleo_ceph_client_vars to be overridden,MERGED,2022-07-19 11:54:39.000000000,2022-07-26 19:53:38.000000000,2022-07-26 19:53:38.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-07-19 11:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4a36bc54580c4990e413d759fa042ea10c30552c', 'message': 'Require tripleo_ceph_client_vars to be overridden\n\nThe roles tripleo_run_cephadm, tripleo_cephadm and\ntripleo_ceph_client all need tripleo_ceph_client_vars\nto be set consistently. However, they cannot be set\nconsistently if they contain {{ playbook_dir }} because\nthey are run in different contexts (config-download,\npython-tripleoclient and nested ansible executions).\nThus {{ playbook_dir }} is not always the same. Also,\nthe tripleo_ceph_client_vars must also be preserved on\nthe system per stack for exports which can be run\nanytime in the future.\n\nDo not default tripleo_ceph_client_vars and let roles\nfail if it is not passed. It is incumbent on the user\nto override this variable consistenly when using these\nroles.\n\nChange-Id: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nRelated-Bug: #1981467\n'}, {'number': 2, 'created': '2022-07-19 15:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0812a36cfd83d298f3cf17aa3facf76f7aaa6e5', 'message': 'Require tripleo_ceph_client_vars to be overridden\n\nThe roles tripleo_run_cephadm, tripleo_cephadm and\ntripleo_ceph_client all need tripleo_ceph_client_vars\nto be set consistently. However, they cannot be set\nconsistently if they contain {{ playbook_dir }} because\nthey are run in different contexts (config-download,\npython-tripleoclient and nested ansible executions).\nThus {{ playbook_dir }} is not always the same. Also,\nthe tripleo_ceph_client_vars must also be preserved on\nthe system per stack for exports which can be run\nanytime in the future.\n\nDo not default tripleo_ceph_client_vars and let roles\nfail if it is not passed. It is incumbent on the user\nto override this variable consistenly when using these\nroles.\n\nChange-Id: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nDepends-On: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nRelated-Bug: #1981467\n'}, {'number': 3, 'created': '2022-07-19 21:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c95f1a6dbfd22a0b24c85d6776b7e17e7bf7e532', 'message': 'Require tripleo_ceph_client_vars to be overridden\n\nThe roles tripleo_run_cephadm, tripleo_cephadm and\ntripleo_ceph_client all need tripleo_ceph_client_vars\nto be set consistently. However, they cannot be set\nconsistently if they contain {{ playbook_dir }} because\nthey are run in different contexts (config-download,\npython-tripleoclient and nested ansible executions).\nThus {{ playbook_dir }} is not always the same. Also,\nthe tripleo_ceph_client_vars must also be preserved on\nthe system per stack for exports which can be run\nanytime in the future.\n\nDo not misleadingly default tripleo_ceph_client_vars\nand let roles which need them fail if they are not\npassed. Because the tripleo_ceph_client role supports\nmore than just tripleo_ceph_client_vars as a source\nadd condition so it can correctly handle when this\nvariable is undefined.\n\nChange-Id: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nDepends-On: I7717f2ce9f668e9fd77c9b49e2433d729ed3c836\nRelated-Bug: #1981467\n'}, {'number': 4, 'created': '2022-07-20 13:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2bb4eee23aa7702ca36c794c29e7b65dc4edd104', 'message': 'Require tripleo_ceph_client_vars to be overridden\n\nThe roles tripleo_run_cephadm, tripleo_cephadm and\ntripleo_ceph_client all need tripleo_ceph_client_vars\nto be set consistently. However, they cannot be set\nconsistently if they contain {{ playbook_dir }} because\nthey are run in different contexts (config-download,\npython-tripleoclient and nested ansible executions).\nThus {{ playbook_dir }} is not always the same. Also,\nthe tripleo_ceph_client_vars must also be preserved on\nthe system per stack for exports which can be run\nanytime in the future.\n\nDo not misleadingly default tripleo_ceph_client_vars\nand let roles which need them fail if they are not\npassed. Because the tripleo_ceph_client role supports\nmore than just tripleo_ceph_client_vars as a source\nadd condition so it can correctly handle when this\nvariable is undefined.\n\nChange-Id: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nRelated-Bug: #1981467\n'}, {'number': 5, 'created': '2022-07-20 13:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e8f26397013a6928e94b435ad9ed711e4b390b8c', 'message': 'Require tripleo_ceph_client_vars to be overridden\n\nThe roles tripleo_run_cephadm, tripleo_cephadm and\ntripleo_ceph_client all need tripleo_ceph_client_vars\nto be set consistently. However, they cannot be set\nconsistently if they contain {{ playbook_dir }} because\nthey are run in different contexts (config-download,\npython-tripleoclient and nested ansible executions).\nThus {{ playbook_dir }} is not always the same. Also,\nthe tripleo_ceph_client_vars must also be preserved on\nthe system per stack for exports which can be run\nanytime in the future.\n\nDo not misleadingly default tripleo_ceph_client_vars\nand let roles which need them fail if they are not\npassed. Because the tripleo_ceph_client role supports\nmore than just tripleo_ceph_client_vars as a source\nadd condition so it can correctly handle when this\nvariable is undefined.\n\nChange-Id: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nRelated-Bug: #1981467\n'}, {'number': 6, 'created': '2022-07-25 07:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/325f38908024298b915ba2b5804b9553c1df4b3c', 'message': 'Require tripleo_ceph_client_vars to be overridden\n\nThe roles tripleo_run_cephadm, tripleo_cephadm and\ntripleo_ceph_client all need tripleo_ceph_client_vars\nto be set consistently. However, they cannot be set\nconsistently if they contain {{ playbook_dir }} because\nthey are run in different contexts (config-download,\npython-tripleoclient and nested ansible executions).\nThus {{ playbook_dir }} is not always the same. Also,\nthe tripleo_ceph_client_vars must also be preserved on\nthe system per stack for exports which can be run\nanytime in the future.\n\nDo not misleadingly default tripleo_ceph_client_vars\nand let roles which need them fail if they are not\npassed. Because the tripleo_ceph_client role supports\nmore than just tripleo_ceph_client_vars as a source\nadd condition so it can correctly handle when this\nvariable is undefined.\n\nChange-Id: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nRelated-Bug: #1981467\n'}, {'number': 7, 'created': '2022-07-25 13:08:47.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_client/tasks/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_client/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ee9b9e481cf28c8c0754589ee97ec6a10074ceb9', 'message': 'Require tripleo_ceph_client_vars to be overridden\n\nThe roles tripleo_run_cephadm, tripleo_cephadm and\ntripleo_ceph_client all need tripleo_ceph_client_vars\nto be set consistently. However, they cannot be set\nconsistently if they contain {{ playbook_dir }} because\nthey are run in different contexts (config-download,\npython-tripleoclient and nested ansible executions).\nThus {{ playbook_dir }} is not always the same. Also,\nthe tripleo_ceph_client_vars must also be preserved on\nthe system per stack for exports which can be run\nanytime in the future.\n\nDo not misleadingly default tripleo_ceph_client_vars\nand let roles which need them fail if they are not\npassed. Because the tripleo_ceph_client role supports\nmore than just tripleo_ceph_client_vars as a source\nadd condition so it can correctly handle when this\nvariable is undefined.\n\nChange-Id: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb\nRelated-Bug: #1981467\n(cherry picked from commit 99f2fb3f12d32c0185467f0a84dac64ea6209026)\n'}]",2,850045,ee9b9e481cf28c8c0754589ee97ec6a10074ceb9,25,6,7,18002,,,0,"Require tripleo_ceph_client_vars to be overridden

The roles tripleo_run_cephadm, tripleo_cephadm and
tripleo_ceph_client all need tripleo_ceph_client_vars
to be set consistently. However, they cannot be set
consistently if they contain {{ playbook_dir }} because
they are run in different contexts (config-download,
python-tripleoclient and nested ansible executions).
Thus {{ playbook_dir }} is not always the same. Also,
the tripleo_ceph_client_vars must also be preserved on
the system per stack for exports which can be run
anytime in the future.

Do not misleadingly default tripleo_ceph_client_vars
and let roles which need them fail if they are not
passed. Because the tripleo_ceph_client role supports
more than just tripleo_ceph_client_vars as a source
add condition so it can correctly handle when this
variable is undefined.

Change-Id: I0346bf1c6a3d8796a0aa70cbaac6e34b2f74fabb
Related-Bug: #1981467
(cherry picked from commit 99f2fb3f12d32c0185467f0a84dac64ea6209026)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/850045/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_client/defaults/main.yml']",2,4a36bc54580c4990e413d759fa042ea10c30552c,bug/1981467-stable/wallaby,,"tripleo_ceph_client_vars: ""{{ playbook_dir }}/cephadm/ceph_client.yml""",0,2
openstack%2Foslo.versionedobjects~master~I4bc4ab6cfeb3d15072145aa093d3407f35ddf41e,openstack/oslo.versionedobjects,master,I4bc4ab6cfeb3d15072145aa093d3407f35ddf41e,Python3.11: Do not use inspect.ArgSpec,MERGED,2022-07-26 14:41:00.000000000,2022-07-26 19:39:02.000000000,2022-07-26 19:38:06.000000000,"[{'_account_id': 4393}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-07-26 14:41:00.000000000', 'files': ['oslo_versionedobjects/tests/test_fixture.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/2b1202938afad9ac174f86f1e6b2ec7a0bf5c743', 'message': 'Python3.11: Do not use inspect.ArgSpec\n\nPython3.11 will remove inspect.ArgSpec and cause test failures on the\nCI.\n\nCloses-Bug: #1982851\nChange-Id: I4bc4ab6cfeb3d15072145aa093d3407f35ddf41e\n'}]",2,851036,2b1202938afad9ac174f86f1e6b2ec7a0bf5c743,10,4,1,8122,,,0,"Python3.11: Do not use inspect.ArgSpec

Python3.11 will remove inspect.ArgSpec and cause test failures on the
CI.

Closes-Bug: #1982851
Change-Id: I4bc4ab6cfeb3d15072145aa093d3407f35ddf41e
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/36/851036/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_versionedobjects/tests/test_fixture.py'],1,2b1202938afad9ac174f86f1e6b2ec7a0bf5c743,py311," self.assertEqual(fixture.CompatArgSpec(args=['a', 'b', 'kw1'], varargs=None, keywords='kwargs', defaults=(123,)), self.assertEqual(fixture.CompatArgSpec(args=['a', 'b'], varargs='args', keywords=None, defaults=None),"," self.assertEqual(inspect.ArgSpec(args=['a', 'b', 'kw1'], varargs=None, keywords='kwargs', defaults=(123,)), self.assertEqual(inspect.ArgSpec(args=['a', 'b'], varargs='args', keywords=None, defaults=None),",8,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3ca55c01c4b03e990470c55b835095a71f3cad62,openstack/tripleo-heat-templates,stable/train,I3ca55c01c4b03e990470c55b835095a71f3cad62,Use multipath in nova when multipathd is enabled,MERGED,2022-07-14 04:23:43.000000000,2022-07-26 19:34:04.000000000,2022-07-26 19:34:04.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-14 04:23:43.000000000', 'files': ['environments/multipathd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/698d43a60811e28d28cfad2177ade56bad2dd366', 'message': 'Use multipath in nova when multipathd is enabled\n\nCurrently we have environments/multipathd.yaml to deploy multipathd\nservice, but we still need to set NovaLibvirtVolumeUseMultipath to\nmake instances use multipath for volume connections.\n\nThis patch makes the environment file to also enable multipath usage\nin nova, as we expect that user who use the environment want to\nuse multipath for volume connections.\n\nResolves: rhbz#2106966\nChange-Id: I3ca55c01c4b03e990470c55b835095a71f3cad62\n(cherry picked from commit be1dfc9505378e59ba854ff1043057bed97e7f4f)\n'}]",1,849775,698d43a60811e28d28cfad2177ade56bad2dd366,7,4,1,30073,,,0,"Use multipath in nova when multipathd is enabled

Currently we have environments/multipathd.yaml to deploy multipathd
service, but we still need to set NovaLibvirtVolumeUseMultipath to
make instances use multipath for volume connections.

This patch makes the environment file to also enable multipath usage
in nova, as we expect that user who use the environment want to
use multipath for volume connections.

Resolves: rhbz#2106966
Change-Id: I3ca55c01c4b03e990470c55b835095a71f3cad62
(cherry picked from commit be1dfc9505378e59ba854ff1043057bed97e7f4f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/849775/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/multipathd.yaml'],1,698d43a60811e28d28cfad2177ade56bad2dd366,, NovaLibvirtVolumeUseMultipath: true,,1,0
openstack%2Fcharm-openstack-dashboard~stable%2Fwallaby~Iedf526364307775cddffa7287d9906485601219b,openstack/charm-openstack-dashboard,stable/wallaby,Iedf526364307775cddffa7287d9906485601219b,"Update the bundles to use the stable track, edge risk for wallaby",MERGED,2022-06-17 14:05:00.000000000,2022-07-26 18:59:36.000000000,2022-07-26 18:59:36.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 14:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/1f9de5862a50b6adabc5e9157b4e754e47ba3188', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: Iedf526364307775cddffa7287d9906485601219b\n'}, {'number': 2, 'created': '2022-07-11 10:46:27.000000000', 'files': ['test-requirements.txt', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/967e8f929461b10b7d208e477a42bb5dad3f9c72', 'message': 'Update the bundles to use the stable track, edge risk for wallaby\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for wallaby.\n\nChange-Id: Iedf526364307775cddffa7287d9906485601219b\n'}]",3,846373,967e8f929461b10b7d208e477a42bb5dad3f9c72,13,3,2,20870,,,0,"Update the bundles to use the stable track, edge risk for wallaby

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for wallaby.

Change-Id: Iedf526364307775cddffa7287d9906485601219b
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/73/846373/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-victoria.yaml', 'tests/bundles/focal-wallaby.yaml']",2,1f9de5862a50b6adabc5e9157b4e754e47ba3188,update-bundles-wallaby, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/stable channel: 8.0.19/stable channel: 8.0.19/stable,6,6
openstack%2Ftripleo-heat-templates~master~I39d2e75ccb1f631346a46ede88448c2acac71146,openstack/tripleo-heat-templates,master,I39d2e75ccb1f631346a46ede88448c2acac71146,[DNM]Keep SRBAC enabled by default to test the feature in tripleo-ci,NEW,2022-07-25 12:34:26.000000000,2022-07-26 18:40:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-25 12:34:26.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c81a064b5a539954189335b1ff3c8ad4ace8aa3', 'message': '[DNM]Keep SRBAC enabled by default to test the feature in tripleo-ci\n\nChange-Id: I39d2e75ccb1f631346a46ede88448c2acac71146\n'}]",2,850880,8c81a064b5a539954189335b1ff3c8ad4ace8aa3,9,2,1,19138,,,0,"[DNM]Keep SRBAC enabled by default to test the feature in tripleo-ci

Change-Id: I39d2e75ccb1f631346a46ede88448c2acac71146
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/850880/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,8c81a064b5a539954189335b1ff3c8ad4ace8aa3,, EnforceSecureRbac: true, EnforceSecureRbac: false,1,1
openstack%2Foctavia~master~I59664615e1ef5e46a99c12256dbe02f89ecf4c0b,openstack/octavia,master,I59664615e1ef5e46a99c12256dbe02f89ecf4c0b,Fix update listener certs doesn't work,MERGED,2021-11-17 14:56:06.000000000,2022-07-26 18:25:09.000000000,2022-07-26 18:23:44.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2021-11-17 14:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d3aafb9ccf2c2bead2ceae46f2e0e88e200e88c', 'message': ""Delete crt-list file before updating it\n\nwhen the destination pem-list file's md5 is not match the expected\nmd5, we need delete it before updating it.\nfor example:\nwe have a listener with 3 sni-container-refs, the pem-list file\nshould like below:\ncert1\\n cert2\\n cert3\nafter we update to 2 sni-container-refs:\nactually:\ncert4\\n cert5 \\n cert3\nexpected:\ncert4\\n cert5\nThis patch also fix the unset sni-container-refs doesn't work.\n\nChange-Id: I59664615e1ef5e46a99c12256dbe02f89ecf4c0b\n""}, {'number': 2, 'created': '2021-11-18 11:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/583de203e7c9da0713d567a5067804b028829e92', 'message': ""Fix update listener cret doesn't work\n\nThis change fixes listener update sni-container-refs\ndoesn't work by adding O_TRUNC flag to upload_certificate method\n\nChange-Id: I59664615e1ef5e46a99c12256dbe02f89ecf4c0b\n""}, {'number': 3, 'created': '2021-11-18 11:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9ac5c71cec97e92703af41910229417086df3011', 'message': ""Fix update listener certs doesn't work\n\nThis change fixes listener update sni-container-refs\ndoesn't work by adding O_TRUNC flag to upload_certificate method\n\nChange-Id: I59664615e1ef5e46a99c12256dbe02f89ecf4c0b\n""}, {'number': 4, 'created': '2022-03-14 12:25:51.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'releasenotes/notes/fix-listener-update-certs-failed-315c66f4806e76c8.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d340a1de50b55a73f0e3a4d398ee735b0ccc128b', 'message': ""Fix update listener certs doesn't work\n\nThis change fixes listener update sni-container-refs\ndoesn't work by adding O_TRUNC flag to upload_certificate method\n\nChange-Id: I59664615e1ef5e46a99c12256dbe02f89ecf4c0b\n""}]",10,818236,d340a1de50b55a73f0e3a4d398ee735b0ccc128b,23,5,4,26285,,,0,"Fix update listener certs doesn't work

This change fixes listener update sni-container-refs
doesn't work by adding O_TRUNC flag to upload_certificate method

Change-Id: I59664615e1ef5e46a99c12256dbe02f89ecf4c0b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/36/818236/3 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/drivers/haproxy/rest_api_driver.py'],1,0d3aafb9ccf2c2bead2ceae46f2e0e88e200e88c,," else: self.clients[amp.api_version].delete_cert_pem( amp, listener_id, name)",,3,0
openstack%2Foctavia~stable%2Fxena~I5a749c751d184ec10957a31b569419d57fe8daf6,openstack/octavia,stable/xena,I5a749c751d184ec10957a31b569419d57fe8daf6,Fix HealthMonitorToErrorOnRevertTask revert method,MERGED,2022-07-19 15:30:22.000000000,2022-07-26 18:25:00.000000000,2022-07-26 18:23:31.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-19 15:30:22.000000000', 'files': ['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c7aa79cdfa498d11e601578df8daae73235a6fcd', 'message': ""Fix HealthMonitorToErrorOnRevertTask revert method\n\nSo far, whenever we had to revert HealthMonitorToErrorOnRevertTask,\nwe called mark_health_mon_prov_status_error with the wrong parameter\n(health_mon[constants.POOL_ID] == the pool id).\n\nThis would set the pool's provisioning status to ERROR.\n\nLater in the revert task we call mark_pool_prov_status_active with the\ncorrect argument (health_mon[constants.POOL_ID] == the pool id), so we\nset it back to ACTIVE, and the task continues correctly.\n\nThis means we might have missed setting the health monitor's\nprovisioning status to ERROR, and therefore we might have missed some\nerrors.\n\nThis commit changes the parameter to be the correct one in both API\nv1 and v2, and it modifies the tests accordingly.\n\nStory 2010113\nTask 45690\n\nChange-Id: I5a749c751d184ec10957a31b569419d57fe8daf6\n(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)\n(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)\n""}]",0,850363,c7aa79cdfa498d11e601578df8daae73235a6fcd,8,4,1,31664,,,0,"Fix HealthMonitorToErrorOnRevertTask revert method

So far, whenever we had to revert HealthMonitorToErrorOnRevertTask,
we called mark_health_mon_prov_status_error with the wrong parameter
(health_mon[constants.POOL_ID] == the pool id).

This would set the pool's provisioning status to ERROR.

Later in the revert task we call mark_pool_prov_status_active with the
correct argument (health_mon[constants.POOL_ID] == the pool id), so we
set it back to ACTIVE, and the task continues correctly.

This means we might have missed setting the health monitor's
provisioning status to ERROR, and therefore we might have missed some
errors.

This commit changes the parameter to be the correct one in both API
v1 and v2, and it modifies the tests accordingly.

Story 2010113
Task 45690

Change-Id: I5a749c751d184ec10957a31b569419d57fe8daf6
(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)
(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/850363/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py']",5,c7aa79cdfa498d11e601578df8daae73235a6fcd,fix_healthmonitor, self.HEALTH_MON_ID), self.POOL_ID),10,4
openstack%2Foctavia~stable%2Fyoga~I5a749c751d184ec10957a31b569419d57fe8daf6,openstack/octavia,stable/yoga,I5a749c751d184ec10957a31b569419d57fe8daf6,Fix HealthMonitorToErrorOnRevertTask revert method,MERGED,2022-07-19 15:25:47.000000000,2022-07-26 18:24:58.000000000,2022-07-26 18:23:38.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-19 15:25:47.000000000', 'files': ['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5ca3849a8f9d0aaeabece97f520d5656431594d6', 'message': ""Fix HealthMonitorToErrorOnRevertTask revert method\n\nSo far, whenever we had to revert HealthMonitorToErrorOnRevertTask,\nwe called mark_health_mon_prov_status_error with the wrong parameter\n(health_mon[constants.POOL_ID] == the pool id).\n\nThis would set the pool's provisioning status to ERROR.\n\nLater in the revert task we call mark_pool_prov_status_active with the\ncorrect argument (health_mon[constants.POOL_ID] == the pool id), so we\nset it back to ACTIVE, and the task continues correctly.\n\nThis means we might have missed setting the health monitor's\nprovisioning status to ERROR, and therefore we might have missed some\nerrors.\n\nThis commit changes the parameter to be the correct one in both API\nv1 and v2, and it modifies the tests accordingly.\n\nStory 2010113\nTask 45690\n\nChange-Id: I5a749c751d184ec10957a31b569419d57fe8daf6\n(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)\n""}]",0,850362,5ca3849a8f9d0aaeabece97f520d5656431594d6,8,4,1,31664,,,0,"Fix HealthMonitorToErrorOnRevertTask revert method

So far, whenever we had to revert HealthMonitorToErrorOnRevertTask,
we called mark_health_mon_prov_status_error with the wrong parameter
(health_mon[constants.POOL_ID] == the pool id).

This would set the pool's provisioning status to ERROR.

Later in the revert task we call mark_pool_prov_status_active with the
correct argument (health_mon[constants.POOL_ID] == the pool id), so we
set it back to ACTIVE, and the task continues correctly.

This means we might have missed setting the health monitor's
provisioning status to ERROR, and therefore we might have missed some
errors.

This commit changes the parameter to be the correct one in both API
v1 and v2, and it modifies the tests accordingly.

Story 2010113
Task 45690

Change-Id: I5a749c751d184ec10957a31b569419d57fe8daf6
(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/62/850362/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py']",5,5ca3849a8f9d0aaeabece97f520d5656431594d6,fix_healthmonitor, self.HEALTH_MON_ID), self.POOL_ID),10,4
openstack%2Foctavia~stable%2Fwallaby~I5a749c751d184ec10957a31b569419d57fe8daf6,openstack/octavia,stable/wallaby,I5a749c751d184ec10957a31b569419d57fe8daf6,Fix HealthMonitorToErrorOnRevertTask revert method,MERGED,2022-07-19 15:31:38.000000000,2022-07-26 17:53:46.000000000,2022-07-26 17:52:24.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-19 15:31:38.000000000', 'files': ['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a25076a11aac871cd7d0e3bff538a220980325a8', 'message': ""Fix HealthMonitorToErrorOnRevertTask revert method\n\nSo far, whenever we had to revert HealthMonitorToErrorOnRevertTask,\nwe called mark_health_mon_prov_status_error with the wrong parameter\n(health_mon[constants.POOL_ID] == the pool id).\n\nThis would set the pool's provisioning status to ERROR.\n\nLater in the revert task we call mark_pool_prov_status_active with the\ncorrect argument (health_mon[constants.POOL_ID] == the pool id), so we\nset it back to ACTIVE, and the task continues correctly.\n\nThis means we might have missed setting the health monitor's\nprovisioning status to ERROR, and therefore we might have missed some\nerrors.\n\nThis commit changes the parameter to be the correct one in both API\nv1 and v2, and it modifies the tests accordingly.\n\nStory 2010113\nTask 45690\n\nChange-Id: I5a749c751d184ec10957a31b569419d57fe8daf6\n(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)\n(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)\n(cherry picked from commit c7aa79cdfa498d11e601578df8daae73235a6fcd)\n""}]",0,850364,a25076a11aac871cd7d0e3bff538a220980325a8,8,4,1,31664,,,0,"Fix HealthMonitorToErrorOnRevertTask revert method

So far, whenever we had to revert HealthMonitorToErrorOnRevertTask,
we called mark_health_mon_prov_status_error with the wrong parameter
(health_mon[constants.POOL_ID] == the pool id).

This would set the pool's provisioning status to ERROR.

Later in the revert task we call mark_pool_prov_status_active with the
correct argument (health_mon[constants.POOL_ID] == the pool id), so we
set it back to ACTIVE, and the task continues correctly.

This means we might have missed setting the health monitor's
provisioning status to ERROR, and therefore we might have missed some
errors.

This commit changes the parameter to be the correct one in both API
v1 and v2, and it modifies the tests accordingly.

Story 2010113
Task 45690

Change-Id: I5a749c751d184ec10957a31b569419d57fe8daf6
(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)
(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)
(cherry picked from commit c7aa79cdfa498d11e601578df8daae73235a6fcd)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/64/850364/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py']",5,a25076a11aac871cd7d0e3bff538a220980325a8,fix_healthmonitor, self.HEALTH_MON_ID), self.POOL_ID),10,4
openstack%2Foctavia~stable%2Fvictoria~I5a749c751d184ec10957a31b569419d57fe8daf6,openstack/octavia,stable/victoria,I5a749c751d184ec10957a31b569419d57fe8daf6,Fix HealthMonitorToErrorOnRevertTask revert method,MERGED,2022-07-19 15:33:19.000000000,2022-07-26 17:53:38.000000000,2022-07-26 17:52:17.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-19 15:33:19.000000000', 'files': ['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6429b2793f9a1079cc63305f7d77c4da2a1c8513', 'message': ""Fix HealthMonitorToErrorOnRevertTask revert method\n\nSo far, whenever we had to revert HealthMonitorToErrorOnRevertTask,\nwe called mark_health_mon_prov_status_error with the wrong parameter\n(health_mon[constants.POOL_ID] == the pool id).\n\nThis would set the pool's provisioning status to ERROR.\n\nLater in the revert task we call mark_pool_prov_status_active with the\ncorrect argument (health_mon[constants.POOL_ID] == the pool id), so we\nset it back to ACTIVE, and the task continues correctly.\n\nThis means we might have missed setting the health monitor's\nprovisioning status to ERROR, and therefore we might have missed some\nerrors.\n\nThis commit changes the parameter to be the correct one in both API\nv1 and v2, and it modifies the tests accordingly.\n\nStory 2010113\nTask 45690\n\nChange-Id: I5a749c751d184ec10957a31b569419d57fe8daf6\n(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)\n(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)\n(cherry picked from commit c7aa79cdfa498d11e601578df8daae73235a6fcd)\n(cherry picked from commit a25076a11aac871cd7d0e3bff538a220980325a8)\n""}]",0,850365,6429b2793f9a1079cc63305f7d77c4da2a1c8513,8,4,1,31664,,,0,"Fix HealthMonitorToErrorOnRevertTask revert method

So far, whenever we had to revert HealthMonitorToErrorOnRevertTask,
we called mark_health_mon_prov_status_error with the wrong parameter
(health_mon[constants.POOL_ID] == the pool id).

This would set the pool's provisioning status to ERROR.

Later in the revert task we call mark_pool_prov_status_active with the
correct argument (health_mon[constants.POOL_ID] == the pool id), so we
set it back to ACTIVE, and the task continues correctly.

This means we might have missed setting the health monitor's
provisioning status to ERROR, and therefore we might have missed some
errors.

This commit changes the parameter to be the correct one in both API
v1 and v2, and it modifies the tests accordingly.

Story 2010113
Task 45690

Change-Id: I5a749c751d184ec10957a31b569419d57fe8daf6
(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)
(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)
(cherry picked from commit c7aa79cdfa498d11e601578df8daae73235a6fcd)
(cherry picked from commit a25076a11aac871cd7d0e3bff538a220980325a8)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/65/850365/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py']",5,6429b2793f9a1079cc63305f7d77c4da2a1c8513,fix_healthmonitor, self.HEALTH_MON_ID), self.POOL_ID),10,4
openstack%2Foctavia~stable%2Fussuri~I5a749c751d184ec10957a31b569419d57fe8daf6,openstack/octavia,stable/ussuri,I5a749c751d184ec10957a31b569419d57fe8daf6,Fix HealthMonitorToErrorOnRevertTask revert method,MERGED,2022-07-19 15:35:13.000000000,2022-07-26 17:53:36.000000000,2022-07-26 17:52:10.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-19 15:35:13.000000000', 'files': ['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d16b00c842ef16f1b88d6f7b52b90c030182db3b', 'message': ""Fix HealthMonitorToErrorOnRevertTask revert method\n\nSo far, whenever we had to revert HealthMonitorToErrorOnRevertTask,\nwe called mark_health_mon_prov_status_error with the wrong parameter\n(health_mon[constants.POOL_ID] == the pool id).\n\nThis would set the pool's provisioning status to ERROR.\n\nLater in the revert task we call mark_pool_prov_status_active with the\ncorrect argument (health_mon[constants.POOL_ID] == the pool id), so we\nset it back to ACTIVE, and the task continues correctly.\n\nThis means we might have missed setting the health monitor's\nprovisioning status to ERROR, and therefore we might have missed some\nerrors.\n\nThis commit changes the parameter to be the correct one in both API\nv1 and v2, and it modifies the tests accordingly.\n\nStory 2010113\nTask 45690\n\nChange-Id: I5a749c751d184ec10957a31b569419d57fe8daf6\n(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)\n(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)\n(cherry picked from commit c7aa79cdfa498d11e601578df8daae73235a6fcd)\n(cherry picked from commit a25076a11aac871cd7d0e3bff538a220980325a8)\n(cherry picked from commit 6429b2793f9a1079cc63305f7d77c4da2a1c8513)\n""}]",0,850367,d16b00c842ef16f1b88d6f7b52b90c030182db3b,8,4,1,31664,,,0,"Fix HealthMonitorToErrorOnRevertTask revert method

So far, whenever we had to revert HealthMonitorToErrorOnRevertTask,
we called mark_health_mon_prov_status_error with the wrong parameter
(health_mon[constants.POOL_ID] == the pool id).

This would set the pool's provisioning status to ERROR.

Later in the revert task we call mark_pool_prov_status_active with the
correct argument (health_mon[constants.POOL_ID] == the pool id), so we
set it back to ACTIVE, and the task continues correctly.

This means we might have missed setting the health monitor's
provisioning status to ERROR, and therefore we might have missed some
errors.

This commit changes the parameter to be the correct one in both API
v1 and v2, and it modifies the tests accordingly.

Story 2010113
Task 45690

Change-Id: I5a749c751d184ec10957a31b569419d57fe8daf6
(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)
(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)
(cherry picked from commit c7aa79cdfa498d11e601578df8daae73235a6fcd)
(cherry picked from commit a25076a11aac871cd7d0e3bff538a220980325a8)
(cherry picked from commit 6429b2793f9a1079cc63305f7d77c4da2a1c8513)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/850367/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py']",5,d16b00c842ef16f1b88d6f7b52b90c030182db3b,fix_healthmonitor, self.HEALTH_MON_ID), self.POOL_ID),10,4
openstack%2Foctavia~stable%2Ftrain~I5a749c751d184ec10957a31b569419d57fe8daf6,openstack/octavia,stable/train,I5a749c751d184ec10957a31b569419d57fe8daf6,Fix HealthMonitorToErrorOnRevertTask revert method,MERGED,2022-07-18 16:05:54.000000000,2022-07-26 17:53:16.000000000,2022-07-26 17:52:03.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}, {'_account_id': 32029}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-18 16:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0b6f497d91f455cab5d974344b53864a56d05311', 'message': ""Fix HealthMonitorToErrorOnRevertTask revert method\n\nSo far, whenever we had to revert HealthMonitorToErrorOnRevertTask,\nwe called mark_health_mon_prov_status_error with the wrong parameter\n(health_mon[constants.POOL_ID] == the pool id).\n\nThis would set the pool's provisioning status to ERROR.\n\nLater in the revert task we call mark_pool_prov_status_active with the\ncorrect argument (health_mon[constants.POOL_ID] == the pool id), so we\nset it back to ACTIVE, and the task continues correctly.\n\nThis means we might have missed setting the health monitor's\nprovisioning status to ERROR, and therefore we might have missed some\nerrors.\n\nThis commit changes the parameter to be the correct one in both API\nv1 and v2, and it modifies the tests accordingly.\n\nStory 2010113\nTask 45690\n\nChange-Id: I5a749c751d184ec10957a31b569419d57fe8daf6\n""}, {'number': 2, 'created': '2022-07-18 16:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7e8a872787d5207a14edbc4385a4d1c0af512b7e', 'message': ""Fix HealthMonitorToErrorOnRevertTask revert method\n\nSo far, whenever we had to revert HealthMonitorToErrorOnRevertTask,\nwe called mark_health_mon_prov_status_error with the wrong parameter\n(health_mon[constants.POOL_ID] == the pool id).\n\nThis would set the pool's provisioning status to ERROR.\n\nLater in the revert task we call mark_pool_prov_status_active with the\ncorrect argument (health_mon[constants.POOL_ID] == the pool id), so we\nset it back to ACTIVE, and the task continues correctly.\n\nThis means we might have missed setting the health monitor's\nprovisioning status to ERROR, and therefore we might have missed some\nerrors.\n\nThis commit changes the parameter to be the correct one in both API\nv1 and v2, and it modifies the tests accordingly.\n\nStory 2010113\nTask 45690\n\nChange-Id: I5a749c751d184ec10957a31b569419d57fe8daf6\n""}, {'number': 3, 'created': '2022-07-19 15:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/370b15456efa04fda06e32131c25ba9019ddb324', 'message': ""Fix HealthMonitorToErrorOnRevertTask revert method\n\nSo far, whenever we had to revert HealthMonitorToErrorOnRevertTask,\nwe called mark_health_mon_prov_status_error with the wrong parameter\n(health_mon[constants.POOL_ID] == the pool id).\n\nThis would set the pool's provisioning status to ERROR.\n\nLater in the revert task we call mark_pool_prov_status_active with the\ncorrect argument (health_mon[constants.POOL_ID] == the pool id), so we\nset it back to ACTIVE, and the task continues correctly.\n\nThis means we might have missed setting the health monitor's\nprovisioning status to ERROR, and therefore we might have missed some\nerrors.\n\nThis commit changes the parameter to be the correct one in both API\nv1 and v2, and it modifies the tests accordingly.\n\nStory 2010113\nTask 45690\n\nConflicts:\n\toctavia/controller/worker/v2/tasks/lifecycle_tasks.py\n\nChange-Id: I5a749c751d184ec10957a31b569419d57fe8daf6\n(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)\n(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)\n(cherry picked from commit c7aa79cdfa498d11e601578df8daae73235a6fcd)\n(cherry picked from commit a25076a11aac871cd7d0e3bff538a220980325a8)\n(cherry picked from commit 6429b2793f9a1079cc63305f7d77c4da2a1c8513)\n(cherry picked from commit d16b00c842ef16f1b88d6f7b52b90c030182db3b)\n""}, {'number': 4, 'created': '2022-07-21 10:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/183c0c60a17f8ab0542fe867996c0b962fee7832', 'message': ""Fix HealthMonitorToErrorOnRevertTask revert method\n\nSo far, whenever we had to revert HealthMonitorToErrorOnRevertTask,\nwe called mark_health_mon_prov_status_error with the wrong parameter\n(health_mon[constants.POOL_ID] == the pool id).\n\nThis would set the pool's provisioning status to ERROR.\n\nLater in the revert task we call mark_pool_prov_status_active with the\ncorrect argument (health_mon[constants.POOL_ID] == the pool id), so we\nset it back to ACTIVE, and the task continues correctly.\n\nThis means we might have missed setting the health monitor's\nprovisioning status to ERROR, and therefore we might have missed some\nerrors.\n\nThis commit changes the parameter to be the correct one in both API\nv1 and v2, and it modifies the tests accordingly.\n\nStory 2010113\nTask 45690\n\nConflicts:\n\toctavia/controller/worker/v2/tasks/lifecycle_tasks.py\n\nChange-Id: I5a749c751d184ec10957a31b569419d57fe8daf6\n(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)\n(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)\n(cherry picked from commit c7aa79cdfa498d11e601578df8daae73235a6fcd)\n(cherry picked from commit a25076a11aac871cd7d0e3bff538a220980325a8)\n(cherry picked from commit 6429b2793f9a1079cc63305f7d77c4da2a1c8513)\n(cherry picked from commit d16b00c842ef16f1b88d6f7b52b90c030182db3b)\n""}, {'number': 5, 'created': '2022-07-21 12:31:35.000000000', 'files': ['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6e6f47d3e10820f813d95fc7f26357746cc66471', 'message': ""Fix HealthMonitorToErrorOnRevertTask revert method\n\nSo far, whenever we had to revert HealthMonitorToErrorOnRevertTask,\nwe called mark_health_mon_prov_status_error with the wrong parameter\n(health_mon[constants.POOL_ID] == the pool id).\n\nThis would set the pool's provisioning status to ERROR.\n\nLater in the revert task we call mark_pool_prov_status_active with the\ncorrect argument (health_mon[constants.POOL_ID] == the pool id), so we\nset it back to ACTIVE, and the task continues correctly.\n\nThis means we might have missed setting the health monitor's\nprovisioning status to ERROR, and therefore we might have missed some\nerrors.\n\nThis commit changes the parameter to be the correct one in both API\nv1 and v2, and it modifies the tests accordingly.\n\nStory 2010113\nTask 45690\n\nConflicts:\n\toctavia/controller/worker/v2/tasks/lifecycle_tasks.py\n\nChange-Id: I5a749c751d184ec10957a31b569419d57fe8daf6\n(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)\n(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)\n(cherry picked from commit c7aa79cdfa498d11e601578df8daae73235a6fcd)\n(cherry picked from commit a25076a11aac871cd7d0e3bff538a220980325a8)\n(cherry picked from commit 6429b2793f9a1079cc63305f7d77c4da2a1c8513)\n(cherry picked from commit d16b00c842ef16f1b88d6f7b52b90c030182db3b)\n""}]",5,850241,6e6f47d3e10820f813d95fc7f26357746cc66471,21,6,5,31664,,,0,"Fix HealthMonitorToErrorOnRevertTask revert method

So far, whenever we had to revert HealthMonitorToErrorOnRevertTask,
we called mark_health_mon_prov_status_error with the wrong parameter
(health_mon[constants.POOL_ID] == the pool id).

This would set the pool's provisioning status to ERROR.

Later in the revert task we call mark_pool_prov_status_active with the
correct argument (health_mon[constants.POOL_ID] == the pool id), so we
set it back to ACTIVE, and the task continues correctly.

This means we might have missed setting the health monitor's
provisioning status to ERROR, and therefore we might have missed some
errors.

This commit changes the parameter to be the correct one in both API
v1 and v2, and it modifies the tests accordingly.

Story 2010113
Task 45690

Conflicts:
	octavia/controller/worker/v2/tasks/lifecycle_tasks.py

Change-Id: I5a749c751d184ec10957a31b569419d57fe8daf6
(cherry picked from commit 96f2ca7cecfca43000ddba929fc1bc348c845b27)
(cherry picked from commit 5ca3849a8f9d0aaeabece97f520d5656431594d6)
(cherry picked from commit c7aa79cdfa498d11e601578df8daae73235a6fcd)
(cherry picked from commit a25076a11aac871cd7d0e3bff538a220980325a8)
(cherry picked from commit 6429b2793f9a1079cc63305f7d77c4da2a1c8513)
(cherry picked from commit d16b00c842ef16f1b88d6f7b52b90c030182db3b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/41/850241/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-health-monitor-to-error-revert-task-feb38ba7641a4892.yaml', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py']",4,0b6f497d91f455cab5d974344b53864a56d05311,fix_healthmonitor, self.HEALTH_MON.id = self.HEALTH_MON_ID, self.HEALTH_MON.pool_id = self.HEALTH_MON_ID,9,3
openstack%2Foctavia~stable%2Fyoga~I1633c2cacf1c4dc5c0aa605635545fae8085e296,openstack/octavia,stable/yoga,I1633c2cacf1c4dc5c0aa605635545fae8085e296,Fix update/delete listener CA/CRL error,MERGED,2022-07-20 13:20:23.000000000,2022-07-26 17:53:09.000000000,2022-07-26 17:51:57.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-20 13:20:23.000000000', 'files': ['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/74f2baf539359f5ded2bc01b28d570083bc0a797', 'message': 'Fix update/delete listener CA/CRL error\n\nFixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.\n\nStory 2010081\nTask 45577\n\nChange-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296\n(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)\n'}]",0,850481,74f2baf539359f5ded2bc01b28d570083bc0a797,8,4,1,33196,,,0,"Fix update/delete listener CA/CRL error

Fixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.

Story 2010081
Task 45577

Change-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296
(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/850481/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py']",3,74f2baf539359f5ded2bc01b28d570083bc0a797,," listener_obj.client_ca_tls_certificate_id, for_delete=for_delete) listener_obj.client_crl_container_id, for_delete=for_delete) pool_obj.ca_tls_certificate_id, for_delete=for_delete) pool_obj.crl_container_id, for_delete=for_delete)", listener_obj.client_ca_tls_certificate_id) listener_obj.client_crl_container_id) pool_obj.ca_tls_certificate_id) pool_obj.crl_container_id),17,4
openstack%2Foctavia~stable%2Fxena~I1633c2cacf1c4dc5c0aa605635545fae8085e296,openstack/octavia,stable/xena,I1633c2cacf1c4dc5c0aa605635545fae8085e296,Fix update/delete listener CA/CRL error,MERGED,2022-07-20 13:21:54.000000000,2022-07-26 17:50:03.000000000,2022-07-26 17:48:54.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-20 13:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9bb36ea2853afb8cd39af39a7383a44806ea34af', 'message': 'Fix update/delete listener CA/CRL error\n\nFixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.\n\nStory 2010081\nTask 45577\n\nChange-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296\n(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)\n'}, {'number': 2, 'created': '2022-07-25 09:51:30.000000000', 'files': ['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/aa1c69a58667fd53ede2f9e08deaed61545c0b32', 'message': 'Fix update/delete listener CA/CRL error\n\nFixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.\n\nStory 2010081\nTask 45577\n\nChange-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296\n(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)\n(cherry picked from commit 74f2baf539359f5ded2bc01b28d570083bc0a797)\n'}]",2,850482,aa1c69a58667fd53ede2f9e08deaed61545c0b32,12,4,2,33196,,,0,"Fix update/delete listener CA/CRL error

Fixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.

Story 2010081
Task 45577

Change-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296
(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)
(cherry picked from commit 74f2baf539359f5ded2bc01b28d570083bc0a797)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/82/850482/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py']",3,9bb36ea2853afb8cd39af39a7383a44806ea34af,," listener_obj.client_ca_tls_certificate_id, for_delete=for_delete) listener_obj.client_crl_container_id, for_delete=for_delete) pool_obj.ca_tls_certificate_id, for_delete=for_delete) pool_obj.crl_container_id, for_delete=for_delete)", listener_obj.client_ca_tls_certificate_id) listener_obj.client_crl_container_id) pool_obj.ca_tls_certificate_id) pool_obj.crl_container_id),17,4
openstack%2Foctavia~stable%2Fwallaby~I1633c2cacf1c4dc5c0aa605635545fae8085e296,openstack/octavia,stable/wallaby,I1633c2cacf1c4dc5c0aa605635545fae8085e296,Fix update/delete listener CA/CRL error,MERGED,2022-07-20 13:23:00.000000000,2022-07-26 17:41:49.000000000,2022-07-26 17:40:31.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-20 13:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bccb16aeb07eafab854d5572c20a06ed2878fff2', 'message': 'Fix update/delete listener CA/CRL error\n\nFixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.\n\nStory 2010081\nTask 45577\n\nChange-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296\n(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)\n'}, {'number': 2, 'created': '2022-07-25 09:54:51.000000000', 'files': ['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1028bc242261aabf0b9dff1709bf80afc06c4a46', 'message': 'Fix update/delete listener CA/CRL error\n\nFixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.\n\nStory 2010081\nTask 45577\n\nChange-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296\n(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)\n(cherry picked from commit 74f2baf539359f5ded2bc01b28d570083bc0a797)\n(cherry picked from commit aa1c69a58667fd53ede2f9e08deaed61545c0b32)\n'}]",0,850483,1028bc242261aabf0b9dff1709bf80afc06c4a46,10,4,2,33196,,,0,"Fix update/delete listener CA/CRL error

Fixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.

Story 2010081
Task 45577

Change-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296
(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)
(cherry picked from commit 74f2baf539359f5ded2bc01b28d570083bc0a797)
(cherry picked from commit aa1c69a58667fd53ede2f9e08deaed61545c0b32)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/83/850483/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py']",3,bccb16aeb07eafab854d5572c20a06ed2878fff2,," listener_obj.client_ca_tls_certificate_id, for_delete=for_delete) listener_obj.client_crl_container_id, for_delete=for_delete) pool_obj.ca_tls_certificate_id, for_delete=for_delete) pool_obj.crl_container_id, for_delete=for_delete)", listener_obj.client_ca_tls_certificate_id) listener_obj.client_crl_container_id) pool_obj.ca_tls_certificate_id) pool_obj.crl_container_id),17,4
openstack%2Fopenstack-ansible~master~I247526ac20d72b0f82532e5a1081d09fb12ce34b,openstack/openstack-ansible,master,I247526ac20d72b0f82532e5a1081d09fb12ce34b,Remove centos-9-stream distro jobs,NEW,2022-07-26 15:04:32.000000000,2022-07-26 17:34:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-07-26 15:04:32.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d0f77f1693b258eb135bd3476998e6e7c34093b8', 'message': 'Remove centos-9-stream distro jobs\n\nWe do not support this option in the compatibility matrix so\nare just wasting CI resources testing it. Remove the job.\n\nChange-Id: I247526ac20d72b0f82532e5a1081d09fb12ce34b\n'}]",1,851041,d0f77f1693b258eb135bd3476998e6e7c34093b8,3,2,1,25023,,,0,"Remove centos-9-stream distro jobs

We do not support this option in the compatibility matrix so
are just wasting CI resources testing it. Remove the job.

Change-Id: I247526ac20d72b0f82532e5a1081d09fb12ce34b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/41/851041/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,d0f77f1693b258eb135bd3476998e6e7c34093b8,,, name: openstack-ansible-deploy-hosts_distro_lxc-centos-9-stream parent: openstack-ansible-deploy-aio nodeset: centos-9-stream - job: name: openstack-ansible-deploy-aio_distro_lxc-centos-9-stream parent: openstack-ansible-deploy-aio-distro nodeset: centos-9-stream - job: name: openstack-ansible-deploy-aio_distro_metal-centos-9-stream parent: openstack-ansible-deploy-aio-distro nodeset: centos-9-stream voting: false - job:,0,19
openstack%2Ftripleo-ci~master~I1c6c1eeef5d97c6ae09475f2e9dea106193bb1b2,openstack/tripleo-ci,master,I1c6c1eeef5d97c6ae09475f2e9dea106193bb1b2,Make tripleo-ci-centos-9-standalone-fips voting,NEW,2022-07-26 14:17:26.000000000,2022-07-26 17:34:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-26 14:17:26.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/af6a7446be7a5cc8852a22c8159f13029f62dd5a', 'message': 'Make tripleo-ci-centos-9-standalone-fips voting\n\nAccording with latest build results [1], the standalone-fips\njob is running with a good success rate and would be good to have\nit voting as well. After that, next steps would be to replace\nnon-fips standalone job by the fips enabled one.\n\nhttps: //zuul.opendev.org/t/openstack/builds?job_name=tripleo-ci-centos-9-standalone-fips&skip=0\nChange-Id: I1c6c1eeef5d97c6ae09475f2e9dea106193bb1b2\n'}]",0,851035,af6a7446be7a5cc8852a22c8159f13029f62dd5a,3,2,1,30002,,,0,"Make tripleo-ci-centos-9-standalone-fips voting

According with latest build results [1], the standalone-fips
job is running with a good success rate and would be good to have
it voting as well. After that, next steps would be to replace
non-fips standalone job by the fips enabled one.

https: //zuul.opendev.org/t/openstack/builds?job_name=tripleo-ci-centos-9-standalone-fips&skip=0
Change-Id: I1c6c1eeef5d97c6ae09475f2e9dea106193bb1b2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/35/851035/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,af6a7446be7a5cc8852a22c8159f13029f62dd5a,fips-compatibility, voting: true, voting: false,1,1
openstack%2Foctavia~stable%2Fvictoria~I1633c2cacf1c4dc5c0aa605635545fae8085e296,openstack/octavia,stable/victoria,I1633c2cacf1c4dc5c0aa605635545fae8085e296,Fix update/delete listener CA/CRL error,MERGED,2022-07-20 13:23:47.000000000,2022-07-26 17:29:33.000000000,2022-07-26 17:28:20.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-20 13:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/183b8a4d803ef3abdd73c86f56e4fabd28754681', 'message': 'Fix update/delete listener CA/CRL error\n\nFixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.\n\nStory 2010081\nTask 45577\n\nChange-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296\n(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)\n'}, {'number': 2, 'created': '2022-07-25 09:57:17.000000000', 'files': ['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/69909d976029ed8e3060d7d49e33a6ea1c1e855b', 'message': 'Fix update/delete listener CA/CRL error\n\nFixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.\n\nStory 2010081\nTask 45577\n\nChange-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296\n(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)\n(cherry picked from commit 74f2baf539359f5ded2bc01b28d570083bc0a797)\n(cherry picked from commit aa1c69a58667fd53ede2f9e08deaed61545c0b32)\n(cherry picked from commit 1028bc242261aabf0b9dff1709bf80afc06c4a46)\n'}]",1,850484,69909d976029ed8e3060d7d49e33a6ea1c1e855b,12,4,2,33196,,,0,"Fix update/delete listener CA/CRL error

Fixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.

Story 2010081
Task 45577

Change-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296
(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)
(cherry picked from commit 74f2baf539359f5ded2bc01b28d570083bc0a797)
(cherry picked from commit aa1c69a58667fd53ede2f9e08deaed61545c0b32)
(cherry picked from commit 1028bc242261aabf0b9dff1709bf80afc06c4a46)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/84/850484/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py']",3,183b8a4d803ef3abdd73c86f56e4fabd28754681,," listener_obj.client_ca_tls_certificate_id, for_delete=for_delete) listener_obj.client_crl_container_id, for_delete=for_delete) pool_obj.ca_tls_certificate_id, for_delete=for_delete) pool_obj.crl_container_id, for_delete=for_delete)", listener_obj.client_ca_tls_certificate_id) listener_obj.client_crl_container_id) pool_obj.ca_tls_certificate_id) pool_obj.crl_container_id),17,4
openstack%2Fkolla~master~I62a34256fb7395d0448af169ac3cf036f60cd290,openstack/kolla,master,I62a34256fb7395d0448af169ac3cf036f60cd290,Install etcd binary from github,MERGED,2022-06-23 15:54:44.000000000,2022-07-26 17:26:52.000000000,2022-07-26 17:25:49.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-23 15:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3d60ba91038a4d63d7d69323eaa48e1eb52100ca', 'message': 'Install etcd binary from github\n\nRemoves a dependency on RDO for install etcd in CentOS images.\n\nAligns version of etcd across all distributions, see below:\n\n```\n(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/ubuntu-source-etcd:yoga bash\n()[etcd@730a011b670a /]$ etcd --version\netcd Version: 3.2.26\nGit SHA: Not provided (use ./build instead of go build)\nGo Version: go1.13.7\nGo OS/Arch: linux/amd64\n```\n\n```\n(venv-kolla) [will@juno kolla]$ sudo docker run -it kolla/centos-source-etcd:yoga bash\n()[etcd@9aa486c9e94f /]$ etcd --version\netcd Version: 3.2.21\nGit SHA: 3ac81f3\nGo Version: go1.12.8\nGo OS/Arch: linux/amd64\n```\n\n```\n(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/debian-source-etcd:yoga bash\n()[etcd@b49cb5fcdf87 /]$ etcd --version\netcd Version: 3.3.25\nGit SHA: Not provided (use ./build instead of go build)\nGo Version: go1.15.9\nGo OS/Arch: linux/amd64\n```\n\nAllows us to run a more up to data version.\n\nChange-Id: I62a34256fb7395d0448af169ac3cf036f60cd290\n'}, {'number': 2, 'created': '2022-07-20 10:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/885cbf771a1f33031aff05435f50a92dbc235875', 'message': 'Install etcd binary from github\n\nRemoves a dependency on RDO for install etcd in CentOS images.\n\nAligns version of etcd across all distributions, see below:\n\n```\n(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/ubuntu-source-etcd:yoga bash\n()[etcd@730a011b670a /]$ etcd --version\netcd Version: 3.2.26\nGit SHA: Not provided (use ./build instead of go build)\nGo Version: go1.13.7\nGo OS/Arch: linux/amd64\n```\n\n```\n(venv-kolla) [will@juno kolla]$ sudo docker run -it kolla/centos-source-etcd:yoga bash\n()[etcd@9aa486c9e94f /]$ etcd --version\netcd Version: 3.2.21\nGit SHA: 3ac81f3\nGo Version: go1.12.8\nGo OS/Arch: linux/amd64\n```\n\n```\n(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/debian-source-etcd:yoga bash\n()[etcd@b49cb5fcdf87 /]$ etcd --version\netcd Version: 3.3.25\nGit SHA: Not provided (use ./build instead of go build)\nGo Version: go1.15.9\nGo OS/Arch: linux/amd64\n```\n\nThis will also allow us to update to a more recent version in the\nfuture. We have to be careful not to jump by more than one point release\nto ensure compatability:\n\nhttps://etcd.io/docs/v3.5/upgrades/upgrading-etcd/#upgrading-an-etcd-v3x-cluster\n\nChange-Id: I62a34256fb7395d0448af169ac3cf036f60cd290\n'}, {'number': 3, 'created': '2022-07-20 10:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b4af63434761bc8cccc738abd007e6aafcbff98e', 'message': 'Install etcd binary from github\n\nRemoves a dependency on RDO for install etcd in CentOS images.\n\nAligns version of etcd across all distributions, see below:\n\n```\n(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/ubuntu-source-etcd:yoga bash\n()[etcd@730a011b670a /]$ etcd --version\netcd Version: 3.2.26\nGit SHA: Not provided (use ./build instead of go build)\nGo Version: go1.13.7\nGo OS/Arch: linux/amd64\n```\n\n```\n(venv-kolla) [will@juno kolla]$ sudo docker run -it kolla/centos-source-etcd:yoga bash\n()[etcd@9aa486c9e94f /]$ etcd --version\netcd Version: 3.2.21\nGit SHA: 3ac81f3\nGo Version: go1.12.8\nGo OS/Arch: linux/amd64\n```\n\n```\n(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/debian-source-etcd:yoga bash\n()[etcd@b49cb5fcdf87 /]$ etcd --version\netcd Version: 3.3.25\nGit SHA: Not provided (use ./build instead of go build)\nGo Version: go1.15.9\nGo OS/Arch: linux/amd64\n```\n\nThis will also allow us to update to a more recent version in the\nfuture. We have to be careful not to jump by more than one point release\nto ensure compatability:\n\nhttps://etcd.io/docs/v3.5/upgrades/upgrading-etcd/#upgrading-an-etcd-v3x-cluster\n\nChange-Id: I62a34256fb7395d0448af169ac3cf036f60cd290\n'}, {'number': 4, 'created': '2022-07-20 11:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/818fbb6f480b6c1ebcc3639a947874bcf81bf73d', 'message': 'Install etcd binary from github\n\nRemoves a dependency on RDO for install etcd in CentOS images.\n\nAligns version of etcd across all distributions, see below:\n\n```\n(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/ubuntu-source-etcd:yoga bash\n()[etcd@730a011b670a /]$ etcd --version\netcd Version: 3.2.26\nGit SHA: Not provided (use ./build instead of go build)\nGo Version: go1.13.7\nGo OS/Arch: linux/amd64\n```\n\n```\n(venv-kolla) [will@juno kolla]$ sudo docker run -it kolla/centos-source-etcd:yoga bash\n()[etcd@9aa486c9e94f /]$ etcd --version\netcd Version: 3.2.21\nGit SHA: 3ac81f3\nGo Version: go1.12.8\nGo OS/Arch: linux/amd64\n```\n\n```\n(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/debian-source-etcd:yoga bash\n()[etcd@b49cb5fcdf87 /]$ etcd --version\netcd Version: 3.3.25\nGit SHA: Not provided (use ./build instead of go build)\nGo Version: go1.15.9\nGo OS/Arch: linux/amd64\n```\n\nThis will also allow us to update to a more recent version in the\nfuture. We have to be careful not to jump by more than one point release\nto ensure compatability:\n\nhttps://etcd.io/docs/v3.5/upgrades/upgrading-etcd/#upgrading-an-etcd-v3x-cluster\n\nChange-Id: I62a34256fb7395d0448af169ac3cf036f60cd290\n'}, {'number': 5, 'created': '2022-07-20 11:21:24.000000000', 'files': ['releasenotes/notes/etcd-binary-install-fc88930f4bf6ce2c.yaml', 'docker/etcd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/91d22dd40fab3b410709bb7cabcf0b0f830214bc', 'message': 'Install etcd binary from github\n\nRemoves a dependency on RDO for install etcd in CentOS images.\n\nAligns version of etcd across all distributions, see below:\n\n```\n(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/ubuntu-source-etcd:yoga bash\n()[etcd@730a011b670a /]$ etcd --version\netcd Version: 3.2.26\nGit SHA: Not provided (use ./build instead of go build)\nGo Version: go1.13.7\nGo OS/Arch: linux/amd64\n```\n\n```\n(venv-kolla) [will@juno kolla]$ sudo docker run -it kolla/centos-source-etcd:yoga bash\n()[etcd@9aa486c9e94f /]$ etcd --version\netcd Version: 3.2.21\nGit SHA: 3ac81f3\nGo Version: go1.12.8\nGo OS/Arch: linux/amd64\n```\n\n```\n(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/debian-source-etcd:yoga bash\n()[etcd@b49cb5fcdf87 /]$ etcd --version\netcd Version: 3.3.25\nGit SHA: Not provided (use ./build instead of go build)\nGo Version: go1.15.9\nGo OS/Arch: linux/amd64\n```\n\nThis will also allow us to update to a more recent version in the\nfuture. We have to be careful not to jump by more than one point release\nto ensure compatibility:\n\nhttps://etcd.io/docs/v3.5/upgrades/upgrading-etcd/#upgrading-an-etcd-v3x-cluster\n\nChange-Id: I62a34256fb7395d0448af169ac3cf036f60cd290\n'}]",25,847368,91d22dd40fab3b410709bb7cabcf0b0f830214bc,42,5,5,28048,,,0,"Install etcd binary from github

Removes a dependency on RDO for install etcd in CentOS images.

Aligns version of etcd across all distributions, see below:

```
(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/ubuntu-source-etcd:yoga bash
()[etcd@730a011b670a /]$ etcd --version
etcd Version: 3.2.26
Git SHA: Not provided (use ./build instead of go build)
Go Version: go1.13.7
Go OS/Arch: linux/amd64
```

```
(venv-kolla) [will@juno kolla]$ sudo docker run -it kolla/centos-source-etcd:yoga bash
()[etcd@9aa486c9e94f /]$ etcd --version
etcd Version: 3.2.21
Git SHA: 3ac81f3
Go Version: go1.12.8
Go OS/Arch: linux/amd64
```

```
(venv-kolla) [will@juno kolla]$ docker run --rm -it kolla/debian-source-etcd:yoga bash
()[etcd@b49cb5fcdf87 /]$ etcd --version
etcd Version: 3.3.25
Git SHA: Not provided (use ./build instead of go build)
Go Version: go1.15.9
Go OS/Arch: linux/amd64
```

This will also allow us to update to a more recent version in the
future. We have to be careful not to jump by more than one point release
to ensure compatibility:

https://etcd.io/docs/v3.5/upgrades/upgrading-etcd/#upgrading-an-etcd-v3x-cluster

Change-Id: I62a34256fb7395d0448af169ac3cf036f60cd290
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/847368/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/etcd-binary-install-fc88930f4bf6ce2c.yaml', 'docker/etcd/Dockerfile.j2']",2,3d60ba91038a4d63d7d69323eaa48e1eb52100ca,,"{% block etcd_repository_version %} # NOTE(wszumski): It is suggested to upgrade one minor version at a time: # https://github.com/etcd-io/website/blob/3e04053d1cb15b2ddc2904ba4121ca5aa73bea66/content/en/docs/v3.3/upgrades/upgrade_3_3.md#upgrade-requirements ARG etcd_version=v3.3.27 ARG etcd_url=https://github.com/etcd-io/etcd/releases/download/${etcd_version}/etcd-${etcd_version}-linux-{{debian_arch}}.tar.gz {% endblock %} RUN curl -L ${etcd_url} -o /tmp/etcd-${etcd_version}-linux-amd64.tar.gz \ && mkdir /tmp/etcd \ && tar xzvf /tmp/etcd-${etcd_version}-linux-amd64.tar.gz -C /tmp/etcd --strip-components=1 \ && rm -f /tmp/etcd-${etcd_version}-linux-amd64.tar.gz \ && cp /tmp/etcd/etcd{,ctl} /usr/bin \ && rm -rf /tmp/etcd","{% if base_package_type == 'rpm' %} {% set etcd_packages = ['etcd'] %} {% elif base_package_type == 'deb' %} {% set etcd_packages = ['etcd'] %} {% endif %} {{ macros.install_packages(etcd_packages | customizable(""packages"")) }}",17,6
openstack%2Ftenks~master~Ibf0ca87bc86152953650e7ef8384e5c839d7a8bc,openstack/tenks,master,Ibf0ca87bc86152953650e7ef8384e5c839d7a8bc,Add Ubuntu 22.04 Jammy support.,MERGED,2022-07-25 08:27:00.000000000,2022-07-26 17:24:47.000000000,2022-07-26 17:22:50.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-07-25 08:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/626a70f120625e9f60c49abdee1a38c04ceb2656', 'message': 'Add Ubuntu 22.04 Jammy support\n\nChange-Id: Ibf0ca87bc86152953650e7ef8384e5c839d7a8bc\n'}, {'number': 2, 'created': '2022-07-25 09:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/6576410776e93853cf9ef80428101e625edd1b1a', 'message': 'Add Ubuntu 22.04 Jammy support\n\nChange-Id: Ibf0ca87bc86152953650e7ef8384e5c839d7a8bc\n'}, {'number': 3, 'created': '2022-07-25 15:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/417f6ad9a623857424641d8cb54cb2aade346370', 'message': 'Add Ubuntu 22.04 Jammy support\n\nChange-Id: Ibf0ca87bc86152953650e7ef8384e5c839d7a8bc\n'}, {'number': 4, 'created': '2022-07-26 13:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/1ca30b3161352048e86395b802a7220a363facc2', 'message': 'Add Ubuntu 22.04 Jammy support\n\nChange-Id: Ibf0ca87bc86152953650e7ef8384e5c839d7a8bc\n'}, {'number': 5, 'created': '2022-07-26 14:57:20.000000000', 'files': ['doc/source/install.rst', 'zuul.d/project.yaml', 'ansible/roles/virtualbmc-daemon/vars/Debian.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/d92c731aa282b48fae1ffe4e47b3558b08c3e2cb', 'message': 'Add Ubuntu 22.04 Jammy support.\n\nCI and docs updated - openstack-tox-py310 and Jammy tenks jobs.\n\nlibzmq5 added as a dependency of vbmc/zmq\n\nChange-Id: Ibf0ca87bc86152953650e7ef8384e5c839d7a8bc\n'}]",2,850860,d92c731aa282b48fae1ffe4e47b3558b08c3e2cb,18,4,5,23084,,,0,"Add Ubuntu 22.04 Jammy support.

CI and docs updated - openstack-tox-py310 and Jammy tenks jobs.

libzmq5 added as a dependency of vbmc/zmq

Change-Id: Ibf0ca87bc86152953650e7ef8384e5c839d7a8bc
",git fetch https://review.opendev.org/openstack/tenks refs/changes/60/850860/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install.rst', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,626a70f120625e9f60c49abdee1a38c04ceb2656,, name: tenks-deploy-teardown-ovs-bios-ubuntu-focal name: tenks-deploy-teardown-ovs-bios-ubuntu-jammy parent: tenks-deploy-teardown-ovs-bios-base nodeset: ubuntu-jammy - job: name: tenks-deploy-teardown-linuxbridge-uefi-ubuntu-focal - job: name: tenks-deploy-teardown-linuxbridge-uefi-ubuntu-jammy parent: tenks-deploy-teardown-linuxbridge-uefi-base nodeset: ubuntu-jammy, name: tenks-deploy-teardown-ovs-bios-ubuntu name: tenks-deploy-teardown-linuxbridge-uefi-ubuntu,21,6
openstack%2Foctavia~stable%2Ftrain~I1633c2cacf1c4dc5c0aa605635545fae8085e296,openstack/octavia,stable/train,I1633c2cacf1c4dc5c0aa605635545fae8085e296,Fix update/delete listener CA/CRL error,MERGED,2022-07-20 13:38:56.000000000,2022-07-26 17:15:43.000000000,2022-07-26 17:14:26.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-20 13:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3498447517eeacc2cfde50a43cc68c381c03ff89', 'message': 'Fix update/delete listener CA/CRL error\n\nFixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.\n\nStory 2010081\nTask 45577\n\nChange-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296\n(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)\n'}, {'number': 2, 'created': '2022-07-25 13:17:19.000000000', 'files': ['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2bb8606e6fd31d3e70e8ed101d8b7617de8869c0', 'message': 'Fix update/delete listener CA/CRL error\n\nFixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.\n\nStory 2010081\nTask 45577\n\nChange-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296\n(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)\n(cherry picked from commit 74f2baf539359f5ded2bc01b28d570083bc0a797)\n(cherry picked from commit aa1c69a58667fd53ede2f9e08deaed61545c0b32)\n(cherry picked from commit 1028bc242261aabf0b9dff1709bf80afc06c4a46)\n(cherry picked from commit 69909d976029ed8e3060d7d49e33a6ea1c1e855b)\n(cherry picked from commit 14f131dbf2f8a72d5d1e7a1ece394a9b557e7c49)\n'}]",0,850485,2bb8606e6fd31d3e70e8ed101d8b7617de8869c0,10,4,2,33196,,,0,"Fix update/delete listener CA/CRL error

Fixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.

Story 2010081
Task 45577

Change-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296
(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)
(cherry picked from commit 74f2baf539359f5ded2bc01b28d570083bc0a797)
(cherry picked from commit aa1c69a58667fd53ede2f9e08deaed61545c0b32)
(cherry picked from commit 1028bc242261aabf0b9dff1709bf80afc06c4a46)
(cherry picked from commit 69909d976029ed8e3060d7d49e33a6ea1c1e855b)
(cherry picked from commit 14f131dbf2f8a72d5d1e7a1ece394a9b557e7c49)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/85/850485/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py']",3,3498447517eeacc2cfde50a43cc68c381c03ff89,," listener_obj.client_ca_tls_certificate_id, for_delete=for_delete) listener_obj.client_crl_container_id, for_delete=for_delete) pool_obj.ca_tls_certificate_id, for_delete=for_delete) pool_obj.crl_container_id, for_delete=for_delete)", listener_obj.client_ca_tls_certificate_id) listener_obj.client_crl_container_id) pool_obj.ca_tls_certificate_id) pool_obj.crl_container_id),17,4
openstack%2Foctavia~stable%2Fussuri~I1633c2cacf1c4dc5c0aa605635545fae8085e296,openstack/octavia,stable/ussuri,I1633c2cacf1c4dc5c0aa605635545fae8085e296,Fix update/delete listener CA/CRL error,MERGED,2022-07-20 13:32:46.000000000,2022-07-26 17:13:30.000000000,2022-07-26 17:12:15.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 33196}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-07-20 13:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/df2ee208ea03a54cc1c601d9b13ea2e679a969f8', 'message': 'Fix update/delete listener CA/CRL error\n\nFixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.\n\nStory 2010081\nTask 45577\n\nChange-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296\n(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)\n'}, {'number': 2, 'created': '2022-07-25 13:16:15.000000000', 'files': ['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/14f131dbf2f8a72d5d1e7a1ece394a9b557e7c49', 'message': 'Fix update/delete listener CA/CRL error\n\nFixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.\n\nConflicts:\n        octavia/tests/unit/api/drivers/test_utils.py\n\nStory 2010081\nTask 45577\n\nChange-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296\n(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)\n(cherry picked from commit 74f2baf539359f5ded2bc01b28d570083bc0a797)\n(cherry picked from commit aa1c69a58667fd53ede2f9e08deaed61545c0b32)\n(cherry picked from commit 1028bc242261aabf0b9dff1709bf80afc06c4a46)\n(cherry picked from commit 69909d976029ed8e3060d7d49e33a6ea1c1e855b)\n'}]",0,850522,14f131dbf2f8a72d5d1e7a1ece394a9b557e7c49,11,5,2,33196,,,0,"Fix update/delete listener CA/CRL error

Fixed ""Could not retrieve certificate"" error when updating/deleting the client_ca_tls_container_ref field of a listener after a CA/CRL was deleted.

Conflicts:
        octavia/tests/unit/api/drivers/test_utils.py

Story 2010081
Task 45577

Change-Id: I1633c2cacf1c4dc5c0aa605635545fae8085e296
(cherry picked from commit 9a5273d3ea91109c8f22671fd7215eb7b953b975)
(cherry picked from commit 74f2baf539359f5ded2bc01b28d570083bc0a797)
(cherry picked from commit aa1c69a58667fd53ede2f9e08deaed61545c0b32)
(cherry picked from commit 1028bc242261aabf0b9dff1709bf80afc06c4a46)
(cherry picked from commit 69909d976029ed8e3060d7d49e33a6ea1c1e855b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/22/850522/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-update-listener-ca-error-167464debc06cba2.yaml', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/api/drivers/utils.py']",3,df2ee208ea03a54cc1c601d9b13ea2e679a969f8,," listener_obj.client_ca_tls_certificate_id, for_delete=for_delete) listener_obj.client_crl_container_id, for_delete=for_delete) pool_obj.ca_tls_certificate_id, for_delete=for_delete) pool_obj.crl_container_id, for_delete=for_delete)", listener_obj.client_ca_tls_certificate_id) listener_obj.client_crl_container_id) pool_obj.ca_tls_certificate_id) pool_obj.crl_container_id),17,4
openstack%2Frequirements~master~Ie77f935a79d8681d133833e2ccbea6140c625cb2,openstack/requirements,master,Ie77f935a79d8681d133833e2ccbea6140c625cb2,Block os-vif 3.0.0,MERGED,2022-07-26 09:04:57.000000000,2022-07-26 17:05:23.000000000,2022-07-26 17:04:20.000000000,"[{'_account_id': 5948}, {'_account_id': 7166}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 09:04:57.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ce3bd6830a51382c8d53989ab174572b177a903d', 'message': 'Block os-vif 3.0.0\n\nThis release has a patch [1] that seems to introduce an issue\nwithout the needed Neutron logic.\n\n[1]https://github.com/openstack/os-vif/commit/75b290fb2a8f706583e0c12c5c5a4c0fc80e6481\n\nRelated-Bug: #1940425\nChange-Id: Ie77f935a79d8681d133833e2ccbea6140c625cb2\n'}]",3,851002,ce3bd6830a51382c8d53989ab174572b177a903d,12,7,1,16688,,,0,"Block os-vif 3.0.0

This release has a patch [1] that seems to introduce an issue
without the needed Neutron logic.

[1]https://github.com/openstack/os-vif/commit/75b290fb2a8f706583e0c12c5c5a4c0fc80e6481

Related-Bug: #1940425
Change-Id: Ie77f935a79d8681d133833e2ccbea6140c625cb2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/851002/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,ce3bd6830a51382c8d53989ab174572b177a903d,bug/1940425,os-vif===2.8.0,os-vif===3.0.0,2,2
openstack%2Fdevstack~stable%2Fyoga~Ic9030d01468b3189350f83b04a8d1d346c489d3c,openstack/devstack,stable/yoga,Ic9030d01468b3189350f83b04a8d1d346c489d3c,Reduce memory consumption in Cinder services,MERGED,2022-06-30 13:00:01.000000000,2022-07-26 16:14:33.000000000,2022-07-26 16:13:23.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-06-30 13:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/eb16f28ab2ee5ab8642bb404e1d0bcec75399f32', 'message': ""Reduce memory consumption in Cinder services\n\nThis patch reduces memory usage on the Cinder Volume and Backup services\nby tuning glibc.\n\nThe specific tuning consist on disabling the per thread arenas and\ndisabling dynamic thresholds.\n\nThe Cinder Backup service suffers from high water mark memory usage and\nuses excessive memory.  As an example just after 10 restore operations\nthe service uses almost 1GB of RAM and does not ever free it afterwards.\nWith this patch the memory consumption of the service is reduced down to\nalmost 130MB.  If we add a revert from Cinder (Change-Id\nI43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during\nmy tests.\n\nThis glibc tuning is not applied to all Python services because I\nhaven't done proper testings on them and at first glance they don't seem\nto have such great improvements.\n\nRelated-bug: #1908805\nChange-Id: Ic9030d01468b3189350f83b04a8d1d346c489d3c\n(cherry picked from commit d5af514ac9485009229f3b594bccc09e905782fb)\n""}, {'number': 2, 'created': '2022-07-01 07:09:50.000000000', 'files': ['lib/cinder', 'functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9507d43a28e7fe0b4eeb9efe97941c159684afaa', 'message': ""Reduce memory consumption in Cinder services\n\nThis patch reduces memory usage on the Cinder Volume and Backup services\nby tuning glibc.\n\nThe specific tuning consist on disabling the per thread arenas and\ndisabling dynamic thresholds.\n\nThe Cinder Backup service suffers from high water mark memory usage and\nuses excessive memory.  As an example just after 10 restore operations\nthe service uses almost 1GB of RAM and does not ever free it afterwards.\nWith this patch the memory consumption of the service is reduced down to\nalmost 130MB.  If we add a revert from Cinder (Change-Id\nI43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during\nmy tests.\n\nThis glibc tuning is not applied to all Python services because I\nhaven't done proper testings on them and at first glance they don't seem\nto have such great improvements.\n\nRelated-bug: #1908805\nChange-Id: Ic9030d01468b3189350f83b04a8d1d346c489d3c\n(cherry picked from commit d5af514ac9485009229f3b594bccc09e905782fb)\n""}]",6,848269,9507d43a28e7fe0b4eeb9efe97941c159684afaa,24,4,2,10459,,,0,"Reduce memory consumption in Cinder services

This patch reduces memory usage on the Cinder Volume and Backup services
by tuning glibc.

The specific tuning consist on disabling the per thread arenas and
disabling dynamic thresholds.

The Cinder Backup service suffers from high water mark memory usage and
uses excessive memory.  As an example just after 10 restore operations
the service uses almost 1GB of RAM and does not ever free it afterwards.
With this patch the memory consumption of the service is reduced down to
almost 130MB.  If we add a revert from Cinder (Change-Id
I43a20c8687f12bc52b014611cc6977c4c3ca212c) it goes down to 100MB during
my tests.

This glibc tuning is not applied to all Python services because I
haven't done proper testings on them and at first glance they don't seem
to have such great improvements.

Related-bug: #1908805
Change-Id: Ic9030d01468b3189350f83b04a8d1d346c489d3c
(cherry picked from commit d5af514ac9485009229f3b594bccc09e905782fb)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/69/848269/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/cinder', 'functions-common']",2,eb16f28ab2ee5ab8642bb404e1d0bcec75399f32,yoga-cinder-vsz," local env_vars=""$5"" if [[ -n ""$env_vars"" ]] ; then iniset -sudo $unitfile ""Service"" ""Environment"" ""$env_vars"" fi local env_vars=""$5"" if [[ -n ""$env_vars"" ]] ; then iniset -sudo $unitfile ""Service"" ""Environment"" ""$env_vars"" fi if [[ -z ""$user"" ]]; then user=$STACK_USER fi local env_vars=""$5"" write_uwsgi_user_unit_file $systemd_service ""$cmd"" ""$group"" ""$user"" ""$env_vars"" write_user_unit_file $systemd_service ""$cmd"" ""$group"" ""$user"" ""$env_vars""# run_process service ""command-line"" [group] [user] [env_vars] # env_vars must be a space separated list of variable assigments, ie: ""A=1 B=2"" local env_vars=""$5"" _run_under_systemd ""$name"" ""$command"" ""$group"" ""$user"" ""$env_vars"""," write_uwsgi_user_unit_file $systemd_service ""$cmd"" ""$group"" ""$user"" write_user_unit_file $systemd_service ""$cmd"" ""$group"" ""$user""# run_process service ""command-line"" [group] [user] _run_under_systemd ""$name"" ""$command"" ""$group"" ""$user""",25,6
openstack%2Ftripleo-quickstart-extras~master~Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e,openstack/tripleo-quickstart-extras,master,Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e,Adds toci playbooks and updates for new multinode mixed OS jobs,MERGED,2022-05-13 14:35:03.000000000,2022-07-26 16:11:55.000000000,2022-07-21 19:11:24.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-05-13 14:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/65bfb1f670ade393eb14c366a894da00917ab387', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 2, 'created': '2022-05-17 14:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/349b529222b2e8cb3aa13b7b3548f6b915fb871e', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 3, 'created': '2022-05-18 15:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3849513e4f39d2dc5b1e5515993c506889f6b77b', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 4, 'created': '2022-05-19 16:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/83617a4fad099293d731e8b8a61646aac48f8314', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 5, 'created': '2022-05-20 10:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e8e8665dfd410f33de184364a6840edbb54724fa', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 6, 'created': '2022-05-23 10:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5baa23cf223ae130fd31893088c698ec8926482a', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 7, 'created': '2022-05-24 08:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e2a1502321b52fef4b5eb7a7a05cedb3b6b54bd6', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 8, 'created': '2022-05-24 14:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/317e90c9e099a804dcf6329b5c528b1ce4bc17da', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 9, 'created': '2022-05-25 07:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/41275f89857e67c548481898c783a4fb559ba54e', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 10, 'created': '2022-05-25 13:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/36f75e622ec306c1df8eb5fc73e64ab66b78d5c6', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 11, 'created': '2022-05-25 15:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6bb8b671afb79351b6cea1d91e03645ba4de3659', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 12, 'created': '2022-06-06 09:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7102c1fa410a055d7e148d6b09a208e92a946ca5', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 13, 'created': '2022-06-07 10:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3e378e83ccb641860de9f72a145a1fe4026dab2e', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 14, 'created': '2022-06-09 11:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0b1d925868df77c4e2973b7a8cf22ac20b82a1ba', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 15, 'created': '2022-06-09 15:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/446dc7b4191f4dee8b7221aba12e93227df0ec43', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 16, 'created': '2022-06-10 09:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c6bf32e687b48cf4ea778c724448fea8e4e10969', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 17, 'created': '2022-06-14 08:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e44da4e32726da2b0d1ea03e6b682a6fcbc6bed5', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 18, 'created': '2022-06-16 08:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/be1c8c5c55e3fdcb22bfa7f6009fc439e9f0708a', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 19, 'created': '2022-06-17 11:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cef2b0bd2d200b3b42b68eee74827e8fd3cab321', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 20, 'created': '2022-06-20 09:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cc3096d8ce3c4fb3ddbdcc14a49c59940d1e8fe0', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 21, 'created': '2022-06-28 12:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f9bedeaf623628d8a40939ae4894f35c8cc156b8', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 22, 'created': '2022-06-29 10:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c1ad23c10bdf0904957eea1b95142d8d91e8d407', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 23, 'created': '2022-06-30 09:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2c38ab2d8fb49ce55ae855b29944ba3b1a4782b6', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 24, 'created': '2022-07-11 15:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/82af591d918d69cdd12dd7e13bc4e29a5ab1e81c', 'message': 'WIP add some new plays for mixed mode\n\nUsed by https://review.opendev.org/c/openstack/tripleo-ci/+/841583\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 25, 'created': '2022-07-12 11:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e456d07c46a67e12d7f1d437c974e3f6a22e15d8', 'message': 'Adds toci playbooks and updates for new multinode mixed OS jobs\n\nThis adds some new playbooks to be used by the new multinode mixed\nos job (See topic at [1] for related reviews). Also updates the\nextrs-common and undercloud-deploy roles to allow the mixed-os\njob to use the correct content provider.\n\n[1] https://review.opendev.org/q/topic:oooci_mixed_rhel\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 26, 'created': '2022-07-12 12:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e6027cc4cd626c485754cd802afa52ad8c18f2d0', 'message': 'Adds toci playbooks and updates for new multinode mixed OS jobs\n\nThis adds some new playbooks to be used by the new multinode mixed\nos job (See topic at [1] for related reviews). Also updates the\nextrs-common and undercloud-deploy roles to allow the mixed-os\njob to use the correct content provider.\n\n[1] https://review.opendev.org/q/topic:oooci_mixed_rhel\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 27, 'created': '2022-07-13 12:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cb98b8611e360f5856fadca86f91557628dee4fd', 'message': 'Adds toci playbooks and updates for new multinode mixed OS jobs\n\nThis adds some new playbooks to be used by the new multinode mixed\nos job (See topic at [1] for related reviews). Also updates the\nextras-common and undercloud-deploy roles to allow the mixed-os\njob to use the correct content provider.\n\n[1] https://review.opendev.org/q/topic:oooci_mixed_rhel\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 28, 'created': '2022-07-14 10:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a955f7b8b01c3ffc76db21420624543cb3083264', 'message': 'Adds toci playbooks and updates for new multinode mixed OS jobs\n\nThis adds some new playbooks to be used by the new multinode mixed\nos job (See topic at [1] for related reviews). Also updates the\nextras-common and undercloud-deploy roles to allow the mixed-os\njob to use the correct content provider.\n\n[1] https://review.opendev.org/q/topic:oooci_mixed_rhel\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 29, 'created': '2022-07-14 13:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ac545b5a7c72d0748e8d22c22969a3772d1b8456', 'message': 'Adds toci playbooks and updates for new multinode mixed OS jobs\n\nThis adds some new playbooks to be used by the new multinode mixed\nos job (See topic at [1] for related reviews). Also updates the\nextras-common and undercloud-deploy roles to allow the mixed-os\njob to use the correct content provider.\n\n[1] https://review.opendev.org/q/topic:oooci_mixed_rhel\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 30, 'created': '2022-07-15 15:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5844b417c7e7a2c9f224be76da0af76965e1be77', 'message': 'Adds toci playbooks and updates for new multinode mixed OS jobs\n\nThis adds some new playbooks to be used by the new multinode mixed\nos job (See topic at [1] for related reviews). Also updates the\nextras-common and undercloud-deploy roles to allow the mixed-os\njob to use the correct content provider.\n\n[1] https://review.opendev.org/q/topic:oooci_mixed_rhel\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 31, 'created': '2022-07-18 10:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ce12d99b1dc9f0b4c424df2c43b84dd0bcf554a8', 'message': 'Adds toci playbooks and updates for new multinode mixed OS jobs\n\nThis adds some new playbooks to be used by the new multinode mixed\nos job (See topic at [1] for related reviews). Also updates the\nextras-common and undercloud-deploy roles to allow the mixed-os\njob to use the correct content provider.\n\n[1] https://review.opendev.org/q/topic:oooci_mixed_rhel\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 32, 'created': '2022-07-19 01:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4d270f946ee65a39460cc9237fdb880156763e17', 'message': 'Adds toci playbooks and updates for new multinode mixed OS jobs\n\nThis adds some new playbooks to be used by the new multinode mixed\nos job (See topic at [1] for related reviews). Also updates the\nextras-common and undercloud-deploy roles to allow the mixed-os\njob to use the correct content provider.\n\n[1] https://review.opendev.org/q/topic:oooci_mixed_rhel\n\n# Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/847962\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 33, 'created': '2022-07-19 08:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/740c06b929253f0a64e4f4c0a46e9ba181a4ffbe', 'message': 'Adds toci playbooks and updates for new multinode mixed OS jobs\n\nThis adds some new playbooks to be used by the new multinode mixed\nos job (See topic at [1] for related reviews). Also updates the\nextras-common and undercloud-deploy roles to allow the mixed-os\njob to use the correct content provider.\n\n[1] https://review.opendev.org/q/topic:oooci_mixed_rhel\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}, {'number': 34, 'created': '2022-07-20 09:27:03.000000000', 'files': ['playbooks/multinode-overcloud-mixed-os-deploy-compute.yml', 'roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'playbooks/multinode-overcloud-mixed-os-repos-compute.yml', 'playbooks/tasks/tempest.yml', 'playbooks/multinode-undercloud-mixed-os.yml', 'roles/extras-common/defaults/main.yml', 'playbooks/multinode-overcloud-mixed-os-deploy-control.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/abc50905fabf478dfdbae63538f94018c4f18c74', 'message': 'Adds toci playbooks and updates for new multinode mixed OS jobs\n\nThis adds some new playbooks to be used by the new multinode mixed\nos job (See topic at [1] for related reviews). Also updates the\nextras-common and undercloud-deploy roles to allow the mixed-os\njob to use the correct content provider.\n\n[1] https://review.opendev.org/q/topic:oooci_mixed_rhel\n\nChange-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e\n'}]",51,841764,abc50905fabf478dfdbae63538f94018c4f18c74,198,6,34,8449,,,0,"Adds toci playbooks and updates for new multinode mixed OS jobs

This adds some new playbooks to be used by the new multinode mixed
os job (See topic at [1] for related reviews). Also updates the
extras-common and undercloud-deploy roles to allow the mixed-os
job to use the correct content provider.

[1] https://review.opendev.org/q/topic:oooci_mixed_rhel

Change-Id: Ie7a95056bfb0a90d2e6fb6e5ec9c8ed66f8ef31e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/64/841764/29 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-undercloud-mixed-rhel.yml', 'playbooks/multinode-undercloud-mixed-rhel-pre.yml']",2,65bfb1f670ade393eb14c366a894da00917ab387,oooci_mixed_rhel,"--- - name: Add the overcloud nodes to the generated inventory hosts: undercloud gather_facts: true tags: - overcloud-deploy vars: inventory: multinode_mixed_rhel roles: - tripleo-inventory - name: Create configs on subnodes hosts: overcloud_control roles: - role: repo-setup when: not mixed_upgrade|default(false)|bool tasks: - name: Create a clean hosts file on subnodes copy: dest: /etc/hosts content: | 127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 ::1 localhost localhost.localdomain localhost6 localhost6.localdomain6 become: true - name: Run atop on overcloud node if configured include_role: name: undercloud-setup tasks_from: atop tags: - undercloud-setup - name: Prepare the undercloud for installation hosts: undercloud roles: - undercloud-setup tags: - undercloud-setup - name: Install built packages on subnodes hosts: overcloud_control vars: ib_repo_host: undercloud roles: - role: repo-setup when: not mixed_upgrade|default(false)|bool - role: install-built-repo when: hostvars['undercloud']['compressed_gating_repo'] is defined and not mixed_upgrade|default(false)|bool tags: - build - name: Install the undercloud hosts: undercloud roles: - undercloud-deploy - name: Validate the undercloud hosts: undercloud roles: - validate-undercloud - name: Download amphora image for octavia hosts: undercloud gather_facts: false tags: - octavia roles: - {role: octavia-amphora-download, when: download_amphora is defined and download_amphora|bool} - name: Set Libvirt type hosts: overcloud roles: - set-libvirt-type tags: - overcloud-deploy ",,111,0
openstack%2Fmetalsmith~stable%2Fyoga~I9507f8d30c871ae62a250148789393695d59183a,openstack/metalsmith,stable/yoga,I9507f8d30c871ae62a250148789393695d59183a,Do a precise node lookup for unprovision,MERGED,2022-07-12 22:21:53.000000000,2022-07-26 15:26:28.000000000,2022-07-26 15:25:20.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-12 22:21:53.000000000', 'files': ['metalsmith/test/test_metalsmith_instances.py', 'metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/dedafe9e9107bac62f87484bf74a00964529855a', 'message': ""Do a precise node lookup for unprovision\n\nA hostname or name is passed to the unprovision call, and the node is\nlooked up by allocation name (hostname), falling back to node name.\n\nThis can result in the wrong node being unprovisioned in the following\nscenario:\n* node and hostname naming scheme are identical\n* node and hostname names are mixed because allocation placement\n  doesn't take the node name into account\n* a node has already been unprovisioned by hostname (allocation)\n  lookup\n* unprovision is performed a second time, this time matching the\n  hostname with a different node's name\n* the wrong node is unprovisioned\n\nThe unprovision_node method can also take a node object instead of a\nstring identifier, so this change does a precise node lookup before\ncalling it. This means only hostnames are used for allocation lookups,\nand node names for node lookups.\n\nChange-Id: I9507f8d30c871ae62a250148789393695d59183a\nResolves: rhbz#2092444\n(cherry picked from commit e8ad0c894ba70c2f5d3c103d387bc792e5e1ab9a)\n""}]",2,849584,dedafe9e9107bac62f87484bf74a00964529855a,10,2,1,4571,,,0,"Do a precise node lookup for unprovision

A hostname or name is passed to the unprovision call, and the node is
looked up by allocation name (hostname), falling back to node name.

This can result in the wrong node being unprovisioned in the following
scenario:
* node and hostname naming scheme are identical
* node and hostname names are mixed because allocation placement
  doesn't take the node name into account
* a node has already been unprovisioned by hostname (allocation)
  lookup
* unprovision is performed a second time, this time matching the
  hostname with a different node's name
* the wrong node is unprovisioned

The unprovision_node method can also take a node object instead of a
string identifier, so this change does a precise node lookup before
calling it. This means only hostnames are used for allocation lookups,
and node names for node lookups.

Change-Id: I9507f8d30c871ae62a250148789393695d59183a
Resolves: rhbz#2092444
(cherry picked from commit e8ad0c894ba70c2f5d3c103d387bc792e5e1ab9a)
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/84/849584/1 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/test/test_metalsmith_instances.py', 'metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py']",2,dedafe9e9107bac62f87484bf74a00964529855a,yoga/unprovision_lookup,"from openstack import exceptions as os_exc connection = provisioner.connection for instance in instances: hostname = instance.get('hostname') node = None if hostname: try: allocation = connection.baremetal.get_allocation(hostname) node = connection.baremetal.get_node(allocation.node_id) except os_exc.ResourceNotFound: # Allocation for this hostname doesn't exist, so attempt # to lookup by node name pass name = instance.get('name') if not node and name: try: node = connection.baremetal.get_node(name) except os_exc.ResourceNotFound: # Node with this name doesn't exist, so there is no # node to unprovision pass if node: provisioner.unprovision_node(node)"," for instance in instances: provisioner.unprovision_node(instance.get('hostname', instance.get('name')))",51,4
openstack%2Ftempest~master~I05e079237aec332925a88476e45071b34dc722c6,openstack/tempest,master,I05e079237aec332925a88476e45071b34dc722c6,Wait for floating IP assocation in test_minimum_basic test,MERGED,2022-07-12 16:05:44.000000000,2022-07-26 15:21:41.000000000,2022-07-25 23:37:22.000000000,"[{'_account_id': 6683}, {'_account_id': 8313}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 11075}, {'_account_id': 11604}, {'_account_id': 12393}, {'_account_id': 14345}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-07-12 16:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/39e60fd7ff54d430b9f68bb828adc43d10134438', 'message': ""Wait for floating IP assocation in scenario manager\n\nIn bug 1923194 Tempest wasn't giving Nova a change to update its\nnetwork info cache after attaching a floating IP, leading to failures\nwhen the floating IP association was asserted via the Nova API. The\nfix was to add a waiter before doing the assertion. We were not using\nthat waiter in the scenario floating IP association code, leading to\nbug 1980255. This patch starts doing that.\n\nChange-Id: I05e079237aec332925a88476e45071b34dc722c6\nCloses-bug: 1980255\n""}, {'number': 2, 'created': '2022-07-13 19:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/719242d27e72c3e5afd700eb75ab65b875d764e8', 'message': ""Wait for floating IP assocation in scenario manager\n\nIn bug 1923194 Tempest wasn't giving Nova a change to update its\nnetwork info cache after attaching a floating IP, leading to failures\nwhen the floating IP association was asserted via the Nova API. The\nfix was to add a waiter before doing the assertion. We were not using\nthat waiter in the scenario floating IP association code, leading to\nbug 1980255. This patch starts doing that.\n\nRelated-bug: 1980255\nChange-Id: I05e079237aec332925a88476e45071b34dc722c6\n""}, {'number': 3, 'created': '2022-07-25 08:46:02.000000000', 'files': ['tempest/scenario/test_minimum_basic.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3f7c50cc3eb51d40205f990adb9103cac6a19efa', 'message': ""Wait for floating IP assocation in test_minimum_basic test\n\nIn bug 1923194 Tempest wasn't giving Nova a change to update its\nnetwork info cache after attaching a floating IP, leading to failures\nwhen the floating IP association was asserted via the Nova API. The\nfix was to add a waiter before doing the assertion. We were not using\nthat waiter in the scenario floating IP association code, leading to\nbug 1980255. This patch starts doing that.\n\nRelated-bug: 1980255\nChange-Id: I05e079237aec332925a88476e45071b34dc722c6\n""}]",14,849562,3f7c50cc3eb51d40205f990adb9103cac6a19efa,25,11,3,8864,,,0,"Wait for floating IP assocation in test_minimum_basic test

In bug 1923194 Tempest wasn't giving Nova a change to update its
network info cache after attaching a floating IP, leading to failures
when the floating IP association was asserted via the Nova API. The
fix was to add a waiter before doing the assertion. We were not using
that waiter in the scenario floating IP association code, leading to
bug 1980255. This patch starts doing that.

Related-bug: 1980255
Change-Id: I05e079237aec332925a88476e45071b34dc722c6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/62/849562/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,39e60fd7ff54d430b9f68bb828adc43d10134438,tempest-floating-ip," waiters.wait_for_server_floating_ip(self.servers_client, server, floating_ip)",,2,0
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I0fd90c9329a2ec43823813542f263845562c45f2,openstack/ovn-octavia-provider,stable/wallaby,I0fd90c9329a2ec43823813542f263845562c45f2,Ensure members without subnet belong to VIP subnet or fail,MERGED,2022-07-22 07:28:14.000000000,2022-07-26 15:19:22.000000000,2022-07-26 15:18:11.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-07-22 07:28:14.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6cfeb279062ab9f46e64067c6cf5da8ec37299c4', 'message': 'Ensure members without subnet belong to VIP subnet or fail\n\nThis patch ensures the members without subnet are only accepted\nif the IP of the member belongs to the CIDR of the VIP subnet,\nas that is the subnet associated to the loadbalancer used to\nobtain the subnet for the members that do not have it.\n\nCloses-Bug: #1982111\n\nChange-Id: I0fd90c9329a2ec43823813542f263845562c45f2\n(cherry picked from commit 136b829579e83618b8497963153edff1de320e6b)\n'}]",0,850558,6cfeb279062ab9f46e64067c6cf5da8ec37299c4,9,4,1,23567,,,0,"Ensure members without subnet belong to VIP subnet or fail

This patch ensures the members without subnet are only accepted
if the IP of the member belongs to the CIDR of the VIP subnet,
as that is the subnet associated to the loadbalancer used to
obtain the subnet for the members that do not have it.

Closes-Bug: #1982111

Change-Id: I0fd90c9329a2ec43823813542f263845562c45f2
(cherry picked from commit 136b829579e83618b8497963153edff1de320e6b)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/58/850558/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",5,6cfeb279062ab9f46e64067c6cf5da8ec37299c4,batch_member_no_subnet-stable/wallaby," @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test__get_subnet_from_pool(self, net_cli): net_cli.return_value.show_subnet.return_value = { 'subnet': {'cidr': '10.22.33.0/24'}} self.assertEqual((None, None), found) self.assertEqual(found, (lb.vip_subnet_id, '10.22.33.0/24')) self.assertEqual((None, None), found) self.assertEqual((None, None), found)"," def test__get_subnet_from_pool(self): self.assertIsNone(found) self.assertEqual(found, lb.vip_subnet_id) self.assertIsNone(found) self.assertIsNone(found)",96,25
openstack%2Fovn-octavia-provider~stable%2Fxena~I0fd90c9329a2ec43823813542f263845562c45f2,openstack/ovn-octavia-provider,stable/xena,I0fd90c9329a2ec43823813542f263845562c45f2,Ensure members without subnet belong to VIP subnet or fail,MERGED,2022-07-22 07:27:56.000000000,2022-07-26 14:57:01.000000000,2022-07-26 14:55:41.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-07-22 07:27:56.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f8de811c1706d88d4d2115b2376739049dd02f3e', 'message': 'Ensure members without subnet belong to VIP subnet or fail\n\nThis patch ensures the members without subnet are only accepted\nif the IP of the member belongs to the CIDR of the VIP subnet,\nas that is the subnet associated to the loadbalancer used to\nobtain the subnet for the members that do not have it.\n\nCloses-Bug: #1982111\n\nChange-Id: I0fd90c9329a2ec43823813542f263845562c45f2\n(cherry picked from commit 136b829579e83618b8497963153edff1de320e6b)\n'}]",0,850557,f8de811c1706d88d4d2115b2376739049dd02f3e,9,4,1,23567,,,0,"Ensure members without subnet belong to VIP subnet or fail

This patch ensures the members without subnet are only accepted
if the IP of the member belongs to the CIDR of the VIP subnet,
as that is the subnet associated to the loadbalancer used to
obtain the subnet for the members that do not have it.

Closes-Bug: #1982111

Change-Id: I0fd90c9329a2ec43823813542f263845562c45f2
(cherry picked from commit 136b829579e83618b8497963153edff1de320e6b)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/57/850557/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",5,f8de811c1706d88d4d2115b2376739049dd02f3e,batch_member_no_subnet-stable/xena," @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test__get_subnet_from_pool(self, net_cli): net_cli.return_value.show_subnet.return_value = { 'subnet': {'cidr': '10.22.33.0/24'}} self.assertEqual((None, None), found) self.assertEqual(found, (lb.vip_subnet_id, '10.22.33.0/24')) self.assertEqual((None, None), found) self.assertEqual((None, None), found)"," def test__get_subnet_from_pool(self): self.assertIsNone(found) self.assertEqual(found, lb.vip_subnet_id) self.assertIsNone(found) self.assertIsNone(found)",96,25
